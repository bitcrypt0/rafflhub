var hE=Object.defineProperty;var mE=(t,e,r)=>e in t?hE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var _u=(t,e,r)=>mE(t,typeof e!="symbol"?e+"":e,r);function pE(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(n,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();var gE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ga(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vE(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Qh={exports:{}},Ml={},Jh={exports:{}},ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function yE(){if(Mv)return ht;Mv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function k(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,N={};function A(T,b,B){this.props=T,this.context=b,this.refs=N,this.updater=B||g}A.prototype.isReactComponent={},A.prototype.setState=function(T,b){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,b,"setState")},A.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function P(){}P.prototype=A.prototype;function z(T,b,B){this.props=T,this.context=b,this.refs=N,this.updater=B||g}var L=z.prototype=new P;L.constructor=z,S(L,A.prototype),L.isPureReactComponent=!0;var $=Array.isArray,U=Object.prototype.hasOwnProperty,W={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function J(T,b,B){var te,M={},K=null,q=null;if(b!=null)for(te in b.ref!==void 0&&(q=b.ref),b.key!==void 0&&(K=""+b.key),b)U.call(b,te)&&!V.hasOwnProperty(te)&&(M[te]=b[te]);var Y=arguments.length-2;if(Y===1)M.children=B;else if(1<Y){for(var ie=Array(Y),ue=0;ue<Y;ue++)ie[ue]=arguments[ue+2];M.children=ie}if(T&&T.defaultProps)for(te in Y=T.defaultProps,Y)M[te]===void 0&&(M[te]=Y[te]);return{$$typeof:t,type:T,key:K,ref:q,props:M,_owner:W.current}}function re(T,b){return{$$typeof:t,type:T.type,key:b,ref:T.ref,props:T.props,_owner:T._owner}}function Q(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function X(T){var b={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(B){return b[B]})}var H=/\/+/g;function I(T,b){return typeof T=="object"&&T!==null&&T.key!=null?X(""+T.key):b.toString(36)}function v(T,b,B,te,M){var K=typeof T;(K==="undefined"||K==="boolean")&&(T=null);var q=!1;if(T===null)q=!0;else switch(K){case"string":case"number":q=!0;break;case"object":switch(T.$$typeof){case t:case e:q=!0}}if(q)return q=T,M=M(q),T=te===""?"."+I(q,0):te,$(M)?(B="",T!=null&&(B=T.replace(H,"$&/")+"/"),v(M,b,B,"",function(ue){return ue})):M!=null&&(Q(M)&&(M=re(M,B+(!M.key||q&&q.key===M.key?"":(""+M.key).replace(H,"$&/")+"/")+T)),b.push(M)),1;if(q=0,te=te===""?".":te+":",$(T))for(var Y=0;Y<T.length;Y++){K=T[Y];var ie=te+I(K,Y);q+=v(K,b,B,ie,M)}else if(ie=k(T),typeof ie=="function")for(T=ie.call(T),Y=0;!(K=T.next()).done;)K=K.value,ie=te+I(K,Y++),q+=v(K,b,B,ie,M);else if(K==="object")throw b=String(T),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return q}function C(T,b,B){if(T==null)return T;var te=[],M=0;return v(T,te,"","",function(K){return b.call(B,K,M++)}),te}function R(T){if(T._status===-1){var b=T._result;b=b(),b.then(function(B){(T._status===0||T._status===-1)&&(T._status=1,T._result=B)},function(B){(T._status===0||T._status===-1)&&(T._status=2,T._result=B)}),T._status===-1&&(T._status=0,T._result=b)}if(T._status===1)return T._result.default;throw T._result}var _={current:null},j={transition:null},D={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:j,ReactCurrentOwner:W};function O(){throw Error("act(...) is not supported in production builds of React.")}return ht.Children={map:C,forEach:function(T,b,B){C(T,function(){b.apply(this,arguments)},B)},count:function(T){var b=0;return C(T,function(){b++}),b},toArray:function(T){return C(T,function(b){return b})||[]},only:function(T){if(!Q(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},ht.Component=A,ht.Fragment=r,ht.Profiler=i,ht.PureComponent=z,ht.StrictMode=n,ht.Suspense=f,ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,ht.act=O,ht.cloneElement=function(T,b,B){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var te=S({},T.props),M=T.key,K=T.ref,q=T._owner;if(b!=null){if(b.ref!==void 0&&(K=b.ref,q=W.current),b.key!==void 0&&(M=""+b.key),T.type&&T.type.defaultProps)var Y=T.type.defaultProps;for(ie in b)U.call(b,ie)&&!V.hasOwnProperty(ie)&&(te[ie]=b[ie]===void 0&&Y!==void 0?Y[ie]:b[ie])}var ie=arguments.length-2;if(ie===1)te.children=B;else if(1<ie){Y=Array(ie);for(var ue=0;ue<ie;ue++)Y[ue]=arguments[ue+2];te.children=Y}return{$$typeof:t,type:T.type,key:M,ref:K,props:te,_owner:q}},ht.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:l,_context:T},T.Consumer=T},ht.createElement=J,ht.createFactory=function(T){var b=J.bind(null,T);return b.type=T,b},ht.createRef=function(){return{current:null}},ht.forwardRef=function(T){return{$$typeof:u,render:T}},ht.isValidElement=Q,ht.lazy=function(T){return{$$typeof:p,_payload:{_status:-1,_result:T},_init:R}},ht.memo=function(T,b){return{$$typeof:h,type:T,compare:b===void 0?null:b}},ht.startTransition=function(T){var b=j.transition;j.transition={};try{T()}finally{j.transition=b}},ht.unstable_act=O,ht.useCallback=function(T,b){return _.current.useCallback(T,b)},ht.useContext=function(T){return _.current.useContext(T)},ht.useDebugValue=function(){},ht.useDeferredValue=function(T){return _.current.useDeferredValue(T)},ht.useEffect=function(T,b){return _.current.useEffect(T,b)},ht.useId=function(){return _.current.useId()},ht.useImperativeHandle=function(T,b,B){return _.current.useImperativeHandle(T,b,B)},ht.useInsertionEffect=function(T,b){return _.current.useInsertionEffect(T,b)},ht.useLayoutEffect=function(T,b){return _.current.useLayoutEffect(T,b)},ht.useMemo=function(T,b){return _.current.useMemo(T,b)},ht.useReducer=function(T,b,B){return _.current.useReducer(T,b,B)},ht.useRef=function(T){return _.current.useRef(T)},ht.useState=function(T){return _.current.useState(T)},ht.useSyncExternalStore=function(T,b,B){return _.current.useSyncExternalStore(T,b,B)},ht.useTransition=function(){return _.current.useTransition()},ht.version="18.3.1",ht}var _v;function xp(){return _v||(_v=1,Jh.exports=yE()),Jh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function xE(){if(Iv)return Ml;Iv=1;var t=xp(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,h){var p,y={},k=null,g=null;h!==void 0&&(k=""+h),f.key!==void 0&&(k=""+f.key),f.ref!==void 0&&(g=f.ref);for(p in f)n.call(f,p)&&!l.hasOwnProperty(p)&&(y[p]=f[p]);if(u&&u.defaultProps)for(p in f=u.defaultProps,f)y[p]===void 0&&(y[p]=f[p]);return{$$typeof:e,type:u,key:k,ref:g,props:y,_owner:i.current}}return Ml.Fragment=r,Ml.jsx=c,Ml.jsxs=c,Ml}var Dv;function bE(){return Dv||(Dv=1,Qh.exports=xE()),Qh.exports}var a=bE(),w=xp();const be=Ga(w),bp=pE({__proto__:null,default:be},[w]);var Iu={},Xh={exports:{}},hn={},Zh={exports:{}},em={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function wE(){return zv||(zv=1,function(t){function e(j,D){var O=j.length;j.push(D);e:for(;0<O;){var T=O-1>>>1,b=j[T];if(0<i(b,D))j[T]=D,j[O]=b,O=T;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var D=j[0],O=j.pop();if(O!==D){j[0]=O;e:for(var T=0,b=j.length,B=b>>>1;T<B;){var te=2*(T+1)-1,M=j[te],K=te+1,q=j[K];if(0>i(M,O))K<b&&0>i(q,M)?(j[T]=q,j[K]=O,T=K):(j[T]=M,j[te]=O,T=te);else if(K<b&&0>i(q,O))j[T]=q,j[K]=O,T=K;else break e}}return D}function i(j,D){var O=j.sortIndex-D.sortIndex;return O!==0?O:j.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var f=[],h=[],p=1,y=null,k=3,g=!1,S=!1,N=!1,A=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(j){for(var D=r(h);D!==null;){if(D.callback===null)n(h);else if(D.startTime<=j)n(h),D.sortIndex=D.expirationTime,e(f,D);else break;D=r(h)}}function $(j){if(N=!1,L(j),!S)if(r(f)!==null)S=!0,R(U);else{var D=r(h);D!==null&&_($,D.startTime-j)}}function U(j,D){S=!1,N&&(N=!1,P(J),J=-1),g=!0;var O=k;try{for(L(D),y=r(f);y!==null&&(!(y.expirationTime>D)||j&&!X());){var T=y.callback;if(typeof T=="function"){y.callback=null,k=y.priorityLevel;var b=T(y.expirationTime<=D);D=t.unstable_now(),typeof b=="function"?y.callback=b:y===r(f)&&n(f),L(D)}else n(f);y=r(f)}if(y!==null)var B=!0;else{var te=r(h);te!==null&&_($,te.startTime-D),B=!1}return B}finally{y=null,k=O,g=!1}}var W=!1,V=null,J=-1,re=5,Q=-1;function X(){return!(t.unstable_now()-Q<re)}function H(){if(V!==null){var j=t.unstable_now();Q=j;var D=!0;try{D=V(!0,j)}finally{D?I():(W=!1,V=null)}}else W=!1}var I;if(typeof z=="function")I=function(){z(H)};else if(typeof MessageChannel<"u"){var v=new MessageChannel,C=v.port2;v.port1.onmessage=H,I=function(){C.postMessage(null)}}else I=function(){A(H,0)};function R(j){V=j,W||(W=!0,I())}function _(j,D){J=A(function(){j(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){S||g||(S=!0,R(U))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function(j){switch(k){case 1:case 2:case 3:var D=3;break;default:D=k}var O=k;k=D;try{return j()}finally{k=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,D){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var O=k;k=j;try{return D()}finally{k=O}},t.unstable_scheduleCallback=function(j,D,O){var T=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?T+O:T):O=T,j){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=O+b,j={id:p++,callback:D,priorityLevel:j,startTime:O,expirationTime:b,sortIndex:-1},O>T?(j.sortIndex=O,e(h,j),r(f)===null&&j===r(h)&&(N?(P(J),J=-1):N=!0,_($,O-T))):(j.sortIndex=b,e(f,j),S||g||(S=!0,R(U))),j},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(j){var D=k;return function(){var O=k;k=D;try{return j.apply(this,arguments)}finally{k=O}}}}(em)),em}var Ov;function kE(){return Ov||(Ov=1,Zh.exports=wE()),Zh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function NE(){if(Lv)return hn;Lv=1;var t=xp(),e=kE();function r(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function l(s,o){c(s,o),c(s+"Capture",o)}function c(s,o){for(i[s]=o,s=0;s<o.length;s++)n.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},y={};function k(s){return f.call(y,s)?!0:f.call(p,s)?!1:h.test(s)?y[s]=!0:(p[s]=!0,!1)}function g(s,o,d,m){if(d!==null&&d.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,o,d,m){if(o===null||typeof o>"u"||g(s,o,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function N(s,o,d,m,x,E,F){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=s,this.type=o,this.sanitizeURL=E,this.removeEmptyString=F}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){A[s]=new N(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];A[o]=new N(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){A[s]=new N(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){A[s]=new N(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){A[s]=new N(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){A[s]=new N(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){A[s]=new N(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){A[s]=new N(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){A[s]=new N(s,5,!1,s.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function z(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(P,z);A[o]=new N(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(P,z);A[o]=new N(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(P,z);A[o]=new N(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){A[s]=new N(s,1,!1,s.toLowerCase(),null,!1,!1)}),A.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){A[s]=new N(s,1,!1,s.toLowerCase(),null,!0,!0)});function L(s,o,d,m){var x=A.hasOwnProperty(o)?A[o]:null;(x!==null?x.type!==0:m||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,d,x,m)&&(d=null),m||x===null?k(o)&&(d===null?s.removeAttribute(o):s.setAttribute(o,""+d)):x.mustUseProperty?s[x.propertyName]=d===null?x.type===3?!1:"":d:(o=x.attributeName,m=x.attributeNamespace,d===null?s.removeAttribute(o):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,m?s.setAttributeNS(m,o,d):s.setAttribute(o,d))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),W=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),X=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),j=Symbol.iterator;function D(s){return s===null||typeof s!="object"?null:(s=j&&s[j]||s["@@iterator"],typeof s=="function"?s:null)}var O=Object.assign,T;function b(s){if(T===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);T=o&&o[1]||""}return`
`+T+s}var B=!1;function te(s,o){if(!s||B)return"";B=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(ae){var m=ae}Reflect.construct(s,[],o)}else{try{o.call()}catch(ae){m=ae}s.call(o.prototype)}else{try{throw Error()}catch(ae){m=ae}s()}}catch(ae){if(ae&&m&&typeof ae.stack=="string"){for(var x=ae.stack.split(`
`),E=m.stack.split(`
`),F=x.length-1,G=E.length-1;1<=F&&0<=G&&x[F]!==E[G];)G--;for(;1<=F&&0<=G;F--,G--)if(x[F]!==E[G]){if(F!==1||G!==1)do if(F--,G--,0>G||x[F]!==E[G]){var Z=`
`+x[F].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=F&&0<=G);break}}}finally{B=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?b(s):""}function M(s){switch(s.tag){case 5:return b(s.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return s=te(s.type,!1),s;case 11:return s=te(s.type.render,!1),s;case 1:return s=te(s.type,!0),s;default:return""}}function K(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case V:return"Fragment";case W:return"Portal";case re:return"Profiler";case J:return"StrictMode";case I:return"Suspense";case v:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case X:return(s.displayName||"Context")+".Consumer";case Q:return(s._context.displayName||"Context")+".Provider";case H:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case C:return o=s.displayName||null,o!==null?o:K(s.type)||"Memo";case R:o=s._payload,s=s._init;try{return K(s(o))}catch{}}return null}function q(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K(o);case 8:return o===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Y(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ie(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ue(s){var o=ie(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),m=""+s[o];if(!s.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,E=d.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return x.call(this)},set:function(F){m=""+F,E.call(this,F)}}),Object.defineProperty(s,o,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(F){m=""+F},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function le(s){s._valueTracker||(s._valueTracker=ue(s))}function de(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var d=o.getValue(),m="";return s&&(m=ie(s)?s.checked?"true":"false":s.value),s=m,s!==d?(o.setValue(s),!0):!1}function je(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function pe(s,o){var d=o.checked;return O({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function Ae(s,o){var d=o.defaultValue==null?"":o.defaultValue,m=o.checked!=null?o.checked:o.defaultChecked;d=Y(o.value!=null?o.value:d),s._wrapperState={initialChecked:m,initialValue:d,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function rt(s,o){o=o.checked,o!=null&&L(s,"checked",o,!1)}function Le(s,o){rt(s,o);var d=Y(o.value),m=o.type;if(d!=null)m==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?kt(s,o.type,d):o.hasOwnProperty("defaultValue")&&kt(s,o.type,Y(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Ge(s,o,d){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var m=o.type;if(!(m!=="submit"&&m!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,d||o===s.value||(s.value=o),s.defaultValue=o}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function kt(s,o,d){(o!=="number"||je(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var Ke=Array.isArray;function ke(s,o,d,m){if(s=s.options,o){o={};for(var x=0;x<d.length;x++)o["$"+d[x]]=!0;for(d=0;d<s.length;d++)x=o.hasOwnProperty("$"+s[d].value),s[d].selected!==x&&(s[d].selected=x),x&&m&&(s[d].defaultSelected=!0)}else{for(d=""+Y(d),o=null,x=0;x<s.length;x++){if(s[x].value===d){s[x].selected=!0,m&&(s[x].defaultSelected=!0);return}o!==null||s[x].disabled||(o=s[x])}o!==null&&(o.selected=!0)}}function Se(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return O({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function xe(s,o){var d=o.value;if(d==null){if(d=o.children,o=o.defaultValue,d!=null){if(o!=null)throw Error(r(92));if(Ke(d)){if(1<d.length)throw Error(r(93));d=d[0]}o=d}o==null&&(o=""),d=o}s._wrapperState={initialValue:Y(d)}}function Ve(s,o){var d=Y(o.value),m=Y(o.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),o.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),m!=null&&(s.defaultValue=""+m)}function Dt(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Ue(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function He(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Ue(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var xr,xt=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,d,m,x){MSApp.execUnsafeLocalFunction(function(){return s(o,d,m,x)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(xr=xr||document.createElement("div"),xr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=xr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function nt(s,o){if(o){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=o;return}}s.textContent=o}var ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bt=["Webkit","ms","Moz","O"];Object.keys(ar).forEach(function(s){bt.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),ar[o]=ar[s]})});function Xe(s,o,d){return o==null||typeof o=="boolean"||o===""?"":d||typeof o!="number"||o===0||ar.hasOwnProperty(s)&&ar[s]?(""+o).trim():o+"px"}function tr(s,o){s=s.style;for(var d in o)if(o.hasOwnProperty(d)){var m=d.indexOf("--")===0,x=Xe(d,o[d],m);d==="float"&&(d="cssFloat"),m?s.setProperty(d,x):s[d]=x}}var Nt=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ut(s,o){if(o){if(Nt[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function Kr(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pt=null;function gt(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Rr=null,dt=null,at=null;function ur(s){if(s=vl(s)){if(typeof Rr!="function")throw Error(r(280));var o=s.stateNode;o&&(o=Kc(o),Rr(s.stateNode,s.type,o))}}function Pt(s){dt?at?at.push(s):at=[s]:dt=s}function Ce(){if(dt){var s=dt,o=at;if(at=dt=null,ur(s),o)for(s=0;s<o.length;s++)ur(o[s])}}function st(s,o){return s(o)}function Fe(){}var et=!1;function Jt(s,o,d){if(et)return s(o,d);et=!0;try{return st(s,o,d)}finally{et=!1,(dt!==null||at!==null)&&(Fe(),Ce())}}function tt(s,o){var d=s.stateNode;if(d===null)return null;var m=Kc(d);if(m===null)return null;d=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,o,typeof d));return d}var lt=!1;if(u)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){lt=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch{lt=!1}function ft(s,o,d,m,x,E,F,G,Z){var ae=Array.prototype.slice.call(arguments,3);try{o.apply(d,ae)}catch(me){this.onError(me)}}var Et=!1,sn=null,At=!1,_t=null,bn={onError:function(s){Et=!0,sn=s}};function zt(s,o,d,m,x,E,F,G,Z){Et=!1,sn=null,ft.apply(bn,arguments)}function jt(s,o,d,m,x,E,F,G,Z){if(zt.apply(this,arguments),Et){if(Et){var ae=sn;Et=!1,sn=null}else throw Error(r(198));At||(At=!0,_t=ae)}}function Fr(s){var o=s,d=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(d=o.return),s=o.return;while(s)}return o.tag===3?d:null}function Ot(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function St(s){if(Fr(s)!==s)throw Error(r(188))}function Yr(s){var o=s.alternate;if(!o){if(o=Fr(s),o===null)throw Error(r(188));return o!==s?null:s}for(var d=s,m=o;;){var x=d.return;if(x===null)break;var E=x.alternate;if(E===null){if(m=x.return,m!==null){d=m;continue}break}if(x.child===E.child){for(E=x.child;E;){if(E===d)return St(x),s;if(E===m)return St(x),o;E=E.sibling}throw Error(r(188))}if(d.return!==m.return)d=x,m=E;else{for(var F=!1,G=x.child;G;){if(G===d){F=!0,d=x,m=E;break}if(G===m){F=!0,m=x,d=E;break}G=G.sibling}if(!F){for(G=E.child;G;){if(G===d){F=!0,d=E,m=x;break}if(G===m){F=!0,m=E,d=x;break}G=G.sibling}if(!F)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:o}function Mr(s){return s=Yr(s),s!==null?Qr(s):null}function Qr(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Qr(s);if(o!==null)return o;s=s.sibling}return null}var wn=e.unstable_scheduleCallback,kn=e.unstable_cancelCallback,Ji=e.unstable_shouldYield,Xi=e.unstable_requestPaint,Ut=e.unstable_now,Ls=e.unstable_getCurrentPriorityLevel,vs=e.unstable_ImmediatePriority,Fs=e.unstable_UserBlockingPriority,Jn=e.unstable_NormalPriority,hi=e.unstable_LowPriority,ve=e.unstable_IdlePriority,Ee=null,Ne=null;function $t(s){if(Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(Ee,s,void 0,(s.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:Bs,Er=Math.log,on=Math.LN2;function Bs(s){return s>>>=0,s===0?32:31-(Er(s)/on|0)|0}var ys=64,mi=4194304;function Zi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ko(s,o){var d=s.pendingLanes;if(d===0)return 0;var m=0,x=s.suspendedLanes,E=s.pingedLanes,F=d&268435455;if(F!==0){var G=F&~x;G!==0?m=Zi(G):(E&=F,E!==0&&(m=Zi(E)))}else F=d&~x,F!==0?m=Zi(F):E!==0&&(m=Zi(E));if(m===0)return 0;if(o!==0&&o!==m&&(o&x)===0&&(x=m&-m,E=o&-o,x>=E||x===16&&(E&4194240)!==0))return o;if((m&4)!==0&&(m|=d&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=m;0<o;)d=31-vt(o),x=1<<d,m|=s[d],o&=~x;return m}function Yo(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bf(s,o){for(var d=s.suspendedLanes,m=s.pingedLanes,x=s.expirationTimes,E=s.pendingLanes;0<E;){var F=31-vt(E),G=1<<F,Z=x[F];Z===-1?((G&d)===0||(G&m)!==0)&&(x[F]=Yo(G,o)):Z<=o&&(s.expiredLanes|=G),E&=~G}}function Qo(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Rc(){var s=ys;return ys<<=1,(ys&4194240)===0&&(ys=64),s}function tl(s){for(var o=[],d=0;31>d;d++)o.push(s);return o}function pi(s,o,d){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-vt(o),s[o]=d}function wf(s,o){var d=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<d;){var x=31-vt(d),E=1<<x;o[x]=0,m[x]=-1,s[x]=-1,d&=~E}}function rl(s,o){var d=s.entangledLanes|=o;for(s=s.entanglements;d;){var m=31-vt(d),x=1<<m;x&o|s[m]&o&&(s[m]|=o),d&=~x}}var It=0;function Mc(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var _c,Jo,eo,to,ro,Xo=!1,no=[],Xn=null,Zn=null,an=null,On=new Map,Zo=new Map,gi=[],Dk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pg(s,o){switch(s){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":On.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(o.pointerId)}}function nl(s,o,d,m,x,E){return s===null||s.nativeEvent!==E?(s={blockedOn:o,domEventName:d,eventSystemFlags:m,nativeEvent:E,targetContainers:[x]},o!==null&&(o=vl(o),o!==null&&Jo(o)),s):(s.eventSystemFlags|=m,o=s.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),s)}function zk(s,o,d,m,x){switch(o){case"focusin":return Xn=nl(Xn,s,o,d,m,x),!0;case"dragenter":return Zn=nl(Zn,s,o,d,m,x),!0;case"mouseover":return an=nl(an,s,o,d,m,x),!0;case"pointerover":var E=x.pointerId;return On.set(E,nl(On.get(E)||null,s,o,d,m,x)),!0;case"gotpointercapture":return E=x.pointerId,Zo.set(E,nl(Zo.get(E)||null,s,o,d,m,x)),!0}return!1}function gg(s){var o=so(s.target);if(o!==null){var d=Fr(o);if(d!==null){if(o=d.tag,o===13){if(o=Ot(d),o!==null){s.blockedOn=o,ro(s.priority,function(){eo(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ic(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var d=Nf(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var m=new d.constructor(d.type,d);pt=m,d.target.dispatchEvent(m),pt=null}else return o=vl(d),o!==null&&Jo(o),s.blockedOn=d,!1;o.shift()}return!0}function vg(s,o,d){Ic(s)&&d.delete(o)}function Ok(){Xo=!1,Xn!==null&&Ic(Xn)&&(Xn=null),Zn!==null&&Ic(Zn)&&(Zn=null),an!==null&&Ic(an)&&(an=null),On.forEach(vg),Zo.forEach(vg)}function sl(s,o){s.blockedOn===o&&(s.blockedOn=null,Xo||(Xo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ok)))}function il(s){function o(x){return sl(x,s)}if(0<no.length){sl(no[0],s);for(var d=1;d<no.length;d++){var m=no[d];m.blockedOn===s&&(m.blockedOn=null)}}for(Xn!==null&&sl(Xn,s),Zn!==null&&sl(Zn,s),an!==null&&sl(an,s),On.forEach(o),Zo.forEach(o),d=0;d<gi.length;d++)m=gi[d],m.blockedOn===s&&(m.blockedOn=null);for(;0<gi.length&&(d=gi[0],d.blockedOn===null);)gg(d),d.blockedOn===null&&gi.shift()}var ea=$.ReactCurrentBatchConfig,Dc=!0;function Lk(s,o,d,m){var x=It,E=ea.transition;ea.transition=null;try{It=1,kf(s,o,d,m)}finally{It=x,ea.transition=E}}function Fk(s,o,d,m){var x=It,E=ea.transition;ea.transition=null;try{It=4,kf(s,o,d,m)}finally{It=x,ea.transition=E}}function kf(s,o,d,m){if(Dc){var x=Nf(s,o,d,m);if(x===null)Bf(s,o,m,zc,d),pg(s,m);else if(zk(x,s,o,d,m))m.stopPropagation();else if(pg(s,m),o&4&&-1<Dk.indexOf(s)){for(;x!==null;){var E=vl(x);if(E!==null&&_c(E),E=Nf(s,o,d,m),E===null&&Bf(s,o,m,zc,d),E===x)break;x=E}x!==null&&m.stopPropagation()}else Bf(s,o,m,null,d)}}var zc=null;function Nf(s,o,d,m){if(zc=null,s=gt(m),s=so(s),s!==null)if(o=Fr(s),o===null)s=null;else if(d=o.tag,d===13){if(s=Ot(o),s!==null)return s;s=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return zc=s,null}function yg(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ls()){case vs:return 1;case Fs:return 4;case Jn:case hi:return 16;case ve:return 536870912;default:return 16}default:return 16}}var vi=null,Ef=null,Oc=null;function xg(){if(Oc)return Oc;var s,o=Ef,d=o.length,m,x="value"in vi?vi.value:vi.textContent,E=x.length;for(s=0;s<d&&o[s]===x[s];s++);var F=d-s;for(m=1;m<=F&&o[d-m]===x[E-m];m++);return Oc=x.slice(s,1<m?1-m:void 0)}function Lc(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Fc(){return!0}function bg(){return!1}function Nn(s){function o(d,m,x,E,F){this._reactName=d,this._targetInst=x,this.type=m,this.nativeEvent=E,this.target=F,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(d=s[G],this[G]=d?d(E):E[G]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Fc:bg,this.isPropagationStopped=bg,this}return O(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Fc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Fc)},persist:function(){},isPersistent:Fc}),o}var ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cf=Nn(ta),ol=O({},ta,{view:0,detail:0}),Bk=Nn(ol),Af,Sf,al,Bc=O({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==al&&(al&&s.type==="mousemove"?(Af=s.screenX-al.screenX,Sf=s.screenY-al.screenY):Sf=Af=0,al=s),Af)},movementY:function(s){return"movementY"in s?s.movementY:Sf}}),wg=Nn(Bc),Uk=O({},Bc,{dataTransfer:0}),$k=Nn(Uk),Wk=O({},ol,{relatedTarget:0}),Tf=Nn(Wk),Hk=O({},ta,{animationName:0,elapsedTime:0,pseudoElement:0}),qk=Nn(Hk),Vk=O({},ta,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Gk=Nn(Vk),Kk=O({},ta,{data:0}),kg=Nn(Kk),Yk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xk(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Jk[s])?!!o[s]:!1}function Pf(){return Xk}var Zk=O({},ol,{key:function(s){if(s.key){var o=Yk[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Lc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Qk[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pf,charCode:function(s){return s.type==="keypress"?Lc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Lc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),eN=Nn(Zk),tN=O({},Bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ng=Nn(tN),rN=O({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pf}),nN=Nn(rN),sN=O({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),iN=Nn(sN),oN=O({},Bc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),aN=Nn(oN),lN=[9,13,27,32],jf=u&&"CompositionEvent"in window,ll=null;u&&"documentMode"in document&&(ll=document.documentMode);var cN=u&&"TextEvent"in window&&!ll,Eg=u&&(!jf||ll&&8<ll&&11>=ll),Cg=" ",Ag=!1;function Sg(s,o){switch(s){case"keyup":return lN.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ra=!1;function uN(s,o){switch(s){case"compositionend":return Tg(o);case"keypress":return o.which!==32?null:(Ag=!0,Cg);case"textInput":return s=o.data,s===Cg&&Ag?null:s;default:return null}}function dN(s,o){if(ra)return s==="compositionend"||!jf&&Sg(s,o)?(s=xg(),Oc=Ef=vi=null,ra=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Eg&&o.locale!=="ko"?null:o.data;default:return null}}var fN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pg(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!fN[s.type]:o==="textarea"}function jg(s,o,d,m){Pt(m),o=qc(o,"onChange"),0<o.length&&(d=new Cf("onChange","change",null,d,m),s.push({event:d,listeners:o}))}var cl=null,ul=null;function hN(s){Kg(s,0)}function Uc(s){var o=aa(s);if(de(o))return s}function mN(s,o){if(s==="change")return o}var Rg=!1;if(u){var Rf;if(u){var Mf="oninput"in document;if(!Mf){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),Mf=typeof Mg.oninput=="function"}Rf=Mf}else Rf=!1;Rg=Rf&&(!document.documentMode||9<document.documentMode)}function _g(){cl&&(cl.detachEvent("onpropertychange",Ig),ul=cl=null)}function Ig(s){if(s.propertyName==="value"&&Uc(ul)){var o=[];jg(o,ul,s,gt(s)),Jt(hN,o)}}function pN(s,o,d){s==="focusin"?(_g(),cl=o,ul=d,cl.attachEvent("onpropertychange",Ig)):s==="focusout"&&_g()}function gN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Uc(ul)}function vN(s,o){if(s==="click")return Uc(o)}function yN(s,o){if(s==="input"||s==="change")return Uc(o)}function xN(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var es=typeof Object.is=="function"?Object.is:xN;function dl(s,o){if(es(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var d=Object.keys(s),m=Object.keys(o);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var x=d[m];if(!f.call(o,x)||!es(s[x],o[x]))return!1}return!0}function Dg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function zg(s,o){var d=Dg(s);s=0;for(var m;d;){if(d.nodeType===3){if(m=s+d.textContent.length,s<=o&&m>=o)return{node:d,offset:o-s};s=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Dg(d)}}function Og(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Og(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Lg(){for(var s=window,o=je();o instanceof s.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)s=o.contentWindow;else break;o=je(s.document)}return o}function _f(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function bN(s){var o=Lg(),d=s.focusedElem,m=s.selectionRange;if(o!==d&&d&&d.ownerDocument&&Og(d.ownerDocument.documentElement,d)){if(m!==null&&_f(d)){if(o=m.start,s=m.end,s===void 0&&(s=o),"selectionStart"in d)d.selectionStart=o,d.selectionEnd=Math.min(s,d.value.length);else if(s=(o=d.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var x=d.textContent.length,E=Math.min(m.start,x);m=m.end===void 0?E:Math.min(m.end,x),!s.extend&&E>m&&(x=m,m=E,E=x),x=zg(d,E);var F=zg(d,m);x&&F&&(s.rangeCount!==1||s.anchorNode!==x.node||s.anchorOffset!==x.offset||s.focusNode!==F.node||s.focusOffset!==F.offset)&&(o=o.createRange(),o.setStart(x.node,x.offset),s.removeAllRanges(),E>m?(s.addRange(o),s.extend(F.node,F.offset)):(o.setEnd(F.node,F.offset),s.addRange(o)))}}for(o=[],s=d;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<o.length;d++)s=o[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var wN=u&&"documentMode"in document&&11>=document.documentMode,na=null,If=null,fl=null,Df=!1;function Fg(s,o,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Df||na==null||na!==je(m)||(m=na,"selectionStart"in m&&_f(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),fl&&dl(fl,m)||(fl=m,m=qc(If,"onSelect"),0<m.length&&(o=new Cf("onSelect","select",null,o,d),s.push({event:o,listeners:m}),o.target=na)))}function $c(s,o){var d={};return d[s.toLowerCase()]=o.toLowerCase(),d["Webkit"+s]="webkit"+o,d["Moz"+s]="moz"+o,d}var sa={animationend:$c("Animation","AnimationEnd"),animationiteration:$c("Animation","AnimationIteration"),animationstart:$c("Animation","AnimationStart"),transitionend:$c("Transition","TransitionEnd")},zf={},Bg={};u&&(Bg=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function Wc(s){if(zf[s])return zf[s];if(!sa[s])return s;var o=sa[s],d;for(d in o)if(o.hasOwnProperty(d)&&d in Bg)return zf[s]=o[d];return s}var Ug=Wc("animationend"),$g=Wc("animationiteration"),Wg=Wc("animationstart"),Hg=Wc("transitionend"),qg=new Map,Vg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yi(s,o){qg.set(s,o),l(o,[s])}for(var Of=0;Of<Vg.length;Of++){var Lf=Vg[Of],kN=Lf.toLowerCase(),NN=Lf[0].toUpperCase()+Lf.slice(1);yi(kN,"on"+NN)}yi(Ug,"onAnimationEnd"),yi($g,"onAnimationIteration"),yi(Wg,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(Hg,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EN=new Set("cancel close invalid load scroll toggle".split(" ").concat(hl));function Gg(s,o,d){var m=s.type||"unknown-event";s.currentTarget=d,jt(m,o,void 0,s),s.currentTarget=null}function Kg(s,o){o=(o&4)!==0;for(var d=0;d<s.length;d++){var m=s[d],x=m.event;m=m.listeners;e:{var E=void 0;if(o)for(var F=m.length-1;0<=F;F--){var G=m[F],Z=G.instance,ae=G.currentTarget;if(G=G.listener,Z!==E&&x.isPropagationStopped())break e;Gg(x,G,ae),E=Z}else for(F=0;F<m.length;F++){if(G=m[F],Z=G.instance,ae=G.currentTarget,G=G.listener,Z!==E&&x.isPropagationStopped())break e;Gg(x,G,ae),E=Z}}}if(At)throw s=_t,At=!1,_t=null,s}function Vt(s,o){var d=o[Vf];d===void 0&&(d=o[Vf]=new Set);var m=s+"__bubble";d.has(m)||(Yg(o,s,2,!1),d.add(m))}function Ff(s,o,d){var m=0;o&&(m|=4),Yg(d,s,m,o)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function ml(s){if(!s[Hc]){s[Hc]=!0,n.forEach(function(d){d!=="selectionchange"&&(EN.has(d)||Ff(d,!1,s),Ff(d,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Hc]||(o[Hc]=!0,Ff("selectionchange",!1,o))}}function Yg(s,o,d,m){switch(yg(o)){case 1:var x=Lk;break;case 4:x=Fk;break;default:x=kf}d=x.bind(null,o,d,s),x=void 0,!lt||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),m?x!==void 0?s.addEventListener(o,d,{capture:!0,passive:x}):s.addEventListener(o,d,!0):x!==void 0?s.addEventListener(o,d,{passive:x}):s.addEventListener(o,d,!1)}function Bf(s,o,d,m,x){var E=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var F=m.tag;if(F===3||F===4){var G=m.stateNode.containerInfo;if(G===x||G.nodeType===8&&G.parentNode===x)break;if(F===4)for(F=m.return;F!==null;){var Z=F.tag;if((Z===3||Z===4)&&(Z=F.stateNode.containerInfo,Z===x||Z.nodeType===8&&Z.parentNode===x))return;F=F.return}for(;G!==null;){if(F=so(G),F===null)return;if(Z=F.tag,Z===5||Z===6){m=E=F;continue e}G=G.parentNode}}m=m.return}Jt(function(){var ae=E,me=gt(d),ye=[];e:{var he=qg.get(s);if(he!==void 0){var Te=Cf,Re=s;switch(s){case"keypress":if(Lc(d)===0)break e;case"keydown":case"keyup":Te=eN;break;case"focusin":Re="focus",Te=Tf;break;case"focusout":Re="blur",Te=Tf;break;case"beforeblur":case"afterblur":Te=Tf;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=wg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=$k;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=nN;break;case Ug:case $g:case Wg:Te=qk;break;case Hg:Te=iN;break;case"scroll":Te=Bk;break;case"wheel":Te=aN;break;case"copy":case"cut":case"paste":Te=Gk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=Ng}var _e=(o&4)!==0,dr=!_e&&s==="scroll",se=_e?he!==null?he+"Capture":null:he;_e=[];for(var ne=ae,oe;ne!==null;){oe=ne;var we=oe.stateNode;if(oe.tag===5&&we!==null&&(oe=we,se!==null&&(we=tt(ne,se),we!=null&&_e.push(pl(ne,we,oe)))),dr)break;ne=ne.return}0<_e.length&&(he=new Te(he,Re,null,d,me),ye.push({event:he,listeners:_e}))}}if((o&7)===0){e:{if(he=s==="mouseover"||s==="pointerover",Te=s==="mouseout"||s==="pointerout",he&&d!==pt&&(Re=d.relatedTarget||d.fromElement)&&(so(Re)||Re[Us]))break e;if((Te||he)&&(he=me.window===me?me:(he=me.ownerDocument)?he.defaultView||he.parentWindow:window,Te?(Re=d.relatedTarget||d.toElement,Te=ae,Re=Re?so(Re):null,Re!==null&&(dr=Fr(Re),Re!==dr||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(Te=null,Re=ae),Te!==Re)){if(_e=wg,we="onMouseLeave",se="onMouseEnter",ne="mouse",(s==="pointerout"||s==="pointerover")&&(_e=Ng,we="onPointerLeave",se="onPointerEnter",ne="pointer"),dr=Te==null?he:aa(Te),oe=Re==null?he:aa(Re),he=new _e(we,ne+"leave",Te,d,me),he.target=dr,he.relatedTarget=oe,we=null,so(me)===ae&&(_e=new _e(se,ne+"enter",Re,d,me),_e.target=oe,_e.relatedTarget=dr,we=_e),dr=we,Te&&Re)t:{for(_e=Te,se=Re,ne=0,oe=_e;oe;oe=ia(oe))ne++;for(oe=0,we=se;we;we=ia(we))oe++;for(;0<ne-oe;)_e=ia(_e),ne--;for(;0<oe-ne;)se=ia(se),oe--;for(;ne--;){if(_e===se||se!==null&&_e===se.alternate)break t;_e=ia(_e),se=ia(se)}_e=null}else _e=null;Te!==null&&Qg(ye,he,Te,_e,!1),Re!==null&&dr!==null&&Qg(ye,dr,Re,_e,!0)}}e:{if(he=ae?aa(ae):window,Te=he.nodeName&&he.nodeName.toLowerCase(),Te==="select"||Te==="input"&&he.type==="file")var Ie=mN;else if(Pg(he))if(Rg)Ie=yN;else{Ie=gN;var $e=pN}else(Te=he.nodeName)&&Te.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Ie=vN);if(Ie&&(Ie=Ie(s,ae))){jg(ye,Ie,d,me);break e}$e&&$e(s,he,ae),s==="focusout"&&($e=he._wrapperState)&&$e.controlled&&he.type==="number"&&kt(he,"number",he.value)}switch($e=ae?aa(ae):window,s){case"focusin":(Pg($e)||$e.contentEditable==="true")&&(na=$e,If=ae,fl=null);break;case"focusout":fl=If=na=null;break;case"mousedown":Df=!0;break;case"contextmenu":case"mouseup":case"dragend":Df=!1,Fg(ye,d,me);break;case"selectionchange":if(wN)break;case"keydown":case"keyup":Fg(ye,d,me)}var We;if(jf)e:{switch(s){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else ra?Sg(s,d)&&(Ye="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Ye="onCompositionStart");Ye&&(Eg&&d.locale!=="ko"&&(ra||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&ra&&(We=xg()):(vi=me,Ef="value"in vi?vi.value:vi.textContent,ra=!0)),$e=qc(ae,Ye),0<$e.length&&(Ye=new kg(Ye,s,null,d,me),ye.push({event:Ye,listeners:$e}),We?Ye.data=We:(We=Tg(d),We!==null&&(Ye.data=We)))),(We=cN?uN(s,d):dN(s,d))&&(ae=qc(ae,"onBeforeInput"),0<ae.length&&(me=new kg("onBeforeInput","beforeinput",null,d,me),ye.push({event:me,listeners:ae}),me.data=We))}Kg(ye,o)})}function pl(s,o,d){return{instance:s,listener:o,currentTarget:d}}function qc(s,o){for(var d=o+"Capture",m=[];s!==null;){var x=s,E=x.stateNode;x.tag===5&&E!==null&&(x=E,E=tt(s,d),E!=null&&m.unshift(pl(s,E,x)),E=tt(s,o),E!=null&&m.push(pl(s,E,x))),s=s.return}return m}function ia(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Qg(s,o,d,m,x){for(var E=o._reactName,F=[];d!==null&&d!==m;){var G=d,Z=G.alternate,ae=G.stateNode;if(Z!==null&&Z===m)break;G.tag===5&&ae!==null&&(G=ae,x?(Z=tt(d,E),Z!=null&&F.unshift(pl(d,Z,G))):x||(Z=tt(d,E),Z!=null&&F.push(pl(d,Z,G)))),d=d.return}F.length!==0&&s.push({event:o,listeners:F})}var CN=/\r\n?/g,AN=/\u0000|\uFFFD/g;function Jg(s){return(typeof s=="string"?s:""+s).replace(CN,`
`).replace(AN,"")}function Vc(s,o,d){if(o=Jg(o),Jg(s)!==o&&d)throw Error(r(425))}function Gc(){}var Uf=null,$f=null;function Wf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Hf=typeof setTimeout=="function"?setTimeout:void 0,SN=typeof clearTimeout=="function"?clearTimeout:void 0,Xg=typeof Promise=="function"?Promise:void 0,TN=typeof queueMicrotask=="function"?queueMicrotask:typeof Xg<"u"?function(s){return Xg.resolve(null).then(s).catch(PN)}:Hf;function PN(s){setTimeout(function(){throw s})}function qf(s,o){var d=o,m=0;do{var x=d.nextSibling;if(s.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(m===0){s.removeChild(x),il(o);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=x}while(d);il(o)}function xi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Zg(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return s;o--}else d==="/$"&&o++}s=s.previousSibling}return null}var oa=Math.random().toString(36).slice(2),xs="__reactFiber$"+oa,gl="__reactProps$"+oa,Us="__reactContainer$"+oa,Vf="__reactEvents$"+oa,jN="__reactListeners$"+oa,RN="__reactHandles$"+oa;function so(s){var o=s[xs];if(o)return o;for(var d=s.parentNode;d;){if(o=d[Us]||d[xs]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(s=Zg(s);s!==null;){if(d=s[xs])return d;s=Zg(s)}return o}s=d,d=s.parentNode}return null}function vl(s){return s=s[xs]||s[Us],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function aa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Kc(s){return s[gl]||null}var Gf=[],la=-1;function bi(s){return{current:s}}function Gt(s){0>la||(s.current=Gf[la],Gf[la]=null,la--)}function Ht(s,o){la++,Gf[la]=s.current,s.current=o}var wi={},Br=bi(wi),ln=bi(!1),io=wi;function ca(s,o){var d=s.type.contextTypes;if(!d)return wi;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===o)return m.__reactInternalMemoizedMaskedChildContext;var x={},E;for(E in d)x[E]=o[E];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=x),x}function cn(s){return s=s.childContextTypes,s!=null}function Yc(){Gt(ln),Gt(Br)}function e0(s,o,d){if(Br.current!==wi)throw Error(r(168));Ht(Br,o),Ht(ln,d)}function t0(s,o,d){var m=s.stateNode;if(o=o.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var x in m)if(!(x in o))throw Error(r(108,q(s)||"Unknown",x));return O({},d,m)}function Qc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||wi,io=Br.current,Ht(Br,s),Ht(ln,ln.current),!0}function r0(s,o,d){var m=s.stateNode;if(!m)throw Error(r(169));d?(s=t0(s,o,io),m.__reactInternalMemoizedMergedChildContext=s,Gt(ln),Gt(Br),Ht(Br,s)):Gt(ln),Ht(ln,d)}var $s=null,Jc=!1,Kf=!1;function n0(s){$s===null?$s=[s]:$s.push(s)}function MN(s){Jc=!0,n0(s)}function ki(){if(!Kf&&$s!==null){Kf=!0;var s=0,o=It;try{var d=$s;for(It=1;s<d.length;s++){var m=d[s];do m=m(!0);while(m!==null)}$s=null,Jc=!1}catch(x){throw $s!==null&&($s=$s.slice(s+1)),wn(vs,ki),x}finally{It=o,Kf=!1}}return null}var ua=[],da=0,Xc=null,Zc=0,Ln=[],Fn=0,oo=null,Ws=1,Hs="";function ao(s,o){ua[da++]=Zc,ua[da++]=Xc,Xc=s,Zc=o}function s0(s,o,d){Ln[Fn++]=Ws,Ln[Fn++]=Hs,Ln[Fn++]=oo,oo=s;var m=Ws;s=Hs;var x=32-vt(m)-1;m&=~(1<<x),d+=1;var E=32-vt(o)+x;if(30<E){var F=x-x%5;E=(m&(1<<F)-1).toString(32),m>>=F,x-=F,Ws=1<<32-vt(o)+x|d<<x|m,Hs=E+s}else Ws=1<<E|d<<x|m,Hs=s}function Yf(s){s.return!==null&&(ao(s,1),s0(s,1,0))}function Qf(s){for(;s===Xc;)Xc=ua[--da],ua[da]=null,Zc=ua[--da],ua[da]=null;for(;s===oo;)oo=Ln[--Fn],Ln[Fn]=null,Hs=Ln[--Fn],Ln[Fn]=null,Ws=Ln[--Fn],Ln[Fn]=null}var En=null,Cn=null,Xt=!1,ts=null;function i0(s,o){var d=Wn(5,null,null,0);d.elementType="DELETED",d.stateNode=o,d.return=s,o=s.deletions,o===null?(s.deletions=[d],s.flags|=16):o.push(d)}function o0(s,o){switch(s.tag){case 5:var d=s.type;return o=o.nodeType!==1||d.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,En=s,Cn=xi(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,En=s,Cn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(d=oo!==null?{id:Ws,overflow:Hs}:null,s.memoizedState={dehydrated:o,treeContext:d,retryLane:1073741824},d=Wn(18,null,null,0),d.stateNode=o,d.return=s,s.child=d,En=s,Cn=null,!0):!1;default:return!1}}function Jf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Xf(s){if(Xt){var o=Cn;if(o){var d=o;if(!o0(s,o)){if(Jf(s))throw Error(r(418));o=xi(d.nextSibling);var m=En;o&&o0(s,o)?i0(m,d):(s.flags=s.flags&-4097|2,Xt=!1,En=s)}}else{if(Jf(s))throw Error(r(418));s.flags=s.flags&-4097|2,Xt=!1,En=s}}}function a0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;En=s}function eu(s){if(s!==En)return!1;if(!Xt)return a0(s),Xt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Wf(s.type,s.memoizedProps)),o&&(o=Cn)){if(Jf(s))throw l0(),Error(r(418));for(;o;)i0(s,o),o=xi(o.nextSibling)}if(a0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(o===0){Cn=xi(s.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++}s=s.nextSibling}Cn=null}}else Cn=En?xi(s.stateNode.nextSibling):null;return!0}function l0(){for(var s=Cn;s;)s=xi(s.nextSibling)}function fa(){Cn=En=null,Xt=!1}function Zf(s){ts===null?ts=[s]:ts.push(s)}var _N=$.ReactCurrentBatchConfig;function yl(s,o,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var m=d.stateNode}if(!m)throw Error(r(147,s));var x=m,E=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===E?o.ref:(o=function(F){var G=x.refs;F===null?delete G[E]:G[E]=F},o._stringRef=E,o)}if(typeof s!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,s))}return s}function tu(s,o){throw s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function c0(s){var o=s._init;return o(s._payload)}function u0(s){function o(se,ne){if(s){var oe=se.deletions;oe===null?(se.deletions=[ne],se.flags|=16):oe.push(ne)}}function d(se,ne){if(!s)return null;for(;ne!==null;)o(se,ne),ne=ne.sibling;return null}function m(se,ne){for(se=new Map;ne!==null;)ne.key!==null?se.set(ne.key,ne):se.set(ne.index,ne),ne=ne.sibling;return se}function x(se,ne){return se=ji(se,ne),se.index=0,se.sibling=null,se}function E(se,ne,oe){return se.index=oe,s?(oe=se.alternate,oe!==null?(oe=oe.index,oe<ne?(se.flags|=2,ne):oe):(se.flags|=2,ne)):(se.flags|=1048576,ne)}function F(se){return s&&se.alternate===null&&(se.flags|=2),se}function G(se,ne,oe,we){return ne===null||ne.tag!==6?(ne=Hh(oe,se.mode,we),ne.return=se,ne):(ne=x(ne,oe),ne.return=se,ne)}function Z(se,ne,oe,we){var Ie=oe.type;return Ie===V?me(se,ne,oe.props.children,we,oe.key):ne!==null&&(ne.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===R&&c0(Ie)===ne.type)?(we=x(ne,oe.props),we.ref=yl(se,ne,oe),we.return=se,we):(we=Cu(oe.type,oe.key,oe.props,null,se.mode,we),we.ref=yl(se,ne,oe),we.return=se,we)}function ae(se,ne,oe,we){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==oe.containerInfo||ne.stateNode.implementation!==oe.implementation?(ne=qh(oe,se.mode,we),ne.return=se,ne):(ne=x(ne,oe.children||[]),ne.return=se,ne)}function me(se,ne,oe,we,Ie){return ne===null||ne.tag!==7?(ne=go(oe,se.mode,we,Ie),ne.return=se,ne):(ne=x(ne,oe),ne.return=se,ne)}function ye(se,ne,oe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=Hh(""+ne,se.mode,oe),ne.return=se,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case U:return oe=Cu(ne.type,ne.key,ne.props,null,se.mode,oe),oe.ref=yl(se,null,ne),oe.return=se,oe;case W:return ne=qh(ne,se.mode,oe),ne.return=se,ne;case R:var we=ne._init;return ye(se,we(ne._payload),oe)}if(Ke(ne)||D(ne))return ne=go(ne,se.mode,oe,null),ne.return=se,ne;tu(se,ne)}return null}function he(se,ne,oe,we){var Ie=ne!==null?ne.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Ie!==null?null:G(se,ne,""+oe,we);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case U:return oe.key===Ie?Z(se,ne,oe,we):null;case W:return oe.key===Ie?ae(se,ne,oe,we):null;case R:return Ie=oe._init,he(se,ne,Ie(oe._payload),we)}if(Ke(oe)||D(oe))return Ie!==null?null:me(se,ne,oe,we,null);tu(se,oe)}return null}function Te(se,ne,oe,we,Ie){if(typeof we=="string"&&we!==""||typeof we=="number")return se=se.get(oe)||null,G(ne,se,""+we,Ie);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case U:return se=se.get(we.key===null?oe:we.key)||null,Z(ne,se,we,Ie);case W:return se=se.get(we.key===null?oe:we.key)||null,ae(ne,se,we,Ie);case R:var $e=we._init;return Te(se,ne,oe,$e(we._payload),Ie)}if(Ke(we)||D(we))return se=se.get(oe)||null,me(ne,se,we,Ie,null);tu(ne,we)}return null}function Re(se,ne,oe,we){for(var Ie=null,$e=null,We=ne,Ye=ne=0,Sr=null;We!==null&&Ye<oe.length;Ye++){We.index>Ye?(Sr=We,We=null):Sr=We.sibling;var Rt=he(se,We,oe[Ye],we);if(Rt===null){We===null&&(We=Sr);break}s&&We&&Rt.alternate===null&&o(se,We),ne=E(Rt,ne,Ye),$e===null?Ie=Rt:$e.sibling=Rt,$e=Rt,We=Sr}if(Ye===oe.length)return d(se,We),Xt&&ao(se,Ye),Ie;if(We===null){for(;Ye<oe.length;Ye++)We=ye(se,oe[Ye],we),We!==null&&(ne=E(We,ne,Ye),$e===null?Ie=We:$e.sibling=We,$e=We);return Xt&&ao(se,Ye),Ie}for(We=m(se,We);Ye<oe.length;Ye++)Sr=Te(We,se,Ye,oe[Ye],we),Sr!==null&&(s&&Sr.alternate!==null&&We.delete(Sr.key===null?Ye:Sr.key),ne=E(Sr,ne,Ye),$e===null?Ie=Sr:$e.sibling=Sr,$e=Sr);return s&&We.forEach(function(Ri){return o(se,Ri)}),Xt&&ao(se,Ye),Ie}function _e(se,ne,oe,we){var Ie=D(oe);if(typeof Ie!="function")throw Error(r(150));if(oe=Ie.call(oe),oe==null)throw Error(r(151));for(var $e=Ie=null,We=ne,Ye=ne=0,Sr=null,Rt=oe.next();We!==null&&!Rt.done;Ye++,Rt=oe.next()){We.index>Ye?(Sr=We,We=null):Sr=We.sibling;var Ri=he(se,We,Rt.value,we);if(Ri===null){We===null&&(We=Sr);break}s&&We&&Ri.alternate===null&&o(se,We),ne=E(Ri,ne,Ye),$e===null?Ie=Ri:$e.sibling=Ri,$e=Ri,We=Sr}if(Rt.done)return d(se,We),Xt&&ao(se,Ye),Ie;if(We===null){for(;!Rt.done;Ye++,Rt=oe.next())Rt=ye(se,Rt.value,we),Rt!==null&&(ne=E(Rt,ne,Ye),$e===null?Ie=Rt:$e.sibling=Rt,$e=Rt);return Xt&&ao(se,Ye),Ie}for(We=m(se,We);!Rt.done;Ye++,Rt=oe.next())Rt=Te(We,se,Ye,Rt.value,we),Rt!==null&&(s&&Rt.alternate!==null&&We.delete(Rt.key===null?Ye:Rt.key),ne=E(Rt,ne,Ye),$e===null?Ie=Rt:$e.sibling=Rt,$e=Rt);return s&&We.forEach(function(fE){return o(se,fE)}),Xt&&ao(se,Ye),Ie}function dr(se,ne,oe,we){if(typeof oe=="object"&&oe!==null&&oe.type===V&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case U:e:{for(var Ie=oe.key,$e=ne;$e!==null;){if($e.key===Ie){if(Ie=oe.type,Ie===V){if($e.tag===7){d(se,$e.sibling),ne=x($e,oe.props.children),ne.return=se,se=ne;break e}}else if($e.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===R&&c0(Ie)===$e.type){d(se,$e.sibling),ne=x($e,oe.props),ne.ref=yl(se,$e,oe),ne.return=se,se=ne;break e}d(se,$e);break}else o(se,$e);$e=$e.sibling}oe.type===V?(ne=go(oe.props.children,se.mode,we,oe.key),ne.return=se,se=ne):(we=Cu(oe.type,oe.key,oe.props,null,se.mode,we),we.ref=yl(se,ne,oe),we.return=se,se=we)}return F(se);case W:e:{for($e=oe.key;ne!==null;){if(ne.key===$e)if(ne.tag===4&&ne.stateNode.containerInfo===oe.containerInfo&&ne.stateNode.implementation===oe.implementation){d(se,ne.sibling),ne=x(ne,oe.children||[]),ne.return=se,se=ne;break e}else{d(se,ne);break}else o(se,ne);ne=ne.sibling}ne=qh(oe,se.mode,we),ne.return=se,se=ne}return F(se);case R:return $e=oe._init,dr(se,ne,$e(oe._payload),we)}if(Ke(oe))return Re(se,ne,oe,we);if(D(oe))return _e(se,ne,oe,we);tu(se,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,ne!==null&&ne.tag===6?(d(se,ne.sibling),ne=x(ne,oe),ne.return=se,se=ne):(d(se,ne),ne=Hh(oe,se.mode,we),ne.return=se,se=ne),F(se)):d(se,ne)}return dr}var ha=u0(!0),d0=u0(!1),ru=bi(null),nu=null,ma=null,eh=null;function th(){eh=ma=nu=null}function rh(s){var o=ru.current;Gt(ru),s._currentValue=o}function nh(s,o,d){for(;s!==null;){var m=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),s===d)break;s=s.return}}function pa(s,o){nu=s,eh=ma=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(un=!0),s.firstContext=null)}function Bn(s){var o=s._currentValue;if(eh!==s)if(s={context:s,memoizedValue:o,next:null},ma===null){if(nu===null)throw Error(r(308));ma=s,nu.dependencies={lanes:0,firstContext:s}}else ma=ma.next=s;return o}var lo=null;function sh(s){lo===null?lo=[s]:lo.push(s)}function f0(s,o,d,m){var x=o.interleaved;return x===null?(d.next=d,sh(o)):(d.next=x.next,x.next=d),o.interleaved=d,qs(s,m)}function qs(s,o){s.lanes|=o;var d=s.alternate;for(d!==null&&(d.lanes|=o),d=s,s=s.return;s!==null;)s.childLanes|=o,d=s.alternate,d!==null&&(d.childLanes|=o),d=s,s=s.return;return d.tag===3?d.stateNode:null}var Ni=!1;function ih(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function h0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Vs(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ei(s,o,d){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(Tt&2)!==0){var x=m.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),m.pending=o,qs(s,d)}return x=m.interleaved,x===null?(o.next=o,sh(m)):(o.next=x.next,x.next=o),m.interleaved=o,qs(s,d)}function su(s,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194240)!==0)){var m=o.lanes;m&=s.pendingLanes,d|=m,o.lanes=d,rl(s,d)}}function m0(s,o){var d=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var x=null,E=null;if(d=d.firstBaseUpdate,d!==null){do{var F={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};E===null?x=E=F:E=E.next=F,d=d.next}while(d!==null);E===null?x=E=o:E=E.next=o}else x=E=o;d={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:E,shared:m.shared,effects:m.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=o:s.next=o,d.lastBaseUpdate=o}function iu(s,o,d,m){var x=s.updateQueue;Ni=!1;var E=x.firstBaseUpdate,F=x.lastBaseUpdate,G=x.shared.pending;if(G!==null){x.shared.pending=null;var Z=G,ae=Z.next;Z.next=null,F===null?E=ae:F.next=ae,F=Z;var me=s.alternate;me!==null&&(me=me.updateQueue,G=me.lastBaseUpdate,G!==F&&(G===null?me.firstBaseUpdate=ae:G.next=ae,me.lastBaseUpdate=Z))}if(E!==null){var ye=x.baseState;F=0,me=ae=Z=null,G=E;do{var he=G.lane,Te=G.eventTime;if((m&he)===he){me!==null&&(me=me.next={eventTime:Te,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});e:{var Re=s,_e=G;switch(he=o,Te=d,_e.tag){case 1:if(Re=_e.payload,typeof Re=="function"){ye=Re.call(Te,ye,he);break e}ye=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=_e.payload,he=typeof Re=="function"?Re.call(Te,ye,he):Re,he==null)break e;ye=O({},ye,he);break e;case 2:Ni=!0}}G.callback!==null&&G.lane!==0&&(s.flags|=64,he=x.effects,he===null?x.effects=[G]:he.push(G))}else Te={eventTime:Te,lane:he,tag:G.tag,payload:G.payload,callback:G.callback,next:null},me===null?(ae=me=Te,Z=ye):me=me.next=Te,F|=he;if(G=G.next,G===null){if(G=x.shared.pending,G===null)break;he=G,G=he.next,he.next=null,x.lastBaseUpdate=he,x.shared.pending=null}}while(!0);if(me===null&&(Z=ye),x.baseState=Z,x.firstBaseUpdate=ae,x.lastBaseUpdate=me,o=x.shared.interleaved,o!==null){x=o;do F|=x.lane,x=x.next;while(x!==o)}else E===null&&(x.shared.lanes=0);fo|=F,s.lanes=F,s.memoizedState=ye}}function p0(s,o,d){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var m=s[o],x=m.callback;if(x!==null){if(m.callback=null,m=d,typeof x!="function")throw Error(r(191,x));x.call(m)}}}var xl={},bs=bi(xl),bl=bi(xl),wl=bi(xl);function co(s){if(s===xl)throw Error(r(174));return s}function oh(s,o){switch(Ht(wl,o),Ht(bl,s),Ht(bs,xl),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:He(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=He(o,s)}Gt(bs),Ht(bs,o)}function ga(){Gt(bs),Gt(bl),Gt(wl)}function g0(s){co(wl.current);var o=co(bs.current),d=He(o,s.type);o!==d&&(Ht(bl,s),Ht(bs,d))}function ah(s){bl.current===s&&(Gt(bs),Gt(bl))}var rr=bi(0);function ou(s){for(var o=s;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var lh=[];function ch(){for(var s=0;s<lh.length;s++)lh[s]._workInProgressVersionPrimary=null;lh.length=0}var au=$.ReactCurrentDispatcher,uh=$.ReactCurrentBatchConfig,uo=0,nr=null,br=null,Cr=null,lu=!1,kl=!1,Nl=0,IN=0;function Ur(){throw Error(r(321))}function dh(s,o){if(o===null)return!1;for(var d=0;d<o.length&&d<s.length;d++)if(!es(s[d],o[d]))return!1;return!0}function fh(s,o,d,m,x,E){if(uo=E,nr=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,au.current=s===null||s.memoizedState===null?LN:FN,s=d(m,x),kl){E=0;do{if(kl=!1,Nl=0,25<=E)throw Error(r(301));E+=1,Cr=br=null,o.updateQueue=null,au.current=BN,s=d(m,x)}while(kl)}if(au.current=du,o=br!==null&&br.next!==null,uo=0,Cr=br=nr=null,lu=!1,o)throw Error(r(300));return s}function hh(){var s=Nl!==0;return Nl=0,s}function ws(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?nr.memoizedState=Cr=s:Cr=Cr.next=s,Cr}function Un(){if(br===null){var s=nr.alternate;s=s!==null?s.memoizedState:null}else s=br.next;var o=Cr===null?nr.memoizedState:Cr.next;if(o!==null)Cr=o,br=s;else{if(s===null)throw Error(r(310));br=s,s={memoizedState:br.memoizedState,baseState:br.baseState,baseQueue:br.baseQueue,queue:br.queue,next:null},Cr===null?nr.memoizedState=Cr=s:Cr=Cr.next=s}return Cr}function El(s,o){return typeof o=="function"?o(s):o}function mh(s){var o=Un(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var m=br,x=m.baseQueue,E=d.pending;if(E!==null){if(x!==null){var F=x.next;x.next=E.next,E.next=F}m.baseQueue=x=E,d.pending=null}if(x!==null){E=x.next,m=m.baseState;var G=F=null,Z=null,ae=E;do{var me=ae.lane;if((uo&me)===me)Z!==null&&(Z=Z.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),m=ae.hasEagerState?ae.eagerState:s(m,ae.action);else{var ye={lane:me,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};Z===null?(G=Z=ye,F=m):Z=Z.next=ye,nr.lanes|=me,fo|=me}ae=ae.next}while(ae!==null&&ae!==E);Z===null?F=m:Z.next=G,es(m,o.memoizedState)||(un=!0),o.memoizedState=m,o.baseState=F,o.baseQueue=Z,d.lastRenderedState=m}if(s=d.interleaved,s!==null){x=s;do E=x.lane,nr.lanes|=E,fo|=E,x=x.next;while(x!==s)}else x===null&&(d.lanes=0);return[o.memoizedState,d.dispatch]}function ph(s){var o=Un(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var m=d.dispatch,x=d.pending,E=o.memoizedState;if(x!==null){d.pending=null;var F=x=x.next;do E=s(E,F.action),F=F.next;while(F!==x);es(E,o.memoizedState)||(un=!0),o.memoizedState=E,o.baseQueue===null&&(o.baseState=E),d.lastRenderedState=E}return[E,m]}function v0(){}function y0(s,o){var d=nr,m=Un(),x=o(),E=!es(m.memoizedState,x);if(E&&(m.memoizedState=x,un=!0),m=m.queue,gh(w0.bind(null,d,m,s),[s]),m.getSnapshot!==o||E||Cr!==null&&Cr.memoizedState.tag&1){if(d.flags|=2048,Cl(9,b0.bind(null,d,m,x,o),void 0,null),Ar===null)throw Error(r(349));(uo&30)!==0||x0(d,o,x)}return x}function x0(s,o,d){s.flags|=16384,s={getSnapshot:o,value:d},o=nr.updateQueue,o===null?(o={lastEffect:null,stores:null},nr.updateQueue=o,o.stores=[s]):(d=o.stores,d===null?o.stores=[s]:d.push(s))}function b0(s,o,d,m){o.value=d,o.getSnapshot=m,k0(o)&&N0(s)}function w0(s,o,d){return d(function(){k0(o)&&N0(s)})}function k0(s){var o=s.getSnapshot;s=s.value;try{var d=o();return!es(s,d)}catch{return!0}}function N0(s){var o=qs(s,1);o!==null&&is(o,s,1,-1)}function E0(s){var o=ws();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:s},o.queue=s,s=s.dispatch=ON.bind(null,nr,s),[o.memoizedState,s]}function Cl(s,o,d,m){return s={tag:s,create:o,destroy:d,deps:m,next:null},o=nr.updateQueue,o===null?(o={lastEffect:null,stores:null},nr.updateQueue=o,o.lastEffect=s.next=s):(d=o.lastEffect,d===null?o.lastEffect=s.next=s:(m=d.next,d.next=s,s.next=m,o.lastEffect=s)),s}function C0(){return Un().memoizedState}function cu(s,o,d,m){var x=ws();nr.flags|=s,x.memoizedState=Cl(1|o,d,void 0,m===void 0?null:m)}function uu(s,o,d,m){var x=Un();m=m===void 0?null:m;var E=void 0;if(br!==null){var F=br.memoizedState;if(E=F.destroy,m!==null&&dh(m,F.deps)){x.memoizedState=Cl(o,d,E,m);return}}nr.flags|=s,x.memoizedState=Cl(1|o,d,E,m)}function A0(s,o){return cu(8390656,8,s,o)}function gh(s,o){return uu(2048,8,s,o)}function S0(s,o){return uu(4,2,s,o)}function T0(s,o){return uu(4,4,s,o)}function P0(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function j0(s,o,d){return d=d!=null?d.concat([s]):null,uu(4,4,P0.bind(null,o,s),d)}function vh(){}function R0(s,o){var d=Un();o=o===void 0?null:o;var m=d.memoizedState;return m!==null&&o!==null&&dh(o,m[1])?m[0]:(d.memoizedState=[s,o],s)}function M0(s,o){var d=Un();o=o===void 0?null:o;var m=d.memoizedState;return m!==null&&o!==null&&dh(o,m[1])?m[0]:(s=s(),d.memoizedState=[s,o],s)}function _0(s,o,d){return(uo&21)===0?(s.baseState&&(s.baseState=!1,un=!0),s.memoizedState=d):(es(d,o)||(d=Rc(),nr.lanes|=d,fo|=d,s.baseState=!0),o)}function DN(s,o){var d=It;It=d!==0&&4>d?d:4,s(!0);var m=uh.transition;uh.transition={};try{s(!1),o()}finally{It=d,uh.transition=m}}function I0(){return Un().memoizedState}function zN(s,o,d){var m=Ti(s);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},D0(s))z0(o,d);else if(d=f0(s,o,d,m),d!==null){var x=Xr();is(d,s,m,x),O0(d,o,m)}}function ON(s,o,d){var m=Ti(s),x={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(D0(s))z0(o,x);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=o.lastRenderedReducer,E!==null))try{var F=o.lastRenderedState,G=E(F,d);if(x.hasEagerState=!0,x.eagerState=G,es(G,F)){var Z=o.interleaved;Z===null?(x.next=x,sh(o)):(x.next=Z.next,Z.next=x),o.interleaved=x;return}}catch{}finally{}d=f0(s,o,x,m),d!==null&&(x=Xr(),is(d,s,m,x),O0(d,o,m))}}function D0(s){var o=s.alternate;return s===nr||o!==null&&o===nr}function z0(s,o){kl=lu=!0;var d=s.pending;d===null?o.next=o:(o.next=d.next,d.next=o),s.pending=o}function O0(s,o,d){if((d&4194240)!==0){var m=o.lanes;m&=s.pendingLanes,d|=m,o.lanes=d,rl(s,d)}}var du={readContext:Bn,useCallback:Ur,useContext:Ur,useEffect:Ur,useImperativeHandle:Ur,useInsertionEffect:Ur,useLayoutEffect:Ur,useMemo:Ur,useReducer:Ur,useRef:Ur,useState:Ur,useDebugValue:Ur,useDeferredValue:Ur,useTransition:Ur,useMutableSource:Ur,useSyncExternalStore:Ur,useId:Ur,unstable_isNewReconciler:!1},LN={readContext:Bn,useCallback:function(s,o){return ws().memoizedState=[s,o===void 0?null:o],s},useContext:Bn,useEffect:A0,useImperativeHandle:function(s,o,d){return d=d!=null?d.concat([s]):null,cu(4194308,4,P0.bind(null,o,s),d)},useLayoutEffect:function(s,o){return cu(4194308,4,s,o)},useInsertionEffect:function(s,o){return cu(4,2,s,o)},useMemo:function(s,o){var d=ws();return o=o===void 0?null:o,s=s(),d.memoizedState=[s,o],s},useReducer:function(s,o,d){var m=ws();return o=d!==void 0?d(o):o,m.memoizedState=m.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},m.queue=s,s=s.dispatch=zN.bind(null,nr,s),[m.memoizedState,s]},useRef:function(s){var o=ws();return s={current:s},o.memoizedState=s},useState:E0,useDebugValue:vh,useDeferredValue:function(s){return ws().memoizedState=s},useTransition:function(){var s=E0(!1),o=s[0];return s=DN.bind(null,s[1]),ws().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,d){var m=nr,x=ws();if(Xt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=o(),Ar===null)throw Error(r(349));(uo&30)!==0||x0(m,o,d)}x.memoizedState=d;var E={value:d,getSnapshot:o};return x.queue=E,A0(w0.bind(null,m,E,s),[s]),m.flags|=2048,Cl(9,b0.bind(null,m,E,d,o),void 0,null),d},useId:function(){var s=ws(),o=Ar.identifierPrefix;if(Xt){var d=Hs,m=Ws;d=(m&~(1<<32-vt(m)-1)).toString(32)+d,o=":"+o+"R"+d,d=Nl++,0<d&&(o+="H"+d.toString(32)),o+=":"}else d=IN++,o=":"+o+"r"+d.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},FN={readContext:Bn,useCallback:R0,useContext:Bn,useEffect:gh,useImperativeHandle:j0,useInsertionEffect:S0,useLayoutEffect:T0,useMemo:M0,useReducer:mh,useRef:C0,useState:function(){return mh(El)},useDebugValue:vh,useDeferredValue:function(s){var o=Un();return _0(o,br.memoizedState,s)},useTransition:function(){var s=mh(El)[0],o=Un().memoizedState;return[s,o]},useMutableSource:v0,useSyncExternalStore:y0,useId:I0,unstable_isNewReconciler:!1},BN={readContext:Bn,useCallback:R0,useContext:Bn,useEffect:gh,useImperativeHandle:j0,useInsertionEffect:S0,useLayoutEffect:T0,useMemo:M0,useReducer:ph,useRef:C0,useState:function(){return ph(El)},useDebugValue:vh,useDeferredValue:function(s){var o=Un();return br===null?o.memoizedState=s:_0(o,br.memoizedState,s)},useTransition:function(){var s=ph(El)[0],o=Un().memoizedState;return[s,o]},useMutableSource:v0,useSyncExternalStore:y0,useId:I0,unstable_isNewReconciler:!1};function rs(s,o){if(s&&s.defaultProps){o=O({},o),s=s.defaultProps;for(var d in s)o[d]===void 0&&(o[d]=s[d]);return o}return o}function yh(s,o,d,m){o=s.memoizedState,d=d(m,o),d=d==null?o:O({},o,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var fu={isMounted:function(s){return(s=s._reactInternals)?Fr(s)===s:!1},enqueueSetState:function(s,o,d){s=s._reactInternals;var m=Xr(),x=Ti(s),E=Vs(m,x);E.payload=o,d!=null&&(E.callback=d),o=Ei(s,E,x),o!==null&&(is(o,s,x,m),su(o,s,x))},enqueueReplaceState:function(s,o,d){s=s._reactInternals;var m=Xr(),x=Ti(s),E=Vs(m,x);E.tag=1,E.payload=o,d!=null&&(E.callback=d),o=Ei(s,E,x),o!==null&&(is(o,s,x,m),su(o,s,x))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var d=Xr(),m=Ti(s),x=Vs(d,m);x.tag=2,o!=null&&(x.callback=o),o=Ei(s,x,m),o!==null&&(is(o,s,m,d),su(o,s,m))}};function L0(s,o,d,m,x,E,F){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,E,F):o.prototype&&o.prototype.isPureReactComponent?!dl(d,m)||!dl(x,E):!0}function F0(s,o,d){var m=!1,x=wi,E=o.contextType;return typeof E=="object"&&E!==null?E=Bn(E):(x=cn(o)?io:Br.current,m=o.contextTypes,E=(m=m!=null)?ca(s,x):wi),o=new o(d,E),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=fu,s.stateNode=o,o._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=x,s.__reactInternalMemoizedMaskedChildContext=E),o}function B0(s,o,d,m){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,m),o.state!==s&&fu.enqueueReplaceState(o,o.state,null)}function xh(s,o,d,m){var x=s.stateNode;x.props=d,x.state=s.memoizedState,x.refs={},ih(s);var E=o.contextType;typeof E=="object"&&E!==null?x.context=Bn(E):(E=cn(o)?io:Br.current,x.context=ca(s,E)),x.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(yh(s,o,E,d),x.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(o=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),o!==x.state&&fu.enqueueReplaceState(x,x.state,null),iu(s,d,x,m),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308)}function va(s,o){try{var d="",m=o;do d+=M(m),m=m.return;while(m);var x=d}catch(E){x=`
Error generating stack: `+E.message+`
`+E.stack}return{value:s,source:o,stack:x,digest:null}}function bh(s,o,d){return{value:s,source:null,stack:d??null,digest:o??null}}function wh(s,o){try{console.error(o.value)}catch(d){setTimeout(function(){throw d})}}var UN=typeof WeakMap=="function"?WeakMap:Map;function U0(s,o,d){d=Vs(-1,d),d.tag=3,d.payload={element:null};var m=o.value;return d.callback=function(){xu||(xu=!0,zh=m),wh(s,o)},d}function $0(s,o,d){d=Vs(-1,d),d.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var x=o.value;d.payload=function(){return m(x)},d.callback=function(){wh(s,o)}}var E=s.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(d.callback=function(){wh(s,o),typeof m!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var F=o.stack;this.componentDidCatch(o.value,{componentStack:F!==null?F:""})}),d}function W0(s,o,d){var m=s.pingCache;if(m===null){m=s.pingCache=new UN;var x=new Set;m.set(o,x)}else x=m.get(o),x===void 0&&(x=new Set,m.set(o,x));x.has(d)||(x.add(d),s=tE.bind(null,s,o,d),o.then(s,s))}function H0(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function q0(s,o,d,m,x){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(o=Vs(-1,1),o.tag=2,Ei(d,o,1))),d.lanes|=1),s):(s.flags|=65536,s.lanes=x,s)}var $N=$.ReactCurrentOwner,un=!1;function Jr(s,o,d,m){o.child=s===null?d0(o,null,d,m):ha(o,s.child,d,m)}function V0(s,o,d,m,x){d=d.render;var E=o.ref;return pa(o,x),m=fh(s,o,d,m,E,x),d=hh(),s!==null&&!un?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~x,Gs(s,o,x)):(Xt&&d&&Yf(o),o.flags|=1,Jr(s,o,m,x),o.child)}function G0(s,o,d,m,x){if(s===null){var E=d.type;return typeof E=="function"&&!Wh(E)&&E.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(o.tag=15,o.type=E,K0(s,o,E,m,x)):(s=Cu(d.type,null,m,o,o.mode,x),s.ref=o.ref,s.return=o,o.child=s)}if(E=s.child,(s.lanes&x)===0){var F=E.memoizedProps;if(d=d.compare,d=d!==null?d:dl,d(F,m)&&s.ref===o.ref)return Gs(s,o,x)}return o.flags|=1,s=ji(E,m),s.ref=o.ref,s.return=o,o.child=s}function K0(s,o,d,m,x){if(s!==null){var E=s.memoizedProps;if(dl(E,m)&&s.ref===o.ref)if(un=!1,o.pendingProps=m=E,(s.lanes&x)!==0)(s.flags&131072)!==0&&(un=!0);else return o.lanes=s.lanes,Gs(s,o,x)}return kh(s,o,d,m,x)}function Y0(s,o,d){var m=o.pendingProps,x=m.children,E=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(xa,An),An|=d;else{if((d&1073741824)===0)return s=E!==null?E.baseLanes|d:d,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Ht(xa,An),An|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=E!==null?E.baseLanes:d,Ht(xa,An),An|=m}else E!==null?(m=E.baseLanes|d,o.memoizedState=null):m=d,Ht(xa,An),An|=m;return Jr(s,o,x,d),o.child}function Q0(s,o){var d=o.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(o.flags|=512,o.flags|=2097152)}function kh(s,o,d,m,x){var E=cn(d)?io:Br.current;return E=ca(o,E),pa(o,x),d=fh(s,o,d,m,E,x),m=hh(),s!==null&&!un?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~x,Gs(s,o,x)):(Xt&&m&&Yf(o),o.flags|=1,Jr(s,o,d,x),o.child)}function J0(s,o,d,m,x){if(cn(d)){var E=!0;Qc(o)}else E=!1;if(pa(o,x),o.stateNode===null)mu(s,o),F0(o,d,m),xh(o,d,m,x),m=!0;else if(s===null){var F=o.stateNode,G=o.memoizedProps;F.props=G;var Z=F.context,ae=d.contextType;typeof ae=="object"&&ae!==null?ae=Bn(ae):(ae=cn(d)?io:Br.current,ae=ca(o,ae));var me=d.getDerivedStateFromProps,ye=typeof me=="function"||typeof F.getSnapshotBeforeUpdate=="function";ye||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(G!==m||Z!==ae)&&B0(o,F,m,ae),Ni=!1;var he=o.memoizedState;F.state=he,iu(o,m,F,x),Z=o.memoizedState,G!==m||he!==Z||ln.current||Ni?(typeof me=="function"&&(yh(o,d,me,m),Z=o.memoizedState),(G=Ni||L0(o,d,G,m,he,Z,ae))?(ye||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(o.flags|=4194308)):(typeof F.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=Z),F.props=m,F.state=Z,F.context=ae,m=G):(typeof F.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{F=o.stateNode,h0(s,o),G=o.memoizedProps,ae=o.type===o.elementType?G:rs(o.type,G),F.props=ae,ye=o.pendingProps,he=F.context,Z=d.contextType,typeof Z=="object"&&Z!==null?Z=Bn(Z):(Z=cn(d)?io:Br.current,Z=ca(o,Z));var Te=d.getDerivedStateFromProps;(me=typeof Te=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(G!==ye||he!==Z)&&B0(o,F,m,Z),Ni=!1,he=o.memoizedState,F.state=he,iu(o,m,F,x);var Re=o.memoizedState;G!==ye||he!==Re||ln.current||Ni?(typeof Te=="function"&&(yh(o,d,Te,m),Re=o.memoizedState),(ae=Ni||L0(o,d,ae,m,he,Re,Z)||!1)?(me||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(m,Re,Z),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(m,Re,Z)),typeof F.componentDidUpdate=="function"&&(o.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof F.componentDidUpdate!="function"||G===s.memoizedProps&&he===s.memoizedState||(o.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||G===s.memoizedProps&&he===s.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=Re),F.props=m,F.state=Re,F.context=Z,m=ae):(typeof F.componentDidUpdate!="function"||G===s.memoizedProps&&he===s.memoizedState||(o.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||G===s.memoizedProps&&he===s.memoizedState||(o.flags|=1024),m=!1)}return Nh(s,o,d,m,E,x)}function Nh(s,o,d,m,x,E){Q0(s,o);var F=(o.flags&128)!==0;if(!m&&!F)return x&&r0(o,d,!1),Gs(s,o,E);m=o.stateNode,$N.current=o;var G=F&&typeof d.getDerivedStateFromError!="function"?null:m.render();return o.flags|=1,s!==null&&F?(o.child=ha(o,s.child,null,E),o.child=ha(o,null,G,E)):Jr(s,o,G,E),o.memoizedState=m.state,x&&r0(o,d,!0),o.child}function X0(s){var o=s.stateNode;o.pendingContext?e0(s,o.pendingContext,o.pendingContext!==o.context):o.context&&e0(s,o.context,!1),oh(s,o.containerInfo)}function Z0(s,o,d,m,x){return fa(),Zf(x),o.flags|=256,Jr(s,o,d,m),o.child}var Eh={dehydrated:null,treeContext:null,retryLane:0};function Ch(s){return{baseLanes:s,cachePool:null,transitions:null}}function ev(s,o,d){var m=o.pendingProps,x=rr.current,E=!1,F=(o.flags&128)!==0,G;if((G=F)||(G=s!==null&&s.memoizedState===null?!1:(x&2)!==0),G?(E=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(x|=1),Ht(rr,x&1),s===null)return Xf(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(F=m.children,s=m.fallback,E?(m=o.mode,E=o.child,F={mode:"hidden",children:F},(m&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=F):E=Au(F,m,0,null),s=go(s,m,d,null),E.return=o,s.return=o,E.sibling=s,o.child=E,o.child.memoizedState=Ch(d),o.memoizedState=Eh,s):Ah(o,F));if(x=s.memoizedState,x!==null&&(G=x.dehydrated,G!==null))return WN(s,o,F,m,G,x,d);if(E){E=m.fallback,F=o.mode,x=s.child,G=x.sibling;var Z={mode:"hidden",children:m.children};return(F&1)===0&&o.child!==x?(m=o.child,m.childLanes=0,m.pendingProps=Z,o.deletions=null):(m=ji(x,Z),m.subtreeFlags=x.subtreeFlags&14680064),G!==null?E=ji(G,E):(E=go(E,F,d,null),E.flags|=2),E.return=o,m.return=o,m.sibling=E,o.child=m,m=E,E=o.child,F=s.child.memoizedState,F=F===null?Ch(d):{baseLanes:F.baseLanes|d,cachePool:null,transitions:F.transitions},E.memoizedState=F,E.childLanes=s.childLanes&~d,o.memoizedState=Eh,m}return E=s.child,s=E.sibling,m=ji(E,{mode:"visible",children:m.children}),(o.mode&1)===0&&(m.lanes=d),m.return=o,m.sibling=null,s!==null&&(d=o.deletions,d===null?(o.deletions=[s],o.flags|=16):d.push(s)),o.child=m,o.memoizedState=null,m}function Ah(s,o){return o=Au({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function hu(s,o,d,m){return m!==null&&Zf(m),ha(o,s.child,null,d),s=Ah(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function WN(s,o,d,m,x,E,F){if(d)return o.flags&256?(o.flags&=-257,m=bh(Error(r(422))),hu(s,o,F,m)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(E=m.fallback,x=o.mode,m=Au({mode:"visible",children:m.children},x,0,null),E=go(E,x,F,null),E.flags|=2,m.return=o,E.return=o,m.sibling=E,o.child=m,(o.mode&1)!==0&&ha(o,s.child,null,F),o.child.memoizedState=Ch(F),o.memoizedState=Eh,E);if((o.mode&1)===0)return hu(s,o,F,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var G=m.dgst;return m=G,E=Error(r(419)),m=bh(E,m,void 0),hu(s,o,F,m)}if(G=(F&s.childLanes)!==0,un||G){if(m=Ar,m!==null){switch(F&-F){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(m.suspendedLanes|F))!==0?0:x,x!==0&&x!==E.retryLane&&(E.retryLane=x,qs(s,x),is(m,s,x,-1))}return $h(),m=bh(Error(r(421))),hu(s,o,F,m)}return x.data==="$?"?(o.flags|=128,o.child=s.child,o=rE.bind(null,s),x._reactRetry=o,null):(s=E.treeContext,Cn=xi(x.nextSibling),En=o,Xt=!0,ts=null,s!==null&&(Ln[Fn++]=Ws,Ln[Fn++]=Hs,Ln[Fn++]=oo,Ws=s.id,Hs=s.overflow,oo=o),o=Ah(o,m.children),o.flags|=4096,o)}function tv(s,o,d){s.lanes|=o;var m=s.alternate;m!==null&&(m.lanes|=o),nh(s.return,o,d)}function Sh(s,o,d,m,x){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:x}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=m,E.tail=d,E.tailMode=x)}function rv(s,o,d){var m=o.pendingProps,x=m.revealOrder,E=m.tail;if(Jr(s,o,m.children,d),m=rr.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&tv(s,d,o);else if(s.tag===19)tv(s,d,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(Ht(rr,m),(o.mode&1)===0)o.memoizedState=null;else switch(x){case"forwards":for(d=o.child,x=null;d!==null;)s=d.alternate,s!==null&&ou(s)===null&&(x=d),d=d.sibling;d=x,d===null?(x=o.child,o.child=null):(x=d.sibling,d.sibling=null),Sh(o,!1,x,d,E);break;case"backwards":for(d=null,x=o.child,o.child=null;x!==null;){if(s=x.alternate,s!==null&&ou(s)===null){o.child=x;break}s=x.sibling,x.sibling=d,d=x,x=s}Sh(o,!0,d,null,E);break;case"together":Sh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function mu(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Gs(s,o,d){if(s!==null&&(o.dependencies=s.dependencies),fo|=o.lanes,(d&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,d=ji(s,s.pendingProps),o.child=d,d.return=o;s.sibling!==null;)s=s.sibling,d=d.sibling=ji(s,s.pendingProps),d.return=o;d.sibling=null}return o.child}function HN(s,o,d){switch(o.tag){case 3:X0(o),fa();break;case 5:g0(o);break;case 1:cn(o.type)&&Qc(o);break;case 4:oh(o,o.stateNode.containerInfo);break;case 10:var m=o.type._context,x=o.memoizedProps.value;Ht(ru,m._currentValue),m._currentValue=x;break;case 13:if(m=o.memoizedState,m!==null)return m.dehydrated!==null?(Ht(rr,rr.current&1),o.flags|=128,null):(d&o.child.childLanes)!==0?ev(s,o,d):(Ht(rr,rr.current&1),s=Gs(s,o,d),s!==null?s.sibling:null);Ht(rr,rr.current&1);break;case 19:if(m=(d&o.childLanes)!==0,(s.flags&128)!==0){if(m)return rv(s,o,d);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Ht(rr,rr.current),m)break;return null;case 22:case 23:return o.lanes=0,Y0(s,o,d)}return Gs(s,o,d)}var nv,Th,sv,iv;nv=function(s,o){for(var d=o.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Th=function(){},sv=function(s,o,d,m){var x=s.memoizedProps;if(x!==m){s=o.stateNode,co(bs.current);var E=null;switch(d){case"input":x=pe(s,x),m=pe(s,m),E=[];break;case"select":x=O({},x,{value:void 0}),m=O({},m,{value:void 0}),E=[];break;case"textarea":x=Se(s,x),m=Se(s,m),E=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=Gc)}ut(d,m);var F;d=null;for(ae in x)if(!m.hasOwnProperty(ae)&&x.hasOwnProperty(ae)&&x[ae]!=null)if(ae==="style"){var G=x[ae];for(F in G)G.hasOwnProperty(F)&&(d||(d={}),d[F]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(i.hasOwnProperty(ae)?E||(E=[]):(E=E||[]).push(ae,null));for(ae in m){var Z=m[ae];if(G=x!=null?x[ae]:void 0,m.hasOwnProperty(ae)&&Z!==G&&(Z!=null||G!=null))if(ae==="style")if(G){for(F in G)!G.hasOwnProperty(F)||Z&&Z.hasOwnProperty(F)||(d||(d={}),d[F]="");for(F in Z)Z.hasOwnProperty(F)&&G[F]!==Z[F]&&(d||(d={}),d[F]=Z[F])}else d||(E||(E=[]),E.push(ae,d)),d=Z;else ae==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,G=G?G.__html:void 0,Z!=null&&G!==Z&&(E=E||[]).push(ae,Z)):ae==="children"?typeof Z!="string"&&typeof Z!="number"||(E=E||[]).push(ae,""+Z):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(i.hasOwnProperty(ae)?(Z!=null&&ae==="onScroll"&&Vt("scroll",s),E||G===Z||(E=[])):(E=E||[]).push(ae,Z))}d&&(E=E||[]).push("style",d);var ae=E;(o.updateQueue=ae)&&(o.flags|=4)}},iv=function(s,o,d,m){d!==m&&(o.flags|=4)};function Al(s,o){if(!Xt)switch(s.tailMode){case"hidden":o=s.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function $r(s){var o=s.alternate!==null&&s.alternate.child===s.child,d=0,m=0;if(o)for(var x=s.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=m,s.childLanes=d,o}function qN(s,o,d){var m=o.pendingProps;switch(Qf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $r(o),null;case 1:return cn(o.type)&&Yc(),$r(o),null;case 3:return m=o.stateNode,ga(),Gt(ln),Gt(Br),ch(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(eu(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ts!==null&&(Fh(ts),ts=null))),Th(s,o),$r(o),null;case 5:ah(o);var x=co(wl.current);if(d=o.type,s!==null&&o.stateNode!=null)sv(s,o,d,m,x),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!m){if(o.stateNode===null)throw Error(r(166));return $r(o),null}if(s=co(bs.current),eu(o)){m=o.stateNode,d=o.type;var E=o.memoizedProps;switch(m[xs]=o,m[gl]=E,s=(o.mode&1)!==0,d){case"dialog":Vt("cancel",m),Vt("close",m);break;case"iframe":case"object":case"embed":Vt("load",m);break;case"video":case"audio":for(x=0;x<hl.length;x++)Vt(hl[x],m);break;case"source":Vt("error",m);break;case"img":case"image":case"link":Vt("error",m),Vt("load",m);break;case"details":Vt("toggle",m);break;case"input":Ae(m,E),Vt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!E.multiple},Vt("invalid",m);break;case"textarea":xe(m,E),Vt("invalid",m)}ut(d,E),x=null;for(var F in E)if(E.hasOwnProperty(F)){var G=E[F];F==="children"?typeof G=="string"?m.textContent!==G&&(E.suppressHydrationWarning!==!0&&Vc(m.textContent,G,s),x=["children",G]):typeof G=="number"&&m.textContent!==""+G&&(E.suppressHydrationWarning!==!0&&Vc(m.textContent,G,s),x=["children",""+G]):i.hasOwnProperty(F)&&G!=null&&F==="onScroll"&&Vt("scroll",m)}switch(d){case"input":le(m),Ge(m,E,!0);break;case"textarea":le(m),Dt(m);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(m.onclick=Gc)}m=x,o.updateQueue=m,m!==null&&(o.flags|=4)}else{F=x.nodeType===9?x:x.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ue(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=F.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=F.createElement(d,{is:m.is}):(s=F.createElement(d),d==="select"&&(F=s,m.multiple?F.multiple=!0:m.size&&(F.size=m.size))):s=F.createElementNS(s,d),s[xs]=o,s[gl]=m,nv(s,o,!1,!1),o.stateNode=s;e:{switch(F=Kr(d,m),d){case"dialog":Vt("cancel",s),Vt("close",s),x=m;break;case"iframe":case"object":case"embed":Vt("load",s),x=m;break;case"video":case"audio":for(x=0;x<hl.length;x++)Vt(hl[x],s);x=m;break;case"source":Vt("error",s),x=m;break;case"img":case"image":case"link":Vt("error",s),Vt("load",s),x=m;break;case"details":Vt("toggle",s),x=m;break;case"input":Ae(s,m),x=pe(s,m),Vt("invalid",s);break;case"option":x=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},x=O({},m,{value:void 0}),Vt("invalid",s);break;case"textarea":xe(s,m),x=Se(s,m),Vt("invalid",s);break;default:x=m}ut(d,x),G=x;for(E in G)if(G.hasOwnProperty(E)){var Z=G[E];E==="style"?tr(s,Z):E==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&xt(s,Z)):E==="children"?typeof Z=="string"?(d!=="textarea"||Z!=="")&&nt(s,Z):typeof Z=="number"&&nt(s,""+Z):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?Z!=null&&E==="onScroll"&&Vt("scroll",s):Z!=null&&L(s,E,Z,F))}switch(d){case"input":le(s),Ge(s,m,!1);break;case"textarea":le(s),Dt(s);break;case"option":m.value!=null&&s.setAttribute("value",""+Y(m.value));break;case"select":s.multiple=!!m.multiple,E=m.value,E!=null?ke(s,!!m.multiple,E,!1):m.defaultValue!=null&&ke(s,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(s.onclick=Gc)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return $r(o),null;case 6:if(s&&o.stateNode!=null)iv(s,o,s.memoizedProps,m);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(d=co(wl.current),co(bs.current),eu(o)){if(m=o.stateNode,d=o.memoizedProps,m[xs]=o,(E=m.nodeValue!==d)&&(s=En,s!==null))switch(s.tag){case 3:Vc(m.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Vc(m.nodeValue,d,(s.mode&1)!==0)}E&&(o.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[xs]=o,o.stateNode=m}return $r(o),null;case 13:if(Gt(rr),m=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Xt&&Cn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)l0(),fa(),o.flags|=98560,E=!1;else if(E=eu(o),m!==null&&m.dehydrated!==null){if(s===null){if(!E)throw Error(r(318));if(E=o.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[xs]=o}else fa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;$r(o),E=!1}else ts!==null&&(Fh(ts),ts=null),E=!0;if(!E)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=d,o):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(rr.current&1)!==0?wr===0&&(wr=3):$h())),o.updateQueue!==null&&(o.flags|=4),$r(o),null);case 4:return ga(),Th(s,o),s===null&&ml(o.stateNode.containerInfo),$r(o),null;case 10:return rh(o.type._context),$r(o),null;case 17:return cn(o.type)&&Yc(),$r(o),null;case 19:if(Gt(rr),E=o.memoizedState,E===null)return $r(o),null;if(m=(o.flags&128)!==0,F=E.rendering,F===null)if(m)Al(E,!1);else{if(wr!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(F=ou(s),F!==null){for(o.flags|=128,Al(E,!1),m=F.updateQueue,m!==null&&(o.updateQueue=m,o.flags|=4),o.subtreeFlags=0,m=d,d=o.child;d!==null;)E=d,s=m,E.flags&=14680066,F=E.alternate,F===null?(E.childLanes=0,E.lanes=s,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=F.childLanes,E.lanes=F.lanes,E.child=F.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=F.memoizedProps,E.memoizedState=F.memoizedState,E.updateQueue=F.updateQueue,E.type=F.type,s=F.dependencies,E.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return Ht(rr,rr.current&1|2),o.child}s=s.sibling}E.tail!==null&&Ut()>ba&&(o.flags|=128,m=!0,Al(E,!1),o.lanes=4194304)}else{if(!m)if(s=ou(F),s!==null){if(o.flags|=128,m=!0,d=s.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),Al(E,!0),E.tail===null&&E.tailMode==="hidden"&&!F.alternate&&!Xt)return $r(o),null}else 2*Ut()-E.renderingStartTime>ba&&d!==1073741824&&(o.flags|=128,m=!0,Al(E,!1),o.lanes=4194304);E.isBackwards?(F.sibling=o.child,o.child=F):(d=E.last,d!==null?d.sibling=F:o.child=F,E.last=F)}return E.tail!==null?(o=E.tail,E.rendering=o,E.tail=o.sibling,E.renderingStartTime=Ut(),o.sibling=null,d=rr.current,Ht(rr,m?d&1|2:d&1),o):($r(o),null);case 22:case 23:return Uh(),m=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(o.flags|=8192),m&&(o.mode&1)!==0?(An&1073741824)!==0&&($r(o),o.subtreeFlags&6&&(o.flags|=8192)):$r(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function VN(s,o){switch(Qf(o),o.tag){case 1:return cn(o.type)&&Yc(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ga(),Gt(ln),Gt(Br),ch(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return ah(o),null;case 13:if(Gt(rr),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));fa()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Gt(rr),null;case 4:return ga(),null;case 10:return rh(o.type._context),null;case 22:case 23:return Uh(),null;case 24:return null;default:return null}}var pu=!1,Wr=!1,GN=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function ya(s,o){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){lr(s,o,m)}else d.current=null}function Ph(s,o,d){try{d()}catch(m){lr(s,o,m)}}var ov=!1;function KN(s,o){if(Uf=Dc,s=Lg(),_f(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var x=m.anchorOffset,E=m.focusNode;m=m.focusOffset;try{d.nodeType,E.nodeType}catch{d=null;break e}var F=0,G=-1,Z=-1,ae=0,me=0,ye=s,he=null;t:for(;;){for(var Te;ye!==d||x!==0&&ye.nodeType!==3||(G=F+x),ye!==E||m!==0&&ye.nodeType!==3||(Z=F+m),ye.nodeType===3&&(F+=ye.nodeValue.length),(Te=ye.firstChild)!==null;)he=ye,ye=Te;for(;;){if(ye===s)break t;if(he===d&&++ae===x&&(G=F),he===E&&++me===m&&(Z=F),(Te=ye.nextSibling)!==null)break;ye=he,he=ye.parentNode}ye=Te}d=G===-1||Z===-1?null:{start:G,end:Z}}else d=null}d=d||{start:0,end:0}}else d=null;for($f={focusedElem:s,selectionRange:d},Dc=!1,Pe=o;Pe!==null;)if(o=Pe,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Pe=s;else for(;Pe!==null;){o=Pe;try{var Re=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var _e=Re.memoizedProps,dr=Re.memoizedState,se=o.stateNode,ne=se.getSnapshotBeforeUpdate(o.elementType===o.type?_e:rs(o.type,_e),dr);se.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:var oe=o.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(we){lr(o,o.return,we)}if(s=o.sibling,s!==null){s.return=o.return,Pe=s;break}Pe=o.return}return Re=ov,ov=!1,Re}function Sl(s,o,d){var m=o.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&s)===s){var E=x.destroy;x.destroy=void 0,E!==void 0&&Ph(o,d,E)}x=x.next}while(x!==m)}}function gu(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&s)===s){var m=d.create;d.destroy=m()}d=d.next}while(d!==o)}}function jh(s){var o=s.ref;if(o!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof o=="function"?o(s):o.current=s}}function av(s){var o=s.alternate;o!==null&&(s.alternate=null,av(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[xs],delete o[gl],delete o[Vf],delete o[jN],delete o[RN])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function lv(s){return s.tag===5||s.tag===3||s.tag===4}function cv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||lv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Rh(s,o,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?d.nodeType===8?d.parentNode.insertBefore(s,o):d.insertBefore(s,o):(d.nodeType===8?(o=d.parentNode,o.insertBefore(s,d)):(o=d,o.appendChild(s)),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=Gc));else if(m!==4&&(s=s.child,s!==null))for(Rh(s,o,d),s=s.sibling;s!==null;)Rh(s,o,d),s=s.sibling}function Mh(s,o,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?d.insertBefore(s,o):d.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(Mh(s,o,d),s=s.sibling;s!==null;)Mh(s,o,d),s=s.sibling}var _r=null,ns=!1;function Ci(s,o,d){for(d=d.child;d!==null;)uv(s,o,d),d=d.sibling}function uv(s,o,d){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(Ee,d)}catch{}switch(d.tag){case 5:Wr||ya(d,o);case 6:var m=_r,x=ns;_r=null,Ci(s,o,d),_r=m,ns=x,_r!==null&&(ns?(s=_r,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):_r.removeChild(d.stateNode));break;case 18:_r!==null&&(ns?(s=_r,d=d.stateNode,s.nodeType===8?qf(s.parentNode,d):s.nodeType===1&&qf(s,d),il(s)):qf(_r,d.stateNode));break;case 4:m=_r,x=ns,_r=d.stateNode.containerInfo,ns=!0,Ci(s,o,d),_r=m,ns=x;break;case 0:case 11:case 14:case 15:if(!Wr&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var E=x,F=E.destroy;E=E.tag,F!==void 0&&((E&2)!==0||(E&4)!==0)&&Ph(d,o,F),x=x.next}while(x!==m)}Ci(s,o,d);break;case 1:if(!Wr&&(ya(d,o),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(G){lr(d,o,G)}Ci(s,o,d);break;case 21:Ci(s,o,d);break;case 22:d.mode&1?(Wr=(m=Wr)||d.memoizedState!==null,Ci(s,o,d),Wr=m):Ci(s,o,d);break;default:Ci(s,o,d)}}function dv(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new GN),o.forEach(function(m){var x=nE.bind(null,s,m);d.has(m)||(d.add(m),m.then(x,x))})}}function ss(s,o){var d=o.deletions;if(d!==null)for(var m=0;m<d.length;m++){var x=d[m];try{var E=s,F=o,G=F;e:for(;G!==null;){switch(G.tag){case 5:_r=G.stateNode,ns=!1;break e;case 3:_r=G.stateNode.containerInfo,ns=!0;break e;case 4:_r=G.stateNode.containerInfo,ns=!0;break e}G=G.return}if(_r===null)throw Error(r(160));uv(E,F,x),_r=null,ns=!1;var Z=x.alternate;Z!==null&&(Z.return=null),x.return=null}catch(ae){lr(x,o,ae)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)fv(o,s),o=o.sibling}function fv(s,o){var d=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ss(o,s),ks(s),m&4){try{Sl(3,s,s.return),gu(3,s)}catch(_e){lr(s,s.return,_e)}try{Sl(5,s,s.return)}catch(_e){lr(s,s.return,_e)}}break;case 1:ss(o,s),ks(s),m&512&&d!==null&&ya(d,d.return);break;case 5:if(ss(o,s),ks(s),m&512&&d!==null&&ya(d,d.return),s.flags&32){var x=s.stateNode;try{nt(x,"")}catch(_e){lr(s,s.return,_e)}}if(m&4&&(x=s.stateNode,x!=null)){var E=s.memoizedProps,F=d!==null?d.memoizedProps:E,G=s.type,Z=s.updateQueue;if(s.updateQueue=null,Z!==null)try{G==="input"&&E.type==="radio"&&E.name!=null&&rt(x,E),Kr(G,F);var ae=Kr(G,E);for(F=0;F<Z.length;F+=2){var me=Z[F],ye=Z[F+1];me==="style"?tr(x,ye):me==="dangerouslySetInnerHTML"?xt(x,ye):me==="children"?nt(x,ye):L(x,me,ye,ae)}switch(G){case"input":Le(x,E);break;case"textarea":Ve(x,E);break;case"select":var he=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!E.multiple;var Te=E.value;Te!=null?ke(x,!!E.multiple,Te,!1):he!==!!E.multiple&&(E.defaultValue!=null?ke(x,!!E.multiple,E.defaultValue,!0):ke(x,!!E.multiple,E.multiple?[]:"",!1))}x[gl]=E}catch(_e){lr(s,s.return,_e)}}break;case 6:if(ss(o,s),ks(s),m&4){if(s.stateNode===null)throw Error(r(162));x=s.stateNode,E=s.memoizedProps;try{x.nodeValue=E}catch(_e){lr(s,s.return,_e)}}break;case 3:if(ss(o,s),ks(s),m&4&&d!==null&&d.memoizedState.isDehydrated)try{il(o.containerInfo)}catch(_e){lr(s,s.return,_e)}break;case 4:ss(o,s),ks(s);break;case 13:ss(o,s),ks(s),x=s.child,x.flags&8192&&(E=x.memoizedState!==null,x.stateNode.isHidden=E,!E||x.alternate!==null&&x.alternate.memoizedState!==null||(Dh=Ut())),m&4&&dv(s);break;case 22:if(me=d!==null&&d.memoizedState!==null,s.mode&1?(Wr=(ae=Wr)||me,ss(o,s),Wr=ae):ss(o,s),ks(s),m&8192){if(ae=s.memoizedState!==null,(s.stateNode.isHidden=ae)&&!me&&(s.mode&1)!==0)for(Pe=s,me=s.child;me!==null;){for(ye=Pe=me;Pe!==null;){switch(he=Pe,Te=he.child,he.tag){case 0:case 11:case 14:case 15:Sl(4,he,he.return);break;case 1:ya(he,he.return);var Re=he.stateNode;if(typeof Re.componentWillUnmount=="function"){m=he,d=he.return;try{o=m,Re.props=o.memoizedProps,Re.state=o.memoizedState,Re.componentWillUnmount()}catch(_e){lr(m,d,_e)}}break;case 5:ya(he,he.return);break;case 22:if(he.memoizedState!==null){pv(ye);continue}}Te!==null?(Te.return=he,Pe=Te):pv(ye)}me=me.sibling}e:for(me=null,ye=s;;){if(ye.tag===5){if(me===null){me=ye;try{x=ye.stateNode,ae?(E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(G=ye.stateNode,Z=ye.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,G.style.display=Xe("display",F))}catch(_e){lr(s,s.return,_e)}}}else if(ye.tag===6){if(me===null)try{ye.stateNode.nodeValue=ae?"":ye.memoizedProps}catch(_e){lr(s,s.return,_e)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===s)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===s)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===s)break e;me===ye&&(me=null),ye=ye.return}me===ye&&(me=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:ss(o,s),ks(s),m&4&&dv(s);break;case 21:break;default:ss(o,s),ks(s)}}function ks(s){var o=s.flags;if(o&2){try{e:{for(var d=s.return;d!==null;){if(lv(d)){var m=d;break e}d=d.return}throw Error(r(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&(nt(x,""),m.flags&=-33);var E=cv(s);Mh(s,E,x);break;case 3:case 4:var F=m.stateNode.containerInfo,G=cv(s);Rh(s,G,F);break;default:throw Error(r(161))}}catch(Z){lr(s,s.return,Z)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function YN(s,o,d){Pe=s,hv(s)}function hv(s,o,d){for(var m=(s.mode&1)!==0;Pe!==null;){var x=Pe,E=x.child;if(x.tag===22&&m){var F=x.memoizedState!==null||pu;if(!F){var G=x.alternate,Z=G!==null&&G.memoizedState!==null||Wr;G=pu;var ae=Wr;if(pu=F,(Wr=Z)&&!ae)for(Pe=x;Pe!==null;)F=Pe,Z=F.child,F.tag===22&&F.memoizedState!==null?gv(x):Z!==null?(Z.return=F,Pe=Z):gv(x);for(;E!==null;)Pe=E,hv(E),E=E.sibling;Pe=x,pu=G,Wr=ae}mv(s)}else(x.subtreeFlags&8772)!==0&&E!==null?(E.return=x,Pe=E):mv(s)}}function mv(s){for(;Pe!==null;){var o=Pe;if((o.flags&8772)!==0){var d=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Wr||gu(5,o);break;case 1:var m=o.stateNode;if(o.flags&4&&!Wr)if(d===null)m.componentDidMount();else{var x=o.elementType===o.type?d.memoizedProps:rs(o.type,d.memoizedProps);m.componentDidUpdate(x,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var E=o.updateQueue;E!==null&&p0(o,E,m);break;case 3:var F=o.updateQueue;if(F!==null){if(d=null,o.child!==null)switch(o.child.tag){case 5:d=o.child.stateNode;break;case 1:d=o.child.stateNode}p0(o,F,d)}break;case 5:var G=o.stateNode;if(d===null&&o.flags&4){d=G;var Z=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&d.focus();break;case"img":Z.src&&(d.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var ae=o.alternate;if(ae!==null){var me=ae.memoizedState;if(me!==null){var ye=me.dehydrated;ye!==null&&il(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Wr||o.flags&512&&jh(o)}catch(he){lr(o,o.return,he)}}if(o===s){Pe=null;break}if(d=o.sibling,d!==null){d.return=o.return,Pe=d;break}Pe=o.return}}function pv(s){for(;Pe!==null;){var o=Pe;if(o===s){Pe=null;break}var d=o.sibling;if(d!==null){d.return=o.return,Pe=d;break}Pe=o.return}}function gv(s){for(;Pe!==null;){var o=Pe;try{switch(o.tag){case 0:case 11:case 15:var d=o.return;try{gu(4,o)}catch(Z){lr(o,d,Z)}break;case 1:var m=o.stateNode;if(typeof m.componentDidMount=="function"){var x=o.return;try{m.componentDidMount()}catch(Z){lr(o,x,Z)}}var E=o.return;try{jh(o)}catch(Z){lr(o,E,Z)}break;case 5:var F=o.return;try{jh(o)}catch(Z){lr(o,F,Z)}}}catch(Z){lr(o,o.return,Z)}if(o===s){Pe=null;break}var G=o.sibling;if(G!==null){G.return=o.return,Pe=G;break}Pe=o.return}}var QN=Math.ceil,vu=$.ReactCurrentDispatcher,_h=$.ReactCurrentOwner,$n=$.ReactCurrentBatchConfig,Tt=0,Ar=null,hr=null,Ir=0,An=0,xa=bi(0),wr=0,Tl=null,fo=0,yu=0,Ih=0,Pl=null,dn=null,Dh=0,ba=1/0,Ks=null,xu=!1,zh=null,Ai=null,bu=!1,Si=null,wu=0,jl=0,Oh=null,ku=-1,Nu=0;function Xr(){return(Tt&6)!==0?Ut():ku!==-1?ku:ku=Ut()}function Ti(s){return(s.mode&1)===0?1:(Tt&2)!==0&&Ir!==0?Ir&-Ir:_N.transition!==null?(Nu===0&&(Nu=Rc()),Nu):(s=It,s!==0||(s=window.event,s=s===void 0?16:yg(s.type)),s)}function is(s,o,d,m){if(50<jl)throw jl=0,Oh=null,Error(r(185));pi(s,d,m),((Tt&2)===0||s!==Ar)&&(s===Ar&&((Tt&2)===0&&(yu|=d),wr===4&&Pi(s,Ir)),fn(s,m),d===1&&Tt===0&&(o.mode&1)===0&&(ba=Ut()+500,Jc&&ki()))}function fn(s,o){var d=s.callbackNode;bf(s,o);var m=Ko(s,s===Ar?Ir:0);if(m===0)d!==null&&kn(d),s.callbackNode=null,s.callbackPriority=0;else if(o=m&-m,s.callbackPriority!==o){if(d!=null&&kn(d),o===1)s.tag===0?MN(yv.bind(null,s)):n0(yv.bind(null,s)),TN(function(){(Tt&6)===0&&ki()}),d=null;else{switch(Mc(m)){case 1:d=vs;break;case 4:d=Fs;break;case 16:d=Jn;break;case 536870912:d=ve;break;default:d=Jn}d=Av(d,vv.bind(null,s))}s.callbackPriority=o,s.callbackNode=d}}function vv(s,o){if(ku=-1,Nu=0,(Tt&6)!==0)throw Error(r(327));var d=s.callbackNode;if(wa()&&s.callbackNode!==d)return null;var m=Ko(s,s===Ar?Ir:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||o)o=Eu(s,m);else{o=m;var x=Tt;Tt|=2;var E=bv();(Ar!==s||Ir!==o)&&(Ks=null,ba=Ut()+500,mo(s,o));do try{ZN();break}catch(G){xv(s,G)}while(!0);th(),vu.current=E,Tt=x,hr!==null?o=0:(Ar=null,Ir=0,o=wr)}if(o!==0){if(o===2&&(x=Qo(s),x!==0&&(m=x,o=Lh(s,x))),o===1)throw d=Tl,mo(s,0),Pi(s,m),fn(s,Ut()),d;if(o===6)Pi(s,m);else{if(x=s.current.alternate,(m&30)===0&&!JN(x)&&(o=Eu(s,m),o===2&&(E=Qo(s),E!==0&&(m=E,o=Lh(s,E))),o===1))throw d=Tl,mo(s,0),Pi(s,m),fn(s,Ut()),d;switch(s.finishedWork=x,s.finishedLanes=m,o){case 0:case 1:throw Error(r(345));case 2:po(s,dn,Ks);break;case 3:if(Pi(s,m),(m&130023424)===m&&(o=Dh+500-Ut(),10<o)){if(Ko(s,0)!==0)break;if(x=s.suspendedLanes,(x&m)!==m){Xr(),s.pingedLanes|=s.suspendedLanes&x;break}s.timeoutHandle=Hf(po.bind(null,s,dn,Ks),o);break}po(s,dn,Ks);break;case 4:if(Pi(s,m),(m&4194240)===m)break;for(o=s.eventTimes,x=-1;0<m;){var F=31-vt(m);E=1<<F,F=o[F],F>x&&(x=F),m&=~E}if(m=x,m=Ut()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*QN(m/1960))-m,10<m){s.timeoutHandle=Hf(po.bind(null,s,dn,Ks),m);break}po(s,dn,Ks);break;case 5:po(s,dn,Ks);break;default:throw Error(r(329))}}}return fn(s,Ut()),s.callbackNode===d?vv.bind(null,s):null}function Lh(s,o){var d=Pl;return s.current.memoizedState.isDehydrated&&(mo(s,o).flags|=256),s=Eu(s,o),s!==2&&(o=dn,dn=d,o!==null&&Fh(o)),s}function Fh(s){dn===null?dn=s:dn.push.apply(dn,s)}function JN(s){for(var o=s;;){if(o.flags&16384){var d=o.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var x=d[m],E=x.getSnapshot;x=x.value;try{if(!es(E(),x))return!1}catch{return!1}}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Pi(s,o){for(o&=~Ih,o&=~yu,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var d=31-vt(o),m=1<<d;s[d]=-1,o&=~m}}function yv(s){if((Tt&6)!==0)throw Error(r(327));wa();var o=Ko(s,0);if((o&1)===0)return fn(s,Ut()),null;var d=Eu(s,o);if(s.tag!==0&&d===2){var m=Qo(s);m!==0&&(o=m,d=Lh(s,m))}if(d===1)throw d=Tl,mo(s,0),Pi(s,o),fn(s,Ut()),d;if(d===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,po(s,dn,Ks),fn(s,Ut()),null}function Bh(s,o){var d=Tt;Tt|=1;try{return s(o)}finally{Tt=d,Tt===0&&(ba=Ut()+500,Jc&&ki())}}function ho(s){Si!==null&&Si.tag===0&&(Tt&6)===0&&wa();var o=Tt;Tt|=1;var d=$n.transition,m=It;try{if($n.transition=null,It=1,s)return s()}finally{It=m,$n.transition=d,Tt=o,(Tt&6)===0&&ki()}}function Uh(){An=xa.current,Gt(xa)}function mo(s,o){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,SN(d)),hr!==null)for(d=hr.return;d!==null;){var m=d;switch(Qf(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Yc();break;case 3:ga(),Gt(ln),Gt(Br),ch();break;case 5:ah(m);break;case 4:ga();break;case 13:Gt(rr);break;case 19:Gt(rr);break;case 10:rh(m.type._context);break;case 22:case 23:Uh()}d=d.return}if(Ar=s,hr=s=ji(s.current,null),Ir=An=o,wr=0,Tl=null,Ih=yu=fo=0,dn=Pl=null,lo!==null){for(o=0;o<lo.length;o++)if(d=lo[o],m=d.interleaved,m!==null){d.interleaved=null;var x=m.next,E=d.pending;if(E!==null){var F=E.next;E.next=x,m.next=F}d.pending=m}lo=null}return s}function xv(s,o){do{var d=hr;try{if(th(),au.current=du,lu){for(var m=nr.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}lu=!1}if(uo=0,Cr=br=nr=null,kl=!1,Nl=0,_h.current=null,d===null||d.return===null){wr=1,Tl=o,hr=null;break}e:{var E=s,F=d.return,G=d,Z=o;if(o=Ir,G.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ae=Z,me=G,ye=me.tag;if((me.mode&1)===0&&(ye===0||ye===11||ye===15)){var he=me.alternate;he?(me.updateQueue=he.updateQueue,me.memoizedState=he.memoizedState,me.lanes=he.lanes):(me.updateQueue=null,me.memoizedState=null)}var Te=H0(F);if(Te!==null){Te.flags&=-257,q0(Te,F,G,E,o),Te.mode&1&&W0(E,ae,o),o=Te,Z=ae;var Re=o.updateQueue;if(Re===null){var _e=new Set;_e.add(Z),o.updateQueue=_e}else Re.add(Z);break e}else{if((o&1)===0){W0(E,ae,o),$h();break e}Z=Error(r(426))}}else if(Xt&&G.mode&1){var dr=H0(F);if(dr!==null){(dr.flags&65536)===0&&(dr.flags|=256),q0(dr,F,G,E,o),Zf(va(Z,G));break e}}E=Z=va(Z,G),wr!==4&&(wr=2),Pl===null?Pl=[E]:Pl.push(E),E=F;do{switch(E.tag){case 3:E.flags|=65536,o&=-o,E.lanes|=o;var se=U0(E,Z,o);m0(E,se);break e;case 1:G=Z;var ne=E.type,oe=E.stateNode;if((E.flags&128)===0&&(typeof ne.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Ai===null||!Ai.has(oe)))){E.flags|=65536,o&=-o,E.lanes|=o;var we=$0(E,G,o);m0(E,we);break e}}E=E.return}while(E!==null)}kv(d)}catch(Ie){o=Ie,hr===d&&d!==null&&(hr=d=d.return);continue}break}while(!0)}function bv(){var s=vu.current;return vu.current=du,s===null?du:s}function $h(){(wr===0||wr===3||wr===2)&&(wr=4),Ar===null||(fo&268435455)===0&&(yu&268435455)===0||Pi(Ar,Ir)}function Eu(s,o){var d=Tt;Tt|=2;var m=bv();(Ar!==s||Ir!==o)&&(Ks=null,mo(s,o));do try{XN();break}catch(x){xv(s,x)}while(!0);if(th(),Tt=d,vu.current=m,hr!==null)throw Error(r(261));return Ar=null,Ir=0,wr}function XN(){for(;hr!==null;)wv(hr)}function ZN(){for(;hr!==null&&!Ji();)wv(hr)}function wv(s){var o=Cv(s.alternate,s,An);s.memoizedProps=s.pendingProps,o===null?kv(s):hr=o,_h.current=null}function kv(s){var o=s;do{var d=o.alternate;if(s=o.return,(o.flags&32768)===0){if(d=qN(d,o,An),d!==null){hr=d;return}}else{if(d=VN(d,o),d!==null){d.flags&=32767,hr=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{wr=6,hr=null;return}}if(o=o.sibling,o!==null){hr=o;return}hr=o=s}while(o!==null);wr===0&&(wr=5)}function po(s,o,d){var m=It,x=$n.transition;try{$n.transition=null,It=1,eE(s,o,d,m)}finally{$n.transition=x,It=m}return null}function eE(s,o,d,m){do wa();while(Si!==null);if((Tt&6)!==0)throw Error(r(327));d=s.finishedWork;var x=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var E=d.lanes|d.childLanes;if(wf(s,E),s===Ar&&(hr=Ar=null,Ir=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||bu||(bu=!0,Av(Jn,function(){return wa(),null})),E=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||E){E=$n.transition,$n.transition=null;var F=It;It=1;var G=Tt;Tt|=4,_h.current=null,KN(s,d),fv(d,s),bN($f),Dc=!!Uf,$f=Uf=null,s.current=d,YN(d),Xi(),Tt=G,It=F,$n.transition=E}else s.current=d;if(bu&&(bu=!1,Si=s,wu=x),E=s.pendingLanes,E===0&&(Ai=null),$t(d.stateNode),fn(s,Ut()),o!==null)for(m=s.onRecoverableError,d=0;d<o.length;d++)x=o[d],m(x.value,{componentStack:x.stack,digest:x.digest});if(xu)throw xu=!1,s=zh,zh=null,s;return(wu&1)!==0&&s.tag!==0&&wa(),E=s.pendingLanes,(E&1)!==0?s===Oh?jl++:(jl=0,Oh=s):jl=0,ki(),null}function wa(){if(Si!==null){var s=Mc(wu),o=$n.transition,d=It;try{if($n.transition=null,It=16>s?16:s,Si===null)var m=!1;else{if(s=Si,Si=null,wu=0,(Tt&6)!==0)throw Error(r(331));var x=Tt;for(Tt|=4,Pe=s.current;Pe!==null;){var E=Pe,F=E.child;if((Pe.flags&16)!==0){var G=E.deletions;if(G!==null){for(var Z=0;Z<G.length;Z++){var ae=G[Z];for(Pe=ae;Pe!==null;){var me=Pe;switch(me.tag){case 0:case 11:case 15:Sl(8,me,E)}var ye=me.child;if(ye!==null)ye.return=me,Pe=ye;else for(;Pe!==null;){me=Pe;var he=me.sibling,Te=me.return;if(av(me),me===ae){Pe=null;break}if(he!==null){he.return=Te,Pe=he;break}Pe=Te}}}var Re=E.alternate;if(Re!==null){var _e=Re.child;if(_e!==null){Re.child=null;do{var dr=_e.sibling;_e.sibling=null,_e=dr}while(_e!==null)}}Pe=E}}if((E.subtreeFlags&2064)!==0&&F!==null)F.return=E,Pe=F;else e:for(;Pe!==null;){if(E=Pe,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Sl(9,E,E.return)}var se=E.sibling;if(se!==null){se.return=E.return,Pe=se;break e}Pe=E.return}}var ne=s.current;for(Pe=ne;Pe!==null;){F=Pe;var oe=F.child;if((F.subtreeFlags&2064)!==0&&oe!==null)oe.return=F,Pe=oe;else e:for(F=ne;Pe!==null;){if(G=Pe,(G.flags&2048)!==0)try{switch(G.tag){case 0:case 11:case 15:gu(9,G)}}catch(Ie){lr(G,G.return,Ie)}if(G===F){Pe=null;break e}var we=G.sibling;if(we!==null){we.return=G.return,Pe=we;break e}Pe=G.return}}if(Tt=x,ki(),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(Ee,s)}catch{}m=!0}return m}finally{It=d,$n.transition=o}}return!1}function Nv(s,o,d){o=va(d,o),o=U0(s,o,1),s=Ei(s,o,1),o=Xr(),s!==null&&(pi(s,1,o),fn(s,o))}function lr(s,o,d){if(s.tag===3)Nv(s,s,d);else for(;o!==null;){if(o.tag===3){Nv(o,s,d);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ai===null||!Ai.has(m))){s=va(d,s),s=$0(o,s,1),o=Ei(o,s,1),s=Xr(),o!==null&&(pi(o,1,s),fn(o,s));break}}o=o.return}}function tE(s,o,d){var m=s.pingCache;m!==null&&m.delete(o),o=Xr(),s.pingedLanes|=s.suspendedLanes&d,Ar===s&&(Ir&d)===d&&(wr===4||wr===3&&(Ir&130023424)===Ir&&500>Ut()-Dh?mo(s,0):Ih|=d),fn(s,o)}function Ev(s,o){o===0&&((s.mode&1)===0?o=1:(o=mi,mi<<=1,(mi&130023424)===0&&(mi=4194304)));var d=Xr();s=qs(s,o),s!==null&&(pi(s,o,d),fn(s,d))}function rE(s){var o=s.memoizedState,d=0;o!==null&&(d=o.retryLane),Ev(s,d)}function nE(s,o){var d=0;switch(s.tag){case 13:var m=s.stateNode,x=s.memoizedState;x!==null&&(d=x.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(r(314))}m!==null&&m.delete(o),Ev(s,d)}var Cv;Cv=function(s,o,d){if(s!==null)if(s.memoizedProps!==o.pendingProps||ln.current)un=!0;else{if((s.lanes&d)===0&&(o.flags&128)===0)return un=!1,HN(s,o,d);un=(s.flags&131072)!==0}else un=!1,Xt&&(o.flags&1048576)!==0&&s0(o,Zc,o.index);switch(o.lanes=0,o.tag){case 2:var m=o.type;mu(s,o),s=o.pendingProps;var x=ca(o,Br.current);pa(o,d),x=fh(null,o,m,s,x,d);var E=hh();return o.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,cn(m)?(E=!0,Qc(o)):E=!1,o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,ih(o),x.updater=fu,o.stateNode=x,x._reactInternals=o,xh(o,m,s,d),o=Nh(null,o,m,!0,E,d)):(o.tag=0,Xt&&E&&Yf(o),Jr(null,o,x,d),o=o.child),o;case 16:m=o.elementType;e:{switch(mu(s,o),s=o.pendingProps,x=m._init,m=x(m._payload),o.type=m,x=o.tag=iE(m),s=rs(m,s),x){case 0:o=kh(null,o,m,s,d);break e;case 1:o=J0(null,o,m,s,d);break e;case 11:o=V0(null,o,m,s,d);break e;case 14:o=G0(null,o,m,rs(m.type,s),d);break e}throw Error(r(306,m,""))}return o;case 0:return m=o.type,x=o.pendingProps,x=o.elementType===m?x:rs(m,x),kh(s,o,m,x,d);case 1:return m=o.type,x=o.pendingProps,x=o.elementType===m?x:rs(m,x),J0(s,o,m,x,d);case 3:e:{if(X0(o),s===null)throw Error(r(387));m=o.pendingProps,E=o.memoizedState,x=E.element,h0(s,o),iu(o,m,null,d);var F=o.memoizedState;if(m=F.element,E.isDehydrated)if(E={element:m,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},o.updateQueue.baseState=E,o.memoizedState=E,o.flags&256){x=va(Error(r(423)),o),o=Z0(s,o,m,d,x);break e}else if(m!==x){x=va(Error(r(424)),o),o=Z0(s,o,m,d,x);break e}else for(Cn=xi(o.stateNode.containerInfo.firstChild),En=o,Xt=!0,ts=null,d=d0(o,null,m,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(fa(),m===x){o=Gs(s,o,d);break e}Jr(s,o,m,d)}o=o.child}return o;case 5:return g0(o),s===null&&Xf(o),m=o.type,x=o.pendingProps,E=s!==null?s.memoizedProps:null,F=x.children,Wf(m,x)?F=null:E!==null&&Wf(m,E)&&(o.flags|=32),Q0(s,o),Jr(s,o,F,d),o.child;case 6:return s===null&&Xf(o),null;case 13:return ev(s,o,d);case 4:return oh(o,o.stateNode.containerInfo),m=o.pendingProps,s===null?o.child=ha(o,null,m,d):Jr(s,o,m,d),o.child;case 11:return m=o.type,x=o.pendingProps,x=o.elementType===m?x:rs(m,x),V0(s,o,m,x,d);case 7:return Jr(s,o,o.pendingProps,d),o.child;case 8:return Jr(s,o,o.pendingProps.children,d),o.child;case 12:return Jr(s,o,o.pendingProps.children,d),o.child;case 10:e:{if(m=o.type._context,x=o.pendingProps,E=o.memoizedProps,F=x.value,Ht(ru,m._currentValue),m._currentValue=F,E!==null)if(es(E.value,F)){if(E.children===x.children&&!ln.current){o=Gs(s,o,d);break e}}else for(E=o.child,E!==null&&(E.return=o);E!==null;){var G=E.dependencies;if(G!==null){F=E.child;for(var Z=G.firstContext;Z!==null;){if(Z.context===m){if(E.tag===1){Z=Vs(-1,d&-d),Z.tag=2;var ae=E.updateQueue;if(ae!==null){ae=ae.shared;var me=ae.pending;me===null?Z.next=Z:(Z.next=me.next,me.next=Z),ae.pending=Z}}E.lanes|=d,Z=E.alternate,Z!==null&&(Z.lanes|=d),nh(E.return,d,o),G.lanes|=d;break}Z=Z.next}}else if(E.tag===10)F=E.type===o.type?null:E.child;else if(E.tag===18){if(F=E.return,F===null)throw Error(r(341));F.lanes|=d,G=F.alternate,G!==null&&(G.lanes|=d),nh(F,d,o),F=E.sibling}else F=E.child;if(F!==null)F.return=E;else for(F=E;F!==null;){if(F===o){F=null;break}if(E=F.sibling,E!==null){E.return=F.return,F=E;break}F=F.return}E=F}Jr(s,o,x.children,d),o=o.child}return o;case 9:return x=o.type,m=o.pendingProps.children,pa(o,d),x=Bn(x),m=m(x),o.flags|=1,Jr(s,o,m,d),o.child;case 14:return m=o.type,x=rs(m,o.pendingProps),x=rs(m.type,x),G0(s,o,m,x,d);case 15:return K0(s,o,o.type,o.pendingProps,d);case 17:return m=o.type,x=o.pendingProps,x=o.elementType===m?x:rs(m,x),mu(s,o),o.tag=1,cn(m)?(s=!0,Qc(o)):s=!1,pa(o,d),F0(o,m,x),xh(o,m,x,d),Nh(null,o,m,!0,s,d);case 19:return rv(s,o,d);case 22:return Y0(s,o,d)}throw Error(r(156,o.tag))};function Av(s,o){return wn(s,o)}function sE(s,o,d,m){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(s,o,d,m){return new sE(s,o,d,m)}function Wh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function iE(s){if(typeof s=="function")return Wh(s)?1:0;if(s!=null){if(s=s.$$typeof,s===H)return 11;if(s===C)return 14}return 2}function ji(s,o){var d=s.alternate;return d===null?(d=Wn(s.tag,o,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=o,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,o=s.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function Cu(s,o,d,m,x,E){var F=2;if(m=s,typeof s=="function")Wh(s)&&(F=1);else if(typeof s=="string")F=5;else e:switch(s){case V:return go(d.children,x,E,o);case J:F=8,x|=8;break;case re:return s=Wn(12,d,o,x|2),s.elementType=re,s.lanes=E,s;case I:return s=Wn(13,d,o,x),s.elementType=I,s.lanes=E,s;case v:return s=Wn(19,d,o,x),s.elementType=v,s.lanes=E,s;case _:return Au(d,x,E,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Q:F=10;break e;case X:F=9;break e;case H:F=11;break e;case C:F=14;break e;case R:F=16,m=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return o=Wn(F,d,o,x),o.elementType=s,o.type=m,o.lanes=E,o}function go(s,o,d,m){return s=Wn(7,s,m,o),s.lanes=d,s}function Au(s,o,d,m){return s=Wn(22,s,m,o),s.elementType=_,s.lanes=d,s.stateNode={isHidden:!1},s}function Hh(s,o,d){return s=Wn(6,s,null,o),s.lanes=d,s}function qh(s,o,d){return o=Wn(4,s.children!==null?s.children:[],s.key,o),o.lanes=d,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function oE(s,o,d,m,x){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tl(0),this.expirationTimes=tl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tl(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Vh(s,o,d,m,x,E,F,G,Z){return s=new oE(s,o,d,G,Z),o===1?(o=1,E===!0&&(o|=8)):o=0,E=Wn(3,null,null,o),s.current=E,E.stateNode=s,E.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},ih(E),s}function aE(s,o,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:m==null?null:""+m,children:s,containerInfo:o,implementation:d}}function Sv(s){if(!s)return wi;s=s._reactInternals;e:{if(Fr(s)!==s||s.tag!==1)throw Error(r(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(cn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(s.tag===1){var d=s.type;if(cn(d))return t0(s,d,o)}return o}function Tv(s,o,d,m,x,E,F,G,Z){return s=Vh(d,m,!0,s,x,E,F,G,Z),s.context=Sv(null),d=s.current,m=Xr(),x=Ti(d),E=Vs(m,x),E.callback=o??null,Ei(d,E,x),s.current.lanes=x,pi(s,x,m),fn(s,m),s}function Su(s,o,d,m){var x=o.current,E=Xr(),F=Ti(x);return d=Sv(d),o.context===null?o.context=d:o.pendingContext=d,o=Vs(E,F),o.payload={element:s},m=m===void 0?null:m,m!==null&&(o.callback=m),s=Ei(x,o,F),s!==null&&(is(s,x,F,E),su(s,x,F)),F}function Tu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Pv(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<o?d:o}}function Gh(s,o){Pv(s,o),(s=s.alternate)&&Pv(s,o)}function lE(){return null}var jv=typeof reportError=="function"?reportError:function(s){console.error(s)};function Kh(s){this._internalRoot=s}Pu.prototype.render=Kh.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));Su(s,o,null,null)},Pu.prototype.unmount=Kh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;ho(function(){Su(null,s,null,null)}),o[Us]=null}};function Pu(s){this._internalRoot=s}Pu.prototype.unstable_scheduleHydration=function(s){if(s){var o=to();s={blockedOn:null,target:s,priority:o};for(var d=0;d<gi.length&&o!==0&&o<gi[d].priority;d++);gi.splice(d,0,s),d===0&&gg(s)}};function Yh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ju(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Rv(){}function cE(s,o,d,m,x){if(x){if(typeof m=="function"){var E=m;m=function(){var ae=Tu(F);E.call(ae)}}var F=Tv(o,m,s,0,null,!1,!1,"",Rv);return s._reactRootContainer=F,s[Us]=F.current,ml(s.nodeType===8?s.parentNode:s),ho(),F}for(;x=s.lastChild;)s.removeChild(x);if(typeof m=="function"){var G=m;m=function(){var ae=Tu(Z);G.call(ae)}}var Z=Vh(s,0,!1,null,null,!1,!1,"",Rv);return s._reactRootContainer=Z,s[Us]=Z.current,ml(s.nodeType===8?s.parentNode:s),ho(function(){Su(o,Z,d,m)}),Z}function Ru(s,o,d,m,x){var E=d._reactRootContainer;if(E){var F=E;if(typeof x=="function"){var G=x;x=function(){var Z=Tu(F);G.call(Z)}}Su(o,F,s,x)}else F=cE(d,o,s,x,m);return Tu(F)}_c=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var d=Zi(o.pendingLanes);d!==0&&(rl(o,d|1),fn(o,Ut()),(Tt&6)===0&&(ba=Ut()+500,ki()))}break;case 13:ho(function(){var m=qs(s,1);if(m!==null){var x=Xr();is(m,s,1,x)}}),Gh(s,1)}},Jo=function(s){if(s.tag===13){var o=qs(s,134217728);if(o!==null){var d=Xr();is(o,s,134217728,d)}Gh(s,134217728)}},eo=function(s){if(s.tag===13){var o=Ti(s),d=qs(s,o);if(d!==null){var m=Xr();is(d,s,o,m)}Gh(s,o)}},to=function(){return It},ro=function(s,o){var d=It;try{return It=s,o()}finally{It=d}},Rr=function(s,o,d){switch(o){case"input":if(Le(s,d),o=d.name,d.type==="radio"&&o!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<d.length;o++){var m=d[o];if(m!==s&&m.form===s.form){var x=Kc(m);if(!x)throw Error(r(90));de(m),Le(m,x)}}}break;case"textarea":Ve(s,d);break;case"select":o=d.value,o!=null&&ke(s,!!d.multiple,o,!1)}},st=Bh,Fe=ho;var uE={usingClientEntryPoint:!1,Events:[vl,aa,Kc,Pt,Ce,Bh]},Rl={findFiberByHostInstance:so,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dE={bundleType:Rl.bundleType,version:Rl.version,rendererPackageName:Rl.rendererPackageName,rendererConfig:Rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Mr(s),s===null?null:s.stateNode},findFiberByHostInstance:Rl.findFiberByHostInstance||lE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{Ee=Mu.inject(dE),Ne=Mu}catch{}}return hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uE,hn.createPortal=function(s,o){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yh(o))throw Error(r(200));return aE(s,o,null,d)},hn.createRoot=function(s,o){if(!Yh(s))throw Error(r(299));var d=!1,m="",x=jv;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),o=Vh(s,1,!1,null,null,d,!1,m,x),s[Us]=o.current,ml(s.nodeType===8?s.parentNode:s),new Kh(o)},hn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Mr(o),s=s===null?null:s.stateNode,s},hn.flushSync=function(s){return ho(s)},hn.hydrate=function(s,o,d){if(!ju(o))throw Error(r(200));return Ru(null,s,o,!0,d)},hn.hydrateRoot=function(s,o,d){if(!Yh(s))throw Error(r(405));var m=d!=null&&d.hydratedSources||null,x=!1,E="",F=jv;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onRecoverableError!==void 0&&(F=d.onRecoverableError)),o=Tv(o,null,s,1,d??null,x,!1,E,F),s[Us]=o.current,ml(s),m)for(s=0;s<m.length;s++)d=m[s],x=d._getVersion,x=x(d._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[d,x]:o.mutableSourceEagerHydrationData.push(d,x);return new Pu(o)},hn.render=function(s,o,d){if(!ju(o))throw Error(r(200));return Ru(null,s,o,!1,d)},hn.unmountComponentAtNode=function(s){if(!ju(s))throw Error(r(40));return s._reactRootContainer?(ho(function(){Ru(null,null,s,!1,function(){s._reactRootContainer=null,s[Us]=null})}),!0):!1},hn.unstable_batchedUpdates=Bh,hn.unstable_renderSubtreeIntoContainer=function(s,o,d,m){if(!ju(d))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Ru(s,o,d,!1,m)},hn.version="18.3.1-next-f1338f8080-20240426",hn}var Fv;function ab(){if(Fv)return Xh.exports;Fv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xh.exports=NE(),Xh.exports}var Bv;function EE(){if(Bv)return Iu;Bv=1;var t=ab();return Iu.createRoot=t.createRoot,Iu.hydrateRoot=t.hydrateRoot,Iu}var CE=EE(),So=ab();const lb=Ga(So);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ec(){return ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ec.apply(this,arguments)}var Bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bi||(Bi={}));const Uv="popstate";function AE(t){t===void 0&&(t={});function e(n,i){let{pathname:l,search:c,hash:u}=n.location;return qm("",{pathname:l,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:xd(i)}return TE(e,r,null,t)}function yr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SE(){return Math.random().toString(36).substr(2,8)}function $v(t,e){return{usr:t.state,key:t.key,idx:e}}function qm(t,e,r,n){return r===void 0&&(r=null),ec({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ka(e):e,{state:r,key:e&&e.key||n||SE()})}function xd(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ka(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function TE(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:l=!1}=n,c=i.history,u=Bi.Pop,f=null,h=p();h==null&&(h=0,c.replaceState(ec({},c.state,{idx:h}),""));function p(){return(c.state||{idx:null}).idx}function y(){u=Bi.Pop;let A=p(),P=A==null?null:A-h;h=A,f&&f({action:u,location:N.location,delta:P})}function k(A,P){u=Bi.Push;let z=qm(N.location,A,P);h=p()+1;let L=$v(z,h),$=N.createHref(z);try{c.pushState(L,"",$)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign($)}l&&f&&f({action:u,location:N.location,delta:1})}function g(A,P){u=Bi.Replace;let z=qm(N.location,A,P);h=p();let L=$v(z,h),$=N.createHref(z);c.replaceState(L,"",$),l&&f&&f({action:u,location:N.location,delta:0})}function S(A){let P=i.location.origin!=="null"?i.location.origin:i.location.href,z=typeof A=="string"?A:xd(A);return z=z.replace(/ $/,"%20"),yr(P,"No window.location.(origin|href) available to create URL for href: "+z),new URL(z,P)}let N={get action(){return u},get location(){return t(i,c)},listen(A){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Uv,y),f=A,()=>{i.removeEventListener(Uv,y),f=null}},createHref(A){return e(i,A)},createURL:S,encodeLocation(A){let P=S(A);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:k,replace:g,go(A){return c.go(A)}};return N}var Wv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Wv||(Wv={}));function PE(t,e,r){return r===void 0&&(r="/"),jE(t,e,r)}function jE(t,e,r,n){let i=typeof e=="string"?Ka(e):e,l=wp(i.pathname||"/",r);if(l==null)return null;let c=ub(t);RE(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let h=WE(l);u=BE(c[f],h)}return u}function ub(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(l,c,u)=>{let f={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(yr(f.relativePath.startsWith(n),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(n.length));let h=$i([n,f.relativePath]),p=r.concat(f);l.children&&l.children.length>0&&(yr(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),ub(l.children,e,p,h)),!(l.path==null&&!l.index)&&e.push({path:h,score:LE(h,l.index),routesMeta:p})};return t.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))i(l,c);else for(let f of db(l.path))i(l,c,f)}),e}function db(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return i?[l,""]:[l];let c=db(n.join("/")),u=[];return u.push(...c.map(f=>f===""?l:[l,f].join("/"))),i&&u.push(...c),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function RE(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:FE(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const ME=/^:[\w-]+$/,_E=3,IE=2,DE=1,zE=10,OE=-2,Hv=t=>t==="*";function LE(t,e){let r=t.split("/"),n=r.length;return r.some(Hv)&&(n+=OE),e&&(n+=IE),r.filter(i=>!Hv(i)).reduce((i,l)=>i+(ME.test(l)?_E:l===""?DE:zE),n)}function FE(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function BE(t,e,r){let{routesMeta:n}=t,i={},l="/",c=[];for(let u=0;u<n.length;++u){let f=n[u],h=u===n.length-1,p=l==="/"?e:e.slice(l.length)||"/",y=UE({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),k=f.route;if(!y)return null;Object.assign(i,y.params),c.push({params:i,pathname:$i([l,y.pathname]),pathnameBase:GE($i([l,y.pathnameBase])),route:k}),y.pathnameBase!=="/"&&(l=$i([l,y.pathnameBase]))}return c}function UE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=$E(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((h,p,y)=>{let{paramName:k,isOptional:g}=p;if(k==="*"){let N=u[y]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const S=u[y];return g&&!S?h[k]=void 0:h[k]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:c,pattern:t}}function $E(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),cb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function WE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function wp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function HE(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Ka(t):t;return{pathname:r?r.startsWith("/")?r:qE(r,e):e,search:KE(n),hash:YE(i)}}function qE(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function tm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VE(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function fb(t,e){let r=VE(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function hb(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Ka(t):(i=ec({},t),yr(!i.pathname||!i.pathname.includes("?"),tm("?","pathname","search",i)),yr(!i.pathname||!i.pathname.includes("#"),tm("#","pathname","hash",i)),yr(!i.search||!i.search.includes("#"),tm("#","search","hash",i)));let l=t===""||i.pathname==="",c=l?"/":i.pathname,u;if(c==null)u=r;else{let y=e.length-1;if(!n&&c.startsWith("..")){let k=c.split("/");for(;k[0]==="..";)k.shift(),y-=1;i.pathname=k.join("/")}u=y>=0?e[y]:"/"}let f=HE(i,u),h=c&&c!=="/"&&c.endsWith("/"),p=(l||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}const $i=t=>t.join("/").replace(/\/\/+/g,"/"),GE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),KE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,YE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function QE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mb=["post","put","patch","delete"];new Set(mb);const JE=["get",...mb];new Set(JE);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tc(){return tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tc.apply(this,arguments)}const kp=w.createContext(null),XE=w.createContext(null),Bo=w.createContext(null),Fd=w.createContext(null),Gi=w.createContext({outlet:null,matches:[],isDataRoute:!1}),pb=w.createContext(null);function ZE(t,e){let{relative:r}=e===void 0?{}:e;yc()||yr(!1);let{basename:n,navigator:i}=w.useContext(Bo),{hash:l,pathname:c,search:u}=vb(t,{relative:r}),f=c;return n!=="/"&&(f=c==="/"?n:$i([n,c])),i.createHref({pathname:f,search:u,hash:l})}function yc(){return w.useContext(Fd)!=null}function Bd(){return yc()||yr(!1),w.useContext(Fd).location}function gb(t){w.useContext(Bo).static||w.useLayoutEffect(t)}function Uo(){let{isDataRoute:t}=w.useContext(Gi);return t?hC():eC()}function eC(){yc()||yr(!1);let t=w.useContext(kp),{basename:e,future:r,navigator:n}=w.useContext(Bo),{matches:i}=w.useContext(Gi),{pathname:l}=Bd(),c=JSON.stringify(fb(i,r.v7_relativeSplatPath)),u=w.useRef(!1);return gb(()=>{u.current=!0}),w.useCallback(function(h,p){if(p===void 0&&(p={}),!u.current)return;if(typeof h=="number"){n.go(h);return}let y=hb(h,JSON.parse(c),l,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:$i([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,c,l,t])}function tC(){let{matches:t}=w.useContext(Gi),e=t[t.length-1];return e?e.params:{}}function vb(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=w.useContext(Bo),{matches:i}=w.useContext(Gi),{pathname:l}=Bd(),c=JSON.stringify(fb(i,n.v7_relativeSplatPath));return w.useMemo(()=>hb(t,JSON.parse(c),l,r==="path"),[t,c,l,r])}function rC(t,e){return nC(t,e)}function nC(t,e,r,n){yc()||yr(!1);let{navigator:i}=w.useContext(Bo),{matches:l}=w.useContext(Gi),c=l[l.length-1],u=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let h=Bd(),p;if(e){var y;let A=typeof e=="string"?Ka(e):e;f==="/"||(y=A.pathname)!=null&&y.startsWith(f)||yr(!1),p=A}else p=h;let k=p.pathname||"/",g=k;if(f!=="/"){let A=f.replace(/^\//,"").split("/");g="/"+k.replace(/^\//,"").split("/").slice(A.length).join("/")}let S=PE(t,{pathname:g}),N=lC(S&&S.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:$i([f,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:$i([f,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),l,r,n);return e&&N?w.createElement(Fd.Provider,{value:{location:tc({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Bi.Pop}},N):N}function sC(){let t=fC(),e=QE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),r?w.createElement("pre",{style:i},r):null,null)}const iC=w.createElement(sC,null);class oC extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?w.createElement(Gi.Provider,{value:this.props.routeContext},w.createElement(pb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aC(t){let{routeContext:e,match:r,children:n}=t,i=w.useContext(kp);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Gi.Provider,{value:e},n)}function lC(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var l;if(!r)return null;if(r.errors)t=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let c=t,u=(i=r)==null?void 0:i.errors;if(u!=null){let p=c.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);p>=0||yr(!1),c=c.slice(0,Math.min(c.length,p+1))}let f=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<c.length;p++){let y=c[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=p),y.route.id){let{loaderData:k,errors:g}=r,S=y.route.loader&&k[y.route.id]===void 0&&(!g||g[y.route.id]===void 0);if(y.route.lazy||S){f=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((p,y,k)=>{let g,S=!1,N=null,A=null;r&&(g=u&&y.route.id?u[y.route.id]:void 0,N=y.route.errorElement||iC,f&&(h<0&&k===0?(mC("route-fallback"),S=!0,A=null):h===k&&(S=!0,A=y.route.hydrateFallbackElement||null)));let P=e.concat(c.slice(0,k+1)),z=()=>{let L;return g?L=N:S?L=A:y.route.Component?L=w.createElement(y.route.Component,null):y.route.element?L=y.route.element:L=p,w.createElement(aC,{match:y,routeContext:{outlet:p,matches:P,isDataRoute:r!=null},children:L})};return r&&(y.route.ErrorBoundary||y.route.errorElement||k===0)?w.createElement(oC,{location:r.location,revalidation:r.revalidation,component:N,error:g,children:z(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):z()},null)}var yb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yb||{}),xb=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(xb||{});function cC(t){let e=w.useContext(kp);return e||yr(!1),e}function uC(t){let e=w.useContext(XE);return e||yr(!1),e}function dC(t){let e=w.useContext(Gi);return e||yr(!1),e}function bb(t){let e=dC(),r=e.matches[e.matches.length-1];return r.route.id||yr(!1),r.route.id}function fC(){var t;let e=w.useContext(pb),r=uC(),n=bb();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function hC(){let{router:t}=cC(yb.UseNavigateStable),e=bb(xb.UseNavigateStable),r=w.useRef(!1);return gb(()=>{r.current=!0}),w.useCallback(function(i,l){l===void 0&&(l={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,tc({fromRouteId:e},l)))},[t,e])}const qv={};function mC(t,e,r){qv[t]||(qv[t]=!0)}function pC(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Fl(t){yr(!1)}function gC(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Bi.Pop,navigator:l,static:c=!1,future:u}=t;yc()&&yr(!1);let f=e.replace(/^\/*/,"/"),h=w.useMemo(()=>({basename:f,navigator:l,static:c,future:tc({v7_relativeSplatPath:!1},u)}),[f,u,l,c]);typeof n=="string"&&(n=Ka(n));let{pathname:p="/",search:y="",hash:k="",state:g=null,key:S="default"}=n,N=w.useMemo(()=>{let A=wp(p,f);return A==null?null:{location:{pathname:A,search:y,hash:k,state:g,key:S},navigationType:i}},[f,p,y,k,g,S,i]);return N==null?null:w.createElement(Bo.Provider,{value:h},w.createElement(Fd.Provider,{children:r,value:N}))}function vC(t){let{children:e,location:r}=t;return rC(Vm(e),r)}new Promise(()=>{});function Vm(t,e){e===void 0&&(e=[]);let r=[];return w.Children.forEach(t,(n,i)=>{if(!w.isValidElement(n))return;let l=[...e,i];if(n.type===w.Fragment){r.push.apply(r,Vm(n.props.children,l));return}n.type!==Fl&&yr(!1),!n.props.index||!n.props.children||yr(!1);let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Vm(n.props.children,l)),r.push(c)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gm(){return Gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gm.apply(this,arguments)}function yC(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,l;for(l=0;l<n.length;l++)i=n[l],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function xC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bC(t,e){return t.button===0&&(!e||e==="_self")&&!xC(t)}const wC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],kC="6";try{window.__reactRouterVersion=kC}catch{}const NC="startTransition",Vv=bp[NC];function EC(t){let{basename:e,children:r,future:n,window:i}=t,l=w.useRef();l.current==null&&(l.current=AE({window:i,v5Compat:!0}));let c=l.current,[u,f]=w.useState({action:c.action,location:c.location}),{v7_startTransition:h}=n||{},p=w.useCallback(y=>{h&&Vv?Vv(()=>f(y)):f(y)},[f,h]);return w.useLayoutEffect(()=>c.listen(p),[c,p]),w.useEffect(()=>pC(n),[n]),w.createElement(gC,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:c,future:n})}const CC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hl=w.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:l,replace:c,state:u,target:f,to:h,preventScrollReset:p,viewTransition:y}=e,k=yC(e,wC),{basename:g}=w.useContext(Bo),S,N=!1;if(typeof h=="string"&&AC.test(h)&&(S=h,CC))try{let L=new URL(window.location.href),$=h.startsWith("//")?new URL(L.protocol+h):new URL(h),U=wp($.pathname,g);$.origin===L.origin&&U!=null?h=U+$.search+$.hash:N=!0}catch{}let A=ZE(h,{relative:i}),P=SC(h,{replace:c,state:u,target:f,preventScrollReset:p,relative:i,viewTransition:y});function z(L){n&&n(L),L.defaultPrevented||P(L)}return w.createElement("a",Gm({},k,{href:S||A,onClick:N||l?n:z,ref:r,target:f}))});var Gv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Gv||(Gv={}));var Kv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Kv||(Kv={}));function SC(t,e){let{target:r,replace:n,state:i,preventScrollReset:l,relative:c,viewTransition:u}=e===void 0?{}:e,f=Uo(),h=Bd(),p=vb(t,{relative:c});return w.useCallback(y=>{if(bC(y,r)){y.preventDefault();let k=n!==void 0?n:xd(h)===xd(p);f(t,{replace:k,state:i,preventScrollReset:l,relative:c,viewTransition:u})}},[h,f,p,n,i,r,t,l,c,u])}var sd={exports:{}};const TC={},PC=Object.freeze(Object.defineProperty({__proto__:null,default:TC},Symbol.toStringTag,{value:"Module"})),jC=vE(PC);var RC=sd.exports,Yv;function MC(){return Yv||(Yv=1,function(t){(function(e,r){function n(I,v){if(!I)throw new Error(v||"Assertion failed")}function i(I,v){I.super_=v;var C=function(){};C.prototype=v.prototype,I.prototype=new C,I.prototype.constructor=I}function l(I,v,C){if(l.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&((v==="le"||v==="be")&&(C=v,v=10),this._init(I||0,v||10,C||"be"))}typeof e=="object"?e.exports=l:r.BN=l,l.BN=l,l.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=jC.Buffer}catch{}l.isBN=function(v){return v instanceof l?!0:v!==null&&typeof v=="object"&&v.constructor.wordSize===l.wordSize&&Array.isArray(v.words)},l.max=function(v,C){return v.cmp(C)>0?v:C},l.min=function(v,C){return v.cmp(C)<0?v:C},l.prototype._init=function(v,C,R){if(typeof v=="number")return this._initNumber(v,C,R);if(typeof v=="object")return this._initArray(v,C,R);C==="hex"&&(C=16),n(C===(C|0)&&C>=2&&C<=36),v=v.toString().replace(/\s+/g,"");var _=0;v[0]==="-"&&(_++,this.negative=1),_<v.length&&(C===16?this._parseHex(v,_,R):(this._parseBase(v,C,_),R==="le"&&this._initArray(this.toArray(),C,R)))},l.prototype._initNumber=function(v,C,R){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[v&67108863],this.length=1):v<4503599627370496?(this.words=[v&67108863,v/67108864&67108863],this.length=2):(n(v<9007199254740992),this.words=[v&67108863,v/67108864&67108863,1],this.length=3),R==="le"&&this._initArray(this.toArray(),C,R)},l.prototype._initArray=function(v,C,R){if(n(typeof v.length=="number"),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var j,D,O=0;if(R==="be")for(_=v.length-1,j=0;_>=0;_-=3)D=v[_]|v[_-1]<<8|v[_-2]<<16,this.words[j]|=D<<O&67108863,this.words[j+1]=D>>>26-O&67108863,O+=24,O>=26&&(O-=26,j++);else if(R==="le")for(_=0,j=0;_<v.length;_+=3)D=v[_]|v[_+1]<<8|v[_+2]<<16,this.words[j]|=D<<O&67108863,this.words[j+1]=D>>>26-O&67108863,O+=24,O>=26&&(O-=26,j++);return this._strip()};function u(I,v){var C=I.charCodeAt(v);if(C>=48&&C<=57)return C-48;if(C>=65&&C<=70)return C-55;if(C>=97&&C<=102)return C-87;n(!1,"Invalid character in "+I)}function f(I,v,C){var R=u(I,C);return C-1>=v&&(R|=u(I,C-1)<<4),R}l.prototype._parseHex=function(v,C,R){this.length=Math.ceil((v.length-C)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var j=0,D=0,O;if(R==="be")for(_=v.length-1;_>=C;_-=2)O=f(v,C,_)<<j,this.words[D]|=O&67108863,j>=18?(j-=18,D+=1,this.words[D]|=O>>>26):j+=8;else{var T=v.length-C;for(_=T%2===0?C+1:C;_<v.length;_+=2)O=f(v,C,_)<<j,this.words[D]|=O&67108863,j>=18?(j-=18,D+=1,this.words[D]|=O>>>26):j+=8}this._strip()};function h(I,v,C,R){for(var _=0,j=0,D=Math.min(I.length,C),O=v;O<D;O++){var T=I.charCodeAt(O)-48;_*=R,T>=49?j=T-49+10:T>=17?j=T-17+10:j=T,n(T>=0&&j<R,"Invalid character"),_+=j}return _}l.prototype._parseBase=function(v,C,R){this.words=[0],this.length=1;for(var _=0,j=1;j<=67108863;j*=C)_++;_--,j=j/C|0;for(var D=v.length-R,O=D%_,T=Math.min(D,D-O)+R,b=0,B=R;B<T;B+=_)b=h(v,B,B+_,C),this.imuln(j),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b);if(O!==0){var te=1;for(b=h(v,B,v.length,C),B=0;B<O;B++)te*=C;this.imuln(te),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b)}this._strip()},l.prototype.copy=function(v){v.words=new Array(this.length);for(var C=0;C<this.length;C++)v.words[C]=this.words[C];v.length=this.length,v.negative=this.negative,v.red=this.red};function p(I,v){I.words=v.words,I.length=v.length,I.negative=v.negative,I.red=v.red}if(l.prototype._move=function(v){p(v,this)},l.prototype.clone=function(){var v=new l(null);return this.copy(v),v},l.prototype._expand=function(v){for(;this.length<v;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{l.prototype.inspect=y}else l.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(v,C){v=v||10,C=C|0||1;var R;if(v===16||v==="hex"){R="";for(var _=0,j=0,D=0;D<this.length;D++){var O=this.words[D],T=((O<<_|j)&16777215).toString(16);j=O>>>24-_&16777215,_+=2,_>=26&&(_-=26,D--),j!==0||D!==this.length-1?R=k[6-T.length]+T+R:R=T+R}for(j!==0&&(R=j.toString(16)+R);R.length%C!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}if(v===(v|0)&&v>=2&&v<=36){var b=g[v],B=S[v];R="";var te=this.clone();for(te.negative=0;!te.isZero();){var M=te.modrn(B).toString(v);te=te.idivn(B),te.isZero()?R=M+R:R=k[b-M.length]+M+R}for(this.isZero()&&(R="0"+R);R.length%C!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}n(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var v=this.words[0];return this.length===2?v+=this.words[1]*67108864:this.length===3&&this.words[2]===1?v+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-v:v},l.prototype.toJSON=function(){return this.toString(16,2)},c&&(l.prototype.toBuffer=function(v,C){return this.toArrayLike(c,v,C)}),l.prototype.toArray=function(v,C){return this.toArrayLike(Array,v,C)};var N=function(v,C){return v.allocUnsafe?v.allocUnsafe(C):new v(C)};l.prototype.toArrayLike=function(v,C,R){this._strip();var _=this.byteLength(),j=R||Math.max(1,_);n(_<=j,"byte array longer than desired length"),n(j>0,"Requested array length <= 0");var D=N(v,j),O=C==="le"?"LE":"BE";return this["_toArrayLike"+O](D,_),D},l.prototype._toArrayLikeLE=function(v,C){for(var R=0,_=0,j=0,D=0;j<this.length;j++){var O=this.words[j]<<D|_;v[R++]=O&255,R<v.length&&(v[R++]=O>>8&255),R<v.length&&(v[R++]=O>>16&255),D===6?(R<v.length&&(v[R++]=O>>24&255),_=0,D=0):(_=O>>>24,D+=2)}if(R<v.length)for(v[R++]=_;R<v.length;)v[R++]=0},l.prototype._toArrayLikeBE=function(v,C){for(var R=v.length-1,_=0,j=0,D=0;j<this.length;j++){var O=this.words[j]<<D|_;v[R--]=O&255,R>=0&&(v[R--]=O>>8&255),R>=0&&(v[R--]=O>>16&255),D===6?(R>=0&&(v[R--]=O>>24&255),_=0,D=0):(_=O>>>24,D+=2)}if(R>=0)for(v[R--]=_;R>=0;)v[R--]=0},Math.clz32?l.prototype._countBits=function(v){return 32-Math.clz32(v)}:l.prototype._countBits=function(v){var C=v,R=0;return C>=4096&&(R+=13,C>>>=13),C>=64&&(R+=7,C>>>=7),C>=8&&(R+=4,C>>>=4),C>=2&&(R+=2,C>>>=2),R+C},l.prototype._zeroBits=function(v){if(v===0)return 26;var C=v,R=0;return(C&8191)===0&&(R+=13,C>>>=13),(C&127)===0&&(R+=7,C>>>=7),(C&15)===0&&(R+=4,C>>>=4),(C&3)===0&&(R+=2,C>>>=2),(C&1)===0&&R++,R},l.prototype.bitLength=function(){var v=this.words[this.length-1],C=this._countBits(v);return(this.length-1)*26+C};function A(I){for(var v=new Array(I.bitLength()),C=0;C<v.length;C++){var R=C/26|0,_=C%26;v[C]=I.words[R]>>>_&1}return v}l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var v=0,C=0;C<this.length;C++){var R=this._zeroBits(this.words[C]);if(v+=R,R!==26)break}return v},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(v){return this.negative!==0?this.abs().inotn(v).iaddn(1):this.clone()},l.prototype.fromTwos=function(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var C=0;C<v.length;C++)this.words[C]=this.words[C]|v.words[C];return this._strip()},l.prototype.ior=function(v){return n((this.negative|v.negative)===0),this.iuor(v)},l.prototype.or=function(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},l.prototype.uor=function(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},l.prototype.iuand=function(v){var C;this.length>v.length?C=v:C=this;for(var R=0;R<C.length;R++)this.words[R]=this.words[R]&v.words[R];return this.length=C.length,this._strip()},l.prototype.iand=function(v){return n((this.negative|v.negative)===0),this.iuand(v)},l.prototype.and=function(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},l.prototype.uand=function(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},l.prototype.iuxor=function(v){var C,R;this.length>v.length?(C=this,R=v):(C=v,R=this);for(var _=0;_<R.length;_++)this.words[_]=C.words[_]^R.words[_];if(this!==C)for(;_<C.length;_++)this.words[_]=C.words[_];return this.length=C.length,this._strip()},l.prototype.ixor=function(v){return n((this.negative|v.negative)===0),this.iuxor(v)},l.prototype.xor=function(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},l.prototype.uxor=function(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},l.prototype.inotn=function(v){n(typeof v=="number"&&v>=0);var C=Math.ceil(v/26)|0,R=v%26;this._expand(C),R>0&&C--;for(var _=0;_<C;_++)this.words[_]=~this.words[_]&67108863;return R>0&&(this.words[_]=~this.words[_]&67108863>>26-R),this._strip()},l.prototype.notn=function(v){return this.clone().inotn(v)},l.prototype.setn=function(v,C){n(typeof v=="number"&&v>=0);var R=v/26|0,_=v%26;return this._expand(R+1),C?this.words[R]=this.words[R]|1<<_:this.words[R]=this.words[R]&~(1<<_),this._strip()},l.prototype.iadd=function(v){var C;if(this.negative!==0&&v.negative===0)return this.negative=0,C=this.isub(v),this.negative^=1,this._normSign();if(this.negative===0&&v.negative!==0)return v.negative=0,C=this.isub(v),v.negative=1,C._normSign();var R,_;this.length>v.length?(R=this,_=v):(R=v,_=this);for(var j=0,D=0;D<_.length;D++)C=(R.words[D]|0)+(_.words[D]|0)+j,this.words[D]=C&67108863,j=C>>>26;for(;j!==0&&D<R.length;D++)C=(R.words[D]|0)+j,this.words[D]=C&67108863,j=C>>>26;if(this.length=R.length,j!==0)this.words[this.length]=j,this.length++;else if(R!==this)for(;D<R.length;D++)this.words[D]=R.words[D];return this},l.prototype.add=function(v){var C;return v.negative!==0&&this.negative===0?(v.negative=0,C=this.sub(v),v.negative^=1,C):v.negative===0&&this.negative!==0?(this.negative=0,C=v.sub(this),this.negative=1,C):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},l.prototype.isub=function(v){if(v.negative!==0){v.negative=0;var C=this.iadd(v);return v.negative=1,C._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var R=this.cmp(v);if(R===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,j;R>0?(_=this,j=v):(_=v,j=this);for(var D=0,O=0;O<j.length;O++)C=(_.words[O]|0)-(j.words[O]|0)+D,D=C>>26,this.words[O]=C&67108863;for(;D!==0&&O<_.length;O++)C=(_.words[O]|0)+D,D=C>>26,this.words[O]=C&67108863;if(D===0&&O<_.length&&_!==this)for(;O<_.length;O++)this.words[O]=_.words[O];return this.length=Math.max(this.length,O),_!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(v){return this.clone().isub(v)};function P(I,v,C){C.negative=v.negative^I.negative;var R=I.length+v.length|0;C.length=R,R=R-1|0;var _=I.words[0]|0,j=v.words[0]|0,D=_*j,O=D&67108863,T=D/67108864|0;C.words[0]=O;for(var b=1;b<R;b++){for(var B=T>>>26,te=T&67108863,M=Math.min(b,v.length-1),K=Math.max(0,b-I.length+1);K<=M;K++){var q=b-K|0;_=I.words[q]|0,j=v.words[K]|0,D=_*j+te,B+=D/67108864|0,te=D&67108863}C.words[b]=te|0,T=B|0}return T!==0?C.words[b]=T|0:C.length--,C._strip()}var z=function(v,C,R){var _=v.words,j=C.words,D=R.words,O=0,T,b,B,te=_[0]|0,M=te&8191,K=te>>>13,q=_[1]|0,Y=q&8191,ie=q>>>13,ue=_[2]|0,le=ue&8191,de=ue>>>13,je=_[3]|0,pe=je&8191,Ae=je>>>13,rt=_[4]|0,Le=rt&8191,Ge=rt>>>13,kt=_[5]|0,Ke=kt&8191,ke=kt>>>13,Se=_[6]|0,xe=Se&8191,Ve=Se>>>13,Dt=_[7]|0,Ue=Dt&8191,He=Dt>>>13,xr=_[8]|0,xt=xr&8191,nt=xr>>>13,ar=_[9]|0,bt=ar&8191,Xe=ar>>>13,tr=j[0]|0,Nt=tr&8191,ut=tr>>>13,Kr=j[1]|0,pt=Kr&8191,gt=Kr>>>13,Rr=j[2]|0,dt=Rr&8191,at=Rr>>>13,ur=j[3]|0,Pt=ur&8191,Ce=ur>>>13,st=j[4]|0,Fe=st&8191,et=st>>>13,Jt=j[5]|0,tt=Jt&8191,lt=Jt>>>13,Ft=j[6]|0,ft=Ft&8191,Et=Ft>>>13,sn=j[7]|0,At=sn&8191,_t=sn>>>13,bn=j[8]|0,zt=bn&8191,jt=bn>>>13,Fr=j[9]|0,Ot=Fr&8191,St=Fr>>>13;R.negative=v.negative^C.negative,R.length=19,T=Math.imul(M,Nt),b=Math.imul(M,ut),b=b+Math.imul(K,Nt)|0,B=Math.imul(K,ut);var Yr=(O+T|0)+((b&8191)<<13)|0;O=(B+(b>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,T=Math.imul(Y,Nt),b=Math.imul(Y,ut),b=b+Math.imul(ie,Nt)|0,B=Math.imul(ie,ut),T=T+Math.imul(M,pt)|0,b=b+Math.imul(M,gt)|0,b=b+Math.imul(K,pt)|0,B=B+Math.imul(K,gt)|0;var Mr=(O+T|0)+((b&8191)<<13)|0;O=(B+(b>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,T=Math.imul(le,Nt),b=Math.imul(le,ut),b=b+Math.imul(de,Nt)|0,B=Math.imul(de,ut),T=T+Math.imul(Y,pt)|0,b=b+Math.imul(Y,gt)|0,b=b+Math.imul(ie,pt)|0,B=B+Math.imul(ie,gt)|0,T=T+Math.imul(M,dt)|0,b=b+Math.imul(M,at)|0,b=b+Math.imul(K,dt)|0,B=B+Math.imul(K,at)|0;var Qr=(O+T|0)+((b&8191)<<13)|0;O=(B+(b>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,T=Math.imul(pe,Nt),b=Math.imul(pe,ut),b=b+Math.imul(Ae,Nt)|0,B=Math.imul(Ae,ut),T=T+Math.imul(le,pt)|0,b=b+Math.imul(le,gt)|0,b=b+Math.imul(de,pt)|0,B=B+Math.imul(de,gt)|0,T=T+Math.imul(Y,dt)|0,b=b+Math.imul(Y,at)|0,b=b+Math.imul(ie,dt)|0,B=B+Math.imul(ie,at)|0,T=T+Math.imul(M,Pt)|0,b=b+Math.imul(M,Ce)|0,b=b+Math.imul(K,Pt)|0,B=B+Math.imul(K,Ce)|0;var wn=(O+T|0)+((b&8191)<<13)|0;O=(B+(b>>>13)|0)+(wn>>>26)|0,wn&=67108863,T=Math.imul(Le,Nt),b=Math.imul(Le,ut),b=b+Math.imul(Ge,Nt)|0,B=Math.imul(Ge,ut),T=T+Math.imul(pe,pt)|0,b=b+Math.imul(pe,gt)|0,b=b+Math.imul(Ae,pt)|0,B=B+Math.imul(Ae,gt)|0,T=T+Math.imul(le,dt)|0,b=b+Math.imul(le,at)|0,b=b+Math.imul(de,dt)|0,B=B+Math.imul(de,at)|0,T=T+Math.imul(Y,Pt)|0,b=b+Math.imul(Y,Ce)|0,b=b+Math.imul(ie,Pt)|0,B=B+Math.imul(ie,Ce)|0,T=T+Math.imul(M,Fe)|0,b=b+Math.imul(M,et)|0,b=b+Math.imul(K,Fe)|0,B=B+Math.imul(K,et)|0;var kn=(O+T|0)+((b&8191)<<13)|0;O=(B+(b>>>13)|0)+(kn>>>26)|0,kn&=67108863,T=Math.imul(Ke,Nt),b=Math.imul(Ke,ut),b=b+Math.imul(ke,Nt)|0,B=Math.imul(ke,ut),T=T+Math.imul(Le,pt)|0,b=b+Math.imul(Le,gt)|0,b=b+Math.imul(Ge,pt)|0,B=B+Math.imul(Ge,gt)|0,T=T+Math.imul(pe,dt)|0,b=b+Math.imul(pe,at)|0,b=b+Math.imul(Ae,dt)|0,B=B+Math.imul(Ae,at)|0,T=T+Math.imul(le,Pt)|0,b=b+Math.imul(le,Ce)|0,b=b+Math.imul(de,Pt)|0,B=B+Math.imul(de,Ce)|0,T=T+Math.imul(Y,Fe)|0,b=b+Math.imul(Y,et)|0,b=b+Math.imul(ie,Fe)|0,B=B+Math.imul(ie,et)|0,T=T+Math.imul(M,tt)|0,b=b+Math.imul(M,lt)|0,b=b+Math.imul(K,tt)|0,B=B+Math.imul(K,lt)|0;var Ji=(O+T|0)+((b&8191)<<13)|0;O=(B+(b>>>13)|0)+(Ji>>>26)|0,Ji&=67108863,T=Math.imul(xe,Nt),b=Math.imul(xe,ut),b=b+Math.imul(Ve,Nt)|0,B=Math.imul(Ve,ut),T=T+Math.imul(Ke,pt)|0,b=b+Math.imul(Ke,gt)|0,b=b+Math.imul(ke,pt)|0,B=B+Math.imul(ke,gt)|0,T=T+Math.imul(Le,dt)|0,b=b+Math.imul(Le,at)|0,b=b+Math.imul(Ge,dt)|0,B=B+Math.imul(Ge,at)|0,T=T+Math.imul(pe,Pt)|0,b=b+Math.imul(pe,Ce)|0,b=b+Math.imul(Ae,Pt)|0,B=B+Math.imul(Ae,Ce)|0,T=T+Math.imul(le,Fe)|0,b=b+Math.imul(le,et)|0,b=b+Math.imul(de,Fe)|0,B=B+Math.imul(de,et)|0,T=T+Math.imul(Y,tt)|0,b=b+Math.imul(Y,lt)|0,b=b+Math.imul(ie,tt)|0,B=B+Math.imul(ie,lt)|0,T=T+Math.imul(M,ft)|0,b=b+Math.imul(M,Et)|0,b=b+Math.imul(K,ft)|0,B=B+Math.imul(K,Et)|0;var Xi=(O+T|0)+((b&8191)<<13)|0;O=(B+(b>>>13)|0)+(Xi>>>26)|0,Xi&=67108863,T=Math.imul(Ue,Nt),b=Math.imul(Ue,ut),b=b+Math.imul(He,Nt)|0,B=Math.imul(He,ut),T=T+Math.imul(xe,pt)|0,b=b+Math.imul(xe,gt)|0,b=b+Math.imul(Ve,pt)|0,B=B+Math.imul(Ve,gt)|0,T=T+Math.imul(Ke,dt)|0,b=b+Math.imul(Ke,at)|0,b=b+Math.imul(ke,dt)|0,B=B+Math.imul(ke,at)|0,T=T+Math.imul(Le,Pt)|0,b=b+Math.imul(Le,Ce)|0,b=b+Math.imul(Ge,Pt)|0,B=B+Math.imul(Ge,Ce)|0,T=T+Math.imul(pe,Fe)|0,b=b+Math.imul(pe,et)|0,b=b+Math.imul(Ae,Fe)|0,B=B+Math.imul(Ae,et)|0,T=T+Math.imul(le,tt)|0,b=b+Math.imul(le,lt)|0,b=b+Math.imul(de,tt)|0,B=B+Math.imul(de,lt)|0,T=T+Math.imul(Y,ft)|0,b=b+Math.imul(Y,Et)|0,b=b+Math.imul(ie,ft)|0,B=B+Math.imul(ie,Et)|0,T=T+Math.imul(M,At)|0,b=b+Math.imul(M,_t)|0,b=b+Math.imul(K,At)|0,B=B+Math.imul(K,_t)|0;var Ut=(O+T|0)+((b&8191)<<13)|0;O=(B+(b>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,T=Math.imul(xt,Nt),b=Math.imul(xt,ut),b=b+Math.imul(nt,Nt)|0,B=Math.imul(nt,ut),T=T+Math.imul(Ue,pt)|0,b=b+Math.imul(Ue,gt)|0,b=b+Math.imul(He,pt)|0,B=B+Math.imul(He,gt)|0,T=T+Math.imul(xe,dt)|0,b=b+Math.imul(xe,at)|0,b=b+Math.imul(Ve,dt)|0,B=B+Math.imul(Ve,at)|0,T=T+Math.imul(Ke,Pt)|0,b=b+Math.imul(Ke,Ce)|0,b=b+Math.imul(ke,Pt)|0,B=B+Math.imul(ke,Ce)|0,T=T+Math.imul(Le,Fe)|0,b=b+Math.imul(Le,et)|0,b=b+Math.imul(Ge,Fe)|0,B=B+Math.imul(Ge,et)|0,T=T+Math.imul(pe,tt)|0,b=b+Math.imul(pe,lt)|0,b=b+Math.imul(Ae,tt)|0,B=B+Math.imul(Ae,lt)|0,T=T+Math.imul(le,ft)|0,b=b+Math.imul(le,Et)|0,b=b+Math.imul(de,ft)|0,B=B+Math.imul(de,Et)|0,T=T+Math.imul(Y,At)|0,b=b+Math.imul(Y,_t)|0,b=b+Math.imul(ie,At)|0,B=B+Math.imul(ie,_t)|0,T=T+Math.imul(M,zt)|0,b=b+Math.imul(M,jt)|0,b=b+Math.imul(K,zt)|0,B=B+Math.imul(K,jt)|0;var Ls=(O+T|0)+((b&8191)<<13)|0;O=(B+(b>>>13)|0)+(Ls>>>26)|0,Ls&=67108863,T=Math.imul(bt,Nt),b=Math.imul(bt,ut),b=b+Math.imul(Xe,Nt)|0,B=Math.imul(Xe,ut),T=T+Math.imul(xt,pt)|0,b=b+Math.imul(xt,gt)|0,b=b+Math.imul(nt,pt)|0,B=B+Math.imul(nt,gt)|0,T=T+Math.imul(Ue,dt)|0,b=b+Math.imul(Ue,at)|0,b=b+Math.imul(He,dt)|0,B=B+Math.imul(He,at)|0,T=T+Math.imul(xe,Pt)|0,b=b+Math.imul(xe,Ce)|0,b=b+Math.imul(Ve,Pt)|0,B=B+Math.imul(Ve,Ce)|0,T=T+Math.imul(Ke,Fe)|0,b=b+Math.imul(Ke,et)|0,b=b+Math.imul(ke,Fe)|0,B=B+Math.imul(ke,et)|0,T=T+Math.imul(Le,tt)|0,b=b+Math.imul(Le,lt)|0,b=b+Math.imul(Ge,tt)|0,B=B+Math.imul(Ge,lt)|0,T=T+Math.imul(pe,ft)|0,b=b+Math.imul(pe,Et)|0,b=b+Math.imul(Ae,ft)|0,B=B+Math.imul(Ae,Et)|0,T=T+Math.imul(le,At)|0,b=b+Math.imul(le,_t)|0,b=b+Math.imul(de,At)|0,B=B+Math.imul(de,_t)|0,T=T+Math.imul(Y,zt)|0,b=b+Math.imul(Y,jt)|0,b=b+Math.imul(ie,zt)|0,B=B+Math.imul(ie,jt)|0,T=T+Math.imul(M,Ot)|0,b=b+Math.imul(M,St)|0,b=b+Math.imul(K,Ot)|0,B=B+Math.imul(K,St)|0;var vs=(O+T|0)+((b&8191)<<13)|0;O=(B+(b>>>13)|0)+(vs>>>26)|0,vs&=67108863,T=Math.imul(bt,pt),b=Math.imul(bt,gt),b=b+Math.imul(Xe,pt)|0,B=Math.imul(Xe,gt),T=T+Math.imul(xt,dt)|0,b=b+Math.imul(xt,at)|0,b=b+Math.imul(nt,dt)|0,B=B+Math.imul(nt,at)|0,T=T+Math.imul(Ue,Pt)|0,b=b+Math.imul(Ue,Ce)|0,b=b+Math.imul(He,Pt)|0,B=B+Math.imul(He,Ce)|0,T=T+Math.imul(xe,Fe)|0,b=b+Math.imul(xe,et)|0,b=b+Math.imul(Ve,Fe)|0,B=B+Math.imul(Ve,et)|0,T=T+Math.imul(Ke,tt)|0,b=b+Math.imul(Ke,lt)|0,b=b+Math.imul(ke,tt)|0,B=B+Math.imul(ke,lt)|0,T=T+Math.imul(Le,ft)|0,b=b+Math.imul(Le,Et)|0,b=b+Math.imul(Ge,ft)|0,B=B+Math.imul(Ge,Et)|0,T=T+Math.imul(pe,At)|0,b=b+Math.imul(pe,_t)|0,b=b+Math.imul(Ae,At)|0,B=B+Math.imul(Ae,_t)|0,T=T+Math.imul(le,zt)|0,b=b+Math.imul(le,jt)|0,b=b+Math.imul(de,zt)|0,B=B+Math.imul(de,jt)|0,T=T+Math.imul(Y,Ot)|0,b=b+Math.imul(Y,St)|0,b=b+Math.imul(ie,Ot)|0,B=B+Math.imul(ie,St)|0;var Fs=(O+T|0)+((b&8191)<<13)|0;O=(B+(b>>>13)|0)+(Fs>>>26)|0,Fs&=67108863,T=Math.imul(bt,dt),b=Math.imul(bt,at),b=b+Math.imul(Xe,dt)|0,B=Math.imul(Xe,at),T=T+Math.imul(xt,Pt)|0,b=b+Math.imul(xt,Ce)|0,b=b+Math.imul(nt,Pt)|0,B=B+Math.imul(nt,Ce)|0,T=T+Math.imul(Ue,Fe)|0,b=b+Math.imul(Ue,et)|0,b=b+Math.imul(He,Fe)|0,B=B+Math.imul(He,et)|0,T=T+Math.imul(xe,tt)|0,b=b+Math.imul(xe,lt)|0,b=b+Math.imul(Ve,tt)|0,B=B+Math.imul(Ve,lt)|0,T=T+Math.imul(Ke,ft)|0,b=b+Math.imul(Ke,Et)|0,b=b+Math.imul(ke,ft)|0,B=B+Math.imul(ke,Et)|0,T=T+Math.imul(Le,At)|0,b=b+Math.imul(Le,_t)|0,b=b+Math.imul(Ge,At)|0,B=B+Math.imul(Ge,_t)|0,T=T+Math.imul(pe,zt)|0,b=b+Math.imul(pe,jt)|0,b=b+Math.imul(Ae,zt)|0,B=B+Math.imul(Ae,jt)|0,T=T+Math.imul(le,Ot)|0,b=b+Math.imul(le,St)|0,b=b+Math.imul(de,Ot)|0,B=B+Math.imul(de,St)|0;var Jn=(O+T|0)+((b&8191)<<13)|0;O=(B+(b>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,T=Math.imul(bt,Pt),b=Math.imul(bt,Ce),b=b+Math.imul(Xe,Pt)|0,B=Math.imul(Xe,Ce),T=T+Math.imul(xt,Fe)|0,b=b+Math.imul(xt,et)|0,b=b+Math.imul(nt,Fe)|0,B=B+Math.imul(nt,et)|0,T=T+Math.imul(Ue,tt)|0,b=b+Math.imul(Ue,lt)|0,b=b+Math.imul(He,tt)|0,B=B+Math.imul(He,lt)|0,T=T+Math.imul(xe,ft)|0,b=b+Math.imul(xe,Et)|0,b=b+Math.imul(Ve,ft)|0,B=B+Math.imul(Ve,Et)|0,T=T+Math.imul(Ke,At)|0,b=b+Math.imul(Ke,_t)|0,b=b+Math.imul(ke,At)|0,B=B+Math.imul(ke,_t)|0,T=T+Math.imul(Le,zt)|0,b=b+Math.imul(Le,jt)|0,b=b+Math.imul(Ge,zt)|0,B=B+Math.imul(Ge,jt)|0,T=T+Math.imul(pe,Ot)|0,b=b+Math.imul(pe,St)|0,b=b+Math.imul(Ae,Ot)|0,B=B+Math.imul(Ae,St)|0;var hi=(O+T|0)+((b&8191)<<13)|0;O=(B+(b>>>13)|0)+(hi>>>26)|0,hi&=67108863,T=Math.imul(bt,Fe),b=Math.imul(bt,et),b=b+Math.imul(Xe,Fe)|0,B=Math.imul(Xe,et),T=T+Math.imul(xt,tt)|0,b=b+Math.imul(xt,lt)|0,b=b+Math.imul(nt,tt)|0,B=B+Math.imul(nt,lt)|0,T=T+Math.imul(Ue,ft)|0,b=b+Math.imul(Ue,Et)|0,b=b+Math.imul(He,ft)|0,B=B+Math.imul(He,Et)|0,T=T+Math.imul(xe,At)|0,b=b+Math.imul(xe,_t)|0,b=b+Math.imul(Ve,At)|0,B=B+Math.imul(Ve,_t)|0,T=T+Math.imul(Ke,zt)|0,b=b+Math.imul(Ke,jt)|0,b=b+Math.imul(ke,zt)|0,B=B+Math.imul(ke,jt)|0,T=T+Math.imul(Le,Ot)|0,b=b+Math.imul(Le,St)|0,b=b+Math.imul(Ge,Ot)|0,B=B+Math.imul(Ge,St)|0;var ve=(O+T|0)+((b&8191)<<13)|0;O=(B+(b>>>13)|0)+(ve>>>26)|0,ve&=67108863,T=Math.imul(bt,tt),b=Math.imul(bt,lt),b=b+Math.imul(Xe,tt)|0,B=Math.imul(Xe,lt),T=T+Math.imul(xt,ft)|0,b=b+Math.imul(xt,Et)|0,b=b+Math.imul(nt,ft)|0,B=B+Math.imul(nt,Et)|0,T=T+Math.imul(Ue,At)|0,b=b+Math.imul(Ue,_t)|0,b=b+Math.imul(He,At)|0,B=B+Math.imul(He,_t)|0,T=T+Math.imul(xe,zt)|0,b=b+Math.imul(xe,jt)|0,b=b+Math.imul(Ve,zt)|0,B=B+Math.imul(Ve,jt)|0,T=T+Math.imul(Ke,Ot)|0,b=b+Math.imul(Ke,St)|0,b=b+Math.imul(ke,Ot)|0,B=B+Math.imul(ke,St)|0;var Ee=(O+T|0)+((b&8191)<<13)|0;O=(B+(b>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,T=Math.imul(bt,ft),b=Math.imul(bt,Et),b=b+Math.imul(Xe,ft)|0,B=Math.imul(Xe,Et),T=T+Math.imul(xt,At)|0,b=b+Math.imul(xt,_t)|0,b=b+Math.imul(nt,At)|0,B=B+Math.imul(nt,_t)|0,T=T+Math.imul(Ue,zt)|0,b=b+Math.imul(Ue,jt)|0,b=b+Math.imul(He,zt)|0,B=B+Math.imul(He,jt)|0,T=T+Math.imul(xe,Ot)|0,b=b+Math.imul(xe,St)|0,b=b+Math.imul(Ve,Ot)|0,B=B+Math.imul(Ve,St)|0;var Ne=(O+T|0)+((b&8191)<<13)|0;O=(B+(b>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,T=Math.imul(bt,At),b=Math.imul(bt,_t),b=b+Math.imul(Xe,At)|0,B=Math.imul(Xe,_t),T=T+Math.imul(xt,zt)|0,b=b+Math.imul(xt,jt)|0,b=b+Math.imul(nt,zt)|0,B=B+Math.imul(nt,jt)|0,T=T+Math.imul(Ue,Ot)|0,b=b+Math.imul(Ue,St)|0,b=b+Math.imul(He,Ot)|0,B=B+Math.imul(He,St)|0;var $t=(O+T|0)+((b&8191)<<13)|0;O=(B+(b>>>13)|0)+($t>>>26)|0,$t&=67108863,T=Math.imul(bt,zt),b=Math.imul(bt,jt),b=b+Math.imul(Xe,zt)|0,B=Math.imul(Xe,jt),T=T+Math.imul(xt,Ot)|0,b=b+Math.imul(xt,St)|0,b=b+Math.imul(nt,Ot)|0,B=B+Math.imul(nt,St)|0;var vt=(O+T|0)+((b&8191)<<13)|0;O=(B+(b>>>13)|0)+(vt>>>26)|0,vt&=67108863,T=Math.imul(bt,Ot),b=Math.imul(bt,St),b=b+Math.imul(Xe,Ot)|0,B=Math.imul(Xe,St);var Er=(O+T|0)+((b&8191)<<13)|0;return O=(B+(b>>>13)|0)+(Er>>>26)|0,Er&=67108863,D[0]=Yr,D[1]=Mr,D[2]=Qr,D[3]=wn,D[4]=kn,D[5]=Ji,D[6]=Xi,D[7]=Ut,D[8]=Ls,D[9]=vs,D[10]=Fs,D[11]=Jn,D[12]=hi,D[13]=ve,D[14]=Ee,D[15]=Ne,D[16]=$t,D[17]=vt,D[18]=Er,O!==0&&(D[19]=O,R.length++),R};Math.imul||(z=P);function L(I,v,C){C.negative=v.negative^I.negative,C.length=I.length+v.length;for(var R=0,_=0,j=0;j<C.length-1;j++){var D=_;_=0;for(var O=R&67108863,T=Math.min(j,v.length-1),b=Math.max(0,j-I.length+1);b<=T;b++){var B=j-b,te=I.words[B]|0,M=v.words[b]|0,K=te*M,q=K&67108863;D=D+(K/67108864|0)|0,q=q+O|0,O=q&67108863,D=D+(q>>>26)|0,_+=D>>>26,D&=67108863}C.words[j]=O,R=D,D=_}return R!==0?C.words[j]=R:C.length--,C._strip()}function $(I,v,C){return L(I,v,C)}l.prototype.mulTo=function(v,C){var R,_=this.length+v.length;return this.length===10&&v.length===10?R=z(this,v,C):_<63?R=P(this,v,C):_<1024?R=L(this,v,C):R=$(this,v,C),R},l.prototype.mul=function(v){var C=new l(null);return C.words=new Array(this.length+v.length),this.mulTo(v,C)},l.prototype.mulf=function(v){var C=new l(null);return C.words=new Array(this.length+v.length),$(this,v,C)},l.prototype.imul=function(v){return this.clone().mulTo(v,this)},l.prototype.imuln=function(v){var C=v<0;C&&(v=-v),n(typeof v=="number"),n(v<67108864);for(var R=0,_=0;_<this.length;_++){var j=(this.words[_]|0)*v,D=(j&67108863)+(R&67108863);R>>=26,R+=j/67108864|0,R+=D>>>26,this.words[_]=D&67108863}return R!==0&&(this.words[_]=R,this.length++),this.length=v===0?1:this.length,C?this.ineg():this},l.prototype.muln=function(v){return this.clone().imuln(v)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(v){var C=A(v);if(C.length===0)return new l(1);for(var R=this,_=0;_<C.length&&C[_]===0;_++,R=R.sqr());if(++_<C.length)for(var j=R.sqr();_<C.length;_++,j=j.sqr())C[_]!==0&&(R=R.mul(j));return R},l.prototype.iushln=function(v){n(typeof v=="number"&&v>=0);var C=v%26,R=(v-C)/26,_=67108863>>>26-C<<26-C,j;if(C!==0){var D=0;for(j=0;j<this.length;j++){var O=this.words[j]&_,T=(this.words[j]|0)-O<<C;this.words[j]=T|D,D=O>>>26-C}D&&(this.words[j]=D,this.length++)}if(R!==0){for(j=this.length-1;j>=0;j--)this.words[j+R]=this.words[j];for(j=0;j<R;j++)this.words[j]=0;this.length+=R}return this._strip()},l.prototype.ishln=function(v){return n(this.negative===0),this.iushln(v)},l.prototype.iushrn=function(v,C,R){n(typeof v=="number"&&v>=0);var _;C?_=(C-C%26)/26:_=0;var j=v%26,D=Math.min((v-j)/26,this.length),O=67108863^67108863>>>j<<j,T=R;if(_-=D,_=Math.max(0,_),T){for(var b=0;b<D;b++)T.words[b]=this.words[b];T.length=D}if(D!==0)if(this.length>D)for(this.length-=D,b=0;b<this.length;b++)this.words[b]=this.words[b+D];else this.words[0]=0,this.length=1;var B=0;for(b=this.length-1;b>=0&&(B!==0||b>=_);b--){var te=this.words[b]|0;this.words[b]=B<<26-j|te>>>j,B=te&O}return T&&B!==0&&(T.words[T.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(v,C,R){return n(this.negative===0),this.iushrn(v,C,R)},l.prototype.shln=function(v){return this.clone().ishln(v)},l.prototype.ushln=function(v){return this.clone().iushln(v)},l.prototype.shrn=function(v){return this.clone().ishrn(v)},l.prototype.ushrn=function(v){return this.clone().iushrn(v)},l.prototype.testn=function(v){n(typeof v=="number"&&v>=0);var C=v%26,R=(v-C)/26,_=1<<C;if(this.length<=R)return!1;var j=this.words[R];return!!(j&_)},l.prototype.imaskn=function(v){n(typeof v=="number"&&v>=0);var C=v%26,R=(v-C)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=R)return this;if(C!==0&&R++,this.length=Math.min(R,this.length),C!==0){var _=67108863^67108863>>>C<<C;this.words[this.length-1]&=_}return this._strip()},l.prototype.maskn=function(v){return this.clone().imaskn(v)},l.prototype.iaddn=function(v){return n(typeof v=="number"),n(v<67108864),v<0?this.isubn(-v):this.negative!==0?this.length===1&&(this.words[0]|0)<=v?(this.words[0]=v-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},l.prototype._iaddn=function(v){this.words[0]+=v;for(var C=0;C<this.length&&this.words[C]>=67108864;C++)this.words[C]-=67108864,C===this.length-1?this.words[C+1]=1:this.words[C+1]++;return this.length=Math.max(this.length,C+1),this},l.prototype.isubn=function(v){if(n(typeof v=="number"),n(v<67108864),v<0)return this.iaddn(-v);if(this.negative!==0)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var C=0;C<this.length&&this.words[C]<0;C++)this.words[C]+=67108864,this.words[C+1]-=1;return this._strip()},l.prototype.addn=function(v){return this.clone().iaddn(v)},l.prototype.subn=function(v){return this.clone().isubn(v)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(v,C,R){var _=v.length+R,j;this._expand(_);var D,O=0;for(j=0;j<v.length;j++){D=(this.words[j+R]|0)+O;var T=(v.words[j]|0)*C;D-=T&67108863,O=(D>>26)-(T/67108864|0),this.words[j+R]=D&67108863}for(;j<this.length-R;j++)D=(this.words[j+R]|0)+O,O=D>>26,this.words[j+R]=D&67108863;if(O===0)return this._strip();for(n(O===-1),O=0,j=0;j<this.length;j++)D=-(this.words[j]|0)+O,O=D>>26,this.words[j]=D&67108863;return this.negative=1,this._strip()},l.prototype._wordDiv=function(v,C){var R=this.length-v.length,_=this.clone(),j=v,D=j.words[j.length-1]|0,O=this._countBits(D);R=26-O,R!==0&&(j=j.ushln(R),_.iushln(R),D=j.words[j.length-1]|0);var T=_.length-j.length,b;if(C!=="mod"){b=new l(null),b.length=T+1,b.words=new Array(b.length);for(var B=0;B<b.length;B++)b.words[B]=0}var te=_.clone()._ishlnsubmul(j,1,T);te.negative===0&&(_=te,b&&(b.words[T]=1));for(var M=T-1;M>=0;M--){var K=(_.words[j.length+M]|0)*67108864+(_.words[j.length+M-1]|0);for(K=Math.min(K/D|0,67108863),_._ishlnsubmul(j,K,M);_.negative!==0;)K--,_.negative=0,_._ishlnsubmul(j,1,M),_.isZero()||(_.negative^=1);b&&(b.words[M]=K)}return b&&b._strip(),_._strip(),C!=="div"&&R!==0&&_.iushrn(R),{div:b||null,mod:_}},l.prototype.divmod=function(v,C,R){if(n(!v.isZero()),this.isZero())return{div:new l(0),mod:new l(0)};var _,j,D;return this.negative!==0&&v.negative===0?(D=this.neg().divmod(v,C),C!=="mod"&&(_=D.div.neg()),C!=="div"&&(j=D.mod.neg(),R&&j.negative!==0&&j.iadd(v)),{div:_,mod:j}):this.negative===0&&v.negative!==0?(D=this.divmod(v.neg(),C),C!=="mod"&&(_=D.div.neg()),{div:_,mod:D.mod}):(this.negative&v.negative)!==0?(D=this.neg().divmod(v.neg(),C),C!=="div"&&(j=D.mod.neg(),R&&j.negative!==0&&j.isub(v)),{div:D.div,mod:j}):v.length>this.length||this.cmp(v)<0?{div:new l(0),mod:this}:v.length===1?C==="div"?{div:this.divn(v.words[0]),mod:null}:C==="mod"?{div:null,mod:new l(this.modrn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new l(this.modrn(v.words[0]))}:this._wordDiv(v,C)},l.prototype.div=function(v){return this.divmod(v,"div",!1).div},l.prototype.mod=function(v){return this.divmod(v,"mod",!1).mod},l.prototype.umod=function(v){return this.divmod(v,"mod",!0).mod},l.prototype.divRound=function(v){var C=this.divmod(v);if(C.mod.isZero())return C.div;var R=C.div.negative!==0?C.mod.isub(v):C.mod,_=v.ushrn(1),j=v.andln(1),D=R.cmp(_);return D<0||j===1&&D===0?C.div:C.div.negative!==0?C.div.isubn(1):C.div.iaddn(1)},l.prototype.modrn=function(v){var C=v<0;C&&(v=-v),n(v<=67108863);for(var R=(1<<26)%v,_=0,j=this.length-1;j>=0;j--)_=(R*_+(this.words[j]|0))%v;return C?-_:_},l.prototype.modn=function(v){return this.modrn(v)},l.prototype.idivn=function(v){var C=v<0;C&&(v=-v),n(v<=67108863);for(var R=0,_=this.length-1;_>=0;_--){var j=(this.words[_]|0)+R*67108864;this.words[_]=j/v|0,R=j%v}return this._strip(),C?this.ineg():this},l.prototype.divn=function(v){return this.clone().idivn(v)},l.prototype.egcd=function(v){n(v.negative===0),n(!v.isZero());var C=this,R=v.clone();C.negative!==0?C=C.umod(v):C=C.clone();for(var _=new l(1),j=new l(0),D=new l(0),O=new l(1),T=0;C.isEven()&&R.isEven();)C.iushrn(1),R.iushrn(1),++T;for(var b=R.clone(),B=C.clone();!C.isZero();){for(var te=0,M=1;(C.words[0]&M)===0&&te<26;++te,M<<=1);if(te>0)for(C.iushrn(te);te-- >0;)(_.isOdd()||j.isOdd())&&(_.iadd(b),j.isub(B)),_.iushrn(1),j.iushrn(1);for(var K=0,q=1;(R.words[0]&q)===0&&K<26;++K,q<<=1);if(K>0)for(R.iushrn(K);K-- >0;)(D.isOdd()||O.isOdd())&&(D.iadd(b),O.isub(B)),D.iushrn(1),O.iushrn(1);C.cmp(R)>=0?(C.isub(R),_.isub(D),j.isub(O)):(R.isub(C),D.isub(_),O.isub(j))}return{a:D,b:O,gcd:R.iushln(T)}},l.prototype._invmp=function(v){n(v.negative===0),n(!v.isZero());var C=this,R=v.clone();C.negative!==0?C=C.umod(v):C=C.clone();for(var _=new l(1),j=new l(0),D=R.clone();C.cmpn(1)>0&&R.cmpn(1)>0;){for(var O=0,T=1;(C.words[0]&T)===0&&O<26;++O,T<<=1);if(O>0)for(C.iushrn(O);O-- >0;)_.isOdd()&&_.iadd(D),_.iushrn(1);for(var b=0,B=1;(R.words[0]&B)===0&&b<26;++b,B<<=1);if(b>0)for(R.iushrn(b);b-- >0;)j.isOdd()&&j.iadd(D),j.iushrn(1);C.cmp(R)>=0?(C.isub(R),_.isub(j)):(R.isub(C),j.isub(_))}var te;return C.cmpn(1)===0?te=_:te=j,te.cmpn(0)<0&&te.iadd(v),te},l.prototype.gcd=function(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var C=this.clone(),R=v.clone();C.negative=0,R.negative=0;for(var _=0;C.isEven()&&R.isEven();_++)C.iushrn(1),R.iushrn(1);do{for(;C.isEven();)C.iushrn(1);for(;R.isEven();)R.iushrn(1);var j=C.cmp(R);if(j<0){var D=C;C=R,R=D}else if(j===0||R.cmpn(1)===0)break;C.isub(R)}while(!0);return R.iushln(_)},l.prototype.invm=function(v){return this.egcd(v).a.umod(v)},l.prototype.isEven=function(){return(this.words[0]&1)===0},l.prototype.isOdd=function(){return(this.words[0]&1)===1},l.prototype.andln=function(v){return this.words[0]&v},l.prototype.bincn=function(v){n(typeof v=="number");var C=v%26,R=(v-C)/26,_=1<<C;if(this.length<=R)return this._expand(R+1),this.words[R]|=_,this;for(var j=_,D=R;j!==0&&D<this.length;D++){var O=this.words[D]|0;O+=j,j=O>>>26,O&=67108863,this.words[D]=O}return j!==0&&(this.words[D]=j,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(v){var C=v<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;this._strip();var R;if(this.length>1)R=1;else{C&&(v=-v),n(v<=67108863,"Number is too big");var _=this.words[0]|0;R=_===v?0:_<v?-1:1}return this.negative!==0?-R|0:R},l.prototype.cmp=function(v){if(this.negative!==0&&v.negative===0)return-1;if(this.negative===0&&v.negative!==0)return 1;var C=this.ucmp(v);return this.negative!==0?-C|0:C},l.prototype.ucmp=function(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var C=0,R=this.length-1;R>=0;R--){var _=this.words[R]|0,j=v.words[R]|0;if(_!==j){_<j?C=-1:_>j&&(C=1);break}}return C},l.prototype.gtn=function(v){return this.cmpn(v)===1},l.prototype.gt=function(v){return this.cmp(v)===1},l.prototype.gten=function(v){return this.cmpn(v)>=0},l.prototype.gte=function(v){return this.cmp(v)>=0},l.prototype.ltn=function(v){return this.cmpn(v)===-1},l.prototype.lt=function(v){return this.cmp(v)===-1},l.prototype.lten=function(v){return this.cmpn(v)<=0},l.prototype.lte=function(v){return this.cmp(v)<=0},l.prototype.eqn=function(v){return this.cmpn(v)===0},l.prototype.eq=function(v){return this.cmp(v)===0},l.red=function(v){return new X(v)},l.prototype.toRed=function(v){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),v.convertTo(this)._forceRed(v)},l.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(v){return this.red=v,this},l.prototype.forceRed=function(v){return n(!this.red,"Already a number in reduction context"),this._forceRed(v)},l.prototype.redAdd=function(v){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},l.prototype.redIAdd=function(v){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},l.prototype.redSub=function(v){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},l.prototype.redISub=function(v){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},l.prototype.redShl=function(v){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},l.prototype.redMul=function(v){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},l.prototype.redIMul=function(v){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},l.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(v){return n(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)};var U={k256:null,p224:null,p192:null,p25519:null};function W(I,v){this.name=I,this.p=new l(v,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var v=new l(null);return v.words=new Array(Math.ceil(this.n/13)),v},W.prototype.ireduce=function(v){var C=v,R;do this.split(C,this.tmp),C=this.imulK(C),C=C.iadd(this.tmp),R=C.bitLength();while(R>this.n);var _=R<this.n?-1:C.ucmp(this.p);return _===0?(C.words[0]=0,C.length=1):_>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},W.prototype.split=function(v,C){v.iushrn(this.n,0,C)},W.prototype.imulK=function(v){return v.imul(this.k)};function V(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(V,W),V.prototype.split=function(v,C){for(var R=4194303,_=Math.min(v.length,9),j=0;j<_;j++)C.words[j]=v.words[j];if(C.length=_,v.length<=9){v.words[0]=0,v.length=1;return}var D=v.words[9];for(C.words[C.length++]=D&R,j=10;j<v.length;j++){var O=v.words[j]|0;v.words[j-10]=(O&R)<<4|D>>>22,D=O}D>>>=22,v.words[j-10]=D,D===0&&v.length>10?v.length-=10:v.length-=9},V.prototype.imulK=function(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var C=0,R=0;R<v.length;R++){var _=v.words[R]|0;C+=_*977,v.words[R]=C&67108863,C=_*64+(C/67108864|0)}return v.words[v.length-1]===0&&(v.length--,v.words[v.length-1]===0&&v.length--),v};function J(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(J,W);function re(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(re,W);function Q(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Q,W),Q.prototype.imulK=function(v){for(var C=0,R=0;R<v.length;R++){var _=(v.words[R]|0)*19+C,j=_&67108863;_>>>=26,v.words[R]=j,C=_}return C!==0&&(v.words[v.length++]=C),v},l._prime=function(v){if(U[v])return U[v];var C;if(v==="k256")C=new V;else if(v==="p224")C=new J;else if(v==="p192")C=new re;else if(v==="p25519")C=new Q;else throw new Error("Unknown prime "+v);return U[v]=C,C};function X(I){if(typeof I=="string"){var v=l._prime(I);this.m=v.p,this.prime=v}else n(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}X.prototype._verify1=function(v){n(v.negative===0,"red works only with positives"),n(v.red,"red works only with red numbers")},X.prototype._verify2=function(v,C){n((v.negative|C.negative)===0,"red works only with positives"),n(v.red&&v.red===C.red,"red works only with red numbers")},X.prototype.imod=function(v){return this.prime?this.prime.ireduce(v)._forceRed(this):(p(v,v.umod(this.m)._forceRed(this)),v)},X.prototype.neg=function(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},X.prototype.add=function(v,C){this._verify2(v,C);var R=v.add(C);return R.cmp(this.m)>=0&&R.isub(this.m),R._forceRed(this)},X.prototype.iadd=function(v,C){this._verify2(v,C);var R=v.iadd(C);return R.cmp(this.m)>=0&&R.isub(this.m),R},X.prototype.sub=function(v,C){this._verify2(v,C);var R=v.sub(C);return R.cmpn(0)<0&&R.iadd(this.m),R._forceRed(this)},X.prototype.isub=function(v,C){this._verify2(v,C);var R=v.isub(C);return R.cmpn(0)<0&&R.iadd(this.m),R},X.prototype.shl=function(v,C){return this._verify1(v),this.imod(v.ushln(C))},X.prototype.imul=function(v,C){return this._verify2(v,C),this.imod(v.imul(C))},X.prototype.mul=function(v,C){return this._verify2(v,C),this.imod(v.mul(C))},X.prototype.isqr=function(v){return this.imul(v,v.clone())},X.prototype.sqr=function(v){return this.mul(v,v)},X.prototype.sqrt=function(v){if(v.isZero())return v.clone();var C=this.m.andln(3);if(n(C%2===1),C===3){var R=this.m.add(new l(1)).iushrn(2);return this.pow(v,R)}for(var _=this.m.subn(1),j=0;!_.isZero()&&_.andln(1)===0;)j++,_.iushrn(1);n(!_.isZero());var D=new l(1).toRed(this),O=D.redNeg(),T=this.m.subn(1).iushrn(1),b=this.m.bitLength();for(b=new l(2*b*b).toRed(this);this.pow(b,T).cmp(O)!==0;)b.redIAdd(O);for(var B=this.pow(b,_),te=this.pow(v,_.addn(1).iushrn(1)),M=this.pow(v,_),K=j;M.cmp(D)!==0;){for(var q=M,Y=0;q.cmp(D)!==0;Y++)q=q.redSqr();n(Y<K);var ie=this.pow(B,new l(1).iushln(K-Y-1));te=te.redMul(ie),B=ie.redSqr(),M=M.redMul(B),K=Y}return te},X.prototype.invm=function(v){var C=v._invmp(this.m);return C.negative!==0?(C.negative=0,this.imod(C).redNeg()):this.imod(C)},X.prototype.pow=function(v,C){if(C.isZero())return new l(1).toRed(this);if(C.cmpn(1)===0)return v.clone();var R=4,_=new Array(1<<R);_[0]=new l(1).toRed(this),_[1]=v;for(var j=2;j<_.length;j++)_[j]=this.mul(_[j-1],v);var D=_[0],O=0,T=0,b=C.bitLength()%26;for(b===0&&(b=26),j=C.length-1;j>=0;j--){for(var B=C.words[j],te=b-1;te>=0;te--){var M=B>>te&1;if(D!==_[0]&&(D=this.sqr(D)),M===0&&O===0){T=0;continue}O<<=1,O|=M,T++,!(T!==R&&(j!==0||te!==0))&&(D=this.mul(D,_[O]),T=0,O=0)}b=26}return D},X.prototype.convertTo=function(v){var C=v.umod(this.m);return C===v?C.clone():C},X.prototype.convertFrom=function(v){var C=v.clone();return C.red=null,C},l.mont=function(v){return new H(v)};function H(I){X.call(this,I),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(H,X),H.prototype.convertTo=function(v){return this.imod(v.ushln(this.shift))},H.prototype.convertFrom=function(v){var C=this.imod(v.mul(this.rinv));return C.red=null,C},H.prototype.imul=function(v,C){if(v.isZero()||C.isZero())return v.words[0]=0,v.length=1,v;var R=v.imul(C),_=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=R.isub(_).iushrn(this.shift),D=j;return j.cmp(this.m)>=0?D=j.isub(this.m):j.cmpn(0)<0&&(D=j.iadd(this.m)),D._forceRed(this)},H.prototype.mul=function(v,C){if(v.isZero()||C.isZero())return new l(0)._forceRed(this);var R=v.mul(C),_=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=R.isub(_).iushrn(this.shift),D=j;return j.cmp(this.m)>=0?D=j.isub(this.m):j.cmpn(0)<0&&(D=j.iadd(this.m)),D._forceRed(this)},H.prototype.invm=function(v){var C=this.imod(v._invmp(this.m).mul(this.r2));return C._forceRed(this)}})(t,RC)}(sd)),sd.exports}var _C=MC();const Qe=Ga(_C),IC="logger/5.8.0";let Qv=!1,Jv=!1;const id={debug:1,default:2,info:2,warning:3,error:4,off:5};let Xv=id.default,rm=null;function DC(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const Zv=DC();var Km;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(Km||(Km={}));var us;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(us||(us={}));const ey="0123456789abcdef";class ee{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();id[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Xv>id[n])&&console.log.apply(console,r)}debug(...e){this._log(ee.levels.DEBUG,e)}info(...e){this._log(ee.levels.INFO,e)}warn(...e){this._log(ee.levels.WARNING,e)}makeError(e,r,n){if(Jv)return this.makeError("censored error",r,{});r||(r=ee.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(f=>{const h=n[f];try{if(h instanceof Uint8Array){let p="";for(let y=0;y<h.length;y++)p+=ey[h[y]>>4],p+=ey[h[y]&15];i.push(f+"=Uint8Array(0x"+p+")")}else i.push(f+"="+JSON.stringify(h))}catch{i.push(f+"="+JSON.stringify(n[f].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const l=e;let c="";switch(r){case us.NUMERIC_FAULT:{c="NUMERIC_FAULT";const f=e;switch(f){case"overflow":case"underflow":case"division-by-zero":c+="-"+f;break;case"negative-power":case"negative-width":c+="-unsupported";break;case"unbound-bitwise-result":c+="-unbound-result";break}break}case us.CALL_EXCEPTION:case us.INSUFFICIENT_FUNDS:case us.MISSING_NEW:case us.NONCE_EXPIRED:case us.REPLACEMENT_UNDERPRICED:case us.TRANSACTION_REPLACED:case us.UNPREDICTABLE_GAS_LIMIT:c=r;break}c&&(e+=" [ See: https://links.ethers.org/v5-errors-"+c+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const u=new Error(e);return u.reason=l,u.code=r,Object.keys(n).forEach(function(f){u[f]=n[f]}),u}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,ee.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){Zv&&this.throwError("platform missing String.prototype.normalize",ee.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Zv})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,ee.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,ee.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,ee.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,ee.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",ee.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",ee.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",ee.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return rm||(rm=new ee(IC)),rm}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",ee.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Qv){if(!e)return;this.globalLogger().throwError("error censorship permanent",ee.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Jv=!!e,Qv=!!r}static setLogLevel(e){const r=id[e.toLowerCase()];if(r==null){ee.globalLogger().warn("invalid log level - "+e);return}Xv=r}static from(e){return new ee(e)}}ee.errors=us;ee.levels=Km;const zC="bytes/5.8.0",cr=new ee(zC);function wb(t){return!!t.toHexString}function Ia(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Ia(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Np(t){return ct(t)&&!(t.length%2)||Ya(t)}function ty(t){return typeof t=="number"&&t==t&&t%1===0}function Ya(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!ty(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!ty(r)||r<0||r>=256)return!1}return!0}function qe(t,e){if(e||(e={}),typeof t=="number"){cr.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Ia(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),wb(t)&&(t=t.toHexString()),ct(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":cr.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Ia(new Uint8Array(n))}return Ya(t)?Ia(new Uint8Array(t)):cr.throwArgumentError("invalid arrayify value","value",t)}function Rn(t){const e=t.map(i=>qe(i)),r=e.reduce((i,l)=>i+l.length,0),n=new Uint8Array(r);return e.reduce((i,l)=>(n.set(l,i),i+l.length),0),Ia(n)}function Fa(t){let e=qe(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function OC(t,e){t=qe(t),t.length>e&&cr.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Ia(r)}function ct(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const nm="0123456789abcdef";function ze(t,e){if(e||(e={}),typeof t=="number"){cr.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=nm[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),wb(t))return t.toHexString();if(ct(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":cr.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Ya(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=nm[(i&240)>>4]+nm[i&15]}return r}return cr.throwArgumentError("invalid hexlify value","value",t)}function To(t){if(typeof t!="string")t=ze(t);else if(!ct(t)||t.length%2)return null;return(t.length-2)/2}function Hr(t,e,r){return typeof t!="string"?t=ze(t):(!ct(t)||t.length%2)&&cr.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function gn(t){let e="0x";return t.forEach(r=>{e+=ze(r).substring(2)}),e}function Ud(t){const e=LC(ze(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function LC(t){typeof t!="string"&&(t=ze(t)),ct(t)||cr.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function er(t,e){for(typeof t!="string"?t=ze(t):ct(t)||cr.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&cr.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function $d(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Np(t)){let r=qe(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=ze(r.slice(0,32)),e.s=ze(r.slice(32,64))):r.length===65?(e.r=ze(r.slice(0,32)),e.s=ze(r.slice(32,64)),e.v=r[64]):cr.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:cr.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=ze(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=OC(qe(e._vs),32);e._vs=ze(i);const l=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=l:e.recoveryParam!==l&&cr.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const c=ze(i);e.s==null?e.s=c:e.s!==c&&cr.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?cr.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&cr.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!ct(e.r)?cr.throwArgumentError("signature missing or invalid r","signature",t):e.r=er(e.r,32),e.s==null||!ct(e.s)?cr.throwArgumentError("signature missing or invalid s","signature",t):e.s=er(e.s,32);const r=qe(e.s);r[0]>=128&&cr.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=ze(r);e._vs&&(ct(e._vs)||cr.throwArgumentError("signature invalid _vs","signature",t),e._vs=er(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&cr.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const kb="bignumber/5.8.0";var bd=Qe.BN;const Qs=new ee(kb),sm={},ry=9007199254740991;function FC(t){return t!=null&&(ce.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||ct(t)||typeof t=="bigint"||Ya(t))}let ny=!1;class ce{constructor(e,r){e!==sm&&Qs.throwError("cannot call constructor directly; use BigNumber.from",ee.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return mn(yt(this).fromTwos(e))}toTwos(e){return mn(yt(this).toTwos(e))}abs(){return this._hex[0]==="-"?ce.from(this._hex.substring(1)):this}add(e){return mn(yt(this).add(yt(e)))}sub(e){return mn(yt(this).sub(yt(e)))}div(e){return ce.from(e).isZero()&&Hn("division-by-zero","div"),mn(yt(this).div(yt(e)))}mul(e){return mn(yt(this).mul(yt(e)))}mod(e){const r=yt(e);return r.isNeg()&&Hn("division-by-zero","mod"),mn(yt(this).umod(r))}pow(e){const r=yt(e);return r.isNeg()&&Hn("negative-power","pow"),mn(yt(this).pow(r))}and(e){const r=yt(e);return(this.isNegative()||r.isNeg())&&Hn("unbound-bitwise-result","and"),mn(yt(this).and(r))}or(e){const r=yt(e);return(this.isNegative()||r.isNeg())&&Hn("unbound-bitwise-result","or"),mn(yt(this).or(r))}xor(e){const r=yt(e);return(this.isNegative()||r.isNeg())&&Hn("unbound-bitwise-result","xor"),mn(yt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Hn("negative-width","mask"),mn(yt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Hn("negative-width","shl"),mn(yt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Hn("negative-width","shr"),mn(yt(this).shrn(e))}eq(e){return yt(this).eq(yt(e))}lt(e){return yt(this).lt(yt(e))}lte(e){return yt(this).lte(yt(e))}gt(e){return yt(this).gt(yt(e))}gte(e){return yt(this).gte(yt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return yt(this).isZero()}toNumber(){try{return yt(this).toNumber()}catch{Hn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Qs.throwError("this platform does not support BigInt",ee.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?ny||(ny=!0,Qs.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Qs.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",ee.errors.UNEXPECTED_ARGUMENT,{}):Qs.throwError("BigNumber.toString does not accept parameters",ee.errors.UNEXPECTED_ARGUMENT,{})),yt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof ce)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new ce(sm,rc(e)):e.match(/^-?[0-9]+$/)?new ce(sm,rc(new bd(e))):Qs.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Hn("underflow","BigNumber.from",e),(e>=ry||e<=-ry)&&Hn("overflow","BigNumber.from",e),ce.from(String(e));const r=e;if(typeof r=="bigint")return ce.from(r.toString());if(Ya(r))return ce.from(ze(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return ce.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(ct(n)||n[0]==="-"&&ct(n.substring(1))))return ce.from(n)}return Qs.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function rc(t){if(typeof t!="string")return rc(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Qs.throwArgumentError("invalid hex","value",t),t=rc(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function mn(t){return ce.from(rc(t))}function yt(t){const e=ce.from(t).toHexString();return e[0]==="-"?new bd("-"+e.substring(3),16):new bd(e.substring(2),16)}function Hn(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Qs.throwError(t,ee.errors.NUMERIC_FAULT,n)}function BC(t){return new bd(t,36).toString(16)}const tn=new ee(kb),ql={},Nb=ce.from(0),Eb=ce.from(-1);function Cb(t,e,r,n){const i={fault:e,operation:r};return n!==void 0&&(i.value=n),tn.throwError(t,ee.errors.NUMERIC_FAULT,i)}let Vl="0";for(;Vl.length<256;)Vl+=Vl;function Ep(t){if(typeof t!="number")try{t=ce.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+Vl.substring(0,t):tn.throwArgumentError("invalid decimal size","decimals",t)}function od(t,e){e==null&&(e=0);const r=Ep(e);t=ce.from(t);const n=t.lt(Nb);n&&(t=t.mul(Eb));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const l=t.div(r).toString();return r.length===1?t=l:t=l+"."+i,n&&(t="-"+t),t}function Es(t,e){e==null&&(e=0);const r=Ep(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&tn.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&tn.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&tn.throwArgumentError("too many decimal points","value",t);let l=i[0],c=i[1];for(l||(l="0"),c||(c="0");c[c.length-1]==="0";)c=c.substring(0,c.length-1);for(c.length>r.length-1&&Cb("fractional component exceeds decimals","underflow","parseFixed"),c===""&&(c="0");c.length<r.length-1;)c+="0";const u=ce.from(l),f=ce.from(c);let h=u.mul(r).add(f);return n&&(h=h.mul(Eb)),h}class Da{constructor(e,r,n,i){e!==ql&&tn.throwError("cannot use FixedFormat constructor; use FixedFormat.from",ee.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=Ep(i),Object.freeze(this)}static from(e){if(e instanceof Da)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const l=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);l||tn.throwArgumentError("invalid fixed format","format",e),r=l[1]!=="u",n=parseInt(l[2]),i=parseInt(l[3])}}else if(e){const l=(c,u,f)=>e[c]==null?f:(typeof e[c]!==u&&tn.throwArgumentError("invalid fixed format ("+c+" not "+u+")","format."+c,e[c]),e[c]);r=l("signed","boolean",r),n=l("width","number",n),i=l("decimals","number",i)}return n%8&&tn.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&tn.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Da(ql,r,n,i)}}class Dr{constructor(e,r,n,i){e!==ql&&tn.throwError("cannot use FixedNumber constructor; use FixedNumber.from",ee.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&tn.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=Es(this._value,this.format.decimals),n=Es(e._value,e.format.decimals);return Dr.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=Es(this._value,this.format.decimals),n=Es(e._value,e.format.decimals);return Dr.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=Es(this._value,this.format.decimals),n=Es(e._value,e.format.decimals);return Dr.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=Es(this._value,this.format.decimals),n=Es(e._value,e.format.decimals);return Dr.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=Dr.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(sy.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=Dr.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(sy.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&tn.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=Dr.from("1"+Vl.substring(0,e),this.format),i=UC.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&tn.throwArgumentError("invalid byte width","width",e);const r=ce.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return er(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Dr.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!FC(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),Dr.fromString(od(e,r),Da.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=Da.from(r),i=Es(e,n.decimals);!n.signed&&i.lt(Nb)&&Cb("unsigned value cannot be negative","overflow","value",e);let l=null;n.signed?l=i.toTwos(n.width).toHexString():(l=i.toHexString(),l=er(l,n.width/8));const c=od(i,n.decimals);return new Dr(ql,l,c,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=Da.from(r);if(qe(e).length>n.width/8)throw new Error("overflow");let i=ce.from(e);n.signed&&(i=i.fromTwos(n.width));const l=i.toTwos((n.signed?0:1)+n.width).toHexString(),c=od(i,n.decimals);return new Dr(ql,l,c,n)}static from(e,r){if(typeof e=="string")return Dr.fromString(e,r);if(Ya(e))return Dr.fromBytes(e,r);try{return Dr.fromValue(e,0,r)}catch(n){if(n.code!==ee.errors.INVALID_ARGUMENT)throw n}return tn.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const sy=Dr.from(1),UC=Dr.from("0.5"),$C="properties/5.8.0";var WC=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(p){try{h(n.next(p))}catch(y){c(y)}}function f(p){try{h(n.throw(p))}catch(y){c(y)}}function h(p){p.done?l(p.value):i(p.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const wd=new ee($C);function fe(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Mn(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function gr(t){return WC(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(l=>({key:n,value:l}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function HC(t,e){(!t||typeof t!="object")&&wd.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||wd.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function Zt(t){const e={};for(const r in t)e[r]=t[r];return e}const qC={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Ab(t){if(t==null||qC[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!Ab(n))return!1}return!0}return wd.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function VC(t){if(Ab(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>_n(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&fe(e,r,_n(n))}return e}return wd.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function _n(t){return VC(t)}class xc{constructor(e){for(const r in e)this[r]=_n(e[r])}}const bc="abi/5.8.0",wt=new ee(bc),Po={};let iy={calldata:!0,memory:!0,storage:!0},GC={calldata:!0,memory:!0};function Du(t,e){if(t==="bytes"||t==="string"){if(iy[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&GC[e])return!0;return(iy[e]||e==="payable")&&wt.throwArgumentError("invalid modifier","name",e),!1}function KC(t,e){let r=t;function n(u){wt.throwArgumentError(`unexpected character at position ${u}`,"param",t)}t=t.replace(/\s/g," ");function i(u){let f={type:"",name:"",parent:u,state:{allowType:!0}};return e&&(f.indexed=!1),f}let l={type:"",name:"",state:{allowType:!0}},c=l;for(let u=0;u<t.length;u++){let f=t[u];switch(f){case"(":c.state.allowType&&c.type===""?c.type="tuple":c.state.allowParams||n(u),c.state.allowType=!1,c.type=Sa(c.type),c.components=[i(c)],c=c.components[0];break;case")":delete c.state,c.name==="indexed"&&(e||n(u),c.indexed=!0,c.name=""),Du(c.type,c.name)&&(c.name=""),c.type=Sa(c.type);let h=c;c=c.parent,c||n(u),delete h.parent,c.state.allowParams=!1,c.state.allowName=!0,c.state.allowArray=!0;break;case",":delete c.state,c.name==="indexed"&&(e||n(u),c.indexed=!0,c.name=""),Du(c.type,c.name)&&(c.name=""),c.type=Sa(c.type);let p=i(c.parent);c.parent.components.push(p),delete c.parent,c=p;break;case" ":c.state.allowType&&c.type!==""&&(c.type=Sa(c.type),delete c.state.allowType,c.state.allowName=!0,c.state.allowParams=!0),c.state.allowName&&c.name!==""&&(c.name==="indexed"?(e||n(u),c.indexed&&n(u),c.indexed=!0,c.name=""):Du(c.type,c.name)?c.name="":c.state.allowName=!1);break;case"[":c.state.allowArray||n(u),c.type+=f,c.state.allowArray=!1,c.state.allowName=!1,c.state.readArray=!0;break;case"]":c.state.readArray||n(u),c.type+=f,c.state.readArray=!1,c.state.allowArray=!0,c.state.allowName=!0;break;default:c.state.allowType?(c.type+=f,c.state.allowParams=!0,c.state.allowArray=!0):c.state.allowName?(c.name+=f,delete c.state.allowArray):c.state.readArray?c.type+=f:n(u)}}return c.parent&&wt.throwArgumentError("unexpected eof","param",t),delete l.state,c.name==="indexed"?(e||n(r.length-7),c.indexed&&n(r.length-7),c.indexed=!0,c.name=""):Du(c.type,c.name)&&(c.name=""),l.type=Sa(l.type),l}function ad(t,e){for(let r in e)fe(t,r,e[r])}const Mt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),YC=new RegExp(/^(.*)\[([0-9]*)\]$/);class Tr{constructor(e,r){e!==Po&&wt.throwError("use fromString",ee.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),ad(this,r);let n=this.type.match(YC);n?ad(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Tr.fromObject({type:n[1],components:this.components}),baseType:"array"}):ad(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Mt.sighash),Mt[e]||wt.throwArgumentError("invalid format type","format",e),e===Mt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Mt.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===Mt.full?", ":",")+")"):r+=this.type,e!==Mt.sighash&&(this.indexed===!0&&(r+=" indexed"),e===Mt.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?Tr.fromString(e,r):Tr.fromObject(e)}static fromObject(e){return Tr.isParamType(e)?e:new Tr(Po,{name:e.name||null,type:Sa(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Tr.fromObject):null})}static fromString(e,r){function n(i){return Tr.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(KC(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function nc(t,e){return JC(t).map(r=>Tr.fromString(r,e))}class ei{constructor(e,r){e!==Po&&wt.throwError("use a static from method",ee.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),ad(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return ei.isFragment(e)?e:typeof e=="string"?ei.fromString(e):ei.fromObject(e)}static fromObject(e){if(ei.isFragment(e))return e;switch(e.type){case"function":return Ts.fromObject(e);case"event":return Zs.fromObject(e);case"constructor":return Ss.fromObject(e);case"error":return Li.fromObject(e);case"fallback":case"receive":return null}return wt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Zs.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?Ts.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?Ss.fromString(e.trim()):e.split(" ")[0]==="error"?Li.fromString(e.substring(5).trim()):wt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class Zs extends ei{format(e){if(e||(e=Mt.sighash),Mt[e]||wt.throwArgumentError("invalid format type","format",e),e===Mt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Mt.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Mt.full?", ":",")+") ",e!==Mt.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?Zs.fromString(e):Zs.fromObject(e)}static fromObject(e){if(Zs.isEventFragment(e))return e;e.type!=="event"&&wt.throwArgumentError("invalid event object","value",e);const r={name:sc(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Tr.fromObject):[],type:"event"};return new Zs(Po,r)}static fromString(e){let r=e.match(ic);r||wt.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:wt.warn("unknown modifier: "+i)}}),Zs.fromObject({name:r[1].trim(),anonymous:n,inputs:nc(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function Sb(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&wt.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||wt.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=ce.from(r[1]),r[0]):t}function Tb(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function Pb(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&wt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&wt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&wt.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&wt.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&wt.throwArgumentError("unable to determine stateMutability","value",t),e}class Ss extends ei{format(e){if(e||(e=Mt.sighash),Mt[e]||wt.throwArgumentError("invalid format type","format",e),e===Mt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===Mt.sighash&&wt.throwError("cannot format a constructor for sighash",ee.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===Mt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?Ss.fromString(e):Ss.fromObject(e)}static fromObject(e){if(Ss.isConstructorFragment(e))return e;e.type!=="constructor"&&wt.throwArgumentError("invalid constructor object","value",e);let r=Pb(e);r.constant&&wt.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Tr.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ce.from(e.gas):null};return new Ss(Po,n)}static fromString(e){let r={type:"constructor"};e=Sb(e,r);let n=e.match(ic);return(!n||n[1].trim()!=="constructor")&&wt.throwArgumentError("invalid constructor string","value",e),r.inputs=nc(n[2].trim(),!1),Tb(n[3].trim(),r),Ss.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class Ts extends Ss{format(e){if(e||(e=Mt.sighash),Mt[e]||wt.throwArgumentError("invalid format type","format",e),e===Mt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Mt.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Mt.full?", ":",")+") ",e!==Mt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?Ts.fromString(e):Ts.fromObject(e)}static fromObject(e){if(Ts.isFunctionFragment(e))return e;e.type!=="function"&&wt.throwArgumentError("invalid function object","value",e);let r=Pb(e);const n={type:e.type,name:sc(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(Tr.fromObject):[],outputs:e.outputs?e.outputs.map(Tr.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ce.from(e.gas):null};return new Ts(Po,n)}static fromString(e){let r={type:"function"};e=Sb(e,r);let n=e.split(" returns ");n.length>2&&wt.throwArgumentError("invalid function string","value",e);let i=n[0].match(ic);if(i||wt.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&sc(r.name),r.inputs=nc(i[2],!1),Tb(i[3].trim(),r),n.length>1){let l=n[1].match(ic);(l[1].trim()!=""||l[3].trim()!="")&&wt.throwArgumentError("unexpected tokens","value",e),r.outputs=nc(l[2],!1)}else r.outputs=[];return Ts.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function oy(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&wt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class Li extends ei{format(e){if(e||(e=Mt.sighash),Mt[e]||wt.throwArgumentError("invalid format type","format",e),e===Mt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Mt.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Mt.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?Li.fromString(e):Li.fromObject(e)}static fromObject(e){if(Li.isErrorFragment(e))return e;e.type!=="error"&&wt.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:sc(e.name),inputs:e.inputs?e.inputs.map(Tr.fromObject):[]};return oy(new Li(Po,r))}static fromString(e){let r={type:"error"},n=e.match(ic);return n||wt.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&sc(r.name),r.inputs=nc(n[2],!1),oy(Li.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function Sa(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const QC=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function sc(t){return(!t||!t.match(QC))&&wt.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const ic=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function JC(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let l=t[i];l===","&&n===0?(e.push(r),r=""):(r+=l,l==="("?n++:l===")"&&(n--,n===-1&&wt.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const Cp=new ee(bc);function XC(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let l in i){const c=n.slice();c.push(l);try{r(c,i[l])}catch(u){e.push({path:c,error:u})}}};return r([],t),e}class oi{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){Cp.throwArgumentError(e,this.localName,r)}}class Ym{constructor(e){fe(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return gn(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Rn(e._data))}writeBytes(e){let r=qe(e);const n=r.length%this.wordSize;return n&&(r=Rn([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=qe(ce.from(e));return r.length>this.wordSize&&Cp.throwError("value out-of-bounds",ee.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Rn([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class kd{constructor(e,r,n,i){fe(this,"_data",qe(e)),fe(this,"wordSize",r||32),fe(this,"_coerceFunc",n),fe(this,"allowLoose",i),this._offset=0}get data(){return ze(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):kd.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:Cp.throwError("data out-of-bounds",ee.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new kd(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return ce.from(this.readBytes(this.wordSize))}}var im={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */var ay;function ZC(){return ay||(ay=1,function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var l=!n&&typeof self=="object",c=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;c?i=gE:l&&(i=self);var u=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,f=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",h="0123456789abcdef".split(""),p=[31,7936,2031616,520093696],y=[4,1024,262144,67108864],k=[1,256,65536,16777216],g=[6,1536,393216,100663296],S=[0,8,16,24],N=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],A=[224,256,384,512],P=[128,256],z=["hex","buffer","arrayBuffer","array","digest"],L={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(M){return Object.prototype.toString.call(M)==="[object Array]"}),f&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(M){return typeof M=="object"&&M.buffer&&M.buffer.constructor===ArrayBuffer});for(var $=function(M,K,q){return function(Y){return new b(M,K,M).update(Y)[q]()}},U=function(M,K,q){return function(Y,ie){return new b(M,K,ie).update(Y)[q]()}},W=function(M,K,q){return function(Y,ie,ue,le){return v["cshake"+M].update(Y,ie,ue,le)[q]()}},V=function(M,K,q){return function(Y,ie,ue,le){return v["kmac"+M].update(Y,ie,ue,le)[q]()}},J=function(M,K,q,Y){for(var ie=0;ie<z.length;++ie){var ue=z[ie];M[ue]=K(q,Y,ue)}return M},re=function(M,K){var q=$(M,K,"hex");return q.create=function(){return new b(M,K,M)},q.update=function(Y){return q.create().update(Y)},J(q,$,M,K)},Q=function(M,K){var q=U(M,K,"hex");return q.create=function(Y){return new b(M,K,Y)},q.update=function(Y,ie){return q.create(ie).update(Y)},J(q,U,M,K)},X=function(M,K){var q=L[M],Y=W(M,K,"hex");return Y.create=function(ie,ue,le){return!ue&&!le?v["shake"+M].create(ie):new b(M,K,ie).bytepad([ue,le],q)},Y.update=function(ie,ue,le,de){return Y.create(ue,le,de).update(ie)},J(Y,W,M,K)},H=function(M,K){var q=L[M],Y=V(M,K,"hex");return Y.create=function(ie,ue,le){return new B(M,K,ue).bytepad(["KMAC",le],q).bytepad([ie],q)},Y.update=function(ie,ue,le,de){return Y.create(ie,le,de).update(ue)},J(Y,V,M,K)},I=[{name:"keccak",padding:k,bits:A,createMethod:re},{name:"sha3",padding:g,bits:A,createMethod:re},{name:"shake",padding:p,bits:P,createMethod:Q},{name:"cshake",padding:y,bits:P,createMethod:X},{name:"kmac",padding:y,bits:P,createMethod:H}],v={},C=[],R=0;R<I.length;++R)for(var _=I[R],j=_.bits,D=0;D<j.length;++D){var O=_.name+"_"+j[D];if(C.push(O),v[O]=_.createMethod(j[D],_.padding),_.name!=="sha3"){var T=_.name+j[D];C.push(T),v[T]=v[O]}}function b(M,K,q){this.blocks=[],this.s=[],this.padding=K,this.outputBits=q,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(M<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=q>>5,this.extraBytes=(q&31)>>3;for(var Y=0;Y<50;++Y)this.s[Y]=0}b.prototype.update=function(M){if(this.finalized)throw new Error(r);var K,q=typeof M;if(q!=="string"){if(q==="object"){if(M===null)throw new Error(e);if(f&&M.constructor===ArrayBuffer)M=new Uint8Array(M);else if(!Array.isArray(M)&&(!f||!ArrayBuffer.isView(M)))throw new Error(e)}else throw new Error(e);K=!0}for(var Y=this.blocks,ie=this.byteCount,ue=M.length,le=this.blockCount,de=0,je=this.s,pe,Ae;de<ue;){if(this.reset)for(this.reset=!1,Y[0]=this.block,pe=1;pe<le+1;++pe)Y[pe]=0;if(K)for(pe=this.start;de<ue&&pe<ie;++de)Y[pe>>2]|=M[de]<<S[pe++&3];else for(pe=this.start;de<ue&&pe<ie;++de)Ae=M.charCodeAt(de),Ae<128?Y[pe>>2]|=Ae<<S[pe++&3]:Ae<2048?(Y[pe>>2]|=(192|Ae>>6)<<S[pe++&3],Y[pe>>2]|=(128|Ae&63)<<S[pe++&3]):Ae<55296||Ae>=57344?(Y[pe>>2]|=(224|Ae>>12)<<S[pe++&3],Y[pe>>2]|=(128|Ae>>6&63)<<S[pe++&3],Y[pe>>2]|=(128|Ae&63)<<S[pe++&3]):(Ae=65536+((Ae&1023)<<10|M.charCodeAt(++de)&1023),Y[pe>>2]|=(240|Ae>>18)<<S[pe++&3],Y[pe>>2]|=(128|Ae>>12&63)<<S[pe++&3],Y[pe>>2]|=(128|Ae>>6&63)<<S[pe++&3],Y[pe>>2]|=(128|Ae&63)<<S[pe++&3]);if(this.lastByteIndex=pe,pe>=ie){for(this.start=pe-ie,this.block=Y[le],pe=0;pe<le;++pe)je[pe]^=Y[pe];te(je),this.reset=!0}else this.start=pe}return this},b.prototype.encode=function(M,K){var q=M&255,Y=1,ie=[q];for(M=M>>8,q=M&255;q>0;)ie.unshift(q),M=M>>8,q=M&255,++Y;return K?ie.push(Y):ie.unshift(Y),this.update(ie),ie.length},b.prototype.encodeString=function(M){var K,q=typeof M;if(q!=="string"){if(q==="object"){if(M===null)throw new Error(e);if(f&&M.constructor===ArrayBuffer)M=new Uint8Array(M);else if(!Array.isArray(M)&&(!f||!ArrayBuffer.isView(M)))throw new Error(e)}else throw new Error(e);K=!0}var Y=0,ie=M.length;if(K)Y=ie;else for(var ue=0;ue<M.length;++ue){var le=M.charCodeAt(ue);le<128?Y+=1:le<2048?Y+=2:le<55296||le>=57344?Y+=3:(le=65536+((le&1023)<<10|M.charCodeAt(++ue)&1023),Y+=4)}return Y+=this.encode(Y*8),this.update(M),Y},b.prototype.bytepad=function(M,K){for(var q=this.encode(K),Y=0;Y<M.length;++Y)q+=this.encodeString(M[Y]);var ie=K-q%K,ue=[];return ue.length=ie,this.update(ue),this},b.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var M=this.blocks,K=this.lastByteIndex,q=this.blockCount,Y=this.s;if(M[K>>2]|=this.padding[K&3],this.lastByteIndex===this.byteCount)for(M[0]=M[q],K=1;K<q+1;++K)M[K]=0;for(M[q-1]|=2147483648,K=0;K<q;++K)Y[K]^=M[K];te(Y)}},b.prototype.toString=b.prototype.hex=function(){this.finalize();for(var M=this.blockCount,K=this.s,q=this.outputBlocks,Y=this.extraBytes,ie=0,ue=0,le="",de;ue<q;){for(ie=0;ie<M&&ue<q;++ie,++ue)de=K[ie],le+=h[de>>4&15]+h[de&15]+h[de>>12&15]+h[de>>8&15]+h[de>>20&15]+h[de>>16&15]+h[de>>28&15]+h[de>>24&15];ue%M===0&&(te(K),ie=0)}return Y&&(de=K[ie],le+=h[de>>4&15]+h[de&15],Y>1&&(le+=h[de>>12&15]+h[de>>8&15]),Y>2&&(le+=h[de>>20&15]+h[de>>16&15])),le},b.prototype.arrayBuffer=function(){this.finalize();var M=this.blockCount,K=this.s,q=this.outputBlocks,Y=this.extraBytes,ie=0,ue=0,le=this.outputBits>>3,de;Y?de=new ArrayBuffer(q+1<<2):de=new ArrayBuffer(le);for(var je=new Uint32Array(de);ue<q;){for(ie=0;ie<M&&ue<q;++ie,++ue)je[ue]=K[ie];ue%M===0&&te(K)}return Y&&(je[ie]=K[ie],de=de.slice(0,le)),de},b.prototype.buffer=b.prototype.arrayBuffer,b.prototype.digest=b.prototype.array=function(){this.finalize();for(var M=this.blockCount,K=this.s,q=this.outputBlocks,Y=this.extraBytes,ie=0,ue=0,le=[],de,je;ue<q;){for(ie=0;ie<M&&ue<q;++ie,++ue)de=ue<<2,je=K[ie],le[de]=je&255,le[de+1]=je>>8&255,le[de+2]=je>>16&255,le[de+3]=je>>24&255;ue%M===0&&te(K)}return Y&&(de=ue<<2,je=K[ie],le[de]=je&255,Y>1&&(le[de+1]=je>>8&255),Y>2&&(le[de+2]=je>>16&255)),le};function B(M,K,q){b.call(this,M,K,q)}B.prototype=new b,B.prototype.finalize=function(){return this.encode(this.outputBits,!0),b.prototype.finalize.call(this)};var te=function(M){var K,q,Y,ie,ue,le,de,je,pe,Ae,rt,Le,Ge,kt,Ke,ke,Se,xe,Ve,Dt,Ue,He,xr,xt,nt,ar,bt,Xe,tr,Nt,ut,Kr,pt,gt,Rr,dt,at,ur,Pt,Ce,st,Fe,et,Jt,tt,lt,Ft,ft,Et,sn,At,_t,bn,zt,jt,Fr,Ot,St,Yr,Mr,Qr,wn,kn;for(Y=0;Y<48;Y+=2)ie=M[0]^M[10]^M[20]^M[30]^M[40],ue=M[1]^M[11]^M[21]^M[31]^M[41],le=M[2]^M[12]^M[22]^M[32]^M[42],de=M[3]^M[13]^M[23]^M[33]^M[43],je=M[4]^M[14]^M[24]^M[34]^M[44],pe=M[5]^M[15]^M[25]^M[35]^M[45],Ae=M[6]^M[16]^M[26]^M[36]^M[46],rt=M[7]^M[17]^M[27]^M[37]^M[47],Le=M[8]^M[18]^M[28]^M[38]^M[48],Ge=M[9]^M[19]^M[29]^M[39]^M[49],K=Le^(le<<1|de>>>31),q=Ge^(de<<1|le>>>31),M[0]^=K,M[1]^=q,M[10]^=K,M[11]^=q,M[20]^=K,M[21]^=q,M[30]^=K,M[31]^=q,M[40]^=K,M[41]^=q,K=ie^(je<<1|pe>>>31),q=ue^(pe<<1|je>>>31),M[2]^=K,M[3]^=q,M[12]^=K,M[13]^=q,M[22]^=K,M[23]^=q,M[32]^=K,M[33]^=q,M[42]^=K,M[43]^=q,K=le^(Ae<<1|rt>>>31),q=de^(rt<<1|Ae>>>31),M[4]^=K,M[5]^=q,M[14]^=K,M[15]^=q,M[24]^=K,M[25]^=q,M[34]^=K,M[35]^=q,M[44]^=K,M[45]^=q,K=je^(Le<<1|Ge>>>31),q=pe^(Ge<<1|Le>>>31),M[6]^=K,M[7]^=q,M[16]^=K,M[17]^=q,M[26]^=K,M[27]^=q,M[36]^=K,M[37]^=q,M[46]^=K,M[47]^=q,K=Ae^(ie<<1|ue>>>31),q=rt^(ue<<1|ie>>>31),M[8]^=K,M[9]^=q,M[18]^=K,M[19]^=q,M[28]^=K,M[29]^=q,M[38]^=K,M[39]^=q,M[48]^=K,M[49]^=q,kt=M[0],Ke=M[1],lt=M[11]<<4|M[10]>>>28,Ft=M[10]<<4|M[11]>>>28,Xe=M[20]<<3|M[21]>>>29,tr=M[21]<<3|M[20]>>>29,Mr=M[31]<<9|M[30]>>>23,Qr=M[30]<<9|M[31]>>>23,Fe=M[40]<<18|M[41]>>>14,et=M[41]<<18|M[40]>>>14,gt=M[2]<<1|M[3]>>>31,Rr=M[3]<<1|M[2]>>>31,ke=M[13]<<12|M[12]>>>20,Se=M[12]<<12|M[13]>>>20,ft=M[22]<<10|M[23]>>>22,Et=M[23]<<10|M[22]>>>22,Nt=M[33]<<13|M[32]>>>19,ut=M[32]<<13|M[33]>>>19,wn=M[42]<<2|M[43]>>>30,kn=M[43]<<2|M[42]>>>30,zt=M[5]<<30|M[4]>>>2,jt=M[4]<<30|M[5]>>>2,dt=M[14]<<6|M[15]>>>26,at=M[15]<<6|M[14]>>>26,xe=M[25]<<11|M[24]>>>21,Ve=M[24]<<11|M[25]>>>21,sn=M[34]<<15|M[35]>>>17,At=M[35]<<15|M[34]>>>17,Kr=M[45]<<29|M[44]>>>3,pt=M[44]<<29|M[45]>>>3,xt=M[6]<<28|M[7]>>>4,nt=M[7]<<28|M[6]>>>4,Fr=M[17]<<23|M[16]>>>9,Ot=M[16]<<23|M[17]>>>9,ur=M[26]<<25|M[27]>>>7,Pt=M[27]<<25|M[26]>>>7,Dt=M[36]<<21|M[37]>>>11,Ue=M[37]<<21|M[36]>>>11,_t=M[47]<<24|M[46]>>>8,bn=M[46]<<24|M[47]>>>8,Jt=M[8]<<27|M[9]>>>5,tt=M[9]<<27|M[8]>>>5,ar=M[18]<<20|M[19]>>>12,bt=M[19]<<20|M[18]>>>12,St=M[29]<<7|M[28]>>>25,Yr=M[28]<<7|M[29]>>>25,Ce=M[38]<<8|M[39]>>>24,st=M[39]<<8|M[38]>>>24,He=M[48]<<14|M[49]>>>18,xr=M[49]<<14|M[48]>>>18,M[0]=kt^~ke&xe,M[1]=Ke^~Se&Ve,M[10]=xt^~ar&Xe,M[11]=nt^~bt&tr,M[20]=gt^~dt&ur,M[21]=Rr^~at&Pt,M[30]=Jt^~lt&ft,M[31]=tt^~Ft&Et,M[40]=zt^~Fr&St,M[41]=jt^~Ot&Yr,M[2]=ke^~xe&Dt,M[3]=Se^~Ve&Ue,M[12]=ar^~Xe&Nt,M[13]=bt^~tr&ut,M[22]=dt^~ur&Ce,M[23]=at^~Pt&st,M[32]=lt^~ft&sn,M[33]=Ft^~Et&At,M[42]=Fr^~St&Mr,M[43]=Ot^~Yr&Qr,M[4]=xe^~Dt&He,M[5]=Ve^~Ue&xr,M[14]=Xe^~Nt&Kr,M[15]=tr^~ut&pt,M[24]=ur^~Ce&Fe,M[25]=Pt^~st&et,M[34]=ft^~sn&_t,M[35]=Et^~At&bn,M[44]=St^~Mr&wn,M[45]=Yr^~Qr&kn,M[6]=Dt^~He&kt,M[7]=Ue^~xr&Ke,M[16]=Nt^~Kr&xt,M[17]=ut^~pt&nt,M[26]=Ce^~Fe&gt,M[27]=st^~et&Rr,M[36]=sn^~_t&Jt,M[37]=At^~bn&tt,M[46]=Mr^~wn&zt,M[47]=Qr^~kn&jt,M[8]=He^~kt&ke,M[9]=xr^~Ke&Se,M[18]=Kr^~xt&ar,M[19]=pt^~nt&bt,M[28]=Fe^~gt&dt,M[29]=et^~Rr&at,M[38]=_t^~Jt&lt,M[39]=bn^~tt&Ft,M[48]=wn^~zt&Fr,M[49]=kn^~jt&Ot,M[0]^=N[Y],M[1]^=N[Y+1]};if(u)t.exports=v;else for(R=0;R<C.length;++R)i[C[R]]=v[C[R]]})()}(im)),im.exports}var eA=ZC();const tA=Ga(eA);function kr(t){return"0x"+tA.keccak_256(qe(t))}const rA="rlp/5.8.0",As=new ee(rA);function ly(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function cy(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function jb(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(l){n=n.concat(jb(l))}),n.length<=55)return n.unshift(192+n.length),n;const i=ly(n.length);return i.unshift(247+i.length),i.concat(n)}Np(t)||As.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(qe(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=ly(e.length);return r.unshift(183+r.length),r.concat(e)}function Wd(t){return ze(jb(t))}function uy(t,e,r,n){const i=[];for(;r<e+1+n;){const l=Rb(t,r);i.push(l.result),r+=l.consumed,r>e+1+n&&As.throwError("child data too short",ee.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function Rb(t,e){if(t.length===0&&As.throwError("data too short",ee.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&As.throwError("data short segment too short",ee.errors.BUFFER_OVERRUN,{});const n=cy(t,e+1,r);return e+1+r+n>t.length&&As.throwError("data long segment too short",ee.errors.BUFFER_OVERRUN,{}),uy(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&As.throwError("data array too short",ee.errors.BUFFER_OVERRUN,{}),uy(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&As.throwError("data array too short",ee.errors.BUFFER_OVERRUN,{});const n=cy(t,e+1,r);e+1+r+n>t.length&&As.throwError("data array too short",ee.errors.BUFFER_OVERRUN,{});const i=ze(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&As.throwError("data too short",ee.errors.BUFFER_OVERRUN,{});const n=ze(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:ze(t[e])}}function Ap(t){const e=qe(t),r=Rb(e,0);return r.consumed!==e.length&&As.throwArgumentError("invalid rlp data","data",t),r.result}const nA="address/5.8.0",Ta=new ee(nA);function dy(t){ct(t,20)||Ta.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=qe(kr(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const sA=9007199254740991;function iA(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const Sp={};for(let t=0;t<10;t++)Sp[String(t)]=String(t);for(let t=0;t<26;t++)Sp[String.fromCharCode(65+t)]=String(10+t);const fy=Math.floor(iA(sA));function oA(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>Sp[n]).join("");for(;e.length>=fy;){let n=e.substring(0,fy);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Pr(t){let e=null;if(typeof t!="string"&&Ta.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=dy(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Ta.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==oA(t)&&Ta.throwArgumentError("bad icap checksum","address",t),e=BC(t.substring(4));e.length<40;)e="0"+e;e=dy("0x"+e)}else Ta.throwArgumentError("invalid address","address",t);return e}function zu(t){try{return Pr(t),!0}catch{}return!1}function Mb(t){let e=null;try{e=Pr(t.from)}catch{Ta.throwArgumentError("missing from address","transaction",t)}const r=Fa(qe(ce.from(t.nonce).toHexString()));return Pr(Hr(kr(Wd([e,r])),12))}class aA extends oi{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Pr(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Pr(er(e.readValue().toHexString(),20))}}class lA extends oi{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const Pa=new ee(bc);function _b(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let f={};n=e.map(h=>{const p=h.localName;return p||Pa.throwError("cannot encode object for signature with missing names",ee.errors.INVALID_ARGUMENT,{argument:"values",coder:h,value:r}),f[p]&&Pa.throwError("cannot encode object for signature with duplicate names",ee.errors.INVALID_ARGUMENT,{argument:"values",coder:h,value:r}),f[p]=!0,r[p]})}else Pa.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&Pa.throwArgumentError("types/value length mismatch","tuple",r);let i=new Ym(t.wordSize),l=new Ym(t.wordSize),c=[];e.forEach((f,h)=>{let p=n[h];if(f.dynamic){let y=l.length;f.encode(l,p);let k=i.writeUpdatableValue();c.push(g=>{k(g+y)})}else f.encode(i,p)}),c.forEach(f=>{f(i.length)});let u=t.appendWriter(i);return u+=t.appendWriter(l),u}function Ib(t,e){let r=[],n=t.subReader(0);e.forEach(l=>{let c=null;if(l.dynamic){let u=t.readValue(),f=n.subReader(u.toNumber());try{c=l.decode(f)}catch(h){if(h.code===ee.errors.BUFFER_OVERRUN)throw h;c=h,c.baseType=l.name,c.name=l.localName,c.type=l.type}}else try{c=l.decode(t)}catch(u){if(u.code===ee.errors.BUFFER_OVERRUN)throw u;c=u,c.baseType=l.name,c.name=l.localName,c.type=l.type}c!=null&&r.push(c)});const i=e.reduce((l,c)=>{const u=c.localName;return u&&(l[u]||(l[u]=0),l[u]++),l},{});e.forEach((l,c)=>{let u=l.localName;if(!u||i[u]!==1||(u==="length"&&(u="_length"),r[u]!=null))return;const f=r[c];f instanceof Error?Object.defineProperty(r,u,{enumerable:!0,get:()=>{throw f}}):r[u]=f});for(let l=0;l<r.length;l++){const c=r[l];c instanceof Error&&Object.defineProperty(r,l,{enumerable:!0,get:()=>{throw c}})}return Object.freeze(r)}class cA extends oi{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",l=r===-1||e.dynamic;super("array",i,n,l),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),Pa.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let l=0;l<r.length;l++)i.push(this.coder);return _b(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&Pa.throwError("insufficient data length",ee.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new lA(this.coder));return e.coerce(this.name,Ib(e,n))}}class uA extends oi{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class Db extends oi{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=qe(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class dA extends Db{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,ze(super.decode(e)))}}class fA extends oi{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=qe(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,ze(e.readBytes(this.size)))}}class hA extends oi{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const Oe="0x0000000000000000000000000000000000000000",mA=ce.from(-1),zb=ce.from(0),pA=ce.from(1),gA=ce.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),vA="0x0000000000000000000000000000000000000000000000000000000000000000";class yA extends oi{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=ce.from(r),i=gA.mask(e.wordSize*8);if(this.signed){let l=i.mask(this.size*8-1);(n.gt(l)||n.lt(l.add(pA).mul(mA)))&&this._throwError("value out-of-bounds",r)}else(n.lt(zb)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}const xA="strings/5.8.0",Ob=new ee(xA);var oc;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(oc||(oc={}));var Tn;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Tn||(Tn={}));function bA(t,e,r,n,i){return Ob.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function Lb(t,e,r,n,i){if(t===Tn.BAD_PREFIX||t===Tn.UNEXPECTED_CONTINUE){let l=0;for(let c=e+1;c<r.length&&r[c]>>6===2;c++)l++;return l}return t===Tn.OVERRUN?r.length-e-1:0}function wA(t,e,r,n,i){return t===Tn.OVERLONG?(n.push(i),0):(n.push(65533),Lb(t,e,r))}const kA=Object.freeze({error:bA,ignore:Lb,replace:wA});function Fb(t,e){e==null&&(e=kA.error),t=qe(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let l=null,c=null;if((i&224)===192)l=1,c=127;else if((i&240)===224)l=2,c=2047;else if((i&248)===240)l=3,c=65535;else{(i&192)===128?n+=e(Tn.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Tn.BAD_PREFIX,n-1,t,r);continue}if(n-1+l>=t.length){n+=e(Tn.OVERRUN,n-1,t,r);continue}let u=i&(1<<8-l-1)-1;for(let f=0;f<l;f++){let h=t[n];if((h&192)!=128){n+=e(Tn.MISSING_CONTINUE,n,t,r),u=null;break}u=u<<6|h&63,n++}if(u!==null){if(u>1114111){n+=e(Tn.OUT_OF_RANGE,n-1-l,t,r,u);continue}if(u>=55296&&u<=57343){n+=e(Tn.UTF16_SURROGATE,n-1-l,t,r,u);continue}if(u<=c){n+=e(Tn.OVERLONG,n-1-l,t,r,u);continue}r.push(u)}}return r}function _s(t,e=oc.current){e!=oc.current&&(Ob.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const l=t.charCodeAt(n);if(n>=t.length||(l&64512)!==56320)throw new Error("invalid utf-8 string");const c=65536+((i&1023)<<10)+(l&1023);r.push(c>>18|240),r.push(c>>12&63|128),r.push(c>>6&63|128),r.push(c&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return qe(r)}function NA(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function wc(t,e){return NA(Fb(t,e))}function EA(t,e=oc.current){return Fb(_s(t,e))}class CA extends Db{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,_s(r))}decode(e){return wc(super.decode(e))}}class Ou extends oi{constructor(e,r){let n=!1;const i=[];e.forEach(c=>{c.dynamic&&(n=!0),i.push(c.type)});const l="tuple("+i.join(",")+")";super("tuple",l,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const l=i.localName;return l&&(n[l]||(n[l]=0),n[l]++),n},{});return this.coders.forEach((n,i)=>{let l=n.localName;!l||r[l]!==1||(l==="length"&&(l="_length"),e[l]==null&&(e[l]=e[i]))}),Object.freeze(e)}encode(e,r){return _b(e,this.coders,r)}decode(e){return e.coerce(this.name,Ib(e,this.coders))}}const Lu=new ee(bc),AA=new RegExp(/^bytes([0-9]*)$/),SA=new RegExp(/^(u?int)([0-9]*)$/);class TA{constructor(e){fe(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new aA(e.name);case"bool":return new uA(e.name);case"string":return new CA(e.name);case"bytes":return new dA(e.name);case"array":return new cA(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Ou((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new hA(e.name)}let r=e.type.match(SA);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&Lu.throwArgumentError("invalid "+r[1]+" bit length","param",e),new yA(n/8,r[1]==="int",e.name)}if(r=e.type.match(AA),r){let n=parseInt(r[1]);return(n===0||n>32)&&Lu.throwArgumentError("invalid bytes length","param",e),new fA(n,e.name)}return Lu.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new kd(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new Ym(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(Tr.from(i)));return new Ou(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&Lu.throwError("types/values length mismatch",ee.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(c=>this._getCoder(Tr.from(c))),i=new Ou(n,"_"),l=this._getWriter();return i.encode(l,r),l.data}decode(e,r,n){const i=e.map(c=>this._getCoder(Tr.from(c)));return new Ou(i,"_").decode(this._getReader(qe(r),n))}}const PA=new TA;function ja(t){return kr(_s(t))}const Bb="hash/5.8.0";function Ub(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return qe(e)}function $b(t){t=qe(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function Wb(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(l,c){n.call(l,function(u){c>0&&Array.isArray(u)?i(u,c-1):r.push(u)})};return i(t,e),r}function jA(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function RA(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,l=[0,1];for(let U=1;U<n;U++)l.push(i+=r());let c=r(),u=e;e+=c;let f=0,h=0;function p(){return f==0&&(h=h<<8|t[e++],f=8),h>>--f&1}const y=31,k=Math.pow(2,y),g=k>>>1,S=g>>1,N=k-1;let A=0;for(let U=0;U<y;U++)A=A<<1|p();let P=[],z=0,L=k;for(;;){let U=Math.floor(((A-z+1)*i-1)/L),W=0,V=n;for(;V-W>1;){let Q=W+V>>>1;U<l[Q]?V=Q:W=Q}if(W==0)break;P.push(W);let J=z+Math.floor(L*l[W]/i),re=z+Math.floor(L*l[W+1]/i)-1;for(;((J^re)&g)==0;)A=A<<1&N|p(),J=J<<1&N,re=re<<1&N|1;for(;J&~re&S;)A=A&g|A<<1&N>>>1|p(),J=J<<1^g,re=(re^g)<<1|g|1;z=J,L=1+re-J}let $=n-4;return P.map(U=>{switch(U-$){case 3:return $+65792+(t[u++]<<16|t[u++]<<8|t[u++]);case 2:return $+256+(t[u++]<<8|t[u++]);case 1:return $+t[u++];default:return U-1}})}function MA(t){let e=0;return()=>t[e++]}function _A(t){return MA(RA(t))}function IA(t){return t&1?~t>>1:t>>1}function DA(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function hy(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function zA(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=IA(e());return r}function Nd(t,e){let r=hy(t(),t),n=t(),i=hy(n,t),l=DA(n,t);for(let c=0;c<n;c++)for(let u=0;u<l[c];u++)r.push(i[c]+u);return e?r.map(c=>e[c]):r}function OA(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(FA(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(BA(r,t))}return jA(Wb(e))}function LA(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function Hb(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)zA(t,r).forEach((l,c)=>n[c].push(l));return n}function FA(t,e){let r=1+e(),n=e(),i=LA(e),l=Hb(i.length,1+t,e);return Wb(l.map((c,u)=>{const f=c[0],h=c.slice(1);return Array(i[u]).fill(void 0).map((p,y)=>{let k=y*n;return[f+y*r,h.map(g=>g+k)]})}))}function BA(t,e){let r=1+e();return Hb(r,1+t,e).map(i=>[i[0],i.slice(1)])}function UA(t){let e=Nd(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let h=Nd(t,e);if(h.length==0)break;n.push({set:new Set(h),node:r()})}n.sort((h,p)=>p.set.size-h.set.size);let i=t(),l=i%3;i=i/3|0;let c=!!(i&1);i>>=1;let u=i==1,f=i==2;return{branches:n,valid:l,fe0f:c,save:u,check:f}}}function $A(){return _A(Ub("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Hd=$A(),WA=new Set(Nd(Hd)),HA=new Set(Nd(Hd)),qA=OA(Hd),VA=UA(Hd),my=45,py=95;function qb(t){return EA(t)}function GA(t){return t.filter(e=>e!=65039)}function Vb(t){for(let e of t.split(".")){let r=qb(e);try{for(let n=r.lastIndexOf(py)-1;n>=0;n--)if(r[n]!==py)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===my&&r[3]===my)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function KA(t){return Vb(YA(t,GA))}function YA(t,e){let r=qb(t).reverse(),n=[];for(;r.length;){let i=JA(r);if(i){n.push(...e(i));continue}let l=r.pop();if(WA.has(l)){n.push(l);continue}if(HA.has(l))continue;let c=qA[l];if(c){n.push(...c);continue}throw new Error(`Disallowed codepoint: 0x${l.toString(16).toUpperCase()}`)}return Vb(QA(String.fromCodePoint(...n)))}function QA(t){return t.normalize("NFC")}function JA(t,e){var r;let n=VA,i,l,c=[],u=t.length;for(;u;){let f=t[--u];if(n=(r=n.branches.find(h=>h.set.has(f)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)l=f;else if(n.check&&f===l)break;c.push(f),n.fe0f&&(c.push(65039),u>0&&t[u-1]==65039&&u--),n.valid&&(i=c.slice(),n.valid==2&&i.splice(1,1),t.length=u)}return i}const XA=new ee(Bb),Gb=new Uint8Array(32);Gb.fill(0);function gy(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function Kb(t){const e=_s(KA(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(gy(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(gy(e.slice(n))),r}function ld(t){typeof t!="string"&&XA.throwArgumentError("invalid ENS name; not a string","name",t);let e=Gb;const r=Kb(t);for(;r.length;)e=kr(Rn([e,kr(r.pop())]));return ze(e)}function ZA(t){return ze(Rn(Kb(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}var eS=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(p){try{h(n.next(p))}catch(y){c(y)}}function f(p){try{h(n.throw(p))}catch(y){c(y)}}function h(p){p.done?l(p.value):i(p.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const ir=new ee(Bb),Yb=new Uint8Array(32);Yb.fill(0);const tS=ce.from(-1),Qb=ce.from(0),Jb=ce.from(1),rS=ce.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function nS(t){const e=qe(t),r=e.length%32;return r?gn([e,Yb.slice(r)]):ze(e)}const sS=er(Jb.toHexString(),32),iS=er(Qb.toHexString(),32),vy={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},om=["name","version","chainId","verifyingContract","salt"];function yy(t){return function(e){return typeof e!="string"&&ir.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const oS={name:yy("name"),version:yy("version"),chainId:function(t){try{return ce.from(t).toString()}catch{}return ir.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Pr(t).toLowerCase()}catch{}return ir.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=qe(t);if(e.length!==32)throw new Error("bad length");return ze(e)}catch{}return ir.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function am(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&ir.throwArgumentError("invalid numeric width","type",t);const i=rS.mask(r?n-1:n),l=r?i.add(Jb).mul(tS):Qb;return function(c){const u=ce.from(c);return(u.lt(l)||u.gt(i))&&ir.throwArgumentError(`value out-of-bounds for ${t}`,"value",c),er(u.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&ir.throwArgumentError("invalid bytes width","type",t),function(n){return qe(n).length!==r&&ir.throwArgumentError(`invalid length for ${t}`,"value",n),nS(n)}}}switch(t){case"address":return function(e){return er(Pr(e),32)};case"bool":return function(e){return e?sS:iS};case"bytes":return function(e){return kr(e)};case"string":return function(e){return ja(e)}}return null}function xy(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class Sn{constructor(e){fe(this,"types",Object.freeze(_n(e))),fe(this,"_encoderCache",{}),fe(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(u=>{r[u]={},n[u]=[],i[u]={}});for(const u in e){const f={};e[u].forEach(h=>{f[h.name]&&ir.throwArgumentError(`duplicate variable name ${JSON.stringify(h.name)} in ${JSON.stringify(u)}`,"types",e),f[h.name]=!0;const p=h.type.match(/^([^\x5b]*)(\x5b|$)/)[1];p===u&&ir.throwArgumentError(`circular type reference to ${JSON.stringify(p)}`,"types",e),!am(p)&&(n[p]||ir.throwArgumentError(`unknown type ${JSON.stringify(p)}`,"types",e),n[p].push(u),r[u][p]=!0)})}const l=Object.keys(n).filter(u=>n[u].length===0);l.length===0?ir.throwArgumentError("missing primary type","types",e):l.length>1&&ir.throwArgumentError(`ambiguous primary types or unused types: ${l.map(u=>JSON.stringify(u)).join(", ")}`,"types",e),fe(this,"primaryType",l[0]);function c(u,f){f[u]&&ir.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),f[u]=!0,Object.keys(r[u]).forEach(h=>{n[h]&&(c(h,f),Object.keys(f).forEach(p=>{i[p][h]=!0}))}),delete f[u]}c(this.primaryType,{});for(const u in i){const f=Object.keys(i[u]);f.sort(),this._types[u]=xy(u,e[u])+f.map(h=>xy(h,e[h])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=am(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],l=this.getEncoder(i),c=parseInt(r[3]);return u=>{c>=0&&u.length!==c&&ir.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",u);let f=u.map(l);return this._types[i]&&(f=f.map(kr)),kr(gn(f))}}const n=this.types[e];if(n){const i=ja(this._types[e]);return l=>{const c=n.map(({name:u,type:f})=>{const h=this.getEncoder(f)(l[u]);return this._types[f]?kr(h):h});return c.unshift(i),gn(c)}}return ir.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||ir.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return kr(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(am(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const c=i[1],u=parseInt(i[3]);return u>=0&&r.length!==u&&ir.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(f=>this._visit(c,f,n))}const l=this.types[e];return l?l.reduce((c,{name:u,type:f})=>(c[u]=this._visit(f,r[u],n),c),{}):ir.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Sn(e)}static getPrimaryType(e){return Sn.from(e).primaryType}static hashStruct(e,r,n){return Sn.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=vy[n];i||ir.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>om.indexOf(n.name)-om.indexOf(i.name)),Sn.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return gn(["0x1901",Sn.hashDomain(e),Sn.from(r).hash(n)])}static hash(e,r,n){return kr(Sn.encode(e,r,n))}static resolveNames(e,r,n,i){return eS(this,void 0,void 0,function*(){e=Zt(e);const l={};e.verifyingContract&&!ct(e.verifyingContract,20)&&(l[e.verifyingContract]="0x");const c=Sn.from(r);c.visit(n,(u,f)=>(u==="address"&&!ct(f,20)&&(l[f]="0x"),f));for(const u in l)l[u]=yield i(u);return e.verifyingContract&&l[e.verifyingContract]&&(e.verifyingContract=l[e.verifyingContract]),n=c.visit(n,(u,f)=>u==="address"&&l[f]?l[f]:f),{domain:e,value:n}})}static getPayload(e,r,n){Sn.hashDomain(e);const i={},l=[];om.forEach(f=>{const h=e[f];h!=null&&(i[f]=oS[f](h),l.push({name:f,type:vy[f]}))});const c=Sn.from(r),u=Zt(r);return u.EIP712Domain?ir.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):u.EIP712Domain=l,c.encode(n),{types:u,domain:i,primaryType:c.primaryType,message:c.visit(n,(f,h)=>{if(f.match(/^bytes(\d*)/))return ze(qe(h));if(f.match(/^u?int/))return ce.from(h).toString();switch(f){case"address":return h.toLowerCase();case"bool":return!!h;case"string":return typeof h!="string"&&ir.throwArgumentError("invalid string","value",h),h}return ir.throwArgumentError("unsupported type","type",f)})}}}const sr=new ee(bc);class aS extends xc{}class lS extends xc{}class cS extends xc{}class Qm extends xc{static isIndexed(e){return!!(e&&e._isIndexed)}}const uS={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function by(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class wy{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,fe(this,"fragments",r.map(n=>ei.from(n)).filter(n=>n!=null)),fe(this,"_abiCoder",Mn(new.target,"getAbiCoder")()),fe(this,"functions",{}),fe(this,"errors",{}),fe(this,"events",{}),fe(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){sr.warn("duplicate definition - constructor");return}fe(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let l=n.format();if(i[l]){sr.warn("duplicate definition - "+l);return}i[l]=n}),this.deploy||fe(this,"deploy",Ss.from({payable:!1,type:"constructor"})),fe(this,"_isInterface",!0)}format(e){e||(e=Mt.full),e===Mt.sighash&&sr.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===Mt.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return PA}static getAddress(e){return Pr(e)}static getSighash(e){return Hr(ja(e.format()),0,4)}static getEventTopic(e){return ja(e.format())}getFunction(e){if(ct(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];sr.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(l=>l.split("(")[0]===n);return i.length===0?sr.throwArgumentError("no matching function","name",n):i.length>1&&sr.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[Ts.fromString(e).format()];return r||sr.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(ct(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];sr.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(l=>l.split("(")[0]===n);return i.length===0?sr.throwArgumentError("no matching event","name",n):i.length>1&&sr.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[Zs.fromString(e).format()];return r||sr.throwArgumentError("no matching event","signature",e),r}getError(e){if(ct(e)){const n=Mn(this.constructor,"getSighash");for(const i in this.errors){const l=this.errors[i];if(e===n(l))return this.errors[i]}sr.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(l=>l.split("(")[0]===n);return i.length===0?sr.throwArgumentError("no matching error","name",n):i.length>1&&sr.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[Ts.fromString(e).format()];return r||sr.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return Mn(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Mn(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=qe(r);return ze(n.slice(0,4))!==this.getSighash(e)&&sr.throwArgumentError(`data signature does not match error ${e.name}.`,"data",ze(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),ze(Rn([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=qe(r);return ze(n.slice(0,4))!==this.getSighash(e)&&sr.throwArgumentError(`data signature does not match function ${e.name}.`,"data",ze(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),ze(Rn([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=qe(r),i=null,l="",c=null,u=null,f=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const h=ze(n.slice(0,4)),p=uS[h];if(p)c=this._abiCoder.decode(p.inputs,n.slice(4)),u=p.name,f=p.signature,p.reason&&(i=c[0]),u==="Error"?l=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(c[0])}`:u==="Panic"&&(l=`; VM Exception while processing transaction: reverted with panic code ${c[0]}`);else try{const y=this.getError(h);c=this._abiCoder.decode(y.inputs,n.slice(4)),u=y.name,f=y.format()}catch{}break}}return sr.throwError("call revert exception"+l,ee.errors.CALL_EXCEPTION,{method:e.format(),data:ze(r),errorArgs:c,errorName:u,errorSignature:f,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),ze(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&sr.throwError("too many arguments for "+e.format(),ee.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(l,c)=>l.type==="string"?ja(c):l.type==="bytes"?kr(ze(c)):(l.type==="bool"&&typeof c=="boolean"&&(c=c?"0x01":"0x00"),l.type.match(/^u?int/)&&(c=ce.from(c).toHexString()),l.type==="address"&&this._abiCoder.encode(["address"],[c]),er(ze(c),32));for(r.forEach((l,c)=>{let u=e.inputs[c];if(!u.indexed){l!=null&&sr.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+u.name,l);return}l==null?n.push(null):u.baseType==="array"||u.baseType==="tuple"?sr.throwArgumentError("filtering with tuples or arrays not supported","contract."+u.name,l):Array.isArray(l)?n.push(l.map(f=>i(u,f))):n.push(i(u,l))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],l=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&sr.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((c,u)=>{const f=r[u];if(c.indexed)if(c.type==="string")n.push(ja(f));else if(c.type==="bytes")n.push(kr(f));else{if(c.baseType==="tuple"||c.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([c.type],[f]))}else i.push(c),l.push(f)}),{data:this._abiCoder.encode(i,l),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let k=this.getEventTopic(e);(!ct(n[0],32)||n[0].toLowerCase()!==k)&&sr.throwError("fragment/topic mismatch",ee.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:k,value:n[0]}),n=n.slice(1)}let i=[],l=[],c=[];e.inputs.forEach((k,g)=>{k.indexed?k.type==="string"||k.type==="bytes"||k.baseType==="tuple"||k.baseType==="array"?(i.push(Tr.fromObject({type:"bytes32",name:k.name})),c.push(!0)):(i.push(k),c.push(!1)):(l.push(k),c.push(!1))});let u=n!=null?this._abiCoder.decode(i,Rn(n)):null,f=this._abiCoder.decode(l,r,!0),h=[],p=0,y=0;e.inputs.forEach((k,g)=>{if(k.indexed)if(u==null)h[g]=new Qm({_isIndexed:!0,hash:null});else if(c[g])h[g]=new Qm({_isIndexed:!0,hash:u[y++]});else try{h[g]=u[y++]}catch(S){h[g]=S}else try{h[g]=f[p++]}catch(S){h[g]=S}if(k.name&&h[k.name]==null){const S=h[g];S instanceof Error?Object.defineProperty(h,k.name,{enumerable:!0,get:()=>{throw by(`property ${JSON.stringify(k.name)}`,S)}}):h[k.name]=S}});for(let k=0;k<h.length;k++){const g=h[k];g instanceof Error&&Object.defineProperty(h,k,{enumerable:!0,get:()=>{throw by(`index ${k}`,g)}})}return Object.freeze(h)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new lS({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:ce.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new aS({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=ze(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new cS({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const dS="abstract-provider/5.8.0";var fS=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(p){try{h(n.next(p))}catch(y){c(y)}}function f(p){try{h(n.throw(p))}catch(y){c(y)}}function h(p){p.done?l(p.value):i(p.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const hS=new ee(dS);class mS extends xc{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class kc{constructor(){hS.checkAbstract(new.target,kc),fe(this,"_isProvider",!0)}getFeeData(){return fS(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield gr({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(c=>null)});let n=null,i=null,l=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,l=ce.from("1500000000"),i=e.baseFeePerGas.mul(2).add(l)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:l,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const pS="abstract-signer/5.8.0";var os=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(p){try{h(n.next(p))}catch(y){c(y)}}function f(p){try{h(n.throw(p))}catch(y){c(y)}}function h(p){p.done?l(p.value):i(p.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const qn=new ee(pS),gS=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],vS=[ee.errors.INSUFFICIENT_FUNDS,ee.errors.NONCE_EXPIRED,ee.errors.REPLACEMENT_UNDERPRICED];class Nc{constructor(){qn.checkAbstract(new.target,Nc),fe(this,"_isSigner",!0)}getBalance(e){return os(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return os(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return os(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield gr(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return os(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield gr(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return os(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return os(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return os(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return os(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return os(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)gS.indexOf(n)===-1&&qn.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=Zt(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&qn.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return os(this,void 0,void 0,function*(){const r=yield gr(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>os(this,void 0,void 0,function*(){if(i==null)return null;const l=yield this.resolveName(i);return l==null&&qn.throwArgumentError("provided ENS name resolves to null","tx.to",i),l})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?qn.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&qn.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const l=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=l,r.maxPriorityFeePerGas=l}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&qn.throwError("network does not support EIP-1559",ee.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):qn.throwError("failed to get consistent fee data",ee.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(vS.indexOf(i.code)>=0)throw i;return qn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ee.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&qn.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield gr(r)})}_checkProvider(e){this.provider||qn.throwError("missing provider",ee.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class Tp extends Nc{constructor(e,r){super(),fe(this,"address",e),fe(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{qn.throwError(e,ee.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new Tp(this.address,e)}}var lm={},Bt={},cm,ky;function Ec(){if(ky)return cm;ky=1,cm=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},cm}var Fu={exports:{}},Ny;function yS(){return Ny||(Ny=1,typeof Object.create=="function"?Fu.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Fu.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),Fu.exports}var Ey;function zs(){if(Ey)return Bt;Ey=1;var t=Ec(),e=yS();Bt.inherits=e;function r(H,I){return(H.charCodeAt(I)&64512)!==55296||I<0||I+1>=H.length?!1:(H.charCodeAt(I+1)&64512)===56320}function n(H,I){if(Array.isArray(H))return H.slice();if(!H)return[];var v=[];if(typeof H=="string")if(I){if(I==="hex")for(H=H.replace(/[^a-z0-9]+/ig,""),H.length%2!==0&&(H="0"+H),R=0;R<H.length;R+=2)v.push(parseInt(H[R]+H[R+1],16))}else for(var C=0,R=0;R<H.length;R++){var _=H.charCodeAt(R);_<128?v[C++]=_:_<2048?(v[C++]=_>>6|192,v[C++]=_&63|128):r(H,R)?(_=65536+((_&1023)<<10)+(H.charCodeAt(++R)&1023),v[C++]=_>>18|240,v[C++]=_>>12&63|128,v[C++]=_>>6&63|128,v[C++]=_&63|128):(v[C++]=_>>12|224,v[C++]=_>>6&63|128,v[C++]=_&63|128)}else for(R=0;R<H.length;R++)v[R]=H[R]|0;return v}Bt.toArray=n;function i(H){for(var I="",v=0;v<H.length;v++)I+=u(H[v].toString(16));return I}Bt.toHex=i;function l(H){var I=H>>>24|H>>>8&65280|H<<8&16711680|(H&255)<<24;return I>>>0}Bt.htonl=l;function c(H,I){for(var v="",C=0;C<H.length;C++){var R=H[C];I==="little"&&(R=l(R)),v+=f(R.toString(16))}return v}Bt.toHex32=c;function u(H){return H.length===1?"0"+H:H}Bt.zero2=u;function f(H){return H.length===7?"0"+H:H.length===6?"00"+H:H.length===5?"000"+H:H.length===4?"0000"+H:H.length===3?"00000"+H:H.length===2?"000000"+H:H.length===1?"0000000"+H:H}Bt.zero8=f;function h(H,I,v,C){var R=v-I;t(R%4===0);for(var _=new Array(R/4),j=0,D=I;j<_.length;j++,D+=4){var O;C==="big"?O=H[D]<<24|H[D+1]<<16|H[D+2]<<8|H[D+3]:O=H[D+3]<<24|H[D+2]<<16|H[D+1]<<8|H[D],_[j]=O>>>0}return _}Bt.join32=h;function p(H,I){for(var v=new Array(H.length*4),C=0,R=0;C<H.length;C++,R+=4){var _=H[C];I==="big"?(v[R]=_>>>24,v[R+1]=_>>>16&255,v[R+2]=_>>>8&255,v[R+3]=_&255):(v[R+3]=_>>>24,v[R+2]=_>>>16&255,v[R+1]=_>>>8&255,v[R]=_&255)}return v}Bt.split32=p;function y(H,I){return H>>>I|H<<32-I}Bt.rotr32=y;function k(H,I){return H<<I|H>>>32-I}Bt.rotl32=k;function g(H,I){return H+I>>>0}Bt.sum32=g;function S(H,I,v){return H+I+v>>>0}Bt.sum32_3=S;function N(H,I,v,C){return H+I+v+C>>>0}Bt.sum32_4=N;function A(H,I,v,C,R){return H+I+v+C+R>>>0}Bt.sum32_5=A;function P(H,I,v,C){var R=H[I],_=H[I+1],j=C+_>>>0,D=(j<C?1:0)+v+R;H[I]=D>>>0,H[I+1]=j}Bt.sum64=P;function z(H,I,v,C){var R=I+C>>>0,_=(R<I?1:0)+H+v;return _>>>0}Bt.sum64_hi=z;function L(H,I,v,C){var R=I+C;return R>>>0}Bt.sum64_lo=L;function $(H,I,v,C,R,_,j,D){var O=0,T=I;T=T+C>>>0,O+=T<I?1:0,T=T+_>>>0,O+=T<_?1:0,T=T+D>>>0,O+=T<D?1:0;var b=H+v+R+j+O;return b>>>0}Bt.sum64_4_hi=$;function U(H,I,v,C,R,_,j,D){var O=I+C+_+D;return O>>>0}Bt.sum64_4_lo=U;function W(H,I,v,C,R,_,j,D,O,T){var b=0,B=I;B=B+C>>>0,b+=B<I?1:0,B=B+_>>>0,b+=B<_?1:0,B=B+D>>>0,b+=B<D?1:0,B=B+T>>>0,b+=B<T?1:0;var te=H+v+R+j+O+b;return te>>>0}Bt.sum64_5_hi=W;function V(H,I,v,C,R,_,j,D,O,T){var b=I+C+_+D+T;return b>>>0}Bt.sum64_5_lo=V;function J(H,I,v){var C=I<<32-v|H>>>v;return C>>>0}Bt.rotr64_hi=J;function re(H,I,v){var C=H<<32-v|I>>>v;return C>>>0}Bt.rotr64_lo=re;function Q(H,I,v){return H>>>v}Bt.shr64_hi=Q;function X(H,I,v){var C=H<<32-v|I>>>v;return C>>>0}return Bt.shr64_lo=X,Bt}var um={},Cy;function Cc(){if(Cy)return um;Cy=1;var t=zs(),e=Ec();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return um.BlockHash=r,r.prototype.update=function(i,l){if(i=t.toArray(i,l),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var c=i.length%this._delta8;this.pending=i.slice(i.length-c,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-c,this.endian);for(var u=0;u<i.length;u+=this._delta32)this._update(i,u,u+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,l=this._delta8,c=l-(i+this.padLength)%l,u=new Array(c+this.padLength);u[0]=128;for(var f=1;f<c;f++)u[f]=0;if(i<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)u[f++]=0;u[f++]=0,u[f++]=0,u[f++]=0,u[f++]=0,u[f++]=i>>>24&255,u[f++]=i>>>16&255,u[f++]=i>>>8&255,u[f++]=i&255}else for(u[f++]=i&255,u[f++]=i>>>8&255,u[f++]=i>>>16&255,u[f++]=i>>>24&255,u[f++]=0,u[f++]=0,u[f++]=0,u[f++]=0,h=8;h<this.padLength;h++)u[f++]=0;return u},um}var vo={},Ns={},Ay;function Xb(){if(Ay)return Ns;Ay=1;var t=zs(),e=t.rotr32;function r(p,y,k,g){if(p===0)return n(y,k,g);if(p===1||p===3)return l(y,k,g);if(p===2)return i(y,k,g)}Ns.ft_1=r;function n(p,y,k){return p&y^~p&k}Ns.ch32=n;function i(p,y,k){return p&y^p&k^y&k}Ns.maj32=i;function l(p,y,k){return p^y^k}Ns.p32=l;function c(p){return e(p,2)^e(p,13)^e(p,22)}Ns.s0_256=c;function u(p){return e(p,6)^e(p,11)^e(p,25)}Ns.s1_256=u;function f(p){return e(p,7)^e(p,18)^p>>>3}Ns.g0_256=f;function h(p){return e(p,17)^e(p,19)^p>>>10}return Ns.g1_256=h,Ns}var dm,Sy;function xS(){if(Sy)return dm;Sy=1;var t=zs(),e=Cc(),r=Xb(),n=t.rotl32,i=t.sum32,l=t.sum32_5,c=r.ft_1,u=e.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(h,u),dm=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(y,k){for(var g=this.W,S=0;S<16;S++)g[S]=y[k+S];for(;S<g.length;S++)g[S]=n(g[S-3]^g[S-8]^g[S-14]^g[S-16],1);var N=this.h[0],A=this.h[1],P=this.h[2],z=this.h[3],L=this.h[4];for(S=0;S<g.length;S++){var $=~~(S/20),U=l(n(N,5),c($,A,P,z),L,g[S],f[$]);L=z,z=P,P=n(A,30),A=N,N=U}this.h[0]=i(this.h[0],N),this.h[1]=i(this.h[1],A),this.h[2]=i(this.h[2],P),this.h[3]=i(this.h[3],z),this.h[4]=i(this.h[4],L)},h.prototype._digest=function(y){return y==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},dm}var fm,Ty;function Zb(){if(Ty)return fm;Ty=1;var t=zs(),e=Cc(),r=Xb(),n=Ec(),i=t.sum32,l=t.sum32_4,c=t.sum32_5,u=r.ch32,f=r.maj32,h=r.s0_256,p=r.s1_256,y=r.g0_256,k=r.g1_256,g=e.BlockHash,S=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function N(){if(!(this instanceof N))return new N;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=S,this.W=new Array(64)}return t.inherits(N,g),fm=N,N.blockSize=512,N.outSize=256,N.hmacStrength=192,N.padLength=64,N.prototype._update=function(P,z){for(var L=this.W,$=0;$<16;$++)L[$]=P[z+$];for(;$<L.length;$++)L[$]=l(k(L[$-2]),L[$-7],y(L[$-15]),L[$-16]);var U=this.h[0],W=this.h[1],V=this.h[2],J=this.h[3],re=this.h[4],Q=this.h[5],X=this.h[6],H=this.h[7];for(n(this.k.length===L.length),$=0;$<L.length;$++){var I=c(H,p(re),u(re,Q,X),this.k[$],L[$]),v=i(h(U),f(U,W,V));H=X,X=Q,Q=re,re=i(J,I),J=V,V=W,W=U,U=i(I,v)}this.h[0]=i(this.h[0],U),this.h[1]=i(this.h[1],W),this.h[2]=i(this.h[2],V),this.h[3]=i(this.h[3],J),this.h[4]=i(this.h[4],re),this.h[5]=i(this.h[5],Q),this.h[6]=i(this.h[6],X),this.h[7]=i(this.h[7],H)},N.prototype._digest=function(P){return P==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},fm}var hm,Py;function bS(){if(Py)return hm;Py=1;var t=zs(),e=Zb();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),hm=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},hm}var mm,jy;function ew(){if(jy)return mm;jy=1;var t=zs(),e=Cc(),r=Ec(),n=t.rotr64_hi,i=t.rotr64_lo,l=t.shr64_hi,c=t.shr64_lo,u=t.sum64,f=t.sum64_hi,h=t.sum64_lo,p=t.sum64_4_hi,y=t.sum64_4_lo,k=t.sum64_5_hi,g=t.sum64_5_lo,S=e.BlockHash,N=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function A(){if(!(this instanceof A))return new A;S.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=N,this.W=new Array(160)}t.inherits(A,S),mm=A,A.blockSize=1024,A.outSize=512,A.hmacStrength=192,A.padLength=128,A.prototype._prepareBlock=function(v,C){for(var R=this.W,_=0;_<32;_++)R[_]=v[C+_];for(;_<R.length;_+=2){var j=X(R[_-4],R[_-3]),D=H(R[_-4],R[_-3]),O=R[_-14],T=R[_-13],b=re(R[_-30],R[_-29]),B=Q(R[_-30],R[_-29]),te=R[_-32],M=R[_-31];R[_]=p(j,D,O,T,b,B,te,M),R[_+1]=y(j,D,O,T,b,B,te,M)}},A.prototype._update=function(v,C){this._prepareBlock(v,C);var R=this.W,_=this.h[0],j=this.h[1],D=this.h[2],O=this.h[3],T=this.h[4],b=this.h[5],B=this.h[6],te=this.h[7],M=this.h[8],K=this.h[9],q=this.h[10],Y=this.h[11],ie=this.h[12],ue=this.h[13],le=this.h[14],de=this.h[15];r(this.k.length===R.length);for(var je=0;je<R.length;je+=2){var pe=le,Ae=de,rt=V(M,K),Le=J(M,K),Ge=P(M,K,q,Y,ie),kt=z(M,K,q,Y,ie,ue),Ke=this.k[je],ke=this.k[je+1],Se=R[je],xe=R[je+1],Ve=k(pe,Ae,rt,Le,Ge,kt,Ke,ke,Se,xe),Dt=g(pe,Ae,rt,Le,Ge,kt,Ke,ke,Se,xe);pe=U(_,j),Ae=W(_,j),rt=L(_,j,D,O,T),Le=$(_,j,D,O,T,b);var Ue=f(pe,Ae,rt,Le),He=h(pe,Ae,rt,Le);le=ie,de=ue,ie=q,ue=Y,q=M,Y=K,M=f(B,te,Ve,Dt),K=h(te,te,Ve,Dt),B=T,te=b,T=D,b=O,D=_,O=j,_=f(Ve,Dt,Ue,He),j=h(Ve,Dt,Ue,He)}u(this.h,0,_,j),u(this.h,2,D,O),u(this.h,4,T,b),u(this.h,6,B,te),u(this.h,8,M,K),u(this.h,10,q,Y),u(this.h,12,ie,ue),u(this.h,14,le,de)},A.prototype._digest=function(v){return v==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function P(I,v,C,R,_){var j=I&C^~I&_;return j<0&&(j+=4294967296),j}function z(I,v,C,R,_,j){var D=v&R^~v&j;return D<0&&(D+=4294967296),D}function L(I,v,C,R,_){var j=I&C^I&_^C&_;return j<0&&(j+=4294967296),j}function $(I,v,C,R,_,j){var D=v&R^v&j^R&j;return D<0&&(D+=4294967296),D}function U(I,v){var C=n(I,v,28),R=n(v,I,2),_=n(v,I,7),j=C^R^_;return j<0&&(j+=4294967296),j}function W(I,v){var C=i(I,v,28),R=i(v,I,2),_=i(v,I,7),j=C^R^_;return j<0&&(j+=4294967296),j}function V(I,v){var C=n(I,v,14),R=n(I,v,18),_=n(v,I,9),j=C^R^_;return j<0&&(j+=4294967296),j}function J(I,v){var C=i(I,v,14),R=i(I,v,18),_=i(v,I,9),j=C^R^_;return j<0&&(j+=4294967296),j}function re(I,v){var C=n(I,v,1),R=n(I,v,8),_=l(I,v,7),j=C^R^_;return j<0&&(j+=4294967296),j}function Q(I,v){var C=i(I,v,1),R=i(I,v,8),_=c(I,v,7),j=C^R^_;return j<0&&(j+=4294967296),j}function X(I,v){var C=n(I,v,19),R=n(v,I,29),_=l(I,v,6),j=C^R^_;return j<0&&(j+=4294967296),j}function H(I,v){var C=i(I,v,19),R=i(v,I,29),_=c(I,v,6),j=C^R^_;return j<0&&(j+=4294967296),j}return mm}var pm,Ry;function wS(){if(Ry)return pm;Ry=1;var t=zs(),e=ew();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),pm=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},pm}var My;function kS(){return My||(My=1,vo.sha1=xS(),vo.sha224=bS(),vo.sha256=Zb(),vo.sha384=wS(),vo.sha512=ew()),vo}var gm={},_y;function NS(){if(_y)return gm;_y=1;var t=zs(),e=Cc(),r=t.rotl32,n=t.sum32,i=t.sum32_3,l=t.sum32_4,c=e.BlockHash;function u(){if(!(this instanceof u))return new u;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(u,c),gm.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(A,P){for(var z=this.h[0],L=this.h[1],$=this.h[2],U=this.h[3],W=this.h[4],V=z,J=L,re=$,Q=U,X=W,H=0;H<80;H++){var I=n(r(l(z,f(H,L,$,U),A[y[H]+P],h(H)),g[H]),W);z=W,W=U,U=r($,10),$=L,L=I,I=n(r(l(V,f(79-H,J,re,Q),A[k[H]+P],p(H)),S[H]),X),V=X,X=Q,Q=r(re,10),re=J,J=I}I=i(this.h[1],$,Q),this.h[1]=i(this.h[2],U,X),this.h[2]=i(this.h[3],W,V),this.h[3]=i(this.h[4],z,J),this.h[4]=i(this.h[0],L,re),this.h[0]=I},u.prototype._digest=function(A){return A==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function f(N,A,P,z){return N<=15?A^P^z:N<=31?A&P|~A&z:N<=47?(A|~P)^z:N<=63?A&z|P&~z:A^(P|~z)}function h(N){return N<=15?0:N<=31?1518500249:N<=47?1859775393:N<=63?2400959708:2840853838}function p(N){return N<=15?1352829926:N<=31?1548603684:N<=47?1836072691:N<=63?2053994217:0}var y=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],k=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],S=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return gm}var vm,Iy;function ES(){if(Iy)return vm;Iy=1;var t=zs(),e=Ec();function r(n,i,l){if(!(this instanceof r))return new r(n,i,l);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,l))}return vm=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var l=i.length;l<this.blockSize;l++)i.push(0);for(l=0;l<i.length;l++)i[l]^=54;for(this.inner=new this.Hash().update(i),l=0;l<i.length;l++)i[l]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,l){return this.inner.update(i,l),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},vm}var Dy;function CS(){return Dy||(Dy=1,function(t){var e=t;e.utils=zs(),e.common=Cc(),e.sha=kS(),e.ripemd=NS(),e.hmac=ES(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(lm)),lm}var AS=CS();const Cs=Ga(AS);function Qa(t,e,r){return r={path:e,exports:{},require:function(n,i){return SS(n,i??r.path)}},t(r,r.exports),r.exports}function SS(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Pp=tw;function tw(t,e){if(!t)throw new Error(e||"Assertion failed")}tw.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var hs=Qa(function(t,e){var r=e;function n(c,u){if(Array.isArray(c))return c.slice();if(!c)return[];var f=[];if(typeof c!="string"){for(var h=0;h<c.length;h++)f[h]=c[h]|0;return f}if(u==="hex"){c=c.replace(/[^a-z0-9]+/ig,""),c.length%2!==0&&(c="0"+c);for(var h=0;h<c.length;h+=2)f.push(parseInt(c[h]+c[h+1],16))}else for(var h=0;h<c.length;h++){var p=c.charCodeAt(h),y=p>>8,k=p&255;y?f.push(y,k):f.push(k)}return f}r.toArray=n;function i(c){return c.length===1?"0"+c:c}r.zero2=i;function l(c){for(var u="",f=0;f<c.length;f++)u+=i(c[f].toString(16));return u}r.toHex=l,r.encode=function(u,f){return f==="hex"?l(u):u}}),zn=Qa(function(t,e){var r=e;r.assert=Pp,r.toArray=hs.toArray,r.zero2=hs.zero2,r.toHex=hs.toHex,r.encode=hs.encode;function n(f,h,p){var y=new Array(Math.max(f.bitLength(),p)+1),k;for(k=0;k<y.length;k+=1)y[k]=0;var g=1<<h+1,S=f.clone();for(k=0;k<y.length;k++){var N,A=S.andln(g-1);S.isOdd()?(A>(g>>1)-1?N=(g>>1)-A:N=A,S.isubn(N)):N=0,y[k]=N,S.iushrn(1)}return y}r.getNAF=n;function i(f,h){var p=[[],[]];f=f.clone(),h=h.clone();for(var y=0,k=0,g;f.cmpn(-y)>0||h.cmpn(-k)>0;){var S=f.andln(3)+y&3,N=h.andln(3)+k&3;S===3&&(S=-1),N===3&&(N=-1);var A;(S&1)===0?A=0:(g=f.andln(7)+y&7,(g===3||g===5)&&N===2?A=-S:A=S),p[0].push(A);var P;(N&1)===0?P=0:(g=h.andln(7)+k&7,(g===3||g===5)&&S===2?P=-N:P=N),p[1].push(P),2*y===A+1&&(y=1-y),2*k===P+1&&(k=1-k),f.iushrn(1),h.iushrn(1)}return p}r.getJSF=i;function l(f,h,p){var y="_"+h;f.prototype[h]=function(){return this[y]!==void 0?this[y]:this[y]=p.call(this)}}r.cachedProperty=l;function c(f){return typeof f=="string"?r.toArray(f,"hex"):f}r.parseBytes=c;function u(f){return new Qe(f,"hex","le")}r.intFromLE=u}),Ed=zn.getNAF,TS=zn.getJSF,Cd=zn.assert;function Ki(t,e){this.type=t,this.p=new Qe(e.p,16),this.red=e.prime?Qe.red(e.prime):Qe.mont(this.p),this.zero=new Qe(0).toRed(this.red),this.one=new Qe(1).toRed(this.red),this.two=new Qe(2).toRed(this.red),this.n=e.n&&new Qe(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var $o=Ki;Ki.prototype.point=function(){throw new Error("Not implemented")};Ki.prototype.validate=function(){throw new Error("Not implemented")};Ki.prototype._fixedNafMul=function(e,r){Cd(e.precomputed);var n=e._getDoubles(),i=Ed(r,1,this._bitLength),l=(1<<n.step+1)-(n.step%2===0?2:1);l/=3;var c=[],u,f;for(u=0;u<i.length;u+=n.step){f=0;for(var h=u+n.step-1;h>=u;h--)f=(f<<1)+i[h];c.push(f)}for(var p=this.jpoint(null,null,null),y=this.jpoint(null,null,null),k=l;k>0;k--){for(u=0;u<c.length;u++)f=c[u],f===k?y=y.mixedAdd(n.points[u]):f===-k&&(y=y.mixedAdd(n.points[u].neg()));p=p.add(y)}return p.toP()};Ki.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var l=i.points,c=Ed(r,n,this._bitLength),u=this.jpoint(null,null,null),f=c.length-1;f>=0;f--){for(var h=0;f>=0&&c[f]===0;f--)h++;if(f>=0&&h++,u=u.dblp(h),f<0)break;var p=c[f];Cd(p!==0),e.type==="affine"?p>0?u=u.mixedAdd(l[p-1>>1]):u=u.mixedAdd(l[-p-1>>1].neg()):p>0?u=u.add(l[p-1>>1]):u=u.add(l[-p-1>>1].neg())}return e.type==="affine"?u.toP():u};Ki.prototype._wnafMulAdd=function(e,r,n,i,l){var c=this._wnafT1,u=this._wnafT2,f=this._wnafT3,h=0,p,y,k;for(p=0;p<i;p++){k=r[p];var g=k._getNAFPoints(e);c[p]=g.wnd,u[p]=g.points}for(p=i-1;p>=1;p-=2){var S=p-1,N=p;if(c[S]!==1||c[N]!==1){f[S]=Ed(n[S],c[S],this._bitLength),f[N]=Ed(n[N],c[N],this._bitLength),h=Math.max(f[S].length,h),h=Math.max(f[N].length,h);continue}var A=[r[S],null,null,r[N]];r[S].y.cmp(r[N].y)===0?(A[1]=r[S].add(r[N]),A[2]=r[S].toJ().mixedAdd(r[N].neg())):r[S].y.cmp(r[N].y.redNeg())===0?(A[1]=r[S].toJ().mixedAdd(r[N]),A[2]=r[S].add(r[N].neg())):(A[1]=r[S].toJ().mixedAdd(r[N]),A[2]=r[S].toJ().mixedAdd(r[N].neg()));var P=[-3,-1,-5,-7,0,7,5,1,3],z=TS(n[S],n[N]);for(h=Math.max(z[0].length,h),f[S]=new Array(h),f[N]=new Array(h),y=0;y<h;y++){var L=z[0][y]|0,$=z[1][y]|0;f[S][y]=P[(L+1)*3+($+1)],f[N][y]=0,u[S]=A}}var U=this.jpoint(null,null,null),W=this._wnafT4;for(p=h;p>=0;p--){for(var V=0;p>=0;){var J=!0;for(y=0;y<i;y++)W[y]=f[y][p]|0,W[y]!==0&&(J=!1);if(!J)break;V++,p--}if(p>=0&&V++,U=U.dblp(V),p<0)break;for(y=0;y<i;y++){var re=W[y];re!==0&&(re>0?k=u[y][re-1>>1]:re<0&&(k=u[y][-re-1>>1].neg()),k.type==="affine"?U=U.mixedAdd(k):U=U.add(k))}}for(p=0;p<i;p++)u[p]=null;return l?U:U.toP()};function Yn(t,e){this.curve=t,this.type=e,this.precomputed=null}Ki.BasePoint=Yn;Yn.prototype.eq=function(){throw new Error("Not implemented")};Yn.prototype.validate=function(){return this.curve.validate(this)};Ki.prototype.decodePoint=function(e,r){e=zn.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Cd(e[e.length-1]%2===0):e[0]===7&&Cd(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Yn.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Yn.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Yn.prototype.encode=function(e,r){return zn.encode(this._encode(r),e)};Yn.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Yn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Yn.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,l=0;l<r;l+=e){for(var c=0;c<e;c++)i=i.dbl();n.push(i)}return{step:e,points:n}};Yn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),l=1;l<n;l++)r[l]=r[l-1].add(i);return{wnd:e,points:r}};Yn.prototype._getBeta=function(){return null};Yn.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var jp=Qa(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),PS=zn.assert;function Qn(t){$o.call(this,"short",t),this.a=new Qe(t.a,16).toRed(this.red),this.b=new Qe(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}jp(Qn,$o);var jS=Qn;Qn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Qe(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Qe(e.lambda,16);else{var l=this._getEndoRoots(this.n);this.g.mul(l[0]).x.cmp(this.g.x.redMul(r))===0?n=l[0]:(n=l[1],PS(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var c;return e.basis?c=e.basis.map(function(u){return{a:new Qe(u.a,16),b:new Qe(u.b,16)}}):c=this._getEndoBasis(n),{beta:r,lambda:n,basis:c}}};Qn.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Qe.mont(e),n=new Qe(2).toRed(r).redInvm(),i=n.redNeg(),l=new Qe(3).toRed(r).redNeg().redSqrt().redMul(n),c=i.redAdd(l).fromRed(),u=i.redSub(l).fromRed();return[c,u]};Qn.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),l=new Qe(1),c=new Qe(0),u=new Qe(0),f=new Qe(1),h,p,y,k,g,S,N,A=0,P,z;n.cmpn(0)!==0;){var L=i.div(n);P=i.sub(L.mul(n)),z=u.sub(L.mul(l));var $=f.sub(L.mul(c));if(!y&&P.cmp(r)<0)h=N.neg(),p=l,y=P.neg(),k=z;else if(y&&++A===2)break;N=P,i=n,n=P,u=l,l=z,f=c,c=$}g=P.neg(),S=z;var U=y.sqr().add(k.sqr()),W=g.sqr().add(S.sqr());return W.cmp(U)>=0&&(g=h,S=p),y.negative&&(y=y.neg(),k=k.neg()),g.negative&&(g=g.neg(),S=S.neg()),[{a:y,b:k},{a:g,b:S}]};Qn.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],l=i.b.mul(e).divRound(this.n),c=n.b.neg().mul(e).divRound(this.n),u=l.mul(n.a),f=c.mul(i.a),h=l.mul(n.b),p=c.mul(i.b),y=e.sub(u).sub(f),k=h.add(p).neg();return{k1:y,k2:k}};Qn.prototype.pointFromX=function(e,r){e=new Qe(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var l=i.fromRed().isOdd();return(r&&!l||!r&&l)&&(i=i.redNeg()),this.point(e,i)};Qn.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),l=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(l).cmpn(0)===0};Qn.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,l=this._endoWnafT2,c=0;c<e.length;c++){var u=this._endoSplit(r[c]),f=e[c],h=f._getBeta();u.k1.negative&&(u.k1.ineg(),f=f.neg(!0)),u.k2.negative&&(u.k2.ineg(),h=h.neg(!0)),i[c*2]=f,i[c*2+1]=h,l[c*2]=u.k1,l[c*2+1]=u.k2}for(var p=this._wnafMulAdd(1,i,l,c*2,n),y=0;y<c*2;y++)i[y]=null,l[y]=null;return p};function jr(t,e,r,n){$o.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Qe(e,16),this.y=new Qe(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}jp(jr,$o.BasePoint);Qn.prototype.point=function(e,r,n){return new jr(this,e,r,n)};Qn.prototype.pointFromJSON=function(e,r){return jr.fromJSON(this,e,r)};jr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(l){return n.point(l.x.redMul(n.endo.beta),l.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};jr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};jr.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function l(u){return e.point(u[0],u[1],n)}var c=r[2];return i.precomputed={beta:null,doubles:c.doubles&&{step:c.doubles.step,points:[i].concat(c.doubles.points.map(l))},naf:c.naf&&{wnd:c.naf.wnd,points:[i].concat(c.naf.points.map(l))}},i};jr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};jr.prototype.isInfinity=function(){return this.inf};jr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};jr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),l=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),c=l.redSqr().redISub(this.x.redAdd(this.x)),u=l.redMul(this.x.redSub(c)).redISub(this.y);return this.curve.point(c,u)};jr.prototype.getX=function(){return this.x.fromRed()};jr.prototype.getY=function(){return this.y.fromRed()};jr.prototype.mul=function(e){return e=new Qe(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};jr.prototype.mulAdd=function(e,r,n){var i=[this,r],l=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,l):this.curve._wnafMulAdd(1,i,l,2)};jr.prototype.jmulAdd=function(e,r,n){var i=[this,r],l=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,l,!0):this.curve._wnafMulAdd(1,i,l,2,!0)};jr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};jr.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(l){return l.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};jr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Or(t,e,r,n){$o.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Qe(0)):(this.x=new Qe(e,16),this.y=new Qe(r,16),this.z=new Qe(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}jp(Or,$o.BasePoint);Qn.prototype.jpoint=function(e,r,n){return new Or(this,e,r,n)};Or.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Or.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Or.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),l=e.x.redMul(n),c=this.y.redMul(r.redMul(e.z)),u=e.y.redMul(n.redMul(this.z)),f=i.redSub(l),h=c.redSub(u);if(f.cmpn(0)===0)return h.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var p=f.redSqr(),y=p.redMul(f),k=i.redMul(p),g=h.redSqr().redIAdd(y).redISub(k).redISub(k),S=h.redMul(k.redISub(g)).redISub(c.redMul(y)),N=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(g,S,N)};Or.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),l=this.y,c=e.y.redMul(r).redMul(this.z),u=n.redSub(i),f=l.redSub(c);if(u.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=u.redSqr(),p=h.redMul(u),y=n.redMul(h),k=f.redSqr().redIAdd(p).redISub(y).redISub(y),g=f.redMul(y.redISub(k)).redISub(l.redMul(p)),S=this.z.redMul(u);return this.curve.jpoint(k,g,S)};Or.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,l=this.curve.tinv,c=this.x,u=this.y,f=this.z,h=f.redSqr().redSqr(),p=u.redAdd(u);for(r=0;r<e;r++){var y=c.redSqr(),k=p.redSqr(),g=k.redSqr(),S=y.redAdd(y).redIAdd(y).redIAdd(i.redMul(h)),N=c.redMul(k),A=S.redSqr().redISub(N.redAdd(N)),P=N.redISub(A),z=S.redMul(P);z=z.redIAdd(z).redISub(g);var L=p.redMul(f);r+1<e&&(h=h.redMul(g)),c=A,f=L,p=z}return this.curve.jpoint(c,p.redMul(l),f)};Or.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Or.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),l=this.y.redSqr(),c=l.redSqr(),u=this.x.redAdd(l).redSqr().redISub(i).redISub(c);u=u.redIAdd(u);var f=i.redAdd(i).redIAdd(i),h=f.redSqr().redISub(u).redISub(u),p=c.redIAdd(c);p=p.redIAdd(p),p=p.redIAdd(p),e=h,r=f.redMul(u.redISub(h)).redISub(p),n=this.y.redAdd(this.y)}else{var y=this.x.redSqr(),k=this.y.redSqr(),g=k.redSqr(),S=this.x.redAdd(k).redSqr().redISub(y).redISub(g);S=S.redIAdd(S);var N=y.redAdd(y).redIAdd(y),A=N.redSqr(),P=g.redIAdd(g);P=P.redIAdd(P),P=P.redIAdd(P),e=A.redISub(S).redISub(S),r=N.redMul(S.redISub(e)).redISub(P),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Or.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),l=this.y.redSqr(),c=l.redSqr(),u=this.x.redAdd(l).redSqr().redISub(i).redISub(c);u=u.redIAdd(u);var f=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),h=f.redSqr().redISub(u).redISub(u);e=h;var p=c.redIAdd(c);p=p.redIAdd(p),p=p.redIAdd(p),r=f.redMul(u.redISub(h)).redISub(p),n=this.y.redAdd(this.y)}else{var y=this.z.redSqr(),k=this.y.redSqr(),g=this.x.redMul(k),S=this.x.redSub(y).redMul(this.x.redAdd(y));S=S.redAdd(S).redIAdd(S);var N=g.redIAdd(g);N=N.redIAdd(N);var A=N.redAdd(N);e=S.redSqr().redISub(A),n=this.y.redAdd(this.z).redSqr().redISub(k).redISub(y);var P=k.redSqr();P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P),r=S.redMul(N.redISub(e)).redISub(P)}return this.curve.jpoint(e,r,n)};Or.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,l=i.redSqr().redSqr(),c=r.redSqr(),u=n.redSqr(),f=c.redAdd(c).redIAdd(c).redIAdd(e.redMul(l)),h=r.redAdd(r);h=h.redIAdd(h);var p=h.redMul(u),y=f.redSqr().redISub(p.redAdd(p)),k=p.redISub(y),g=u.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var S=f.redMul(k).redISub(g),N=n.redAdd(n).redMul(i);return this.curve.jpoint(y,S,N)};Or.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),l=e.redAdd(e).redIAdd(e),c=l.redSqr(),u=this.x.redAdd(r).redSqr().redISub(e).redISub(i);u=u.redIAdd(u),u=u.redAdd(u).redIAdd(u),u=u.redISub(c);var f=u.redSqr(),h=i.redIAdd(i);h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var p=l.redIAdd(u).redSqr().redISub(c).redISub(f).redISub(h),y=r.redMul(p);y=y.redIAdd(y),y=y.redIAdd(y);var k=this.x.redMul(f).redISub(y);k=k.redIAdd(k),k=k.redIAdd(k);var g=this.y.redMul(p.redMul(h.redISub(p)).redISub(u.redMul(f)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var S=this.z.redAdd(u).redSqr().redISub(n).redISub(f);return this.curve.jpoint(k,g,S)};Or.prototype.mul=function(e,r){return e=new Qe(e,r),this.curve._wnafMul(this,e)};Or.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),l=n.redMul(e.z);return this.y.redMul(l).redISub(e.y.redMul(i)).cmpn(0)===0};Or.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),l=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(l),this.x.cmp(n)===0)return!0}};Or.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Or.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var cd=Qa(function(t,e){var r=e;r.base=$o,r.short=jS,r.mont=null,r.edwards=null}),ud=Qa(function(t,e){var r=e,n=zn.assert;function i(u){u.type==="short"?this.curve=new cd.short(u):u.type==="edwards"?this.curve=new cd.edwards(u):this.curve=new cd.mont(u),this.g=this.curve.g,this.n=this.curve.n,this.hash=u.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function l(u,f){Object.defineProperty(r,u,{configurable:!0,enumerable:!0,get:function(){var h=new i(f);return Object.defineProperty(r,u,{configurable:!0,enumerable:!0,value:h}),h}})}l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Cs.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Cs.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Cs.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Cs.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Cs.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Cs.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Cs.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=null.crash()}catch{c=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Cs.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})});function Hi(t){if(!(this instanceof Hi))return new Hi(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=hs.toArray(t.entropy,t.entropyEnc||"hex"),r=hs.toArray(t.nonce,t.nonceEnc||"hex"),n=hs.toArray(t.pers,t.persEnc||"hex");Pp(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var rw=Hi;Hi.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var l=0;l<this.V.length;l++)this.K[l]=0,this.V[l]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Hi.prototype._hmac=function(){return new Cs.hmac(this.hash,this.K)};Hi.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Hi.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=hs.toArray(e,r),n=hs.toArray(n,i),Pp(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Hi.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=hs.toArray(n,i||"hex"),this._update(n));for(var l=[];l.length<e;)this.V=this._hmac().update(this.V).digest(),l=l.concat(this.V);var c=l.slice(0,e);return this._update(n),this._reseed++,hs.encode(c,r)};var Jm=zn.assert;function Vr(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Rp=Vr;Vr.fromPublic=function(e,r,n){return r instanceof Vr?r:new Vr(e,{pub:r,pubEnc:n})};Vr.fromPrivate=function(e,r,n){return r instanceof Vr?r:new Vr(e,{priv:r,privEnc:n})};Vr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Vr.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Vr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Vr.prototype._importPrivate=function(e,r){this.priv=new Qe(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Vr.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Jm(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Jm(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Vr.prototype.derive=function(e){return e.validate()||Jm(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Vr.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Vr.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};Vr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var RS=zn.assert;function qd(t,e){if(t instanceof qd)return t;this._importDER(t,e)||(RS(t.r&&t.s,"Signature without r or s"),this.r=new Qe(t.r,16),this.s=new Qe(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Vd=qd;function MS(){this.place=0}function ym(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,l=0,c=e.place;l<n;l++,c++)i<<=8,i|=t[c],i>>>=0;return i<=127?!1:(e.place=c,i)}function zy(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}qd.prototype._importDER=function(e,r){e=zn.toArray(e,r);var n=new MS;if(e[n.place++]!==48)return!1;var i=ym(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var l=ym(e,n);if(l===!1||(e[n.place]&128)!==0)return!1;var c=e.slice(n.place,l+n.place);if(n.place+=l,e[n.place++]!==2)return!1;var u=ym(e,n);if(u===!1||e.length!==u+n.place||(e[n.place]&128)!==0)return!1;var f=e.slice(n.place,u+n.place);if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new Qe(c),this.s=new Qe(f),this.recoveryParam=null,!0};function xm(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}qd.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=zy(r),n=zy(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];xm(i,r.length),i=i.concat(r),i.push(2),xm(i,n.length);var l=i.concat(n),c=[48];return xm(c,l.length),c=c.concat(l),zn.encode(c,e)};var _S=function(){throw new Error("unsupported")},xo=zn.assert;function Kn(t){if(!(this instanceof Kn))return new Kn(t);typeof t=="string"&&(xo(Object.prototype.hasOwnProperty.call(ud,t),"Unknown curve "+t),t=ud[t]),t instanceof ud.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var IS=Kn;Kn.prototype.keyPair=function(e){return new Rp(this,e)};Kn.prototype.keyFromPrivate=function(e,r){return Rp.fromPrivate(this,e,r)};Kn.prototype.keyFromPublic=function(e,r){return Rp.fromPublic(this,e,r)};Kn.prototype.genKeyPair=function(e){e||(e={});for(var r=new rw({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||_S(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Qe(2));;){var l=new Qe(r.generate(n));if(!(l.cmp(i)>0))return l.iaddn(1),this.keyFromPrivate(l)}};Kn.prototype._truncateToN=function(e,r,n){var i;if(Qe.isBN(e)||typeof e=="number")e=new Qe(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new Qe(e,16);else{var l=e.toString();i=l.length+1>>>1,e=new Qe(l,16)}typeof n!="number"&&(n=i*8);var c=n-this.n.bitLength();return c>0&&(e=e.ushrn(c)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Kn.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!Qe.isBN(e)){xo(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),xo(e.length>>>0===e.length);for(var l=0;l<e.length;l++)xo((e[l]&255)===e[l])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),xo(!e.isNeg(),"Can not sign a negative message");var c=this.n.byteLength(),u=r.getPrivate().toArray("be",c),f=e.toArray("be",c);xo(new Qe(f).eq(e),"Can not sign message");for(var h=new rw({hash:this.hash,entropy:u,nonce:f,pers:i.pers,persEnc:i.persEnc||"utf8"}),p=this.n.sub(new Qe(1)),y=0;;y++){var k=i.k?i.k(y):new Qe(h.generate(this.n.byteLength()));if(k=this._truncateToN(k,!0),!(k.cmpn(1)<=0||k.cmp(p)>=0)){var g=this.g.mul(k);if(!g.isInfinity()){var S=g.getX(),N=S.umod(this.n);if(N.cmpn(0)!==0){var A=k.invm(this.n).mul(N.mul(r.getPrivate()).iadd(e));if(A=A.umod(this.n),A.cmpn(0)!==0){var P=(g.getY().isOdd()?1:0)|(S.cmp(N)!==0?2:0);return i.canonical&&A.cmp(this.nh)>0&&(A=this.n.sub(A),P^=1),new Vd({r:N,s:A,recoveryParam:P})}}}}}};Kn.prototype.verify=function(e,r,n,i,l){l||(l={}),e=this._truncateToN(e,!1,l.msgBitLength),n=this.keyFromPublic(n,i),r=new Vd(r,"hex");var c=r.r,u=r.s;if(c.cmpn(1)<0||c.cmp(this.n)>=0||u.cmpn(1)<0||u.cmp(this.n)>=0)return!1;var f=u.invm(this.n),h=f.mul(e).umod(this.n),p=f.mul(c).umod(this.n),y;return this.curve._maxwellTrick?(y=this.g.jmulAdd(h,n.getPublic(),p),y.isInfinity()?!1:y.eqXToP(c)):(y=this.g.mulAdd(h,n.getPublic(),p),y.isInfinity()?!1:y.getX().umod(this.n).cmp(c)===0)};Kn.prototype.recoverPubKey=function(t,e,r,n){xo((3&r)===r,"The recovery param is more than two bits"),e=new Vd(e,n);var i=this.n,l=new Qe(t),c=e.r,u=e.s,f=r&1,h=r>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");h?c=this.curve.pointFromX(c.add(this.curve.n),f):c=this.curve.pointFromX(c,f);var p=e.r.invm(i),y=i.sub(l).mul(p).umod(i),k=u.mul(p).umod(i);return this.g.mulAdd(y,c,k)};Kn.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Vd(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var l;try{l=this.recoverPubKey(t,e,i)}catch{continue}if(l.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var DS=Qa(function(t,e){var r=e;r.version="6.6.1",r.utils=zn,r.rand=function(){throw new Error("unsupported")},r.curve=cd,r.curves=ud,r.ec=IS,r.eddsa=null}),zS=DS.ec;const OS="signing-key/5.8.0",Xm=new ee(OS);let bm=null;function Oi(){return bm||(bm=new zS("secp256k1")),bm}class LS{constructor(e){fe(this,"curve","secp256k1"),fe(this,"privateKey",ze(e)),To(this.privateKey)!==32&&Xm.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Oi().keyFromPrivate(qe(this.privateKey));fe(this,"publicKey","0x"+r.getPublic(!1,"hex")),fe(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),fe(this,"_isSigningKey",!0)}_addPoint(e){const r=Oi().keyFromPublic(qe(this.publicKey)),n=Oi().keyFromPublic(qe(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=Oi().keyFromPrivate(qe(this.privateKey)),n=qe(e);n.length!==32&&Xm.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return $d({recoveryParam:i.recoveryParam,r:er("0x"+i.r.toString(16),32),s:er("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=Oi().keyFromPrivate(qe(this.privateKey)),n=Oi().keyFromPublic(qe(nw(e)));return er("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function FS(t,e){const r=$d(e),n={r:qe(r.r),s:qe(r.s)};return"0x"+Oi().recoverPubKey(qe(t),n,r.recoveryParam).encode("hex",!1)}function nw(t,e){const r=qe(t);return r.length===32?new LS(r).publicKey:r.length===33?"0x"+Oi().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?ze(r):Xm.throwArgumentError("invalid public or private key","key","[REDACTED]")}const BS="transactions/5.8.0",ai=new ee(BS);var Oy;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(Oy||(Oy={}));function Mp(t){return t==="0x"?null:Pr(t)}function qr(t){return t==="0x"?zb:ce.from(t)}function US(t){const e=nw(t);return Pr(Hr(kr(Hr(e,1)),12))}function sw(t,e){return US(FS(qe(t),e))}function Pn(t,e){const r=Fa(ce.from(t).toHexString());return r.length>32&&ai.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function wm(t,e){return{address:Pr(t),storageKeys:(e||[]).map((r,n)=>(To(r)!==32&&ai.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function Wo(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&ai.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),wm(r[0],r[1])):wm(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,l)=>(i[l]=!0,i),{});return wm(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function iw(t){return Wo(t).map(e=>[e.address,e.storageKeys])}function $S(t,e){if(t.gasPrice!=null){const n=ce.from(t.gasPrice),i=ce.from(t.maxFeePerGas||0);n.eq(i)||ai.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[Pn(t.chainId||0,"chainId"),Pn(t.nonce||0,"nonce"),Pn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Pn(t.maxFeePerGas||0,"maxFeePerGas"),Pn(t.gasLimit||0,"gasLimit"),t.to!=null?Pr(t.to):"0x",Pn(t.value||0,"value"),t.data||"0x",iw(t.accessList||[])];if(e){const n=$d(e);r.push(Pn(n.recoveryParam,"recoveryParam")),r.push(Fa(n.r)),r.push(Fa(n.s))}return gn(["0x02",Wd(r)])}function WS(t,e){const r=[Pn(t.chainId||0,"chainId"),Pn(t.nonce||0,"nonce"),Pn(t.gasPrice||0,"gasPrice"),Pn(t.gasLimit||0,"gasLimit"),t.to!=null?Pr(t.to):"0x",Pn(t.value||0,"value"),t.data||"0x",iw(t.accessList||[])];if(e){const n=$d(e);r.push(Pn(n.recoveryParam,"recoveryParam")),r.push(Fa(n.r)),r.push(Fa(n.s))}return gn(["0x01",Wd(r)])}function ow(t,e,r){try{const n=qr(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{ai.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=er(e[1],32),t.s=er(e[2],32);try{const n=kr(r(t));t.from=sw(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function HS(t){const e=Ap(t.slice(1));e.length!==9&&e.length!==12&&ai.throwArgumentError("invalid component count for transaction type: 2","payload",ze(t));const r=qr(e[2]),n=qr(e[3]),i={type:2,chainId:qr(e[0]).toNumber(),nonce:qr(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:qr(e[4]),to:Mp(e[5]),value:qr(e[6]),data:e[7],accessList:Wo(e[8])};return e.length===9||(i.hash=kr(t),ow(i,e.slice(9),$S)),i}function qS(t){const e=Ap(t.slice(1));e.length!==8&&e.length!==11&&ai.throwArgumentError("invalid component count for transaction type: 1","payload",ze(t));const r={type:1,chainId:qr(e[0]).toNumber(),nonce:qr(e[1]).toNumber(),gasPrice:qr(e[2]),gasLimit:qr(e[3]),to:Mp(e[4]),value:qr(e[5]),data:e[6],accessList:Wo(e[7])};return e.length===8||(r.hash=kr(t),ow(r,e.slice(8),WS)),r}function VS(t){const e=Ap(t);e.length!==9&&e.length!==6&&ai.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:qr(e[0]).toNumber(),gasPrice:qr(e[1]),gasLimit:qr(e[2]),to:Mp(e[3]),value:qr(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=ce.from(e[6]).toNumber()}catch{return r}if(r.r=er(e[7],32),r.s=er(e[8],32),ce.from(r.r).isZero()&&ce.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(ze(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const l=kr(Wd(i));try{r.from=sw(l,{r:ze(r.r),s:ze(r.s),recoveryParam:n})}catch{}r.hash=kr(t)}return r.type=null,r}function GS(t){const e=qe(t);if(e[0]>127)return VS(e);switch(e[0]){case 1:return qS(e);case 2:return HS(e)}return ai.throwError(`unsupported transaction type: ${e[0]}`,ee.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const KS="contracts/5.8.0";var jo=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(p){try{h(n.next(p))}catch(y){c(y)}}function f(p){try{h(n.throw(p))}catch(y){c(y)}}function h(p){p.done?l(p.value):i(p.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const fr=new ee(KS);function Ad(t,e){return jo(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&fr.throwArgumentError("invalid address or ENS name","name",r);try{return Pr(r)}catch{}t||fr.throwError("a provider or signer is needed to resolve ENS names",ee.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&fr.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function dd(t,e,r){return jo(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>dd(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield Ad(t,e):r.type==="tuple"?yield dd(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>dd(t,n,r.arrayChildren))):Promise.reject(fr.makeError("invalid value for array",ee.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function Gd(t,e,r){return jo(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=Zt(r.pop())),fr.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=gr({override:Ad(t.signer,n.from),signer:t.signer.getAddress()}).then(h=>jo(this,void 0,void 0,function*(){return Pr(h.signer)!==h.override&&fr.throwError("Contract with a Signer cannot override from",ee.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),h.override})):n.from=t.signer.getAddress():n.from&&(n.from=Ad(t.provider,n.from));const i=yield gr({args:dd(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:gr(n)||{}}),l=t.interface.encodeFunctionData(e,i.args),c={data:l,to:i.address},u=i.overrides;if(u.nonce!=null&&(c.nonce=ce.from(u.nonce).toNumber()),u.gasLimit!=null&&(c.gasLimit=ce.from(u.gasLimit)),u.gasPrice!=null&&(c.gasPrice=ce.from(u.gasPrice)),u.maxFeePerGas!=null&&(c.maxFeePerGas=ce.from(u.maxFeePerGas)),u.maxPriorityFeePerGas!=null&&(c.maxPriorityFeePerGas=ce.from(u.maxPriorityFeePerGas)),u.from!=null&&(c.from=u.from),u.type!=null&&(c.type=u.type),u.accessList!=null&&(c.accessList=Wo(u.accessList)),c.gasLimit==null&&e.gas!=null){let h=21e3;const p=qe(l);for(let y=0;y<p.length;y++)h+=4,p[y]&&(h+=64);c.gasLimit=ce.from(e.gas).add(h)}if(u.value){const h=ce.from(u.value);!h.isZero()&&!e.payable&&fr.throwError("non-payable method cannot override value",ee.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),c.value=h}u.customData&&(c.customData=Zt(u.customData)),u.ccipReadEnabled&&(c.ccipReadEnabled=!!u.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const f=Object.keys(n).filter(h=>n[h]!=null);return f.length&&fr.throwError(`cannot override ${f.map(h=>JSON.stringify(h)).join(",")}`,ee.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:f}),c})}function YS(t,e){return function(...r){return Gd(t,e,r)}}function QS(t,e){const r=t.signer||t.provider;return function(...n){return jo(this,void 0,void 0,function*(){r||fr.throwError("estimate require a provider or signer",ee.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield Gd(t,e,n);return yield r.estimateGas(i)})}}function JS(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(l=>{let c=_n(l),u=null;try{u=t.interface.parseLog(l)}catch{}return u&&(c.args=u.args,c.decode=(f,h)=>t.interface.decodeEventLog(u.eventFragment,f,h),c.event=u.name,c.eventSignature=u.signature),c.removeListener=()=>t.provider,c.getBlock=()=>t.provider.getBlock(i.blockHash),c.getTransaction=()=>t.provider.getTransaction(i.transactionHash),c.getTransactionReceipt=()=>Promise.resolve(i),c}),i))}function aw(t,e,r){const n=t.signer||t.provider;return function(...i){return jo(this,void 0,void 0,function*(){let l;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const f=Zt(i.pop());f.blockTag!=null&&(l=yield f.blockTag),delete f.blockTag,i.push(f)}t.deployTransaction!=null&&(yield t._deployed(l));const c=yield Gd(t,e,i),u=yield n.call(c,l);try{let f=t.interface.decodeFunctionResult(e,u);return r&&e.outputs.length===1&&(f=f[0]),f}catch(f){throw f.code===ee.errors.CALL_EXCEPTION&&(f.address=t.address,f.args=i,f.transaction=c),f}})}}function XS(t,e){return function(...r){return jo(this,void 0,void 0,function*(){t.signer||fr.throwError("sending a transaction requires a signer",ee.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield Gd(t,e,r),i=yield t.signer.sendTransaction(n);return JS(t,i),i})}}function Ly(t,e,r){return e.constant?aw(t,e,r):XS(t,e)}function lw(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class ac{constructor(e,r){fe(this,"tag",e),fe(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class ZS extends ac{constructor(){super("error",null)}}class Fy extends ac{constructor(e,r,n,i){const l={address:e};let c=r.getEventTopic(n);i?(c!==i[0]&&fr.throwArgumentError("topic mismatch","topics",i),l.topics=i.slice()):l.topics=[c],super(lw(l),l),fe(this,"address",e),fe(this,"interface",r),fe(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=XC(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class By extends ac{constructor(e,r){super("*",{address:e}),fe(this,"address",e),fe(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class eT{constructor(e,r,n){fe(this,"interface",Mn(new.target,"getInterface")(r)),n==null?(fe(this,"provider",null),fe(this,"signer",null)):Nc.isSigner(n)?(fe(this,"provider",n.provider||null),fe(this,"signer",n)):kc.isProvider(n)?(fe(this,"provider",n),fe(this,"signer",null)):fr.throwArgumentError("invalid signer or provider","signerOrProvider",n),fe(this,"callStatic",{}),fe(this,"estimateGas",{}),fe(this,"functions",{}),fe(this,"populateTransaction",{}),fe(this,"filters",{});{const c={};Object.keys(this.interface.events).forEach(u=>{const f=this.interface.events[u];fe(this.filters,u,(...h)=>({address:this.address,topics:this.interface.encodeFilterTopics(f,h)})),c[f.name]||(c[f.name]=[]),c[f.name].push(u)}),Object.keys(c).forEach(u=>{const f=c[u];f.length===1?fe(this.filters,u,this.filters[f[0]]):fr.warn(`Duplicate definition of ${u} (${f.join(", ")})`)})}if(fe(this,"_runningEvents",{}),fe(this,"_wrappedEmits",{}),e==null&&fr.throwArgumentError("invalid contract address or ENS name","addressOrName",e),fe(this,"address",e),this.provider)fe(this,"resolvedAddress",Ad(this.provider,e));else try{fe(this,"resolvedAddress",Promise.resolve(Pr(e)))}catch{fr.throwError("provider is required to use ENS name as contract address",ee.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(c=>{});const i={},l={};Object.keys(this.interface.functions).forEach(c=>{const u=this.interface.functions[c];if(l[c]){fr.warn(`Duplicate ABI entry for ${JSON.stringify(c)}`);return}l[c]=!0;{const f=u.name;i[`%${f}`]||(i[`%${f}`]=[]),i[`%${f}`].push(c)}this[c]==null&&fe(this,c,Ly(this,u,!0)),this.functions[c]==null&&fe(this.functions,c,Ly(this,u,!1)),this.callStatic[c]==null&&fe(this.callStatic,c,aw(this,u,!0)),this.populateTransaction[c]==null&&fe(this.populateTransaction,c,YS(this,u)),this.estimateGas[c]==null&&fe(this.estimateGas,c,QS(this,u))}),Object.keys(i).forEach(c=>{const u=i[c];if(u.length>1)return;c=c.substring(1);const f=u[0];try{this[c]==null&&fe(this,c,this[f])}catch{}this.functions[c]==null&&fe(this.functions,c,this.functions[f]),this.callStatic[c]==null&&fe(this.callStatic,c,this.callStatic[f]),this.populateTransaction[c]==null&&fe(this.populateTransaction,c,this.populateTransaction[f]),this.estimateGas[c]==null&&fe(this.estimateGas,c,this.estimateGas[f])})}static getContractAddress(e){return Mb(e)}static getInterface(e){return wy.isInterface(e)?e:new wy(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&fr.throwError("contract not deployed",ee.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||fr.throwError("sending a transactions require a signer",ee.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=Zt(e||{});return["from","to"].forEach(function(n){r[n]!=null&&fr.throwError("cannot override "+n,ee.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new Tp(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&fe(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Qm.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new ZS);if(e==="event")return this._normalizeRunningEvent(new ac("event",null));if(e==="*")return this._normalizeRunningEvent(new By(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new Fy(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new Fy(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new ac(lw(r),r))}return this._normalizeRunningEvent(new By(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=_n(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||fr.throwError("events require a provider or a signer with a provider",ee.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=l=>{let c=this._wrapEvent(e,l,r);if(c.decodeError==null)try{const u=e.getEmit(c);this.emit(e.filter,...u)}catch(u){c.decodeError=u.error}e.filter!=null&&this.emit("event",c),c.decodeError!=null&&this.emit("error",c.decodeError,c)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),l=Zt(i.filter);return typeof r=="string"&&ct(r,32)?(n!=null&&fr.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),l.blockHash=r):(l.fromBlock=r??0,l.toBlock=n??"latest"),this.provider.getLogs(l).then(c=>c.map(u=>this._wrapEvent(i,u,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class Wt extends eT{}class cw{constructor(e){fe(this,"alphabet",e),fe(this,"base",e.length),fe(this,"_alphabetMap",{}),fe(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=qe(e);if(r.length===0)return"";let n=[0];for(let l=0;l<r.length;++l){let c=r[l];for(let u=0;u<n.length;++u)c+=n[u]<<8,n[u]=c%this.base,c=c/this.base|0;for(;c>0;)n.push(c%this.base),c=c/this.base|0}let i="";for(let l=0;r[l]===0&&l<r.length-1;++l)i+=this._leader;for(let l=n.length-1;l>=0;--l)i+=this.alphabet[n[l]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let l=i;for(let c=0;c<r.length;++c)l+=r[c]*this.base,r[c]=l&255,l>>=8;for(;l>0;)r.push(l&255),l>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return qe(new Uint8Array(r.reverse()))}}new cw("abcdefghijklmnopqrstuvwxyz234567");const Zm=new cw("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function Uy(t){return"0x"+Cs.sha256().update(qe(t)).digest("hex")}function tT(t){t=t.slice();for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}const rT="networks/5.8.0",$y=new ee(rT);function nT(t){return t&&typeof t.renetwork=="function"}function ds(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const l=["goerli","ropsten","rinkeby","sepolia"];try{const c=new r.PocketProvider(t,n.pocket);c.network&&l.indexOf(c.network.name)===-1&&i.push(c)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const l=["ropsten"],c=new r.AnkrProvider(t,n.ankr);c.network&&l.indexOf(c.network.name)===-1&&i.push(c)}catch{}if(r.QuickNodeProvider&&n.quicknode!=="-")try{i.push(new r.QuickNodeProvider(t,n.quicknode))}catch{}if(i.length===0)return null;if(r.FallbackProvider){let l=1;return n.quorum!=null?l=n.quorum:t==="homestead"&&(l=2),new r.FallbackProvider(i,l)}return i[0]};return e.renetwork=function(r){return ds(r)},e}function Sd(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return Sd(t,n)},r}const Wy={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ds("homestead")},Hy={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ds("ropsten")},qy={chainId:63,name:"classicMordor",_defaultProvider:Sd("https://www.ethercluster.com/mordor","classicMordor")},Bu={unspecified:{chainId:0,name:"unspecified"},homestead:Wy,mainnet:Wy,morden:{chainId:2,name:"morden"},ropsten:Hy,testnet:Hy,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ds("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ds("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ds("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:ds("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:ds("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:Sd("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:qy,classicTestnet:qy,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Sd("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ds("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:ds("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:ds("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function uw(t){if(t==null)return null;if(typeof t=="number"){for(const n in Bu){const i=Bu[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=Bu[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=Bu[t.name];if(!e)return typeof t.chainId!="number"&&$y.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&$y.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(nT(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}const sT="web/5.8.0";var iT=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(p){try{h(n.next(p))}catch(y){c(y)}}function f(p){try{h(n.throw(p))}catch(y){c(y)}}function h(p){p.done?l(p.value):i(p.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};function oT(t,e){return iT(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const c=e.fetchOptions;c.mode&&(r.mode=c.mode),c.cache&&(r.cache=c.cache),c.credentials&&(r.credentials=c.credentials),c.redirect&&(r.redirect=c.redirect),c.referrer&&(r.referrer=c.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),l={};return n.headers.forEach?n.headers.forEach((c,u)=>{l[u.toLowerCase()]=c}):n.headers.keys().forEach(c=>{l[c.toLowerCase()]=n.headers.get(c)}),{headers:l,statusCode:n.status,statusMessage:n.statusText,body:qe(new Uint8Array(i))}})}var aT=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(p){try{h(n.next(p))}catch(y){c(y)}}function f(p){try{h(n.throw(p))}catch(y){c(y)}}function h(p){p.done?l(p.value):i(p.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const ls=new ee(sT);function Vy(t){return new Promise(e=>{setTimeout(e,t)})}function Mi(t,e){if(t==null)return null;if(typeof t=="string")return t;if(Np(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return wc(t)}catch{}return ze(t)}return t}function lT(t){return _s(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function cT(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;ls.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,l=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;ls.assertArgument(l>0&&l%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",l);const c=typeof t=="object"?!!t.errorPassThrough:!1,u={};let f=null;const h={method:"GET"};let p=!1,y=120*1e3;if(typeof t=="string")f=t;else if(typeof t=="object"){if((t==null||t.url==null)&&ls.throwArgumentError("missing URL","connection.url",t),f=t.url,typeof t.timeout=="number"&&t.timeout>0&&(y=t.timeout),t.headers)for(const P in t.headers)u[P.toLowerCase()]={key:P,value:String(t.headers[P])},["if-none-match","if-modified-since"].indexOf(P.toLowerCase())>=0&&(p=!0);if(h.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){f.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&ls.throwError("basic authentication requires a secure https url",ee.errors.INVALID_ARGUMENT,{argument:"url",url:f,user:t.user,password:"[REDACTED]"});const P=t.user+":"+t.password;u.authorization={key:"Authorization",value:"Basic "+$b(_s(P))}}t.skipFetchSetup!=null&&(h.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(h.fetchOptions=Zt(t.fetchOptions))}const k=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),g=f?f.match(k):null;if(g)try{const P={statusCode:200,statusMessage:"OK",headers:{"content-type":g[1]||"text/plain"},body:g[2]?Ub(g[3]):lT(g[3])};let z=P.body;return r&&(z=r(P.body,P)),Promise.resolve(z)}catch(P){ls.throwError("processing response error",ee.errors.SERVER_ERROR,{body:Mi(g[1],g[2]),error:P,requestBody:null,requestMethod:"GET",url:f})}e&&(h.method="POST",h.body=e,u["content-type"]==null&&(u["content-type"]={key:"Content-Type",value:"application/octet-stream"}),u["content-length"]==null&&(u["content-length"]={key:"Content-Length",value:String(e.length)}));const S={};Object.keys(u).forEach(P=>{const z=u[P];S[z.key]=z.value}),h.headers=S;const N=function(){let P=null;return{promise:new Promise(function($,U){y&&(P=setTimeout(()=>{P!=null&&(P=null,U(ls.makeError("timeout",ee.errors.TIMEOUT,{requestBody:Mi(h.body,S["content-type"]),requestMethod:h.method,timeout:y,url:f})))},y))}),cancel:function(){P!=null&&(clearTimeout(P),P=null)}}}(),A=function(){return aT(this,void 0,void 0,function*(){for(let P=0;P<n;P++){let z=null;try{if(z=yield oT(f,h),P<n){if(z.statusCode===301||z.statusCode===302){const $=z.headers.location||"";if(h.method==="GET"&&$.match(/^https:/)){f=z.headers.location;continue}}else if(z.statusCode===429){let $=!0;if(i&&($=yield i(P,f)),$){let U=0;const W=z.headers["retry-after"];typeof W=="string"&&W.match(/^[1-9][0-9]*$/)?U=parseInt(W)*1e3:U=l*parseInt(String(Math.random()*Math.pow(2,P))),yield Vy(U);continue}}}}catch($){z=$.response,z==null&&(N.cancel(),ls.throwError("missing response",ee.errors.SERVER_ERROR,{requestBody:Mi(h.body,S["content-type"]),requestMethod:h.method,serverError:$,url:f}))}let L=z.body;if(p&&z.statusCode===304?L=null:!c&&(z.statusCode<200||z.statusCode>=300)&&(N.cancel(),ls.throwError("bad response",ee.errors.SERVER_ERROR,{status:z.statusCode,headers:z.headers,body:Mi(L,z.headers?z.headers["content-type"]:null),requestBody:Mi(h.body,S["content-type"]),requestMethod:h.method,url:f})),r)try{const $=yield r(L,z);return N.cancel(),$}catch($){if($.throttleRetry&&P<n){let U=!0;if(i&&(U=yield i(P,f)),U){const W=l*parseInt(String(Math.random()*Math.pow(2,P)));yield Vy(W);continue}}N.cancel(),ls.throwError("processing response error",ee.errors.SERVER_ERROR,{body:Mi(L,z.headers?z.headers["content-type"]:null),error:$,requestBody:Mi(h.body,S["content-type"]),requestMethod:h.method,url:f})}return N.cancel(),L}return ls.throwError("failed response",ee.errors.SERVER_ERROR,{requestBody:Mi(h.body,S["content-type"]),requestMethod:h.method,url:f})})}();return Promise.race([N.promise,A])}function Kd(t,e,r){let n=(l,c)=>{let u=null;if(l!=null)try{u=JSON.parse(wc(l))}catch(f){ls.throwError("invalid JSON",ee.errors.SERVER_ERROR,{body:l,error:f})}return r&&(u=r(u,c)),u},i=null;if(e!=null){i=_s(e);const l=typeof t=="string"?{url:t}:Zt(t);l.headers?Object.keys(l.headers).filter(u=>u.toLowerCase()==="content-type").length!==0||(l.headers=Zt(l.headers),l.headers["content-type"]="application/json"):l.headers={"content-type":"application/json"},t=l}return cT(t,i,n)}function Ra(t,e){return e||(e={}),e=Zt(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,l=!1;const c=()=>l?!1:(l=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{c()&&n(new Error("timeout"))},e.timeout));const u=e.retryLimit;let f=0;function h(){return t().then(function(p){if(p!==void 0)c()&&r(p);else if(e.oncePoll)e.oncePoll.once("poll",h);else if(e.onceBlock)e.onceBlock.once("block",h);else if(!l){if(f++,f>u){c()&&n(new Error("retry limit reached"));return}let y=e.interval*parseInt(String(Math.random()*Math.pow(2,f)));y<e.floor&&(y=e.floor),y>e.ceiling&&(y=e.ceiling),setTimeout(h,y)}return null},function(p){c()&&n(p)})}h()})}var km,Gy;function uT(){if(Gy)return km;Gy=1;for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",e={},r=0;r<t.length;r++){var n=t.charAt(r);if(e[n]!==void 0)throw new TypeError(n+" is ambiguous");e[n]=r}function i(N){var A=N>>25;return(N&33554431)<<5^-(A>>0&1)&996825010^-(A>>1&1)&642813549^-(A>>2&1)&513874426^-(A>>3&1)&1027748829^-(A>>4&1)&705979059}function l(N){for(var A=1,P=0;P<N.length;++P){var z=N.charCodeAt(P);if(z<33||z>126)return"Invalid prefix ("+N+")";A=i(A)^z>>5}for(A=i(A),P=0;P<N.length;++P){var L=N.charCodeAt(P);A=i(A)^L&31}return A}function c(N,A,P){if(P=P||90,N.length+7+A.length>P)throw new TypeError("Exceeds length limit");N=N.toLowerCase();var z=l(N);if(typeof z=="string")throw new Error(z);for(var L=N+"1",$=0;$<A.length;++$){var U=A[$];if(U>>5!==0)throw new Error("Non 5-bit word");z=i(z)^U,L+=t.charAt(U)}for($=0;$<6;++$)z=i(z);for(z^=1,$=0;$<6;++$){var W=z>>(5-$)*5&31;L+=t.charAt(W)}return L}function u(N,A){if(A=A||90,N.length<8)return N+" too short";if(N.length>A)return"Exceeds length limit";var P=N.toLowerCase(),z=N.toUpperCase();if(N!==P&&N!==z)return"Mixed-case string "+N;N=P;var L=N.lastIndexOf("1");if(L===-1)return"No separator character for "+N;if(L===0)return"Missing prefix for "+N;var $=N.slice(0,L),U=N.slice(L+1);if(U.length<6)return"Data too short";var W=l($);if(typeof W=="string")return W;for(var V=[],J=0;J<U.length;++J){var re=U.charAt(J),Q=e[re];if(Q===void 0)return"Unknown character "+re;W=i(W)^Q,!(J+6>=U.length)&&V.push(Q)}return W!==1?"Invalid checksum for "+N:{prefix:$,words:V}}function f(){var N=u.apply(null,arguments);if(typeof N=="object")return N}function h(N){var A=u.apply(null,arguments);if(typeof A=="object")return A;throw new Error(A)}function p(N,A,P,z){for(var L=0,$=0,U=(1<<P)-1,W=[],V=0;V<N.length;++V)for(L=L<<A|N[V],$+=A;$>=P;)$-=P,W.push(L>>$&U);if(z)$>0&&W.push(L<<P-$&U);else{if($>=A)return"Excess padding";if(L<<P-$&U)return"Non-zero padding"}return W}function y(N){var A=p(N,8,5,!0);if(Array.isArray(A))return A}function k(N){var A=p(N,8,5,!0);if(Array.isArray(A))return A;throw new Error(A)}function g(N){var A=p(N,5,8,!1);if(Array.isArray(A))return A}function S(N){var A=p(N,5,8,!1);if(Array.isArray(A))return A;throw new Error(A)}return km={decodeUnsafe:f,decode:h,encode:c,toWordsUnsafe:y,toWords:k,fromWordsUnsafe:g,fromWords:S},km}var dT=uT();const Ky=Ga(dT),Lr="providers/5.8.0",_l=new ee(Lr);class Me{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),l=this.data.bind(this),c=this.hash.bind(this),u=this.hex.bind(this),f=this.number.bind(this),h=this.type.bind(this),p=y=>this.data(y,!0);return e.transaction={hash:c,type:h,accessList:Me.allowNull(this.accessList.bind(this),null),blockHash:Me.allowNull(c,null),blockNumber:Me.allowNull(f,null),transactionIndex:Me.allowNull(f,null),confirmations:Me.allowNull(f,null),from:r,gasPrice:Me.allowNull(n),maxPriorityFeePerGas:Me.allowNull(n),maxFeePerGas:Me.allowNull(n),gasLimit:n,to:Me.allowNull(r,null),value:n,nonce:f,data:l,r:Me.allowNull(this.uint256),s:Me.allowNull(this.uint256),v:Me.allowNull(f),creates:Me.allowNull(r,null),raw:Me.allowNull(l)},e.transactionRequest={from:Me.allowNull(r),nonce:Me.allowNull(f),gasLimit:Me.allowNull(n),gasPrice:Me.allowNull(n),maxPriorityFeePerGas:Me.allowNull(n),maxFeePerGas:Me.allowNull(n),to:Me.allowNull(r),value:Me.allowNull(n),data:Me.allowNull(p),type:Me.allowNull(f),accessList:Me.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:f,blockNumber:f,transactionHash:c,address:r,topics:Me.arrayOf(c),data:l,logIndex:f,blockHash:c},e.receipt={to:Me.allowNull(this.address,null),from:Me.allowNull(this.address,null),contractAddress:Me.allowNull(r,null),transactionIndex:f,root:Me.allowNull(u),gasUsed:n,logsBloom:Me.allowNull(l),blockHash:c,transactionHash:c,logs:Me.arrayOf(this.receiptLog.bind(this)),blockNumber:f,confirmations:Me.allowNull(f,null),cumulativeGasUsed:n,effectiveGasPrice:Me.allowNull(n),status:Me.allowNull(f),type:h},e.block={hash:Me.allowNull(c),parentHash:c,number:f,timestamp:f,nonce:Me.allowNull(u),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:Me.allowNull(r),extraData:l,transactions:Me.allowNull(Me.arrayOf(c)),baseFeePerGas:Me.allowNull(n)},e.blockWithTransactions=Zt(e.block),e.blockWithTransactions.transactions=Me.allowNull(Me.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Me.allowNull(i,void 0),toBlock:Me.allowNull(i,void 0),blockHash:Me.allowNull(c,void 0),address:Me.allowNull(r,void 0),topics:Me.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Me.allowNull(f),blockHash:Me.allowNull(c),transactionIndex:f,removed:Me.allowNull(this.boolean.bind(this)),address:r,data:Me.allowFalsish(l,"0x"),topics:Me.arrayOf(c),transactionHash:c,logIndex:f},e}accessList(e){return Wo(e||[])}number(e){return e==="0x"?0:ce.from(e).toNumber()}type(e){return e==="0x"||e==null?0:ce.from(e).toNumber()}bigNumber(e){return ce.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),ct(e))?e.toLowerCase():_l.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Pr(e)}callAddress(e){if(!ct(e,32))return null;const r=Pr(Hr(e,12));return r===Oe?null:r}contractAddress(e){return Mb(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||ct(e))return Ud(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return To(n)!==32?_l.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=ce.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!ct(e))throw new Error("invalid uint256");return er(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=Me.check(r,e);return i._difficulty=n==null?null:ce.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Me.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&ce.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=Me.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;ct(n)&&(n=ce.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),ct(n)&&(n=ce.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return GS(e)}receiptLog(e){return Me.check(this.formats.receiptLog,e)}receipt(e){const r=Me.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=ce.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&_l.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):_l.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&_l.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return Me.check(this.formats.filter,e)}filterLog(e){return Me.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const l=e[i](r[i]);l!==void 0&&(n[i]=l)}catch(l){throw l.checkKey=i,l.checkValue=r[i],l}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n}}}function fT(t){return t&&typeof t.isCommunityResource=="function"}function Yy(t){return fT(t)&&t.isCommunityResource()}let Qy=!1;function Yd(){Qy||(Qy=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var Ze=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(p){try{h(n.next(p))}catch(y){c(y)}}function f(p){try{h(n.throw(p))}catch(y){c(y)}}function h(p){p.done?l(p.value):i(p.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const mt=new ee(Lr),hT=10;function Jy(t){return t==null?"null":(To(t)!==32&&mt.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function Xy(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[Jy(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return Jy(e)}).join("&")}function mT(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function ka(t){if(typeof t=="string"){if(t=t.toLowerCase(),To(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+Xy(t);if(mS.isForkEvent(t))throw mt.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+Xy(t.topics||[])}throw new Error("invalid event - "+t)}function Il(){return new Date().getTime()}function Zy(t){return new Promise(e=>{setTimeout(e,t)})}const pT=["block","network","pending","poll"];let gT=class{constructor(e,r,n){fe(this,"tag",e),fe(this,"listener",r),fe(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=mT(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||pT.indexOf(this.tag)>=0}};const vT={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Nm(t){return er(ce.from(t).toHexString(),32)}function ex(t){return Zm.encode(Rn([t,Hr(Uy(Uy(t)),0,4)]))}const dw=new RegExp("^(ipfs)://(.*)$","i"),tx=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),dw,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function fd(t,e){try{return wc(lc(t,e))}catch{}return null}function lc(t,e){if(t==="0x")return null;const r=ce.from(Hr(t,e,e+32)).toNumber(),n=ce.from(Hr(t,r,r+32)).toNumber();return Hr(t,r+32,r+32+n)}function Em(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):mt.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function rx(t){const e=qe(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function yT(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function fw(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=qe(t[n]);e[n]=rx(r),e.push(rx(i.length)),e.push(yT(i)),r+=32+Math.ceil(i.length/32)*32}return gn(e)}class nx{constructor(e,r,n,i){fe(this,"provider",e),fe(this,"name",n),fe(this,"address",e.formatter.address(r)),fe(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>ce.from(e).eq(1)).catch(e=>{if(e.code===ee.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return Ze(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:gn([e,ld(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=gn(["0x9061b923",fw([ZA(this.name),n.data])]));try{let l=yield this.provider.call(n);return qe(l).length%32===4&&mt.throwError("resolver threw error",ee.errors.CALL_EXCEPTION,{transaction:n,data:l}),i&&(l=lc(l,0)),l}catch(l){if(l.code===ee.errors.CALL_EXCEPTION)return null;throw l}})}_fetchBytes(e,r){return Ze(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?lc(n,0):null})}_getAddress(e,r){const n=vT[String(e)];if(n==null&&mt.throwError(`unsupported coin type: ${e}`,ee.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=qe(r);if(n.p2pkh!=null){const l=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(l){const c=parseInt(l[1],16);if(l[2].length===c*2&&c>=1&&c<=75)return ex(Rn([[n.p2pkh],"0x"+l[2]]))}}if(n.p2sh!=null){const l=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(l){const c=parseInt(l[1],16);if(l[2].length===c*2&&c>=1&&c<=75)return ex(Rn([[n.p2sh],"0x"+l[2]]))}}if(n.prefix!=null){const l=i[1];let c=i[0];if(c===0?l!==20&&l!==32&&(c=-1):c=-1,c>=0&&i.length===2+l&&l>=1&&l<=75){const u=Ky.toWords(i.slice(2));return u.unshift(c),Ky.encode(n.prefix,u)}}return null}getAddress(e){return Ze(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===vA?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===ee.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",Nm(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&mt.throwError("invalid or unsupported coin data",ee.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return Ze(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<tx.length;n++){const i=r.match(tx[n]);if(i==null)continue;const l=i[1].toLowerCase();switch(l){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:Em(r)};case"erc721":case"erc1155":{const c=l==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:l,content:r});const u=this._resolvedAddress||(yield this.getAddress()),f=(i[2]||"").split("/");if(f.length!==2)return null;const h=yield this.provider.formatter.address(f[0]),p=er(ce.from(f[1]).toHexString(),32);if(l==="erc721"){const N=this.provider.formatter.callAddress(yield this.provider.call({to:h,data:gn(["0x6352211e",p])}));if(u!==N)return null;e.push({type:"owner",content:N})}else if(l==="erc1155"){const N=ce.from(yield this.provider.call({to:h,data:gn(["0x00fdd58e",er(u,32),p])}));if(N.isZero())return null;e.push({type:"balance",content:N.toString()})}const y={to:this.provider.formatter.address(f[0]),data:gn([c,p])};let k=fd(yield this.provider.call(y),0);if(k==null)return null;e.push({type:"metadata-url-base",content:k}),l==="erc1155"&&(k=k.replace("{id}",p.substring(2)),e.push({type:"metadata-url-expanded",content:k})),k.match(/^ipfs:/i)&&(k=Em(k)),e.push({type:"metadata-url",content:k});const g=yield Kd(k);if(!g)return null;e.push({type:"metadata",content:JSON.stringify(g)});let S=g.image;if(typeof S!="string")return null;if(!S.match(/^(https:\/\/|data:)/i)){if(S.match(dw)==null)return null;e.push({type:"url-ipfs",content:S}),S=Em(S)}return e.push({type:"url",content:S}),{linkage:e,url:S}}}}}catch{}return null})}getContentHash(){return Ze(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const c=parseInt(r[3],16);if(r[4].length===c*2)return"ipfs://"+Zm.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const c=parseInt(n[3],16);if(n[4].length===c*2)return"ipns://"+Zm.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===64)return"bzz://"+i[1];const l=e.match(/^0x90b2c605([0-9a-f]*)$/);if(l&&l[1].length===68){const c={"=":"","+":"-","/":"_"};return"sia://"+$b("0x"+l[1]).replace(/[=+\/]/g,f=>c[f])}return mt.throwError("invalid or unsupported content hash data",ee.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Ze(this,void 0,void 0,function*(){let r=_s(e);r=Rn([Nm(64),Nm(r.length),r]),r.length%32!==0&&(r=Rn([r,er("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",ze(r));return n==null||n==="0x"?null:wc(n)})}}let Cm=null,xT=1;class _p extends kc{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),fe(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=Mn(new.target,"getNetwork")(e);r?(fe(this,"_network",r),this.emit("network",r,null)):mt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Ze(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||mt.throwError("no network detected",ee.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:fe(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Ra(()=>this._ready().then(e=>e,e=>{if(!(e.code===ee.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return Cm==null&&(Cm=new Me),Cm}static getNetwork(e){return uw(e??"homestead")}ccipReadFetch(e,r,n){return Ze(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),l=r.toLowerCase(),c=[];for(let u=0;u<n.length;u++){const f=n[u],h=f.replace("{sender}",i).replace("{data}",l),p=f.indexOf("{data}")>=0?null:JSON.stringify({data:l,sender:i}),y=yield Kd({url:h,errorPassThrough:!0},p,(g,S)=>(g.status=S.statusCode,g));if(y.data)return y.data;const k=y.message||"unknown error";if(y.status>=400&&y.status<500)return mt.throwError(`response not found during CCIP fetch: ${k}`,ee.errors.SERVER_ERROR,{url:f,errorMessage:k});c.push(k)}return mt.throwError(`error encountered during CCIP fetch: ${c.map(u=>JSON.stringify(u)).join(", ")}`,ee.errors.SERVER_ERROR,{urls:n,errorMessages:c})})}_getInternalBlockNumber(e){return Ze(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const l=yield i;if(Il()-l.respTime<=e)return l.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=Il(),n=gr({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:l})=>{if(l)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),l;const c=Il();return i=ce.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:c}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return Ze(this,void 0,void 0,function*(){const e=xT++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)mt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",mt.makeError("network block skew detected",ee.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const l=this._emitted[i];l!=="pending"&&n-l>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const l=i.hash;let c=this.getTransactionReceipt(l).then(u=>(!u||u.blockNumber==null||(this._emitted["t:"+l]=u.blockNumber,this.emit(l,u)),null)).catch(u=>{this.emit("error",u)});r.push(c);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const l=i.filter;l.fromBlock=i._lastBlockNumber+1,l.toBlock=n;const c=l.toBlock-this._maxFilterBlockRange;c>l.fromBlock&&(l.fromBlock=c),l.fromBlock<0&&(l.fromBlock=0);const u=this.getLogs(l).then(f=>{i._inflight=!1,f.length!==0&&f.forEach(h=>{h.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=h.blockNumber),this._emitted["b:"+h.blockHash]=h.blockNumber,this._emitted["t:"+h.transactionHash]=h.blockNumber,this.emit(l,h)})}).catch(f=>{this.emit("error",f),i._inflight=!1});r.push(u)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Ze(this,void 0,void 0,function*(){return mt.throwError("provider does not support network detection",ee.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Ze(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield Zy(0),this._network;const n=mt.makeError("underlying network changed",ee.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Il();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Il(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return Ze(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return Ze(this,void 0,void 0,function*(){const l=yield this.getTransactionReceipt(e);return(l?l.confirmations:0)>=r?l:new Promise((c,u)=>{const f=[];let h=!1;const p=function(){return h?!0:(h=!0,f.forEach(k=>{k()}),!1)},y=k=>{k.confirmations<r||p()||c(k)};if(this.on(e,y),f.push(()=>{this.removeListener(e,y)}),i){let k=i.startBlock,g=null;const S=N=>Ze(this,void 0,void 0,function*(){h||(yield Zy(1e3),this.getTransactionCount(i.from).then(A=>Ze(this,void 0,void 0,function*(){if(!h){if(A<=i.nonce)k=N;else{{const P=yield this.getTransaction(e);if(P&&P.blockNumber!=null)return}for(g==null&&(g=k-3,g<i.startBlock&&(g=i.startBlock));g<=N;){if(h)return;const P=yield this.getBlockWithTransactions(g);for(let z=0;z<P.transactions.length;z++){const L=P.transactions[z];if(L.hash===e)return;if(L.from===i.from&&L.nonce===i.nonce){if(h)return;const $=yield this.waitForTransaction(L.hash,r);if(p())return;let U="replaced";L.data===i.data&&L.to===i.to&&L.value.eq(i.value)?U="repriced":L.data==="0x"&&L.from===L.to&&L.value.isZero()&&(U="cancelled"),u(mt.makeError("transaction was replaced",ee.errors.TRANSACTION_REPLACED,{cancelled:U==="replaced"||U==="cancelled",reason:U,replacement:this._wrapTransaction(L),hash:e,receipt:$}));return}}g++}}h||this.once("block",S)}}),A=>{h||this.once("block",S)}))});if(h)return;this.once("block",S),f.push(()=>{this.removeListener("block",S)})}if(typeof n=="number"&&n>0){const k=setTimeout(()=>{p()||u(mt.makeError("timeout exceeded",ee.errors.TIMEOUT,{timeout:n}))},n);k.unref&&k.unref(),f.push(()=>{clearTimeout(k)})}})})}getBlockNumber(){return Ze(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Ze(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return ce.from(e)}catch(r){return mt.throwError("bad result from backend",ee.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return Ze(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield gr({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return ce.from(i)}catch(l){return mt.throwError("bad result from backend",ee.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:l})}})}getTransactionCount(e,r){return Ze(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield gr({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return ce.from(i).toNumber()}catch(l){return mt.throwError("bad result from backend",ee.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:l})}})}getCode(e,r){return Ze(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield gr({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return ze(i)}catch(l){return mt.throwError("bad result from backend",ee.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:l})}})}getStorageAt(e,r,n){return Ze(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield gr({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(c=>Ud(c))}),l=yield this.perform("getStorageAt",i);try{return ze(l)}catch(c){return mt.throwError("bad result from backend",ee.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:l,error:c})}})}_wrapTransaction(e,r,n){if(r!=null&&To(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&mt.throwError("Transaction hash mismatch from Provider.sendTransaction.",ee.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(l,c)=>Ze(this,void 0,void 0,function*(){l==null&&(l=1),c==null&&(c=0);let u;l!==0&&n!=null&&(u={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const f=yield this._waitForTransaction(e.hash,l,c,u);return f==null&&l===0?null:(this._emitted["t:"+e.hash]=f.blockNumber,f.status===0&&mt.throwError("transaction failed",ee.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:f}),f)}),i}sendTransaction(e){return Ze(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(l=>ze(l)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const l=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,l,i)}catch(l){throw l.transaction=n,l.transactionHash=n.hash,l}})}_getTransactionRequest(e){return Ze(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(l=>l?this._getAddress(l):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(l=>l?ce.from(l):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(l=>l??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(l=>l?ze(l):null))}),this.formatter.transactionRequest(yield gr(n))})}_getFilter(e){return Ze(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield gr(r))})}_call(e,r,n){return Ze(this,void 0,void 0,function*(){n>=hT&&mt.throwError("CCIP read exceeded maximum redirections",ee.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,l=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&l.substring(0,10)==="0x556f1830"&&To(l)%32===4)try{const c=Hr(l,4),u=Hr(c,0,32);ce.from(u).eq(i)||mt.throwError("CCIP Read sender did not match",ee.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:l});const f=[],h=ce.from(Hr(c,32,64)).toNumber(),p=ce.from(Hr(c,h,h+32)).toNumber(),y=Hr(c,h+32);for(let P=0;P<p;P++){const z=fd(y,P*32);z==null&&mt.throwError("CCIP Read contained corrupt URL string",ee.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:l}),f.push(z)}const k=lc(c,64);ce.from(Hr(c,100,128)).isZero()||mt.throwError("CCIP Read callback selector included junk",ee.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:l});const g=Hr(c,96,100),S=lc(c,128),N=yield this.ccipReadFetch(e,k,f);N==null&&mt.throwError("CCIP Read disabled or provided no URLs",ee.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:l});const A={to:i,data:gn([g,fw([N,S])])};return this._call(A,r,n+1)}catch(c){if(c.code===ee.errors.SERVER_ERROR)throw c}try{return ze(l)}catch(c){return mt.throwError("bad result from backend",ee.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:l,error:c})}})}call(e,r){return Ze(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield gr({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return Ze(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield gr({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return ce.from(n)}catch(i){return mt.throwError("bad result from backend",ee.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return Ze(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&mt.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&mt.throwError("ENS name not configured",ee.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return Ze(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(ct(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),ct(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{mt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Ra(()=>Ze(this,void 0,void 0,function*(){const l=yield this.perform("getBlock",i);if(l==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let c=null;for(let f=0;f<l.transactions.length;f++){const h=l.transactions[f];if(h.blockNumber==null)h.confirmations=0;else if(h.confirmations==null){c==null&&(c=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let p=c-h.blockNumber+1;p<=0&&(p=1),h.confirmations=p}}const u=this.formatter.blockWithTransactions(l);return u.transactions=u.transactions.map(f=>this._wrapTransaction(f)),u}return this.formatter.block(l)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Ze(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Ra(()=>Ze(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let c=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;c<=0&&(c=1),i.confirmations=c}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return Ze(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Ra(()=>Ze(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let c=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;c<=0&&(c=1),i.confirmations=c}return i}),{oncePoll:this})})}getLogs(e){return Ze(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield gr({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),Me.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return Ze(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Ze(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&mt.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return Ze(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new nx(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return Ze(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||mt.throwError("network does not support ENS",ee.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+ld(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return Ze(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(ct(e))throw n}typeof e!="string"&&mt.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return Ze(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=fd(yield this.call({to:n,data:"0x691f3431"+ld(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return Ze(this,void 0,void 0,function*(){let r=null;if(ct(e)){const l=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",c=yield this._getResolver(l,"getAvatar");if(!c)return null;r=new nx(this,c,l);try{const u=yield r.getAvatar();if(u)return u.url}catch(u){if(u.code!==ee.errors.CALL_EXCEPTION)throw u}try{const u=fd(yield this.call({to:c,data:"0x691f3431"+ld(l).substring(2)}),0);r=yield this.getResolver(u)}catch(u){if(u.code!==ee.errors.CALL_EXCEPTION)throw u;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return mt.throwError(e+" not implemented",ee.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new gT(ka(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],l=ka(e);return this._events=this._events.filter(c=>c.tag!==l?!0:(setTimeout(()=>{c.listener.apply(this,r)},0),n=!0,c.once?(i.push(c),!1):!0)),i.forEach(c=>{this._stopEvent(c)}),n}listenerCount(e){if(!e)return this._events.length;let r=ka(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=ka(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,l=ka(e);return this._events=this._events.filter(c=>c.tag!==l||c.listener!=r||i?!0:(i=!0,n.push(c),!1)),n.forEach(c=>{this._stopEvent(c)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=ka(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var Js=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(p){try{h(n.next(p))}catch(y){c(y)}}function f(p){try{h(n.throw(p))}catch(y){c(y)}}function h(p){p.done?l(p.value):i(p.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const vr=new ee(Lr),bT=["call","estimateGas"];function Gl(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=ct(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=Gl(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return Gl(JSON.parse(t),e)}catch{}return null}function hw(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const l=Gl(e,!0);if(l)return l.data;vr.throwError("missing revert data in call exception; Transaction reverted without a reason string",ee.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let l=Gl(e.body,!1);l==null&&(l=Gl(e,!1)),l&&vr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ee.errors.UNPREDICTABLE_GAS_LIMIT,{reason:l.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===ee.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&vr.throwError("insufficient funds for intrinsic transaction cost",ee.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&vr.throwError("nonce has already been used",ee.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&vr.throwError("replacement fee too low",ee.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&vr.throwError("legacy pre-eip-155 transactions not supported",ee.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),bT.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&vr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ee.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function sx(t){return new Promise(function(e){setTimeout(e,t)})}function wT(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function Dl(t){return t&&t.toLowerCase()}const ep={};class mw extends Nc{constructor(e,r,n){if(super(),e!==ep)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");fe(this,"provider",r),n==null&&(n=0),typeof n=="string"?(fe(this,"_address",this.provider.formatter.address(n)),fe(this,"_index",null)):typeof n=="number"?(fe(this,"_index",n),fe(this,"_address",null)):vr.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return vr.throwError("cannot alter JSON-RPC Signer connection",ee.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new kT(ep,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&vr.throwError("unknown account #"+this._index,ee.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Zt(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Zt(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>Js(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&vr.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),gr({tx:gr(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&vr.throwArgumentError("from address mismatch","transaction",e):n.from=i;const l=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[l]).then(c=>c,c=>(typeof c.message=="string"&&c.message.match(/user denied/i)&&vr.throwError("user rejected transaction",ee.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),hw("sendTransaction",c,l)))})}signTransaction(e){return vr.throwError("signing transactions is unsupported",ee.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Js(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield Ra(()=>Js(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return Js(this,void 0,void 0,function*(){const r=typeof e=="string"?_s(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[ze(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&vr.throwError("user rejected signing",ee.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return Js(this,void 0,void 0,function*(){const r=typeof e=="string"?_s(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),ze(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&vr.throwError("user rejected signing",ee.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return Js(this,void 0,void 0,function*(){const i=yield Sn.resolveNames(e,r,n,c=>this.provider.resolveName(c)),l=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[l.toLowerCase(),JSON.stringify(Sn.getPayload(i.domain,r,i.value))])}catch(c){throw typeof c.message=="string"&&c.message.match(/user denied/i)&&vr.throwError("user rejected signing",ee.errors.ACTION_REJECTED,{action:"_signTypedData",from:l,messageData:{domain:i.domain,types:r,value:i.value}}),c}})}unlock(e){return Js(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class kT extends mw{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const NT={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class cc extends _p{constructor(e,r){let n=r;n==null&&(n=new Promise((i,l)=>{setTimeout(()=>{this.detectNetwork().then(c=>{i(c)},c=>{l(c)})},0)})),super(n),e||(e=Mn(this.constructor,"defaultUrl")()),typeof e=="string"?fe(this,"connection",Object.freeze({url:e})):fe(this,"connection",Object.freeze(Zt(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Js(this,void 0,void 0,function*(){yield sx(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=Mn(this.constructor,"getNetwork");try{return r(ce.from(e).toNumber())}catch(n){return vr.throwError("could not detect network",ee.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return vr.throwError("could not detect network",ee.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new mw(ep,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:_n(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const l=Kd(this.connection,JSON.stringify(n),wT).then(c=>(this.emit("debug",{action:"response",request:n,response:c,provider:this}),c),c=>{throw this.emit("debug",{action:"response",error:c,request:n,provider:this}),c});return i&&(this._cache[e]=l,setTimeout(()=>{this._cache[e]=null},0)),l}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Dl(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Dl(r.address),r.blockTag]];case"getCode":return["eth_getCode",[Dl(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Dl(r.address),er(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[Mn(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[Mn(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=Dl(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return Js(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&ce.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const l=yield this.getFeeData();l.maxFeePerGas==null&&l.maxPriorityFeePerGas==null&&(r=Zt(r),r.transaction=Zt(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&vr.throwError(e+" not implemented",ee.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return hw(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(l){if(e._pendingFilter!=r)return null;let c=Promise.resolve();return l.forEach(function(u){e._emitted["t:"+u.toLowerCase()]="pending",c=c.then(function(){return e.getTransaction(u).then(function(f){return e.emit("pending",f),null})})}),c.then(function(){return sx(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(l=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=Zt(NT);if(r)for(const l in r)r[l]&&(n[l]=!0);HC(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(l){if(e[l]==null)return;const c=Ud(ce.from(e[l]));l==="gasLimit"&&(l="gas"),i[l]=c}),["from","to","data"].forEach(function(l){e[l]!=null&&(i[l]=ze(e[l]))}),e.accessList&&(i.accessList=Wo(e.accessList)),i}}let Kl=null;try{if(Kl=WebSocket,Kl==null)throw new Error("inject please")}catch{const e=new ee(Lr);Kl=function(){e.throwError("WebSockets not supported in this environment",ee.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var Am=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(p){try{h(n.next(p))}catch(y){c(y)}}function f(p){try{h(n.throw(p))}catch(y){c(y)}}function h(p){p.done?l(p.value):i(p.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const Uu=new ee(Lr);let ET=1;class Ip extends cc{constructor(e,r){r==="any"&&Uu.throwError("WebSocketProvider does not support 'any' network yet",ee.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,r):super("_websocket",r),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?fe(this,"_websocket",new Kl(this.connection.url)):fe(this,"_websocket",e),fe(this,"_requests",{}),fe(this,"_subs",{}),fe(this,"_subIds",{}),fe(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(i=>{this.websocket.send(this._requests[i].payload)})},this.websocket.onmessage=i=>{const l=i.data,c=JSON.parse(l);if(c.id!=null){const u=String(c.id),f=this._requests[u];if(delete this._requests[u],c.result!==void 0)f.callback(null,c.result),this.emit("debug",{action:"response",request:JSON.parse(f.payload),response:c.result,provider:this});else{let h=null;c.error?(h=new Error(c.error.message||"unknown error"),fe(h,"code",c.error.code||null),fe(h,"response",l)):h=new Error("unknown error"),f.callback(h,void 0),this.emit("debug",{action:"response",error:h,request:JSON.parse(f.payload),provider:this})}}else if(c.method==="eth_subscription"){const u=this._subs[c.params.subscription];u&&u.processFunc(c.params.result)}else console.warn("this should not happen")};const n=setInterval(()=>{this.emit("poll")},1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){Uu.throwError("cannot reset events block on WebSocketProvider",ee.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){Uu.throwError("cannot set polling interval on WebSocketProvider",ee.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return Am(this,void 0,void 0,function*(){return null})}set polling(e){e&&Uu.throwError("cannot set polling on WebSocketProvider",ee.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,r){const n=ET++;return new Promise((i,l)=>{function c(f,h){return f?l(f):i(h)}const u=JSON.stringify({method:e,params:r,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(u),provider:this}),this._requests[String(n)]={callback:c,payload:u},this._wsReady&&this.websocket.send(u)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,r,n){return Am(this,void 0,void 0,function*(){let i=this._subIds[e];i==null&&(i=Promise.all(r).then(c=>this.send("eth_subscribe",c)),this._subIds[e]=i);const l=yield i;this._subs[l]={tag:e,processFunc:n}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],r=>{const n=ce.from(r.number).toNumber();this._emitted.block=n,this.emit("block",n)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],r=>{this.emit("pending",r)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],r=>{r.removed==null&&(r.removed=!1),this.emit(e.filter,this.formatter.filterLog(r))});break;case"tx":{const r=n=>{const i=n.hash;this.getTransactionReceipt(i).then(l=>{l&&this.emit(i,l)})};r(e),this._subscribe("tx",["newHeads"],n=>{this._events.filter(i=>i.type==="tx").forEach(r)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let r=e.tag;if(e.type==="tx"){if(this._events.filter(i=>i.type==="tx").length)return;r="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[r];n&&(delete this._subIds[r],n.then(i=>{this._subs[i]&&(delete this._subs[i],this.send("eth_unsubscribe",[i]))}))}destroy(){return Am(this,void 0,void 0,function*(){this.websocket.readyState===Kl.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var CT=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(p){try{h(n.next(p))}catch(y){c(y)}}function f(p){try{h(n.throw(p))}catch(y){c(y)}}function h(p){p.done?l(p.value):i(p.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const Bl=new ee(Lr);class AT extends cc{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return CT(this,void 0,void 0,function*(){let r=this.network;return r==null&&(r=yield e.detectNetwork.call(this),r||Bl.throwError("no network detected",ee.errors.UNKNOWN_ERROR,{}),this._network==null&&(fe(this,"_network",r),this.emit("network",r,null))),r})}}class li extends AT{constructor(e,r){Bl.checkAbstract(new.target,li),e=Mn(new.target,"getNetwork")(e),r=Mn(new.target,"getApiKey")(r);const n=Mn(new.target,"getUrl")(e,r);super(n,e),typeof r=="string"?fe(this,"apiKey",r):r!=null&&Object.keys(r).forEach(i=>{fe(this,i,r[i])})}_startPending(){Bl.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return Bl.throwError("API provider does not support signing",ee.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,r){return Bl.throwError("not implemented; sub-classes must override getUrl",ee.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const ix=new ee(Lr),hd="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class ST extends Ip{constructor(e,r){const n=new pw(e,r),i=n.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(i,n.network),fe(this,"apiKey",n.apiKey)}isCommunityResource(){return this.apiKey===hd}}class pw extends li{static getWebSocketProvider(e,r){return new ST(e,r)}static getApiKey(e){return e==null?hd:(e&&typeof e!="string"&&ix.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,r){let n=null;switch(e.name){case"homestead":n="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":n="eth-goerli.g.alchemy.com/v2/";break;case"sepolia":n="eth-sepolia.g.alchemy.com/v2/";break;case"matic":n="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":n="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":n="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":n="arb-goerli.g.alchemy.com/v2/";break;case"arbitrum-sepolia":n="arb-sepolia.g.alchemy.com/v2/";break;case"optimism":n="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":n="opt-goerli.g.alchemy.com/v2/";break;case"optimism-sepolia":n="opt-sepolia.g.alchemy.com/v2/";break;default:ix.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+n+r,throttleCallback:(i,l)=>(r===hd&&Yd(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===hd}}const TT=new ee(Lr),$u="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function PT(t){switch(t){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"sepolia":return"rpc.ankr.com/eth_sepolia/";case"matic":return"rpc.ankr.com/polygon/";case"maticmum":return"rpc.ankr.com/polygon_mumbai/";case"optimism":return"rpc.ankr.com/optimism/";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet/";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return TT.throwArgumentError("unsupported network","name",t)}class jT extends li{isCommunityResource(){return this.apiKey===$u}static getApiKey(e){return e??$u}static getUrl(e,r){r==null&&(r=$u);const n={allowGzip:!0,url:"https://"+PT(e.name)+r,throttleCallback:(i,l)=>(r.apiKey===$u&&Yd(),Promise.resolve(!0))};return r.projectSecret!=null&&(n.user="",n.password=r.projectSecret),n}}var RT=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(p){try{h(n.next(p))}catch(y){c(y)}}function f(p){try{h(n.throw(p))}catch(y){c(y)}}function h(p){p.done?l(p.value):i(p.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const ox=new ee(Lr);class MT extends li{static getApiKey(e){return e!=null&&ox.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,r){let n=null;switch(e.name){case"homestead":n="https://cloudflare-eth.com/";break;default:ox.throwArgumentError("unsupported network","network",arguments[0])}return n}perform(e,r){const n=Object.create(null,{perform:{get:()=>super.perform}});return RT(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield n.perform.call(this,"getBlock",{blockTag:"latest"})).number:n.perform.call(this,e,r)})}}var Wu=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(p){try{h(n.next(p))}catch(y){c(y)}}function f(p){try{h(n.throw(p))}catch(y){c(y)}}function h(p){p.done?l(p.value):i(p.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const Fi=new ee(Lr);function ax(t){const e={};for(let r in t){if(t[r]==null)continue;let n=t[r];r==="type"&&n===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?n=Ud(ze(n)):r==="accessList"?n="["+Wo(n).map(i=>`{address:"${i.address}",storageKeys:["${i.storageKeys.join('","')}"]}`).join(",")+"]":n=ze(n),e[r]=n)}return e}function _T(t){if(t.status==0&&(t.message==="No records found"||t.message==="No transactions found"))return t.result;if(t.status!=1||typeof t.message!="string"||!t.message.match(/^OK/)){const e=new Error("invalid response");throw e.result=JSON.stringify(t),(t.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return t.result}function lx(t){if(t&&t.status==0&&t.message=="NOTOK"&&(t.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(t),e.throttleRetry=!0,e}if(t.jsonrpc!="2.0"){const e=new Error("invalid response");throw e.result=JSON.stringify(t),e}if(t.error){const e=new Error(t.error.message||"unknown error");throw t.error.code&&(e.code=t.error.code),t.error.data&&(e.data=t.error.data),e}return t.result}function cx(t){if(t==="pending")throw new Error("pending not supported");return t==="latest"?t:parseInt(t.substring(2),16)}function Sm(t,e,r){if(t==="call"&&e.code===ee.errors.SERVER_ERROR){const i=e.error;if(i&&(i.message.match(/reverted/i)||i.message.match(/VM execution error/i))){let l=i.data;if(l&&(l="0x"+l.replace(/^.*0x/i,"")),ct(l))return l;Fi.throwError("missing revert data in call exception",ee.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let n=e.message;throw e.code===ee.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?n=e.error.message:typeof e.body=="string"?n=e.body:typeof e.responseText=="string"&&(n=e.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&Fi.throwError("insufficient funds for intrinsic transaction cost",ee.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&Fi.throwError("nonce has already been used",ee.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),n.match(/another transaction with same nonce/)&&Fi.throwError("replacement fee too low",ee.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),n.match(/execution failed due to an exception|execution reverted/)&&Fi.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ee.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}class IT extends _p{constructor(e,r){super(e),fe(this,"baseUrl",this.getBaseUrl()),fe(this,"apiKey",r||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return Fi.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,r){const n=Object.keys(r).reduce((l,c)=>{const u=r[c];return u!=null&&(l+=`&${c}=${u}`),l},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${n}${i}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,r){return r.module=e,r.apikey=this.apiKey,r}fetch(e,r,n){return Wu(this,void 0,void 0,function*(){const i=n?this.getPostUrl():this.getUrl(e,r),l=n?this.getPostData(e,r):null,c=e==="proxy"?lx:_T;this.emit("debug",{action:"request",request:i,provider:this});const u={url:i,throttleSlotInterval:1e3,throttleCallback:(p,y)=>(this.isCommunityResource()&&Yd(),Promise.resolve(!0))};let f=null;l&&(u.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},f=Object.keys(l).map(p=>`${p}=${l[p]}`).join("&"));const h=yield Kd(u,f,c||lx);return this.emit("debug",{action:"response",request:i,response:_n(h),provider:this}),h})}detectNetwork(){return Wu(this,void 0,void 0,function*(){return this.network})}perform(e,r){const n=Object.create(null,{perform:{get:()=>super.perform}});return Wu(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:r.address,tag:r.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:r.address,tag:r.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:r.address,tag:r.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:r.address,position:r.position,tag:r.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:r.signedTransaction},!0).catch(i=>Sm("sendTransaction",i,r.signedTransaction));case"getBlock":if(r.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:r.blockTag,boolean:r.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:r.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:r.transactionHash});case"call":{if(r.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const i=ax(r.transaction);i.module="proxy",i.action="eth_call";try{return yield this.fetch("proxy",i,!0)}catch(l){return Sm("call",l,r.transaction)}}case"estimateGas":{const i=ax(r.transaction);i.module="proxy",i.action="eth_estimateGas";try{return yield this.fetch("proxy",i,!0)}catch(l){return Sm("estimateGas",l,r.transaction)}}case"getLogs":{const i={action:"getLogs"};if(r.filter.fromBlock&&(i.fromBlock=cx(r.filter.fromBlock)),r.filter.toBlock&&(i.toBlock=cx(r.filter.toBlock)),r.filter.address&&(i.address=r.filter.address),r.filter.topics&&r.filter.topics.length>0&&(r.filter.topics.length>1&&Fi.throwError("unsupported topic count",ee.errors.UNSUPPORTED_OPERATION,{topics:r.filter.topics}),r.filter.topics.length===1)){const u=r.filter.topics[0];(typeof u!="string"||u.length!==66)&&Fi.throwError("unsupported topic format",ee.errors.UNSUPPORTED_OPERATION,{topic0:u}),i.topic0=u}const l=yield this.fetch("logs",i);let c={};for(let u=0;u<l.length;u++){const f=l[u];if(f.blockHash==null){if(c[f.blockNumber]==null){const h=yield this.getBlock(f.blockNumber);h&&(c[f.blockNumber]=h.hash)}f.blockHash=c[f.blockNumber]}}return l}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return n.perform.call(this,e,r)})}getHistory(e,r,n){return Wu(this,void 0,void 0,function*(){const i={action:"txlist",address:yield this.resolveName(e),startblock:r??0,endblock:n??99999999,sort:"asc"};return(yield this.fetch("account",i)).map(c=>{["contractAddress","to"].forEach(function(f){c[f]==""&&delete c[f]}),c.creates==null&&c.contractAddress!=null&&(c.creates=c.contractAddress);const u=this.formatter.transactionResponse(c);return c.timeStamp&&(u.timestamp=parseInt(c.timeStamp)),u})})}isCommunityResource(){return this.apiKey==null}}var Td=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(p){try{h(n.next(p))}catch(y){c(y)}}function f(p){try{h(n.throw(p))}catch(y){c(y)}}function h(p){p.done?l(p.value):i(p.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const bo=new ee(Lr);function Hu(){return new Date().getTime()}function ux(t){let e=null;for(let r=0;r<t.length;r++){const n=t[r];if(n==null)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||e.ensAddress==null&&n.ensAddress==null)||bo.throwArgumentError("provider mismatch","networks",t):e=n}return e}function dx(t,e){t=t.slice().sort();const r=Math.floor(t.length/2);if(t.length%2)return t[r];const n=t[r-1],i=t[r];return e!=null&&Math.abs(n-i)>e?null:(n+i)/2}function Ma(t){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return JSON.stringify(t);if(typeof t=="string")return t;if(ce.isBigNumber(t))return t.toString();if(Array.isArray(t))return JSON.stringify(t.map(e=>Ma(e)));if(typeof t=="object"){const e=Object.keys(t);return e.sort(),"{"+e.map(r=>{let n=t[r];return typeof n=="function"?n="[function]":n=Ma(n),JSON.stringify(r)+":"+n}).join(",")+"}"}throw new Error("unknown value type: "+typeof t)}let DT=1;function fx(t){let e=null,r=null,n=new Promise(c=>{e=function(){r&&(clearTimeout(r),r=null),c()},r=setTimeout(e,t)});const i=c=>(n=n.then(c),n);function l(){return n}return{cancel:e,getPromise:l,wait:i}}const zT=[ee.errors.CALL_EXCEPTION,ee.errors.INSUFFICIENT_FUNDS,ee.errors.NONCE_EXPIRED,ee.errors.REPLACEMENT_UNDERPRICED,ee.errors.UNPREDICTABLE_GAS_LIMIT],OT=["address","args","errorArgs","errorSignature","method","transaction"];function qu(t,e){const r={weight:t.weight};return Object.defineProperty(r,"provider",{get:()=>t.provider}),t.start&&(r.start=t.start),e&&(r.duration=e-t.start),t.done&&(t.error?r.error=t.error:r.result=t.result||null),r}function LT(t,e){return function(r){const n={};r.forEach(l=>{const c=t(l.result);n[c]||(n[c]={count:0,result:l.result}),n[c].count++});const i=Object.keys(n);for(let l=0;l<i.length;l++){const c=n[i[l]];if(c.count>=e)return c.result}}}function FT(t,e,r){let n=Ma;switch(e){case"getBlockNumber":return function(i){const l=i.map(u=>u.result);let c=dx(i.map(u=>u.result),2);if(c!=null)return c=Math.ceil(c),l.indexOf(c+1)>=0&&c++,c>=t._highestBlockNumber&&(t._highestBlockNumber=c),t._highestBlockNumber};case"getGasPrice":return function(i){const l=i.map(c=>c.result);return l.sort(),l[Math.floor(l.length/2)]};case"getEtherPrice":return function(i){return dx(i.map(l=>l.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(i){return i==null?null:(i=Zt(i),i.confirmations=-1,Ma(i))};break;case"getBlock":r.includeTransactions?n=function(i){return i==null?null:(i=Zt(i),i.transactions=i.transactions.map(l=>(l=Zt(l),l.confirmations=-1,l)),Ma(i))}:n=function(i){return i==null?null:Ma(i)};break;default:throw new Error("unknown method: "+e)}return LT(n,t.quorum)}function zl(t,e){return Td(this,void 0,void 0,function*(){const r=t.provider;return r.blockNumber!=null&&r.blockNumber>=e||e===-1?r:Ra(()=>new Promise((n,i)=>{setTimeout(function(){return r.blockNumber>=e?n(r):t.cancelled?n(null):n(void 0)},0)}),{oncePoll:r})})}function BT(t,e,r,n){return Td(this,void 0,void 0,function*(){let i=t.provider;switch(r){case"getBlockNumber":case"getGasPrice":return i[r]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&ct(n.blockTag)&&(i=yield zl(t,e)),i[r](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&ct(n.blockTag)&&(i=yield zl(t,e)),i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&ct(n.blockTag)&&(i=yield zl(t,e)),i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&ct(n.blockTag)&&(i=yield zl(t,e)),r==="call"&&n.blockTag?i[r](n.transaction,n.blockTag):i[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[r](n.transactionHash);case"getLogs":{let l=n.filter;return(l.fromBlock&&ct(l.fromBlock)||l.toBlock&&ct(l.toBlock))&&(i=yield zl(t,e)),i.getLogs(l)}}return bo.throwError("unknown method error",ee.errors.UNKNOWN_ERROR,{method:r,params:n})})}class UT extends _p{constructor(e,r){e.length===0&&bo.throwArgumentError("missing providers","providers",e);const n=e.map((c,u)=>{if(kc.isProvider(c)){const p=Yy(c)?2e3:750;return Object.freeze({provider:c,weight:1,stallTimeout:p,priority:1})}const f=Zt(c);f.priority==null&&(f.priority=1),f.stallTimeout==null&&(f.stallTimeout=Yy(c)?2e3:750),f.weight==null&&(f.weight=1);const h=f.weight;return(h%1||h>512||h<1)&&bo.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${u}].weight`,h),Object.freeze(f)}),i=n.reduce((c,u)=>c+u.weight,0);r==null?r=i/2:r>i&&bo.throwArgumentError("quorum will always fail; larger than total weight","quorum",r);let l=ux(n.map(c=>c.provider.network));l==null&&(l=new Promise((c,u)=>{setTimeout(()=>{this.detectNetwork().then(c,u)},0)})),super(l),fe(this,"providerConfigs",Object.freeze(n)),fe(this,"quorum",r),this._highestBlockNumber=-1}detectNetwork(){return Td(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(r=>r.provider.getNetwork()));return ux(e)})}perform(e,r){return Td(this,void 0,void 0,function*(){if(e==="sendTransaction"){const f=yield Promise.all(this.providerConfigs.map(h=>h.provider.sendTransaction(r.signedTransaction).then(p=>p.hash,p=>p)));for(let h=0;h<f.length;h++){const p=f[h];if(typeof p=="string")return p}throw f[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const n=FT(this,e,r),i=tT(this.providerConfigs.map(Zt));i.sort((f,h)=>f.priority-h.priority);const l=this._highestBlockNumber;let c=0,u=!0;for(;;){const f=Hu();let h=i.filter(g=>g.runner&&f-g.start<g.stallTimeout).reduce((g,S)=>g+S.weight,0);for(;h<this.quorum&&c<i.length;){const g=i[c++],S=DT++;g.start=Hu(),g.staller=fx(g.stallTimeout),g.staller.wait(()=>{g.staller=null}),g.runner=BT(g,l,e,r).then(N=>{g.done=!0,g.result=N,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:S,backend:qu(g,Hu()),request:{method:e,params:_n(r)},provider:this})},N=>{g.done=!0,g.error=N,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:S,backend:qu(g,Hu()),request:{method:e,params:_n(r)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:S,backend:qu(g,null),request:{method:e,params:_n(r)},provider:this}),h+=g.weight}const p=[];i.forEach(g=>{g.done||!g.runner||(p.push(g.runner),g.staller&&p.push(g.staller.getPromise()))}),p.length&&(yield Promise.race(p));const y=i.filter(g=>g.done&&g.error==null);if(y.length>=this.quorum){const g=n(y);if(g!==void 0)return i.forEach(S=>{S.staller&&S.staller.cancel(),S.cancelled=!0}),g;u||(yield fx(100).getPromise()),u=!1}const k=i.reduce((g,S)=>{if(!S.done||S.error==null)return g;const N=S.error.code;return zT.indexOf(N)>=0&&(g[N]||(g[N]={error:S.error,weight:0}),g[N].weight+=S.weight),g},{});if(Object.keys(k).forEach(g=>{const S=k[g];if(S.weight<this.quorum)return;i.forEach(P=>{P.staller&&P.staller.cancel(),P.cancelled=!0});const N=S.error,A={};OT.forEach(P=>{N[P]!=null&&(A[P]=N[P])}),bo.throwError(N.reason||N.message,g,A)}),i.filter(g=>!g.done).length===0)break}return i.forEach(f=>{f.staller&&f.staller.cancel(),f.cancelled=!0}),bo.throwError("failed to meet quorum",ee.errors.SERVER_ERROR,{method:e,params:r,results:i.map(f=>qu(f)),provider:this})})}}const $T=null,md=new ee(Lr),Ul="84842078b09946638c03157f83405213";class WT extends Ip{constructor(e,r){const n=new gw(e,r),i=n.connection;i.password&&md.throwError("INFURA WebSocket project secrets unsupported",ee.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const l=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(l,e),fe(this,"apiKey",n.projectId),fe(this,"projectId",n.projectId),fe(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===Ul}}class gw extends li{static getWebSocketProvider(e,r){return new WT(e,r)}static getApiKey(e){const r={apiKey:Ul,projectId:Ul,projectSecret:null};return e==null||(typeof e=="string"?r.projectId=e:e.projectSecret!=null?(md.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),md.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),r.projectId=e.projectId,r.projectSecret=e.projectSecret):e.projectId&&(r.projectId=e.projectId),r.apiKey=r.projectId),r}static getUrl(e,r){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"goerli":n="goerli.infura.io";break;case"sepolia":n="sepolia.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-goerli":n="optimism-goerli.infura.io";break;case"optimism-sepolia":n="optimism-sepolia.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":n="arbitrum-goerli.infura.io";break;case"arbitrum-sepolia":n="arbitrum-sepolia.infura.io";break;default:md.throwError("unsupported network",ee.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i={allowGzip:!0,url:"https://"+n+"/v3/"+r.projectId,throttleCallback:(l,c)=>(r.projectId===Ul&&Yd(),Promise.resolve(!0))};return r.projectSecret!=null&&(i.user="",i.password=r.projectSecret),i}isCommunityResource(){return this.projectId===Ul}}const Tm=new ee(Lr),HT="ETHERS_JS_SHARED";class qT extends li{static getApiKey(e){return e&&typeof e!="string"&&Tm.throwArgumentError("invalid apiKey","apiKey",e),e||HT}static getUrl(e,r){Tm.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let n=null;switch(e.name){case"homestead":n="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":n="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":n="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":n="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":n="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:Tm.throwArgumentError("unsupported network","network",arguments[0])}return n+"?apiKey="+r}}const hx=new ee(Lr),mx="62e1ad51b37b8e00394bda3b";class VT extends li{static getApiKey(e){const r={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return e==null?r.applicationId=mx:typeof e=="string"?r.applicationId=e:e.applicationSecretKey!=null?(r.applicationId=e.applicationId,r.applicationSecretKey=e.applicationSecretKey):e.applicationId?r.applicationId=e.applicationId:hx.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),r}static getUrl(e,r){let n=null;switch(e?e.name:"unknown"){case"goerli":n="eth-goerli.gateway.pokt.network";break;case"homestead":n="eth-mainnet.gateway.pokt.network";break;case"kovan":n="poa-kovan.gateway.pokt.network";break;case"matic":n="poly-mainnet.gateway.pokt.network";break;case"maticmum":n="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":n="eth-rinkeby.gateway.pokt.network";break;case"ropsten":n="eth-ropsten.gateway.pokt.network";break;default:hx.throwError("unsupported network",ee.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i=`https://${n}/v1/lb/${r.applicationId}`,l={headers:{},url:i};return r.applicationSecretKey!=null&&(l.user="",l.password=r.applicationSecretKey),l}isCommunityResource(){return this.applicationId===mx}}const px=new ee(Lr),GT="919b412a057b5e9c9b6dce193c5a60242d6efadb";class KT extends li{static getApiKey(e){return e&&typeof e!="string"&&px.throwArgumentError("invalid apiKey","apiKey",e),e||GT}static getUrl(e,r){let n=null;switch(e.name){case"homestead":n="ethers.quiknode.pro";break;case"goerli":n="ethers.ethereum-goerli.quiknode.pro";break;case"sepolia":n="ethers.ethereum-sepolia.quiknode.pro";break;case"holesky":n="ethers.ethereum-holesky.quiknode.pro";break;case"arbitrum":n="ethers.arbitrum-mainnet.quiknode.pro";break;case"arbitrum-goerli":n="ethers.arbitrum-goerli.quiknode.pro";break;case"arbitrum-sepolia":n="ethers.arbitrum-sepolia.quiknode.pro";break;case"base":n="ethers.base-mainnet.quiknode.pro";break;case"base-goerli":n="ethers.base-goerli.quiknode.pro";break;case"base-spolia":n="ethers.base-sepolia.quiknode.pro";break;case"bnb":n="ethers.bsc.quiknode.pro";break;case"bnbt":n="ethers.bsc-testnet.quiknode.pro";break;case"matic":n="ethers.matic.quiknode.pro";break;case"maticmum":n="ethers.matic-testnet.quiknode.pro";break;case"optimism":n="ethers.optimism.quiknode.pro";break;case"optimism-goerli":n="ethers.optimism-goerli.quiknode.pro";break;case"optimism-sepolia":n="ethers.optimism-sepolia.quiknode.pro";break;case"xdai":n="ethers.xdai.quiknode.pro";break;default:px.throwArgumentError("unsupported network","network",arguments[0])}return"https://"+n+"/"+r}}const gx=new ee(Lr);let YT=1;function vx(t,e){const r="Web3LegacyFetcher";return function(n,i){const l={method:n,params:i,id:YT++,jsonrpc:"2.0"};return new Promise((c,u)=>{this.emit("debug",{action:"request",fetcher:r,request:_n(l),provider:this}),e(l,(f,h)=>{if(f)return this.emit("debug",{action:"response",fetcher:r,error:f,request:l,provider:this}),u(f);if(this.emit("debug",{action:"response",fetcher:r,request:l,response:h,provider:this}),h.error){const p=new Error(h.error.message);return p.code=h.error.code,p.data=h.error.data,u(p)}c(h.result)})})}}function QT(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:_n(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class No extends cc{constructor(e,r){e==null&&gx.throwArgumentError("missing provider","provider",e);let n=null,i=null,l=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),l=e,e.request?(n===""&&(n="eip-1193:"),i=QT(e)):e.sendAsync?i=vx(e,e.sendAsync.bind(e)):e.send?i=vx(e,e.send.bind(e)):gx.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),fe(this,"jsonRpcFetchFunc",i),fe(this,"provider",l)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}const yx=new ee(Lr);function Yl(t,e){if(t==null&&(t="homestead"),typeof t=="string"){const n=t.match(/^(ws|http)s?:/i);if(n)switch(n[1].toLowerCase()){case"http":case"https":return new cc(t);case"ws":case"wss":return new Ip(t);default:yx.throwArgumentError("unsupported URL scheme","network",t)}}const r=uw(t);return(!r||!r._defaultProvider)&&yx.throwError("unsupported getDefaultProvider network",ee.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:t}),r._defaultProvider({FallbackProvider:UT,AlchemyProvider:pw,AnkrProvider:jT,CloudflareProvider:MT,EtherscanProvider:IT,InfuraProvider:gw,JsonRpcProvider:cc,NodesmithProvider:qT,PocketProvider:VT,QuickNodeProvider:KT,Web3Provider:No,IpcProvider:$T},e)}const JT="units/5.8.0",XT=new ee(JT),ZT=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Qd(t,e){return od(t,e)}function Dn(t,e){if(typeof t!="string"&&XT.throwArgumentError("value must be a string","value",t),typeof e=="string"){const r=ZT.indexOf(e);r!==-1&&(e=3*r)}return Es(t,e??18)}function vn(t){return Qd(t,18)}function Ho(t){return Dn(t,18)}const zr={1:{name:"Ethereum Mainnet",rpcUrl:"https://ethereum-rpc.publicnode.com",explorer:"https://etherscan.io",contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},10:{name:"OP Mainnet",rpcUrl:"https://mainnet.optimism.io",explorer:"https://optimistic.etherscan.io",contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},56:{name:"BNB Smart Chain",rpcUrl:"https://bsc.blockrazor.xyz",explorer:"https://bscscan.com",contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},97:{name:"BNB Smart Chain Testnet",rpcUrl:"https://bsc-testnet-rpc.publicnode.com",explorer:"https://testnet.bscscan.com",contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},43113:{name:"Avalanche Fuji Testnet",rpcUrl:"https://avalanche-fuji.drpc.org",explorer:"https://testnet.snowscan.xyz",contractAddresses:{raffleManager:"0x6cB76737D48808894DEE60cE109280fC656Dd507",raffleDeployer:"0x211E3D8024C0986A907CFE427d33aDD194cC8DA4",revenueManager:"0x8502356d5DD2913bF902Fb61EC5D38351B22267f",nftFactory:"0x2581CBbd9F386cf35aC636a1Ce0cB0E6d2F6E3bf"}},43114:{name:"Avalanche C-Chain",rpcUrl:"https://avalanche.drpc.org",explorer:"https://snowscan.xyz",contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},8453:{name:"Base Mainnet",rpcUrl:"https://base.drpc.org",explorer:"https://basescan.org",contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},84532:{name:"Base Sepolia",rpcUrl:"https://base-sepolia-rpc.publicnode.com",explorer:"https://sepolia.basescan.org",contractAddresses:{raffleManager:"0x92C333E08746D7A204E873ea617dBee188f78B98",raffleDeployer:"0xDF05a7588a15d73BA818f92c197dCc9465CcdC65",revenueManager:"0x67AC55ca832fA03970b16f28BFe10c56E020c5B5",nftFactory:"0x160737D48ea71DC070c5FD7BC3eDBE59ecc6b777"}},11155111:{name:"Ethereum Sepolia",rpcUrl:"https://sepolia.infura.io",explorer:"https://sepolia.etherscan.io",contractAddresses:{raffleManager:"0x330132F2aEb2643bCAC64C073EDA8a17075434e6",raffleDeployer:"0x155D0E31A9Ea3A591926622BA862fFFe90450488",revenueManager:"0xD88bf9b03ECE7aaDd40Be883461e988DbeD56db9",nftFactory:"0xe6e7C91ed1240b6F7CE2f9c3A5af441ad4DC2D7A"}},11155420:{name:"OP Sepolia Testnet",rpcUrl:"https://sepolia.optimism.io",explorer:"https://sepolia-optimism.etherscan.io",contractAddresses:{raffleManager:"0x4Ed6890cc32f04D8E422Dc534460832f032D0052",raffleDeployer:"0xb2F34D0E4761be2229f445Aa47EDe064aee25F2c",revenueManager:"0x7A292e5B8aEfcabD7EA709d08053B01c0414b256",nftFactory:"0x38FfF955929fc3F47cA2D4E1d59FF70CBDB97Dc6"}},2020:{name:"Ronin Mainnet",rpcUrl:"https://ronin.drpc.org",explorer:"https://app.roninchain.com/",contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},2021:{name:"Ronin Saigon Testnet",rpcUrl:"https://saigon-testnet.roninchain.com/rpc",explorer:"https://saigon-app.roninchain.com/explorer",contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},42161:{name:"Arbitrum One",rpcUrl:"https://arbitrum.drpc.org",explorer:"https://arbiscan.io",contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},421614:{name:"Arbitrum Sepolia",rpcUrl:"https://endpoints.omniatech.io/v1/arbitrum/sepolia/public",explorer:"https://sepolia.arbiscan.io",contractAddresses:{raffleManager:"0x98b20229665CFa296008c388b0cbD8b15a38A4C5",raffleDeployer:"0x0e4fd77629Bb11D0a7298173C1C81b6C075Cb72A",revenueManager:"0x6fC8B56e2939AC1098eed8FD194c5b301CBfb3AA",nftFactory:"0x0b4F7b472aa07722D16d3368f1B9D66A18254D2B"}}},vw=w.createContext(),Qt=()=>{const t=w.useContext(vw);if(!t)throw new Error("useWallet must be used within a WalletProvider");return t},eP=({children:t})=>{const[e,r]=w.useState(null),[n,i]=w.useState(null),[l,c]=w.useState(""),[u,f]=w.useState(!1),[h,p]=w.useState(null),[y,k]=w.useState(!1),[g,S]=w.useState(null),[N,A]=w.useState(!1),[P,z]=w.useState(!1);w.useEffect(()=>{L()},[]),w.useEffect(()=>{if(window.ethereum)return window.ethereum.on("accountsChanged",$),window.ethereum.on("chainChanged",U),()=>{window.ethereum.removeListener("accountsChanged",$),window.ethereum.removeListener("chainChanged",U)}},[]),w.useEffect(()=>{h&&zr[h]?S(zr[h]):S(null)},[h]);const L=async()=>{if(window.ethereum)try{(await window.ethereum.request({method:"eth_accounts"})).length>0?await W("metamask"):A(!0)}catch(I){console.error("Error checking connection:",I),A(!0)}else A(!0)},$=I=>{I.length===0?V():c(I[0])},U=I=>{console.log("Chain changed to:",I),z(!0),p(parseInt(I,16)),setTimeout(async()=>{try{window.ethereum&&(await window.ethereum.request({method:"eth_accounts"})).length>0&&await W("metamask")}catch(v){console.error("Error reconnecting after chain change:",v)}finally{z(!1)}},1e3)},W=async I=>{k(!0);try{let v;switch(I){case"metamask":if(!window.ethereum)throw new Error("MetaMask is not installed");await window.ethereum.request({method:"eth_requestAccounts"}),v=new No(window.ethereum);break;default:throw new Error("Unsupported wallet type")}const C=v.getSigner(),R=await C.getAddress(),_=await v.getNetwork();r(v),i(C),c(R),p(_.chainId),f(!0),A(!0),localStorage.setItem("walletConnected",I)}catch(v){throw console.error("Error connecting wallet:",v),v}finally{k(!1)}},V=()=>{r(null),i(null),c(""),f(!1),p(null),A(!0),localStorage.removeItem("walletConnected")},J=async I=>{if(!window.ethereum)throw new Error("MetaMask is not installed");try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${I.toString(16)}`}]})}catch(v){throw v.code===4902?new Error("Please add this network to your wallet first"):v}},re=h&&zr[h],H={provider:e,signer:n,address:l,connected:u,chainId:h,loading:y,isInitialized:N,isReconnecting:P,connectWallet:W,disconnect:V,switchNetwork:J,addNetwork:async I=>{if(!window.ethereum)throw new Error("MetaMask is not installed");const v=zr[I];if(!v)throw new Error("Network config not found");try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${I.toString(16)}`,chainName:v.name,rpcUrls:[v.rpcUrl],blockExplorerUrls:[v.explorer],nativeCurrency:v.nativeCurrency||{name:"ETH",symbol:"ETH",decimals:18}}]})}catch(C){throw C}},formatAddress:I=>I?`${I.slice(0,6)}...${I.slice(-4)}`:"",networkInfo:g,isSupportedNetwork:re};return a.jsx(vw.Provider,{value:H,children:t})},tP=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"raffle",type:"address"}],name:"RaffleRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"bool",name:"whitelisted",type:"bool"}],name:"ERC20PrizeWhitelisted",type:"event"},{inputs:[],name:"getAllRaffles",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"addERC20Prize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAllTicketLimits",outputs:[{internalType:"uint256",name:"minPrized",type:"uint256"},{internalType:"uint256",name:"minNonPrized",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDurationLimits",outputs:[{internalType:"uint256",name:"min",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMaxTicketsPerParticipant",outputs:[{internalType:"uint256",name:"max",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minTicketLimitNonPrized",outputs:[{internalType:"uint256",name:"min",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTicketsPerParticipant",outputs:[{internalType:"uint256",name:"max",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"isERC20PrizeWhitelisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"collection",type:"address"}],name:"isInternalCollection",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],rP=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"raffle",type:"address"},{indexed:!0,internalType:"address",name:"creator",type:"address"}],name:"RaffleCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collection",type:"address"}],name:"PrizeCollectionCreated",type:"event"},{inputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"uint256",name:"ticketLimit",type:"uint256"},{internalType:"uint256",name:"winnersCount",type:"uint256"},{internalType:"uint256",name:"maxTicketsPerParticipant",type:"uint256"},{internalType:"bool",name:"isPrized",type:"bool"},{internalType:"uint256",name:"customTicketPrice",type:"uint256"},{internalType:"bool",name:"erc721Drop",type:"bool"},{internalType:"bool",name:"erc1155Drop",type:"bool"},{internalType:"address",name:"prizeCollection",type:"address"},{internalType:"uint8",name:"standard",type:"uint8"},{internalType:"uint256",name:"prizeTokenId",type:"uint256"},{internalType:"uint256",name:"amountPerWinner",type:"uint256"},{internalType:"string",name:"collectionName",type:"string"},{internalType:"string",name:"collectionSymbol",type:"string"},{internalType:"string",name:"collectionBaseURI",type:"string"},{internalType:"address",name:"creator",type:"address"},{internalType:"uint256",name:"royaltyPercentage",type:"uint256"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"address",name:"erc20PrizeToken",type:"address"},{internalType:"uint256",name:"erc20PrizeAmount",type:"uint256"},{internalType:"uint256",name:"ethPrizeAmount",type:"uint256"},{internalType:"uint8",name:"revealType",type:"uint8"},{internalType:"string",name:"unrevealedBaseURI",type:"string"},{internalType:"uint256",name:"revealTime",type:"uint256"},{internalType:"uint8",name:"mintingOrder",type:"uint8"},{internalType:"address",name:"holderTokenAddress",type:"address"},{internalType:"uint8",name:"holderTokenStandard",type:"uint8"},{internalType:"uint256",name:"minHolderTokenBalance",type:"uint256"},{internalType:"uint256",name:"holderTokenId",type:"uint256"}],internalType:"struct RaffleDeployer.RaffleParams",name:"p",type:"tuple"}],name:"createRaffle",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"}],nP=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AdminDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AdminWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"adminRevenue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"depositAdmin",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],sP=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collection",type:"address"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"uint8",name:"standard",type:"uint8"}],name:"PrizeCollectionCreated",type:"event"},{inputs:[{internalType:"uint8",name:"standard",type:"uint8"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"string",name:"baseURI",type:"string"},{internalType:"address",name:"initialOwner",type:"address"},{internalType:"uint256",name:"royaltyPercentage",type:"uint256"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"address",name:"raffleAddress",type:"address"}],name:"createPrizeCollection",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"erc1155Implementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"erc721Implementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"raffleManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"collection",type:"address"},{internalType:"bytes32",name:"signature",type:"bytes32"}],name:"validateSignature",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],iP=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"winner",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"PrizeMinted",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"salePrice",type:"uint256"}],name:"royaltyInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"royaltyPercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"royaltyRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_royaltyPercentage",type:"uint256"},{internalType:"address",name:"_royaltyRecipient",type:"address"}],name:"setRoyalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"minterLocked",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"minter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_minter",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lockMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"reveal",outputs:[],stateMutability:"nonpayable",type:"function"}],oP=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"PrizeMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"salePrice",type:"uint256"}],name:"royaltyInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"royaltyPercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"royaltyRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_royaltyPercentage",type:"uint256"},{internalType:"address",name:"_royaltyRecipient",type:"address"}],name:"setRoyalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_minter",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lockMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"reveal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_maxSupply",type:"uint256"}],name:"createNewToken",outputs:[],stateMutability:"nonpayable",type:"function"}],aP=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"participant",type:"address"},{indexed:!1,internalType:"uint256",name:"quantity",type:"uint256"}],name:"TicketsPurchased",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"winner",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"PrizeClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address[]",name:"winners",type:"address[]"}],name:"WinnersSelected",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RevenueWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"participant",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"DeletionRefund",type:"event"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"creator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"startTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"duration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ticketPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ticketLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"winnersCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTicketsPerParticipant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"isPrized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"prizeCollection",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"prizeTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"standard",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"state",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"isEscrowedPrize",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"erc20PrizeToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"erc20PrizeAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ethPrizeAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ticketsSold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalRevenue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalCreatorRevenue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"participants",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getParticipantsCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"ticketsPurchased",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"purchaseTickets",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"deleteRaffle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"winners",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"claimedWins",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"claimPrize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"claimPrizes",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"claimRefund",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"winner",type:"address"}],name:"mintToWinner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isWinner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"prizeClaimed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"refundClaimed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"refundableAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"depositEscrowPrize",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"withdrawEscrowedPrize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usesCustomPrice",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"refundedNonWinningTickets",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"winsPerAddress",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"participant",type:"address"}],name:"getRefundableAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_prizeCollection",type:"address"},{internalType:"uint8",name:"_standard",type:"uint8"},{internalType:"uint256",name:"_prizeTokenId",type:"uint256"},{internalType:"uint256",name:"_amountPerWinner",type:"uint256"}],name:"setExternalPrize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"requestRandomWords",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"activate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawCreatorRevenue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"endRaffle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isExternallyPrized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],lP=["function allowance(address owner, address spender) view returns (uint256)","function approve(address spender, uint256 amount) returns (bool)","function decimals() view returns (uint8)"],qt={raffleManager:tP,raffleDeployer:rP,revenueManager:nP,nftFactory:sP,erc721Prize:iP,erc1155Prize:oP,raffle:[...aP,{inputs:[],name:"isRefundable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"holderTokenAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"isExternallyPrized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],erc20:lP};var cP=t=>{switch(t){case"success":return fP;case"info":return mP;case"warning":return hP;case"error":return pP;default:return null}},uP=Array(12).fill(0),dP=({visible:t,className:e})=>be.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},be.createElement("div",{className:"sonner-spinner"},uP.map((r,n)=>be.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),fP=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),hP=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),mP=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),pP=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),gP=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},be.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),be.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),vP=()=>{let[t,e]=be.useState(document.hidden);return be.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},tp=1,yP=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:tp++,l=this.toasts.find(u=>u.id===i),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...t,id:i,title:r}),{...u,...t,id:i,dismissible:c,title:r}):u):this.addToast({title:r,...n,dismissible:c,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0,l,c=n.then(async f=>{if(l=["resolve",f],be.isValidElement(f))i=!1,this.create({id:r,type:"default",message:f});else if(bP(f)&&!f.ok){i=!1;let h=typeof e.error=="function"?await e.error(`HTTP error! status: ${f.status}`):e.error,p=typeof e.description=="function"?await e.description(`HTTP error! status: ${f.status}`):e.description;this.create({id:r,type:"error",message:h,description:p})}else if(e.success!==void 0){i=!1;let h=typeof e.success=="function"?await e.success(f):e.success,p=typeof e.description=="function"?await e.description(f):e.description;this.create({id:r,type:"success",message:h,description:p})}}).catch(async f=>{if(l=["reject",f],e.error!==void 0){i=!1;let h=typeof e.error=="function"?await e.error(f):e.error,p=typeof e.description=="function"?await e.description(f):e.description;this.create({id:r,type:"error",message:h,description:p})}}).finally(()=>{var f;i&&(this.dismiss(r),r=void 0),(f=e.finally)==null||f.call(e)}),u=()=>new Promise((f,h)=>c.then(()=>l[0]==="reject"?h(l[1]):f(l[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||tp++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},pn=new yP,xP=(t,e)=>{let r=(e==null?void 0:e.id)||tp++;return pn.addToast({title:t,...e,id:r}),r},bP=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",wP=xP,kP=()=>pn.toasts,NP=()=>pn.getActiveToasts(),ge=Object.assign(wP,{success:pn.success,info:pn.info,warning:pn.warning,error:pn.error,custom:pn.custom,message:pn.message,promise:pn.promise,dismiss:pn.dismiss,loading:pn.loading},{getHistory:kP,getToasts:NP});function EP(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}EP(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Vu(t){return t.label!==void 0}var CP=3,AP="32px",SP="16px",xx=4e3,TP=356,PP=14,jP=20,RP=200;function as(...t){return t.filter(Boolean).join(" ")}function MP(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var _P=t=>{var e,r,n,i,l,c,u,f,h,p,y;let{invert:k,toast:g,unstyled:S,interacting:N,setHeights:A,visibleToasts:P,heights:z,index:L,toasts:$,expanded:U,removeToast:W,defaultRichColors:V,closeButton:J,style:re,cancelButtonStyle:Q,actionButtonStyle:X,className:H="",descriptionClassName:I="",duration:v,position:C,gap:R,loadingIcon:_,expandByDefault:j,classNames:D,icons:O,closeButtonAriaLabel:T="Close toast",pauseWhenPageIsHidden:b}=t,[B,te]=be.useState(null),[M,K]=be.useState(null),[q,Y]=be.useState(!1),[ie,ue]=be.useState(!1),[le,de]=be.useState(!1),[je,pe]=be.useState(!1),[Ae,rt]=be.useState(!1),[Le,Ge]=be.useState(0),[kt,Ke]=be.useState(0),ke=be.useRef(g.duration||v||xx),Se=be.useRef(null),xe=be.useRef(null),Ve=L===0,Dt=L+1<=P,Ue=g.type,He=g.dismissible!==!1,xr=g.className||"",xt=g.descriptionClassName||"",nt=be.useMemo(()=>z.findIndex(Ce=>Ce.toastId===g.id)||0,[z,g.id]),ar=be.useMemo(()=>{var Ce;return(Ce=g.closeButton)!=null?Ce:J},[g.closeButton,J]),bt=be.useMemo(()=>g.duration||v||xx,[g.duration,v]),Xe=be.useRef(0),tr=be.useRef(0),Nt=be.useRef(0),ut=be.useRef(null),[Kr,pt]=C.split("-"),gt=be.useMemo(()=>z.reduce((Ce,st,Fe)=>Fe>=nt?Ce:Ce+st.height,0),[z,nt]),Rr=vP(),dt=g.invert||k,at=Ue==="loading";tr.current=be.useMemo(()=>nt*R+gt,[nt,gt]),be.useEffect(()=>{ke.current=bt},[bt]),be.useEffect(()=>{Y(!0)},[]),be.useEffect(()=>{let Ce=xe.current;if(Ce){let st=Ce.getBoundingClientRect().height;return Ke(st),A(Fe=>[{toastId:g.id,height:st,position:g.position},...Fe]),()=>A(Fe=>Fe.filter(et=>et.toastId!==g.id))}},[A,g.id]),be.useLayoutEffect(()=>{if(!q)return;let Ce=xe.current,st=Ce.style.height;Ce.style.height="auto";let Fe=Ce.getBoundingClientRect().height;Ce.style.height=st,Ke(Fe),A(et=>et.find(Jt=>Jt.toastId===g.id)?et.map(Jt=>Jt.toastId===g.id?{...Jt,height:Fe}:Jt):[{toastId:g.id,height:Fe,position:g.position},...et])},[q,g.title,g.description,A,g.id]);let ur=be.useCallback(()=>{ue(!0),Ge(tr.current),A(Ce=>Ce.filter(st=>st.toastId!==g.id)),setTimeout(()=>{W(g)},RP)},[g,W,A,tr]);be.useEffect(()=>{if(g.promise&&Ue==="loading"||g.duration===1/0||g.type==="loading")return;let Ce;return U||N||b&&Rr?(()=>{if(Nt.current<Xe.current){let st=new Date().getTime()-Xe.current;ke.current=ke.current-st}Nt.current=new Date().getTime()})():ke.current!==1/0&&(Xe.current=new Date().getTime(),Ce=setTimeout(()=>{var st;(st=g.onAutoClose)==null||st.call(g,g),ur()},ke.current)),()=>clearTimeout(Ce)},[U,N,g,Ue,b,Rr,ur]),be.useEffect(()=>{g.delete&&ur()},[ur,g.delete]);function Pt(){var Ce,st,Fe;return O!=null&&O.loading?be.createElement("div",{className:as(D==null?void 0:D.loader,(Ce=g==null?void 0:g.classNames)==null?void 0:Ce.loader,"sonner-loader"),"data-visible":Ue==="loading"},O.loading):_?be.createElement("div",{className:as(D==null?void 0:D.loader,(st=g==null?void 0:g.classNames)==null?void 0:st.loader,"sonner-loader"),"data-visible":Ue==="loading"},_):be.createElement(dP,{className:as(D==null?void 0:D.loader,(Fe=g==null?void 0:g.classNames)==null?void 0:Fe.loader),visible:Ue==="loading"})}return be.createElement("li",{tabIndex:0,ref:xe,className:as(H,xr,D==null?void 0:D.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,D==null?void 0:D.default,D==null?void 0:D[Ue],(r=g==null?void 0:g.classNames)==null?void 0:r[Ue]),"data-sonner-toast":"","data-rich-colors":(n=g.richColors)!=null?n:V,"data-styled":!(g.jsx||g.unstyled||S),"data-mounted":q,"data-promise":!!g.promise,"data-swiped":Ae,"data-removed":ie,"data-visible":Dt,"data-y-position":Kr,"data-x-position":pt,"data-index":L,"data-front":Ve,"data-swiping":le,"data-dismissible":He,"data-type":Ue,"data-invert":dt,"data-swipe-out":je,"data-swipe-direction":M,"data-expanded":!!(U||j&&q),style:{"--index":L,"--toasts-before":L,"--z-index":$.length-L,"--offset":`${ie?Le:tr.current}px`,"--initial-height":j?"auto":`${kt}px`,...re,...g.style},onDragEnd:()=>{de(!1),te(null),ut.current=null},onPointerDown:Ce=>{at||!He||(Se.current=new Date,Ge(tr.current),Ce.target.setPointerCapture(Ce.pointerId),Ce.target.tagName!=="BUTTON"&&(de(!0),ut.current={x:Ce.clientX,y:Ce.clientY}))},onPointerUp:()=>{var Ce,st,Fe,et;if(je||!He)return;ut.current=null;let Jt=Number(((Ce=xe.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),tt=Number(((st=xe.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),lt=new Date().getTime()-((Fe=Se.current)==null?void 0:Fe.getTime()),Ft=B==="x"?Jt:tt,ft=Math.abs(Ft)/lt;if(Math.abs(Ft)>=jP||ft>.11){Ge(tr.current),(et=g.onDismiss)==null||et.call(g,g),K(B==="x"?Jt>0?"right":"left":tt>0?"down":"up"),ur(),pe(!0),rt(!1);return}de(!1),te(null)},onPointerMove:Ce=>{var st,Fe,et,Jt;if(!ut.current||!He||((st=window.getSelection())==null?void 0:st.toString().length)>0)return;let tt=Ce.clientY-ut.current.y,lt=Ce.clientX-ut.current.x,Ft=(Fe=t.swipeDirections)!=null?Fe:MP(C);!B&&(Math.abs(lt)>1||Math.abs(tt)>1)&&te(Math.abs(lt)>Math.abs(tt)?"x":"y");let ft={x:0,y:0};B==="y"?(Ft.includes("top")||Ft.includes("bottom"))&&(Ft.includes("top")&&tt<0||Ft.includes("bottom")&&tt>0)&&(ft.y=tt):B==="x"&&(Ft.includes("left")||Ft.includes("right"))&&(Ft.includes("left")&&lt<0||Ft.includes("right")&&lt>0)&&(ft.x=lt),(Math.abs(ft.x)>0||Math.abs(ft.y)>0)&&rt(!0),(et=xe.current)==null||et.style.setProperty("--swipe-amount-x",`${ft.x}px`),(Jt=xe.current)==null||Jt.style.setProperty("--swipe-amount-y",`${ft.y}px`)}},ar&&!g.jsx?be.createElement("button",{"aria-label":T,"data-disabled":at,"data-close-button":!0,onClick:at||!He?()=>{}:()=>{var Ce;ur(),(Ce=g.onDismiss)==null||Ce.call(g,g)},className:as(D==null?void 0:D.closeButton,(i=g==null?void 0:g.classNames)==null?void 0:i.closeButton)},(l=O==null?void 0:O.close)!=null?l:gP):null,g.jsx||w.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:be.createElement(be.Fragment,null,Ue||g.icon||g.promise?be.createElement("div",{"data-icon":"",className:as(D==null?void 0:D.icon,(c=g==null?void 0:g.classNames)==null?void 0:c.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Pt():null,g.type!=="loading"?g.icon||(O==null?void 0:O[Ue])||cP(Ue):null):null,be.createElement("div",{"data-content":"",className:as(D==null?void 0:D.content,(u=g==null?void 0:g.classNames)==null?void 0:u.content)},be.createElement("div",{"data-title":"",className:as(D==null?void 0:D.title,(f=g==null?void 0:g.classNames)==null?void 0:f.title)},typeof g.title=="function"?g.title():g.title),g.description?be.createElement("div",{"data-description":"",className:as(I,xt,D==null?void 0:D.description,(h=g==null?void 0:g.classNames)==null?void 0:h.description)},typeof g.description=="function"?g.description():g.description):null),w.isValidElement(g.cancel)?g.cancel:g.cancel&&Vu(g.cancel)?be.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||Q,onClick:Ce=>{var st,Fe;Vu(g.cancel)&&He&&((Fe=(st=g.cancel).onClick)==null||Fe.call(st,Ce),ur())},className:as(D==null?void 0:D.cancelButton,(p=g==null?void 0:g.classNames)==null?void 0:p.cancelButton)},g.cancel.label):null,w.isValidElement(g.action)?g.action:g.action&&Vu(g.action)?be.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||X,onClick:Ce=>{var st,Fe;Vu(g.action)&&((Fe=(st=g.action).onClick)==null||Fe.call(st,Ce),!Ce.defaultPrevented&&ur())},className:as(D==null?void 0:D.actionButton,(y=g==null?void 0:g.classNames)==null?void 0:y.actionButton)},g.action.label):null))};function bx(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function IP(t,e){let r={};return[t,e].forEach((n,i)=>{let l=i===1,c=l?"--mobile-offset":"--offset",u=l?SP:AP;function f(h){["top","right","bottom","left"].forEach(p=>{r[`${c}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof n=="number"||typeof n=="string"?f(n):typeof n=="object"?["top","right","bottom","left"].forEach(h=>{n[h]===void 0?r[`${c}-${h}`]=u:r[`${c}-${h}`]=typeof n[h]=="number"?`${n[h]}px`:n[h]}):f(u)}),r}var DP=w.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:l,closeButton:c,className:u,offset:f,mobileOffset:h,theme:p="light",richColors:y,duration:k,style:g,visibleToasts:S=CP,toastOptions:N,dir:A=bx(),gap:P=PP,loadingIcon:z,icons:L,containerAriaLabel:$="Notifications",pauseWhenPageIsHidden:U}=t,[W,V]=be.useState([]),J=be.useMemo(()=>Array.from(new Set([n].concat(W.filter(b=>b.position).map(b=>b.position)))),[W,n]),[re,Q]=be.useState([]),[X,H]=be.useState(!1),[I,v]=be.useState(!1),[C,R]=be.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),_=be.useRef(null),j=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=be.useRef(null),O=be.useRef(!1),T=be.useCallback(b=>{V(B=>{var te;return(te=B.find(M=>M.id===b.id))!=null&&te.delete||pn.dismiss(b.id),B.filter(({id:M})=>M!==b.id)})},[]);return be.useEffect(()=>pn.subscribe(b=>{if(b.dismiss){V(B=>B.map(te=>te.id===b.id?{...te,delete:!0}:te));return}setTimeout(()=>{lb.flushSync(()=>{V(B=>{let te=B.findIndex(M=>M.id===b.id);return te!==-1?[...B.slice(0,te),{...B[te],...b},...B.slice(te+1)]:[b,...B]})})})}),[]),be.useEffect(()=>{if(p!=="system"){R(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?R("dark"):R("light")),typeof window>"u")return;let b=window.matchMedia("(prefers-color-scheme: dark)");try{b.addEventListener("change",({matches:B})=>{R(B?"dark":"light")})}catch{b.addListener(({matches:te})=>{try{R(te?"dark":"light")}catch(M){console.error(M)}})}},[p]),be.useEffect(()=>{W.length<=1&&H(!1)},[W]),be.useEffect(()=>{let b=B=>{var te,M;i.every(K=>B[K]||B.code===K)&&(H(!0),(te=_.current)==null||te.focus()),B.code==="Escape"&&(document.activeElement===_.current||(M=_.current)!=null&&M.contains(document.activeElement))&&H(!1)};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[i]),be.useEffect(()=>{if(_.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,O.current=!1)}},[_.current]),be.createElement("section",{ref:e,"aria-label":`${$} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},J.map((b,B)=>{var te;let[M,K]=b.split("-");return W.length?be.createElement("ol",{key:b,dir:A==="auto"?bx():A,tabIndex:-1,ref:_,className:u,"data-sonner-toaster":!0,"data-theme":C,"data-y-position":M,"data-lifted":X&&W.length>1&&!l,"data-x-position":K,style:{"--front-toast-height":`${((te=re[0])==null?void 0:te.height)||0}px`,"--width":`${TP}px`,"--gap":`${P}px`,...g,...IP(f,h)},onBlur:q=>{O.current&&!q.currentTarget.contains(q.relatedTarget)&&(O.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||O.current||(O.current=!0,D.current=q.relatedTarget)},onMouseEnter:()=>H(!0),onMouseMove:()=>H(!0),onMouseLeave:()=>{I||H(!1)},onDragEnd:()=>H(!1),onPointerDown:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||v(!0)},onPointerUp:()=>v(!1)},W.filter(q=>!q.position&&B===0||q.position===b).map((q,Y)=>{var ie,ue;return be.createElement(_P,{key:q.id,icons:L,index:Y,toast:q,defaultRichColors:y,duration:(ie=N==null?void 0:N.duration)!=null?ie:k,className:N==null?void 0:N.className,descriptionClassName:N==null?void 0:N.descriptionClassName,invert:r,visibleToasts:S,closeButton:(ue=N==null?void 0:N.closeButton)!=null?ue:c,interacting:I,position:b,style:N==null?void 0:N.style,unstyled:N==null?void 0:N.unstyled,classNames:N==null?void 0:N.classNames,cancelButtonStyle:N==null?void 0:N.cancelButtonStyle,actionButtonStyle:N==null?void 0:N.actionButtonStyle,removeToast:T,toasts:W.filter(le=>le.position==q.position),heights:re.filter(le=>le.position==q.position),setHeights:Q,expandByDefault:l,gap:P,loadingIcon:z,expanded:X,pauseWhenPageIsHidden:U,swipeDirections:t.swipeDirections})})):null}))});const zP=({...t})=>a.jsx(DP,{theme:"dark",className:"toaster group",...t}),Dp=()=>{if(typeof window>"u")return{name:"unknown",version:"unknown"};const t=navigator.userAgent,e={chrome:/Chrome\/(\d+)/.test(t),firefox:/Firefox\/(\d+)/.test(t),safari:/Safari\/(\d+)/.test(t)&&!/Chrome/.test(t),edge:/Edg\/(\d+)/.test(t),opera:/OPR\/(\d+)/.test(t),brave:navigator.brave&&navigator.brave.isBrave},r=Object.keys(e).find(l=>e[l])||"unknown",n=t.match(new RegExp(`${r==="edge"?"Edg":r}\\/(\\d+)`,"i")),i=n?n[1]:"unknown";return{name:r,version:i,userAgent:t,isMetaMaskBrowser:t.includes("MetaMask"),isMobile:/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)}},zp=()=>{const t=Dp(),e=t.isMobile||window.innerWidth<768,r={firefox:{timeout:15e3,retries:3,batchSize:3,useSequential:!0,delayBetweenCalls:200},safari:{timeout:2e4,retries:4,batchSize:2,useSequential:!0,delayBetweenCalls:300},edge:{timeout:12e3,retries:3,batchSize:4,useSequential:!1,delayBetweenCalls:100},chrome:{timeout:1e4,retries:3,batchSize:6,useSequential:!1,delayBetweenCalls:50},default:{timeout:12e3,retries:3,batchSize:4,useSequential:e,delayBetweenCalls:100}},n=r[t.name]||r.default;return e&&(n.timeout*=1.5,n.retries=Math.min(n.retries+1,5),n.batchSize=Math.min(n.batchSize,3),n.useSequential=!0,n.delayBetweenCalls*=2),{...n,browserInfo:t,isMobile:e}},Pd=async(t,e,r={})=>{const{timeout:n=1e4,retries:i=3,fallbackValue:l=null,required:c=!1}=r;for(let u=1;u<=i;u++)try{const f=new Promise((p,y)=>setTimeout(()=>y(new Error(`Timeout calling ${e}`)),n));return{success:!0,result:await Promise.race([t(),f]),error:null}}catch(f){if(console.warn(`Attempt ${u}/${i} failed for ${e}:`,f.message),(f.message.includes("missing revert data")||f.message.includes("call exception")||f.code==="CALL_EXCEPTION")&&u<i){await new Promise(p=>setTimeout(p,1e3*u));continue}if(u===i){if(c)throw new Error(`Failed to call ${e} after ${i} attempts: ${f.message}`);return{success:!1,result:l,error:f.message}}}},OP=async(t,e={})=>{const r=zp(),{useSequential:n=r.useSequential,batchSize:i=r.batchSize,delayBetweenCalls:l=r.delayBetweenCalls,timeout:c=r.timeout}=e;if(console.log(` Batch contract calls - Browser: ${r.browserInfo.name}, Sequential: ${n}, Batch size: ${i}`),n){const u=[];for(let f=0;f<t.length;f++){const h=t[f];try{l>0&&f>0&&await new Promise(y=>setTimeout(y,l));const p=await Pd(h.method,h.name,{timeout:c,fallbackValue:h.fallback,required:h.required});u.push(p.success?p.result:h.fallback)}catch(p){if(console.error(`Sequential call failed for ${h.name}:`,p),h.required)throw p;u.push(h.fallback)}}return u}else{const u=[];for(let f=0;f<t.length;f+=i){const h=t.slice(f,f+i);try{const p=h.map(k=>Pd(k.method,k.name,{timeout:c,fallbackValue:k.fallback,required:k.required}).then(g=>g.success?g.result:k.fallback).catch(g=>{if(console.error(`Batch call failed for ${k.name}:`,g),k.required)throw g;return k.fallback})),y=await Promise.all(p);u.push(...y),f+i<t.length&&l>0&&await new Promise(k=>setTimeout(k,l))}catch(p){console.error("Batch execution failed:",p),h.forEach(y=>{if(y.required)throw p;u.push(y.fallback)})}}return u}},LP=(t,e)=>{try{return typeof t[e]=="function"}catch{return!1}},yo=(t,e,r=null)=>LP(t,e)?(...n)=>t[e](...n):(console.warn(`Method ${e} not found on contract`),()=>Promise.resolve(r)),yw=w.createContext(),or=()=>{const t=w.useContext(yw);if(!t)throw new Error("useContract must be used within a ContractProvider");return t},FP=({children:t})=>{const{signer:e,provider:r,connected:n,chainId:i,isInitialized:l,isReconnecting:c}=Qt(),[u,f]=w.useState({}),[h,p]=w.useState(!1);w.useEffect(()=>{n&&e&&l&&!c?(y(),p(!0)):(f({}),p(!1))},[n,e,l,c]);const y=()=>{var $,U,W,V,J,re,Q,X,H,I,v,C,R,_,j,D;const L={};try{(U=($=zr[i])==null?void 0:$.contractAddresses)!=null&&U.raffleManager&&(L.raffleManager=new Wt((V=(W=zr[i])==null?void 0:W.contractAddresses)==null?void 0:V.raffleManager,qt.raffleManager,e)),(re=(J=zr[i])==null?void 0:J.contractAddresses)!=null&&re.raffleDeployer&&(L.raffleDeployer=new Wt((X=(Q=zr[i])==null?void 0:Q.contractAddresses)==null?void 0:X.raffleDeployer,qt.raffleDeployer,e)),(I=(H=zr[i])==null?void 0:H.contractAddresses)!=null&&I.revenueManager&&(L.revenueManager=new Wt((C=(v=zr[i])==null?void 0:v.contractAddresses)==null?void 0:C.revenueManager,qt.revenueManager,e)),(_=(R=zr[i])==null?void 0:R.contractAddresses)!=null&&_.nftFactory&&(L.nftFactory=new Wt((D=(j=zr[i])==null?void 0:j.contractAddresses)==null?void 0:D.nftFactory,qt.nftFactory,e)),f(L)}catch(O){console.error("Error initializing contracts:",O)}},k=(L,$)=>{if(!L)return console.warn("No address provided for contract instance"),null;if(!e&&!r)return console.warn("No signer or provider available for contract instance"),null;if(!qt[$])return console.error(`ABI not found for type: ${$}`),null;try{const U=e||r;return new Wt(L,qt[$],U)}catch(U){return console.error(`Error creating contract instance for ${$}:`,U),null}},g=async(L,...$)=>{var U;try{const W=await L(...$);return{success:!0,receipt:await W.wait(),hash:W.hash}}catch(W){let V="Transaction failed";return W!=null&&W.reason?V=W.reason:(U=W==null?void 0:W.data)!=null&&U.message?V=W.data.message:W!=null&&W.message&&(V=W.message),ge.error(V,{duration:4e3}),{success:!1,error:V}}},S=async(L,$="unknown",...U)=>{var V;const W=zp();try{const J=await Pd(()=>L(...U),$,{timeout:W.timeout,retries:W.retries,required:!1});if(J.success)return{success:!0,result:J.result};throw new Error(J.error)}catch(J){let re="Contract call failed";return J.message.includes("missing revert data")||J.message.includes("call exception")||J.code==="CALL_EXCEPTION"?re="Network connectivity issue - please try again":J!=null&&J.reason?re=J.reason:(V=J==null?void 0:J.data)!=null&&V.message?re=J.data.message:J!=null&&J.message&&(re=J.message),console.warn(`Contract call failed for ${$}:`,re),ge.error(re,{duration:4e3}),{success:!1,error:re}}},N=be.useRef({}),A=(L,$)=>(N.current[L]||(N.current[L]=[]),N.current[L].push($),()=>{N.current[L]=N.current[L].filter(U=>U!==$)}),P=(L,...$)=>{N.current[L]&&N.current[L].forEach(U=>U(...$))};w.useEffect(()=>{if(!n||!e||!u.raffleDeployer)return;const L=($,U)=>{P("RaffleCreated",{raffle:$,creator:U})};if(u.raffleDeployer.on("RaffleCreated",L),u.raffle){const $=W=>{P("WinnersSelected",{winners:W})};u.raffle.on("WinnersSelected",$);const U=(W,V)=>{P("PrizeClaimed",{winner:W,tokenId:V})};return u.raffle.on("PrizeClaimed",U),()=>{u.raffle.off("WinnersSelected",$),u.raffle.off("PrizeClaimed",U)}}return()=>{u.raffleDeployer.off("RaffleCreated",L)}},[n,e,u.raffleDeployer,u.raffle]);const z={contracts:u,getContractInstance:k,executeTransaction:g,executeCall:S,onContractEvent:A,isContractsReady:h};return a.jsx(yw.Provider,{value:z,children:t})},xw=w.createContext(),bw=()=>{const t=w.useContext(xw);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},_i=[{id:"light",name:"Light",icon:"Sun"},{id:"dark",name:"Dark",icon:"Moon"},{id:"dim-blue",name:"Dim Blue",icon:"Waves"}],BP=({children:t})=>{const[e,r]=w.useState(()=>{const c=localStorage.getItem("theme");return c&&_i.some(u=>u.id===c)?c:(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,"dark")});w.useEffect(()=>{const c=document.documentElement;_i.forEach(u=>{c.classList.remove(u.id)}),c.classList.add(e),localStorage.setItem("theme",e)},[e]);const l={theme:e,setTheme:r,cycleTheme:()=>{const u=(_i.findIndex(f=>f.id===e)+1)%_i.length;r(_i[u].id)},getCurrentTheme:()=>_i.find(c=>c.id===e)||_i[1],availableThemes:_i,isDark:e==="dark",isLight:e==="light",isDimBlue:e==="dim-blue"};return a.jsx(xw.Provider,{value:l,children:t})},ww=w.createContext(),Op=()=>{const t=w.useContext(ww);if(!t)throw new Error("useCollabDetection must be used within a CollabDetectionProvider");return t},UP=({children:t})=>{const[e,r]=w.useState({}),[n,i]=w.useState({}),l=w.useCallback((g,S)=>{r(N=>({...N,[g]:S})),i(N=>{const A={...N};return delete A[g],A})},[]),c=w.useCallback((g,S)=>{i(N=>({...N,[g]:S}))},[]),u=w.useCallback(g=>e[g],[e]),f=w.useCallback(g=>n[g]||!1,[n]),h=w.useCallback(g=>{const S=e[g.address];return S==="nft_collab"||S==="whitelist_collab"?S:S===void 0&&n[g.address]&&g.isExternallyPrized?"nft_collab":g.isPrized?"prized":"non_prized"},[e,n]),p=w.useCallback(g=>{const S={non_prized:0,prized:0,nft_collab:0,whitelist_collab:0};return g.forEach(N=>{const A=h(N);S[A]=(S[A]||0)+1}),S},[h]),y=w.useCallback((g,S)=>!S||S.length===0?g:g.filter(N=>{const A=h(N);return S.includes(A)}),[h]),k={collabResults:e,loadingStates:n,updateCollabStatus:l,setCollabLoading:c,getCollabStatus:u,isCollabLoading:f,getEnhancedRaffleType:h,countEnhancedRaffleTypes:p,filterByEnhancedType:y};return a.jsx(ww.Provider,{value:k,children:t})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $P={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Je=(t,e)=>{const r=w.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:u="",children:f,...h},p)=>w.createElement("svg",{ref:p,...$P,width:i,height:i,stroke:n,strokeWidth:c?Number(l)*24/Number(i):l,className:["lucide",`lucide-${WP(t)}`,u].join(" "),...h},[...e.map(([y,k])=>w.createElement(y,k)),...Array.isArray(f)?f:[f]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=Je("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=Je("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=Je("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=Je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=Je("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=Je("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=Je("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=Je("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=Je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=Je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=Je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=Je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=Je("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=Je("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Je("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=Je("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=Je("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=Je("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=Je("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=Je("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=Je("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=Je("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=Je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=Je("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=Je("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=Je("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=Je("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=Je("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=Je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=Je("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=Je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=Je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=Je("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=Je("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=Je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=Je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=Je("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=Je("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=Je("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=Je("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=Je("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=Je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=Je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=Je("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=Je("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=Je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Ax(t,[e,r]){return Math.min(r,Math.max(e,t))}function De(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function sj(t,e){const r=w.createContext(e),n=l=>{const{children:c,...u}=l,f=w.useMemo(()=>u,Object.values(u));return a.jsx(r.Provider,{value:f,children:c})};n.displayName=t+"Provider";function i(l){const c=w.useContext(r);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[n,i]}function ci(t,e=[]){let r=[];function n(l,c){const u=w.createContext(c),f=r.length;r=[...r,c];const h=y=>{var P;const{scope:k,children:g,...S}=y,N=((P=k==null?void 0:k[t])==null?void 0:P[f])||u,A=w.useMemo(()=>S,Object.values(S));return a.jsx(N.Provider,{value:A,children:g})};h.displayName=l+"Provider";function p(y,k){var N;const g=((N=k==null?void 0:k[t])==null?void 0:N[f])||u,S=w.useContext(g);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${y}\` must be used within \`${l}\``)}return[h,p]}const i=()=>{const l=r.map(c=>w.createContext(c));return function(u){const f=(u==null?void 0:u[t])||l;return w.useMemo(()=>({[`__scope${t}`]:{...u,[t]:f}}),[u,f])}};return i.scopeName=t,[n,ij(i,...e)]}function ij(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const c=n.reduce((u,{useScope:f,scopeName:h})=>{const y=f(l)[`__scope${h}`];return{...u,...y}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return r.scopeName=e.scopeName,r}function Sx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Xd(...t){return e=>{let r=!1;const n=t.map(i=>{const l=Sx(i,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let i=0;i<n.length;i++){const l=n[i];typeof l=="function"?l():Sx(t[i],null)}}}}function Lt(...t){return w.useCallback(Xd(...t),t)}function Mo(t){const e=oj(t),r=w.forwardRef((n,i)=>{const{children:l,...c}=n,u=w.Children.toArray(l),f=u.find(lj);if(f){const h=f.props.children,p=u.map(y=>y===f?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:y);return a.jsx(e,{...c,ref:i,children:w.isValidElement(h)?w.cloneElement(h,void 0,p):null})}return a.jsx(e,{...c,ref:i,children:l})});return r.displayName=`${t}.Slot`,r}var Tw=Mo("Slot");function oj(t){const e=w.forwardRef((r,n)=>{const{children:i,...l}=r;if(w.isValidElement(i)){const c=uj(i),u=cj(l,i.props);return i.type!==w.Fragment&&(u.ref=n?Xd(n,c):c),w.cloneElement(i,u)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var aj=Symbol("radix.slottable");function lj(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===aj}function cj(t,e){const r={...e};for(const n in e){const i=t[n],l=e[n];/^on[A-Z]/.test(n)?i&&l?r[n]=(...u)=>{const f=l(...u);return i(...u),f}:i&&(r[n]=i):n==="style"?r[n]={...i,...l}:n==="className"&&(r[n]=[i,l].filter(Boolean).join(" "))}return{...t,...r}}function uj(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Up(t){const e=t+"CollectionProvider",[r,n]=ci(e),[i,l]=r(e,{collectionRef:{current:null},itemMap:new Map}),c=N=>{const{scope:A,children:P}=N,z=be.useRef(null),L=be.useRef(new Map).current;return a.jsx(i,{scope:A,itemMap:L,collectionRef:z,children:P})};c.displayName=e;const u=t+"CollectionSlot",f=Mo(u),h=be.forwardRef((N,A)=>{const{scope:P,children:z}=N,L=l(u,P),$=Lt(A,L.collectionRef);return a.jsx(f,{ref:$,children:z})});h.displayName=u;const p=t+"CollectionItemSlot",y="data-radix-collection-item",k=Mo(p),g=be.forwardRef((N,A)=>{const{scope:P,children:z,...L}=N,$=be.useRef(null),U=Lt(A,$),W=l(p,P);return be.useEffect(()=>(W.itemMap.set($,{ref:$,...L}),()=>void W.itemMap.delete($))),a.jsx(k,{[y]:"",ref:U,children:z})});g.displayName=p;function S(N){const A=l(t+"CollectionConsumer",N);return be.useCallback(()=>{const z=A.collectionRef.current;if(!z)return[];const L=Array.from(z.querySelectorAll(`[${y}]`));return Array.from(A.itemMap.values()).sort((W,V)=>L.indexOf(W.ref.current)-L.indexOf(V.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:c,Slot:h,ItemSlot:g},S,n]}var dj=w.createContext(void 0);function Zd(t){const e=w.useContext(dj);return t||e||"ltr"}var fj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ot=fj.reduce((t,e)=>{const r=Mo(`Primitive.${e}`),n=w.forwardRef((i,l)=>{const{asChild:c,...u}=i,f=c?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(f,{...u,ref:l})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Pw(t,e){t&&So.flushSync(()=>t.dispatchEvent(e))}function Is(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function hj(t,e=globalThis==null?void 0:globalThis.document){const r=Is(t);w.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var mj="DismissableLayer",sp="dismissableLayer.update",pj="dismissableLayer.pointerDownOutside",gj="dismissableLayer.focusOutside",Tx,jw=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ef=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:c,onDismiss:u,...f}=t,h=w.useContext(jw),[p,y]=w.useState(null),k=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=w.useState({}),S=Lt(e,V=>y(V)),N=Array.from(h.layers),[A]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),P=N.indexOf(A),z=p?N.indexOf(p):-1,L=h.layersWithOutsidePointerEventsDisabled.size>0,$=z>=P,U=xj(V=>{const J=V.target,re=[...h.branches].some(Q=>Q.contains(J));!$||re||(i==null||i(V),c==null||c(V),V.defaultPrevented||u==null||u())},k),W=bj(V=>{const J=V.target;[...h.branches].some(Q=>Q.contains(J))||(l==null||l(V),c==null||c(V),V.defaultPrevented||u==null||u())},k);return hj(V=>{z===h.layers.size-1&&(n==null||n(V),!V.defaultPrevented&&u&&(V.preventDefault(),u()))},k),w.useEffect(()=>{if(p)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Tx=k.body.style.pointerEvents,k.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),Px(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(k.body.style.pointerEvents=Tx)}},[p,k,r,h]),w.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),Px())},[p,h]),w.useEffect(()=>{const V=()=>g({});return document.addEventListener(sp,V),()=>document.removeEventListener(sp,V)},[]),a.jsx(ot.div,{...f,ref:S,style:{pointerEvents:L?$?"auto":"none":void 0,...t.style},onFocusCapture:De(t.onFocusCapture,W.onFocusCapture),onBlurCapture:De(t.onBlurCapture,W.onBlurCapture),onPointerDownCapture:De(t.onPointerDownCapture,U.onPointerDownCapture)})});ef.displayName=mj;var vj="DismissableLayerBranch",yj=w.forwardRef((t,e)=>{const r=w.useContext(jw),n=w.useRef(null),i=Lt(e,n);return w.useEffect(()=>{const l=n.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),a.jsx(ot.div,{...t,ref:i})});yj.displayName=vj;function xj(t,e=globalThis==null?void 0:globalThis.document){const r=Is(t),n=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const l=u=>{if(u.target&&!n.current){let f=function(){Rw(pj,r,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);n.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function bj(t,e=globalThis==null?void 0:globalThis.document){const r=Is(t),n=w.useRef(!1);return w.useEffect(()=>{const i=l=>{l.target&&!n.current&&Rw(gj,r,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Px(){const t=new CustomEvent(sp);document.dispatchEvent(t)}function Rw(t,e,r,{discrete:n}){const i=r.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?Pw(i,l):i.dispatchEvent(l)}var Rm=0;function $p(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??jx()),document.body.insertAdjacentElement("beforeend",t[1]??jx()),Rm++,()=>{Rm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Rm--}},[])}function jx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Mm="focusScope.autoFocusOnMount",_m="focusScope.autoFocusOnUnmount",Rx={bubbles:!1,cancelable:!0},wj="FocusScope",tf=w.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...c}=t,[u,f]=w.useState(null),h=Is(i),p=Is(l),y=w.useRef(null),k=Lt(e,N=>f(N)),g=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let N=function(L){if(g.paused||!u)return;const $=L.target;u.contains($)?y.current=$:zi(y.current,{select:!0})},A=function(L){if(g.paused||!u)return;const $=L.relatedTarget;$!==null&&(u.contains($)||zi(y.current,{select:!0}))},P=function(L){if(document.activeElement===document.body)for(const U of L)U.removedNodes.length>0&&zi(u)};document.addEventListener("focusin",N),document.addEventListener("focusout",A);const z=new MutationObserver(P);return u&&z.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",A),z.disconnect()}}},[n,u,g.paused]),w.useEffect(()=>{if(u){_x.add(g);const N=document.activeElement;if(!u.contains(N)){const P=new CustomEvent(Mm,Rx);u.addEventListener(Mm,h),u.dispatchEvent(P),P.defaultPrevented||(kj(Sj(Mw(u)),{select:!0}),document.activeElement===N&&zi(u))}return()=>{u.removeEventListener(Mm,h),setTimeout(()=>{const P=new CustomEvent(_m,Rx);u.addEventListener(_m,p),u.dispatchEvent(P),P.defaultPrevented||zi(N??document.body,{select:!0}),u.removeEventListener(_m,p),_x.remove(g)},0)}}},[u,h,p,g]);const S=w.useCallback(N=>{if(!r&&!n||g.paused)return;const A=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,P=document.activeElement;if(A&&P){const z=N.currentTarget,[L,$]=Nj(z);L&&$?!N.shiftKey&&P===$?(N.preventDefault(),r&&zi(L,{select:!0})):N.shiftKey&&P===L&&(N.preventDefault(),r&&zi($,{select:!0})):P===z&&N.preventDefault()}},[r,n,g.paused]);return a.jsx(ot.div,{tabIndex:-1,...c,ref:k,onKeyDown:S})});tf.displayName=wj;function kj(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(zi(n,{select:e}),document.activeElement!==r)return}function Nj(t){const e=Mw(t),r=Mx(e,t),n=Mx(e.reverse(),t);return[r,n]}function Mw(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Mx(t,e){for(const r of t)if(!Ej(r,{upTo:e}))return r}function Ej(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Cj(t){return t instanceof HTMLInputElement&&"select"in t}function zi(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Cj(t)&&e&&t.select()}}var _x=Aj();function Aj(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Ix(t,e),t.unshift(e)},remove(e){var r;t=Ix(t,e),(r=t[0])==null||r.resume()}}}function Ix(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Sj(t){return t.filter(e=>e.tagName!=="A")}var Gr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},Tj=bp[" useId ".trim().toString()]||(()=>{}),Pj=0;function Rs(t){const[e,r]=w.useState(Tj());return Gr(()=>{r(n=>n??String(Pj++))},[t]),t||(e?`radix-${e}`:"")}const jj=["top","right","bottom","left"],qi=Math.min,jn=Math.max,Rd=Math.round,Gu=Math.floor,Ms=t=>({x:t,y:t}),Rj={left:"right",right:"left",bottom:"top",top:"bottom"},Mj={start:"end",end:"start"};function ip(t,e,r){return jn(t,qi(e,r))}function ri(t,e){return typeof t=="function"?t(e):t}function ni(t){return t.split("-")[0]}function Ja(t){return t.split("-")[1]}function Wp(t){return t==="x"?"y":"x"}function Hp(t){return t==="y"?"height":"width"}const _j=new Set(["top","bottom"]);function js(t){return _j.has(ni(t))?"y":"x"}function qp(t){return Wp(js(t))}function Ij(t,e,r){r===void 0&&(r=!1);const n=Ja(t),i=qp(t),l=Hp(i);let c=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=Md(c)),[c,Md(c)]}function Dj(t){const e=Md(t);return[op(t),e,op(e)]}function op(t){return t.replace(/start|end/g,e=>Mj[e])}const Dx=["left","right"],zx=["right","left"],zj=["top","bottom"],Oj=["bottom","top"];function Lj(t,e,r){switch(t){case"top":case"bottom":return r?e?zx:Dx:e?Dx:zx;case"left":case"right":return e?zj:Oj;default:return[]}}function Fj(t,e,r,n){const i=Ja(t);let l=Lj(ni(t),r==="start",n);return i&&(l=l.map(c=>c+"-"+i),e&&(l=l.concat(l.map(op)))),l}function Md(t){return t.replace(/left|right|bottom|top/g,e=>Rj[e])}function Bj(t){return{top:0,right:0,bottom:0,left:0,...t}}function _w(t){return typeof t!="number"?Bj(t):{top:t,right:t,bottom:t,left:t}}function _d(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function Ox(t,e,r){let{reference:n,floating:i}=t;const l=js(e),c=qp(e),u=Hp(c),f=ni(e),h=l==="y",p=n.x+n.width/2-i.width/2,y=n.y+n.height/2-i.height/2,k=n[u]/2-i[u]/2;let g;switch(f){case"top":g={x:p,y:n.y-i.height};break;case"bottom":g={x:p,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y};break;case"left":g={x:n.x-i.width,y};break;default:g={x:n.x,y:n.y}}switch(Ja(e)){case"start":g[c]-=k*(r&&h?-1:1);break;case"end":g[c]+=k*(r&&h?-1:1);break}return g}const Uj=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:l=[],platform:c}=r,u=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let h=await c.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y}=Ox(h,n,f),k=n,g={},S=0;for(let N=0;N<u.length;N++){const{name:A,fn:P}=u[N],{x:z,y:L,data:$,reset:U}=await P({x:p,y,initialPlacement:n,placement:k,strategy:i,middlewareData:g,rects:h,platform:c,elements:{reference:t,floating:e}});p=z??p,y=L??y,g={...g,[A]:{...g[A],...$}},U&&S<=50&&(S++,typeof U=="object"&&(U.placement&&(k=U.placement),U.rects&&(h=U.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:i}):U.rects),{x:p,y}=Ox(h,k,f)),N=-1)}return{x:p,y,placement:k,strategy:i,middlewareData:g}};async function hc(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:l,rects:c,elements:u,strategy:f}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:y="floating",altBoundary:k=!1,padding:g=0}=ri(e,t),S=_w(g),A=u[k?y==="floating"?"reference":"floating":y],P=_d(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(A)))==null||r?A:A.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:h,rootBoundary:p,strategy:f})),z=y==="floating"?{x:n,y:i,width:c.floating.width,height:c.floating.height}:c.reference,L=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),$=await(l.isElement==null?void 0:l.isElement(L))?await(l.getScale==null?void 0:l.getScale(L))||{x:1,y:1}:{x:1,y:1},U=_d(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:z,offsetParent:L,strategy:f}):z);return{top:(P.top-U.top+S.top)/$.y,bottom:(U.bottom-P.bottom+S.bottom)/$.y,left:(P.left-U.left+S.left)/$.x,right:(U.right-P.right+S.right)/$.x}}const $j=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:l,platform:c,elements:u,middlewareData:f}=e,{element:h,padding:p=0}=ri(t,e)||{};if(h==null)return{};const y=_w(p),k={x:r,y:n},g=qp(i),S=Hp(g),N=await c.getDimensions(h),A=g==="y",P=A?"top":"left",z=A?"bottom":"right",L=A?"clientHeight":"clientWidth",$=l.reference[S]+l.reference[g]-k[g]-l.floating[S],U=k[g]-l.reference[g],W=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let V=W?W[L]:0;(!V||!await(c.isElement==null?void 0:c.isElement(W)))&&(V=u.floating[L]||l.floating[S]);const J=$/2-U/2,re=V/2-N[S]/2-1,Q=qi(y[P],re),X=qi(y[z],re),H=Q,I=V-N[S]-X,v=V/2-N[S]/2+J,C=ip(H,v,I),R=!f.arrow&&Ja(i)!=null&&v!==C&&l.reference[S]/2-(v<H?Q:X)-N[S]/2<0,_=R?v<H?v-H:v-I:0;return{[g]:k[g]+_,data:{[g]:C,centerOffset:v-C-_,...R&&{alignmentOffset:_}},reset:R}}}),Wj=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:l,rects:c,initialPlacement:u,platform:f,elements:h}=e,{mainAxis:p=!0,crossAxis:y=!0,fallbackPlacements:k,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:N=!0,...A}=ri(t,e);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const P=ni(i),z=js(u),L=ni(u)===u,$=await(f.isRTL==null?void 0:f.isRTL(h.floating)),U=k||(L||!N?[Md(u)]:Dj(u)),W=S!=="none";!k&&W&&U.push(...Fj(u,N,S,$));const V=[u,...U],J=await hc(e,A),re=[];let Q=((n=l.flip)==null?void 0:n.overflows)||[];if(p&&re.push(J[P]),y){const v=Ij(i,c,$);re.push(J[v[0]],J[v[1]])}if(Q=[...Q,{placement:i,overflows:re}],!re.every(v=>v<=0)){var X,H;const v=(((X=l.flip)==null?void 0:X.index)||0)+1,C=V[v];if(C&&(!(y==="alignment"?z!==js(C):!1)||Q.every(j=>j.overflows[0]>0&&js(j.placement)===z)))return{data:{index:v,overflows:Q},reset:{placement:C}};let R=(H=Q.filter(_=>_.overflows[0]<=0).sort((_,j)=>_.overflows[1]-j.overflows[1])[0])==null?void 0:H.placement;if(!R)switch(g){case"bestFit":{var I;const _=(I=Q.filter(j=>{if(W){const D=js(j.placement);return D===z||D==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(D=>D>0).reduce((D,O)=>D+O,0)]).sort((j,D)=>j[1]-D[1])[0])==null?void 0:I[0];_&&(R=_);break}case"initialPlacement":R=u;break}if(i!==R)return{reset:{placement:R}}}return{}}}};function Lx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Fx(t){return jj.some(e=>t[e]>=0)}const Hj=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=ri(t,e);switch(n){case"referenceHidden":{const l=await hc(e,{...i,elementContext:"reference"}),c=Lx(l,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Fx(c)}}}case"escaped":{const l=await hc(e,{...i,altBoundary:!0}),c=Lx(l,r.floating);return{data:{escapedOffsets:c,escaped:Fx(c)}}}default:return{}}}}},Iw=new Set(["left","top"]);async function qj(t,e){const{placement:r,platform:n,elements:i}=t,l=await(n.isRTL==null?void 0:n.isRTL(i.floating)),c=ni(r),u=Ja(r),f=js(r)==="y",h=Iw.has(c)?-1:1,p=l&&f?-1:1,y=ri(e,t);let{mainAxis:k,crossAxis:g,alignmentAxis:S}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof S=="number"&&(g=u==="end"?S*-1:S),f?{x:g*p,y:k*h}:{x:k*h,y:g*p}}const Vj=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:l,placement:c,middlewareData:u}=e,f=await qj(e,t);return c===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:i+f.x,y:l+f.y,data:{...f,placement:c}}}}},Gj=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:u={fn:A=>{let{x:P,y:z}=A;return{x:P,y:z}}},...f}=ri(t,e),h={x:r,y:n},p=await hc(e,f),y=js(ni(i)),k=Wp(y);let g=h[k],S=h[y];if(l){const A=k==="y"?"top":"left",P=k==="y"?"bottom":"right",z=g+p[A],L=g-p[P];g=ip(z,g,L)}if(c){const A=y==="y"?"top":"left",P=y==="y"?"bottom":"right",z=S+p[A],L=S-p[P];S=ip(z,S,L)}const N=u.fn({...e,[k]:g,[y]:S});return{...N,data:{x:N.x-r,y:N.y-n,enabled:{[k]:l,[y]:c}}}}}},Kj=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:l,middlewareData:c}=e,{offset:u=0,mainAxis:f=!0,crossAxis:h=!0}=ri(t,e),p={x:r,y:n},y=js(i),k=Wp(y);let g=p[k],S=p[y];const N=ri(u,e),A=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(f){const L=k==="y"?"height":"width",$=l.reference[k]-l.floating[L]+A.mainAxis,U=l.reference[k]+l.reference[L]-A.mainAxis;g<$?g=$:g>U&&(g=U)}if(h){var P,z;const L=k==="y"?"width":"height",$=Iw.has(ni(i)),U=l.reference[y]-l.floating[L]+($&&((P=c.offset)==null?void 0:P[y])||0)+($?0:A.crossAxis),W=l.reference[y]+l.reference[L]+($?0:((z=c.offset)==null?void 0:z[y])||0)-($?A.crossAxis:0);S<U?S=U:S>W&&(S=W)}return{[k]:g,[y]:S}}}},Yj=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:l,platform:c,elements:u}=e,{apply:f=()=>{},...h}=ri(t,e),p=await hc(e,h),y=ni(i),k=Ja(i),g=js(i)==="y",{width:S,height:N}=l.floating;let A,P;y==="top"||y==="bottom"?(A=y,P=k===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(P=y,A=k==="end"?"top":"bottom");const z=N-p.top-p.bottom,L=S-p.left-p.right,$=qi(N-p[A],z),U=qi(S-p[P],L),W=!e.middlewareData.shift;let V=$,J=U;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(J=L),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(V=z),W&&!k){const Q=jn(p.left,0),X=jn(p.right,0),H=jn(p.top,0),I=jn(p.bottom,0);g?J=S-2*(Q!==0||X!==0?Q+X:jn(p.left,p.right)):V=N-2*(H!==0||I!==0?H+I:jn(p.top,p.bottom))}await f({...e,availableWidth:J,availableHeight:V});const re=await c.getDimensions(u.floating);return S!==re.width||N!==re.height?{reset:{rects:!0}}:{}}}};function rf(){return typeof window<"u"}function Xa(t){return Dw(t)?(t.nodeName||"").toLowerCase():"#document"}function In(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Os(t){var e;return(e=(Dw(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Dw(t){return rf()?t instanceof Node||t instanceof In(t).Node:!1}function ms(t){return rf()?t instanceof Element||t instanceof In(t).Element:!1}function Ds(t){return rf()?t instanceof HTMLElement||t instanceof In(t).HTMLElement:!1}function Bx(t){return!rf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof In(t).ShadowRoot}const Qj=new Set(["inline","contents"]);function Sc(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=ps(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Qj.has(i)}const Jj=new Set(["table","td","th"]);function Xj(t){return Jj.has(Xa(t))}const Zj=[":popover-open",":modal"];function nf(t){return Zj.some(e=>{try{return t.matches(e)}catch{return!1}})}const eR=["transform","translate","scale","rotate","perspective"],tR=["transform","translate","scale","rotate","perspective","filter"],rR=["paint","layout","strict","content"];function Vp(t){const e=Gp(),r=ms(t)?ps(t):t;return eR.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||tR.some(n=>(r.willChange||"").includes(n))||rR.some(n=>(r.contain||"").includes(n))}function nR(t){let e=Vi(t);for(;Ds(e)&&!$a(e);){if(Vp(e))return e;if(nf(e))return null;e=Vi(e)}return null}function Gp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sR=new Set(["html","body","#document"]);function $a(t){return sR.has(Xa(t))}function ps(t){return In(t).getComputedStyle(t)}function sf(t){return ms(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Vi(t){if(Xa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Bx(t)&&t.host||Os(t);return Bx(e)?e.host:e}function zw(t){const e=Vi(t);return $a(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ds(e)&&Sc(e)?e:zw(e)}function mc(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=zw(t),l=i===((n=t.ownerDocument)==null?void 0:n.body),c=In(i);if(l){const u=ap(c);return e.concat(c,c.visualViewport||[],Sc(i)?i:[],u&&r?mc(u):[])}return e.concat(i,mc(i,[],r))}function ap(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Ow(t){const e=ps(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Ds(t),l=i?t.offsetWidth:r,c=i?t.offsetHeight:n,u=Rd(r)!==l||Rd(n)!==c;return u&&(r=l,n=c),{width:r,height:n,$:u}}function Kp(t){return ms(t)?t:t.contextElement}function za(t){const e=Kp(t);if(!Ds(e))return Ms(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:l}=Ow(e);let c=(l?Rd(r.width):r.width)/n,u=(l?Rd(r.height):r.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const iR=Ms(0);function Lw(t){const e=In(t);return!Gp()||!e.visualViewport?iR:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function oR(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==In(t)?!1:e}function _o(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),l=Kp(t);let c=Ms(1);e&&(n?ms(n)&&(c=za(n)):c=za(t));const u=oR(l,r,n)?Lw(l):Ms(0);let f=(i.left+u.x)/c.x,h=(i.top+u.y)/c.y,p=i.width/c.x,y=i.height/c.y;if(l){const k=In(l),g=n&&ms(n)?In(n):n;let S=k,N=ap(S);for(;N&&n&&g!==S;){const A=za(N),P=N.getBoundingClientRect(),z=ps(N),L=P.left+(N.clientLeft+parseFloat(z.paddingLeft))*A.x,$=P.top+(N.clientTop+parseFloat(z.paddingTop))*A.y;f*=A.x,h*=A.y,p*=A.x,y*=A.y,f+=L,h+=$,S=In(N),N=ap(S)}}return _d({width:p,height:y,x:f,y:h})}function Yp(t,e){const r=sf(t).scrollLeft;return e?e.left+r:_o(Os(t)).left+r}function Fw(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:Yp(t,n)),l=n.top+e.scrollTop;return{x:i,y:l}}function aR(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const l=i==="fixed",c=Os(n),u=e?nf(e.floating):!1;if(n===c||u&&l)return r;let f={scrollLeft:0,scrollTop:0},h=Ms(1);const p=Ms(0),y=Ds(n);if((y||!y&&!l)&&((Xa(n)!=="body"||Sc(c))&&(f=sf(n)),Ds(n))){const g=_o(n);h=za(n),p.x=g.x+n.clientLeft,p.y=g.y+n.clientTop}const k=c&&!y&&!l?Fw(c,f,!0):Ms(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-f.scrollLeft*h.x+p.x+k.x,y:r.y*h.y-f.scrollTop*h.y+p.y+k.y}}function lR(t){return Array.from(t.getClientRects())}function cR(t){const e=Os(t),r=sf(t),n=t.ownerDocument.body,i=jn(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),l=jn(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+Yp(t);const u=-r.scrollTop;return ps(n).direction==="rtl"&&(c+=jn(e.clientWidth,n.clientWidth)-i),{width:i,height:l,x:c,y:u}}function uR(t,e){const r=In(t),n=Os(t),i=r.visualViewport;let l=n.clientWidth,c=n.clientHeight,u=0,f=0;if(i){l=i.width,c=i.height;const h=Gp();(!h||h&&e==="fixed")&&(u=i.offsetLeft,f=i.offsetTop)}return{width:l,height:c,x:u,y:f}}const dR=new Set(["absolute","fixed"]);function fR(t,e){const r=_o(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,l=Ds(t)?za(t):Ms(1),c=t.clientWidth*l.x,u=t.clientHeight*l.y,f=i*l.x,h=n*l.y;return{width:c,height:u,x:f,y:h}}function Ux(t,e,r){let n;if(e==="viewport")n=uR(t,r);else if(e==="document")n=cR(Os(t));else if(ms(e))n=fR(e,r);else{const i=Lw(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return _d(n)}function Bw(t,e){const r=Vi(t);return r===e||!ms(r)||$a(r)?!1:ps(r).position==="fixed"||Bw(r,e)}function hR(t,e){const r=e.get(t);if(r)return r;let n=mc(t,[],!1).filter(u=>ms(u)&&Xa(u)!=="body"),i=null;const l=ps(t).position==="fixed";let c=l?Vi(t):t;for(;ms(c)&&!$a(c);){const u=ps(c),f=Vp(c);!f&&u.position==="fixed"&&(i=null),(l?!f&&!i:!f&&u.position==="static"&&!!i&&dR.has(i.position)||Sc(c)&&!f&&Bw(t,c))?n=n.filter(p=>p!==c):i=u,c=Vi(c)}return e.set(t,n),n}function mR(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const c=[...r==="clippingAncestors"?nf(e)?[]:hR(e,this._c):[].concat(r),n],u=c[0],f=c.reduce((h,p)=>{const y=Ux(e,p,i);return h.top=jn(y.top,h.top),h.right=qi(y.right,h.right),h.bottom=qi(y.bottom,h.bottom),h.left=jn(y.left,h.left),h},Ux(e,u,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function pR(t){const{width:e,height:r}=Ow(t);return{width:e,height:r}}function gR(t,e,r){const n=Ds(e),i=Os(e),l=r==="fixed",c=_o(t,!0,l,e);let u={scrollLeft:0,scrollTop:0};const f=Ms(0);function h(){f.x=Yp(i)}if(n||!n&&!l)if((Xa(e)!=="body"||Sc(i))&&(u=sf(e)),n){const g=_o(e,!0,l,e);f.x=g.x+e.clientLeft,f.y=g.y+e.clientTop}else i&&h();l&&!n&&i&&h();const p=i&&!n&&!l?Fw(i,u):Ms(0),y=c.left+u.scrollLeft-f.x-p.x,k=c.top+u.scrollTop-f.y-p.y;return{x:y,y:k,width:c.width,height:c.height}}function Im(t){return ps(t).position==="static"}function $x(t,e){if(!Ds(t)||ps(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Os(t)===r&&(r=r.ownerDocument.body),r}function Uw(t,e){const r=In(t);if(nf(t))return r;if(!Ds(t)){let i=Vi(t);for(;i&&!$a(i);){if(ms(i)&&!Im(i))return i;i=Vi(i)}return r}let n=$x(t,e);for(;n&&Xj(n)&&Im(n);)n=$x(n,e);return n&&$a(n)&&Im(n)&&!Vp(n)?r:n||nR(t)||r}const vR=async function(t){const e=this.getOffsetParent||Uw,r=this.getDimensions,n=await r(t.floating);return{reference:gR(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function yR(t){return ps(t).direction==="rtl"}const xR={convertOffsetParentRelativeRectToViewportRelativeRect:aR,getDocumentElement:Os,getClippingRect:mR,getOffsetParent:Uw,getElementRects:vR,getClientRects:lR,getDimensions:pR,getScale:za,isElement:ms,isRTL:yR};function $w(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function bR(t,e){let r=null,n;const i=Os(t);function l(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),l();const h=t.getBoundingClientRect(),{left:p,top:y,width:k,height:g}=h;if(u||e(),!k||!g)return;const S=Gu(y),N=Gu(i.clientWidth-(p+k)),A=Gu(i.clientHeight-(y+g)),P=Gu(p),L={rootMargin:-S+"px "+-N+"px "+-A+"px "+-P+"px",threshold:jn(0,qi(1,f))||1};let $=!0;function U(W){const V=W[0].intersectionRatio;if(V!==f){if(!$)return c();V?c(!1,V):n=setTimeout(()=>{c(!1,1e-7)},1e3)}V===1&&!$w(h,t.getBoundingClientRect())&&c(),$=!1}try{r=new IntersectionObserver(U,{...L,root:i.ownerDocument})}catch{r=new IntersectionObserver(U,L)}r.observe(t)}return c(!0),l}function wR(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,h=Kp(t),p=i||l?[...h?mc(h):[],...mc(e)]:[];p.forEach(P=>{i&&P.addEventListener("scroll",r,{passive:!0}),l&&P.addEventListener("resize",r)});const y=h&&u?bR(h,r):null;let k=-1,g=null;c&&(g=new ResizeObserver(P=>{let[z]=P;z&&z.target===h&&g&&(g.unobserve(e),cancelAnimationFrame(k),k=requestAnimationFrame(()=>{var L;(L=g)==null||L.observe(e)})),r()}),h&&!f&&g.observe(h),g.observe(e));let S,N=f?_o(t):null;f&&A();function A(){const P=_o(t);N&&!$w(N,P)&&r(),N=P,S=requestAnimationFrame(A)}return r(),()=>{var P;p.forEach(z=>{i&&z.removeEventListener("scroll",r),l&&z.removeEventListener("resize",r)}),y==null||y(),(P=g)==null||P.disconnect(),g=null,f&&cancelAnimationFrame(S)}}const kR=Vj,NR=Gj,ER=Wj,CR=Yj,AR=Hj,Wx=$j,SR=Kj,TR=(t,e,r)=>{const n=new Map,i={platform:xR,...r},l={...i.platform,_c:n};return Uj(t,e,{...i,platform:l})};var PR=typeof document<"u",jR=function(){},gd=PR?w.useLayoutEffect:jR;function Id(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Id(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const l=i[n];if(!(l==="_owner"&&t.$$typeof)&&!Id(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function Ww(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Hx(t,e){const r=Ww(t);return Math.round(e*r)/r}function Dm(t){const e=w.useRef(t);return gd(()=>{e.current=t}),e}function RR(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:l,floating:c}={},transform:u=!0,whileElementsMounted:f,open:h}=t,[p,y]=w.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[k,g]=w.useState(n);Id(k,n)||g(n);const[S,N]=w.useState(null),[A,P]=w.useState(null),z=w.useCallback(j=>{j!==W.current&&(W.current=j,N(j))},[]),L=w.useCallback(j=>{j!==V.current&&(V.current=j,P(j))},[]),$=l||S,U=c||A,W=w.useRef(null),V=w.useRef(null),J=w.useRef(p),re=f!=null,Q=Dm(f),X=Dm(i),H=Dm(h),I=w.useCallback(()=>{if(!W.current||!V.current)return;const j={placement:e,strategy:r,middleware:k};X.current&&(j.platform=X.current),TR(W.current,V.current,j).then(D=>{const O={...D,isPositioned:H.current!==!1};v.current&&!Id(J.current,O)&&(J.current=O,So.flushSync(()=>{y(O)}))})},[k,e,r,X,H]);gd(()=>{h===!1&&J.current.isPositioned&&(J.current.isPositioned=!1,y(j=>({...j,isPositioned:!1})))},[h]);const v=w.useRef(!1);gd(()=>(v.current=!0,()=>{v.current=!1}),[]),gd(()=>{if($&&(W.current=$),U&&(V.current=U),$&&U){if(Q.current)return Q.current($,U,I);I()}},[$,U,I,Q,re]);const C=w.useMemo(()=>({reference:W,floating:V,setReference:z,setFloating:L}),[z,L]),R=w.useMemo(()=>({reference:$,floating:U}),[$,U]),_=w.useMemo(()=>{const j={position:r,left:0,top:0};if(!R.floating)return j;const D=Hx(R.floating,p.x),O=Hx(R.floating,p.y);return u?{...j,transform:"translate("+D+"px, "+O+"px)",...Ww(R.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:O}},[r,u,R.floating,p.x,p.y]);return w.useMemo(()=>({...p,update:I,refs:C,elements:R,floatingStyles:_}),[p,I,C,R,_])}const MR=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?Wx({element:n.current,padding:i}).fn(r):{}:n?Wx({element:n,padding:i}).fn(r):{}}}},_R=(t,e)=>({...kR(t),options:[t,e]}),IR=(t,e)=>({...NR(t),options:[t,e]}),DR=(t,e)=>({...SR(t),options:[t,e]}),zR=(t,e)=>({...ER(t),options:[t,e]}),OR=(t,e)=>({...CR(t),options:[t,e]}),LR=(t,e)=>({...AR(t),options:[t,e]}),FR=(t,e)=>({...MR(t),options:[t,e]});var BR="Arrow",Hw=w.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...l}=t;return a.jsx(ot.svg,{...l,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Hw.displayName=BR;var UR=Hw;function qw(t){const[e,r]=w.useState(void 0);return Gr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let c,u;if("borderBoxSize"in l){const f=l.borderBoxSize,h=Array.isArray(f)?f[0]:f;c=h.inlineSize,u=h.blockSize}else c=t.offsetWidth,u=t.offsetHeight;r({width:c,height:u})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Qp="Popper",[Vw,of]=ci(Qp),[$R,Gw]=Vw(Qp),Kw=t=>{const{__scopePopper:e,children:r}=t,[n,i]=w.useState(null);return a.jsx($R,{scope:e,anchor:n,onAnchorChange:i,children:r})};Kw.displayName=Qp;var Yw="PopperAnchor",Qw=w.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,l=Gw(Yw,r),c=w.useRef(null),u=Lt(e,c);return w.useEffect(()=>{l.onAnchorChange((n==null?void 0:n.current)||c.current)}),n?null:a.jsx(ot.div,{...i,ref:u})});Qw.displayName=Yw;var Jp="PopperContent",[WR,HR]=Vw(Jp),Jw=w.forwardRef((t,e)=>{var q,Y,ie,ue,le,de;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:l="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:y="partial",hideWhenDetached:k=!1,updatePositionStrategy:g="optimized",onPlaced:S,...N}=t,A=Gw(Jp,r),[P,z]=w.useState(null),L=Lt(e,je=>z(je)),[$,U]=w.useState(null),W=qw($),V=(W==null?void 0:W.width)??0,J=(W==null?void 0:W.height)??0,re=n+(l!=="center"?"-"+l:""),Q=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},X=Array.isArray(h)?h:[h],H=X.length>0,I={padding:Q,boundary:X.filter(VR),altBoundary:H},{refs:v,floatingStyles:C,placement:R,isPositioned:_,middlewareData:j}=RR({strategy:"fixed",placement:re,whileElementsMounted:(...je)=>wR(...je,{animationFrame:g==="always"}),elements:{reference:A.anchor},middleware:[_R({mainAxis:i+J,alignmentAxis:c}),f&&IR({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?DR():void 0,...I}),f&&zR({...I}),OR({...I,apply:({elements:je,rects:pe,availableWidth:Ae,availableHeight:rt})=>{const{width:Le,height:Ge}=pe.reference,kt=je.floating.style;kt.setProperty("--radix-popper-available-width",`${Ae}px`),kt.setProperty("--radix-popper-available-height",`${rt}px`),kt.setProperty("--radix-popper-anchor-width",`${Le}px`),kt.setProperty("--radix-popper-anchor-height",`${Ge}px`)}}),$&&FR({element:$,padding:u}),GR({arrowWidth:V,arrowHeight:J}),k&&LR({strategy:"referenceHidden",...I})]}),[D,O]=e1(R),T=Is(S);Gr(()=>{_&&(T==null||T())},[_,T]);const b=(q=j.arrow)==null?void 0:q.x,B=(Y=j.arrow)==null?void 0:Y.y,te=((ie=j.arrow)==null?void 0:ie.centerOffset)!==0,[M,K]=w.useState();return Gr(()=>{P&&K(window.getComputedStyle(P).zIndex)},[P]),a.jsx("div",{ref:v.setFloating,"data-radix-popper-content-wrapper":"",style:{...C,transform:_?C.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:M,"--radix-popper-transform-origin":[(ue=j.transformOrigin)==null?void 0:ue.x,(le=j.transformOrigin)==null?void 0:le.y].join(" "),...((de=j.hide)==null?void 0:de.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(WR,{scope:r,placedSide:D,onArrowChange:U,arrowX:b,arrowY:B,shouldHideArrow:te,children:a.jsx(ot.div,{"data-side":D,"data-align":O,...N,ref:L,style:{...N.style,animation:_?void 0:"none"}})})})});Jw.displayName=Jp;var Xw="PopperArrow",qR={top:"bottom",right:"left",bottom:"top",left:"right"},Zw=w.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,l=HR(Xw,n),c=qR[l.placedSide];return a.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:a.jsx(UR,{...i,ref:r,style:{...i.style,display:"block"}})})});Zw.displayName=Xw;function VR(t){return t!==null}var GR=t=>({name:"transformOrigin",options:t,fn(e){var A,P,z;const{placement:r,rects:n,middlewareData:i}=e,c=((A=i.arrow)==null?void 0:A.centerOffset)!==0,u=c?0:t.arrowWidth,f=c?0:t.arrowHeight,[h,p]=e1(r),y={start:"0%",center:"50%",end:"100%"}[p],k=(((P=i.arrow)==null?void 0:P.x)??0)+u/2,g=(((z=i.arrow)==null?void 0:z.y)??0)+f/2;let S="",N="";return h==="bottom"?(S=c?y:`${k}px`,N=`${-f}px`):h==="top"?(S=c?y:`${k}px`,N=`${n.floating.height+f}px`):h==="right"?(S=`${-f}px`,N=c?y:`${g}px`):h==="left"&&(S=`${n.floating.width+f}px`,N=c?y:`${g}px`),{data:{x:S,y:N}}}});function e1(t){const[e,r="center"]=t.split("-");return[e,r]}var t1=Kw,r1=Qw,n1=Jw,s1=Zw,KR="Portal",af=w.forwardRef((t,e)=>{var u;const{container:r,...n}=t,[i,l]=w.useState(!1);Gr(()=>l(!0),[]);const c=r||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?lb.createPortal(a.jsx(ot.div,{...n,ref:e}),c):null});af.displayName=KR;var YR=bp[" useInsertionEffect ".trim().toString()]||Gr;function Io({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,l,c]=QR({defaultProp:e,onChange:r}),u=t!==void 0,f=u?t:i;{const p=w.useRef(t!==void 0);w.useEffect(()=>{const y=p.current;y!==u&&console.warn(`${n} is changing from ${y?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,n])}const h=w.useCallback(p=>{var y;if(u){const k=JR(p)?p(t):p;k!==t&&((y=c.current)==null||y.call(c,k))}else l(p)},[u,t,l,c]);return[f,h]}function QR({defaultProp:t,onChange:e}){const[r,n]=w.useState(t),i=w.useRef(r),l=w.useRef(e);return YR(()=>{l.current=e},[e]),w.useEffect(()=>{var c;i.current!==r&&((c=l.current)==null||c.call(l,r),i.current=r)},[r,i]),[r,n,l]}function JR(t){return typeof t=="function"}function i1(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var o1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),XR="VisuallyHidden",ZR=w.forwardRef((t,e)=>a.jsx(ot.span,{...t,ref:e,style:{...o1,...t.style}}));ZR.displayName=XR;var e5=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Na=new WeakMap,Ku=new WeakMap,Yu={},zm=0,a1=function(t){return t&&(t.host||a1(t.parentNode))},t5=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=a1(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},r5=function(t,e,r,n){var i=t5(e,Array.isArray(t)?t:[t]);Yu[r]||(Yu[r]=new WeakMap);var l=Yu[r],c=[],u=new Set,f=new Set(i),h=function(y){!y||u.has(y)||(u.add(y),h(y.parentNode))};i.forEach(h);var p=function(y){!y||f.has(y)||Array.prototype.forEach.call(y.children,function(k){if(u.has(k))p(k);else try{var g=k.getAttribute(n),S=g!==null&&g!=="false",N=(Na.get(k)||0)+1,A=(l.get(k)||0)+1;Na.set(k,N),l.set(k,A),c.push(k),N===1&&S&&Ku.set(k,!0),A===1&&k.setAttribute(r,"true"),S||k.setAttribute(n,"true")}catch(P){console.error("aria-hidden: cannot operate on ",k,P)}})};return p(e),u.clear(),zm++,function(){c.forEach(function(y){var k=Na.get(y)-1,g=l.get(y)-1;Na.set(y,k),l.set(y,g),k||(Ku.has(y)||y.removeAttribute(n),Ku.delete(y)),g||y.removeAttribute(r)}),zm--,zm||(Na=new WeakMap,Na=new WeakMap,Ku=new WeakMap,Yu={})}},Xp=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=e5(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),r5(n,i,r,"aria-hidden")):function(){return null}},Ps=function(){return Ps=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},Ps.apply(this,arguments)};function l1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function n5(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,l;n<i;n++)(l||!(n in e))&&(l||(l=Array.prototype.slice.call(e,0,n)),l[n]=e[n]);return t.concat(l||Array.prototype.slice.call(e))}var vd="right-scroll-bar-position",yd="width-before-scroll-bar",s5="with-scroll-bars-hidden",i5="--removed-body-scroll-bar-size";function Om(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function o5(t,e){var r=w.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var a5=typeof window<"u"?w.useLayoutEffect:w.useEffect,qx=new WeakMap;function l5(t,e){var r=o5(null,function(n){return t.forEach(function(i){return Om(i,n)})});return a5(function(){var n=qx.get(r);if(n){var i=new Set(n),l=new Set(t),c=r.current;i.forEach(function(u){l.has(u)||Om(u,null)}),l.forEach(function(u){i.has(u)||Om(u,c)})}qx.set(r,t)},[t]),r}function c5(t){return t}function u5(t,e){e===void 0&&(e=c5);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(l){var c=e(l,n);return r.push(c),function(){r=r.filter(function(u){return u!==c})}},assignSyncMedium:function(l){for(n=!0;r.length;){var c=r;r=[],c.forEach(l)}r={push:function(u){return l(u)},filter:function(){return r}}},assignMedium:function(l){n=!0;var c=[];if(r.length){var u=r;r=[],u.forEach(l),c=r}var f=function(){var p=c;c=[],p.forEach(l)},h=function(){return Promise.resolve().then(f)};h(),r={push:function(p){c.push(p),h()},filter:function(p){return c=c.filter(p),r}}}};return i}function d5(t){t===void 0&&(t={});var e=u5(null);return e.options=Ps({async:!0,ssr:!1},t),e}var c1=function(t){var e=t.sideCar,r=l1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,Ps({},r))};c1.isSideCarExport=!0;function f5(t,e){return t.useMedium(e),c1}var u1=d5(),Lm=function(){},lf=w.forwardRef(function(t,e){var r=w.useRef(null),n=w.useState({onScrollCapture:Lm,onWheelCapture:Lm,onTouchMoveCapture:Lm}),i=n[0],l=n[1],c=t.forwardProps,u=t.children,f=t.className,h=t.removeScrollBar,p=t.enabled,y=t.shards,k=t.sideCar,g=t.noRelative,S=t.noIsolation,N=t.inert,A=t.allowPinchZoom,P=t.as,z=P===void 0?"div":P,L=t.gapMode,$=l1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),U=k,W=l5([r,e]),V=Ps(Ps({},$),i);return w.createElement(w.Fragment,null,p&&w.createElement(U,{sideCar:u1,removeScrollBar:h,shards:y,noRelative:g,noIsolation:S,inert:N,setCallbacks:l,allowPinchZoom:!!A,lockRef:r,gapMode:L}),c?w.cloneElement(w.Children.only(u),Ps(Ps({},V),{ref:W})):w.createElement(z,Ps({},V,{className:f,ref:W}),u))});lf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lf.classNames={fullWidth:yd,zeroRight:vd};var h5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function m5(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=h5();return e&&t.setAttribute("nonce",e),t}function p5(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function g5(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var v5=function(){var t=0,e=null;return{add:function(r){t==0&&(e=m5())&&(p5(e,r),g5(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},y5=function(){var t=v5();return function(e,r){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},d1=function(){var t=y5(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},x5={left:0,top:0,right:0,gap:0},Fm=function(t){return parseInt(t||"",10)||0},b5=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Fm(r),Fm(n),Fm(i)]},w5=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return x5;var e=b5(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},k5=d1(),Oa="data-scroll-locked",N5=function(t,e,r,n){var i=t.left,l=t.top,c=t.right,u=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(s5,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(Oa,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vd,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(yd,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(vd," .").concat(vd,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(yd," .").concat(yd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Oa,`] {
    `).concat(i5,": ").concat(u,`px;
  }
`)},Vx=function(){var t=parseInt(document.body.getAttribute(Oa)||"0",10);return isFinite(t)?t:0},E5=function(){w.useEffect(function(){return document.body.setAttribute(Oa,(Vx()+1).toString()),function(){var t=Vx()-1;t<=0?document.body.removeAttribute(Oa):document.body.setAttribute(Oa,t.toString())}},[])},C5=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;E5();var l=w.useMemo(function(){return w5(i)},[i]);return w.createElement(k5,{styles:N5(l,!e,i,r?"":"!important")})},lp=!1;if(typeof window<"u")try{var Qu=Object.defineProperty({},"passive",{get:function(){return lp=!0,!0}});window.addEventListener("test",Qu,Qu),window.removeEventListener("test",Qu,Qu)}catch{lp=!1}var Ea=lp?{passive:!1}:!1,A5=function(t){return t.tagName==="TEXTAREA"},f1=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!A5(t)&&r[e]==="visible")},S5=function(t){return f1(t,"overflowY")},T5=function(t){return f1(t,"overflowX")},Gx=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=h1(t,n);if(i){var l=m1(t,n),c=l[1],u=l[2];if(c>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},P5=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},j5=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},h1=function(t,e){return t==="v"?S5(e):T5(e)},m1=function(t,e){return t==="v"?P5(e):j5(e)},R5=function(t,e){return t==="h"&&e==="rtl"?-1:1},M5=function(t,e,r,n,i){var l=R5(t,window.getComputedStyle(e).direction),c=l*n,u=r.target,f=e.contains(u),h=!1,p=c>0,y=0,k=0;do{if(!u)break;var g=m1(t,u),S=g[0],N=g[1],A=g[2],P=N-A-l*S;(S||P)&&h1(t,u)&&(y+=P,k+=S);var z=u.parentNode;u=z&&z.nodeType===Node.DOCUMENT_FRAGMENT_NODE?z.host:z}while(!f&&u!==document.body||f&&(e.contains(u)||e===u));return(p&&Math.abs(y)<1||!p&&Math.abs(k)<1)&&(h=!0),h},Ju=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Kx=function(t){return[t.deltaX,t.deltaY]},Yx=function(t){return t&&"current"in t?t.current:t},_5=function(t,e){return t[0]===e[0]&&t[1]===e[1]},I5=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},D5=0,Ca=[];function z5(t){var e=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),i=w.useState(D5++)[0],l=w.useState(d1)[0],c=w.useRef(t);w.useEffect(function(){c.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var N=n5([t.lockRef.current],(t.shards||[]).map(Yx),!0).filter(Boolean);return N.forEach(function(A){return A.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),N.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var u=w.useCallback(function(N,A){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!c.current.allowPinchZoom;var P=Ju(N),z=r.current,L="deltaX"in N?N.deltaX:z[0]-P[0],$="deltaY"in N?N.deltaY:z[1]-P[1],U,W=N.target,V=Math.abs(L)>Math.abs($)?"h":"v";if("touches"in N&&V==="h"&&W.type==="range")return!1;var J=Gx(V,W);if(!J)return!0;if(J?U=V:(U=V==="v"?"h":"v",J=Gx(V,W)),!J)return!1;if(!n.current&&"changedTouches"in N&&(L||$)&&(n.current=U),!U)return!0;var re=n.current||U;return M5(re,A,N,re==="h"?L:$)},[]),f=w.useCallback(function(N){var A=N;if(!(!Ca.length||Ca[Ca.length-1]!==l)){var P="deltaY"in A?Kx(A):Ju(A),z=e.current.filter(function(U){return U.name===A.type&&(U.target===A.target||A.target===U.shadowParent)&&_5(U.delta,P)})[0];if(z&&z.should){A.cancelable&&A.preventDefault();return}if(!z){var L=(c.current.shards||[]).map(Yx).filter(Boolean).filter(function(U){return U.contains(A.target)}),$=L.length>0?u(A,L[0]):!c.current.noIsolation;$&&A.cancelable&&A.preventDefault()}}},[]),h=w.useCallback(function(N,A,P,z){var L={name:N,delta:A,target:P,should:z,shadowParent:O5(P)};e.current.push(L),setTimeout(function(){e.current=e.current.filter(function($){return $!==L})},1)},[]),p=w.useCallback(function(N){r.current=Ju(N),n.current=void 0},[]),y=w.useCallback(function(N){h(N.type,Kx(N),N.target,u(N,t.lockRef.current))},[]),k=w.useCallback(function(N){h(N.type,Ju(N),N.target,u(N,t.lockRef.current))},[]);w.useEffect(function(){return Ca.push(l),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:k}),document.addEventListener("wheel",f,Ea),document.addEventListener("touchmove",f,Ea),document.addEventListener("touchstart",p,Ea),function(){Ca=Ca.filter(function(N){return N!==l}),document.removeEventListener("wheel",f,Ea),document.removeEventListener("touchmove",f,Ea),document.removeEventListener("touchstart",p,Ea)}},[]);var g=t.removeScrollBar,S=t.inert;return w.createElement(w.Fragment,null,S?w.createElement(l,{styles:I5(i)}):null,g?w.createElement(C5,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function O5(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const L5=f5(u1,z5);var cf=w.forwardRef(function(t,e){return w.createElement(lf,Ps({},t,{ref:e,sideCar:L5}))});cf.classNames=lf.classNames;var F5=[" ","Enter","ArrowUp","ArrowDown"],B5=[" ","Enter"],Do="Select",[uf,df,U5]=Up(Do),[Za,A6]=ci(Do,[U5,of]),ff=of(),[$5,Yi]=Za(Do),[W5,H5]=Za(Do),p1=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:l,value:c,defaultValue:u,onValueChange:f,dir:h,name:p,autoComplete:y,disabled:k,required:g,form:S}=t,N=ff(e),[A,P]=w.useState(null),[z,L]=w.useState(null),[$,U]=w.useState(!1),W=Zd(h),[V,J]=Io({prop:n,defaultProp:i??!1,onChange:l,caller:Do}),[re,Q]=Io({prop:c,defaultProp:u,onChange:f,caller:Do}),X=w.useRef(null),H=A?S||!!A.closest("form"):!0,[I,v]=w.useState(new Set),C=Array.from(I).map(R=>R.props.value).join(";");return a.jsx(t1,{...N,children:a.jsxs($5,{required:g,scope:e,trigger:A,onTriggerChange:P,valueNode:z,onValueNodeChange:L,valueNodeHasChildren:$,onValueNodeHasChildrenChange:U,contentId:Rs(),value:re,onValueChange:Q,open:V,onOpenChange:J,dir:W,triggerPointerDownPosRef:X,disabled:k,children:[a.jsx(uf.Provider,{scope:e,children:a.jsx(W5,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(R=>{v(_=>new Set(_).add(R))},[]),onNativeOptionRemove:w.useCallback(R=>{v(_=>{const j=new Set(_);return j.delete(R),j})},[]),children:r})}),H?a.jsxs(O1,{"aria-hidden":!0,required:g,tabIndex:-1,name:p,autoComplete:y,value:re,onChange:R=>Q(R.target.value),disabled:k,form:S,children:[re===void 0?a.jsx("option",{value:""}):null,Array.from(I)]},C):null]})})};p1.displayName=Do;var g1="SelectTrigger",v1=w.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,l=ff(r),c=Yi(g1,r),u=c.disabled||n,f=Lt(e,c.onTriggerChange),h=df(r),p=w.useRef("touch"),[y,k,g]=F1(N=>{const A=h().filter(L=>!L.disabled),P=A.find(L=>L.value===c.value),z=B1(A,N,P);z!==void 0&&c.onValueChange(z.value)}),S=N=>{u||(c.onOpenChange(!0),g()),N&&(c.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return a.jsx(r1,{asChild:!0,...l,children:a.jsx(ot.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":L1(c.value)?"":void 0,...i,ref:f,onClick:De(i.onClick,N=>{N.currentTarget.focus(),p.current!=="mouse"&&S(N)}),onPointerDown:De(i.onPointerDown,N=>{p.current=N.pointerType;const A=N.target;A.hasPointerCapture(N.pointerId)&&A.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(S(N),N.preventDefault())}),onKeyDown:De(i.onKeyDown,N=>{const A=y.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&k(N.key),!(A&&N.key===" ")&&F5.includes(N.key)&&(S(),N.preventDefault())})})})});v1.displayName=g1;var y1="SelectValue",x1=w.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:l,placeholder:c="",...u}=t,f=Yi(y1,r),{onValueNodeHasChildrenChange:h}=f,p=l!==void 0,y=Lt(e,f.onValueNodeChange);return Gr(()=>{h(p)},[h,p]),a.jsx(ot.span,{...u,ref:y,style:{pointerEvents:"none"},children:L1(f.value)?a.jsx(a.Fragment,{children:c}):l})});x1.displayName=y1;var q5="SelectIcon",b1=w.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return a.jsx(ot.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});b1.displayName=q5;var V5="SelectPortal",w1=t=>a.jsx(af,{asChild:!0,...t});w1.displayName=V5;var zo="SelectContent",k1=w.forwardRef((t,e)=>{const r=Yi(zo,t.__scopeSelect),[n,i]=w.useState();if(Gr(()=>{i(new DocumentFragment)},[]),!r.open){const l=n;return l?So.createPortal(a.jsx(N1,{scope:t.__scopeSelect,children:a.jsx(uf.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),l):null}return a.jsx(E1,{...t,ref:e})});k1.displayName=zo;var cs=10,[N1,Qi]=Za(zo),G5="SelectContentImpl",K5=Mo("SelectContent.RemoveScroll"),E1=w.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:l,onPointerDownOutside:c,side:u,sideOffset:f,align:h,alignOffset:p,arrowPadding:y,collisionBoundary:k,collisionPadding:g,sticky:S,hideWhenDetached:N,avoidCollisions:A,...P}=t,z=Yi(zo,r),[L,$]=w.useState(null),[U,W]=w.useState(null),V=Lt(e,q=>$(q)),[J,re]=w.useState(null),[Q,X]=w.useState(null),H=df(r),[I,v]=w.useState(!1),C=w.useRef(!1);w.useEffect(()=>{if(L)return Xp(L)},[L]),$p();const R=w.useCallback(q=>{const[Y,...ie]=H().map(de=>de.ref.current),[ue]=ie.slice(-1),le=document.activeElement;for(const de of q)if(de===le||(de==null||de.scrollIntoView({block:"nearest"}),de===Y&&U&&(U.scrollTop=0),de===ue&&U&&(U.scrollTop=U.scrollHeight),de==null||de.focus(),document.activeElement!==le))return},[H,U]),_=w.useCallback(()=>R([J,L]),[R,J,L]);w.useEffect(()=>{I&&_()},[I,_]);const{onOpenChange:j,triggerPointerDownPosRef:D}=z;w.useEffect(()=>{if(L){let q={x:0,y:0};const Y=ue=>{var le,de;q={x:Math.abs(Math.round(ue.pageX)-(((le=D.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((de=D.current)==null?void 0:de.y)??0))}},ie=ue=>{q.x<=10&&q.y<=10?ue.preventDefault():L.contains(ue.target)||j(!1),document.removeEventListener("pointermove",Y),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",Y),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",ie,{capture:!0})}}},[L,j,D]),w.useEffect(()=>{const q=()=>j(!1);return window.addEventListener("blur",q),window.addEventListener("resize",q),()=>{window.removeEventListener("blur",q),window.removeEventListener("resize",q)}},[j]);const[O,T]=F1(q=>{const Y=H().filter(le=>!le.disabled),ie=Y.find(le=>le.ref.current===document.activeElement),ue=B1(Y,q,ie);ue&&setTimeout(()=>ue.ref.current.focus())}),b=w.useCallback((q,Y,ie)=>{const ue=!C.current&&!ie;(z.value!==void 0&&z.value===Y||ue)&&(re(q),ue&&(C.current=!0))},[z.value]),B=w.useCallback(()=>L==null?void 0:L.focus(),[L]),te=w.useCallback((q,Y,ie)=>{const ue=!C.current&&!ie;(z.value!==void 0&&z.value===Y||ue)&&X(q)},[z.value]),M=n==="popper"?cp:C1,K=M===cp?{side:u,sideOffset:f,align:h,alignOffset:p,arrowPadding:y,collisionBoundary:k,collisionPadding:g,sticky:S,hideWhenDetached:N,avoidCollisions:A}:{};return a.jsx(N1,{scope:r,content:L,viewport:U,onViewportChange:W,itemRefCallback:b,selectedItem:J,onItemLeave:B,itemTextRefCallback:te,focusSelectedItem:_,selectedItemText:Q,position:n,isPositioned:I,searchRef:O,children:a.jsx(cf,{as:K5,allowPinchZoom:!0,children:a.jsx(tf,{asChild:!0,trapped:z.open,onMountAutoFocus:q=>{q.preventDefault()},onUnmountAutoFocus:De(i,q=>{var Y;(Y=z.trigger)==null||Y.focus({preventScroll:!0}),q.preventDefault()}),children:a.jsx(ef,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:q=>q.preventDefault(),onDismiss:()=>z.onOpenChange(!1),children:a.jsx(M,{role:"listbox",id:z.contentId,"data-state":z.open?"open":"closed",dir:z.dir,onContextMenu:q=>q.preventDefault(),...P,...K,onPlaced:()=>v(!0),ref:V,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:De(P.onKeyDown,q=>{const Y=q.ctrlKey||q.altKey||q.metaKey;if(q.key==="Tab"&&q.preventDefault(),!Y&&q.key.length===1&&T(q.key),["ArrowUp","ArrowDown","Home","End"].includes(q.key)){let ue=H().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(q.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(q.key)){const le=q.target,de=ue.indexOf(le);ue=ue.slice(de+1)}setTimeout(()=>R(ue)),q.preventDefault()}})})})})})})});E1.displayName=G5;var Y5="SelectItemAlignedPosition",C1=w.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,l=Yi(zo,r),c=Qi(zo,r),[u,f]=w.useState(null),[h,p]=w.useState(null),y=Lt(e,V=>p(V)),k=df(r),g=w.useRef(!1),S=w.useRef(!0),{viewport:N,selectedItem:A,selectedItemText:P,focusSelectedItem:z}=c,L=w.useCallback(()=>{if(l.trigger&&l.valueNode&&u&&h&&N&&A&&P){const V=l.trigger.getBoundingClientRect(),J=h.getBoundingClientRect(),re=l.valueNode.getBoundingClientRect(),Q=P.getBoundingClientRect();if(l.dir!=="rtl"){const le=Q.left-J.left,de=re.left-le,je=V.left-de,pe=V.width+je,Ae=Math.max(pe,J.width),rt=window.innerWidth-cs,Le=Ax(de,[cs,Math.max(cs,rt-Ae)]);u.style.minWidth=pe+"px",u.style.left=Le+"px"}else{const le=J.right-Q.right,de=window.innerWidth-re.right-le,je=window.innerWidth-V.right-de,pe=V.width+je,Ae=Math.max(pe,J.width),rt=window.innerWidth-cs,Le=Ax(de,[cs,Math.max(cs,rt-Ae)]);u.style.minWidth=pe+"px",u.style.right=Le+"px"}const X=k(),H=window.innerHeight-cs*2,I=N.scrollHeight,v=window.getComputedStyle(h),C=parseInt(v.borderTopWidth,10),R=parseInt(v.paddingTop,10),_=parseInt(v.borderBottomWidth,10),j=parseInt(v.paddingBottom,10),D=C+R+I+j+_,O=Math.min(A.offsetHeight*5,D),T=window.getComputedStyle(N),b=parseInt(T.paddingTop,10),B=parseInt(T.paddingBottom,10),te=V.top+V.height/2-cs,M=H-te,K=A.offsetHeight/2,q=A.offsetTop+K,Y=C+R+q,ie=D-Y;if(Y<=te){const le=X.length>0&&A===X[X.length-1].ref.current;u.style.bottom="0px";const de=h.clientHeight-N.offsetTop-N.offsetHeight,je=Math.max(M,K+(le?B:0)+de+_),pe=Y+je;u.style.height=pe+"px"}else{const le=X.length>0&&A===X[0].ref.current;u.style.top="0px";const je=Math.max(te,C+N.offsetTop+(le?b:0)+K)+ie;u.style.height=je+"px",N.scrollTop=Y-te+N.offsetTop}u.style.margin=`${cs}px 0`,u.style.minHeight=O+"px",u.style.maxHeight=H+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[k,l.trigger,l.valueNode,u,h,N,A,P,l.dir,n]);Gr(()=>L(),[L]);const[$,U]=w.useState();Gr(()=>{h&&U(window.getComputedStyle(h).zIndex)},[h]);const W=w.useCallback(V=>{V&&S.current===!0&&(L(),z==null||z(),S.current=!1)},[L,z]);return a.jsx(J5,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:g,onScrollButtonChange:W,children:a.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:$},children:a.jsx(ot.div,{...i,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});C1.displayName=Y5;var Q5="SelectPopperPosition",cp=w.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=cs,...l}=t,c=ff(r);return a.jsx(n1,{...c,...l,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});cp.displayName=Q5;var[J5,Zp]=Za(zo,{}),up="SelectViewport",A1=w.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,l=Qi(up,r),c=Zp(up,r),u=Lt(e,l.onViewportChange),f=w.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(uf.Slot,{scope:r,children:a.jsx(ot.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:De(i.onScroll,h=>{const p=h.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:k}=c;if(k!=null&&k.current&&y){const g=Math.abs(f.current-p.scrollTop);if(g>0){const S=window.innerHeight-cs*2,N=parseFloat(y.style.minHeight),A=parseFloat(y.style.height),P=Math.max(N,A);if(P<S){const z=P+g,L=Math.min(S,z),$=z-L;y.style.height=L+"px",y.style.bottom==="0px"&&(p.scrollTop=$>0?$:0,y.style.justifyContent="flex-end")}}}f.current=p.scrollTop})})})]})});A1.displayName=up;var S1="SelectGroup",[X5,Z5]=Za(S1),e3=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Rs();return a.jsx(X5,{scope:r,id:i,children:a.jsx(ot.div,{role:"group","aria-labelledby":i,...n,ref:e})})});e3.displayName=S1;var T1="SelectLabel",t3=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Z5(T1,r);return a.jsx(ot.div,{id:i.id,...n,ref:e})});t3.displayName=T1;var Dd="SelectItem",[r3,P1]=Za(Dd),j1=w.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:l,...c}=t,u=Yi(Dd,r),f=Qi(Dd,r),h=u.value===n,[p,y]=w.useState(l??""),[k,g]=w.useState(!1),S=Lt(e,z=>{var L;return(L=f.itemRefCallback)==null?void 0:L.call(f,z,n,i)}),N=Rs(),A=w.useRef("touch"),P=()=>{i||(u.onValueChange(n),u.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(r3,{scope:r,value:n,disabled:i,textId:N,isSelected:h,onItemTextChange:w.useCallback(z=>{y(L=>L||((z==null?void 0:z.textContent)??"").trim())},[]),children:a.jsx(uf.ItemSlot,{scope:r,value:n,disabled:i,textValue:p,children:a.jsx(ot.div,{role:"option","aria-labelledby":N,"data-highlighted":k?"":void 0,"aria-selected":h&&k,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...c,ref:S,onFocus:De(c.onFocus,()=>g(!0)),onBlur:De(c.onBlur,()=>g(!1)),onClick:De(c.onClick,()=>{A.current!=="mouse"&&P()}),onPointerUp:De(c.onPointerUp,()=>{A.current==="mouse"&&P()}),onPointerDown:De(c.onPointerDown,z=>{A.current=z.pointerType}),onPointerMove:De(c.onPointerMove,z=>{var L;A.current=z.pointerType,i?(L=f.onItemLeave)==null||L.call(f):A.current==="mouse"&&z.currentTarget.focus({preventScroll:!0})}),onPointerLeave:De(c.onPointerLeave,z=>{var L;z.currentTarget===document.activeElement&&((L=f.onItemLeave)==null||L.call(f))}),onKeyDown:De(c.onKeyDown,z=>{var $;(($=f.searchRef)==null?void 0:$.current)!==""&&z.key===" "||(B5.includes(z.key)&&P(),z.key===" "&&z.preventDefault())})})})})});j1.displayName=Dd;var $l="SelectItemText",R1=w.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...l}=t,c=Yi($l,r),u=Qi($l,r),f=P1($l,r),h=H5($l,r),[p,y]=w.useState(null),k=Lt(e,P=>y(P),f.onItemTextChange,P=>{var z;return(z=u.itemTextRefCallback)==null?void 0:z.call(u,P,f.value,f.disabled)}),g=p==null?void 0:p.textContent,S=w.useMemo(()=>a.jsx("option",{value:f.value,disabled:f.disabled,children:g},f.value),[f.disabled,f.value,g]),{onNativeOptionAdd:N,onNativeOptionRemove:A}=h;return Gr(()=>(N(S),()=>A(S)),[N,A,S]),a.jsxs(a.Fragment,{children:[a.jsx(ot.span,{id:f.textId,...l,ref:k}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?So.createPortal(l.children,c.valueNode):null]})});R1.displayName=$l;var M1="SelectItemIndicator",_1=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return P1(M1,r).isSelected?a.jsx(ot.span,{"aria-hidden":!0,...n,ref:e}):null});_1.displayName=M1;var dp="SelectScrollUpButton",I1=w.forwardRef((t,e)=>{const r=Qi(dp,t.__scopeSelect),n=Zp(dp,t.__scopeSelect),[i,l]=w.useState(!1),c=Lt(e,n.onScrollButtonChange);return Gr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const h=f.scrollTop>0;l(h)};const f=r.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?a.jsx(z1,{...t,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=r;u&&f&&(u.scrollTop=u.scrollTop-f.offsetHeight)}}):null});I1.displayName=dp;var fp="SelectScrollDownButton",D1=w.forwardRef((t,e)=>{const r=Qi(fp,t.__scopeSelect),n=Zp(fp,t.__scopeSelect),[i,l]=w.useState(!1),c=Lt(e,n.onScrollButtonChange);return Gr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const h=f.scrollHeight-f.clientHeight,p=Math.ceil(f.scrollTop)<h;l(p)};const f=r.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?a.jsx(z1,{...t,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=r;u&&f&&(u.scrollTop=u.scrollTop+f.offsetHeight)}}):null});D1.displayName=fp;var z1=w.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,l=Qi("SelectScrollButton",r),c=w.useRef(null),u=df(r),f=w.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return w.useEffect(()=>()=>f(),[f]),Gr(()=>{var p;const h=u().find(y=>y.ref.current===document.activeElement);(p=h==null?void 0:h.ref.current)==null||p.scrollIntoView({block:"nearest"})},[u]),a.jsx(ot.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:De(i.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:De(i.onPointerMove,()=>{var h;(h=l.onItemLeave)==null||h.call(l),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:De(i.onPointerLeave,()=>{f()})})}),n3="SelectSeparator",s3=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return a.jsx(ot.div,{"aria-hidden":!0,...n,ref:e})});s3.displayName=n3;var hp="SelectArrow",i3=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=ff(r),l=Yi(hp,r),c=Qi(hp,r);return l.open&&c.position==="popper"?a.jsx(s1,{...i,...n,ref:e}):null});i3.displayName=hp;var o3="SelectBubbleInput",O1=w.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=w.useRef(null),l=Lt(n,i),c=i1(e);return w.useEffect(()=>{const u=i.current;if(!u)return;const f=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==e&&p){const y=new Event("change",{bubbles:!0});p.call(u,e),u.dispatchEvent(y)}},[c,e]),a.jsx(ot.select,{...r,style:{...o1,...r.style},ref:l,defaultValue:e})});O1.displayName=o3;function L1(t){return t===""||t===void 0}function F1(t){const e=Is(t),r=w.useRef(""),n=w.useRef(0),i=w.useCallback(c=>{const u=r.current+c;e(u),function f(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>f(""),1e3))}(u)},[e]),l=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,l]}function B1(t,e,r){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,l=r?t.indexOf(r):-1;let c=a3(t,Math.max(l,0));i.length===1&&(c=c.filter(h=>h!==r));const f=c.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return f!==r?f:void 0}function a3(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var l3=p1,c3=v1,u3=x1,d3=b1,f3=w1,h3=k1,m3=A1,p3=j1,g3=R1,v3=_1,y3=I1,x3=D1;function U1(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=U1(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function $1(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=U1(t))&&(n&&(n+=" "),n+=e);return n}const eg="-",b3=t=>{const e=k3(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:c=>{const u=c.split(eg);return u[0]===""&&u.length!==1&&u.shift(),W1(u,e)||w3(c)},getConflictingClassGroupIds:(c,u)=>{const f=r[c]||[];return u&&n[c]?[...f,...n[c]]:f}}},W1=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?W1(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const l=t.join(eg);return(c=e.validators.find(({validator:u})=>u(l)))==null?void 0:c.classGroupId},Qx=/^\[(.+)\]$/,w3=t=>{if(Qx.test(t)){const e=Qx.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},k3=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return E3(Object.entries(t.classGroups),r).forEach(([l,c])=>{mp(c,n,l,e)}),n},mp=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const l=i===""?e:Jx(e,i);l.classGroupId=r;return}if(typeof i=="function"){if(N3(i)){mp(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([l,c])=>{mp(c,Jx(e,l),r,n)})})},Jx=(t,e)=>{let r=t;return e.split(eg).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},N3=t=>t.isThemeGetter,E3=(t,e)=>e?t.map(([r,n])=>{const i=n.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([c,u])=>[e+c,u])):l);return[r,i]}):t,C3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(l,c)=>{r.set(l,c),e++,e>t&&(e=0,n=r,r=new Map)};return{get(l){let c=r.get(l);if(c!==void 0)return c;if((c=n.get(l))!==void 0)return i(l,c),c},set(l,c){r.has(l)?r.set(l,c):i(l,c)}}},H1="!",A3=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],l=e.length,c=u=>{const f=[];let h=0,p=0,y;for(let A=0;A<u.length;A++){let P=u[A];if(h===0){if(P===i&&(n||u.slice(A,A+l)===e)){f.push(u.slice(p,A)),p=A+l;continue}if(P==="/"){y=A;continue}}P==="["?h++:P==="]"&&h--}const k=f.length===0?u:u.substring(p),g=k.startsWith(H1),S=g?k.substring(1):k,N=y&&y>p?y-p:void 0;return{modifiers:f,hasImportantModifier:g,baseClassName:S,maybePostfixModifierPosition:N}};return r?u=>r({className:u,parseClassName:c}):c},S3=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},T3=t=>({cache:C3(t.cacheSize),parseClassName:A3(t),...b3(t)}),P3=/\s+/,j3=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,l=[],c=t.trim().split(P3);let u="";for(let f=c.length-1;f>=0;f-=1){const h=c[f],{modifiers:p,hasImportantModifier:y,baseClassName:k,maybePostfixModifierPosition:g}=r(h);let S=!!g,N=n(S?k.substring(0,g):k);if(!N){if(!S){u=h+(u.length>0?" "+u:u);continue}if(N=n(k),!N){u=h+(u.length>0?" "+u:u);continue}S=!1}const A=S3(p).join(":"),P=y?A+H1:A,z=P+N;if(l.includes(z))continue;l.push(z);const L=i(N,S);for(let $=0;$<L.length;++$){const U=L[$];l.push(P+U)}u=h+(u.length>0?" "+u:u)}return u};function R3(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=q1(e))&&(n&&(n+=" "),n+=r);return n}const q1=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=q1(t[n]))&&(r&&(r+=" "),r+=e);return r};function M3(t,...e){let r,n,i,l=c;function c(f){const h=e.reduce((p,y)=>y(p),t());return r=T3(h),n=r.cache.get,i=r.cache.set,l=u,u(f)}function u(f){const h=n(f);if(h)return h;const p=j3(f,r);return i(f,p),p}return function(){return l(R3.apply(null,arguments))}}const Kt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},V1=/^\[(?:([a-z-]+):)?(.+)\]$/i,_3=/^\d+\/\d+$/,I3=new Set(["px","full","screen"]),D3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,z3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,O3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,L3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,F3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ys=t=>La(t)||I3.has(t)||_3.test(t),Ii=t=>el(t,"length",G3),La=t=>!!t&&!Number.isNaN(Number(t)),Bm=t=>el(t,"number",La),Ol=t=>!!t&&Number.isInteger(Number(t)),B3=t=>t.endsWith("%")&&La(t.slice(0,-1)),it=t=>V1.test(t),Di=t=>D3.test(t),U3=new Set(["length","size","percentage"]),$3=t=>el(t,U3,G1),W3=t=>el(t,"position",G1),H3=new Set(["image","url"]),q3=t=>el(t,H3,Y3),V3=t=>el(t,"",K3),Ll=()=>!0,el=(t,e,r)=>{const n=V1.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},G3=t=>z3.test(t)&&!O3.test(t),G1=()=>!1,K3=t=>L3.test(t),Y3=t=>F3.test(t),Q3=()=>{const t=Kt("colors"),e=Kt("spacing"),r=Kt("blur"),n=Kt("brightness"),i=Kt("borderColor"),l=Kt("borderRadius"),c=Kt("borderSpacing"),u=Kt("borderWidth"),f=Kt("contrast"),h=Kt("grayscale"),p=Kt("hueRotate"),y=Kt("invert"),k=Kt("gap"),g=Kt("gradientColorStops"),S=Kt("gradientColorStopPositions"),N=Kt("inset"),A=Kt("margin"),P=Kt("opacity"),z=Kt("padding"),L=Kt("saturate"),$=Kt("scale"),U=Kt("sepia"),W=Kt("skew"),V=Kt("space"),J=Kt("translate"),re=()=>["auto","contain","none"],Q=()=>["auto","hidden","clip","visible","scroll"],X=()=>["auto",it,e],H=()=>[it,e],I=()=>["",Ys,Ii],v=()=>["auto",La,it],C=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],_=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",it],O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>[La,it];return{cacheSize:500,separator:":",theme:{colors:[Ll],spacing:[Ys,Ii],blur:["none","",Di,it],brightness:T(),borderColor:[t],borderRadius:["none","","full",Di,it],borderSpacing:H(),borderWidth:I(),contrast:T(),grayscale:D(),hueRotate:T(),invert:D(),gap:H(),gradientColorStops:[t],gradientColorStopPositions:[B3,Ii],inset:X(),margin:X(),opacity:T(),padding:H(),saturate:T(),scale:T(),sepia:D(),skew:T(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",it]}],container:["container"],columns:[{columns:[Di]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...C(),it]}],overflow:[{overflow:Q()}],"overflow-x":[{"overflow-x":Q()}],"overflow-y":[{"overflow-y":Q()}],overscroll:[{overscroll:re()}],"overscroll-x":[{"overscroll-x":re()}],"overscroll-y":[{"overscroll-y":re()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ol,it]}],basis:[{basis:X()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",it]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Ol,it]}],"grid-cols":[{"grid-cols":[Ll]}],"col-start-end":[{col:["auto",{span:["full",Ol,it]},it]}],"col-start":[{"col-start":v()}],"col-end":[{"col-end":v()}],"grid-rows":[{"grid-rows":[Ll]}],"row-start-end":[{row:["auto",{span:[Ol,it]},it]}],"row-start":[{"row-start":v()}],"row-end":[{"row-end":v()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",it]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",it]}],gap:[{gap:[k]}],"gap-x":[{"gap-x":[k]}],"gap-y":[{"gap-y":[k]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[z]}],px:[{px:[z]}],py:[{py:[z]}],ps:[{ps:[z]}],pe:[{pe:[z]}],pt:[{pt:[z]}],pr:[{pr:[z]}],pb:[{pb:[z]}],pl:[{pl:[z]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[V]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[V]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",it,e]}],"min-w":[{"min-w":[it,e,"min","max","fit"]}],"max-w":[{"max-w":[it,e,"none","full","min","max","fit","prose",{screen:[Di]},Di]}],h:[{h:[it,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[it,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[it,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[it,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Di,Ii]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bm]}],"font-family":[{font:[Ll]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",it]}],"line-clamp":[{"line-clamp":["none",La,Bm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ys,it]}],"list-image":[{"list-image":["none",it]}],"list-style-type":[{list:["none","disc","decimal",it]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[P]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[P]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ys,Ii]}],"underline-offset":[{"underline-offset":["auto",Ys,it]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",it]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",it]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[P]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...C(),W3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},q3]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[P]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[P]}],"divide-style":[{divide:R()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[Ys,it]}],"outline-w":[{outline:[Ys,Ii]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[P]}],"ring-offset-w":[{"ring-offset":[Ys,Ii]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Di,V3]}],"shadow-color":[{shadow:[Ll]}],opacity:[{opacity:[P]}],"mix-blend":[{"mix-blend":[..._(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":_()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Di,it]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[y]}],saturate:[{saturate:[L]}],sepia:[{sepia:[U]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[P]}],"backdrop-saturate":[{"backdrop-saturate":[L]}],"backdrop-sepia":[{"backdrop-sepia":[U]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",it]}],duration:[{duration:T()}],ease:[{ease:["linear","in","out","in-out",it]}],delay:[{delay:T()}],animate:[{animate:["none","spin","ping","pulse","bounce",it]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[$]}],"scale-x":[{"scale-x":[$]}],"scale-y":[{"scale-y":[$]}],rotate:[{rotate:[Ol,it]}],"translate-x":[{"translate-x":[J]}],"translate-y":[{"translate-y":[J]}],"skew-x":[{"skew-x":[W]}],"skew-y":[{"skew-y":[W]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",it]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",it]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",it]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ys,Ii,Bm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},J3=M3(Q3);function Ct(...t){return J3($1(t))}function Wa({...t}){return a.jsx(l3,{"data-slot":"select",...t})}function Ha({...t}){return a.jsx(u3,{"data-slot":"select-value",...t})}function qa({className:t,size:e="default",children:r,...n}){return a.jsxs(c3,{"data-slot":"select-trigger","data-size":e,className:Ct("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,a.jsx(d3,{asChild:!0,children:a.jsx(Ac,{className:"size-4 opacity-50"})})]})}function Va({className:t,children:e,position:r="popper",...n}){return a.jsx(f3,{children:a.jsxs(h3,{"data-slot":"select-content",className:Ct("bg-popover/90 backdrop-blur-md text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-xl border border-border/50 shadow-xl",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[a.jsx(X3,{}),a.jsx(m3,{className:Ct("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),a.jsx(Z3,{})]})})}function yn({className:t,children:e,...r}){return a.jsxs(p3,{"data-slot":"select-item",className:Ct("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx(v3,{children:a.jsx(GP,{className:"size-4"})})}),a.jsx(g3,{children:e})]})}function X3({className:t,...e}){return a.jsx(y3,{"data-slot":"select-scroll-up-button",className:Ct("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(Lp,{className:"size-4"})})}function Z3({className:t,...e}){return a.jsx(x3,{"data-slot":"select-scroll-down-button",className:Ct("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(Ac,{className:"size-4"})})}const Xu=t=>{if(!t)return"";if(typeof t=="string")return t;if(typeof t.message=="string")return t.message;try{return JSON.stringify(t)}catch{return String(t)}},K1=()=>{const{chainId:t,switchNetwork:e,addNetwork:r,isSupportedNetwork:n}=Qt(),[i,l]=be.useState(!1),c=async u=>{const f=parseInt(u,10);l(!0);try{await e(f)}catch(h){const p=Xu(h).toLowerCase();if(h&&h.code===4902||p.includes("add this network")||p.includes("unrecognized chain id")||h&&h.code===-32603)try{await r(f),setTimeout(async()=>{try{await e(f)}catch(y){setTimeout(()=>{window.ethereum&&window.ethereum.chainId&&parseInt(window.ethereum.chainId,16)!==f&&ge.error("Failed to switch to the new network after adding: "+Xu(y))},1e3)}},500)}catch(y){setTimeout(()=>{window.ethereum&&window.ethereum.chainId&&parseInt(window.ethereum.chainId,16)!==f&&ge.error("Failed to add network: "+Xu(y))},1e3)}else setTimeout(()=>{window.ethereum&&window.ethereum.chainId&&parseInt(window.ethereum.chainId,16)!==f&&ge.error("Failed to switch network: "+Xu(h))},1e3)}finally{l(!1)}};return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Wa,{value:t?String(t):"",onValueChange:c,disabled:i,children:[a.jsx(qa,{className:"min-w-[180px]",children:a.jsx(Ha,{placeholder:"Select Network"})}),a.jsx(Va,{children:Object.entries(zr).map(([u,f])=>a.jsx(yn,{value:u,children:f.name},u))})]}),t&&!n&&a.jsx("span",{className:"text-xs text-red-500 ml-2",children:"Unsupported Network"})]})},Nr=()=>{const t=()=>{if(typeof window>"u")return{isMobile:!1,isTablet:!1,isDesktop:!0,isTouchDevice:!1,screenWidth:1024,isInitialized:!1};const n=window.innerWidth;return{isMobile:n<768,isTablet:n>=768&&n<1024,isDesktop:n>=1024,isTouchDevice:"ontouchstart"in window||navigator.maxTouchPoints>0,screenWidth:n,isInitialized:!0}},[e,r]=w.useState(t);return w.useEffect(()=>{const n=()=>{const i=window.innerWidth,l={isMobile:i<768,isTablet:i>=768&&i<1024,isDesktop:i>=1024,isTouchDevice:"ontouchstart"in window||navigator.maxTouchPoints>0,screenWidth:i,isInitialized:!0};i<768&&console.log("Mobile detected:",{width:i,userAgent:navigator.userAgent,touchDevice:l.isTouchDevice}),r(l)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e};class eM{constructor(){this.cache=new Map,this.cacheTimeout=300*1e3,this.retryAttempts=3,this.retryDelay=1e3,this.performanceMetrics=new Map,this.errorMetrics=new Map}initialize(e,r){this.walletContext=e,this.contractContext=r}getPlatformConfig(e=!1){const r=typeof window<"u"&&(/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768),n=e||r;return{maxRafflesToFetch:n?8:20,timeout:n?2e4:12e3,concurrency:n?2:4,batchDelay:n?200:100,retryDelay:n?2e3:1e3,maxRetries:n?2:3,useCache:!0,retryOnFailure:!0,progressiveLoading:n,prioritizeRecent:n}}createContractInstance(e,r,n=!1){var i,l,c;try{if(!e||e===Oe)throw new Error(`Invalid contract address for ${r}`);const u=qt[r];if(!u)throw new Error(`ABI not found for ${r}`);const f=n?(i=this.walletContext)==null?void 0:i.provider:((l=this.walletContext)==null?void 0:l.signer)||((c=this.walletContext)==null?void 0:c.provider);if(!f)throw new Error("No signer or provider available");return new Wt(e,u,f)}catch(u){return console.error(`Error creating contract instance for ${r}:`,u),null}}getRaffleManagerContract(){var r,n,i,l;const{chainId:e}=this.walletContext||{};if((n=(r=this.contractContext)==null?void 0:r.contracts)!=null&&n.raffleManager)return this.contractContext.contracts.raffleManager;if(e&&((l=(i=zr[e])==null?void 0:i.contractAddresses)!=null&&l.raffleManager)){const c=zr[e].contractAddresses.raffleManager;return this.createContractInstance(c,"raffleManager",!0)}return null}async withRetry(e,r="",n={}){const i=this.getPlatformConfig(n.isMobile),l=n.maxRetries||i.maxRetries,c=n.retryDelay||i.retryDelay,u=n.timeout||i.timeout;let f;for(let h=1;h<=l;h++)try{return await Promise.race([e(),new Promise((p,y)=>setTimeout(()=>y(new Error("Operation timeout")),u))])}catch(p){if(f=p,console.warn(`${r} attempt ${h}/${l} failed:`,p.message),p.message.includes("user rejected")||p.message.includes("User denied")||p.code===4001||p.message.includes("Invalid contract address"))throw p;if(n.isMobile&&(p.message.includes("Network Error")||p.message.includes("CONNECTION ERROR")||p.code==="NETWORK_ERROR"))throw console.warn(`Mobile network error detected, skipping retries for ${r}`),p;if(h<l){const y=c*h;console.log(`Retrying ${r} in ${y}ms...`),await new Promise(k=>setTimeout(k,y))}}throw f}async getAllRaffleAddresses(){var c;const e=`raffleAddresses_${(c=this.walletContext)==null?void 0:c.chainId}`,r=this.cache.get(e);if(r&&Date.now()-r.timestamp<this.cacheTimeout)return r.data;const n=this.getRaffleManagerContract();if(!n)throw new Error("RaffleManager contract not available");const l=(await this.withRetry(()=>n.getAllRaffles(),"getAllRaffles")||[]).slice().reverse();return this.cache.set(e,{data:l,timestamp:Date.now()}),l}async fetchRaffleDetails(e,r={}){var n,i,l,c,u,f,h,p,y,k,g,S,N,A;try{const P=this.createContractInstance(e,"raffle",!0);if(!P)return console.error(`Failed to create raffle contract for ${e}`),null;let z,L,$,U,W,V,J,re,Q,X,H,I,v,C,R,_;r.isMobile?(z=await this.withRetry(()=>P.name(),`name-${e}`,r),L=await this.withRetry(()=>P.creator(),`creator-${e}`,r),$=await this.withRetry(()=>P.startTime(),`startTime-${e}`,r),U=await this.withRetry(()=>P.duration(),`duration-${e}`,r),W=await this.withRetry(()=>P.ticketPrice(),`ticketPrice-${e}`,r),V=await this.withRetry(()=>P.ticketLimit(),`ticketLimit-${e}`,r),J=await this.withRetry(()=>P.winnersCount(),`winnersCount-${e}`,r),re=await this.withRetry(()=>P.maxTicketsPerParticipant(),`maxTickets-${e}`,r),Q=await this.withRetry(()=>P.state(),`state-${e}`,r),X=await((n=P.isPrized)==null?void 0:n.call(P).catch(()=>!1)),H=await((i=P.prizeCollection)==null?void 0:i.call(P).catch(()=>Oe)),I=await((l=P.erc20PrizeToken)==null?void 0:l.call(P).catch(()=>Oe)),v=await((c=P.erc20PrizeAmount)==null?void 0:c.call(P).catch(()=>ce.from(0))),C=await((u=P.ethPrizeAmount)==null?void 0:u.call(P).catch(()=>ce.from(0))),R=await((f=P.isExternallyPrized)==null?void 0:f.call(P).catch(D=>(console.warn(`isExternallyPrized failed for ${e}:`,D.message),!1))),_=await((h=P.standard)==null?void 0:h.call(P).catch(()=>{}))):[z,L,$,U,W,V,J,re,Q,X,H,I,v,C,R,_]=await Promise.all([this.withRetry(()=>P.name(),`name-${e}`,r),this.withRetry(()=>P.creator(),`creator-${e}`,r),this.withRetry(()=>P.startTime(),`startTime-${e}`,r),this.withRetry(()=>P.duration(),`duration-${e}`,r),this.withRetry(()=>P.ticketPrice(),`ticketPrice-${e}`,r),this.withRetry(()=>P.ticketLimit(),`ticketLimit-${e}`,r),this.withRetry(()=>P.winnersCount(),`winnersCount-${e}`,r),this.withRetry(()=>P.maxTicketsPerParticipant(),`maxTickets-${e}`,r),this.withRetry(()=>P.state(),`state-${e}`,r),(p=P.isPrized)==null?void 0:p.call(P).catch(()=>!1),(y=P.prizeCollection)==null?void 0:y.call(P).catch(()=>Oe),(k=P.erc20PrizeToken)==null?void 0:k.call(P).catch(()=>Oe),(g=P.erc20PrizeAmount)==null?void 0:g.call(P).catch(()=>ce.from(0)),(S=P.ethPrizeAmount)==null?void 0:S.call(P).catch(()=>ce.from(0)),(N=P.isExternallyPrized)==null?void 0:N.call(P).catch(()=>!1),(A=P.standard)==null?void 0:A.call(P).catch(()=>{})]);let j;switch(Q){case 0:j="pending";break;case 1:j="active";break;case 2:j="drawing";break;case 3:j="completed";break;case 4:j="completed";break;case 5:j="ended";break;default:j="ended"}return{id:e,name:z,address:e,creator:L,startTime:$.toNumber(),duration:U.toNumber(),ticketPrice:W,ticketLimit:V.toNumber(),ticketsSold:0,winnersCount:J.toNumber(),maxTicketsPerParticipant:re.toNumber(),isPrized:!!X,prizeCollection:H,stateNum:Q,state:j,erc20PrizeToken:I,erc20PrizeAmount:v,ethPrizeAmount:C,isExternallyPrized:!!R,standard:_?_.toNumber?_.toNumber():Number(_):void 0}}catch(P){return console.error(`Error fetching raffle details for ${e}:`,P),null}}async processBatch(e,r={}){const n=this.getPlatformConfig(r.isMobile),i=r.batchSize||n.concurrency,l=r.batchDelay||n.batchDelay,c=r.onProgress,u=[],f=Math.ceil(e.length/i);console.log(`Processing ${e.length} raffles in ${f} batches (${i} per batch)`);for(let h=0;h<e.length;h+=i){const p=Math.floor(h/i)+1,y=e.slice(h,h+i);console.log(`Processing batch ${p}/${f} (${y.length} raffles)`);try{if(r.isMobile&&n.progressiveLoading)for(const k of y)try{const g=await this.fetchRaffleDetails(k,{isMobile:!0});g&&(u.push(g),c&&c(u.length,e.length)),await new Promise(S=>setTimeout(S,50))}catch(g){console.warn(`Failed to fetch raffle ${k}:`,g.message)}else{const k=y.map(N=>this.fetchRaffleDetails(N,{isMobile:r.isMobile})),S=(await Promise.allSettled(k)).filter(N=>N.status==="fulfilled"&&N.value!==null).map(N=>N.value);u.push(...S),c&&c(u.length,e.length)}h+i<e.length&&(console.log(`Waiting ${l}ms before next batch...`),await new Promise(k=>setTimeout(k,l)))}catch(k){console.error(`Error processing batch ${p}:`,k)}}return console.log(`Successfully processed ${u.length}/${e.length} raffles`),u}async fetchAllRaffles(e={}){var f,h,p;const{isMobile:r=!1,useCache:n=!0,maxRaffles:i=null}=e,l=this.getPlatformConfig(r),c=`allRaffles_${(f=this.walletContext)==null?void 0:f.chainId}_${r}`,u=this.startTimer("fetchAllRaffles",{isMobile:r,chainId:(h=this.walletContext)==null?void 0:h.chainId});if(n){const y=this.cache.get(c);if(y&&Date.now()-y.timestamp<this.cacheTimeout)return this.endTimer(u,{fromCache:!0,rafflCount:y.data.length}),y.data}try{const y=this.startTimer("getAllRaffleAddresses",{isMobile:r}),k=await this.getAllRaffleAddresses();if(this.endTimer(y,{addressCount:(k==null?void 0:k.length)||0}),!k||k.length===0)return this.endTimer(u,{rafflCount:0,fromCache:!1}),[];const g=i||l.maxRafflesToFetch,S=k.slice(0,g),N=this.startTimer("processBatch",{isMobile:r,totalAddresses:S.length,batchSize:l.concurrency}),A=await this.processBatch(S,{...l,isMobile:r,onProgress:(P,z)=>{console.log(`[RaffleService] Progress: ${P}/${z} raffles processed (${(P/z*100).toFixed(1)}%)`)}});return this.endTimer(N,{successfulRaffles:A.length,failedRaffles:S.length-A.length}),n&&this.cache.set(c,{data:A,timestamp:Date.now()}),this.endTimer(u,{rafflCount:A.length,fromCache:!1,totalAddresses:k.length,processedAddresses:S.length}),A}catch(y){throw this.trackError("fetchAllRaffles",y,{isMobile:r,chainId:(p=this.walletContext)==null?void 0:p.chainId}),this.endTimer(u,{error:!0,errorMessage:y.message}),y}}async searchRaffles(e,r={}){const n=await this.fetchAllRaffles(r),i=e.trim().toLowerCase();return n.filter(l=>(l.name||"").toLowerCase().includes(i)||(l.address||"").toLowerCase().includes(i)||(l.address||"").toLowerCase()===i)}clearCache(){this.cache.clear()}startTimer(e,r={}){const n=`${e}_${Date.now()}_${Math.random()}`;return this.performanceMetrics.set(n,{operation:e,context:r,startTime:performance.now(),platform:r.isMobile?"mobile":"desktop"}),n}endTimer(e,r={}){const n=this.performanceMetrics.get(e);if(!n)return;const i=performance.now(),l=i-n.startTime,c={...n,endTime:i,duration:l,...r};if(console.log(`[RaffleService] ${n.operation} completed in ${l.toFixed(2)}ms`,{platform:n.platform,context:n.context,...r}),this.performanceMetrics.set(e,c),this.performanceMetrics.size>100){const u=this.performanceMetrics.keys().next().value;this.performanceMetrics.delete(u)}return c}trackError(e,r,n={}){const i=`${e}_${n.isMobile?"mobile":"desktop"}`,l=this.errorMetrics.get(i)||{count:0,errors:[]};l.count++,l.errors.push({timestamp:Date.now(),message:r.message,stack:r.stack,context:n}),l.errors.length>10&&(l.errors=l.errors.slice(-10)),this.errorMetrics.set(i,l),console.error(`[RaffleService] Error in ${e} (${n.isMobile?"mobile":"desktop"}):`,r)}getPerformanceStats(){const e={mobile:{operations:{},totalOperations:0,avgDuration:0},desktop:{operations:{},totalOperations:0,avgDuration:0}};let r=0,n=0;for(const i of this.performanceMetrics.values()){if(!i.duration)continue;const l=i.platform,c=i.operation;e[l].operations[c]||(e[l].operations[c]={count:0,totalDuration:0,avgDuration:0,minDuration:1/0,maxDuration:0});const u=e[l].operations[c];u.count++,u.totalDuration+=i.duration,u.avgDuration=u.totalDuration/u.count,u.minDuration=Math.min(u.minDuration,i.duration),u.maxDuration=Math.max(u.maxDuration,i.duration),e[l].totalOperations++,l==="mobile"?r+=i.duration:n+=i.duration}return e.mobile.avgDuration=e.mobile.totalOperations>0?r/e.mobile.totalOperations:0,e.desktop.avgDuration=e.desktop.totalOperations>0?n/e.desktop.totalOperations:0,e}getErrorStats(){const e={};for(const[r,n]of this.errorMetrics.entries())e[r]={count:n.count,lastError:n.errors[n.errors.length-1],recentErrors:n.errors.slice(-3)};return e}getCacheStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys()),performance:this.getPerformanceStats(),errors:this.getErrorStats()}}}const Xs=new eM,tM=()=>{const[t,e]=w.useState(0),r=w.useCallback(()=>{e(n=>n+1)},[]);return{refreshTrigger:t,triggerRefresh:r}},rM=(t={})=>{const{autoFetch:e=!0,enablePolling:r=!1,pollingInterval:n=12e4,maxRaffles:i=null,useCache:l=!0}=t,c=Qt(),u=or(),{isMobile:f}=Nr(),[h,p]=w.useState([]),[y,k]=w.useState(!1),[g,S]=w.useState(!1),[N,A]=w.useState(null),[P,z]=w.useState(null),L=w.useRef(null),$=w.useRef(!0);w.useEffect(()=>{c&&u&&Xs.initialize(c,u)},[c,u]),w.useEffect(()=>()=>{$.current=!1,L.current&&clearInterval(L.current)},[]);const U=w.useCallback(async(X=!1)=>{var H,I,v,C,R;if(console.log(" fetchRaffles called:",{connected:c==null?void 0:c.connected,chainId:c==null?void 0:c.chainId,isBackground:X,environment:"production",userAgent:typeof window<"u"?window.navigator.userAgent:"N/A",isMobile:f,maxRaffles:i}),!(c!=null&&c.connected)){console.log(" Wallet not connected"),p([]),A("Please connect your wallet to view raffles");return}if(!$.current){console.log(" Component unmounted");return}try{X?S(!0):(k(!0),A(null));const _={isMobile:f,useCache:l,maxRaffles:i};console.log(" Calling raffleService.fetchAllRaffles with options:",_);const j=await Xs.fetchAllRaffles(_);if(console.log(" fetchAllRaffles completed:",{count:(j==null?void 0:j.length)||0,firstRaffle:((H=j==null?void 0:j[0])==null?void 0:H.name)||"N/A"}),!$.current)return;p(j),z(new Date),j.length===0?(console.log(" No raffles found"),A("No raffles found on the blockchain")):(console.log(" Raffles set successfully"),A(null))}catch(_){if(!$.current)return;console.error(" Error fetching raffles:",{error:_.message,stack:_.stack,environment:"production",chainId:c==null?void 0:c.chainId});let j="Failed to fetch raffles from blockchain";(I=_.message)!=null&&I.includes("Too Many Requests")?j="Rate limit exceeded. Please wait a moment and try again.":(v=_.message)!=null&&v.includes("timeout")?j="Request timed out. Please check your connection and try again.":(C=_.message)!=null&&C.includes("network")?j="Network error. Please check your connection.":(R=_.message)!=null&&R.includes("not available")&&(j="Smart contracts not available on this network."),A(j),X||p([])}finally{if(!$.current)return;console.log(" fetchRaffles completed, setting loading states"),X?S(!1):k(!1)}},[c==null?void 0:c.connected,f,l,i]),W=w.useCallback(async X=>{if(!(X!=null&&X.trim()))return[];try{const H={isMobile:f,useCache:!0,maxRaffles:f?50:100};return await Xs.searchRaffles(X,H)}catch(H){return console.error("Error searching raffles:",H),[]}},[f]),V=w.useCallback(async()=>{Xs.clearCache(),await U(!1)},[U]),J=w.useCallback(async X=>{try{return await Xs.fetchRaffleDetails(X)}catch(H){return console.error(`Error fetching raffle details for ${X}:`,H),null}},[]);w.useEffect(()=>{console.log(" Auto-fetch effect triggered:",{autoFetch:e,connected:c==null?void 0:c.connected,chainId:c==null?void 0:c.chainId,environment:"production"}),e&&(c!=null&&c.connected)?(console.log(" Triggering auto-fetch"),U()):console.log(" Auto-fetch conditions not met")},[e,c==null?void 0:c.connected,c==null?void 0:c.chainId,U]),w.useEffect(()=>{if(r&&(c!=null&&c.connected)&&n>0)return L.current=setInterval(()=>{U(!0)},n),()=>{L.current&&(clearInterval(L.current),L.current=null)}},[r,c==null?void 0:c.connected,n,U]);const re=w.useCallback(()=>{const X=Math.floor(Date.now()/1e3);return h.reduce((H,I)=>{const v=I.startTime,C=v+I.duration;return I.stateNum===0||X<v?H.pending.push(I):I.stateNum===1&&X>=v&&X<C?H.active.push(I):I.stateNum===2?H.drawing.push(I):I.stateNum===3||I.stateNum===4?H.completed.push(I):H.ended.push(I),H},{pending:[],active:[],drawing:[],completed:[],ended:[]})},[h]),Q=w.useCallback(()=>Xs.getCacheStats(),[]);return{raffles:h,categorizedRaffles:re(),loading:y,backgroundLoading:g,error:N,lastFetch:P,fetchRaffles:U,refreshRaffles:V,searchRaffles:W,getRaffleDetails:J,getCacheStats:Q,service:Xs}},nM=()=>{const[t,e]=w.useState([]),[r,n]=w.useState(!1),[i,l]=w.useState(null),{isMobile:c}=Nr(),u=Qt(),f=or();w.useEffect(()=>{u&&f&&Xs.initialize(u,f)},[u,f]);const h=w.useCallback(async y=>{if(!(y!=null&&y.trim())){e([]);return}n(!0),l(null);try{const k=await Xs.searchRaffles(y,{isMobile:c,useCache:!0,maxRaffles:c?20:50});e(k)}catch(k){console.error("Search error:",k),l("Failed to search raffles"),e([])}finally{n(!1)}},[c]),p=w.useCallback(()=>{e([]),l(null)},[]);return{searchResults:t,searchLoading:r,searchError:i,search:h,clearSearch:p}},Xx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Zx=$1,tg=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Zx(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:l}=e,c=Object.keys(i).map(h=>{const p=r==null?void 0:r[h],y=l==null?void 0:l[h];if(p===null)return null;const k=Xx(p)||Xx(y);return i[h][k]}),u=r&&Object.entries(r).reduce((h,p)=>{let[y,k]=p;return k===void 0||(h[y]=k),h},{}),f=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((h,p)=>{let{class:y,className:k,...g}=p;return Object.entries(g).every(S=>{let[N,A]=S;return Array.isArray(A)?A.includes({...l,...u}[N]):{...l,...u}[N]===A})?[...h,y,k]:h},[]);return Zx(t,c,f,r==null?void 0:r.class,r==null?void 0:r.className)},sM=tg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90 focus-visible:ring-primary/20",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90 focus-visible:ring-destructive/20",outline:"border border-border bg-background shadow-sm hover:bg-muted hover:text-muted-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-muted hover:text-muted-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-success text-success-foreground shadow-sm hover:bg-success/90 focus-visible:ring-success/20",warning:"bg-warning text-warning-foreground shadow-sm hover:bg-warning/90 focus-visible:ring-warning/20",accent:"bg-accent text-accent-foreground shadow-sm hover:bg-accent/90 focus-visible:ring-accent/20"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 py-2 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 py-3 has-[>svg]:px-4",xl:"h-12 rounded-lg px-6 py-3 has-[>svg]:px-5",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Be({className:t,variant:e,size:r,asChild:n=!1,...i}){const l=n?Tw:"button";return a.jsx(l,{"data-slot":"button",className:Ct(sM({variant:e,size:r,className:t})),...i})}function iM(t,e){return w.useReducer((r,n)=>e[r][n]??r,t)}var ui=t=>{const{present:e,children:r}=t,n=oM(e),i=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),l=Lt(n.ref,aM(i));return typeof r=="function"||n.isPresent?w.cloneElement(i,{ref:l}):null};ui.displayName="Presence";function oM(t){const[e,r]=w.useState(),n=w.useRef(null),i=w.useRef(t),l=w.useRef("none"),c=t?"mounted":"unmounted",[u,f]=iM(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const h=Zu(n.current);l.current=u==="mounted"?h:"none"},[u]),Gr(()=>{const h=n.current,p=i.current;if(p!==t){const k=l.current,g=Zu(h);t?f("MOUNT"):g==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&k!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,f]),Gr(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,y=g=>{const N=Zu(n.current).includes(g.animationName);if(g.target===e&&N&&(f("ANIMATION_END"),!i.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},k=g=>{g.target===e&&(l.current=Zu(n.current))};return e.addEventListener("animationstart",k),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",k),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:w.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function Zu(t){return(t==null?void 0:t.animationName)||"none"}function aM(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var hf="Dialog",[Y1,S6]=ci(hf),[lM,gs]=Y1(hf),Q1=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:l,modal:c=!0}=t,u=w.useRef(null),f=w.useRef(null),[h,p]=Io({prop:n,defaultProp:i??!1,onChange:l,caller:hf});return a.jsx(lM,{scope:e,triggerRef:u,contentRef:f,contentId:Rs(),titleId:Rs(),descriptionId:Rs(),open:h,onOpenChange:p,onOpenToggle:w.useCallback(()=>p(y=>!y),[p]),modal:c,children:r})};Q1.displayName=hf;var J1="DialogTrigger",X1=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=gs(J1,r),l=Lt(e,i.triggerRef);return a.jsx(ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":sg(i.open),...n,ref:l,onClick:De(t.onClick,i.onOpenToggle)})});X1.displayName=J1;var rg="DialogPortal",[cM,Z1]=Y1(rg,{forceMount:void 0}),e2=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,l=gs(rg,e);return a.jsx(cM,{scope:e,forceMount:r,children:w.Children.map(n,c=>a.jsx(ui,{present:r||l.open,children:a.jsx(af,{asChild:!0,container:i,children:c})}))})};e2.displayName=rg;var zd="DialogOverlay",t2=w.forwardRef((t,e)=>{const r=Z1(zd,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,l=gs(zd,t.__scopeDialog);return l.modal?a.jsx(ui,{present:n||l.open,children:a.jsx(dM,{...i,ref:e})}):null});t2.displayName=zd;var uM=Mo("DialogOverlay.RemoveScroll"),dM=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=gs(zd,r);return a.jsx(cf,{as:uM,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(ot.div,{"data-state":sg(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Oo="DialogContent",r2=w.forwardRef((t,e)=>{const r=Z1(Oo,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,l=gs(Oo,t.__scopeDialog);return a.jsx(ui,{present:n||l.open,children:l.modal?a.jsx(fM,{...i,ref:e}):a.jsx(hM,{...i,ref:e})})});r2.displayName=Oo;var fM=w.forwardRef((t,e)=>{const r=gs(Oo,t.__scopeDialog),n=w.useRef(null),i=Lt(e,r.contentRef,n);return w.useEffect(()=>{const l=n.current;if(l)return Xp(l)},[]),a.jsx(n2,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:De(t.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:De(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&l.preventDefault()}),onFocusOutside:De(t.onFocusOutside,l=>l.preventDefault())})}),hM=w.forwardRef((t,e)=>{const r=gs(Oo,t.__scopeDialog),n=w.useRef(!1),i=w.useRef(!1);return a.jsx(n2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,u;(c=t.onCloseAutoFocus)==null||c.call(t,l),l.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),l.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:l=>{var f,h;(f=t.onInteractOutside)==null||f.call(t,l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=l.target;((h=r.triggerRef.current)==null?void 0:h.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),n2=w.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:l,...c}=t,u=gs(Oo,r),f=w.useRef(null),h=Lt(e,f);return $p(),a.jsxs(a.Fragment,{children:[a.jsx(tf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:l,children:a.jsx(ef,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":sg(u.open),...c,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(pM,{titleId:u.titleId}),a.jsx(vM,{contentRef:f,descriptionId:u.descriptionId})]})]})}),ng="DialogTitle",s2=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=gs(ng,r);return a.jsx(ot.h2,{id:i.titleId,...n,ref:e})});s2.displayName=ng;var i2="DialogDescription",mM=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=gs(i2,r);return a.jsx(ot.p,{id:i.descriptionId,...n,ref:e})});mM.displayName=i2;var o2="DialogClose",a2=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=gs(o2,r);return a.jsx(ot.button,{type:"button",...n,ref:e,onClick:De(t.onClick,()=>i.onOpenChange(!1))})});a2.displayName=o2;function sg(t){return t?"open":"closed"}var l2="DialogTitleWarning",[T6,c2]=sj(l2,{contentName:Oo,titleName:ng,docsSlug:"dialog"}),pM=({titleId:t})=>{const e=c2(l2),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},gM="DialogDescriptionWarning",vM=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${c2(gM).contentName}}.`;return w.useEffect(()=>{var l;const i=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},u2=Q1,d2=X1,f2=e2,h2=t2,m2=r2,p2=s2,g2=a2;function yM({...t}){return a.jsx(u2,{"data-slot":"sheet",...t})}function xM({...t}){return a.jsx(d2,{"data-slot":"sheet-trigger",...t})}function bM({...t}){return a.jsx(g2,{"data-slot":"sheet-close",...t})}function wM({...t}){return a.jsx(f2,{"data-slot":"sheet-portal",...t})}function kM({className:t,...e}){return a.jsx(h2,{"data-slot":"sheet-overlay",className:Ct("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function NM({className:t,children:e,side:r="right",...n}){return a.jsxs(wM,{children:[a.jsx(kM,{}),a.jsx(m2,{"data-slot":"sheet-content",className:Ct("bg-background text-foreground data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l border-border sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r border-border sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b border-border",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t border-border",t),...n,children:e})]})}function EM({className:t,...e}){return a.jsx("div",{"data-slot":"sheet-header",className:Ct("flex flex-col gap-1.5 p-4",t),...e})}function CM({className:t,...e}){return a.jsx(p2,{"data-slot":"sheet-title",className:Ct("text-foreground font-semibold text-lg",t),...e})}const AM=()=>{const{connected:t,address:e,formatAddress:r,disconnect:n,connectWallet:i}=Qt(),{theme:l,cycleTheme:c,getCurrentTheme:u}=bw(),{isMobile:f,isInitialized:h}=Nr(),p=Uo(),[y,k]=w.useState(!1),[g,S]=w.useState(!1),{searchResults:N,searchLoading:A,search:P,clearSearch:z}=nM(),[L,$]=w.useState(""),U=w.useRef(null),W=w.useRef(null);w.useEffect(()=>{if(!g||!(L!=null&&L.trim())){z();return}const X=setTimeout(()=>{P(L)},300);return()=>clearTimeout(X)},[L,g,P,z]),w.useEffect(()=>{if(!g)return;const X=H=>{W.current&&!W.current.contains(H.target)&&(S(!1),$(""),z())};return document.addEventListener("mousedown",X),document.addEventListener("touchstart",X),()=>{document.removeEventListener("mousedown",X),document.removeEventListener("touchstart",X)}},[g,z]);const V=async()=>{try{await i("metamask"),k(!1)}catch(X){console.error("Failed to connect wallet:",X)}},J=X=>{p(`/raffle/${X}`),S(!1),$(""),z()},re=()=>{S(!g),g?($(""),z()):setTimeout(()=>{U.current&&U.current.focus()},200)};if(!h||!f)return null;const Q=[{name:"Create Raffle",href:"/create-raffle",icon:""},{name:"Profile",href:"/profile",icon:""}];return f?a.jsxs(a.Fragment,{children:[a.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md border-b border-border/50",children:[a.jsxs("div",{className:"flex items-center justify-between h-14 px-4",children:[a.jsx(Hl,{to:"/",className:"flex items-center",children:a.jsx("span",{className:"text-lg font-bold text-foreground",style:{fontFamily:"Orbitron, monospace"},children:"Rafflhub"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Be,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:re,children:a.jsx(Ba,{className:"h-4 w-4"})}),a.jsxs(yM,{open:y,onOpenChange:k,children:[a.jsx(xM,{asChild:!0,children:a.jsx(Be,{variant:"ghost",size:"icon",className:"h-9 w-9",children:a.jsx(XP,{className:"h-4 w-4"})})}),a.jsxs(NM,{side:"right",className:"w-80 p-0 bg-background",children:[a.jsx(EM,{className:"p-3 border-b border-border",children:a.jsx(CM,{className:"text-left text-foreground text-base",children:"Menu"})}),a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:"p-3 border-b border-border",children:t?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(np,{className:"h-3 w-3 text-primary"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs font-medium text-foreground",children:"Connected"}),a.jsx("p",{className:"text-xs text-muted-foreground font-mono truncate",children:r(e)})]})]}),a.jsx(Be,{variant:"outline",size:"sm",onClick:n,className:"w-full text-foreground h-8",children:"Disconnect"})]}):a.jsxs(Be,{onClick:V,className:"w-full bg-foreground text-background hover:bg-foreground/90 h-8",children:[a.jsx(np,{className:"h-3 w-3 mr-2"}),"Connect Wallet"]})}),a.jsx("div",{className:"p-3",children:a.jsx("div",{className:"space-y-1",children:Q.map(X=>a.jsxs(Hl,{to:X.href,onClick:()=>k(!1),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-muted transition-colors text-foreground hover:text-foreground",children:[a.jsx("span",{className:"text-base",children:X.icon}),a.jsx("span",{className:"text-sm font-medium text-foreground",children:X.name})]},X.href))})}),a.jsxs("div",{className:"p-3 border-t border-border space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs font-medium text-foreground",children:"Theme"}),a.jsxs(Be,{variant:"outline",size:"sm",onClick:c,className:"h-7 w-7 p-0 border-border text-foreground hover:bg-muted",children:[u().icon==="Sun"&&a.jsx(Ew,{className:"h-3 w-3"}),u().icon==="Moon"&&a.jsx(kw,{className:"h-3 w-3"}),u().icon==="Waves"&&a.jsx(Sw,{className:"h-3 w-3"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs font-medium text-foreground",children:"Network"}),a.jsx(K1,{})]}),a.jsx("div",{className:"pt-2",children:a.jsxs(bM,{className:"w-full flex items-center justify-center gap-2 p-2 rounded-lg hover:bg-muted transition-colors text-foreground",children:[a.jsx(Ua,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Close Menu"})]})})]})]})]})]})]})]}),g&&a.jsx("div",{ref:W,className:"px-4 pb-3 border-t border-border/50 animate-in slide-in-from-top-2 duration-200",children:a.jsxs("div",{className:"relative",children:[a.jsx(Ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx("input",{ref:U,type:"text",placeholder:"Search raffle name or address...",value:L,onChange:X=>$(X.target.value),className:"w-full h-12 pl-10 pr-4 bg-muted/50 border border-border rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",autoFocus:!0}),g&&L&&a.jsxs("div",{className:"absolute left-0 right-0 top-full mt-2 z-50 bg-popover/95 backdrop-blur-md border border-border/50 rounded-xl max-h-60 overflow-y-auto shadow-xl",children:[A&&a.jsx("div",{className:"p-3 text-muted-foreground text-sm text-center",children:"Searching..."}),!A&&N.length>0&&a.jsx(a.Fragment,{children:N.map(X=>a.jsxs("div",{className:"px-4 py-3 hover:bg-muted cursor-pointer border-b border-border/20 last:border-b-0",onClick:()=>J(X.address),children:[a.jsx("div",{className:"font-semibold text-foreground text-sm mb-1",children:X.name}),a.jsx("div",{className:"text-xs text-muted-foreground font-mono truncate",title:X.address,children:X.address})]},X.address))}),!A&&L&&N.length===0&&a.jsxs("div",{className:"p-4 text-muted-foreground text-sm text-center",children:['No raffles found matching "',L,'"']})]})]})})]}),a.jsx("div",{className:"h-14"})]}):null};class SM extends be.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Mobile component error:",e,r)}render(){return this.state.hasError?a.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md border-b border-border/50",children:a.jsxs("div",{className:"flex items-center justify-between h-14 px-4",children:[a.jsx("div",{className:"text-lg font-bold text-foreground",style:{fontFamily:"Orbitron, monospace"},children:"Rafflhub"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Mobile Menu"})]})}):this.props.children}}var Um="rovingFocusGroup.onEntryFocus",TM={bubbles:!1,cancelable:!0},Tc="RovingFocusGroup",[pp,v2,PM]=Up(Tc),[jM,mf]=ci(Tc,[PM]),[RM,MM]=jM(Tc),y2=w.forwardRef((t,e)=>a.jsx(pp.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(pp.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(_M,{...t,ref:e})})}));y2.displayName=Tc;var _M=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...y}=t,k=w.useRef(null),g=Lt(e,k),S=Zd(l),[N,A]=Io({prop:c,defaultProp:u??null,onChange:f,caller:Tc}),[P,z]=w.useState(!1),L=Is(h),$=v2(r),U=w.useRef(!1),[W,V]=w.useState(0);return w.useEffect(()=>{const J=k.current;if(J)return J.addEventListener(Um,L),()=>J.removeEventListener(Um,L)},[L]),a.jsx(RM,{scope:r,orientation:n,dir:S,loop:i,currentTabStopId:N,onItemFocus:w.useCallback(J=>A(J),[A]),onItemShiftTab:w.useCallback(()=>z(!0),[]),onFocusableItemAdd:w.useCallback(()=>V(J=>J+1),[]),onFocusableItemRemove:w.useCallback(()=>V(J=>J-1),[]),children:a.jsx(ot.div,{tabIndex:P||W===0?-1:0,"data-orientation":n,...y,ref:g,style:{outline:"none",...t.style},onMouseDown:De(t.onMouseDown,()=>{U.current=!0}),onFocus:De(t.onFocus,J=>{const re=!U.current;if(J.target===J.currentTarget&&re&&!P){const Q=new CustomEvent(Um,TM);if(J.currentTarget.dispatchEvent(Q),!Q.defaultPrevented){const X=$().filter(R=>R.focusable),H=X.find(R=>R.active),I=X.find(R=>R.id===N),C=[H,I,...X].filter(Boolean).map(R=>R.ref.current);w2(C,p)}}U.current=!1}),onBlur:De(t.onBlur,()=>z(!1))})})}),x2="RovingFocusGroupItem",b2=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:l,children:c,...u}=t,f=Rs(),h=l||f,p=MM(x2,r),y=p.currentTabStopId===h,k=v2(r),{onFocusableItemAdd:g,onFocusableItemRemove:S,currentTabStopId:N}=p;return w.useEffect(()=>{if(n)return g(),()=>S()},[n,g,S]),a.jsx(pp.ItemSlot,{scope:r,id:h,focusable:n,active:i,children:a.jsx(ot.span,{tabIndex:y?0:-1,"data-orientation":p.orientation,...u,ref:e,onMouseDown:De(t.onMouseDown,A=>{n?p.onItemFocus(h):A.preventDefault()}),onFocus:De(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:De(t.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){p.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const P=zM(A,p.orientation,p.dir);if(P!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let L=k().filter($=>$.focusable).map($=>$.ref.current);if(P==="last")L.reverse();else if(P==="prev"||P==="next"){P==="prev"&&L.reverse();const $=L.indexOf(A.currentTarget);L=p.loop?OM(L,$+1):L.slice($+1)}setTimeout(()=>w2(L))}}),children:typeof c=="function"?c({isCurrentTabStop:y,hasTabStop:N!=null}):c})})});b2.displayName=x2;var IM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function DM(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function zM(t,e,r){const n=DM(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return IM[n]}function w2(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function OM(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var k2=y2,N2=b2,gp=["Enter"," "],LM=["ArrowDown","PageUp","Home"],E2=["ArrowUp","PageDown","End"],FM=[...LM,...E2],BM={ltr:[...gp,"ArrowRight"],rtl:[...gp,"ArrowLeft"]},UM={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Pc="Menu",[pc,$M,WM]=Up(Pc),[qo,C2]=ci(Pc,[WM,of,mf]),pf=of(),A2=mf(),[HM,Vo]=qo(Pc),[qM,jc]=qo(Pc),S2=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:l,modal:c=!0}=t,u=pf(e),[f,h]=w.useState(null),p=w.useRef(!1),y=Is(l),k=Zd(i);return w.useEffect(()=>{const g=()=>{p.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>p.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),a.jsx(t1,{...u,children:a.jsx(HM,{scope:e,open:r,onOpenChange:y,content:f,onContentChange:h,children:a.jsx(qM,{scope:e,onClose:w.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:p,dir:k,modal:c,children:n})})})};S2.displayName=Pc;var VM="MenuAnchor",ig=w.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=pf(r);return a.jsx(r1,{...i,...n,ref:e})});ig.displayName=VM;var og="MenuPortal",[GM,T2]=qo(og,{forceMount:void 0}),P2=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,l=Vo(og,e);return a.jsx(GM,{scope:e,forceMount:r,children:a.jsx(ui,{present:r||l.open,children:a.jsx(af,{asChild:!0,container:i,children:n})})})};P2.displayName=og;var Vn="MenuContent",[KM,ag]=qo(Vn),j2=w.forwardRef((t,e)=>{const r=T2(Vn,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,l=Vo(Vn,t.__scopeMenu),c=jc(Vn,t.__scopeMenu);return a.jsx(pc.Provider,{scope:t.__scopeMenu,children:a.jsx(ui,{present:n||l.open,children:a.jsx(pc.Slot,{scope:t.__scopeMenu,children:c.modal?a.jsx(YM,{...i,ref:e}):a.jsx(QM,{...i,ref:e})})})})}),YM=w.forwardRef((t,e)=>{const r=Vo(Vn,t.__scopeMenu),n=w.useRef(null),i=Lt(e,n);return w.useEffect(()=>{const l=n.current;if(l)return Xp(l)},[]),a.jsx(lg,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:De(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),QM=w.forwardRef((t,e)=>{const r=Vo(Vn,t.__scopeMenu);return a.jsx(lg,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),JM=Mo("MenuContent.ScrollLock"),lg=w.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:f,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:y,onInteractOutside:k,onDismiss:g,disableOutsideScroll:S,...N}=t,A=Vo(Vn,r),P=jc(Vn,r),z=pf(r),L=A2(r),$=$M(r),[U,W]=w.useState(null),V=w.useRef(null),J=Lt(e,V,A.onContentChange),re=w.useRef(0),Q=w.useRef(""),X=w.useRef(0),H=w.useRef(null),I=w.useRef("right"),v=w.useRef(0),C=S?cf:w.Fragment,R=S?{as:JM,allowPinchZoom:!0}:void 0,_=D=>{var q,Y;const O=Q.current+D,T=$().filter(ie=>!ie.disabled),b=document.activeElement,B=(q=T.find(ie=>ie.ref.current===b))==null?void 0:q.textValue,te=T.map(ie=>ie.textValue),M=c_(te,O,B),K=(Y=T.find(ie=>ie.textValue===M))==null?void 0:Y.ref.current;(function ie(ue){Q.current=ue,window.clearTimeout(re.current),ue!==""&&(re.current=window.setTimeout(()=>ie(""),1e3))})(O),K&&setTimeout(()=>K.focus())};w.useEffect(()=>()=>window.clearTimeout(re.current),[]),$p();const j=w.useCallback(D=>{var T,b;return I.current===((T=H.current)==null?void 0:T.side)&&d_(D,(b=H.current)==null?void 0:b.area)},[]);return a.jsx(KM,{scope:r,searchRef:Q,onItemEnter:w.useCallback(D=>{j(D)&&D.preventDefault()},[j]),onItemLeave:w.useCallback(D=>{var O;j(D)||((O=V.current)==null||O.focus(),W(null))},[j]),onTriggerLeave:w.useCallback(D=>{j(D)&&D.preventDefault()},[j]),pointerGraceTimerRef:X,onPointerGraceIntentChange:w.useCallback(D=>{H.current=D},[]),children:a.jsx(C,{...R,children:a.jsx(tf,{asChild:!0,trapped:i,onMountAutoFocus:De(l,D=>{var O;D.preventDefault(),(O=V.current)==null||O.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:a.jsx(ef,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:y,onInteractOutside:k,onDismiss:g,children:a.jsx(k2,{asChild:!0,...L,dir:P.dir,orientation:"vertical",loop:n,currentTabStopId:U,onCurrentTabStopIdChange:W,onEntryFocus:De(f,D=>{P.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(n1,{role:"menu","aria-orientation":"vertical","data-state":V2(A.open),"data-radix-menu-content":"",dir:P.dir,...z,...N,ref:J,style:{outline:"none",...N.style},onKeyDown:De(N.onKeyDown,D=>{const T=D.target.closest("[data-radix-menu-content]")===D.currentTarget,b=D.ctrlKey||D.altKey||D.metaKey,B=D.key.length===1;T&&(D.key==="Tab"&&D.preventDefault(),!b&&B&&_(D.key));const te=V.current;if(D.target!==te||!FM.includes(D.key))return;D.preventDefault();const K=$().filter(q=>!q.disabled).map(q=>q.ref.current);E2.includes(D.key)&&K.reverse(),a_(K)}),onBlur:De(t.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(re.current),Q.current="")}),onPointerMove:De(t.onPointerMove,gc(D=>{const O=D.target,T=v.current!==D.clientX;if(D.currentTarget.contains(O)&&T){const b=D.clientX>v.current?"right":"left";I.current=b,v.current=D.clientX}}))})})})})})})});j2.displayName=Vn;var XM="MenuGroup",cg=w.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(ot.div,{role:"group",...n,ref:e})});cg.displayName=XM;var ZM="MenuLabel",R2=w.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(ot.div,{...n,ref:e})});R2.displayName=ZM;var Od="MenuItem",eb="menu.itemSelect",gf=w.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,l=w.useRef(null),c=jc(Od,t.__scopeMenu),u=ag(Od,t.__scopeMenu),f=Lt(e,l),h=w.useRef(!1),p=()=>{const y=l.current;if(!r&&y){const k=new CustomEvent(eb,{bubbles:!0,cancelable:!0});y.addEventListener(eb,g=>n==null?void 0:n(g),{once:!0}),Pw(y,k),k.defaultPrevented?h.current=!1:c.onClose()}};return a.jsx(M2,{...i,ref:f,disabled:r,onClick:De(t.onClick,p),onPointerDown:y=>{var k;(k=t.onPointerDown)==null||k.call(t,y),h.current=!0},onPointerUp:De(t.onPointerUp,y=>{var k;h.current||(k=y.currentTarget)==null||k.click()}),onKeyDown:De(t.onKeyDown,y=>{const k=u.searchRef.current!=="";r||k&&y.key===" "||gp.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});gf.displayName=Od;var M2=w.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...l}=t,c=ag(Od,r),u=A2(r),f=w.useRef(null),h=Lt(e,f),[p,y]=w.useState(!1),[k,g]=w.useState("");return w.useEffect(()=>{const S=f.current;S&&g((S.textContent??"").trim())},[l.children]),a.jsx(pc.ItemSlot,{scope:r,disabled:n,textValue:i??k,children:a.jsx(N2,{asChild:!0,...u,focusable:!n,children:a.jsx(ot.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...l,ref:h,onPointerMove:De(t.onPointerMove,gc(S=>{n?c.onItemLeave(S):(c.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:De(t.onPointerLeave,gc(S=>c.onItemLeave(S))),onFocus:De(t.onFocus,()=>y(!0)),onBlur:De(t.onBlur,()=>y(!1))})})})}),e_="MenuCheckboxItem",_2=w.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return a.jsx(L2,{scope:t.__scopeMenu,checked:r,children:a.jsx(gf,{role:"menuitemcheckbox","aria-checked":Ld(r)?"mixed":r,...i,ref:e,"data-state":dg(r),onSelect:De(i.onSelect,()=>n==null?void 0:n(Ld(r)?!0:!r),{checkForDefaultPrevented:!1})})})});_2.displayName=e_;var I2="MenuRadioGroup",[t_,r_]=qo(I2,{value:void 0,onValueChange:()=>{}}),D2=w.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,l=Is(n);return a.jsx(t_,{scope:t.__scopeMenu,value:r,onValueChange:l,children:a.jsx(cg,{...i,ref:e})})});D2.displayName=I2;var z2="MenuRadioItem",O2=w.forwardRef((t,e)=>{const{value:r,...n}=t,i=r_(z2,t.__scopeMenu),l=r===i.value;return a.jsx(L2,{scope:t.__scopeMenu,checked:l,children:a.jsx(gf,{role:"menuitemradio","aria-checked":l,...n,ref:e,"data-state":dg(l),onSelect:De(n.onSelect,()=>{var c;return(c=i.onValueChange)==null?void 0:c.call(i,r)},{checkForDefaultPrevented:!1})})})});O2.displayName=z2;var ug="MenuItemIndicator",[L2,n_]=qo(ug,{checked:!1}),F2=w.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,l=n_(ug,r);return a.jsx(ui,{present:n||Ld(l.checked)||l.checked===!0,children:a.jsx(ot.span,{...i,ref:e,"data-state":dg(l.checked)})})});F2.displayName=ug;var s_="MenuSeparator",B2=w.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(ot.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});B2.displayName=s_;var i_="MenuArrow",U2=w.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=pf(r);return a.jsx(s1,{...i,...n,ref:e})});U2.displayName=i_;var o_="MenuSub",[P6,$2]=qo(o_),Wl="MenuSubTrigger",W2=w.forwardRef((t,e)=>{const r=Vo(Wl,t.__scopeMenu),n=jc(Wl,t.__scopeMenu),i=$2(Wl,t.__scopeMenu),l=ag(Wl,t.__scopeMenu),c=w.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:f}=l,h={__scopeMenu:t.__scopeMenu},p=w.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return w.useEffect(()=>p,[p]),w.useEffect(()=>{const y=u.current;return()=>{window.clearTimeout(y),f(null)}},[u,f]),a.jsx(ig,{asChild:!0,...h,children:a.jsx(M2,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":V2(r.open),...t,ref:Xd(e,i.onTriggerChange),onClick:y=>{var k;(k=t.onClick)==null||k.call(t,y),!(t.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:De(t.onPointerMove,gc(y=>{l.onItemEnter(y),!y.defaultPrevented&&!t.disabled&&!r.open&&!c.current&&(l.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{r.onOpenChange(!0),p()},100))})),onPointerLeave:De(t.onPointerLeave,gc(y=>{var g,S;p();const k=(g=r.content)==null?void 0:g.getBoundingClientRect();if(k){const N=(S=r.content)==null?void 0:S.dataset.side,A=N==="right",P=A?-5:5,z=k[A?"left":"right"],L=k[A?"right":"left"];l.onPointerGraceIntentChange({area:[{x:y.clientX+P,y:y.clientY},{x:z,y:k.top},{x:L,y:k.top},{x:L,y:k.bottom},{x:z,y:k.bottom}],side:N}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(y),y.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:De(t.onKeyDown,y=>{var g;const k=l.searchRef.current!=="";t.disabled||k&&y.key===" "||BM[n.dir].includes(y.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),y.preventDefault())})})})});W2.displayName=Wl;var H2="MenuSubContent",q2=w.forwardRef((t,e)=>{const r=T2(Vn,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,l=Vo(Vn,t.__scopeMenu),c=jc(Vn,t.__scopeMenu),u=$2(H2,t.__scopeMenu),f=w.useRef(null),h=Lt(e,f);return a.jsx(pc.Provider,{scope:t.__scopeMenu,children:a.jsx(ui,{present:n||l.open,children:a.jsx(pc.Slot,{scope:t.__scopeMenu,children:a.jsx(lg,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:h,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var y;c.isUsingKeyboardRef.current&&((y=f.current)==null||y.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:De(t.onFocusOutside,p=>{p.target!==u.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:De(t.onEscapeKeyDown,p=>{c.onClose(),p.preventDefault()}),onKeyDown:De(t.onKeyDown,p=>{var g;const y=p.currentTarget.contains(p.target),k=UM[c.dir].includes(p.key);y&&k&&(l.onOpenChange(!1),(g=u.trigger)==null||g.focus(),p.preventDefault())})})})})})});q2.displayName=H2;function V2(t){return t?"open":"closed"}function Ld(t){return t==="indeterminate"}function dg(t){return Ld(t)?"indeterminate":t?"checked":"unchecked"}function a_(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function l_(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function c_(t,e,r){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,l=r?t.indexOf(r):-1;let c=l_(t,Math.max(l,0));i.length===1&&(c=c.filter(h=>h!==r));const f=c.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return f!==r?f:void 0}function u_(t,e){const{x:r,y:n}=t;let i=!1;for(let l=0,c=e.length-1;l<e.length;c=l++){const u=e[l],f=e[c],h=u.x,p=u.y,y=f.x,k=f.y;p>n!=k>n&&r<(y-h)*(n-p)/(k-p)+h&&(i=!i)}return i}function d_(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return u_(r,e)}function gc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var f_=S2,h_=ig,m_=P2,p_=j2,g_=cg,v_=R2,y_=gf,x_=_2,b_=D2,w_=O2,k_=F2,N_=B2,E_=U2,C_=W2,A_=q2,vf="DropdownMenu",[S_,j6]=ci(vf,[C2]),nn=C2(),[T_,G2]=S_(vf),K2=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:l,onOpenChange:c,modal:u=!0}=t,f=nn(e),h=w.useRef(null),[p,y]=Io({prop:i,defaultProp:l??!1,onChange:c,caller:vf});return a.jsx(T_,{scope:e,triggerId:Rs(),triggerRef:h,contentId:Rs(),open:p,onOpenChange:y,onOpenToggle:w.useCallback(()=>y(k=>!k),[y]),modal:u,children:a.jsx(f_,{...f,open:p,onOpenChange:y,dir:n,modal:u,children:r})})};K2.displayName=vf;var Y2="DropdownMenuTrigger",Q2=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,l=G2(Y2,r),c=nn(r);return a.jsx(h_,{asChild:!0,...c,children:a.jsx(ot.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:Xd(e,l.triggerRef),onPointerDown:De(t.onPointerDown,u=>{!n&&u.button===0&&u.ctrlKey===!1&&(l.onOpenToggle(),l.open||u.preventDefault())}),onKeyDown:De(t.onKeyDown,u=>{n||(["Enter"," "].includes(u.key)&&l.onOpenToggle(),u.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});Q2.displayName=Y2;var P_="DropdownMenuPortal",J2=t=>{const{__scopeDropdownMenu:e,...r}=t,n=nn(e);return a.jsx(m_,{...n,...r})};J2.displayName=P_;var X2="DropdownMenuContent",Z2=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=G2(X2,r),l=nn(r),c=w.useRef(!1);return a.jsx(p_,{id:i.contentId,"aria-labelledby":i.triggerId,...l,...n,ref:e,onCloseAutoFocus:De(t.onCloseAutoFocus,u=>{var f;c.current||(f=i.triggerRef.current)==null||f.focus(),c.current=!1,u.preventDefault()}),onInteractOutside:De(t.onInteractOutside,u=>{const f=u.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,p=f.button===2||h;(!i.modal||p)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Z2.displayName=X2;var j_="DropdownMenuGroup",R_=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=nn(r);return a.jsx(g_,{...i,...n,ref:e})});R_.displayName=j_;var M_="DropdownMenuLabel",__=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=nn(r);return a.jsx(v_,{...i,...n,ref:e})});__.displayName=M_;var I_="DropdownMenuItem",ek=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=nn(r);return a.jsx(y_,{...i,...n,ref:e})});ek.displayName=I_;var D_="DropdownMenuCheckboxItem",z_=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=nn(r);return a.jsx(x_,{...i,...n,ref:e})});z_.displayName=D_;var O_="DropdownMenuRadioGroup",L_=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=nn(r);return a.jsx(b_,{...i,...n,ref:e})});L_.displayName=O_;var F_="DropdownMenuRadioItem",B_=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=nn(r);return a.jsx(w_,{...i,...n,ref:e})});B_.displayName=F_;var U_="DropdownMenuItemIndicator",$_=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=nn(r);return a.jsx(k_,{...i,...n,ref:e})});$_.displayName=U_;var W_="DropdownMenuSeparator",H_=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=nn(r);return a.jsx(N_,{...i,...n,ref:e})});H_.displayName=W_;var q_="DropdownMenuArrow",V_=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=nn(r);return a.jsx(E_,{...i,...n,ref:e})});V_.displayName=q_;var G_="DropdownMenuSubTrigger",K_=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=nn(r);return a.jsx(C_,{...i,...n,ref:e})});K_.displayName=G_;var Y_="DropdownMenuSubContent",Q_=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=nn(r);return a.jsx(A_,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Q_.displayName=Y_;var J_=K2,X_=Q2,Z_=J2,e4=Z2,t4=ek;function r4({...t}){return a.jsx(J_,{"data-slot":"dropdown-menu",...t})}function n4({...t}){return a.jsx(X_,{"data-slot":"dropdown-menu-trigger",...t})}function s4({className:t,sideOffset:e=4,...r}){return a.jsx(Z_,{children:a.jsx(e4,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Ct("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...r})})}function $m({className:t,inset:e,variant:r="default",...n}){return a.jsx(t4,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":r,className:Ct("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}const i4=()=>{const{connected:t,address:e,formatAddress:r,disconnect:n,connectWallet:i,provider:l,chainId:c}=Qt(),{contracts:u,getContractInstance:f}=or(),{theme:h,cycleTheme:p,getCurrentTheme:y}=bw(),{isMobile:k,isInitialized:g}=Nr(),[S,N]=w.useState(!1);if(!g)return a.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md border-b border-border/50",children:a.jsx("div",{className:"flex items-center justify-between h-16 px-4",children:a.jsx("div",{className:"text-lg font-bold text-foreground",style:{fontFamily:"Orbitron, monospace"},children:"Rafflhub"})})});if(k)return a.jsx(SM,{children:a.jsx(AM,{})});const A=async()=>{try{await i("metamask")}catch(j){console.error("Failed to connect wallet:",j)}},[P,z]=w.useState(""),[L,$]=w.useState([]),[U,W]=w.useState(!1),[V,J]=w.useState([]),re=w.useRef(null),Q=Uo(),[X,H]=w.useState(!1),[I,v]=w.useState(!1),C=w.useRef(null),R=w.useRef(!1);w.useEffect(()=>{const j=D=>{S&&re.current&&!re.current.contains(D.target)&&!X&&(N(!1),z(""),$([]))};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[S,X]),w.useEffect(()=>{(async()=>{if(!(!l||!c||!zr[c])&&!R.current)try{const D=zr[c].contractAddresses.raffleManager;if(!D){J([]),R.current=!0;return}const T=await new Wt(D,qt.raffleManager,l).getAllRaffles();if(!T||T.length===0){J([]),R.current=!0;return}const b=T.map(async M=>{try{if(!l)return null;const q=await new Wt(M,qt.raffle,l).name();return{address:M,name:q}}catch{return null}}),te=(await Promise.all(b)).filter(M=>M);J(te),R.current=!0}catch{J([]),R.current=!0}})()},[l,c]),w.useEffect(()=>{},[V]),w.useEffect(()=>{if(!S||!P){$([]);return}W(!0);const j=setTimeout(()=>{const D=P.trim().toLowerCase(),O=V.filter(T=>(T.name||"").trim().toLowerCase().includes(D)||(T.address||"").trim().toLowerCase()===D||(T.address||"").trim().toLowerCase().includes(D));$(O),W(!1)},300);return()=>clearTimeout(j)},[P,S,V]);const _=j=>{Q(`/raffle/${j}`),setTimeout(()=>{N(!1),z(""),$([])},150)};return w.useEffect(()=>{if(!S)return;function j(D){C.current&&!C.current.contains(D.target)&&(N(!1),v(!1))}return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[S]),w.useEffect(()=>{R.current=!1},[l,c]),a.jsx(a.Fragment,{children:a.jsx("header",{className:"relative w-full z-50 bg-background/80 backdrop-blur-md border-b border-border/50",children:a.jsx("div",{className:"w-full px-0 py-0",children:a.jsx("div",{className:"bg-background/80 backdrop-blur-md border-b border-border/50 w-full",children:a.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[a.jsx("div",{className:"flex items-center gap-3",children:a.jsx(Hl,{to:"/",className:"flex items-center gap-3",children:a.jsx("span",{className:"text-xl font-bold text-foreground",style:{fontFamily:"Orbitron, monospace"},children:"Rafflhub"})})}),a.jsxs("div",{className:"flex items-center gap-4 w-full justify-end",children:[a.jsxs("div",{className:"flex items-center transition-all duration-300",style:{minWidth:"40px",marginRight:"0.5rem"},children:[a.jsx("button",{className:`p-2 hover:bg-muted rounded-md transition-colors text-lg ${S?"mr-2":""}`,onClick:()=>{N(j=>(j?v(!1):setTimeout(()=>{v(!0),re.current&&re.current.focus()},300),!j))},children:a.jsx(Ba,{className:"h-5 w-5"})}),a.jsxs("div",{ref:C,className:"overflow-visible transition-all duration-300 rounded-md bg-background",style:{width:S?"16rem":"0",marginLeft:"0",position:"relative",display:"inline-block",verticalAlign:"middle",overflow:"visible"},children:[a.jsx("input",{ref:re,type:"text",className:`transition-all duration-300 px-3 py-2 rounded-md bg-background text-sm ${I?"focus:outline-none focus:ring-2 focus:ring-primary border border-border":"border-0 outline-none shadow-none"} ${S?"w-64 opacity-100":"w-0 opacity-0 overflow-hidden"}`,style:{minWidth:S?"16rem":"0",maxWidth:S?"16rem":"0",boxSizing:"border-box",border:I?void 0:"none",outline:I?void 0:"none",boxShadow:I?void 0:"none",visibility:S?"visible":"hidden",pointerEvents:I?"auto":"none"},placeholder:"Search raffle name or address...",value:P,onChange:j=>{const D=j.target.value;z(D)},autoFocus:I}),S&&a.jsxs("div",{className:"absolute left-0 top-full mt-1 z-50 w-full",style:{boxSizing:"border-box",position:"absolute",top:"100%",left:0,right:0,zIndex:9999},onMouseEnter:()=>H(!0),onMouseLeave:()=>H(!1),children:[U&&a.jsx("div",{className:"p-2 text-muted-foreground text-xs bg-muted border border-border rounded",children:"Searching..."}),!U&&L.length>0&&a.jsx("div",{className:"bg-popover/90 backdrop-blur-md border border-border/50 rounded-xl max-h-60 overflow-y-auto shadow-xl custom-search-scrollbar",style:{overflowX:"hidden"},children:L.map(j=>a.jsxs("div",{className:"px-3 py-2 hover:bg-muted cursor-pointer text-sm border-b border-border/20",onMouseDown:()=>_(j.address),children:[a.jsx("div",{className:"font-semibold text-foreground",children:j.name}),a.jsx("div",{className:"text-xs text-muted-foreground font-mono",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block",maxWidth:"100%"},title:j.address,children:j.address})]},j.address))}),!U&&P&&L.length===0&&a.jsx("div",{className:"p-2 text-muted-foreground text-xs bg-muted border border-border rounded",children:"No results found."})]})]})]}),a.jsxs("button",{onClick:p,className:"p-2 hover:bg-muted rounded-md transition-colors",title:`Current: ${y().name} - Click to cycle themes`,children:[y().icon==="Sun"&&a.jsx(Ew,{className:"h-5 w-5"}),y().icon==="Moon"&&a.jsx(kw,{className:"h-5 w-5"}),y().icon==="Waves"&&a.jsx(Sw,{className:"h-5 w-5"})]}),a.jsx(K1,{}),t?a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted rounded-md text-sm font-medium",children:[a.jsx("span",{children:r(e)}),a.jsx("button",{onClick:n,title:"Disconnect Wallet",className:"hover:bg-destructive/10 rounded-full p-1 transition-colors",children:a.jsx(QP,{className:"h-4 w-4 text-destructive"})})]}):a.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-3 py-2 bg-foreground text-background rounded-md text-sm hover:bg-foreground/90 transition-colors",children:[a.jsx(np,{className:"h-4 w-4"}),a.jsx("span",{children:"Connect Wallet"})]}),a.jsxs(r4,{children:[a.jsx(n4,{asChild:!0,children:a.jsx("button",{className:"flex items-center gap-2 px-3 py-2 bg-muted rounded-md text-sm font-medium hover:bg-muted/80 transition-colors",children:"Menu"})}),a.jsxs(s4,{className:"w-56 bg-popover/90 backdrop-blur-md border border-border/50 mt-2 rounded-xl shadow-2xl py-2 z-40 ring-1 ring-border/20 flex flex-col",children:[a.jsx($m,{asChild:!0,children:a.jsxs("a",{href:"https://rafflhub.gitbook.io/rafflhub",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-primary/10 transition-colors rounded-lg",children:[a.jsx(VP,{className:"h-5 w-5"})," Docs"]})}),a.jsx($m,{asChild:!0,children:a.jsxs(Hl,{to:"/profile",className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-primary/10 transition-colors rounded-lg",children:[a.jsx(Aw,{className:"h-5 w-5"})," Profile"]})}),a.jsx($m,{asChild:!0,children:a.jsxs(Hl,{to:"/create-raffle",className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-primary/10 transition-colors rounded-lg",children:[a.jsx(Ui,{className:"h-5 w-5"})," Create Raffle"]})})]})]})]})]})})})})})},Co=({children:t,variant:e="default",className:r=""})=>{const{isMobile:n}=Nr(),l=(()=>{switch(e){case"narrow":return"mx-auto px-4 sm:px-6 md:px-8 lg:px-12 xl:px-20 2xl:px-32";case"wide":return"container mx-auto px-4 sm:px-6 md:px-8 lg:px-12 xl:px-16 2xl:px-20";case"profile":return n?"mx-auto px-4":"mx-auto px-2 sm:px-3 md:px-4 lg:px-6 xl:px-8 2xl:px-10";case"default":default:return n?"mx-auto px-4":"mx-auto px-2 sm:px-3 md:px-4 lg:px-6 xl:px-8 2xl:px-10"}})();return a.jsx("div",{className:`${l} ${r}`,children:t})},o4=()=>{const t=new Date().getFullYear();return a.jsx("footer",{className:"bg-background/80 backdrop-blur-md border-t border-border/50 mt-auto shrink-0",children:a.jsx("div",{className:"w-full px-6 sm:px-8 lg:px-12 py-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 w-full",children:[a.jsxs("div",{className:"text-sm text-muted-foreground sm:ml-0",children:[" ",t," Rafflhub. All rights reserved."]}),a.jsxs("div",{className:"flex items-center gap-4 sm:mr-0",children:[a.jsx("a",{href:"https://github.com/rafflhub",target:"_blank",rel:"noopener noreferrer",className:"p-2 text-muted-foreground hover:text-foreground transition-colors duration-200 hover:bg-muted rounded-md",title:"GitHub",children:a.jsx(KP,{className:"h-5 w-5"})}),a.jsx("a",{href:"https://twitter.com/rafflhub",target:"_blank",rel:"noopener noreferrer",className:"p-2 text-muted-foreground hover:text-foreground transition-colors duration-200 hover:bg-muted rounded-md",title:"Twitter",children:a.jsx(rj,{className:"h-5 w-5"})}),a.jsx("a",{href:"mailto:contact@rafflhub.com",className:"p-2 text-muted-foreground hover:text-foreground transition-colors duration-200 hover:bg-muted rounded-md",title:"Contact",children:a.jsx(JP,{className:"h-5 w-5"})})]})]})})})};function mr({className:t,...e}){return a.jsx("div",{"data-slot":"card",className:Ct("bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex flex-col gap-6 hover:border-border/80",t),...e})}function Zr({className:t,...e}){return a.jsx("div",{"data-slot":"card-header",className:Ct("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 py-4 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function en({className:t,...e}){return a.jsx("div",{"data-slot":"card-title",className:Ct("leading-none font-semibold",t),...e})}function _a({className:t,...e}){return a.jsx("div",{"data-slot":"card-description",className:Ct("text-muted-foreground text-sm",t),...e})}function pr({className:t,...e}){return a.jsx("div",{"data-slot":"card-content",className:Ct("px-6 py-6",t),...e})}class a4 extends be.Component{constructor(r){super(r);_u(this,"handleRetry",()=>{this.setState(r=>({hasError:!1,error:null,errorInfo:null,retryCount:r.retryCount+1}))});_u(this,"handleGoHome",()=>{window.location.href="/"});_u(this,"getBrowserSpecificErrorInfo",()=>{const{error:r,browserInfo:n}=this.state,i=(r==null?void 0:r.message)||(r==null?void 0:r.toString())||"Unknown error";if(i.includes("missing revert data")||i.includes("call exception")||i.includes("CALL_EXCEPTION"))return{title:"Network Connection Issue",message:`Your browser (${(n==null?void 0:n.name)||"unknown"}) is experiencing connectivity issues with the blockchain network.`,suggestions:["Check your internet connection","Try refreshing the page","Switch to a different network and back",(n==null?void 0:n.name)==="firefox"?"Firefox may need extra time - please be patient":"Try using Chrome for better compatibility"]};if(i.includes("MetaMask")||i.includes("wallet"))return{title:"Wallet Connection Issue",message:"There was a problem connecting to your wallet.",suggestions:["Make sure MetaMask is installed and unlocked","Try disconnecting and reconnecting your wallet","Refresh the page and try again"]};const l=["Refresh the page and try again"];return(n==null?void 0:n.name)==="firefox"?l.push("Firefox users may experience slower loading - please be patient"):(n==null?void 0:n.name)==="safari"?l.push("Safari users should ensure they have the latest version"):(n==null?void 0:n.name)==="edge"&&l.push("Edge users may need to clear browser cache"),n!=null&&n.isMobile&&l.push("Mobile users: ensure stable internet connection"),{title:"Something went wrong",message:"An unexpected error occurred while loading the application.",suggestions:l}});this.state={hasError:!1,error:null,errorInfo:null,retryCount:0,browserInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){const i=Dp();this.setState({error:r,errorInfo:n,browserInfo:i}),console.group(" Error Boundary Caught Error"),console.log("Browser:",i),console.log("Error:",r),console.log("Error Info:",n),console.groupEnd(),window.gtag&&window.gtag("event","exception",{description:r.toString(),fatal:!1,custom_parameters:{browser:i.name,browser_version:i.version,is_mobile:i.isMobile}})}render(){if(this.state.hasError){const{isMobile:r=!1,fallbackComponent:n}=this.props,{error:i,retryCount:l,browserInfo:c}=this.state,u=this.getBrowserSpecificErrorInfo();return n?n(i,this.handleRetry,this.handleGoHome):r?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(mr,{className:"w-full max-w-md",children:[a.jsxs(Zr,{className:"text-center",children:[a.jsx(jd,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),a.jsx(en,{className:"text-lg",children:u.title})]}),a.jsxs(pr,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground text-center",children:u.message}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-semibold text-sm",children:"Try these solutions:"}),a.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:u.suggestions.map((f,h)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"mr-2",children:""}),a.jsx("span",{children:f})]},h))})]}),l<3&&a.jsxs(Be,{onClick:this.handleRetry,className:"w-full",variant:"default",children:[a.jsx(fc,{className:"h-4 w-4 mr-2"}),"Try Again"]}),a.jsxs(Be,{onClick:this.handleGoHome,variant:"outline",className:"w-full",children:[a.jsx(Nx,{className:"h-4 w-4 mr-2"}),"Go Home"]}),!1]})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:a.jsxs(mr,{className:"w-full max-w-2xl",children:[a.jsxs(Zr,{className:"text-center",children:[a.jsx(jd,{className:"h-16 w-16 text-destructive mx-auto mb-6"}),a.jsx(en,{className:"text-2xl",children:"Oops! Something went wrong"})]}),a.jsxs(pr,{className:"space-y-6",children:[a.jsx("p",{className:"text-muted-foreground text-center",children:"The application encountered an unexpected error. This could be due to:"}),a.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 max-w-md mx-auto",children:[a.jsx("li",{children:" Network connectivity issues"}),a.jsx("li",{children:" Blockchain RPC provider problems"}),a.jsx("li",{children:" Temporary service disruption"}),a.jsx("li",{children:" Browser compatibility issues"})]}),a.jsxs("div",{className:"flex gap-4 justify-center",children:[l<3&&a.jsxs(Be,{onClick:this.handleRetry,variant:"default",children:[a.jsx(fc,{className:"h-4 w-4 mr-2"}),"Try Again"]}),a.jsxs(Be,{onClick:this.handleGoHome,variant:"outline",children:[a.jsx(Nx,{className:"h-4 w-4 mr-2"}),"Return Home"]})]}),!1]})]})})}return this.props.children}}const l4=({error:t,onRetry:e,isMobile:r=!1})=>{const n=i=>{var l,c,u,f;return(l=i==null?void 0:i.message)!=null&&l.includes("Too Many Requests")?"Rate limit exceeded. Please wait a moment before trying again.":(c=i==null?void 0:i.message)!=null&&c.includes("timeout")?"Request timed out. Please check your connection and try again.":(u=i==null?void 0:i.message)!=null&&u.includes("network")?"Network error. Please check your internet connection.":(f=i==null?void 0:i.message)!=null&&f.includes("not available")?"Smart contracts not available on this network.":"Unable to connect to the blockchain. Please try again."};return r?a.jsxs("div",{className:"text-center py-8 px-4",children:[a.jsx(jd,{className:"h-8 w-8 text-destructive mx-auto mb-3"}),a.jsx("h3",{className:"font-semibold mb-2",children:"Connection Problem"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:n(t)}),e&&a.jsxs(Be,{onClick:e,size:"sm",variant:"outline",children:[a.jsx(fc,{className:"h-3 w-3 mr-2"}),"Retry"]})]}):a.jsx(mr,{className:"max-w-md mx-auto",children:a.jsxs(pr,{className:"pt-6 text-center",children:[a.jsx(jd,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),a.jsx("h3",{className:"font-semibold mb-2",children:"Connection Problem"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:n(t)}),e&&a.jsxs(Be,{onClick:e,variant:"outline",children:[a.jsx(fc,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})},c4=tg("inline-flex items-center justify-center rounded-full border px-2 py-1 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20",outline:"text-foreground [a&]:hover:bg-muted"}},defaultVariants:{variant:"default"}});function wo({className:t,variant:e,asChild:r=!1,...n}){const i=r?Tw:"span";return a.jsx(i,{"data-slot":"badge",className:Ct(c4({variant:e}),t),...n})}const u4=()=>{const[t,e]=w.useState(!1);return w.useEffect(()=>{},[!1]),{component:null}};let Yt=null,si=!1,Jl=window.innerHeight;var ob;let vc=((ob=window.visualViewport)==null?void 0:ob.height)||window.innerHeight,Lo=0,fg=!1,Gn=!1,Ao=null,Wi=null;const tk=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),ii=/Android/i.test(navigator.userAgent),xn=/iPhone|iPad|iPod/i.test(navigator.userAgent),rk=()=>{var t;tk&&(console.log(`Initializing mobile keyboard fix for ${ii?"Android":xn?"iOS":"Mobile"}...`),Jl=window.innerHeight,vc=((t=window.visualViewport)==null?void 0:t.height)||window.innerHeight,document.addEventListener("focusin",nk,{capture:!0,passive:!1}),document.addEventListener("focusout",sk,{capture:!0,passive:!1}),window.addEventListener("resize",ik,{passive:!0}),window.visualViewport&&(window.visualViewport.addEventListener("resize",ok,{passive:!0}),window.visualViewport.addEventListener("scroll",ak,{passive:!0})),xn&&window.addEventListener("orientationchange",lk,{passive:!0}),ii&&f4(),h4())},nk=t=>{const e=t.target;if(Wi&&(clearTimeout(Wi),Wi=null),ko(e))if(console.log("Focus in:",e.tagName,e.type,"Modal open:",fg,"Platform:",ii?"Android":"iOS"),Yt=e,Gn=!1,Fo(!0),ii){Gn=!0,setTimeout(()=>{Gn=!1},500),e.scrollIntoView({behavior:"auto",block:"center",inline:"nearest"});const r=()=>{e&&document.contains(e)&&(document.activeElement!==e&&(console.log("Android: Re-focusing element"),e.focus()),setTimeout(()=>{e&&document.contains(e)&&document.activeElement!==e&&(console.log("Android: Final focus attempt"),e.focus())},100))};r(),setTimeout(r,200)}else Ao=setTimeout(()=>{if(e&&document.contains(e)){const r={behavior:"auto",block:"center",inline:"nearest"};e.scrollIntoView(r),document.activeElement!==e&&e.focus()}},50)},sk=t=>{const e=t.target;if(console.log("Focus out:",e.tagName,"Prevent blur:",Gn,"Platform:",ii?"Android":"iOS"),Ao&&(clearTimeout(Ao),Ao=null),Gn){console.log("Blur prevented - maintaining keyboard state"),Gn=!1;return}ii?Wi=setTimeout(()=>{var i;const r=document.activeElement,n=r&&ko(r);if(console.log("Android blur check:",{activeElement:r==null?void 0:r.tagName,hasInputFocus:n,keyboardVisible:si}),!n){const l=((i=window.visualViewport)==null?void 0:i.height)||window.innerHeight;vc-l<=50?(console.log("Android: Keyboard confirmed closed"),Fo(!1)):console.log("Android: Keyboard still detected, maintaining state")}},800):Wi=setTimeout(()=>{(!document.activeElement||!ko(document.activeElement))&&Fo(!1)},100)},ko=t=>{var r,n;if(!t)return!1;const e=(r=t.tagName)==null?void 0:r.toLowerCase();return(n=t.type)==null||n.toLowerCase(),e==="input"||e==="textarea"||t.hasAttribute("contenteditable")||t.closest("[data-radix-select-trigger]")||t.closest('[role="combobox"]')||e==="div"&&t.getAttribute("role")==="textbox"},Fo=t=>{const e=si;si=t,t!==e&&(console.log("Keyboard state changed:",t?"visible":"hidden"),window.dispatchEvent(new CustomEvent("keyboardStateChange",{detail:{visible:t,height:Lo}})),document.documentElement.style.setProperty("--keyboard-visible",t?"1":"0"),document.documentElement.style.setProperty("--keyboard-height",`${Lo}px`))},d4=t=>{fg=t,console.log("Modal state changed:",t?"open":"closed"),t&&(Gn=!0)},ik=()=>{const t=window.innerHeight,e=Jl-t;Lo=Math.max(0,e);const r=xn?100:150,n=si,i=e>r;console.log("Viewport change:",{platform:ii?"Android":xn?"iOS":"Mobile",currentHeight:t,initialHeight:Jl,heightDifference:e,keyboardHeight:Lo,threshold:r,keyboardVisible:i,wasKeyboardVisible:n}),Fo(i),i&&!n&&Yt&&(console.log("Keyboard appeared - refocusing element"),ck()),!i&&n&&(console.log("Keyboard disappeared"),setTimeout(()=>{Jl=window.innerHeight},xn?300:500))},ok=()=>{if(!window.visualViewport)return;const t=window.visualViewport.height,e=vc-t;Lo=Math.max(0,e);const r=xn?80:120,n=si,i=e>r;console.log("Visual viewport change:",{platform:ii?"Android":xn?"iOS":"Mobile",currentHeight:t,initialHeight:vc,heightDifference:e,keyboardHeight:Lo,threshold:r,keyboardVisible:i,wasKeyboardVisible:n}),Fo(i),i&&!n&&Yt&&ck()},ak=()=>{!window.visualViewport||!xn||Yt&&si&&setTimeout(()=>{Yt&&document.contains(Yt)&&Yt.scrollIntoView({behavior:"auto",block:"center",inline:"nearest"})},50)},lk=()=>{xn&&(console.log("Orientation changed on iOS"),setTimeout(()=>{var t;Jl=window.innerHeight,vc=((t=window.visualViewport)==null?void 0:t.height)||window.innerHeight,Yt&&document.contains(Yt)&&Yt.focus()},500))},f4=()=>{console.log("Initializing Android-specific keyboard fixes..."),document.addEventListener("touchstart",r=>{const n=r.target;ko(n)&&(console.log("Android: Touch start on input element"),Gn=!0,Fo(!0),setTimeout(()=>{n&&document.contains(n)&&n.focus()},50))},{capture:!0,passive:!1}),document.addEventListener("touchend",r=>{const n=r.target;ko(n)&&(console.log("Android: Touch end on input element"),setTimeout(()=>{n&&document.contains(n)&&document.activeElement!==n&&(console.log("Android: Refocusing after touch end"),n.focus())},100))},{capture:!0,passive:!1});let t=!0;const e=()=>{if(!t)return;t=!1,setTimeout(()=>{t=!0},300);const r=document.querySelector('meta[name="viewport"]');r&&Zl&&r.setAttribute("content",Zl)};document.addEventListener("scroll",e,{passive:!0}),window.addEventListener("resize",e,{passive:!0}),document.addEventListener("input",r=>{ko(r.target)&&(console.log("Android: Input event detected"),Fo(!0),Gn=!0)},{capture:!0}),document.addEventListener("click",r=>{si&&ko(r.target)&&(console.log("Android: Click on input while keyboard visible"),r.stopPropagation(),Gn=!0,setTimeout(()=>{r.target&&document.contains(r.target)&&r.target.focus()},50))},{capture:!0})};let Xl=null,Zl=null;const h4=()=>{const t=document.querySelector('meta[name="viewport"]');t&&(Zl=t.getAttribute("content"),Xl=new MutationObserver(e=>{e.forEach(r=>{if(r.type==="attributes"&&r.attributeName==="content"){const n=t.getAttribute("content");si&&n!==Zl&&(console.log("Preventing viewport change during keyboard interaction"),setTimeout(()=>{t.setAttribute("content",Zl)},0),Yt&&document.contains(Yt)&&setTimeout(()=>{Yt.focus()},50))}})}),Xl.observe(t,{attributes:!0,attributeFilter:["content"]}))},ck=()=>{if(!(!Yt||!document.contains(Yt)))try{console.log("Refocusing element:",Yt.tagName),Gn=!0,setTimeout(()=>{if(Yt&&document.contains(Yt)){if(Yt.disabled||Yt.readOnly)return;Yt.focus(),setTimeout(()=>{Yt&&document.contains(Yt)&&Yt.scrollIntoView({behavior:xn?"auto":"smooth",block:"center",inline:"nearest"})},xn?50:100)}},xn?50:100)}catch(t){console.error("Error refocusing element:",t)}},m4=rk,uk=()=>{tk&&(console.log(`Cleaning up mobile keyboard fix for ${ii?"Android":xn?"iOS":"Mobile"}...`),Ao&&(clearTimeout(Ao),Ao=null),Wi&&(clearTimeout(Wi),Wi=null),document.removeEventListener("focusin",nk,{capture:!0}),document.removeEventListener("focusout",sk,{capture:!0}),window.removeEventListener("resize",ik),window.visualViewport&&(window.visualViewport.removeEventListener("resize",ok),window.visualViewport.removeEventListener("scroll",ak)),xn&&window.removeEventListener("orientationchange",lk),Xl&&(Xl.disconnect(),Xl=null),Yt=null,si=!1,fg=!1,Gn=!1,Lo=0,document.documentElement.style.removeProperty("--keyboard-visible"),document.documentElement.style.removeProperty("--keyboard-height"))},p4=uk,g4=({size:t="default",className:e="",text:r="",showText:n=!0})=>{const i={sm:"h-4 w-4",default:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"};return a.jsx("div",{className:Ct("flex items-center justify-center",e),children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx(pd,{className:Ct("animate-spin text-primary",i[t])}),n&&r&&a.jsx("p",{className:"text-sm text-muted-foreground",children:r})]})})},dk=({message:t="Loading...",isMobile:e=!1,showProgress:r=!1,progress:n=0,maxProgress:i=100})=>a.jsx("div",{className:"fixed inset-0 bg-background flex items-center justify-center z-50",children:a.jsxs("div",{className:"text-center space-y-4 px-4",children:[a.jsx("div",{className:`font-bold mb-2 ${e?"text-xl":"text-2xl"}`,style:{fontFamily:"Orbitron, monospace"},children:"Rafflhub"}),a.jsx(g4,{size:e?"lg":"xl",text:t,showText:!0}),r&&a.jsxs("div",{className:"w-64 max-w-full mx-auto",children:[a.jsx("div",{className:"bg-muted rounded-full h-2",children:a.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${n/i*100}%`}})}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[n," / ",i]})]})]})}),fk=t=>({0:"pending",1:"active",2:"ended",3:"drawing",4:"completed",5:"deleted",6:"activation_failed",7:"all_prizes_claimed",8:"unengaged"})[t]||"ended",hk=t=>t.isExternallyPrized?"nft_collab":t.isPrized?"prized":"non_prized",mk=t=>t.isPrized?t.ethPrizeAmount&&t.ethPrizeAmount.gt&&t.ethPrizeAmount.gt(0)?"eth":t.erc20PrizeToken&&t.erc20PrizeToken!==Oe&&t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0)?"erc20":t.prizeCollection&&t.prizeCollection!==Oe?"nft":"token_giveaway":null,pk=t=>{if(!t.isPrized)return[];const e=[];return t.ethPrizeAmount&&t.ethPrizeAmount.gt&&t.ethPrizeAmount.gt(0)&&e.push("eth"),t.erc20PrizeToken&&t.erc20PrizeToken!==Oe&&t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0)&&e.push("erc20"),t.prizeCollection&&t.prizeCollection!==Oe&&(t.standard===0?e.push("erc721"):t.standard===1&&e.push("erc1155")),e},v4=(t,e)=>!t||t.length===0?[]:t.filter(n=>{if(e.raffleState&&e.raffleState.length>0){const i=fk(n.stateNum);if(!e.raffleState.includes(i))return!1}if(e.raffleType&&e.raffleType.length>0){const i=hk(n);if(!e.raffleType.includes(i))return!1}if(e.prizeType&&e.prizeType.length>0){if(!n.isPrized)return!1;const i=mk(n);if(!e.prizeType.includes(i))return!1}if(e.prizeStandard&&e.prizeStandard.length>0){if(!n.isPrized)return!1;const i=pk(n);if(!e.prizeStandard.some(c=>i.includes(c)))return!1}return!0}),y4=t=>{if(!t||t.length===0)return{raffleState:{},raffleType:{},prizeType:{},prizeStandard:{}};const e={raffleState:{},raffleType:{},prizeType:{},prizeStandard:{}};return t.forEach(r=>{const n=fk(r.stateNum);e.raffleState[n]=(e.raffleState[n]||0)+1;const i=hk(r);if(e.raffleType[i]=(e.raffleType[i]||0)+1,r.isPrized){const l=mk(r);l&&(e.prizeType[l]=(e.prizeType[l]||0)+1),pk(r).forEach(u=>{e.prizeStandard[u]=(e.prizeStandard[u]||0)+1})}}),e},tb=()=>({raffleState:[],raffleType:[],prizeType:[],prizeStandard:[]}),Wm=t=>Object.values(t).every(e=>!e||e.length===0),x4=({onFilterChange:t,hasActiveFilters:e=!1,className:r=""})=>{const n=[{label:"Active",icon:rp,filters:{raffleState:["active"]},description:"Currently running raffles"},{label:"Pending",icon:Bp,filters:{raffleState:["pending"]},description:"Raffles starting soon"},{label:"NFT Prizes",icon:Ro,filters:{raffleType:["prized"],prizeType:["nft"]},description:"Raffles with NFT prizes"},{label:"Whitelist",icon:Eo,filters:{raffleType:["non_prized"]},description:"Whitelist/Allowlist raffles"}],i=c=>{t(c)},l=()=>{t({raffleState:[],raffleType:[],prizeType:[],prizeStandard:[]})};return a.jsxs("div",{className:`space-y-2 sm:space-y-3 ${r}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Quick Filters"}),e&&a.jsx(Be,{variant:"ghost",size:"sm",onClick:l,className:"text-xs h-5 sm:h-6 px-1.5 sm:px-2",children:"Clear"})]}),a.jsx("div",{className:"grid grid-cols-2 gap-1.5 sm:gap-2",children:n.map(c=>{const u=c.icon;return a.jsxs(Be,{variant:"outline",size:"sm",onClick:()=>i(c.filters),className:"flex items-center justify-start gap-1.5 sm:gap-2 h-auto p-2 sm:p-3 text-left",title:c.description,children:[a.jsx(u,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),a.jsx("span",{className:"text-xs font-medium",children:c.label})]},c.label)})})]})},b4=`
  @media (max-width: 640px) {
    .mobile-checkbox-radio {
      width: 12px !important;
      height: 12px !important;
      min-width: 12px !important;
      min-height: 12px !important;
      max-width: 12px !important;
      max-height: 12px !important;
    }
  }
`,w4=({isOpen:t,onToggle:e,filters:r,onFiltersChange:n,raffleCount:i=0,allRaffles:l=[],className:c=""})=>{const{countEnhancedRaffleTypes:u}=Op(),[f,h]=w.useState({raffleState:!0,raffleType:!0,prizeType:!0,prizeStandard:!0}),p=w.useMemo(()=>{const P=y4(l),z=u(l);return{...P,raffleType:z}},[l,u]),y=w.useMemo(()=>({raffleState:[{value:"pending",label:"Pending",count:p.raffleState.pending||0},{value:"active",label:"Active",count:p.raffleState.active||0},{value:"ended",label:"Ended",count:p.raffleState.ended||0},{value:"drawing",label:"Drawing",count:p.raffleState.drawing||0},{value:"completed",label:"Completed",count:p.raffleState.completed||0},{value:"deleted",label:"Deleted",count:p.raffleState.deleted||0},{value:"activation_failed",label:"Activation Failed",count:p.raffleState.activation_failed||0},{value:"all_prizes_claimed",label:"All Prizes Claimed",count:p.raffleState.all_prizes_claimed||0},{value:"unengaged",label:"Unengaged",count:p.raffleState.unengaged||0}],raffleType:[{value:"non_prized",label:"Whitelist",count:p.raffleType.non_prized||0},{value:"prized",label:"Prized",count:p.raffleType.prized||0},{value:"nft_collab",label:"NFT Collab",count:p.raffleType.nft_collab||0},{value:"whitelist_collab",label:"Whitelist Collab",count:p.raffleType.whitelist_collab||0}],prizeType:[{value:"nft",label:"NFT",count:p.prizeType.nft||0},{value:"erc20",label:"ERC20 Token",count:p.prizeType.erc20||0},{value:"eth",label:"ETH",count:p.prizeType.eth||0},{value:"token_giveaway",label:"Token Giveaway",count:p.prizeType.token_giveaway||0}],prizeStandard:[{value:"erc721",label:"ERC721",count:p.prizeStandard.erc721||0},{value:"erc1155",label:"ERC1155",count:p.prizeStandard.erc1155||0},{value:"erc20",label:"ERC20",count:p.prizeStandard.erc20||0},{value:"eth",label:"ETH",count:p.prizeStandard.eth||0}]}),[p]),k=w.useCallback(P=>{h(z=>({...z,[P]:!z[P]}))},[]),g=w.useCallback((P,z,L)=>{const $={...r};P==="raffleType"?$[P]=L?[z]:[]:($[P]||($[P]=[]),L?$[P]=[...$[P],z]:$[P]=$[P].filter(U=>U!==z)),n($)},[r,n]),S=w.useCallback(()=>{n({raffleState:[],raffleType:[],prizeType:[],prizeStandard:[]})},[n]),N=w.useMemo(()=>Object.values(r).some(P=>P.length>0),[r]),A=w.useCallback((P,z,L)=>{var J;const $=f[z],U=z==="raffleType",V=(z==="prizeType"||z==="prizeStandard")&&!((J=r.raffleType)!=null&&J.includes("prized"));return a.jsxs("div",{className:"border-b border-border/30 last:border-b-0",children:[a.jsxs("button",{onClick:()=>k(z),className:"w-full flex items-center justify-between p-3 sm:p-4 text-left hover:bg-muted/50 transition-colors",disabled:V,children:[a.jsx("span",{className:`text-sm sm:text-base font-medium ${V?"text-muted-foreground":""}`,children:P}),$?a.jsx(Lp,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"}):a.jsx(Ac,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"})]}),$&&!V&&a.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4 space-y-1 sm:space-y-2",children:L.map(re=>{var X;const Q=((X=r[z])==null?void 0:X.includes(re.value))||!1;return a.jsxs("label",{className:"flex items-center space-x-2 sm:space-x-3 cursor-pointer hover:bg-muted/30 p-1.5 sm:p-2 rounded-md transition-colors",children:[a.jsx("input",{type:U?"radio":"checkbox",name:U?z:void 0,checked:Q,onChange:H=>g(z,re.value,H.target.checked),className:`mobile-checkbox-radio ${U?"h-3 w-3 sm:h-4 sm:w-4 text-primary bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-full focus:ring-0 focus:outline-none checked:bg-primary checked:border-primary appearance-none relative"+(Q?' after:content-[""] after:absolute after:top-1/2 after:left-1/2 after:transform after:-translate-x-1/2 after:-translate-y-1/2 after:w-1 after:h-1 sm:after:w-1.5 sm:after:h-1.5 after:bg-white after:rounded-full':""):"h-3 w-3 sm:h-4 sm:w-4 text-primary accent-primary bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded focus:ring-1 focus:ring-primary focus:ring-offset-0 checked:bg-primary checked:border-primary"}`,style:U?{minHeight:"12px",minWidth:"12px",maxHeight:"12px",maxWidth:"12px"}:{minHeight:"12px",minWidth:"12px",maxHeight:"12px",maxWidth:"12px"}}),a.jsx("span",{className:"flex-1 text-xs sm:text-sm leading-tight",children:re.label}),re.count>0&&a.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full",children:re.count})]},re.value)})}),V&&a.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4",children:a.jsx("p",{className:"text-xs text-muted-foreground italic",children:'Select "Prized" raffle type to enable this filter'})})]},z)},[f,r,g,k]);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:b4}}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-30",onClick:e}),a.jsxs("div",{className:`
        fixed left-0
        top-14 sm:top-16
        h-[calc(100vh-3.5rem)] sm:h-[calc(100vh-4rem)]
        w-72 sm:w-80 md:w-96
        bg-background border-r border-border
        transform transition-transform duration-300 ease-in-out
        z-40
        flex flex-col
        ${t?"translate-x-0":"-translate-x-full"}
        ${c}
      `,children:[a.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-border bg-muted/20",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(dc,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),a.jsx("h2",{className:"font-semibold text-base sm:text-lg",children:"Filter Raffles"})]}),a.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[N&&a.jsx(Be,{variant:"ghost",size:"sm",onClick:S,className:"text-xs px-2 sm:px-3 h-7 sm:h-8 hover:bg-destructive/10 hover:text-destructive",children:"Clear All"}),a.jsx(Be,{variant:"ghost",size:"sm",onClick:e,className:"hover:bg-muted h-7 w-7 sm:h-8 sm:w-8 p-0",title:"Close filters",children:a.jsx(Ua,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})]})]}),a.jsx("div",{className:"p-3 sm:p-4 bg-muted/30",children:a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["Showing ",a.jsx("span",{className:"font-medium text-foreground",children:i})," raffles"]})}),a.jsx("div",{className:"p-3 sm:p-4 border-b border-border/30",children:a.jsx(x4,{onFilterChange:n,hasActiveFilters:N})}),a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[A("Raffle State","raffleState",y.raffleState),A("Raffle Type","raffleType",y.raffleType),A("Prize Type","prizeType",y.prizeType),A("Prize Standard","prizeStandard",y.prizeStandard)]})]})]})},k4=({onClick:t,hasActiveFilters:e=!1,className:r="",variant:n="outline",size:i="default"})=>a.jsxs(Be,{variant:e?"default":n,size:i,onClick:t,className:`
        relative flex items-center gap-2
        ${e?"bg-primary text-primary-foreground hover:bg-primary/90":""}
        ${r}
      `,children:[a.jsx(dc,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:e?"Filters Applied":"Filter Raffles"}),e&&a.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs bg-primary-foreground/20 rounded-full",children:"Active"})]}),N4=({raffles:t=[],loading:e=!1,error:r=null,RaffleCardComponent:n,emptyMessage:i="No raffles found matching your filters.",className:l=""})=>e?a.jsx("div",{className:`space-y-6 ${l}`,children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((c,u)=>a.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-6 shadow-lg animate-pulse",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),a.jsx("div",{className:"h-3 bg-muted rounded w-1/2"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-3 bg-muted rounded"}),a.jsx("div",{className:"h-3 bg-muted rounded w-5/6"})]}),a.jsx("div",{className:"h-10 bg-muted rounded"})]})},u))})}):r?a.jsx("div",{className:`flex flex-col items-center justify-center py-12 ${l}`,children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 mx-auto bg-destructive/10 rounded-full flex items-center justify-center",children:a.jsx(Ro,{className:"w-8 h-8 text-destructive"})}),a.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Error Loading Raffles"}),a.jsx("p",{className:"text-muted-foreground max-w-md",children:r})]})}):!t||t.length===0?a.jsx("div",{className:`flex flex-col items-center justify-center py-12 ${l}`,children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 mx-auto bg-muted/20 rounded-full flex items-center justify-center",children:a.jsx(Ro,{className:"w-8 h-8 text-muted-foreground"})}),a.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"No Raffles Found"}),a.jsx("p",{className:"text-muted-foreground max-w-md",children:i})]})}):a.jsxs("div",{className:`space-y-6 ${l}`,children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("h2",{className:"text-xl font-semibold",children:[t.length," ",t.length===1?"Raffle":"Raffles"," Found"]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(c=>a.jsx(n,{raffle:c},c.id||c.address))})]}),E4=(t=[])=>{const{filterByEnhancedType:e}=Op(),[r,n]=w.useState(tb()),[i,l]=w.useState(!1),c=w.useMemo(()=>{if(Wm(r))return t;let P=t;r.raffleType&&r.raffleType.length>0&&(P=e(P,r.raffleType));const z={...r,raffleType:[]};return Wm(z)||(P=v4(P,z)),P},[t,r,e]),u=w.useMemo(()=>!Wm(r),[r]),f=w.useCallback(P=>{n(P)},[]),h=w.useCallback(()=>{n(tb())},[]),p=w.useCallback(()=>{l(P=>!P)},[]),y=w.useCallback(()=>{l(!0)},[]),k=w.useCallback(()=>{l(!1)},[]),g=w.useCallback(P=>{n(z=>({...z,raffleState:Array.isArray(P)?P:[P]}))},[]),S=w.useCallback(P=>{n(z=>({...z,raffleType:[P]}))},[]),N=w.useCallback(P=>{n(z=>({...z,prizeType:Array.isArray(P)?P:[P]}))},[]),A=w.useCallback(P=>{n(z=>({...z,prizeStandard:Array.isArray(P)?P:[P]}))},[]);return{filters:r,filteredRaffles:c,isFilterOpen:i,hasActiveFilters:u,updateFilters:f,clearFilters:h,toggleFilter:p,openFilter:y,closeFilter:k,filterByState:g,filterByType:S,filterByPrizeType:N,filterByPrizeStandard:A,totalRaffles:t.length,filteredCount:c.length}},C4=["Pending","Active","Ended","Drawing","Completed","Deleted","Activation Failed","All Prizes Claimed","Unengaged"],A4=({raffle:t})=>{var $,U;const e=Uo(),[r,n]=w.useState(""),[i,l]=w.useState(""),[c,u]=w.useState(""),{getContractInstance:f}=or(),{updateCollabStatus:h,setCollabLoading:p,getCollabStatus:y}=Op(),[k,g]=w.useState(null),[S,N]=w.useState(null);w.useEffect(()=>{let W;function V(){const Q=Math.floor(Date.now()/1e3);let X="",H=0;if(t.stateNum===2||t.stateNum===3||t.stateNum===4||t.stateNum===5||t.stateNum===6||t.stateNum===7||t.stateNum===8){X="Duration",H=t.duration,n(X),l(re(H));return}Q<t.startTime?(X="Starts In",H=t.startTime-Q):(X="Ends In",H=t.startTime+t.duration-Q),n(X),l(H>0?J(H):"Ended")}function J(Q){const X=Math.floor(Q/86400),H=Math.floor(Q%86400/3600),I=Math.floor(Q%3600/60),v=Q%60;let C="";return X>0&&(C+=`${X}d `),(H>0||X>0)&&(C+=`${H}h `),(I>0||H>0||X>0)&&(C+=`${I}m `),C+=`${v}s`,C.trim()}function re(Q){const X=Math.floor(Q/86400),H=Math.floor(Q%86400/3600),I=Math.floor(Q%3600/60);let v="";return X>0&&(v+=`${X}d `),(H>0||X>0)&&(v+=`${H}h `),(I>0||H>0||X>0)&&(v+=`${I}m`),v||(v="0m"),v.trim()}return V(),W=setInterval(V,1e3),()=>clearInterval(W)},[t]),w.useEffect(()=>{let W=!0;return(async()=>{if(t.erc20PrizeToken&&t.erc20PrizeToken!==Oe){if(window.__erc20SymbolCache||(window.__erc20SymbolCache={}),window.__erc20SymbolCache[t.erc20PrizeToken]){u(window.__erc20SymbolCache[t.erc20PrizeToken]);return}await new Promise(J=>setTimeout(J,100));try{const J=window.ethereum?new No(window.ethereum):Yl(),re=["function symbol() view returns (string)"],X=await new Wt(t.erc20PrizeToken,re,J).symbol();W&&(u(X),window.__erc20SymbolCache[t.erc20PrizeToken]=X)}catch(J){console.warn("Failed to fetch ERC20 symbol:",J),W&&u("TOKEN")}}})(),()=>{W=!1}},[t.erc20PrizeToken]),w.useEffect(()=>{let W=!0;async function V(){try{const J=f&&f(t.address,"raffle");if(!J){W&&g(null);return}let re=0;try{re=(await J.getParticipantsCount()).toNumber()}catch{let X=0;for(;;)try{await J.participants(X),re++,X++}catch{break}}W&&g(re)}catch{g(null)}}V()},[t.address,f]),w.useEffect(()=>{(async()=>{if(!t||!t.prizeCollection||t.prizeCollection===Oe){N(null);return}try{let V=null,J=null;if(typeof t.standard<"u"){const re=t.standard===0?"erc721Prize":"erc1155Prize";V=f(t.prizeCollection,re),V&&(J=await V.name())}else try{V=f(t.prizeCollection,"erc721Prize"),V&&(J=await V.name())}catch(re){try{V=f(t.prizeCollection,"erc1155Prize"),V&&(J=await V.name())}catch(Q){console.warn("Failed to fetch collection name from both ERC721 and ERC1155:",re,Q)}}N(J)}catch(V){console.warn("Failed to fetch collection name:",V),N(null)}})()},[t,f]),w.useEffect(()=>{let W=!0;const V=async()=>{if(y(t.address)!==void 0)return;p(t.address,!0);let re=!1,Q=0;const X=3;for(;Q<X&&W;)try{const I=f(t.address,"raffle");if(!I)throw new Error("Failed to get contract instance");const v=await I.holderTokenAddress();re=v&&v!==Oe;break}catch(I){Q++,console.warn(`Collab check attempt ${Q} failed for ${t.address}:`,I.message),Q>=X?re=!1:await new Promise(v=>setTimeout(v,1e3*Q))}if(!W)return;let H;t.isExternallyPrized?H="nft_collab":re?H="whitelist_collab":H="not_collab",h(t.address,H)};return t.address&&f?V():h(t.address,"not_collab"),()=>{W=!1}},[t,f,y,p,h]);const A=()=>{const W=C4[t.stateNum]||"Unknown",V={Pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",Active:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",Ended:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",Drawing:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",Completed:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",Deleted:"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-300","Activation Failed":"bg-red-200 text-red-900 dark:bg-red-900/40 dark:text-red-300","All Prizes Claimed":"bg-blue-200 text-blue-900 dark:bg-blue-900/40 dark:text-blue-300",Unengaged:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",Unknown:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${V[W]||V.Unknown}`,children:W})},P=()=>{const W=y(t.address);return W==="nft_collab"?"NFT Collab":W==="whitelist_collab"?"Whitelist Collab":W===void 0?"Checking...":t.ethPrizeAmount&&t.ethPrizeAmount.gt&&t.ethPrizeAmount.gt(0)?"ETH":t.erc20PrizeToken&&t.erc20PrizeToken!==Oe&&t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0)?"ERC20":t.prizeCollection&&t.prizeCollection!==Oe?"NFT Prize":t.isPrized?"Token Giveaway":"Whitelist"},z=()=>t.ethPrizeAmount&&t.ethPrizeAmount.gt&&t.ethPrizeAmount.gt(0)?`${vn(t.ethPrizeAmount)} ETH`:t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0)?`${Qd(t.erc20PrizeAmount,18)} ${c||"TOKEN"}`:null,L=()=>{e(`/raffle/${t.address}`)};return a.jsxs("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-6 shadow-lg hover:shadow-xl hover:border-border/80 transition-all duration-300 flex flex-col h-full group",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold truncate flex-1 mr-2",children:t.name}),A()]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Creator:"}),a.jsxs("span",{className:"font-mono",children:[($=t.creator)==null?void 0:$.slice(0,10),"..."]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Ticket Price:"}),a.jsxs("span",{children:[vn(t.ticketPrice||"0")," ETH"]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Tickets Sold:"}),a.jsx("span",{children:k!==null?`${k} / ${t.ticketLimit}`:"Loading..."})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Winners:"}),a.jsx("span",{children:t.winnersCount})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-muted-foreground",children:[r,":"]}),a.jsx("span",{children:i})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Type:"}),a.jsx("span",{className:"px-2 py-1 rounded-full text-sm",children:P()})]}),P()==="NFT Prize"&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Prize Collection:"}),a.jsx("span",{className:S?"":"font-mono",children:S||`${(U=t.prizeCollection)==null?void 0:U.slice(0,10)}...`})]}),(P()==="ERC20"||P()==="ETH")&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Prize Amount:"}),a.jsx("span",{children:z()})]})]}),a.jsx(Be,{onClick:L,className:"w-full mt-auto group-hover:scale-[1.02] transition-transform duration-200 bg-gradient-to-r from-orange-500 to-red-600 text-white hover:from-orange-600 hover:to-red-700 border-0",children:"Visit Raffle Page"})]})},S4=()=>{const{connected:t}=Qt(),{isMobile:e}=Nr(),{raffles:r,loading:n,error:i,refreshRaffles:l}=rM({autoFetch:!0,enablePolling:!0,pollingInterval:12e4,maxRaffles:e?15:25}),{filters:c,filteredRaffles:u,isFilterOpen:f,hasActiveFilters:h,updateFilters:p,clearFilters:y,toggleFilter:k,filteredCount:g}=E4(r);return t?n?a.jsx(dk,{message:"Loading raffles from blockchain...",isMobile:e}):i?a.jsxs(Co,{className:"py-8",children:[a.jsxs("div",{className:"mb-8 text-center",children:[a.jsx("h1",{className:`font-bold ${e?"text-2xl mb-3":"text-4xl mb-4"}`,children:"Fairness and Transparency, On-Chain"}),a.jsx("p",{className:`text-muted-foreground max-w-2xl mx-auto ${e?"text-base":"text-xl"}`,children:"Rafflhub hosts decentralized raffles where every draw is public, auditable, and powered by Chainlink VRF. Enter for your chance to win!"})]}),a.jsx(l4,{error:{message:i},onRetry:l,isMobile:e})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none",background:`radial-gradient(circle at 20% 30%, hsl(var(--primary) / 0.08) 0%, transparent 60%),
                      radial-gradient(circle at 80% 20%, hsl(var(--accent) / 0.06) 0%, transparent 60%),
                      radial-gradient(circle at 60% 80%, hsl(var(--secondary) / 0.05) 0%, transparent 60%),
                      linear-gradient(120deg, hsl(var(--primary) / 0.03) 0%, hsl(var(--accent) / 0.03) 100%)`},"aria-hidden":"true"}),a.jsx(w4,{isOpen:f,onToggle:k,filters:c,onFiltersChange:p,raffleCount:g,allRaffles:r}),a.jsx("div",{className:"min-h-screen",style:{position:"relative",zIndex:1},children:a.jsxs(Co,{className:"py-4",children:[a.jsxs("div",{className:`text-center ${e?"mb-6":"mb-8"}`,children:[a.jsx("h1",{className:`font-bold ${e?"text-2xl mb-3":"text-4xl mb-4"}`,children:"Fairness and Transparency, On-Chain"}),a.jsx("p",{className:`text-muted-foreground max-w-2xl mx-auto ${e?"text-base":"text-xl"}`,children:"Rafflhub hosts decentralized raffles where every draw is public, auditable, and powered by Chainlink VRF. Enter for your chance to win!"})]}),a.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[a.jsx(k4,{onClick:k,hasActiveFilters:h}),h&&a.jsx(Be,{variant:"ghost",size:"sm",onClick:y,className:"text-muted-foreground hover:text-foreground",children:"Clear All Filters"})]}),a.jsx(N4,{raffles:u,loading:n,error:i,RaffleCardComponent:A4,emptyMessage:h?"No raffles match your current filters. Try adjusting your filter criteria.":"There are currently no raffles available on the blockchain. Check back later or create your own!"})]})})]}):a.jsxs(Co,{className:"py-4",children:[a.jsxs("div",{className:`text-center ${e?"mb-6":"mb-4"}`,children:[a.jsx("h1",{className:`font-bold ${e?"text-2xl mb-3":"text-4xl mb-4"}`,children:"Fairness and Transparency, On-Chain"}),a.jsx("p",{className:`text-muted-foreground max-w-2xl mx-auto ${e?"text-base":"text-xl"}`,children:"Rafflhub hosts decentralized raffles where every draw is public, auditable, and powered by Chainlink VRF. Enter for your chance to win!"})]}),a.jsxs("div",{className:`text-center ${e?"py-8":"py-16"}`,children:[a.jsx(Ro,{className:`text-muted-foreground mx-auto mb-4 ${e?"h-12 w-12":"h-16 w-16"}`}),a.jsx("h3",{className:`font-semibold mb-2 ${e?"text-xl":"text-2xl"}`,children:"Connect Your Wallet"}),a.jsx("p",{className:`text-muted-foreground mb-6 ${e?"text-sm":"text-base"}`,children:"Please connect your wallet to view and interact with raffles on the blockchain."})]})]})},ti=({children:t,className:e="",...r})=>{const n=w.useRef(null),i=/Android/i.test(navigator.userAgent);return w.useEffect(()=>{if(!i||!n.current)return;const l=n.current,c=u=>{u.target.matches("input, textarea, select")&&setTimeout(()=>{document.activeElement!==u.target&&document.contains(u.target)&&u.target.focus()},100)};return l.addEventListener("focusin",c),()=>{l.removeEventListener("focusin",c)}},[i]),a.jsx("div",{ref:n,className:e,style:{fontSize:i?"16px":void 0,minHeight:i?"44px":void 0,...r.style},...r,children:t})},rb=()=>{const{connected:t,address:e}=Qt(),{getContractInstance:r,executeTransaction:n}=or(),[i,l]=w.useState(!1),[c,u]=w.useState({address:"",type:"erc721",royaltyPercentage:"",royaltyRecipient:""}),[f,h]=w.useState(null),[p,y]=w.useState(!1),[k,g]=w.useState(null),[S,N]=w.useState(!1),A=(U,W)=>{u(V=>({...V,[U]:W}))},P=async U=>{try{if(!U)return;const W=await U.revealed();g(!!W)}catch{g(null)}},z=async()=>{if(!c.address||!t){ge.error("Please enter a collection address and connect your wallet");return}y(!0);try{const U=c.type==="erc721"?"erc721Prize":"erc1155Prize",W=r(c.address,U);if(!W)throw new Error("Failed to create contract instance");const V=await W.royaltyInfo(1,1e4),J=await W.royaltyPercentage(),re=await W.royaltyRecipient();let Q=!1;try{Q=(await W.owner()).toLowerCase()===e.toLowerCase()}catch(X){console.warn("Could not check ownership:",X)}h({address:c.address,type:c.type,currentRoyaltyPercentage:J.toString(),currentRoyaltyRecipient:re,royaltyAmount:V[1].toString(),isOwner:Q}),u(X=>({...X,royaltyPercentage:(J.toNumber()/100).toString(),royaltyRecipient:re})),await P(W)}catch(U){console.error("Error loading collection info:",U),ge.error("Error loading collection info: "+U.message),h(null),g(null)}finally{y(!1)}},L=async()=>{if(!t||!f){ge.error("Please connect your wallet and load collection info first");return}if(!f.isOwner){ge.error("You are not the owner of this collection");return}const U=parseFloat(c.royaltyPercentage);if(isNaN(U)||U<0||U>10){ge.error("Please enter a valid royalty percentage (0-10%)");return}if(!c.royaltyRecipient){ge.error("Please enter a royalty recipient address");return}l(!0);try{const W=c.type==="erc721"?"erc721Prize":"erc1155Prize",V=r(c.address,W);if(!V)throw new Error("Failed to create contract instance");const J=Math.floor(U*100),re=await n(V.setRoyalty,J,c.royaltyRecipient);if(re.success)ge.success(`Royalty updated successfully! Transaction: ${re.hash}`),await z();else throw new Error(re.error)}catch(W){console.error("Error updating royalty:",W),ge.error("Error updating royalty: "+W.message)}finally{l(!1)}},$=async()=>{if(!t||!f){ge.error("Please connect your wallet and load collection info first");return}N(!0);try{const U=c.type==="erc721"?"erc721Prize":"erc1155Prize",W=r(c.address,U);if(!W)throw new Error("Failed to create contract instance");const V=await n(W.reveal);if(V.success)ge.success("Collection revealed successfully!"),await z();else throw new Error(V.error)}catch(U){ge.error("Error revealing collection: "+(U.message||U))}finally{N(!1)}};return a.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-6 shadow-lg",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Address"}),a.jsx(ti,{children:a.jsx("input",{type:"text",value:c.address,onChange:U=>A("address",U.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background",placeholder:"0x..."})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Type"}),a.jsxs(Wa,{value:c.type,onValueChange:U=>A("type",U),children:[a.jsx(qa,{className:"w-full px-3 py-2 border border-border rounded-md bg-background",children:a.jsx(Ha,{placeholder:"Select Collection Type"})}),a.jsxs(Va,{children:[a.jsx(yn,{value:"erc721",children:"ERC721"}),a.jsx(yn,{value:"erc1155",children:"ERC1155"})]})]})]})]}),a.jsxs("button",{onClick:z,disabled:p||!t,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",title:t?c.address?"Load collection information":"Please enter a collection address":"Please connect your wallet",children:[a.jsx(Ba,{className:"h-4 w-4"}),p?"Loading...":"Load Collection Info"]})]}),f&&a.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[a.jsx("h4",{className:"font-semibold mb-3",children:"Collection Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Address:"}),a.jsx("div",{className:"font-mono break-all",children:f.address})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Type:"}),a.jsx("div",{className:"uppercase",children:f.type})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Current Royalty:"}),a.jsxs("div",{children:[(parseInt(f.currentRoyaltyPercentage)/100).toFixed(2),"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Current Recipient:"}),a.jsx("div",{className:"font-mono break-all",children:f.currentRoyaltyRecipient})]}),a.jsxs("div",{className:"col-span-2 mt-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Reveal Status:"}),a.jsx("span",{className:"ml-2 font-semibold",children:k===null?"Unknown":k?"Revealed":"Not Revealed"}),a.jsx("button",{onClick:$,disabled:S||k||!f.isOwner,className:"ml-4 px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",title:f.isOwner?k?"Collection already revealed":"Reveal collection":"Only collection owner can reveal",children:S?"Revealing...":"Reveal Collection"})]})]}),!f.isOwner&&a.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[a.jsx(rn,{className:"h-4 w-4 text-destructive"}),a.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot modify royalties."})]})]}),f&&f.isOwner&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-semibold",children:"Update Royalty Settings"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Royalty Percentage (0-10%)"}),a.jsx(ti,{children:a.jsx("input",{type:"number",min:"0",max:"10",step:"0.01",value:c.royaltyPercentage,onChange:U=>A("royaltyPercentage",U.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background",placeholder:"2.5"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Royalty Recipient"}),a.jsx(ti,{children:a.jsx("input",{type:"text",value:c.royaltyRecipient,onChange:U=>A("royaltyRecipient",U.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background",placeholder:"0x..."})})]})]}),a.jsxs("button",{onClick:L,disabled:i||!t||!f||!f.isOwner,className:"w-full bg-gradient-to-r from-purple-500 to-purple-600 text-white px-6 py-3 rounded-lg hover:from-purple-600 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm",title:t?f?f.isOwner?!royaltyPercentage||!c.royaltyRecipient?"Please fill in all required fields":"Update royalty settings":"Only collection owner can update royalties":"Please load collection info first":"Please connect your wallet",children:[a.jsx(ej,{className:"h-4 w-4"}),i?"Updating...":"Update Royalty Settings"]})]}),!t&&a.jsx("div",{className:"text-center p-4 bg-muted rounded-lg",children:a.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to manage collection royalties."})})]})})},nb=()=>{const{connected:t,address:e}=Qt(),{getContractInstance:r,executeTransaction:n}=or(),[i,l]=w.useState(!1),[c,u]=w.useState({address:"",revenueAmount:"0",isOwner:!1,raffleState:"unknown"}),[f,h]=w.useState(!1),[p,y]=w.useState([]),[k,g]=w.useState(!1),S=($,U)=>{u(W=>({...W,[$]:U}))},N=async $=>{if(!$||!t){ge.error("Please enter a raffle address and connect your wallet");return}h(!0);try{const U=r($,"raffle");if(!U)throw new Error("Failed to create raffle contract instance");const[W,V,J]=await Promise.all([U.creator(),U.totalCreatorRevenue(),U.state()]),re=W.toLowerCase()===e.toLowerCase(),X=["Pending","Active","Ended","Drawing","Completed","Deleted","ActivationFailed","AllPrizesClaimed","Unengaged"][J]||"Unknown";u({address:$,revenueAmount:vn(V),isCreator:re,raffleState:X,totalRevenue:V})}catch(U){console.error("Error loading raffle info:",U),ge.error("Error loading raffle info: "+U.message),u({address:$,revenueAmount:"0",isCreator:!1,raffleState:"error"})}finally{h(!1)}},A=async()=>{if(t){g(!0);try{y([])}catch($){console.error("Error loading created raffles:",$)}finally{g(!1)}}},P=async()=>{if(!t||!c.address){ge.error("Please connect your wallet and load raffle info first");return}if(!c.isCreator){ge.error("You are not the creator of this raffle");return}if(parseFloat(c.revenueAmount)<=0){ge.info("No revenue available for withdrawal");return}if(!["Completed","AllPrizesClaimed","Ended"].includes(c.raffleState)){ge.info(`Revenue can only be withdrawn from completed raffles. Current state: ${c.raffleState}`);return}l(!0);try{const U=r(c.address,"raffle");if(!U)throw new Error("Failed to create raffle contract instance");const W=await n(U.withdrawCreatorRevenue);if(W.success)ge.success(`Revenue withdrawn successfully! Transaction: ${W.hash}`),await N(c.address);else throw new Error(W.error)}catch(U){console.error("Error withdrawing revenue:",U),ge.error("Error withdrawing revenue: "+U.message)}finally{l(!1)}};w.useEffect(()=>{t&&A()},[t]);const z=$=>{switch($){case"Completed":case"AllPrizesClaimed":return"text-green-600";case"Ended":return"text-red-600";case"Active":return"text-blue-600";case"Pending":return"text-yellow-600";case"Drawing":return"text-purple-600";default:return"text-muted-foreground"}},L=c.isCreator&&parseFloat(c.revenueAmount)>0&&["Completed","AllPrizesClaimed","Ended"].includes(c.raffleState);return a.jsxs("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-6 shadow-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx(uc,{className:"h-5 w-5"}),a.jsx("h3",{className:"font-semibold",children:"Withdraw Creator Revenue"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Raffle Contract Address"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ti,{className:"flex-1",children:a.jsx("input",{type:"text",value:c.address,onChange:$=>S("address",$.target.value),className:"flex-1 px-3 py-2 border border-border rounded-md bg-background",placeholder:"0x..."})}),a.jsxs("button",{onClick:()=>N(c.address),disabled:f||!t,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-md hover:from-purple-600 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:t?c.address?"Load raffle information":"Please enter a raffle address":"Please connect your wallet",children:[a.jsx(fc,{className:`h-4 w-4 ${f?"animate-spin":""}`}),f?"Loading...":"Load Info"]})]})]})}),c.address&&c.raffleState!=="unknown"&&a.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[a.jsx("h4",{className:"font-semibold mb-3",children:"Raffle Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Address:"}),a.jsx("div",{className:"font-mono break-all",children:c.address})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"State:"}),a.jsx("div",{className:`font-semibold ${z(c.raffleState)}`,children:c.raffleState})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Creator Revenue:"}),a.jsxs("div",{className:"font-semibold",children:[c.revenueAmount," ETH"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Your Role:"}),a.jsxs("div",{className:"flex items-center gap-2",children:[c.isCreator&&a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:[a.jsx(Ql,{className:"h-3 w-3"}),"Creator"]}),c.isOwner&&a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:[a.jsx(Ql,{className:"h-3 w-3"}),"Owner"]}),!c.isCreator&&!c.isOwner&&a.jsx("span",{className:"text-muted-foreground text-xs",children:"No special role"})]})]})]}),!c.isCreator&&a.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[a.jsx(rn,{className:"h-4 w-4 text-destructive"}),a.jsx("span",{className:"text-sm text-destructive",children:"You are not the creator of this raffle and cannot withdraw revenue."})]}),c.isCreator&&parseFloat(c.revenueAmount)<=0&&a.jsxs("div",{className:"mt-3 p-3 bg-yellow-50/80 dark:bg-yellow-900/20 backdrop-blur-sm border border-yellow-200/50 dark:border-yellow-700/50 rounded-lg flex items-center gap-2",children:[a.jsx(rn,{className:"h-4 w-4 text-yellow-600"}),a.jsx("span",{className:"text-sm text-yellow-800",children:"No revenue available for withdrawal."})]}),c.isCreator&&!["Completed","AllPrizesClaimed","Ended"].includes(c.raffleState)&&a.jsxs("div",{className:"mt-3 p-3 bg-blue-50/80 dark:bg-blue-900/20 backdrop-blur-sm border border-blue-200/50 dark:border-blue-700/50 rounded-lg flex items-center gap-2",children:[a.jsx(rn,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"text-sm text-blue-800",children:"Revenue can only be withdrawn from completed raffles."})]}),L&&a.jsxs("div",{className:"mt-3 p-3 bg-green-50/80 dark:bg-green-900/20 backdrop-blur-sm border border-green-200/50 dark:border-green-700/50 rounded-lg flex items-center gap-2",children:[a.jsx(Ql,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{className:"text-sm text-green-800",children:"Revenue is available for withdrawal!"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{onClick:P,disabled:i||!t||!L,className:"w-full bg-gradient-to-r from-purple-500 to-purple-600 text-white px-6 py-3 rounded-lg hover:from-purple-600 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm",title:t?c.address?c.raffleState==="unknown"?"Raffle state unknown":c.isCreator?L?`Withdraw ${c.revenueAmount} ETH`:"Withdrawal not available - check raffle state and revenue amount":"Only raffle creator can withdraw revenue":"Please load raffle info first":"Please connect your wallet",children:[a.jsx(uc,{className:"h-4 w-4"}),i?"Withdrawing...":c.address&&c.revenueAmount?`Withdraw ${c.revenueAmount} ETH`:"Withdraw Revenue"]}),!L&&c.isCreator&&c.address&&a.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Withdrawal is not available at this time. Check the raffle state and revenue amount."})]}),!t&&a.jsx("div",{className:"text-center p-4 bg-muted rounded-lg",children:a.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to withdraw creator revenue."})})]})]})};var T4="Label",gk=w.forwardRef((t,e)=>a.jsx(ot.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));gk.displayName=T4;var P4=gk;function Aa({className:t,...e}){return a.jsx(P4,{"data-slot":"label",className:Ct("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const j4=tg("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-red-600 dark:text-red-500 bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-red-600/90"}},defaultVariants:{variant:"default"}});function ed({className:t,variant:e,...r}){return a.jsx("div",{"data-slot":"alert",role:"alert",className:Ct(j4({variant:e}),t),...r})}function td({className:t,...e}){return a.jsx("div",{"data-slot":"alert-description",className:Ct("text-gray-500 dark:text-gray-400 col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}const sb=()=>{const{address:t,connected:e,provider:r}=Qt(),{getContractInstance:n}=or(),[i,l]=w.useState(!1),[c,u]=w.useState(""),[f,h]=w.useState(""),[p,y]=w.useState(""),[k,g]=w.useState(!1),[S,N]=w.useState(!1),[A,P]=w.useState(""),[z,L]=w.useState(""),[$,U]=w.useState(""),[W,V]=w.useState(""),[J,re]=w.useState(""),[Q,X]=w.useState(null),H=async()=>{if(L(""),U(""),h(""),N(!1),P(""),g(!1),V(""),re(""),X(null),!zu(c)){L("Please enter a valid Ethereum contract address.");return}if(!r){L("Provider not available.");return}try{l(!0);let _=new Wt(c,qt.erc721Prize,r),j=!1;try{const D=await _.minterLocked();N(D);const O=await _.minter();P(O),X("erc721"),j=!0}catch{_=new Wt(c,qt.erc1155Prize,r);try{const O=await _.minterLocked();N(O);const T=await _.minter();P(T),X("erc1155")}catch(O){L("Failed to fetch collection: "+O.message),X(null);return}}if(j){try{const D=await _.name();V(D)}catch{V("N/A")}try{const D=await _.symbol();re(D)}catch{re("N/A")}}else V("ERC1155 Collection"),re("N/A");h(c)}catch(_){L("Failed to fetch collection: "+_.message)}finally{l(!1)}};be.useEffect(()=>{f&&p&&zu(p)&&r&&I()},[p,f]);const I=async()=>{try{l(!0),L("");const j=await new Wt(f,qt.erc721Prize,r).minter();g(j.toLowerCase()===p.toLowerCase()),P(j)}catch(_){L("Failed to load collection details: "+_.message)}finally{l(!1)}},v=async _=>{if(!f||!p||!r){L("Please fetch a collection and enter a valid minter address");return}if(!zu(p)){L("Please enter a valid Ethereum address");return}try{l(!0),L(""),U("");const j=r.getSigner();let D;Q==="erc721"?D=new Wt(f,qt.erc721Prize,j):Q==="erc1155"&&(D=new Wt(f,qt.erc1155Prize,j));let O;Q==="erc721"?O=await D.setMinterApproval(p,_):Q==="erc1155"&&(O=await D.setMinterApproval(p,_)),await O.wait(),U(`Minter ${_?"set":"removed"} successfully!`),g(_),y("")}catch(j){L("Failed to set minter approval: "+j.message)}finally{l(!1)}},C=async()=>{if(!f||!r){L("Please fetch a collection first");return}try{l(!0),L(""),U("");const _=r.getSigner();let j;Q==="erc721"?j=new Wt(f,qt.erc721Prize,_):Q==="erc1155"&&(j=new Wt(f,qt.erc1155Prize,_));const D=await j.owner(),O=await _.getAddress();if(D.toLowerCase()!==O.toLowerCase()){L("Only the contract owner can lock/unlock minter approval");return}let T;Q==="erc721"?S?(console.log("Attempting to unlock minter approval..."),T=await j.unlockMinterApproval()):(console.log("Attempting to lock minter approval..."),T=await j.lockMinterApproval()):Q==="erc1155"&&(S?(console.log("Attempting to unlock minter approval..."),T=await j.unlockMinterApproval()):(console.log("Attempting to lock minter approval..."),T=await j.lockMinterApproval())),console.log("Transaction sent:",T.hash),await T.wait(),U(`Minter approval ${S?"unlocked":"locked"} successfully!`),N(!S)}catch(_){console.error("Error in toggleMinterApprovalLock:",_),L(`Failed to ${S?"unlock":"lock"} minter approval: ${_.message}`)}finally{l(!1)}},R=_=>zu(_);return e?a.jsxs(mr,{children:[a.jsxs(Zr,{children:[a.jsxs(en,{className:"flex items-center gap-2",children:[a.jsx(jm,{className:"h-5 w-5"}),"Minter Approval Management"]}),a.jsx(_a,{children:"Manage and control minter approvals for your prize collections."})]}),a.jsxs(pr,{className:"space-y-6",children:[!e&&a.jsxs(ed,{variant:"destructive",children:[a.jsx(rn,{className:"h-4 w-4"}),a.jsx(td,{children:"Please connect your wallet to load collection info and manage minter approvals."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Aa,{htmlFor:"collection-address",children:"Collection Contract Address"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ti,{className:"flex-1",children:a.jsx("input",{id:"collection-address",type:"text",placeholder:"0x...",value:c,onChange:_=>u(_.target.value),disabled:i||!e,className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background"})}),a.jsxs(Be,{onClick:H,disabled:i,className:"flex items-center gap-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white hover:from-purple-600 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:e?c?"Load collection information":"Please enter a collection address":"Please connect your wallet",children:[a.jsx(Ba,{className:"h-4 w-4"}),i?"Loading...":"Load Info"]})]})]}),f&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Aa,{children:"Collection Info"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"font-semibold",children:W}),a.jsxs("span",{className:"text-muted-foreground",children:["(",J,")"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Aa,{children:"Collection Status"}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(wo,{variant:S?"destructive":"default",children:S?a.jsxs(a.Fragment,{children:[a.jsx(Ex,{className:"h-3 w-3 mr-1"}),"Minter Approval Locked"]}):a.jsxs(a.Fragment,{children:[a.jsx(Cx,{className:"h-3 w-3 mr-1"}),"Minter Approval Unlocked"]})})}),A&&a.jsxs("div",{className:"mt-2",children:[a.jsx(Aa,{className:"text-sm",children:"Current Minter"}),a.jsx("p",{className:"text-sm font-mono bg-muted p-2 rounded",children:A})]})]}),a.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Aa,{htmlFor:"minter",children:"Minter Address"}),a.jsx(ti,{children:a.jsx("input",{id:"minter",type:"text",placeholder:"0x...",value:p,onChange:_=>y(_.target.value),disabled:i,className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background"})}),p&&!R(p)&&a.jsx("p",{className:"text-sm text-red-600",children:"Invalid Ethereum address"})]}),p&&R(p)&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Aa,{children:"Current Status"}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(wo,{variant:k?"default":"secondary",children:k?a.jsxs(a.Fragment,{children:[a.jsx(Ql,{className:"h-3 w-3 mr-1"}),"Is Current Minter"]}):a.jsxs(a.Fragment,{children:[a.jsx(rn,{className:"h-3 w-3 mr-1"}),"Not Current Minter"]})})}),k&&a.jsx("p",{className:"text-sm text-green-600",children:"This address is currently the minter for this collection."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsxs(Be,{onClick:()=>v(!0),disabled:i||k||S,className:"flex-1 bg-gradient-to-r from-purple-500 to-purple-600 text-white hover:from-purple-600 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:p?R(p)?k?"Address is already the minter":S?"Minter approval is locked":"Set as minter":"Please enter a valid address":"Please enter a minter address",children:[i?a.jsx(pd,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(jm,{className:"h-4 w-4 mr-2"}),"Set Minter"]}),a.jsxs(Be,{onClick:()=>v(!1),disabled:i||!k||S,className:"flex-1 bg-gradient-to-r from-purple-500 to-purple-600 text-white hover:from-purple-600 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:p?R(p)?k?S?"Minter approval is locked":"Remove minter":"Address is not currently the minter":"Please enter a valid address":"Please enter a minter address",children:[i?a.jsx(pd,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(nj,{className:"h-4 w-4 mr-2"}),"Remove Minter"]})]}),a.jsxs(Be,{onClick:C,disabled:i,variant:S?"default":"outline",className:`w-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${S?"bg-gradient-to-r from-purple-500 to-purple-600 text-white hover:from-purple-600 hover:to-purple-700":"border-purple-500 text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/20"}`,title:S?"Unlock minter approval to allow changes":"Lock minter approval to prevent changes",children:[i?a.jsx(pd,{className:"h-4 w-4 mr-2 animate-spin"}):S?a.jsx(Cx,{className:"h-4 w-4 mr-2"}):a.jsx(Ex,{className:"h-4 w-4 mr-2"}),S?"Unlock Minter Approval":"Lock Minter Approval"]})]})]}),z&&a.jsxs(ed,{variant:"destructive",children:[a.jsx(rn,{className:"h-4 w-4"}),a.jsx(td,{children:z})]}),$&&a.jsxs(ed,{children:[a.jsx(Ql,{className:"h-4 w-4"}),a.jsx(td,{children:$})]})]})]}):a.jsxs(mr,{children:[a.jsxs(Zr,{children:[a.jsxs(en,{className:"flex items-center gap-2",children:[a.jsx(jm,{className:"h-5 w-5"}),"Minter Approval Management"]}),a.jsx(_a,{children:"Please connect your wallet to manage minter approvals."})]}),a.jsx(pr,{children:a.jsxs(ed,{children:[a.jsx(rn,{className:"h-4 w-4"}),a.jsx(td,{children:"Please connect your wallet to manage minter approvals."})]})})]})};var yf="Tabs",[R4,R6]=ci(yf,[mf]),vk=mf(),[M4,hg]=R4(yf),yk=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:l,orientation:c="horizontal",dir:u,activationMode:f="automatic",...h}=t,p=Zd(u),[y,k]=Io({prop:n,onChange:i,defaultProp:l??"",caller:yf});return a.jsx(M4,{scope:r,baseId:Rs(),value:y,onValueChange:k,orientation:c,dir:p,activationMode:f,children:a.jsx(ot.div,{dir:p,"data-orientation":c,...h,ref:e})})});yk.displayName=yf;var xk="TabsList",bk=w.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,l=hg(xk,r),c=vk(r);return a.jsx(k2,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:n,children:a.jsx(ot.div,{role:"tablist","aria-orientation":l.orientation,...i,ref:e})})});bk.displayName=xk;var wk="TabsTrigger",kk=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...l}=t,c=hg(wk,r),u=vk(r),f=Ck(c.baseId,n),h=Ak(c.baseId,n),p=n===c.value;return a.jsx(N2,{asChild:!0,...u,focusable:!i,active:p,children:a.jsx(ot.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:f,...l,ref:e,onMouseDown:De(t.onMouseDown,y=>{!i&&y.button===0&&y.ctrlKey===!1?c.onValueChange(n):y.preventDefault()}),onKeyDown:De(t.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&c.onValueChange(n)}),onFocus:De(t.onFocus,()=>{const y=c.activationMode!=="manual";!p&&!i&&y&&c.onValueChange(n)})})})});kk.displayName=wk;var Nk="TabsContent",Ek=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:l,...c}=t,u=hg(Nk,r),f=Ck(u.baseId,n),h=Ak(u.baseId,n),p=n===u.value,y=w.useRef(p);return w.useEffect(()=>{const k=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(k)},[]),a.jsx(ui,{present:i||p,children:({present:k})=>a.jsx(ot.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!k,id:h,tabIndex:0,...c,ref:e,style:{...t.style,animationDuration:y.current?"0s":void 0},children:k&&l})})});Ek.displayName=Nk;function Ck(t,e){return`${t}-trigger-${e}`}function Ak(t,e){return`${t}-content-${e}`}var _4=yk,I4=bk,D4=kk,z4=Ek;function O4({className:t,...e}){return a.jsx(_4,{"data-slot":"tabs",className:Ct("flex flex-col gap-2",t),...e})}function L4({className:t,...e}){return a.jsx(I4,{"data-slot":"tabs-list",className:Ct("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...e})}function rd({className:t,...e}){return a.jsx(D4,{"data-slot":"tabs-trigger",className:Ct("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function nd({className:t,...e}){return a.jsx(z4,{"data-slot":"tabs-content",className:Ct("flex-1 outline-none",t),...e})}function F4({...t}){return a.jsx(u2,{"data-slot":"dialog",...t})}function B4({...t}){return a.jsx(d2,{"data-slot":"dialog-trigger",...t})}function U4({...t}){return a.jsx(f2,{"data-slot":"dialog-portal",...t})}function $4({className:t,...e}){return a.jsx(h2,{"data-slot":"dialog-overlay",className:Ct("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function W4({className:t,children:e,...r}){return a.jsxs(U4,{"data-slot":"dialog-portal",children:[a.jsx($4,{}),a.jsxs(m2,{"data-slot":"dialog-content",className:Ct("bg-card/90 backdrop-blur-md text-card-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-xl border border-border/50 p-6 shadow-2xl duration-200 sm:max-w-lg",t),...r,children:[e,a.jsxs(g2,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none text-muted-foreground hover:text-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(Ua,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function H4({className:t,...e}){return a.jsx("div",{"data-slot":"dialog-header",className:Ct("flex flex-col gap-2 text-center sm:text-left",t),...e})}function q4({className:t,...e}){return a.jsx(p2,{"data-slot":"dialog-title",className:Ct("text-lg leading-none font-semibold text-foreground",t),...e})}const ib=()=>{const{connected:t,address:e}=Qt(),{getContractInstance:r,executeTransaction:n}=or(),{isMobile:i}=Nr(),[l,c]=w.useState(!1),[u,f]=w.useState({address:"",tokenId:"",maxSupply:""}),[h,p]=w.useState(null),[y,k]=w.useState(!1),g=(A,P)=>{f(z=>({...z,[A]:P}))},S=async()=>{if(!u.address||!t){ge.error("Please enter a collection address and connect your wallet");return}k(!0);try{const A=r(u.address,"erc1155Prize");if(!A)throw new Error("Failed to create contract instance");const P=await A.owner(),z=P.toLowerCase()===e.toLowerCase();let L="ERC1155 Collection";try{L=await A.name()}catch{L=`ERC1155 Collection (${u.address.slice(0,6)}...${u.address.slice(-4)})`}p({address:u.address,name:L,isOwner:z,owner:P}),z?ge.success("Collection loaded successfully"):ge.error("You are not the owner of this collection")}catch(A){console.error("Error loading collection info:",A),ge.error("Failed to load collection info. Please verify the address is a valid ERC1155 collection."),p(null)}finally{k(!1)}},N=async()=>{if(!t||!e){ge.error("Please connect your wallet");return}if(!h||!h.isOwner){ge.error("Please load collection info first and ensure you are the owner");return}if(!u.tokenId||!u.maxSupply){ge.error("Please fill in all required fields");return}const A=parseInt(u.tokenId),P=parseInt(u.maxSupply);if(isNaN(A)||A<0){ge.error("Please enter a valid token ID (non-negative integer)");return}if(isNaN(P)||P<=0){ge.error("Please enter a valid max supply (positive integer)");return}c(!0);try{const z=r(u.address,"erc1155Prize"),L=await n(z,"createNewToken",[A,P],{description:`Creating new token ID ${A} with max supply ${P}`,successMessage:`Token ID ${A} created successfully!`});if(L.success)ge.success(`Token ID ${A} created successfully with max supply of ${P}!`),f($=>({...$,tokenId:"",maxSupply:""}));else throw new Error(L.error)}catch(z){console.error("Error creating new token:",z),ge.error(`Failed to create new token: ${z.message}`)}finally{c(!1)}};return a.jsx("div",{className:`bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl shadow-lg ${i?"p-4":"p-6"}`,children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Collection Address"}),a.jsx(ti,{children:a.jsx("input",{type:"text",value:u.address,onChange:A=>g("address",A.target.value),className:`w-full px-3 py-2 border border-border rounded-md bg-background ${i?"text-sm":""}`,placeholder:"0x..."})})]}),a.jsxs("button",{onClick:S,disabled:y||!t,className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm ${i?"text-sm":""}`,title:t?u.address?"Load collection information":"Please enter a collection address":"Please connect your wallet",children:[a.jsx(Ba,{className:"h-4 w-4"}),y?"Loading...":"Load Collection Info"]})]}),h&&a.jsxs("div",{className:`p-4 bg-muted/50 rounded-lg border ${i?"text-sm":""}`,children:[a.jsx("h4",{className:"font-medium mb-2",children:"Collection Information"}),a.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",h.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Address:"})," ",h.address]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Owner:"})," ",h.owner]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"You are owner:"})," ",h.isOwner?" Yes":" No"]})]}),!h.isOwner&&a.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[a.jsx(rn,{className:"h-4 w-4 text-destructive"}),a.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot create new tokens."})]})]}),h&&h.isOwner&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:`font-medium ${i?"text-base":""}`,children:"Create New Token"}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Token ID"}),a.jsx(ti,{children:a.jsx("input",{type:"number",min:"0",value:u.tokenId,onChange:A=>g("tokenId",A.target.value),className:`w-full px-3 py-2 border border-border rounded-md bg-background ${i?"text-sm":""}`,placeholder:"0"})}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Unique identifier for the new token"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Max Supply"}),a.jsx(ti,{children:a.jsx("input",{type:"number",min:"1",value:u.maxSupply,onChange:A=>g("maxSupply",A.target.value),className:`w-full px-3 py-2 border border-border rounded-md bg-background ${i?"text-sm":""}`,placeholder:"100"})}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Maximum number of tokens that can be minted"})]})]}),a.jsxs("button",{onClick:N,disabled:l||!t||!h.isOwner,className:`w-full bg-gradient-to-r from-purple-500 to-purple-600 text-white px-6 py-3 rounded-lg hover:from-purple-600 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm ${i?"text-sm":""}`,title:t?h.isOwner?!u.tokenId||!u.maxSupply?"Please fill in all required fields":"Create new token ID":"Only collection owner can create new tokens":"Please connect your wallet",children:[a.jsx(Ui,{className:"h-4 w-4"}),l?"Creating...":"Create New Token ID"]})]})]})})},V4=({isOpen:t,onOpenChange:e,trigger:r,title:n,children:i,className:l=""})=>{const{isMobile:c}=Nr(),[u,f]=w.useState(!1),h=w.useRef(null),p=w.useRef(null),[y,k]=w.useState(!1);w.useEffect(()=>{const N=A=>{f(A.detail.visible)};return window.addEventListener("keyboardStateChange",N),()=>window.removeEventListener("keyboardStateChange",N)},[]),w.useEffect(()=>{d4(t)},[t]),w.useEffect(()=>{if(t){k(!0),document.body.style.overflow="hidden",document.documentElement.classList.add("modal-open");const N=setTimeout(()=>k(!1),300);return()=>clearTimeout(N)}else k(!1),document.body.style.overflow="",document.documentElement.classList.remove("modal-open")},[t]),w.useEffect(()=>{if(!t||!c)return;const N=A=>{A.key==="Escape"&&e(!1)};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[t,c,e]);const g=N=>{N.target===N.currentTarget&&e(!1)},S=N=>{N.stopPropagation()};return c?a.jsxs(a.Fragment,{children:[r,t&&So.createPortal(a.jsxs("div",{ref:h,className:`fixed inset-0 z-[9999] flex ${u?"items-start pt-4":"items-end"} justify-center transition-all duration-300 ${l}`,onClick:g,style:{transform:y?"translateY(100%)":"translateY(0)",transition:"transform 0.3s ease-out"},children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 transition-opacity duration-300"}),a.jsxs("div",{ref:p,className:`
              relative bg-background border border-border rounded-t-xl shadow-lg w-full mx-2 
              ${u?"max-h-[60vh]":"max-h-[85vh]"} 
              transition-all duration-300 ease-out
              ${y?"translate-y-full opacity-0":"translate-y-0 opacity-100"}
            `,onClick:S,onTouchStart:S,onTouchMove:S,onTouchEnd:S,children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border bg-background rounded-t-xl",children:[a.jsx("h2",{className:"text-lg font-semibold text-foreground",children:n}),a.jsx("button",{onClick:()=>e(!1),className:"p-2 hover:bg-muted rounded-md transition-colors touch-manipulation",style:{minHeight:"44px",minWidth:"44px"},children:a.jsx(Ua,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"p-4 overflow-y-auto",style:{maxHeight:u?"calc(60vh - 80px)":"calc(85vh - 80px)",WebkitOverflowScrolling:"touch",touchAction:"pan-y"},children:i})]})]}),document.body)]}):a.jsxs(a.Fragment,{children:[r,t&&So.createPortal(a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:g}),a.jsxs("div",{className:"relative bg-background border border-border rounded-lg shadow-lg max-w-md w-full mx-4 max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsx("h2",{className:"text-lg font-semibold",children:n}),a.jsx("button",{onClick:()=>e(!1),className:"p-1 hover:bg-muted rounded-md transition-colors",children:a.jsx(Ua,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-80px)]",children:i})]})]}),document.body)]})},G4=({activities:t,createdRaffles:e,purchasedTickets:r,creatorStats:n,onDeleteRaffle:i,onViewRevenue:l,onClaimPrize:c,onClaimRefund:u})=>{const f=Uo(),[h,p]=w.useState("activity"),{isMobile:y}=Nr();w.useEffect(()=>(rk(),()=>uk()),[]);const[k,g]=w.useState({royalty:!1,minter:!1,tokenCreator:!1,revenue:!1}),[S,N]=w.useState(null),A=[{key:"royalty",title:"Royalty & Reveal",description:"Manage royalties and reveal collections",icon:"",component:rb},{key:"minter",title:"Minter Approval",description:"Manage minter approvals for collections",icon:"",component:sb},{key:"tokenCreator",title:"Create Token ID",description:"Add new token IDs to ERC1155 collections",icon:"",component:ib},{key:"revenue",title:"Revenue Withdrawal",description:"Withdraw revenue from completed raffles",icon:"",component:nb}],P=Q=>{N(Q)},z=()=>{N(null)};w.useEffect(()=>{if(y&&S)return document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}},[y,S]);const L=({utilityKey:Q})=>{const X=A.find(I=>I.key===Q);if(!X)return null;const H=X.component;return a.jsxs("div",{className:"fixed inset-0 z-50 bg-background",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border bg-background/95 backdrop-blur-sm sticky top-0 z-10",children:[a.jsxs("button",{onClick:z,className:"flex items-center gap-2 text-foreground hover:text-primary transition-colors min-h-[44px] min-w-[44px] justify-center",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),a.jsx("span",{className:"font-medium",children:"Back"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:X.icon}),a.jsx("h1",{className:"text-lg font-semibold",children:X.title})]}),a.jsx("div",{className:"w-16"})," "]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[a.jsx("div",{className:"mb-4",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:X.description})}),a.jsx("div",{className:"mobile-utility-page-content",children:a.jsx(H,{})})]})]})},$=()=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Creator Utilities"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage your collections, royalties, and revenue"})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:A.map(Q=>a.jsx("button",{onClick:()=>P(Q.key),className:"p-4 bg-card border border-border rounded-xl hover:bg-muted/50 transition-all duration-200 text-left",children:a.jsxs("div",{className:"flex flex-col items-center text-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:Q.icon}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-sm leading-tight",children:Q.title}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1 leading-tight",children:Q.description})]})]})},Q.key))})]});w.useEffect(()=>{if(y&&Object.values(k).some(Boolean))return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[k,y]),w.useEffect(()=>()=>{y&&(document.body.style.overflow="unset")},[y]);const U=({isOpen:Q,onOpenChange:X,trigger:H,title:I,children:v})=>y?a.jsx(V4,{isOpen:Q,onOpenChange:X,trigger:H,title:I,children:v}):a.jsxs(F4,{open:Q,onOpenChange:X,children:[a.jsx(B4,{asChild:!0,children:H}),a.jsxs(W4,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(H4,{children:a.jsx(q4,{children:I})}),v]})]}),W=()=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Recent Activity"}),a.jsxs(wo,{variant:"outline",children:[t.length," activities"]})]}),t.length===0?a.jsx(mr,{children:a.jsxs(pr,{className:"text-center py-8",children:[a.jsx(Pm,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No activity yet"})]})}):a.jsx("div",{className:"space-y-3",children:t.slice(0,10).map((Q,X)=>a.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 hover:shadow-lg transition-all duration-300",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"mt-1",children:Q.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-foreground",children:Q.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:Q.description}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Q.timestamp})]})]})},X))})]}),V=()=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Created Raffles"}),a.jsxs(wo,{variant:"outline",children:[e.length," raffles"]})]}),e.length===0?a.jsx(mr,{children:a.jsxs(pr,{className:"text-center py-8",children:[a.jsx(Ui,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"You haven't created any raffles yet"}),a.jsx(Be,{onClick:()=>f("/create-raffle"),className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white hover:from-purple-600 hover:to-purple-700 transition-colors",children:"Create Your First Raffle"})]})}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(Q=>a.jsxs(mr,{className:"hover:shadow-md transition-shadow",children:[a.jsx(Zr,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(en,{className:"text-base truncate",children:Q.name}),a.jsx(wo,{variant:Q.state==="active"?"default":"secondary",className:"text-xs",children:Q.state})]})}),a.jsxs(pr,{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Tickets Sold"}),a.jsx("p",{className:"font-medium",children:Q.ticketsSold})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Revenue"}),a.jsxs("p",{className:"font-medium",children:[Q.ticketsSold*parseFloat(Q.ticketPrice)/1e18," ETH"]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Be,{size:"sm",onClick:()=>f(`/raffle/${Q.address}`),className:"flex-1 bg-gradient-to-r from-purple-500 to-purple-600 text-white hover:from-purple-600 hover:to-purple-700 transition-colors",children:[a.jsx(kx,{className:"h-4 w-4 mr-1"}),"View"]}),a.jsxs(Be,{size:"sm",onClick:()=>l(Q),className:"flex-1 bg-gradient-to-r from-purple-500 to-purple-600 text-white hover:from-purple-600 hover:to-purple-700 transition-colors",children:[a.jsx(uc,{className:"h-4 w-4 mr-1"}),"Revenue"]})]})]})]},Q.address))})]}),J=()=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Purchased Tickets"}),a.jsxs(wo,{variant:"outline",children:[r.length," tickets"]})]}),r.length===0?a.jsx(mr,{children:a.jsxs(pr,{className:"text-center py-8",children:[a.jsx(Eo,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"You haven't purchased any tickets yet"}),a.jsx(Be,{onClick:()=>f("/"),className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white hover:from-purple-600 hover:to-purple-700 transition-colors",children:"Browse Raffles"})]})}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(Q=>a.jsxs(mr,{className:"hover:shadow-md transition-shadow",children:[a.jsx(Zr,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(en,{className:"text-base truncate",children:Q.raffleName}),a.jsx(wo,{variant:Q.canClaimPrize?"default":"secondary",className:"text-xs",children:Q.canClaimPrize?"Prize Available":Q.state})]})}),a.jsxs(pr,{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Ticket Price"}),a.jsxs("p",{className:"font-medium",children:[parseFloat(Q.ticketPrice)/1e18," ETH"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Purchase Date"}),a.jsx("p",{className:"font-medium",children:new Date(Q.purchaseTime*1e3).toLocaleDateString()})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Be,{variant:"outline",size:"sm",onClick:()=>f(`/raffle/${Q.raffleAddress}`),className:"flex-1",children:[a.jsx(kx,{className:"h-4 w-4 mr-1"}),"View"]}),Q.canClaimPrize&&a.jsxs(Be,{size:"sm",onClick:()=>c(Q),className:"flex-1",children:[a.jsx(qP,{className:"h-4 w-4 mr-1"}),"Claim Prize"]})]})]})]},Q.id))})]}),re=()=>a.jsxs("div",{className:`space-y-6 ${y?"w-full overflow-hidden":""}`,children:[a.jsxs("div",{className:`grid gap-4 ${y?"grid-cols-1":"md:grid-cols-2 lg:grid-cols-4"}`,children:[a.jsxs(mr,{className:y?"w-full overflow-hidden":"",children:[a.jsxs(Zr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(en,{className:"text-sm font-medium",children:"Total Raffles"}),a.jsx(Ui,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(pr,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n.totalRaffles}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.activeRaffles," currently active"]})]})]}),a.jsxs(mr,{className:y?"w-full overflow-hidden":"",children:[a.jsxs(Zr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(en,{className:"text-sm font-medium",children:"Total Revenue"}),a.jsx(uc,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(pr,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[n.totalRevenue," ETH"]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",n.monthlyRevenue," this month"]})]})]}),a.jsxs(mr,{className:y?"w-full overflow-hidden":"",children:[a.jsxs(Zr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(en,{className:"text-sm font-medium",children:"Total Participants"}),a.jsx(Bp,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(pr,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n.totalParticipants}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.uniqueParticipants," unique users"]})]})]}),a.jsxs(mr,{className:y?"w-full overflow-hidden":"",children:[a.jsxs(Zr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(en,{className:"text-sm font-medium",children:"Success Rate"}),a.jsx(tj,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(pr,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[n.successRate,"%"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed raffles"})]})]})]}),y?a.jsx($,{}):a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs(mr,{children:[a.jsxs(Zr,{children:[a.jsx(en,{children:"Royalty and Reveal Management"}),a.jsx(_a,{children:"Reveal your collection and manage royalties"})]}),a.jsx(pr,{children:a.jsx(U,{isOpen:k.royalty,onOpenChange:Q=>g(X=>({...X,royalty:Q})),title:"Royalty and Reveal Management",trigger:a.jsx(Be,{className:"w-full bg-gradient-to-r from-purple-500 to-purple-600 text-white hover:from-purple-600 hover:to-purple-700",children:"Open Royalty Manager"}),children:a.jsx(rb,{})})})]}),a.jsxs(mr,{children:[a.jsxs(Zr,{children:[a.jsx(en,{children:"Minter Approval Management"}),a.jsx(_a,{children:"Manage minter approvals for your collections"})]}),a.jsx(pr,{children:a.jsx(U,{isOpen:k.minter,onOpenChange:Q=>g(X=>({...X,minter:Q})),title:"Minter Approval Management",trigger:a.jsx(Be,{className:"w-full bg-gradient-to-r from-purple-500 to-purple-600 text-white hover:from-purple-600 hover:to-purple-700",children:"Open Minter Manager"}),children:a.jsx(sb,{})})})]}),a.jsxs(mr,{children:[a.jsxs(Zr,{children:[a.jsx(en,{children:"Create New Token ID"}),a.jsx(_a,{children:"Add new token IDs to existing ERC1155 collections"})]}),a.jsx(pr,{children:a.jsx(U,{isOpen:k.tokenCreator,onOpenChange:Q=>g(X=>({...X,tokenCreator:Q})),title:"Create New Token ID",trigger:a.jsx(Be,{className:"w-full bg-gradient-to-r from-purple-500 to-purple-600 text-white hover:from-purple-600 hover:to-purple-700",children:"Open Token Creator"}),children:a.jsx(ib,{})})})]}),a.jsxs(mr,{children:[a.jsxs(Zr,{children:[a.jsx(en,{children:"Creator Revenue Withdrawal"}),a.jsx(_a,{children:"Withdraw revenue from your raffles"})]}),a.jsx(pr,{children:a.jsx(U,{isOpen:k.revenue,onOpenChange:Q=>g(X=>({...X,revenue:Q})),title:"Creator Revenue Withdrawal",trigger:a.jsx(Be,{className:"w-full bg-gradient-to-r from-purple-500 to-purple-600 text-white hover:from-purple-600 hover:to-purple-700",children:"Open Revenue Manager"}),children:a.jsx(nb,{})})})]})]})]});return a.jsxs(a.Fragment,{children:[a.jsxs(O4,{value:h,onValueChange:p,className:"w-full",children:[y?a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[a.jsxs("button",{onClick:()=>p("activity"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${h==="activity"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:[a.jsx(Pm,{className:"h-5 w-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Activity"})]}),a.jsxs("button",{onClick:()=>p("created"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${h==="created"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:[a.jsx(Ui,{className:"h-5 w-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Created"})]}),a.jsxs("button",{onClick:()=>p("purchased"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${h==="purchased"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:[a.jsx(Eo,{className:"h-5 w-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Tickets"})]}),a.jsxs("button",{onClick:()=>p("dashboard"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${h==="dashboard"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:[a.jsx(wx,{className:"h-5 w-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})]})]}):a.jsxs(L4,{className:"grid w-full grid-cols-4",children:[a.jsxs(rd,{value:"activity",className:"flex items-center gap-2",children:[a.jsx(Pm,{className:"h-4 w-4"}),"Activity"]}),a.jsxs(rd,{value:"created",className:"flex items-center gap-2",children:[a.jsx(Ui,{className:"h-4 w-4"}),"Created"]}),a.jsxs(rd,{value:"purchased",className:"flex items-center gap-2",children:[a.jsx(Eo,{className:"h-4 w-4"}),"Purchased"]}),a.jsxs(rd,{value:"dashboard",className:"flex items-center gap-2",children:[a.jsx(wx,{className:"h-4 w-4"}),"Dashboard"]})]}),a.jsx(nd,{value:"activity",className:y?"mt-4":"mt-6",children:a.jsx(W,{})}),a.jsx(nd,{value:"created",className:y?"mt-4":"mt-6",children:a.jsx(V,{})}),a.jsx(nd,{value:"purchased",className:y?"mt-4":"mt-6",children:a.jsx(J,{})}),a.jsx(nd,{value:"dashboard",className:y?"mt-4":"mt-6",children:a.jsx(re,{})})]}),y&&S&&a.jsx(L,{utilityKey:S})]})};function Hm(t){switch(t){case 0:return"pending";case 1:return"active";case 2:return"drawing";case 3:return"completed";case 4:return"allPrizesClaimed";case 5:return"ended";default:return"unknown"}}const K4=()=>{const{connected:t,address:e,provider:r,chainId:n}=Qt(),{contracts:i,getContractInstance:l,executeTransaction:c,executeCall:u}=or();Uo();const{isMobile:f}=Nr(),h=w.useMemo(()=>t,[t]),p=w.useMemo(()=>e,[e]),y=w.useMemo(()=>i,[i]),[k,g]=w.useState("activity"),[S,N]=w.useState([]),[A,P]=w.useState([]),[z,L]=w.useState([]),[$,U]=w.useState(!1),[W,V]=w.useState(!1),[J,re]=w.useState(null),[Q,X]=w.useState({totalTicketsPurchased:0,totalRafflesCreated:0,totalPrizesWon:0,totalRevenueWithdrawn:"0",totalRefundsClaimed:0});function H(O){var B,te;if(O!=null&&O.reason)return O.reason;if((B=O==null?void 0:O.data)!=null&&B.message)return O.data.message;const T=(O==null?void 0:O.message)||((te=O==null?void 0:O.data)==null?void 0:te.message)||(O==null?void 0:O.toString())||"",b=T.match(/execution reverted:?\s*([^\n]*)/i);return b&&b[1]?b[1].trim():T}const I=w.useCallback(async()=>{if(!(!h||!p||!r)){U(!0);try{const O=[],T=await r.getBlockNumber(),b=Math.max(0,T-5e4);if(console.log("Fetching activity from block",b,"to",T),i.raffleDeployer)try{const te=i.raffleDeployer.filters.RaffleCreated(null,e),M=await i.raffleDeployer.queryFilter(te,b);if(console.log("Found",M.length,"RaffleCreated events for address:",e),M.length===0){const K=Math.max(0,T-1e5);console.log("No events found, trying from block",K);const q=await i.raffleDeployer.queryFilter(te,K);console.log("Found",q.length,"events from earlier block range"),M.push(...q)}for(const K of M){const q=await r.getBlock(K.blockNumber);try{const Y=l(K.args.raffle,"raffle");let ie=`Raffle ${K.args.raffle.slice(0,8)}...`;if(Y){const ue=await u(Y.name);ue.success&&(ie=ue.result)}O.push({type:"raffle_created",raffleAddress:K.args.raffle,raffleName:ie,timestamp:q.timestamp,txHash:K.transactionHash,blockNumber:K.blockNumber})}catch(Y){console.error("Error processing RaffleCreated event:",Y),O.push({type:"raffle_created",raffleAddress:K.args.raffle,raffleName:`Raffle ${K.args.raffle.slice(0,8)}...`,timestamp:q.timestamp,txHash:K.transactionHash,blockNumber:K.blockNumber})}}}catch(te){console.error("Error fetching RaffleCreated events:",te)}if(i.raffleManager)try{const te=i.raffleManager.filters.RaffleRegistered(),M=await i.raffleManager.queryFilter(te,b);console.log("Found",M.length,"registered raffles");for(const K of M){const q=K.args.raffle,Y=l(q,"raffle");if(Y)try{const ie=Y.filters.TicketsPurchased(e),ue=await Y.queryFilter(ie,b);for(const ke of ue){const Se=await r.getBlock(ke.blockNumber);try{const[xe,Ve,Dt,Ue,He,xr,xt,nt,ar]=await Promise.all([u(Y.name),u(Y.ticketPrice),u(Y.state),u(Y.isWinner,e),u(Y.prizeClaimed,e),u(Y.refundClaimed,e),u(Y.prizeCollection),u(Y.isPrized),u(Y.isExternallyPrized)]),bt=!!nt.success&&nt.result;let Xe=Dt.success?Hm(Dt.result):"unknown";!bt&&Xe==="allPrizesClaimed"&&(Xe="completed");const tr=ke.args.quantity.toNumber(),Nt=Ve.success?Ve.result.mul(tr):ce.from(0);O.push({type:"ticket_purchase",raffleAddress:q,raffleName:xe.result,quantity:tr,totalCost:Nt,purchaseDate:(await r.getBlock(ke.blockNumber)).timestamp,isWinner:Ue.success?Ue.result:!1,raffleState:Xe,prizeClaimed:He.success?He.result:!1,refundClaimed:xr.success?xr.result:!1,isPrized:bt,isExternallyPrized:ar.success?ar.result:!1})}catch(xe){console.error("Error fetching ticket details:",xe)}}const le=Y.filters.PrizeClaimed(e),de=await Y.queryFilter(le,b);for(const ke of de){const Se=await r.getBlock(ke.blockNumber);try{const xe=await u(Y.name);O.push({type:"prize_claimed",raffleAddress:q,raffleName:xe.success?xe.result:`Raffle ${q.slice(0,8)}...`,tokenId:ke.args.tokenId.toString(),timestamp:Se.timestamp,txHash:ke.transactionHash,blockNumber:ke.blockNumber})}catch(xe){console.error("Error fetching raffle name for prize:",xe)}}const je=Y.filters.RevenueWithdrawn(e),pe=await Y.queryFilter(je,b);for(const ke of pe){const Se=await r.getBlock(ke.blockNumber);try{const xe=await u(Y.name);O.push({type:"revenue_withdrawn",raffleAddress:q,raffleName:xe.success?xe.result:`Raffle ${q.slice(0,8)}...`,amount:ke.args.amount,timestamp:Se.timestamp,txHash:ke.transactionHash,blockNumber:ke.blockNumber})}catch(xe){console.error("Error fetching raffle name for revenue:",xe)}}const Ae=Y.filters.RaffleDeleted(),rt=await Y.queryFilter(Ae,b);for(const ke of rt){const Se=await r.getBlock(ke.blockNumber);try{const xe=await u(Y.name);O.push({type:"raffle_deleted",raffleAddress:q,raffleName:xe.success?xe.result:`Raffle ${q.slice(0,8)}...`,timestamp:Se.timestamp,txHash:ke.transactionHash,blockNumber:ke.blockNumber})}catch(xe){console.error("Error fetching raffle name for deletion:",xe)}}const Le=Y.filters.DeletionRefund(e),Ge=await Y.queryFilter(Le,b);for(const ke of Ge){const Se=await r.getBlock(ke.blockNumber);try{const xe=await u(Y.name);O.push({type:"refund_claimed",raffleAddress:q,raffleName:xe.success?xe.result:`Raffle ${q.slice(0,8)}...`,amount:ke.args.amount,timestamp:Se.timestamp,txHash:ke.transactionHash,blockNumber:ke.blockNumber})}catch{O.push({type:"refund_claimed",raffleAddress:q,raffleName:`Raffle ${q.slice(0,8)}...`,amount:ke.args.amount,timestamp:Se.timestamp,txHash:ke.transactionHash,blockNumber:ke.blockNumber})}}const kt=Y.filters.FullRefundForDeletion(e),Ke=await Y.queryFilter(kt,b);for(const ke of Ke){const Se=await r.getBlock(ke.blockNumber);try{const xe=await u(Y.name);O.push({type:"refund_claimed",raffleAddress:q,raffleName:xe.success?xe.result:`Raffle ${q.slice(0,8)}...`,amount:ke.args.amount,timestamp:Se.timestamp,txHash:ke.transactionHash,blockNumber:ke.blockNumber})}catch{O.push({type:"refund_claimed",raffleAddress:q,raffleName:`Raffle ${q.slice(0,8)}...`,amount:ke.args.amount,timestamp:Se.timestamp,txHash:ke.transactionHash,blockNumber:ke.blockNumber})}}}catch(ie){console.error("Error processing raffle events:",ie)}}}catch(te){console.error("Error fetching raffle manager events:",te)}if(i.revenueManager)try{const te=i.revenueManager.filters.AdminWithdrawn(e),M=await i.revenueManager.queryFilter(te,b);for(const K of M){const q=await r.getBlock(K.blockNumber);O.push({type:"admin_withdrawn",amount:K.args.amount,timestamp:q.timestamp,txHash:K.transactionHash,blockNumber:K.blockNumber})}}catch(te){console.error("Error fetching AdminWithdrawn events:",te)}O.sort((te,M)=>M.timestamp-te.timestamp),N(O),console.log("Total activities found:",O.length),console.log("Activity breakdown:",{raffle_created:O.filter(te=>te.type==="raffle_created").length,ticket_purchase:O.filter(te=>te.type==="ticket_purchase").length,prize_claimed:O.filter(te=>te.type==="prize_claimed").length,revenue_withdrawn:O.filter(te=>te.type==="revenue_withdrawn").length,raffle_deleted:O.filter(te=>te.type==="raffle_deleted").length,admin_withdrawn:O.filter(te=>te.type==="admin_withdrawn").length,deletion_refund:O.filter(te=>te.type==="refund_claimed").length,full_refund_for_deletion:O.filter(te=>te.type==="refund_claimed").length});const B={totalTicketsPurchased:O.filter(te=>te.type==="ticket_purchase").length,totalRafflesCreated:O.filter(te=>te.type==="raffle_created").length,totalPrizesWon:O.filter(te=>te.type==="prize_claimed").length,totalRevenueWithdrawn:O.filter(te=>te.type==="revenue_withdrawn"||te.type==="admin_withdrawn").reduce((te,M)=>te.add(M.amount),ce.from(0)).toString(),totalRefundsClaimed:O.filter(te=>te.type==="refund_claimed").length};X(B)}catch(O){console.error("Error fetching on-chain activity:",O)}finally{U(!1)}}},[h,p,r,y,l,u]),v=w.useCallback(async()=>{if(!(!h||!p||!y.raffleManager))try{const O=[],T=await r.getBlockNumber(),b=Math.max(0,T-5e4);console.log("Fetching created raffles from block",b,"to",T);const B=y.raffleDeployer.filters.RaffleCreated(null,p),te=await y.raffleDeployer.queryFilter(B,b);if(console.log("Found",te.length,"RaffleCreated events for user:",p),te.length===0){const M=Math.max(0,T-1e5);console.log("No raffles found, trying from block",M);const K=await y.raffleDeployer.queryFilter(B,M);console.log("Found",K.length,"raffles from earlier block range"),te.push(...K)}for(const M of te){const K=M.args.raffle;console.log("Processing raffle:",K);const q=l(K,"raffle");if(q)try{const[Y,ie,ue,le,de,je,pe,Ae]=await Promise.all([u(q.name),u(q.startTime),u(q.duration),u(q.ticketLimit),u(q.ticketsSold),u(q.state),u(q.totalRevenue),u(q.isExternallyPrized)]);if(Y.success){const rt={id:K,name:Y.result,address:K,startTime:ie.success?ie.result.toNumber():0,duration:ue.success?ue.result.toNumber():0,ticketLimit:le.success?le.result.toNumber():0,ticketsSold:de.success?de.result.toNumber():0,totalRevenue:pe.success?pe.result:ce.from(0),state:je.success?Hm(je.result):"unknown",isExternallyPrized:Ae.success?Ae.result:!1};console.log("Successfully fetched raffle data:",rt),O.push(rt)}else console.error("Failed to fetch raffle name for:",K)}catch(Y){console.error("Error fetching raffle details for",K,":",Y)}else console.error("Failed to create contract instance for raffle:",K)}console.log("Total created raffles found:",O.length),P(O)}catch(O){console.error("Error fetching created raffles:",O)}},[h,p,y,r,l,u]),C=w.useCallback(async()=>{if(!(!h||!p||!y.raffleManager))try{const O=[],T=await r.getBlockNumber(),b=Math.max(0,T-1e4),B=i.raffleManager.filters.RaffleRegistered(),te=await i.raffleManager.queryFilter(B,b);for(const M of te){const K=M.args.raffle,q=l(K,"raffle");if(q){const Y=q.filters.TicketsPurchased(e),ie=await q.queryFilter(Y,b);for(const ue of ie)try{const[le,de,je,pe,Ae,rt,Le,Ge,kt]=await Promise.all([u(q.name),u(q.ticketPrice),u(q.state),u(q.isWinner,e),u(q.prizeClaimed,e),u(q.refundClaimed,e),u(q.prizeCollection),u(q.isPrized),u(q.isExternallyPrized)]),Ke=!!Ge.success&&Ge.result;let ke=je.success?Hm(je.result):"unknown";if(!Ke&&ke==="allPrizesClaimed"&&(ke="completed"),le.success){const Se=ue.args.quantity.toNumber(),xe=de.success?de.result.mul(Se):ce.from(0);O.push({id:`${K}-${ue.transactionHash}`,raffleName:le.result,raffleAddress:K,quantity:Se,totalCost:xe,purchaseDate:(await r.getBlock(ue.blockNumber)).timestamp,isWinner:pe.success?pe.result:!1,raffleState:ke,prizeClaimed:Ae.success?Ae.result:!1,refundClaimed:rt.success?rt.result:!1,isPrized:Ke,isExternallyPrized:kt.success?kt.result:!1})}}catch(le){console.error("Error fetching ticket details:",le)}}}L(O)}catch(O){console.error("Error fetching purchased tickets:",O)}},[h,p,y,r,l,u]);w.useEffect(()=>{h&&p?(I(),v(),C()):(N([]),P([]),L([]),U(!1),V(!1),re(null),X({totalTicketsPurchased:0,totalRafflesCreated:0,totalPrizesWon:0,totalRevenueWithdrawn:"0",totalRefundsClaimed:0}))},[h,p,I,v,C]);const R=async O=>{let T=`Are you sure you want to delete "${O.name}"?`;if(O.ticketsSold>0&&(T+=`

This raffle has ${O.ticketsSold} sold tickets. Deletion will automatically process refunds for all participants.`),!!window.confirm(T))try{const b=l(O.address,"raffle");if(!b)throw new Error("Failed to get raffle contract");const B=await c(b.deleteRaffle);if(B.success){const te=O.ticketsSold>0?`Raffle deleted successfully! Refunds have been processed automatically for ${O.ticketsSold} sold tickets.`:"Raffle deleted successfully!";ge.success(te),U(!0),await Promise.all([I(),v(),C()]),U(!1)}else throw new Error(B.error)}catch(b){console.error("Error deleting raffle:",b),ge.error(H(b))}},_=O=>{re(O),V(!0)},j=async O=>{try{const T=l(O.raffleAddress,"raffle");if(!T)throw new Error("Failed to get raffle contract");let b;if(O.prizeAmount>1?b=await c(T.claimPrizes,O.prizeAmount):b=await c(T.claimPrize),b.success)ge.success("Prize claimed successfully!"),U(!0),await Promise.all([I(),v(),C()]),U(!1);else throw new Error(b.error)}catch(T){console.error("Error claiming prize:",T),ge.error(H(T))}},D=async O=>{try{const T=l(O.raffleAddress,"raffle");if(!T)throw new Error("Failed to get raffle contract");const b=await T.refundedNonWinningTickets(e),B=b&&b.gt&&b.gt(0),te=await c(T.claimRefund);if(te.success)ge.success("Refund claimed successfully!"),U(!0),await Promise.all([I(),v(),C()]),U(!1);else throw new Error(te.error)}catch(T){console.error("Error claiming refund:",T),ge.error(H(T))}};return t?a.jsxs(Co,{variant:"profile",className:f?"py-4":"py-8",children:[a.jsxs("div",{className:f?"mb-6":"mb-8",children:[a.jsx("div",{className:`${f?"mb-4":"flex items-center justify-between mb-4"}`,children:a.jsxs("div",{children:[a.jsx("h1",{className:`font-bold mb-2 ${f?"text-2xl":"text-3xl"}`,children:"Profile"}),a.jsx("p",{className:`text-muted-foreground ${f?"text-sm":"text-base"}`,children:"Track activities, manage your raffles, revenue and collections"})]})}),a.jsxs("div",{className:`mt-4 bg-muted/50 backdrop-blur-sm border border-border/30 rounded-lg ${f?"p-3":"p-4"}`,children:[a.jsx("p",{className:"text-sm font-medium",children:"Connected Account:"}),a.jsx("p",{className:`font-mono ${f?"text-xs break-all":"text-sm"}`,children:e})]})]}),!f&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:`font-semibold mb-4 ${f?"text-lg":"text-xl"}`,children:"Activity Overview"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[a.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 hover:shadow-lg transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Eo,{className:"h-8 w-8 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:`font-bold ${f?"text-lg":"text-2xl"}`,children:Q.totalTicketsPurchased}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Tickets Purchased"})]})]})}),a.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 hover:shadow-lg transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ui,{className:"h-8 w-8 text-green-500"}),a.jsxs("div",{children:[a.jsx("p",{className:`font-bold ${f?"text-lg":"text-2xl"}`,children:Q.totalRafflesCreated}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Raffles Created"})]})]})}),a.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 hover:shadow-lg transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ro,{className:"h-8 w-8 text-yellow-500"}),a.jsxs("div",{children:[a.jsx("p",{className:`font-bold ${f?"text-lg":"text-2xl"}`,children:Q.totalPrizesWon}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Prizes Won"})]})]})}),a.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 hover:shadow-lg transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(uc,{className:"h-8 w-8 text-emerald-500"}),a.jsxs("div",{children:[a.jsx("p",{className:`font-bold ${f?"text-lg":"text-2xl"}`,children:parseFloat(vn(Q.totalRevenueWithdrawn)).toFixed(4)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"ETH Withdrawn"})]})]})}),a.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 hover:shadow-lg transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ZP,{className:"h-8 w-8 text-orange-500"}),a.jsxs("div",{children:[a.jsx("p",{className:`font-bold ${f?"text-lg":"text-2xl"}`,children:Q.totalRefundsClaimed}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Refunds Claimed"})]})]})})]})]}),$?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading..."})]}):a.jsx(G4,{activities:S,createdRaffles:A,purchasedTickets:z,creatorStats:{totalRaffles:A.length,activeRaffles:A.filter(O=>O.state==="active").length,totalRevenue:A.reduce((O,T)=>O+T.ticketsSold*parseFloat(T.ticketPrice)/1e18,0).toFixed(4),monthlyRevenue:"0.0000",totalParticipants:A.reduce((O,T)=>O+T.ticketsSold,0),uniqueParticipants:A.reduce((O,T)=>O+T.ticketsSold,0),successRate:A.length>0?Math.round(A.filter(O=>O.state==="completed").length/A.length*100):0},onDeleteRaffle:R,onViewRevenue:_,onClaimPrize:j,onClaimRefund:D}),W&&J&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-card/90 backdrop-blur-md border border-border/50 rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revenue Details"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Raffle:"}),a.jsx("span",{className:"font-medium",children:J.name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Total Revenue:"}),a.jsxs("span",{className:"font-medium",children:[vn(J.totalRevenue)," ETH"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Tickets Sold:"}),a.jsx("span",{className:"font-medium",children:J.ticketsSold})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{onClick:()=>V(!1),className:"flex-1 bg-gradient-to-r from-gray-500 to-gray-600 text-white px-4 py-2 rounded-md hover:from-gray-600 hover:to-gray-700 transition-colors",children:"Close"}),a.jsx("button",{onClick:()=>{V(!1)},className:"flex-1 bg-gradient-to-r from-green-500 to-teal-600 text-white px-4 py-2 rounded-md hover:from-green-600 hover:to-teal-700 transition-colors",children:"Withdraw"})]})]})})]}):a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Aw,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Connect Your Wallet"}),a.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to view your profile and activity."})]})})};var xf="Switch",[Y4,M6]=ci(xf),[Q4,J4]=Y4(xf),Sk=w.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:l,required:c,disabled:u,value:f="on",onCheckedChange:h,form:p,...y}=t,[k,g]=w.useState(null),S=Lt(e,L=>g(L)),N=w.useRef(!1),A=k?p||!!k.closest("form"):!0,[P,z]=Io({prop:i,defaultProp:l??!1,onChange:h,caller:xf});return a.jsxs(Q4,{scope:r,checked:P,disabled:u,children:[a.jsx(ot.button,{type:"button",role:"switch","aria-checked":P,"aria-required":c,"data-state":Rk(P),"data-disabled":u?"":void 0,disabled:u,value:f,...y,ref:S,onClick:De(t.onClick,L=>{z($=>!$),A&&(N.current=L.isPropagationStopped(),N.current||L.stopPropagation())})}),A&&a.jsx(jk,{control:k,bubbles:!N.current,name:n,value:f,checked:P,required:c,disabled:u,form:p,style:{transform:"translateX(-100%)"}})]})});Sk.displayName=xf;var Tk="SwitchThumb",Pk=w.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=J4(Tk,r);return a.jsx(ot.span,{"data-state":Rk(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});Pk.displayName=Tk;var X4="SwitchBubbleInput",jk=w.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},l)=>{const c=w.useRef(null),u=Lt(c,l),f=i1(r),h=qw(e);return w.useEffect(()=>{const p=c.current;if(!p)return;const y=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(y,"checked").set;if(f!==r&&g){const S=new Event("click",{bubbles:n});g.call(p,r),p.dispatchEvent(S)}},[f,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:u,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});jk.displayName=X4;function Rk(t){return t?"checked":"unchecked"}var Z4=Sk,e6=Pk;function t6({className:t,size:e="default",...r}){const n={default:{root:"h-5 w-9 rounded-full",thumb:"h-4 w-4 rounded-full data-[state=checked]:translate-x-4"},mobile:{root:"h-6 w-11 rounded-lg",thumb:"h-4 w-4 rounded-md data-[state=checked]:translate-x-5"},large:{root:"h-8 w-14 rounded-full",thumb:"h-7 w-7 rounded-full data-[state=checked]:translate-x-6"}},i=n[e]||n.default;return a.jsx(Z4,{"data-slot":"switch",className:Ct("peer inline-flex shrink-0 cursor-pointer items-center border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-muted",i.root,t),...r,children:a.jsx(e6,{"data-slot":"switch-thumb",className:Ct("pointer-events-none block bg-background shadow-lg ring-0 transition-transform data-[state=unchecked]:translate-x-0",i.thumb)})})}const di=({tokenGatedEnabled:t,onTokenGatedChange:e,formData:r,handleChange:n,required:i=!1,useFormDataEnabled:l=!1})=>{const{isMobile:c}=Nr(),u=l?r.tokenGatedEnabled:t,f=l?h=>n("tokenGatedEnabled",h):e;return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`${c?"p-4 bg-muted/5 rounded-lg border border-border mb-4":"mb-2"}`,children:a.jsxs("div",{className:`flex items-center ${c?"gap-4":"gap-3"}`,children:[a.jsx(t6,{checked:u,onCheckedChange:f,size:c?"mobile":"default"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:`font-medium block ${c?"text-base mb-1":"text-sm"}`,children:"Enable Token-Gated Access"}),c&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Restrict raffle participation to token holders"})]})]})}),u&&a.jsx("div",{className:"p-4 border rounded-lg bg-muted/10 mb-4",children:a.jsxs("div",{className:`${c?"space-y-4":"grid grid-cols-1 md:grid-cols-2 gap-4"}`,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block font-medium mb-1 text-base",children:"Token Address"}),a.jsx("input",{type:"text",value:r.holderTokenAddress||"",onChange:h=>n("holderTokenAddress",h.target.value),className:`w-full border border-border rounded-lg bg-background font-mono ${c?"px-4 py-3 text-base":"px-3 py-2.5 text-base"}`,placeholder:"0x...",required:i&&u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block font-medium mb-1 text-base",children:"Token Standard"}),a.jsxs(Wa,{value:r.holderTokenStandard||"0",onValueChange:h=>n("holderTokenStandard",h),required:i&&u,children:[a.jsx(qa,{className:`w-full border border-border rounded-lg bg-background ${c?"px-4 py-3 text-base h-12":"px-3 py-2.5 text-base"}`,children:a.jsx(Ha,{placeholder:"Select Token Standard"})}),a.jsxs(Va,{children:[a.jsx(yn,{value:"0",children:"ERC721"}),a.jsx(yn,{value:"1",children:"ERC1155"}),a.jsx(yn,{value:"2",children:"ERC20"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block font-medium mb-1 text-base",children:"Minimum Holder Balance"}),a.jsx("input",{type:"number",value:r.minHolderTokenBalance||"",onChange:h=>n("minHolderTokenBalance",h.target.value),className:`w-full border border-border rounded-lg bg-background ${c?"px-4 py-3 text-base":"px-3 py-2.5 text-base"}`,placeholder:"Minimum balance required to enter",required:i&&u})]}),r.holderTokenStandard==="1"&&a.jsxs("div",{children:[a.jsx("label",{className:"block font-medium mb-1 text-base",children:"Token ID"}),a.jsx("input",{type:"number",value:r.holderTokenId||"",onChange:h=>n("holderTokenId",h.target.value),className:`w-full border border-border rounded-lg bg-background ${c?"px-4 py-3 text-base":"px-3 py-2.5 text-base"}`,placeholder:"Token ID (for ERC1155)",required:i&&u})]})]})})]})},r6=({isOpen:t,onToggle:e,raffleType:r,setRaffleType:n,nftStandard:i,setNftStandard:l,erc721Source:c,setErc721Source:u,erc1155Source:f,setErc1155Source:h,className:p=""})=>{const{isMobile:y}=Nr(),[k,g]=w.useState({raffleType:!0,nftConfiguration:!0,collectionSource:!0}),S=[{value:"Whitelist/Allowlist",label:"Whitelist/Allowlist",description:"Whitelist Campaigns"},{value:"NFTDrop",label:"NFT Drop",description:"Raffles with Mintable NFT Prizes"},{value:"Lucky Sale/NFT Giveaway",label:"Lucky Sale/NFT Giveaway",description:"Discounted NFT sales/NFT Giveaways"},{value:"ETH Giveaway",label:"ETH Giveaway",description:"Native Coin Giveaways"},{value:"ERC20 Token Giveaway",label:"ERC20 Token Giveaway",description:"Token Giveaways"}],N=[{value:"ERC721",label:"ERC721"},{value:"ERC1155",label:"ERC1155"}],A=[{value:"New ERC721 Collection",label:"New ERC721 Collection",description:"Deploy new collection"},{value:"Existing ERC721 Collection",label:"Existing ERC721 Collection",description:"Use existing collection"}],P=[{value:"New ERC1155 Collection",label:"New ERC1155 Collection",description:"Deploy new collection"},{value:"Existing ERC1155 Collection",label:"Existing ERC1155 Collection",description:"Use existing collection"}],z=w.useCallback(J=>{g(re=>({...re,[J]:!re[J]}))},[]),L=w.useCallback(()=>{n("Whitelist/Allowlist"),l("ERC721"),u("New ERC721 Collection"),h("New ERC1155 Collection")},[n,l,u,h]),$=w.useMemo(()=>r!=="Whitelist/Allowlist"||i!=="ERC721"||c!=="New ERC721 Collection"||f!=="New ERC1155 Collection",[r,i,c,f]),U=r==="NFTDrop"||r==="Lucky Sale/NFT Giveaway",W=U,V=w.useCallback((J,re,Q,X,H,I=!1)=>{const v=k[re];return a.jsxs("div",{className:"border-b border-border/30 last:border-b-0",children:[a.jsxs("button",{onClick:()=>z(re),className:"w-full flex items-center justify-between p-3 sm:p-4 text-left hover:bg-muted/50 transition-colors",disabled:I,children:[a.jsx("span",{className:`text-sm sm:text-base font-medium ${I?"text-muted-foreground":""}`,children:J}),v?a.jsx(Lp,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"}):a.jsx(Ac,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"})]}),v&&!I&&a.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4 space-y-1 sm:space-y-2",children:Q.map(C=>{const R=X===C.value;return a.jsxs("label",{className:"flex items-start space-x-2 sm:space-x-3 cursor-pointer hover:bg-muted/30 p-1.5 sm:p-2 rounded-md transition-colors",children:[a.jsx("input",{type:"radio",name:re,checked:R,onChange:()=>H(C.value),className:`mt-1 h-3 w-3 sm:h-4 sm:w-4 text-primary bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-full focus:ring-0 focus:outline-none checked:bg-primary checked:border-primary appearance-none relative ${R?'after:content-[""] after:absolute after:top-1/2 after:left-1/2 after:transform after:-translate-x-1/2 after:-translate-y-1/2 after:w-1 after:h-1 sm:after:w-1.5 sm:after:h-1.5 after:bg-white after:rounded-full':""}`,style:{minHeight:"12px",minWidth:"12px",maxHeight:"12px",maxWidth:"12px"}}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("span",{className:"text-xs sm:text-sm font-medium leading-tight",children:C.label}),C.description&&a.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:C.description})]})]},C.value)})}),I&&a.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4",children:a.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Select appropriate raffle type to enable this filter"})})]},re)},[k,z]);return a.jsxs(a.Fragment,{children:[t&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-30",onClick:e}),a.jsxs("div",{className:`
        fixed left-0
        top-14 sm:top-16
        h-[calc(100vh-3.5rem)] sm:h-[calc(100vh-4rem)]
        w-64 sm:w-72 md:w-80
        bg-background border-r border-border
        transform transition-transform duration-300 ease-in-out
        z-40
        flex flex-col
        ${t?"translate-x-0":"-translate-x-full"}
        ${p}
      `,children:[a.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-border bg-muted/20",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(dc,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),a.jsx("h2",{className:"font-semibold text-base sm:text-lg",children:"Create Raffle"})]}),a.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[$&&a.jsx(Be,{variant:"ghost",size:"sm",onClick:L,className:"text-xs px-2 sm:px-3 h-7 sm:h-8 hover:bg-destructive/10 hover:text-destructive",children:"Reset"}),a.jsx(Be,{variant:"ghost",size:"sm",onClick:e,className:"hover:bg-muted h-7 w-7 sm:h-8 sm:w-8 p-0",title:"Close filters",children:a.jsx(Ua,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})]})]}),a.jsx("div",{className:"p-3 sm:p-4 bg-muted/30",children:a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Configure Raffle type and Prizes"})}),a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[V("Raffle Type","raffleType",S,r,n),U&&V("NFT Standard","nftConfiguration",N,i,l),W&&i==="ERC721"&&V("ERC721 Source","collectionSource",A,c,u),W&&i==="ERC1155"&&V("ERC1155 Source","collectionSource",P,f,h)]})]})]})},n6=()=>{const{connected:t,address:e}=Qt(),{contracts:r,executeTransaction:n}=or(),{isMobile:i}=Nr(),l=fi(r,!1),[c,u]=w.useState(!1),[f,h]=w.useState(!1),[p,y]=w.useState({name:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),k=(S,N)=>{y(A=>({...A,[S]:N}))},g=async S=>{if(S.preventDefault(),!t||!r.raffleDeployer){ge.error("Please connect your wallet and ensure contracts are configured");return}u(!0);try{const N=Math.floor(new Date(p.startTime).getTime()/1e3),A=parseInt(p.duration)*60,P=f&&p.holderTokenAddress?p.holderTokenAddress:Oe,z=f?parseInt(p.holderTokenStandard):0,L=f&&p.minHolderTokenBalance?Dn(p.minHolderTokenBalance,18):ce.from(0),$=f&&p.holderTokenId?parseInt(p.holderTokenId):0,U={name:p.name,startTime:N,duration:A,ticketLimit:parseInt(p.ticketLimit),winnersCount:parseInt(p.winnersCount),maxTicketsPerParticipant:1,isPrized:!1,customTicketPrice:0,erc721Drop:!1,erc1155Drop:!1,prizeCollection:Oe,standard:0,prizeTokenId:0,amountPerWinner:0,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:Oe,maxSupply:0,erc20PrizeToken:Oe,erc20PrizeAmount:0,ethPrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,mintingOrder:0,holderTokenAddress:P,holderTokenStandard:z,minHolderTokenBalance:L,holderTokenId:$};let W={success:!1};try{const V=await r.raffleDeployer.createRaffle(U);W={success:!0,receipt:await V.wait(),hash:V.hash}}catch(V){W={success:!1,error:V.message}}if(W.success)ge.success("Whitelist raffle created successfully!"),y({name:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),h(!1);else throw new Error(W.error)}catch(N){console.error("Error creating raffle:",N),ge.error(Go(N))}finally{u(!1)}};return a.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(Fp,{className:"h-5 w-5"}),a.jsx("h3",{className:"text-xl font-semibold",children:"Create Whitelist Raffle"})]}),a.jsxs("form",{onSubmit:g,className:"space-y-5",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Raffle Name"}),a.jsx("input",{type:"text",value:p.name||"",onChange:S=>k("name",S.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),a.jsx("input",{type:"datetime-local",value:p.startTime||"",onChange:S=>k("startTime",S.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),a.jsx("input",{type:"number",value:p.duration||"",onChange:S=>k("duration",S.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minDuration&&l.maxDuration&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",Math.ceil(Number(l.minDuration)/60)," min, Max Allowed: ",Math.floor(Number(l.maxDuration)/60)," min"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),a.jsx("input",{type:"number",value:p.ticketLimit||"",onChange:S=>k("ticketLimit",S.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minTicket&&l.maxTicket&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",l.minTicket,", Max Allowed: ",l.maxTicket]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Winner Count"}),a.jsx("input",{type:"number",value:p.winnersCount||"",onChange:S=>k("winnersCount",S.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per Participant"}),a.jsx("input",{type:"number",value:1,disabled:!0,className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]})]}),a.jsx(di,{tokenGatedEnabled:f,onTokenGatedChange:h,formData:p,handleChange:k,required:!0}),a.jsx("div",{className:"flex gap-4",children:a.jsx(Be,{type:"submit",disabled:c||!t,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:c?"Creating...":"Create Raffle"})})]})]})},s6=()=>{const{connected:t,address:e,provider:r}=Qt(),{contracts:n,executeTransaction:i}=or(),l=fi(n,!0),[c,u]=w.useState(!1),[f,h]=w.useState({name:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",customTicketPrice:"",collectionName:"",collectionSymbol:"",baseURI:"",maxSupply:"",royaltyPercentage:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",mintingOrder:"0",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""});w.useEffect(()=>{e&&!f.royaltyRecipient&&h(k=>({...k,royaltyRecipient:e}))},[e]);const p=(k,g)=>{h(S=>({...S,[k]:g}))},y=async k=>{if(k.preventDefault(),!t||!n.raffleDeployer||!r){ge.error("Please connect your wallet and ensure contracts are configured");return}u(!0);try{const g=r.getSigner(),S=Math.floor(new Date(f.startTime).getTime()/1e3),N=parseInt(f.duration)*60,A=f.customTicketPrice?Ho(f.customTicketPrice):0;let P=parseInt(f.revealType),z=f.unrevealedBaseURI,L=0;P===2&&(L=Math.floor(new Date(f.revealTime).getTime()/1e3)),P!==2&&(z="",L=0);const $={name:f.name,startTime:S,duration:N,ticketLimit:parseInt(f.ticketLimit),winnersCount:parseInt(f.winnersCount),maxTicketsPerParticipant:parseInt(f.maxTicketsPerParticipant),isPrized:!0,customTicketPrice:A,erc721Drop:!1,erc1155Drop:!1,prizeCollection:Oe,standard:0,prizeTokenId:0,amountPerWinner:1,collectionName:f.collectionName,collectionSymbol:f.collectionSymbol,collectionBaseURI:f.baseURI,creator:e,royaltyPercentage:f.royaltyPercentage?parseInt(f.royaltyPercentage)*100:0,royaltyRecipient:f.royaltyRecipient,maxSupply:parseInt(f.maxSupply||f.winnersCount),erc20PrizeToken:Oe,erc20PrizeAmount:0,ethPrizeAmount:0,revealType:P,unrevealedBaseURI:z,revealTime:L,mintingOrder:parseInt(f.mintingOrder),holderTokenAddress:f.tokenGatedEnabled?f.holderTokenAddress:Oe,holderTokenStandard:f.tokenGatedEnabled?parseInt(f.holderTokenStandard):0,minHolderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance!==""&&f.minHolderTokenBalance!==void 0?Dn(f.minHolderTokenBalance,18):ce.from(0),holderTokenId:f.tokenGatedEnabled&&(f.holderTokenStandard==="0"||f.holderTokenStandard==="1")?parseInt(f.holderTokenId):0};await(await n.raffleDeployer.connect(g).createRaffle($)).wait(),ge.success("ERC721 Collection raffle created successfully!"),h({name:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",customTicketPrice:"",collectionName:"",collectionSymbol:"",baseURI:"",maxSupply:"",royaltyPercentage:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",mintingOrder:"0",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(g){console.error("Error creating raffle:",g),ge.error(Go(g))}finally{u(!1)}};return a.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(Jd,{className:"h-5 w-5"}),a.jsx("h3",{className:"text-xl font-semibold",children:"Create New ERC721 Collection Raffle"})]}),a.jsxs("form",{onSubmit:y,className:"space-y-5",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Raffle Name"}),a.jsx("input",{type:"text",value:f.name||"",onChange:k=>p("name",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),a.jsx("input",{type:"datetime-local",value:f.startTime||"",onChange:k=>p("startTime",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),a.jsx("input",{type:"number",value:f.duration||"",onChange:k=>p("duration",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minDuration&&l.maxDuration&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",Math.ceil(Number(l.minDuration)/60)," min, Max Allowed: ",Math.floor(Number(l.maxDuration)/60)," min"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),a.jsx("input",{type:"number",value:f.ticketLimit||"",onChange:k=>p("ticketLimit",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minTicket&&l.maxTicket&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",l.minTicket,", Max Allowed: ",l.maxTicket]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Winners"}),a.jsx("input",{type:"number",value:f.winnersCount||"",onChange:k=>p("winnersCount",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per Participant"}),a.jsx("input",{type:"number",value:f.maxTicketsPerParticipant||"",onChange:k=>p("maxTicketsPerParticipant",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),typeof l.maxTicketsPerParticipant=="string"&&l.maxTicketsPerParticipant!==""?a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max Allowed: ",l.maxTicketsPerParticipant]}):a.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Custom Ticket Price (ETH)"}),a.jsx("input",{type:"number",step:"0.001",value:f.customTicketPrice||"",onChange:k=>p("customTicketPrice",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",placeholder:"Leave empty to use protocol default"})]})]}),a.jsxs("div",{className:"bg-muted/20 border border-border rounded-xl p-4 mt-4",children:[a.jsx("h4",{className:"font-semibold text-base mb-4",children:"NFT Collection Info"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Collection Name"}),a.jsx("input",{type:"text",value:f.collectionName||"",onChange:k=>p("collectionName",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Collection Symbol"}),a.jsx("input",{type:"text",value:f.collectionSymbol||"",onChange:k=>p("collectionSymbol",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Base URI"}),a.jsx("input",{type:"url",value:f.baseURI||"",onChange:k=>p("baseURI",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Supply"}),a.jsx("input",{type:"number",value:f.maxSupply||"",onChange:k=>p("maxSupply",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Royalty Percentage (%)"}),a.jsx("input",{type:"number",value:f.royaltyPercentage||"",onChange:k=>p("royaltyPercentage",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",min:"0",max:"10",step:"0.01",placeholder:"e.g. 5 for 5%"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Enter as a percentage (e.g. 5 for 5%)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Royalty Recipient"}),a.jsx("input",{type:"text",value:f.royaltyRecipient||"",onChange:k=>p("royaltyRecipient",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0,pattern:"^0x[a-fA-F0-9]{40}$"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Must be a valid Ethereum address"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Reveal Type"}),a.jsxs(Wa,{value:f.revealType,onValueChange:k=>p("revealType",k),required:!0,children:[a.jsx(qa,{className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",children:a.jsx(Ha,{placeholder:"Select Reveal Type"})}),a.jsxs(Va,{children:[a.jsx(yn,{value:"0",children:"Instant Reveal"}),a.jsx(yn,{value:"1",children:"Manual Reveal"}),a.jsx(yn,{value:"2",children:"Scheduled Reveal"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Minting Order"}),a.jsxs(Wa,{value:f.mintingOrder,onValueChange:k=>p("mintingOrder",k),required:!0,children:[a.jsx(qa,{className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",children:a.jsx(Ha,{placeholder:"Select Minting Order"})}),a.jsxs(Va,{children:[a.jsx(yn,{value:"0",children:"Linear (1, 2, 3, ...)"}),a.jsx(yn,{value:"1",children:"Random (e.g., 57, 12, 98, ...)"})]})]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Linear: Token IDs are minted sequentially. Random: Token IDs are minted in random order."})]}),(f.revealType==="1"||f.revealType==="2")&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Unrevealed Base URI"}),a.jsx("input",{type:"url",value:f.unrevealedBaseURI||"",onChange:k=>p("unrevealedBaseURI",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:f.revealType==="1"||f.revealType==="2"})]}),f.revealType==="2"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Reveal Time"}),a.jsx("input",{type:"datetime-local",value:f.revealTime||"",onChange:k=>p("revealTime",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:f.revealType==="2"})]})]})]}),a.jsx(di,{formData:f,handleChange:p,required:!0,useFormDataEnabled:!0}),a.jsx("div",{className:"flex gap-4",children:a.jsx(Be,{type:"submit",disabled:c||!t,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:c?"Creating...":"Create Raffle"})})]})]})};function i6(){const{connected:t,address:e,provider:r}=Qt(),{contracts:n,executeTransaction:i}=or(),l=fi(n,!0),[c,u]=w.useState(!1),[f,h]=w.useState(!1),[p,y]=w.useState({name:"",collection:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerUser:"",ticketPrice:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),k=(A,P)=>{y(z=>({...z,[A]:P}))},g=async A=>{if(A.preventDefault(),!t||!n.raffleDeployer||!r){ge.error("Please connect your wallet and ensure contracts are configured");return}u(!0);try{const P=r.getSigner(),z=Math.floor(new Date(p.startTime).getTime()/1e3),L=parseInt(p.duration)*60,$=p.ticketPrice?Ho(p.ticketPrice):0,U=f&&p.holderTokenAddress?p.holderTokenAddress:Oe,W=f?parseInt(p.holderTokenStandard):0,V=f&&p.minHolderTokenBalance?Dn(p.minHolderTokenBalance,18):0,J=f&&p.holderTokenId?parseInt(p.holderTokenId):0,re={name:p.name,startTime:z,duration:L,ticketLimit:parseInt(p.ticketLimit),winnersCount:parseInt(p.winnersCount),maxTicketsPerParticipant:parseInt(p.maxTicketsPerUser),isPrized:!0,customTicketPrice:$,erc721Drop:!0,erc1155Drop:!1,prizeCollection:p.collection,standard:0,prizeTokenId:0,amountPerWinner:1,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:Oe,maxSupply:0,erc20PrizeToken:Oe,erc20PrizeAmount:0,ethPrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,mintingOrder:0,holderTokenAddress:U,holderTokenStandard:W,minHolderTokenBalance:V,holderTokenId:J};await(await n.raffleDeployer.connect(P).createRaffle(re)).wait(),ge.success("Existing ERC721 Collection raffle created successfully!"),y({name:"",collection:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerUser:"",ticketPrice:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),h(!1)}catch(P){console.error("Error creating raffle:",P),ge.error(Go(P))}finally{u(!1)}},{status:S,checking:N}=_k(p.collection,n);return a.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(Nw,{className:"h-5 w-5"}),a.jsx("h3",{className:"text-xl font-semibold",children:"Create Raffle (Existing ERC721 Prize)"})]}),a.jsxs("form",{onSubmit:g,className:"space-y-5",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Raffle Name"}),a.jsx("input",{type:"text",value:p.name||"",onChange:A=>k("name",A.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Collection Address"}),a.jsx("input",{type:"text",value:p.collection||"",onChange:A=>k("collection",A.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),p.collection&&!N&&S===!0&&a.jsx("span",{className:"text-xs text-green-600",children:"Internal Collection"}),p.collection&&!N&&S===!1&&a.jsx("span",{className:"text-xs text-red-600",children:"Not internal"}),p.collection&&N&&a.jsx("span",{className:"text-xs text-muted-foreground",children:"Checking internal status..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),a.jsx("input",{type:"datetime-local",value:p.startTime||"",onChange:A=>k("startTime",A.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),a.jsx("input",{type:"number",min:"1",value:p.duration||"",onChange:A=>k("duration",A.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),a.jsx("input",{type:"number",min:"1",value:p.ticketLimit||"",onChange:A=>k("ticketLimit",A.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Winner Count"}),a.jsx("input",{type:"number",value:p.winnersCount||"",onChange:A=>k("winnersCount",A.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per User"}),a.jsx("input",{type:"number",min:"1",value:p.maxTicketsPerUser||"",onChange:A=>k("maxTicketsPerUser",A.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),typeof l.maxTicketsPerParticipant=="string"&&l.maxTicketsPerParticipant!==""?a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max Allowed: ",l.maxTicketsPerParticipant]}):a.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-base font-medium mb-2",children:["Ticket Price (ETH) ",a.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"(Leave empty for NFT giveaway)"})]}),a.jsx("input",{type:"number",min:"0.00000001",step:"any",value:p.ticketPrice||"",onChange:A=>k("ticketPrice",A.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsx(di,{tokenGatedEnabled:f,onTokenGatedChange:h,formData:p,handleChange:k,required:!0}),a.jsx("div",{className:"flex gap-4",children:a.jsx(Be,{type:"submit",className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:"Create Raffle"})})]})]})}function o6(){const{connected:t,address:e,provider:r}=Qt(),{contracts:n}=or(),i=fi(n,!0),[l,c]=w.useState(!1),[u,f]=w.useState({name:"",collectionAddress:"",tokenId:"",amountPerWinner:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",ticketPrice:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),h=(g,S)=>{f(N=>({...N,[g]:S}))},p=async g=>{if(g.preventDefault(),!t||!n.raffleDeployer||!r){ge.error("Please connect your wallet and ensure contracts are configured");return}c(!0);try{const S=r.getSigner(),N=Math.floor(new Date(u.startTime).getTime()/1e3),A=parseInt(u.duration)*60,P=u.ticketPrice?Ho(u.ticketPrice):0,z={name:u.name,startTime:N,duration:A,ticketLimit:parseInt(u.ticketLimit),winnersCount:parseInt(u.winnersCount),maxTicketsPerParticipant:parseInt(u.maxTicketsPerParticipant),isPrized:!0,customTicketPrice:P,erc721Drop:!1,erc1155Drop:!0,prizeCollection:u.collectionAddress,standard:1,prizeTokenId:parseInt(u.tokenId),amountPerWinner:parseInt(u.amountPerWinner),collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:Oe,maxSupply:0,erc20PrizeToken:Oe,erc20PrizeAmount:0,ethPrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,mintingOrder:0,holderTokenAddress:u.tokenGatedEnabled?u.holderTokenAddress:Oe,holderTokenStandard:u.tokenGatedEnabled?parseInt(u.holderTokenStandard):0,minHolderTokenBalance:u.tokenGatedEnabled?Dn(u.minHolderTokenBalance,18):0,holderTokenId:u.tokenGatedEnabled&&(u.holderTokenStandard==="0"||u.holderTokenStandard==="1")?parseInt(u.holderTokenId):0};await(await n.raffleDeployer.connect(S).createRaffle(z)).wait(),ge.success("Existing ERC1155 Collection raffle created successfully!"),f({name:"",collectionAddress:"",tokenId:"",amountPerWinner:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",ticketPrice:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(S){console.error("Error creating raffle:",S),ge.error(S.message||"Error creating raffle")}finally{c(!1)}},{status:y,checking:k}=_k(u.collectionAddress,n);return a.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(Nw,{className:"h-5 w-5"}),a.jsx("h3",{className:"text-xl font-semibold",children:"Create Raffle (Existing ERC1155 Collection)"})]}),a.jsxs("form",{onSubmit:p,className:"space-y-5",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Raffle Name"}),a.jsx("input",{type:"text",value:u.name||"",onChange:g=>h("name",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Collection Address"}),a.jsx("input",{type:"text",value:u.collectionAddress||"",onChange:g=>h("collectionAddress",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),u.collectionAddress&&!k&&y===!0&&a.jsx("span",{className:"text-xs text-green-600",children:"Internal Collection"}),u.collectionAddress&&!k&&y===!1&&a.jsx("span",{className:"text-xs text-red-600",children:"Not internal"}),u.collectionAddress&&k&&a.jsx("span",{className:"text-xs text-muted-foreground",children:"Checking internal status..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Token ID"}),a.jsx("input",{type:"number",min:"0",value:u.tokenId||"",onChange:g=>h("tokenId",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Amount Per Winner"}),a.jsx("input",{type:"number",min:"1",value:u.amountPerWinner||"",onChange:g=>h("amountPerWinner",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),a.jsx("input",{type:"datetime-local",value:u.startTime||"",onChange:g=>h("startTime",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),a.jsx("input",{type:"number",value:u.duration||"",onChange:g=>h("duration",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),i.minDuration&&i.maxDuration&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",Math.ceil(Number(i.minDuration)/60)," min, Max Allowed: ",Math.floor(Number(i.maxDuration)/60)," min"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),a.jsx("input",{type:"number",value:u.ticketLimit||"",onChange:g=>h("ticketLimit",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),i.minTicket&&i.maxTicket&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",i.minTicket,", Max Allowed: ",i.maxTicket]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Winners Count"}),a.jsx("input",{type:"number",value:u.winnersCount||"",onChange:g=>h("winnersCount",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per Participant"}),a.jsx("input",{type:"number",value:u.maxTicketsPerParticipant||"",onChange:g=>h("maxTicketsPerParticipant",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),typeof i.maxTicketsPerParticipant=="string"&&i.maxTicketsPerParticipant!==""?a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max Allowed: ",i.maxTicketsPerParticipant]}):a.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Custom Ticket Price (ETH)"}),a.jsx("input",{type:"number",step:"0.001",value:u.ticketPrice||"",onChange:g=>h("ticketPrice",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",placeholder:"Leave empty to use protocol default"})]})]}),a.jsx(di,{formData:u,handleChange:h,required:!0,useFormDataEnabled:!0}),a.jsx("div",{className:"flex gap-4",children:a.jsx(Be,{type:"submit",disabled:l||!t,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:l?"Creating...":"Create Raffle"})})]})]})}const a6=()=>{const{connected:t}=Qt(),{contracts:e}=or(),[r,n]=w.useState(null),[i,l]=w.useState("Whitelist/Allowlist"),[c,u]=w.useState("ERC721"),[f,h]=w.useState("New ERC721 Collection"),[p,y]=w.useState("Internal NFT Prize"),[k,g]=w.useState("Internal NFT Prize"),[S,N]=w.useState("Internal NFT Prize"),[A,P]=w.useState("New ERC1155 Collection"),[z,L]=w.useState(""),[$,U]=w.useState(!1);w.useEffect(()=>{(async()=>{if(i==="NFTDrop"&&c==="ERC721"&&f==="Existing ERC721 Collection"&&e.raffleManager)try{const re=await e.raffleManager.toggleAllowExistingCollection();n(!!re)}catch{n(!1)}})()},[i,c,f,e.raffleManager]),w.useEffect(()=>{i==="NFTDrop"&&c==="ERC721"&&f==="New ERC721 Collection"&&L("")},[i,c,f]);const W=()=>{if(i==="Whitelist/Allowlist")return a.jsx(n6,{});if(i==="NFTDrop"){if(c==="ERC721"){if(f==="New ERC721 Collection")return a.jsx(s6,{});if(f==="Existing ERC721 Collection")return a.jsx(i6,{collectionAddress:z,setCollectionAddress:L})}if(c==="ERC1155"){if(A==="New ERC1155 Collection")return a.jsx(h6,{});if(A==="Existing ERC1155 Collection")return a.jsx(o6,{})}}if(i==="Lucky Sale/NFT Giveaway"){if(c==="ERC721")return a.jsx(l6,{});if(c==="ERC1155")return a.jsx(c6,{})}return i==="ETH Giveaway"?a.jsx(u6,{}):i==="ERC20 Token Giveaway"?a.jsx(d6,{}):null},{isMobile:V}=Nr();return t?a.jsx("div",{className:"min-h-screen bg-background pb-6",children:a.jsxs("div",{className:`${V?"px-4":"container mx-auto px-8"}`,children:[a.jsx("div",{className:`text-center ${V?"mb-6 mt-4":"mb-4"}`,children:a.jsx("h1",{className:`font-bold ${V?"text-2xl mb-2":"text-4xl mb-4"}`,children:"Create an on-chain raffle for your community"})}),a.jsx("div",{className:`max-w-7xl mx-auto ${V?"mt-6":"mt-16"}`,children:V?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex justify-start",children:a.jsxs(Be,{variant:i!=="Whitelist/Allowlist"?"default":"outline",onClick:()=>U(!0),className:`flex items-center gap-2 ${i!=="Whitelist/Allowlist"?"bg-primary text-primary-foreground hover:bg-primary/90":""}`,children:[a.jsx(dc,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:i!=="Whitelist/Allowlist"?"Filters Applied":"Configure Your Raffle"}),i!=="Whitelist/Allowlist"&&a.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs bg-primary-foreground/20 rounded-full",children:"Active"})]})}),a.jsx("div",{className:"w-full",children:W()})]}):a.jsxs("div",{className:"flex gap-2 items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsxs(Be,{variant:i!=="Whitelist/Allowlist"?"default":"outline",onClick:()=>U(!0),className:`flex items-center gap-2 ${i!=="Whitelist/Allowlist"?"bg-primary text-primary-foreground hover:bg-primary/90":""}`,children:[a.jsx(dc,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:i!=="Whitelist/Allowlist"?"Filters Applied":"Configure Your Raffle"}),i!=="Whitelist/Allowlist"&&a.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs bg-primary-foreground/20 rounded-full",children:"Active"})]})}),a.jsx("div",{className:"flex-1",children:W()})]})}),a.jsx(r6,{isOpen:$,onToggle:()=>U(!$),raffleType:i,setRaffleType:l,nftStandard:c,setNftStandard:u,erc721Source:f,setErc721Source:h,erc1155Source:A,setErc1155Source:P})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ui,{className:`mx-auto mb-4 text-muted-foreground ${V?"h-12 w-12":"h-16 w-16"}`}),a.jsx("h2",{className:`font-bold mb-2 ${V?"text-xl":"text-2xl"}`,children:"Connect Your Wallet"}),a.jsx("p",{className:`text-muted-foreground ${V?"text-sm":"text-base"}`,children:"Please connect your wallet to create raffles and deploy collections."})]})})};function l6(){const{connected:t,address:e,provider:r}=Qt(),{contracts:n}=or(),{isMobile:i}=Nr(),l=fi(n,!0),[c,u]=w.useState(!1),[f,h]=w.useState({name:"",collectionAddress:"",tokenId:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",ticketPrice:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),p=(S,N)=>{h(A=>({...A,[S]:N}))},y=async S=>{if(S.preventDefault(),!t||!n.raffleDeployer||!r){ge.error("Please connect your wallet and ensure contracts are configured");return}u(!0);try{const N=r.getSigner(),A=await mg({signer:N,tokenAddress:f.collectionAddress,prizeType:"erc721",spender:n.raffleDeployer.address,tokenId:f.tokenId});if(!A.success){ge.error("Token approval failed: "+A.error),u(!1);return}A.alreadyApproved||(ge.success("ERC721 approval successful!"),await new Promise(W=>setTimeout(W,2e3)));const P=Math.floor(new Date(f.startTime).getTime()/1e3),z=parseInt(f.duration)*60,L=f.ticketPrice?Ho(f.ticketPrice):0,$={name:f.name,startTime:P,duration:z,ticketLimit:parseInt(f.ticketLimit),winnersCount:parseInt(f.winnersCount),maxTicketsPerParticipant:parseInt(f.maxTicketsPerParticipant),isPrized:!0,customTicketPrice:L,erc721Drop:!1,prizeCollection:f.collectionAddress,standard:0,prizeTokenId:parseInt(f.tokenId),amountPerWinner:1,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:Oe,maxSupply:0,erc20PrizeToken:Oe,erc20PrizeAmount:0,ethPrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,mintingOrder:0,holderTokenAddress:f.tokenGatedEnabled?f.holderTokenAddress:Oe,holderTokenStandard:f.tokenGatedEnabled?parseInt(f.holderTokenStandard):0,minHolderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance!==""&&f.minHolderTokenBalance!==void 0?Dn(f.minHolderTokenBalance,18):ce.from(0),holderTokenId:f.tokenGatedEnabled&&(f.holderTokenStandard==="0"||f.holderTokenStandard==="1")?parseInt(f.holderTokenId):0};await(await n.raffleDeployer.connect(N).createRaffle($)).wait(),ge.success("Lucky Sale ERC721 raffle created successfully!"),h({name:"",collectionAddress:"",tokenId:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",ticketPrice:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(N){console.error("Error creating raffle:",N),ge.error(Go(N))}finally{u(!1)}},{status:k,checking:g}=Mk(f.collectionAddress,n);return a.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(Jd,{className:"h-5 w-5"}),a.jsx("h3",{className:`font-semibold ${i?"text-lg":"text-xl"}`,children:"Create Lucky Sale (ERC721 Escrowed Prize)"})]}),a.jsxs("form",{onSubmit:y,className:"space-y-5",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block font-medium mb-2 ${i?"text-sm":"text-base"}`,children:"Raffle Name"}),a.jsx("input",{type:"text",value:f.name||"",onChange:S=>p("name",S.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block font-medium mb-2 ${i?"text-sm":"text-base"}`,children:"Prize Collection Address"}),a.jsx("input",{type:"text",value:f.collectionAddress||"",onChange:S=>p("collectionAddress",S.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),f.collectionAddress&&!g&&k===!0&&a.jsx("span",{className:"text-xs text-green-600",children:"Whitelisted"}),f.collectionAddress&&!g&&k===!1&&a.jsx("span",{className:"text-xs text-red-600",children:"Not whitelisted"}),f.collectionAddress&&g&&a.jsx("span",{className:"text-xs text-muted-foreground",children:"Checking whitelist status..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Token ID"}),a.jsx("input",{type:"number",min:"0",value:f.tokenId||"",onChange:S=>p("tokenId",S.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),a.jsx("input",{type:"datetime-local",value:f.startTime||"",onChange:S=>p("startTime",S.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),a.jsx("input",{type:"number",value:f.duration||"",onChange:S=>p("duration",S.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minDuration&&l.maxDuration&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",Math.ceil(Number(l.minDuration)/60)," min, Max Allowed: ",Math.floor(Number(l.maxDuration)/60)," min"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),a.jsx("input",{type:"number",value:f.ticketLimit||"",onChange:S=>p("ticketLimit",S.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minTicket&&l.maxTicket&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",l.minTicket,", Max Allowed: ",l.maxTicket]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Winner Count"}),a.jsx("input",{type:"number",value:f.winnersCount||"",onChange:S=>p("winnersCount",S.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per Participant"}),a.jsx("input",{type:"number",value:f.maxTicketsPerParticipant||"",onChange:S=>p("maxTicketsPerParticipant",S.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),typeof l.maxTicketsPerParticipant=="string"&&l.maxTicketsPerParticipant!==""?a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max Allowed: ",l.maxTicketsPerParticipant]}):a.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-base font-medium mb-2",children:["Ticket Price (ETH) ",a.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"(Leave empty for NFT giveaway)"})]}),a.jsx("input",{type:"number",step:"any",value:f.ticketPrice||"",onChange:S=>p("ticketPrice",S.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsx(di,{formData:f,handleChange:p,required:!0,useFormDataEnabled:!0}),a.jsx("div",{className:"flex gap-4",children:a.jsx(Be,{type:"submit",disabled:c||!t,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:c?"Approving & Creating...":"Approve Prize & Create Raffle"})})]})]})}function c6(){const{connected:t,address:e,provider:r}=Qt(),{contracts:n}=or(),i=fi(n,!0),[l,c]=w.useState(!1),[u,f]=w.useState({name:"",collectionAddress:"",tokenId:"",unitsPerWinner:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",ticketPrice:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),h=(g,S)=>{f(N=>({...N,[g]:S}))},p=async g=>{if(g.preventDefault(),!t||!n.raffleDeployer||!r){ge.error("Please connect your wallet and ensure contracts are configured");return}c(!0);try{const S=r.getSigner(),N=await mg({signer:S,tokenAddress:u.collectionAddress,prizeType:"erc1155",spender:n.raffleDeployer.address});if(!N.success){ge.error("Token approval failed: "+N.error),c(!1);return}N.alreadyApproved||(ge.success("ERC1155 approval successful!"),await new Promise(W=>setTimeout(W,2e3)));const A=Math.floor(new Date(u.startTime).getTime()/1e3),P=parseInt(u.duration)*60,z=u.ticketPrice?Ho(u.ticketPrice):0,L=u.unitsPerWinner?parseInt(u.unitsPerWinner):1,$={name:u.name,startTime:A,duration:P,ticketLimit:parseInt(u.ticketLimit),winnersCount:parseInt(u.winnersCount),maxTicketsPerParticipant:parseInt(u.maxTicketsPerParticipant),isPrized:!0,customTicketPrice:z,erc721Drop:!1,prizeCollection:u.collectionAddress,standard:1,prizeTokenId:parseInt(u.tokenId),amountPerWinner:L,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:Oe,maxSupply:0,erc20PrizeToken:Oe,erc20PrizeAmount:0,ethPrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,mintingOrder:0,holderTokenAddress:u.tokenGatedEnabled?u.holderTokenAddress:Oe,holderTokenStandard:u.tokenGatedEnabled?parseInt(u.holderTokenStandard):0,minHolderTokenBalance:u.tokenGatedEnabled&&u.minHolderTokenBalance!==""&&u.minHolderTokenBalance!==void 0?Dn(u.minHolderTokenBalance,18):ce.from(0),holderTokenId:u.tokenGatedEnabled&&(u.holderTokenStandard==="0"||u.holderTokenStandard==="1")?parseInt(u.holderTokenId):0};await(await n.raffleDeployer.connect(S).createRaffle($)).wait(),ge.success("Lucky Sale ERC1155 raffle created successfully!"),f({name:"",collectionAddress:"",tokenId:"",unitsPerWinner:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",ticketPrice:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(S){console.error("Error creating raffle:",S),ge.error(Go(S))}finally{c(!1)}},{status:y,checking:k}=Mk(u.collectionAddress,n);return a.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(Jd,{className:"h-5 w-5"}),a.jsx("h3",{className:"text-xl font-semibold",children:"Create Lucky Sale (ERC1155 Escrowed Prize)"})]}),a.jsxs("form",{onSubmit:p,className:"space-y-5",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Raffle Name"}),a.jsx("input",{type:"text",value:u.name||"",onChange:g=>h("name",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Collection Address"}),a.jsx("input",{type:"text",value:u.collectionAddress||"",onChange:g=>h("collectionAddress",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),u.collectionAddress&&!k&&y===!0&&a.jsx("span",{className:"text-xs text-green-600",children:"Whitelisted"}),u.collectionAddress&&!k&&y===!1&&a.jsx("span",{className:"text-xs text-red-600",children:"Not whitelisted"}),u.collectionAddress&&k&&a.jsx("span",{className:"text-xs text-muted-foreground",children:"Checking whitelist status..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Token ID"}),a.jsx("input",{type:"number",min:"0",value:u.tokenId||"",onChange:g=>h("tokenId",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Units Per Winner"}),a.jsx("input",{type:"number",min:"1",value:u.unitsPerWinner||"",onChange:g=>h("unitsPerWinner",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),a.jsx("input",{type:"datetime-local",value:u.startTime||"",onChange:g=>h("startTime",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),a.jsx("input",{type:"number",value:u.duration||"",onChange:g=>h("duration",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),i.minDuration&&i.maxDuration&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",Math.ceil(Number(i.minDuration)/60)," min, Max Allowed: ",Math.floor(Number(i.maxDuration)/60)," min"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),a.jsx("input",{type:"number",value:u.ticketLimit||"",onChange:g=>h("ticketLimit",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),i.minTicket&&i.maxTicket&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",i.minTicket,", Max Allowed: ",i.maxTicket]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Winner Count"}),a.jsx("input",{type:"number",value:u.winnersCount||"",onChange:g=>h("winnersCount",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per Participant"}),a.jsx("input",{type:"number",value:u.maxTicketsPerParticipant||"",onChange:g=>h("maxTicketsPerParticipant",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),typeof i.maxTicketsPerParticipant=="string"&&i.maxTicketsPerParticipant!==""?a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max Allowed: ",i.maxTicketsPerParticipant]}):a.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-base font-medium mb-2",children:["Ticket Price (ETH) ",a.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"(Leave empty for NFT giveaway)"})]}),a.jsx("input",{type:"number",step:"any",value:u.ticketPrice||"",onChange:g=>h("ticketPrice",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsx(di,{formData:u,handleChange:h,required:!0,useFormDataEnabled:!0}),a.jsx("div",{className:"flex gap-4",children:a.jsx(Be,{type:"submit",disabled:l||!t,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:l?"Approving & Creating...":"Approve Prize & Create Raffle"})})]})]})}function u6(){const{connected:t,address:e,provider:r}=Qt(),{contracts:n,executeTransaction:i}=or(),{isMobile:l}=Nr(),c=fi(n,!0),[u,f]=w.useState(!1),[h,p]=w.useState({name:"",ethAmount:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),y=(g,S)=>{p(N=>({...N,[g]:S}))},k=async g=>{if(g.preventDefault(),!t||!n.raffleDeployer||!r){ge.error("Please connect your wallet and ensure contracts are configured");return}f(!0);try{const S=r.getSigner(),N=Math.floor(new Date(h.startTime).getTime()/1e3),A=parseInt(h.duration)*60,P=h.ethAmount?Ho(h.ethAmount):0,z={name:h.name,startTime:N,duration:A,ticketLimit:parseInt(h.ticketLimit),winnersCount:parseInt(h.winnersCount),maxTicketsPerParticipant:parseInt(h.maxTicketsPerParticipant),isPrized:!0,customTicketPrice:0,erc721Drop:!1,prizeCollection:Oe,standard:3,prizeTokenId:0,amountPerWinner:0,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:Oe,maxSupply:0,erc20PrizeToken:Oe,erc20PrizeAmount:ce.from(0),ethPrizeAmount:P,revealType:0,unrevealedBaseURI:"",revealTime:0,mintingOrder:0,holderTokenAddress:h.tokenGatedEnabled?h.holderTokenAddress:Oe,holderTokenStandard:h.tokenGatedEnabled?parseInt(h.holderTokenStandard):0,minHolderTokenBalance:h.tokenGatedEnabled&&h.minHolderTokenBalance!==""&&h.minHolderTokenBalance!==void 0?Dn(h.minHolderTokenBalance,18):ce.from(0),holderTokenId:h.tokenGatedEnabled&&(h.holderTokenStandard==="0"||h.holderTokenStandard==="1")?parseInt(h.holderTokenId):0};let L={success:!1};try{const $=await n.raffleDeployer.connect(S).createRaffle(z,{value:P});L={success:!0,receipt:await $.wait(),hash:$.hash}}catch($){L={success:!1,error:$.message}}if(L.success)ge.success("ETH Giveaway raffle created successfully!"),p({name:"",ethAmount:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:""});else throw new Error(L.error)}catch(S){console.error("Error creating raffle:",S),ge.error(Go(S))}finally{f(!1)}};return a.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(Fp,{className:"h-5 w-5"}),a.jsx("h3",{className:`font-semibold ${l?"text-lg":"text-xl"}`,children:"Feeling Generous? Now's a great time to give away some ETH!"})]}),a.jsxs("form",{onSubmit:k,className:"space-y-5",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block font-medium mb-2 ${l?"text-sm":"text-base"}`,children:"Raffle Name"}),a.jsx("input",{type:"text",value:h.name||"",onChange:g=>y("name",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Total ETH Prize"}),a.jsx("input",{type:"number",min:"0.00000001",step:"any",value:h.ethAmount||"",onChange:g=>y("ethAmount",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),a.jsx("input",{type:"datetime-local",value:h.startTime||"",onChange:g=>y("startTime",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),a.jsx("input",{type:"number",value:h.duration||"",onChange:g=>y("duration",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),c.minDuration&&c.maxDuration&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",Math.ceil(Number(c.minDuration)/60)," min, Max Allowed: ",Math.floor(Number(c.maxDuration)/60)," min"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),a.jsx("input",{type:"number",value:h.ticketLimit||"",onChange:g=>y("ticketLimit",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),c.minTicket&&c.maxTicket&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",c.minTicket,", Max Allowed: ",c.maxTicket]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Winner Count"}),a.jsx("input",{type:"number",value:h.winnersCount||"",onChange:g=>y("winnersCount",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per Participant"}),a.jsx("input",{type:"number",value:h.maxTicketsPerParticipant||"",onChange:g=>y("maxTicketsPerParticipant",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),typeof c.maxTicketsPerParticipant=="string"&&c.maxTicketsPerParticipant!==""?a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max Allowed: ",c.maxTicketsPerParticipant]}):a.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]})]}),a.jsx(di,{formData:h,handleChange:y,required:!0,useFormDataEnabled:!0}),a.jsx("div",{className:"flex gap-4",children:a.jsx(Be,{type:"submit",disabled:u||!t,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:u?"Creating...":"Create Raffle"})})]})]})}function d6(){const{connected:t,address:e,provider:r}=Qt(),{contracts:n}=or(),{isMobile:i}=Nr(),l=fi(n,!0),[c,u]=w.useState(!1),[f,h]=w.useState({name:"",tokenAddress:"",tokenAmount:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),[p,y]=w.useState(null),[k,g]=w.useState(!1);w.useEffect(()=>{let A=!1;async function P(z){if(!(n!=null&&n.raffleManager)||!z||z.length!==42){y(null);return}g(!0);try{const L=await n.raffleManager.isERC20PrizeWhitelisted(z);A||y(L)}catch{A||y(!1)}finally{A||g(!1)}}return P(f.tokenAddress),()=>{A=!0}},[f.tokenAddress,n]);const S=(A,P)=>{h(z=>({...z,[A]:P}))},N=async A=>{if(A.preventDefault(),!t||!n.raffleDeployer||!r){ge.error("Please connect your wallet and ensure contracts are configured");return}u(!0);try{const P=r.getSigner(),z=await mg({signer:P,tokenAddress:f.tokenAddress,prizeType:"erc20",spender:n.raffleDeployer.address,amount:f.tokenAmount});if(!z.success){ge.error("Token approval failed: "+z.error),u(!1);return}z.alreadyApproved||(ge.success("ERC20 approval successful!"),await new Promise(re=>setTimeout(re,2e3)));const L=await new Wt(f.tokenAddress,qt.erc20,P).decimals(),$=Math.floor(new Date(f.startTime).getTime()/1e3),U=parseInt(f.duration)*60,W=f.tokenAmount?Dn(f.tokenAmount,L):ce.from(0),V={name:f.name,startTime:$,duration:U,ticketLimit:parseInt(f.ticketLimit),winnersCount:parseInt(f.winnersCount),maxTicketsPerParticipant:parseInt(f.maxTicketsPerParticipant),isPrized:!0,customTicketPrice:ce.from(0),erc721Drop:!1,prizeCollection:Oe,standard:2,prizeTokenId:0,amountPerWinner:0,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:Oe,maxSupply:0,erc20PrizeToken:f.tokenAddress,erc20PrizeAmount:W,ethPrizeAmount:ce.from(0),revealType:0,unrevealedBaseURI:"",revealTime:0,mintingOrder:0,holderTokenAddress:f.tokenGatedEnabled?f.holderTokenAddress:Oe,holderTokenStandard:f.tokenGatedEnabled?parseInt(f.holderTokenStandard):0,minHolderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance!==""&&f.minHolderTokenBalance!==void 0?Dn(f.minHolderTokenBalance,18):ce.from(0),holderTokenId:f.tokenGatedEnabled&&(f.holderTokenStandard==="0"||f.holderTokenStandard==="1")?parseInt(f.holderTokenId):0};await(await n.raffleDeployer.connect(P).createRaffle(V)).wait(),ge.success("ERC20 Giveaway raffle created successfully!"),h({name:"",tokenAddress:"",tokenAmount:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:""})}catch(P){console.error("Error creating raffle:",P),ge.error(Go(P))}finally{u(!1)}};return a.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(Fp,{className:"h-5 w-5"}),a.jsx("h3",{className:`font-semibold ${i?"text-lg":"text-xl"}`,children:"It's a great day to give out some tokens! "})]}),a.jsxs("form",{onSubmit:N,className:"space-y-5",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Raffle Name"}),a.jsx("input",{type:"text",value:f.name||"",onChange:A=>S("name",A.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"ERC20 Token Address"}),a.jsx("input",{type:"text",value:f.tokenAddress||"",onChange:A=>S("tokenAddress",A.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),f.tokenAddress&&!k&&p===!0&&a.jsx("span",{className:"text-xs text-green-600",children:"Whitelisted"}),f.tokenAddress&&!k&&p===!1&&a.jsx("span",{className:"text-xs text-red-600",children:"Not whitelisted"}),f.tokenAddress&&k&&a.jsx("span",{className:"text-xs text-muted-foreground",children:"Checking whitelist status..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Total Token Amount"}),a.jsx("input",{type:"number",min:"0.00000001",step:"any",value:f.tokenAmount||"",onChange:A=>S("tokenAmount",A.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),a.jsx("input",{type:"datetime-local",value:f.startTime||"",onChange:A=>S("startTime",A.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),a.jsx("input",{type:"number",value:f.duration||"",onChange:A=>S("duration",A.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minDuration&&l.maxDuration&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",Math.ceil(Number(l.minDuration)/60)," min, Max Allowed: ",Math.floor(Number(l.maxDuration)/60)," min"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),a.jsx("input",{type:"number",value:f.ticketLimit||"",onChange:A=>S("ticketLimit",A.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minTicket&&l.maxTicket&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",l.minTicket,", Max Allowed: ",l.maxTicket]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Winner Count"}),a.jsx("input",{type:"number",value:f.winnersCount||"",onChange:A=>S("winnersCount",A.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per Participant"}),a.jsx("input",{type:"number",value:f.maxTicketsPerParticipant||"",onChange:A=>S("maxTicketsPerParticipant",A.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),typeof l.maxTicketsPerParticipant=="string"&&l.maxTicketsPerParticipant!==""?a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max Allowed: ",l.maxTicketsPerParticipant]}):a.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]})]}),a.jsx(di,{formData:f,handleChange:S,required:!0,useFormDataEnabled:!0}),a.jsx("div",{className:"flex gap-4",children:a.jsx(Be,{type:"submit",disabled:c||!t,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:c?"Approving & Creating...":"Approve Prize & Create Raffle"})})]})]})}async function f6(t,e,r,n,i,l){try{let c;const u=await t.getAddress();if(r==="erc20"){c=new Wt(e,qt.erc20,t);const f=await c.decimals(),h=Dn(i,f),p=await c.allowance(u,n);if(p.gte(h))return!0;if(p.isZero())try{const y=await t.provider.getBlockNumber(),k=Math.max(0,y-1e3),g="0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925",S="0x"+u.slice(2).padStart(64,"0"),N="0x"+n.slice(2).padStart(64,"0"),A=await t.provider.getLogs({address:e,topics:[g,S,N],fromBlock:k,toBlock:y});for(const P of A)if(ce.from(P.data).gte(h))return!0}catch{}return!1}else if(r==="erc721"){c=new Wt(e,qt.erc721Prize,t);const f=await c.getApproved(l);return f&&f.toLowerCase()===n.toLowerCase()}else if(r==="erc1155")return c=new Wt(e,qt.erc1155Prize,t),await c.isApprovedForAll(u,n);return!1}catch{return!1}}async function mg({signer:t,tokenAddress:e,prizeType:r,spender:n,amount:i,tokenId:l}){try{if(await f6(t,e,r,n,i,l))return{success:!0,alreadyApproved:!0};let u,f;if(r==="erc20"){u=new Wt(e,qt.erc20,t);const h=await u.decimals(),p=Dn(i,h);f=await u.approve(n,p)}else r==="erc721"?(u=new Wt(e,qt.erc721Prize,t),f=await u.approve(n,l)):r==="erc1155"&&(u=new Wt(e,qt.erc1155Prize,t),f=await u.setApprovalForAll(n,!0));return await f.wait(),await new Promise(h=>setTimeout(h,2e3)),{success:!0}}catch(c){return{success:!1,error:c.message}}}function Go(t){var n,i;if(t!=null&&t.reason)return t.reason;if((n=t==null?void 0:t.data)!=null&&n.message)return t.data.message;const e=(t==null?void 0:t.message)||((i=t==null?void 0:t.data)==null?void 0:i.message)||(t==null?void 0:t.toString())||"",r=e.match(/execution reverted:?\s*([^\n]*)/i);return r&&r[1]?r[1].trim():e}function h6(){const{connected:t,address:e,provider:r}=Qt(),{contracts:n}=or(),i=fi(n,!0),[l,c]=w.useState(!1),[u,f]=w.useState({name:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",customTicketPrice:"",collectionName:"",collectionSymbol:"",baseURI:"",maxSupply:"",royaltyPercentage:"",prizeTokenId:"1",amountPerWinner:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""});w.useEffect(()=>{e&&!u.royaltyRecipient&&f(y=>({...y,royaltyRecipient:e}))},[e]);const h=(y,k)=>{f(g=>({...g,[y]:k}))},p=async y=>{if(y.preventDefault(),!t||!n.raffleDeployer||!r){ge.error("Please connect your wallet and ensure contracts are configured");return}c(!0);try{const k=r.getSigner(),g=Math.floor(new Date(u.startTime).getTime()/1e3),S=parseInt(u.duration)*60,N=u.customTicketPrice?Ho(u.customTicketPrice):0;let A=parseInt(u.revealType),P=u.unrevealedBaseURI,z=0;A===2&&(z=Math.floor(new Date(u.revealTime).getTime()/1e3)),A!==2&&(P="",z=0);const L={name:u.name,startTime:g,duration:S,ticketLimit:parseInt(u.ticketLimit),winnersCount:parseInt(u.winnersCount),maxTicketsPerParticipant:parseInt(u.maxTicketsPerParticipant),isPrized:!0,customTicketPrice:N,erc721Drop:!1,erc1155Drop:!1,prizeCollection:Oe,standard:1,prizeTokenId:parseInt(u.prizeTokenId),amountPerWinner:parseInt(u.amountPerWinner),collectionName:u.collectionName,collectionSymbol:u.collectionSymbol,collectionBaseURI:u.baseURI,creator:e,royaltyPercentage:u.royaltyPercentage?parseInt(u.royaltyPercentage)*100:0,royaltyRecipient:u.royaltyRecipient,maxSupply:parseInt(u.maxSupply||u.winnersCount),erc20PrizeToken:Oe,erc20PrizeAmount:0,ethPrizeAmount:0,revealType:A,unrevealedBaseURI:P,revealTime:z,mintingOrder:0,holderTokenAddress:u.tokenGatedEnabled?u.holderTokenAddress:Oe,holderTokenStandard:u.tokenGatedEnabled?parseInt(u.holderTokenStandard):0,minHolderTokenBalance:u.tokenGatedEnabled&&u.minHolderTokenBalance!==""&&u.minHolderTokenBalance!==void 0?Dn(u.minHolderTokenBalance,18):ce.from(0),holderTokenId:u.tokenGatedEnabled&&(u.holderTokenStandard==="0"||u.holderTokenStandard==="1")?parseInt(u.holderTokenId):0};await(await n.raffleDeployer.connect(k).createRaffle(L)).wait(),ge.success("New ERC1155 Collection raffle created successfully!"),f({name:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",customTicketPrice:"",collectionName:"",collectionSymbol:"",baseURI:"",maxSupply:"",royaltyPercentage:"",prizeTokenId:"1",amountPerWinner:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(k){console.error("Error creating raffle:",k),ge.error(k.message||"Error creating raffle")}finally{c(!1)}};return a.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(Jd,{className:"h-5 w-5"}),a.jsx("h3",{className:"text-xl font-semibold",children:"Create New ERC1155 Collection Raffle"})]}),a.jsxs("form",{onSubmit:p,className:"space-y-5",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Raffle Name"}),a.jsx("input",{type:"text",value:u.name||"",onChange:y=>h("name",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),a.jsx("input",{type:"datetime-local",value:u.startTime||"",onChange:y=>h("startTime",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),a.jsx("input",{type:"number",value:u.duration||"",onChange:y=>h("duration",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),i.minDuration&&i.maxDuration&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",Math.ceil(Number(i.minDuration)/60)," min, Max Allowed: ",Math.floor(Number(i.maxDuration)/60)," min"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),a.jsx("input",{type:"number",value:u.ticketLimit||"",onChange:y=>h("ticketLimit",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),i.minTicket&&i.maxTicket&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",i.minTicket,", Max Allowed: ",i.maxTicket]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Winners Count"}),a.jsx("input",{type:"number",value:u.winnersCount||"",onChange:y=>h("winnersCount",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per Participant"}),a.jsx("input",{type:"number",value:u.maxTicketsPerParticipant||"",onChange:y=>h("maxTicketsPerParticipant",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),(console.log("maxTicketsPerParticipant limit:",i.maxTicketsPerParticipant),null),typeof i.maxTicketsPerParticipant=="string"&&i.maxTicketsPerParticipant!==""?a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max Allowed: ",i.maxTicketsPerParticipant]}):a.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Custom Ticket Price (ETH)"}),a.jsx("input",{type:"number",step:"0.001",value:u.customTicketPrice||"",onChange:y=>h("customTicketPrice",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",placeholder:"Leave empty to use protocol default"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Token ID"}),a.jsx("input",{type:"number",value:u.prizeTokenId||"",onChange:y=>h("prizeTokenId",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Amount Per Winner"}),a.jsx("input",{type:"number",value:u.amountPerWinner||"",onChange:y=>h("amountPerWinner",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]})]}),a.jsxs("div",{className:"bg-muted/20 border border-border rounded-xl p-4 mt-4",children:[a.jsx("h4",{className:"font-semibold text-base mb-4",children:"NFT Collection Info"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Collection Name"}),a.jsx("input",{type:"text",value:u.collectionName||"",onChange:y=>h("collectionName",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Collection Symbol"}),a.jsx("input",{type:"text",value:u.collectionSymbol||"",onChange:y=>h("collectionSymbol",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Base URI"}),a.jsx("input",{type:"url",value:u.baseURI||"",onChange:y=>h("baseURI",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Supply"}),a.jsx("input",{type:"number",value:u.maxSupply||"",onChange:y=>h("maxSupply",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Royalty Percentage (%)"}),a.jsx("input",{type:"number",value:u.royaltyPercentage||"",onChange:y=>h("royaltyPercentage",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",min:"0",max:"10",step:"0.01",placeholder:"e.g. 5 for 5%"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Enter as a percentage (e.g. 5 for 5%)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Royalty Recipient"}),a.jsx("input",{type:"text",value:u.royaltyRecipient||"",onChange:y=>h("royaltyRecipient",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0,pattern:"^0x[a-fA-F0-9]{40}$"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Must be a valid Ethereum address"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Reveal Type"}),a.jsxs(Wa,{value:u.revealType,onValueChange:y=>h("revealType",y),required:!0,children:[a.jsx(qa,{className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",children:a.jsx(Ha,{placeholder:"Select Reveal Type"})}),a.jsxs(Va,{children:[a.jsx(yn,{value:"0",children:"Instant Reveal"}),a.jsx(yn,{value:"1",children:"Manual Reveal"}),a.jsx(yn,{value:"2",children:"Scheduled Reveal"})]})]})]}),(u.revealType==="1"||u.revealType==="2")&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Unrevealed Base URI"}),a.jsx("input",{type:"url",value:u.unrevealedBaseURI||"",onChange:y=>h("unrevealedBaseURI",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:u.revealType==="1"||u.revealType==="2"})]}),u.revealType==="2"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-medium mb-2",children:"Reveal Time"}),a.jsx("input",{type:"datetime-local",value:u.revealTime||"",onChange:y=>h("revealTime",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:u.revealType==="2"})]})]})]}),a.jsx(di,{formData:u,handleChange:h,required:!0,useFormDataEnabled:!0}),a.jsx("div",{className:"flex gap-4",children:a.jsx(Be,{type:"submit",disabled:l||!t,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:l?"Creating...":"Create Raffle"})})]})]})}function fi(t,e){const[r,n]=w.useState({minTicket:void 0,maxTicket:void 0,minDuration:void 0,maxDuration:void 0,maxTicketsPerParticipant:void 0});return w.useEffect(()=>{if(!(t!=null&&t.raffleManager))return;async function i(){var l,c,u,f,h,p,y,k;try{if(e){const[g,S,N]=await Promise.all([t.raffleManager.getAllTicketLimits(),t.raffleManager.getDurationLimits(),t.raffleManager.getMaxTicketsPerParticipant()]);n({minTicket:(l=g.minPrized)==null?void 0:l.toString(),maxTicket:(c=g.max)==null?void 0:c.toString(),minDuration:(u=S.min)==null?void 0:u.toString(),maxDuration:(f=S.max)==null?void 0:f.toString(),maxTicketsPerParticipant:N==null?void 0:N.toString()})}else{const[g,S,N]=await Promise.all([t.raffleManager.getAllTicketLimits(),t.raffleManager.getDurationLimits(),t.raffleManager.maxTicketsPerParticipant()]);n({minTicket:(h=g.minNonPrized)==null?void 0:h.toString(),maxTicket:(p=g.max)==null?void 0:p.toString(),minDuration:(y=S.min)==null?void 0:y.toString(),maxDuration:(k=S.max)==null?void 0:k.toString(),maxTicketsPerParticipant:N==null?void 0:N.toString()})}}catch{}}i()},[t,e]),r}function Mk(t,e){const[r,n]=w.useState(null),[i,l]=w.useState(!1);return w.useEffect(()=>{let c=!1;async function u(f){if(!(e!=null&&e.raffleManager)||!f||f.length!==42){n(null);return}l(!0);try{const h=await e.raffleManager.isWhitelisted(f);c||n(h)}catch{c||n(!1)}finally{c||l(!1)}}return u(t),()=>{c=!0}},[t,e]),{status:r,checking:i}}function _k(t,e){const[r,n]=w.useState(null),[i,l]=w.useState(!1);return w.useEffect(()=>{let c=!1;async function u(f){if(!(e!=null&&e.raffleManager)||!f||f.length!==42){n(null);return}l(!0);try{const h=await e.raffleManager.isInternalCollection(f);c||n(h)}catch{c||n(!1)}finally{c||l(!1)}}return u(t),()=>{c=!0}},[t,e]),{status:r,checking:i}}const vp=["Pending","Active","Ended","Drawing","Completed","Deleted","Activation Failed","All Prizes Claimed","Unengaged"];function fs(t){var n,i;if(t!=null&&t.reason)return t.reason;if((n=t==null?void 0:t.data)!=null&&n.message)return t.data.message;const e=(t==null?void 0:t.message)||((i=t==null?void 0:t.data)==null?void 0:i.message)||(t==null?void 0:t.toString())||"",r=e.match(/execution reverted:?\s*([^\n]*)/i);return r&&r[1]?r[1].trim():e}const m6=({raffle:t,onPurchase:e,timeRemaining:r,winners:n,shouldShowClaimPrize:i,prizeAlreadyClaimed:l,claimingPrize:c,handleClaimPrize:u,shouldShowClaimRefund:f,claimingRefund:h,handleClaimRefund:p,refundableAmount:y,isMintableERC721:k,showMintInput:g,setShowMintInput:S,mintWinnerAddress:N,setMintWinnerAddress:A,mintingToWinner:P,handleMintToWinner:z,isEscrowedPrize:L,isExternallyPrized:$,isPrized:U,isMobile:W,onStateChange:V})=>{var ke;const{connected:J,address:re}=Qt(),{getContractInstance:Q,executeTransaction:X}=or(),[H,I]=w.useState(1),[v,C]=w.useState(!1),[R,_]=w.useState(0),[j,D]=w.useState(null),[O,T]=w.useState(!1),[b,B]=w.useState(null),[te,M]=w.useState(!1),[K,q]=w.useState(!1);w.useEffect(()=>{Y()},[t.address,re]),w.useEffect(()=>{async function Se(){if(t.address)try{const xe=Q(t.address,"raffle");if(!xe)return;const Ve=await xe.usesCustomPrice();B(Ve)}catch{B(null)}}Se()},[t.address,Q]);const Y=async()=>{if(!t.address||!re){_(0),D(null);return}try{const Se=Q(t.address,"raffle");if(!Se)return;const xe=await Se.ticketsPurchased(re);_(xe.toNumber?xe.toNumber():Number(xe));let Ve=0;try{Ve=(await Se.getParticipantsCount()).toNumber()}catch{let Ue=0;for(;;)try{await Se.participants(Ue),Ve++,Ue++}catch{break}}Ve>0&&xe>0?D((xe/Ve*100).toFixed(2)):D(null)}catch{_(0),D(null)}},ie=async()=>{if(!J){ge.error("Please connect your wallet first");return}C(!0);try{await e(H)}catch(Se){console.error("Purchase failed:",Se),ge.error(fs(Se))}finally{C(!1)}},ue=()=>{var Se;return((Se=t.state)==null?void 0:Se.toLowerCase())==="active"},le=()=>{const Se=Math.floor(Date.now()/1e3),xe=t.startTime+t.duration;return t.state==="Active"&&Se>=xe||r==="Ended"},de=async()=>{T(!0);try{const Se=Q(t.address,"raffle");if(!Se)throw new Error("Failed to get raffle contract");const xe=await X(Se.activate);if(xe.success)ge.success("Raffle activated successfully!"),V&&V();else throw new Error(xe.error)}catch(Se){ge.error(fs(Se))}finally{T(!1)}},je=async()=>{q(!0);try{const Se=Q(t.address,"raffle");if(!Se)throw new Error("Failed to get raffle contract");const xe=await X(Se.requestRandomWords);if(xe.success)ge.success("Randomness requested successfully!"),V&&V();else throw new Error(xe.error)}catch(Se){ge.error(fs(Se))}finally{q(!1)}},pe=async()=>{M(!0);try{const Se=Q(t.address,"raffle");if(!Se)throw new Error("Failed to get raffle contract");const xe=await X(Se.endRaffle);if(xe.success)ge.success("Raffle ended successfully!"),V&&V();else throw new Error(xe.error)}catch(Se){ge.error(fs(Se))}finally{M(!1)}},Ae=()=>i&&!l,rt=()=>t.isPrized&&(t.stateNum===4||t.stateNum===7||t.stateNum===8)&&y&&y.gt&&y.gt(0),Le=Math.floor(Date.now()/1e3),Ge=t&&t.startTime?Le>=t.startTime:!1,kt=t.ticketLimit-t.ticketsSold,Ke=Math.min(kt,t.maxTicketsPerParticipant);return a.jsxs("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Eo,{className:"h-5 w-5"}),"Purchase Tickets"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"text-muted-foreground",children:["Ticket Price",b===!0?" (set by Creator)":b===!1?" (Protocol Ticket Fee)":"",":"]}),a.jsxs("p",{className:`font-semibold ${W?"text-base":"text-lg"}`,children:[vn(t.ticketPrice||"0")," ETH"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Remaining tickets:"}),a.jsx("p",{className:`font-semibold ${W?"text-base":"text-lg"}`,children:t.ticketLimit-t.ticketsSold})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Your tickets:"}),a.jsx("p",{className:`font-semibold ${W?"text-base":"text-lg"}`,children:R||0})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Winning Chance:"}),a.jsx("p",{className:`font-semibold ${W?"text-base":"text-lg"}`,children:j!==null?`${j}%`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Max per user:"}),a.jsx("p",{className:`font-semibold ${W?"text-base":"text-lg"}`,children:t.maxTicketsPerParticipant})]}),rt&&y&&y.gt&&y.gt(0)&&a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Your Refundable Amount:"}),a.jsxs("p",{className:`font-semibold ${W?"text-base":"text-lg"}`,children:[vn(y)," ETH"]})]}),a.jsx("div",{})]}),t.stateNum===4||t.stateNum===7||t.stateNum===8?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"hidden lg:block space-y-4",children:[a.jsx("div",{className:"p-4 bg-muted/20 backdrop-blur-sm border border-border/20 rounded-lg",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx("div",{className:"text-sm font-medium mb-2",children:"Your Participation Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[a.jsxs("div",{children:[a.jsx("span",{className:"block text-muted-foreground",children:"Tickets Purchased"}),a.jsx("span",{className:"font-semibold text-base",children:R||0})]}),a.jsxs("div",{children:[a.jsx("span",{className:"block text-muted-foreground",children:"Total Spent"}),a.jsx("span",{className:"font-semibold text-base",children:R>0?`${vn(ce.from(t.ticketPrice).mul(R))} ETH`:"0 ETH"})]})]})]})}),a.jsx("div",{className:"h-8"})," "]}),Ae()||rt()?a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[Ae()&&a.jsx("button",{onClick:u,disabled:c||!J,className:"w-full bg-gradient-to-r from-yellow-500 to-orange-600 text-white px-6 py-3 rounded-lg hover:from-yellow-600 hover:to-orange-700 transition-colors disabled:opacity-50",children:c?k&&!L?"Minting...":"Claiming...":k&&!L?"Mint Prize":"Claim Prize"}),rt()&&a.jsx("button",{onClick:p,disabled:h||!J,className:"w-full bg-gradient-to-r from-green-500 to-teal-600 text-white px-6 py-3 rounded-lg hover:from-green-600 hover:to-teal-700 transition-colors disabled:opacity-50",children:h?"Claiming...":"Claim Refund"})]}):a.jsx("button",{disabled:!0,className:"w-full bg-muted text-muted-foreground px-6 py-3 rounded-lg opacity-60 cursor-not-allowed flex items-center justify-center gap-2",children:"Raffle Ended"})]}):a.jsxs(a.Fragment,{children:[!ue()&&a.jsxs("div",{className:"hidden lg:block space-y-4",children:[a.jsx("div",{className:"p-4 bg-muted/20 backdrop-blur-sm border border-border/20 rounded-lg",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx("div",{className:"text-sm font-medium mb-2",children:"Your Participation Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[a.jsxs("div",{children:[a.jsx("span",{className:"block text-muted-foreground",children:"Tickets Purchased"}),a.jsx("span",{className:"font-semibold text-base",children:R||0})]}),a.jsxs("div",{children:[a.jsx("span",{className:"block text-muted-foreground",children:"Total Spent"}),a.jsx("span",{className:"font-semibold text-base",children:R>0?`${vn(ce.from(t.ticketPrice).mul(R))} ETH`:"0 ETH"})]})]})]})}),a.jsx("div",{className:"h-8"})," "]}),((ke=t.state)==null?void 0:ke.toLowerCase())==="pending"&&Ge?a.jsx("button",{onClick:de,disabled:O,className:"w-full bg-gradient-to-r from-green-500 to-green-700 text-white px-6 py-3 rounded-lg hover:from-green-600 hover:to-green-800 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:O?"Activating...":"Activate Raffle"}):t.stateNum===2&&((re==null?void 0:re.toLowerCase())===t.creator.toLowerCase()||R>0)?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:je,disabled:K,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:K?"Requesting...":"Request Randomness"}),a.jsxs("p",{className:"text-muted-foreground mt-4 text-center text-sm",children:["The raffle has ended. ",(re==null?void 0:re.toLowerCase())===t.creator.toLowerCase()?"As the creator":"As a participant",", you can request the randomness to initiate winner selection."]})]}):t.state==="Completed"||t.stateNum===4||t.stateNum===7?a.jsx("button",{disabled:!0,className:"w-full bg-muted text-muted-foreground px-6 py-3 rounded-lg opacity-60 cursor-not-allowed flex items-center justify-center gap-2",children:"Raffle Ended"}):le()?a.jsx("button",{onClick:pe,disabled:te,className:"w-full bg-gradient-to-r from-red-500 to-red-700 text-white px-6 py-3 rounded-lg hover:from-red-600 hover:to-red-800 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:te?"Ending...":"End Raffle"}):Ke<=0?a.jsx("button",{disabled:!0,className:"w-full bg-muted text-muted-foreground px-6 py-3 rounded-lg opacity-60 cursor-not-allowed flex items-center justify-center gap-2",children:"Raffle Ended"}):R>=t.maxTicketsPerParticipant?a.jsx("button",{disabled:!0,className:"w-full bg-muted text-muted-foreground px-6 py-3 rounded-lg opacity-60 cursor-not-allowed flex items-center justify-center gap-2",children:"Limit Reached"}):a.jsxs(a.Fragment,{children:[ue()?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Quantity"}),a.jsx("input",{type:"number",min:"1",max:t.maxTicketsPerParticipant,value:H,onChange:Se=>I(Math.max(1,Math.min(t.maxTicketsPerParticipant,parseInt(Se.target.value)||1))),className:"w-full px-3 py-2.5 border border-border rounded-md bg-background"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Maximum: ",t.maxTicketsPerParticipant," tickets"]})]}),a.jsx("div",{className:"p-4 bg-muted/50 backdrop-blur-sm border border-border/30 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium",children:"Total Cost:"}),a.jsxs("span",{className:`font-bold ${W?"text-base":"text-lg"}`,children:[vn(ce.from(t.ticketPrice).mul(H))," ETH"]})]})})]}):a.jsx("div",{className:"hidden lg:block h-32"}),a.jsxs("button",{onClick:ie,disabled:v||!J||!ue(),className:"w-full bg-primary text-primary-foreground px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 shadow-sm",children:[a.jsx(Eo,{className:"h-4 w-4"}),v?"Processing...":`Purchase ${H} Ticket${H>1?"s":""}`]})]}),!J&&a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to purchase tickets."})})]}),!J&&a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to purchase tickets."})})]})]})},p6=({raffle:t})=>{const{getContractInstance:e}=or(),[r,n]=w.useState(null),[i,l]=w.useState(!0);return w.useEffect(()=>{async function c(){if(t.isPrized){l(!0);try{let u;if(t.standard===0)u=await e(t.prizeCollection,"erc721Prize").tokenURI(t.prizeTokenId);else if(t.standard===1)u=await e(t.prizeCollection,"erc1155Prize").uri(t.prizeTokenId);else{n(null),l(!1);return}if(u.startsWith("ipfs://")&&(u=u.replace("ipfs://","https://ipfs.io/ipfs/")),t.standard===1&&u.includes("{id}")){const p=BigInt(t.prizeTokenId).toString(16).padStart(64,"0");u=u.replace("{id}",p)}const h=await(await fetch(u)).json();n(h.image||null)}catch{n(null)}l(!1)}}t.isPrized&&c()},[t,e]),!t.isPrized||i||!r?null:a.jsx(mr,{className:"h-full flex flex-col items-center justify-center",children:a.jsx(pr,{className:"flex flex-col items-center justify-center",children:a.jsx("img",{src:r,alt:"Prize Art",className:"w-48 h-48 object-contain rounded-lg border",style:{background:"#fff"}})})})},g6=({winner:t,index:e,raffle:r,connectedAddress:n,onToggleExpand:i,isExpanded:l,stats:c,onLoadStats:u,collectionName:f})=>{const h=n&&t.address.toLowerCase()===n.toLowerCase(),p=S=>S,y=()=>r.isPrized?r.standard===0?`${r.amountPerWinner||1} ${f||"ERC721 NFT"}`:r.standard===1?`${r.amountPerWinner||1} ${f||"ERC1155 Token"}`:r.prizeType==="ETH"?`${vn(r.prizeAmount||"0")} ETH`:r.prizeType==="ERC20"?"ERC20 Token":"Prize Available":"No Prize",g=r.isPrized?t.prizeClaimed?{text:"Claimed",color:"text-green-600 dark:text-green-400",icon:"green-dot",bgColor:"bg-green-50 dark:bg-green-900/20"}:{text:"Unclaimed",color:"text-orange-600 dark:text-orange-400",icon:"",bgColor:"bg-orange-50 dark:bg-orange-900/20"}:{text:"No Prize",color:"text-muted-foreground",icon:"",bgColor:"bg-muted/20"};return a.jsx("div",{className:`bg-card border-2 rounded-xl transition-all duration-200 hover:shadow-md ${h?"border-yellow-400 bg-yellow-50/50 dark:bg-yellow-900/10":"border-border hover:border-border/80"}`,children:a.jsxs("div",{className:"p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2.5 min-w-0 flex-1",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${h?"bg-yellow-400":"bg-primary"}`})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-mono text-sm font-medium break-all",title:t.address,children:p(t.address)}),h&&a.jsx("div",{className:"text-xs text-yellow-600 dark:text-yellow-400 font-medium mt-0.5",children:"Your Address"})]})]}),a.jsx("button",{onClick:()=>i(t,e),className:"flex-shrink-0 p-1.5 rounded-md hover:bg-muted transition-colors",title:l?"Hide details":"View details",children:a.jsx(Ac,{className:`h-4 w-4 transition-transform duration-200 ${l?"rotate-180":""}`})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-3 text-sm",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Prize"}),a.jsx("div",{className:"font-medium",children:y()})]}),a.jsxs("div",{className:"space-y-0.5 sm:text-right",children:[a.jsx("span",{className:"text-muted-foreground text-xs tracking-wide block",children:"Status"}),a.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-medium ${g.bgColor} ${g.color}`,children:[g.icon==="green-dot"?a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-600 dark:bg-green-400"}):a.jsx("span",{children:g.icon}),a.jsx("span",{children:g.text})]})]})]}),l&&a.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:c?c.error?a.jsxs("div",{className:"text-center py-4",children:[a.jsx(rn,{className:"h-6 w-6 text-red-500 mx-auto mb-2"}),a.jsx("div",{className:"text-red-500 text-sm font-medium",children:c.error})]}):a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Participation Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Tickets Purchased"}),a.jsx("div",{className:"font-semibold text-base",children:c.ticketsPurchased})]}),a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Winning Tickets"}),a.jsx("div",{className:"font-semibold text-base text-green-600",children:c.winningTickets})]}),a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Losing Tickets"}),a.jsx("div",{className:"font-semibold text-base text-red-600",children:c.losingTickets})]}),a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Win Rate"}),a.jsx("div",{className:"font-semibold text-base",children:c.ticketsPurchased>0?`${(c.winningTickets/c.ticketsPurchased*100).toFixed(1)}%`:"0%"})]})]})]}):a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary mx-auto mb-2"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading participation details..."})]})})]})})},v6=({raffle:t,isMintableERC721:e,isMobile:r})=>{const{getContractInstance:n,executeTransaction:i}=or(),{address:l}=Qt(),[c,u]=w.useState([]),[f,h]=w.useState(!1),[p,y]=w.useState(null),[k,g]=w.useState({}),[S,N]=w.useState(null),[A,P]=w.useState(null);w.useEffect(()=>{N(null)},[t]),w.useEffect(()=>{(async()=>{if(!t||!t.prizeCollection||t.prizeCollection===Oe){P(null);return}try{const W=await n(t.prizeCollection,t.standard===0?"erc721Prize":"erc1155Prize").name();P(W)}catch(U){console.warn("Failed to fetch collection name:",U),P(null)}})()},[t,n]),w.useEffect(()=>{(async()=>{if(console.log("Fetching winners for raffle state:",t.stateNum,t.state),t.stateNum!==4&&t.stateNum!==7){console.log("Raffle not in completed state, skipping winners fetch"),u([]);return}h(!0);try{const U=n&&n(t.address,"raffle");if(!U){u([]),h(!1);return}const W=await U.winnersCount(),V=W.toNumber?W.toNumber():Number(W);if(console.log("Winners count:",V),V===0){console.log("No winners found"),u([]),h(!1);return}const J=[];for(let re=0;re<V;re++)try{const Q=await U.winners(re);if(console.log(`Winner at index ${re}:`,Q),Q===Oe||Q==="0x0000000000000000000000000000000000000000"){console.log(`Skipping zero address at index ${re}`);continue}const X=await U.claimedWins(Q),H=await U.prizeClaimed(Q);J.push({address:Q,index:re,claimedWins:X.toNumber?X.toNumber():Number(X),prizeClaimed:H})}catch(Q){console.warn(`Error fetching winner at index ${re}:`,Q);continue}console.log("Final winners array:",J),u(J)}catch{u([])}finally{h(!1)}})()},[t,n,l]);const z=()=>{switch(vp[t.stateNum]||"Unknown"){case"Pending":return a.jsxs("div",{className:"text-center py-8",children:[a.jsx(rp,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Raffle Pending"}),a.jsx("p",{className:"text-muted-foreground",children:"Winners will be announced after the raffle ends and drawing is complete."})]});case"Active":return a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Bp,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Raffle Active"}),a.jsx("p",{className:"text-muted-foreground",children:"Raffle is currently active. Winners will be announced after it ends."})]});case"Ended":return a.jsxs("div",{className:"text-center py-8",children:[a.jsx(rp,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Raffle Ended"}),a.jsx("p",{className:"text-muted-foreground",children:"Raffle has ended. Waiting for winner selection."})]});case"Drawing":return a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Drawing in Progress"}),a.jsx("p",{className:"text-muted-foreground",children:"Winners are being selected. Please wait..."})]});case"Completed":case"All Prizes Claimed":return a.jsx("div",{className:"space-y-4",children:f?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading winners..."})]}):c.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{className:"text-sm text-muted-foreground",children:[c.length," winner",c.length!==1?"s":""," selected"]})}),a.jsx("div",{className:"max-h-96 overflow-y-auto pr-2",children:a.jsx("div",{className:"space-y-3 pb-4",children:c.map((U,W)=>a.jsx(g6,{winner:U,index:W,raffle:t,connectedAddress:l,onToggleExpand:L,isExpanded:p===W,stats:k[U.address],onLoadStats:L,collectionName:A},U.index))})})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ro,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No winners data available."})]})});case"Deleted":return a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Cw,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Raffle Deleted"}),a.jsx("p",{className:"text-muted-foreground",children:"This raffle has been deleted and is no longer active."})]});case"Activation Failed":return a.jsxs("div",{className:"text-center py-8",children:[a.jsx(rn,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Activation Failed"}),a.jsx("p",{className:"text-muted-foreground",children:"Raffle activation failed. Please contact support or try again."})]});case"Unengaged":return a.jsxs("div",{className:"text-center py-8",children:[a.jsx(rn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Unengaged Raffle"}),a.jsx("p",{className:"text-muted-foreground",children:"This raffle did not receive enough engagement and was closed."})]});default:return a.jsxs("div",{className:"text-center py-8",children:[a.jsx(rn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Unknown raffle state."})]})}},L=async($,U)=>{if(p===U){y(null);return}if(y(U),!k[$.address])try{const W=n(t.address,"raffle"),V=await W.ticketsPurchased($.address),J=await W.winsPerAddress($.address),re=await W.prizeClaimed($.address),Q=V.toNumber?V.toNumber():Number(V),X=J.toNumber?J.toNumber():Number(J);g(H=>({...H,[$.address]:{ticketsPurchased:Q,winningTickets:X,losingTickets:Q-X,prizeClaimed:!!re}}))}catch{g(V=>({...V,[$.address]:{error:"Failed to fetch stats"}}))}};return a.jsxs(mr,{className:"bg-background",children:[a.jsxs(Zr,{className:"flex flex-row items-center justify-between pb-2 pt-3 px-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(en,{className:r?"text-lg":"text-xl",children:"Winners"}),S&&a.jsxs("a",{href:Ik(S),target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 underline flex items-center gap-1",title:"View winner selection transaction",children:[a.jsx(Ro,{className:"h-4 w-4"}),"Transaction"]})]}),a.jsx("div",{className:"flex gap-2"})]}),a.jsx(pr,{className:"overflow-y-auto px-6 pb-6 pt-0",children:z()})]})};function y6({token:t,amount:e}){const[r,n]=be.useState("TOKEN");return be.useEffect(()=>{let i=!0;async function l(){try{if(window.__erc20SymbolCache||(window.__erc20SymbolCache={}),window.__erc20SymbolCache[t]){n(window.__erc20SymbolCache[t]);return}const c=window.ethereum?new No(window.ethereum):Yl(),u=["function symbol() view returns (string)"],h=await new Wt(t,u,c).symbol();i&&(n(h),window.__erc20SymbolCache[t]=h)}catch{i&&n("TOKEN")}}return l(),()=>{i=!1}},[t]),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Prize Amount:"}),a.jsxs("span",{children:[Qd(e,18)," ",r]})]})}function x6(t){return t?t.state==="Deleted"?{label:"All Tickets Refundable",refundable:!0,reason:"Raffle was deleted before ending. All tickets are refundable."}:t.isPrized&&t.winnersCount===1&&t.standard!==void 0&&(t.standard===0||t.standard===1)?{label:"Tickets Refundable if Deleted",refundable:!1,reason:"Single-winner NFT raffles are not refundable unless deleted before ending."}:{label:"Non-winning Tickets Refundable",refundable:!0,reason:"This raffle supports refunds for non-winning tickets."}:{label:"Non-Refundable",refundable:!1,reason:"Unknown"}}function Ik(t,e){let r=1;typeof e=="number"?r=e:window.ethereum&&window.ethereum.chainId&&(r=parseInt(window.ethereum.chainId,16));const n={1:"https://etherscan.io",5:"https://goerli.etherscan.io",11155111:"https://sepolia.etherscan.io",137:"https://polygonscan.com",80001:"https://mumbai.polygonscan.com",10:"https://optimistic.etherscan.io",420:"https://goerli-optimism.etherscan.io",42161:"https://arbiscan.io",56:"https://bscscan.com",97:"https://testnet.bscscan.com",43114:"https://snowtrace.io",43113:"https://testnet.snowtrace.io",8453:"https://basescan.org",84531:"https://goerli.basescan.org",84532:"https://sepolia.basescan.org",11155420:"https://sepolia-optimism.etherscan.io"};return`${n[r]||n[1]}/address/${t}`}const b6=[{label:"ERC721",value:0},{label:"ERC1155",value:1}],w6=()=>{var vs,Fs,Jn,hi;const{raffleAddress:t}=tC(),e=Uo(),{connected:r,address:n,provider:i,isInitialized:l,isReconnecting:c}=Qt(),{getContractInstance:u,executeTransaction:f,isContractsReady:h}=or(),{isMobile:p}=Nr(),{refreshTrigger:y,triggerRefresh:k}=tM(),[g,S]=w.useState(null),[N,A]=w.useState(!0),[P,z]=w.useState(null),[L,$]=w.useState(""),[U,W]=w.useState(!1),[V,J]=w.useState(!1),[re,Q]=w.useState(null),[X,H]=w.useState(!1),[I,v]=w.useState(!1),[C,R]=w.useState(!1),[_,j]=w.useState(!1),[D,O]=w.useState(!1),[T,b]=w.useState(!1),[B,te]=w.useState(!1),[M,K]=w.useState(!1),[q,Y]=w.useState(!1),[ie,ue]=w.useState(!1),[le,de]=w.useState(null),[je,pe]=w.useState(!1),[Ae,rt]=w.useState(!1),[Le,Ge]=w.useState(""),[kt,Ke]=w.useState(!1),ke=async()=>{Ke(!0);try{const ve=u(g.address,"raffle");if(!ve)throw new Error("Failed to get raffle contract");if(!Le||Le.length!==42)throw new Error("Please enter a valid address");const Ee=await f(()=>ve.mintToWinner(Le));if(Ee.success)ge.success("mintToWinner() executed successfully!"),window.location.reload();else throw new Error(Ee.error)}catch(ve){ge.error(fs(ve))}finally{Ke(!1)}},[Se,xe]=w.useState(!1),Ve=w.useRef(null),[Dt,Ue]=w.useState(""),[He,xr]=w.useState(0),[xt,nt]=w.useState(""),[ar,bt]=w.useState(""),[Xe,tr]=w.useState(!1),Nt=async()=>{tr(!0);try{const ve=u(g.address,"raffle");if(!ve)throw new Error("Failed to get raffle contract");if(!Dt||Dt.length!==42)throw new Error("Please enter a valid address");let Ee=xt,Ne=ar;if(He===0)Ee=0,Ne=1;else if(Ee===""||Ne==="")throw new Error("Token ID and Amount Per Winner are required");const $t=await f(()=>ve.setExternalPrize(Dt,He,Ee,Ne));if($t.success)ge.success("Prize assigned successfully!"),window.location.reload();else throw new Error($t.error)}catch(ve){ge.error(fs(ve))}finally{tr(!1)}};w.useEffect(()=>{if(!Se)return;function ve(Ee){Ve.current&&!Ve.current.contains(Ee.target)&&xe(!1)}return document.addEventListener("mousedown",ve),()=>{document.removeEventListener("mousedown",ve)}},[Se]);const ut=w.useMemo(()=>r,[r]),Kr=w.useMemo(()=>n,[n]),pt=w.useMemo(()=>t,[t]),gt=w.useCallback(async()=>{A(!0),z(null);try{if(!pt)throw new Error("No raffle address provided");if(!l||c)throw new Error("Wallet is initializing, please wait...");if(!u)throw new Error("Contract context not ready");const ve=zp(),Ee=Dp();console.log(` Loading raffle on ${Ee.name} ${Ee.version} (Mobile: ${ve.isMobile})`);const Ne=u(pt,"raffle");if(!Ne)throw new Error("Failed to create contract instance - no signer/provider available");const $t=await Pd(()=>Ne.name(),"name",{timeout:ve.timeout,retries:ve.retries,required:!0});if(!$t.success)throw new Error(`Contract connectivity test failed: ${$t.error}`);const vt=[{method:()=>Ne.name(),name:"name",required:!0,fallback:"Unknown Raffle"},{method:()=>Ne.creator(),name:"creator",required:!0,fallback:Oe},{method:()=>Ne.startTime(),name:"startTime",required:!0,fallback:ce.from(0)},{method:()=>Ne.duration(),name:"duration",required:!0,fallback:ce.from(0)},{method:()=>Ne.ticketPrice(),name:"ticketPrice",required:!0,fallback:ce.from(0)},{method:()=>Ne.ticketLimit(),name:"ticketLimit",required:!0,fallback:ce.from(0)},{method:()=>Ne.winnersCount(),name:"winnersCount",required:!0,fallback:ce.from(0)},{method:()=>Ne.maxTicketsPerParticipant(),name:"maxTicketsPerParticipant",required:!0,fallback:ce.from(0)},{method:()=>Ne.isPrized(),name:"isPrized",required:!0,fallback:!1},{method:()=>Ne.prizeCollection(),name:"prizeCollection",required:!0,fallback:Oe},{method:()=>Ne.prizeTokenId(),name:"prizeTokenId",required:!0,fallback:ce.from(0)},{method:()=>Ne.standard(),name:"standard",required:!0,fallback:ce.from(0)},{method:()=>Ne.state(),name:"state",required:!0,fallback:ce.from(0)},{method:yo(Ne,"erc20PrizeToken",Oe),name:"erc20PrizeToken",required:!1,fallback:Oe},{method:yo(Ne,"erc20PrizeAmount",ce.from(0)),name:"erc20PrizeAmount",required:!1,fallback:ce.from(0)},{method:yo(Ne,"ethPrizeAmount",ce.from(0)),name:"ethPrizeAmount",required:!1,fallback:ce.from(0)},{method:yo(Ne,"usesCustomPrice",!1),name:"usesCustomPrice",required:!1,fallback:!1},{method:yo(Ne,"isRefundable",!1),name:"isRefundable",required:!1,fallback:!1},{method:yo(Ne,"isExternallyPrized",!1),name:"isExternallyPrized",required:!1,fallback:!1},{method:yo(Ne,"amountPerWinner",ce.from(1)),name:"amountPerWinner",required:!1,fallback:ce.from(1)}],[Er,on,Bs,ys,mi,Zi,Ko,Yo,bf,Qo,Rc,tl,pi,wf,rl,It,Mc,_c,Jo,eo]=await OP(vt,{timeout:ve.timeout,useSequential:ve.useSequential,batchSize:ve.batchSize,delayBetweenCalls:ve.delayBetweenCalls});let to=0;try{to=(await Ne.getParticipantsCount()).toNumber()}catch{let On=0;for(;;)try{await Ne.participants(On),to++,On++}catch{break}}let ro=0,Xo=Yo.toNumber();if(r&&n)try{ro=(await Ne.ticketsPurchased(n)).toNumber(),Xo=Math.max(0,Yo.toNumber()-ro)}catch(an){console.warn("Could not fetch user ticket data:",an);let On=0;for(;On<to;)try{(await Ne.participants(On)).toLowerCase()===n.toLowerCase()&&ro++,On++}catch{break}Xo=Math.max(0,Yo.toNumber()-ro)}const no=!!bf,Xn={address:t,name:Er,creator:on,startTime:Bs.toNumber(),duration:ys.toNumber(),ticketPrice:mi,ticketLimit:Zi.toNumber(),ticketsSold:to,winnersCount:Ko.toNumber(),maxTicketsPerParticipant:Yo.toNumber(),isPrized:no,prizeCollection:no?Qo:null,stateNum:pi,state:vp[pi]||"Unknown",erc20PrizeToken:wf,erc20PrizeAmount:rl,ethPrizeAmount:It,usesCustomPrice:Mc,standard:tl,prizeTokenId:Rc,amountPerWinner:eo?eo.toNumber?eo.toNumber():Number(eo):1};S(Xn),de(_c),pe(Jo);let Zn=Qo;if(Jo)try{Zn=await Ne.prizeCollection()}catch{}S({...Xn,prizeCollection:Zn})}catch(ve){console.error("Error fetching raffle data:",ve);const Ee=fs(ve);console.log("Raffle fetch error:",Ee),!Ee.toLowerCase().includes("network")&&!Ee.toLowerCase().includes("connection")&&!Ee.toLowerCase().includes("timeout")&&ge.error(`Failed to load raffle: ${Ee}`),z(Ee)}finally{A(!1)}},[pt,u,ut,Kr,l,c,y]);w.useEffect(()=>{pt&&u&&l&&!c&&gt()},[gt,pt,u,l,c,y]),w.useEffect(()=>{(async()=>{if(!g||!g.prizeCollection||g.prizeCollection===Oe){Q(null);return}try{const Ne=await u(g.prizeCollection,g.standard===0?"erc721Prize":"erc1155Prize").name();Q(Ne)}catch(Ee){console.warn("Failed to fetch raffle collection name:",Ee),Q(null)}})()},[g,u]);const Rr=w.useCallback(ve=>{const Ee=Math.floor(ve/86400),Ne=Math.floor(ve%86400/3600),$t=Math.floor(ve%3600/60),vt=ve%60;let Er="";return Ee>0&&(Er+=`${Ee}d `),(Ne>0||Ee>0)&&(Er+=`${Ne}h `),($t>0||Ne>0||Ee>0)&&(Er+=`${$t}m `),Er+=`${vt}s`,Er.trim()},[]),dt=w.useCallback(ve=>{const Ee=Math.floor(ve/86400),Ne=Math.floor(ve%86400/3600),$t=Math.floor(ve%3600/60);let vt="";return Ee>0&&(vt+=`${Ee}d `),(Ne>0||Ee>0)&&(vt+=`${Ne}h `),($t>0||Ne>0||Ee>0)&&(vt+=`${$t}m`),vt||(vt="0m"),vt.trim()},[]),at=w.useCallback(()=>{if(!g)return;const ve=Math.floor(Date.now()/1e3);let Ee="",Ne=0;if([2,3,4,5,6,7,8].includes(g.stateNum)){Ee="Duration",Ne=g.duration,tt(Ee),Ft(dt(Ne));return}ve<g.startTime?(Ee="Starts In",Ne=g.startTime-ve):(Ee="Ends In",Ne=g.startTime+g.duration-ve),tt(Ee),Ft(Ne>0?Rr(Ne):"Ended")},[g,Rr,dt]);w.useEffect(()=>{if(!g)return;at();const ve=setInterval(at,1e3);return()=>clearInterval(ve)},[at]),w.useEffect(()=>{async function ve(){if(t&&u)try{const Ee=u(t,"raffle");if(Ee){const Ne=await Ee.isEscrowedPrize();W(Ne)}}catch{W(!1)}}ve()},[t,u]),w.useEffect(()=>{(async()=>{if(g&&g.standard===1&&g.prizeCollection&&n&&n.toLowerCase()===g.creator.toLowerCase()){R(!0);try{const Ne=(window.ethereum?new No(window.ethereum):Yl()).getSigner(),vt=await new Wt(g.prizeCollection,qt.erc1155Prize,Ne).isApprovedForAll(n,g.address);v(vt)}catch{v(!1)}finally{R(!1)}}})()},[g,n]),w.useEffect(()=>{(async()=>{if(g&&g.erc20PrizeToken&&g.erc20PrizeToken!==Oe&&g.erc20PrizeAmount&&n&&n.toLowerCase()===g.creator.toLowerCase()){b(!0);try{const Ne=(window.ethereum?new No(window.ethereum):Yl()).getSigner(),vt=await new Wt(g.erc20PrizeToken,qt.erc20,Ne).allowance(n,g.address);O(vt.gte(g.erc20PrizeAmount))}catch{O(!1)}finally{b(!1)}}})()},[g,n]),w.useEffect(()=>{(async()=>{if(g&&g.standard===0&&g.prizeCollection&&typeof g.prizeTokenId<"u"&&n&&n.toLowerCase()===g.creator.toLowerCase()){Y(!0);try{const Ne=(window.ethereum?new No(window.ethereum):Yl()).getSigner(),$t=new Wt(g.prizeCollection,qt.erc721Prize,Ne),vt=await $t.getApproved(g.prizeTokenId);if(vt&&vt.toLowerCase()===g.address.toLowerCase())K(!0);else{const Er=await $t.isApprovedForAll(n,g.address);K(Er)}}catch{K(!1)}finally{Y(!1)}}})()},[g,n]);const ur=async ve=>{if(!r||!g)throw new Error("Wallet not connected or raffle not loaded");const Ee=u(g.address,"raffle");if(!Ee)throw new Error("Failed to get raffle contract");const Ne=ce.from(g.ticketPrice).mul(ve),$t=await f(Ee.purchaseTickets,ve,{value:Ne});if($t.success)ge.success(`Successfully purchased ${ve} ticket${ve>1?"s":""}!`),k();else throw new Error($t.error)},Pt=async()=>{if(!(!g||!u)){console.log("Attempting to delete raffle:",{address:g.address,state:g.state,stateNum:g.stateNum,creator:g.creator,userAddress:n,isCreator:(n==null?void 0:n.toLowerCase())===g.creator.toLowerCase(),prizeCollection:g.prizeCollection,usesCustomPrice:g.usesCustomPrice,canDelete:Ce()}),H(!0);try{const ve=u(g.address,"raffle");if(!ve)throw new Error("Contract instance not available");await(await ve.deleteRaffle()).wait(),ge.success("Raffle deleted successfully!"),e("/")}catch(ve){console.error("Error deleting raffle:",ve),ge.error(fs(ve))}finally{H(!1)}}},Ce=()=>r&&(n==null?void 0:n.toLowerCase())===(g==null?void 0:g.creator.toLowerCase())&&((g==null?void 0:g.state)==="Pending"||(g==null?void 0:g.state)==="Active")&&(le===!0||(g==null?void 0:g.usesCustomPrice)===!0),st=()=>{if(!g)return null;const ve=vp[g.stateNum]||"Unknown",Ee={Pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",Active:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",Ended:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",Drawing:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",Completed:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",Deleted:"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-300","Activation Failed":"bg-red-200 text-red-900 dark:bg-red-900/40 dark:text-red-300","All Prizes Claimed":"bg-blue-200 text-blue-900 dark:bg-blue-900/40 dark:text-blue-300",Unengaged:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",Unknown:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};return a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Ee[ve]||Ee.Unknown}`,children:ve})};async function Fe(){J(!0);try{await(await u(t,"raffle").withdrawEscrowedPrize()).wait(),ge.success("Prize withdrawn successfully!")}catch(ve){ge.error(fs(ve))}finally{J(!1)}}w.useEffect(()=>{console.log("RAFFLE:",g),console.log("isEscrowedPrize:",U),console.log("is1155Approved:",I),console.log("checkingApproval:",C)},[g,U,I,C]);const et=Math.floor(Date.now()/1e3);g&&g.startTime&&et>=g.startTime;const[Jt,tt]=w.useState(""),[lt,Ft]=w.useState(""),[ft,Et]=w.useState(!1),[sn,At]=w.useState(!1),[_t,bn]=w.useState(!1),[zt,jt]=w.useState(!1),[Fr,Ot]=w.useState(!1),[St,Yr]=w.useState(null),[Mr,Qr]=w.useState(null);w.useEffect(()=>{(async()=>{if(!g||!n||g.stateNum!==4&&g.stateNum!==7){bn(!1),jt(!1),Yr(null),Qr(null);return}try{const Ee=u&&u(g.address,"raffle");if(!Ee)return;const Ne=await Ee.winnersCount(),$t=Ne.toNumber?Ne.toNumber():Number(Ne);let vt=!1,Er=null;for(let on=0;on<$t;on++)try{const Bs=await Ee.winners(on);if(Bs.toLowerCase()===n.toLowerCase()){const ys=await Ee.claimedWins(Bs),mi=await Ee.prizeClaimed(Bs);vt=!0,Er={address:Bs,index:on,claimedWins:ys.toNumber?ys.toNumber():Number(ys),prizeClaimed:!!mi};break}}catch{continue}if(bn(vt),Qr(Er),g.isPrized)try{const on=await Ee.getRefundableAmount(n);Yr(on),jt(on&&on.gt&&on.gt(0))}catch{Yr(null),jt(!1)}}catch{bn(!1),jt(!1),Yr(null),Qr(null)}})()},[g,u,n]);const wn=!!Mr&&(g==null?void 0:g.isPrized)&&((g==null?void 0:g.stateNum)===4||(g==null?void 0:g.stateNum)===7),kn=Mr&&Mr.prizeClaimed,Ji=(g==null?void 0:g.isPrized)&&((g==null?void 0:g.stateNum)===4||(g==null?void 0:g.stateNum)===7)&&zt&&St&&St.gt&&St.gt(0),Xi=async()=>{if(!n||!g||!u){ge.error("Please connect your wallet to claim your prize");return}if(!_t||!Mr){ge.error("You are not a winner of this raffle");return}if(Mr.prizeClaimed){ge.error("You have already claimed your prize");return}Et(!0);try{const ve=u(g.address,"raffle");if(!ve)throw new Error("Failed to get raffle contract");const Ee=await f(ve.claimPrize);if(Ee.success){let Ne="prize";g.ethPrizeAmount&&g.ethPrizeAmount.gt&&g.ethPrizeAmount.gt(0)?Ne=`${vn(g.ethPrizeAmount)} ETH`:g.erc20PrizeToken&&g.erc20PrizeToken!==Oe&&g.erc20PrizeAmount&&g.erc20PrizeAmount.gt&&g.erc20PrizeAmount.gt(0)?Ne=`${Qd(g.erc20PrizeAmount,18)} ERC20 tokens`:g.prizeCollection&&g.prizeCollection!==Oe&&(Ne=g.standard===0?"ERC721 NFT":"ERC1155 NFT"),ge.success(`Successfully claimed your ${Ne}!`),window.location.reload()}else throw new Error(Ee.error)}catch(ve){ge.error(fs(ve))}finally{Et(!1)}},Ut=async()=>{if(!n||!g||!u){ge.error("Please connect your wallet to claim your refund");return}At(!0);try{const ve=u(g.address,"raffle");if(!ve)throw new Error("Failed to get raffle contract");const Ee=await f(ve.claimRefund);if(Ee.success)ge.success("Successfully claimed your refund!"),k();else throw new Error(Ee.error)}catch(ve){ge.error(fs(ve))}finally{At(!1)}};if(N||c)return a.jsx(dk,{message:c?"Reconnecting wallet...":"Loading raffle details...",isMobile:p});if(P&&!N&&!c){const ve=P.toLowerCase().includes("wallet")||P.toLowerCase().includes("signer")||P.toLowerCase().includes("initializing");return a.jsx(Co,{variant:"wide",className:"py-8",children:a.jsxs("div",{className:"text-center py-16",children:[a.jsx(rn,{className:"h-16 w-16 text-destructive mx-auto mb-4"}),a.jsx("h2",{className:p?"text-lg font-semibold mb-2":"text-2xl font-semibold mb-2",children:ve?"Wallet Connection Issue":"Failed to Load Raffle"}),a.jsx("p",{className:"text-muted-foreground mb-4 max-w-md mx-auto",children:ve?"Please ensure your wallet is connected and try again.":P}),a.jsxs("div",{className:"flex gap-4 justify-center",children:[a.jsx("button",{onClick:gt,className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 transition-colors",children:"Try Again"}),a.jsx("button",{onClick:()=>e("/"),className:"bg-muted text-muted-foreground px-4 py-2 rounded-md hover:bg-muted/80 transition-colors",children:"Back to Home"})]})]})})}if(!g)return a.jsx(Co,{variant:"wide",className:"py-8",children:a.jsxs("div",{className:"text-center py-16",children:[a.jsx(rn,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),a.jsx("h2",{className:p?"text-lg font-semibold mb-2":"text-2xl font-semibold mb-2",children:"Raffle Not Found"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"The raffle you're looking for doesn't exist or has been removed."}),a.jsx("button",{onClick:()=>e("/"),className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 transition-colors",children:"Back to Home"})]})});const Ls=g&&g.prizeCollection&&g.prizeCollection!==Oe&&g.standard===0;return a.jsxs(Co,{variant:"wide",className:"py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("button",{onClick:()=>e("/"),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors mb-4",children:[a.jsx(HP,{className:"h-4 w-4"}),"Back to Raffles"]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:p?"text-xl font-bold mb-2":"text-3xl font-bold mb-2",children:g.name}),a.jsxs("p",{className:"text-muted-foreground",children:["Created by ",g.creator.slice(0,10),"...",g.creator.slice(-8)]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[st(),Ce()&&a.jsxs(Be,{onClick:Pt,className:"flex items-center gap-2 bg-gradient-to-r from-red-500 to-pink-600 text-white px-4 py-2 rounded-md hover:from-red-600 hover:to-pink-700 transition-colors text-sm font-medium",title:g.ticketsSold>0?"Delete raffle (refunds will be processed automatically)":"Delete this raffle",disabled:X,children:[a.jsx(Cw,{className:"h-4 w-4"}),X?"Deleting...":"Delete Raffle"]}),r&&(n==null?void 0:n.toLowerCase())===g.creator.toLowerCase()&&(g.isPrized||Ls||!g.isPrized&&je)&&g.prizeCollection&&g.prizeCollection!==Oe&&(!g.erc20PrizeAmount||((Fs=(vs=g.erc20PrizeAmount).isZero)==null?void 0:Fs.call(vs))||g.erc20PrizeAmount==="0")&&(!g.ethPrizeAmount||((hi=(Jn=g.ethPrizeAmount).isZero)==null?void 0:hi.call(Jn))||g.ethPrizeAmount==="0")&&!U&&a.jsx("div",{className:"flex flex-col gap-2",children:Ae?a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-center",children:[a.jsx("input",{type:"text",placeholder:"Enter winner address",value:Le,onChange:ve=>Ge(ve.target.value),className:"px-3 py-2.5 border border-border rounded-md bg-background w-72 font-mono",disabled:kt}),a.jsx(Be,{onClick:ke,disabled:kt||!Le||Le.length!==42,className:"bg-gradient-to-r from-orange-500 to-red-600 text-white px-4 py-2 rounded-lg hover:from-orange-600 hover:to-red-700 transition-colors disabled:opacity-50",children:kt?"Minting...":"Submit"}),a.jsx(Be,{variant:"outline",onClick:()=>rt(!1),disabled:kt,className:"ml-2",children:"Cancel"})]}):a.jsx(Be,{onClick:()=>rt(!0),className:"bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:"Mint to Winner"})}),r&&(n==null?void 0:n.toLowerCase())===g.creator.toLowerCase()&&U&&g.standard===1&&a.jsx(Be,{onClick:Fe,className:"ml-2 bg-warning text-warning-foreground hover:bg-warning/90",disabled:V,children:V?"Withdrawing...":"Withdraw Prize"}),!g.isPrized&&g.stateNum===0&&r&&(n==null?void 0:n.toLowerCase())===g.creator.toLowerCase()&&a.jsx("div",{className:"flex flex-col gap-2",children:Se?a.jsxs("div",{ref:Ve,className:"flex flex-col sm:flex-row gap-2 items-center bg-background p-2 rounded-md relative z-10",children:[a.jsx("input",{type:"text",placeholder:"Prize collection address",value:Dt,onChange:ve=>Ue(ve.target.value),className:"px-3 py-2.5 border border-border rounded-md bg-background w-56 font-mono",disabled:Xe}),a.jsx("select",{value:He,onChange:ve=>xr(Number(ve.target.value)),className:"px-3 py-2.5 border border-border rounded-md bg-black text-white",disabled:Xe,children:b6.map(ve=>a.jsx("option",{value:ve.value,children:ve.label},ve.value))}),a.jsx("input",{type:"number",placeholder:"Prize Token ID",value:He===0?0:xt,onChange:ve=>nt(ve.target.value),className:"px-3 py-2.5 border border-border rounded-md bg-background w-32",disabled:Xe||He===0}),a.jsx("input",{type:"number",placeholder:"Amount Per Winner",value:He===0?1:ar,onChange:ve=>bt(ve.target.value),className:"px-3 py-2.5 border border-border rounded-md bg-background w-32",disabled:Xe||He===0}),a.jsx(Be,{onClick:Nt,disabled:Xe||!Dt||Dt.length!==42||He!==0&&(xt===""||ar===""),className:"bg-gradient-to-r from-green-500 to-blue-600 text-white px-4 py-2 rounded-lg hover:from-green-600 hover:to-blue-700 transition-colors disabled:opacity-50",children:Xe?"Assigning...":"Submit"}),a.jsx(Be,{variant:"outline",onClick:()=>xe(!1),disabled:Xe,className:"ml-2",children:"Cancel"})]}):a.jsx(Be,{onClick:()=>xe(!0),className:"bg-gradient-to-r from-green-500 to-blue-600 text-white px-6 py-3 rounded-lg hover:from-green-600 hover:to-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:"Assign Prize"})})]})]}),Ce()&&g.ticketsSold>0&&a.jsx("div",{className:"mt-4 p-4 bg-blue-50/80 dark:bg-blue-900/20 backdrop-blur-sm border border-blue-200/50 dark:border-blue-700/50 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[" As the raffle creator, you can delete this raffle. Deletion will automatically process refunds for all ",g.ticketsSold," sold tickets."]})})]}),a.jsx("div",{className:"mb-8 p-6 bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl shadow-lg",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 text-center items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:`font-bold ${p?"text-lg":"text-2xl"}`,children:g.ticketsSold}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Tickets Sold"})]}),a.jsxs("div",{children:[a.jsx("p",{className:`font-bold ${p?"text-lg":"text-2xl"}`,children:g.ticketLimit}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Tickets"})]}),a.jsxs("div",{children:[a.jsx("p",{className:`font-bold ${p?"text-lg":"text-2xl"}`,children:g.winnersCount}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Winners"})]}),a.jsxs("div",{children:[a.jsx("p",{className:`font-bold ${p?"text-lg":"text-2xl"}`,children:lt}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:Jt})]}),a.jsx("div",{className:"flex justify-center lg:justify-end items-center h-full w-full",children:le&&g&&g.standard!==2&&g.standard!==3&&(()=>{const{refundable:ve,reason:Ee,label:Ne}=x6(g);return a.jsxs("span",{className:`px-3 py-1 rounded-full font-semibold ${ve?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-300"} text-xs`,title:Ee,style:{whiteSpace:"nowrap"},children:[Ne,a.jsx(YP,{className:"inline-block ml-1 h-4 w-4 text-gray-400 align-middle",title:Ee})]})})()})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx(m6,{raffle:g,onPurchase:ur,timeRemaining:L,winners:[],shouldShowClaimPrize:wn,prizeAlreadyClaimed:kn,claimingPrize:ft,handleClaimPrize:Xi,shouldShowClaimRefund:Ji,claimingRefund:sn,handleClaimRefund:Ut,refundableAmount:St,isMintableERC721:Ls,showMintInput:Ae,setShowMintInput:rt,mintWinnerAddress:Le,setMintWinnerAddress:Ge,mintingToWinner:kt,handleMintToWinner:ke,isEscrowedPrize:U,isExternallyPrized:je,isPrized:g.isPrized,isMobile:p,onStateChange:k}),a.jsx(v6,{raffle:g,isMintableERC721:Ls,isMobile:p})]}),a.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-6 shadow-lg h-full",children:[a.jsx("h3",{className:`font-semibold mb-4 ${p?"text-base":"text-lg"}`,children:"Raffle Details"}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Contract Address:"}),a.jsx("span",{className:"font-mono",children:p?`${g.address.slice(0,12)}...`:`${g.address.slice(0,10)}...${g.address.slice(-8)}`})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Start Time:"}),a.jsx("span",{children:new Date(g.startTime*1e3).toLocaleString()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Duration:"}),a.jsx("span",{children:dt(g.duration)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Ticket Price:"}),a.jsxs("span",{children:[vn(g.ticketPrice)," ETH"]})]}),g.ethPrizeAmount&&g.ethPrizeAmount.gt&&g.ethPrizeAmount.gt(0)&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Prize Amount:"}),a.jsxs("span",{children:[vn(g.ethPrizeAmount)," ETH"]})]}),g.erc20PrizeToken&&g.erc20PrizeToken!==Oe&&g.erc20PrizeAmount&&g.erc20PrizeAmount.gt&&g.erc20PrizeAmount.gt(0)&&a.jsx(y6,{token:g.erc20PrizeToken,amount:g.erc20PrizeAmount}),g.prizeCollection&&g.prizeCollection!==Oe&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Prize Collection:"}),a.jsx("a",{href:Ik(g.prizeCollection,g.chainId),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-200",title:g.prizeCollection,children:re||`${g.prizeCollection.slice(0,10)}...${g.prizeCollection.slice(-8)}`})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Collection Type:"}),a.jsx("span",{className:"font-semibold",children:(()=>{if(typeof U=="boolean"&&typeof g.standard<"u"){if(!U&&g.standard===0)return"Mintable ERC721";if(!U&&g.standard===1)return"Mintable ERC1155";if(U&&g.standard===0)return"Escrowed ERC721";if(U&&g.standard===1)return"Escrowed ERC1155"}return"Unknown"})()})]})]})]})]}),a.jsx(p6,{raffle:g})]})]})]})},k6=()=>{const{isMobile:t,isInitialized:e}=Nr(),{component:r}=u4();return w.useEffect(()=>(m4(),()=>{p4()}),[]),e?a.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[a.jsx(i4,{}),a.jsx("div",{style:{height:"80px"}}),a.jsx("main",{className:"flex-1 min-h-0",children:a.jsxs(vC,{children:[a.jsx(Fl,{path:"/",element:a.jsx(S4,{})}),a.jsx(Fl,{path:"/profile",element:a.jsx(K4,{})}),a.jsx(Fl,{path:"/create-raffle",element:a.jsx(a6,{})}),a.jsx(Fl,{path:"/raffle/:raffleAddress",element:a.jsx(w6,{})})]})}),a.jsx(o4,{}),a.jsx(zP,{}),r]}):a.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold mb-2",style:{fontFamily:"Orbitron, monospace"},children:"Rafflhub"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading..."})]})})};function N6(){return a.jsx(a4,{children:a.jsx(BP,{children:a.jsx(eP,{children:a.jsx(FP,{children:a.jsx(UP,{children:a.jsx(EC,{children:a.jsx(k6,{})})})})})})})}console.log("main.jsx is executing...");const yp=document.getElementById("root");console.log("Root element found:",yp);if(yp){const t=CE.createRoot(yp);console.log("React root created"),t.render(a.jsx(N6,{})),console.log("React app rendered")}else console.error("Root element not found!");

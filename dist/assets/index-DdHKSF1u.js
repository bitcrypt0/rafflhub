var p$=Object.defineProperty;var m$=(t,e,n)=>e in t?p$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var by=(t,e,n)=>m$(t,typeof e!="symbol"?e+"":e,n);function TM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var g$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mS(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var bw={exports:{}},np={},ww={exports:{}},en={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SN;function y$(){if(SN)return en;SN=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(P){return P===null||typeof P!="object"?null:(P=p&&P[p]||P["@@iterator"],typeof P=="function"?P:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,x={};function T(P,N,O){this.props=P,this.context=N,this.refs=x,this.updater=O||m}T.prototype.isReactComponent={},T.prototype.setState=function(P,N){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,N,"setState")},T.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function _(){}_.prototype=T.prototype;function j(P,N,O){this.props=P,this.context=N,this.refs=x,this.updater=O||m}var w=j.prototype=new _;w.constructor=j,v(w,T.prototype),w.isPureReactComponent=!0;var F=Array.isArray,z=Object.prototype.hasOwnProperty,B={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function Y(P,N,O){var Z,$={},K=null,G=null;if(N!=null)for(Z in N.ref!==void 0&&(G=N.ref),N.key!==void 0&&(K=""+N.key),N)z.call(N,Z)&&!H.hasOwnProperty(Z)&&($[Z]=N[Z]);var J=arguments.length-2;if(J===1)$.children=O;else if(1<J){for(var ee=Array(J),ae=0;ae<J;ae++)ee[ae]=arguments[ae+2];$.children=ee}if(P&&P.defaultProps)for(Z in J=P.defaultProps,J)$[Z]===void 0&&($[Z]=J[Z]);return{$$typeof:t,type:P,key:K,ref:G,props:$,_owner:B.current}}function W(P,N){return{$$typeof:t,type:P.type,key:N,ref:P.ref,props:P.props,_owner:P._owner}}function q(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function X(P){var N={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(O){return N[O]})}var V=/\/+/g;function R(P,N){return typeof P=="object"&&P!==null&&P.key!=null?X(""+P.key):N.toString(36)}function b(P,N,O,Z,$){var K=typeof P;(K==="undefined"||K==="boolean")&&(P=null);var G=!1;if(P===null)G=!0;else switch(K){case"string":case"number":G=!0;break;case"object":switch(P.$$typeof){case t:case e:G=!0}}if(G)return G=P,$=$(G),P=Z===""?"."+R(G,0):Z,F($)?(O="",P!=null&&(O=P.replace(V,"$&/")+"/"),b($,N,O,"",function(ae){return ae})):$!=null&&(q($)&&($=W($,O+(!$.key||G&&G.key===$.key?"":(""+$.key).replace(V,"$&/")+"/")+P)),N.push($)),1;if(G=0,Z=Z===""?".":Z+":",F(P))for(var J=0;J<P.length;J++){K=P[J];var ee=Z+R(K,J);G+=b(K,N,O,ee,$)}else if(ee=g(P),typeof ee=="function")for(P=ee.call(P),J=0;!(K=P.next()).done;)K=K.value,ee=Z+R(K,J++),G+=b(K,N,O,ee,$);else if(K==="object")throw N=String(P),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return G}function A(P,N,O){if(P==null)return P;var Z=[],$=0;return b(P,Z,"","",function(K){return N.call(O,K,$++)}),Z}function D(P){if(P._status===-1){var N=P._result;N=N(),N.then(function(O){(P._status===0||P._status===-1)&&(P._status=1,P._result=O)},function(O){(P._status===0||P._status===-1)&&(P._status=2,P._result=O)}),P._status===-1&&(P._status=0,P._result=N)}if(P._status===1)return P._result.default;throw P._result}var M={current:null},C={transition:null},I={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:C,ReactCurrentOwner:B};function E(){throw Error("act(...) is not supported in production builds of React.")}return en.Children={map:A,forEach:function(P,N,O){A(P,function(){N.apply(this,arguments)},O)},count:function(P){var N=0;return A(P,function(){N++}),N},toArray:function(P){return A(P,function(N){return N})||[]},only:function(P){if(!q(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},en.Component=T,en.Fragment=n,en.Profiler=i,en.PureComponent=j,en.StrictMode=r,en.Suspense=c,en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,en.act=E,en.cloneElement=function(P,N,O){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var Z=v({},P.props),$=P.key,K=P.ref,G=P._owner;if(N!=null){if(N.ref!==void 0&&(K=N.ref,G=B.current),N.key!==void 0&&($=""+N.key),P.type&&P.type.defaultProps)var J=P.type.defaultProps;for(ee in N)z.call(N,ee)&&!H.hasOwnProperty(ee)&&(Z[ee]=N[ee]===void 0&&J!==void 0?J[ee]:N[ee])}var ee=arguments.length-2;if(ee===1)Z.children=O;else if(1<ee){J=Array(ee);for(var ae=0;ae<ee;ae++)J[ae]=arguments[ae+2];Z.children=J}return{$$typeof:t,type:P.type,key:$,ref:K,props:Z,_owner:G}},en.createContext=function(P){return P={$$typeof:o,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:s,_context:P},P.Consumer=P},en.createElement=Y,en.createFactory=function(P){var N=Y.bind(null,P);return N.type=P,N},en.createRef=function(){return{current:null}},en.forwardRef=function(P){return{$$typeof:a,render:P}},en.isValidElement=q,en.lazy=function(P){return{$$typeof:f,_payload:{_status:-1,_result:P},_init:D}},en.memo=function(P,N){return{$$typeof:d,type:P,compare:N===void 0?null:N}},en.startTransition=function(P){var N=C.transition;C.transition={};try{P()}finally{C.transition=N}},en.unstable_act=E,en.useCallback=function(P,N){return M.current.useCallback(P,N)},en.useContext=function(P){return M.current.useContext(P)},en.useDebugValue=function(){},en.useDeferredValue=function(P){return M.current.useDeferredValue(P)},en.useEffect=function(P,N){return M.current.useEffect(P,N)},en.useId=function(){return M.current.useId()},en.useImperativeHandle=function(P,N,O){return M.current.useImperativeHandle(P,N,O)},en.useInsertionEffect=function(P,N){return M.current.useInsertionEffect(P,N)},en.useLayoutEffect=function(P,N){return M.current.useLayoutEffect(P,N)},en.useMemo=function(P,N){return M.current.useMemo(P,N)},en.useReducer=function(P,N,O){return M.current.useReducer(P,N,O)},en.useRef=function(P){return M.current.useRef(P)},en.useState=function(P){return M.current.useState(P)},en.useSyncExternalStore=function(P,N,O){return M.current.useSyncExternalStore(P,N,O)},en.useTransition=function(){return M.current.useTransition()},en.version="18.3.1",en}var CN;function gS(){return CN||(CN=1,ww.exports=y$()),ww.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _N;function x$(){if(_N)return np;_N=1;var t=gS(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,d){var f,p={},g=null,m=null;d!==void 0&&(g=""+d),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(m=c.ref);for(f in c)r.call(c,f)&&!s.hasOwnProperty(f)&&(p[f]=c[f]);if(a&&a.defaultProps)for(f in c=a.defaultProps,c)p[f]===void 0&&(p[f]=c[f]);return{$$typeof:e,type:a,key:g,ref:m,props:p,_owner:i.current}}return np.Fragment=n,np.jsx=o,np.jsxs=o,np}var EN;function v$(){return EN||(EN=1,bw.exports=x$()),bw.exports}var l=v$(),k=gS();const ke=kl(k),yS=TM({__proto__:null,default:ke},[k]);var wy={},kw={exports:{}},rs={},Tw={exports:{}},Sw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NN;function b$(){return NN||(NN=1,function(t){function e(C,I){var E=C.length;C.push(I);e:for(;0<E;){var P=E-1>>>1,N=C[P];if(0<i(N,I))C[P]=I,C[E]=N,E=P;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var I=C[0],E=C.pop();if(E!==I){C[0]=E;e:for(var P=0,N=C.length,O=N>>>1;P<O;){var Z=2*(P+1)-1,$=C[Z],K=Z+1,G=C[K];if(0>i($,E))K<N&&0>i(G,$)?(C[P]=G,C[K]=E,P=K):(C[P]=$,C[Z]=E,P=Z);else if(K<N&&0>i(G,E))C[P]=G,C[K]=E,P=K;else break e}}return I}function i(C,I){var E=C.sortIndex-I.sortIndex;return E!==0?E:C.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],f=1,p=null,g=3,m=!1,v=!1,x=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(C){for(var I=n(d);I!==null;){if(I.callback===null)r(d);else if(I.startTime<=C)r(d),I.sortIndex=I.expirationTime,e(c,I);else break;I=n(d)}}function F(C){if(x=!1,w(C),!v)if(n(c)!==null)v=!0,D(z);else{var I=n(d);I!==null&&M(F,I.startTime-C)}}function z(C,I){v=!1,x&&(x=!1,_(Y),Y=-1),m=!0;var E=g;try{for(w(I),p=n(c);p!==null&&(!(p.expirationTime>I)||C&&!X());){var P=p.callback;if(typeof P=="function"){p.callback=null,g=p.priorityLevel;var N=P(p.expirationTime<=I);I=t.unstable_now(),typeof N=="function"?p.callback=N:p===n(c)&&r(c),w(I)}else r(c);p=n(c)}if(p!==null)var O=!0;else{var Z=n(d);Z!==null&&M(F,Z.startTime-I),O=!1}return O}finally{p=null,g=E,m=!1}}var B=!1,H=null,Y=-1,W=5,q=-1;function X(){return!(t.unstable_now()-q<W)}function V(){if(H!==null){var C=t.unstable_now();q=C;var I=!0;try{I=H(!0,C)}finally{I?R():(B=!1,H=null)}}else B=!1}var R;if(typeof j=="function")R=function(){j(V)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,A=b.port2;b.port1.onmessage=V,R=function(){A.postMessage(null)}}else R=function(){T(V,0)};function D(C){H=C,B||(B=!0,R())}function M(C,I){Y=T(function(){C(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,D(z))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(C){switch(g){case 1:case 2:case 3:var I=3;break;default:I=g}var E=g;g=I;try{return C()}finally{g=E}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,I){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var E=g;g=C;try{return I()}finally{g=E}},t.unstable_scheduleCallback=function(C,I,E){var P=t.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?P+E:P):E=P,C){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=E+N,C={id:f++,callback:I,priorityLevel:C,startTime:E,expirationTime:N,sortIndex:-1},E>P?(C.sortIndex=E,e(d,C),n(c)===null&&C===n(d)&&(x?(_(Y),Y=-1):x=!0,M(F,E-P))):(C.sortIndex=N,e(c,C),v||m||(v=!0,D(z))),C},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(C){var I=g;return function(){var E=g;g=I;try{return C.apply(this,arguments)}finally{g=E}}}}(Sw)),Sw}var AN;function w$(){return AN||(AN=1,Tw.exports=b$()),Tw.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jN;function k$(){if(jN)return rs;jN=1;var t=gS(),e=w$();function n(u){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+u,y=1;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(u,h){o(u,h),o(u+"Capture",h)}function o(u,h){for(i[u]=h,u=0;u<h.length;u++)r.add(h[u])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(u){return c.call(p,u)?!0:c.call(f,u)?!1:d.test(u)?p[u]=!0:(f[u]=!0,!1)}function m(u,h,y,S){if(y!==null&&y.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return S?!1:y!==null?!y.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function v(u,h,y,S){if(h===null||typeof h>"u"||m(u,h,y,S))return!0;if(S)return!1;if(y!==null)switch(y.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function x(u,h,y,S,L,U,Q){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=S,this.attributeNamespace=L,this.mustUseProperty=y,this.propertyName=u,this.type=h,this.sanitizeURL=U,this.removeEmptyString=Q}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){T[u]=new x(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var h=u[0];T[h]=new x(h,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){T[u]=new x(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){T[u]=new x(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){T[u]=new x(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){T[u]=new x(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){T[u]=new x(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){T[u]=new x(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){T[u]=new x(u,5,!1,u.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function j(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var h=u.replace(_,j);T[h]=new x(h,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var h=u.replace(_,j);T[h]=new x(h,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var h=u.replace(_,j);T[h]=new x(h,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){T[u]=new x(u,1,!1,u.toLowerCase(),null,!1,!1)}),T.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){T[u]=new x(u,1,!1,u.toLowerCase(),null,!0,!0)});function w(u,h,y,S){var L=T.hasOwnProperty(h)?T[h]:null;(L!==null?L.type!==0:S||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(v(h,y,L,S)&&(y=null),S||L===null?g(h)&&(y===null?u.removeAttribute(h):u.setAttribute(h,""+y)):L.mustUseProperty?u[L.propertyName]=y===null?L.type===3?!1:"":y:(h=L.attributeName,S=L.attributeNamespace,y===null?u.removeAttribute(h):(L=L.type,y=L===3||L===4&&y===!0?"":""+y,S?u.setAttributeNS(S,h,y):u.setAttribute(h,y))))}var F=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),B=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),X=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),C=Symbol.iterator;function I(u){return u===null||typeof u!="object"?null:(u=C&&u[C]||u["@@iterator"],typeof u=="function"?u:null)}var E=Object.assign,P;function N(u){if(P===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);P=h&&h[1]||""}return`
`+P+u}var O=!1;function Z(u,h){if(!u||O)return"";O=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(xe){var S=xe}Reflect.construct(u,[],h)}else{try{h.call()}catch(xe){S=xe}u.call(h.prototype)}else{try{throw Error()}catch(xe){S=xe}u()}}catch(xe){if(xe&&S&&typeof xe.stack=="string"){for(var L=xe.stack.split(`
`),U=S.stack.split(`
`),Q=L.length-1,te=U.length-1;1<=Q&&0<=te&&L[Q]!==U[te];)te--;for(;1<=Q&&0<=te;Q--,te--)if(L[Q]!==U[te]){if(Q!==1||te!==1)do if(Q--,te--,0>te||L[Q]!==U[te]){var oe=`
`+L[Q].replace(" at new "," at ");return u.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",u.displayName)),oe}while(1<=Q&&0<=te);break}}}finally{O=!1,Error.prepareStackTrace=y}return(u=u?u.displayName||u.name:"")?N(u):""}function $(u){switch(u.tag){case 5:return N(u.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return u=Z(u.type,!1),u;case 11:return u=Z(u.type.render,!1),u;case 1:return u=Z(u.type,!0),u;default:return""}}function K(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case H:return"Fragment";case B:return"Portal";case W:return"Profiler";case Y:return"StrictMode";case R:return"Suspense";case b:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case X:return(u.displayName||"Context")+".Consumer";case q:return(u._context.displayName||"Context")+".Provider";case V:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case A:return h=u.displayName||null,h!==null?h:K(u.type)||"Memo";case D:h=u._payload,u=u._init;try{return K(u(h))}catch{}}return null}function G(u){var h=u.type;switch(u.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=h.render,u=u.displayName||u.name||"",h.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K(h);case 8:return h===Y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function J(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function ee(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function ae(u){var h=ee(u)?"checked":"value",y=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),S=""+u[h];if(!u.hasOwnProperty(h)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var L=y.get,U=y.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return L.call(this)},set:function(Q){S=""+Q,U.call(this,Q)}}),Object.defineProperty(u,h,{enumerable:y.enumerable}),{getValue:function(){return S},setValue:function(Q){S=""+Q},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function se(u){u._valueTracker||(u._valueTracker=ae(u))}function pe(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var y=h.getValue(),S="";return u&&(S=ee(u)?u.checked?"true":"false":u.value),u=S,u!==y?(h.setValue(u),!0):!1}function he(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function ue(u,h){var y=h.checked;return E({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??u._wrapperState.initialChecked})}function be(u,h){var y=h.defaultValue==null?"":h.defaultValue,S=h.checked!=null?h.checked:h.defaultChecked;y=J(h.value!=null?h.value:y),u._wrapperState={initialChecked:S,initialValue:y,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function Ne(u,h){h=h.checked,h!=null&&w(u,"checked",h,!1)}function ie(u,h){Ne(u,h);var y=J(h.value),S=h.type;if(y!=null)S==="number"?(y===0&&u.value===""||u.value!=y)&&(u.value=""+y):u.value!==""+y&&(u.value=""+y);else if(S==="submit"||S==="reset"){u.removeAttribute("value");return}h.hasOwnProperty("value")?gt(u,h.type,y):h.hasOwnProperty("defaultValue")&&gt(u,h.type,J(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(u.defaultChecked=!!h.defaultChecked)}function De(u,h,y){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var S=h.type;if(!(S!=="submit"&&S!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+u._wrapperState.initialValue,y||h===u.value||(u.value=h),u.defaultValue=h}y=u.name,y!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,y!==""&&(u.name=y)}function gt(u,h,y){(h!=="number"||he(u.ownerDocument)!==u)&&(y==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+y&&(u.defaultValue=""+y))}var Je=Array.isArray;function Fe(u,h,y,S){if(u=u.options,h){h={};for(var L=0;L<y.length;L++)h["$"+y[L]]=!0;for(y=0;y<u.length;y++)L=h.hasOwnProperty("$"+u[y].value),u[y].selected!==L&&(u[y].selected=L),L&&S&&(u[y].defaultSelected=!0)}else{for(y=""+J(y),h=null,L=0;L<u.length;L++){if(u[L].value===y){u[L].selected=!0,S&&(u[L].defaultSelected=!0);return}h!==null||u[L].disabled||(h=u[L])}h!==null&&(h.selected=!0)}}function Dt(u,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return E({},h,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function ot(u,h){var y=h.value;if(y==null){if(y=h.children,h=h.defaultValue,y!=null){if(h!=null)throw Error(n(92));if(Je(y)){if(1<y.length)throw Error(n(93));y=y[0]}h=y}h==null&&(h=""),y=h}u._wrapperState={initialValue:J(y)}}function ct(u,h){var y=J(h.value),S=J(h.defaultValue);y!=null&&(y=""+y,y!==u.value&&(u.value=y),h.defaultValue==null&&u.defaultValue!==y&&(u.defaultValue=y)),S!=null&&(u.defaultValue=""+S)}function bt(u){var h=u.textContent;h===u._wrapperState.initialValue&&h!==""&&h!==null&&(u.value=h)}function ne(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(u,h){return u==null||u==="http://www.w3.org/1999/xhtml"?ne(h):u==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var we,Se=function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,y,S,L){MSApp.execUnsafeLocalFunction(function(){return u(h,y,S,L)})}:u}(function(u,h){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=h;else{for(we=we||document.createElement("div"),we.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=we.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;h.firstChild;)u.appendChild(h.firstChild)}});function Ae(u,h){if(h){var y=u.firstChild;if(y&&y===u.lastChild&&y.nodeType===3){y.nodeValue=h;return}}u.textContent=h}var Ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ye=["Webkit","ms","Moz","O"];Object.keys(Ot).forEach(function(u){Ye.forEach(function(h){h=h+u.charAt(0).toUpperCase()+u.substring(1),Ot[h]=Ot[u]})});function mt(u,h,y){return h==null||typeof h=="boolean"||h===""?"":y||typeof h!="number"||h===0||Ot.hasOwnProperty(u)&&Ot[u]?(""+h).trim():h+"px"}function Kt(u,h){u=u.style;for(var y in h)if(h.hasOwnProperty(y)){var S=y.indexOf("--")===0,L=mt(y,h[y],S);y==="float"&&(y="cssFloat"),S?u.setProperty(y,L):u[y]=L}}var jt=E({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qe(u,h){if(h){if(jt[u]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function bn(u,h){if(u.indexOf("-")===-1)return typeof h.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=null;function qe(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Yn=null,At=null,_t=null;function pn(u){if(u=$h(u)){if(typeof Yn!="function")throw Error(n(280));var h=u.stateNode;h&&(h=Dg(h),Yn(u.stateNode,u.type,h))}}function $t(u){At?_t?_t.push(u):_t=[u]:At=u}function ze(){if(At){var u=At,h=_t;if(_t=At=null,pn(u),h)for(u=0;u<h.length;u++)pn(h[u])}}function Et(u,h){return u(h)}function at(){}var Le=!1;function Ve(u,h,y){if(Le)return u(h,y);Le=!0;try{return Et(u,h,y)}finally{Le=!1,(At!==null||_t!==null)&&(at(),ze())}}function We(u,h){var y=u.stateNode;if(y===null)return null;var S=Dg(y);if(S===null)return null;y=S[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(u=u.type,S=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!S;break e;default:u=!1}if(u)return null;if(y&&typeof y!="function")throw Error(n(231,h,typeof y));return y}var Te=!1;if(a)try{var He={};Object.defineProperty(He,"passive",{get:function(){Te=!0}}),window.addEventListener("test",He,He),window.removeEventListener("test",He,He)}catch{Te=!1}function Ie(u,h,y,S,L,U,Q,te,oe){var xe=Array.prototype.slice.call(arguments,3);try{h.apply(y,xe)}catch(Pe){this.onError(Pe)}}var Be=!1,wn=null,Xe=!1,yt=null,Pn={onError:function(u){Be=!0,wn=u}};function wt(u,h,y,S,L,U,Q,te,oe){Be=!1,wn=null,Ie.apply(Pn,arguments)}function ft(u,h,y,S,L,U,Q,te,oe){if(wt.apply(this,arguments),Be){if(Be){var xe=wn;Be=!1,wn=null}else throw Error(n(198));Xe||(Xe=!0,yt=xe)}}function Lt(u){var h=u,y=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(y=h.return),u=h.return;while(u)}return h.tag===3?y:null}function Ft(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function xt(u){if(Lt(u)!==u)throw Error(n(188))}function Wn(u){var h=u.alternate;if(!h){if(h=Lt(u),h===null)throw Error(n(188));return h!==u?null:u}for(var y=u,S=h;;){var L=y.return;if(L===null)break;var U=L.alternate;if(U===null){if(S=L.return,S!==null){y=S;continue}break}if(L.child===U.child){for(U=L.child;U;){if(U===y)return xt(L),u;if(U===S)return xt(L),h;U=U.sibling}throw Error(n(188))}if(y.return!==S.return)y=L,S=U;else{for(var Q=!1,te=L.child;te;){if(te===y){Q=!0,y=L,S=U;break}if(te===S){Q=!0,S=L,y=U;break}te=te.sibling}if(!Q){for(te=U.child;te;){if(te===y){Q=!0,y=U,S=L;break}if(te===S){Q=!0,S=U,y=L;break}te=te.sibling}if(!Q)throw Error(n(189))}}if(y.alternate!==S)throw Error(n(190))}if(y.tag!==3)throw Error(n(188));return y.stateNode.current===y?u:h}function Mn(u){return u=Wn(u),u!==null?mn(u):null}function mn(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var h=mn(u);if(h!==null)return h;u=u.sibling}return null}var dn=e.unstable_scheduleCallback,Tn=e.unstable_cancelCallback,Ii=e.unstable_shouldYield,Js=e.unstable_requestPaint,zt=e.unstable_now,Dn=e.unstable_getCurrentPriorityLevel,Sr=e.unstable_ImmediatePriority,Qs=e.unstable_UserBlockingPriority,xs=e.unstable_NormalPriority,vs=e.unstable_LowPriority,yr=e.unstable_IdlePriority,ve=null,ge=null;function Ce(u){if(ge&&typeof ge.onCommitFiberRoot=="function")try{ge.onCommitFiberRoot(ve,u,void 0,(u.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:ti,ht=Math.log,qn=Math.LN2;function ti(u){return u>>>=0,u===0?32:31-(ht(u)/qn|0)|0}var Vr=64,Mi=4194304;function fi(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function hi(u,h){var y=u.pendingLanes;if(y===0)return 0;var S=0,L=u.suspendedLanes,U=u.pingedLanes,Q=y&268435455;if(Q!==0){var te=Q&~L;te!==0?S=fi(te):(U&=Q,U!==0&&(S=fi(U)))}else Q=y&~L,Q!==0?S=fi(Q):U!==0&&(S=fi(U));if(S===0)return 0;if(h!==0&&h!==S&&(h&L)===0&&(L=S&-S,U=h&-h,L>=U||L===16&&(U&4194240)!==0))return h;if((S&4)!==0&&(S|=y&16),h=u.entangledLanes,h!==0)for(u=u.entanglements,h&=S;0<h;)y=31-rt(h),L=1<<y,S|=u[y],h&=~L;return S}function zc(u,h){switch(u){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wt(u,h){for(var y=u.suspendedLanes,S=u.pingedLanes,L=u.expirationTimes,U=u.pendingLanes;0<U;){var Q=31-rt(U),te=1<<Q,oe=L[Q];oe===-1?((te&y)===0||(te&S)!==0)&&(L[Q]=zc(te,h)):oe<=h&&(u.expiredLanes|=te),U&=~te}}function El(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Xn(){var u=Vr;return Vr<<=1,(Vr&4194240)===0&&(Vr=64),u}function oa(u){for(var h=[],y=0;31>y;y++)h.push(u);return h}function Bc(u,h,y){u.pendingLanes|=h,h!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,h=31-rt(h),u[h]=y}function qv(u,h){var y=u.pendingLanes&~h;u.pendingLanes=h,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=h,u.mutableReadLanes&=h,u.entangledLanes&=h,h=u.entanglements;var S=u.eventTimes;for(u=u.expirationTimes;0<y;){var L=31-rt(y),U=1<<L;h[L]=0,S[L]=-1,u[L]=-1,y&=~U}}function Eh(u,h){var y=u.entangledLanes|=h;for(u=u.entanglements;y;){var S=31-rt(y),L=1<<S;L&h|u[S]&h&&(u[S]|=h),y&=~L}}var En=0;function vg(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var bg,Nh,wg,kg,$c,bd=!1,Uc=[],aa=null,la=null,Zs=null,Vc=new Map,Wc=new Map,ca=[],Hv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gv(u,h){switch(u){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":la=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":Vc.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wc.delete(h.pointerId)}}function qc(u,h,y,S,L,U){return u===null||u.nativeEvent!==U?(u={blockedOn:h,domEventName:y,eventSystemFlags:S,nativeEvent:U,targetContainers:[L]},h!==null&&(h=$h(h),h!==null&&Nh(h)),u):(u.eventSystemFlags|=S,h=u.targetContainers,L!==null&&h.indexOf(L)===-1&&h.push(L),u)}function Tg(u,h,y,S,L){switch(h){case"focusin":return aa=qc(aa,u,h,y,S,L),!0;case"dragenter":return la=qc(la,u,h,y,S,L),!0;case"mouseover":return Zs=qc(Zs,u,h,y,S,L),!0;case"pointerover":var U=L.pointerId;return Vc.set(U,qc(Vc.get(U)||null,u,h,y,S,L)),!0;case"gotpointercapture":return U=L.pointerId,Wc.set(U,qc(Wc.get(U)||null,u,h,y,S,L)),!0}return!1}function Sg(u){var h=Xc(u.target);if(h!==null){var y=Lt(h);if(y!==null){if(h=y.tag,h===13){if(h=Ft(y),h!==null){u.blockedOn=h,$c(u.priority,function(){wg(y)});return}}else if(h===3&&y.stateNode.current.memoizedState.isDehydrated){u.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Ha(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var y=Cg(u.domEventName,u.eventSystemFlags,h[0],u.nativeEvent);if(y===null){y=u.nativeEvent;var S=new y.constructor(y.type,y);Ct=S,y.target.dispatchEvent(S),Ct=null}else return h=$h(y),h!==null&&Nh(h),u.blockedOn=y,!1;h.shift()}return!0}function Hc(u,h,y){Ha(u)&&y.delete(h)}function Kv(){bd=!1,aa!==null&&Ha(aa)&&(aa=null),la!==null&&Ha(la)&&(la=null),Zs!==null&&Ha(Zs)&&(Zs=null),Vc.forEach(Hc),Wc.forEach(Hc)}function Gc(u,h){u.blockedOn===h&&(u.blockedOn=null,bd||(bd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Kv)))}function Kc(u){function h(L){return Gc(L,u)}if(0<Uc.length){Gc(Uc[0],u);for(var y=1;y<Uc.length;y++){var S=Uc[y];S.blockedOn===u&&(S.blockedOn=null)}}for(aa!==null&&Gc(aa,u),la!==null&&Gc(la,u),Zs!==null&&Gc(Zs,u),Vc.forEach(h),Wc.forEach(h),y=0;y<ca.length;y++)S=ca[y],S.blockedOn===u&&(S.blockedOn=null);for(;0<ca.length&&(y=ca[0],y.blockedOn===null);)Sg(y),y.blockedOn===null&&ca.shift()}var Ao=F.ReactCurrentBatchConfig,wd=!0;function kd(u,h,y,S){var L=En,U=Ao.transition;Ao.transition=null;try{En=1,Sd(u,h,y,S)}finally{En=L,Ao.transition=U}}function Td(u,h,y,S){var L=En,U=Ao.transition;Ao.transition=null;try{En=4,Sd(u,h,y,S)}finally{En=L,Ao.transition=U}}function Sd(u,h,y,S){if(wd){var L=Cg(u,h,y,S);if(L===null)ub(u,h,S,Ah,y),Gv(u,S);else if(Tg(L,u,h,y,S))S.stopPropagation();else if(Gv(u,S),h&4&&-1<Hv.indexOf(u)){for(;L!==null;){var U=$h(L);if(U!==null&&bg(U),U=Cg(u,h,y,S),U===null&&ub(u,h,S,Ah,y),U===L)break;L=U}L!==null&&S.stopPropagation()}else ub(u,h,S,null,y)}}var Ah=null;function Cg(u,h,y,S){if(Ah=null,u=qe(S),u=Xc(u),u!==null)if(h=Lt(u),h===null)u=null;else if(y=h.tag,y===13){if(u=Ft(h),u!==null)return u;u=null}else if(y===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null);return Ah=u,null}function _g(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dn()){case Sr:return 1;case Qs:return 4;case xs:case vs:return 16;case yr:return 536870912;default:return 16}default:return 16}}var ni=null,Di=null,Yc=null;function Jn(){if(Yc)return Yc;var u,h=Di,y=h.length,S,L="value"in ni?ni.value:ni.textContent,U=L.length;for(u=0;u<y&&h[u]===L[u];u++);var Q=y-u;for(S=1;S<=Q&&h[y-S]===L[U-S];S++);return Yc=L.slice(u,1<S?1-S:void 0)}function Ji(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function ua(){return!0}function f_(){return!1}function bs(u){function h(y,S,L,U,Q){this._reactName=y,this._targetInst=L,this.type=S,this.nativeEvent=U,this.target=Q,this.currentTarget=null;for(var te in u)u.hasOwnProperty(te)&&(y=u[te],this[te]=y?y(U):U[te]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?ua:f_,this.isPropagationStopped=f_,this}return E(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=ua)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=ua)},persist:function(){},isPersistent:ua}),h}var Cd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yv=bs(Cd),jh=E({},Cd,{view:0,detail:0}),$B=bs(jh),Xv,Jv,Ph,Eg=E({},jh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zv,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Ph&&(Ph&&u.type==="mousemove"?(Xv=u.screenX-Ph.screenX,Jv=u.screenY-Ph.screenY):Jv=Xv=0,Ph=u),Xv)},movementY:function(u){return"movementY"in u?u.movementY:Jv}}),h_=bs(Eg),UB=E({},Eg,{dataTransfer:0}),VB=bs(UB),WB=E({},jh,{relatedTarget:0}),Qv=bs(WB),qB=E({},Cd,{animationName:0,elapsedTime:0,pseudoElement:0}),HB=bs(qB),GB=E({},Cd,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),KB=bs(GB),YB=E({},Cd,{data:0}),p_=bs(YB),XB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZB(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=QB[u])?!!h[u]:!1}function Zv(){return ZB}var e8=E({},jh,{key:function(u){if(u.key){var h=XB[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=Ji(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?JB[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zv,charCode:function(u){return u.type==="keypress"?Ji(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Ji(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),t8=bs(e8),n8=E({},Eg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m_=bs(n8),r8=E({},jh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zv}),i8=bs(r8),s8=E({},Cd,{propertyName:0,elapsedTime:0,pseudoElement:0}),o8=bs(s8),a8=E({},Eg,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),l8=bs(a8),c8=[9,13,27,32],eb=a&&"CompositionEvent"in window,Rh=null;a&&"documentMode"in document&&(Rh=document.documentMode);var u8=a&&"TextEvent"in window&&!Rh,g_=a&&(!eb||Rh&&8<Rh&&11>=Rh),y_=" ",x_=!1;function v_(u,h){switch(u){case"keyup":return c8.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b_(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var _d=!1;function d8(u,h){switch(u){case"compositionend":return b_(h);case"keypress":return h.which!==32?null:(x_=!0,y_);case"textInput":return u=h.data,u===y_&&x_?null:u;default:return null}}function f8(u,h){if(_d)return u==="compositionend"||!eb&&v_(u,h)?(u=Jn(),Yc=Di=ni=null,_d=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return g_&&h.locale!=="ko"?null:h.data;default:return null}}var h8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w_(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!h8[u.type]:h==="textarea"}function k_(u,h,y,S){$t(S),h=Rg(h,"onChange"),0<h.length&&(y=new Yv("onChange","change",null,y,S),u.push({event:y,listeners:h}))}var Ih=null,Mh=null;function p8(u){B_(u,0)}function Ng(u){var h=Pd(u);if(pe(h))return u}function m8(u,h){if(u==="change")return h}var T_=!1;if(a){var tb;if(a){var nb="oninput"in document;if(!nb){var S_=document.createElement("div");S_.setAttribute("oninput","return;"),nb=typeof S_.oninput=="function"}tb=nb}else tb=!1;T_=tb&&(!document.documentMode||9<document.documentMode)}function C_(){Ih&&(Ih.detachEvent("onpropertychange",__),Mh=Ih=null)}function __(u){if(u.propertyName==="value"&&Ng(Mh)){var h=[];k_(h,Mh,u,qe(u)),Ve(p8,h)}}function g8(u,h,y){u==="focusin"?(C_(),Ih=h,Mh=y,Ih.attachEvent("onpropertychange",__)):u==="focusout"&&C_()}function y8(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Ng(Mh)}function x8(u,h){if(u==="click")return Ng(h)}function v8(u,h){if(u==="input"||u==="change")return Ng(h)}function b8(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var jo=typeof Object.is=="function"?Object.is:b8;function Dh(u,h){if(jo(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var y=Object.keys(u),S=Object.keys(h);if(y.length!==S.length)return!1;for(S=0;S<y.length;S++){var L=y[S];if(!c.call(h,L)||!jo(u[L],h[L]))return!1}return!0}function E_(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function N_(u,h){var y=E_(u);u=0;for(var S;y;){if(y.nodeType===3){if(S=u+y.textContent.length,u<=h&&S>=h)return{node:y,offset:h-u};u=S}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=E_(y)}}function A_(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?A_(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function j_(){for(var u=window,h=he();h instanceof u.HTMLIFrameElement;){try{var y=typeof h.contentWindow.location.href=="string"}catch{y=!1}if(y)u=h.contentWindow;else break;h=he(u.document)}return h}function rb(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}function w8(u){var h=j_(),y=u.focusedElem,S=u.selectionRange;if(h!==y&&y&&y.ownerDocument&&A_(y.ownerDocument.documentElement,y)){if(S!==null&&rb(y)){if(h=S.start,u=S.end,u===void 0&&(u=h),"selectionStart"in y)y.selectionStart=h,y.selectionEnd=Math.min(u,y.value.length);else if(u=(h=y.ownerDocument||document)&&h.defaultView||window,u.getSelection){u=u.getSelection();var L=y.textContent.length,U=Math.min(S.start,L);S=S.end===void 0?U:Math.min(S.end,L),!u.extend&&U>S&&(L=S,S=U,U=L),L=N_(y,U);var Q=N_(y,S);L&&Q&&(u.rangeCount!==1||u.anchorNode!==L.node||u.anchorOffset!==L.offset||u.focusNode!==Q.node||u.focusOffset!==Q.offset)&&(h=h.createRange(),h.setStart(L.node,L.offset),u.removeAllRanges(),U>S?(u.addRange(h),u.extend(Q.node,Q.offset)):(h.setEnd(Q.node,Q.offset),u.addRange(h)))}}for(h=[],u=y;u=u.parentNode;)u.nodeType===1&&h.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<h.length;y++)u=h[y],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var k8=a&&"documentMode"in document&&11>=document.documentMode,Ed=null,ib=null,Oh=null,sb=!1;function P_(u,h,y){var S=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;sb||Ed==null||Ed!==he(S)||(S=Ed,"selectionStart"in S&&rb(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),Oh&&Dh(Oh,S)||(Oh=S,S=Rg(ib,"onSelect"),0<S.length&&(h=new Yv("onSelect","select",null,h,y),u.push({event:h,listeners:S}),h.target=Ed)))}function Ag(u,h){var y={};return y[u.toLowerCase()]=h.toLowerCase(),y["Webkit"+u]="webkit"+h,y["Moz"+u]="moz"+h,y}var Nd={animationend:Ag("Animation","AnimationEnd"),animationiteration:Ag("Animation","AnimationIteration"),animationstart:Ag("Animation","AnimationStart"),transitionend:Ag("Transition","TransitionEnd")},ob={},R_={};a&&(R_=document.createElement("div").style,"AnimationEvent"in window||(delete Nd.animationend.animation,delete Nd.animationiteration.animation,delete Nd.animationstart.animation),"TransitionEvent"in window||delete Nd.transitionend.transition);function jg(u){if(ob[u])return ob[u];if(!Nd[u])return u;var h=Nd[u],y;for(y in h)if(h.hasOwnProperty(y)&&y in R_)return ob[u]=h[y];return u}var I_=jg("animationend"),M_=jg("animationiteration"),D_=jg("animationstart"),O_=jg("transitionend"),L_=new Map,F_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nl(u,h){L_.set(u,h),s(h,[u])}for(var ab=0;ab<F_.length;ab++){var lb=F_[ab],T8=lb.toLowerCase(),S8=lb[0].toUpperCase()+lb.slice(1);Nl(T8,"on"+S8)}Nl(I_,"onAnimationEnd"),Nl(M_,"onAnimationIteration"),Nl(D_,"onAnimationStart"),Nl("dblclick","onDoubleClick"),Nl("focusin","onFocus"),Nl("focusout","onBlur"),Nl(O_,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lh));function z_(u,h,y){var S=u.type||"unknown-event";u.currentTarget=y,ft(S,h,void 0,u),u.currentTarget=null}function B_(u,h){h=(h&4)!==0;for(var y=0;y<u.length;y++){var S=u[y],L=S.event;S=S.listeners;e:{var U=void 0;if(h)for(var Q=S.length-1;0<=Q;Q--){var te=S[Q],oe=te.instance,xe=te.currentTarget;if(te=te.listener,oe!==U&&L.isPropagationStopped())break e;z_(L,te,xe),U=oe}else for(Q=0;Q<S.length;Q++){if(te=S[Q],oe=te.instance,xe=te.currentTarget,te=te.listener,oe!==U&&L.isPropagationStopped())break e;z_(L,te,xe),U=oe}}}if(Xe)throw u=yt,Xe=!1,yt=null,u}function Hn(u,h){var y=h[gb];y===void 0&&(y=h[gb]=new Set);var S=u+"__bubble";y.has(S)||($_(h,u,2,!1),y.add(S))}function cb(u,h,y){var S=0;h&&(S|=4),$_(y,u,S,h)}var Pg="_reactListening"+Math.random().toString(36).slice(2);function Fh(u){if(!u[Pg]){u[Pg]=!0,r.forEach(function(y){y!=="selectionchange"&&(C8.has(y)||cb(y,!1,u),cb(y,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[Pg]||(h[Pg]=!0,cb("selectionchange",!1,h))}}function $_(u,h,y,S){switch(_g(h)){case 1:var L=kd;break;case 4:L=Td;break;default:L=Sd}y=L.bind(null,h,y,u),L=void 0,!Te||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(L=!0),S?L!==void 0?u.addEventListener(h,y,{capture:!0,passive:L}):u.addEventListener(h,y,!0):L!==void 0?u.addEventListener(h,y,{passive:L}):u.addEventListener(h,y,!1)}function ub(u,h,y,S,L){var U=S;if((h&1)===0&&(h&2)===0&&S!==null)e:for(;;){if(S===null)return;var Q=S.tag;if(Q===3||Q===4){var te=S.stateNode.containerInfo;if(te===L||te.nodeType===8&&te.parentNode===L)break;if(Q===4)for(Q=S.return;Q!==null;){var oe=Q.tag;if((oe===3||oe===4)&&(oe=Q.stateNode.containerInfo,oe===L||oe.nodeType===8&&oe.parentNode===L))return;Q=Q.return}for(;te!==null;){if(Q=Xc(te),Q===null)return;if(oe=Q.tag,oe===5||oe===6){S=U=Q;continue e}te=te.parentNode}}S=S.return}Ve(function(){var xe=U,Pe=qe(y),Re=[];e:{var je=L_.get(u);if(je!==void 0){var Ke=Yv,tt=u;switch(u){case"keypress":if(Ji(y)===0)break e;case"keydown":case"keyup":Ke=t8;break;case"focusin":tt="focus",Ke=Qv;break;case"focusout":tt="blur",Ke=Qv;break;case"beforeblur":case"afterblur":Ke=Qv;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ke=h_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ke=VB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ke=i8;break;case I_:case M_:case D_:Ke=HB;break;case O_:Ke=o8;break;case"scroll":Ke=$B;break;case"wheel":Ke=l8;break;case"copy":case"cut":case"paste":Ke=KB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ke=m_}var st=(h&4)!==0,xr=!st&&u==="scroll",me=st?je!==null?je+"Capture":null:je;st=[];for(var fe=xe,ye;fe!==null;){ye=fe;var Oe=ye.stateNode;if(ye.tag===5&&Oe!==null&&(ye=Oe,me!==null&&(Oe=We(fe,me),Oe!=null&&st.push(zh(fe,Oe,ye)))),xr)break;fe=fe.return}0<st.length&&(je=new Ke(je,tt,null,y,Pe),Re.push({event:je,listeners:st}))}}if((h&7)===0){e:{if(je=u==="mouseover"||u==="pointerover",Ke=u==="mouseout"||u==="pointerout",je&&y!==Ct&&(tt=y.relatedTarget||y.fromElement)&&(Xc(tt)||tt[Ga]))break e;if((Ke||je)&&(je=Pe.window===Pe?Pe:(je=Pe.ownerDocument)?je.defaultView||je.parentWindow:window,Ke?(tt=y.relatedTarget||y.toElement,Ke=xe,tt=tt?Xc(tt):null,tt!==null&&(xr=Lt(tt),tt!==xr||tt.tag!==5&&tt.tag!==6)&&(tt=null)):(Ke=null,tt=xe),Ke!==tt)){if(st=h_,Oe="onMouseLeave",me="onMouseEnter",fe="mouse",(u==="pointerout"||u==="pointerover")&&(st=m_,Oe="onPointerLeave",me="onPointerEnter",fe="pointer"),xr=Ke==null?je:Pd(Ke),ye=tt==null?je:Pd(tt),je=new st(Oe,fe+"leave",Ke,y,Pe),je.target=xr,je.relatedTarget=ye,Oe=null,Xc(Pe)===xe&&(st=new st(me,fe+"enter",tt,y,Pe),st.target=ye,st.relatedTarget=xr,Oe=st),xr=Oe,Ke&&tt)t:{for(st=Ke,me=tt,fe=0,ye=st;ye;ye=Ad(ye))fe++;for(ye=0,Oe=me;Oe;Oe=Ad(Oe))ye++;for(;0<fe-ye;)st=Ad(st),fe--;for(;0<ye-fe;)me=Ad(me),ye--;for(;fe--;){if(st===me||me!==null&&st===me.alternate)break t;st=Ad(st),me=Ad(me)}st=null}else st=null;Ke!==null&&U_(Re,je,Ke,st,!1),tt!==null&&xr!==null&&U_(Re,xr,tt,st,!0)}}e:{if(je=xe?Pd(xe):window,Ke=je.nodeName&&je.nodeName.toLowerCase(),Ke==="select"||Ke==="input"&&je.type==="file")var ut=m8;else if(w_(je))if(T_)ut=v8;else{ut=y8;var kt=g8}else(Ke=je.nodeName)&&Ke.toLowerCase()==="input"&&(je.type==="checkbox"||je.type==="radio")&&(ut=x8);if(ut&&(ut=ut(u,xe))){k_(Re,ut,y,Pe);break e}kt&&kt(u,je,xe),u==="focusout"&&(kt=je._wrapperState)&&kt.controlled&&je.type==="number"&&gt(je,"number",je.value)}switch(kt=xe?Pd(xe):window,u){case"focusin":(w_(kt)||kt.contentEditable==="true")&&(Ed=kt,ib=xe,Oh=null);break;case"focusout":Oh=ib=Ed=null;break;case"mousedown":sb=!0;break;case"contextmenu":case"mouseup":case"dragend":sb=!1,P_(Re,y,Pe);break;case"selectionchange":if(k8)break;case"keydown":case"keyup":P_(Re,y,Pe)}var Tt;if(eb)e:{switch(u){case"compositionstart":var It="onCompositionStart";break e;case"compositionend":It="onCompositionEnd";break e;case"compositionupdate":It="onCompositionUpdate";break e}It=void 0}else _d?v_(u,y)&&(It="onCompositionEnd"):u==="keydown"&&y.keyCode===229&&(It="onCompositionStart");It&&(g_&&y.locale!=="ko"&&(_d||It!=="onCompositionStart"?It==="onCompositionEnd"&&_d&&(Tt=Jn()):(ni=Pe,Di="value"in ni?ni.value:ni.textContent,_d=!0)),kt=Rg(xe,It),0<kt.length&&(It=new p_(It,u,null,y,Pe),Re.push({event:It,listeners:kt}),Tt?It.data=Tt:(Tt=b_(y),Tt!==null&&(It.data=Tt)))),(Tt=u8?d8(u,y):f8(u,y))&&(xe=Rg(xe,"onBeforeInput"),0<xe.length&&(Pe=new p_("onBeforeInput","beforeinput",null,y,Pe),Re.push({event:Pe,listeners:xe}),Pe.data=Tt))}B_(Re,h)})}function zh(u,h,y){return{instance:u,listener:h,currentTarget:y}}function Rg(u,h){for(var y=h+"Capture",S=[];u!==null;){var L=u,U=L.stateNode;L.tag===5&&U!==null&&(L=U,U=We(u,y),U!=null&&S.unshift(zh(u,U,L)),U=We(u,h),U!=null&&S.push(zh(u,U,L))),u=u.return}return S}function Ad(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function U_(u,h,y,S,L){for(var U=h._reactName,Q=[];y!==null&&y!==S;){var te=y,oe=te.alternate,xe=te.stateNode;if(oe!==null&&oe===S)break;te.tag===5&&xe!==null&&(te=xe,L?(oe=We(y,U),oe!=null&&Q.unshift(zh(y,oe,te))):L||(oe=We(y,U),oe!=null&&Q.push(zh(y,oe,te)))),y=y.return}Q.length!==0&&u.push({event:h,listeners:Q})}var _8=/\r\n?/g,E8=/\u0000|\uFFFD/g;function V_(u){return(typeof u=="string"?u:""+u).replace(_8,`
`).replace(E8,"")}function Ig(u,h,y){if(h=V_(h),V_(u)!==h&&y)throw Error(n(425))}function Mg(){}var db=null,fb=null;function hb(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var pb=typeof setTimeout=="function"?setTimeout:void 0,N8=typeof clearTimeout=="function"?clearTimeout:void 0,W_=typeof Promise=="function"?Promise:void 0,A8=typeof queueMicrotask=="function"?queueMicrotask:typeof W_<"u"?function(u){return W_.resolve(null).then(u).catch(j8)}:pb;function j8(u){setTimeout(function(){throw u})}function mb(u,h){var y=h,S=0;do{var L=y.nextSibling;if(u.removeChild(y),L&&L.nodeType===8)if(y=L.data,y==="/$"){if(S===0){u.removeChild(L),Kc(h);return}S--}else y!=="$"&&y!=="$?"&&y!=="$!"||S++;y=L}while(y);Kc(h)}function Al(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return u}function q_(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var y=u.data;if(y==="$"||y==="$!"||y==="$?"){if(h===0)return u;h--}else y==="/$"&&h++}u=u.previousSibling}return null}var jd=Math.random().toString(36).slice(2),da="__reactFiber$"+jd,Bh="__reactProps$"+jd,Ga="__reactContainer$"+jd,gb="__reactEvents$"+jd,P8="__reactListeners$"+jd,R8="__reactHandles$"+jd;function Xc(u){var h=u[da];if(h)return h;for(var y=u.parentNode;y;){if(h=y[Ga]||y[da]){if(y=h.alternate,h.child!==null||y!==null&&y.child!==null)for(u=q_(u);u!==null;){if(y=u[da])return y;u=q_(u)}return h}u=y,y=u.parentNode}return null}function $h(u){return u=u[da]||u[Ga],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Pd(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function Dg(u){return u[Bh]||null}var yb=[],Rd=-1;function jl(u){return{current:u}}function Gn(u){0>Rd||(u.current=yb[Rd],yb[Rd]=null,Rd--)}function Bn(u,h){Rd++,yb[Rd]=u.current,u.current=h}var Pl={},pi=jl(Pl),Qi=jl(!1),Jc=Pl;function Id(u,h){var y=u.type.contextTypes;if(!y)return Pl;var S=u.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===h)return S.__reactInternalMemoizedMaskedChildContext;var L={},U;for(U in y)L[U]=h[U];return S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=h,u.__reactInternalMemoizedMaskedChildContext=L),L}function Zi(u){return u=u.childContextTypes,u!=null}function Og(){Gn(Qi),Gn(pi)}function H_(u,h,y){if(pi.current!==Pl)throw Error(n(168));Bn(pi,h),Bn(Qi,y)}function G_(u,h,y){var S=u.stateNode;if(h=h.childContextTypes,typeof S.getChildContext!="function")return y;S=S.getChildContext();for(var L in S)if(!(L in h))throw Error(n(108,G(u)||"Unknown",L));return E({},y,S)}function Lg(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Pl,Jc=pi.current,Bn(pi,u),Bn(Qi,Qi.current),!0}function K_(u,h,y){var S=u.stateNode;if(!S)throw Error(n(169));y?(u=G_(u,h,Jc),S.__reactInternalMemoizedMergedChildContext=u,Gn(Qi),Gn(pi),Bn(pi,u)):Gn(Qi),Bn(Qi,y)}var Ka=null,Fg=!1,xb=!1;function Y_(u){Ka===null?Ka=[u]:Ka.push(u)}function I8(u){Fg=!0,Y_(u)}function Rl(){if(!xb&&Ka!==null){xb=!0;var u=0,h=En;try{var y=Ka;for(En=1;u<y.length;u++){var S=y[u];do S=S(!0);while(S!==null)}Ka=null,Fg=!1}catch(L){throw Ka!==null&&(Ka=Ka.slice(u+1)),dn(Sr,Rl),L}finally{En=h,xb=!1}}return null}var Md=[],Dd=0,zg=null,Bg=0,eo=[],to=0,Qc=null,Ya=1,Xa="";function Zc(u,h){Md[Dd++]=Bg,Md[Dd++]=zg,zg=u,Bg=h}function X_(u,h,y){eo[to++]=Ya,eo[to++]=Xa,eo[to++]=Qc,Qc=u;var S=Ya;u=Xa;var L=32-rt(S)-1;S&=~(1<<L),y+=1;var U=32-rt(h)+L;if(30<U){var Q=L-L%5;U=(S&(1<<Q)-1).toString(32),S>>=Q,L-=Q,Ya=1<<32-rt(h)+L|y<<L|S,Xa=U+u}else Ya=1<<U|y<<L|S,Xa=u}function vb(u){u.return!==null&&(Zc(u,1),X_(u,1,0))}function bb(u){for(;u===zg;)zg=Md[--Dd],Md[Dd]=null,Bg=Md[--Dd],Md[Dd]=null;for(;u===Qc;)Qc=eo[--to],eo[to]=null,Xa=eo[--to],eo[to]=null,Ya=eo[--to],eo[to]=null}var ws=null,ks=null,Qn=!1,Po=null;function J_(u,h){var y=so(5,null,null,0);y.elementType="DELETED",y.stateNode=h,y.return=u,h=u.deletions,h===null?(u.deletions=[y],u.flags|=16):h.push(y)}function Q_(u,h){switch(u.tag){case 5:var y=u.type;return h=h.nodeType!==1||y.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(u.stateNode=h,ws=u,ks=Al(h.firstChild),!0):!1;case 6:return h=u.pendingProps===""||h.nodeType!==3?null:h,h!==null?(u.stateNode=h,ws=u,ks=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(y=Qc!==null?{id:Ya,overflow:Xa}:null,u.memoizedState={dehydrated:h,treeContext:y,retryLane:1073741824},y=so(18,null,null,0),y.stateNode=h,y.return=u,u.child=y,ws=u,ks=null,!0):!1;default:return!1}}function wb(u){return(u.mode&1)!==0&&(u.flags&128)===0}function kb(u){if(Qn){var h=ks;if(h){var y=h;if(!Q_(u,h)){if(wb(u))throw Error(n(418));h=Al(y.nextSibling);var S=ws;h&&Q_(u,h)?J_(S,y):(u.flags=u.flags&-4097|2,Qn=!1,ws=u)}}else{if(wb(u))throw Error(n(418));u.flags=u.flags&-4097|2,Qn=!1,ws=u}}}function Z_(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;ws=u}function $g(u){if(u!==ws)return!1;if(!Qn)return Z_(u),Qn=!0,!1;var h;if((h=u.tag!==3)&&!(h=u.tag!==5)&&(h=u.type,h=h!=="head"&&h!=="body"&&!hb(u.type,u.memoizedProps)),h&&(h=ks)){if(wb(u))throw eE(),Error(n(418));for(;h;)J_(u,h),h=Al(h.nextSibling)}if(Z_(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8){var y=u.data;if(y==="/$"){if(h===0){ks=Al(u.nextSibling);break e}h--}else y!=="$"&&y!=="$!"&&y!=="$?"||h++}u=u.nextSibling}ks=null}}else ks=ws?Al(u.stateNode.nextSibling):null;return!0}function eE(){for(var u=ks;u;)u=Al(u.nextSibling)}function Od(){ks=ws=null,Qn=!1}function Tb(u){Po===null?Po=[u]:Po.push(u)}var M8=F.ReactCurrentBatchConfig;function Uh(u,h,y){if(u=y.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(n(309));var S=y.stateNode}if(!S)throw Error(n(147,u));var L=S,U=""+u;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===U?h.ref:(h=function(Q){var te=L.refs;Q===null?delete te[U]:te[U]=Q},h._stringRef=U,h)}if(typeof u!="string")throw Error(n(284));if(!y._owner)throw Error(n(290,u))}return u}function Ug(u,h){throw u=Object.prototype.toString.call(h),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u))}function tE(u){var h=u._init;return h(u._payload)}function nE(u){function h(me,fe){if(u){var ye=me.deletions;ye===null?(me.deletions=[fe],me.flags|=16):ye.push(fe)}}function y(me,fe){if(!u)return null;for(;fe!==null;)h(me,fe),fe=fe.sibling;return null}function S(me,fe){for(me=new Map;fe!==null;)fe.key!==null?me.set(fe.key,fe):me.set(fe.index,fe),fe=fe.sibling;return me}function L(me,fe){return me=Bl(me,fe),me.index=0,me.sibling=null,me}function U(me,fe,ye){return me.index=ye,u?(ye=me.alternate,ye!==null?(ye=ye.index,ye<fe?(me.flags|=2,fe):ye):(me.flags|=2,fe)):(me.flags|=1048576,fe)}function Q(me){return u&&me.alternate===null&&(me.flags|=2),me}function te(me,fe,ye,Oe){return fe===null||fe.tag!==6?(fe=pw(ye,me.mode,Oe),fe.return=me,fe):(fe=L(fe,ye),fe.return=me,fe)}function oe(me,fe,ye,Oe){var ut=ye.type;return ut===H?Pe(me,fe,ye.props.children,Oe,ye.key):fe!==null&&(fe.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===D&&tE(ut)===fe.type)?(Oe=L(fe,ye.props),Oe.ref=Uh(me,fe,ye),Oe.return=me,Oe):(Oe=fy(ye.type,ye.key,ye.props,null,me.mode,Oe),Oe.ref=Uh(me,fe,ye),Oe.return=me,Oe)}function xe(me,fe,ye,Oe){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==ye.containerInfo||fe.stateNode.implementation!==ye.implementation?(fe=mw(ye,me.mode,Oe),fe.return=me,fe):(fe=L(fe,ye.children||[]),fe.return=me,fe)}function Pe(me,fe,ye,Oe,ut){return fe===null||fe.tag!==7?(fe=au(ye,me.mode,Oe,ut),fe.return=me,fe):(fe=L(fe,ye),fe.return=me,fe)}function Re(me,fe,ye){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return fe=pw(""+fe,me.mode,ye),fe.return=me,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case z:return ye=fy(fe.type,fe.key,fe.props,null,me.mode,ye),ye.ref=Uh(me,null,fe),ye.return=me,ye;case B:return fe=mw(fe,me.mode,ye),fe.return=me,fe;case D:var Oe=fe._init;return Re(me,Oe(fe._payload),ye)}if(Je(fe)||I(fe))return fe=au(fe,me.mode,ye,null),fe.return=me,fe;Ug(me,fe)}return null}function je(me,fe,ye,Oe){var ut=fe!==null?fe.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ut!==null?null:te(me,fe,""+ye,Oe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case z:return ye.key===ut?oe(me,fe,ye,Oe):null;case B:return ye.key===ut?xe(me,fe,ye,Oe):null;case D:return ut=ye._init,je(me,fe,ut(ye._payload),Oe)}if(Je(ye)||I(ye))return ut!==null?null:Pe(me,fe,ye,Oe,null);Ug(me,ye)}return null}function Ke(me,fe,ye,Oe,ut){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return me=me.get(ye)||null,te(fe,me,""+Oe,ut);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case z:return me=me.get(Oe.key===null?ye:Oe.key)||null,oe(fe,me,Oe,ut);case B:return me=me.get(Oe.key===null?ye:Oe.key)||null,xe(fe,me,Oe,ut);case D:var kt=Oe._init;return Ke(me,fe,ye,kt(Oe._payload),ut)}if(Je(Oe)||I(Oe))return me=me.get(ye)||null,Pe(fe,me,Oe,ut,null);Ug(fe,Oe)}return null}function tt(me,fe,ye,Oe){for(var ut=null,kt=null,Tt=fe,It=fe=0,Hr=null;Tt!==null&&It<ye.length;It++){Tt.index>It?(Hr=Tt,Tt=null):Hr=Tt.sibling;var Sn=je(me,Tt,ye[It],Oe);if(Sn===null){Tt===null&&(Tt=Hr);break}u&&Tt&&Sn.alternate===null&&h(me,Tt),fe=U(Sn,fe,It),kt===null?ut=Sn:kt.sibling=Sn,kt=Sn,Tt=Hr}if(It===ye.length)return y(me,Tt),Qn&&Zc(me,It),ut;if(Tt===null){for(;It<ye.length;It++)Tt=Re(me,ye[It],Oe),Tt!==null&&(fe=U(Tt,fe,It),kt===null?ut=Tt:kt.sibling=Tt,kt=Tt);return Qn&&Zc(me,It),ut}for(Tt=S(me,Tt);It<ye.length;It++)Hr=Ke(Tt,me,It,ye[It],Oe),Hr!==null&&(u&&Hr.alternate!==null&&Tt.delete(Hr.key===null?It:Hr.key),fe=U(Hr,fe,It),kt===null?ut=Hr:kt.sibling=Hr,kt=Hr);return u&&Tt.forEach(function($l){return h(me,$l)}),Qn&&Zc(me,It),ut}function st(me,fe,ye,Oe){var ut=I(ye);if(typeof ut!="function")throw Error(n(150));if(ye=ut.call(ye),ye==null)throw Error(n(151));for(var kt=ut=null,Tt=fe,It=fe=0,Hr=null,Sn=ye.next();Tt!==null&&!Sn.done;It++,Sn=ye.next()){Tt.index>It?(Hr=Tt,Tt=null):Hr=Tt.sibling;var $l=je(me,Tt,Sn.value,Oe);if($l===null){Tt===null&&(Tt=Hr);break}u&&Tt&&$l.alternate===null&&h(me,Tt),fe=U($l,fe,It),kt===null?ut=$l:kt.sibling=$l,kt=$l,Tt=Hr}if(Sn.done)return y(me,Tt),Qn&&Zc(me,It),ut;if(Tt===null){for(;!Sn.done;It++,Sn=ye.next())Sn=Re(me,Sn.value,Oe),Sn!==null&&(fe=U(Sn,fe,It),kt===null?ut=Sn:kt.sibling=Sn,kt=Sn);return Qn&&Zc(me,It),ut}for(Tt=S(me,Tt);!Sn.done;It++,Sn=ye.next())Sn=Ke(Tt,me,It,Sn.value,Oe),Sn!==null&&(u&&Sn.alternate!==null&&Tt.delete(Sn.key===null?It:Sn.key),fe=U(Sn,fe,It),kt===null?ut=Sn:kt.sibling=Sn,kt=Sn);return u&&Tt.forEach(function(h$){return h(me,h$)}),Qn&&Zc(me,It),ut}function xr(me,fe,ye,Oe){if(typeof ye=="object"&&ye!==null&&ye.type===H&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case z:e:{for(var ut=ye.key,kt=fe;kt!==null;){if(kt.key===ut){if(ut=ye.type,ut===H){if(kt.tag===7){y(me,kt.sibling),fe=L(kt,ye.props.children),fe.return=me,me=fe;break e}}else if(kt.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===D&&tE(ut)===kt.type){y(me,kt.sibling),fe=L(kt,ye.props),fe.ref=Uh(me,kt,ye),fe.return=me,me=fe;break e}y(me,kt);break}else h(me,kt);kt=kt.sibling}ye.type===H?(fe=au(ye.props.children,me.mode,Oe,ye.key),fe.return=me,me=fe):(Oe=fy(ye.type,ye.key,ye.props,null,me.mode,Oe),Oe.ref=Uh(me,fe,ye),Oe.return=me,me=Oe)}return Q(me);case B:e:{for(kt=ye.key;fe!==null;){if(fe.key===kt)if(fe.tag===4&&fe.stateNode.containerInfo===ye.containerInfo&&fe.stateNode.implementation===ye.implementation){y(me,fe.sibling),fe=L(fe,ye.children||[]),fe.return=me,me=fe;break e}else{y(me,fe);break}else h(me,fe);fe=fe.sibling}fe=mw(ye,me.mode,Oe),fe.return=me,me=fe}return Q(me);case D:return kt=ye._init,xr(me,fe,kt(ye._payload),Oe)}if(Je(ye))return tt(me,fe,ye,Oe);if(I(ye))return st(me,fe,ye,Oe);Ug(me,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"?(ye=""+ye,fe!==null&&fe.tag===6?(y(me,fe.sibling),fe=L(fe,ye),fe.return=me,me=fe):(y(me,fe),fe=pw(ye,me.mode,Oe),fe.return=me,me=fe),Q(me)):y(me,fe)}return xr}var Ld=nE(!0),rE=nE(!1),Vg=jl(null),Wg=null,Fd=null,Sb=null;function Cb(){Sb=Fd=Wg=null}function _b(u){var h=Vg.current;Gn(Vg),u._currentValue=h}function Eb(u,h,y){for(;u!==null;){var S=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,S!==null&&(S.childLanes|=h)):S!==null&&(S.childLanes&h)!==h&&(S.childLanes|=h),u===y)break;u=u.return}}function zd(u,h){Wg=u,Sb=Fd=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&h)!==0&&(es=!0),u.firstContext=null)}function no(u){var h=u._currentValue;if(Sb!==u)if(u={context:u,memoizedValue:h,next:null},Fd===null){if(Wg===null)throw Error(n(308));Fd=u,Wg.dependencies={lanes:0,firstContext:u}}else Fd=Fd.next=u;return h}var eu=null;function Nb(u){eu===null?eu=[u]:eu.push(u)}function iE(u,h,y,S){var L=h.interleaved;return L===null?(y.next=y,Nb(h)):(y.next=L.next,L.next=y),h.interleaved=y,Ja(u,S)}function Ja(u,h){u.lanes|=h;var y=u.alternate;for(y!==null&&(y.lanes|=h),y=u,u=u.return;u!==null;)u.childLanes|=h,y=u.alternate,y!==null&&(y.childLanes|=h),y=u,u=u.return;return y.tag===3?y.stateNode:null}var Il=!1;function Ab(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sE(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Qa(u,h){return{eventTime:u,lane:h,tag:0,payload:null,callback:null,next:null}}function Ml(u,h,y){var S=u.updateQueue;if(S===null)return null;if(S=S.shared,(kn&2)!==0){var L=S.pending;return L===null?h.next=h:(h.next=L.next,L.next=h),S.pending=h,Ja(u,y)}return L=S.interleaved,L===null?(h.next=h,Nb(S)):(h.next=L.next,L.next=h),S.interleaved=h,Ja(u,y)}function qg(u,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194240)!==0)){var S=h.lanes;S&=u.pendingLanes,y|=S,h.lanes=y,Eh(u,y)}}function oE(u,h){var y=u.updateQueue,S=u.alternate;if(S!==null&&(S=S.updateQueue,y===S)){var L=null,U=null;if(y=y.firstBaseUpdate,y!==null){do{var Q={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};U===null?L=U=Q:U=U.next=Q,y=y.next}while(y!==null);U===null?L=U=h:U=U.next=h}else L=U=h;y={baseState:S.baseState,firstBaseUpdate:L,lastBaseUpdate:U,shared:S.shared,effects:S.effects},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=h:u.next=h,y.lastBaseUpdate=h}function Hg(u,h,y,S){var L=u.updateQueue;Il=!1;var U=L.firstBaseUpdate,Q=L.lastBaseUpdate,te=L.shared.pending;if(te!==null){L.shared.pending=null;var oe=te,xe=oe.next;oe.next=null,Q===null?U=xe:Q.next=xe,Q=oe;var Pe=u.alternate;Pe!==null&&(Pe=Pe.updateQueue,te=Pe.lastBaseUpdate,te!==Q&&(te===null?Pe.firstBaseUpdate=xe:te.next=xe,Pe.lastBaseUpdate=oe))}if(U!==null){var Re=L.baseState;Q=0,Pe=xe=oe=null,te=U;do{var je=te.lane,Ke=te.eventTime;if((S&je)===je){Pe!==null&&(Pe=Pe.next={eventTime:Ke,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});e:{var tt=u,st=te;switch(je=h,Ke=y,st.tag){case 1:if(tt=st.payload,typeof tt=="function"){Re=tt.call(Ke,Re,je);break e}Re=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=st.payload,je=typeof tt=="function"?tt.call(Ke,Re,je):tt,je==null)break e;Re=E({},Re,je);break e;case 2:Il=!0}}te.callback!==null&&te.lane!==0&&(u.flags|=64,je=L.effects,je===null?L.effects=[te]:je.push(te))}else Ke={eventTime:Ke,lane:je,tag:te.tag,payload:te.payload,callback:te.callback,next:null},Pe===null?(xe=Pe=Ke,oe=Re):Pe=Pe.next=Ke,Q|=je;if(te=te.next,te===null){if(te=L.shared.pending,te===null)break;je=te,te=je.next,je.next=null,L.lastBaseUpdate=je,L.shared.pending=null}}while(!0);if(Pe===null&&(oe=Re),L.baseState=oe,L.firstBaseUpdate=xe,L.lastBaseUpdate=Pe,h=L.shared.interleaved,h!==null){L=h;do Q|=L.lane,L=L.next;while(L!==h)}else U===null&&(L.shared.lanes=0);ru|=Q,u.lanes=Q,u.memoizedState=Re}}function aE(u,h,y){if(u=h.effects,h.effects=null,u!==null)for(h=0;h<u.length;h++){var S=u[h],L=S.callback;if(L!==null){if(S.callback=null,S=y,typeof L!="function")throw Error(n(191,L));L.call(S)}}}var Vh={},fa=jl(Vh),Wh=jl(Vh),qh=jl(Vh);function tu(u){if(u===Vh)throw Error(n(174));return u}function jb(u,h){switch(Bn(qh,h),Bn(Wh,u),Bn(fa,Vh),u=h.nodeType,u){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:ce(null,"");break;default:u=u===8?h.parentNode:h,h=u.namespaceURI||null,u=u.tagName,h=ce(h,u)}Gn(fa),Bn(fa,h)}function Bd(){Gn(fa),Gn(Wh),Gn(qh)}function lE(u){tu(qh.current);var h=tu(fa.current),y=ce(h,u.type);h!==y&&(Bn(Wh,u),Bn(fa,y))}function Pb(u){Wh.current===u&&(Gn(fa),Gn(Wh))}var rr=jl(0);function Gg(u){for(var h=u;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Rb=[];function Ib(){for(var u=0;u<Rb.length;u++)Rb[u]._workInProgressVersionPrimary=null;Rb.length=0}var Kg=F.ReactCurrentDispatcher,Mb=F.ReactCurrentBatchConfig,nu=0,ir=null,Lr=null,Wr=null,Yg=!1,Hh=!1,Gh=0,D8=0;function mi(){throw Error(n(321))}function Db(u,h){if(h===null)return!1;for(var y=0;y<h.length&&y<u.length;y++)if(!jo(u[y],h[y]))return!1;return!0}function Ob(u,h,y,S,L,U){if(nu=U,ir=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Kg.current=u===null||u.memoizedState===null?z8:B8,u=y(S,L),Hh){U=0;do{if(Hh=!1,Gh=0,25<=U)throw Error(n(301));U+=1,Wr=Lr=null,h.updateQueue=null,Kg.current=$8,u=y(S,L)}while(Hh)}if(Kg.current=Qg,h=Lr!==null&&Lr.next!==null,nu=0,Wr=Lr=ir=null,Yg=!1,h)throw Error(n(300));return u}function Lb(){var u=Gh!==0;return Gh=0,u}function ha(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wr===null?ir.memoizedState=Wr=u:Wr=Wr.next=u,Wr}function ro(){if(Lr===null){var u=ir.alternate;u=u!==null?u.memoizedState:null}else u=Lr.next;var h=Wr===null?ir.memoizedState:Wr.next;if(h!==null)Wr=h,Lr=u;else{if(u===null)throw Error(n(310));Lr=u,u={memoizedState:Lr.memoizedState,baseState:Lr.baseState,baseQueue:Lr.baseQueue,queue:Lr.queue,next:null},Wr===null?ir.memoizedState=Wr=u:Wr=Wr.next=u}return Wr}function Kh(u,h){return typeof h=="function"?h(u):h}function Fb(u){var h=ro(),y=h.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=u;var S=Lr,L=S.baseQueue,U=y.pending;if(U!==null){if(L!==null){var Q=L.next;L.next=U.next,U.next=Q}S.baseQueue=L=U,y.pending=null}if(L!==null){U=L.next,S=S.baseState;var te=Q=null,oe=null,xe=U;do{var Pe=xe.lane;if((nu&Pe)===Pe)oe!==null&&(oe=oe.next={lane:0,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),S=xe.hasEagerState?xe.eagerState:u(S,xe.action);else{var Re={lane:Pe,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null};oe===null?(te=oe=Re,Q=S):oe=oe.next=Re,ir.lanes|=Pe,ru|=Pe}xe=xe.next}while(xe!==null&&xe!==U);oe===null?Q=S:oe.next=te,jo(S,h.memoizedState)||(es=!0),h.memoizedState=S,h.baseState=Q,h.baseQueue=oe,y.lastRenderedState=S}if(u=y.interleaved,u!==null){L=u;do U=L.lane,ir.lanes|=U,ru|=U,L=L.next;while(L!==u)}else L===null&&(y.lanes=0);return[h.memoizedState,y.dispatch]}function zb(u){var h=ro(),y=h.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=u;var S=y.dispatch,L=y.pending,U=h.memoizedState;if(L!==null){y.pending=null;var Q=L=L.next;do U=u(U,Q.action),Q=Q.next;while(Q!==L);jo(U,h.memoizedState)||(es=!0),h.memoizedState=U,h.baseQueue===null&&(h.baseState=U),y.lastRenderedState=U}return[U,S]}function cE(){}function uE(u,h){var y=ir,S=ro(),L=h(),U=!jo(S.memoizedState,L);if(U&&(S.memoizedState=L,es=!0),S=S.queue,Bb(hE.bind(null,y,S,u),[u]),S.getSnapshot!==h||U||Wr!==null&&Wr.memoizedState.tag&1){if(y.flags|=2048,Yh(9,fE.bind(null,y,S,L,h),void 0,null),qr===null)throw Error(n(349));(nu&30)!==0||dE(y,h,L)}return L}function dE(u,h,y){u.flags|=16384,u={getSnapshot:h,value:y},h=ir.updateQueue,h===null?(h={lastEffect:null,stores:null},ir.updateQueue=h,h.stores=[u]):(y=h.stores,y===null?h.stores=[u]:y.push(u))}function fE(u,h,y,S){h.value=y,h.getSnapshot=S,pE(h)&&mE(u)}function hE(u,h,y){return y(function(){pE(h)&&mE(u)})}function pE(u){var h=u.getSnapshot;u=u.value;try{var y=h();return!jo(u,y)}catch{return!0}}function mE(u){var h=Ja(u,1);h!==null&&Do(h,u,1,-1)}function gE(u){var h=ha();return typeof u=="function"&&(u=u()),h.memoizedState=h.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kh,lastRenderedState:u},h.queue=u,u=u.dispatch=F8.bind(null,ir,u),[h.memoizedState,u]}function Yh(u,h,y,S){return u={tag:u,create:h,destroy:y,deps:S,next:null},h=ir.updateQueue,h===null?(h={lastEffect:null,stores:null},ir.updateQueue=h,h.lastEffect=u.next=u):(y=h.lastEffect,y===null?h.lastEffect=u.next=u:(S=y.next,y.next=u,u.next=S,h.lastEffect=u)),u}function yE(){return ro().memoizedState}function Xg(u,h,y,S){var L=ha();ir.flags|=u,L.memoizedState=Yh(1|h,y,void 0,S===void 0?null:S)}function Jg(u,h,y,S){var L=ro();S=S===void 0?null:S;var U=void 0;if(Lr!==null){var Q=Lr.memoizedState;if(U=Q.destroy,S!==null&&Db(S,Q.deps)){L.memoizedState=Yh(h,y,U,S);return}}ir.flags|=u,L.memoizedState=Yh(1|h,y,U,S)}function xE(u,h){return Xg(8390656,8,u,h)}function Bb(u,h){return Jg(2048,8,u,h)}function vE(u,h){return Jg(4,2,u,h)}function bE(u,h){return Jg(4,4,u,h)}function wE(u,h){if(typeof h=="function")return u=u(),h(u),function(){h(null)};if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function kE(u,h,y){return y=y!=null?y.concat([u]):null,Jg(4,4,wE.bind(null,h,u),y)}function $b(){}function TE(u,h){var y=ro();h=h===void 0?null:h;var S=y.memoizedState;return S!==null&&h!==null&&Db(h,S[1])?S[0]:(y.memoizedState=[u,h],u)}function SE(u,h){var y=ro();h=h===void 0?null:h;var S=y.memoizedState;return S!==null&&h!==null&&Db(h,S[1])?S[0]:(u=u(),y.memoizedState=[u,h],u)}function CE(u,h,y){return(nu&21)===0?(u.baseState&&(u.baseState=!1,es=!0),u.memoizedState=y):(jo(y,h)||(y=Xn(),ir.lanes|=y,ru|=y,u.baseState=!0),h)}function O8(u,h){var y=En;En=y!==0&&4>y?y:4,u(!0);var S=Mb.transition;Mb.transition={};try{u(!1),h()}finally{En=y,Mb.transition=S}}function _E(){return ro().memoizedState}function L8(u,h,y){var S=Fl(u);if(y={lane:S,action:y,hasEagerState:!1,eagerState:null,next:null},EE(u))NE(h,y);else if(y=iE(u,h,y,S),y!==null){var L=Li();Do(y,u,S,L),AE(y,h,S)}}function F8(u,h,y){var S=Fl(u),L={lane:S,action:y,hasEagerState:!1,eagerState:null,next:null};if(EE(u))NE(h,L);else{var U=u.alternate;if(u.lanes===0&&(U===null||U.lanes===0)&&(U=h.lastRenderedReducer,U!==null))try{var Q=h.lastRenderedState,te=U(Q,y);if(L.hasEagerState=!0,L.eagerState=te,jo(te,Q)){var oe=h.interleaved;oe===null?(L.next=L,Nb(h)):(L.next=oe.next,oe.next=L),h.interleaved=L;return}}catch{}finally{}y=iE(u,h,L,S),y!==null&&(L=Li(),Do(y,u,S,L),AE(y,h,S))}}function EE(u){var h=u.alternate;return u===ir||h!==null&&h===ir}function NE(u,h){Hh=Yg=!0;var y=u.pending;y===null?h.next=h:(h.next=y.next,y.next=h),u.pending=h}function AE(u,h,y){if((y&4194240)!==0){var S=h.lanes;S&=u.pendingLanes,y|=S,h.lanes=y,Eh(u,y)}}var Qg={readContext:no,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},z8={readContext:no,useCallback:function(u,h){return ha().memoizedState=[u,h===void 0?null:h],u},useContext:no,useEffect:xE,useImperativeHandle:function(u,h,y){return y=y!=null?y.concat([u]):null,Xg(4194308,4,wE.bind(null,h,u),y)},useLayoutEffect:function(u,h){return Xg(4194308,4,u,h)},useInsertionEffect:function(u,h){return Xg(4,2,u,h)},useMemo:function(u,h){var y=ha();return h=h===void 0?null:h,u=u(),y.memoizedState=[u,h],u},useReducer:function(u,h,y){var S=ha();return h=y!==void 0?y(h):h,S.memoizedState=S.baseState=h,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:h},S.queue=u,u=u.dispatch=L8.bind(null,ir,u),[S.memoizedState,u]},useRef:function(u){var h=ha();return u={current:u},h.memoizedState=u},useState:gE,useDebugValue:$b,useDeferredValue:function(u){return ha().memoizedState=u},useTransition:function(){var u=gE(!1),h=u[0];return u=O8.bind(null,u[1]),ha().memoizedState=u,[h,u]},useMutableSource:function(){},useSyncExternalStore:function(u,h,y){var S=ir,L=ha();if(Qn){if(y===void 0)throw Error(n(407));y=y()}else{if(y=h(),qr===null)throw Error(n(349));(nu&30)!==0||dE(S,h,y)}L.memoizedState=y;var U={value:y,getSnapshot:h};return L.queue=U,xE(hE.bind(null,S,U,u),[u]),S.flags|=2048,Yh(9,fE.bind(null,S,U,y,h),void 0,null),y},useId:function(){var u=ha(),h=qr.identifierPrefix;if(Qn){var y=Xa,S=Ya;y=(S&~(1<<32-rt(S)-1)).toString(32)+y,h=":"+h+"R"+y,y=Gh++,0<y&&(h+="H"+y.toString(32)),h+=":"}else y=D8++,h=":"+h+"r"+y.toString(32)+":";return u.memoizedState=h},unstable_isNewReconciler:!1},B8={readContext:no,useCallback:TE,useContext:no,useEffect:Bb,useImperativeHandle:kE,useInsertionEffect:vE,useLayoutEffect:bE,useMemo:SE,useReducer:Fb,useRef:yE,useState:function(){return Fb(Kh)},useDebugValue:$b,useDeferredValue:function(u){var h=ro();return CE(h,Lr.memoizedState,u)},useTransition:function(){var u=Fb(Kh)[0],h=ro().memoizedState;return[u,h]},useMutableSource:cE,useSyncExternalStore:uE,useId:_E,unstable_isNewReconciler:!1},$8={readContext:no,useCallback:TE,useContext:no,useEffect:Bb,useImperativeHandle:kE,useInsertionEffect:vE,useLayoutEffect:bE,useMemo:SE,useReducer:zb,useRef:yE,useState:function(){return zb(Kh)},useDebugValue:$b,useDeferredValue:function(u){var h=ro();return Lr===null?h.memoizedState=u:CE(h,Lr.memoizedState,u)},useTransition:function(){var u=zb(Kh)[0],h=ro().memoizedState;return[u,h]},useMutableSource:cE,useSyncExternalStore:uE,useId:_E,unstable_isNewReconciler:!1};function Ro(u,h){if(u&&u.defaultProps){h=E({},h),u=u.defaultProps;for(var y in u)h[y]===void 0&&(h[y]=u[y]);return h}return h}function Ub(u,h,y,S){h=u.memoizedState,y=y(S,h),y=y==null?h:E({},h,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}var Zg={isMounted:function(u){return(u=u._reactInternals)?Lt(u)===u:!1},enqueueSetState:function(u,h,y){u=u._reactInternals;var S=Li(),L=Fl(u),U=Qa(S,L);U.payload=h,y!=null&&(U.callback=y),h=Ml(u,U,L),h!==null&&(Do(h,u,L,S),qg(h,u,L))},enqueueReplaceState:function(u,h,y){u=u._reactInternals;var S=Li(),L=Fl(u),U=Qa(S,L);U.tag=1,U.payload=h,y!=null&&(U.callback=y),h=Ml(u,U,L),h!==null&&(Do(h,u,L,S),qg(h,u,L))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var y=Li(),S=Fl(u),L=Qa(y,S);L.tag=2,h!=null&&(L.callback=h),h=Ml(u,L,S),h!==null&&(Do(h,u,S,y),qg(h,u,S))}};function jE(u,h,y,S,L,U,Q){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(S,U,Q):h.prototype&&h.prototype.isPureReactComponent?!Dh(y,S)||!Dh(L,U):!0}function PE(u,h,y){var S=!1,L=Pl,U=h.contextType;return typeof U=="object"&&U!==null?U=no(U):(L=Zi(h)?Jc:pi.current,S=h.contextTypes,U=(S=S!=null)?Id(u,L):Pl),h=new h(y,U),u.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Zg,u.stateNode=h,h._reactInternals=u,S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=L,u.__reactInternalMemoizedMaskedChildContext=U),h}function RE(u,h,y,S){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,S),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,S),h.state!==u&&Zg.enqueueReplaceState(h,h.state,null)}function Vb(u,h,y,S){var L=u.stateNode;L.props=y,L.state=u.memoizedState,L.refs={},Ab(u);var U=h.contextType;typeof U=="object"&&U!==null?L.context=no(U):(U=Zi(h)?Jc:pi.current,L.context=Id(u,U)),L.state=u.memoizedState,U=h.getDerivedStateFromProps,typeof U=="function"&&(Ub(u,h,U,y),L.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(h=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),h!==L.state&&Zg.enqueueReplaceState(L,L.state,null),Hg(u,y,L,S),L.state=u.memoizedState),typeof L.componentDidMount=="function"&&(u.flags|=4194308)}function $d(u,h){try{var y="",S=h;do y+=$(S),S=S.return;while(S);var L=y}catch(U){L=`
Error generating stack: `+U.message+`
`+U.stack}return{value:u,source:h,stack:L,digest:null}}function Wb(u,h,y){return{value:u,source:null,stack:y??null,digest:h??null}}function qb(u,h){try{console.error(h.value)}catch(y){setTimeout(function(){throw y})}}var U8=typeof WeakMap=="function"?WeakMap:Map;function IE(u,h,y){y=Qa(-1,y),y.tag=3,y.payload={element:null};var S=h.value;return y.callback=function(){oy||(oy=!0,ow=S),qb(u,h)},y}function ME(u,h,y){y=Qa(-1,y),y.tag=3;var S=u.type.getDerivedStateFromError;if(typeof S=="function"){var L=h.value;y.payload=function(){return S(L)},y.callback=function(){qb(u,h)}}var U=u.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(y.callback=function(){qb(u,h),typeof S!="function"&&(Ol===null?Ol=new Set([this]):Ol.add(this));var Q=h.stack;this.componentDidCatch(h.value,{componentStack:Q!==null?Q:""})}),y}function DE(u,h,y){var S=u.pingCache;if(S===null){S=u.pingCache=new U8;var L=new Set;S.set(h,L)}else L=S.get(h),L===void 0&&(L=new Set,S.set(h,L));L.has(y)||(L.add(y),u=n$.bind(null,u,h,y),h.then(u,u))}function OE(u){do{var h;if((h=u.tag===13)&&(h=u.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return u;u=u.return}while(u!==null);return null}function LE(u,h,y,S,L){return(u.mode&1)===0?(u===h?u.flags|=65536:(u.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(h=Qa(-1,1),h.tag=2,Ml(y,h,1))),y.lanes|=1),u):(u.flags|=65536,u.lanes=L,u)}var V8=F.ReactCurrentOwner,es=!1;function Oi(u,h,y,S){h.child=u===null?rE(h,null,y,S):Ld(h,u.child,y,S)}function FE(u,h,y,S,L){y=y.render;var U=h.ref;return zd(h,L),S=Ob(u,h,y,S,U,L),y=Lb(),u!==null&&!es?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~L,Za(u,h,L)):(Qn&&y&&vb(h),h.flags|=1,Oi(u,h,S,L),h.child)}function zE(u,h,y,S,L){if(u===null){var U=y.type;return typeof U=="function"&&!hw(U)&&U.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(h.tag=15,h.type=U,BE(u,h,U,S,L)):(u=fy(y.type,null,S,h,h.mode,L),u.ref=h.ref,u.return=h,h.child=u)}if(U=u.child,(u.lanes&L)===0){var Q=U.memoizedProps;if(y=y.compare,y=y!==null?y:Dh,y(Q,S)&&u.ref===h.ref)return Za(u,h,L)}return h.flags|=1,u=Bl(U,S),u.ref=h.ref,u.return=h,h.child=u}function BE(u,h,y,S,L){if(u!==null){var U=u.memoizedProps;if(Dh(U,S)&&u.ref===h.ref)if(es=!1,h.pendingProps=S=U,(u.lanes&L)!==0)(u.flags&131072)!==0&&(es=!0);else return h.lanes=u.lanes,Za(u,h,L)}return Hb(u,h,y,S,L)}function $E(u,h,y){var S=h.pendingProps,L=S.children,U=u!==null?u.memoizedState:null;if(S.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bn(Vd,Ts),Ts|=y;else{if((y&1073741824)===0)return u=U!==null?U.baseLanes|y:y,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:u,cachePool:null,transitions:null},h.updateQueue=null,Bn(Vd,Ts),Ts|=u,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=U!==null?U.baseLanes:y,Bn(Vd,Ts),Ts|=S}else U!==null?(S=U.baseLanes|y,h.memoizedState=null):S=y,Bn(Vd,Ts),Ts|=S;return Oi(u,h,L,y),h.child}function UE(u,h){var y=h.ref;(u===null&&y!==null||u!==null&&u.ref!==y)&&(h.flags|=512,h.flags|=2097152)}function Hb(u,h,y,S,L){var U=Zi(y)?Jc:pi.current;return U=Id(h,U),zd(h,L),y=Ob(u,h,y,S,U,L),S=Lb(),u!==null&&!es?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~L,Za(u,h,L)):(Qn&&S&&vb(h),h.flags|=1,Oi(u,h,y,L),h.child)}function VE(u,h,y,S,L){if(Zi(y)){var U=!0;Lg(h)}else U=!1;if(zd(h,L),h.stateNode===null)ty(u,h),PE(h,y,S),Vb(h,y,S,L),S=!0;else if(u===null){var Q=h.stateNode,te=h.memoizedProps;Q.props=te;var oe=Q.context,xe=y.contextType;typeof xe=="object"&&xe!==null?xe=no(xe):(xe=Zi(y)?Jc:pi.current,xe=Id(h,xe));var Pe=y.getDerivedStateFromProps,Re=typeof Pe=="function"||typeof Q.getSnapshotBeforeUpdate=="function";Re||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(te!==S||oe!==xe)&&RE(h,Q,S,xe),Il=!1;var je=h.memoizedState;Q.state=je,Hg(h,S,Q,L),oe=h.memoizedState,te!==S||je!==oe||Qi.current||Il?(typeof Pe=="function"&&(Ub(h,y,Pe,S),oe=h.memoizedState),(te=Il||jE(h,y,te,S,je,oe,xe))?(Re||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount()),typeof Q.componentDidMount=="function"&&(h.flags|=4194308)):(typeof Q.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=S,h.memoizedState=oe),Q.props=S,Q.state=oe,Q.context=xe,S=te):(typeof Q.componentDidMount=="function"&&(h.flags|=4194308),S=!1)}else{Q=h.stateNode,sE(u,h),te=h.memoizedProps,xe=h.type===h.elementType?te:Ro(h.type,te),Q.props=xe,Re=h.pendingProps,je=Q.context,oe=y.contextType,typeof oe=="object"&&oe!==null?oe=no(oe):(oe=Zi(y)?Jc:pi.current,oe=Id(h,oe));var Ke=y.getDerivedStateFromProps;(Pe=typeof Ke=="function"||typeof Q.getSnapshotBeforeUpdate=="function")||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(te!==Re||je!==oe)&&RE(h,Q,S,oe),Il=!1,je=h.memoizedState,Q.state=je,Hg(h,S,Q,L);var tt=h.memoizedState;te!==Re||je!==tt||Qi.current||Il?(typeof Ke=="function"&&(Ub(h,y,Ke,S),tt=h.memoizedState),(xe=Il||jE(h,y,xe,S,je,tt,oe)||!1)?(Pe||typeof Q.UNSAFE_componentWillUpdate!="function"&&typeof Q.componentWillUpdate!="function"||(typeof Q.componentWillUpdate=="function"&&Q.componentWillUpdate(S,tt,oe),typeof Q.UNSAFE_componentWillUpdate=="function"&&Q.UNSAFE_componentWillUpdate(S,tt,oe)),typeof Q.componentDidUpdate=="function"&&(h.flags|=4),typeof Q.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof Q.componentDidUpdate!="function"||te===u.memoizedProps&&je===u.memoizedState||(h.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||te===u.memoizedProps&&je===u.memoizedState||(h.flags|=1024),h.memoizedProps=S,h.memoizedState=tt),Q.props=S,Q.state=tt,Q.context=oe,S=xe):(typeof Q.componentDidUpdate!="function"||te===u.memoizedProps&&je===u.memoizedState||(h.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||te===u.memoizedProps&&je===u.memoizedState||(h.flags|=1024),S=!1)}return Gb(u,h,y,S,U,L)}function Gb(u,h,y,S,L,U){UE(u,h);var Q=(h.flags&128)!==0;if(!S&&!Q)return L&&K_(h,y,!1),Za(u,h,U);S=h.stateNode,V8.current=h;var te=Q&&typeof y.getDerivedStateFromError!="function"?null:S.render();return h.flags|=1,u!==null&&Q?(h.child=Ld(h,u.child,null,U),h.child=Ld(h,null,te,U)):Oi(u,h,te,U),h.memoizedState=S.state,L&&K_(h,y,!0),h.child}function WE(u){var h=u.stateNode;h.pendingContext?H_(u,h.pendingContext,h.pendingContext!==h.context):h.context&&H_(u,h.context,!1),jb(u,h.containerInfo)}function qE(u,h,y,S,L){return Od(),Tb(L),h.flags|=256,Oi(u,h,y,S),h.child}var Kb={dehydrated:null,treeContext:null,retryLane:0};function Yb(u){return{baseLanes:u,cachePool:null,transitions:null}}function HE(u,h,y){var S=h.pendingProps,L=rr.current,U=!1,Q=(h.flags&128)!==0,te;if((te=Q)||(te=u!==null&&u.memoizedState===null?!1:(L&2)!==0),te?(U=!0,h.flags&=-129):(u===null||u.memoizedState!==null)&&(L|=1),Bn(rr,L&1),u===null)return kb(h),u=h.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((h.mode&1)===0?h.lanes=1:u.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(Q=S.children,u=S.fallback,U?(S=h.mode,U=h.child,Q={mode:"hidden",children:Q},(S&1)===0&&U!==null?(U.childLanes=0,U.pendingProps=Q):U=hy(Q,S,0,null),u=au(u,S,y,null),U.return=h,u.return=h,U.sibling=u,h.child=U,h.child.memoizedState=Yb(y),h.memoizedState=Kb,u):Xb(h,Q));if(L=u.memoizedState,L!==null&&(te=L.dehydrated,te!==null))return W8(u,h,Q,S,te,L,y);if(U){U=S.fallback,Q=h.mode,L=u.child,te=L.sibling;var oe={mode:"hidden",children:S.children};return(Q&1)===0&&h.child!==L?(S=h.child,S.childLanes=0,S.pendingProps=oe,h.deletions=null):(S=Bl(L,oe),S.subtreeFlags=L.subtreeFlags&14680064),te!==null?U=Bl(te,U):(U=au(U,Q,y,null),U.flags|=2),U.return=h,S.return=h,S.sibling=U,h.child=S,S=U,U=h.child,Q=u.child.memoizedState,Q=Q===null?Yb(y):{baseLanes:Q.baseLanes|y,cachePool:null,transitions:Q.transitions},U.memoizedState=Q,U.childLanes=u.childLanes&~y,h.memoizedState=Kb,S}return U=u.child,u=U.sibling,S=Bl(U,{mode:"visible",children:S.children}),(h.mode&1)===0&&(S.lanes=y),S.return=h,S.sibling=null,u!==null&&(y=h.deletions,y===null?(h.deletions=[u],h.flags|=16):y.push(u)),h.child=S,h.memoizedState=null,S}function Xb(u,h){return h=hy({mode:"visible",children:h},u.mode,0,null),h.return=u,u.child=h}function ey(u,h,y,S){return S!==null&&Tb(S),Ld(h,u.child,null,y),u=Xb(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function W8(u,h,y,S,L,U,Q){if(y)return h.flags&256?(h.flags&=-257,S=Wb(Error(n(422))),ey(u,h,Q,S)):h.memoizedState!==null?(h.child=u.child,h.flags|=128,null):(U=S.fallback,L=h.mode,S=hy({mode:"visible",children:S.children},L,0,null),U=au(U,L,Q,null),U.flags|=2,S.return=h,U.return=h,S.sibling=U,h.child=S,(h.mode&1)!==0&&Ld(h,u.child,null,Q),h.child.memoizedState=Yb(Q),h.memoizedState=Kb,U);if((h.mode&1)===0)return ey(u,h,Q,null);if(L.data==="$!"){if(S=L.nextSibling&&L.nextSibling.dataset,S)var te=S.dgst;return S=te,U=Error(n(419)),S=Wb(U,S,void 0),ey(u,h,Q,S)}if(te=(Q&u.childLanes)!==0,es||te){if(S=qr,S!==null){switch(Q&-Q){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}L=(L&(S.suspendedLanes|Q))!==0?0:L,L!==0&&L!==U.retryLane&&(U.retryLane=L,Ja(u,L),Do(S,u,L,-1))}return fw(),S=Wb(Error(n(421))),ey(u,h,Q,S)}return L.data==="$?"?(h.flags|=128,h.child=u.child,h=r$.bind(null,u),L._reactRetry=h,null):(u=U.treeContext,ks=Al(L.nextSibling),ws=h,Qn=!0,Po=null,u!==null&&(eo[to++]=Ya,eo[to++]=Xa,eo[to++]=Qc,Ya=u.id,Xa=u.overflow,Qc=h),h=Xb(h,S.children),h.flags|=4096,h)}function GE(u,h,y){u.lanes|=h;var S=u.alternate;S!==null&&(S.lanes|=h),Eb(u.return,h,y)}function Jb(u,h,y,S,L){var U=u.memoizedState;U===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:S,tail:y,tailMode:L}:(U.isBackwards=h,U.rendering=null,U.renderingStartTime=0,U.last=S,U.tail=y,U.tailMode=L)}function KE(u,h,y){var S=h.pendingProps,L=S.revealOrder,U=S.tail;if(Oi(u,h,S.children,y),S=rr.current,(S&2)!==0)S=S&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&GE(u,y,h);else if(u.tag===19)GE(u,y,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}S&=1}if(Bn(rr,S),(h.mode&1)===0)h.memoizedState=null;else switch(L){case"forwards":for(y=h.child,L=null;y!==null;)u=y.alternate,u!==null&&Gg(u)===null&&(L=y),y=y.sibling;y=L,y===null?(L=h.child,h.child=null):(L=y.sibling,y.sibling=null),Jb(h,!1,L,y,U);break;case"backwards":for(y=null,L=h.child,h.child=null;L!==null;){if(u=L.alternate,u!==null&&Gg(u)===null){h.child=L;break}u=L.sibling,L.sibling=y,y=L,L=u}Jb(h,!0,y,null,U);break;case"together":Jb(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function ty(u,h){(h.mode&1)===0&&u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2)}function Za(u,h,y){if(u!==null&&(h.dependencies=u.dependencies),ru|=h.lanes,(y&h.childLanes)===0)return null;if(u!==null&&h.child!==u.child)throw Error(n(153));if(h.child!==null){for(u=h.child,y=Bl(u,u.pendingProps),h.child=y,y.return=h;u.sibling!==null;)u=u.sibling,y=y.sibling=Bl(u,u.pendingProps),y.return=h;y.sibling=null}return h.child}function q8(u,h,y){switch(h.tag){case 3:WE(h),Od();break;case 5:lE(h);break;case 1:Zi(h.type)&&Lg(h);break;case 4:jb(h,h.stateNode.containerInfo);break;case 10:var S=h.type._context,L=h.memoizedProps.value;Bn(Vg,S._currentValue),S._currentValue=L;break;case 13:if(S=h.memoizedState,S!==null)return S.dehydrated!==null?(Bn(rr,rr.current&1),h.flags|=128,null):(y&h.child.childLanes)!==0?HE(u,h,y):(Bn(rr,rr.current&1),u=Za(u,h,y),u!==null?u.sibling:null);Bn(rr,rr.current&1);break;case 19:if(S=(y&h.childLanes)!==0,(u.flags&128)!==0){if(S)return KE(u,h,y);h.flags|=128}if(L=h.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),Bn(rr,rr.current),S)break;return null;case 22:case 23:return h.lanes=0,$E(u,h,y)}return Za(u,h,y)}var YE,Qb,XE,JE;YE=function(u,h){for(var y=h.child;y!==null;){if(y.tag===5||y.tag===6)u.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===h)break;for(;y.sibling===null;){if(y.return===null||y.return===h)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Qb=function(){},XE=function(u,h,y,S){var L=u.memoizedProps;if(L!==S){u=h.stateNode,tu(fa.current);var U=null;switch(y){case"input":L=ue(u,L),S=ue(u,S),U=[];break;case"select":L=E({},L,{value:void 0}),S=E({},S,{value:void 0}),U=[];break;case"textarea":L=Dt(u,L),S=Dt(u,S),U=[];break;default:typeof L.onClick!="function"&&typeof S.onClick=="function"&&(u.onclick=Mg)}Qe(y,S);var Q;y=null;for(xe in L)if(!S.hasOwnProperty(xe)&&L.hasOwnProperty(xe)&&L[xe]!=null)if(xe==="style"){var te=L[xe];for(Q in te)te.hasOwnProperty(Q)&&(y||(y={}),y[Q]="")}else xe!=="dangerouslySetInnerHTML"&&xe!=="children"&&xe!=="suppressContentEditableWarning"&&xe!=="suppressHydrationWarning"&&xe!=="autoFocus"&&(i.hasOwnProperty(xe)?U||(U=[]):(U=U||[]).push(xe,null));for(xe in S){var oe=S[xe];if(te=L!=null?L[xe]:void 0,S.hasOwnProperty(xe)&&oe!==te&&(oe!=null||te!=null))if(xe==="style")if(te){for(Q in te)!te.hasOwnProperty(Q)||oe&&oe.hasOwnProperty(Q)||(y||(y={}),y[Q]="");for(Q in oe)oe.hasOwnProperty(Q)&&te[Q]!==oe[Q]&&(y||(y={}),y[Q]=oe[Q])}else y||(U||(U=[]),U.push(xe,y)),y=oe;else xe==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,te=te?te.__html:void 0,oe!=null&&te!==oe&&(U=U||[]).push(xe,oe)):xe==="children"?typeof oe!="string"&&typeof oe!="number"||(U=U||[]).push(xe,""+oe):xe!=="suppressContentEditableWarning"&&xe!=="suppressHydrationWarning"&&(i.hasOwnProperty(xe)?(oe!=null&&xe==="onScroll"&&Hn("scroll",u),U||te===oe||(U=[])):(U=U||[]).push(xe,oe))}y&&(U=U||[]).push("style",y);var xe=U;(h.updateQueue=xe)&&(h.flags|=4)}},JE=function(u,h,y,S){y!==S&&(h.flags|=4)};function Xh(u,h){if(!Qn)switch(u.tailMode){case"hidden":h=u.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:S.sibling=null}}function gi(u){var h=u.alternate!==null&&u.alternate.child===u.child,y=0,S=0;if(h)for(var L=u.child;L!==null;)y|=L.lanes|L.childLanes,S|=L.subtreeFlags&14680064,S|=L.flags&14680064,L.return=u,L=L.sibling;else for(L=u.child;L!==null;)y|=L.lanes|L.childLanes,S|=L.subtreeFlags,S|=L.flags,L.return=u,L=L.sibling;return u.subtreeFlags|=S,u.childLanes=y,h}function H8(u,h,y){var S=h.pendingProps;switch(bb(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gi(h),null;case 1:return Zi(h.type)&&Og(),gi(h),null;case 3:return S=h.stateNode,Bd(),Gn(Qi),Gn(pi),Ib(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(u===null||u.child===null)&&($g(h)?h.flags|=4:u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Po!==null&&(cw(Po),Po=null))),Qb(u,h),gi(h),null;case 5:Pb(h);var L=tu(qh.current);if(y=h.type,u!==null&&h.stateNode!=null)XE(u,h,y,S,L),u.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!S){if(h.stateNode===null)throw Error(n(166));return gi(h),null}if(u=tu(fa.current),$g(h)){S=h.stateNode,y=h.type;var U=h.memoizedProps;switch(S[da]=h,S[Bh]=U,u=(h.mode&1)!==0,y){case"dialog":Hn("cancel",S),Hn("close",S);break;case"iframe":case"object":case"embed":Hn("load",S);break;case"video":case"audio":for(L=0;L<Lh.length;L++)Hn(Lh[L],S);break;case"source":Hn("error",S);break;case"img":case"image":case"link":Hn("error",S),Hn("load",S);break;case"details":Hn("toggle",S);break;case"input":be(S,U),Hn("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!U.multiple},Hn("invalid",S);break;case"textarea":ot(S,U),Hn("invalid",S)}Qe(y,U),L=null;for(var Q in U)if(U.hasOwnProperty(Q)){var te=U[Q];Q==="children"?typeof te=="string"?S.textContent!==te&&(U.suppressHydrationWarning!==!0&&Ig(S.textContent,te,u),L=["children",te]):typeof te=="number"&&S.textContent!==""+te&&(U.suppressHydrationWarning!==!0&&Ig(S.textContent,te,u),L=["children",""+te]):i.hasOwnProperty(Q)&&te!=null&&Q==="onScroll"&&Hn("scroll",S)}switch(y){case"input":se(S),De(S,U,!0);break;case"textarea":se(S),bt(S);break;case"select":case"option":break;default:typeof U.onClick=="function"&&(S.onclick=Mg)}S=L,h.updateQueue=S,S!==null&&(h.flags|=4)}else{Q=L.nodeType===9?L:L.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=ne(y)),u==="http://www.w3.org/1999/xhtml"?y==="script"?(u=Q.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof S.is=="string"?u=Q.createElement(y,{is:S.is}):(u=Q.createElement(y),y==="select"&&(Q=u,S.multiple?Q.multiple=!0:S.size&&(Q.size=S.size))):u=Q.createElementNS(u,y),u[da]=h,u[Bh]=S,YE(u,h,!1,!1),h.stateNode=u;e:{switch(Q=bn(y,S),y){case"dialog":Hn("cancel",u),Hn("close",u),L=S;break;case"iframe":case"object":case"embed":Hn("load",u),L=S;break;case"video":case"audio":for(L=0;L<Lh.length;L++)Hn(Lh[L],u);L=S;break;case"source":Hn("error",u),L=S;break;case"img":case"image":case"link":Hn("error",u),Hn("load",u),L=S;break;case"details":Hn("toggle",u),L=S;break;case"input":be(u,S),L=ue(u,S),Hn("invalid",u);break;case"option":L=S;break;case"select":u._wrapperState={wasMultiple:!!S.multiple},L=E({},S,{value:void 0}),Hn("invalid",u);break;case"textarea":ot(u,S),L=Dt(u,S),Hn("invalid",u);break;default:L=S}Qe(y,L),te=L;for(U in te)if(te.hasOwnProperty(U)){var oe=te[U];U==="style"?Kt(u,oe):U==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,oe!=null&&Se(u,oe)):U==="children"?typeof oe=="string"?(y!=="textarea"||oe!=="")&&Ae(u,oe):typeof oe=="number"&&Ae(u,""+oe):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(i.hasOwnProperty(U)?oe!=null&&U==="onScroll"&&Hn("scroll",u):oe!=null&&w(u,U,oe,Q))}switch(y){case"input":se(u),De(u,S,!1);break;case"textarea":se(u),bt(u);break;case"option":S.value!=null&&u.setAttribute("value",""+J(S.value));break;case"select":u.multiple=!!S.multiple,U=S.value,U!=null?Fe(u,!!S.multiple,U,!1):S.defaultValue!=null&&Fe(u,!!S.multiple,S.defaultValue,!0);break;default:typeof L.onClick=="function"&&(u.onclick=Mg)}switch(y){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return gi(h),null;case 6:if(u&&h.stateNode!=null)JE(u,h,u.memoizedProps,S);else{if(typeof S!="string"&&h.stateNode===null)throw Error(n(166));if(y=tu(qh.current),tu(fa.current),$g(h)){if(S=h.stateNode,y=h.memoizedProps,S[da]=h,(U=S.nodeValue!==y)&&(u=ws,u!==null))switch(u.tag){case 3:Ig(S.nodeValue,y,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&Ig(S.nodeValue,y,(u.mode&1)!==0)}U&&(h.flags|=4)}else S=(y.nodeType===9?y:y.ownerDocument).createTextNode(S),S[da]=h,h.stateNode=S}return gi(h),null;case 13:if(Gn(rr),S=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Qn&&ks!==null&&(h.mode&1)!==0&&(h.flags&128)===0)eE(),Od(),h.flags|=98560,U=!1;else if(U=$g(h),S!==null&&S.dehydrated!==null){if(u===null){if(!U)throw Error(n(318));if(U=h.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(n(317));U[da]=h}else Od(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;gi(h),U=!1}else Po!==null&&(cw(Po),Po=null),U=!0;if(!U)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=y,h):(S=S!==null,S!==(u!==null&&u.memoizedState!==null)&&S&&(h.child.flags|=8192,(h.mode&1)!==0&&(u===null||(rr.current&1)!==0?Fr===0&&(Fr=3):fw())),h.updateQueue!==null&&(h.flags|=4),gi(h),null);case 4:return Bd(),Qb(u,h),u===null&&Fh(h.stateNode.containerInfo),gi(h),null;case 10:return _b(h.type._context),gi(h),null;case 17:return Zi(h.type)&&Og(),gi(h),null;case 19:if(Gn(rr),U=h.memoizedState,U===null)return gi(h),null;if(S=(h.flags&128)!==0,Q=U.rendering,Q===null)if(S)Xh(U,!1);else{if(Fr!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(Q=Gg(u),Q!==null){for(h.flags|=128,Xh(U,!1),S=Q.updateQueue,S!==null&&(h.updateQueue=S,h.flags|=4),h.subtreeFlags=0,S=y,y=h.child;y!==null;)U=y,u=S,U.flags&=14680066,Q=U.alternate,Q===null?(U.childLanes=0,U.lanes=u,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null):(U.childLanes=Q.childLanes,U.lanes=Q.lanes,U.child=Q.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=Q.memoizedProps,U.memoizedState=Q.memoizedState,U.updateQueue=Q.updateQueue,U.type=Q.type,u=Q.dependencies,U.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),y=y.sibling;return Bn(rr,rr.current&1|2),h.child}u=u.sibling}U.tail!==null&&zt()>Wd&&(h.flags|=128,S=!0,Xh(U,!1),h.lanes=4194304)}else{if(!S)if(u=Gg(Q),u!==null){if(h.flags|=128,S=!0,y=u.updateQueue,y!==null&&(h.updateQueue=y,h.flags|=4),Xh(U,!0),U.tail===null&&U.tailMode==="hidden"&&!Q.alternate&&!Qn)return gi(h),null}else 2*zt()-U.renderingStartTime>Wd&&y!==1073741824&&(h.flags|=128,S=!0,Xh(U,!1),h.lanes=4194304);U.isBackwards?(Q.sibling=h.child,h.child=Q):(y=U.last,y!==null?y.sibling=Q:h.child=Q,U.last=Q)}return U.tail!==null?(h=U.tail,U.rendering=h,U.tail=h.sibling,U.renderingStartTime=zt(),h.sibling=null,y=rr.current,Bn(rr,S?y&1|2:y&1),h):(gi(h),null);case 22:case 23:return dw(),S=h.memoizedState!==null,u!==null&&u.memoizedState!==null!==S&&(h.flags|=8192),S&&(h.mode&1)!==0?(Ts&1073741824)!==0&&(gi(h),h.subtreeFlags&6&&(h.flags|=8192)):gi(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function G8(u,h){switch(bb(h),h.tag){case 1:return Zi(h.type)&&Og(),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return Bd(),Gn(Qi),Gn(pi),Ib(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 5:return Pb(h),null;case 13:if(Gn(rr),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(n(340));Od()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return Gn(rr),null;case 4:return Bd(),null;case 10:return _b(h.type._context),null;case 22:case 23:return dw(),null;case 24:return null;default:return null}}var ny=!1,yi=!1,K8=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Ud(u,h){var y=u.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(S){fr(u,h,S)}else y.current=null}function Zb(u,h,y){try{y()}catch(S){fr(u,h,S)}}var QE=!1;function Y8(u,h){if(db=wd,u=j_(),rb(u)){if("selectionStart"in u)var y={start:u.selectionStart,end:u.selectionEnd};else e:{y=(y=u.ownerDocument)&&y.defaultView||window;var S=y.getSelection&&y.getSelection();if(S&&S.rangeCount!==0){y=S.anchorNode;var L=S.anchorOffset,U=S.focusNode;S=S.focusOffset;try{y.nodeType,U.nodeType}catch{y=null;break e}var Q=0,te=-1,oe=-1,xe=0,Pe=0,Re=u,je=null;t:for(;;){for(var Ke;Re!==y||L!==0&&Re.nodeType!==3||(te=Q+L),Re!==U||S!==0&&Re.nodeType!==3||(oe=Q+S),Re.nodeType===3&&(Q+=Re.nodeValue.length),(Ke=Re.firstChild)!==null;)je=Re,Re=Ke;for(;;){if(Re===u)break t;if(je===y&&++xe===L&&(te=Q),je===U&&++Pe===S&&(oe=Q),(Ke=Re.nextSibling)!==null)break;Re=je,je=Re.parentNode}Re=Ke}y=te===-1||oe===-1?null:{start:te,end:oe}}else y=null}y=y||{start:0,end:0}}else y=null;for(fb={focusedElem:u,selectionRange:y},wd=!1,Ze=h;Ze!==null;)if(h=Ze,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,Ze=u;else for(;Ze!==null;){h=Ze;try{var tt=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(tt!==null){var st=tt.memoizedProps,xr=tt.memoizedState,me=h.stateNode,fe=me.getSnapshotBeforeUpdate(h.elementType===h.type?st:Ro(h.type,st),xr);me.__reactInternalSnapshotBeforeUpdate=fe}break;case 3:var ye=h.stateNode.containerInfo;ye.nodeType===1?ye.textContent="":ye.nodeType===9&&ye.documentElement&&ye.removeChild(ye.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Oe){fr(h,h.return,Oe)}if(u=h.sibling,u!==null){u.return=h.return,Ze=u;break}Ze=h.return}return tt=QE,QE=!1,tt}function Jh(u,h,y){var S=h.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var L=S=S.next;do{if((L.tag&u)===u){var U=L.destroy;L.destroy=void 0,U!==void 0&&Zb(h,y,U)}L=L.next}while(L!==S)}}function ry(u,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var y=h=h.next;do{if((y.tag&u)===u){var S=y.create;y.destroy=S()}y=y.next}while(y!==h)}}function ew(u){var h=u.ref;if(h!==null){var y=u.stateNode;switch(u.tag){case 5:u=y;break;default:u=y}typeof h=="function"?h(u):h.current=u}}function ZE(u){var h=u.alternate;h!==null&&(u.alternate=null,ZE(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&(delete h[da],delete h[Bh],delete h[gb],delete h[P8],delete h[R8])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function eN(u){return u.tag===5||u.tag===3||u.tag===4}function tN(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||eN(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function tw(u,h,y){var S=u.tag;if(S===5||S===6)u=u.stateNode,h?y.nodeType===8?y.parentNode.insertBefore(u,h):y.insertBefore(u,h):(y.nodeType===8?(h=y.parentNode,h.insertBefore(u,y)):(h=y,h.appendChild(u)),y=y._reactRootContainer,y!=null||h.onclick!==null||(h.onclick=Mg));else if(S!==4&&(u=u.child,u!==null))for(tw(u,h,y),u=u.sibling;u!==null;)tw(u,h,y),u=u.sibling}function nw(u,h,y){var S=u.tag;if(S===5||S===6)u=u.stateNode,h?y.insertBefore(u,h):y.appendChild(u);else if(S!==4&&(u=u.child,u!==null))for(nw(u,h,y),u=u.sibling;u!==null;)nw(u,h,y),u=u.sibling}var ri=null,Io=!1;function Dl(u,h,y){for(y=y.child;y!==null;)nN(u,h,y),y=y.sibling}function nN(u,h,y){if(ge&&typeof ge.onCommitFiberUnmount=="function")try{ge.onCommitFiberUnmount(ve,y)}catch{}switch(y.tag){case 5:yi||Ud(y,h);case 6:var S=ri,L=Io;ri=null,Dl(u,h,y),ri=S,Io=L,ri!==null&&(Io?(u=ri,y=y.stateNode,u.nodeType===8?u.parentNode.removeChild(y):u.removeChild(y)):ri.removeChild(y.stateNode));break;case 18:ri!==null&&(Io?(u=ri,y=y.stateNode,u.nodeType===8?mb(u.parentNode,y):u.nodeType===1&&mb(u,y),Kc(u)):mb(ri,y.stateNode));break;case 4:S=ri,L=Io,ri=y.stateNode.containerInfo,Io=!0,Dl(u,h,y),ri=S,Io=L;break;case 0:case 11:case 14:case 15:if(!yi&&(S=y.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){L=S=S.next;do{var U=L,Q=U.destroy;U=U.tag,Q!==void 0&&((U&2)!==0||(U&4)!==0)&&Zb(y,h,Q),L=L.next}while(L!==S)}Dl(u,h,y);break;case 1:if(!yi&&(Ud(y,h),S=y.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=y.memoizedProps,S.state=y.memoizedState,S.componentWillUnmount()}catch(te){fr(y,h,te)}Dl(u,h,y);break;case 21:Dl(u,h,y);break;case 22:y.mode&1?(yi=(S=yi)||y.memoizedState!==null,Dl(u,h,y),yi=S):Dl(u,h,y);break;default:Dl(u,h,y)}}function rN(u){var h=u.updateQueue;if(h!==null){u.updateQueue=null;var y=u.stateNode;y===null&&(y=u.stateNode=new K8),h.forEach(function(S){var L=i$.bind(null,u,S);y.has(S)||(y.add(S),S.then(L,L))})}}function Mo(u,h){var y=h.deletions;if(y!==null)for(var S=0;S<y.length;S++){var L=y[S];try{var U=u,Q=h,te=Q;e:for(;te!==null;){switch(te.tag){case 5:ri=te.stateNode,Io=!1;break e;case 3:ri=te.stateNode.containerInfo,Io=!0;break e;case 4:ri=te.stateNode.containerInfo,Io=!0;break e}te=te.return}if(ri===null)throw Error(n(160));nN(U,Q,L),ri=null,Io=!1;var oe=L.alternate;oe!==null&&(oe.return=null),L.return=null}catch(xe){fr(L,h,xe)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)iN(h,u),h=h.sibling}function iN(u,h){var y=u.alternate,S=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Mo(h,u),pa(u),S&4){try{Jh(3,u,u.return),ry(3,u)}catch(st){fr(u,u.return,st)}try{Jh(5,u,u.return)}catch(st){fr(u,u.return,st)}}break;case 1:Mo(h,u),pa(u),S&512&&y!==null&&Ud(y,y.return);break;case 5:if(Mo(h,u),pa(u),S&512&&y!==null&&Ud(y,y.return),u.flags&32){var L=u.stateNode;try{Ae(L,"")}catch(st){fr(u,u.return,st)}}if(S&4&&(L=u.stateNode,L!=null)){var U=u.memoizedProps,Q=y!==null?y.memoizedProps:U,te=u.type,oe=u.updateQueue;if(u.updateQueue=null,oe!==null)try{te==="input"&&U.type==="radio"&&U.name!=null&&Ne(L,U),bn(te,Q);var xe=bn(te,U);for(Q=0;Q<oe.length;Q+=2){var Pe=oe[Q],Re=oe[Q+1];Pe==="style"?Kt(L,Re):Pe==="dangerouslySetInnerHTML"?Se(L,Re):Pe==="children"?Ae(L,Re):w(L,Pe,Re,xe)}switch(te){case"input":ie(L,U);break;case"textarea":ct(L,U);break;case"select":var je=L._wrapperState.wasMultiple;L._wrapperState.wasMultiple=!!U.multiple;var Ke=U.value;Ke!=null?Fe(L,!!U.multiple,Ke,!1):je!==!!U.multiple&&(U.defaultValue!=null?Fe(L,!!U.multiple,U.defaultValue,!0):Fe(L,!!U.multiple,U.multiple?[]:"",!1))}L[Bh]=U}catch(st){fr(u,u.return,st)}}break;case 6:if(Mo(h,u),pa(u),S&4){if(u.stateNode===null)throw Error(n(162));L=u.stateNode,U=u.memoizedProps;try{L.nodeValue=U}catch(st){fr(u,u.return,st)}}break;case 3:if(Mo(h,u),pa(u),S&4&&y!==null&&y.memoizedState.isDehydrated)try{Kc(h.containerInfo)}catch(st){fr(u,u.return,st)}break;case 4:Mo(h,u),pa(u);break;case 13:Mo(h,u),pa(u),L=u.child,L.flags&8192&&(U=L.memoizedState!==null,L.stateNode.isHidden=U,!U||L.alternate!==null&&L.alternate.memoizedState!==null||(sw=zt())),S&4&&rN(u);break;case 22:if(Pe=y!==null&&y.memoizedState!==null,u.mode&1?(yi=(xe=yi)||Pe,Mo(h,u),yi=xe):Mo(h,u),pa(u),S&8192){if(xe=u.memoizedState!==null,(u.stateNode.isHidden=xe)&&!Pe&&(u.mode&1)!==0)for(Ze=u,Pe=u.child;Pe!==null;){for(Re=Ze=Pe;Ze!==null;){switch(je=Ze,Ke=je.child,je.tag){case 0:case 11:case 14:case 15:Jh(4,je,je.return);break;case 1:Ud(je,je.return);var tt=je.stateNode;if(typeof tt.componentWillUnmount=="function"){S=je,y=je.return;try{h=S,tt.props=h.memoizedProps,tt.state=h.memoizedState,tt.componentWillUnmount()}catch(st){fr(S,y,st)}}break;case 5:Ud(je,je.return);break;case 22:if(je.memoizedState!==null){aN(Re);continue}}Ke!==null?(Ke.return=je,Ze=Ke):aN(Re)}Pe=Pe.sibling}e:for(Pe=null,Re=u;;){if(Re.tag===5){if(Pe===null){Pe=Re;try{L=Re.stateNode,xe?(U=L.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none"):(te=Re.stateNode,oe=Re.memoizedProps.style,Q=oe!=null&&oe.hasOwnProperty("display")?oe.display:null,te.style.display=mt("display",Q))}catch(st){fr(u,u.return,st)}}}else if(Re.tag===6){if(Pe===null)try{Re.stateNode.nodeValue=xe?"":Re.memoizedProps}catch(st){fr(u,u.return,st)}}else if((Re.tag!==22&&Re.tag!==23||Re.memoizedState===null||Re===u)&&Re.child!==null){Re.child.return=Re,Re=Re.child;continue}if(Re===u)break e;for(;Re.sibling===null;){if(Re.return===null||Re.return===u)break e;Pe===Re&&(Pe=null),Re=Re.return}Pe===Re&&(Pe=null),Re.sibling.return=Re.return,Re=Re.sibling}}break;case 19:Mo(h,u),pa(u),S&4&&rN(u);break;case 21:break;default:Mo(h,u),pa(u)}}function pa(u){var h=u.flags;if(h&2){try{e:{for(var y=u.return;y!==null;){if(eN(y)){var S=y;break e}y=y.return}throw Error(n(160))}switch(S.tag){case 5:var L=S.stateNode;S.flags&32&&(Ae(L,""),S.flags&=-33);var U=tN(u);nw(u,U,L);break;case 3:case 4:var Q=S.stateNode.containerInfo,te=tN(u);tw(u,te,Q);break;default:throw Error(n(161))}}catch(oe){fr(u,u.return,oe)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function X8(u,h,y){Ze=u,sN(u)}function sN(u,h,y){for(var S=(u.mode&1)!==0;Ze!==null;){var L=Ze,U=L.child;if(L.tag===22&&S){var Q=L.memoizedState!==null||ny;if(!Q){var te=L.alternate,oe=te!==null&&te.memoizedState!==null||yi;te=ny;var xe=yi;if(ny=Q,(yi=oe)&&!xe)for(Ze=L;Ze!==null;)Q=Ze,oe=Q.child,Q.tag===22&&Q.memoizedState!==null?lN(L):oe!==null?(oe.return=Q,Ze=oe):lN(L);for(;U!==null;)Ze=U,sN(U),U=U.sibling;Ze=L,ny=te,yi=xe}oN(u)}else(L.subtreeFlags&8772)!==0&&U!==null?(U.return=L,Ze=U):oN(u)}}function oN(u){for(;Ze!==null;){var h=Ze;if((h.flags&8772)!==0){var y=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:yi||ry(5,h);break;case 1:var S=h.stateNode;if(h.flags&4&&!yi)if(y===null)S.componentDidMount();else{var L=h.elementType===h.type?y.memoizedProps:Ro(h.type,y.memoizedProps);S.componentDidUpdate(L,y.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var U=h.updateQueue;U!==null&&aE(h,U,S);break;case 3:var Q=h.updateQueue;if(Q!==null){if(y=null,h.child!==null)switch(h.child.tag){case 5:y=h.child.stateNode;break;case 1:y=h.child.stateNode}aE(h,Q,y)}break;case 5:var te=h.stateNode;if(y===null&&h.flags&4){y=te;var oe=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":oe.autoFocus&&y.focus();break;case"img":oe.src&&(y.src=oe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var xe=h.alternate;if(xe!==null){var Pe=xe.memoizedState;if(Pe!==null){var Re=Pe.dehydrated;Re!==null&&Kc(Re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}yi||h.flags&512&&ew(h)}catch(je){fr(h,h.return,je)}}if(h===u){Ze=null;break}if(y=h.sibling,y!==null){y.return=h.return,Ze=y;break}Ze=h.return}}function aN(u){for(;Ze!==null;){var h=Ze;if(h===u){Ze=null;break}var y=h.sibling;if(y!==null){y.return=h.return,Ze=y;break}Ze=h.return}}function lN(u){for(;Ze!==null;){var h=Ze;try{switch(h.tag){case 0:case 11:case 15:var y=h.return;try{ry(4,h)}catch(oe){fr(h,y,oe)}break;case 1:var S=h.stateNode;if(typeof S.componentDidMount=="function"){var L=h.return;try{S.componentDidMount()}catch(oe){fr(h,L,oe)}}var U=h.return;try{ew(h)}catch(oe){fr(h,U,oe)}break;case 5:var Q=h.return;try{ew(h)}catch(oe){fr(h,Q,oe)}}}catch(oe){fr(h,h.return,oe)}if(h===u){Ze=null;break}var te=h.sibling;if(te!==null){te.return=h.return,Ze=te;break}Ze=h.return}}var J8=Math.ceil,iy=F.ReactCurrentDispatcher,rw=F.ReactCurrentOwner,io=F.ReactCurrentBatchConfig,kn=0,qr=null,Cr=null,ii=0,Ts=0,Vd=jl(0),Fr=0,Qh=null,ru=0,sy=0,iw=0,Zh=null,ts=null,sw=0,Wd=1/0,el=null,oy=!1,ow=null,Ol=null,ay=!1,Ll=null,ly=0,ep=0,aw=null,cy=-1,uy=0;function Li(){return(kn&6)!==0?zt():cy!==-1?cy:cy=zt()}function Fl(u){return(u.mode&1)===0?1:(kn&2)!==0&&ii!==0?ii&-ii:M8.transition!==null?(uy===0&&(uy=Xn()),uy):(u=En,u!==0||(u=window.event,u=u===void 0?16:_g(u.type)),u)}function Do(u,h,y,S){if(50<ep)throw ep=0,aw=null,Error(n(185));Bc(u,y,S),((kn&2)===0||u!==qr)&&(u===qr&&((kn&2)===0&&(sy|=y),Fr===4&&zl(u,ii)),ns(u,S),y===1&&kn===0&&(h.mode&1)===0&&(Wd=zt()+500,Fg&&Rl()))}function ns(u,h){var y=u.callbackNode;Wt(u,h);var S=hi(u,u===qr?ii:0);if(S===0)y!==null&&Tn(y),u.callbackNode=null,u.callbackPriority=0;else if(h=S&-S,u.callbackPriority!==h){if(y!=null&&Tn(y),h===1)u.tag===0?I8(uN.bind(null,u)):Y_(uN.bind(null,u)),A8(function(){(kn&6)===0&&Rl()}),y=null;else{switch(vg(S)){case 1:y=Sr;break;case 4:y=Qs;break;case 16:y=xs;break;case 536870912:y=yr;break;default:y=xs}y=xN(y,cN.bind(null,u))}u.callbackPriority=h,u.callbackNode=y}}function cN(u,h){if(cy=-1,uy=0,(kn&6)!==0)throw Error(n(327));var y=u.callbackNode;if(qd()&&u.callbackNode!==y)return null;var S=hi(u,u===qr?ii:0);if(S===0)return null;if((S&30)!==0||(S&u.expiredLanes)!==0||h)h=dy(u,S);else{h=S;var L=kn;kn|=2;var U=fN();(qr!==u||ii!==h)&&(el=null,Wd=zt()+500,su(u,h));do try{e$();break}catch(te){dN(u,te)}while(!0);Cb(),iy.current=U,kn=L,Cr!==null?h=0:(qr=null,ii=0,h=Fr)}if(h!==0){if(h===2&&(L=El(u),L!==0&&(S=L,h=lw(u,L))),h===1)throw y=Qh,su(u,0),zl(u,S),ns(u,zt()),y;if(h===6)zl(u,S);else{if(L=u.current.alternate,(S&30)===0&&!Q8(L)&&(h=dy(u,S),h===2&&(U=El(u),U!==0&&(S=U,h=lw(u,U))),h===1))throw y=Qh,su(u,0),zl(u,S),ns(u,zt()),y;switch(u.finishedWork=L,u.finishedLanes=S,h){case 0:case 1:throw Error(n(345));case 2:ou(u,ts,el);break;case 3:if(zl(u,S),(S&130023424)===S&&(h=sw+500-zt(),10<h)){if(hi(u,0)!==0)break;if(L=u.suspendedLanes,(L&S)!==S){Li(),u.pingedLanes|=u.suspendedLanes&L;break}u.timeoutHandle=pb(ou.bind(null,u,ts,el),h);break}ou(u,ts,el);break;case 4:if(zl(u,S),(S&4194240)===S)break;for(h=u.eventTimes,L=-1;0<S;){var Q=31-rt(S);U=1<<Q,Q=h[Q],Q>L&&(L=Q),S&=~U}if(S=L,S=zt()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*J8(S/1960))-S,10<S){u.timeoutHandle=pb(ou.bind(null,u,ts,el),S);break}ou(u,ts,el);break;case 5:ou(u,ts,el);break;default:throw Error(n(329))}}}return ns(u,zt()),u.callbackNode===y?cN.bind(null,u):null}function lw(u,h){var y=Zh;return u.current.memoizedState.isDehydrated&&(su(u,h).flags|=256),u=dy(u,h),u!==2&&(h=ts,ts=y,h!==null&&cw(h)),u}function cw(u){ts===null?ts=u:ts.push.apply(ts,u)}function Q8(u){for(var h=u;;){if(h.flags&16384){var y=h.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var S=0;S<y.length;S++){var L=y[S],U=L.getSnapshot;L=L.value;try{if(!jo(U(),L))return!1}catch{return!1}}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function zl(u,h){for(h&=~iw,h&=~sy,u.suspendedLanes|=h,u.pingedLanes&=~h,u=u.expirationTimes;0<h;){var y=31-rt(h),S=1<<y;u[y]=-1,h&=~S}}function uN(u){if((kn&6)!==0)throw Error(n(327));qd();var h=hi(u,0);if((h&1)===0)return ns(u,zt()),null;var y=dy(u,h);if(u.tag!==0&&y===2){var S=El(u);S!==0&&(h=S,y=lw(u,S))}if(y===1)throw y=Qh,su(u,0),zl(u,h),ns(u,zt()),y;if(y===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=h,ou(u,ts,el),ns(u,zt()),null}function uw(u,h){var y=kn;kn|=1;try{return u(h)}finally{kn=y,kn===0&&(Wd=zt()+500,Fg&&Rl())}}function iu(u){Ll!==null&&Ll.tag===0&&(kn&6)===0&&qd();var h=kn;kn|=1;var y=io.transition,S=En;try{if(io.transition=null,En=1,u)return u()}finally{En=S,io.transition=y,kn=h,(kn&6)===0&&Rl()}}function dw(){Ts=Vd.current,Gn(Vd)}function su(u,h){u.finishedWork=null,u.finishedLanes=0;var y=u.timeoutHandle;if(y!==-1&&(u.timeoutHandle=-1,N8(y)),Cr!==null)for(y=Cr.return;y!==null;){var S=y;switch(bb(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&Og();break;case 3:Bd(),Gn(Qi),Gn(pi),Ib();break;case 5:Pb(S);break;case 4:Bd();break;case 13:Gn(rr);break;case 19:Gn(rr);break;case 10:_b(S.type._context);break;case 22:case 23:dw()}y=y.return}if(qr=u,Cr=u=Bl(u.current,null),ii=Ts=h,Fr=0,Qh=null,iw=sy=ru=0,ts=Zh=null,eu!==null){for(h=0;h<eu.length;h++)if(y=eu[h],S=y.interleaved,S!==null){y.interleaved=null;var L=S.next,U=y.pending;if(U!==null){var Q=U.next;U.next=L,S.next=Q}y.pending=S}eu=null}return u}function dN(u,h){do{var y=Cr;try{if(Cb(),Kg.current=Qg,Yg){for(var S=ir.memoizedState;S!==null;){var L=S.queue;L!==null&&(L.pending=null),S=S.next}Yg=!1}if(nu=0,Wr=Lr=ir=null,Hh=!1,Gh=0,rw.current=null,y===null||y.return===null){Fr=1,Qh=h,Cr=null;break}e:{var U=u,Q=y.return,te=y,oe=h;if(h=ii,te.flags|=32768,oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var xe=oe,Pe=te,Re=Pe.tag;if((Pe.mode&1)===0&&(Re===0||Re===11||Re===15)){var je=Pe.alternate;je?(Pe.updateQueue=je.updateQueue,Pe.memoizedState=je.memoizedState,Pe.lanes=je.lanes):(Pe.updateQueue=null,Pe.memoizedState=null)}var Ke=OE(Q);if(Ke!==null){Ke.flags&=-257,LE(Ke,Q,te,U,h),Ke.mode&1&&DE(U,xe,h),h=Ke,oe=xe;var tt=h.updateQueue;if(tt===null){var st=new Set;st.add(oe),h.updateQueue=st}else tt.add(oe);break e}else{if((h&1)===0){DE(U,xe,h),fw();break e}oe=Error(n(426))}}else if(Qn&&te.mode&1){var xr=OE(Q);if(xr!==null){(xr.flags&65536)===0&&(xr.flags|=256),LE(xr,Q,te,U,h),Tb($d(oe,te));break e}}U=oe=$d(oe,te),Fr!==4&&(Fr=2),Zh===null?Zh=[U]:Zh.push(U),U=Q;do{switch(U.tag){case 3:U.flags|=65536,h&=-h,U.lanes|=h;var me=IE(U,oe,h);oE(U,me);break e;case 1:te=oe;var fe=U.type,ye=U.stateNode;if((U.flags&128)===0&&(typeof fe.getDerivedStateFromError=="function"||ye!==null&&typeof ye.componentDidCatch=="function"&&(Ol===null||!Ol.has(ye)))){U.flags|=65536,h&=-h,U.lanes|=h;var Oe=ME(U,te,h);oE(U,Oe);break e}}U=U.return}while(U!==null)}pN(y)}catch(ut){h=ut,Cr===y&&y!==null&&(Cr=y=y.return);continue}break}while(!0)}function fN(){var u=iy.current;return iy.current=Qg,u===null?Qg:u}function fw(){(Fr===0||Fr===3||Fr===2)&&(Fr=4),qr===null||(ru&268435455)===0&&(sy&268435455)===0||zl(qr,ii)}function dy(u,h){var y=kn;kn|=2;var S=fN();(qr!==u||ii!==h)&&(el=null,su(u,h));do try{Z8();break}catch(L){dN(u,L)}while(!0);if(Cb(),kn=y,iy.current=S,Cr!==null)throw Error(n(261));return qr=null,ii=0,Fr}function Z8(){for(;Cr!==null;)hN(Cr)}function e$(){for(;Cr!==null&&!Ii();)hN(Cr)}function hN(u){var h=yN(u.alternate,u,Ts);u.memoizedProps=u.pendingProps,h===null?pN(u):Cr=h,rw.current=null}function pN(u){var h=u;do{var y=h.alternate;if(u=h.return,(h.flags&32768)===0){if(y=H8(y,h,Ts),y!==null){Cr=y;return}}else{if(y=G8(y,h),y!==null){y.flags&=32767,Cr=y;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Fr=6,Cr=null;return}}if(h=h.sibling,h!==null){Cr=h;return}Cr=h=u}while(h!==null);Fr===0&&(Fr=5)}function ou(u,h,y){var S=En,L=io.transition;try{io.transition=null,En=1,t$(u,h,y,S)}finally{io.transition=L,En=S}return null}function t$(u,h,y,S){do qd();while(Ll!==null);if((kn&6)!==0)throw Error(n(327));y=u.finishedWork;var L=u.finishedLanes;if(y===null)return null;if(u.finishedWork=null,u.finishedLanes=0,y===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var U=y.lanes|y.childLanes;if(qv(u,U),u===qr&&(Cr=qr=null,ii=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||ay||(ay=!0,xN(xs,function(){return qd(),null})),U=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||U){U=io.transition,io.transition=null;var Q=En;En=1;var te=kn;kn|=4,rw.current=null,Y8(u,y),iN(y,u),w8(fb),wd=!!db,fb=db=null,u.current=y,X8(y),Js(),kn=te,En=Q,io.transition=U}else u.current=y;if(ay&&(ay=!1,Ll=u,ly=L),U=u.pendingLanes,U===0&&(Ol=null),Ce(y.stateNode),ns(u,zt()),h!==null)for(S=u.onRecoverableError,y=0;y<h.length;y++)L=h[y],S(L.value,{componentStack:L.stack,digest:L.digest});if(oy)throw oy=!1,u=ow,ow=null,u;return(ly&1)!==0&&u.tag!==0&&qd(),U=u.pendingLanes,(U&1)!==0?u===aw?ep++:(ep=0,aw=u):ep=0,Rl(),null}function qd(){if(Ll!==null){var u=vg(ly),h=io.transition,y=En;try{if(io.transition=null,En=16>u?16:u,Ll===null)var S=!1;else{if(u=Ll,Ll=null,ly=0,(kn&6)!==0)throw Error(n(331));var L=kn;for(kn|=4,Ze=u.current;Ze!==null;){var U=Ze,Q=U.child;if((Ze.flags&16)!==0){var te=U.deletions;if(te!==null){for(var oe=0;oe<te.length;oe++){var xe=te[oe];for(Ze=xe;Ze!==null;){var Pe=Ze;switch(Pe.tag){case 0:case 11:case 15:Jh(8,Pe,U)}var Re=Pe.child;if(Re!==null)Re.return=Pe,Ze=Re;else for(;Ze!==null;){Pe=Ze;var je=Pe.sibling,Ke=Pe.return;if(ZE(Pe),Pe===xe){Ze=null;break}if(je!==null){je.return=Ke,Ze=je;break}Ze=Ke}}}var tt=U.alternate;if(tt!==null){var st=tt.child;if(st!==null){tt.child=null;do{var xr=st.sibling;st.sibling=null,st=xr}while(st!==null)}}Ze=U}}if((U.subtreeFlags&2064)!==0&&Q!==null)Q.return=U,Ze=Q;else e:for(;Ze!==null;){if(U=Ze,(U.flags&2048)!==0)switch(U.tag){case 0:case 11:case 15:Jh(9,U,U.return)}var me=U.sibling;if(me!==null){me.return=U.return,Ze=me;break e}Ze=U.return}}var fe=u.current;for(Ze=fe;Ze!==null;){Q=Ze;var ye=Q.child;if((Q.subtreeFlags&2064)!==0&&ye!==null)ye.return=Q,Ze=ye;else e:for(Q=fe;Ze!==null;){if(te=Ze,(te.flags&2048)!==0)try{switch(te.tag){case 0:case 11:case 15:ry(9,te)}}catch(ut){fr(te,te.return,ut)}if(te===Q){Ze=null;break e}var Oe=te.sibling;if(Oe!==null){Oe.return=te.return,Ze=Oe;break e}Ze=te.return}}if(kn=L,Rl(),ge&&typeof ge.onPostCommitFiberRoot=="function")try{ge.onPostCommitFiberRoot(ve,u)}catch{}S=!0}return S}finally{En=y,io.transition=h}}return!1}function mN(u,h,y){h=$d(y,h),h=IE(u,h,1),u=Ml(u,h,1),h=Li(),u!==null&&(Bc(u,1,h),ns(u,h))}function fr(u,h,y){if(u.tag===3)mN(u,u,y);else for(;h!==null;){if(h.tag===3){mN(h,u,y);break}else if(h.tag===1){var S=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Ol===null||!Ol.has(S))){u=$d(y,u),u=ME(h,u,1),h=Ml(h,u,1),u=Li(),h!==null&&(Bc(h,1,u),ns(h,u));break}}h=h.return}}function n$(u,h,y){var S=u.pingCache;S!==null&&S.delete(h),h=Li(),u.pingedLanes|=u.suspendedLanes&y,qr===u&&(ii&y)===y&&(Fr===4||Fr===3&&(ii&130023424)===ii&&500>zt()-sw?su(u,0):iw|=y),ns(u,h)}function gN(u,h){h===0&&((u.mode&1)===0?h=1:(h=Mi,Mi<<=1,(Mi&130023424)===0&&(Mi=4194304)));var y=Li();u=Ja(u,h),u!==null&&(Bc(u,h,y),ns(u,y))}function r$(u){var h=u.memoizedState,y=0;h!==null&&(y=h.retryLane),gN(u,y)}function i$(u,h){var y=0;switch(u.tag){case 13:var S=u.stateNode,L=u.memoizedState;L!==null&&(y=L.retryLane);break;case 19:S=u.stateNode;break;default:throw Error(n(314))}S!==null&&S.delete(h),gN(u,y)}var yN;yN=function(u,h,y){if(u!==null)if(u.memoizedProps!==h.pendingProps||Qi.current)es=!0;else{if((u.lanes&y)===0&&(h.flags&128)===0)return es=!1,q8(u,h,y);es=(u.flags&131072)!==0}else es=!1,Qn&&(h.flags&1048576)!==0&&X_(h,Bg,h.index);switch(h.lanes=0,h.tag){case 2:var S=h.type;ty(u,h),u=h.pendingProps;var L=Id(h,pi.current);zd(h,y),L=Ob(null,h,S,u,L,y);var U=Lb();return h.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Zi(S)?(U=!0,Lg(h)):U=!1,h.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,Ab(h),L.updater=Zg,h.stateNode=L,L._reactInternals=h,Vb(h,S,u,y),h=Gb(null,h,S,!0,U,y)):(h.tag=0,Qn&&U&&vb(h),Oi(null,h,L,y),h=h.child),h;case 16:S=h.elementType;e:{switch(ty(u,h),u=h.pendingProps,L=S._init,S=L(S._payload),h.type=S,L=h.tag=o$(S),u=Ro(S,u),L){case 0:h=Hb(null,h,S,u,y);break e;case 1:h=VE(null,h,S,u,y);break e;case 11:h=FE(null,h,S,u,y);break e;case 14:h=zE(null,h,S,Ro(S.type,u),y);break e}throw Error(n(306,S,""))}return h;case 0:return S=h.type,L=h.pendingProps,L=h.elementType===S?L:Ro(S,L),Hb(u,h,S,L,y);case 1:return S=h.type,L=h.pendingProps,L=h.elementType===S?L:Ro(S,L),VE(u,h,S,L,y);case 3:e:{if(WE(h),u===null)throw Error(n(387));S=h.pendingProps,U=h.memoizedState,L=U.element,sE(u,h),Hg(h,S,null,y);var Q=h.memoizedState;if(S=Q.element,U.isDehydrated)if(U={element:S,isDehydrated:!1,cache:Q.cache,pendingSuspenseBoundaries:Q.pendingSuspenseBoundaries,transitions:Q.transitions},h.updateQueue.baseState=U,h.memoizedState=U,h.flags&256){L=$d(Error(n(423)),h),h=qE(u,h,S,y,L);break e}else if(S!==L){L=$d(Error(n(424)),h),h=qE(u,h,S,y,L);break e}else for(ks=Al(h.stateNode.containerInfo.firstChild),ws=h,Qn=!0,Po=null,y=rE(h,null,S,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Od(),S===L){h=Za(u,h,y);break e}Oi(u,h,S,y)}h=h.child}return h;case 5:return lE(h),u===null&&kb(h),S=h.type,L=h.pendingProps,U=u!==null?u.memoizedProps:null,Q=L.children,hb(S,L)?Q=null:U!==null&&hb(S,U)&&(h.flags|=32),UE(u,h),Oi(u,h,Q,y),h.child;case 6:return u===null&&kb(h),null;case 13:return HE(u,h,y);case 4:return jb(h,h.stateNode.containerInfo),S=h.pendingProps,u===null?h.child=Ld(h,null,S,y):Oi(u,h,S,y),h.child;case 11:return S=h.type,L=h.pendingProps,L=h.elementType===S?L:Ro(S,L),FE(u,h,S,L,y);case 7:return Oi(u,h,h.pendingProps,y),h.child;case 8:return Oi(u,h,h.pendingProps.children,y),h.child;case 12:return Oi(u,h,h.pendingProps.children,y),h.child;case 10:e:{if(S=h.type._context,L=h.pendingProps,U=h.memoizedProps,Q=L.value,Bn(Vg,S._currentValue),S._currentValue=Q,U!==null)if(jo(U.value,Q)){if(U.children===L.children&&!Qi.current){h=Za(u,h,y);break e}}else for(U=h.child,U!==null&&(U.return=h);U!==null;){var te=U.dependencies;if(te!==null){Q=U.child;for(var oe=te.firstContext;oe!==null;){if(oe.context===S){if(U.tag===1){oe=Qa(-1,y&-y),oe.tag=2;var xe=U.updateQueue;if(xe!==null){xe=xe.shared;var Pe=xe.pending;Pe===null?oe.next=oe:(oe.next=Pe.next,Pe.next=oe),xe.pending=oe}}U.lanes|=y,oe=U.alternate,oe!==null&&(oe.lanes|=y),Eb(U.return,y,h),te.lanes|=y;break}oe=oe.next}}else if(U.tag===10)Q=U.type===h.type?null:U.child;else if(U.tag===18){if(Q=U.return,Q===null)throw Error(n(341));Q.lanes|=y,te=Q.alternate,te!==null&&(te.lanes|=y),Eb(Q,y,h),Q=U.sibling}else Q=U.child;if(Q!==null)Q.return=U;else for(Q=U;Q!==null;){if(Q===h){Q=null;break}if(U=Q.sibling,U!==null){U.return=Q.return,Q=U;break}Q=Q.return}U=Q}Oi(u,h,L.children,y),h=h.child}return h;case 9:return L=h.type,S=h.pendingProps.children,zd(h,y),L=no(L),S=S(L),h.flags|=1,Oi(u,h,S,y),h.child;case 14:return S=h.type,L=Ro(S,h.pendingProps),L=Ro(S.type,L),zE(u,h,S,L,y);case 15:return BE(u,h,h.type,h.pendingProps,y);case 17:return S=h.type,L=h.pendingProps,L=h.elementType===S?L:Ro(S,L),ty(u,h),h.tag=1,Zi(S)?(u=!0,Lg(h)):u=!1,zd(h,y),PE(h,S,L),Vb(h,S,L,y),Gb(null,h,S,!0,u,y);case 19:return KE(u,h,y);case 22:return $E(u,h,y)}throw Error(n(156,h.tag))};function xN(u,h){return dn(u,h)}function s$(u,h,y,S){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function so(u,h,y,S){return new s$(u,h,y,S)}function hw(u){return u=u.prototype,!(!u||!u.isReactComponent)}function o$(u){if(typeof u=="function")return hw(u)?1:0;if(u!=null){if(u=u.$$typeof,u===V)return 11;if(u===A)return 14}return 2}function Bl(u,h){var y=u.alternate;return y===null?(y=so(u.tag,h,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=h,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&14680064,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,h=u.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y}function fy(u,h,y,S,L,U){var Q=2;if(S=u,typeof u=="function")hw(u)&&(Q=1);else if(typeof u=="string")Q=5;else e:switch(u){case H:return au(y.children,L,U,h);case Y:Q=8,L|=8;break;case W:return u=so(12,y,h,L|2),u.elementType=W,u.lanes=U,u;case R:return u=so(13,y,h,L),u.elementType=R,u.lanes=U,u;case b:return u=so(19,y,h,L),u.elementType=b,u.lanes=U,u;case M:return hy(y,L,U,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case q:Q=10;break e;case X:Q=9;break e;case V:Q=11;break e;case A:Q=14;break e;case D:Q=16,S=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return h=so(Q,y,h,L),h.elementType=u,h.type=S,h.lanes=U,h}function au(u,h,y,S){return u=so(7,u,S,h),u.lanes=y,u}function hy(u,h,y,S){return u=so(22,u,S,h),u.elementType=M,u.lanes=y,u.stateNode={isHidden:!1},u}function pw(u,h,y){return u=so(6,u,null,h),u.lanes=y,u}function mw(u,h,y){return h=so(4,u.children!==null?u.children:[],u.key,h),h.lanes=y,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function a$(u,h,y,S,L){this.tag=h,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oa(0),this.expirationTimes=oa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oa(0),this.identifierPrefix=S,this.onRecoverableError=L,this.mutableSourceEagerHydrationData=null}function gw(u,h,y,S,L,U,Q,te,oe){return u=new a$(u,h,y,te,oe),h===1?(h=1,U===!0&&(h|=8)):h=0,U=so(3,null,null,h),u.current=U,U.stateNode=u,U.memoizedState={element:S,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ab(U),u}function l$(u,h,y){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:S==null?null:""+S,children:u,containerInfo:h,implementation:y}}function vN(u){if(!u)return Pl;u=u._reactInternals;e:{if(Lt(u)!==u||u.tag!==1)throw Error(n(170));var h=u;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Zi(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(u.tag===1){var y=u.type;if(Zi(y))return G_(u,y,h)}return h}function bN(u,h,y,S,L,U,Q,te,oe){return u=gw(y,S,!0,u,L,U,Q,te,oe),u.context=vN(null),y=u.current,S=Li(),L=Fl(y),U=Qa(S,L),U.callback=h??null,Ml(y,U,L),u.current.lanes=L,Bc(u,L,S),ns(u,S),u}function py(u,h,y,S){var L=h.current,U=Li(),Q=Fl(L);return y=vN(y),h.context===null?h.context=y:h.pendingContext=y,h=Qa(U,Q),h.payload={element:u},S=S===void 0?null:S,S!==null&&(h.callback=S),u=Ml(L,h,Q),u!==null&&(Do(u,L,Q,U),qg(u,L,Q)),Q}function my(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function wN(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<h?y:h}}function yw(u,h){wN(u,h),(u=u.alternate)&&wN(u,h)}function c$(){return null}var kN=typeof reportError=="function"?reportError:function(u){console.error(u)};function xw(u){this._internalRoot=u}gy.prototype.render=xw.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(n(409));py(u,h,null,null)},gy.prototype.unmount=xw.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;iu(function(){py(null,u,null,null)}),h[Ga]=null}};function gy(u){this._internalRoot=u}gy.prototype.unstable_scheduleHydration=function(u){if(u){var h=kg();u={blockedOn:null,target:u,priority:h};for(var y=0;y<ca.length&&h!==0&&h<ca[y].priority;y++);ca.splice(y,0,u),y===0&&Sg(u)}};function vw(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function yy(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function TN(){}function u$(u,h,y,S,L){if(L){if(typeof S=="function"){var U=S;S=function(){var xe=my(Q);U.call(xe)}}var Q=bN(h,S,u,0,null,!1,!1,"",TN);return u._reactRootContainer=Q,u[Ga]=Q.current,Fh(u.nodeType===8?u.parentNode:u),iu(),Q}for(;L=u.lastChild;)u.removeChild(L);if(typeof S=="function"){var te=S;S=function(){var xe=my(oe);te.call(xe)}}var oe=gw(u,0,!1,null,null,!1,!1,"",TN);return u._reactRootContainer=oe,u[Ga]=oe.current,Fh(u.nodeType===8?u.parentNode:u),iu(function(){py(h,oe,y,S)}),oe}function xy(u,h,y,S,L){var U=y._reactRootContainer;if(U){var Q=U;if(typeof L=="function"){var te=L;L=function(){var oe=my(Q);te.call(oe)}}py(h,Q,u,L)}else Q=u$(y,h,u,L,S);return my(Q)}bg=function(u){switch(u.tag){case 3:var h=u.stateNode;if(h.current.memoizedState.isDehydrated){var y=fi(h.pendingLanes);y!==0&&(Eh(h,y|1),ns(h,zt()),(kn&6)===0&&(Wd=zt()+500,Rl()))}break;case 13:iu(function(){var S=Ja(u,1);if(S!==null){var L=Li();Do(S,u,1,L)}}),yw(u,1)}},Nh=function(u){if(u.tag===13){var h=Ja(u,134217728);if(h!==null){var y=Li();Do(h,u,134217728,y)}yw(u,134217728)}},wg=function(u){if(u.tag===13){var h=Fl(u),y=Ja(u,h);if(y!==null){var S=Li();Do(y,u,h,S)}yw(u,h)}},kg=function(){return En},$c=function(u,h){var y=En;try{return En=u,h()}finally{En=y}},Yn=function(u,h,y){switch(h){case"input":if(ie(u,y),h=y.name,y.type==="radio"&&h!=null){for(y=u;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<y.length;h++){var S=y[h];if(S!==u&&S.form===u.form){var L=Dg(S);if(!L)throw Error(n(90));pe(S),ie(S,L)}}}break;case"textarea":ct(u,y);break;case"select":h=y.value,h!=null&&Fe(u,!!y.multiple,h,!1)}},Et=uw,at=iu;var d$={usingClientEntryPoint:!1,Events:[$h,Pd,Dg,$t,ze,uw]},tp={findFiberByHostInstance:Xc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f$={bundleType:tp.bundleType,version:tp.version,rendererPackageName:tp.rendererPackageName,rendererConfig:tp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Mn(u),u===null?null:u.stateNode},findFiberByHostInstance:tp.findFiberByHostInstance||c$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vy.isDisabled&&vy.supportsFiber)try{ve=vy.inject(f$),ge=vy}catch{}}return rs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d$,rs.createPortal=function(u,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vw(h))throw Error(n(200));return l$(u,h,null,y)},rs.createRoot=function(u,h){if(!vw(u))throw Error(n(299));var y=!1,S="",L=kN;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onRecoverableError!==void 0&&(L=h.onRecoverableError)),h=gw(u,1,!1,null,null,y,!1,S,L),u[Ga]=h.current,Fh(u.nodeType===8?u.parentNode:u),new xw(h)},rs.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=Mn(h),u=u===null?null:u.stateNode,u},rs.flushSync=function(u){return iu(u)},rs.hydrate=function(u,h,y){if(!yy(h))throw Error(n(200));return xy(null,u,h,!0,y)},rs.hydrateRoot=function(u,h,y){if(!vw(u))throw Error(n(405));var S=y!=null&&y.hydratedSources||null,L=!1,U="",Q=kN;if(y!=null&&(y.unstable_strictMode===!0&&(L=!0),y.identifierPrefix!==void 0&&(U=y.identifierPrefix),y.onRecoverableError!==void 0&&(Q=y.onRecoverableError)),h=bN(h,null,u,1,y??null,L,!1,U,Q),u[Ga]=h.current,Fh(u),S)for(u=0;u<S.length;u++)y=S[u],L=y._getVersion,L=L(y._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[y,L]:h.mutableSourceEagerHydrationData.push(y,L);return new gy(h)},rs.render=function(u,h,y){if(!yy(h))throw Error(n(200));return xy(null,u,h,!1,y)},rs.unmountComponentAtNode=function(u){if(!yy(u))throw Error(n(40));return u._reactRootContainer?(iu(function(){xy(null,null,u,!1,function(){u._reactRootContainer=null,u[Ga]=null})}),!0):!1},rs.unstable_batchedUpdates=uw,rs.unstable_renderSubtreeIntoContainer=function(u,h,y,S){if(!yy(y))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return xy(u,h,y,!1,S)},rs.version="18.3.1-next-f1338f8080-20240426",rs}var PN;function SM(){if(PN)return kw.exports;PN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kw.exports=k$(),kw.exports}var RN;function T$(){if(RN)return wy;RN=1;var t=SM();return wy.createRoot=t.createRoot,wy.hydrateRoot=t.hydrateRoot,wy}var S$=T$(),Gm=SM();const CM=kl(Gm);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},am.apply(this,arguments)}var ic;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ic||(ic={}));const IN="popstate";function C$(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return vk("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:J0(i)}return E$(e,n,null,t)}function Dr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _M(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _$(){return Math.random().toString(36).substr(2,8)}function MN(t,e){return{usr:t.state,key:t.key,idx:e}}function vk(t,e,n,r){return n===void 0&&(n=null),am({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?dh(e):e,{state:n,key:e&&e.key||r||_$()})}function J0(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function dh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function E$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ic.Pop,c=null,d=f();d==null&&(d=0,o.replaceState(am({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function p(){a=ic.Pop;let T=f(),_=T==null?null:T-d;d=T,c&&c({action:a,location:x.location,delta:_})}function g(T,_){a=ic.Push;let j=vk(x.location,T,_);d=f()+1;let w=MN(j,d),F=x.createHref(j);try{o.pushState(w,"",F)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(F)}s&&c&&c({action:a,location:x.location,delta:1})}function m(T,_){a=ic.Replace;let j=vk(x.location,T,_);d=f();let w=MN(j,d),F=x.createHref(j);o.replaceState(w,"",F),s&&c&&c({action:a,location:x.location,delta:0})}function v(T){let _=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof T=="string"?T:J0(T);return j=j.replace(/ $/,"%20"),Dr(_,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,_)}let x={get action(){return a},get location(){return t(i,o)},listen(T){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(IN,p),c=T,()=>{i.removeEventListener(IN,p),c=null}},createHref(T){return e(i,T)},createURL:v,encodeLocation(T){let _=v(T);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:m,go(T){return o.go(T)}};return x}var DN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(DN||(DN={}));function N$(t,e,n){return n===void 0&&(n="/"),A$(t,e,n)}function A$(t,e,n,r){let i=typeof e=="string"?dh(e):e,s=xS(i.pathname||"/",n);if(s==null)return null;let o=EM(t);j$(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=U$(s);a=z$(o[c],d)}return a}function EM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Dr(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=hc([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(Dr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),EM(s.children,e,f,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:L$(d,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of NM(s.path))i(s,o,c)}),e}function NM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=NM(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function j$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:F$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const P$=/^:[\w-]+$/,R$=3,I$=2,M$=1,D$=10,O$=-2,ON=t=>t==="*";function L$(t,e){let n=t.split("/"),r=n.length;return n.some(ON)&&(r+=O$),e&&(r+=I$),n.filter(i=>!ON(i)).reduce((i,s)=>i+(P$.test(s)?R$:s===""?M$:D$),r)}function F$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function z$(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=B$({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),g=c.route;if(!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:hc([s,p.pathname]),pathnameBase:H$(hc([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=hc([s,p.pathnameBase]))}return o}function B$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((d,f,p)=>{let{paramName:g,isOptional:m}=f;if(g==="*"){let x=a[p]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const v=a[p];return m&&!v?d[g]=void 0:d[g]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function $$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_M(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function U$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _M(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function V$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?dh(t):t;return{pathname:n?n.startsWith("/")?n:W$(n,e):e,search:G$(r),hash:K$(i)}}function W$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Cw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function q$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function AM(t,e){let n=q$(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function jM(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=dh(t):(i=am({},t),Dr(!i.pathname||!i.pathname.includes("?"),Cw("?","pathname","search",i)),Dr(!i.pathname||!i.pathname.includes("#"),Cw("#","pathname","hash",i)),Dr(!i.search||!i.search.includes("#"),Cw("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}a=p>=0?e[p]:"/"}let c=V$(i,a),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const hc=t=>t.join("/").replace(/\/\/+/g,"/"),H$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),G$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,K$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Y$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const PM=["post","put","patch","delete"];new Set(PM);const X$=["get",...PM];new Set(X$);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lm.apply(this,arguments)}const vS=k.createContext(null),J$=k.createContext(null),ud=k.createContext(null),Hx=k.createContext(null),_c=k.createContext({outlet:null,matches:[],isDataRoute:!1}),RM=k.createContext(null);function Q$(t,e){let{relative:n}=e===void 0?{}:e;Km()||Dr(!1);let{basename:r,navigator:i}=k.useContext(ud),{hash:s,pathname:o,search:a}=MM(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:hc([r,o])),i.createHref({pathname:c,search:a,hash:s})}function Km(){return k.useContext(Hx)!=null}function dd(){return Km()||Dr(!1),k.useContext(Hx).location}function IM(t){k.useContext(ud).static||k.useLayoutEffect(t)}function $a(){let{isDataRoute:t}=k.useContext(_c);return t?dU():Z$()}function Z$(){Km()||Dr(!1);let t=k.useContext(vS),{basename:e,future:n,navigator:r}=k.useContext(ud),{matches:i}=k.useContext(_c),{pathname:s}=dd(),o=JSON.stringify(AM(i,n.v7_relativeSplatPath)),a=k.useRef(!1);return IM(()=>{a.current=!0}),k.useCallback(function(d,f){if(f===void 0&&(f={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let p=jM(d,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:hc([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,o,s,t])}function LN(){let{matches:t}=k.useContext(_c),e=t[t.length-1];return e?e.params:{}}function MM(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=k.useContext(ud),{matches:i}=k.useContext(_c),{pathname:s}=dd(),o=JSON.stringify(AM(i,r.v7_relativeSplatPath));return k.useMemo(()=>jM(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function eU(t,e){return tU(t,e)}function tU(t,e,n,r){Km()||Dr(!1);let{navigator:i}=k.useContext(ud),{matches:s}=k.useContext(_c),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=dd(),f;if(e){var p;let T=typeof e=="string"?dh(e):e;c==="/"||(p=T.pathname)!=null&&p.startsWith(c)||Dr(!1),f=T}else f=d;let g=f.pathname||"/",m=g;if(c!=="/"){let T=c.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(T.length).join("/")}let v=N$(t,{pathname:m}),x=oU(v&&v.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:hc([c,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?c:hc([c,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,r);return e&&x?k.createElement(Hx.Provider,{value:{location:lm({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ic.Pop}},x):x}function nU(){let t=uU(),e=Y$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,null)}const rU=k.createElement(nU,null);class iU extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(_c.Provider,{value:this.props.routeContext},k.createElement(RM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sU(t){let{routeContext:e,match:n,children:r}=t,i=k.useContext(vS);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(_c.Provider,{value:e},r)}function oU(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);f>=0||Dr(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:m}=n,v=p.route.loader&&g[p.route.id]===void 0&&(!m||m[p.route.id]===void 0);if(p.route.lazy||v){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,g)=>{let m,v=!1,x=null,T=null;n&&(m=a&&p.route.id?a[p.route.id]:void 0,x=p.route.errorElement||rU,c&&(d<0&&g===0?(fU("route-fallback"),v=!0,T=null):d===g&&(v=!0,T=p.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,g+1)),j=()=>{let w;return m?w=x:v?w=T:p.route.Component?w=k.createElement(p.route.Component,null):p.route.element?w=p.route.element:w=f,k.createElement(sU,{match:p,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:w})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?k.createElement(iU,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:j(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):j()},null)}var DM=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(DM||{}),OM=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(OM||{});function aU(t){let e=k.useContext(vS);return e||Dr(!1),e}function lU(t){let e=k.useContext(J$);return e||Dr(!1),e}function cU(t){let e=k.useContext(_c);return e||Dr(!1),e}function LM(t){let e=cU(),n=e.matches[e.matches.length-1];return n.route.id||Dr(!1),n.route.id}function uU(){var t;let e=k.useContext(RM),n=lU(),r=LM();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function dU(){let{router:t}=aU(DM.UseNavigateStable),e=LM(OM.UseNavigateStable),n=k.useRef(!1);return IM(()=>{n.current=!0}),k.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,lm({fromRouteId:e},s)))},[t,e])}const FN={};function fU(t,e,n){FN[t]||(FN[t]=!0)}function hU(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Fo(t){Dr(!1)}function pU(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ic.Pop,navigator:s,static:o=!1,future:a}=t;Km()&&Dr(!1);let c=e.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:c,navigator:s,static:o,future:lm({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof r=="string"&&(r=dh(r));let{pathname:f="/",search:p="",hash:g="",state:m=null,key:v="default"}=r,x=k.useMemo(()=>{let T=xS(f,c);return T==null?null:{location:{pathname:T,search:p,hash:g,state:m,key:v},navigationType:i}},[c,f,p,g,m,v,i]);return x==null?null:k.createElement(ud.Provider,{value:d},k.createElement(Hx.Provider,{children:n,value:x}))}function mU(t){let{children:e,location:n}=t;return eU(bk(e),n)}new Promise(()=>{});function bk(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(r,i)=>{if(!k.isValidElement(r))return;let s=[...e,i];if(r.type===k.Fragment){n.push.apply(n,bk(r.props.children,s));return}r.type!==Fo&&Dr(!1),!r.props.index||!r.props.children||Dr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=bk(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wk(){return wk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wk.apply(this,arguments)}function gU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function yU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xU(t,e){return t.button===0&&(!e||e==="_self")&&!yU(t)}function kk(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function vU(t,e){let n=kk(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const bU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],wU="6";try{window.__reactRouterVersion=wU}catch{}const kU="startTransition",zN=yS[kU];function TU(t){let{basename:e,children:n,future:r,window:i}=t,s=k.useRef();s.current==null&&(s.current=C$({window:i,v5Compat:!0}));let o=s.current,[a,c]=k.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},f=k.useCallback(p=>{d&&zN?zN(()=>c(p)):c(p)},[c,d]);return k.useLayoutEffect(()=>o.listen(f),[o,f]),k.useEffect(()=>hU(r),[r]),k.createElement(pU,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const SU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sc=k.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:c,to:d,preventScrollReset:f,viewTransition:p}=e,g=gU(e,bU),{basename:m}=k.useContext(ud),v,x=!1;if(typeof d=="string"&&CU.test(d)&&(v=d,SU))try{let w=new URL(window.location.href),F=d.startsWith("//")?new URL(w.protocol+d):new URL(d),z=xS(F.pathname,m);F.origin===w.origin&&z!=null?d=z+F.search+F.hash:x=!0}catch{}let T=Q$(d,{relative:i}),_=_U(d,{replace:o,state:a,target:c,preventScrollReset:f,relative:i,viewTransition:p});function j(w){r&&r(w),w.defaultPrevented||_(w)}return k.createElement("a",wk({},g,{href:v||T,onClick:x||s?r:j,ref:n,target:c}))});var BN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(BN||(BN={}));var $N;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($N||($N={}));function _U(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,c=$a(),d=dd(),f=MM(t,{relative:o});return k.useCallback(p=>{if(xU(p,n)){p.preventDefault();let g=r!==void 0?r:J0(d)===J0(f);c(t,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[d,c,f,r,i,n,t,s,o,a])}function EU(t){let e=k.useRef(kk(t)),n=k.useRef(!1),r=dd(),i=k.useMemo(()=>vU(r.search,n.current?null:e.current),[r.search]),s=$a(),o=k.useCallback((a,c)=>{const d=kk(typeof a=="function"?a(i):a);n.current=!0,s("?"+d,c)},[s,i]);return[i,o]}var b0={exports:{}};const NU={},AU=Object.freeze(Object.defineProperty({__proto__:null,default:NU},Symbol.toStringTag,{value:"Module"})),jU=mS(AU);var PU=b0.exports,UN;function RU(){return UN||(UN=1,function(t){(function(e,n){function r(R,b){if(!R)throw new Error(b||"Assertion failed")}function i(R,b){R.super_=b;var A=function(){};A.prototype=b.prototype,R.prototype=new A,R.prototype.constructor=R}function s(R,b,A){if(s.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,R!==null&&((b==="le"||b==="be")&&(A=b,b=10),this._init(R||0,b||10,A||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=jU.Buffer}catch{}s.isBN=function(b){return b instanceof s?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===s.wordSize&&Array.isArray(b.words)},s.max=function(b,A){return b.cmp(A)>0?b:A},s.min=function(b,A){return b.cmp(A)<0?b:A},s.prototype._init=function(b,A,D){if(typeof b=="number")return this._initNumber(b,A,D);if(typeof b=="object")return this._initArray(b,A,D);A==="hex"&&(A=16),r(A===(A|0)&&A>=2&&A<=36),b=b.toString().replace(/\s+/g,"");var M=0;b[0]==="-"&&(M++,this.negative=1),M<b.length&&(A===16?this._parseHex(b,M,D):(this._parseBase(b,A,M),D==="le"&&this._initArray(this.toArray(),A,D)))},s.prototype._initNumber=function(b,A,D){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(r(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),D==="le"&&this._initArray(this.toArray(),A,D)},s.prototype._initArray=function(b,A,D){if(r(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var C,I,E=0;if(D==="be")for(M=b.length-1,C=0;M>=0;M-=3)I=b[M]|b[M-1]<<8|b[M-2]<<16,this.words[C]|=I<<E&67108863,this.words[C+1]=I>>>26-E&67108863,E+=24,E>=26&&(E-=26,C++);else if(D==="le")for(M=0,C=0;M<b.length;M+=3)I=b[M]|b[M+1]<<8|b[M+2]<<16,this.words[C]|=I<<E&67108863,this.words[C+1]=I>>>26-E&67108863,E+=24,E>=26&&(E-=26,C++);return this._strip()};function a(R,b){var A=R.charCodeAt(b);if(A>=48&&A<=57)return A-48;if(A>=65&&A<=70)return A-55;if(A>=97&&A<=102)return A-87;r(!1,"Invalid character in "+R)}function c(R,b,A){var D=a(R,A);return A-1>=b&&(D|=a(R,A-1)<<4),D}s.prototype._parseHex=function(b,A,D){this.length=Math.ceil((b.length-A)/6),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var C=0,I=0,E;if(D==="be")for(M=b.length-1;M>=A;M-=2)E=c(b,A,M)<<C,this.words[I]|=E&67108863,C>=18?(C-=18,I+=1,this.words[I]|=E>>>26):C+=8;else{var P=b.length-A;for(M=P%2===0?A+1:A;M<b.length;M+=2)E=c(b,A,M)<<C,this.words[I]|=E&67108863,C>=18?(C-=18,I+=1,this.words[I]|=E>>>26):C+=8}this._strip()};function d(R,b,A,D){for(var M=0,C=0,I=Math.min(R.length,A),E=b;E<I;E++){var P=R.charCodeAt(E)-48;M*=D,P>=49?C=P-49+10:P>=17?C=P-17+10:C=P,r(P>=0&&C<D,"Invalid character"),M+=C}return M}s.prototype._parseBase=function(b,A,D){this.words=[0],this.length=1;for(var M=0,C=1;C<=67108863;C*=A)M++;M--,C=C/A|0;for(var I=b.length-D,E=I%M,P=Math.min(I,I-E)+D,N=0,O=D;O<P;O+=M)N=d(b,O,O+M,A),this.imuln(C),this.words[0]+N<67108864?this.words[0]+=N:this._iaddn(N);if(E!==0){var Z=1;for(N=d(b,O,b.length,A),O=0;O<E;O++)Z*=A;this.imuln(Z),this.words[0]+N<67108864?this.words[0]+=N:this._iaddn(N)}this._strip()},s.prototype.copy=function(b){b.words=new Array(this.length);for(var A=0;A<this.length;A++)b.words[A]=this.words[A];b.length=this.length,b.negative=this.negative,b.red=this.red};function f(R,b){R.words=b.words,R.length=b.length,R.negative=b.negative,R.red=b.red}if(s.prototype._move=function(b){f(b,this)},s.prototype.clone=function(){var b=new s(null);return this.copy(b),b},s.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{s.prototype.inspect=p}else s.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(b,A){b=b||10,A=A|0||1;var D;if(b===16||b==="hex"){D="";for(var M=0,C=0,I=0;I<this.length;I++){var E=this.words[I],P=((E<<M|C)&16777215).toString(16);C=E>>>24-M&16777215,M+=2,M>=26&&(M-=26,I--),C!==0||I!==this.length-1?D=g[6-P.length]+P+D:D=P+D}for(C!==0&&(D=C.toString(16)+D);D.length%A!==0;)D="0"+D;return this.negative!==0&&(D="-"+D),D}if(b===(b|0)&&b>=2&&b<=36){var N=m[b],O=v[b];D="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var $=Z.modrn(O).toString(b);Z=Z.idivn(O),Z.isZero()?D=$+D:D=g[N-$.length]+$+D}for(this.isZero()&&(D="0"+D);D.length%A!==0;)D="0"+D;return this.negative!==0&&(D="-"+D),D}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(b,A){return this.toArrayLike(o,b,A)}),s.prototype.toArray=function(b,A){return this.toArrayLike(Array,b,A)};var x=function(b,A){return b.allocUnsafe?b.allocUnsafe(A):new b(A)};s.prototype.toArrayLike=function(b,A,D){this._strip();var M=this.byteLength(),C=D||Math.max(1,M);r(M<=C,"byte array longer than desired length"),r(C>0,"Requested array length <= 0");var I=x(b,C),E=A==="le"?"LE":"BE";return this["_toArrayLike"+E](I,M),I},s.prototype._toArrayLikeLE=function(b,A){for(var D=0,M=0,C=0,I=0;C<this.length;C++){var E=this.words[C]<<I|M;b[D++]=E&255,D<b.length&&(b[D++]=E>>8&255),D<b.length&&(b[D++]=E>>16&255),I===6?(D<b.length&&(b[D++]=E>>24&255),M=0,I=0):(M=E>>>24,I+=2)}if(D<b.length)for(b[D++]=M;D<b.length;)b[D++]=0},s.prototype._toArrayLikeBE=function(b,A){for(var D=b.length-1,M=0,C=0,I=0;C<this.length;C++){var E=this.words[C]<<I|M;b[D--]=E&255,D>=0&&(b[D--]=E>>8&255),D>=0&&(b[D--]=E>>16&255),I===6?(D>=0&&(b[D--]=E>>24&255),M=0,I=0):(M=E>>>24,I+=2)}if(D>=0)for(b[D--]=M;D>=0;)b[D--]=0},Math.clz32?s.prototype._countBits=function(b){return 32-Math.clz32(b)}:s.prototype._countBits=function(b){var A=b,D=0;return A>=4096&&(D+=13,A>>>=13),A>=64&&(D+=7,A>>>=7),A>=8&&(D+=4,A>>>=4),A>=2&&(D+=2,A>>>=2),D+A},s.prototype._zeroBits=function(b){if(b===0)return 26;var A=b,D=0;return(A&8191)===0&&(D+=13,A>>>=13),(A&127)===0&&(D+=7,A>>>=7),(A&15)===0&&(D+=4,A>>>=4),(A&3)===0&&(D+=2,A>>>=2),(A&1)===0&&D++,D},s.prototype.bitLength=function(){var b=this.words[this.length-1],A=this._countBits(b);return(this.length-1)*26+A};function T(R){for(var b=new Array(R.bitLength()),A=0;A<b.length;A++){var D=A/26|0,M=A%26;b[A]=R.words[D]>>>M&1}return b}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,A=0;A<this.length;A++){var D=this._zeroBits(this.words[A]);if(b+=D,D!==26)break}return b},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},s.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var A=0;A<b.length;A++)this.words[A]=this.words[A]|b.words[A];return this._strip()},s.prototype.ior=function(b){return r((this.negative|b.negative)===0),this.iuor(b)},s.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},s.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},s.prototype.iuand=function(b){var A;this.length>b.length?A=b:A=this;for(var D=0;D<A.length;D++)this.words[D]=this.words[D]&b.words[D];return this.length=A.length,this._strip()},s.prototype.iand=function(b){return r((this.negative|b.negative)===0),this.iuand(b)},s.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},s.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},s.prototype.iuxor=function(b){var A,D;this.length>b.length?(A=this,D=b):(A=b,D=this);for(var M=0;M<D.length;M++)this.words[M]=A.words[M]^D.words[M];if(this!==A)for(;M<A.length;M++)this.words[M]=A.words[M];return this.length=A.length,this._strip()},s.prototype.ixor=function(b){return r((this.negative|b.negative)===0),this.iuxor(b)},s.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},s.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},s.prototype.inotn=function(b){r(typeof b=="number"&&b>=0);var A=Math.ceil(b/26)|0,D=b%26;this._expand(A),D>0&&A--;for(var M=0;M<A;M++)this.words[M]=~this.words[M]&67108863;return D>0&&(this.words[M]=~this.words[M]&67108863>>26-D),this._strip()},s.prototype.notn=function(b){return this.clone().inotn(b)},s.prototype.setn=function(b,A){r(typeof b=="number"&&b>=0);var D=b/26|0,M=b%26;return this._expand(D+1),A?this.words[D]=this.words[D]|1<<M:this.words[D]=this.words[D]&~(1<<M),this._strip()},s.prototype.iadd=function(b){var A;if(this.negative!==0&&b.negative===0)return this.negative=0,A=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,A=this.isub(b),b.negative=1,A._normSign();var D,M;this.length>b.length?(D=this,M=b):(D=b,M=this);for(var C=0,I=0;I<M.length;I++)A=(D.words[I]|0)+(M.words[I]|0)+C,this.words[I]=A&67108863,C=A>>>26;for(;C!==0&&I<D.length;I++)A=(D.words[I]|0)+C,this.words[I]=A&67108863,C=A>>>26;if(this.length=D.length,C!==0)this.words[this.length]=C,this.length++;else if(D!==this)for(;I<D.length;I++)this.words[I]=D.words[I];return this},s.prototype.add=function(b){var A;return b.negative!==0&&this.negative===0?(b.negative=0,A=this.sub(b),b.negative^=1,A):b.negative===0&&this.negative!==0?(this.negative=0,A=b.sub(this),this.negative=1,A):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},s.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var A=this.iadd(b);return b.negative=1,A._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var D=this.cmp(b);if(D===0)return this.negative=0,this.length=1,this.words[0]=0,this;var M,C;D>0?(M=this,C=b):(M=b,C=this);for(var I=0,E=0;E<C.length;E++)A=(M.words[E]|0)-(C.words[E]|0)+I,I=A>>26,this.words[E]=A&67108863;for(;I!==0&&E<M.length;E++)A=(M.words[E]|0)+I,I=A>>26,this.words[E]=A&67108863;if(I===0&&E<M.length&&M!==this)for(;E<M.length;E++)this.words[E]=M.words[E];return this.length=Math.max(this.length,E),M!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(b){return this.clone().isub(b)};function _(R,b,A){A.negative=b.negative^R.negative;var D=R.length+b.length|0;A.length=D,D=D-1|0;var M=R.words[0]|0,C=b.words[0]|0,I=M*C,E=I&67108863,P=I/67108864|0;A.words[0]=E;for(var N=1;N<D;N++){for(var O=P>>>26,Z=P&67108863,$=Math.min(N,b.length-1),K=Math.max(0,N-R.length+1);K<=$;K++){var G=N-K|0;M=R.words[G]|0,C=b.words[K]|0,I=M*C+Z,O+=I/67108864|0,Z=I&67108863}A.words[N]=Z|0,P=O|0}return P!==0?A.words[N]=P|0:A.length--,A._strip()}var j=function(b,A,D){var M=b.words,C=A.words,I=D.words,E=0,P,N,O,Z=M[0]|0,$=Z&8191,K=Z>>>13,G=M[1]|0,J=G&8191,ee=G>>>13,ae=M[2]|0,se=ae&8191,pe=ae>>>13,he=M[3]|0,ue=he&8191,be=he>>>13,Ne=M[4]|0,ie=Ne&8191,De=Ne>>>13,gt=M[5]|0,Je=gt&8191,Fe=gt>>>13,Dt=M[6]|0,ot=Dt&8191,ct=Dt>>>13,bt=M[7]|0,ne=bt&8191,ce=bt>>>13,we=M[8]|0,Se=we&8191,Ae=we>>>13,Ot=M[9]|0,Ye=Ot&8191,mt=Ot>>>13,Kt=C[0]|0,jt=Kt&8191,Qe=Kt>>>13,bn=C[1]|0,Ct=bn&8191,qe=bn>>>13,Yn=C[2]|0,At=Yn&8191,_t=Yn>>>13,pn=C[3]|0,$t=pn&8191,ze=pn>>>13,Et=C[4]|0,at=Et&8191,Le=Et>>>13,Ve=C[5]|0,We=Ve&8191,Te=Ve>>>13,He=C[6]|0,Ie=He&8191,Be=He>>>13,wn=C[7]|0,Xe=wn&8191,yt=wn>>>13,Pn=C[8]|0,wt=Pn&8191,ft=Pn>>>13,Lt=C[9]|0,Ft=Lt&8191,xt=Lt>>>13;D.negative=b.negative^A.negative,D.length=19,P=Math.imul($,jt),N=Math.imul($,Qe),N=N+Math.imul(K,jt)|0,O=Math.imul(K,Qe);var Wn=(E+P|0)+((N&8191)<<13)|0;E=(O+(N>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,P=Math.imul(J,jt),N=Math.imul(J,Qe),N=N+Math.imul(ee,jt)|0,O=Math.imul(ee,Qe),P=P+Math.imul($,Ct)|0,N=N+Math.imul($,qe)|0,N=N+Math.imul(K,Ct)|0,O=O+Math.imul(K,qe)|0;var Mn=(E+P|0)+((N&8191)<<13)|0;E=(O+(N>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,P=Math.imul(se,jt),N=Math.imul(se,Qe),N=N+Math.imul(pe,jt)|0,O=Math.imul(pe,Qe),P=P+Math.imul(J,Ct)|0,N=N+Math.imul(J,qe)|0,N=N+Math.imul(ee,Ct)|0,O=O+Math.imul(ee,qe)|0,P=P+Math.imul($,At)|0,N=N+Math.imul($,_t)|0,N=N+Math.imul(K,At)|0,O=O+Math.imul(K,_t)|0;var mn=(E+P|0)+((N&8191)<<13)|0;E=(O+(N>>>13)|0)+(mn>>>26)|0,mn&=67108863,P=Math.imul(ue,jt),N=Math.imul(ue,Qe),N=N+Math.imul(be,jt)|0,O=Math.imul(be,Qe),P=P+Math.imul(se,Ct)|0,N=N+Math.imul(se,qe)|0,N=N+Math.imul(pe,Ct)|0,O=O+Math.imul(pe,qe)|0,P=P+Math.imul(J,At)|0,N=N+Math.imul(J,_t)|0,N=N+Math.imul(ee,At)|0,O=O+Math.imul(ee,_t)|0,P=P+Math.imul($,$t)|0,N=N+Math.imul($,ze)|0,N=N+Math.imul(K,$t)|0,O=O+Math.imul(K,ze)|0;var dn=(E+P|0)+((N&8191)<<13)|0;E=(O+(N>>>13)|0)+(dn>>>26)|0,dn&=67108863,P=Math.imul(ie,jt),N=Math.imul(ie,Qe),N=N+Math.imul(De,jt)|0,O=Math.imul(De,Qe),P=P+Math.imul(ue,Ct)|0,N=N+Math.imul(ue,qe)|0,N=N+Math.imul(be,Ct)|0,O=O+Math.imul(be,qe)|0,P=P+Math.imul(se,At)|0,N=N+Math.imul(se,_t)|0,N=N+Math.imul(pe,At)|0,O=O+Math.imul(pe,_t)|0,P=P+Math.imul(J,$t)|0,N=N+Math.imul(J,ze)|0,N=N+Math.imul(ee,$t)|0,O=O+Math.imul(ee,ze)|0,P=P+Math.imul($,at)|0,N=N+Math.imul($,Le)|0,N=N+Math.imul(K,at)|0,O=O+Math.imul(K,Le)|0;var Tn=(E+P|0)+((N&8191)<<13)|0;E=(O+(N>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,P=Math.imul(Je,jt),N=Math.imul(Je,Qe),N=N+Math.imul(Fe,jt)|0,O=Math.imul(Fe,Qe),P=P+Math.imul(ie,Ct)|0,N=N+Math.imul(ie,qe)|0,N=N+Math.imul(De,Ct)|0,O=O+Math.imul(De,qe)|0,P=P+Math.imul(ue,At)|0,N=N+Math.imul(ue,_t)|0,N=N+Math.imul(be,At)|0,O=O+Math.imul(be,_t)|0,P=P+Math.imul(se,$t)|0,N=N+Math.imul(se,ze)|0,N=N+Math.imul(pe,$t)|0,O=O+Math.imul(pe,ze)|0,P=P+Math.imul(J,at)|0,N=N+Math.imul(J,Le)|0,N=N+Math.imul(ee,at)|0,O=O+Math.imul(ee,Le)|0,P=P+Math.imul($,We)|0,N=N+Math.imul($,Te)|0,N=N+Math.imul(K,We)|0,O=O+Math.imul(K,Te)|0;var Ii=(E+P|0)+((N&8191)<<13)|0;E=(O+(N>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,P=Math.imul(ot,jt),N=Math.imul(ot,Qe),N=N+Math.imul(ct,jt)|0,O=Math.imul(ct,Qe),P=P+Math.imul(Je,Ct)|0,N=N+Math.imul(Je,qe)|0,N=N+Math.imul(Fe,Ct)|0,O=O+Math.imul(Fe,qe)|0,P=P+Math.imul(ie,At)|0,N=N+Math.imul(ie,_t)|0,N=N+Math.imul(De,At)|0,O=O+Math.imul(De,_t)|0,P=P+Math.imul(ue,$t)|0,N=N+Math.imul(ue,ze)|0,N=N+Math.imul(be,$t)|0,O=O+Math.imul(be,ze)|0,P=P+Math.imul(se,at)|0,N=N+Math.imul(se,Le)|0,N=N+Math.imul(pe,at)|0,O=O+Math.imul(pe,Le)|0,P=P+Math.imul(J,We)|0,N=N+Math.imul(J,Te)|0,N=N+Math.imul(ee,We)|0,O=O+Math.imul(ee,Te)|0,P=P+Math.imul($,Ie)|0,N=N+Math.imul($,Be)|0,N=N+Math.imul(K,Ie)|0,O=O+Math.imul(K,Be)|0;var Js=(E+P|0)+((N&8191)<<13)|0;E=(O+(N>>>13)|0)+(Js>>>26)|0,Js&=67108863,P=Math.imul(ne,jt),N=Math.imul(ne,Qe),N=N+Math.imul(ce,jt)|0,O=Math.imul(ce,Qe),P=P+Math.imul(ot,Ct)|0,N=N+Math.imul(ot,qe)|0,N=N+Math.imul(ct,Ct)|0,O=O+Math.imul(ct,qe)|0,P=P+Math.imul(Je,At)|0,N=N+Math.imul(Je,_t)|0,N=N+Math.imul(Fe,At)|0,O=O+Math.imul(Fe,_t)|0,P=P+Math.imul(ie,$t)|0,N=N+Math.imul(ie,ze)|0,N=N+Math.imul(De,$t)|0,O=O+Math.imul(De,ze)|0,P=P+Math.imul(ue,at)|0,N=N+Math.imul(ue,Le)|0,N=N+Math.imul(be,at)|0,O=O+Math.imul(be,Le)|0,P=P+Math.imul(se,We)|0,N=N+Math.imul(se,Te)|0,N=N+Math.imul(pe,We)|0,O=O+Math.imul(pe,Te)|0,P=P+Math.imul(J,Ie)|0,N=N+Math.imul(J,Be)|0,N=N+Math.imul(ee,Ie)|0,O=O+Math.imul(ee,Be)|0,P=P+Math.imul($,Xe)|0,N=N+Math.imul($,yt)|0,N=N+Math.imul(K,Xe)|0,O=O+Math.imul(K,yt)|0;var zt=(E+P|0)+((N&8191)<<13)|0;E=(O+(N>>>13)|0)+(zt>>>26)|0,zt&=67108863,P=Math.imul(Se,jt),N=Math.imul(Se,Qe),N=N+Math.imul(Ae,jt)|0,O=Math.imul(Ae,Qe),P=P+Math.imul(ne,Ct)|0,N=N+Math.imul(ne,qe)|0,N=N+Math.imul(ce,Ct)|0,O=O+Math.imul(ce,qe)|0,P=P+Math.imul(ot,At)|0,N=N+Math.imul(ot,_t)|0,N=N+Math.imul(ct,At)|0,O=O+Math.imul(ct,_t)|0,P=P+Math.imul(Je,$t)|0,N=N+Math.imul(Je,ze)|0,N=N+Math.imul(Fe,$t)|0,O=O+Math.imul(Fe,ze)|0,P=P+Math.imul(ie,at)|0,N=N+Math.imul(ie,Le)|0,N=N+Math.imul(De,at)|0,O=O+Math.imul(De,Le)|0,P=P+Math.imul(ue,We)|0,N=N+Math.imul(ue,Te)|0,N=N+Math.imul(be,We)|0,O=O+Math.imul(be,Te)|0,P=P+Math.imul(se,Ie)|0,N=N+Math.imul(se,Be)|0,N=N+Math.imul(pe,Ie)|0,O=O+Math.imul(pe,Be)|0,P=P+Math.imul(J,Xe)|0,N=N+Math.imul(J,yt)|0,N=N+Math.imul(ee,Xe)|0,O=O+Math.imul(ee,yt)|0,P=P+Math.imul($,wt)|0,N=N+Math.imul($,ft)|0,N=N+Math.imul(K,wt)|0,O=O+Math.imul(K,ft)|0;var Dn=(E+P|0)+((N&8191)<<13)|0;E=(O+(N>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,P=Math.imul(Ye,jt),N=Math.imul(Ye,Qe),N=N+Math.imul(mt,jt)|0,O=Math.imul(mt,Qe),P=P+Math.imul(Se,Ct)|0,N=N+Math.imul(Se,qe)|0,N=N+Math.imul(Ae,Ct)|0,O=O+Math.imul(Ae,qe)|0,P=P+Math.imul(ne,At)|0,N=N+Math.imul(ne,_t)|0,N=N+Math.imul(ce,At)|0,O=O+Math.imul(ce,_t)|0,P=P+Math.imul(ot,$t)|0,N=N+Math.imul(ot,ze)|0,N=N+Math.imul(ct,$t)|0,O=O+Math.imul(ct,ze)|0,P=P+Math.imul(Je,at)|0,N=N+Math.imul(Je,Le)|0,N=N+Math.imul(Fe,at)|0,O=O+Math.imul(Fe,Le)|0,P=P+Math.imul(ie,We)|0,N=N+Math.imul(ie,Te)|0,N=N+Math.imul(De,We)|0,O=O+Math.imul(De,Te)|0,P=P+Math.imul(ue,Ie)|0,N=N+Math.imul(ue,Be)|0,N=N+Math.imul(be,Ie)|0,O=O+Math.imul(be,Be)|0,P=P+Math.imul(se,Xe)|0,N=N+Math.imul(se,yt)|0,N=N+Math.imul(pe,Xe)|0,O=O+Math.imul(pe,yt)|0,P=P+Math.imul(J,wt)|0,N=N+Math.imul(J,ft)|0,N=N+Math.imul(ee,wt)|0,O=O+Math.imul(ee,ft)|0,P=P+Math.imul($,Ft)|0,N=N+Math.imul($,xt)|0,N=N+Math.imul(K,Ft)|0,O=O+Math.imul(K,xt)|0;var Sr=(E+P|0)+((N&8191)<<13)|0;E=(O+(N>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,P=Math.imul(Ye,Ct),N=Math.imul(Ye,qe),N=N+Math.imul(mt,Ct)|0,O=Math.imul(mt,qe),P=P+Math.imul(Se,At)|0,N=N+Math.imul(Se,_t)|0,N=N+Math.imul(Ae,At)|0,O=O+Math.imul(Ae,_t)|0,P=P+Math.imul(ne,$t)|0,N=N+Math.imul(ne,ze)|0,N=N+Math.imul(ce,$t)|0,O=O+Math.imul(ce,ze)|0,P=P+Math.imul(ot,at)|0,N=N+Math.imul(ot,Le)|0,N=N+Math.imul(ct,at)|0,O=O+Math.imul(ct,Le)|0,P=P+Math.imul(Je,We)|0,N=N+Math.imul(Je,Te)|0,N=N+Math.imul(Fe,We)|0,O=O+Math.imul(Fe,Te)|0,P=P+Math.imul(ie,Ie)|0,N=N+Math.imul(ie,Be)|0,N=N+Math.imul(De,Ie)|0,O=O+Math.imul(De,Be)|0,P=P+Math.imul(ue,Xe)|0,N=N+Math.imul(ue,yt)|0,N=N+Math.imul(be,Xe)|0,O=O+Math.imul(be,yt)|0,P=P+Math.imul(se,wt)|0,N=N+Math.imul(se,ft)|0,N=N+Math.imul(pe,wt)|0,O=O+Math.imul(pe,ft)|0,P=P+Math.imul(J,Ft)|0,N=N+Math.imul(J,xt)|0,N=N+Math.imul(ee,Ft)|0,O=O+Math.imul(ee,xt)|0;var Qs=(E+P|0)+((N&8191)<<13)|0;E=(O+(N>>>13)|0)+(Qs>>>26)|0,Qs&=67108863,P=Math.imul(Ye,At),N=Math.imul(Ye,_t),N=N+Math.imul(mt,At)|0,O=Math.imul(mt,_t),P=P+Math.imul(Se,$t)|0,N=N+Math.imul(Se,ze)|0,N=N+Math.imul(Ae,$t)|0,O=O+Math.imul(Ae,ze)|0,P=P+Math.imul(ne,at)|0,N=N+Math.imul(ne,Le)|0,N=N+Math.imul(ce,at)|0,O=O+Math.imul(ce,Le)|0,P=P+Math.imul(ot,We)|0,N=N+Math.imul(ot,Te)|0,N=N+Math.imul(ct,We)|0,O=O+Math.imul(ct,Te)|0,P=P+Math.imul(Je,Ie)|0,N=N+Math.imul(Je,Be)|0,N=N+Math.imul(Fe,Ie)|0,O=O+Math.imul(Fe,Be)|0,P=P+Math.imul(ie,Xe)|0,N=N+Math.imul(ie,yt)|0,N=N+Math.imul(De,Xe)|0,O=O+Math.imul(De,yt)|0,P=P+Math.imul(ue,wt)|0,N=N+Math.imul(ue,ft)|0,N=N+Math.imul(be,wt)|0,O=O+Math.imul(be,ft)|0,P=P+Math.imul(se,Ft)|0,N=N+Math.imul(se,xt)|0,N=N+Math.imul(pe,Ft)|0,O=O+Math.imul(pe,xt)|0;var xs=(E+P|0)+((N&8191)<<13)|0;E=(O+(N>>>13)|0)+(xs>>>26)|0,xs&=67108863,P=Math.imul(Ye,$t),N=Math.imul(Ye,ze),N=N+Math.imul(mt,$t)|0,O=Math.imul(mt,ze),P=P+Math.imul(Se,at)|0,N=N+Math.imul(Se,Le)|0,N=N+Math.imul(Ae,at)|0,O=O+Math.imul(Ae,Le)|0,P=P+Math.imul(ne,We)|0,N=N+Math.imul(ne,Te)|0,N=N+Math.imul(ce,We)|0,O=O+Math.imul(ce,Te)|0,P=P+Math.imul(ot,Ie)|0,N=N+Math.imul(ot,Be)|0,N=N+Math.imul(ct,Ie)|0,O=O+Math.imul(ct,Be)|0,P=P+Math.imul(Je,Xe)|0,N=N+Math.imul(Je,yt)|0,N=N+Math.imul(Fe,Xe)|0,O=O+Math.imul(Fe,yt)|0,P=P+Math.imul(ie,wt)|0,N=N+Math.imul(ie,ft)|0,N=N+Math.imul(De,wt)|0,O=O+Math.imul(De,ft)|0,P=P+Math.imul(ue,Ft)|0,N=N+Math.imul(ue,xt)|0,N=N+Math.imul(be,Ft)|0,O=O+Math.imul(be,xt)|0;var vs=(E+P|0)+((N&8191)<<13)|0;E=(O+(N>>>13)|0)+(vs>>>26)|0,vs&=67108863,P=Math.imul(Ye,at),N=Math.imul(Ye,Le),N=N+Math.imul(mt,at)|0,O=Math.imul(mt,Le),P=P+Math.imul(Se,We)|0,N=N+Math.imul(Se,Te)|0,N=N+Math.imul(Ae,We)|0,O=O+Math.imul(Ae,Te)|0,P=P+Math.imul(ne,Ie)|0,N=N+Math.imul(ne,Be)|0,N=N+Math.imul(ce,Ie)|0,O=O+Math.imul(ce,Be)|0,P=P+Math.imul(ot,Xe)|0,N=N+Math.imul(ot,yt)|0,N=N+Math.imul(ct,Xe)|0,O=O+Math.imul(ct,yt)|0,P=P+Math.imul(Je,wt)|0,N=N+Math.imul(Je,ft)|0,N=N+Math.imul(Fe,wt)|0,O=O+Math.imul(Fe,ft)|0,P=P+Math.imul(ie,Ft)|0,N=N+Math.imul(ie,xt)|0,N=N+Math.imul(De,Ft)|0,O=O+Math.imul(De,xt)|0;var yr=(E+P|0)+((N&8191)<<13)|0;E=(O+(N>>>13)|0)+(yr>>>26)|0,yr&=67108863,P=Math.imul(Ye,We),N=Math.imul(Ye,Te),N=N+Math.imul(mt,We)|0,O=Math.imul(mt,Te),P=P+Math.imul(Se,Ie)|0,N=N+Math.imul(Se,Be)|0,N=N+Math.imul(Ae,Ie)|0,O=O+Math.imul(Ae,Be)|0,P=P+Math.imul(ne,Xe)|0,N=N+Math.imul(ne,yt)|0,N=N+Math.imul(ce,Xe)|0,O=O+Math.imul(ce,yt)|0,P=P+Math.imul(ot,wt)|0,N=N+Math.imul(ot,ft)|0,N=N+Math.imul(ct,wt)|0,O=O+Math.imul(ct,ft)|0,P=P+Math.imul(Je,Ft)|0,N=N+Math.imul(Je,xt)|0,N=N+Math.imul(Fe,Ft)|0,O=O+Math.imul(Fe,xt)|0;var ve=(E+P|0)+((N&8191)<<13)|0;E=(O+(N>>>13)|0)+(ve>>>26)|0,ve&=67108863,P=Math.imul(Ye,Ie),N=Math.imul(Ye,Be),N=N+Math.imul(mt,Ie)|0,O=Math.imul(mt,Be),P=P+Math.imul(Se,Xe)|0,N=N+Math.imul(Se,yt)|0,N=N+Math.imul(Ae,Xe)|0,O=O+Math.imul(Ae,yt)|0,P=P+Math.imul(ne,wt)|0,N=N+Math.imul(ne,ft)|0,N=N+Math.imul(ce,wt)|0,O=O+Math.imul(ce,ft)|0,P=P+Math.imul(ot,Ft)|0,N=N+Math.imul(ot,xt)|0,N=N+Math.imul(ct,Ft)|0,O=O+Math.imul(ct,xt)|0;var ge=(E+P|0)+((N&8191)<<13)|0;E=(O+(N>>>13)|0)+(ge>>>26)|0,ge&=67108863,P=Math.imul(Ye,Xe),N=Math.imul(Ye,yt),N=N+Math.imul(mt,Xe)|0,O=Math.imul(mt,yt),P=P+Math.imul(Se,wt)|0,N=N+Math.imul(Se,ft)|0,N=N+Math.imul(Ae,wt)|0,O=O+Math.imul(Ae,ft)|0,P=P+Math.imul(ne,Ft)|0,N=N+Math.imul(ne,xt)|0,N=N+Math.imul(ce,Ft)|0,O=O+Math.imul(ce,xt)|0;var Ce=(E+P|0)+((N&8191)<<13)|0;E=(O+(N>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,P=Math.imul(Ye,wt),N=Math.imul(Ye,ft),N=N+Math.imul(mt,wt)|0,O=Math.imul(mt,ft),P=P+Math.imul(Se,Ft)|0,N=N+Math.imul(Se,xt)|0,N=N+Math.imul(Ae,Ft)|0,O=O+Math.imul(Ae,xt)|0;var rt=(E+P|0)+((N&8191)<<13)|0;E=(O+(N>>>13)|0)+(rt>>>26)|0,rt&=67108863,P=Math.imul(Ye,Ft),N=Math.imul(Ye,xt),N=N+Math.imul(mt,Ft)|0,O=Math.imul(mt,xt);var ht=(E+P|0)+((N&8191)<<13)|0;return E=(O+(N>>>13)|0)+(ht>>>26)|0,ht&=67108863,I[0]=Wn,I[1]=Mn,I[2]=mn,I[3]=dn,I[4]=Tn,I[5]=Ii,I[6]=Js,I[7]=zt,I[8]=Dn,I[9]=Sr,I[10]=Qs,I[11]=xs,I[12]=vs,I[13]=yr,I[14]=ve,I[15]=ge,I[16]=Ce,I[17]=rt,I[18]=ht,E!==0&&(I[19]=E,D.length++),D};Math.imul||(j=_);function w(R,b,A){A.negative=b.negative^R.negative,A.length=R.length+b.length;for(var D=0,M=0,C=0;C<A.length-1;C++){var I=M;M=0;for(var E=D&67108863,P=Math.min(C,b.length-1),N=Math.max(0,C-R.length+1);N<=P;N++){var O=C-N,Z=R.words[O]|0,$=b.words[N]|0,K=Z*$,G=K&67108863;I=I+(K/67108864|0)|0,G=G+E|0,E=G&67108863,I=I+(G>>>26)|0,M+=I>>>26,I&=67108863}A.words[C]=E,D=I,I=M}return D!==0?A.words[C]=D:A.length--,A._strip()}function F(R,b,A){return w(R,b,A)}s.prototype.mulTo=function(b,A){var D,M=this.length+b.length;return this.length===10&&b.length===10?D=j(this,b,A):M<63?D=_(this,b,A):M<1024?D=w(this,b,A):D=F(this,b,A),D},s.prototype.mul=function(b){var A=new s(null);return A.words=new Array(this.length+b.length),this.mulTo(b,A)},s.prototype.mulf=function(b){var A=new s(null);return A.words=new Array(this.length+b.length),F(this,b,A)},s.prototype.imul=function(b){return this.clone().mulTo(b,this)},s.prototype.imuln=function(b){var A=b<0;A&&(b=-b),r(typeof b=="number"),r(b<67108864);for(var D=0,M=0;M<this.length;M++){var C=(this.words[M]|0)*b,I=(C&67108863)+(D&67108863);D>>=26,D+=C/67108864|0,D+=I>>>26,this.words[M]=I&67108863}return D!==0&&(this.words[M]=D,this.length++),this.length=b===0?1:this.length,A?this.ineg():this},s.prototype.muln=function(b){return this.clone().imuln(b)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(b){var A=T(b);if(A.length===0)return new s(1);for(var D=this,M=0;M<A.length&&A[M]===0;M++,D=D.sqr());if(++M<A.length)for(var C=D.sqr();M<A.length;M++,C=C.sqr())A[M]!==0&&(D=D.mul(C));return D},s.prototype.iushln=function(b){r(typeof b=="number"&&b>=0);var A=b%26,D=(b-A)/26,M=67108863>>>26-A<<26-A,C;if(A!==0){var I=0;for(C=0;C<this.length;C++){var E=this.words[C]&M,P=(this.words[C]|0)-E<<A;this.words[C]=P|I,I=E>>>26-A}I&&(this.words[C]=I,this.length++)}if(D!==0){for(C=this.length-1;C>=0;C--)this.words[C+D]=this.words[C];for(C=0;C<D;C++)this.words[C]=0;this.length+=D}return this._strip()},s.prototype.ishln=function(b){return r(this.negative===0),this.iushln(b)},s.prototype.iushrn=function(b,A,D){r(typeof b=="number"&&b>=0);var M;A?M=(A-A%26)/26:M=0;var C=b%26,I=Math.min((b-C)/26,this.length),E=67108863^67108863>>>C<<C,P=D;if(M-=I,M=Math.max(0,M),P){for(var N=0;N<I;N++)P.words[N]=this.words[N];P.length=I}if(I!==0)if(this.length>I)for(this.length-=I,N=0;N<this.length;N++)this.words[N]=this.words[N+I];else this.words[0]=0,this.length=1;var O=0;for(N=this.length-1;N>=0&&(O!==0||N>=M);N--){var Z=this.words[N]|0;this.words[N]=O<<26-C|Z>>>C,O=Z&E}return P&&O!==0&&(P.words[P.length++]=O),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(b,A,D){return r(this.negative===0),this.iushrn(b,A,D)},s.prototype.shln=function(b){return this.clone().ishln(b)},s.prototype.ushln=function(b){return this.clone().iushln(b)},s.prototype.shrn=function(b){return this.clone().ishrn(b)},s.prototype.ushrn=function(b){return this.clone().iushrn(b)},s.prototype.testn=function(b){r(typeof b=="number"&&b>=0);var A=b%26,D=(b-A)/26,M=1<<A;if(this.length<=D)return!1;var C=this.words[D];return!!(C&M)},s.prototype.imaskn=function(b){r(typeof b=="number"&&b>=0);var A=b%26,D=(b-A)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=D)return this;if(A!==0&&D++,this.length=Math.min(D,this.length),A!==0){var M=67108863^67108863>>>A<<A;this.words[this.length-1]&=M}return this._strip()},s.prototype.maskn=function(b){return this.clone().imaskn(b)},s.prototype.iaddn=function(b){return r(typeof b=="number"),r(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<=b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},s.prototype._iaddn=function(b){this.words[0]+=b;for(var A=0;A<this.length&&this.words[A]>=67108864;A++)this.words[A]-=67108864,A===this.length-1?this.words[A+1]=1:this.words[A+1]++;return this.length=Math.max(this.length,A+1),this},s.prototype.isubn=function(b){if(r(typeof b=="number"),r(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var A=0;A<this.length&&this.words[A]<0;A++)this.words[A]+=67108864,this.words[A+1]-=1;return this._strip()},s.prototype.addn=function(b){return this.clone().iaddn(b)},s.prototype.subn=function(b){return this.clone().isubn(b)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(b,A,D){var M=b.length+D,C;this._expand(M);var I,E=0;for(C=0;C<b.length;C++){I=(this.words[C+D]|0)+E;var P=(b.words[C]|0)*A;I-=P&67108863,E=(I>>26)-(P/67108864|0),this.words[C+D]=I&67108863}for(;C<this.length-D;C++)I=(this.words[C+D]|0)+E,E=I>>26,this.words[C+D]=I&67108863;if(E===0)return this._strip();for(r(E===-1),E=0,C=0;C<this.length;C++)I=-(this.words[C]|0)+E,E=I>>26,this.words[C]=I&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(b,A){var D=this.length-b.length,M=this.clone(),C=b,I=C.words[C.length-1]|0,E=this._countBits(I);D=26-E,D!==0&&(C=C.ushln(D),M.iushln(D),I=C.words[C.length-1]|0);var P=M.length-C.length,N;if(A!=="mod"){N=new s(null),N.length=P+1,N.words=new Array(N.length);for(var O=0;O<N.length;O++)N.words[O]=0}var Z=M.clone()._ishlnsubmul(C,1,P);Z.negative===0&&(M=Z,N&&(N.words[P]=1));for(var $=P-1;$>=0;$--){var K=(M.words[C.length+$]|0)*67108864+(M.words[C.length+$-1]|0);for(K=Math.min(K/I|0,67108863),M._ishlnsubmul(C,K,$);M.negative!==0;)K--,M.negative=0,M._ishlnsubmul(C,1,$),M.isZero()||(M.negative^=1);N&&(N.words[$]=K)}return N&&N._strip(),M._strip(),A!=="div"&&D!==0&&M.iushrn(D),{div:N||null,mod:M}},s.prototype.divmod=function(b,A,D){if(r(!b.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var M,C,I;return this.negative!==0&&b.negative===0?(I=this.neg().divmod(b,A),A!=="mod"&&(M=I.div.neg()),A!=="div"&&(C=I.mod.neg(),D&&C.negative!==0&&C.iadd(b)),{div:M,mod:C}):this.negative===0&&b.negative!==0?(I=this.divmod(b.neg(),A),A!=="mod"&&(M=I.div.neg()),{div:M,mod:I.mod}):(this.negative&b.negative)!==0?(I=this.neg().divmod(b.neg(),A),A!=="div"&&(C=I.mod.neg(),D&&C.negative!==0&&C.isub(b)),{div:I.div,mod:C}):b.length>this.length||this.cmp(b)<0?{div:new s(0),mod:this}:b.length===1?A==="div"?{div:this.divn(b.words[0]),mod:null}:A==="mod"?{div:null,mod:new s(this.modrn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new s(this.modrn(b.words[0]))}:this._wordDiv(b,A)},s.prototype.div=function(b){return this.divmod(b,"div",!1).div},s.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},s.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},s.prototype.divRound=function(b){var A=this.divmod(b);if(A.mod.isZero())return A.div;var D=A.div.negative!==0?A.mod.isub(b):A.mod,M=b.ushrn(1),C=b.andln(1),I=D.cmp(M);return I<0||C===1&&I===0?A.div:A.div.negative!==0?A.div.isubn(1):A.div.iaddn(1)},s.prototype.modrn=function(b){var A=b<0;A&&(b=-b),r(b<=67108863);for(var D=(1<<26)%b,M=0,C=this.length-1;C>=0;C--)M=(D*M+(this.words[C]|0))%b;return A?-M:M},s.prototype.modn=function(b){return this.modrn(b)},s.prototype.idivn=function(b){var A=b<0;A&&(b=-b),r(b<=67108863);for(var D=0,M=this.length-1;M>=0;M--){var C=(this.words[M]|0)+D*67108864;this.words[M]=C/b|0,D=C%b}return this._strip(),A?this.ineg():this},s.prototype.divn=function(b){return this.clone().idivn(b)},s.prototype.egcd=function(b){r(b.negative===0),r(!b.isZero());var A=this,D=b.clone();A.negative!==0?A=A.umod(b):A=A.clone();for(var M=new s(1),C=new s(0),I=new s(0),E=new s(1),P=0;A.isEven()&&D.isEven();)A.iushrn(1),D.iushrn(1),++P;for(var N=D.clone(),O=A.clone();!A.isZero();){for(var Z=0,$=1;(A.words[0]&$)===0&&Z<26;++Z,$<<=1);if(Z>0)for(A.iushrn(Z);Z-- >0;)(M.isOdd()||C.isOdd())&&(M.iadd(N),C.isub(O)),M.iushrn(1),C.iushrn(1);for(var K=0,G=1;(D.words[0]&G)===0&&K<26;++K,G<<=1);if(K>0)for(D.iushrn(K);K-- >0;)(I.isOdd()||E.isOdd())&&(I.iadd(N),E.isub(O)),I.iushrn(1),E.iushrn(1);A.cmp(D)>=0?(A.isub(D),M.isub(I),C.isub(E)):(D.isub(A),I.isub(M),E.isub(C))}return{a:I,b:E,gcd:D.iushln(P)}},s.prototype._invmp=function(b){r(b.negative===0),r(!b.isZero());var A=this,D=b.clone();A.negative!==0?A=A.umod(b):A=A.clone();for(var M=new s(1),C=new s(0),I=D.clone();A.cmpn(1)>0&&D.cmpn(1)>0;){for(var E=0,P=1;(A.words[0]&P)===0&&E<26;++E,P<<=1);if(E>0)for(A.iushrn(E);E-- >0;)M.isOdd()&&M.iadd(I),M.iushrn(1);for(var N=0,O=1;(D.words[0]&O)===0&&N<26;++N,O<<=1);if(N>0)for(D.iushrn(N);N-- >0;)C.isOdd()&&C.iadd(I),C.iushrn(1);A.cmp(D)>=0?(A.isub(D),M.isub(C)):(D.isub(A),C.isub(M))}var Z;return A.cmpn(1)===0?Z=M:Z=C,Z.cmpn(0)<0&&Z.iadd(b),Z},s.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var A=this.clone(),D=b.clone();A.negative=0,D.negative=0;for(var M=0;A.isEven()&&D.isEven();M++)A.iushrn(1),D.iushrn(1);do{for(;A.isEven();)A.iushrn(1);for(;D.isEven();)D.iushrn(1);var C=A.cmp(D);if(C<0){var I=A;A=D,D=I}else if(C===0||D.cmpn(1)===0)break;A.isub(D)}while(!0);return D.iushln(M)},s.prototype.invm=function(b){return this.egcd(b).a.umod(b)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(b){return this.words[0]&b},s.prototype.bincn=function(b){r(typeof b=="number");var A=b%26,D=(b-A)/26,M=1<<A;if(this.length<=D)return this._expand(D+1),this.words[D]|=M,this;for(var C=M,I=D;C!==0&&I<this.length;I++){var E=this.words[I]|0;E+=C,C=E>>>26,E&=67108863,this.words[I]=E}return C!==0&&(this.words[I]=C,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(b){var A=b<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;this._strip();var D;if(this.length>1)D=1;else{A&&(b=-b),r(b<=67108863,"Number is too big");var M=this.words[0]|0;D=M===b?0:M<b?-1:1}return this.negative!==0?-D|0:D},s.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var A=this.ucmp(b);return this.negative!==0?-A|0:A},s.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var A=0,D=this.length-1;D>=0;D--){var M=this.words[D]|0,C=b.words[D]|0;if(M!==C){M<C?A=-1:M>C&&(A=1);break}}return A},s.prototype.gtn=function(b){return this.cmpn(b)===1},s.prototype.gt=function(b){return this.cmp(b)===1},s.prototype.gten=function(b){return this.cmpn(b)>=0},s.prototype.gte=function(b){return this.cmp(b)>=0},s.prototype.ltn=function(b){return this.cmpn(b)===-1},s.prototype.lt=function(b){return this.cmp(b)===-1},s.prototype.lten=function(b){return this.cmpn(b)<=0},s.prototype.lte=function(b){return this.cmp(b)<=0},s.prototype.eqn=function(b){return this.cmpn(b)===0},s.prototype.eq=function(b){return this.cmp(b)===0},s.red=function(b){return new X(b)},s.prototype.toRed=function(b){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(b){return this.red=b,this},s.prototype.forceRed=function(b){return r(!this.red,"Already a number in reduction context"),this._forceRed(b)},s.prototype.redAdd=function(b){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},s.prototype.redIAdd=function(b){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},s.prototype.redSub=function(b){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},s.prototype.redISub=function(b){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},s.prototype.redShl=function(b){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},s.prototype.redMul=function(b){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},s.prototype.redIMul=function(b){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(b){return r(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var z={k256:null,p224:null,p192:null,p25519:null};function B(R,b){this.name=R,this.p=new s(b,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B.prototype._tmp=function(){var b=new s(null);return b.words=new Array(Math.ceil(this.n/13)),b},B.prototype.ireduce=function(b){var A=b,D;do this.split(A,this.tmp),A=this.imulK(A),A=A.iadd(this.tmp),D=A.bitLength();while(D>this.n);var M=D<this.n?-1:A.ucmp(this.p);return M===0?(A.words[0]=0,A.length=1):M>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},B.prototype.split=function(b,A){b.iushrn(this.n,0,A)},B.prototype.imulK=function(b){return b.imul(this.k)};function H(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(H,B),H.prototype.split=function(b,A){for(var D=4194303,M=Math.min(b.length,9),C=0;C<M;C++)A.words[C]=b.words[C];if(A.length=M,b.length<=9){b.words[0]=0,b.length=1;return}var I=b.words[9];for(A.words[A.length++]=I&D,C=10;C<b.length;C++){var E=b.words[C]|0;b.words[C-10]=(E&D)<<4|I>>>22,I=E}I>>>=22,b.words[C-10]=I,I===0&&b.length>10?b.length-=10:b.length-=9},H.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var A=0,D=0;D<b.length;D++){var M=b.words[D]|0;A+=M*977,b.words[D]=A&67108863,A=M*64+(A/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function Y(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(Y,B);function W(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,B);function q(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(q,B),q.prototype.imulK=function(b){for(var A=0,D=0;D<b.length;D++){var M=(b.words[D]|0)*19+A,C=M&67108863;M>>>=26,b.words[D]=C,A=M}return A!==0&&(b.words[b.length++]=A),b},s._prime=function(b){if(z[b])return z[b];var A;if(b==="k256")A=new H;else if(b==="p224")A=new Y;else if(b==="p192")A=new W;else if(b==="p25519")A=new q;else throw new Error("Unknown prime "+b);return z[b]=A,A};function X(R){if(typeof R=="string"){var b=s._prime(R);this.m=b.p,this.prime=b}else r(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}X.prototype._verify1=function(b){r(b.negative===0,"red works only with positives"),r(b.red,"red works only with red numbers")},X.prototype._verify2=function(b,A){r((b.negative|A.negative)===0,"red works only with positives"),r(b.red&&b.red===A.red,"red works only with red numbers")},X.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):(f(b,b.umod(this.m)._forceRed(this)),b)},X.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},X.prototype.add=function(b,A){this._verify2(b,A);var D=b.add(A);return D.cmp(this.m)>=0&&D.isub(this.m),D._forceRed(this)},X.prototype.iadd=function(b,A){this._verify2(b,A);var D=b.iadd(A);return D.cmp(this.m)>=0&&D.isub(this.m),D},X.prototype.sub=function(b,A){this._verify2(b,A);var D=b.sub(A);return D.cmpn(0)<0&&D.iadd(this.m),D._forceRed(this)},X.prototype.isub=function(b,A){this._verify2(b,A);var D=b.isub(A);return D.cmpn(0)<0&&D.iadd(this.m),D},X.prototype.shl=function(b,A){return this._verify1(b),this.imod(b.ushln(A))},X.prototype.imul=function(b,A){return this._verify2(b,A),this.imod(b.imul(A))},X.prototype.mul=function(b,A){return this._verify2(b,A),this.imod(b.mul(A))},X.prototype.isqr=function(b){return this.imul(b,b.clone())},X.prototype.sqr=function(b){return this.mul(b,b)},X.prototype.sqrt=function(b){if(b.isZero())return b.clone();var A=this.m.andln(3);if(r(A%2===1),A===3){var D=this.m.add(new s(1)).iushrn(2);return this.pow(b,D)}for(var M=this.m.subn(1),C=0;!M.isZero()&&M.andln(1)===0;)C++,M.iushrn(1);r(!M.isZero());var I=new s(1).toRed(this),E=I.redNeg(),P=this.m.subn(1).iushrn(1),N=this.m.bitLength();for(N=new s(2*N*N).toRed(this);this.pow(N,P).cmp(E)!==0;)N.redIAdd(E);for(var O=this.pow(N,M),Z=this.pow(b,M.addn(1).iushrn(1)),$=this.pow(b,M),K=C;$.cmp(I)!==0;){for(var G=$,J=0;G.cmp(I)!==0;J++)G=G.redSqr();r(J<K);var ee=this.pow(O,new s(1).iushln(K-J-1));Z=Z.redMul(ee),O=ee.redSqr(),$=$.redMul(O),K=J}return Z},X.prototype.invm=function(b){var A=b._invmp(this.m);return A.negative!==0?(A.negative=0,this.imod(A).redNeg()):this.imod(A)},X.prototype.pow=function(b,A){if(A.isZero())return new s(1).toRed(this);if(A.cmpn(1)===0)return b.clone();var D=4,M=new Array(1<<D);M[0]=new s(1).toRed(this),M[1]=b;for(var C=2;C<M.length;C++)M[C]=this.mul(M[C-1],b);var I=M[0],E=0,P=0,N=A.bitLength()%26;for(N===0&&(N=26),C=A.length-1;C>=0;C--){for(var O=A.words[C],Z=N-1;Z>=0;Z--){var $=O>>Z&1;if(I!==M[0]&&(I=this.sqr(I)),$===0&&E===0){P=0;continue}E<<=1,E|=$,P++,!(P!==D&&(C!==0||Z!==0))&&(I=this.mul(I,M[E]),P=0,E=0)}N=26}return I},X.prototype.convertTo=function(b){var A=b.umod(this.m);return A===b?A.clone():A},X.prototype.convertFrom=function(b){var A=b.clone();return A.red=null,A},s.mont=function(b){return new V(b)};function V(R){X.call(this,R),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(V,X),V.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},V.prototype.convertFrom=function(b){var A=this.imod(b.mul(this.rinv));return A.red=null,A},V.prototype.imul=function(b,A){if(b.isZero()||A.isZero())return b.words[0]=0,b.length=1,b;var D=b.imul(A),M=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=D.isub(M).iushrn(this.shift),I=C;return C.cmp(this.m)>=0?I=C.isub(this.m):C.cmpn(0)<0&&(I=C.iadd(this.m)),I._forceRed(this)},V.prototype.mul=function(b,A){if(b.isZero()||A.isZero())return new s(0)._forceRed(this);var D=b.mul(A),M=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=D.isub(M).iushrn(this.shift),I=C;return C.cmp(this.m)>=0?I=C.isub(this.m):C.cmpn(0)<0&&(I=C.iadd(this.m)),I._forceRed(this)},V.prototype.invm=function(b){var A=this.imod(b._invmp(this.m).mul(this.r2));return A._forceRed(this)}})(t,PU)}(b0)),b0.exports}var IU=RU();const Mt=kl(IU),MU="logger/5.8.0";let VN=!1,WN=!1;const w0={debug:1,default:2,info:2,warning:3,error:4,off:5};let qN=w0.default,_w=null;function DU(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const HN=DU();var Tk;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(Tk||(Tk={}));var qo;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(qo||(qo={}));const GN="0123456789abcdef";class le{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const r=e.toLowerCase();w0[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(qN>w0[r])&&console.log.apply(console,n)}debug(...e){this._log(le.levels.DEBUG,e)}info(...e){this._log(le.levels.INFO,e)}warn(...e){this._log(le.levels.WARNING,e)}makeError(e,n,r){if(WN)return this.makeError("censored error",n,{});n||(n=le.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(c=>{const d=r[c];try{if(d instanceof Uint8Array){let f="";for(let p=0;p<d.length;p++)f+=GN[d[p]>>4],f+=GN[d[p]&15];i.push(c+"=Uint8Array(0x"+f+")")}else i.push(c+"="+JSON.stringify(d))}catch{i.push(c+"="+JSON.stringify(r[c].toString()))}}),i.push(`code=${n}`),i.push(`version=${this.version}`);const s=e;let o="";switch(n){case qo.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case qo.CALL_EXCEPTION:case qo.INSUFFICIENT_FUNDS:case qo.MISSING_NEW:case qo.NONCE_EXPIRED:case qo.REPLACEMENT_UNDERPRICED:case qo.TRANSACTION_REPLACED:case qo.UNPREDICTABLE_GAS_LIMIT:o=n;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=n,Object.keys(r).forEach(function(c){a[c]=r[c]}),a}throwError(e,n,r){throw this.makeError(e,n,r)}throwArgumentError(e,n,r){return this.throwError(e,le.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,n,r,i){e||this.throwError(n,r,i)}assertArgument(e,n,r,i){e||this.throwArgumentError(n,r,i)}checkNormalize(e){HN&&this.throwError("platform missing String.prototype.normalize",le.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:HN})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,le.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,le.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,r){r?r=": "+r:r="",e<n&&this.throwError("missing argument"+r,le.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+r,le.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",le.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",le.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",le.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return _w||(_w=new le(MU)),_w}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",le.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),VN){if(!e)return;this.globalLogger().throwError("error censorship permanent",le.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}WN=!!e,VN=!!n}static setLogLevel(e){const n=w0[e.toLowerCase()];if(n==null){le.globalLogger().warn("invalid log level - "+e);return}qN=n}static from(e){return new le(e)}}le.errors=qo;le.levels=Tk;const OU="bytes/5.8.0",hr=new le(OU);function FM(t){return!!t.toHexString}function _f(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return _f(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function bS(t){return Qt(t)&&!(t.length%2)||fh(t)}function KN(t){return typeof t=="number"&&t==t&&t%1===0}function fh(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!KN(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const n=t[e];if(!KN(n)||n<0||n>=256)return!1}return!0}function Nt(t,e){if(e||(e={}),typeof t=="number"){hr.checkSafeUint53(t,"invalid arrayify value");const n=[];for(;t;)n.unshift(t&255),t=parseInt(String(t/256));return n.length===0&&n.push(0),_f(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),FM(t)&&(t=t.toHexString()),Qt(t)){let n=t.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":hr.throwArgumentError("hex data is odd-length","value",t));const r=[];for(let i=0;i<n.length;i+=2)r.push(parseInt(n.substring(i,i+2),16));return _f(new Uint8Array(r))}return fh(t)?_f(new Uint8Array(t)):hr.throwArgumentError("invalid arrayify value","value",t)}function Ls(t){const e=t.map(i=>Nt(i)),n=e.reduce((i,s)=>i+s.length,0),r=new Uint8Array(n);return e.reduce((i,s)=>(r.set(s,i),i+s.length),0),_f(r)}function Wf(t){let e=Nt(t);if(e.length===0)return e;let n=0;for(;n<e.length&&e[n]===0;)n++;return n&&(e=e.slice(n)),e}function LU(t,e){t=Nt(t),t.length>e&&hr.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(e);return n.set(t,e-t.length),_f(n)}function Qt(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Ew="0123456789abcdef";function dt(t,e){if(e||(e={}),typeof t=="number"){hr.checkSafeUint53(t,"invalid hexlify value");let n="";for(;t;)n=Ew[t&15]+n,t=Math.floor(t/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),FM(t))return t.toHexString();if(Qt(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":hr.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(fh(t)){let n="0x";for(let r=0;r<t.length;r++){let i=t[r];n+=Ew[(i&240)>>4]+Ew[i&15]}return n}return hr.throwArgumentError("invalid hexlify value","value",t)}function Hu(t){if(typeof t!="string")t=dt(t);else if(!Qt(t)||t.length%2)return null;return(t.length-2)/2}function ki(t,e,n){return typeof t!="string"?t=dt(t):(!Qt(t)||t.length%2)&&hr.throwArgumentError("invalid hexData","value",t),e=2+2*e,n!=null?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function cs(t){let e="0x";return t.forEach(n=>{e+=dt(n).substring(2)}),e}function Gx(t){const e=FU(dt(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function FU(t){typeof t!="string"&&(t=dt(t)),Qt(t)||hr.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function nr(t,e){for(typeof t!="string"?t=dt(t):Qt(t)||hr.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&hr.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Kx(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(bS(t)){let n=Nt(t);n.length===64?(e.v=27+(n[32]>>7),n[32]&=127,e.r=dt(n.slice(0,32)),e.s=dt(n.slice(32,64))):n.length===65?(e.r=dt(n.slice(0,32)),e.s=dt(n.slice(32,64)),e.v=n[64]):hr.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:hr.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=dt(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=LU(Nt(e._vs),32);e._vs=dt(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&hr.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=dt(i);e.s==null?e.s=o:e.s!==o&&hr.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?hr.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&hr.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Qt(e.r)?hr.throwArgumentError("signature missing or invalid r","signature",t):e.r=nr(e.r,32),e.s==null||!Qt(e.s)?hr.throwArgumentError("signature missing or invalid s","signature",t):e.s=nr(e.s,32);const n=Nt(e.s);n[0]>=128&&hr.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);const r=dt(n);e._vs&&(Qt(e._vs)||hr.throwArgumentError("signature invalid _vs","signature",t),e._vs=nr(e._vs,32)),e._vs==null?e._vs=r:e._vs!==r&&hr.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const zM="bignumber/5.8.0";var Q0=Mt.BN;const rl=new le(zM),Nw={},YN=9007199254740991;function zU(t){return t!=null&&(de.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||Qt(t)||typeof t=="bigint"||fh(t))}let XN=!1;class de{constructor(e,n){e!==Nw&&rl.throwError("cannot call constructor directly; use BigNumber.from",le.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return is(cn(this).fromTwos(e))}toTwos(e){return is(cn(this).toTwos(e))}abs(){return this._hex[0]==="-"?de.from(this._hex.substring(1)):this}add(e){return is(cn(this).add(cn(e)))}sub(e){return is(cn(this).sub(cn(e)))}div(e){return de.from(e).isZero()&&oo("division-by-zero","div"),is(cn(this).div(cn(e)))}mul(e){return is(cn(this).mul(cn(e)))}mod(e){const n=cn(e);return n.isNeg()&&oo("division-by-zero","mod"),is(cn(this).umod(n))}pow(e){const n=cn(e);return n.isNeg()&&oo("negative-power","pow"),is(cn(this).pow(n))}and(e){const n=cn(e);return(this.isNegative()||n.isNeg())&&oo("unbound-bitwise-result","and"),is(cn(this).and(n))}or(e){const n=cn(e);return(this.isNegative()||n.isNeg())&&oo("unbound-bitwise-result","or"),is(cn(this).or(n))}xor(e){const n=cn(e);return(this.isNegative()||n.isNeg())&&oo("unbound-bitwise-result","xor"),is(cn(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&oo("negative-width","mask"),is(cn(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&oo("negative-width","shl"),is(cn(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&oo("negative-width","shr"),is(cn(this).shrn(e))}eq(e){return cn(this).eq(cn(e))}lt(e){return cn(this).lt(cn(e))}lte(e){return cn(this).lte(cn(e))}gt(e){return cn(this).gt(cn(e))}gte(e){return cn(this).gte(cn(e))}isNegative(){return this._hex[0]==="-"}isZero(){return cn(this).isZero()}toNumber(){try{return cn(this).toNumber()}catch{oo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return rl.throwError("this platform does not support BigInt",le.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?XN||(XN=!0,rl.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?rl.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",le.errors.UNEXPECTED_ARGUMENT,{}):rl.throwError("BigNumber.toString does not accept parameters",le.errors.UNEXPECTED_ARGUMENT,{})),cn(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof de)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new de(Nw,cm(e)):e.match(/^-?[0-9]+$/)?new de(Nw,cm(new Q0(e))):rl.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&oo("underflow","BigNumber.from",e),(e>=YN||e<=-YN)&&oo("overflow","BigNumber.from",e),de.from(String(e));const n=e;if(typeof n=="bigint")return de.from(n.toString());if(fh(n))return de.from(dt(n));if(n)if(n.toHexString){const r=n.toHexString();if(typeof r=="string")return de.from(r)}else{let r=n._hex;if(r==null&&n.type==="BigNumber"&&(r=n.hex),typeof r=="string"&&(Qt(r)||r[0]==="-"&&Qt(r.substring(1))))return de.from(r)}return rl.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function cm(t){if(typeof t!="string")return cm(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&rl.throwArgumentError("invalid hex","value",t),t=cm(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function is(t){return de.from(cm(t))}function cn(t){const e=de.from(t).toHexString();return e[0]==="-"?new Q0("-"+e.substring(3),16):new Q0(e.substring(2),16)}function oo(t,e,n){const r={fault:t,operation:e};return n!=null&&(r.value=n),rl.throwError(t,le.errors.NUMERIC_FAULT,r)}function BU(t){return new Q0(t,36).toString(16)}const qi=new le(zM),Mp={},BM=de.from(0),$M=de.from(-1);function UM(t,e,n,r){const i={fault:e,operation:n};return r!==void 0&&(i.value=r),qi.throwError(t,le.errors.NUMERIC_FAULT,i)}let Dp="0";for(;Dp.length<256;)Dp+=Dp;function wS(t){if(typeof t!="number")try{t=de.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+Dp.substring(0,t):qi.throwArgumentError("invalid decimal size","decimals",t)}function k0(t,e){e==null&&(e=0);const n=wS(e);t=de.from(t);const r=t.lt(BM);r&&(t=t.mul($M));let i=t.mod(n).toString();for(;i.length<n.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(n).toString();return n.length===1?t=s:t=s+"."+i,r&&(t="-"+t),t}function ya(t,e){e==null&&(e=0);const n=wS(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&qi.throwArgumentError("invalid decimal value","value",t);const r=t.substring(0,1)==="-";r&&(t=t.substring(1)),t==="."&&qi.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&qi.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>n.length-1&&UM("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<n.length-1;)o+="0";const a=de.from(s),c=de.from(o);let d=a.mul(n).add(c);return r&&(d=d.mul($M)),d}class Ef{constructor(e,n,r,i){e!==Mp&&qi.throwError("cannot use FixedFormat constructor; use FixedFormat.from",le.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=n,this.width=r,this.decimals=i,this.name=(n?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=wS(i),Object.freeze(this)}static from(e){if(e instanceof Ef)return e;typeof e=="number"&&(e=`fixed128x${e}`);let n=!0,r=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")n=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||qi.throwArgumentError("invalid fixed format","format",e),n=s[1]!=="u",r=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,c)=>e[o]==null?c:(typeof e[o]!==a&&qi.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);n=s("signed","boolean",n),r=s("width","number",r),i=s("decimals","number",i)}return r%8&&qi.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&qi.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Ef(Mp,n,r,i)}}class si{constructor(e,n,r,i){e!==Mp&&qi.throwError("cannot use FixedNumber constructor; use FixedNumber.from",le.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=n,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&qi.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const n=ya(this._value,this.format.decimals),r=ya(e._value,e.format.decimals);return si.fromValue(n.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const n=ya(this._value,this.format.decimals),r=ya(e._value,e.format.decimals);return si.fromValue(n.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const n=ya(this._value,this.format.decimals),r=ya(e._value,e.format.decimals);return si.fromValue(n.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const n=ya(this._value,this.format.decimals),r=ya(e._value,e.format.decimals);return si.fromValue(n.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=si.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(n=n.subUnsafe(JN.toFormat(n.format))),n}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=si.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(n=n.addUnsafe(JN.toFormat(n.format))),n}round(e){e==null&&(e=0);const n=this.toString().split(".");if(n.length===1&&n.push("0"),(e<0||e>80||e%1)&&qi.throwArgumentError("invalid decimal count","decimals",e),n[1].length<=e)return this;const r=si.from("1"+Dp.substring(0,e),this.format),i=$U.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&qi.throwArgumentError("invalid byte width","width",e);const n=de.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return nr(n,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return si.fromString(this._value,e)}static fromValue(e,n,r){return r==null&&n!=null&&!zU(n)&&(r=n,n=null),n==null&&(n=0),r==null&&(r="fixed"),si.fromString(k0(e,n),Ef.from(r))}static fromString(e,n){n==null&&(n="fixed");const r=Ef.from(n),i=ya(e,r.decimals);!r.signed&&i.lt(BM)&&UM("unsigned value cannot be negative","overflow","value",e);let s=null;r.signed?s=i.toTwos(r.width).toHexString():(s=i.toHexString(),s=nr(s,r.width/8));const o=k0(i,r.decimals);return new si(Mp,s,o,r)}static fromBytes(e,n){n==null&&(n="fixed");const r=Ef.from(n);if(Nt(e).length>r.width/8)throw new Error("overflow");let i=de.from(e);r.signed&&(i=i.fromTwos(r.width));const s=i.toTwos((r.signed?0:1)+r.width).toHexString(),o=k0(i,r.decimals);return new si(Mp,s,o,r)}static from(e,n){if(typeof e=="string")return si.fromString(e,n);if(fh(e))return si.fromBytes(e,n);try{return si.fromValue(e,0,n)}catch(r){if(r.code!==le.errors.INVALID_ARGUMENT)throw r}return qi.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const JN=si.from(1),$U=si.from("0.5"),UU="properties/5.8.0";var VU=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{d(r.next(f))}catch(p){o(p)}}function c(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((r=r.apply(t,e||[])).next())})};const Z0=new le(UU);function _e(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}function Fs(t,e){for(let n=0;n<32;n++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Ar(t){return VU(this,void 0,void 0,function*(){const e=Object.keys(t).map(r=>{const i=t[r];return Promise.resolve(i).then(s=>({key:r,value:s}))});return(yield Promise.all(e)).reduce((r,i)=>(r[i.key]=i.value,r),{})})}function WU(t,e){(!t||typeof t!="object")&&Z0.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(n=>{e[n]||Z0.throwArgumentError("invalid object key - "+n,"transaction:"+n,t)})}function er(t){const e={};for(const n in t)e[n]=t[n];return e}const qU={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function VM(t){if(t==null||qU[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let n=0;n<e.length;n++){let r=null;try{r=t[e[n]]}catch{continue}if(!VM(r))return!1}return!0}return Z0.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function HU(t){if(VM(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Us(e)));if(typeof t=="object"){const e={};for(const n in t){const r=t[n];r!==void 0&&_e(e,n,Us(r))}return e}return Z0.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Us(t){return HU(t)}class Ym{constructor(e){for(const n in e)this[n]=Us(e[n])}}const Xm="abi/5.8.0",fn=new le(Xm),Gu={};let QN={calldata:!0,memory:!0,storage:!0},GU={calldata:!0,memory:!0};function ky(t,e){if(t==="bytes"||t==="string"){if(QN[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&GU[e])return!0;return(QN[e]||e==="payable")&&fn.throwArgumentError("invalid modifier","name",e),!1}function KU(t,e){let n=t;function r(a){fn.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<t.length;a++){let c=t[a];switch(c){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||r(a),o.state.allowType=!1,o.type=af(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||r(a),o.indexed=!0,o.name=""),ky(o.type,o.name)&&(o.name=""),o.type=af(o.type);let d=o;o=o.parent,o||r(a),delete d.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||r(a),o.indexed=!0,o.name=""),ky(o.type,o.name)&&(o.name=""),o.type=af(o.type);let f=i(o.parent);o.parent.components.push(f),delete o.parent,o=f;break;case" ":o.state.allowType&&o.type!==""&&(o.type=af(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||r(a),o.indexed&&r(a),o.indexed=!0,o.name=""):ky(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||r(a),o.type+=c,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||r(a),o.type+=c,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=c,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=c,delete o.state.allowArray):o.state.readArray?o.type+=c:r(a)}}return o.parent&&fn.throwArgumentError("unexpected eof","param",t),delete s.state,o.name==="indexed"?(e||r(n.length-7),o.indexed&&r(n.length-7),o.indexed=!0,o.name=""):ky(o.type,o.name)&&(o.name=""),s.type=af(s.type),s}function T0(t,e){for(let n in e)_e(t,n,e[n])}const Cn=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),YU=new RegExp(/^(.*)\[([0-9]*)\]$/);class Yr{constructor(e,n){e!==Gu&&fn.throwError("use fromString",le.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),T0(this,n);let r=this.type.match(YU);r?T0(this,{arrayLength:parseInt(r[2]||"-1"),arrayChildren:Yr.fromObject({type:r[1],components:this.components}),baseType:"array"}):T0(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Cn.sighash),Cn[e]||fn.throwArgumentError("invalid format type","format",e),e===Cn.json){let r={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(r.indexed=this.indexed),this.components&&(r.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(r)}let n="";return this.baseType==="array"?(n+=this.arrayChildren.format(e),n+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Cn.sighash&&(n+=this.type),n+="("+this.components.map(r=>r.format(e)).join(e===Cn.full?", ":",")+")"):n+=this.type,e!==Cn.sighash&&(this.indexed===!0&&(n+=" indexed"),e===Cn.full&&this.name&&(n+=" "+this.name)),n}static from(e,n){return typeof e=="string"?Yr.fromString(e,n):Yr.fromObject(e)}static fromObject(e){return Yr.isParamType(e)?e:new Yr(Gu,{name:e.name||null,type:af(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Yr.fromObject):null})}static fromString(e,n){function r(i){return Yr.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return r(KU(e,!!n))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function um(t,e){return JU(t).map(n=>Yr.fromString(n,e))}class dl{constructor(e,n){e!==Gu&&fn.throwError("use a static from method",le.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),T0(this,n),this._isFragment=!0,Object.freeze(this)}static from(e){return dl.isFragment(e)?e:typeof e=="string"?dl.fromString(e):dl.fromObject(e)}static fromObject(e){if(dl.isFragment(e))return e;switch(e.type){case"function":return _a.fromObject(e);case"event":return cl.fromObject(e);case"constructor":return Ca.fromObject(e);case"error":return Zl.fromObject(e);case"fallback":case"receive":return null}return fn.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?cl.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?_a.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?Ca.fromString(e.trim()):e.split(" ")[0]==="error"?Zl.fromString(e.substring(5).trim()):fn.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class cl extends dl{format(e){if(e||(e=Cn.sighash),Cn[e]||fn.throwArgumentError("invalid format type","format",e),e===Cn.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let n="";return e!==Cn.sighash&&(n+="event "),n+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===Cn.full?", ":",")+") ",e!==Cn.sighash&&this.anonymous&&(n+="anonymous "),n.trim()}static from(e){return typeof e=="string"?cl.fromString(e):cl.fromObject(e)}static fromObject(e){if(cl.isEventFragment(e))return e;e.type!=="event"&&fn.throwArgumentError("invalid event object","value",e);const n={name:dm(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Yr.fromObject):[],type:"event"};return new cl(Gu,n)}static fromString(e){let n=e.match(fm);n||fn.throwArgumentError("invalid event string","value",e);let r=!1;return n[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":r=!0;break;case"":break;default:fn.warn("unknown modifier: "+i)}}),cl.fromObject({name:n[1].trim(),anonymous:r,inputs:um(n[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function WM(t,e){e.gas=null;let n=t.split("@");return n.length!==1?(n.length>2&&fn.throwArgumentError("invalid human-readable ABI signature","value",t),n[1].match(/^[0-9]+$/)||fn.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=de.from(n[1]),n[0]):t}function qM(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(n=>{switch(n.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+n)}})}function HM(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&fn.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&fn.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&fn.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&fn.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&fn.throwArgumentError("unable to determine stateMutability","value",t),e}class Ca extends dl{format(e){if(e||(e=Cn.sighash),Cn[e]||fn.throwArgumentError("invalid format type","format",e),e===Cn.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});e===Cn.sighash&&fn.throwError("cannot format a constructor for sighash",le.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let n="constructor("+this.inputs.map(r=>r.format(e)).join(e===Cn.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(n+=this.stateMutability+" "),n.trim()}static from(e){return typeof e=="string"?Ca.fromString(e):Ca.fromObject(e)}static fromObject(e){if(Ca.isConstructorFragment(e))return e;e.type!=="constructor"&&fn.throwArgumentError("invalid constructor object","value",e);let n=HM(e);n.constant&&fn.throwArgumentError("constructor cannot be constant","value",e);const r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Yr.fromObject):[],payable:n.payable,stateMutability:n.stateMutability,gas:e.gas?de.from(e.gas):null};return new Ca(Gu,r)}static fromString(e){let n={type:"constructor"};e=WM(e,n);let r=e.match(fm);return(!r||r[1].trim()!=="constructor")&&fn.throwArgumentError("invalid constructor string","value",e),n.inputs=um(r[2].trim(),!1),qM(r[3].trim(),n),Ca.fromObject(n)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class _a extends Ca{format(e){if(e||(e=Cn.sighash),Cn[e]||fn.throwArgumentError("invalid format type","format",e),e===Cn.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});let n="";return e!==Cn.sighash&&(n+="function "),n+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===Cn.full?", ":",")+") ",e!==Cn.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(n+=this.stateMutability+" "):this.constant&&(n+="view "),this.outputs&&this.outputs.length&&(n+="returns ("+this.outputs.map(r=>r.format(e)).join(", ")+") "),this.gas!=null&&(n+="@"+this.gas.toString()+" ")),n.trim()}static from(e){return typeof e=="string"?_a.fromString(e):_a.fromObject(e)}static fromObject(e){if(_a.isFunctionFragment(e))return e;e.type!=="function"&&fn.throwArgumentError("invalid function object","value",e);let n=HM(e);const r={type:e.type,name:dm(e.name),constant:n.constant,inputs:e.inputs?e.inputs.map(Yr.fromObject):[],outputs:e.outputs?e.outputs.map(Yr.fromObject):[],payable:n.payable,stateMutability:n.stateMutability,gas:e.gas?de.from(e.gas):null};return new _a(Gu,r)}static fromString(e){let n={type:"function"};e=WM(e,n);let r=e.split(" returns ");r.length>2&&fn.throwArgumentError("invalid function string","value",e);let i=r[0].match(fm);if(i||fn.throwArgumentError("invalid function signature","value",e),n.name=i[1].trim(),n.name&&dm(n.name),n.inputs=um(i[2],!1),qM(i[3].trim(),n),r.length>1){let s=r[1].match(fm);(s[1].trim()!=""||s[3].trim()!="")&&fn.throwArgumentError("unexpected tokens","value",e),n.outputs=um(s[2],!1)}else n.outputs=[];return _a.fromObject(n)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function ZN(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&fn.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class Zl extends dl{format(e){if(e||(e=Cn.sighash),Cn[e]||fn.throwArgumentError("invalid format type","format",e),e===Cn.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let n="";return e!==Cn.sighash&&(n+="error "),n+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===Cn.full?", ":",")+") ",n.trim()}static from(e){return typeof e=="string"?Zl.fromString(e):Zl.fromObject(e)}static fromObject(e){if(Zl.isErrorFragment(e))return e;e.type!=="error"&&fn.throwArgumentError("invalid error object","value",e);const n={type:e.type,name:dm(e.name),inputs:e.inputs?e.inputs.map(Yr.fromObject):[]};return ZN(new Zl(Gu,n))}static fromString(e){let n={type:"error"},r=e.match(fm);return r||fn.throwArgumentError("invalid error signature","value",e),n.name=r[1].trim(),n.name&&dm(n.name),n.inputs=um(r[2],!1),ZN(Zl.fromObject(n))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function af(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const XU=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function dm(t){return(!t||!t.match(XU))&&fn.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const fm=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function JU(t){t=t.trim();let e=[],n="",r=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&r===0?(e.push(n),n=""):(n+=s,s==="("?r++:s===")"&&(r--,r===-1&&fn.throwArgumentError("unbalanced parenthesis","value",t)))}return n&&e.push(n),e}const kS=new le(Xm);function QU(t){const e=[],n=function(r,i){if(Array.isArray(i))for(let s in i){const o=r.slice();o.push(s);try{n(o,i[s])}catch(a){e.push({path:o,error:a})}}};return n([],t),e}class Tl{constructor(e,n,r,i){this.name=e,this.type=n,this.localName=r,this.dynamic=i}_throwError(e,n){kS.throwArgumentError(e,this.localName,n)}}class Sk{constructor(e){_e(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return cs(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Ls(e._data))}writeBytes(e){let n=Nt(e);const r=n.length%this.wordSize;return r&&(n=Ls([n,this._padding.slice(r)])),this._writeData(n)}_getValue(e){let n=Nt(de.from(e));return n.length>this.wordSize&&kS.throwError("value out-of-bounds",le.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:n.length}),n.length%this.wordSize&&(n=Ls([this._padding.slice(n.length%this.wordSize),n])),n}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,n=>{this._data[e]=this._getValue(n)}}}class ex{constructor(e,n,r,i){_e(this,"_data",Nt(e)),_e(this,"wordSize",n||32),_e(this,"_coerceFunc",r),_e(this,"allowLoose",i),this._offset=0}get data(){return dt(this._data)}get consumed(){return this._offset}static coerce(e,n){let r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(n=n.toNumber()),n}coerce(e,n){return this._coerceFunc?this._coerceFunc(e,n):ex.coerce(e,n)}_peekBytes(e,n,r){let i=Math.ceil(n/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&r&&this._offset+n<=this._data.length?i=n:kS.throwError("data out-of-bounds",le.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new ex(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,n){let r=this._peekBytes(0,e,!!n);return this._offset+=r.length,r.slice(0,e)}readValue(){return de.from(this.readBytes(this.wordSize))}}var Aw={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */var eA;function ZU(){return eA||(eA=1,function(t){(function(){var e="input is invalid type",n="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA3_NO_WINDOW&&(r=!1);var s=!r&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=g$:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",d="0123456789abcdef".split(""),f=[31,7936,2031616,520093696],p=[4,1024,262144,67108864],g=[1,256,65536,16777216],m=[6,1536,393216,100663296],v=[0,8,16,24],x=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],T=[224,256,384,512],_=[128,256],j=["hex","buffer","arrayBuffer","array","digest"],w={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function($){return Object.prototype.toString.call($)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function($){return typeof $=="object"&&$.buffer&&$.buffer.constructor===ArrayBuffer});for(var F=function($,K,G){return function(J){return new N($,K,$).update(J)[G]()}},z=function($,K,G){return function(J,ee){return new N($,K,ee).update(J)[G]()}},B=function($,K,G){return function(J,ee,ae,se){return b["cshake"+$].update(J,ee,ae,se)[G]()}},H=function($,K,G){return function(J,ee,ae,se){return b["kmac"+$].update(J,ee,ae,se)[G]()}},Y=function($,K,G,J){for(var ee=0;ee<j.length;++ee){var ae=j[ee];$[ae]=K(G,J,ae)}return $},W=function($,K){var G=F($,K,"hex");return G.create=function(){return new N($,K,$)},G.update=function(J){return G.create().update(J)},Y(G,F,$,K)},q=function($,K){var G=z($,K,"hex");return G.create=function(J){return new N($,K,J)},G.update=function(J,ee){return G.create(ee).update(J)},Y(G,z,$,K)},X=function($,K){var G=w[$],J=B($,K,"hex");return J.create=function(ee,ae,se){return!ae&&!se?b["shake"+$].create(ee):new N($,K,ee).bytepad([ae,se],G)},J.update=function(ee,ae,se,pe){return J.create(ae,se,pe).update(ee)},Y(J,B,$,K)},V=function($,K){var G=w[$],J=H($,K,"hex");return J.create=function(ee,ae,se){return new O($,K,ae).bytepad(["KMAC",se],G).bytepad([ee],G)},J.update=function(ee,ae,se,pe){return J.create(ee,se,pe).update(ae)},Y(J,H,$,K)},R=[{name:"keccak",padding:g,bits:T,createMethod:W},{name:"sha3",padding:m,bits:T,createMethod:W},{name:"shake",padding:f,bits:_,createMethod:q},{name:"cshake",padding:p,bits:_,createMethod:X},{name:"kmac",padding:p,bits:_,createMethod:V}],b={},A=[],D=0;D<R.length;++D)for(var M=R[D],C=M.bits,I=0;I<C.length;++I){var E=M.name+"_"+C[I];if(A.push(E),b[E]=M.createMethod(C[I],M.padding),M.name!=="sha3"){var P=M.name+C[I];A.push(P),b[P]=b[E]}}function N($,K,G){this.blocks=[],this.s=[],this.padding=K,this.outputBits=G,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-($<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=G>>5,this.extraBytes=(G&31)>>3;for(var J=0;J<50;++J)this.s[J]=0}N.prototype.update=function($){if(this.finalized)throw new Error(n);var K,G=typeof $;if(G!=="string"){if(G==="object"){if($===null)throw new Error(e);if(c&&$.constructor===ArrayBuffer)$=new Uint8Array($);else if(!Array.isArray($)&&(!c||!ArrayBuffer.isView($)))throw new Error(e)}else throw new Error(e);K=!0}for(var J=this.blocks,ee=this.byteCount,ae=$.length,se=this.blockCount,pe=0,he=this.s,ue,be;pe<ae;){if(this.reset)for(this.reset=!1,J[0]=this.block,ue=1;ue<se+1;++ue)J[ue]=0;if(K)for(ue=this.start;pe<ae&&ue<ee;++pe)J[ue>>2]|=$[pe]<<v[ue++&3];else for(ue=this.start;pe<ae&&ue<ee;++pe)be=$.charCodeAt(pe),be<128?J[ue>>2]|=be<<v[ue++&3]:be<2048?(J[ue>>2]|=(192|be>>6)<<v[ue++&3],J[ue>>2]|=(128|be&63)<<v[ue++&3]):be<55296||be>=57344?(J[ue>>2]|=(224|be>>12)<<v[ue++&3],J[ue>>2]|=(128|be>>6&63)<<v[ue++&3],J[ue>>2]|=(128|be&63)<<v[ue++&3]):(be=65536+((be&1023)<<10|$.charCodeAt(++pe)&1023),J[ue>>2]|=(240|be>>18)<<v[ue++&3],J[ue>>2]|=(128|be>>12&63)<<v[ue++&3],J[ue>>2]|=(128|be>>6&63)<<v[ue++&3],J[ue>>2]|=(128|be&63)<<v[ue++&3]);if(this.lastByteIndex=ue,ue>=ee){for(this.start=ue-ee,this.block=J[se],ue=0;ue<se;++ue)he[ue]^=J[ue];Z(he),this.reset=!0}else this.start=ue}return this},N.prototype.encode=function($,K){var G=$&255,J=1,ee=[G];for($=$>>8,G=$&255;G>0;)ee.unshift(G),$=$>>8,G=$&255,++J;return K?ee.push(J):ee.unshift(J),this.update(ee),ee.length},N.prototype.encodeString=function($){var K,G=typeof $;if(G!=="string"){if(G==="object"){if($===null)throw new Error(e);if(c&&$.constructor===ArrayBuffer)$=new Uint8Array($);else if(!Array.isArray($)&&(!c||!ArrayBuffer.isView($)))throw new Error(e)}else throw new Error(e);K=!0}var J=0,ee=$.length;if(K)J=ee;else for(var ae=0;ae<$.length;++ae){var se=$.charCodeAt(ae);se<128?J+=1:se<2048?J+=2:se<55296||se>=57344?J+=3:(se=65536+((se&1023)<<10|$.charCodeAt(++ae)&1023),J+=4)}return J+=this.encode(J*8),this.update($),J},N.prototype.bytepad=function($,K){for(var G=this.encode(K),J=0;J<$.length;++J)G+=this.encodeString($[J]);var ee=K-G%K,ae=[];return ae.length=ee,this.update(ae),this},N.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var $=this.blocks,K=this.lastByteIndex,G=this.blockCount,J=this.s;if($[K>>2]|=this.padding[K&3],this.lastByteIndex===this.byteCount)for($[0]=$[G],K=1;K<G+1;++K)$[K]=0;for($[G-1]|=2147483648,K=0;K<G;++K)J[K]^=$[K];Z(J)}},N.prototype.toString=N.prototype.hex=function(){this.finalize();for(var $=this.blockCount,K=this.s,G=this.outputBlocks,J=this.extraBytes,ee=0,ae=0,se="",pe;ae<G;){for(ee=0;ee<$&&ae<G;++ee,++ae)pe=K[ee],se+=d[pe>>4&15]+d[pe&15]+d[pe>>12&15]+d[pe>>8&15]+d[pe>>20&15]+d[pe>>16&15]+d[pe>>28&15]+d[pe>>24&15];ae%$===0&&(Z(K),ee=0)}return J&&(pe=K[ee],se+=d[pe>>4&15]+d[pe&15],J>1&&(se+=d[pe>>12&15]+d[pe>>8&15]),J>2&&(se+=d[pe>>20&15]+d[pe>>16&15])),se},N.prototype.arrayBuffer=function(){this.finalize();var $=this.blockCount,K=this.s,G=this.outputBlocks,J=this.extraBytes,ee=0,ae=0,se=this.outputBits>>3,pe;J?pe=new ArrayBuffer(G+1<<2):pe=new ArrayBuffer(se);for(var he=new Uint32Array(pe);ae<G;){for(ee=0;ee<$&&ae<G;++ee,++ae)he[ae]=K[ee];ae%$===0&&Z(K)}return J&&(he[ee]=K[ee],pe=pe.slice(0,se)),pe},N.prototype.buffer=N.prototype.arrayBuffer,N.prototype.digest=N.prototype.array=function(){this.finalize();for(var $=this.blockCount,K=this.s,G=this.outputBlocks,J=this.extraBytes,ee=0,ae=0,se=[],pe,he;ae<G;){for(ee=0;ee<$&&ae<G;++ee,++ae)pe=ae<<2,he=K[ee],se[pe]=he&255,se[pe+1]=he>>8&255,se[pe+2]=he>>16&255,se[pe+3]=he>>24&255;ae%$===0&&Z(K)}return J&&(pe=ae<<2,he=K[ee],se[pe]=he&255,J>1&&(se[pe+1]=he>>8&255),J>2&&(se[pe+2]=he>>16&255)),se};function O($,K,G){N.call(this,$,K,G)}O.prototype=new N,O.prototype.finalize=function(){return this.encode(this.outputBits,!0),N.prototype.finalize.call(this)};var Z=function($){var K,G,J,ee,ae,se,pe,he,ue,be,Ne,ie,De,gt,Je,Fe,Dt,ot,ct,bt,ne,ce,we,Se,Ae,Ot,Ye,mt,Kt,jt,Qe,bn,Ct,qe,Yn,At,_t,pn,$t,ze,Et,at,Le,Ve,We,Te,He,Ie,Be,wn,Xe,yt,Pn,wt,ft,Lt,Ft,xt,Wn,Mn,mn,dn,Tn;for(J=0;J<48;J+=2)ee=$[0]^$[10]^$[20]^$[30]^$[40],ae=$[1]^$[11]^$[21]^$[31]^$[41],se=$[2]^$[12]^$[22]^$[32]^$[42],pe=$[3]^$[13]^$[23]^$[33]^$[43],he=$[4]^$[14]^$[24]^$[34]^$[44],ue=$[5]^$[15]^$[25]^$[35]^$[45],be=$[6]^$[16]^$[26]^$[36]^$[46],Ne=$[7]^$[17]^$[27]^$[37]^$[47],ie=$[8]^$[18]^$[28]^$[38]^$[48],De=$[9]^$[19]^$[29]^$[39]^$[49],K=ie^(se<<1|pe>>>31),G=De^(pe<<1|se>>>31),$[0]^=K,$[1]^=G,$[10]^=K,$[11]^=G,$[20]^=K,$[21]^=G,$[30]^=K,$[31]^=G,$[40]^=K,$[41]^=G,K=ee^(he<<1|ue>>>31),G=ae^(ue<<1|he>>>31),$[2]^=K,$[3]^=G,$[12]^=K,$[13]^=G,$[22]^=K,$[23]^=G,$[32]^=K,$[33]^=G,$[42]^=K,$[43]^=G,K=se^(be<<1|Ne>>>31),G=pe^(Ne<<1|be>>>31),$[4]^=K,$[5]^=G,$[14]^=K,$[15]^=G,$[24]^=K,$[25]^=G,$[34]^=K,$[35]^=G,$[44]^=K,$[45]^=G,K=he^(ie<<1|De>>>31),G=ue^(De<<1|ie>>>31),$[6]^=K,$[7]^=G,$[16]^=K,$[17]^=G,$[26]^=K,$[27]^=G,$[36]^=K,$[37]^=G,$[46]^=K,$[47]^=G,K=be^(ee<<1|ae>>>31),G=Ne^(ae<<1|ee>>>31),$[8]^=K,$[9]^=G,$[18]^=K,$[19]^=G,$[28]^=K,$[29]^=G,$[38]^=K,$[39]^=G,$[48]^=K,$[49]^=G,gt=$[0],Je=$[1],Te=$[11]<<4|$[10]>>>28,He=$[10]<<4|$[11]>>>28,mt=$[20]<<3|$[21]>>>29,Kt=$[21]<<3|$[20]>>>29,Mn=$[31]<<9|$[30]>>>23,mn=$[30]<<9|$[31]>>>23,at=$[40]<<18|$[41]>>>14,Le=$[41]<<18|$[40]>>>14,qe=$[2]<<1|$[3]>>>31,Yn=$[3]<<1|$[2]>>>31,Fe=$[13]<<12|$[12]>>>20,Dt=$[12]<<12|$[13]>>>20,Ie=$[22]<<10|$[23]>>>22,Be=$[23]<<10|$[22]>>>22,jt=$[33]<<13|$[32]>>>19,Qe=$[32]<<13|$[33]>>>19,dn=$[42]<<2|$[43]>>>30,Tn=$[43]<<2|$[42]>>>30,wt=$[5]<<30|$[4]>>>2,ft=$[4]<<30|$[5]>>>2,At=$[14]<<6|$[15]>>>26,_t=$[15]<<6|$[14]>>>26,ot=$[25]<<11|$[24]>>>21,ct=$[24]<<11|$[25]>>>21,wn=$[34]<<15|$[35]>>>17,Xe=$[35]<<15|$[34]>>>17,bn=$[45]<<29|$[44]>>>3,Ct=$[44]<<29|$[45]>>>3,Se=$[6]<<28|$[7]>>>4,Ae=$[7]<<28|$[6]>>>4,Lt=$[17]<<23|$[16]>>>9,Ft=$[16]<<23|$[17]>>>9,pn=$[26]<<25|$[27]>>>7,$t=$[27]<<25|$[26]>>>7,bt=$[36]<<21|$[37]>>>11,ne=$[37]<<21|$[36]>>>11,yt=$[47]<<24|$[46]>>>8,Pn=$[46]<<24|$[47]>>>8,Ve=$[8]<<27|$[9]>>>5,We=$[9]<<27|$[8]>>>5,Ot=$[18]<<20|$[19]>>>12,Ye=$[19]<<20|$[18]>>>12,xt=$[29]<<7|$[28]>>>25,Wn=$[28]<<7|$[29]>>>25,ze=$[38]<<8|$[39]>>>24,Et=$[39]<<8|$[38]>>>24,ce=$[48]<<14|$[49]>>>18,we=$[49]<<14|$[48]>>>18,$[0]=gt^~Fe&ot,$[1]=Je^~Dt&ct,$[10]=Se^~Ot&mt,$[11]=Ae^~Ye&Kt,$[20]=qe^~At&pn,$[21]=Yn^~_t&$t,$[30]=Ve^~Te&Ie,$[31]=We^~He&Be,$[40]=wt^~Lt&xt,$[41]=ft^~Ft&Wn,$[2]=Fe^~ot&bt,$[3]=Dt^~ct&ne,$[12]=Ot^~mt&jt,$[13]=Ye^~Kt&Qe,$[22]=At^~pn&ze,$[23]=_t^~$t&Et,$[32]=Te^~Ie&wn,$[33]=He^~Be&Xe,$[42]=Lt^~xt&Mn,$[43]=Ft^~Wn&mn,$[4]=ot^~bt&ce,$[5]=ct^~ne&we,$[14]=mt^~jt&bn,$[15]=Kt^~Qe&Ct,$[24]=pn^~ze&at,$[25]=$t^~Et&Le,$[34]=Ie^~wn&yt,$[35]=Be^~Xe&Pn,$[44]=xt^~Mn&dn,$[45]=Wn^~mn&Tn,$[6]=bt^~ce&gt,$[7]=ne^~we&Je,$[16]=jt^~bn&Se,$[17]=Qe^~Ct&Ae,$[26]=ze^~at&qe,$[27]=Et^~Le&Yn,$[36]=wn^~yt&Ve,$[37]=Xe^~Pn&We,$[46]=Mn^~dn&wt,$[47]=mn^~Tn&ft,$[8]=ce^~gt&Fe,$[9]=we^~Je&Dt,$[18]=bn^~Se&Ot,$[19]=Ct^~Ae&Ye,$[28]=at^~qe&At,$[29]=Le^~Yn&_t,$[38]=yt^~Ve&Te,$[39]=Pn^~We&He,$[48]=dn^~wt&Lt,$[49]=Tn^~ft&Ft,$[0]^=x[J],$[1]^=x[J+1]};if(a)t.exports=b;else for(D=0;D<A.length;++D)i[A[D]]=b[A[D]]})()}(Aw)),Aw.exports}var e7=ZU();const t7=kl(e7);function Ur(t){return"0x"+t7.keccak_256(Nt(t))}const n7="rlp/5.8.0",ba=new le(n7);function tA(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function nA(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function GM(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(s){r=r.concat(GM(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=tA(r.length);return i.unshift(247+i.length),i.concat(r)}bS(t)||ba.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Nt(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=tA(e.length);return n.unshift(183+n.length),n.concat(e)}function Yx(t){return dt(GM(t))}function rA(t,e,n,r){const i=[];for(;n<e+1+r;){const s=KM(t,n);i.push(s.result),n+=s.consumed,n>e+1+r&&ba.throwError("child data too short",le.errors.BUFFER_OVERRUN,{})}return{consumed:1+r,result:i}}function KM(t,e){if(t.length===0&&ba.throwError("data too short",le.errors.BUFFER_OVERRUN,{}),t[e]>=248){const n=t[e]-247;e+1+n>t.length&&ba.throwError("data short segment too short",le.errors.BUFFER_OVERRUN,{});const r=nA(t,e+1,n);return e+1+n+r>t.length&&ba.throwError("data long segment too short",le.errors.BUFFER_OVERRUN,{}),rA(t,e,e+1+n,n+r)}else if(t[e]>=192){const n=t[e]-192;return e+1+n>t.length&&ba.throwError("data array too short",le.errors.BUFFER_OVERRUN,{}),rA(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;e+1+n>t.length&&ba.throwError("data array too short",le.errors.BUFFER_OVERRUN,{});const r=nA(t,e+1,n);e+1+n+r>t.length&&ba.throwError("data array too short",le.errors.BUFFER_OVERRUN,{});const i=dt(t.slice(e+1+n,e+1+n+r));return{consumed:1+n+r,result:i}}else if(t[e]>=128){const n=t[e]-128;e+1+n>t.length&&ba.throwError("data too short",le.errors.BUFFER_OVERRUN,{});const r=dt(t.slice(e+1,e+1+n));return{consumed:1+n,result:r}}return{consumed:1,result:dt(t[e])}}function TS(t){const e=Nt(t),n=KM(e,0);return n.consumed!==e.length&&ba.throwArgumentError("invalid rlp data","data",t),n.result}const r7="address/5.8.0",hf=new le(r7);function iA(t){Qt(t,20)||hf.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=Nt(Ur(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const i7=9007199254740991;function s7(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const SS={};for(let t=0;t<10;t++)SS[String(t)]=String(t);for(let t=0;t<26;t++)SS[String.fromCharCode(65+t)]=String(10+t);const sA=Math.floor(s7(i7));function o7(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>SS[r]).join("");for(;e.length>=sA;){let r=e.substring(0,sA);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}function Jr(t){let e=null;if(typeof t!="string"&&hf.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=iA(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&hf.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==o7(t)&&hf.throwArgumentError("bad icap checksum","address",t),e=BU(t.substring(4));e.length<40;)e="0"+e;e=iA("0x"+e)}else hf.throwArgumentError("invalid address","address",t);return e}function In(t){try{return Jr(t),!0}catch{}return!1}function YM(t){let e=null;try{e=Jr(t.from)}catch{hf.throwArgumentError("missing from address","transaction",t)}const n=Wf(Nt(de.from(t.nonce).toHexString()));return Jr(ki(Ur(Yx([e,n])),12))}class a7 extends Tl{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){try{n=Jr(n)}catch(r){this._throwError(r.message,n)}return e.writeValue(n)}decode(e){return Jr(nr(e.readValue().toHexString(),20))}}class l7 extends Tl{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}}const pf=new le(Xm);function XM(t,e,n){let r=null;if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let c={};r=e.map(d=>{const f=d.localName;return f||pf.throwError("cannot encode object for signature with missing names",le.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:n}),c[f]&&pf.throwError("cannot encode object for signature with duplicate names",le.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:n}),c[f]=!0,n[f]})}else pf.throwArgumentError("invalid tuple value","tuple",n);e.length!==r.length&&pf.throwArgumentError("types/value length mismatch","tuple",n);let i=new Sk(t.wordSize),s=new Sk(t.wordSize),o=[];e.forEach((c,d)=>{let f=r[d];if(c.dynamic){let p=s.length;c.encode(s,f);let g=i.writeUpdatableValue();o.push(m=>{g(m+p)})}else c.encode(i,f)}),o.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function JM(t,e){let n=[],r=t.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readValue(),c=r.subReader(a.toNumber());try{o=s.decode(c)}catch(d){if(d.code===le.errors.BUFFER_OVERRUN)throw d;o=d,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(a.code===le.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&n.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),n[a]!=null))return;const c=n[o];c instanceof Error?Object.defineProperty(n,a,{enumerable:!0,get:()=>{throw c}}):n[a]=c});for(let s=0;s<n.length;s++){const o=n[s];o instanceof Error&&Object.defineProperty(n,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(n)}class c7 extends Tl{constructor(e,n,r){const i=e.type+"["+(n>=0?n:"")+"]",s=n===-1||e.dynamic;super("array",i,r,s),this.coder=e,this.length=n}defaultValue(){const e=this.coder.defaultValue(),n=[];for(let r=0;r<this.length;r++)n.push(e);return n}encode(e,n){Array.isArray(n)||this._throwError("expected array value",n);let r=this.length;r===-1&&(r=n.length,e.writeValue(n.length)),pf.checkArgumentCount(n.length,r,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<n.length;s++)i.push(this.coder);return XM(e,i,n)}decode(e){let n=this.length;n===-1&&(n=e.readValue().toNumber(),n*32>e._data.length&&pf.throwError("insufficient data length",le.errors.BUFFER_OVERRUN,{length:e._data.length,count:n}));let r=[];for(let i=0;i<n;i++)r.push(new l7(this.coder));return e.coerce(this.name,JM(e,r))}}class u7 extends Tl{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){return e.writeValue(n?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class QM extends Tl{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=Nt(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class d7 extends QM{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,dt(super.decode(e)))}}class f7 extends Tl{constructor(e,n){let r="bytes"+String(e);super(r,r,n,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let r=Nt(n);return r.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(r)}decode(e){return e.coerce(this.name,dt(e.readBytes(this.size)))}}class h7 extends Tl{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const $e="0x0000000000000000000000000000000000000000",p7=de.from(-1),ZM=de.from(0),m7=de.from(1),e5=de.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),g7="0x0000000000000000000000000000000000000000000000000000000000000000";class y7 extends Tl{constructor(e,n,r){const i=(n?"int":"uint")+e*8;super(i,i,r,!1),this.size=e,this.signed=n}defaultValue(){return 0}encode(e,n){let r=de.from(n),i=e5.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(r.gt(s)||r.lt(s.add(m7).mul(p7)))&&this._throwError("value out-of-bounds",n)}else(r.lt(ZM)||r.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",n);return r=r.toTwos(this.size*8).mask(this.size*8),this.signed&&(r=r.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let n=e.readValue().mask(this.size*8);return this.signed&&(n=n.fromTwos(this.size*8)),e.coerce(this.name,n)}}const x7="strings/5.8.0",t5=new le(x7);var hm;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(hm||(hm={}));var Ns;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Ns||(Ns={}));function v7(t,e,n,r,i){return t5.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function n5(t,e,n,r,i){if(t===Ns.BAD_PREFIX||t===Ns.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)s++;return s}return t===Ns.OVERRUN?n.length-e-1:0}function b7(t,e,n,r,i){return t===Ns.OVERLONG?(r.push(i),0):(r.push(65533),n5(t,e,n))}const w7=Object.freeze({error:v7,ignore:n5,replace:b7});function r5(t,e){e==null&&(e=w7.error),t=Nt(t);const n=[];let r=0;for(;r<t.length;){const i=t[r++];if(i>>7===0){n.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?r+=e(Ns.UNEXPECTED_CONTINUE,r-1,t,n):r+=e(Ns.BAD_PREFIX,r-1,t,n);continue}if(r-1+s>=t.length){r+=e(Ns.OVERRUN,r-1,t,n);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let d=t[r];if((d&192)!=128){r+=e(Ns.MISSING_CONTINUE,r,t,n),a=null;break}a=a<<6|d&63,r++}if(a!==null){if(a>1114111){r+=e(Ns.OUT_OF_RANGE,r-1-s,t,n,a);continue}if(a>=55296&&a<=57343){r+=e(Ns.UTF16_SURROGATE,r-1-s,t,n,a);continue}if(a<=o){r+=e(Ns.OVERLONG,r-1-s,t,n,a);continue}n.push(a)}}return n}function Fa(t,e=hm.current){e!=hm.current&&(t5.checkNormalize(),t=t.normalize(e));let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const s=t.charCodeAt(r);if(r>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return Nt(n)}function k7(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Jm(t,e){return k7(r5(t,e))}function T7(t,e=hm.current){return r5(Fa(t,e))}class S7 extends QM{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Fa(n))}decode(e){return Jm(super.decode(e))}}class Ty extends Tl{constructor(e,n){let r=!1;const i=[];e.forEach(o=>{o.dynamic&&(r=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,n,r),this.coders=e}defaultValue(){const e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});const n=this.coders.reduce((r,i)=>{const s=i.localName;return s&&(r[s]||(r[s]=0),r[s]++),r},{});return this.coders.forEach((r,i)=>{let s=r.localName;!s||n[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,n){return XM(e,this.coders,n)}decode(e){return e.coerce(this.name,JM(e,this.coders))}}const Sy=new le(Xm),C7=new RegExp(/^bytes([0-9]*)$/),_7=new RegExp(/^(u?int)([0-9]*)$/);class E7{constructor(e){_e(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new a7(e.name);case"bool":return new u7(e.name);case"string":return new S7(e.name);case"bytes":return new d7(e.name);case"array":return new c7(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Ty((e.components||[]).map(r=>this._getCoder(r)),e.name);case"":return new h7(e.name)}let n=e.type.match(_7);if(n){let r=parseInt(n[2]||"256");return(r===0||r>256||r%8!==0)&&Sy.throwArgumentError("invalid "+n[1]+" bit length","param",e),new y7(r/8,n[1]==="int",e.name)}if(n=e.type.match(C7),n){let r=parseInt(n[1]);return(r===0||r>32)&&Sy.throwArgumentError("invalid bytes length","param",e),new f7(r,e.name)}return Sy.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,n){return new ex(e,this._getWordSize(),this.coerceFunc,n)}_getWriter(){return new Sk(this._getWordSize())}getDefaultValue(e){const n=e.map(i=>this._getCoder(Yr.from(i)));return new Ty(n,"_").defaultValue()}encode(e,n){e.length!==n.length&&Sy.throwError("types/values length mismatch",le.errors.INVALID_ARGUMENT,{count:{types:e.length,values:n.length},value:{types:e,values:n}});const r=e.map(o=>this._getCoder(Yr.from(o))),i=new Ty(r,"_"),s=this._getWriter();return i.encode(s,n),s.data}decode(e,n,r){const i=e.map(o=>this._getCoder(Yr.from(o)));return new Ty(i,"_").decode(this._getReader(Nt(n),r))}}const CS=new E7;function Au(t){return Ur(Fa(t))}const i5="hash/5.8.0";function s5(t){t=atob(t);const e=[];for(let n=0;n<t.length;n++)e.push(t.charCodeAt(n));return Nt(e)}function o5(t){t=Nt(t);let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}function a5(t,e){e==null&&(e=1);const n=[],r=n.forEach,i=function(s,o){r.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):n.push(a)})};return i(t,e),n}function N7(t){const e={};for(let n=0;n<t.length;n++){const r=t[n];e[r[0]]=r[1]}return e}function A7(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let z=1;z<r;z++)s.push(i+=n());let o=n(),a=e;e+=o;let c=0,d=0;function f(){return c==0&&(d=d<<8|t[e++],c=8),d>>--c&1}const p=31,g=Math.pow(2,p),m=g>>>1,v=m>>1,x=g-1;let T=0;for(let z=0;z<p;z++)T=T<<1|f();let _=[],j=0,w=g;for(;;){let z=Math.floor(((T-j+1)*i-1)/w),B=0,H=r;for(;H-B>1;){let q=B+H>>>1;z<s[q]?H=q:B=q}if(B==0)break;_.push(B);let Y=j+Math.floor(w*s[B]/i),W=j+Math.floor(w*s[B+1]/i)-1;for(;((Y^W)&m)==0;)T=T<<1&x|f(),Y=Y<<1&x,W=W<<1&x|1;for(;Y&~W&v;)T=T&m|T<<1&x>>>1|f(),Y=Y<<1^m,W=(W^m)<<1|m|1;j=Y,w=1+W-Y}let F=r-4;return _.map(z=>{switch(z-F){case 3:return F+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return F+256+(t[a++]<<8|t[a++]);case 1:return F+t[a++];default:return z-1}})}function j7(t){let e=0;return()=>t[e++]}function P7(t){return j7(A7(t))}function R7(t){return t&1?~t>>1:t>>1}function I7(t,e){let n=Array(t);for(let r=0;r<t;r++)n[r]=1+e();return n}function oA(t,e){let n=Array(t);for(let r=0,i=-1;r<t;r++)n[r]=i+=1+e();return n}function M7(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=R7(e());return n}function tx(t,e){let n=oA(t(),t),r=t(),i=oA(r,t),s=I7(r,t);for(let o=0;o<r;o++)for(let a=0;a<s[o];a++)n.push(i[o]+a);return e?n.map(o=>e[o]):n}function D7(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(L7(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(F7(n,t))}return N7(a5(e))}function O7(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(n)}return e}function l5(t,e,n){let r=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)M7(t,n).forEach((s,o)=>r[o].push(s));return r}function L7(t,e){let n=1+e(),r=e(),i=O7(e),s=l5(i.length,1+t,e);return a5(s.map((o,a)=>{const c=o[0],d=o.slice(1);return Array(i[a]).fill(void 0).map((f,p)=>{let g=p*r;return[c+p*n,d.map(m=>m+g)]})}))}function F7(t,e){let n=1+e();return l5(n,1+t,e).map(i=>[i[0],i.slice(1)])}function z7(t){let e=tx(t).sort((r,i)=>r-i);return n();function n(){let r=[];for(;;){let d=tx(t,e);if(d.length==0)break;r.push({set:new Set(d),node:n()})}r.sort((d,f)=>f.set.size-d.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:r,valid:s,fe0f:o,save:a,check:c}}}function B7(){return P7(s5("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Xx=B7(),$7=new Set(tx(Xx)),U7=new Set(tx(Xx)),V7=D7(Xx),W7=z7(Xx),aA=45,lA=95;function c5(t){return T7(t)}function q7(t){return t.filter(e=>e!=65039)}function u5(t){for(let e of t.split(".")){let n=c5(e);try{for(let r=n.lastIndexOf(lA)-1;r>=0;r--)if(n[r]!==lA)throw new Error("underscore only allowed at start");if(n.length>=4&&n.every(r=>r<128)&&n[2]===aA&&n[3]===aA)throw new Error("invalid label extension")}catch(r){throw new Error(`Invalid label "${e}": ${r.message}`)}}return t}function H7(t){return u5(G7(t,q7))}function G7(t,e){let n=c5(t).reverse(),r=[];for(;n.length;){let i=Y7(n);if(i){r.push(...e(i));continue}let s=n.pop();if($7.has(s)){r.push(s);continue}if(U7.has(s))continue;let o=V7[s];if(o){r.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return u5(K7(String.fromCodePoint(...r)))}function K7(t){return t.normalize("NFC")}function Y7(t,e){var n;let r=W7,i,s,o=[],a=t.length;for(;a;){let c=t[--a];if(r=(n=r.branches.find(d=>d.set.has(c)))===null||n===void 0?void 0:n.node,!r)break;if(r.save)s=c;else if(r.check&&c===s)break;o.push(c),r.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),r.valid&&(i=o.slice(),r.valid==2&&i.splice(1,1),t.length=a)}return i}const X7=new le(i5),d5=new Uint8Array(32);d5.fill(0);function cA(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function f5(t){const e=Fa(H7(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(cA(e.slice(r,i))),r=i+1);if(r>=e.length)throw new Error("invalid ENS name; empty component");return n.push(cA(e.slice(r))),n}function S0(t){typeof t!="string"&&X7.throwArgumentError("invalid ENS name; not a string","name",t);let e=d5;const n=f5(t);for(;n.length;)e=Ur(Ls([e,Ur(n.pop())]));return dt(e)}function J7(t){return dt(Ls(f5(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const n=new Uint8Array(e.length+1);return n.set(e,1),n[0]=n.length-1,n})))+"00"}var Q7=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{d(r.next(f))}catch(p){o(p)}}function c(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((r=r.apply(t,e||[])).next())})};const or=new le(i5),h5=new Uint8Array(32);h5.fill(0);const Z7=de.from(-1),p5=de.from(0),m5=de.from(1),eV=de.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function tV(t){const e=Nt(t),n=e.length%32;return n?cs([e,h5.slice(n)]):dt(e)}const nV=nr(m5.toHexString(),32),rV=nr(p5.toHexString(),32),uA={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},jw=["name","version","chainId","verifyingContract","salt"];function dA(t){return function(e){return typeof e!="string"&&or.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const iV={name:dA("name"),version:dA("version"),chainId:function(t){try{return de.from(t).toString()}catch{}return or.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Jr(t).toLowerCase()}catch{}return or.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Nt(t);if(e.length!==32)throw new Error("bad length");return dt(e)}catch{}return or.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function Pw(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const n=e[1]==="",r=parseInt(e[2]||"256");(r%8!==0||r>256||e[2]&&e[2]!==String(r))&&or.throwArgumentError("invalid numeric width","type",t);const i=eV.mask(n?r-1:r),s=n?i.add(m5).mul(Z7):p5;return function(o){const a=de.from(o);return(a.lt(s)||a.gt(i))&&or.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),nr(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return(n===0||n>32||e[1]!==String(n))&&or.throwArgumentError("invalid bytes width","type",t),function(r){return Nt(r).length!==n&&or.throwArgumentError(`invalid length for ${t}`,"value",r),tV(r)}}}switch(t){case"address":return function(e){return nr(Jr(e),32)};case"bool":return function(e){return e?nV:rV};case"bytes":return function(e){return Ur(e)};case"string":return function(e){return Au(e)}}return null}function fA(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}class Cs{constructor(e){_e(this,"types",Object.freeze(Us(e))),_e(this,"_encoderCache",{}),_e(this,"_types",{});const n={},r={},i={};Object.keys(e).forEach(a=>{n[a]={},r[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(d=>{c[d.name]&&or.throwArgumentError(`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(a)}`,"types",e),c[d.name]=!0;const f=d.type.match(/^([^\x5b]*)(\x5b|$)/)[1];f===a&&or.throwArgumentError(`circular type reference to ${JSON.stringify(f)}`,"types",e),!Pw(f)&&(r[f]||or.throwArgumentError(`unknown type ${JSON.stringify(f)}`,"types",e),r[f].push(a),n[a][f]=!0)})}const s=Object.keys(r).filter(a=>r[a].length===0);s.length===0?or.throwArgumentError("missing primary type","types",e):s.length>1&&or.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),_e(this,"primaryType",s[0]);function o(a,c){c[a]&&or.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(n[a]).forEach(d=>{r[d]&&(o(d,c),Object.keys(c).forEach(f=>{i[f][d]=!0}))}),delete c[a]}o(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=fA(a,e[a])+c.map(d=>fA(d,e[d])).join("")}}getEncoder(e){let n=this._encoderCache[e];return n||(n=this._encoderCache[e]=this._getEncoder(e)),n}_getEncoder(e){{const i=Pw(e);if(i)return i}const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const i=n[1],s=this.getEncoder(i),o=parseInt(n[3]);return a=>{o>=0&&a.length!==o&&or.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(s);return this._types[i]&&(c=c.map(Ur)),Ur(cs(c))}}const r=this.types[e];if(r){const i=Au(this._types[e]);return s=>{const o=r.map(({name:a,type:c})=>{const d=this.getEncoder(c)(s[a]);return this._types[c]?Ur(d):d});return o.unshift(i),cs(o)}}return or.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const n=this._types[e];return n||or.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Ur(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(Pw(e))return r(e,n);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&n.length!==a&&or.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",n),n.map(c=>this._visit(o,c,r))}const s=this.types[e];return s?s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,n[a],r),o),{}):or.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new Cs(e)}static getPrimaryType(e){return Cs.from(e).primaryType}static hashStruct(e,n,r){return Cs.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){const i=uA[r];i||or.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>jw.indexOf(r.name)-jw.indexOf(i.name)),Cs.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return cs(["0x1901",Cs.hashDomain(e),Cs.from(n).hash(r)])}static hash(e,n,r){return Ur(Cs.encode(e,n,r))}static resolveNames(e,n,r,i){return Q7(this,void 0,void 0,function*(){e=er(e);const s={};e.verifyingContract&&!Qt(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Cs.from(n);o.visit(r,(a,c)=>(a==="address"&&!Qt(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=o.visit(r,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:r}})}static getPayload(e,n,r){Cs.hashDomain(e);const i={},s=[];jw.forEach(c=>{const d=e[c];d!=null&&(i[c]=iV[c](d),s.push({name:c,type:uA[c]}))});const o=Cs.from(n),a=er(n);return a.EIP712Domain?or.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",n):a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,(c,d)=>{if(c.match(/^bytes(\d*)/))return dt(Nt(d));if(c.match(/^u?int/))return de.from(d).toString();switch(c){case"address":return d.toLowerCase();case"bool":return!!d;case"string":return typeof d!="string"&&or.throwArgumentError("invalid string","value",d),d}return or.throwArgumentError("unsupported type","type",c)})}}}const sr=new le(Xm);class sV extends Ym{}class oV extends Ym{}class aV extends Ym{}class Ck extends Ym{static isIndexed(e){return!!(e&&e._isIndexed)}}const lV={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function hA(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return n.error=e,n}class pm{constructor(e){let n=[];typeof e=="string"?n=JSON.parse(e):n=e,_e(this,"fragments",n.map(r=>dl.from(r)).filter(r=>r!=null)),_e(this,"_abiCoder",Fs(new.target,"getAbiCoder")()),_e(this,"functions",{}),_e(this,"errors",{}),_e(this,"events",{}),_e(this,"structs",{}),this.fragments.forEach(r=>{let i=null;switch(r.type){case"constructor":if(this.deploy){sr.warn("duplicate definition - constructor");return}_e(this,"deploy",r);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=r.format();if(i[s]){sr.warn("duplicate definition - "+s);return}i[s]=r}),this.deploy||_e(this,"deploy",Ca.from({payable:!1,type:"constructor"})),_e(this,"_isInterface",!0)}format(e){e||(e=Cn.full),e===Cn.sighash&&sr.throwArgumentError("interface does not support formatting sighash","format",e);const n=this.fragments.map(r=>r.format(e));return e===Cn.json?JSON.stringify(n.map(r=>JSON.parse(r))):n}static getAbiCoder(){return CS}static getAddress(e){return Jr(e)}static getSighash(e){return ki(Au(e.format()),0,4)}static getEventTopic(e){return Au(e.format())}getFunction(e){if(Qt(e)){for(const r in this.functions)if(e===this.getSighash(r))return this.functions[r];sr.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const r=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===r);return i.length===0?sr.throwArgumentError("no matching function","name",r):i.length>1&&sr.throwArgumentError("multiple matching functions","name",r),this.functions[i[0]]}const n=this.functions[_a.fromString(e).format()];return n||sr.throwArgumentError("no matching function","signature",e),n}getEvent(e){if(Qt(e)){const r=e.toLowerCase();for(const i in this.events)if(r===this.getEventTopic(i))return this.events[i];sr.throwArgumentError("no matching event","topichash",r)}if(e.indexOf("(")===-1){const r=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===r);return i.length===0?sr.throwArgumentError("no matching event","name",r):i.length>1&&sr.throwArgumentError("multiple matching events","name",r),this.events[i[0]]}const n=this.events[cl.fromString(e).format()];return n||sr.throwArgumentError("no matching event","signature",e),n}getError(e){if(Qt(e)){const r=Fs(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===r(s))return this.errors[i]}sr.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const r=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===r);return i.length===0?sr.throwArgumentError("no matching error","name",r):i.length>1&&sr.throwArgumentError("multiple matching errors","name",r),this.errors[i[0]]}const n=this.errors[_a.fromString(e).format()];return n||sr.throwArgumentError("no matching error","signature",e),n}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(n){try{e=this.getError(e)}catch{throw n}}return Fs(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Fs(this.constructor,"getEventTopic")(e)}_decodeParams(e,n){return this._abiCoder.decode(e,n)}_encodeParams(e,n){return this._abiCoder.encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){typeof e=="string"&&(e=this.getError(e));const r=Nt(n);return dt(r.slice(0,4))!==this.getSighash(e)&&sr.throwArgumentError(`data signature does not match error ${e.name}.`,"data",dt(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,n){return typeof e=="string"&&(e=this.getError(e)),dt(Ls([this.getSighash(e),this._encodeParams(e.inputs,n||[])]))}decodeFunctionData(e,n){typeof e=="string"&&(e=this.getFunction(e));const r=Nt(n);return dt(r.slice(0,4))!==this.getSighash(e)&&sr.throwArgumentError(`data signature does not match function ${e.name}.`,"data",dt(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,n){return typeof e=="string"&&(e=this.getFunction(e)),dt(Ls([this.getSighash(e),this._encodeParams(e.inputs,n||[])]))}decodeFunctionResult(e,n){typeof e=="string"&&(e=this.getFunction(e));let r=Nt(n),i=null,s="",o=null,a=null,c=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch{}break;case 4:{const d=dt(r.slice(0,4)),f=lV[d];if(f)o=this._abiCoder.decode(f.inputs,r.slice(4)),a=f.name,c=f.signature,f.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const p=this.getError(d);o=this._abiCoder.decode(p.inputs,r.slice(4)),a=p.name,c=p.format()}catch{}break}}return sr.throwError("call revert exception"+s,le.errors.CALL_EXCEPTION,{method:e.format(),data:dt(n),errorArgs:o,errorName:a,errorSignature:c,reason:i})}encodeFunctionResult(e,n){return typeof e=="string"&&(e=this.getFunction(e)),dt(this._abiCoder.encode(e.outputs,n||[]))}encodeFilterTopics(e,n){typeof e=="string"&&(e=this.getEvent(e)),n.length>e.inputs.length&&sr.throwError("too many arguments for "+e.format(),le.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:n});let r=[];e.anonymous||r.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?Au(o):s.type==="bytes"?Ur(dt(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=de.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),nr(dt(o),32));for(n.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&sr.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?sr.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?r.push(s.map(c=>i(a,c))):r.push(i(a,s))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){typeof e=="string"&&(e=this.getEvent(e));const r=[],i=[],s=[];return e.anonymous||r.push(this.getEventTopic(e)),n.length!==e.inputs.length&&sr.throwArgumentError("event arguments/values mismatch","values",n),e.inputs.forEach((o,a)=>{const c=n[a];if(o.indexed)if(o.type==="string")r.push(Au(c));else if(o.type==="bytes")r.push(Ur(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(this._abiCoder.encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:this._abiCoder.encode(i,s),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"&&(e=this.getEvent(e)),r!=null&&!e.anonymous){let g=this.getEventTopic(e);(!Qt(r[0],32)||r[0].toLowerCase()!==g)&&sr.throwError("fragment/topic mismatch",le.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:g,value:r[0]}),r=r.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((g,m)=>{g.indexed?g.type==="string"||g.type==="bytes"||g.baseType==="tuple"||g.baseType==="array"?(i.push(Yr.fromObject({type:"bytes32",name:g.name})),o.push(!0)):(i.push(g),o.push(!1)):(s.push(g),o.push(!1))});let a=r!=null?this._abiCoder.decode(i,Ls(r)):null,c=this._abiCoder.decode(s,n,!0),d=[],f=0,p=0;e.inputs.forEach((g,m)=>{if(g.indexed)if(a==null)d[m]=new Ck({_isIndexed:!0,hash:null});else if(o[m])d[m]=new Ck({_isIndexed:!0,hash:a[p++]});else try{d[m]=a[p++]}catch(v){d[m]=v}else try{d[m]=c[f++]}catch(v){d[m]=v}if(g.name&&d[g.name]==null){const v=d[m];v instanceof Error?Object.defineProperty(d,g.name,{enumerable:!0,get:()=>{throw hA(`property ${JSON.stringify(g.name)}`,v)}}):d[g.name]=v}});for(let g=0;g<d.length;g++){const m=d[g];m instanceof Error&&Object.defineProperty(d,g,{enumerable:!0,get:()=>{throw hA(`index ${g}`,m)}})}return Object.freeze(d)}parseTransaction(e){let n=this.getFunction(e.data.substring(0,10).toLowerCase());return n?new oV({args:this._abiCoder.decode(n.inputs,"0x"+e.data.substring(10)),functionFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n),value:de.from(e.value||"0")}):null}parseLog(e){let n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new sV({eventFragment:n,name:n.name,signature:n.format(),topic:this.getEventTopic(n),args:this.decodeEventLog(n,e.data,e.topics)})}parseError(e){const n=dt(e);let r=this.getError(n.substring(0,10).toLowerCase());return r?new aV({args:this._abiCoder.decode(r.inputs,"0x"+n.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const cV="abstract-provider/5.8.0";var uV=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{d(r.next(f))}catch(p){o(p)}}function c(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((r=r.apply(t,e||[])).next())})};const dV=new le(cV);class fV extends Ym{static isForkEvent(e){return!!(e&&e._isForkEvent)}}let _S=class g5{constructor(){dV.checkAbstract(new.target,g5),_e(this,"_isProvider",!0)}getFeeData(){return uV(this,void 0,void 0,function*(){const{block:e,gasPrice:n}=yield Ar({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let r=null,i=null,s=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,s=de.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:r,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:n}})}addListener(e,n){return this.on(e,n)}removeListener(e,n){return this.off(e,n)}static isProvider(e){return!!(e&&e._isProvider)}};const hV="abstract-signer/5.8.0";var Oo=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{d(r.next(f))}catch(p){o(p)}}function c(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((r=r.apply(t,e||[])).next())})};const co=new le(hV),pV=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],mV=[le.errors.INSUFFICIENT_FUNDS,le.errors.NONCE_EXPIRED,le.errors.REPLACEMENT_UNDERPRICED];class Qm{constructor(){co.checkAbstract(new.target,Qm),_e(this,"_isSigner",!0)}getBalance(e){return Oo(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Oo(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Oo(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const n=yield Ar(this.checkTransaction(e));return yield this.provider.estimateGas(n)})}call(e,n){return Oo(this,void 0,void 0,function*(){this._checkProvider("call");const r=yield Ar(this.checkTransaction(e));return yield this.provider.call(r,n)})}sendTransaction(e){return Oo(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const n=yield this.populateTransaction(e),r=yield this.signTransaction(n);return yield this.provider.sendTransaction(r)})}getChainId(){return Oo(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Oo(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Oo(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Oo(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const r in e)pV.indexOf(r)===-1&&co.throwArgumentError("invalid transaction key: "+r,"transaction",e);const n=er(e);return n.from==null?n.from=this.getAddress():n.from=Promise.all([Promise.resolve(n.from),this.getAddress()]).then(r=>(r[0].toLowerCase()!==r[1].toLowerCase()&&co.throwArgumentError("from address mismatch","transaction",e),r[0])),n}populateTransaction(e){return Oo(this,void 0,void 0,function*(){const n=yield Ar(this.checkTransaction(e));n.to!=null&&(n.to=Promise.resolve(n.to).then(i=>Oo(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&co.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),n.to.catch(i=>{}));const r=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||r)?co.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(n.type===0||n.type===1)&&r&&co.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1)n.gasPrice==null&&(n.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(n.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const s=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=s,n.maxPriorityFeePerGas=s}else n.maxFeePerGas==null&&(n.maxFeePerGas=i.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(r&&co.throwError("network does not support EIP-1559",le.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=i.gasPrice),n.type=0):co.throwError("failed to get consistent fee data",le.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else n.type===2&&(n.maxFeePerGas==null&&(n.maxFeePerGas=i.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return n.nonce==null&&(n.nonce=this.getTransactionCount("pending")),n.gasLimit==null&&(n.gasLimit=this.estimateGas(n).catch(i=>{if(mV.indexOf(i.code)>=0)throw i;return co.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",le.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:n})})),n.chainId==null?n.chainId=this.getChainId():n.chainId=Promise.all([Promise.resolve(n.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&co.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield Ar(n)})}_checkProvider(e){this.provider||co.throwError("missing provider",le.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class ES extends Qm{constructor(e,n){super(),_e(this,"address",e),_e(this,"provider",n||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,n){return Promise.resolve().then(()=>{co.throwError(e,le.errors.UNSUPPORTED_OPERATION,{operation:n})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,n,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new ES(this.address,e)}}var Rw={},Rn={},Iw,pA;function Zm(){if(pA)return Iw;pA=1,Iw=t;function t(e,n){if(!e)throw new Error(n||"Assertion failed")}return t.equal=function(n,r,i){if(n!=r)throw new Error(i||"Assertion failed: "+n+" != "+r)},Iw}var Cy={exports:{}},mA;function gV(){return mA||(mA=1,typeof Object.create=="function"?Cy.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Cy.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}}),Cy.exports}var gA;function Ua(){if(gA)return Rn;gA=1;var t=Zm(),e=gV();Rn.inherits=e;function n(V,R){return(V.charCodeAt(R)&64512)!==55296||R<0||R+1>=V.length?!1:(V.charCodeAt(R+1)&64512)===56320}function r(V,R){if(Array.isArray(V))return V.slice();if(!V)return[];var b=[];if(typeof V=="string")if(R){if(R==="hex")for(V=V.replace(/[^a-z0-9]+/ig,""),V.length%2!==0&&(V="0"+V),D=0;D<V.length;D+=2)b.push(parseInt(V[D]+V[D+1],16))}else for(var A=0,D=0;D<V.length;D++){var M=V.charCodeAt(D);M<128?b[A++]=M:M<2048?(b[A++]=M>>6|192,b[A++]=M&63|128):n(V,D)?(M=65536+((M&1023)<<10)+(V.charCodeAt(++D)&1023),b[A++]=M>>18|240,b[A++]=M>>12&63|128,b[A++]=M>>6&63|128,b[A++]=M&63|128):(b[A++]=M>>12|224,b[A++]=M>>6&63|128,b[A++]=M&63|128)}else for(D=0;D<V.length;D++)b[D]=V[D]|0;return b}Rn.toArray=r;function i(V){for(var R="",b=0;b<V.length;b++)R+=a(V[b].toString(16));return R}Rn.toHex=i;function s(V){var R=V>>>24|V>>>8&65280|V<<8&16711680|(V&255)<<24;return R>>>0}Rn.htonl=s;function o(V,R){for(var b="",A=0;A<V.length;A++){var D=V[A];R==="little"&&(D=s(D)),b+=c(D.toString(16))}return b}Rn.toHex32=o;function a(V){return V.length===1?"0"+V:V}Rn.zero2=a;function c(V){return V.length===7?"0"+V:V.length===6?"00"+V:V.length===5?"000"+V:V.length===4?"0000"+V:V.length===3?"00000"+V:V.length===2?"000000"+V:V.length===1?"0000000"+V:V}Rn.zero8=c;function d(V,R,b,A){var D=b-R;t(D%4===0);for(var M=new Array(D/4),C=0,I=R;C<M.length;C++,I+=4){var E;A==="big"?E=V[I]<<24|V[I+1]<<16|V[I+2]<<8|V[I+3]:E=V[I+3]<<24|V[I+2]<<16|V[I+1]<<8|V[I],M[C]=E>>>0}return M}Rn.join32=d;function f(V,R){for(var b=new Array(V.length*4),A=0,D=0;A<V.length;A++,D+=4){var M=V[A];R==="big"?(b[D]=M>>>24,b[D+1]=M>>>16&255,b[D+2]=M>>>8&255,b[D+3]=M&255):(b[D+3]=M>>>24,b[D+2]=M>>>16&255,b[D+1]=M>>>8&255,b[D]=M&255)}return b}Rn.split32=f;function p(V,R){return V>>>R|V<<32-R}Rn.rotr32=p;function g(V,R){return V<<R|V>>>32-R}Rn.rotl32=g;function m(V,R){return V+R>>>0}Rn.sum32=m;function v(V,R,b){return V+R+b>>>0}Rn.sum32_3=v;function x(V,R,b,A){return V+R+b+A>>>0}Rn.sum32_4=x;function T(V,R,b,A,D){return V+R+b+A+D>>>0}Rn.sum32_5=T;function _(V,R,b,A){var D=V[R],M=V[R+1],C=A+M>>>0,I=(C<A?1:0)+b+D;V[R]=I>>>0,V[R+1]=C}Rn.sum64=_;function j(V,R,b,A){var D=R+A>>>0,M=(D<R?1:0)+V+b;return M>>>0}Rn.sum64_hi=j;function w(V,R,b,A){var D=R+A;return D>>>0}Rn.sum64_lo=w;function F(V,R,b,A,D,M,C,I){var E=0,P=R;P=P+A>>>0,E+=P<R?1:0,P=P+M>>>0,E+=P<M?1:0,P=P+I>>>0,E+=P<I?1:0;var N=V+b+D+C+E;return N>>>0}Rn.sum64_4_hi=F;function z(V,R,b,A,D,M,C,I){var E=R+A+M+I;return E>>>0}Rn.sum64_4_lo=z;function B(V,R,b,A,D,M,C,I,E,P){var N=0,O=R;O=O+A>>>0,N+=O<R?1:0,O=O+M>>>0,N+=O<M?1:0,O=O+I>>>0,N+=O<I?1:0,O=O+P>>>0,N+=O<P?1:0;var Z=V+b+D+C+E+N;return Z>>>0}Rn.sum64_5_hi=B;function H(V,R,b,A,D,M,C,I,E,P){var N=R+A+M+I+P;return N>>>0}Rn.sum64_5_lo=H;function Y(V,R,b){var A=R<<32-b|V>>>b;return A>>>0}Rn.rotr64_hi=Y;function W(V,R,b){var A=V<<32-b|R>>>b;return A>>>0}Rn.rotr64_lo=W;function q(V,R,b){return V>>>b}Rn.shr64_hi=q;function X(V,R,b){var A=V<<32-b|R>>>b;return A>>>0}return Rn.shr64_lo=X,Rn}var Mw={},yA;function eg(){if(yA)return Mw;yA=1;var t=Ua(),e=Zm();function n(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return Mw.BlockHash=n,n.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-o,this.endian);for(var a=0;a<i.length;a+=this._delta32)this._update(i,a,a+this._delta32)}return this},n.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},n.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,a=new Array(o+this.padLength);a[0]=128;for(var c=1;c<o;c++)a[c]=0;if(i<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)a[c++]=0;a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=i>>>24&255,a[c++]=i>>>16&255,a[c++]=i>>>8&255,a[c++]=i&255}else for(a[c++]=i&255,a[c++]=i>>>8&255,a[c++]=i>>>16&255,a[c++]=i>>>24&255,a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=0,d=8;d<this.padLength;d++)a[c++]=0;return a},Mw}var lu={},ma={},xA;function y5(){if(xA)return ma;xA=1;var t=Ua(),e=t.rotr32;function n(f,p,g,m){if(f===0)return r(p,g,m);if(f===1||f===3)return s(p,g,m);if(f===2)return i(p,g,m)}ma.ft_1=n;function r(f,p,g){return f&p^~f&g}ma.ch32=r;function i(f,p,g){return f&p^f&g^p&g}ma.maj32=i;function s(f,p,g){return f^p^g}ma.p32=s;function o(f){return e(f,2)^e(f,13)^e(f,22)}ma.s0_256=o;function a(f){return e(f,6)^e(f,11)^e(f,25)}ma.s1_256=a;function c(f){return e(f,7)^e(f,18)^f>>>3}ma.g0_256=c;function d(f){return e(f,17)^e(f,19)^f>>>10}return ma.g1_256=d,ma}var Dw,vA;function yV(){if(vA)return Dw;vA=1;var t=Ua(),e=eg(),n=y5(),r=t.rotl32,i=t.sum32,s=t.sum32_5,o=n.ft_1,a=e.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(d,a),Dw=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(p,g){for(var m=this.W,v=0;v<16;v++)m[v]=p[g+v];for(;v<m.length;v++)m[v]=r(m[v-3]^m[v-8]^m[v-14]^m[v-16],1);var x=this.h[0],T=this.h[1],_=this.h[2],j=this.h[3],w=this.h[4];for(v=0;v<m.length;v++){var F=~~(v/20),z=s(r(x,5),o(F,T,_,j),w,m[v],c[F]);w=j,j=_,_=r(T,30),T=x,x=z}this.h[0]=i(this.h[0],x),this.h[1]=i(this.h[1],T),this.h[2]=i(this.h[2],_),this.h[3]=i(this.h[3],j),this.h[4]=i(this.h[4],w)},d.prototype._digest=function(p){return p==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},Dw}var Ow,bA;function x5(){if(bA)return Ow;bA=1;var t=Ua(),e=eg(),n=y5(),r=Zm(),i=t.sum32,s=t.sum32_4,o=t.sum32_5,a=n.ch32,c=n.maj32,d=n.s0_256,f=n.s1_256,p=n.g0_256,g=n.g1_256,m=e.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function x(){if(!(this instanceof x))return new x;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}return t.inherits(x,m),Ow=x,x.blockSize=512,x.outSize=256,x.hmacStrength=192,x.padLength=64,x.prototype._update=function(_,j){for(var w=this.W,F=0;F<16;F++)w[F]=_[j+F];for(;F<w.length;F++)w[F]=s(g(w[F-2]),w[F-7],p(w[F-15]),w[F-16]);var z=this.h[0],B=this.h[1],H=this.h[2],Y=this.h[3],W=this.h[4],q=this.h[5],X=this.h[6],V=this.h[7];for(r(this.k.length===w.length),F=0;F<w.length;F++){var R=o(V,f(W),a(W,q,X),this.k[F],w[F]),b=i(d(z),c(z,B,H));V=X,X=q,q=W,W=i(Y,R),Y=H,H=B,B=z,z=i(R,b)}this.h[0]=i(this.h[0],z),this.h[1]=i(this.h[1],B),this.h[2]=i(this.h[2],H),this.h[3]=i(this.h[3],Y),this.h[4]=i(this.h[4],W),this.h[5]=i(this.h[5],q),this.h[6]=i(this.h[6],X),this.h[7]=i(this.h[7],V)},x.prototype._digest=function(_){return _==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},Ow}var Lw,wA;function xV(){if(wA)return Lw;wA=1;var t=Ua(),e=x5();function n(){if(!(this instanceof n))return new n;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(n,e),Lw=n,n.blockSize=512,n.outSize=224,n.hmacStrength=192,n.padLength=64,n.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},Lw}var Fw,kA;function v5(){if(kA)return Fw;kA=1;var t=Ua(),e=eg(),n=Zm(),r=t.rotr64_hi,i=t.rotr64_lo,s=t.shr64_hi,o=t.shr64_lo,a=t.sum64,c=t.sum64_hi,d=t.sum64_lo,f=t.sum64_4_hi,p=t.sum64_4_lo,g=t.sum64_5_hi,m=t.sum64_5_lo,v=e.BlockHash,x=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function T(){if(!(this instanceof T))return new T;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=x,this.W=new Array(160)}t.inherits(T,v),Fw=T,T.blockSize=1024,T.outSize=512,T.hmacStrength=192,T.padLength=128,T.prototype._prepareBlock=function(b,A){for(var D=this.W,M=0;M<32;M++)D[M]=b[A+M];for(;M<D.length;M+=2){var C=X(D[M-4],D[M-3]),I=V(D[M-4],D[M-3]),E=D[M-14],P=D[M-13],N=W(D[M-30],D[M-29]),O=q(D[M-30],D[M-29]),Z=D[M-32],$=D[M-31];D[M]=f(C,I,E,P,N,O,Z,$),D[M+1]=p(C,I,E,P,N,O,Z,$)}},T.prototype._update=function(b,A){this._prepareBlock(b,A);var D=this.W,M=this.h[0],C=this.h[1],I=this.h[2],E=this.h[3],P=this.h[4],N=this.h[5],O=this.h[6],Z=this.h[7],$=this.h[8],K=this.h[9],G=this.h[10],J=this.h[11],ee=this.h[12],ae=this.h[13],se=this.h[14],pe=this.h[15];n(this.k.length===D.length);for(var he=0;he<D.length;he+=2){var ue=se,be=pe,Ne=H($,K),ie=Y($,K),De=_($,K,G,J,ee),gt=j($,K,G,J,ee,ae),Je=this.k[he],Fe=this.k[he+1],Dt=D[he],ot=D[he+1],ct=g(ue,be,Ne,ie,De,gt,Je,Fe,Dt,ot),bt=m(ue,be,Ne,ie,De,gt,Je,Fe,Dt,ot);ue=z(M,C),be=B(M,C),Ne=w(M,C,I,E,P),ie=F(M,C,I,E,P,N);var ne=c(ue,be,Ne,ie),ce=d(ue,be,Ne,ie);se=ee,pe=ae,ee=G,ae=J,G=$,J=K,$=c(O,Z,ct,bt),K=d(Z,Z,ct,bt),O=P,Z=N,P=I,N=E,I=M,E=C,M=c(ct,bt,ne,ce),C=d(ct,bt,ne,ce)}a(this.h,0,M,C),a(this.h,2,I,E),a(this.h,4,P,N),a(this.h,6,O,Z),a(this.h,8,$,K),a(this.h,10,G,J),a(this.h,12,ee,ae),a(this.h,14,se,pe)},T.prototype._digest=function(b){return b==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function _(R,b,A,D,M){var C=R&A^~R&M;return C<0&&(C+=4294967296),C}function j(R,b,A,D,M,C){var I=b&D^~b&C;return I<0&&(I+=4294967296),I}function w(R,b,A,D,M){var C=R&A^R&M^A&M;return C<0&&(C+=4294967296),C}function F(R,b,A,D,M,C){var I=b&D^b&C^D&C;return I<0&&(I+=4294967296),I}function z(R,b){var A=r(R,b,28),D=r(b,R,2),M=r(b,R,7),C=A^D^M;return C<0&&(C+=4294967296),C}function B(R,b){var A=i(R,b,28),D=i(b,R,2),M=i(b,R,7),C=A^D^M;return C<0&&(C+=4294967296),C}function H(R,b){var A=r(R,b,14),D=r(R,b,18),M=r(b,R,9),C=A^D^M;return C<0&&(C+=4294967296),C}function Y(R,b){var A=i(R,b,14),D=i(R,b,18),M=i(b,R,9),C=A^D^M;return C<0&&(C+=4294967296),C}function W(R,b){var A=r(R,b,1),D=r(R,b,8),M=s(R,b,7),C=A^D^M;return C<0&&(C+=4294967296),C}function q(R,b){var A=i(R,b,1),D=i(R,b,8),M=o(R,b,7),C=A^D^M;return C<0&&(C+=4294967296),C}function X(R,b){var A=r(R,b,19),D=r(b,R,29),M=s(R,b,6),C=A^D^M;return C<0&&(C+=4294967296),C}function V(R,b){var A=i(R,b,19),D=i(b,R,29),M=o(R,b,6),C=A^D^M;return C<0&&(C+=4294967296),C}return Fw}var zw,TA;function vV(){if(TA)return zw;TA=1;var t=Ua(),e=v5();function n(){if(!(this instanceof n))return new n;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(n,e),zw=n,n.blockSize=1024,n.outSize=384,n.hmacStrength=192,n.padLength=128,n.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},zw}var SA;function bV(){return SA||(SA=1,lu.sha1=yV(),lu.sha224=xV(),lu.sha256=x5(),lu.sha384=vV(),lu.sha512=v5()),lu}var Bw={},CA;function wV(){if(CA)return Bw;CA=1;var t=Ua(),e=eg(),n=t.rotl32,r=t.sum32,i=t.sum32_3,s=t.sum32_4,o=e.BlockHash;function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(a,o),Bw.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(T,_){for(var j=this.h[0],w=this.h[1],F=this.h[2],z=this.h[3],B=this.h[4],H=j,Y=w,W=F,q=z,X=B,V=0;V<80;V++){var R=r(n(s(j,c(V,w,F,z),T[p[V]+_],d(V)),m[V]),B);j=B,B=z,z=n(F,10),F=w,w=R,R=r(n(s(H,c(79-V,Y,W,q),T[g[V]+_],f(V)),v[V]),X),H=X,X=q,q=n(W,10),W=Y,Y=R}R=i(this.h[1],F,q),this.h[1]=i(this.h[2],z,X),this.h[2]=i(this.h[3],B,H),this.h[3]=i(this.h[4],j,Y),this.h[4]=i(this.h[0],w,W),this.h[0]=R},a.prototype._digest=function(T){return T==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function c(x,T,_,j){return x<=15?T^_^j:x<=31?T&_|~T&j:x<=47?(T|~_)^j:x<=63?T&j|_&~j:T^(_|~j)}function d(x){return x<=15?0:x<=31?1518500249:x<=47?1859775393:x<=63?2400959708:2840853838}function f(x){return x<=15?1352829926:x<=31?1548603684:x<=47?1836072691:x<=63?2053994217:0}var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return Bw}var $w,_A;function kV(){if(_A)return $w;_A=1;var t=Ua(),e=Zm();function n(r,i,s){if(!(this instanceof n))return new n(r,i,s);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,s))}return $w=n,n.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},n.prototype.update=function(i,s){return this.inner.update(i,s),this},n.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},$w}var EA;function TV(){return EA||(EA=1,function(t){var e=t;e.utils=Ua(),e.common=eg(),e.sha=bV(),e.ripemd=wV(),e.hmac=kV(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(Rw)),Rw}var SV=TV();const xa=kl(SV);function hh(t,e,n){return n={path:e,exports:{},require:function(r,i){return CV(r,i??n.path)}},t(n,n.exports),n.exports}function CV(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var NS=b5;function b5(t,e){if(!t)throw new Error(e||"Assertion failed")}b5.equal=function(e,n,r){if(e!=n)throw new Error(r||"Assertion failed: "+e+" != "+n)};var Xo=hh(function(t,e){var n=e;function r(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var d=0;d<o.length;d++)c[d]=o[d]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var d=0;d<o.length;d+=2)c.push(parseInt(o[d]+o[d+1],16))}else for(var d=0;d<o.length;d++){var f=o.charCodeAt(d),p=f>>8,g=f&255;p?c.push(p,g):c.push(g)}return c}n.toArray=r;function i(o){return o.length===1?"0"+o:o}n.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}n.toHex=s,n.encode=function(a,c){return c==="hex"?s(a):a}}),Ys=hh(function(t,e){var n=e;n.assert=NS,n.toArray=Xo.toArray,n.zero2=Xo.zero2,n.toHex=Xo.toHex,n.encode=Xo.encode;function r(c,d,f){var p=new Array(Math.max(c.bitLength(),f)+1),g;for(g=0;g<p.length;g+=1)p[g]=0;var m=1<<d+1,v=c.clone();for(g=0;g<p.length;g++){var x,T=v.andln(m-1);v.isOdd()?(T>(m>>1)-1?x=(m>>1)-T:x=T,v.isubn(x)):x=0,p[g]=x,v.iushrn(1)}return p}n.getNAF=r;function i(c,d){var f=[[],[]];c=c.clone(),d=d.clone();for(var p=0,g=0,m;c.cmpn(-p)>0||d.cmpn(-g)>0;){var v=c.andln(3)+p&3,x=d.andln(3)+g&3;v===3&&(v=-1),x===3&&(x=-1);var T;(v&1)===0?T=0:(m=c.andln(7)+p&7,(m===3||m===5)&&x===2?T=-v:T=v),f[0].push(T);var _;(x&1)===0?_=0:(m=d.andln(7)+g&7,(m===3||m===5)&&v===2?_=-x:_=x),f[1].push(_),2*p===T+1&&(p=1-p),2*g===_+1&&(g=1-g),c.iushrn(1),d.iushrn(1)}return f}n.getJSF=i;function s(c,d,f){var p="_"+d;c.prototype[d]=function(){return this[p]!==void 0?this[p]:this[p]=f.call(this)}}n.cachedProperty=s;function o(c){return typeof c=="string"?n.toArray(c,"hex"):c}n.parseBytes=o;function a(c){return new Mt(c,"hex","le")}n.intFromLE=a}),nx=Ys.getNAF,_V=Ys.getJSF,rx=Ys.assert;function Ec(t,e){this.type=t,this.p=new Mt(e.p,16),this.red=e.prime?Mt.red(e.prime):Mt.mont(this.p),this.zero=new Mt(0).toRed(this.red),this.one=new Mt(1).toRed(this.red),this.two=new Mt(2).toRed(this.red),this.n=e.n&&new Mt(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var fd=Ec;Ec.prototype.point=function(){throw new Error("Not implemented")};Ec.prototype.validate=function(){throw new Error("Not implemented")};Ec.prototype._fixedNafMul=function(e,n){rx(e.precomputed);var r=e._getDoubles(),i=nx(n,1,this._bitLength),s=(1<<r.step+1)-(r.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=r.step){c=0;for(var d=a+r.step-1;d>=a;d--)c=(c<<1)+i[d];o.push(c)}for(var f=this.jpoint(null,null,null),p=this.jpoint(null,null,null),g=s;g>0;g--){for(a=0;a<o.length;a++)c=o[a],c===g?p=p.mixedAdd(r.points[a]):c===-g&&(p=p.mixedAdd(r.points[a].neg()));f=f.add(p)}return f.toP()};Ec.prototype._wnafMul=function(e,n){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var s=i.points,o=nx(n,r,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var d=0;c>=0&&o[c]===0;c--)d++;if(c>=0&&d++,a=a.dblp(d),c<0)break;var f=o[c];rx(f!==0),e.type==="affine"?f>0?a=a.mixedAdd(s[f-1>>1]):a=a.mixedAdd(s[-f-1>>1].neg()):f>0?a=a.add(s[f-1>>1]):a=a.add(s[-f-1>>1].neg())}return e.type==="affine"?a.toP():a};Ec.prototype._wnafMulAdd=function(e,n,r,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,d=0,f,p,g;for(f=0;f<i;f++){g=n[f];var m=g._getNAFPoints(e);o[f]=m.wnd,a[f]=m.points}for(f=i-1;f>=1;f-=2){var v=f-1,x=f;if(o[v]!==1||o[x]!==1){c[v]=nx(r[v],o[v],this._bitLength),c[x]=nx(r[x],o[x],this._bitLength),d=Math.max(c[v].length,d),d=Math.max(c[x].length,d);continue}var T=[n[v],null,null,n[x]];n[v].y.cmp(n[x].y)===0?(T[1]=n[v].add(n[x]),T[2]=n[v].toJ().mixedAdd(n[x].neg())):n[v].y.cmp(n[x].y.redNeg())===0?(T[1]=n[v].toJ().mixedAdd(n[x]),T[2]=n[v].add(n[x].neg())):(T[1]=n[v].toJ().mixedAdd(n[x]),T[2]=n[v].toJ().mixedAdd(n[x].neg()));var _=[-3,-1,-5,-7,0,7,5,1,3],j=_V(r[v],r[x]);for(d=Math.max(j[0].length,d),c[v]=new Array(d),c[x]=new Array(d),p=0;p<d;p++){var w=j[0][p]|0,F=j[1][p]|0;c[v][p]=_[(w+1)*3+(F+1)],c[x][p]=0,a[v]=T}}var z=this.jpoint(null,null,null),B=this._wnafT4;for(f=d;f>=0;f--){for(var H=0;f>=0;){var Y=!0;for(p=0;p<i;p++)B[p]=c[p][f]|0,B[p]!==0&&(Y=!1);if(!Y)break;H++,f--}if(f>=0&&H++,z=z.dblp(H),f<0)break;for(p=0;p<i;p++){var W=B[p];W!==0&&(W>0?g=a[p][W-1>>1]:W<0&&(g=a[p][-W-1>>1].neg()),g.type==="affine"?z=z.mixedAdd(g):z=z.add(g))}}for(f=0;f<i;f++)a[f]=null;return s?z:z.toP()};function _o(t,e){this.curve=t,this.type=e,this.precomputed=null}Ec.BasePoint=_o;_o.prototype.eq=function(){throw new Error("Not implemented")};_o.prototype.validate=function(){return this.curve.validate(this)};Ec.prototype.decodePoint=function(e,n){e=Ys.toArray(e,n);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?rx(e[e.length-1]%2===0):e[0]===7&&rx(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")};_o.prototype.encodeCompressed=function(e){return this.encode(e,!0)};_o.prototype._encode=function(e){var n=this.curve.p.byteLength(),r=this.getX().toArray("be",n);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",n))};_o.prototype.encode=function(e,n){return Ys.encode(this._encode(n),e)};_o.prototype.precompute=function(e){if(this.precomputed)return this;var n={doubles:null,naf:null,beta:null};return n.naf=this._getNAFPoints(8),n.doubles=this._getDoubles(4,e),n.beta=this._getBeta(),this.precomputed=n,this};_o.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var n=this.precomputed.doubles;return n?n.points.length>=Math.ceil((e.bitLength()+1)/n.step):!1};_o.prototype._getDoubles=function(e,n){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,s=0;s<n;s+=e){for(var o=0;o<e;o++)i=i.dbl();r.push(i)}return{step:e,points:r}};_o.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var n=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),s=1;s<r;s++)n[s]=n[s-1].add(i);return{wnd:e,points:n}};_o.prototype._getBeta=function(){return null};_o.prototype.dblp=function(e){for(var n=this,r=0;r<e;r++)n=n.dbl();return n};var AS=hh(function(t){typeof Object.create=="function"?t.exports=function(n,r){r&&(n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(n,r){if(r){n.super_=r;var i=function(){};i.prototype=r.prototype,n.prototype=new i,n.prototype.constructor=n}}}),EV=Ys.assert;function Eo(t){fd.call(this,"short",t),this.a=new Mt(t.a,16).toRed(this.red),this.b=new Mt(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}AS(Eo,fd);var NV=Eo;Eo.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var n,r;if(e.beta)n=new Mt(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);n=i[0].cmp(i[1])<0?i[0]:i[1],n=n.toRed(this.red)}if(e.lambda)r=new Mt(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(n))===0?r=s[0]:(r=s[1],EV(this.g.mul(r).x.cmp(this.g.x.redMul(n))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new Mt(a.a,16),b:new Mt(a.b,16)}}):o=this._getEndoBasis(r),{beta:n,lambda:r,basis:o}}};Eo.prototype._getEndoRoots=function(e){var n=e===this.p?this.red:Mt.mont(e),r=new Mt(2).toRed(n).redInvm(),i=r.redNeg(),s=new Mt(3).toRed(n).redNeg().redSqrt().redMul(r),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Eo.prototype._getEndoBasis=function(e){for(var n=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),s=new Mt(1),o=new Mt(0),a=new Mt(0),c=new Mt(1),d,f,p,g,m,v,x,T=0,_,j;r.cmpn(0)!==0;){var w=i.div(r);_=i.sub(w.mul(r)),j=a.sub(w.mul(s));var F=c.sub(w.mul(o));if(!p&&_.cmp(n)<0)d=x.neg(),f=s,p=_.neg(),g=j;else if(p&&++T===2)break;x=_,i=r,r=_,a=s,s=j,c=o,o=F}m=_.neg(),v=j;var z=p.sqr().add(g.sqr()),B=m.sqr().add(v.sqr());return B.cmp(z)>=0&&(m=d,v=f),p.negative&&(p=p.neg(),g=g.neg()),m.negative&&(m=m.neg(),v=v.neg()),[{a:p,b:g},{a:m,b:v}]};Eo.prototype._endoSplit=function(e){var n=this.endo.basis,r=n[0],i=n[1],s=i.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=s.mul(r.a),c=o.mul(i.a),d=s.mul(r.b),f=o.mul(i.b),p=e.sub(a).sub(c),g=d.add(f).neg();return{k1:p,k2:g}};Eo.prototype.pointFromX=function(e,n){e=new Mt(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(n&&!s||!n&&s)&&(i=i.redNeg()),this.point(e,i)};Eo.prototype.validate=function(e){if(e.inf)return!0;var n=e.x,r=e.y,i=this.a.redMul(n),s=n.redSqr().redMul(n).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(s).cmpn(0)===0};Eo.prototype._endoWnafMulAdd=function(e,n,r){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(n[o]),c=e[o],d=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),d=d.neg(!0)),i[o*2]=c,i[o*2+1]=d,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var f=this._wnafMulAdd(1,i,s,o*2,r),p=0;p<o*2;p++)i[p]=null,s[p]=null;return f};function ei(t,e,n,r){fd.BasePoint.call(this,t,"affine"),e===null&&n===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Mt(e,16),this.y=new Mt(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}AS(ei,fd.BasePoint);Eo.prototype.point=function(e,n,r){return new ei(this,e,n,r)};Eo.prototype.pointFromJSON=function(e,n){return ei.fromJSON(this,e,n)};ei.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(s){return r.point(s.x.redMul(r.endo.beta),s.y)};e.beta=n,n.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return n}};ei.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ei.fromJSON=function(e,n,r){typeof n=="string"&&(n=JSON.parse(n));var i=e.point(n[0],n[1],r);if(!n[2])return i;function s(a){return e.point(a[0],a[1],r)}var o=n[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};ei.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ei.prototype.isInfinity=function(){return this.inf};ei.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var n=this.y.redSub(e.y);n.cmpn(0)!==0&&(n=n.redMul(this.x.redSub(e.x).redInvm()));var r=n.redSqr().redISub(this.x).redISub(e.x),i=n.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)};ei.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var n=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),s=r.redAdd(r).redIAdd(r).redIAdd(n).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};ei.prototype.getX=function(){return this.x.fromRed()};ei.prototype.getY=function(){return this.y.fromRed()};ei.prototype.mul=function(e){return e=new Mt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ei.prototype.mulAdd=function(e,n,r){var i=[this,n],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};ei.prototype.jmulAdd=function(e,n,r){var i=[this,n],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};ei.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ei.prototype.neg=function(e){if(this.inf)return this;var n=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(s){return s.neg()};n.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return n};ei.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function ui(t,e,n,r){fd.BasePoint.call(this,t,"jacobian"),e===null&&n===null&&r===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Mt(0)):(this.x=new Mt(e,16),this.y=new Mt(n,16),this.z=new Mt(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}AS(ui,fd.BasePoint);Eo.prototype.jpoint=function(e,n,r){return new ui(this,e,n,r)};ui.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),n=e.redSqr(),r=this.x.redMul(n),i=this.y.redMul(n).redMul(e);return this.curve.point(r,i)};ui.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ui.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var n=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(n),s=e.x.redMul(r),o=this.y.redMul(n.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),c=i.redSub(s),d=o.redSub(a);if(c.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=c.redSqr(),p=f.redMul(c),g=i.redMul(f),m=d.redSqr().redIAdd(p).redISub(g).redISub(g),v=d.redMul(g.redISub(m)).redISub(o.redMul(p)),x=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(m,v,x)};ui.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var n=this.z.redSqr(),r=this.x,i=e.x.redMul(n),s=this.y,o=e.y.redMul(n).redMul(this.z),a=r.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=a.redSqr(),f=d.redMul(a),p=r.redMul(d),g=c.redSqr().redIAdd(f).redISub(p).redISub(p),m=c.redMul(p.redISub(g)).redISub(s.redMul(f)),v=this.z.redMul(a);return this.curve.jpoint(g,m,v)};ui.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var n;if(this.curve.zeroA||this.curve.threeA){var r=this;for(n=0;n<e;n++)r=r.dbl();return r}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,d=c.redSqr().redSqr(),f=a.redAdd(a);for(n=0;n<e;n++){var p=o.redSqr(),g=f.redSqr(),m=g.redSqr(),v=p.redAdd(p).redIAdd(p).redIAdd(i.redMul(d)),x=o.redMul(g),T=v.redSqr().redISub(x.redAdd(x)),_=x.redISub(T),j=v.redMul(_);j=j.redIAdd(j).redISub(m);var w=f.redMul(c);n+1<e&&(d=d.redMul(m)),o=T,c=w,f=j}return this.curve.jpoint(o,f.redMul(s),c)};ui.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ui.prototype._zeroDbl=function(){var e,n,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),d=c.redSqr().redISub(a).redISub(a),f=o.redIAdd(o);f=f.redIAdd(f),f=f.redIAdd(f),e=d,n=c.redMul(a.redISub(d)).redISub(f),r=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),g=this.y.redSqr(),m=g.redSqr(),v=this.x.redAdd(g).redSqr().redISub(p).redISub(m);v=v.redIAdd(v);var x=p.redAdd(p).redIAdd(p),T=x.redSqr(),_=m.redIAdd(m);_=_.redIAdd(_),_=_.redIAdd(_),e=T.redISub(v).redISub(v),n=x.redMul(v.redISub(e)).redISub(_),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,n,r)};ui.prototype._threeDbl=function(){var e,n,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),d=c.redSqr().redISub(a).redISub(a);e=d;var f=o.redIAdd(o);f=f.redIAdd(f),f=f.redIAdd(f),n=c.redMul(a.redISub(d)).redISub(f),r=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),g=this.y.redSqr(),m=this.x.redMul(g),v=this.x.redSub(p).redMul(this.x.redAdd(p));v=v.redAdd(v).redIAdd(v);var x=m.redIAdd(m);x=x.redIAdd(x);var T=x.redAdd(x);e=v.redSqr().redISub(T),r=this.y.redAdd(this.z).redSqr().redISub(g).redISub(p);var _=g.redSqr();_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_),n=v.redMul(x.redISub(e)).redISub(_)}return this.curve.jpoint(e,n,r)};ui.prototype._dbl=function(){var e=this.curve.a,n=this.x,r=this.y,i=this.z,s=i.redSqr().redSqr(),o=n.redSqr(),a=r.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),d=n.redAdd(n);d=d.redIAdd(d);var f=d.redMul(a),p=c.redSqr().redISub(f.redAdd(f)),g=f.redISub(p),m=a.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var v=c.redMul(g).redISub(m),x=r.redAdd(r).redMul(i);return this.curve.jpoint(p,v,x)};ui.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),n=this.y.redSqr(),r=this.z.redSqr(),i=n.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(n).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),d=i.redIAdd(i);d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var f=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(d),p=n.redMul(f);p=p.redIAdd(p),p=p.redIAdd(p);var g=this.x.redMul(c).redISub(p);g=g.redIAdd(g),g=g.redIAdd(g);var m=this.y.redMul(f.redMul(d.redISub(f)).redISub(a.redMul(c)));m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var v=this.z.redAdd(a).redSqr().redISub(r).redISub(c);return this.curve.jpoint(g,m,v)};ui.prototype.mul=function(e,n){return e=new Mt(e,n),this.curve._wnafMul(this,e)};ui.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var n=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(n)).cmpn(0)!==0)return!1;var i=n.redMul(this.z),s=r.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};ui.prototype.eqXToP=function(e){var n=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(n);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(n);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(s),this.x.cmp(r)===0)return!0}};ui.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ui.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var C0=hh(function(t,e){var n=e;n.base=fd,n.short=NV,n.mont=null,n.edwards=null}),_0=hh(function(t,e){var n=e,r=Ys.assert;function i(a){a.type==="short"?this.curve=new C0.short(a):a.type==="edwards"?this.curve=new C0.edwards(a):this.curve=new C0.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,r(this.g.validate(),"Invalid curve"),r(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}n.PresetCurve=i;function s(a,c){Object.defineProperty(n,a,{configurable:!0,enumerable:!0,get:function(){var d=new i(c);return Object.defineProperty(n,a,{configurable:!0,enumerable:!0,value:d}),d}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:xa.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:xa.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:xa.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:xa.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:xa.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:xa.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:xa.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:xa.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function xc(t){if(!(this instanceof xc))return new xc(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Xo.toArray(t.entropy,t.entropyEnc||"hex"),n=Xo.toArray(t.nonce,t.nonceEnc||"hex"),r=Xo.toArray(t.pers,t.persEnc||"hex");NS(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,r)}var w5=xc;xc.prototype._init=function(e,n,r){var i=e.concat(n).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};xc.prototype._hmac=function(){return new xa.hmac(this.hash,this.K)};xc.prototype._update=function(e){var n=this._hmac().update(this.V).update([0]);e&&(n=n.update(e)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};xc.prototype.reseed=function(e,n,r,i){typeof n!="string"&&(i=r,r=n,n=null),e=Xo.toArray(e,n),r=Xo.toArray(r,i),NS(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1};xc.prototype.generate=function(e,n,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(i=r,r=n,n=null),r&&(r=Xo.toArray(r,i||"hex"),this._update(r));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(r),this._reseed++,Xo.encode(o,n)};var _k=Ys.assert;function Ai(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var jS=Ai;Ai.fromPublic=function(e,n,r){return n instanceof Ai?n:new Ai(e,{pub:n,pubEnc:r})};Ai.fromPrivate=function(e,n,r){return n instanceof Ai?n:new Ai(e,{priv:n,privEnc:r})};Ai.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ai.prototype.getPublic=function(e,n){return typeof e=="string"&&(n=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),n?this.pub.encode(n,e):this.pub};Ai.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ai.prototype._importPrivate=function(e,n){this.priv=new Mt(e,n||16),this.priv=this.priv.umod(this.ec.curve.n)};Ai.prototype._importPublic=function(e,n){if(e.x||e.y){this.ec.curve.type==="mont"?_k(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&_k(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,n)};Ai.prototype.derive=function(e){return e.validate()||_k(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ai.prototype.sign=function(e,n,r){return this.ec.sign(e,this,n,r)};Ai.prototype.verify=function(e,n,r){return this.ec.verify(e,n,this,void 0,r)};Ai.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var AV=Ys.assert;function Jx(t,e){if(t instanceof Jx)return t;this._importDER(t,e)||(AV(t.r&&t.s,"Signature without r or s"),this.r=new Mt(t.r,16),this.s=new Mt(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Qx=Jx;function jV(){this.place=0}function Uw(t,e){var n=t[e.place++];if(!(n&128))return n;var r=n&15;if(r===0||r>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<r;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function NA(t){for(var e=0,n=t.length-1;!t[e]&&!(t[e+1]&128)&&e<n;)e++;return e===0?t:t.slice(e)}Jx.prototype._importDER=function(e,n){e=Ys.toArray(e,n);var r=new jV;if(e[r.place++]!==48)return!1;var i=Uw(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var s=Uw(e,r);if(s===!1||(e[r.place]&128)!==0)return!1;var o=e.slice(r.place,s+r.place);if(r.place+=s,e[r.place++]!==2)return!1;var a=Uw(e,r);if(a===!1||e.length!==a+r.place||(e[r.place]&128)!==0)return!1;var c=e.slice(r.place,a+r.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new Mt(o),this.s=new Mt(c),this.recoveryParam=null,!0};function Vw(t,e){if(e<128){t.push(e);return}var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(n|128);--n;)t.push(e>>>(n<<3)&255);t.push(e)}Jx.prototype.toDER=function(e){var n=this.r.toArray(),r=this.s.toArray();for(n[0]&128&&(n=[0].concat(n)),r[0]&128&&(r=[0].concat(r)),n=NA(n),r=NA(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];Vw(i,n.length),i=i.concat(n),i.push(2),Vw(i,r.length);var s=i.concat(r),o=[48];return Vw(o,s.length),o=o.concat(s),Ys.encode(o,e)};var PV=function(){throw new Error("unsupported")},Cu=Ys.assert;function Co(t){if(!(this instanceof Co))return new Co(t);typeof t=="string"&&(Cu(Object.prototype.hasOwnProperty.call(_0,t),"Unknown curve "+t),t=_0[t]),t instanceof _0.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var RV=Co;Co.prototype.keyPair=function(e){return new jS(this,e)};Co.prototype.keyFromPrivate=function(e,n){return jS.fromPrivate(this,e,n)};Co.prototype.keyFromPublic=function(e,n){return jS.fromPublic(this,e,n)};Co.prototype.genKeyPair=function(e){e||(e={});for(var n=new w5({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||PV(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new Mt(2));;){var s=new Mt(n.generate(r));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Co.prototype._truncateToN=function(e,n,r){var i;if(Mt.isBN(e)||typeof e=="number")e=new Mt(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new Mt(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new Mt(s,16)}typeof r!="number"&&(r=i*8);var o=r-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!n&&e.cmp(this.n)>=0?e.sub(this.n):e};Co.prototype.sign=function(e,n,r,i){if(typeof r=="object"&&(i=r,r=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!Mt.isBN(e)){Cu(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Cu(e.length>>>0===e.length);for(var s=0;s<e.length;s++)Cu((e[s]&255)===e[s])}n=this.keyFromPrivate(n,r),e=this._truncateToN(e,!1,i.msgBitLength),Cu(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=n.getPrivate().toArray("be",o),c=e.toArray("be",o);Cu(new Mt(c).eq(e),"Can not sign message");for(var d=new w5({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),f=this.n.sub(new Mt(1)),p=0;;p++){var g=i.k?i.k(p):new Mt(d.generate(this.n.byteLength()));if(g=this._truncateToN(g,!0),!(g.cmpn(1)<=0||g.cmp(f)>=0)){var m=this.g.mul(g);if(!m.isInfinity()){var v=m.getX(),x=v.umod(this.n);if(x.cmpn(0)!==0){var T=g.invm(this.n).mul(x.mul(n.getPrivate()).iadd(e));if(T=T.umod(this.n),T.cmpn(0)!==0){var _=(m.getY().isOdd()?1:0)|(v.cmp(x)!==0?2:0);return i.canonical&&T.cmp(this.nh)>0&&(T=this.n.sub(T),_^=1),new Qx({r:x,s:T,recoveryParam:_})}}}}}};Co.prototype.verify=function(e,n,r,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),r=this.keyFromPublic(r,i),n=new Qx(n,"hex");var o=n.r,a=n.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),d=c.mul(e).umod(this.n),f=c.mul(o).umod(this.n),p;return this.curve._maxwellTrick?(p=this.g.jmulAdd(d,r.getPublic(),f),p.isInfinity()?!1:p.eqXToP(o)):(p=this.g.mulAdd(d,r.getPublic(),f),p.isInfinity()?!1:p.getX().umod(this.n).cmp(o)===0)};Co.prototype.recoverPubKey=function(t,e,n,r){Cu((3&n)===n,"The recovery param is more than two bits"),e=new Qx(e,r);var i=this.n,s=new Mt(t),o=e.r,a=e.s,c=n&1,d=n>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");d?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var f=e.r.invm(i),p=i.sub(s).mul(f).umod(i),g=a.mul(f).umod(i);return this.g.mulAdd(p,o,g)};Co.prototype.getKeyRecoveryParam=function(t,e,n,r){if(e=new Qx(e,r),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(n))return i}throw new Error("Unable to find valid recovery factor")};var IV=hh(function(t,e){var n=e;n.version="6.6.1",n.utils=Ys,n.rand=function(){throw new Error("unsupported")},n.curve=C0,n.curves=_0,n.ec=RV,n.eddsa=null}),MV=IV.ec;const DV="signing-key/5.8.0",Ek=new le(DV);let Ww=null;function Jl(){return Ww||(Ww=new MV("secp256k1")),Ww}class OV{constructor(e){_e(this,"curve","secp256k1"),_e(this,"privateKey",dt(e)),Hu(this.privateKey)!==32&&Ek.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const n=Jl().keyFromPrivate(Nt(this.privateKey));_e(this,"publicKey","0x"+n.getPublic(!1,"hex")),_e(this,"compressedPublicKey","0x"+n.getPublic(!0,"hex")),_e(this,"_isSigningKey",!0)}_addPoint(e){const n=Jl().keyFromPublic(Nt(this.publicKey)),r=Jl().keyFromPublic(Nt(e));return"0x"+n.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const n=Jl().keyFromPrivate(Nt(this.privateKey)),r=Nt(e);r.length!==32&&Ek.throwArgumentError("bad digest length","digest",e);const i=n.sign(r,{canonical:!0});return Kx({recoveryParam:i.recoveryParam,r:nr("0x"+i.r.toString(16),32),s:nr("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const n=Jl().keyFromPrivate(Nt(this.privateKey)),r=Jl().keyFromPublic(Nt(k5(e)));return nr("0x"+n.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function LV(t,e){const n=Kx(e),r={r:Nt(n.r),s:Nt(n.s)};return"0x"+Jl().recoverPubKey(Nt(t),r,n.recoveryParam).encode("hex",!1)}function k5(t,e){const n=Nt(t);return n.length===32?new OV(n).publicKey:n.length===33?"0x"+Jl().keyFromPublic(n).getPublic(!1,"hex"):n.length===65?dt(n):Ek.throwArgumentError("invalid public or private key","key","[REDACTED]")}const FV="transactions/5.8.0",Sl=new le(FV);var AA;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(AA||(AA={}));function PS(t){return t==="0x"?null:Jr(t)}function Ti(t){return t==="0x"?ZM:de.from(t)}function zV(t){const e=k5(t);return Jr(ki(Ur(ki(e,1)),12))}function T5(t,e){return zV(LV(Nt(t),e))}function As(t,e){const n=Wf(de.from(t).toHexString());return n.length>32&&Sl.throwArgumentError("invalid length for "+e,"transaction:"+e,t),n}function qw(t,e){return{address:Jr(t),storageKeys:(e||[]).map((n,r)=>(Hu(n)!==32&&Sl.throwArgumentError("invalid access list storageKey",`accessList[${t}:${r}]`,n),n.toLowerCase()))}}function hd(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(n.length>2&&Sl.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${r}]`,n),qw(n[0],n[1])):qw(n.address,n.storageKeys));const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,s)=>(i[s]=!0,i),{});return qw(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function S5(t){return hd(t).map(e=>[e.address,e.storageKeys])}function BV(t,e){if(t.gasPrice!=null){const r=de.from(t.gasPrice),i=de.from(t.maxFeePerGas||0);r.eq(i)||Sl.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:i})}const n=[As(t.chainId||0,"chainId"),As(t.nonce||0,"nonce"),As(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),As(t.maxFeePerGas||0,"maxFeePerGas"),As(t.gasLimit||0,"gasLimit"),t.to!=null?Jr(t.to):"0x",As(t.value||0,"value"),t.data||"0x",S5(t.accessList||[])];if(e){const r=Kx(e);n.push(As(r.recoveryParam,"recoveryParam")),n.push(Wf(r.r)),n.push(Wf(r.s))}return cs(["0x02",Yx(n)])}function $V(t,e){const n=[As(t.chainId||0,"chainId"),As(t.nonce||0,"nonce"),As(t.gasPrice||0,"gasPrice"),As(t.gasLimit||0,"gasLimit"),t.to!=null?Jr(t.to):"0x",As(t.value||0,"value"),t.data||"0x",S5(t.accessList||[])];if(e){const r=Kx(e);n.push(As(r.recoveryParam,"recoveryParam")),n.push(Wf(r.r)),n.push(Wf(r.s))}return cs(["0x01",Yx(n)])}function C5(t,e,n){try{const r=Ti(e[0]).toNumber();if(r!==0&&r!==1)throw new Error("bad recid");t.v=r}catch{Sl.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=nr(e[1],32),t.s=nr(e[2],32);try{const r=Ur(n(t));t.from=T5(r,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function UV(t){const e=TS(t.slice(1));e.length!==9&&e.length!==12&&Sl.throwArgumentError("invalid component count for transaction type: 2","payload",dt(t));const n=Ti(e[2]),r=Ti(e[3]),i={type:2,chainId:Ti(e[0]).toNumber(),nonce:Ti(e[1]).toNumber(),maxPriorityFeePerGas:n,maxFeePerGas:r,gasPrice:null,gasLimit:Ti(e[4]),to:PS(e[5]),value:Ti(e[6]),data:e[7],accessList:hd(e[8])};return e.length===9||(i.hash=Ur(t),C5(i,e.slice(9),BV)),i}function VV(t){const e=TS(t.slice(1));e.length!==8&&e.length!==11&&Sl.throwArgumentError("invalid component count for transaction type: 1","payload",dt(t));const n={type:1,chainId:Ti(e[0]).toNumber(),nonce:Ti(e[1]).toNumber(),gasPrice:Ti(e[2]),gasLimit:Ti(e[3]),to:PS(e[4]),value:Ti(e[5]),data:e[6],accessList:hd(e[7])};return e.length===8||(n.hash=Ur(t),C5(n,e.slice(8),$V)),n}function WV(t){const e=TS(t);e.length!==9&&e.length!==6&&Sl.throwArgumentError("invalid raw transaction","rawTransaction",t);const n={nonce:Ti(e[0]).toNumber(),gasPrice:Ti(e[1]),gasLimit:Ti(e[2]),to:PS(e[3]),value:Ti(e[4]),data:e[5],chainId:0};if(e.length===6)return n;try{n.v=de.from(e[6]).toNumber()}catch{return n}if(n.r=nr(e[7],32),n.s=nr(e[8],32),de.from(n.r).isZero()&&de.from(n.s).isZero())n.chainId=n.v,n.v=0;else{n.chainId=Math.floor((n.v-35)/2),n.chainId<0&&(n.chainId=0);let r=n.v-27;const i=e.slice(0,6);n.chainId!==0&&(i.push(dt(n.chainId)),i.push("0x"),i.push("0x"),r-=n.chainId*2+8);const s=Ur(Yx(i));try{n.from=T5(s,{r:dt(n.r),s:dt(n.s),recoveryParam:r})}catch{}n.hash=Ur(t)}return n.type=null,n}function qV(t){const e=Nt(t);if(e[0]>127)return WV(e);switch(e[0]){case 1:return VV(e);case 2:return UV(e)}return Sl.throwError(`unsupported transaction type: ${e[0]}`,le.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const HV="contracts/5.8.0";var Ku=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{d(r.next(f))}catch(p){o(p)}}function c(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((r=r.apply(t,e||[])).next())})};const wr=new le(HV);function ix(t,e){return Ku(this,void 0,void 0,function*(){const n=yield e;typeof n!="string"&&wr.throwArgumentError("invalid address or ENS name","name",n);try{return Jr(n)}catch{}t||wr.throwError("a provider or signer is needed to resolve ENS names",le.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const r=yield t.resolveName(n);return r==null&&wr.throwArgumentError("resolver or addr is not configured for ENS name","name",n),r})}function E0(t,e,n){return Ku(this,void 0,void 0,function*(){return Array.isArray(n)?yield Promise.all(n.map((r,i)=>E0(t,Array.isArray(e)?e[i]:e[r.name],r))):n.type==="address"?yield ix(t,e):n.type==="tuple"?yield E0(t,e,n.components):n.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(r=>E0(t,r,n.arrayChildren))):Promise.reject(wr.makeError("invalid value for array",le.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function Zx(t,e,n){return Ku(this,void 0,void 0,function*(){let r={};n.length===e.inputs.length+1&&typeof n[n.length-1]=="object"&&(r=er(n.pop())),wr.checkArgumentCount(n.length,e.inputs.length,"passed to contract"),t.signer?r.from?r.from=Ar({override:ix(t.signer,r.from),signer:t.signer.getAddress()}).then(d=>Ku(this,void 0,void 0,function*(){return Jr(d.signer)!==d.override&&wr.throwError("Contract with a Signer cannot override from",le.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),d.override})):r.from=t.signer.getAddress():r.from&&(r.from=ix(t.provider,r.from));const i=yield Ar({args:E0(t.signer||t.provider,n,e.inputs),address:t.resolvedAddress,overrides:Ar(r)||{}}),s=t.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(a.nonce!=null&&(o.nonce=de.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=de.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=de.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=de.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=de.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=hd(a.accessList)),o.gasLimit==null&&e.gas!=null){let d=21e3;const f=Nt(s);for(let p=0;p<f.length;p++)d+=4,f[p]&&(d+=64);o.gasLimit=de.from(e.gas).add(d)}if(a.value){const d=de.from(a.value);!d.isZero()&&!e.payable&&wr.throwError("non-payable method cannot override value",le.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:r.value}),o.value=d}a.customData&&(o.customData=er(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete r.nonce,delete r.gasLimit,delete r.gasPrice,delete r.from,delete r.value,delete r.type,delete r.accessList,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.customData,delete r.ccipReadEnabled;const c=Object.keys(r).filter(d=>r[d]!=null);return c.length&&wr.throwError(`cannot override ${c.map(d=>JSON.stringify(d)).join(",")}`,le.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),o})}function GV(t,e){return function(...n){return Zx(t,e,n)}}function KV(t,e){const n=t.signer||t.provider;return function(...r){return Ku(this,void 0,void 0,function*(){n||wr.throwError("estimate require a provider or signer",le.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield Zx(t,e,r);return yield n.estimateGas(i)})}}function YV(t,e){const n=e.wait.bind(e);e.wait=r=>n(r).then(i=>(i.events=i.logs.map(s=>{let o=Us(s),a=null;try{a=t.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(c,d)=>t.interface.decodeEventLog(a.eventFragment,c,d),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>t.provider,o.getBlock=()=>t.provider.getBlock(i.blockHash),o.getTransaction=()=>t.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function _5(t,e,n){const r=t.signer||t.provider;return function(...i){return Ku(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const c=er(i.pop());c.blockTag!=null&&(s=yield c.blockTag),delete c.blockTag,i.push(c)}t.deployTransaction!=null&&(yield t._deployed(s));const o=yield Zx(t,e,i),a=yield r.call(o,s);try{let c=t.interface.decodeFunctionResult(e,a);return n&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===le.errors.CALL_EXCEPTION&&(c.address=t.address,c.args=i,c.transaction=o),c}})}}function XV(t,e){return function(...n){return Ku(this,void 0,void 0,function*(){t.signer||wr.throwError("sending a transaction requires a signer",le.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const r=yield Zx(t,e,n),i=yield t.signer.sendTransaction(r);return YV(t,i),i})}}function jA(t,e,n){return e.constant?_5(t,e,n):XV(t,e)}function E5(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class mm{constructor(e,n){_e(this,"tag",e),_e(this,"filter",n),this._listeners=[]}addListener(e,n){this._listeners.push({listener:e,once:n})}removeListener(e){let n=!1;this._listeners=this._listeners.filter(r=>n||r.listener!==e?!0:(n=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const n=this.listenerCount();return this._listeners=this._listeners.filter(r=>{const i=e.slice();return setTimeout(()=>{r.listener.apply(this,i)},0),!r.once}),n}prepareEvent(e){}getEmit(e){return[e]}}class JV extends mm{constructor(){super("error",null)}}class PA extends mm{constructor(e,n,r,i){const s={address:e};let o=n.getEventTopic(r);i?(o!==i[0]&&wr.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(E5(s),s),_e(this,"address",e),_e(this,"interface",n),_e(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(n,r)=>this.interface.decodeEventLog(this.fragment,n,r);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(n){e.args=null,e.decodeError=n}}getEmit(e){const n=QU(e.args);if(n.length)throw n[0].error;const r=(e.args||[]).slice();return r.push(e),r}}class RA extends mm{constructor(e,n){super("*",{address:e}),_e(this,"address",e),_e(this,"interface",n)}prepareEvent(e){super.prepareEvent(e);try{const n=this.interface.parseLog(e);e.event=n.name,e.eventSignature=n.signature,e.decode=(r,i)=>this.interface.decodeEventLog(n.eventFragment,r,i),e.args=n.args}catch{}}}class QV{constructor(e,n,r){_e(this,"interface",Fs(new.target,"getInterface")(n)),r==null?(_e(this,"provider",null),_e(this,"signer",null)):Qm.isSigner(r)?(_e(this,"provider",r.provider||null),_e(this,"signer",r)):_S.isProvider(r)?(_e(this,"provider",r),_e(this,"signer",null)):wr.throwArgumentError("invalid signer or provider","signerOrProvider",r),_e(this,"callStatic",{}),_e(this,"estimateGas",{}),_e(this,"functions",{}),_e(this,"populateTransaction",{}),_e(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const c=this.interface.events[a];_e(this.filters,a,(...d)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,d)})),o[c.name]||(o[c.name]=[]),o[c.name].push(a)}),Object.keys(o).forEach(a=>{const c=o[a];c.length===1?_e(this.filters,a,this.filters[c[0]]):wr.warn(`Duplicate definition of ${a} (${c.join(", ")})`)})}if(_e(this,"_runningEvents",{}),_e(this,"_wrappedEmits",{}),e==null&&wr.throwArgumentError("invalid contract address or ENS name","addressOrName",e),_e(this,"address",e),this.provider)_e(this,"resolvedAddress",ix(this.provider,e));else try{_e(this,"resolvedAddress",Promise.resolve(Jr(e)))}catch{wr.throwError("provider is required to use ENS name as contract address",le.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){wr.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const c=a.name;i[`%${c}`]||(i[`%${c}`]=[]),i[`%${c}`].push(o)}this[o]==null&&_e(this,o,jA(this,a,!0)),this.functions[o]==null&&_e(this.functions,o,jA(this,a,!1)),this.callStatic[o]==null&&_e(this.callStatic,o,_5(this,a,!0)),this.populateTransaction[o]==null&&_e(this.populateTransaction,o,GV(this,a)),this.estimateGas[o]==null&&_e(this.estimateGas,o,KV(this,a))}),Object.keys(i).forEach(o=>{const a=i[o];if(a.length>1)return;o=o.substring(1);const c=a[0];try{this[o]==null&&_e(this,o,this[c])}catch{}this.functions[o]==null&&_e(this.functions,o,this.functions[c]),this.callStatic[o]==null&&_e(this.callStatic,o,this.callStatic[c]),this.populateTransaction[o]==null&&_e(this.populateTransaction,o,this.populateTransaction[c]),this.estimateGas[o]==null&&_e(this.estimateGas,o,this.estimateGas[c])})}static getContractAddress(e){return YM(e)}static getInterface(e){return pm.isInterface(e)?e:new pm(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(n=>(n==="0x"&&wr.throwError("contract not deployed",le.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||wr.throwError("sending a transactions require a signer",le.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const n=er(e||{});return["from","to"].forEach(function(r){n[r]!=null&&wr.throwError("cannot override "+r,le.errors.UNSUPPORTED_OPERATION,{operation:r})}),n.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(n))}connect(e){typeof e=="string"&&(e=new ES(e,this.provider));const n=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&_e(n,"deployTransaction",this.deployTransaction),n}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Ck.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new JV);if(e==="event")return this._normalizeRunningEvent(new mm("event",null));if(e==="*")return this._normalizeRunningEvent(new RA(this.address,this.interface));const n=this.interface.getEvent(e);return this._normalizeRunningEvent(new PA(this.address,this.interface,n))}if(e.topics&&e.topics.length>0){try{const r=e.topics[0];if(typeof r!="string")throw new Error("invalid topic");const i=this.interface.getEvent(r);return this._normalizeRunningEvent(new PA(this.address,this.interface,i,e.topics))}catch{}const n={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new mm(E5(n),n))}return this._normalizeRunningEvent(new RA(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const n=this._wrappedEmits[e.tag];n&&e.filter&&(this.provider.off(e.filter,n),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,n,r){const i=Us(n);return i.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(n.blockHash),i.getTransaction=()=>this.provider.getTransaction(n.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(n.transactionHash),e.prepareEvent(i),i}_addEventListener(e,n,r){if(this.provider||wr.throwError("events require a provider or a signer with a provider",le.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(n,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let o=this._wrapEvent(e,s,n);if(o.decodeError==null)try{const a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,n,r){const i=this._getRunningEvent(e),s=er(i.filter);return typeof n=="string"&&Qt(n,32)?(r!=null&&wr.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),s.blockHash=n):(s.fromBlock=n??0,s.toBlock=r??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(i,a,null)))}on(e,n){return this._addEventListener(this._getRunningEvent(e),n,!1),this}once(e,n){return this._addEventListener(this._getRunningEvent(e),n,!0),this}emit(e,...n){if(!this.provider)return!1;const r=this._getRunningEvent(e),i=r.run(n)>0;return this._checkRunningEvents(r),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((n,r)=>n+this._runningEvents[r].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const n=[];for(let r in this._runningEvents)this._runningEvents[r].listeners().forEach(i=>{n.push(i)});return n}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const r in this._runningEvents){const i=this._runningEvents[r];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const n=this._getRunningEvent(e);return n.removeAllListeners(),this._checkRunningEvents(n),this}off(e,n){if(!this.provider)return this;const r=this._getRunningEvent(e);return r.removeListener(n),this._checkRunningEvents(r),this}removeListener(e,n){return this.off(e,n)}}class Vt extends QV{}class N5{constructor(e){_e(this,"alphabet",e),_e(this,"base",e.length),_e(this,"_alphabetMap",{}),_e(this,"_leader",e.charAt(0));for(let n=0;n<e.length;n++)this._alphabetMap[e.charAt(n)]=n}encode(e){let n=Nt(e);if(n.length===0)return"";let r=[0];for(let s=0;s<n.length;++s){let o=n[s];for(let a=0;a<r.length;++a)o+=r[a]<<8,r[a]=o%this.base,o=o/this.base|0;for(;o>0;)r.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;n[s]===0&&s<n.length-1;++s)i+=this._leader;for(let s=r.length-1;s>=0;--s)i+=this.alphabet[r[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let n=[];if(e.length===0)return new Uint8Array(n);n.push(0);for(let r=0;r<e.length;r++){let i=this._alphabetMap[e[r]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<n.length;++o)s+=n[o]*this.base,n[o]=s&255,s>>=8;for(;s>0;)n.push(s&255),s>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)n.push(0);return Nt(new Uint8Array(n.reverse()))}}new N5("abcdefghijklmnopqrstuvwxyz234567");const Nk=new N5("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function IA(t){return"0x"+xa.sha256().update(Nt(t)).digest("hex")}function ZV(t){t=t.slice();for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}return t}const e9="networks/5.8.0",MA=new le(e9);function t9(t){return t&&typeof t.renetwork=="function"}function Ho(t){const e=function(n,r){r==null&&(r={});const i=[];if(n.InfuraProvider&&r.infura!=="-")try{i.push(new n.InfuraProvider(t,r.infura))}catch{}if(n.EtherscanProvider&&r.etherscan!=="-")try{i.push(new n.EtherscanProvider(t,r.etherscan))}catch{}if(n.AlchemyProvider&&r.alchemy!=="-")try{i.push(new n.AlchemyProvider(t,r.alchemy))}catch{}if(n.PocketProvider&&r.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new n.PocketProvider(t,r.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(n.CloudflareProvider&&r.cloudflare!=="-")try{i.push(new n.CloudflareProvider(t))}catch{}if(n.AnkrProvider&&r.ankr!=="-")try{const s=["ropsten"],o=new n.AnkrProvider(t,r.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(n.QuickNodeProvider&&r.quicknode!=="-")try{i.push(new n.QuickNodeProvider(t,r.quicknode))}catch{}if(i.length===0)return null;if(n.FallbackProvider){let s=1;return r.quorum!=null?s=r.quorum:t==="homestead"&&(s=2),new n.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(n){return Ho(n)},e}function sx(t,e){const n=function(r,i){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return n.renetwork=function(r){return sx(t,r)},n}const DA={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Ho("homestead")},OA={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Ho("ropsten")},LA={chainId:63,name:"classicMordor",_defaultProvider:sx("https://www.ethercluster.com/mordor","classicMordor")},_y={unspecified:{chainId:0,name:"unspecified"},homestead:DA,mainnet:DA,morden:{chainId:2,name:"morden"},ropsten:OA,testnet:OA,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Ho("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Ho("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Ho("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:Ho("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:Ho("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:sx("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:LA,classicTestnet:LA,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:sx("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Ho("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:Ho("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:Ho("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function A5(t){if(t==null)return null;if(typeof t=="number"){for(const r in _y){const i=_y[r];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const r=_y[t];return r==null?null:{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress,_defaultProvider:r._defaultProvider||null}}const e=_y[t.name];if(!e)return typeof t.chainId!="number"&&MA.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&MA.throwArgumentError("network chainId mismatch","network",t);let n=t._defaultProvider||null;return n==null&&e._defaultProvider&&(t9(e._defaultProvider)?n=e._defaultProvider.renetwork(t):n=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:n}}const n9="web/5.8.0";var r9=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{d(r.next(f))}catch(p){o(p)}}function c(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((r=r.apply(t,e||[])).next())})};function i9(t,e){return r9(this,void 0,void 0,function*(){e==null&&(e={});const n={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(n.mode=o.mode),o.cache&&(n.cache=o.cache),o.credentials&&(n.credentials=o.credentials),o.redirect&&(n.redirect=o.redirect),o.referrer&&(n.referrer=o.referrer)}const r=yield fetch(t,n),i=yield r.arrayBuffer(),s={};return r.headers.forEach?r.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):r.headers.keys().forEach(o=>{s[o.toLowerCase()]=r.headers.get(o)}),{headers:s,statusCode:r.status,statusMessage:r.statusText,body:Nt(new Uint8Array(i))}})}var s9=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{d(r.next(f))}catch(p){o(p)}}function c(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((r=r.apply(t,e||[])).next())})};const zo=new le(n9);function FA(t){return new Promise(e=>{setTimeout(e,t)})}function Ul(t,e){if(t==null)return null;if(typeof t=="string")return t;if(bS(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Jm(t)}catch{}return dt(t)}return t}function o9(t){return Fa(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function a9(t,e,n){const r=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;zo.assertArgument(r>0&&r%1===0,"invalid connection throttle limit","connection.throttleLimit",r);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;zo.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let c=null;const d={method:"GET"};let f=!1,p=120*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&zo.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(p=t.timeout),t.headers)for(const _ in t.headers)a[_.toLowerCase()]={key:_,value:String(t.headers[_])},["if-none-match","if-modified-since"].indexOf(_.toLowerCase())>=0&&(f=!0);if(d.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&zo.throwError("basic authentication requires a secure https url",le.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const _=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+o5(Fa(_))}}t.skipFetchSetup!=null&&(d.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(d.fetchOptions=er(t.fetchOptions))}const g=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),m=c?c.match(g):null;if(m)try{const _={statusCode:200,statusMessage:"OK",headers:{"content-type":m[1]||"text/plain"},body:m[2]?s5(m[3]):o9(m[3])};let j=_.body;return n&&(j=n(_.body,_)),Promise.resolve(j)}catch(_){zo.throwError("processing response error",le.errors.SERVER_ERROR,{body:Ul(m[1],m[2]),error:_,requestBody:null,requestMethod:"GET",url:c})}e&&(d.method="POST",d.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const v={};Object.keys(a).forEach(_=>{const j=a[_];v[j.key]=j.value}),d.headers=v;const x=function(){let _=null;return{promise:new Promise(function(F,z){p&&(_=setTimeout(()=>{_!=null&&(_=null,z(zo.makeError("timeout",le.errors.TIMEOUT,{requestBody:Ul(d.body,v["content-type"]),requestMethod:d.method,timeout:p,url:c})))},p))}),cancel:function(){_!=null&&(clearTimeout(_),_=null)}}}(),T=function(){return s9(this,void 0,void 0,function*(){for(let _=0;_<r;_++){let j=null;try{if(j=yield i9(c,d),_<r){if(j.statusCode===301||j.statusCode===302){const F=j.headers.location||"";if(d.method==="GET"&&F.match(/^https:/)){c=j.headers.location;continue}}else if(j.statusCode===429){let F=!0;if(i&&(F=yield i(_,c)),F){let z=0;const B=j.headers["retry-after"];typeof B=="string"&&B.match(/^[1-9][0-9]*$/)?z=parseInt(B)*1e3:z=s*parseInt(String(Math.random()*Math.pow(2,_))),yield FA(z);continue}}}}catch(F){j=F.response,j==null&&(x.cancel(),zo.throwError("missing response",le.errors.SERVER_ERROR,{requestBody:Ul(d.body,v["content-type"]),requestMethod:d.method,serverError:F,url:c}))}let w=j.body;if(f&&j.statusCode===304?w=null:!o&&(j.statusCode<200||j.statusCode>=300)&&(x.cancel(),zo.throwError("bad response",le.errors.SERVER_ERROR,{status:j.statusCode,headers:j.headers,body:Ul(w,j.headers?j.headers["content-type"]:null),requestBody:Ul(d.body,v["content-type"]),requestMethod:d.method,url:c})),n)try{const F=yield n(w,j);return x.cancel(),F}catch(F){if(F.throttleRetry&&_<r){let z=!0;if(i&&(z=yield i(_,c)),z){const B=s*parseInt(String(Math.random()*Math.pow(2,_)));yield FA(B);continue}}x.cancel(),zo.throwError("processing response error",le.errors.SERVER_ERROR,{body:Ul(w,j.headers?j.headers["content-type"]:null),error:F,requestBody:Ul(d.body,v["content-type"]),requestMethod:d.method,url:c})}return x.cancel(),w}return zo.throwError("failed response",le.errors.SERVER_ERROR,{requestBody:Ul(d.body,v["content-type"]),requestMethod:d.method,url:c})})}();return Promise.race([x.promise,T])}function ev(t,e,n){let r=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(Jm(s))}catch(c){zo.throwError("invalid JSON",le.errors.SERVER_ERROR,{body:s,error:c})}return n&&(a=n(a,o)),a},i=null;if(e!=null){i=Fa(e);const s=typeof t=="string"?{url:t}:er(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=er(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return a9(t,i,r)}function mf(t,e){return e||(e={}),e=er(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(n,r){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&r(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function d(){return t().then(function(f){if(f!==void 0)o()&&n(f);else if(e.oncePoll)e.oncePoll.once("poll",d);else if(e.onceBlock)e.onceBlock.once("block",d);else if(!s){if(c++,c>a){o()&&r(new Error("retry limit reached"));return}let p=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));p<e.floor&&(p=e.floor),p>e.ceiling&&(p=e.ceiling),setTimeout(d,p)}return null},function(f){o()&&r(f)})}d()})}var Hw,zA;function l9(){if(zA)return Hw;zA=1;for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",e={},n=0;n<t.length;n++){var r=t.charAt(n);if(e[r]!==void 0)throw new TypeError(r+" is ambiguous");e[r]=n}function i(x){var T=x>>25;return(x&33554431)<<5^-(T>>0&1)&996825010^-(T>>1&1)&642813549^-(T>>2&1)&513874426^-(T>>3&1)&1027748829^-(T>>4&1)&705979059}function s(x){for(var T=1,_=0;_<x.length;++_){var j=x.charCodeAt(_);if(j<33||j>126)return"Invalid prefix ("+x+")";T=i(T)^j>>5}for(T=i(T),_=0;_<x.length;++_){var w=x.charCodeAt(_);T=i(T)^w&31}return T}function o(x,T,_){if(_=_||90,x.length+7+T.length>_)throw new TypeError("Exceeds length limit");x=x.toLowerCase();var j=s(x);if(typeof j=="string")throw new Error(j);for(var w=x+"1",F=0;F<T.length;++F){var z=T[F];if(z>>5!==0)throw new Error("Non 5-bit word");j=i(j)^z,w+=t.charAt(z)}for(F=0;F<6;++F)j=i(j);for(j^=1,F=0;F<6;++F){var B=j>>(5-F)*5&31;w+=t.charAt(B)}return w}function a(x,T){if(T=T||90,x.length<8)return x+" too short";if(x.length>T)return"Exceeds length limit";var _=x.toLowerCase(),j=x.toUpperCase();if(x!==_&&x!==j)return"Mixed-case string "+x;x=_;var w=x.lastIndexOf("1");if(w===-1)return"No separator character for "+x;if(w===0)return"Missing prefix for "+x;var F=x.slice(0,w),z=x.slice(w+1);if(z.length<6)return"Data too short";var B=s(F);if(typeof B=="string")return B;for(var H=[],Y=0;Y<z.length;++Y){var W=z.charAt(Y),q=e[W];if(q===void 0)return"Unknown character "+W;B=i(B)^q,!(Y+6>=z.length)&&H.push(q)}return B!==1?"Invalid checksum for "+x:{prefix:F,words:H}}function c(){var x=a.apply(null,arguments);if(typeof x=="object")return x}function d(x){var T=a.apply(null,arguments);if(typeof T=="object")return T;throw new Error(T)}function f(x,T,_,j){for(var w=0,F=0,z=(1<<_)-1,B=[],H=0;H<x.length;++H)for(w=w<<T|x[H],F+=T;F>=_;)F-=_,B.push(w>>F&z);if(j)F>0&&B.push(w<<_-F&z);else{if(F>=T)return"Excess padding";if(w<<_-F&z)return"Non-zero padding"}return B}function p(x){var T=f(x,8,5,!0);if(Array.isArray(T))return T}function g(x){var T=f(x,8,5,!0);if(Array.isArray(T))return T;throw new Error(T)}function m(x){var T=f(x,5,8,!1);if(Array.isArray(T))return T}function v(x){var T=f(x,5,8,!1);if(Array.isArray(T))return T;throw new Error(T)}return Hw={decodeUnsafe:c,decode:d,encode:o,toWordsUnsafe:p,toWords:g,fromWordsUnsafe:m,fromWords:v},Hw}var c9=l9();const BA=kl(c9),di="providers/5.8.0",rp=new le(di);class it{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},n=this.address.bind(this),r=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),d=this.type.bind(this),f=p=>this.data(p,!0);return e.transaction={hash:o,type:d,accessList:it.allowNull(this.accessList.bind(this),null),blockHash:it.allowNull(o,null),blockNumber:it.allowNull(c,null),transactionIndex:it.allowNull(c,null),confirmations:it.allowNull(c,null),from:n,gasPrice:it.allowNull(r),maxPriorityFeePerGas:it.allowNull(r),maxFeePerGas:it.allowNull(r),gasLimit:r,to:it.allowNull(n,null),value:r,nonce:c,data:s,r:it.allowNull(this.uint256),s:it.allowNull(this.uint256),v:it.allowNull(c),creates:it.allowNull(n,null),raw:it.allowNull(s)},e.transactionRequest={from:it.allowNull(n),nonce:it.allowNull(c),gasLimit:it.allowNull(r),gasPrice:it.allowNull(r),maxPriorityFeePerGas:it.allowNull(r),maxFeePerGas:it.allowNull(r),to:it.allowNull(n),value:it.allowNull(r),data:it.allowNull(f),type:it.allowNull(c),accessList:it.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:o,address:n,topics:it.arrayOf(o),data:s,logIndex:c,blockHash:o},e.receipt={to:it.allowNull(this.address,null),from:it.allowNull(this.address,null),contractAddress:it.allowNull(n,null),transactionIndex:c,root:it.allowNull(a),gasUsed:r,logsBloom:it.allowNull(s),blockHash:o,transactionHash:o,logs:it.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:it.allowNull(c,null),cumulativeGasUsed:r,effectiveGasPrice:it.allowNull(r),status:it.allowNull(c),type:d},e.block={hash:it.allowNull(o),parentHash:o,number:c,timestamp:c,nonce:it.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:it.allowNull(n),extraData:s,transactions:it.allowNull(it.arrayOf(o)),baseFeePerGas:it.allowNull(r)},e.blockWithTransactions=er(e.block),e.blockWithTransactions.transactions=it.allowNull(it.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:it.allowNull(i,void 0),toBlock:it.allowNull(i,void 0),blockHash:it.allowNull(o,void 0),address:it.allowNull(n,void 0),topics:it.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:it.allowNull(c),blockHash:it.allowNull(o),transactionIndex:c,removed:it.allowNull(this.boolean.bind(this)),address:n,data:it.allowFalsish(s,"0x"),topics:it.arrayOf(o),transactionHash:o,logIndex:c},e}accessList(e){return hd(e||[])}number(e){return e==="0x"?0:de.from(e).toNumber()}type(e){return e==="0x"||e==null?0:de.from(e).toNumber()}bigNumber(e){return de.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,n){return typeof e=="string"&&(!n&&e.substring(0,2)!=="0x"&&(e="0x"+e),Qt(e))?e.toLowerCase():rp.throwArgumentError("invalid hash","value",e)}data(e,n){const r=this.hex(e,n);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return Jr(e)}callAddress(e){if(!Qt(e,32))return null;const n=Jr(ki(e,12));return n===$e?null:n}contractAddress(e){return YM(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Qt(e))return Gx(e);throw new Error("invalid blockTag")}hash(e,n){const r=this.hex(e,n);return Hu(r)!==32?rp.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(e==null)return null;const n=de.from(e);try{return n.toNumber()}catch{}return null}uint256(e){if(!Qt(e))throw new Error("invalid uint256");return nr(e,32)}_block(e,n){e.author!=null&&e.miner==null&&(e.miner=e.author);const r=e._difficulty!=null?e._difficulty:e.difficulty,i=it.check(n,e);return i._difficulty=r==null?null:de.from(r),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return it.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&de.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const n=it.check(this.formats.transaction,e);if(e.chainId!=null){let r=e.chainId;Qt(r)&&(r=de.from(r).toNumber()),n.chainId=r}else{let r=e.networkId;r==null&&n.v==null&&(r=e.chainId),Qt(r)&&(r=de.from(r).toNumber()),typeof r!="number"&&n.v!=null&&(r=(n.v-35)/2,r<0&&(r=0),r=parseInt(r)),typeof r!="number"&&(r=0),n.chainId=r}return n.blockHash&&n.blockHash.replace(/0/g,"")==="x"&&(n.blockHash=null),n}transaction(e){return qV(e)}receiptLog(e){return it.check(this.formats.receiptLog,e)}receipt(e){const n=it.check(this.formats.receipt,e);if(n.root!=null)if(n.root.length<=4){const r=de.from(n.root).toNumber();r===0||r===1?(n.status!=null&&n.status!==r&&rp.throwArgumentError("alt-root-status/status mismatch","value",{root:n.root,status:n.status}),n.status=r,delete n.root):rp.throwArgumentError("invalid alt-root-status","value.root",n.root)}else n.root.length!==66&&rp.throwArgumentError("invalid root hash","value.root",n.root);return n.status!=null&&(n.byzantium=!0),n}topics(e){return Array.isArray(e)?e.map(n=>this.topics(n)):e!=null?this.hash(e,!0):null}filter(e){return it.check(this.formats.filter,e)}filterLog(e){return it.check(this.formats.filterLog,e)}static check(e,n){const r={};for(const i in e)try{const s=e[i](n[i]);s!==void 0&&(r[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=n[i],s}return r}static allowNull(e,n){return function(r){return r==null?n:e(r)}}static allowFalsish(e,n){return function(r){return r?e(r):n}}static arrayOf(e){return function(n){if(!Array.isArray(n))throw new Error("not an array");const r=[];return n.forEach(function(i){r.push(e(i))}),r}}}function u9(t){return t&&typeof t.isCommunityResource=="function"}function $A(t){return u9(t)&&t.isCommunityResource()}let UA=!1;function tv(){UA||(UA=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var Bt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{d(r.next(f))}catch(p){o(p)}}function c(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((r=r.apply(t,e||[])).next())})};const tn=new le(di),d9=10;function VA(t){return t==null?"null":(Hu(t)!==32&&tn.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function WA(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const n={};e.forEach(i=>{n[VA(i)]=!0});const r=Object.keys(n);return r.sort(),r.join("|")}else return VA(e)}).join("&")}function f9(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const n=e.split("|").map(r=>r==="null"?null:r);return n.length===1?n[0]:n})}function Hd(t){if(typeof t=="string"){if(t=t.toLowerCase(),Hu(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+WA(t);if(fV.isForkEvent(t))throw tn.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+WA(t.topics||[])}throw new Error("invalid event - "+t)}function ip(){return new Date().getTime()}function qA(t){return new Promise(e=>{setTimeout(e,t)})}const h9=["block","network","pending","poll"];let p9=class{constructor(e,n,r){_e(this,"tag",e),_e(this,"listener",n),_e(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const n=e[1],r=f9(e[2]),i={};return r.length>0&&(i.topics=r),n&&n!=="*"&&(i.address=n),i}pollable(){return this.tag.indexOf(":")>=0||h9.indexOf(this.tag)>=0}};const m9={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Gw(t){return nr(de.from(t).toHexString(),32)}function HA(t){return Nk.encode(Ls([t,ki(IA(IA(t)),0,4)]))}const j5=new RegExp("^(ipfs)://(.*)$","i"),GA=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),j5,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function N0(t,e){try{return Jm(gm(t,e))}catch{}return null}function gm(t,e){if(t==="0x")return null;const n=de.from(ki(t,e,e+32)).toNumber(),r=de.from(ki(t,n,n+32)).toNumber();return ki(t,n+32,n+32+r)}function Kw(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):tn.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function KA(t){const e=Nt(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function g9(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function P5(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(null),n+=32;for(let r=0;r<t.length;r++){const i=Nt(t[r]);e[r]=KA(n),e.push(KA(i.length)),e.push(g9(i)),n+=32+Math.ceil(i.length/32)*32}return cs(e)}class YA{constructor(e,n,r,i){_e(this,"provider",e),_e(this,"name",r),_e(this,"address",e.formatter.address(n)),_e(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>de.from(e).eq(1)).catch(e=>{if(e.code===le.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,n){return Bt(this,void 0,void 0,function*(){const r={to:this.address,ccipReadEnabled:!0,data:cs([e,S0(this.name),n||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,r.data=cs(["0x9061b923",P5([J7(this.name),r.data])]));try{let s=yield this.provider.call(r);return Nt(s).length%32===4&&tn.throwError("resolver threw error",le.errors.CALL_EXCEPTION,{transaction:r,data:s}),i&&(s=gm(s,0)),s}catch(s){if(s.code===le.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,n){return Bt(this,void 0,void 0,function*(){const r=yield this._fetch(e,n);return r!=null?gm(r,0):null})}_getAddress(e,n){const r=m9[String(e)];if(r==null&&tn.throwError(`unsupported coin type: ${e}`,le.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),r.ilk==="eth")return this.provider.formatter.address(n);const i=Nt(n);if(r.p2pkh!=null){const s=n.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return HA(Ls([[r.p2pkh],"0x"+s[2]]))}}if(r.p2sh!=null){const s=n.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return HA(Ls([[r.p2sh],"0x"+s[2]]))}}if(r.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=BA.toWords(i.slice(2));return a.unshift(o),BA.encode(r.prefix,a)}}return null}getAddress(e){return Bt(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===g7?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===le.errors.CALL_EXCEPTION)return null;throw i}const n=yield this._fetchBytes("0xf1cb7e06",Gw(e));if(n==null||n==="0x")return null;const r=this._getAddress(e,n);return r==null&&tn.throwError("invalid or unsupported coin data",le.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:n}),r})}getAvatar(){return Bt(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const n=yield this.getText("avatar");if(n==null)return null;for(let r=0;r<GA.length;r++){const i=n.match(GA[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:n}),{linkage:e,url:n};case"data":return e.push({type:"data",content:n}),{linkage:e,url:n};case"ipfs":return e.push({type:"ipfs",content:n}),{linkage:e,url:Kw(n)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:n});const a=this._resolvedAddress||(yield this.getAddress()),c=(i[2]||"").split("/");if(c.length!==2)return null;const d=yield this.provider.formatter.address(c[0]),f=nr(de.from(c[1]).toHexString(),32);if(s==="erc721"){const x=this.provider.formatter.callAddress(yield this.provider.call({to:d,data:cs(["0x6352211e",f])}));if(a!==x)return null;e.push({type:"owner",content:x})}else if(s==="erc1155"){const x=de.from(yield this.provider.call({to:d,data:cs(["0x00fdd58e",nr(a,32),f])}));if(x.isZero())return null;e.push({type:"balance",content:x.toString()})}const p={to:this.provider.formatter.address(c[0]),data:cs([o,f])};let g=N0(yield this.provider.call(p),0);if(g==null)return null;e.push({type:"metadata-url-base",content:g}),s==="erc1155"&&(g=g.replace("{id}",f.substring(2)),e.push({type:"metadata-url-expanded",content:g})),g.match(/^ipfs:/i)&&(g=Kw(g)),e.push({type:"metadata-url",content:g});const m=yield ev(g);if(!m)return null;e.push({type:"metadata",content:JSON.stringify(m)});let v=m.image;if(typeof v!="string")return null;if(!v.match(/^(https:\/\/|data:)/i)){if(v.match(j5)==null)return null;e.push({type:"url-ipfs",content:v}),v=Kw(v)}return e.push({type:"url",content:v}),{linkage:e,url:v}}}}}catch{}return null})}getContentHash(){return Bt(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const n=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipfs://"+Nk.encode("0x"+n[1])}const r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipns://"+Nk.encode("0x"+r[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===64)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===68){const o={"=":"","+":"-","/":"_"};return"sia://"+o5("0x"+s[1]).replace(/[=+\/]/g,c=>o[c])}return tn.throwError("invalid or unsupported content hash data",le.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Bt(this,void 0,void 0,function*(){let n=Fa(e);n=Ls([Gw(64),Gw(n.length),n]),n.length%32!==0&&(n=Ls([n,nr("0x",32-e.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",dt(n));return r==null||r==="0x"?null:Jm(r)})}}let Yw=null,y9=1;class RS extends _S{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),_e(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(n=>{}),this._ready().catch(n=>{});else{const n=Fs(new.target,"getNetwork")(e);n?(_e(this,"_network",n),this.emit("network",n,null)):tn.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Bt(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||tn.throwError("no network detected",le.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:_e(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return mf(()=>this._ready().then(e=>e,e=>{if(!(e.code===le.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return Yw==null&&(Yw=new it),Yw}static getNetwork(e){return A5(e??"homestead")}ccipReadFetch(e,n,r){return Bt(this,void 0,void 0,function*(){if(this.disableCcipRead||r.length===0)return null;const i=e.to.toLowerCase(),s=n.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const c=r[a],d=c.replace("{sender}",i).replace("{data}",s),f=c.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),p=yield ev({url:d,errorPassThrough:!0},f,(m,v)=>(m.status=v.statusCode,m));if(p.data)return p.data;const g=p.message||"unknown error";if(p.status>=400&&p.status<500)return tn.throwError(`response not found during CCIP fetch: ${g}`,le.errors.SERVER_ERROR,{url:c,errorMessage:g});o.push(g)}return tn.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,le.errors.SERVER_ERROR,{urls:r,errorMessages:o})})}_getInternalBlockNumber(e){return Bt(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(ip()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const n=ip(),r=Ar({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),s;const o=ip();return i=de.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:n,respTime:o}});return this._internalBlockNumber=r,r.catch(i=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return Bt(this,void 0,void 0,function*(){const e=y9++,n=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)tn.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",tn.makeError("network block skew detected",le.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let i=this._emitted.block+1;i<=r;i++)this.emit("block",i);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&r-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=r-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});n.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=r-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=r;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(c=>{i._inflight=!1,c.length!==0&&c.forEach(d=>{d.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=d.blockNumber),this._emitted["b:"+d.blockHash]=d.blockNumber,this._emitted["t:"+d.transactionHash]=d.blockNumber,this.emit(s,d)})}).catch(c=>{this.emit("error",c),i._inflight=!1});n.push(a)}break}}}),this._lastBlockNumber=r,Promise.all(n).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Bt(this,void 0,void 0,function*(){return tn.throwError("provider does not support network detection",le.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Bt(this,void 0,void 0,function*(){const e=yield this._ready(),n=yield this.detectNetwork();if(e.chainId!==n.chainId){if(this.anyNetwork)return this._network=n,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",n,e),yield qA(0),this._network;const r=tn.makeError("underlying network changed",le.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:n});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=ip();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(n=>((this._fastBlockNumber==null||n>this._fastBlockNumber)&&(this._fastBlockNumber=n),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=ip(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,n,r){return Bt(this,void 0,void 0,function*(){return this._waitForTransaction(e,n??1,r||0,null)})}_waitForTransaction(e,n,r,i){return Bt(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=n?s:new Promise((o,a)=>{const c=[];let d=!1;const f=function(){return d?!0:(d=!0,c.forEach(g=>{g()}),!1)},p=g=>{g.confirmations<n||f()||o(g)};if(this.on(e,p),c.push(()=>{this.removeListener(e,p)}),i){let g=i.startBlock,m=null;const v=x=>Bt(this,void 0,void 0,function*(){d||(yield qA(1e3),this.getTransactionCount(i.from).then(T=>Bt(this,void 0,void 0,function*(){if(!d){if(T<=i.nonce)g=x;else{{const _=yield this.getTransaction(e);if(_&&_.blockNumber!=null)return}for(m==null&&(m=g-3,m<i.startBlock&&(m=i.startBlock));m<=x;){if(d)return;const _=yield this.getBlockWithTransactions(m);for(let j=0;j<_.transactions.length;j++){const w=_.transactions[j];if(w.hash===e)return;if(w.from===i.from&&w.nonce===i.nonce){if(d)return;const F=yield this.waitForTransaction(w.hash,n);if(f())return;let z="replaced";w.data===i.data&&w.to===i.to&&w.value.eq(i.value)?z="repriced":w.data==="0x"&&w.from===w.to&&w.value.isZero()&&(z="cancelled"),a(tn.makeError("transaction was replaced",le.errors.TRANSACTION_REPLACED,{cancelled:z==="replaced"||z==="cancelled",reason:z,replacement:this._wrapTransaction(w),hash:e,receipt:F}));return}}m++}}d||this.once("block",v)}}),T=>{d||this.once("block",v)}))});if(d)return;this.once("block",v),c.push(()=>{this.removeListener("block",v)})}if(typeof r=="number"&&r>0){const g=setTimeout(()=>{f()||a(tn.makeError("timeout exceeded",le.errors.TIMEOUT,{timeout:r}))},r);g.unref&&g.unref(),c.push(()=>{clearTimeout(g)})}})})}getBlockNumber(){return Bt(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return de.from(e)}catch(n){return tn.throwError("bad result from backend",le.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:n})}})}getBalance(e,n){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Ar({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getBalance",r);try{return de.from(i)}catch(s){return tn.throwError("bad result from backend",le.errors.SERVER_ERROR,{method:"getBalance",params:r,result:i,error:s})}})}getTransactionCount(e,n){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Ar({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getTransactionCount",r);try{return de.from(i).toNumber()}catch(s){return tn.throwError("bad result from backend",le.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:i,error:s})}})}getCode(e,n){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Ar({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getCode",r);try{return dt(i)}catch(s){return tn.throwError("bad result from backend",le.errors.SERVER_ERROR,{method:"getCode",params:r,result:i,error:s})}})}getStorageAt(e,n,r){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Ar({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(n).then(o=>Gx(o))}),s=yield this.perform("getStorageAt",i);try{return dt(s)}catch(o){return tn.throwError("bad result from backend",le.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,n,r){if(n!=null&&Hu(n)!==32)throw new Error("invalid response - sendTransaction");const i=e;return n!=null&&e.hash!==n&&tn.throwError("Transaction hash mismatch from Provider.sendTransaction.",le.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:n}),i.wait=(s,o)=>Bt(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&r!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});const c=yield this._waitForTransaction(e.hash,s,o,a);return c==null&&s===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&tn.throwError("transaction failed",le.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Promise.resolve(e).then(s=>dt(s)),r=this.formatter.transaction(e);r.confirmations==null&&(r.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:n});return this._wrapTransaction(r,s,i)}catch(s){throw s.transaction=r,s.transactionHash=r.hash,s}})}_getTransactionRequest(e){return Bt(this,void 0,void 0,function*(){const n=yield e,r={};return["from","to"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s?de.from(s):null))}),["type"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s??null))}),n.accessList&&(r.accessList=this.formatter.accessList(n.accessList)),["data"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s?dt(s):null))}),this.formatter.transactionRequest(yield Ar(r))})}_getFilter(e){return Bt(this,void 0,void 0,function*(){e=yield e;const n={};return e.address!=null&&(n.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{e[r]!=null&&(n[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{e[r]!=null&&(n[r]=this._getBlockTag(e[r]))}),this.formatter.filter(yield Ar(n))})}_call(e,n,r){return Bt(this,void 0,void 0,function*(){r>=d9&&tn.throwError("CCIP read exceeded maximum redirections",le.errors.SERVER_ERROR,{redirects:r,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:n});if(r>=0&&n==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&Hu(s)%32===4)try{const o=ki(s,4),a=ki(o,0,32);de.from(a).eq(i)||tn.throwError("CCIP Read sender did not match",le.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const c=[],d=de.from(ki(o,32,64)).toNumber(),f=de.from(ki(o,d,d+32)).toNumber(),p=ki(o,d+32);for(let _=0;_<f;_++){const j=N0(p,_*32);j==null&&tn.throwError("CCIP Read contained corrupt URL string",le.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),c.push(j)}const g=gm(o,64);de.from(ki(o,100,128)).isZero()||tn.throwError("CCIP Read callback selector included junk",le.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const m=ki(o,96,100),v=gm(o,128),x=yield this.ccipReadFetch(e,g,c);x==null&&tn.throwError("CCIP Read disabled or provided no URLs",le.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const T={to:i,data:cs([m,P5([x,v])])};return this._call(T,n,r+1)}catch(o){if(o.code===le.errors.SERVER_ERROR)throw o}try{return dt(s)}catch(o){return tn.throwError("bad result from backend",le.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:n},result:s,error:o})}})}call(e,n){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Ar({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(n),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ar({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",n);try{return de.from(r)}catch(i){return tn.throwError("bad result from backend",le.errors.SERVER_ERROR,{method:"estimateGas",params:n,result:r,error:i})}})}_getAddress(e){return Bt(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&tn.throwArgumentError("invalid address or ENS name","name",e);const n=yield this.resolveName(e);return n==null&&tn.throwError("ENS name not configured",le.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),n})}_getBlock(e,n){return Bt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128;const i={includeTransactions:!!n};if(Qt(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),Qt(i.blockTag)&&(r=parseInt(i.blockTag.substring(2),16))}catch{tn.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return mf(()=>Bt(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&r>this._emitted.block?null:void 0;if(n){let o=null;for(let c=0;c<s.transactions.length;c++){const d=s.transactions[c];if(d.blockNumber==null)d.confirmations=0;else if(d.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let f=o-d.blockNumber+1;f<=0&&(f=1),d.confirmations=f}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(c=>this._wrapTransaction(c)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Bt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return mf(()=>Bt(this,void 0,void 0,function*(){const r=yield this.perform("getTransaction",n);if(r==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return Bt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return mf(()=>Bt(this,void 0,void 0,function*(){const r=yield this.perform("getTransactionReceipt",n);if(r==null)return this._emitted["t:"+e]==null?null:void 0;if(r.blockHash==null)return;const i=this.formatter.receipt(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ar({filter:this._getFilter(e)}),r=yield this.perform("getLogs",n);return r.forEach(i=>{i.removed==null&&(i.removed=!1)}),it.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return Bt(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Bt(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&tn.throwArgumentError("invalid BlockTag","blockTag",e);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return n+=e,n<0&&(n=0),this.formatter.blockTag(n)}return this.formatter.blockTag(e)})}getResolver(e){return Bt(this,void 0,void 0,function*(){let n=e;for(;;){if(n===""||n==="."||e!=="eth"&&n==="eth")return null;const r=yield this._getResolver(n,"getResolver");if(r!=null){const i=new YA(this,r,e);return n!==e&&!(yield i.supportsWildcard())?null:i}n=n.split(".").slice(1).join(".")}})}_getResolver(e,n){return Bt(this,void 0,void 0,function*(){n==null&&(n="ENS");const r=yield this.getNetwork();r.ensAddress||tn.throwError("network does not support ENS",le.errors.UNSUPPORTED_OPERATION,{operation:n,network:r.name});try{const i=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+S0(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return Bt(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(r){if(Qt(e))throw r}typeof e!="string"&&tn.throwArgumentError("invalid ENS name","name",e);const n=yield this.getResolver(e);return n?yield n.getAddress():null})}lookupAddress(e){return Bt(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const n=e.substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(n,"lookupAddress");if(r==null)return null;const i=N0(yield this.call({to:r,data:"0x691f3431"+S0(n).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return Bt(this,void 0,void 0,function*(){let n=null;if(Qt(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;n=new YA(this,o,s);try{const a=yield n.getAvatar();if(a)return a.url}catch(a){if(a.code!==le.errors.CALL_EXCEPTION)throw a}try{const a=N0(yield this.call({to:o,data:"0x691f3431"+S0(s).substring(2)}),0);n=yield this.getResolver(a)}catch(a){if(a.code!==le.errors.CALL_EXCEPTION)throw a;return null}}else if(n=yield this.getResolver(e),!n)return null;const r=yield n.getAvatar();return r==null?null:r.url})}perform(e,n){return tn.throwError(e+" not implemented",le.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_addEventListener(e,n,r){const i=new p9(Hd(e),n,r);return this._events.push(i),this._startEvent(i),this}on(e,n){return this._addEventListener(e,n,!1)}once(e,n){return this._addEventListener(e,n,!0)}emit(e,...n){let r=!1,i=[],s=Hd(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,n)},0),r=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),r}listenerCount(e){if(!e)return this._events.length;let n=Hd(e);return this._events.filter(r=>r.tag===n).length}listeners(e){if(e==null)return this._events.map(r=>r.listener);let n=Hd(e);return this._events.filter(r=>r.tag===n).map(r=>r.listener)}off(e,n){if(n==null)return this.removeAllListeners(e);const r=[];let i=!1,s=Hd(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=n||i?!0:(i=!0,r.push(o),!1)),r.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let n=[];if(e==null)n=this._events,this._events=[];else{const r=Hd(e);this._events=this._events.filter(i=>i.tag!==r?!0:(n.push(i),!1))}return n.forEach(r=>{this._stopEvent(r)}),this}}var il=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{d(r.next(f))}catch(p){o(p)}}function c(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((r=r.apply(t,e||[])).next())})};const jr=new le(di),x9=["call","estimateGas"];function Op(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const n=Qt(t.data)?t.data:null;if(!e||n)return{message:t.message,data:n}}if(typeof t=="object"){for(const n in t){const r=Op(t[n],e);if(r)return r}return null}if(typeof t=="string")try{return Op(JSON.parse(t),e)}catch{}return null}function R5(t,e,n){const r=n.transaction||n.signedTransaction;if(t==="call"){const s=Op(e,!0);if(s)return s.data;jr.throwError("missing revert data in call exception; Transaction reverted without a reason string",le.errors.CALL_EXCEPTION,{data:"0x",transaction:r,error:e})}if(t==="estimateGas"){let s=Op(e.body,!1);s==null&&(s=Op(e,!1)),s&&jr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",le.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:r,error:e})}let i=e.message;throw e.code===le.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&jr.throwError("insufficient funds for intrinsic transaction cost",le.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),i.match(/nonce (is )?too low/i)&&jr.throwError("nonce has already been used",le.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&jr.throwError("replacement fee too low",le.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),i.match(/only replay-protected/i)&&jr.throwError("legacy pre-eip-155 transactions not supported",le.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:r}),x9.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&jr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",le.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}function XA(t){return new Promise(function(e){setTimeout(e,t)})}function v9(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function sp(t){return t&&t.toLowerCase()}const Ak={};class I5 extends Qm{constructor(e,n,r){if(super(),e!==Ak)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");_e(this,"provider",n),r==null&&(r=0),typeof r=="string"?(_e(this,"_address",this.provider.formatter.address(r)),_e(this,"_index",null)):typeof r=="number"?(_e(this,"_index",r),_e(this,"_address",null)):jr.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return jr.throwError("cannot alter JSON-RPC Signer connection",le.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new b9(Ak,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&jr.throwError("unknown account #"+this._index,le.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=er(e);const n=this.getAddress().then(r=>(r&&(r=r.toLowerCase()),r));if(e.gasLimit==null){const r=er(e);r.from=n,e.gasLimit=this.provider.estimateGas(r)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(r=>il(this,void 0,void 0,function*(){if(r==null)return null;const i=yield this.provider.resolveName(r);return i==null&&jr.throwArgumentError("provided ENS name resolves to null","tx.to",r),i}))),Ar({tx:Ar(e),sender:n}).then(({tx:r,sender:i})=>{r.from!=null?r.from.toLowerCase()!==i&&jr.throwArgumentError("from address mismatch","transaction",e):r.from=i;const s=this.provider.constructor.hexlifyTransaction(r,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&jr.throwError("user rejected transaction",le.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:r}),R5("sendTransaction",o,s)))})}signTransaction(e){return jr.throwError("signing transactions is unsupported",le.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return il(this,void 0,void 0,function*(){const n=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield mf(()=>il(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(r);if(i!==null)return this.provider._wrapTransaction(i,r,n)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=r,i}})}signMessage(e){return il(this,void 0,void 0,function*(){const n=typeof e=="string"?Fa(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[dt(n),r.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&jr.throwError("user rejected signing",le.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),i}})}_legacySignMessage(e){return il(this,void 0,void 0,function*(){const n=typeof e=="string"?Fa(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),dt(n)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&jr.throwError("user rejected signing",le.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),i}})}_signTypedData(e,n,r){return il(this,void 0,void 0,function*(){const i=yield Cs.resolveNames(e,n,r,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(Cs.getPayload(i.domain,n,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&jr.throwError("user rejected signing",le.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:n,value:i.value}}),o}})}unlock(e){return il(this,void 0,void 0,function*(){const n=this.provider,r=yield this.getAddress();return n.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class b9 extends I5{sendTransaction(e){return this.sendUncheckedTransaction(e).then(n=>({hash:n,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:r=>this.provider.waitForTransaction(n,r)}))}}const w9={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class qf extends RS{constructor(e,n){let r=n;r==null&&(r=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(r),e||(e=Fs(this.constructor,"defaultUrl")()),typeof e=="string"?_e(this,"connection",Object.freeze({url:e})):_e(this,"connection",Object.freeze(er(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return il(this,void 0,void 0,function*(){yield XA(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const n=Fs(this.constructor,"getNetwork");try{return n(de.from(e).toNumber())}catch(r){return jr.throwError("could not detect network",le.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:r})}}return jr.throwError("could not detect network",le.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new I5(Ak,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(n=>this.formatter.address(n)))}send(e,n){const r={method:e,params:n,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Us(r),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=ev(this.connection,JSON.stringify(r),v9).then(o=>(this.emit("debug",{action:"response",request:r,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:r,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,n){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[sp(n.address),n.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[sp(n.address),n.blockTag]];case"getCode":return["eth_getCode",[sp(n.address),n.blockTag]];case"getStorageAt":return["eth_getStorageAt",[sp(n.address),nr(n.position,32),n.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[n.signedTransaction]];case"getBlock":return n.blockTag?["eth_getBlockByNumber",[n.blockTag,!!n.includeTransactions]]:n.blockHash?["eth_getBlockByHash",[n.blockHash,!!n.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[n.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[n.transactionHash]];case"call":return["eth_call",[Fs(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0}),n.blockTag]];case"estimateGas":return["eth_estimateGas",[Fs(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0})]];case"getLogs":return n.filter&&n.filter.address!=null&&(n.filter.address=sp(n.filter.address)),["eth_getLogs",[n.filter]]}return null}perform(e,n){return il(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=n.transaction;if(i&&i.type!=null&&de.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(n=er(n),n.transaction=er(i),delete n.transaction.type)}}const r=this.prepareRequest(e,n);r==null&&jr.throwError(e+" not implemented",le.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(i){return R5(e,i,n)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,n=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=n,n.then(function(r){function i(){e.send("eth_getFilterChanges",[r]).then(function(s){if(e._pendingFilter!=n)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(c){return e.emit("pending",c),null})})}),o.then(function(){return XA(1e3)})}).then(function(){if(e._pendingFilter!=n){e.send("eth_uninstallFilter",[r]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),r}).catch(r=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,n){const r=er(w9);if(n)for(const s in n)n[s]&&(r[s]=!0);WU(e,r);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=Gx(de.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=dt(e[s]))}),e.accessList&&(i.accessList=hd(e.accessList)),i}}let Lp=null;try{if(Lp=WebSocket,Lp==null)throw new Error("inject please")}catch{const e=new le(di);Lp=function(){e.throwError("WebSockets not supported in this environment",le.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var Xw=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{d(r.next(f))}catch(p){o(p)}}function c(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((r=r.apply(t,e||[])).next())})};const Ey=new le(di);let k9=1;class IS extends qf{constructor(e,n){n==="any"&&Ey.throwError("WebSocketProvider does not support 'any' network yet",le.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,n):super("_websocket",n),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?_e(this,"_websocket",new Lp(this.connection.url)):_e(this,"_websocket",e),_e(this,"_requests",{}),_e(this,"_subs",{}),_e(this,"_subIds",{}),_e(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(i=>{this.websocket.send(this._requests[i].payload)})},this.websocket.onmessage=i=>{const s=i.data,o=JSON.parse(s);if(o.id!=null){const a=String(o.id),c=this._requests[a];if(delete this._requests[a],o.result!==void 0)c.callback(null,o.result),this.emit("debug",{action:"response",request:JSON.parse(c.payload),response:o.result,provider:this});else{let d=null;o.error?(d=new Error(o.error.message||"unknown error"),_e(d,"code",o.error.code||null),_e(d,"response",s)):d=new Error("unknown error"),c.callback(d,void 0),this.emit("debug",{action:"response",error:d,request:JSON.parse(c.payload),provider:this})}}else if(o.method==="eth_subscription"){const a=this._subs[o.params.subscription];a&&a.processFunc(o.params.result)}else console.warn("this should not happen")};const r=setInterval(()=>{this.emit("poll")},1e3);r.unref&&r.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){Ey.throwError("cannot reset events block on WebSocketProvider",le.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){Ey.throwError("cannot set polling interval on WebSocketProvider",le.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return Xw(this,void 0,void 0,function*(){return null})}set polling(e){e&&Ey.throwError("cannot set polling on WebSocketProvider",le.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,n){const r=k9++;return new Promise((i,s)=>{function o(c,d){return c?s(c):i(d)}const a=JSON.stringify({method:e,params:n,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(a),provider:this}),this._requests[String(r)]={callback:o,payload:a},this._wsReady&&this.websocket.send(a)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,n,r){return Xw(this,void 0,void 0,function*(){let i=this._subIds[e];i==null&&(i=Promise.all(n).then(o=>this.send("eth_subscribe",o)),this._subIds[e]=i);const s=yield i;this._subs[s]={tag:e,processFunc:r}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],n=>{const r=de.from(n.number).toNumber();this._emitted.block=r,this.emit("block",r)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],n=>{this.emit("pending",n)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],n=>{n.removed==null&&(n.removed=!1),this.emit(e.filter,this.formatter.filterLog(n))});break;case"tx":{const n=r=>{const i=r.hash;this.getTransactionReceipt(i).then(s=>{s&&this.emit(i,s)})};n(e),this._subscribe("tx",["newHeads"],r=>{this._events.filter(i=>i.type==="tx").forEach(n)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let n=e.tag;if(e.type==="tx"){if(this._events.filter(i=>i.type==="tx").length)return;n="tx"}else if(this.listenerCount(e.event))return;const r=this._subIds[n];r&&(delete this._subIds[n],r.then(i=>{this._subs[i]&&(delete this._subs[i],this.send("eth_unsubscribe",[i]))}))}destroy(){return Xw(this,void 0,void 0,function*(){this.websocket.readyState===Lp.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var T9=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{d(r.next(f))}catch(p){o(p)}}function c(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((r=r.apply(t,e||[])).next())})};const wp=new le(di);class S9 extends qf{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return T9(this,void 0,void 0,function*(){let n=this.network;return n==null&&(n=yield e.detectNetwork.call(this),n||wp.throwError("no network detected",le.errors.UNKNOWN_ERROR,{}),this._network==null&&(_e(this,"_network",n),this.emit("network",n,null))),n})}}class Cl extends S9{constructor(e,n){wp.checkAbstract(new.target,Cl),e=Fs(new.target,"getNetwork")(e),n=Fs(new.target,"getApiKey")(n);const r=Fs(new.target,"getUrl")(e,n);super(r,e),typeof n=="string"?_e(this,"apiKey",n):n!=null&&Object.keys(n).forEach(i=>{_e(this,i,n[i])})}_startPending(){wp.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return wp.throwError("API provider does not support signing",le.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,n){return wp.throwError("not implemented; sub-classes must override getUrl",le.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const JA=new le(di),A0="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class C9 extends IS{constructor(e,n){const r=new M5(e,n),i=r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(i,r.network),_e(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===A0}}class M5 extends Cl{static getWebSocketProvider(e,n){return new C9(e,n)}static getApiKey(e){return e==null?A0:(e&&typeof e!="string"&&JA.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,n){let r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.g.alchemy.com/v2/";break;case"sepolia":r="eth-sepolia.g.alchemy.com/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":r="arb-goerli.g.alchemy.com/v2/";break;case"arbitrum-sepolia":r="arb-sepolia.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":r="opt-goerli.g.alchemy.com/v2/";break;case"optimism-sepolia":r="opt-sepolia.g.alchemy.com/v2/";break;default:JA.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+n,throttleCallback:(i,s)=>(n===A0&&tv(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===A0}}const _9=new le(di),Ny="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function E9(t){switch(t){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"sepolia":return"rpc.ankr.com/eth_sepolia/";case"matic":return"rpc.ankr.com/polygon/";case"maticmum":return"rpc.ankr.com/polygon_mumbai/";case"optimism":return"rpc.ankr.com/optimism/";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet/";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return _9.throwArgumentError("unsupported network","name",t)}class N9 extends Cl{isCommunityResource(){return this.apiKey===Ny}static getApiKey(e){return e??Ny}static getUrl(e,n){n==null&&(n=Ny);const r={allowGzip:!0,url:"https://"+E9(e.name)+n,throttleCallback:(i,s)=>(n.apiKey===Ny&&tv(),Promise.resolve(!0))};return n.projectSecret!=null&&(r.user="",r.password=n.projectSecret),r}}var A9=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{d(r.next(f))}catch(p){o(p)}}function c(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((r=r.apply(t,e||[])).next())})};const QA=new le(di);class j9 extends Cl{static getApiKey(e){return e!=null&&QA.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,n){let r=null;switch(e.name){case"homestead":r="https://cloudflare-eth.com/";break;default:QA.throwArgumentError("unsupported network","network",arguments[0])}return r}perform(e,n){const r=Object.create(null,{perform:{get:()=>super.perform}});return A9(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield r.perform.call(this,"getBlock",{blockTag:"latest"})).number:r.perform.call(this,e,n)})}}var Ay=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{d(r.next(f))}catch(p){o(p)}}function c(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((r=r.apply(t,e||[])).next())})};const ec=new le(di);function ZA(t){const e={};for(let n in t){if(t[n]==null)continue;let r=t[n];n==="type"&&r===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[n]?r=Gx(dt(r)):n==="accessList"?r="["+hd(r).map(i=>`{address:"${i.address}",storageKeys:["${i.storageKeys.join('","')}"]}`).join(",")+"]":r=dt(r),e[n]=r)}return e}function P9(t){if(t.status==0&&(t.message==="No records found"||t.message==="No transactions found"))return t.result;if(t.status!=1||typeof t.message!="string"||!t.message.match(/^OK/)){const e=new Error("invalid response");throw e.result=JSON.stringify(t),(t.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return t.result}function ej(t){if(t&&t.status==0&&t.message=="NOTOK"&&(t.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(t),e.throttleRetry=!0,e}if(t.jsonrpc!="2.0"){const e=new Error("invalid response");throw e.result=JSON.stringify(t),e}if(t.error){const e=new Error(t.error.message||"unknown error");throw t.error.code&&(e.code=t.error.code),t.error.data&&(e.data=t.error.data),e}return t.result}function tj(t){if(t==="pending")throw new Error("pending not supported");return t==="latest"?t:parseInt(t.substring(2),16)}function Jw(t,e,n){if(t==="call"&&e.code===le.errors.SERVER_ERROR){const i=e.error;if(i&&(i.message.match(/reverted/i)||i.message.match(/VM execution error/i))){let s=i.data;if(s&&(s="0x"+s.replace(/^.*0x/i,"")),Qt(s))return s;ec.throwError("missing revert data in call exception",le.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let r=e.message;throw e.code===le.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?r=e.error.message:typeof e.body=="string"?r=e.body:typeof e.responseText=="string"&&(r=e.responseText)),r=(r||"").toLowerCase(),r.match(/insufficient funds/)&&ec.throwError("insufficient funds for intrinsic transaction cost",le.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),r.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&ec.throwError("nonce has already been used",le.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),r.match(/another transaction with same nonce/)&&ec.throwError("replacement fee too low",le.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),r.match(/execution failed due to an exception|execution reverted/)&&ec.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",le.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}class R9 extends RS{constructor(e,n){super(e),_e(this,"baseUrl",this.getBaseUrl()),_e(this,"apiKey",n||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return ec.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,n){const r=Object.keys(n).reduce((s,o)=>{const a=n[o];return a!=null&&(s+=`&${o}=${a}`),s},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${r}${i}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,n){return n.module=e,n.apikey=this.apiKey,n}fetch(e,n,r){return Ay(this,void 0,void 0,function*(){const i=r?this.getPostUrl():this.getUrl(e,n),s=r?this.getPostData(e,n):null,o=e==="proxy"?ej:P9;this.emit("debug",{action:"request",request:i,provider:this});const a={url:i,throttleSlotInterval:1e3,throttleCallback:(f,p)=>(this.isCommunityResource()&&tv(),Promise.resolve(!0))};let c=null;s&&(a.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},c=Object.keys(s).map(f=>`${f}=${s[f]}`).join("&"));const d=yield ev(a,c,o||ej);return this.emit("debug",{action:"response",request:i,response:Us(d),provider:this}),d})}detectNetwork(){return Ay(this,void 0,void 0,function*(){return this.network})}perform(e,n){const r=Object.create(null,{perform:{get:()=>super.perform}});return Ay(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:n.address,tag:n.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:n.address,tag:n.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:n.address,tag:n.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:n.address,position:n.position,tag:n.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:n.signedTransaction},!0).catch(i=>Jw("sendTransaction",i,n.signedTransaction));case"getBlock":if(n.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:n.blockTag,boolean:n.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:n.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:n.transactionHash});case"call":{if(n.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const i=ZA(n.transaction);i.module="proxy",i.action="eth_call";try{return yield this.fetch("proxy",i,!0)}catch(s){return Jw("call",s,n.transaction)}}case"estimateGas":{const i=ZA(n.transaction);i.module="proxy",i.action="eth_estimateGas";try{return yield this.fetch("proxy",i,!0)}catch(s){return Jw("estimateGas",s,n.transaction)}}case"getLogs":{const i={action:"getLogs"};if(n.filter.fromBlock&&(i.fromBlock=tj(n.filter.fromBlock)),n.filter.toBlock&&(i.toBlock=tj(n.filter.toBlock)),n.filter.address&&(i.address=n.filter.address),n.filter.topics&&n.filter.topics.length>0&&(n.filter.topics.length>1&&ec.throwError("unsupported topic count",le.errors.UNSUPPORTED_OPERATION,{topics:n.filter.topics}),n.filter.topics.length===1)){const a=n.filter.topics[0];(typeof a!="string"||a.length!==66)&&ec.throwError("unsupported topic format",le.errors.UNSUPPORTED_OPERATION,{topic0:a}),i.topic0=a}const s=yield this.fetch("logs",i);let o={};for(let a=0;a<s.length;a++){const c=s[a];if(c.blockHash==null){if(o[c.blockNumber]==null){const d=yield this.getBlock(c.blockNumber);d&&(o[c.blockNumber]=d.hash)}c.blockHash=o[c.blockNumber]}}return s}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return r.perform.call(this,e,n)})}getHistory(e,n,r){return Ay(this,void 0,void 0,function*(){const i={action:"txlist",address:yield this.resolveName(e),startblock:n??0,endblock:r??99999999,sort:"asc"};return(yield this.fetch("account",i)).map(o=>{["contractAddress","to"].forEach(function(c){o[c]==""&&delete o[c]}),o.creates==null&&o.contractAddress!=null&&(o.creates=o.contractAddress);const a=this.formatter.transactionResponse(o);return o.timeStamp&&(a.timestamp=parseInt(o.timeStamp)),a})})}isCommunityResource(){return this.apiKey==null}}var ox=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{d(r.next(f))}catch(p){o(p)}}function c(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((r=r.apply(t,e||[])).next())})};const _u=new le(di);function jy(){return new Date().getTime()}function nj(t){let e=null;for(let n=0;n<t.length;n++){const r=t[n];if(r==null)return null;e?e.name===r.name&&e.chainId===r.chainId&&(e.ensAddress===r.ensAddress||e.ensAddress==null&&r.ensAddress==null)||_u.throwArgumentError("provider mismatch","networks",t):e=r}return e}function rj(t,e){t=t.slice().sort();const n=Math.floor(t.length/2);if(t.length%2)return t[n];const r=t[n-1],i=t[n];return e!=null&&Math.abs(r-i)>e?null:(r+i)/2}function gf(t){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return JSON.stringify(t);if(typeof t=="string")return t;if(de.isBigNumber(t))return t.toString();if(Array.isArray(t))return JSON.stringify(t.map(e=>gf(e)));if(typeof t=="object"){const e=Object.keys(t);return e.sort(),"{"+e.map(n=>{let r=t[n];return typeof r=="function"?r="[function]":r=gf(r),JSON.stringify(n)+":"+r}).join(",")+"}"}throw new Error("unknown value type: "+typeof t)}let I9=1;function ij(t){let e=null,n=null,r=new Promise(o=>{e=function(){n&&(clearTimeout(n),n=null),o()},n=setTimeout(e,t)});const i=o=>(r=r.then(o),r);function s(){return r}return{cancel:e,getPromise:s,wait:i}}const M9=[le.errors.CALL_EXCEPTION,le.errors.INSUFFICIENT_FUNDS,le.errors.NONCE_EXPIRED,le.errors.REPLACEMENT_UNDERPRICED,le.errors.UNPREDICTABLE_GAS_LIMIT],D9=["address","args","errorArgs","errorSignature","method","transaction"];function Py(t,e){const n={weight:t.weight};return Object.defineProperty(n,"provider",{get:()=>t.provider}),t.start&&(n.start=t.start),e&&(n.duration=e-t.start),t.done&&(t.error?n.error=t.error:n.result=t.result||null),n}function O9(t,e){return function(n){const r={};n.forEach(s=>{const o=t(s.result);r[o]||(r[o]={count:0,result:s.result}),r[o].count++});const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]];if(o.count>=e)return o.result}}}function L9(t,e,n){let r=gf;switch(e){case"getBlockNumber":return function(i){const s=i.map(a=>a.result);let o=rj(i.map(a=>a.result),2);if(o!=null)return o=Math.ceil(o),s.indexOf(o+1)>=0&&o++,o>=t._highestBlockNumber&&(t._highestBlockNumber=o),t._highestBlockNumber};case"getGasPrice":return function(i){const s=i.map(o=>o.result);return s.sort(),s[Math.floor(s.length/2)]};case"getEtherPrice":return function(i){return rj(i.map(s=>s.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":r=function(i){return i==null?null:(i=er(i),i.confirmations=-1,gf(i))};break;case"getBlock":n.includeTransactions?r=function(i){return i==null?null:(i=er(i),i.transactions=i.transactions.map(s=>(s=er(s),s.confirmations=-1,s)),gf(i))}:r=function(i){return i==null?null:gf(i)};break;default:throw new Error("unknown method: "+e)}return O9(r,t.quorum)}function op(t,e){return ox(this,void 0,void 0,function*(){const n=t.provider;return n.blockNumber!=null&&n.blockNumber>=e||e===-1?n:mf(()=>new Promise((r,i)=>{setTimeout(function(){return n.blockNumber>=e?r(n):t.cancelled?r(null):r(void 0)},0)}),{oncePoll:n})})}function F9(t,e,n,r){return ox(this,void 0,void 0,function*(){let i=t.provider;switch(n){case"getBlockNumber":case"getGasPrice":return i[n]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return r.blockTag&&Qt(r.blockTag)&&(i=yield op(t,e)),i[n](r.address,r.blockTag||"latest");case"getStorageAt":return r.blockTag&&Qt(r.blockTag)&&(i=yield op(t,e)),i.getStorageAt(r.address,r.position,r.blockTag||"latest");case"getBlock":return r.blockTag&&Qt(r.blockTag)&&(i=yield op(t,e)),i[r.includeTransactions?"getBlockWithTransactions":"getBlock"](r.blockTag||r.blockHash);case"call":case"estimateGas":return r.blockTag&&Qt(r.blockTag)&&(i=yield op(t,e)),n==="call"&&r.blockTag?i[n](r.transaction,r.blockTag):i[n](r.transaction);case"getTransaction":case"getTransactionReceipt":return i[n](r.transactionHash);case"getLogs":{let s=r.filter;return(s.fromBlock&&Qt(s.fromBlock)||s.toBlock&&Qt(s.toBlock))&&(i=yield op(t,e)),i.getLogs(s)}}return _u.throwError("unknown method error",le.errors.UNKNOWN_ERROR,{method:n,params:r})})}class z9 extends RS{constructor(e,n){e.length===0&&_u.throwArgumentError("missing providers","providers",e);const r=e.map((o,a)=>{if(_S.isProvider(o)){const f=$A(o)?2e3:750;return Object.freeze({provider:o,weight:1,stallTimeout:f,priority:1})}const c=er(o);c.priority==null&&(c.priority=1),c.stallTimeout==null&&(c.stallTimeout=$A(o)?2e3:750),c.weight==null&&(c.weight=1);const d=c.weight;return(d%1||d>512||d<1)&&_u.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${a}].weight`,d),Object.freeze(c)}),i=r.reduce((o,a)=>o+a.weight,0);n==null?n=i/2:n>i&&_u.throwArgumentError("quorum will always fail; larger than total weight","quorum",n);let s=nj(r.map(o=>o.provider.network));s==null&&(s=new Promise((o,a)=>{setTimeout(()=>{this.detectNetwork().then(o,a)},0)})),super(s),_e(this,"providerConfigs",Object.freeze(r)),_e(this,"quorum",n),this._highestBlockNumber=-1}detectNetwork(){return ox(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(n=>n.provider.getNetwork()));return nj(e)})}perform(e,n){return ox(this,void 0,void 0,function*(){if(e==="sendTransaction"){const c=yield Promise.all(this.providerConfigs.map(d=>d.provider.sendTransaction(n.signedTransaction).then(f=>f.hash,f=>f)));for(let d=0;d<c.length;d++){const f=c[d];if(typeof f=="string")return f}throw c[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const r=L9(this,e,n),i=ZV(this.providerConfigs.map(er));i.sort((c,d)=>c.priority-d.priority);const s=this._highestBlockNumber;let o=0,a=!0;for(;;){const c=jy();let d=i.filter(m=>m.runner&&c-m.start<m.stallTimeout).reduce((m,v)=>m+v.weight,0);for(;d<this.quorum&&o<i.length;){const m=i[o++],v=I9++;m.start=jy(),m.staller=ij(m.stallTimeout),m.staller.wait(()=>{m.staller=null}),m.runner=F9(m,s,e,n).then(x=>{m.done=!0,m.result=x,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:v,backend:Py(m,jy()),request:{method:e,params:Us(n)},provider:this})},x=>{m.done=!0,m.error=x,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:v,backend:Py(m,jy()),request:{method:e,params:Us(n)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:v,backend:Py(m,null),request:{method:e,params:Us(n)},provider:this}),d+=m.weight}const f=[];i.forEach(m=>{m.done||!m.runner||(f.push(m.runner),m.staller&&f.push(m.staller.getPromise()))}),f.length&&(yield Promise.race(f));const p=i.filter(m=>m.done&&m.error==null);if(p.length>=this.quorum){const m=r(p);if(m!==void 0)return i.forEach(v=>{v.staller&&v.staller.cancel(),v.cancelled=!0}),m;a||(yield ij(100).getPromise()),a=!1}const g=i.reduce((m,v)=>{if(!v.done||v.error==null)return m;const x=v.error.code;return M9.indexOf(x)>=0&&(m[x]||(m[x]={error:v.error,weight:0}),m[x].weight+=v.weight),m},{});if(Object.keys(g).forEach(m=>{const v=g[m];if(v.weight<this.quorum)return;i.forEach(_=>{_.staller&&_.staller.cancel(),_.cancelled=!0});const x=v.error,T={};D9.forEach(_=>{x[_]!=null&&(T[_]=x[_])}),_u.throwError(x.reason||x.message,m,T)}),i.filter(m=>!m.done).length===0)break}return i.forEach(c=>{c.staller&&c.staller.cancel(),c.cancelled=!0}),_u.throwError("failed to meet quorum",le.errors.SERVER_ERROR,{method:e,params:n,results:i.map(c=>Py(c)),provider:this})})}}const B9=null,j0=new le(di),kp="84842078b09946638c03157f83405213";class $9 extends IS{constructor(e,n){const r=new D5(e,n),i=r.connection;i.password&&j0.throwError("INFURA WebSocket project secrets unsupported",le.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const s=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(s,e),_e(this,"apiKey",r.projectId),_e(this,"projectId",r.projectId),_e(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===kp}}class D5 extends Cl{static getWebSocketProvider(e,n){return new $9(e,n)}static getApiKey(e){const n={apiKey:kp,projectId:kp,projectSecret:null};return e==null||(typeof e=="string"?n.projectId=e:e.projectSecret!=null?(j0.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),j0.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),n.projectId=e.projectId,n.projectSecret=e.projectSecret):e.projectId&&(n.projectId=e.projectId),n.apiKey=n.projectId),n}static getUrl(e,n){let r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"goerli":r="goerli.infura.io";break;case"sepolia":r="sepolia.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-goerli":r="optimism-goerli.infura.io";break;case"optimism-sepolia":r="optimism-sepolia.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":r="arbitrum-goerli.infura.io";break;case"arbitrum-sepolia":r="arbitrum-sepolia.infura.io";break;default:j0.throwError("unsupported network",le.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i={allowGzip:!0,url:"https://"+r+"/v3/"+n.projectId,throttleCallback:(s,o)=>(n.projectId===kp&&tv(),Promise.resolve(!0))};return n.projectSecret!=null&&(i.user="",i.password=n.projectSecret),i}isCommunityResource(){return this.projectId===kp}}const Qw=new le(di),U9="ETHERS_JS_SHARED";class V9 extends Cl{static getApiKey(e){return e&&typeof e!="string"&&Qw.throwArgumentError("invalid apiKey","apiKey",e),e||U9}static getUrl(e,n){Qw.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:Qw.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+n}}const sj=new le(di),oj="62e1ad51b37b8e00394bda3b";class W9 extends Cl{static getApiKey(e){const n={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return e==null?n.applicationId=oj:typeof e=="string"?n.applicationId=e:e.applicationSecretKey!=null?(n.applicationId=e.applicationId,n.applicationSecretKey=e.applicationSecretKey):e.applicationId?n.applicationId=e.applicationId:sj.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),n}static getUrl(e,n){let r=null;switch(e?e.name:"unknown"){case"goerli":r="eth-goerli.gateway.pokt.network";break;case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"kovan":r="poa-kovan.gateway.pokt.network";break;case"matic":r="poly-mainnet.gateway.pokt.network";break;case"maticmum":r="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;default:sj.throwError("unsupported network",le.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i=`https://${r}/v1/lb/${n.applicationId}`,s={headers:{},url:i};return n.applicationSecretKey!=null&&(s.user="",s.password=n.applicationSecretKey),s}isCommunityResource(){return this.applicationId===oj}}const aj=new le(di),q9="919b412a057b5e9c9b6dce193c5a60242d6efadb";class H9 extends Cl{static getApiKey(e){return e&&typeof e!="string"&&aj.throwArgumentError("invalid apiKey","apiKey",e),e||q9}static getUrl(e,n){let r=null;switch(e.name){case"homestead":r="ethers.quiknode.pro";break;case"goerli":r="ethers.ethereum-goerli.quiknode.pro";break;case"sepolia":r="ethers.ethereum-sepolia.quiknode.pro";break;case"holesky":r="ethers.ethereum-holesky.quiknode.pro";break;case"arbitrum":r="ethers.arbitrum-mainnet.quiknode.pro";break;case"arbitrum-goerli":r="ethers.arbitrum-goerli.quiknode.pro";break;case"arbitrum-sepolia":r="ethers.arbitrum-sepolia.quiknode.pro";break;case"base":r="ethers.base-mainnet.quiknode.pro";break;case"base-goerli":r="ethers.base-goerli.quiknode.pro";break;case"base-spolia":r="ethers.base-sepolia.quiknode.pro";break;case"bnb":r="ethers.bsc.quiknode.pro";break;case"bnbt":r="ethers.bsc-testnet.quiknode.pro";break;case"matic":r="ethers.matic.quiknode.pro";break;case"maticmum":r="ethers.matic-testnet.quiknode.pro";break;case"optimism":r="ethers.optimism.quiknode.pro";break;case"optimism-goerli":r="ethers.optimism-goerli.quiknode.pro";break;case"optimism-sepolia":r="ethers.optimism-sepolia.quiknode.pro";break;case"xdai":r="ethers.xdai.quiknode.pro";break;default:aj.throwArgumentError("unsupported network","network",arguments[0])}return"https://"+r+"/"+n}}const lj=new le(di);let G9=1;function cj(t,e){const n="Web3LegacyFetcher";return function(r,i){const s={method:r,params:i,id:G9++,jsonrpc:"2.0"};return new Promise((o,a)=>{this.emit("debug",{action:"request",fetcher:n,request:Us(s),provider:this}),e(s,(c,d)=>{if(c)return this.emit("debug",{action:"response",fetcher:n,error:c,request:s,provider:this}),a(c);if(this.emit("debug",{action:"response",fetcher:n,request:s,response:d,provider:this}),d.error){const f=new Error(d.error.message);return f.code=d.error.code,f.data=d.error.data,a(f)}o(d.result)})})}}function K9(t){return function(e,n){n==null&&(n=[]);const r={method:e,params:n};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Us(r),provider:this}),t.request(r).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,error:i,provider:this}),i})}}class Ea extends qf{constructor(e,n){e==null&&lj.throwArgumentError("missing provider","provider",e);let r=null,i=null,s=null;typeof e=="function"?(r="unknown:",i=e):(r=e.host||e.path||"",!r&&e.isMetaMask&&(r="metamask"),s=e,e.request?(r===""&&(r="eip-1193:"),i=K9(e)):e.sendAsync?i=cj(e,e.sendAsync.bind(e)):e.send?i=cj(e,e.send.bind(e)):lj.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,n),_e(this,"jsonRpcFetchFunc",i),_e(this,"provider",s)}send(e,n){return this.jsonRpcFetchFunc(e,n)}}const uj=new le(di);function tc(t,e){if(t==null&&(t="homestead"),typeof t=="string"){const r=t.match(/^(ws|http)s?:/i);if(r)switch(r[1].toLowerCase()){case"http":case"https":return new qf(t);case"ws":case"wss":return new IS(t);default:uj.throwArgumentError("unsupported URL scheme","network",t)}}const n=A5(t);return(!n||!n._defaultProvider)&&uj.throwError("unsupported getDefaultProvider network",le.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:t}),n._defaultProvider({FallbackProvider:z9,AlchemyProvider:M5,AnkrProvider:N9,CloudflareProvider:j9,EtherscanProvider:R9,InfuraProvider:D5,JsonRpcProvider:qf,NodesmithProvider:V9,PocketProvider:W9,QuickNodeProvider:H9,Web3Provider:Ea,IpcProvider:B9},e)}const Y9="units/5.8.0",X9=new le(Y9),J9=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Ia(t,e){return k0(t,e)}function MS(t,e){if(typeof t!="string"&&X9.throwArgumentError("value must be a string","value",t),typeof e=="string"){const n=J9.indexOf(e);n!==-1&&(e=3*n)}return ya(t,e??18)}function Fn(t){return Ia(t,18)}function pd(t){return MS(t,18)}const Gt={1:{name:"Ethereum Mainnet",rpcUrl:"https://ethereum-rpc.publicnode.com",explorer:"https://etherscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},10:{name:"OP Mainnet",rpcUrl:"https://mainnet.optimism.io",explorer:"https://optimistic.etherscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},56:{name:"BNB Smart Chain",rpcUrl:"https://bsc.blockrazor.xyz",explorer:"https://bscscan.com",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},97:{name:"BNB Smart Chain Testnet",rpcUrl:"https://bsc-testnet-rpc.publicnode.com",explorer:"https://testnet.bscscan.com",nativeCurrency:{name:"Test BNB",symbol:"tBNB",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},43113:{name:"Avalanche Fuji Testnet",rpcUrl:"https://avalanche-fuji.drpc.org",explorer:"https://testnet.snowscan.xyz",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},43114:{name:"Avalanche C-Chain",rpcUrl:"https://avalanche.drpc.org",explorer:"https://snowscan.xyz",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},8453:{name:"Base Mainnet",rpcUrl:"https://base.drpc.org",explorer:"https://basescan.org",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},84532:{name:"Base Sepolia",rpcUrl:"https://base-sepolia-rpc.publicnode.com",explorer:"https://sepolia.basescan.org",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x8DB3140Dfac30162B043A489F48760445b956B2b",poolDeployer:"0x7Fd88f6c219123DcC0DD147976C2eD8a1Bf47E4b",revenueManager:"0x88fE82da6981361420cA3f68F725615A1e70b584",nftFactory:"0x928BB2400CF81023C29d75668646F182e2bB2767",socialEngagementManager:"0x73fbfb801f51176328Fb4100A3B42a9c02859260"}},11155111:{name:"Ethereum Sepolia",rpcUrl:"https://sepolia.infura.io",explorer:"https://sepolia.etherscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},11155420:{name:"OP Sepolia Testnet",rpcUrl:"https://sepolia.optimism.io",explorer:"https://sepolia-optimism.etherscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},2020:{name:"Ronin Mainnet",rpcUrl:"https://ronin.drpc.org",explorer:"https://app.roninchain.com/",nativeCurrency:{name:"Ronin",symbol:"RON",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},2021:{name:"Ronin Saigon Testnet",rpcUrl:"https://saigon-testnet.roninchain.com/rpc",explorer:"https://saigon-app.roninchain.com/explorer",nativeCurrency:{name:"Ronin",symbol:"RON",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},42161:{name:"Arbitrum One",rpcUrl:"https://arbitrum.drpc.org",explorer:"https://arbiscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},421614:{name:"Arbitrum Sepolia",rpcUrl:"https://endpoints.omniatech.io/v1/arbitrum/sepolia/public",explorer:"https://sepolia.arbiscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}}},O5=k.createContext(),_n=()=>{const t=k.useContext(O5);if(!t)throw new Error("useWallet must be used within a WalletProvider");return t},Q9=({children:t})=>{const[e,n]=k.useState(null),[r,i]=k.useState(null),[s,o]=k.useState(""),[a,c]=k.useState(!1),[d,f]=k.useState(null),[p,g]=k.useState(!1),[m,v]=k.useState(null),[x,T]=k.useState(!1),[_,j]=k.useState(!1);k.useEffect(()=>{w()},[]),k.useEffect(()=>{if(window.ethereum)return window.ethereum.on("accountsChanged",F),window.ethereum.on("chainChanged",z),()=>{window.ethereum.removeListener("accountsChanged",F),window.ethereum.removeListener("chainChanged",z)}},[]),k.useEffect(()=>{d&&Gt[d]?v(Gt[d]):v(null)},[d]);const w=async()=>{if(window.ethereum)try{(await window.ethereum.request({method:"eth_accounts"})).length>0?await B("metamask"):T(!0)}catch(R){console.error("Error checking connection:",R),T(!0)}else T(!0)},F=R=>{R.length===0?H():o(R[0])},z=R=>{console.log("Chain changed to:",R),j(!0),f(parseInt(R,16)),setTimeout(async()=>{try{window.ethereum&&(await window.ethereum.request({method:"eth_accounts"})).length>0&&await B("metamask")}catch(b){console.error("Error reconnecting after chain change:",b)}finally{setTimeout(()=>{j(!1)},500)}},1500)},B=async R=>{g(!0);try{let b;switch(R){case"metamask":if(!window.ethereum)throw new Error("MetaMask is not installed");await window.ethereum.request({method:"eth_requestAccounts"}),b=new Ea(window.ethereum);break;default:throw new Error("Unsupported wallet type")}const A=b.getSigner(),D=await A.getAddress(),M=await b.getNetwork();n(b),i(A),o(D),f(M.chainId),c(!0),T(!0),localStorage.setItem("walletConnected",R)}catch(b){throw console.error("Error connecting wallet:",b),b}finally{g(!1)}},H=()=>{n(null),i(null),o(""),c(!1),f(null),T(!0),localStorage.removeItem("walletConnected")},Y=async R=>{if(!window.ethereum)throw new Error("MetaMask is not installed");try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${R.toString(16)}`}]})}catch(b){throw b.code===4902?new Error("Please add this network to your wallet first"):b}},W=d&&Gt[d],V={provider:e,signer:r,address:s,connected:a,chainId:d,loading:p,isInitialized:x,isReconnecting:_,connectWallet:B,disconnect:H,switchNetwork:Y,addNetwork:async R=>{if(!window.ethereum)throw new Error("MetaMask is not installed");const b=Gt[R];if(!b)throw new Error("Network config not found");try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${R.toString(16)}`,chainName:b.name,rpcUrls:[b.rpcUrl],blockExplorerUrls:[b.explorer],nativeCurrency:b.nativeCurrency||{name:"ETH",symbol:"ETH",decimals:18}}]})}catch(A){throw A}},formatAddress:R=>R?`${R.slice(0,6)}...${R.slice(-4)}`:"",networkInfo:m,isSupportedNetwork:W};return l.jsx(O5.Provider,{value:V,children:t})},Z9=JSON.parse('[{"inputs":[{"internalType":"address","name":"_vrfCoordinator","type":"address"},{"internalType":"bytes32","name":"_keyHash","type":"bytes32"},{"internalType":"address","name":"_linkToken","type":"address"},{"internalType":"uint32","name":"_callbackGasLimit","type":"uint32"},{"internalType":"uint16","name":"_requestConfirmations","type":"uint16"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"contractType","type":"string"},{"indexed":false,"internalType":"address","name":"newAddress","type":"address"}],"name":"ContractReplaced","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"newPercentage","type":"uint256"}],"name":"CreationFeePercentageUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bool","name":"enabled","type":"bool"}],"name":"CreatorTokenFeeToggled","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"feeAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"burnRatio","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"revenueRatio","type":"uint256"}],"name":"CreatorTokenFeeUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bool","name":"enabled","type":"bool"}],"name":"CreatorTokenGatedToggled","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"min","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"max","type":"uint256"}],"name":"DurationLimitsUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"newFee","type":"uint256"}],"name":"GlobalSlotFeeUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"collection","type":"address"}],"name":"InternalCollectionAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"newLinkToken","type":"address"}],"name":"LinkTokenUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"newLimit","type":"uint256"}],"name":"MaxSlotsPerParticipantUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"newMin","type":"uint256"}],"name":"MinSlotLimitNonPrizedUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"erc721Implementation","type":"address"},{"indexed":true,"internalType":"address","name":"erc1155Implementation","type":"address"}],"name":"NFTFactoryImplementationsUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"status","type":"bool"}],"name":"OperatorUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bool","name":"paused","type":"bool"}],"name":"PoolCreationPaused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"poolImplementation","type":"address"}],"name":"PoolDeployerImplementationUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"pool","type":"address"}],"name":"PoolRegistered","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"newPercentage","type":"uint256"}],"name":"ProtocolFeeUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"newAddress","type":"address"}],"name":"RevenueManagerUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"minSlotLimit","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"maxSlotLimit","type":"uint256"}],"name":"SlotLimitsUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"subscriptionId","type":"uint256"}],"name":"SubscriptionCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint96","name":"amount","type":"uint96"}],"name":"SubscriptionFunded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"subscriptionId","type":"uint256"},{"indexed":false,"internalType":"uint96","name":"amount","type":"uint96"}],"name":"SubscriptionFundedWithDetails","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"consumer","type":"address"}],"name":"VRFConsumerAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"consumer","type":"address"},{"indexed":true,"internalType":"uint256","name":"subscriptionId","type":"uint256"}],"name":"VRFConsumerAddedToSubscription","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"consumer","type":"address"}],"name":"VRFConsumerRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"consumer","type":"address"},{"indexed":true,"internalType":"uint256","name":"subscriptionId","type":"uint256"}],"name":"VRFConsumerRemovedFromSubscription","type":"event"},{"anonymous":false,"inputs":[],"name":"VRFParamsUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"subscriptionId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"index","type":"uint256"}],"name":"VRFSubscriptionAdded","type":"event"},{"anonymous":false,"inputs":[],"name":"VRFSubscriptionCancelled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"subscriptionId","type":"uint256"}],"name":"VRFSubscriptionRemoved","type":"event"},{"inputs":[{"internalType":"uint256","name":"subscriptionId","type":"uint256"}],"name":"acceptVRFOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"activeSubscriptionCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_collection","type":"address"}],"name":"addInternalCollection","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"consumer","type":"address"},{"internalType":"uint256","name":"subscriptionId","type":"uint256"}],"name":"addVRFConsumer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"subscriptionId","type":"uint256"}],"name":"addVRFSubscription","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"allPools","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"creator","type":"address"},{"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"batchRegisterPool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"callbackGasLimit","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"cancelVRFSubscription","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"createVRFSubscription","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"creationFeePercentage","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"creationPaused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"creatorPools","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"creatorToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"creatorTokenFeeAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint96","name":"amountPerSubscription","type":"uint96"}],"name":"fundAllSubscriptionsWithNative","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint96","name":"amount","type":"uint96"}],"name":"fundVRFSubscriptionWithLink","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"subscriptionId","type":"uint256"},{"internalType":"uint96","name":"amount","type":"uint96"}],"name":"fundVRFSubscriptionWithLinkById","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint96","name":"amount","type":"uint96"}],"name":"fundVRFSubscriptionWithNative","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"subscriptionId","type":"uint256"},{"internalType":"uint96","name":"amount","type":"uint96"}],"name":"fundVRFSubscriptionWithNativeById","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"getAllPools","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getAllSlotLimits","outputs":[{"internalType":"uint256","name":"minPrized","type":"uint256"},{"internalType":"uint256","name":"minNonPrized","type":"uint256"},{"internalType":"uint256","name":"max","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getAllSubscriptions","outputs":[{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"bool[]","name":"active","type":"bool[]"},{"internalType":"uint256[]","name":"consumerCounts","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCreationFeePercentage","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getDurationLimits","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getMaxSlotsPerParticipant","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"isPrized","type":"bool"}],"name":"getMinSlotLimit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getNextVRFSubscription","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getPoolConfig","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"}],"name":"getPoolCreator","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"}],"name":"getPoolSubscription","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"creator","type":"address"}],"name":"getPoolsByCreator","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getRevenueManager","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getRevenueParameters","outputs":[{"internalType":"uint256","name":"_protocolFee","type":"uint256"},{"internalType":"uint256","name":"_creationFeePercentage","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSlotFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSlotLimits","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSubscriptionId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getVRFParams","outputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"uint32","name":"","type":"uint32"},{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getVrfConsumerCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"globalSlotFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"isActiveSubscription","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isCreationPaused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isCreatorTokenFeeEnabled","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isCreatorTokenGated","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isInternalCollection","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"}],"name":"isOperator","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"isPoolContract","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isVRFConsumer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"keyHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"linkToken","outputs":[{"internalType":"contract ILinkTransferAndCall","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxPoolDuration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxSlotLimit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxSlotsPerParticipant","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minCreatorTokenBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minPoolDuration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minSlotLimit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minSlotLimitNonPrized","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nftFactory","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"operators","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"pause","type":"bool"}],"name":"pausePoolCreation","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"poolCreationTimestamps","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"poolCreators","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"poolDeployer","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"poolToSubscriptionId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"uint256","name":"subscriptionId","type":"uint256"}],"name":"preAssignSubscription","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"protocolFeePercentage","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"}],"name":"registerPool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"consumer","type":"address"}],"name":"removeVRFConsumer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"subscriptionId","type":"uint256"}],"name":"removeVRFSubscription","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"contractType","type":"string"},{"internalType":"address","name":"newAddress","type":"address"}],"name":"replaceContract","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"requestConfirmations","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"revenueManager","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_percentage","type":"uint256"}],"name":"setCreationFeePercentage","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"uint256","name":"_minBalance","type":"uint256"}],"name":"setCreatorToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_min","type":"uint256"},{"internalType":"uint256","name":"_max","type":"uint256"}],"name":"setDurationLimits","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_fee","type":"uint256"}],"name":"setGlobalSlotFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_linkToken","type":"address"}],"name":"setLinkToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_maxSlots","type":"uint256"}],"name":"setMaxSlotsPerParticipant","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_min","type":"uint256"}],"name":"setMinSlotLimitNonPrized","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_nftFactory","type":"address"}],"name":"setNFTFactory","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"status","type":"bool"}],"name":"setOperator","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"setPoolCreationTimestamp","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"creator","type":"address"}],"name":"setPoolCreator","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_poolDeployer","type":"address"}],"name":"setPoolDeployer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_percentage","type":"uint256"}],"name":"setProtocolFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_revenueManager","type":"address"}],"name":"setRevenueManager","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_min","type":"uint256"},{"internalType":"uint256","name":"_max","type":"uint256"}],"name":"setSlotLimits","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_fee","type":"uint256"}],"name":"setSocialEngagementFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_manager","type":"address"}],"name":"setSocialEngagementManager","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_coordinator","type":"address"},{"internalType":"bytes32","name":"_keyHash","type":"bytes32"},{"internalType":"uint32","name":"_gasLimit","type":"uint32"}],"name":"setVRFParams","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"socialEngagementFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"socialEngagementManager","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"subscriptionConsumerCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"_enabled","type":"bool"}],"name":"toggleCreatorTokenFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_enabled","type":"bool"}],"name":"toggleCreatorTokenGated","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_erc721Implementation","type":"address"},{"internalType":"address","name":"_erc1155Implementation","type":"address"}],"name":"updateNFTFactoryImplementations","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_poolImplementation","type":"address"}],"name":"updatePoolDeployerImplementation","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"vrfConsumerCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"vrfCoordinator","outputs":[{"internalType":"contract VRFCoordinatorV2PlusInterface","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"vrfSubscriptionId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"vrfSubscriptionIds","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]'),eW={abi:Z9},tW=[{inputs:[{internalType:"address",name:"_poolImplementation",type:"address"},{internalType:"address",name:"_manager",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ApprovedSlotFeeMismatch",type:"error"},{inputs:[],name:"AvailableSupplyInsufficient",type:"error"},{inputs:[],name:"CollectioNameTaken",type:"error"},{inputs:[],name:"CollectionNameTaken",type:"error"},{inputs:[],name:"ContractsNotAllowed",type:"error"},{inputs:[],name:"DescriptionTooLong",type:"error"},{inputs:[],name:"ExceedsApprovedWinnerLimit",type:"error"},{inputs:[],name:"InsufficientCreatorTokenBalance",type:"error"},{inputs:[],name:"InsufficientNativeBalance",type:"error"},{inputs:[],name:"InsufficientPrizeAmountForEscrow",type:"error"},{inputs:[],name:"InvalidCollection",type:"error"},{inputs:[],name:"InvalidDiscordLink",type:"error"},{inputs:[],name:"InvalidMaxSlotsPerParticipant",type:"error"},{inputs:[],name:"InvalidParameter",type:"error"},{inputs:[],name:"InvalidPrizeAmount",type:"error"},{inputs:[],name:"InvalidPrizeType",type:"error"},{inputs:[],name:"InvalidSlotFee",type:"error"},{inputs:[],name:"InvalidSlotLimitConfig",type:"error"},{inputs:[],name:"InvalidStartTime",type:"error"},{inputs:[],name:"InvalidTelegramLink",type:"error"},{inputs:[],name:"InvalidTwitterLink",type:"error"},{inputs:[],name:"InvalidWinnerConfig",type:"error"},{inputs:[],name:"NotOwnerOfTokenID",type:"error"},{inputs:[],name:"PoolCreationPaused",type:"error"},{inputs:[],name:"PoolNameTaken",type:"error"},{inputs:[],name:"RefundFailed",type:"error"},{inputs:[],name:"SocialEngagementFeeTransferFailed",type:"error"},{inputs:[],name:"SocialEngagementParametersNotConfigured",type:"error"},{inputs:[],name:"Unauthorized",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"},{indexed:!0,internalType:"address",name:"creator",type:"address"}],name:"PoolCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"poolImplementation",type:"address"}],name:"PoolImplementationUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"},{indexed:!1,internalType:"string",name:"description",type:"string"},{indexed:!1,internalType:"string",name:"twitterLink",type:"string"},{indexed:!1,internalType:"string",name:"discordLink",type:"string"},{indexed:!1,internalType:"string",name:"telegramLink",type:"string"}],name:"PoolMetadataSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collection",type:"address"}],name:"PrizeCollectionCreated",type:"event"},{inputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"uint256",name:"slotLimit",type:"uint256"},{internalType:"uint256",name:"winnersCount",type:"uint256"},{internalType:"uint256",name:"maxSlotsPerParticipant",type:"uint256"},{internalType:"bool",name:"isPrized",type:"bool"},{internalType:"uint256",name:"customSlotFee",type:"uint256"},{internalType:"bool",name:"erc721Drop",type:"bool"},{internalType:"bool",name:"erc1155Drop",type:"bool"},{internalType:"address",name:"prizeCollection",type:"address"},{internalType:"enum PrizeTypes.Standard",name:"standard",type:"uint8"},{internalType:"uint256",name:"prizeTokenId",type:"uint256"},{internalType:"uint256",name:"amountPerWinner",type:"uint256"},{internalType:"string",name:"collectionName",type:"string"},{internalType:"string",name:"collectionSymbol",type:"string"},{internalType:"string",name:"collectionBaseURI",type:"string"},{internalType:"address",name:"creator",type:"address"},{internalType:"uint256",name:"royaltyPercentage",type:"uint256"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"address",name:"erc20PrizeToken",type:"address"},{internalType:"uint256",name:"erc20PrizeAmount",type:"uint256"},{internalType:"uint256",name:"nativePrizeAmount",type:"uint256"},{internalType:"enum PrizeTypes.RevealType",name:"revealType",type:"uint8"},{internalType:"string",name:"unrevealedBaseURI",type:"string"},{internalType:"uint256",name:"revealTime",type:"uint256"},{internalType:"address",name:"holderTokenAddress",type:"address"},{internalType:"enum PrizeTypes.Standard",name:"holderTokenStandard",type:"uint8"},{internalType:"uint256",name:"minHolderTokenBalance",type:"uint256"},{internalType:"uint256",name:"holderTokenBalance",type:"uint256"},{internalType:"uint256",name:"holderTokenId",type:"uint256"},{internalType:"bool",name:"socialEngagementRequired",type:"bool"},{internalType:"string",name:"socialTaskDescription",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"twitterLink",type:"string"},{internalType:"string",name:"discordLink",type:"string"},{internalType:"string",name:"telegramLink",type:"string"}],internalType:"struct PoolDeployer.PoolParams",name:"p",type:"tuple"}],name:"createPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolImplementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocolManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"transferOwnershipToManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_poolImplementation",type:"address"}],name:"updatePoolImplementation",outputs:[],stateMutability:"nonpayable",type:"function"}],nW={abi:tW},rW=[{inputs:[{internalType:"address",name:"initialOwner",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AdminDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AdminWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"}],name:"FeeRecipientSet",type:"event"},{anonymous:!1,inputs:[],name:"FeeTransferActivated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"feeAmount",type:"uint256"}],name:"FeeTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"BASIS_POINTS_TOTAL",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"FEE_BASIS_POINTS",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"activateFeeTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"adminRevenue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"depositAdmin",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"feeRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeTransferActivated",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_feeRecipient",type:"address"}],name:"setFeeRecipient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],iW={abi:rW},sW=[{inputs:[{internalType:"address",name:"_erc721Implementation",type:"address"},{internalType:"address",name:"_erc1155Implementation",type:"address"},{internalType:"address",name:"_protocolManager",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"erc721Implementation",type:"address"},{indexed:!0,internalType:"address",name:"erc1155Implementation",type:"address"}],name:"ImplementationAddressesUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collection",type:"address"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"enum PrizeTypes.Standard",name:"standard",type:"uint8"}],name:"PrizeCollectionCreated",type:"event"},{inputs:[{internalType:"enum PrizeTypes.Standard",name:"standard",type:"uint8"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"string",name:"baseURI",type:"string"},{internalType:"address",name:"initialOwner",type:"address"},{internalType:"uint256",name:"royaltyPercentage",type:"uint256"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"enum PrizeTypes.RevealType",name:"revealType",type:"uint8"},{internalType:"string",name:"unrevealedBaseURI",type:"string"},{internalType:"uint256",name:"revealTime",type:"uint256"}],name:"createPrizeCollection",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"erc1155Implementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"erc721Implementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocolManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_erc721Implementation",type:"address"},{internalType:"address",name:"_erc1155Implementation",type:"address"}],name:"updateImplementationAddresses",outputs:[],stateMutability:"nonpayable",type:"function"}],oW={abi:sW},aW=JSON.parse('[{"inputs":[{"internalType":"address","name":"_factory","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"ExceedsMaxSupply","type":"error"},{"inputs":[],"name":"UnauthorizedMinter","type":"error"},{"inputs":[],"name":"ZeroQuantity","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"newBaseURI","type":"string"}],"name":"BaseURIUpdated","type":"event"},{"anonymous":false,"inputs":[],"name":"CollectionRevealed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"allocation","type":"uint256"}],"name":"CreatorAllocationDeclared","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"newAllocation","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"reductionAmount","type":"uint256"}],"name":"CreatorAllocationReduced","type":"event"},{"anonymous":false,"inputs":[],"name":"EmergencyBypassDisabled","type":"event"},{"anonymous":false,"inputs":[],"name":"EmergencyBypassEnabled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"kol","type":"address"},{"indexed":false,"internalType":"uint256","name":"poolLimit","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"enforcedSlotFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"winnerLimit","type":"uint256"}],"name":"KOLApproved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"kol","type":"address"},{"indexed":true,"internalType":"address","name":"pool","type":"address"}],"name":"KOLPoolCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"kol","type":"address"}],"name":"KOLRevoked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"marketplace","type":"address"}],"name":"MarketplaceAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"marketplace","type":"address"}],"name":"MarketplaceRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"pool","type":"address"},{"indexed":false,"internalType":"uint256","name":"allocation","type":"uint256"}],"name":"MinterAllocationRestored","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"pool","type":"address"},{"indexed":false,"internalType":"uint256","name":"allocation","type":"uint256"}],"name":"MinterAndAllocationSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"winner","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"PrizeMinted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"bool","name":"exempt","type":"bool"}],"name":"RoyaltyEnforcementExemptionUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bool","name":"enabled","type":"bool"}],"name":"RoyaltyEnforcementToggled","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"newMaxSupply","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newCreatorAllocation","type":"uint256"}],"name":"SupplyReduced","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"cliffEnd","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"numberOfUnlocks","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"durationBetweenUnlocks","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amountPerUnlock","type":"uint256"}],"name":"VestingConfigured","type":"event"},{"inputs":[{"internalType":"address","name":"marketplace","type":"address"}],"name":"addAllowedMarketplace","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"allocatedSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_kol","type":"address"},{"internalType":"uint256","name":"_poolLimit","type":"uint256"},{"internalType":"uint256","name":"_enforcedSlotFee","type":"uint256"},{"internalType":"uint256","name":"_winnerLimit","type":"uint256"}],"name":"approveKOL","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"availableSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"cliffEnd","type":"uint256"},{"internalType":"uint256","name":"numberOfUnlocks","type":"uint256"},{"internalType":"uint256","name":"durationBetweenUnlocks","type":"uint256"}],"name":"configureCreatorVesting","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"creationTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"creatorAllocation","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"creatorAllocationDeclared","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"creatorClaimedCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"creatorMint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_percentage","type":"uint256"}],"name":"cutSupply","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_percentage","type":"uint256"}],"name":"declareCreatorAllocation","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"disableEmergencyBypass","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"emergencyBypassEnabled","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"enableEmergencyBypass","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getAvailableCreatorMint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_kol","type":"address"}],"name":"getKOLApprovalDetails","outputs":[{"internalType":"bool","name":"approved","type":"bool"},{"internalType":"uint256","name":"poolLimit","type":"uint256"},{"internalType":"uint256","name":"enforcedSlotFee","type":"uint256"},{"internalType":"uint256","name":"winnerLimit","type":"uint256"},{"internalType":"uint256","name":"poolCount","type":"uint256"},{"internalType":"uint256","name":"winnerCount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getUnlockedCreatorAllocation","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_kol","type":"address"},{"internalType":"uint256","name":"_winnersCount","type":"uint256"}],"name":"incrementKOLApprovedCounts","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"},{"components":[{"internalType":"address","name":"initialOwner","type":"address"},{"internalType":"address","name":"protocolManager","type":"address"},{"internalType":"address","name":"royaltyRecipient","type":"address"},{"internalType":"uint256","name":"royaltyPercentage","type":"uint256"},{"internalType":"uint256","name":"maxSupply","type":"uint256"},{"internalType":"enum PrizeTypes.RevealType","name":"revealType","type":"uint8"},{"internalType":"uint256","name":"revealTime","type":"uint256"}],"internalType":"struct ERC721Prize.PrizeInitParams","name":"params","type":"tuple"},{"components":[{"internalType":"string","name":"baseURI","type":"string"},{"internalType":"string","name":"unrevealedURI","type":"string"}],"internalType":"struct ERC721Prize.URIs","name":"uris","type":"tuple"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"marketplace","type":"address"}],"name":"isMarketplaceAllowed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isRevealed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"isRoyaltyEnforcementExempt","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"kolApprovals","outputs":[{"internalType":"bool","name":"approved","type":"bool"},{"internalType":"uint256","name":"poolLimit","type":"uint256"},{"internalType":"uint256","name":"enforcedSlotFee","type":"uint256"},{"internalType":"uint256","name":"winnerLimit","type":"uint256"},{"internalType":"uint256","name":"poolCount","type":"uint256"},{"internalType":"uint256","name":"winnerCount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"onERC721Received","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"protocolManager","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_percentage","type":"uint256"}],"name":"reduceCreatorAllocation","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"marketplace","type":"address"}],"name":"removeAllowedMarketplace","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"}],"name":"restoreMinterAllocation","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"reveal","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"revealTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"revealType","outputs":[{"internalType":"enum PrizeTypes.RevealType","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_kol","type":"address"}],"name":"revokeKOL","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"royaltyEnforcementEnabled","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"salePrice","type":"uint256"}],"name":"royaltyInfo","outputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"royaltyPercentage","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"royaltyRecipient","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"newBaseURI","type":"string"}],"name":"setBaseURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"uint256","name":"allocation","type":"uint256"}],"name":"setMinterAndAllocation","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_royaltyPercentage","type":"uint256"},{"internalType":"address","name":"_royaltyRecipient","type":"address"}],"name":"setRoyalty","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"bool","name":"exempt","type":"bool"}],"name":"setRoyaltyEnforcementExemption","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"supplyCutTimestamp","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"enabled","type":"bool"}],"name":"toggleRoyaltyEnforcement","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalAllocatedSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unlockedAmountAtCut","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"unrevealedBaseURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"vestingConfig","outputs":[{"internalType":"uint256","name":"cliffEnd","type":"uint256"},{"internalType":"uint256","name":"numberOfUnlocks","type":"uint256"},{"internalType":"uint256","name":"durationBetweenUnlocks","type":"uint256"},{"internalType":"uint256","name":"amountPerUnlock","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"vestingConfigured","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"walletMintedCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]'),lW={abi:aW},cW=JSON.parse('[{"inputs":[{"internalType":"address","name":"_factory","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"ExceedsMaxSupply","type":"error"},{"inputs":[],"name":"SupplyNotSet","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"newBaseURI","type":"string"}],"name":"BaseURIUpdated","type":"event"},{"anonymous":false,"inputs":[],"name":"CollectionRevealed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"minter","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"CreatorAllocationClaimed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"allocation","type":"uint256"}],"name":"CreatorAllocationDeclared","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newAllocation","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"reductionAmount","type":"uint256"}],"name":"CreatorAllocationReduced","type":"event"},{"anonymous":false,"inputs":[],"name":"EmergencyBypassDisabled","type":"event"},{"anonymous":false,"inputs":[],"name":"EmergencyBypassEnabled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"kol","type":"address"},{"indexed":false,"internalType":"uint256","name":"poolLimit","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"enforcedSlotFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"winnerLimit","type":"uint256"}],"name":"KOLApproved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"kol","type":"address"},{"indexed":true,"internalType":"address","name":"pool","type":"address"}],"name":"KOLPoolCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"kol","type":"address"}],"name":"KOLRevoked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"marketplace","type":"address"}],"name":"MarketplaceAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"marketplace","type":"address"}],"name":"MarketplaceRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"pool","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"allocation","type":"uint256"}],"name":"MinterAllocationRestored","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"pool","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"allocation","type":"uint256"}],"name":"MinterAndAllocationSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"maxSupply","type":"uint256"}],"name":"NewTokenAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"minter","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"PrizeMinted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"bool","name":"exempt","type":"bool"}],"name":"RoyaltyEnforcementExemptionUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bool","name":"enabled","type":"bool"}],"name":"RoyaltyEnforcementToggled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newMaxSupply","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newCreatorAllocation","type":"uint256"}],"name":"SupplyReduced","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"values","type":"uint256[]"}],"name":"TransferBatch","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"TransferSingle","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"value","type":"string"},{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"}],"name":"URI","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"string","name":"newURI","type":"string"}],"name":"URIUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"cliffEnd","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"numberOfUnlocks","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"durationBetweenUnlocks","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amountPerUnlock","type":"uint256"}],"name":"VestingConfiguredForToken","type":"event"},{"inputs":[{"internalType":"address","name":"marketplace","type":"address"}],"name":"addAllowedMarketplace","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"allocatedSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_kol","type":"address"},{"internalType":"uint256","name":"_poolLimit","type":"uint256"},{"internalType":"uint256","name":"_enforcedSlotFee","type":"uint256"},{"internalType":"uint256","name":"_winnerLimit","type":"uint256"}],"name":"approveKOL","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"name":"availableSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"accounts","type":"address[]"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"}],"name":"balanceOfBatch","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"cliffEnd","type":"uint256"},{"internalType":"uint256","name":"numberOfUnlocks","type":"uint256"},{"internalType":"uint256","name":"durationBetweenUnlocks","type":"uint256"}],"name":"configureCreatorVesting","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"uint256","name":"_maxSupply","type":"uint256"}],"name":"createNewToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"creatorAllocation","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"creatorAllocationDeclared","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"creatorClaimedCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"creatorMint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"_percentage","type":"uint256"}],"name":"cutSupply","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"_percentage","type":"uint256"}],"name":"declareCreatorAllocation","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"disableEmergencyBypass","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"emergencyBypassEnabled","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"enableEmergencyBypass","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"name":"exists","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getAllTokenIds","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getAvailableCreatorMint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCollectionStats","outputs":[{"internalType":"uint256","name":"totalTokenTypes","type":"uint256"},{"internalType":"uint256","name":"totalTokensMinted","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_kol","type":"address"}],"name":"getKOLApprovalDetails","outputs":[{"internalType":"bool","name":"approved","type":"bool"},{"internalType":"uint256","name":"poolLimit","type":"uint256"},{"internalType":"uint256","name":"enforcedSlotFee","type":"uint256"},{"internalType":"uint256","name":"winnerLimit","type":"uint256"},{"internalType":"uint256","name":"poolCount","type":"uint256"},{"internalType":"uint256","name":"winnerCount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getTokenInfo","outputs":[{"internalType":"uint256","name":"maxSupply_","type":"uint256"},{"internalType":"uint256","name":"currentSupply_","type":"uint256"},{"internalType":"bool","name":"exists_","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getUnlockedCreatorAllocation","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getUnrevealedURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_kol","type":"address"},{"internalType":"uint256","name":"_winnersCount","type":"uint256"}],"name":"incrementKOLApprovedCounts","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_prizeTokenId","type":"uint256"},{"components":[{"internalType":"address","name":"initialOwner","type":"address"},{"internalType":"address","name":"protocolManager","type":"address"},{"internalType":"address","name":"royaltyRecipient","type":"address"},{"internalType":"uint256","name":"royaltyPercentage","type":"uint256"},{"internalType":"uint256","name":"maxSupply","type":"uint256"},{"internalType":"enum PrizeTypes.RevealType","name":"revealType","type":"uint8"},{"internalType":"uint256","name":"revealTime","type":"uint256"}],"internalType":"struct ERC1155Prize.PrizeInitParams","name":"params","type":"tuple"},{"components":[{"internalType":"string","name":"baseURI","type":"string"},{"internalType":"string","name":"unrevealedURI","type":"string"}],"internalType":"struct ERC1155Prize.URIs","name":"uris","type":"tuple"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"marketplace","type":"address"}],"name":"isMarketplaceAllowed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isRevealed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"isRoyaltyEnforcementExempt","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"kolApprovals","outputs":[{"internalType":"bool","name":"approved","type":"bool"},{"internalType":"uint256","name":"poolLimit","type":"uint256"},{"internalType":"uint256","name":"enforcedSlotFee","type":"uint256"},{"internalType":"uint256","name":"winnerLimit","type":"uint256"},{"internalType":"uint256","name":"poolCount","type":"uint256"},{"internalType":"uint256","name":"winnerCount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"maxSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"minterLocked","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256[]","name":"","type":"uint256[]"},{"internalType":"uint256[]","name":"","type":"uint256[]"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"onERC1155BatchReceived","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"onERC1155Received","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"poolTokenId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"protocolManager","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"_percentage","type":"uint256"}],"name":"reduceCreatorAllocation","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"marketplace","type":"address"}],"name":"removeAllowedMarketplace","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"}],"name":"restoreMinterAllocation","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"reveal","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"revealTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"revealType","outputs":[{"internalType":"enum PrizeTypes.RevealType","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_kol","type":"address"}],"name":"revokeKOL","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"royaltyEnforcementEnabled","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"salePrice","type":"uint256"}],"name":"royaltyInfo","outputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"royaltyPercentage","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"royaltyRecipient","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeBatchTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"newBaseURI","type":"string"}],"name":"setBaseURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"allocation","type":"uint256"}],"name":"setMinterAndAllocation","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_royaltyPercentage","type":"uint256"},{"internalType":"address","name":"_royaltyRecipient","type":"address"}],"name":"setRoyalty","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"bool","name":"exempt","type":"bool"}],"name":"setRoyaltyEnforcementExemption","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"string","name":"_uri","type":"string"}],"name":"setURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"supplyCutTimestamp","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"enabled","type":"bool"}],"name":"toggleRoyaltyEnforcement","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"tokenAllocatedSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"tokenCreationTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"unlockedAmountAtCut","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"unrevealedURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"uri","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"vestingConfig","outputs":[{"internalType":"uint256","name":"cliffEnd","type":"uint256"},{"internalType":"uint256","name":"numberOfUnlocks","type":"uint256"},{"internalType":"uint256","name":"durationBetweenUnlocks","type":"uint256"},{"internalType":"uint256","name":"amountPerUnlock","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"vestingConfigured","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"walletMintedCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]'),uW={abi:cW},dW=JSON.parse('[{"inputs":[{"internalType":"address","name":"_factory","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"ContractsCannotPurchase","type":"error"},{"inputs":[],"name":"CreatorNotAllowed","type":"error"},{"inputs":[],"name":"ExceedsMaxSlots","type":"error"},{"inputs":[],"name":"ExceedsSlotLimit","type":"error"},{"inputs":[],"name":"ExceedsWinnersCount","type":"error"},{"inputs":[],"name":"IncorrectPayment","type":"error"},{"inputs":[],"name":"InvalidNonPrizedPurchase","type":"error"},{"inputs":[],"name":"InvalidPoolState","type":"error"},{"inputs":[],"name":"InvalidPrizeAmount","type":"error"},{"inputs":[],"name":"InvalidPrizeCollection","type":"error"},{"inputs":[],"name":"InvalidPrizeType","type":"error"},{"inputs":[],"name":"InvalidState","type":"error"},{"inputs":[],"name":"MintingNotSupported","type":"error"},{"inputs":[],"name":"NoPrizesToClaim","type":"error"},{"inputs":[],"name":"NotAWinner","type":"error"},{"inputs":[],"name":"OnlyOperator","type":"error"},{"inputs":[],"name":"PoolDurationElapsed","type":"error"},{"inputs":[],"name":"PoolNotActive","type":"error"},{"inputs":[],"name":"PrizeTransferFailed","type":"error"},{"inputs":[],"name":"ProtocolAdminNotAllowed","type":"error"},{"inputs":[],"name":"SocialEngagementNotConfigured","type":"error"},{"inputs":[],"name":"TimestampDelayIssue","type":"error"},{"inputs":[],"name":"UnauthorizedCaller","type":"error"},{"inputs":[],"name":"ZeroAddress","type":"error"},{"inputs":[],"name":"ZeroQuantity","type":"error"},{"inputs":[],"name":"ZeroSlotFee","type":"error"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"reason","type":"string"}],"name":"BatchProcessingFailed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes","name":"lowLevelData","type":"bytes"}],"name":"BatchProcessingFailedBytes","type":"event"},{"anonymous":false,"inputs":[],"name":"FullRefundEnabledForDeletion","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"participant","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"FullRefundForDeletion","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[],"name":"PoolActivated","type":"event"},{"anonymous":false,"inputs":[],"name":"PoolDeleted","type":"event"},{"anonymous":false,"inputs":[],"name":"PoolEnded","type":"event"},{"anonymous":false,"inputs":[],"name":"PoolUnengaged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"winner","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"PrizeClaimed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"requestId","type":"uint256"}],"name":"RandomRequested","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"participant","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RefundClaimed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"recipient","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RevenueWithdrawn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"batchNumber","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"participantCount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"shuffleStartIndex","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"batchSize","type":"uint256"}],"name":"SelectionStarted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"participant","type":"address"},{"indexed":false,"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"SlotsPurchased","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"reason","type":"string"}],"name":"VRFRequestFailed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes","name":"lowLevelData","type":"bytes"}],"name":"VRFRequestFailedBytes","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address[]","name":"winners","type":"address[]"}],"name":"WinnersSelected","type":"event"},{"inputs":[{"internalType":"uint256","name":"batchRandomSeed","type":"uint256"}],"name":"_processBatchWithRandomness","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"amountPerWinner","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"batchCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"batchRandomSeeds","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"claimPrize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"claimRefund","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"claimedWins","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"closePool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"creationFeePercentage","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"creator","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"currentBatchSize","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"deletePool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"duration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"endTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"erc20PrizeAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"erc20PrizeToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"erc721EscrowClaimed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getParticipantsCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"participant","type":"address"}],"name":"getRefundableAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSlotLimit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"participant","type":"address"}],"name":"getSlotsPurchased","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"hasClaimedFeeRefund","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"hasCompletedSocialEngagement","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"holderTokenAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"holderTokenId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"holderTokenStandard","outputs":[{"internalType":"enum PrizeTypes.Standard","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"i_vrfCoordinator","outputs":[{"internalType":"contract VRFCoordinatorV2PlusInterface","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"manager","type":"address"},{"internalType":"address","name":"creator","type":"address"},{"internalType":"address","name":"revenueRecipient","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"duration","type":"uint256"},{"internalType":"uint256","name":"slotLimit","type":"uint256"},{"internalType":"uint256","name":"slotFee","type":"uint256"},{"internalType":"uint256","name":"maxSlotsPerParticipant","type":"uint256"},{"internalType":"uint256","name":"winnersCount","type":"uint256"},{"internalType":"bool","name":"isPrized","type":"bool"},{"internalType":"bool","name":"isCollabPool","type":"bool"},{"internalType":"bool","name":"usesCustomFee","type":"bool"}],"internalType":"struct Pool.PoolConfig","name":"_poolConfig","type":"tuple"},{"components":[{"internalType":"enum PrizeTypes.Standard","name":"standard","type":"uint8"},{"internalType":"address","name":"prizeCollection","type":"address"},{"internalType":"uint256","name":"prizeTokenId","type":"uint256"},{"internalType":"uint256","name":"amountPerWinner","type":"uint256"},{"internalType":"address","name":"erc20PrizeToken","type":"address"},{"internalType":"uint256","name":"erc20PrizeAmount","type":"uint256"},{"internalType":"uint256","name":"nativePrizeAmount","type":"uint256"},{"internalType":"bool","name":"isEscrowedPrize","type":"bool"}],"internalType":"struct Pool.PrizeConfig","name":"_prizeConfig","type":"tuple"},{"components":[{"internalType":"address","name":"holderTokenAddress","type":"address"},{"internalType":"enum PrizeTypes.Standard","name":"holderTokenStandard","type":"uint8"},{"internalType":"uint256","name":"minHolderTokenBalance","type":"uint256"},{"internalType":"uint256","name":"holderTokenId","type":"uint256"}],"internalType":"struct Pool.HolderConfig","name":"_holderConfig","type":"tuple"},{"components":[{"internalType":"bool","name":"required","type":"bool"},{"internalType":"string","name":"taskDescription","type":"string"}],"internalType":"struct Pool.SocialConfig","name":"_socialConfig","type":"tuple"}],"name":"initialize","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"isCollabPool","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isEscrowedPrize","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isPrized","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isRefundable","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxSlotsPerParticipant","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minHolderTokenBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nativePrizeAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256[]","name":"","type":"uint256[]"},{"internalType":"uint256[]","name":"","type":"uint256[]"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"onERC1155BatchReceived","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"onERC1155Received","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"onERC721Received","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"participants","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pendingProtocolFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"participant","type":"address"}],"name":"prizeClaimed","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"prizeCollection","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"prizeTokenId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"prizesClaimedCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"protocolFeePercentage","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"protocolFeeTaken","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"quantity","type":"uint256"},{"internalType":"uint256","name":"_nonce","type":"uint256"},{"internalType":"uint256","name":"_deadline","type":"uint256"},{"internalType":"bytes","name":"_signature","type":"bytes"},{"internalType":"uint256[]","name":"_tokenIds","type":"uint256[]"}],"name":"purchaseSlots","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"randomRequested","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"randomSeed","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"randomnessUsed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"requestId","type":"uint256"},{"internalType":"uint256[]","name":"randomWords","type":"uint256[]"}],"name":"rawFulfillRandomWords","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"refundableAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"refundedNonWinningSlots","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"removeFromVRFSubscription","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"requestRandomness","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"revenueRecipient","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"s_vrf_callbackGasLimit","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"s_vrf_keyHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"s_vrf_lastRequestId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"s_vrf_requestConfirmations","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"s_vrf_subscriptionId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"shuffleStartIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"slotFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"slotLimit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"slotsPurchased","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"socialEngagementRequired","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"standard","outputs":[{"internalType":"enum PrizeTypes.Standard","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"startTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"state","outputs":[{"internalType":"enum IPool.PoolState","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"tokenIdClaimedBy","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalCreatorRevenue","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalGlobalFeeRevenue","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalRefundableAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"usesCustomFee","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"wasDeletedForFullRefund","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"winners","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"winnersCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"winnersSelected","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"winsPerAddress","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"withdrawCreatorRevenue","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawProtocolRevenue","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),fW={abi:dW},hW=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"address",name:"_protocolManager",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidShortString",type:"error"},{inputs:[{internalType:"string",name:"str",type:"string"}],name:"StringTooLong",type:"error"},{anonymous:!1,inputs:[],name:"EIP712DomainChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"oldValue",type:"uint256"},{indexed:!0,internalType:"uint256",name:"newValue",type:"uint256"}],name:"MaxDescriptionLengthUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"oldValue",type:"uint256"},{indexed:!0,internalType:"uint256",name:"newValue",type:"uint256"}],name:"MaxTasksUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"pool",type:"address"},{indexed:!1,internalType:"uint256",name:"newNonce",type:"uint256"}],name:"SignatureCancelled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newSigner",type:"address"}],name:"SignerUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"pool",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"}],name:"SocialEngagementVerified",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bool",name:"isPaused",type:"bool"}],name:"TaskAssignmentsToggled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"},{indexed:!1,internalType:"string",name:"taskDescription",type:"string"}],name:"TaskSet",type:"event"},{inputs:[],name:"VERIFICATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_pool",type:"address"}],name:"cancelSignature",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"eip712Domain",outputs:[{internalType:"bytes1",name:"fields",type:"bytes1"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"version",type:"string"},{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"address",name:"verifyingContract",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"uint256[]",name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"},{internalType:"address",name:"_pool",type:"address"}],name:"getNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"isTaskAssignmentPaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxDescriptionLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTasks",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocolManager",outputs:[{internalType:"contract IProtocolManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxDescriptionLength",type:"uint256"}],name:"setMaxDescriptionLength",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxTasks",type:"uint256"}],name:"setMaxTasks",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newSigner",type:"address"}],name:"setSigner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_pool",type:"address"},{internalType:"string",name:"_taskDescription",type:"string"}],name:"setTask",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxTasks",type:"uint256"},{internalType:"uint256",name:"_maxDescriptionLength",type:"uint256"}],name:"setTaskValidationLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"signer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"tasks",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"toggleTaskAssignments",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"},{internalType:"address",name:"_pool",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"},{internalType:"uint256",name:"_deadline",type:"uint256"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"verify",outputs:[],stateMutability:"nonpayable",type:"function"}],pW={abi:hW},mW=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"kol",type:"address"},{indexed:!1,internalType:"uint256",name:"poolLimit",type:"uint256"},{indexed:!1,internalType:"uint256",name:"enforcedSlotFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"enforcedWinnerCount",type:"uint256"}],name:"KOLApproved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"kol",type:"address"},{indexed:!0,internalType:"address",name:"pool",type:"address"}],name:"KOLPoolCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"kol",type:"address"}],name:"KOLRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"address",name:"_kol",type:"address"},{internalType:"uint256",name:"_poolLimit",type:"uint256"},{internalType:"uint256",name:"_enforcedSlotFee",type:"uint256"},{internalType:"uint256",name:"_enforcedWinnerCount",type:"uint256"}],name:"approveKOL",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_kol",type:"address"}],name:"getKOLApprovalDetails",outputs:[{internalType:"bool",name:"approved",type:"bool"},{internalType:"uint256",name:"poolLimit",type:"uint256"},{internalType:"uint256",name:"enforcedSlotFee",type:"uint256"},{internalType:"uint256",name:"enforcedWinnerCount",type:"uint256"},{internalType:"uint256",name:"poolCount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"kolApprovals",outputs:[{internalType:"bool",name:"approved",type:"bool"},{internalType:"uint256",name:"poolLimit",type:"uint256"},{internalType:"uint256",name:"enforcedSlotFee",type:"uint256"},{internalType:"uint256",name:"enforcedWinnerCount",type:"uint256"},{internalType:"uint256",name:"poolCount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_kol",type:"address"}],name:"revokeKOL",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],gW={abi:mW},yW=["function allowance(address owner, address spender) view returns (uint256)","function approve(address spender, uint256 amount) returns (bool)","function decimals() view returns (uint8)"],Ut={protocolManager:eW.abi,poolDeployer:nW.abi,revenueManager:iW.abi,nftFactory:oW.abi,erc721Prize:lW.abi,erc1155Prize:uW.abi,socialEngagementManager:pW.abi,kolApproval:gW.abi,pool:fW.abi,erc20:yW};var xW=t=>{switch(t){case"success":return wW;case"info":return TW;case"warning":return kW;case"error":return SW;default:return null}},vW=Array(12).fill(0),bW=({visible:t,className:e})=>ke.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ke.createElement("div",{className:"sonner-spinner"},vW.map((n,r)=>ke.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),wW=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),kW=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),TW=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),SW=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),CW=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ke.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ke.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),_W=()=>{let[t,e]=ke.useState(document.hidden);return ke.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},jk=1,EW=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:jk++,s=this.toasts.find(a=>a.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:n}),{...a,...t,id:i,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,s,o=r.then(async c=>{if(s=["resolve",c],ke.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(AW(c)&&!c.ok){i=!1;let d=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,f=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:n,type:"error",message:d,description:f})}else if(e.success!==void 0){i=!1;let d=typeof e.success=="function"?await e.success(c):e.success,f=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"success",message:d,description:f})}}).catch(async c=>{if(s=["reject",c],e.error!==void 0){i=!1;let d=typeof e.error=="function"?await e.error(c):e.error,f=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"error",message:d,description:f})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=e.finally)==null||c.call(e)}),a=()=>new Promise((c,d)=>o.then(()=>s[0]==="reject"?d(s[1]):c(s[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||jk++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},os=new EW,NW=(t,e)=>{let n=(e==null?void 0:e.id)||jk++;return os.addToast({title:t,...e,id:n}),n},AW=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",jW=NW,PW=()=>os.toasts,RW=()=>os.getActiveToasts(),Wi=Object.assign(jW,{success:os.success,info:os.info,warning:os.warning,error:os.error,custom:os.custom,message:os.message,promise:os.promise,dismiss:os.dismiss,loading:os.loading},{getHistory:PW,getToasts:RW});function IW(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}IW(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ry(t){return t.label!==void 0}var MW=3,DW="32px",OW="16px",dj=4e3,LW=356,FW=14,zW=20,BW=200;function Lo(...t){return t.filter(Boolean).join(" ")}function $W(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var UW=t=>{var e,n,r,i,s,o,a,c,d,f,p;let{invert:g,toast:m,unstyled:v,interacting:x,setHeights:T,visibleToasts:_,heights:j,index:w,toasts:F,expanded:z,removeToast:B,defaultRichColors:H,closeButton:Y,style:W,cancelButtonStyle:q,actionButtonStyle:X,className:V="",descriptionClassName:R="",duration:b,position:A,gap:D,loadingIcon:M,expandByDefault:C,classNames:I,icons:E,closeButtonAriaLabel:P="Close toast",pauseWhenPageIsHidden:N}=t,[O,Z]=ke.useState(null),[$,K]=ke.useState(null),[G,J]=ke.useState(!1),[ee,ae]=ke.useState(!1),[se,pe]=ke.useState(!1),[he,ue]=ke.useState(!1),[be,Ne]=ke.useState(!1),[ie,De]=ke.useState(0),[gt,Je]=ke.useState(0),Fe=ke.useRef(m.duration||b||dj),Dt=ke.useRef(null),ot=ke.useRef(null),ct=w===0,bt=w+1<=_,ne=m.type,ce=m.dismissible!==!1,we=m.className||"",Se=m.descriptionClassName||"",Ae=ke.useMemo(()=>j.findIndex(ze=>ze.toastId===m.id)||0,[j,m.id]),Ot=ke.useMemo(()=>{var ze;return(ze=m.closeButton)!=null?ze:Y},[m.closeButton,Y]),Ye=ke.useMemo(()=>m.duration||b||dj,[m.duration,b]),mt=ke.useRef(0),Kt=ke.useRef(0),jt=ke.useRef(0),Qe=ke.useRef(null),[bn,Ct]=A.split("-"),qe=ke.useMemo(()=>j.reduce((ze,Et,at)=>at>=Ae?ze:ze+Et.height,0),[j,Ae]),Yn=_W(),At=m.invert||g,_t=ne==="loading";Kt.current=ke.useMemo(()=>Ae*D+qe,[Ae,qe]),ke.useEffect(()=>{Fe.current=Ye},[Ye]),ke.useEffect(()=>{J(!0)},[]),ke.useEffect(()=>{let ze=ot.current;if(ze){let Et=ze.getBoundingClientRect().height;return Je(Et),T(at=>[{toastId:m.id,height:Et,position:m.position},...at]),()=>T(at=>at.filter(Le=>Le.toastId!==m.id))}},[T,m.id]),ke.useLayoutEffect(()=>{if(!G)return;let ze=ot.current,Et=ze.style.height;ze.style.height="auto";let at=ze.getBoundingClientRect().height;ze.style.height=Et,Je(at),T(Le=>Le.find(Ve=>Ve.toastId===m.id)?Le.map(Ve=>Ve.toastId===m.id?{...Ve,height:at}:Ve):[{toastId:m.id,height:at,position:m.position},...Le])},[G,m.title,m.description,T,m.id]);let pn=ke.useCallback(()=>{ae(!0),De(Kt.current),T(ze=>ze.filter(Et=>Et.toastId!==m.id)),setTimeout(()=>{B(m)},BW)},[m,B,T,Kt]);ke.useEffect(()=>{if(m.promise&&ne==="loading"||m.duration===1/0||m.type==="loading")return;let ze;return z||x||N&&Yn?(()=>{if(jt.current<mt.current){let Et=new Date().getTime()-mt.current;Fe.current=Fe.current-Et}jt.current=new Date().getTime()})():Fe.current!==1/0&&(mt.current=new Date().getTime(),ze=setTimeout(()=>{var Et;(Et=m.onAutoClose)==null||Et.call(m,m),pn()},Fe.current)),()=>clearTimeout(ze)},[z,x,m,ne,N,Yn,pn]),ke.useEffect(()=>{m.delete&&pn()},[pn,m.delete]);function $t(){var ze,Et,at;return E!=null&&E.loading?ke.createElement("div",{className:Lo(I==null?void 0:I.loader,(ze=m==null?void 0:m.classNames)==null?void 0:ze.loader,"sonner-loader"),"data-visible":ne==="loading"},E.loading):M?ke.createElement("div",{className:Lo(I==null?void 0:I.loader,(Et=m==null?void 0:m.classNames)==null?void 0:Et.loader,"sonner-loader"),"data-visible":ne==="loading"},M):ke.createElement(bW,{className:Lo(I==null?void 0:I.loader,(at=m==null?void 0:m.classNames)==null?void 0:at.loader),visible:ne==="loading"})}return ke.createElement("li",{tabIndex:0,ref:ot,className:Lo(V,we,I==null?void 0:I.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,I==null?void 0:I.default,I==null?void 0:I[ne],(n=m==null?void 0:m.classNames)==null?void 0:n[ne]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:H,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":G,"data-promise":!!m.promise,"data-swiped":be,"data-removed":ee,"data-visible":bt,"data-y-position":bn,"data-x-position":Ct,"data-index":w,"data-front":ct,"data-swiping":se,"data-dismissible":ce,"data-type":ne,"data-invert":At,"data-swipe-out":he,"data-swipe-direction":$,"data-expanded":!!(z||C&&G),style:{"--index":w,"--toasts-before":w,"--z-index":F.length-w,"--offset":`${ee?ie:Kt.current}px`,"--initial-height":C?"auto":`${gt}px`,...W,...m.style},onDragEnd:()=>{pe(!1),Z(null),Qe.current=null},onPointerDown:ze=>{_t||!ce||(Dt.current=new Date,De(Kt.current),ze.target.setPointerCapture(ze.pointerId),ze.target.tagName!=="BUTTON"&&(pe(!0),Qe.current={x:ze.clientX,y:ze.clientY}))},onPointerUp:()=>{var ze,Et,at,Le;if(he||!ce)return;Qe.current=null;let Ve=Number(((ze=ot.current)==null?void 0:ze.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),We=Number(((Et=ot.current)==null?void 0:Et.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Te=new Date().getTime()-((at=Dt.current)==null?void 0:at.getTime()),He=O==="x"?Ve:We,Ie=Math.abs(He)/Te;if(Math.abs(He)>=zW||Ie>.11){De(Kt.current),(Le=m.onDismiss)==null||Le.call(m,m),K(O==="x"?Ve>0?"right":"left":We>0?"down":"up"),pn(),ue(!0),Ne(!1);return}pe(!1),Z(null)},onPointerMove:ze=>{var Et,at,Le,Ve;if(!Qe.current||!ce||((Et=window.getSelection())==null?void 0:Et.toString().length)>0)return;let We=ze.clientY-Qe.current.y,Te=ze.clientX-Qe.current.x,He=(at=t.swipeDirections)!=null?at:$W(A);!O&&(Math.abs(Te)>1||Math.abs(We)>1)&&Z(Math.abs(Te)>Math.abs(We)?"x":"y");let Ie={x:0,y:0};O==="y"?(He.includes("top")||He.includes("bottom"))&&(He.includes("top")&&We<0||He.includes("bottom")&&We>0)&&(Ie.y=We):O==="x"&&(He.includes("left")||He.includes("right"))&&(He.includes("left")&&Te<0||He.includes("right")&&Te>0)&&(Ie.x=Te),(Math.abs(Ie.x)>0||Math.abs(Ie.y)>0)&&Ne(!0),(Le=ot.current)==null||Le.style.setProperty("--swipe-amount-x",`${Ie.x}px`),(Ve=ot.current)==null||Ve.style.setProperty("--swipe-amount-y",`${Ie.y}px`)}},Ot&&!m.jsx?ke.createElement("button",{"aria-label":P,"data-disabled":_t,"data-close-button":!0,onClick:_t||!ce?()=>{}:()=>{var ze;pn(),(ze=m.onDismiss)==null||ze.call(m,m)},className:Lo(I==null?void 0:I.closeButton,(i=m==null?void 0:m.classNames)==null?void 0:i.closeButton)},(s=E==null?void 0:E.close)!=null?s:CW):null,m.jsx||k.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:ke.createElement(ke.Fragment,null,ne||m.icon||m.promise?ke.createElement("div",{"data-icon":"",className:Lo(I==null?void 0:I.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||$t():null,m.type!=="loading"?m.icon||(E==null?void 0:E[ne])||xW(ne):null):null,ke.createElement("div",{"data-content":"",className:Lo(I==null?void 0:I.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},ke.createElement("div",{"data-title":"",className:Lo(I==null?void 0:I.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?ke.createElement("div",{"data-description":"",className:Lo(R,Se,I==null?void 0:I.description,(d=m==null?void 0:m.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),k.isValidElement(m.cancel)?m.cancel:m.cancel&&Ry(m.cancel)?ke.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||q,onClick:ze=>{var Et,at;Ry(m.cancel)&&ce&&((at=(Et=m.cancel).onClick)==null||at.call(Et,ze),pn())},className:Lo(I==null?void 0:I.cancelButton,(f=m==null?void 0:m.classNames)==null?void 0:f.cancelButton)},m.cancel.label):null,k.isValidElement(m.action)?m.action:m.action&&Ry(m.action)?ke.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||X,onClick:ze=>{var Et,at;Ry(m.action)&&((at=(Et=m.action).onClick)==null||at.call(Et,ze),!ze.defaultPrevented&&pn())},className:Lo(I==null?void 0:I.actionButton,(p=m==null?void 0:m.classNames)==null?void 0:p.actionButton)},m.action.label):null))};function fj(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function VW(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",a=s?OW:DW;function c(d){["top","right","bottom","left"].forEach(f=>{n[`${o}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${o}-${d}`]=a:n[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(a)}),n}var WW=k.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:c,mobileOffset:d,theme:f="light",richColors:p,duration:g,style:m,visibleToasts:v=MW,toastOptions:x,dir:T=fj(),gap:_=FW,loadingIcon:j,icons:w,containerAriaLabel:F="Notifications",pauseWhenPageIsHidden:z}=t,[B,H]=ke.useState([]),Y=ke.useMemo(()=>Array.from(new Set([r].concat(B.filter(N=>N.position).map(N=>N.position)))),[B,r]),[W,q]=ke.useState([]),[X,V]=ke.useState(!1),[R,b]=ke.useState(!1),[A,D]=ke.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=ke.useRef(null),C=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=ke.useRef(null),E=ke.useRef(!1),P=ke.useCallback(N=>{H(O=>{var Z;return(Z=O.find($=>$.id===N.id))!=null&&Z.delete||os.dismiss(N.id),O.filter(({id:$})=>$!==N.id)})},[]);return ke.useEffect(()=>os.subscribe(N=>{if(N.dismiss){H(O=>O.map(Z=>Z.id===N.id?{...Z,delete:!0}:Z));return}setTimeout(()=>{CM.flushSync(()=>{H(O=>{let Z=O.findIndex($=>$.id===N.id);return Z!==-1?[...O.slice(0,Z),{...O[Z],...N},...O.slice(Z+1)]:[N,...O]})})})}),[]),ke.useEffect(()=>{if(f!=="system"){D(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),typeof window>"u")return;let N=window.matchMedia("(prefers-color-scheme: dark)");try{N.addEventListener("change",({matches:O})=>{D(O?"dark":"light")})}catch{N.addListener(({matches:Z})=>{try{D(Z?"dark":"light")}catch($){console.error($)}})}},[f]),ke.useEffect(()=>{B.length<=1&&V(!1)},[B]),ke.useEffect(()=>{let N=O=>{var Z,$;i.every(K=>O[K]||O.code===K)&&(V(!0),(Z=M.current)==null||Z.focus()),O.code==="Escape"&&(document.activeElement===M.current||($=M.current)!=null&&$.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[i]),ke.useEffect(()=>{if(M.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,E.current=!1)}},[M.current]),ke.createElement("section",{ref:e,"aria-label":`${F} ${C}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},Y.map((N,O)=>{var Z;let[$,K]=N.split("-");return B.length?ke.createElement("ol",{key:N,dir:T==="auto"?fj():T,tabIndex:-1,ref:M,className:a,"data-sonner-toaster":!0,"data-theme":A,"data-y-position":$,"data-lifted":X&&B.length>1&&!s,"data-x-position":K,style:{"--front-toast-height":`${((Z=W[0])==null?void 0:Z.height)||0}px`,"--width":`${LW}px`,"--gap":`${_}px`,...m,...VW(c,d)},onBlur:G=>{E.current&&!G.currentTarget.contains(G.relatedTarget)&&(E.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||E.current||(E.current=!0,I.current=G.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{R||V(!1)},onDragEnd:()=>V(!1),onPointerDown:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||b(!0)},onPointerUp:()=>b(!1)},B.filter(G=>!G.position&&O===0||G.position===N).map((G,J)=>{var ee,ae;return ke.createElement(UW,{key:G.id,icons:w,index:J,toast:G,defaultRichColors:p,duration:(ee=x==null?void 0:x.duration)!=null?ee:g,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:v,closeButton:(ae=x==null?void 0:x.closeButton)!=null?ae:o,interacting:R,position:N,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:P,toasts:B.filter(se=>se.position==G.position),heights:W.filter(se=>se.position==G.position),setHeights:q,expandByDefault:s,gap:_,loadingIcon:j,expanded:X,pauseWhenPageIsHidden:z,swipeDirections:t.swipeDirections})})):null}))});class qW{constructor(){this.recentToasts=new Map,this.cleanupInterval=5e3,this.maxDuplicateWindow=3e3,setInterval(()=>{const e=Date.now();for(const[n,r]of this.recentToasts.entries())e-r>this.cleanupInterval&&this.recentToasts.delete(n)},this.cleanupInterval)}generateToastKey(e,n="default"){const r=String(e).toLowerCase().replace(/\s+/g," ").trim().replace(/0x[a-f0-9]{40,}/gi,"[address]").replace(/transaction:\s*0x[a-f0-9]+/gi,"[transaction]").replace(/\d+(\.\d+)?\s*(eth|matic|avax|bnb)/gi,"[amount]").replace(/attempt\s+\d+\/\d+/gi,"[attempt]");return`${n}:${r}`}isDuplicate(e,n="default"){const r=this.generateToastKey(e,n),i=Date.now(),s=this.recentToasts.get(r);return s&&i-s<this.maxDuplicateWindow?!0:(this.recentToasts.set(r,i),!1)}error(e,n={}){if(this.isDuplicate(e,"error")){console.log("Duplicate error toast prevented:",e);return}const r=this.processErrorMessage(e);return Wi.error(r,{duration:4e3,...n})}success(e,n={}){if(this.isDuplicate(e,"success")){console.log("Duplicate success toast prevented:",e);return}return Wi.success(e,{duration:3e3,...n})}info(e,n={}){if(this.isDuplicate(e,"info")){console.log("Duplicate info toast prevented:",e);return}return Wi.info(e,{duration:3e3,...n})}warning(e,n={}){if(this.isDuplicate(e,"warning")){console.log("Duplicate warning toast prevented:",e);return}return Wi.warning(e,{duration:4e3,...n})}processErrorMessage(e){if(!e)return"An unknown error occurred";let n=typeof e=="string"?e:e.message||e.toString();return n=n.replace(/^Error:\s*/i,"").replace(/^execution reverted:\s*/i,"").replace(/^call exception:\s*/i,"").replace(/^missing revert data in call exception;\s*/i,"").replace(/user rejected transaction/i,"Transaction was cancelled").replace(/insufficient funds/i,"Insufficient funds for transaction").replace(/gas required exceeds allowance/i,"Transaction requires more gas than available").replace(/nonce too low/i,"Transaction nonce error - please try again").replace(/replacement transaction underpriced/i,"Transaction fee too low - please increase gas price").replace(/network error/i,"Network connection error").replace(/timeout/i,"Request timed out").replace(/rate limit/i,"Too many requests - please wait a moment").replace(/contract not deployed/i,"Smart contract not found on this network").replace(/method not found/i,"Contract method not available").replace(/^./,r=>r.toUpperCase()),n.length>150&&(n=n.substring(0,147)+"..."),n}forceError(e,n={}){const r=this.processErrorMessage(e);return Wi.error(r,{duration:4e3,...n})}clearHistory(){this.recentToasts.clear()}loading(e,n={}){return Wi.loading(e,n)}dismiss(e){return Wi.dismiss(e)}promise(e,n={}){return Wi.promise(e,n)}}const re=new qW,HW=({...t})=>l.jsx(WW,{theme:"dark",className:"toaster group",position:"bottom-right",expand:!0,richColors:!1,closeButton:!0,...t}),DS=()=>{if(typeof window>"u")return{name:"unknown",version:"unknown"};const t=navigator.userAgent,e={chrome:/Chrome\/(\d+)/.test(t),firefox:/Firefox\/(\d+)/.test(t),safari:/Safari\/(\d+)/.test(t)&&!/Chrome/.test(t),edge:/Edg\/(\d+)/.test(t),opera:/OPR\/(\d+)/.test(t),brave:navigator.brave&&navigator.brave.isBrave},n=Object.keys(e).find(s=>e[s])||"unknown",r=t.match(new RegExp(`${n==="edge"?"Edg":n}\\/(\\d+)`,"i")),i=r?r[1]:"unknown";return{name:n,version:i,userAgent:t,isMetaMaskBrowser:t.includes("MetaMask"),isMobile:/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)}},OS=()=>{const t=DS(),e=t.isMobile||window.innerWidth<768,n={firefox:{timeout:15e3,retries:3,batchSize:3,useSequential:!0,delayBetweenCalls:200},safari:{timeout:2e4,retries:4,batchSize:2,useSequential:!0,delayBetweenCalls:300},edge:{timeout:12e3,retries:3,batchSize:4,useSequential:!1,delayBetweenCalls:100},chrome:{timeout:1e4,retries:3,batchSize:6,useSequential:!1,delayBetweenCalls:50},default:{timeout:12e3,retries:3,batchSize:4,useSequential:e,delayBetweenCalls:100}},r=n[t.name]||n.default;return e&&(r.timeout*=1.5,r.retries=Math.min(r.retries+1,5),r.batchSize=Math.min(r.batchSize,3),r.useSequential=!0,r.delayBetweenCalls*=2),{...r,browserInfo:t,isMobile:e}},ax=async(t,e,n={})=>{const{timeout:r=1e4,retries:i=3,fallbackValue:s=null,required:o=!1}=n;for(let a=1;a<=i;a++)try{const c=new Promise((f,p)=>setTimeout(()=>p(new Error(`Timeout calling ${e}`)),r));return{success:!0,result:await Promise.race([t(),c]),error:null}}catch(c){if(console.warn(`Attempt ${a}/${i} failed for ${e}:`,c.message),(c.message.includes("missing revert data")||c.message.includes("call exception")||c.code==="CALL_EXCEPTION")&&a<i){await new Promise(f=>setTimeout(f,1e3*a));continue}if(a===i){if(o)throw c;return{success:!1,result:s,error:c}}}},GW=async(t,e={})=>{const n=OS(),{useSequential:r=n.useSequential,batchSize:i=n.batchSize,delayBetweenCalls:s=n.delayBetweenCalls,timeout:o=n.timeout}=e;if(console.log(` Batch contract calls - Browser: ${n.browserInfo.name}, Sequential: ${r}, Batch size: ${i}`),r){const a=[];for(let c=0;c<t.length;c++){const d=t[c];try{s>0&&c>0&&await new Promise(p=>setTimeout(p,s));const f=await ax(d.method,d.name,{timeout:o,fallbackValue:d.fallback,required:d.required});a.push(f.success?f.result:d.fallback)}catch(f){if(console.error(`Sequential call failed for ${d.name}:`,f),d.required)throw f;a.push(d.fallback)}}return a}else{const a=[];for(let c=0;c<t.length;c+=i){const d=t.slice(c,c+i);try{const f=d.map(g=>ax(g.method,g.name,{timeout:o,fallbackValue:g.fallback,required:g.required}).then(m=>m.success?m.result:g.fallback).catch(m=>{if(console.error(`Batch call failed for ${g.name}:`,m),g.required)throw m;return g.fallback})),p=await Promise.all(f);a.push(...p),c+i<t.length&&s>0&&await new Promise(g=>setTimeout(g,s))}catch(f){console.error("Batch execution failed:",f),d.forEach(p=>{if(p.required)throw f;a.push(p.fallback)})}}return a}},KW=(t,e)=>{try{return typeof t[e]=="function"}catch{return!1}},ao=(t,e,n=null)=>KW(t,e)?(...r)=>t[e](...r):(console.warn(`Method ${e} not found on contract`),()=>Promise.resolve(n)),L5=async t=>{if(!t)return 0;try{return(await t.getParticipantsCount()).toNumber()}catch(e){console.warn("getParticipantsCount failed, using fallback method:",e.message);let n=0,r=0;for(;;)try{await t.participants(r),n++,r++}catch{break}return n}},YW="0x08c379a0",XW="0x4e487b71",JW={1:"Assertion failed",17:"Arithmetic overflow/underflow",18:"Division or modulo by zero",33:"Invalid enum value",34:"Storage byte array that is incorrectly encoded",49:"Calling `.pop()` on an empty array",50:"Array index out of bounds",65:"Out-of-memory",81:"Invalid contract creation code"},QW=(()=>{const t=[];try{for(const[e,n]of Object.entries(Ut))Array.isArray(n)?t.push({name:e,iface:new pm(n)}):n&&Array.isArray(n.abi)&&t.push({name:e,iface:new pm(n.abi)})}catch(e){console.warn("ErrorDecoder: failed to init interfaces",e)}return t})(),ZW=t=>{if(!t||typeof t!="string"||!t.startsWith(YW))return null;try{return{type:"Error(string)",message:CS.decode(["string"],"0x"+t.slice(10))[0]}}catch{return null}},eq=t=>{if(!t||typeof t!="string"||!t.startsWith(XW))return null;try{const e=CS.decode(["uint256"],"0x"+t.slice(10))[0].toNumber();return{type:"Panic(uint256)",message:JW[e]||`Panic code 0x${e.toString(16)}`,panicCode:e}}catch{return null}},tq=t=>{if(!t||typeof t!="string")return null;for(const{name:e,iface:n}of QW)try{const r=n.parseError(t);if(r)return{type:"CustomError",sourceContract:e,errorName:r.name,signature:r.signature,args:r.args?Array.from(r.args):[]}}catch{}return null},nq=t=>ZW(t)||eq(t)||tq(t),rq=(t,e)=>{if(!t)return e||"Transaction failed";if(t.type==="Error(string)"||t.type==="Panic(uint256)")return t.message||e||"Transaction failed";if(t.type==="CustomError"){const n=t.errorName;return{ContractsCannotPurchase:"Contract accounts cannot purchase slots",IncorrectPayment:"Incorrect payment amount sent",ExceedsSlotLimit:"You cannot exceed the per-participant slot limit",NotAWinner:"You are not a winner for this pool",NoPrizesToClaim:"No prizes available to claim",InvalidPoolState:"Action not allowed in the current pool state",OnlyOperator:"You are not authorized to perform this action",SocialEngagementNotConfigured:"Social engagement requirement is not configured",PoolDurationElapsed:"Pool has already ended",ZeroSlotFee:"Slot fee must be greater than zero",PrizeTransferFailed:"Prize transfer failed",MintingNotSupported:"Collection does not support minting for this action",UnauthorizedMinter:"You are not authorized as minter for this collection",ZeroQuantity:"Quantity must be greater than zero",SupplyNotSet:"Supply is not set for this token",ExceedsMaxSupply:"This action would exceed the collection's max supply"}[n]||n}return e||"Transaction failed"},iq=t=>{if(!t)return null;const n=(t.reason||t.message||"").toString().match(/reason="([^"]+)"/);return n?n[1]:null},sq=t=>{var o,a,c;const e=((o=t==null?void 0:t.data)==null?void 0:o.data)||((a=t==null?void 0:t.error)==null?void 0:a.data)||(t==null?void 0:t.data)||((c=t==null?void 0:t.receipt)==null?void 0:c.revertReason),n=nq(typeof e=="string"?e:null),i=iq(t)||(t==null?void 0:t.reason)||(t==null?void 0:t.message)||"Transaction failed",s=rq(n,i);return{decoded:n,message:s}},sn=(t,e)=>{let n="Transaction failed";if(typeof t=="string")n=t;else if(t){const{message:r}=sq(t);n=r}return re.error(n),n},fl=t=>{var n;if(!t)return"Unknown error occurred";let e="";return typeof t=="string"?e=t:t.reason?e=t.reason:(n=t.data)!=null&&n.message?e=t.data.message:t.message?e=t.message:e=t.toString(),e=e.replace(/^Error:\s*/i,"").replace(/^execution reverted:\s*/i,"").replace(/^call exception:\s*/i,"").replace(/^missing revert data in call exception;\s*/i,"").replace(/Transaction reverted without a reason string/i,"Transaction failed").trim(),e||"Unknown error occurred"},nv=(t,e={})=>{const n=fl(t).toLowerCase();return!(n.includes("user rejected")||n.includes("user denied")||(t==null?void 0:t.code)===4001||e.isReadOnly&&(n.includes("not found")||n.includes("does not exist")||n.includes("no tickets")||n.includes("unavailable")||n.includes("400")||n.includes("non-200 status code")||n.includes("failed to load")||n.includes("no data")||n.includes("empty result")||n.includes("no records"))||n.includes("network")||n.includes("timeout")||n.includes("connection")||n.includes("rate limit"))},P0=(t,e={})=>{const{context:n={},showToast:r=!0,logError:i=!0,fallbackMessage:s="An error occurred"}=e;i&&console.error("Error handled:",t,n);const o=fl(t);return r&&nv(t,n)&&sn(t),o},oq=(t,e={})=>{const{operation:n="transaction",showToast:r=!0}=e,i=fl(t);return console.error(`Transaction error in ${n}:`,t),r&&nv(t,{})&&sn(t),i},aq=(t,e,n={})=>{const{showToast:r=!1,isRequired:i=!1}=n,s=fl(t);return console.warn(`Contract call failed for ${e}:`,s),r&&(i||nv(t,{isReadOnly:!0}))&&sn(t),s},F5=()=>({handleError:(r,i={})=>P0(r,i),handleTransactionError:(r,i={})=>oq(r,i),handleContractCallError:(r,i,s={})=>aq(r,i,s),extractRevertReason:fl,shouldShowErrorToast:nv}),z5=k.createContext(),jn=()=>{const t=k.useContext(z5);if(!t)throw new Error("useContract must be used within a ContractProvider");return t},lq=({children:t})=>{const{signer:e,provider:n,connected:r,chainId:i,isInitialized:s,isReconnecting:o}=_n(),[a,c]=k.useState({}),[d,f]=k.useState(!1);k.useEffect(()=>{if(r&&e&&s&&!o){f(!1);const w=setTimeout(()=>{p(),setTimeout(()=>{f(!0)},200)},100);return()=>clearTimeout(w)}else c({}),f(!1)},[r,e,s,o,i]);const p=()=>{var F,z,B,H,Y,W,q,X,V,R,b,A,D,M,C,I,E,P,N,O;const w={};try{(z=(F=Gt[i])==null?void 0:F.contractAddresses)!=null&&z.protocolManager&&(w.protocolManager=new Vt((H=(B=Gt[i])==null?void 0:B.contractAddresses)==null?void 0:H.protocolManager,Ut.protocolManager,e)),(W=(Y=Gt[i])==null?void 0:Y.contractAddresses)!=null&&W.poolDeployer&&(w.poolDeployer=new Vt((X=(q=Gt[i])==null?void 0:q.contractAddresses)==null?void 0:X.poolDeployer,Ut.poolDeployer,e)),(R=(V=Gt[i])==null?void 0:V.contractAddresses)!=null&&R.revenueManager&&(w.revenueManager=new Vt((A=(b=Gt[i])==null?void 0:b.contractAddresses)==null?void 0:A.revenueManager,Ut.revenueManager,e)),(M=(D=Gt[i])==null?void 0:D.contractAddresses)!=null&&M.nftFactory&&(w.nftFactory=new Vt((I=(C=Gt[i])==null?void 0:C.contractAddresses)==null?void 0:I.nftFactory,Ut.nftFactory,e)),(P=(E=Gt[i])==null?void 0:E.contractAddresses)!=null&&P.socialEngagementManager&&(w.socialEngagementManager=new Vt((O=(N=Gt[i])==null?void 0:N.contractAddresses)==null?void 0:O.socialEngagementManager,Ut.socialEngagementManager,e)),c(w)}catch(Z){console.error("Error initializing contracts:",Z)}},g=(w,F)=>{if(!w)return console.warn("No address provided for contract instance"),null;if(!e&&!n)return console.warn("No signer or provider available for contract instance"),null;if(!Ut[F])return console.error(`ABI not found for type: ${F}`),null;try{const z=e||n;return new Vt(w,Ut[F],z)}catch(z){return console.error(`Error creating contract instance for ${F}:`,z),null}},m=async(w,F,z={})=>{try{let B;return F===void 0?B=Object.keys(z).length>0?await w(z):await w():B=await w(F,z),{success:!0,receipt:await B.wait(),hash:B.hash}}catch(B){return{success:!1,error:sn(B)}}},v=async(w,F="unknown",...z)=>{const B=OS();try{const H=await ax(()=>w(...z),F,{timeout:B.timeout,retries:B.retries,required:!1});if(H.success)return{success:!0,result:H.result};throw H.error||new Error(`${F} failed`)}catch(H){return{success:!1,error:sn(H)}}},x=ke.useRef({}),T=(w,F)=>(x.current[w]||(x.current[w]=[]),x.current[w].push(F),()=>{x.current[w]=x.current[w].filter(z=>z!==F)}),_=(w,...F)=>{x.current[w]&&x.current[w].forEach(z=>z(...F))};k.useEffect(()=>{if(!r||!e||!a.poolDeployer)return;const w=(F,z)=>{_("PoolCreated",{pool:F,creator:z})};if(a.poolDeployer.on("PoolCreated",w),a.pool){const F=B=>{_("WinnersSelected",{winners:B})};a.pool.on("WinnersSelected",F);const z=(B,H)=>{_("PrizeClaimed",{winner:B,tokenId:H})};return a.pool.on("PrizeClaimed",z),()=>{a.pool.off("WinnersSelected",F),a.pool.off("PrizeClaimed",z)}}return()=>{a.poolDeployer.off("PoolCreated",w)}},[r,e,a.poolDeployer,a.pool]);const j={contracts:a,getContractInstance:g,executeTransaction:m,executeCall:v,onContractEvent:T,isContractsReady:d};return l.jsx(z5.Provider,{value:j,children:t})},B5=k.createContext(),rv=()=>{const t=k.useContext(B5);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},Vl=[{id:"light",name:"Light",icon:"Sun"},{id:"dark",name:"Dark",icon:"Moon"},{id:"dim-blue",name:"Dim Blue",icon:"Monitor"}],cq=({children:t})=>{const[e,n]=k.useState(()=>{const o=localStorage.getItem("theme");return o&&Vl.some(a=>a.id===o)?o:(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,"dark")});k.useEffect(()=>{const o=document.documentElement;Vl.forEach(a=>{o.classList.remove(a.id)}),o.classList.add(e),localStorage.setItem("theme",e)},[e]);const s={theme:e,setTheme:n,cycleTheme:()=>{const a=(Vl.findIndex(c=>c.id===e)+1)%Vl.length;n(Vl[a].id)},getCurrentTheme:()=>Vl.find(o=>o.id===e)||Vl[1],availableThemes:Vl,isDark:e==="dark",isLight:e==="light",isDimBlue:e==="dim-blue"};return l.jsx(B5.Provider,{value:s,children:t})},$5=k.createContext(),LS=()=>{const t=k.useContext($5);if(!t)throw new Error("useCollabDetection must be used within a CollabDetectionProvider");return t},uq=({children:t})=>{const[e,n]=k.useState({}),[r,i]=k.useState({}),s=k.useCallback((m,v)=>{n(x=>({...x,[m]:v})),i(x=>{const T={...x};return delete T[m],T})},[]),o=k.useCallback((m,v)=>{i(x=>({...x,[m]:v}))},[]),a=k.useCallback(m=>e[m],[e]),c=k.useCallback(m=>r[m]||!1,[r]),d=k.useCallback(m=>{const v=e[m.address];return v==="nft_collab"||m.isCollabPool?"nft_collab":v==="whitelist_collab"&&!m.isPrized?"whitelist_collab":m.isPrized?"prized":"non_prized"},[e,r]),f=k.useCallback(m=>{const v={non_prized:0,prized:0,nft_collab:0,whitelist_collab:0};return m.forEach(x=>{const T=d(x);v[T]=(v[T]||0)+1}),v},[d]),p=k.useCallback((m,v)=>!v||v.length===0?m:m.filter(x=>{const T=d(x);return v.includes(T)}),[d]),g={collabResults:e,loadingStates:r,updateCollabStatus:s,setCollabLoading:o,getCollabStatus:a,isCollabLoading:c,getEnhancedRaffleType:d,countEnhancedRaffleTypes:f,filterByEnhancedType:p};return l.jsx($5.Provider,{value:g,children:t})},FS=k.createContext({});function zS(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const BS=typeof window<"u",U5=BS?k.useLayoutEffect:k.useEffect,iv=k.createContext(null);function $S(t,e){t.indexOf(e)===-1&&t.push(e)}function US(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const gl=(t,e,n)=>n>e?e:n<t?t:n;let VS=()=>{};const yl={},V5=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function W5(t){return typeof t=="object"&&t!==null}const q5=t=>/^0[^.\s]+$/u.test(t);function WS(t){let e;return()=>(e===void 0&&(e=t()),e)}const ko=t=>t,dq=(t,e)=>n=>e(t(n)),tg=(...t)=>t.reduce(dq),ym=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class qS{constructor(){this.subscriptions=[]}add(e){return $S(this.subscriptions,e),()=>US(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ma=t=>t*1e3,xo=t=>t/1e3;function H5(t,e){return e?t*(1e3/e):0}const G5=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,fq=1e-7,hq=12;function pq(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=G5(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>fq&&++a<hq);return o}function ng(t,e,n,r){if(t===e&&n===r)return ko;const i=s=>pq(s,0,1,t,n);return s=>s===0||s===1?s:G5(i(s),e,r)}const K5=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Y5=t=>e=>1-t(1-e),X5=ng(.33,1.53,.69,.99),HS=Y5(X5),J5=K5(HS),Q5=t=>(t*=2)<1?.5*HS(t):.5*(2-Math.pow(2,-10*(t-1))),GS=t=>1-Math.sin(Math.acos(t)),Z5=Y5(GS),eD=K5(GS),mq=ng(.42,0,1,1),gq=ng(0,0,.58,1),tD=ng(.42,0,.58,1),yq=t=>Array.isArray(t)&&typeof t[0]!="number",nD=t=>Array.isArray(t)&&typeof t[0]=="number",xq={linear:ko,easeIn:mq,easeInOut:tD,easeOut:gq,circIn:GS,circInOut:eD,circOut:Z5,backIn:HS,backInOut:J5,backOut:X5,anticipate:Q5},vq=t=>typeof t=="string",hj=t=>{if(nD(t)){VS(t.length===4);const[e,n,r,i]=t;return ng(e,n,r,i)}else if(vq(t))return xq[t];return t},Iy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function bq(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(f){o.has(f)&&(d.schedule(f),t()),f(a)}const d={schedule:(f,p=!1,g=!1)=>{const v=g&&i?n:r;return p&&o.add(f),v.has(f)||v.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const wq=40;function rD(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Iy.reduce((w,F)=>(w[F]=bq(s),w),{}),{setup:a,read:c,resolveKeyframes:d,preUpdate:f,update:p,preRender:g,render:m,postRender:v}=o,x=()=>{const w=yl.useManualTiming?i.timestamp:performance.now();n=!1,yl.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,wq),1)),i.timestamp=w,i.isProcessing=!0,a.process(i),c.process(i),d.process(i),f.process(i),p.process(i),g.process(i),m.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(x))},T=()=>{n=!0,r=!0,i.isProcessing||t(x)};return{schedule:Iy.reduce((w,F)=>{const z=o[F];return w[F]=(B,H=!1,Y=!1)=>(n||T(),z.schedule(B,H,Y)),w},{}),cancel:w=>{for(let F=0;F<Iy.length;F++)o[Iy[F]].cancel(w)},state:i,steps:o}}const{schedule:tr,cancel:vc,state:oi,steps:Zw}=rD(typeof requestAnimationFrame<"u"?requestAnimationFrame:ko,!0);let R0;function kq(){R0=void 0}const us={now:()=>(R0===void 0&&us.set(oi.isProcessing||yl.useManualTiming?oi.timestamp:performance.now()),R0),set:t=>{R0=t,queueMicrotask(kq)}},iD=t=>e=>typeof e=="string"&&e.startsWith(t),KS=iD("--"),Tq=iD("var(--"),YS=t=>Tq(t)?Sq.test(t.split("/*")[0].trim()):!1,Sq=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ph={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},xm={...ph,transform:t=>gl(0,1,t)},My={...ph,default:1},Fp=t=>Math.round(t*1e5)/1e5,XS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Cq(t){return t==null}const _q=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,JS=(t,e)=>n=>!!(typeof n=="string"&&_q.test(n)&&n.startsWith(t)||e&&!Cq(n)&&Object.prototype.hasOwnProperty.call(n,e)),sD=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(XS);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Eq=t=>gl(0,255,t),e1={...ph,transform:t=>Math.round(Eq(t))},ju={test:JS("rgb","red"),parse:sD("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+e1.transform(t)+", "+e1.transform(e)+", "+e1.transform(n)+", "+Fp(xm.transform(r))+")"};function Nq(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Pk={test:JS("#"),parse:Nq,transform:ju.transform},rg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Kl=rg("deg"),Da=rg("%"),Rt=rg("px"),Aq=rg("vh"),jq=rg("vw"),pj={...Da,parse:t=>Da.parse(t)/100,transform:t=>Da.transform(t*100)},yf={test:JS("hsl","hue"),parse:sD("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Da.transform(Fp(e))+", "+Da.transform(Fp(n))+", "+Fp(xm.transform(r))+")"},Pr={test:t=>ju.test(t)||Pk.test(t)||yf.test(t),parse:t=>ju.test(t)?ju.parse(t):yf.test(t)?yf.parse(t):Pk.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ju.transform(t):yf.transform(t),getAnimatableNone:t=>{const e=Pr.parse(t);return e.alpha=0,Pr.transform(e)}},Pq=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Rq(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(XS))==null?void 0:e.length)||0)+(((n=t.match(Pq))==null?void 0:n.length)||0)>0}const oD="number",aD="color",Iq="var",Mq="var(",mj="${}",Dq=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vm(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(Dq,c=>(Pr.test(c)?(r.color.push(s),i.push(aD),n.push(Pr.parse(c))):c.startsWith(Mq)?(r.var.push(s),i.push(Iq),n.push(c)):(r.number.push(s),i.push(oD),n.push(parseFloat(c))),++s,mj)).split(mj);return{values:n,split:a,indexes:r,types:i}}function lD(t){return vm(t).values}function cD(t){const{split:e,types:n}=vm(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===oD?s+=Fp(i[o]):a===aD?s+=Pr.transform(i[o]):s+=i[o]}return s}}const Oq=t=>typeof t=="number"?0:Pr.test(t)?Pr.getAnimatableNone(t):t;function Lq(t){const e=lD(t);return cD(t)(e.map(Oq))}const bc={test:Rq,parse:lD,createTransformer:cD,getAnimatableNone:Lq};function t1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Fq({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;i=t1(c,a,t+1/3),s=t1(c,a,t),o=t1(c,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function lx(t,e){return n=>n>0?e:t}const ur=(t,e,n)=>t+(e-t)*n,n1=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},zq=[Pk,ju,yf],Bq=t=>zq.find(e=>e.test(t));function gj(t){const e=Bq(t);if(!e)return!1;let n=e.parse(t);return e===yf&&(n=Fq(n)),n}const yj=(t,e)=>{const n=gj(t),r=gj(e);if(!n||!r)return lx(t,e);const i={...n};return s=>(i.red=n1(n.red,r.red,s),i.green=n1(n.green,r.green,s),i.blue=n1(n.blue,r.blue,s),i.alpha=ur(n.alpha,r.alpha,s),ju.transform(i))},Rk=new Set(["none","hidden"]);function $q(t,e){return Rk.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Uq(t,e){return n=>ur(t,e,n)}function QS(t){return typeof t=="number"?Uq:typeof t=="string"?YS(t)?lx:Pr.test(t)?yj:qq:Array.isArray(t)?uD:typeof t=="object"?Pr.test(t)?yj:Vq:lx}function uD(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>QS(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function Vq(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=QS(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Wq(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const qq=(t,e)=>{const n=bc.createTransformer(e),r=vm(t),i=vm(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Rk.has(t)&&!i.values.length||Rk.has(e)&&!r.values.length?$q(t,e):tg(uD(Wq(r,i),i.values),n):lx(t,e)};function dD(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ur(t,e,n):QS(t)(t,e)}const Hq=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>tr.update(e,n),stop:()=>vc(e),now:()=>oi.isProcessing?oi.timestamp:us.now()}},fD=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},cx=2e4;function ZS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<cx;)e+=n,r=t.next(e);return e>=cx?1/0:e}function Gq(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(ZS(r),cx);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:xo(i)}}const Kq=5;function hD(t,e,n){const r=Math.max(e-Kq,0);return H5(n-t(r),e-r)}const pr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},r1=.001;function Yq({duration:t=pr.duration,bounce:e=pr.bounce,velocity:n=pr.velocity,mass:r=pr.mass}){let i,s,o=1-e;o=gl(pr.minDamping,pr.maxDamping,o),t=gl(pr.minDuration,pr.maxDuration,xo(t)),o<1?(i=d=>{const f=d*o,p=f*t,g=f-n,m=Ik(d,o),v=Math.exp(-p);return r1-g/m*v},s=d=>{const p=d*o*t,g=p*n+n,m=Math.pow(o,2)*Math.pow(d,2)*t,v=Math.exp(-p),x=Ik(Math.pow(d,2),o);return(-i(d)+r1>0?-1:1)*((g-m)*v)/x}):(i=d=>{const f=Math.exp(-d*t),p=(d-n)*t+1;return-r1+f*p},s=d=>{const f=Math.exp(-d*t),p=(n-d)*(t*t);return f*p});const a=5/t,c=Jq(i,s,a);if(t=Ma(t),isNaN(c))return{stiffness:pr.stiffness,damping:pr.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const Xq=12;function Jq(t,e,n){let r=n;for(let i=1;i<Xq;i++)r=r-t(r)/e(r);return r}function Ik(t,e){return t*Math.sqrt(1-e*e)}const Qq=["duration","bounce"],Zq=["stiffness","damping","mass"];function xj(t,e){return e.some(n=>t[n]!==void 0)}function eH(t){let e={velocity:pr.velocity,stiffness:pr.stiffness,damping:pr.damping,mass:pr.mass,isResolvedFromDuration:!1,...t};if(!xj(t,Zq)&&xj(t,Qq))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*gl(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:pr.mass,stiffness:i,damping:s}}else{const n=Yq(t);e={...e,...n,mass:pr.mass},e.isResolvedFromDuration=!0}return e}function ux(t=pr.visualDuration,e=pr.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:c,damping:d,mass:f,duration:p,velocity:g,isResolvedFromDuration:m}=eH({...n,velocity:-xo(n.velocity||0)}),v=g||0,x=d/(2*Math.sqrt(c*f)),T=o-s,_=xo(Math.sqrt(c/f)),j=Math.abs(T)<5;r||(r=j?pr.restSpeed.granular:pr.restSpeed.default),i||(i=j?pr.restDelta.granular:pr.restDelta.default);let w;if(x<1){const z=Ik(_,x);w=B=>{const H=Math.exp(-x*_*B);return o-H*((v+x*_*T)/z*Math.sin(z*B)+T*Math.cos(z*B))}}else if(x===1)w=z=>o-Math.exp(-_*z)*(T+(v+_*T)*z);else{const z=_*Math.sqrt(x*x-1);w=B=>{const H=Math.exp(-x*_*B),Y=Math.min(z*B,300);return o-H*((v+x*_*T)*Math.sinh(Y)+z*T*Math.cosh(Y))/z}}const F={calculatedDuration:m&&p||null,next:z=>{const B=w(z);if(m)a.done=z>=p;else{let H=z===0?v:0;x<1&&(H=z===0?Ma(v):hD(w,z,B));const Y=Math.abs(H)<=r,W=Math.abs(o-B)<=i;a.done=Y&&W}return a.value=a.done?o:B,a},toString:()=>{const z=Math.min(ZS(F),cx),B=fD(H=>F.next(z*H).value,z,30);return z+"ms "+B},toTransition:()=>{}};return F}ux.applyToOptions=t=>{const e=Gq(t,100,ux);return t.ease=e.ease,t.duration=Ma(e.duration),t.type="keyframes",t};function Mk({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:d=.5,restSpeed:f}){const p=t[0],g={done:!1,value:p},m=Y=>a!==void 0&&Y<a||c!==void 0&&Y>c,v=Y=>a===void 0?c:c===void 0||Math.abs(a-Y)<Math.abs(c-Y)?a:c;let x=n*e;const T=p+x,_=o===void 0?T:o(T);_!==T&&(x=_-p);const j=Y=>-x*Math.exp(-Y/r),w=Y=>_+j(Y),F=Y=>{const W=j(Y),q=w(Y);g.done=Math.abs(W)<=d,g.value=g.done?_:q};let z,B;const H=Y=>{m(g.value)&&(z=Y,B=ux({keyframes:[g.value,v(g.value)],velocity:hD(w,Y,g.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return H(0),{calculatedDuration:null,next:Y=>{let W=!1;return!B&&z===void 0&&(W=!0,F(Y),H(Y)),z!==void 0&&Y>=z?B.next(Y-z):(!W&&F(Y),g)}}}function tH(t,e,n){const r=[],i=n||yl.mix||dD,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||ko:e;a=tg(c,a)}r.push(a)}return r}function nH(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(VS(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=tH(e,r,i),c=a.length,d=f=>{if(o&&f<t[0])return e[0];let p=0;if(c>1)for(;p<t.length-2&&!(f<t[p+1]);p++);const g=ym(t[p],t[p+1],f);return a[p](g)};return n?f=>d(gl(t[0],t[s-1],f)):d}function rH(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ym(0,e,r);t.push(ur(n,1,i))}}function iH(t){const e=[0];return rH(e,t.length-1),e}function sH(t,e){return t.map(n=>n*e)}function oH(t,e){return t.map(()=>e||tD).splice(0,t.length-1)}function zp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=yq(r)?r.map(hj):hj(r),s={done:!1,value:e[0]},o=sH(n&&n.length===e.length?n:iH(e),t),a=nH(o,e,{ease:Array.isArray(i)?i:oH(e,i)});return{calculatedDuration:t,next:c=>(s.value=a(c),s.done=c>=t,s)}}const aH=t=>t!==null;function e2(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(aH),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const lH={decay:Mk,inertia:Mk,tween:zp,keyframes:zp,spring:ux};function pD(t){typeof t.type=="string"&&(t.type=lH[t.type])}class t2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const cH=t=>t/100;class n2 extends t2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==us.now()&&this.tick(us.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;pD(e);const{type:n=zp,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const c=n||zp;c!==zp&&typeof a[0]!="number"&&(this.mixKeyframes=tg(cH,dD(a[0],a[1])),a=[0,100]);const d=c({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...a].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=ZS(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:f,repeat:p,repeatType:g,repeatDelay:m,type:v,onUpdate:x,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-d*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let w=this.currentTime,F=r;if(p){const Y=Math.min(this.currentTime,i)/a;let W=Math.floor(Y),q=Y%1;!q&&Y>=1&&(q=1),q===1&&W--,W=Math.min(W,p+1),!!(W%2)&&(g==="reverse"?(q=1-q,m&&(q-=m/a)):g==="mirror"&&(F=o)),w=gl(0,1,q)*a}const z=j?{done:!1,value:f[0]}:F.next(w);s&&(z.value=s(z.value));let{done:B}=z;!j&&c!==null&&(B=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const H=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return H&&v!==Mk&&(z.value=e2(f,this.options,T,this.speed)),x&&x(z.value),H&&this.finish(),z}then(e,n){return this.finished.then(e,n)}get duration(){return xo(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xo(e)}get time(){return xo(this.currentTime)}set time(e){var n;e=Ma(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(us.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=xo(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=Hq,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(us.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function uH(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Pu=t=>t*180/Math.PI,Dk=t=>{const e=Pu(Math.atan2(t[1],t[0]));return Ok(e)},dH={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Dk,rotateZ:Dk,skewX:t=>Pu(Math.atan(t[1])),skewY:t=>Pu(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ok=t=>(t=t%360,t<0&&(t+=360),t),vj=Dk,bj=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),wj=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),fH={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bj,scaleY:wj,scale:t=>(bj(t)+wj(t))/2,rotateX:t=>Ok(Pu(Math.atan2(t[6],t[5]))),rotateY:t=>Ok(Pu(Math.atan2(-t[2],t[0]))),rotateZ:vj,rotate:vj,skewX:t=>Pu(Math.atan(t[4])),skewY:t=>Pu(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Lk(t){return t.includes("scale")?1:0}function Fk(t,e){if(!t||t==="none")return Lk(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=fH,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=dH,i=a}if(!i)return Lk(e);const s=r[e],o=i[1].split(",").map(pH);return typeof s=="function"?s(o):o[s]}const hH=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Fk(n,e)};function pH(t){return parseFloat(t.trim())}const mh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gh=new Set(mh),kj=t=>t===ph||t===Rt,mH=new Set(["x","y","z"]),gH=mh.filter(t=>!mH.has(t));function yH(t){const e=[];return gH.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ou={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Fk(e,"x"),y:(t,{transform:e})=>Fk(e,"y")};Ou.translateX=Ou.x;Ou.translateY=Ou.y;const Lu=new Set;let zk=!1,Bk=!1,$k=!1;function mD(){if(Bk){const t=Array.from(Lu).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=yH(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Bk=!1,zk=!1,Lu.forEach(t=>t.complete($k)),Lu.clear()}function gD(){Lu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Bk=!0)})}function xH(){$k=!0,gD(),mD(),$k=!1}class r2{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Lu.add(this),zk||(zk=!0,tr.read(gD),tr.resolveKeyframes(mD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}uH(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Lu.delete(this)}cancel(){this.state==="scheduled"&&(Lu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const vH=t=>t.startsWith("--");function bH(t,e,n){vH(e)?t.style.setProperty(e,n):t.style[e]=n}const wH=WS(()=>window.ScrollTimeline!==void 0),kH={};function TH(t,e){const n=WS(t);return()=>kH[e]??n()}const yD=TH(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Tp=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Tj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Tp([0,.65,.55,1]),circOut:Tp([.55,0,1,.45]),backIn:Tp([.31,.01,.66,-.59]),backOut:Tp([.33,1.53,.69,.99])};function xD(t,e){if(t)return typeof t=="function"?yD()?fD(t,e):"ease-out":nD(t)?Tp(t):Array.isArray(t)?t.map(n=>xD(n,e)||Tj.easeOut):Tj[t]}function SH(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:c}={},d=void 0){const f={[e]:n};c&&(f.offset=c);const p=xD(a,i);Array.isArray(p)&&(f.easing=p);const g={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return d&&(g.pseudoElement=d),t.animate(f,g)}function vD(t){return typeof t=="function"&&"applyToOptions"in t}function CH({type:t,...e}){return vD(t)&&yD()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class _H extends t2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,VS(typeof e.type!="string");const d=CH(e);this.animation=SH(n,r,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=e2(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(f):bH(n,r,f),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return xo(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xo(e)}get time(){return xo(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ma(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&wH()?(this.animation.timeline=e,ko):n(this)}}const bD={anticipate:Q5,backInOut:J5,circInOut:eD};function EH(t){return t in bD}function NH(t){typeof t.ease=="string"&&EH(t.ease)&&(t.ease=bD[t.ease])}const Sj=10;class AH extends _H{constructor(e){NH(e),pD(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new n2({...o,autoplay:!1}),c=Ma(this.finishedTime??this.time);n.setWithVelocity(a.sample(c-Sj).value,a.sample(c).value,Sj),a.stop()}}const Cj=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(bc.test(t)||t==="0")&&!t.startsWith("url("));function jH(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function PH(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=Cj(i,e),a=Cj(s,e);return!o||!a?!1:jH(t)||(n==="spring"||vD(n))&&r}function Uk(t){t.duration=0,t.type="keyframes"}const RH=new Set(["opacity","clipPath","filter","transform"]),IH=WS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function MH(t){var f;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return IH()&&n&&RH.has(n)&&(n!=="transform"||!d)&&!c&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const DH=40;class OH extends t2{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:c,motionValue:d,element:f,...p}){var v;super(),this.stop=()=>{var x,T;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=us.now();const g={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:d,element:f,...p},m=(f==null?void 0:f.KeyframeResolver)||r2;this.keyframeResolver=new m(a,(x,T,_)=>this.onKeyframesResolved(x,T,g,!_),c,d,f),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:c,isHandoff:d,onUpdate:f}=r;this.resolvedAt=us.now(),PH(e,s,o,a)||((yl.instantAnimations||!c)&&(f==null||f(e2(e,r,n))),e[0]=e[e.length-1],Uk(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>DH?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!d&&MH(g)?new AH({...g,element:g.motionValue.owner.current}):new n2(g);m.finished.then(()=>this.notifyFinished()).catch(ko),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),xH()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const LH=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function FH(t){const e=LH.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function wD(t,e,n=1){const[r,i]=FH(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return V5(o)?parseFloat(o):o}return YS(i)?wD(i,e,n+1):i}function i2(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const kD=new Set(["width","height","top","left","right","bottom",...mh]),zH={test:t=>t==="auto",parse:t=>t},TD=t=>e=>e.test(t),SD=[ph,Rt,Da,Kl,jq,Aq,zH],_j=t=>SD.find(TD(t));function BH(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||q5(t):!0}const $H=new Set(["brightness","contrast","saturate","opacity"]);function UH(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(XS)||[];if(!r)return t;const i=n.replace(r,"");let s=$H.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const VH=/\b([a-z-]*)\(.*?\)/gu,Vk={...bc,getAnimatableNone:t=>{const e=t.match(VH);return e?e.map(UH).join(" "):t}},Ej={...ph,transform:Math.round},WH={rotate:Kl,rotateX:Kl,rotateY:Kl,rotateZ:Kl,scale:My,scaleX:My,scaleY:My,scaleZ:My,skew:Kl,skewX:Kl,skewY:Kl,distance:Rt,translateX:Rt,translateY:Rt,translateZ:Rt,x:Rt,y:Rt,z:Rt,perspective:Rt,transformPerspective:Rt,opacity:xm,originX:pj,originY:pj,originZ:Rt},s2={borderWidth:Rt,borderTopWidth:Rt,borderRightWidth:Rt,borderBottomWidth:Rt,borderLeftWidth:Rt,borderRadius:Rt,radius:Rt,borderTopLeftRadius:Rt,borderTopRightRadius:Rt,borderBottomRightRadius:Rt,borderBottomLeftRadius:Rt,width:Rt,maxWidth:Rt,height:Rt,maxHeight:Rt,top:Rt,right:Rt,bottom:Rt,left:Rt,padding:Rt,paddingTop:Rt,paddingRight:Rt,paddingBottom:Rt,paddingLeft:Rt,margin:Rt,marginTop:Rt,marginRight:Rt,marginBottom:Rt,marginLeft:Rt,backgroundPositionX:Rt,backgroundPositionY:Rt,...WH,zIndex:Ej,fillOpacity:xm,strokeOpacity:xm,numOctaves:Ej},qH={...s2,color:Pr,backgroundColor:Pr,outlineColor:Pr,fill:Pr,stroke:Pr,borderColor:Pr,borderTopColor:Pr,borderRightColor:Pr,borderBottomColor:Pr,borderLeftColor:Pr,filter:Vk,WebkitFilter:Vk},CD=t=>qH[t];function _D(t,e){let n=CD(t);return n!==Vk&&(n=bc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const HH=new Set(["auto","none","0"]);function GH(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!HH.has(s)&&vm(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=_D(n,i)}class KH extends r2{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),YS(d))){const f=wD(d,n.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!kD.has(r)||e.length!==2)return;const[i,s]=e,o=_j(i),a=_j(s);if(o!==a)if(kj(o)&&kj(a))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Ou[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||BH(e[i]))&&r.push(i);r.length&&GH(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ou[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Ou[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function YH(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const ED=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function ND(t){return W5(t)&&"offsetHeight"in t}const Nj=30,XH=t=>!isNaN(parseFloat(t));class JH{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=us.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=us.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=XH(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new qS);const r=this.events[e].add(n);return e==="change"?()=>{r(),tr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=us.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Nj)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Nj);return H5(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hf(t,e){return new JH(t,e)}const{schedule:o2}=rD(queueMicrotask,!1),Vo={x:!1,y:!1};function AD(){return Vo.x||Vo.y}function QH(t){return t==="x"||t==="y"?Vo[t]?null:(Vo[t]=!0,()=>{Vo[t]=!1}):Vo.x||Vo.y?null:(Vo.x=Vo.y=!0,()=>{Vo.x=Vo.y=!1})}function jD(t,e){const n=YH(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Aj(t){return!(t.pointerType==="touch"||AD())}function ZH(t,e,n={}){const[r,i,s]=jD(t,n),o=a=>{if(!Aj(a))return;const{target:c}=a,d=e(c,a);if(typeof d!="function"||!c)return;const f=p=>{Aj(p)&&(d(p),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const PD=(t,e)=>e?t===e?!0:PD(t,e.parentElement):!1,a2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,eG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tG(t){return eG.has(t.tagName)||t.tabIndex!==-1}const I0=new WeakSet;function jj(t){return e=>{e.key==="Enter"&&t(e)}}function i1(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const nG=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=jj(()=>{if(I0.has(n))return;i1(n,"down");const i=jj(()=>{i1(n,"up")}),s=()=>i1(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Pj(t){return a2(t)&&!AD()}function rG(t,e,n={}){const[r,i,s]=jD(t,n),o=a=>{const c=a.currentTarget;if(!Pj(a))return;I0.add(c);const d=e(c,a),f=(m,v)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),I0.has(c)&&I0.delete(c),Pj(m)&&typeof d=="function"&&d(m,{success:v})},p=m=>{f(m,c===window||c===document||n.useGlobalTarget||PD(c,m.target))},g=m=>{f(m,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),ND(a)&&(a.addEventListener("focus",d=>nG(d,i)),!tG(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function RD(t){return W5(t)&&"ownerSVGElement"in t}function iG(t){return RD(t)&&t.tagName==="svg"}const _i=t=>!!(t&&t.getVelocity),sG=[...SD,Pr,bc],oG=t=>sG.find(TD(t)),l2=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Rj(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function aG(...t){return e=>{let n=!1;const r=t.map(i=>{const s=Rj(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Rj(t[i],null)}}}}function lG(...t){return k.useCallback(aG(...t),t)}class cG extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=ND(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function uG({children:t,isPresent:e,anchorX:n,root:r}){const i=k.useId(),s=k.useRef(null),o=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=k.useContext(l2),c=lG(s,t==null?void 0:t.ref);return k.useInsertionEffect(()=>{const{width:d,height:f,top:p,left:g,right:m}=o.current;if(e||!s.current||!d||!f)return;const v=n==="left"?`left: ${g}`:`right: ${m}`;s.current.dataset.motionPopId=i;const x=document.createElement("style");a&&(x.nonce=a);const T=r??document.head;return T.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${v}px !important;
            top: ${p}px !important;
          }
        `),()=>{T.contains(x)&&T.removeChild(x)}},[e]),l.jsx(cG,{isPresent:e,childRef:s,sizeRef:o,children:k.cloneElement(t,{ref:c})})}const dG=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:c})=>{const d=zS(fG),f=k.useId();let p=!0,g=k.useMemo(()=>(p=!1,{id:f,initial:e,isPresent:n,custom:i,onExitComplete:m=>{d.set(m,!0);for(const v of d.values())if(!v)return;r&&r()},register:m=>(d.set(m,!1),()=>d.delete(m))}),[n,d,r]);return s&&p&&(g={...g}),k.useMemo(()=>{d.forEach((m,v)=>d.set(v,!1))},[n]),k.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),o==="popLayout"&&(t=l.jsx(uG,{isPresent:n,anchorX:a,root:c,children:t})),l.jsx(iv.Provider,{value:g,children:t})};function fG(){return new Map}function ID(t=!0){const e=k.useContext(iv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=k.useId();k.useEffect(()=>{if(t)return i(s)},[t]);const o=k.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Dy=t=>t.key||"";function Ij(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const Wk=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:c})=>{const[d,f]=ID(o),p=k.useMemo(()=>Ij(t),[t]),g=o&&!d?[]:p.map(Dy),m=k.useRef(!0),v=k.useRef(p),x=zS(()=>new Map),[T,_]=k.useState(p),[j,w]=k.useState(p);U5(()=>{m.current=!1,v.current=p;for(let B=0;B<j.length;B++){const H=Dy(j[B]);g.includes(H)?x.delete(H):x.get(H)!==!0&&x.set(H,!1)}},[j,g.length,g.join("-")]);const F=[];if(p!==T){let B=[...p];for(let H=0;H<j.length;H++){const Y=j[H],W=Dy(Y);g.includes(W)||(B.splice(H,0,Y),F.push(Y))}return s==="wait"&&F.length&&(B=F),w(Ij(B)),_(p),null}const{forceRender:z}=k.useContext(FS);return l.jsx(l.Fragment,{children:j.map(B=>{const H=Dy(B),Y=o&&!d?!1:p===j||g.includes(H),W=()=>{if(x.has(H))x.set(H,!0);else return;let q=!0;x.forEach(X=>{X||(q=!1)}),q&&(z==null||z(),w(v.current),o&&(f==null||f()),r&&r())};return l.jsx(dG,{isPresent:Y,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:Y?void 0:W,anchorX:a,children:B},H)})})},MD=k.createContext({strict:!1}),Mj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gf={};for(const t in Mj)Gf[t]={isEnabled:e=>Mj[t].some(n=>!!e[n])};function hG(t){for(const e in t)Gf[e]={...Gf[e],...t[e]}}const pG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||pG.has(t)}let DD=t=>!dx(t);function mG(t){typeof t=="function"&&(DD=e=>e.startsWith("on")?!dx(e):t(e))}try{mG(require("@emotion/is-prop-valid").default)}catch{}function gG(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(DD(i)||n===!0&&dx(i)||!e&&!dx(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const sv=k.createContext({});function ov(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function bm(t){return typeof t=="string"||Array.isArray(t)}const c2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],u2=["initial",...c2];function av(t){return ov(t.animate)||u2.some(e=>bm(t[e]))}function OD(t){return!!(av(t)||t.variants)}function yG(t,e){if(av(t)){const{initial:n,animate:r}=t;return{initial:n===!1||bm(n)?n:void 0,animate:bm(r)?r:void 0}}return t.inherit!==!1?e:{}}function xG(t){const{initial:e,animate:n}=yG(t,k.useContext(sv));return k.useMemo(()=>({initial:e,animate:n}),[Dj(e),Dj(n)])}function Dj(t){return Array.isArray(t)?t.join(" "):t}const wm={};function vG(t){for(const e in t)wm[e]=t[e],KS(e)&&(wm[e].isCSSVariable=!0)}function LD(t,{layout:e,layoutId:n}){return gh.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!wm[t]||t==="opacity")}const bG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wG=mh.length;function kG(t,e,n){let r="",i=!0;for(let s=0;s<wG;s++){const o=mh[s],a=t[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const d=ED(a,s2[o]);if(!c){i=!1;const f=bG[o]||o;r+=`${f}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function d2(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const c in e){const d=e[c];if(gh.has(c)){o=!0;continue}else if(KS(c)){i[c]=d;continue}else{const f=ED(d,s2[c]);c.startsWith("origin")?(a=!0,s[c]=f):r[c]=f}}if(e.transform||(o||n?r.transform=kG(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:d="50%",originZ:f=0}=s;r.transformOrigin=`${c} ${d} ${f}`}}const f2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function FD(t,e,n){for(const r in e)!_i(e[r])&&!LD(r,n)&&(t[r]=e[r])}function TG({transformTemplate:t},e){return k.useMemo(()=>{const n=f2();return d2(n,e,t),Object.assign({},n.vars,n.style)},[e])}function SG(t,e){const n=t.style||{},r={};return FD(r,n,t),Object.assign(r,TG(t,e)),r}function CG(t,e){const n={},r=SG(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const _G={offset:"stroke-dashoffset",array:"stroke-dasharray"},EG={offset:"strokeDashoffset",array:"strokeDasharray"};function NG(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?_G:EG;t[s.offset]=Rt.transform(-r);const o=Rt.transform(e),a=Rt.transform(n);t[s.array]=`${o} ${a}`}function zD(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},c,d,f){if(d2(t,a,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&NG(p,i,s,o,!1)}const BD=()=>({...f2(),attrs:{}}),$D=t=>typeof t=="string"&&t.toLowerCase()==="svg";function AG(t,e,n,r){const i=k.useMemo(()=>{const s=BD();return zD(s,e,$D(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};FD(s,t.style,t),i.style={...s,...i.style}}return i}const jG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function h2(t){return typeof t!="string"||t.includes("-")?!1:!!(jG.indexOf(t)>-1||/[A-Z]/u.test(t))}function PG(t,e,n,{latestValues:r},i,s=!1){const a=(h2(t)?AG:CG)(e,r,i,t),c=gG(e,typeof t=="string",s),d=t!==k.Fragment?{...c,...a,ref:n}:{},{children:f}=e,p=k.useMemo(()=>_i(f)?f.get():f,[f]);return k.createElement(t,{...d,children:p})}function Oj(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function p2(t,e,n,r){if(typeof e=="function"){const[i,s]=Oj(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Oj(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function M0(t){return _i(t)?t.get():t}function RG({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:IG(n,r,i,t),renderState:e()}}function IG(t,e,n,r){const i={},s=r(t,{});for(const g in s)i[g]=M0(s[g]);let{initial:o,animate:a}=t;const c=av(t),d=OD(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const p=f?a:o;if(p&&typeof p!="boolean"&&!ov(p)){const g=Array.isArray(p)?p:[p];for(let m=0;m<g.length;m++){const v=p2(t,g[m]);if(v){const{transitionEnd:x,transition:T,..._}=v;for(const j in _){let w=_[j];if(Array.isArray(w)){const F=f?w.length-1:0;w=w[F]}w!==null&&(i[j]=w)}for(const j in x)i[j]=x[j]}}}return i}const UD=t=>(e,n)=>{const r=k.useContext(sv),i=k.useContext(iv),s=()=>RG(t,e,r,i);return n?s():zS(s)};function m2(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(_i(r[o])||e.style&&_i(e.style[o])||LD(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const MG=UD({scrapeMotionValuesFromProps:m2,createRenderState:f2});function VD(t,e,n){const r=m2(t,e,n);for(const i in t)if(_i(t[i])||_i(e[i])){const s=mh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const DG=UD({scrapeMotionValuesFromProps:VD,createRenderState:BD}),OG=Symbol.for("motionComponentSymbol");function xf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function LG(t,e,n){return k.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):xf(n)&&(n.current=r))},[e])}const g2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),FG="framerAppearId",WD="data-"+g2(FG),qD=k.createContext({});function zG(t,e,n,r,i){var x,T;const{visualElement:s}=k.useContext(sv),o=k.useContext(MD),a=k.useContext(iv),c=k.useContext(l2).reducedMotion,d=k.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const f=d.current,p=k.useContext(qD);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&BG(d.current,n,i,p);const g=k.useRef(!1);k.useInsertionEffect(()=>{f&&g.current&&f.update(n,a)});const m=n[WD],v=k.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,m)));return U5(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),v.current&&f.animationState&&f.animationState.animateChanges())}),k.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,m)}),v.current=!1),f.enteringChildren=void 0)}),f}function BG(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:d,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:HD(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&xf(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:c,layoutRoot:d})}function HD(t){if(t)return t.options.allowProjection!==!1?t.projection:HD(t.parent)}function s1(t,{forwardMotionProps:e=!1}={},n,r){n&&hG(n);const i=h2(t)?DG:MG;function s(a,c){let d;const f={...k.useContext(l2),...a,layoutId:$G(a)},{isStatic:p}=f,g=xG(a),m=i(a,p);if(!p&&BS){UG();const v=VG(f);d=v.MeasureLayout,g.visualElement=zG(t,m,f,r,v.ProjectionNode)}return l.jsxs(sv.Provider,{value:g,children:[d&&g.visualElement?l.jsx(d,{visualElement:g.visualElement,...f}):null,PG(t,a,LG(m,g.visualElement,c),m,p,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=k.forwardRef(s);return o[OG]=t,o}function $G({layoutId:t}){const e=k.useContext(FS).id;return e&&t!==void 0?e+"-"+t:t}function UG(t,e){k.useContext(MD).strict}function VG(t){const{drag:e,layout:n}=Gf;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function WG(t,e){if(typeof Proxy>"u")return s1;const n=new Map,r=(s,o)=>s1(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,s1(o,void 0,t,e)),n.get(o))})}function GD({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function qG({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function HG(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function o1(t){return t===void 0||t===1}function qk({scale:t,scaleX:e,scaleY:n}){return!o1(t)||!o1(e)||!o1(n)}function vu(t){return qk(t)||KD(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function KD(t){return Lj(t.x)||Lj(t.y)}function Lj(t){return t&&t!=="0%"}function fx(t,e,n){const r=t-n,i=e*r;return n+i}function Fj(t,e,n,r,i){return i!==void 0&&(t=fx(t,i,r)),fx(t,n,r)+e}function Hk(t,e=0,n=1,r,i){t.min=Fj(t.min,e,n,r,i),t.max=Fj(t.max,e,n,r,i)}function YD(t,{x:e,y:n}){Hk(t.x,e.translate,e.scale,e.originPoint),Hk(t.y,n.translate,n.scale,n.originPoint)}const zj=.999999999999,Bj=1.0000000000001;function GG(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&bf(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,YD(t,o)),r&&vu(s.latestValues)&&bf(t,s.latestValues))}e.x<Bj&&e.x>zj&&(e.x=1),e.y<Bj&&e.y>zj&&(e.y=1)}function vf(t,e){t.min=t.min+e,t.max=t.max+e}function $j(t,e,n,r,i=.5){const s=ur(t.min,t.max,i);Hk(t,e,n,s,r)}function bf(t,e){$j(t.x,e.x,e.scaleX,e.scale,e.originX),$j(t.y,e.y,e.scaleY,e.scale,e.originY)}function XD(t,e){return GD(HG(t.getBoundingClientRect(),e))}function KG(t,e,n){const r=XD(t,n),{scroll:i}=e;return i&&(vf(r.x,i.offset.x),vf(r.y,i.offset.y)),r}const Uj=()=>({translate:0,scale:1,origin:0,originPoint:0}),wf=()=>({x:Uj(),y:Uj()}),Vj=()=>({min:0,max:0}),vr=()=>({x:Vj(),y:Vj()}),Gk={current:null},JD={current:!1};function YG(){if(JD.current=!0,!!BS)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Gk.current=t.matches;t.addEventListener("change",e),e()}else Gk.current=!1}const XG=new WeakMap;function JG(t,e,n){for(const r in e){const i=e[r],s=n[r];if(_i(i))t.addValue(r,i);else if(_i(s))t.addValue(r,Hf(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Hf(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Wj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class QG{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=r2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=us.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,tr.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=av(n),this.isVariantNode=OD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in p){const m=p[g];c[g]!==void 0&&_i(m)&&m.set(c[g])}}mount(e){var n;this.current=e,XG.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),JD.current||YG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gk.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),vc(this.notifyUpdate),vc(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=gh.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&tr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Gf){const n=Gf[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Wj.length;r++){const i=Wj[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=JG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Hf(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(V5(r)||q5(r))?r=parseFloat(r):!oG(r)&&bc.test(n)&&(r=_D(e,n)),this.setBaseTarget(e,_i(r)?r.get():r)),_i(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=p2(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!_i(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new qS),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){o2.render(this.render)}}class QD extends QG{constructor(){super(...arguments),this.KeyframeResolver=KH}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;_i(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ZD(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function ZG(t){return window.getComputedStyle(t)}class eK extends QD{constructor(){super(...arguments),this.type="html",this.renderInstance=ZD}readValueFromInstance(e,n){var r;if(gh.has(n))return(r=this.projection)!=null&&r.isProjecting?Lk(n):hH(e,n);{const i=ZG(e),s=(KS(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return XD(e,n)}build(e,n,r){d2(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return m2(e,n,r)}}const e6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tK(t,e,n,r){ZD(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(e6.has(i)?i:g2(i),e.attrs[i])}class nK extends QD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(gh.has(n)){const r=CD(n);return r&&r.default||0}return n=e6.has(n)?n:g2(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return VD(e,n,r)}build(e,n,r){zD(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){tK(e,n,r,i)}mount(e){this.isSVGTag=$D(e.tagName),super.mount(e)}}const rK=(t,e)=>h2(t)?new nK(e):new eK(e,{allowProjection:t!==k.Fragment});function Nf(t,e,n){const r=t.getProps();return p2(r,e,n!==void 0?n:r.custom,t)}const Kk=t=>Array.isArray(t);function iK(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Hf(n))}function sK(t){return Kk(t)?t[t.length-1]||0:t}function oK(t,e){const n=Nf(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=sK(s[o]);iK(t,o,a)}}function aK(t){return!!(_i(t)&&t.add)}function Yk(t,e){const n=t.getValue("willChange");if(aK(n))return n.add(e);if(!n&&yl.WillChange){const r=new yl.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function t6(t){return t.props[WD]}const lK=t=>t!==null;function cK(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(lK),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const uK={type:"spring",stiffness:500,damping:25,restSpeed:10},dK=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),fK={type:"keyframes",duration:.8},hK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pK=(t,{keyframes:e})=>e.length>2?fK:gh.has(t)?t.startsWith("scale")?dK(e[1]):uK:hK;function mK({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:d,...f}){return!!Object.keys(f).length}const y2=(t,e,n,r={},i,s)=>o=>{const a=i2(r,t)||{},c=a.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Ma(c);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-d,onUpdate:g=>{e.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};mK(a)||Object.assign(f,pK(t,f)),f.duration&&(f.duration=Ma(f.duration)),f.repeatDelay&&(f.repeatDelay=Ma(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(Uk(f),f.delay===0&&(p=!0)),(yl.instantAnimations||yl.skipAnimations)&&(p=!0,Uk(f),f.delay=0),f.allowFlatten=!a.type&&!a.ease,p&&!s&&e.get()!==void 0){const g=cK(f.keyframes,a);if(g!==void 0){tr.update(()=>{f.onUpdate(g),f.onComplete()});return}}return a.isSync?new n2(f):new OH(f)};function gK({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function n6(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const p=t.getValue(f,t.latestValues[f]??null),g=a[f];if(g===void 0||d&&gK(d,f))continue;const m={delay:n,...i2(s||{},f)},v=p.get();if(v!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===v&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const _=t6(t);if(_){const j=window.MotionHandoffAnimation(_,f,tr);j!==null&&(m.startTime=j,x=!0)}}Yk(t,f),p.start(y2(f,p,g,t.shouldReduceMotion&&kD.has(f)?{type:!1}:m,t,x));const T=p.animation;T&&c.push(T)}return o&&Promise.all(c).then(()=>{tr.update(()=>{o&&oK(t,o)})}),c}function r6(t,e,n,r=0,i=1){const s=Array.from(t).sort((d,f)=>d.sortNodePosition(f)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function Xk(t,e,n={}){var c;const r=Nf(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(n6(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=i;return yK(t,e,d,f,p,g,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[d,f]=a==="beforeChildren"?[s,o]:[o,s];return d().then(()=>f())}else return Promise.all([s(),o(n.delay)])}function yK(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),a.push(Xk(c,e,{...o,delay:n+(typeof r=="function"?0:r)+r6(t.variantChildren,c,r,i,s)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(a)}function xK(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Xk(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Xk(t,e,n);else{const i=typeof e=="function"?Nf(t,e,n.custom):e;r=Promise.all(n6(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function i6(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const vK=u2.length;function s6(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?s6(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<vK;n++){const r=u2[n],i=t.props[r];(bm(i)||i===!1)&&(e[r]=i)}return e}const bK=[...c2].reverse(),wK=c2.length;function kK(t){return e=>Promise.all(e.map(({animation:n,options:r})=>xK(t,n,r)))}function TK(t){let e=kK(t),n=qj(),r=!0;const i=c=>(d,f)=>{var g;const p=Nf(t,f,c==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(p){const{transition:m,transitionEnd:v,...x}=p;d={...d,...x,...v}}return d};function s(c){e=c(t)}function o(c){const{props:d}=t,f=s6(t.parent)||{},p=[],g=new Set;let m={},v=1/0;for(let T=0;T<wK;T++){const _=bK[T],j=n[_],w=d[_]!==void 0?d[_]:f[_],F=bm(w),z=_===c?j.isActive:null;z===!1&&(v=T);let B=w===f[_]&&w!==d[_]&&F;if(B&&r&&t.manuallyAnimateOnMount&&(B=!1),j.protectedKeys={...m},!j.isActive&&z===null||!w&&!j.prevProp||ov(w)||typeof w=="boolean")continue;const H=SK(j.prevProp,w);let Y=H||_===c&&j.isActive&&!B&&F||T>v&&F,W=!1;const q=Array.isArray(w)?w:[w];let X=q.reduce(i(_),{});z===!1&&(X={});const{prevResolvedValues:V={}}=j,R={...V,...X},b=M=>{Y=!0,g.has(M)&&(W=!0,g.delete(M)),j.needsAnimating[M]=!0;const C=t.getValue(M);C&&(C.liveStyle=!1)};for(const M in R){const C=X[M],I=V[M];if(m.hasOwnProperty(M))continue;let E=!1;Kk(C)&&Kk(I)?E=!i6(C,I):E=C!==I,E?C!=null?b(M):g.add(M):C!==void 0&&g.has(M)?b(M):j.protectedKeys[M]=!0}j.prevProp=w,j.prevResolvedValues=X,j.isActive&&(m={...m,...X}),r&&t.blockInitialAnimation&&(Y=!1);const A=B&&H;Y&&(!A||W)&&p.push(...q.map(M=>{const C={type:_};if(typeof M=="string"&&r&&!A&&t.manuallyAnimateOnMount&&t.parent){const{parent:I}=t,E=Nf(I,M);if(I.enteringChildren&&E){const{delayChildren:P}=E.transition||{};C.delay=r6(I.enteringChildren,t,P)}}return{animation:M,options:C}}))}if(g.size){const T={};if(typeof d.initial!="boolean"){const _=Nf(t,Array.isArray(d.initial)?d.initial[0]:d.initial);_&&_.transition&&(T.transition=_.transition)}g.forEach(_=>{const j=t.getBaseTarget(_),w=t.getValue(_);w&&(w.liveStyle=!0),T[_]=j??null}),p.push({animation:T})}let x=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(p):Promise.resolve()}function a(c,d){var p;if(n[c].isActive===d)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(g=>{var m;return(m=g.animationState)==null?void 0:m.setActive(c,d)}),n[c].isActive=d;const f=o(c);for(const g in n)n[g].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=qj(),r=!0}}}function SK(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!i6(e,t):!1}function cu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qj(){return{animate:cu(!0),whileInView:cu(),whileHover:cu(),whileTap:cu(),whileDrag:cu(),whileFocus:cu(),exit:cu()}}class Nc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class CK extends Nc{constructor(e){super(e),e.animationState||(e.animationState=TK(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ov(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let _K=0;class EK extends Nc{constructor(){super(...arguments),this.id=_K++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const NK={animation:{Feature:CK},exit:{Feature:EK}};function km(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ig(t){return{point:{x:t.pageX,y:t.pageY}}}const AK=t=>e=>a2(e)&&t(e,ig(e));function Bp(t,e,n,r){return km(t,e,AK(n),r)}const o6=1e-4,jK=1-o6,PK=1+o6,a6=.01,RK=0-a6,IK=0+a6;function Yi(t){return t.max-t.min}function MK(t,e,n){return Math.abs(t-e)<=n}function Hj(t,e,n,r=.5){t.origin=r,t.originPoint=ur(e.min,e.max,t.origin),t.scale=Yi(n)/Yi(e),t.translate=ur(n.min,n.max,t.origin)-t.originPoint,(t.scale>=jK&&t.scale<=PK||isNaN(t.scale))&&(t.scale=1),(t.translate>=RK&&t.translate<=IK||isNaN(t.translate))&&(t.translate=0)}function $p(t,e,n,r){Hj(t.x,e.x,n.x,r?r.originX:void 0),Hj(t.y,e.y,n.y,r?r.originY:void 0)}function Gj(t,e,n){t.min=n.min+e.min,t.max=t.min+Yi(e)}function DK(t,e,n){Gj(t.x,e.x,n.x),Gj(t.y,e.y,n.y)}function Kj(t,e,n){t.min=e.min-n.min,t.max=t.min+Yi(e)}function Up(t,e,n){Kj(t.x,e.x,n.x),Kj(t.y,e.y,n.y)}function uo(t){return[t("x"),t("y")]}const l6=({current:t})=>t?t.ownerDocument.defaultView:null,Yj=(t,e)=>Math.abs(t-e);function OK(t,e){const n=Yj(t.x,e.x),r=Yj(t.y,e.y);return Math.sqrt(n**2+r**2)}class c6{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=l1(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=OK(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!v)return;const{point:x}=g,{timestamp:T}=oi;this.history.push({...x,timestamp:T});const{onStart:_,onMove:j}=this.handlers;m||(_&&_(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,g)},this.handlePointerMove=(g,m)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=a1(m,this.transformPagePoint),tr.update(this.updatePoint,!0)},this.handlePointerUp=(g,m)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=l1(g.type==="pointercancel"?this.lastMoveEventInfo:a1(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,_),x&&x(g,_)},!a2(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=ig(e),c=a1(a,this.transformPagePoint),{point:d}=c,{timestamp:f}=oi;this.history=[{...d,timestamp:f}];const{onSessionStart:p}=n;p&&p(e,l1(c,this.history)),this.removeListeners=tg(Bp(this.contextWindow,"pointermove",this.handlePointerMove),Bp(this.contextWindow,"pointerup",this.handlePointerUp),Bp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),vc(this.updatePoint)}}function a1(t,e){return e?{point:e(t.point)}:t}function Xj(t,e){return{x:t.x-e.x,y:t.y-e.y}}function l1({point:t},e){return{point:t,delta:Xj(t,u6(e)),offset:Xj(t,LK(e)),velocity:FK(e,.1)}}function LK(t){return t[0]}function u6(t){return t[t.length-1]}function FK(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=u6(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ma(e)));)n--;if(!r)return{x:0,y:0};const s=xo(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function zK(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ur(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ur(n,t,r.max):Math.min(t,n)),t}function Jj(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function BK(t,{top:e,left:n,bottom:r,right:i}){return{x:Jj(t.x,n,i),y:Jj(t.y,e,r)}}function Qj(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function $K(t,e){return{x:Qj(t.x,e.x),y:Qj(t.y,e.y)}}function UK(t,e){let n=.5;const r=Yi(t),i=Yi(e);return i>r?n=ym(e.min,e.max-r,t.min):r>i&&(n=ym(t.min,t.max-i,e.min)),gl(0,1,n)}function VK(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Jk=.35;function WK(t=Jk){return t===!1?t=0:t===!0&&(t=Jk),{x:Zj(t,"left","right"),y:Zj(t,"top","bottom")}}function Zj(t,e,n){return{min:eP(t,e),max:eP(t,n)}}function eP(t,e){return typeof t=="number"?t:t[e]||0}const qK=new WeakMap;class HK{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ig(p).point)},o=(p,g)=>{const{drag:m,dragPropagation:v,onDragStart:x}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QH(m),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),uo(_=>{let j=this.getAxisMotionValue(_).get()||0;if(Da.test(j)){const{projection:w}=this.visualElement;if(w&&w.layout){const F=w.layout.layoutBox[_];F&&(j=Yi(F)*(parseFloat(j)/100))}}this.originPoint[_]=j}),x&&tr.postRender(()=>x(p,g)),Yk(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},a=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:x,onDrag:T}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:_}=g;if(v&&this.currentDirection===null){this.currentDirection=GK(_),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",g.point,_),this.updateAxis("y",g.point,_),this.visualElement.render(),T&&T(p,g)},c=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>uo(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new c6(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:l6(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&tr.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Oy(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=zK(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&xf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=BK(r.layoutBox,e):this.constraints=!1,this.elastic=WK(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&uo(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=VK(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!xf(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=KG(r,i.root,this.visualElement.getTransformPagePoint());let o=$K(i.layout.layoutBox,s);if(n){const a=n(qG(o));this.hasMutatedConstraints=!!a,a&&(o=GD(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},d=uo(f=>{if(!Oy(f,n,this.currentDirection))return;let p=c&&c[f]||{};o&&(p={min:0,max:0});const g=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?e[f]:0,bounceStiffness:g,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,v)});return Promise.all(d).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Yk(this.visualElement,e),r.start(y2(e,r,0,n,this.visualElement,!1))}stopAnimation(){uo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){uo(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){uo(n=>{const{drag:r}=this.getProps();if(!Oy(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-ur(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!xf(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};uo(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();i[o]=UK({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),uo(o=>{if(!Oy(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];a.set(ur(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;qK.set(this.visualElement,this);const e=this.visualElement.current,n=Bp(e,"pointerdown",c=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();xf(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),tr.read(r);const o=km(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(uo(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=c[f].translate,p.set(p.get()+c[f].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Jk,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Oy(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function GK(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class KK extends Nc{constructor(e){super(e),this.removeGroupControls=ko,this.removeListeners=ko,this.controls=new HK(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ko}unmount(){this.removeGroupControls(),this.removeListeners()}}const tP=t=>(e,n)=>{t&&tr.postRender(()=>t(e,n))};class YK extends Nc{constructor(){super(...arguments),this.removePointerDownListener=ko}onPointerDown(e){this.session=new c6(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:l6(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:tP(e),onStart:tP(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&tr.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Bp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const D0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nP(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ap={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Rt.test(t))t=parseFloat(t);else return t;const n=nP(t,e.target.x),r=nP(t,e.target.y);return`${n}% ${r}%`}},XK={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=bc.parse(t);if(i.length>5)return r;const s=bc.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=c;const d=ur(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};let c1=!1;class JK extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;vG(QK),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),c1&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),D0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,c1=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||tr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),o2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;c1=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function d6(t){const[e,n]=ID(),r=k.useContext(FS);return l.jsx(JK,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(qD),isPresent:e,safeToRemove:n})}const QK={borderRadius:{...ap,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ap,borderTopRightRadius:ap,borderBottomLeftRadius:ap,borderBottomRightRadius:ap,boxShadow:XK};function ZK(t,e,n){const r=_i(t)?t:Hf(t);return r.start(y2("",r,e,n)),r.animation}const eY=(t,e)=>t.depth-e.depth;class tY{constructor(){this.children=[],this.isDirty=!1}add(e){$S(this.children,e),this.isDirty=!0}remove(e){US(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eY),this.isDirty=!1,this.children.forEach(e)}}function nY(t,e){const n=us.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(vc(r),t(s-e))};return tr.setup(r,!0),()=>vc(r)}const f6=["TopLeft","TopRight","BottomLeft","BottomRight"],rY=f6.length,rP=t=>typeof t=="string"?parseFloat(t):t,iP=t=>typeof t=="number"||Rt.test(t);function iY(t,e,n,r,i,s){i?(t.opacity=ur(0,n.opacity??1,sY(r)),t.opacityExit=ur(e.opacity??1,0,oY(r))):s&&(t.opacity=ur(e.opacity??1,n.opacity??1,r));for(let o=0;o<rY;o++){const a=`border${f6[o]}Radius`;let c=sP(e,a),d=sP(n,a);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||iP(c)===iP(d)?(t[a]=Math.max(ur(rP(c),rP(d),r),0),(Da.test(d)||Da.test(c))&&(t[a]+="%")):t[a]=d}(e.rotate||n.rotate)&&(t.rotate=ur(e.rotate||0,n.rotate||0,r))}function sP(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const sY=h6(0,.5,Z5),oY=h6(.5,.95,ko);function h6(t,e,n){return r=>r<t?0:r>e?1:n(ym(t,e,r))}function oP(t,e){t.min=e.min,t.max=e.max}function lo(t,e){oP(t.x,e.x),oP(t.y,e.y)}function aP(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function lP(t,e,n,r,i){return t-=e,t=fx(t,1/n,r),i!==void 0&&(t=fx(t,1/i,r)),t}function aY(t,e=0,n=1,r=.5,i,s=t,o=t){if(Da.test(e)&&(e=parseFloat(e),e=ur(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ur(s.min,s.max,r);t===s&&(a-=e),t.min=lP(t.min,e,n,a,i),t.max=lP(t.max,e,n,a,i)}function cP(t,e,[n,r,i],s,o){aY(t,e[n],e[r],e[i],e.scale,s,o)}const lY=["x","scaleX","originX"],cY=["y","scaleY","originY"];function uP(t,e,n,r){cP(t.x,e,lY,n?n.x:void 0,r?r.x:void 0),cP(t.y,e,cY,n?n.y:void 0,r?r.y:void 0)}function dP(t){return t.translate===0&&t.scale===1}function p6(t){return dP(t.x)&&dP(t.y)}function fP(t,e){return t.min===e.min&&t.max===e.max}function uY(t,e){return fP(t.x,e.x)&&fP(t.y,e.y)}function hP(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function m6(t,e){return hP(t.x,e.x)&&hP(t.y,e.y)}function pP(t){return Yi(t.x)/Yi(t.y)}function mP(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class dY{constructor(){this.members=[]}add(e){$S(this.members,e),e.scheduleRender()}remove(e){if(US(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fY(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:g,skewX:m,skewY:v}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,c=t.y.scale*e.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const u1=["","X","Y","Z"],hY=1e3;let pY=0;function d1(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function g6(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=t6(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",tr,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&g6(r)}function y6({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=pY++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(yY),this.nodes.forEach(wY),this.nodes.forEach(kY),this.nodes.forEach(xY)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new tY)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new qS),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=RD(o)&&!iG(o),this.instance=o;const{layoutId:a,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),t){let f,p=0;const g=()=>this.root.updateBlockedByResize=!1;tr.read(()=>{p=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==p&&(p=m,this.root.updateBlockedByResize=!0,f&&f(),f=nY(g,250),D0.hasAnimatedSinceResize&&(D0.hasAnimatedSinceResize=!1,this.nodes.forEach(xP)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&d&&(a||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||EY,{onLayoutAnimationStart:x,onLayoutAnimationComplete:T}=d.getProps(),_=!this.targetLayout||!m6(this.targetLayout,m),j=!p&&g;if(this.options.layoutRoot||this.resumeFrom||j||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...i2(v,"layout"),onPlay:x,onComplete:T};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(f,j)}else p||xP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),vc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(TY),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&g6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gP);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(yP);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(bY),this.nodes.forEach(mY),this.nodes.forEach(gY)):this.nodes.forEach(yP),this.clearAllSnapshots();const a=us.now();oi.delta=gl(0,1e3/60,a-oi.timestamp),oi.timestamp=a,oi.isProcessing=!0,Zw.update.process(oi),Zw.preRender.process(oi),Zw.render.process(oi),oi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,o2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vY),this.sharedNodes.forEach(SY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Yi(this.snapshot.measuredBox.x)&&!Yi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!p6(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&this.instance&&(a||vu(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),NY(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return vr();const a=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(AY))){const{scroll:f}=this.root;f&&(vf(a.x,f.offset.x),vf(a.y,f.offset.y))}return a}removeElementScroll(o){var c;const a=vr();if(lo(a,o),(c=this.scroll)!=null&&c.wasRoot)return a;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&lo(a,o),vf(a.x,p.offset.x),vf(a.y,p.offset.y))}return a}applyTransform(o,a=!1){const c=vr();lo(c,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&bf(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),vu(f.latestValues)&&bf(c,f.latestValues)}return vu(this.latestValues)&&bf(c,this.latestValues),c}removeTransform(o){const a=vr();lo(a,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!vu(d.latestValues))continue;qk(d.latestValues)&&d.updateSnapshot();const f=vr(),p=d.measurePageBox();lo(f,p),uP(a,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return vu(this.latestValues)&&uP(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==oi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=oi.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vr(),this.relativeTargetOrigin=vr(),Up(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),lo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vr(),this.targetWithTransforms=vr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):lo(this.target,this.layout.layoutBox),YD(this.target,this.targetDelta)):lo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vr(),this.relativeTargetOrigin=vr(),Up(this.relativeTargetOrigin,this.target,m.target),lo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qk(this.parent.latestValues)||KD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===oi.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;lo(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;GG(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=vr());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(aP(this.prevProjectionDelta.x,this.projectionDelta.x),aP(this.prevProjectionDelta.y,this.projectionDelta.y)),$p(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!mP(this.projectionDelta.x,this.prevProjectionDelta.x)||!mP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=wf(),this.projectionDelta=wf(),this.projectionDeltaWithTransform=wf()}setAnimationOrigin(o,a=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},p=wf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=vr(),m=c?c.source:void 0,v=this.layout?this.layout.source:void 0,x=m!==v,T=this.getStack(),_=!T||T.members.length<=1,j=!!(x&&!_&&this.options.crossfade===!0&&!this.path.some(_Y));this.animationProgress=0;let w;this.mixTargetDelta=F=>{const z=F/1e3;vP(p.x,o.x,z),vP(p.y,o.y,z),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Up(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CY(this.relativeTarget,this.relativeTargetOrigin,g,z),w&&uY(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=vr()),lo(w,this.relativeTarget)),x&&(this.animationValues=f,iY(f,d,this.latestValues,z,j,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,c,d;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(vc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tr.update(()=>{D0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hf(0)),this.currentAnimation=ZK(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hY),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:d,latestValues:f}=o;if(!(!a||!c||!d)){if(this!==o&&this.layout&&d&&x6(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||vr();const p=Yi(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+p;const g=Yi(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}lo(a,c),bf(a,f),$p(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new dY),this.sharedNodes.get(o).add(a);const d=a.options.initialPromotionConfig;a.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const d={};c.z&&d1("z",o,d,this.animationValues);for(let f=0;f<u1.length;f++)d1(`rotate${u1[f]}`,o,d,this.animationValues),d1(`skew${u1[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=M0(a==null?void 0:a.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=M0(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!vu(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let p=fY(this.projectionDeltaWithTransform,this.treeScale,f);c&&(p=c(f,p)),o.transform=p;const{x:g,y:m}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${m.origin*100}% 0`,d.animationValues?o.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in wm){if(f[v]===void 0)continue;const{correct:x,applyTo:T,isCSSVariable:_}=wm[v],j=p==="none"?f[v]:x(f[v],d);if(T){const w=T.length;for(let F=0;F<w;F++)o[T[F]]=j}else _?this.options.visualElement.renderState.vars[v]=j:o[v]=j}this.options.layoutId&&(o.pointerEvents=d===this?M0(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(gP),this.root.sharedNodes.clear()}}}function mY(t){t.updateLayout()}function gY(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?uo(p=>{const g=o?e.measuredBox[p]:e.layoutBox[p],m=Yi(g);g.min=r[p].min,g.max=g.min+m}):x6(s,e.layoutBox,r)&&uo(p=>{const g=o?e.measuredBox[p]:e.layoutBox[p],m=Yi(r[p]);g.max=g.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+m)});const a=wf();$p(a,r,e.layoutBox);const c=wf();o?$p(c,t.applyTransform(i,!0),e.measuredBox):$p(c,r,e.layoutBox);const d=!p6(a);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:m}=p;if(g&&m){const v=vr();Up(v,e.layoutBox,g.layoutBox);const x=vr();Up(x,r,m.layoutBox),m6(v,x)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=v,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function yY(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function xY(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function vY(t){t.clearSnapshot()}function gP(t){t.clearMeasurements()}function yP(t){t.isLayoutDirty=!1}function bY(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function xP(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function wY(t){t.resolveTargetDelta()}function kY(t){t.calcProjection()}function TY(t){t.resetSkewAndRotation()}function SY(t){t.removeLeadSnapshot()}function vP(t,e,n){t.translate=ur(e.translate,0,n),t.scale=ur(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function bP(t,e,n,r){t.min=ur(e.min,n.min,r),t.max=ur(e.max,n.max,r)}function CY(t,e,n,r){bP(t.x,e.x,n.x,r),bP(t.y,e.y,n.y,r)}function _Y(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const EY={duration:.45,ease:[.4,0,.1,1]},wP=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),kP=wP("applewebkit/")&&!wP("chrome/")?Math.round:ko;function TP(t){t.min=kP(t.min),t.max=kP(t.max)}function NY(t){TP(t.x),TP(t.y)}function x6(t,e,n){return t==="position"||t==="preserve-aspect"&&!MK(pP(e),pP(n),.2)}function AY(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const jY=y6({attachResizeListener:(t,e)=>km(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),f1={current:void 0},v6=y6({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!f1.current){const t=new jY({});t.mount(window),t.setOptions({layoutScroll:!0}),f1.current=t}return f1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),PY={pan:{Feature:YK},drag:{Feature:KK,ProjectionNode:v6,MeasureLayout:d6}};function SP(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&tr.postRender(()=>s(e,ig(e)))}class RY extends Nc{mount(){const{current:e}=this.node;e&&(this.unmount=ZH(e,(n,r)=>(SP(this.node,r,"Start"),i=>SP(this.node,i,"End"))))}unmount(){}}class IY extends Nc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tg(km(this.node.current,"focus",()=>this.onFocus()),km(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function CP(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&tr.postRender(()=>s(e,ig(e)))}class MY extends Nc{mount(){const{current:e}=this.node;e&&(this.unmount=rG(e,(n,r)=>(CP(this.node,r,"Start"),(i,{success:s})=>CP(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Qk=new WeakMap,h1=new WeakMap,DY=t=>{const e=Qk.get(t.target);e&&e(t)},OY=t=>{t.forEach(DY)};function LY({root:t,...e}){const n=t||document;h1.has(n)||h1.set(n,{});const r=h1.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(OY,{root:t,...e})),r[i]}function FY(t,e,n){const r=LY(e);return Qk.set(t,n),r.observe(t),()=>{Qk.delete(t),r.unobserve(t)}}const zY={some:0,all:1};class BY extends Nc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:zY[i]},a=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=d?f:p;g&&g(c)};return FY(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some($Y(e,n))&&this.startObserver()}unmount(){}}function $Y({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const UY={inView:{Feature:BY},tap:{Feature:MY},focus:{Feature:IY},hover:{Feature:RY}},VY={layout:{ProjectionNode:v6,MeasureLayout:d6}},WY={...NK,...UY,...PY,...VY},ar=WG(WY,rK);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ge=(t,e)=>{const n=k.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:c,...d},f)=>k.createElement("svg",{ref:f,...qY,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${HY(t)}`,a].join(" "),...d},[...e.map(([p,g])=>k.createElement(p,g)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=Ge("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=Ge("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=Ge("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=Ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=Ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KY=Ge("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=Ge("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=Ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=Ge("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=Ge("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=Ge("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=Ge("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=Ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=Ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=Ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=Ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=Ge("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=Ge("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=Ge("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tX=Ge("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=Ge("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=Ge("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=Ge("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nX=Ge("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rX=Ge("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=Ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=Ge("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=Ge("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=Ge("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=Ge("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=Ge("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=Ge("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sX=Ge("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=Ge("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=Ge("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aX=Ge("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=Ge("LockKeyhole",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=Ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=Ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=Ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=Ge("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cX=Ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=Ge("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=Ge("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=Ge("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=Ge("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=Ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=Ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uX=Ge("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=Ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=Ge("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=Ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=Ge("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=Ge("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=Ge("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=Ge("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=Ge("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=Ge("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=Ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=Ge("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=Ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=Ge("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=Ge("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=Ge("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=Ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=Ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=Ge("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=Ge("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mX=Ge("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=Ge("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function eT(t,[e,n]){return Math.min(n,Math.max(e,t))}function Ue(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function gX(t,e){const n=k.createContext(e),r=s=>{const{children:o,...a}=s,c=k.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(s){const o=k.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Xs(t,e=[]){let n=[];function r(s,o){const a=k.createContext(o),c=n.length;n=[...n,o];const d=p=>{var _;const{scope:g,children:m,...v}=p,x=((_=g==null?void 0:g[t])==null?void 0:_[c])||a,T=k.useMemo(()=>v,Object.values(v));return l.jsx(x.Provider,{value:T,children:m})};d.displayName=s+"Provider";function f(p,g){var x;const m=((x=g==null?void 0:g[t])==null?void 0:x[c])||a,v=k.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[d,f]}const i=()=>{const s=n.map(o=>k.createContext(o));return function(a){const c=(a==null?void 0:a[t])||s;return k.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,yX(i,...e)]}function yX(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:d})=>{const p=c(s)[`__scope${d}`];return{...a,...p}},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function DP(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function lv(...t){return e=>{let n=!1;const r=t.map(i=>{const s=DP(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():DP(t[i],null)}}}}function Zt(...t){return k.useCallback(lv(...t),t)}function Xu(t){const e=xX(t),n=k.forwardRef((r,i)=>{const{children:s,...o}=r,a=k.Children.toArray(s),c=a.find(bX);if(c){const d=c.props.children,f=a.map(p=>p===c?k.Children.count(d)>1?k.Children.only(null):k.isValidElement(d)?d.props.children:null:p);return l.jsx(e,{...o,ref:i,children:k.isValidElement(d)?k.cloneElement(d,void 0,f):null})}return l.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var S6=Xu("Slot");function xX(t){const e=k.forwardRef((n,r)=>{const{children:i,...s}=n;if(k.isValidElement(i)){const o=kX(i),a=wX(s,i.props);return i.type!==k.Fragment&&(a.ref=r?lv(r,o):o),k.cloneElement(i,a)}return k.Children.count(i)>1?k.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var C6=Symbol("radix.slottable");function vX(t){const e=({children:n})=>l.jsx(l.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=C6,e}function bX(t){return k.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===C6}function wX(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function kX(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function cv(t){const e=t+"CollectionProvider",[n,r]=Xs(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:T,children:_}=x,j=ke.useRef(null),w=ke.useRef(new Map).current;return l.jsx(i,{scope:T,itemMap:w,collectionRef:j,children:_})};o.displayName=e;const a=t+"CollectionSlot",c=Xu(a),d=ke.forwardRef((x,T)=>{const{scope:_,children:j}=x,w=s(a,_),F=Zt(T,w.collectionRef);return l.jsx(c,{ref:F,children:j})});d.displayName=a;const f=t+"CollectionItemSlot",p="data-radix-collection-item",g=Xu(f),m=ke.forwardRef((x,T)=>{const{scope:_,children:j,...w}=x,F=ke.useRef(null),z=Zt(T,F),B=s(f,_);return ke.useEffect(()=>(B.itemMap.set(F,{ref:F,...w}),()=>void B.itemMap.delete(F))),l.jsx(g,{[p]:"",ref:z,children:j})});m.displayName=f;function v(x){const T=s(t+"CollectionConsumer",x);return ke.useCallback(()=>{const j=T.collectionRef.current;if(!j)return[];const w=Array.from(j.querySelectorAll(`[${p}]`));return Array.from(T.itemMap.values()).sort((B,H)=>w.indexOf(B.ref.current)-w.indexOf(H.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:d,ItemSlot:m},v,r]}var TX=k.createContext(void 0);function yh(t){const e=k.useContext(TX);return t||e||"ltr"}var SX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vt=SX.reduce((t,e)=>{const n=Xu(`Primitive.${e}`),r=k.forwardRef((i,s)=>{const{asChild:o,...a}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function _6(t,e){t&&Gm.flushSync(()=>t.dispatchEvent(e))}function ai(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),k.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function CX(t,e=globalThis==null?void 0:globalThis.document){const n=ai(t);k.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var _X="DismissableLayer",tT="dismissableLayer.update",EX="dismissableLayer.pointerDownOutside",NX="dismissableLayer.focusOutside",OP,E6=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ag=k.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...c}=t,d=k.useContext(E6),[f,p]=k.useState(null),g=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=k.useState({}),v=Zt(e,H=>p(H)),x=Array.from(d.layers),[T]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),_=x.indexOf(T),j=f?x.indexOf(f):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,F=j>=_,z=PX(H=>{const Y=H.target,W=[...d.branches].some(q=>q.contains(Y));!F||W||(i==null||i(H),o==null||o(H),H.defaultPrevented||a==null||a())},g),B=RX(H=>{const Y=H.target;[...d.branches].some(q=>q.contains(Y))||(s==null||s(H),o==null||o(H),H.defaultPrevented||a==null||a())},g);return CX(H=>{j===d.layers.size-1&&(r==null||r(H),!H.defaultPrevented&&a&&(H.preventDefault(),a()))},g),k.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(OP=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),LP(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=OP)}},[f,g,n,d]),k.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),LP())},[f,d]),k.useEffect(()=>{const H=()=>m({});return document.addEventListener(tT,H),()=>document.removeEventListener(tT,H)},[]),l.jsx(vt.div,{...c,ref:v,style:{pointerEvents:w?F?"auto":"none":void 0,...t.style},onFocusCapture:Ue(t.onFocusCapture,B.onFocusCapture),onBlurCapture:Ue(t.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Ue(t.onPointerDownCapture,z.onPointerDownCapture)})});ag.displayName=_X;var AX="DismissableLayerBranch",jX=k.forwardRef((t,e)=>{const n=k.useContext(E6),r=k.useRef(null),i=Zt(e,r);return k.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),l.jsx(vt.div,{...t,ref:i})});jX.displayName=AX;function PX(t,e=globalThis==null?void 0:globalThis.document){const n=ai(t),r=k.useRef(!1),i=k.useRef(()=>{});return k.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){N6(EX,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function RX(t,e=globalThis==null?void 0:globalThis.document){const n=ai(t),r=k.useRef(!1);return k.useEffect(()=>{const i=s=>{s.target&&!r.current&&N6(NX,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function LP(){const t=new CustomEvent(tT);document.dispatchEvent(t)}function N6(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?_6(i,s):i.dispatchEvent(s)}var m1=0;function T2(){k.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??FP()),document.body.insertAdjacentElement("beforeend",t[1]??FP()),m1++,()=>{m1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),m1--}},[])}function FP(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var g1="focusScope.autoFocusOnMount",y1="focusScope.autoFocusOnUnmount",zP={bubbles:!1,cancelable:!0},IX="FocusScope",uv=k.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,c]=k.useState(null),d=ai(i),f=ai(s),p=k.useRef(null),g=Zt(e,x=>c(x)),m=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(r){let x=function(w){if(m.paused||!a)return;const F=w.target;a.contains(F)?p.current=F:Yl(p.current,{select:!0})},T=function(w){if(m.paused||!a)return;const F=w.relatedTarget;F!==null&&(a.contains(F)||Yl(p.current,{select:!0}))},_=function(w){if(document.activeElement===document.body)for(const z of w)z.removedNodes.length>0&&Yl(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",T);const j=new MutationObserver(_);return a&&j.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",T),j.disconnect()}}},[r,a,m.paused]),k.useEffect(()=>{if(a){$P.add(m);const x=document.activeElement;if(!a.contains(x)){const _=new CustomEvent(g1,zP);a.addEventListener(g1,d),a.dispatchEvent(_),_.defaultPrevented||(MX(zX(A6(a)),{select:!0}),document.activeElement===x&&Yl(a))}return()=>{a.removeEventListener(g1,d),setTimeout(()=>{const _=new CustomEvent(y1,zP);a.addEventListener(y1,f),a.dispatchEvent(_),_.defaultPrevented||Yl(x??document.body,{select:!0}),a.removeEventListener(y1,f),$P.remove(m)},0)}}},[a,d,f,m]);const v=k.useCallback(x=>{if(!n&&!r||m.paused)return;const T=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,_=document.activeElement;if(T&&_){const j=x.currentTarget,[w,F]=DX(j);w&&F?!x.shiftKey&&_===F?(x.preventDefault(),n&&Yl(w,{select:!0})):x.shiftKey&&_===w&&(x.preventDefault(),n&&Yl(F,{select:!0})):_===j&&x.preventDefault()}},[n,r,m.paused]);return l.jsx(vt.div,{tabIndex:-1,...o,ref:g,onKeyDown:v})});uv.displayName=IX;function MX(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Yl(r,{select:e}),document.activeElement!==n)return}function DX(t){const e=A6(t),n=BP(e,t),r=BP(e.reverse(),t);return[n,r]}function A6(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function BP(t,e){for(const n of t)if(!OX(n,{upTo:e}))return n}function OX(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function LX(t){return t instanceof HTMLInputElement&&"select"in t}function Yl(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&LX(t)&&e&&t.select()}}var $P=FX();function FX(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=UP(t,e),t.unshift(e)},remove(e){var n;t=UP(t,e),(n=t[0])==null||n.resume()}}}function UP(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function zX(t){return t.filter(e=>e.tagName!=="A")}var Qr=globalThis!=null&&globalThis.document?k.useLayoutEffect:()=>{},BX=yS[" useId ".trim().toString()]||(()=>{}),$X=0;function Vs(t){const[e,n]=k.useState(BX());return Qr(()=>{n(r=>r??String($X++))},[t]),e?`radix-${e}`:""}const UX=["top","right","bottom","left"],wc=Math.min,Ps=Math.max,mx=Math.round,Ly=Math.floor,Oa=t=>({x:t,y:t}),VX={left:"right",right:"left",bottom:"top",top:"bottom"},WX={start:"end",end:"start"};function nT(t,e,n){return Ps(t,wc(e,n))}function xl(t,e){return typeof t=="function"?t(e):t}function vl(t){return t.split("-")[0]}function xh(t){return t.split("-")[1]}function S2(t){return t==="x"?"y":"x"}function C2(t){return t==="y"?"height":"width"}const qX=new Set(["top","bottom"]);function ja(t){return qX.has(vl(t))?"y":"x"}function _2(t){return S2(ja(t))}function HX(t,e,n){n===void 0&&(n=!1);const r=xh(t),i=_2(t),s=C2(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=gx(o)),[o,gx(o)]}function GX(t){const e=gx(t);return[rT(t),e,rT(e)]}function rT(t){return t.replace(/start|end/g,e=>WX[e])}const VP=["left","right"],WP=["right","left"],KX=["top","bottom"],YX=["bottom","top"];function XX(t,e,n){switch(t){case"top":case"bottom":return n?e?WP:VP:e?VP:WP;case"left":case"right":return e?KX:YX;default:return[]}}function JX(t,e,n,r){const i=xh(t);let s=XX(vl(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(rT)))),s}function gx(t){return t.replace(/left|right|bottom|top/g,e=>VX[e])}function QX(t){return{top:0,right:0,bottom:0,left:0,...t}}function j6(t){return typeof t!="number"?QX(t):{top:t,right:t,bottom:t,left:t}}function yx(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function qP(t,e,n){let{reference:r,floating:i}=t;const s=ja(e),o=_2(e),a=C2(o),c=vl(e),d=s==="y",f=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,g=r[a]/2-i[a]/2;let m;switch(c){case"top":m={x:f,y:r.y-i.height};break;case"bottom":m={x:f,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:p};break;case"left":m={x:r.x-i.width,y:p};break;default:m={x:r.x,y:r.y}}switch(xh(e)){case"start":m[o]-=g*(n&&d?-1:1);break;case"end":m[o]+=g*(n&&d?-1:1);break}return m}const ZX=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:p}=qP(d,r,c),g=r,m={},v=0;for(let x=0;x<a.length;x++){const{name:T,fn:_}=a[x],{x:j,y:w,data:F,reset:z}=await _({x:f,y:p,initialPlacement:r,placement:g,strategy:i,middlewareData:m,rects:d,platform:o,elements:{reference:t,floating:e}});f=j??f,p=w??p,m={...m,[T]:{...m[T],...F}},z&&v<=50&&(v++,typeof z=="object"&&(z.placement&&(g=z.placement),z.rects&&(d=z.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):z.rects),{x:f,y:p}=qP(d,g,c)),x=-1)}return{x:f,y:p,placement:g,strategy:i,middlewareData:m}};async function Nm(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:m=0}=xl(e,t),v=j6(m),T=a[g?p==="floating"?"reference":"floating":p],_=yx(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(T)))==null||n?T:T.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:d,rootBoundary:f,strategy:c})),j=p==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),F=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},z=yx(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:j,offsetParent:w,strategy:c}):j);return{top:(_.top-z.top+v.top)/F.y,bottom:(z.bottom-_.bottom+v.bottom)/F.y,left:(_.left-z.left+v.left)/F.x,right:(z.right-_.right+v.right)/F.x}}const eJ=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=e,{element:d,padding:f=0}=xl(t,e)||{};if(d==null)return{};const p=j6(f),g={x:n,y:r},m=_2(i),v=C2(m),x=await o.getDimensions(d),T=m==="y",_=T?"top":"left",j=T?"bottom":"right",w=T?"clientHeight":"clientWidth",F=s.reference[v]+s.reference[m]-g[m]-s.floating[v],z=g[m]-s.reference[m],B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let H=B?B[w]:0;(!H||!await(o.isElement==null?void 0:o.isElement(B)))&&(H=a.floating[w]||s.floating[v]);const Y=F/2-z/2,W=H/2-x[v]/2-1,q=wc(p[_],W),X=wc(p[j],W),V=q,R=H-x[v]-X,b=H/2-x[v]/2+Y,A=nT(V,b,R),D=!c.arrow&&xh(i)!=null&&b!==A&&s.reference[v]/2-(b<V?q:X)-x[v]/2<0,M=D?b<V?b-V:b-R:0;return{[m]:g[m]+M,data:{[m]:A,centerOffset:b-A-M,...D&&{alignmentOffset:M}},reset:D}}}),tJ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...T}=xl(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const _=vl(i),j=ja(a),w=vl(a)===a,F=await(c.isRTL==null?void 0:c.isRTL(d.floating)),z=g||(w||!x?[gx(a)]:GX(a)),B=v!=="none";!g&&B&&z.push(...JX(a,x,v,F));const H=[a,...z],Y=await Nm(e,T),W=[];let q=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&W.push(Y[_]),p){const b=HX(i,o,F);W.push(Y[b[0]],Y[b[1]])}if(q=[...q,{placement:i,overflows:W}],!W.every(b=>b<=0)){var X,V;const b=(((X=s.flip)==null?void 0:X.index)||0)+1,A=H[b];if(A&&(!(p==="alignment"?j!==ja(A):!1)||q.every(C=>C.overflows[0]>0&&ja(C.placement)===j)))return{data:{index:b,overflows:q},reset:{placement:A}};let D=(V=q.filter(M=>M.overflows[0]<=0).sort((M,C)=>M.overflows[1]-C.overflows[1])[0])==null?void 0:V.placement;if(!D)switch(m){case"bestFit":{var R;const M=(R=q.filter(C=>{if(B){const I=ja(C.placement);return I===j||I==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(I=>I>0).reduce((I,E)=>I+E,0)]).sort((C,I)=>C[1]-I[1])[0])==null?void 0:R[0];M&&(D=M);break}case"initialPlacement":D=a;break}if(i!==D)return{reset:{placement:D}}}return{}}}};function HP(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function GP(t){return UX.some(e=>t[e]>=0)}const nJ=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=xl(t,e);switch(r){case"referenceHidden":{const s=await Nm(e,{...i,elementContext:"reference"}),o=HP(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:GP(o)}}}case"escaped":{const s=await Nm(e,{...i,altBoundary:!0}),o=HP(s,n.floating);return{data:{escapedOffsets:o,escaped:GP(o)}}}default:return{}}}}},P6=new Set(["left","top"]);async function rJ(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=vl(n),a=xh(n),c=ja(n)==="y",d=P6.has(o)?-1:1,f=s&&c?-1:1,p=xl(e,t);let{mainAxis:g,crossAxis:m,alignmentAxis:v}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),c?{x:m*f,y:g*d}:{x:g*d,y:m*f}}const iJ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await rJ(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},sJ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:T=>{let{x:_,y:j}=T;return{x:_,y:j}}},...c}=xl(t,e),d={x:n,y:r},f=await Nm(e,c),p=ja(vl(i)),g=S2(p);let m=d[g],v=d[p];if(s){const T=g==="y"?"top":"left",_=g==="y"?"bottom":"right",j=m+f[T],w=m-f[_];m=nT(j,m,w)}if(o){const T=p==="y"?"top":"left",_=p==="y"?"bottom":"right",j=v+f[T],w=v-f[_];v=nT(j,v,w)}const x=a.fn({...e,[g]:m,[p]:v});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[g]:s,[p]:o}}}}}},oJ=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:d=!0}=xl(t,e),f={x:n,y:r},p=ja(i),g=S2(p);let m=f[g],v=f[p];const x=xl(a,e),T=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const w=g==="y"?"height":"width",F=s.reference[g]-s.floating[w]+T.mainAxis,z=s.reference[g]+s.reference[w]-T.mainAxis;m<F?m=F:m>z&&(m=z)}if(d){var _,j;const w=g==="y"?"width":"height",F=P6.has(vl(i)),z=s.reference[p]-s.floating[w]+(F&&((_=o.offset)==null?void 0:_[p])||0)+(F?0:T.crossAxis),B=s.reference[p]+s.reference[w]+(F?0:((j=o.offset)==null?void 0:j[p])||0)-(F?T.crossAxis:0);v<z?v=z:v>B&&(v=B)}return{[g]:m,[p]:v}}}},aJ=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:c=()=>{},...d}=xl(t,e),f=await Nm(e,d),p=vl(i),g=xh(i),m=ja(i)==="y",{width:v,height:x}=s.floating;let T,_;p==="top"||p==="bottom"?(T=p,_=g===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=p,T=g==="end"?"top":"bottom");const j=x-f.top-f.bottom,w=v-f.left-f.right,F=wc(x-f[T],j),z=wc(v-f[_],w),B=!e.middlewareData.shift;let H=F,Y=z;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(Y=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(H=j),B&&!g){const q=Ps(f.left,0),X=Ps(f.right,0),V=Ps(f.top,0),R=Ps(f.bottom,0);m?Y=v-2*(q!==0||X!==0?q+X:Ps(f.left,f.right)):H=x-2*(V!==0||R!==0?V+R:Ps(f.top,f.bottom))}await c({...e,availableWidth:Y,availableHeight:H});const W=await o.getDimensions(a.floating);return v!==W.width||x!==W.height?{reset:{rects:!0}}:{}}}};function dv(){return typeof window<"u"}function vh(t){return R6(t)?(t.nodeName||"").toLowerCase():"#document"}function Ws(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Va(t){var e;return(e=(R6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function R6(t){return dv()?t instanceof Node||t instanceof Ws(t).Node:!1}function ea(t){return dv()?t instanceof Element||t instanceof Ws(t).Element:!1}function za(t){return dv()?t instanceof HTMLElement||t instanceof Ws(t).HTMLElement:!1}function KP(t){return!dv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ws(t).ShadowRoot}const lJ=new Set(["inline","contents"]);function lg(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ta(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!lJ.has(i)}const cJ=new Set(["table","td","th"]);function uJ(t){return cJ.has(vh(t))}const dJ=[":popover-open",":modal"];function fv(t){return dJ.some(e=>{try{return t.matches(e)}catch{return!1}})}const fJ=["transform","translate","scale","rotate","perspective"],hJ=["transform","translate","scale","rotate","perspective","filter"],pJ=["paint","layout","strict","content"];function E2(t){const e=N2(),n=ea(t)?ta(t):t;return fJ.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||hJ.some(r=>(n.willChange||"").includes(r))||pJ.some(r=>(n.contain||"").includes(r))}function mJ(t){let e=kc(t);for(;za(e)&&!Xf(e);){if(E2(e))return e;if(fv(e))return null;e=kc(e)}return null}function N2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const gJ=new Set(["html","body","#document"]);function Xf(t){return gJ.has(vh(t))}function ta(t){return Ws(t).getComputedStyle(t)}function hv(t){return ea(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function kc(t){if(vh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||KP(t)&&t.host||Va(t);return KP(e)?e.host:e}function I6(t){const e=kc(t);return Xf(e)?t.ownerDocument?t.ownerDocument.body:t.body:za(e)&&lg(e)?e:I6(e)}function Am(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=I6(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ws(i);if(s){const a=iT(o);return e.concat(o,o.visualViewport||[],lg(i)?i:[],a&&n?Am(a):[])}return e.concat(i,Am(i,[],n))}function iT(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function M6(t){const e=ta(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=za(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=mx(n)!==s||mx(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function A2(t){return ea(t)?t:t.contextElement}function Rf(t){const e=A2(t);if(!za(e))return Oa(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=M6(e);let o=(s?mx(n.width):n.width)/r,a=(s?mx(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const yJ=Oa(0);function D6(t){const e=Ws(t);return!N2()||!e.visualViewport?yJ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function xJ(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ws(t)?!1:e}function Ju(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=A2(t);let o=Oa(1);e&&(r?ea(r)&&(o=Rf(r)):o=Rf(t));const a=xJ(s,n,r)?D6(s):Oa(0);let c=(i.left+a.x)/o.x,d=(i.top+a.y)/o.y,f=i.width/o.x,p=i.height/o.y;if(s){const g=Ws(s),m=r&&ea(r)?Ws(r):r;let v=g,x=iT(v);for(;x&&r&&m!==v;){const T=Rf(x),_=x.getBoundingClientRect(),j=ta(x),w=_.left+(x.clientLeft+parseFloat(j.paddingLeft))*T.x,F=_.top+(x.clientTop+parseFloat(j.paddingTop))*T.y;c*=T.x,d*=T.y,f*=T.x,p*=T.y,c+=w,d+=F,v=Ws(x),x=iT(v)}}return yx({width:f,height:p,x:c,y:d})}function j2(t,e){const n=hv(t).scrollLeft;return e?e.left+n:Ju(Va(t)).left+n}function O6(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:j2(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function vJ(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Va(r),a=e?fv(e.floating):!1;if(r===o||a&&s)return n;let c={scrollLeft:0,scrollTop:0},d=Oa(1);const f=Oa(0),p=za(r);if((p||!p&&!s)&&((vh(r)!=="body"||lg(o))&&(c=hv(r)),za(r))){const m=Ju(r);d=Rf(r),f.x=m.x+r.clientLeft,f.y=m.y+r.clientTop}const g=o&&!p&&!s?O6(o,c,!0):Oa(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x+g.x,y:n.y*d.y-c.scrollTop*d.y+f.y+g.y}}function bJ(t){return Array.from(t.getClientRects())}function wJ(t){const e=Va(t),n=hv(t),r=t.ownerDocument.body,i=Ps(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ps(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+j2(t);const a=-n.scrollTop;return ta(r).direction==="rtl"&&(o+=Ps(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function kJ(t,e){const n=Ws(t),r=Va(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const d=N2();(!d||d&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}const TJ=new Set(["absolute","fixed"]);function SJ(t,e){const n=Ju(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=za(t)?Rf(t):Oa(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,c=i*s.x,d=r*s.y;return{width:o,height:a,x:c,y:d}}function YP(t,e,n){let r;if(e==="viewport")r=kJ(t,n);else if(e==="document")r=wJ(Va(t));else if(ea(e))r=SJ(e,n);else{const i=D6(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return yx(r)}function L6(t,e){const n=kc(t);return n===e||!ea(n)||Xf(n)?!1:ta(n).position==="fixed"||L6(n,e)}function CJ(t,e){const n=e.get(t);if(n)return n;let r=Am(t,[],!1).filter(a=>ea(a)&&vh(a)!=="body"),i=null;const s=ta(t).position==="fixed";let o=s?kc(t):t;for(;ea(o)&&!Xf(o);){const a=ta(o),c=E2(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&TJ.has(i.position)||lg(o)&&!c&&L6(t,o))?r=r.filter(f=>f!==o):i=a,o=kc(o)}return e.set(t,r),r}function _J(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?fv(e)?[]:CJ(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((d,f)=>{const p=YP(e,f,i);return d.top=Ps(p.top,d.top),d.right=wc(p.right,d.right),d.bottom=wc(p.bottom,d.bottom),d.left=Ps(p.left,d.left),d},YP(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function EJ(t){const{width:e,height:n}=M6(t);return{width:e,height:n}}function NJ(t,e,n){const r=za(e),i=Va(e),s=n==="fixed",o=Ju(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=Oa(0);function d(){c.x=j2(i)}if(r||!r&&!s)if((vh(e)!=="body"||lg(i))&&(a=hv(e)),r){const m=Ju(e,!0,s,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else i&&d();s&&!r&&i&&d();const f=i&&!r&&!s?O6(i,a):Oa(0),p=o.left+a.scrollLeft-c.x-f.x,g=o.top+a.scrollTop-c.y-f.y;return{x:p,y:g,width:o.width,height:o.height}}function x1(t){return ta(t).position==="static"}function XP(t,e){if(!za(t)||ta(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Va(t)===n&&(n=n.ownerDocument.body),n}function F6(t,e){const n=Ws(t);if(fv(t))return n;if(!za(t)){let i=kc(t);for(;i&&!Xf(i);){if(ea(i)&&!x1(i))return i;i=kc(i)}return n}let r=XP(t,e);for(;r&&uJ(r)&&x1(r);)r=XP(r,e);return r&&Xf(r)&&x1(r)&&!E2(r)?n:r||mJ(t)||n}const AJ=async function(t){const e=this.getOffsetParent||F6,n=this.getDimensions,r=await n(t.floating);return{reference:NJ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function jJ(t){return ta(t).direction==="rtl"}const PJ={convertOffsetParentRelativeRectToViewportRelativeRect:vJ,getDocumentElement:Va,getClippingRect:_J,getOffsetParent:F6,getElementRects:AJ,getClientRects:bJ,getDimensions:EJ,getScale:Rf,isElement:ea,isRTL:jJ};function z6(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function RJ(t,e){let n=null,r;const i=Va(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const d=t.getBoundingClientRect(),{left:f,top:p,width:g,height:m}=d;if(a||e(),!g||!m)return;const v=Ly(p),x=Ly(i.clientWidth-(f+g)),T=Ly(i.clientHeight-(p+m)),_=Ly(f),w={rootMargin:-v+"px "+-x+"px "+-T+"px "+-_+"px",threshold:Ps(0,wc(1,c))||1};let F=!0;function z(B){const H=B[0].intersectionRatio;if(H!==c){if(!F)return o();H?o(!1,H):r=setTimeout(()=>{o(!1,1e-7)},1e3)}H===1&&!z6(d,t.getBoundingClientRect())&&o(),F=!1}try{n=new IntersectionObserver(z,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(z,w)}n.observe(t)}return o(!0),s}function IJ(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=A2(t),f=i||s?[...d?Am(d):[],...Am(e)]:[];f.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),s&&_.addEventListener("resize",n)});const p=d&&a?RJ(d,n):null;let g=-1,m=null;o&&(m=new ResizeObserver(_=>{let[j]=_;j&&j.target===d&&m&&(m.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),n()}),d&&!c&&m.observe(d),m.observe(e));let v,x=c?Ju(t):null;c&&T();function T(){const _=Ju(t);x&&!z6(x,_)&&n(),x=_,v=requestAnimationFrame(T)}return n(),()=>{var _;f.forEach(j=>{i&&j.removeEventListener("scroll",n),s&&j.removeEventListener("resize",n)}),p==null||p(),(_=m)==null||_.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const MJ=iJ,DJ=sJ,OJ=tJ,LJ=aJ,FJ=nJ,JP=eJ,zJ=oJ,BJ=(t,e,n)=>{const r=new Map,i={platform:PJ,...n},s={...i.platform,_c:r};return ZX(t,e,{...i,platform:s})};var $J=typeof document<"u",UJ=function(){},L0=$J?k.useLayoutEffect:UJ;function xx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!xx(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!xx(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function B6(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function QP(t,e){const n=B6(t);return Math.round(e*n)/n}function v1(t){const e=k.useRef(t);return L0(()=>{e.current=t}),e}function VJ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:d}=t,[f,p]=k.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,m]=k.useState(r);xx(g,r)||m(r);const[v,x]=k.useState(null),[T,_]=k.useState(null),j=k.useCallback(C=>{C!==B.current&&(B.current=C,x(C))},[]),w=k.useCallback(C=>{C!==H.current&&(H.current=C,_(C))},[]),F=s||v,z=o||T,B=k.useRef(null),H=k.useRef(null),Y=k.useRef(f),W=c!=null,q=v1(c),X=v1(i),V=v1(d),R=k.useCallback(()=>{if(!B.current||!H.current)return;const C={placement:e,strategy:n,middleware:g};X.current&&(C.platform=X.current),BJ(B.current,H.current,C).then(I=>{const E={...I,isPositioned:V.current!==!1};b.current&&!xx(Y.current,E)&&(Y.current=E,Gm.flushSync(()=>{p(E)}))})},[g,e,n,X,V]);L0(()=>{d===!1&&Y.current.isPositioned&&(Y.current.isPositioned=!1,p(C=>({...C,isPositioned:!1})))},[d]);const b=k.useRef(!1);L0(()=>(b.current=!0,()=>{b.current=!1}),[]),L0(()=>{if(F&&(B.current=F),z&&(H.current=z),F&&z){if(q.current)return q.current(F,z,R);R()}},[F,z,R,q,W]);const A=k.useMemo(()=>({reference:B,floating:H,setReference:j,setFloating:w}),[j,w]),D=k.useMemo(()=>({reference:F,floating:z}),[F,z]),M=k.useMemo(()=>{const C={position:n,left:0,top:0};if(!D.floating)return C;const I=QP(D.floating,f.x),E=QP(D.floating,f.y);return a?{...C,transform:"translate("+I+"px, "+E+"px)",...B6(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:E}},[n,a,D.floating,f.x,f.y]);return k.useMemo(()=>({...f,update:R,refs:A,elements:D,floatingStyles:M}),[f,R,A,D,M])}const WJ=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?JP({element:r.current,padding:i}).fn(n):{}:r?JP({element:r,padding:i}).fn(n):{}}}},qJ=(t,e)=>({...MJ(t),options:[t,e]}),HJ=(t,e)=>({...DJ(t),options:[t,e]}),GJ=(t,e)=>({...zJ(t),options:[t,e]}),KJ=(t,e)=>({...OJ(t),options:[t,e]}),YJ=(t,e)=>({...LJ(t),options:[t,e]}),XJ=(t,e)=>({...FJ(t),options:[t,e]}),JJ=(t,e)=>({...WJ(t),options:[t,e]});var QJ="Arrow",$6=k.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return l.jsx(vt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});$6.displayName=QJ;var ZJ=$6;function U6(t){const[e,n]=k.useState(void 0);return Qr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const c=s.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var P2="Popper",[V6,bh]=Xs(P2),[eQ,W6]=V6(P2),q6=t=>{const{__scopePopper:e,children:n}=t,[r,i]=k.useState(null);return l.jsx(eQ,{scope:e,anchor:r,onAnchorChange:i,children:n})};q6.displayName=P2;var H6="PopperAnchor",G6=k.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=W6(H6,n),o=k.useRef(null),a=Zt(e,o);return k.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(vt.div,{...i,ref:a})});G6.displayName=H6;var R2="PopperContent",[tQ,nQ]=V6(R2),K6=k.forwardRef((t,e)=>{var G,J,ee,ae,se,pe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:m="optimized",onPlaced:v,...x}=t,T=W6(R2,n),[_,j]=k.useState(null),w=Zt(e,he=>j(he)),[F,z]=k.useState(null),B=U6(F),H=(B==null?void 0:B.width)??0,Y=(B==null?void 0:B.height)??0,W=r+(s!=="center"?"-"+s:""),q=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},X=Array.isArray(d)?d:[d],V=X.length>0,R={padding:q,boundary:X.filter(iQ),altBoundary:V},{refs:b,floatingStyles:A,placement:D,isPositioned:M,middlewareData:C}=VJ({strategy:"fixed",placement:W,whileElementsMounted:(...he)=>IJ(...he,{animationFrame:m==="always"}),elements:{reference:T.anchor},middleware:[qJ({mainAxis:i+Y,alignmentAxis:o}),c&&HJ({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?GJ():void 0,...R}),c&&KJ({...R}),YJ({...R,apply:({elements:he,rects:ue,availableWidth:be,availableHeight:Ne})=>{const{width:ie,height:De}=ue.reference,gt=he.floating.style;gt.setProperty("--radix-popper-available-width",`${be}px`),gt.setProperty("--radix-popper-available-height",`${Ne}px`),gt.setProperty("--radix-popper-anchor-width",`${ie}px`),gt.setProperty("--radix-popper-anchor-height",`${De}px`)}}),F&&JJ({element:F,padding:a}),sQ({arrowWidth:H,arrowHeight:Y}),g&&XJ({strategy:"referenceHidden",...R})]}),[I,E]=J6(D),P=ai(v);Qr(()=>{M&&(P==null||P())},[M,P]);const N=(G=C.arrow)==null?void 0:G.x,O=(J=C.arrow)==null?void 0:J.y,Z=((ee=C.arrow)==null?void 0:ee.centerOffset)!==0,[$,K]=k.useState();return Qr(()=>{_&&K(window.getComputedStyle(_).zIndex)},[_]),l.jsx("div",{ref:b.setFloating,"data-radix-popper-content-wrapper":"",style:{...A,transform:M?A.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:$,"--radix-popper-transform-origin":[(ae=C.transformOrigin)==null?void 0:ae.x,(se=C.transformOrigin)==null?void 0:se.y].join(" "),...((pe=C.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(tQ,{scope:n,placedSide:I,onArrowChange:z,arrowX:N,arrowY:O,shouldHideArrow:Z,children:l.jsx(vt.div,{"data-side":I,"data-align":E,...x,ref:w,style:{...x.style,animation:M?void 0:"none"}})})})});K6.displayName=R2;var Y6="PopperArrow",rQ={top:"bottom",right:"left",bottom:"top",left:"right"},X6=k.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=nQ(Y6,r),o=rQ[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(ZJ,{...i,ref:n,style:{...i.style,display:"block"}})})});X6.displayName=Y6;function iQ(t){return t!==null}var sQ=t=>({name:"transformOrigin",options:t,fn(e){var T,_,j;const{placement:n,rects:r,middlewareData:i}=e,o=((T=i.arrow)==null?void 0:T.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,f]=J6(n),p={start:"0%",center:"50%",end:"100%"}[f],g=(((_=i.arrow)==null?void 0:_.x)??0)+a/2,m=(((j=i.arrow)==null?void 0:j.y)??0)+c/2;let v="",x="";return d==="bottom"?(v=o?p:`${g}px`,x=`${-c}px`):d==="top"?(v=o?p:`${g}px`,x=`${r.floating.height+c}px`):d==="right"?(v=`${-c}px`,x=o?p:`${m}px`):d==="left"&&(v=`${r.floating.width+c}px`,x=o?p:`${m}px`),{data:{x:v,y:x}}}});function J6(t){const[e,n="center"]=t.split("-");return[e,n]}var I2=q6,M2=G6,D2=K6,O2=X6,oQ="Portal",cg=k.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=k.useState(!1);Qr(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?CM.createPortal(l.jsx(vt.div,{...r,ref:e}),o):null});cg.displayName=oQ;var aQ=yS[" useInsertionEffect ".trim().toString()]||Qr;function na({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=lQ({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:i;{const f=k.useRef(t!==void 0);k.useEffect(()=>{const p=f.current;p!==a&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,r])}const d=k.useCallback(f=>{var p;if(a){const g=cQ(f)?f(t):f;g!==t&&((p=o.current)==null||p.call(o,g))}else s(f)},[a,t,s,o]);return[c,d]}function lQ({defaultProp:t,onChange:e}){const[n,r]=k.useState(t),i=k.useRef(n),s=k.useRef(e);return aQ(()=>{s.current=e},[e]),k.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function cQ(t){return typeof t=="function"}function Q6(t){const e=k.useRef({value:t,previous:t});return k.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Z6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),uQ="VisuallyHidden",eO=k.forwardRef((t,e)=>l.jsx(vt.span,{...t,ref:e,style:{...Z6,...t.style}}));eO.displayName=uQ;var dQ=eO,fQ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Gd=new WeakMap,Fy=new WeakMap,zy={},b1=0,tO=function(t){return t&&(t.host||tO(t.parentNode))},hQ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=tO(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},pQ=function(t,e,n,r){var i=hQ(e,Array.isArray(t)?t:[t]);zy[n]||(zy[n]=new WeakMap);var s=zy[n],o=[],a=new Set,c=new Set(i),d=function(p){!p||a.has(p)||(a.add(p),d(p.parentNode))};i.forEach(d);var f=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(g){if(a.has(g))f(g);else try{var m=g.getAttribute(r),v=m!==null&&m!=="false",x=(Gd.get(g)||0)+1,T=(s.get(g)||0)+1;Gd.set(g,x),s.set(g,T),o.push(g),x===1&&v&&Fy.set(g,!0),T===1&&g.setAttribute(n,"true"),v||g.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",g,_)}})};return f(e),a.clear(),b1++,function(){o.forEach(function(p){var g=Gd.get(p)-1,m=s.get(p)-1;Gd.set(p,g),s.set(p,m),g||(Fy.has(p)||p.removeAttribute(r),Fy.delete(p)),m||p.removeAttribute(n)}),b1--,b1||(Gd=new WeakMap,Gd=new WeakMap,Fy=new WeakMap,zy={})}},L2=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=fQ(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),pQ(r,i,n,"aria-hidden")):function(){return null}},sT=function(t,e){return sT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},sT(t,e)};function nO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");sT(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var yo=function(){return yo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yo.apply(this,arguments)};function Ac(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function rO(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function iO(t,e){return function(n,r){e(n,r,t)}}function sO(t,e,n,r,i,s){function o(_){if(_!==void 0&&typeof _!="function")throw new TypeError("Function expected");return _}for(var a=r.kind,c=a==="getter"?"get":a==="setter"?"set":"value",d=!e&&t?r.static?t:t.prototype:null,f=e||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),p,g=!1,m=n.length-1;m>=0;m--){var v={};for(var x in r)v[x]=x==="access"?{}:r[x];for(var x in r.access)v.access[x]=r.access[x];v.addInitializer=function(_){if(g)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(_||null))};var T=(0,n[m])(a==="accessor"?{get:f.get,set:f.set}:f[c],v);if(a==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(p=o(T.get))&&(f.get=p),(p=o(T.set))&&(f.set=p),(p=o(T.init))&&i.unshift(p)}else(p=o(T))&&(a==="field"?i.unshift(p):f[c]=p)}d&&Object.defineProperty(d,r.name,f),g=!0}function oO(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function aO(t){return typeof t=="symbol"?t:"".concat(t)}function lO(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function cO(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function lt(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{d(r.next(f))}catch(p){o(p)}}function c(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((r=r.apply(t,e||[])).next())})}function uO(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(d){return function(f){return c([d,f])}}function c(d){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(f){d=[6,f],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var pv=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function dO(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&pv(e,t,n)}function vx(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function F2(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function fO(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(F2(arguments[e]));return t}function hO(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function z2(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Jf(t){return this instanceof Jf?(this.v=t,this):new Jf(t)}function pO(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(v){return Promise.resolve(v).then(m,p)}}function a(m,v){r[m]&&(i[m]=function(x){return new Promise(function(T,_){s.push([m,x,T,_])>1||c(m,x)})},v&&(i[m]=v(i[m])))}function c(m,v){try{d(r[m](v))}catch(x){g(s[0][3],x)}}function d(m){m.value instanceof Jf?Promise.resolve(m.value.v).then(f,p):g(s[0][2],m)}function f(m){c("next",m)}function p(m){c("throw",m)}function g(m,v){m(v),s.shift(),s.length&&c(s[0][0],s[0][1])}}function mO(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Jf(t[i](o)),done:!1}:s?s(o):o}:s}}function gO(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof vx=="function"?vx(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(d){s({value:d,done:a})},o)}}function yO(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var mQ=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},oT=function(t){return oT=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},oT(t)};function xO(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=oT(t),r=0;r<n.length;r++)n[r]!=="default"&&pv(e,t,n[r]);return mQ(e,t),e}function vO(t){return t&&t.__esModule?t:{default:t}}function bO(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function wO(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function kO(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function TO(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var gQ=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function SO(t){function e(s){t.error=t.hasError?new gQ(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(i,function(o){return e(o),i()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function CO(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,s,o){return r?e?".jsx":".js":i&&(!s||!o)?n:i+s+"."+o.toLowerCase()+"js"}):t}const yQ={__extends:nO,__assign:yo,__rest:Ac,__decorate:rO,__param:iO,__esDecorate:sO,__runInitializers:oO,__propKey:aO,__setFunctionName:lO,__metadata:cO,__awaiter:lt,__generator:uO,__createBinding:pv,__exportStar:dO,__values:vx,__read:F2,__spread:fO,__spreadArrays:hO,__spreadArray:z2,__await:Jf,__asyncGenerator:pO,__asyncDelegator:mO,__asyncValues:gO,__makeTemplateObject:yO,__importStar:xO,__importDefault:vO,__classPrivateFieldGet:bO,__classPrivateFieldSet:wO,__classPrivateFieldIn:kO,__addDisposableResource:TO,__disposeResources:SO,__rewriteRelativeImportExtension:CO},xQ=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:TO,get __assign(){return yo},__asyncDelegator:mO,__asyncGenerator:pO,__asyncValues:gO,__await:Jf,__awaiter:lt,__classPrivateFieldGet:bO,__classPrivateFieldIn:kO,__classPrivateFieldSet:wO,__createBinding:pv,__decorate:rO,__disposeResources:SO,__esDecorate:sO,__exportStar:dO,__extends:nO,__generator:uO,__importDefault:vO,__importStar:xO,__makeTemplateObject:yO,__metadata:cO,__param:iO,__propKey:aO,__read:F2,__rest:Ac,__rewriteRelativeImportExtension:CO,__runInitializers:oO,__setFunctionName:lO,__spread:fO,__spreadArray:z2,__spreadArrays:hO,__values:vx,default:yQ},Symbol.toStringTag,{value:"Module"}));var F0="right-scroll-bar-position",z0="width-before-scroll-bar",vQ="with-scroll-bars-hidden",bQ="--removed-body-scroll-bar-size";function w1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function wQ(t,e){var n=k.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var kQ=typeof window<"u"?k.useLayoutEffect:k.useEffect,ZP=new WeakMap;function TQ(t,e){var n=wQ(null,function(r){return t.forEach(function(i){return w1(i,r)})});return kQ(function(){var r=ZP.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||w1(a,null)}),s.forEach(function(a){i.has(a)||w1(a,o)})}ZP.set(n,t)},[t]),n}function SQ(t){return t}function CQ(t,e){e===void 0&&(e=SQ);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var c=function(){var f=o;o=[],f.forEach(s)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),n}}}};return i}function _Q(t){t===void 0&&(t={});var e=CQ(null);return e.options=yo({async:!0,ssr:!1},t),e}var _O=function(t){var e=t.sideCar,n=Ac(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return k.createElement(r,yo({},n))};_O.isSideCarExport=!0;function EQ(t,e){return t.useMedium(e),_O}var EO=_Q(),k1=function(){},mv=k.forwardRef(function(t,e){var n=k.useRef(null),r=k.useState({onScrollCapture:k1,onWheelCapture:k1,onTouchMoveCapture:k1}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,c=t.className,d=t.removeScrollBar,f=t.enabled,p=t.shards,g=t.sideCar,m=t.noRelative,v=t.noIsolation,x=t.inert,T=t.allowPinchZoom,_=t.as,j=_===void 0?"div":_,w=t.gapMode,F=Ac(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=g,B=TQ([n,e]),H=yo(yo({},F),i);return k.createElement(k.Fragment,null,f&&k.createElement(z,{sideCar:EO,removeScrollBar:d,shards:p,noRelative:m,noIsolation:v,inert:x,setCallbacks:s,allowPinchZoom:!!T,lockRef:n,gapMode:w}),o?k.cloneElement(k.Children.only(a),yo(yo({},H),{ref:B})):k.createElement(j,yo({},H,{className:c,ref:B}),a))});mv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mv.classNames={fullWidth:z0,zeroRight:F0};var NQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function AQ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=NQ();return e&&t.setAttribute("nonce",e),t}function jQ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function PQ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var RQ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=AQ())&&(jQ(e,n),PQ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},IQ=function(){var t=RQ();return function(e,n){k.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},NO=function(){var t=IQ(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},MQ={left:0,top:0,right:0,gap:0},T1=function(t){return parseInt(t||"",10)||0},DQ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[T1(n),T1(r),T1(i)]},OQ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return MQ;var e=DQ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},LQ=NO(),If="data-scroll-locked",FQ=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(vQ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(If,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(F0,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(z0,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(F0," .").concat(F0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(z0," .").concat(z0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(If,`] {
    `).concat(bQ,": ").concat(a,`px;
  }
`)},eR=function(){var t=parseInt(document.body.getAttribute(If)||"0",10);return isFinite(t)?t:0},zQ=function(){k.useEffect(function(){return document.body.setAttribute(If,(eR()+1).toString()),function(){var t=eR()-1;t<=0?document.body.removeAttribute(If):document.body.setAttribute(If,t.toString())}},[])},BQ=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;zQ();var s=k.useMemo(function(){return OQ(i)},[i]);return k.createElement(LQ,{styles:FQ(s,!e,i,n?"":"!important")})},aT=!1;if(typeof window<"u")try{var By=Object.defineProperty({},"passive",{get:function(){return aT=!0,!0}});window.addEventListener("test",By,By),window.removeEventListener("test",By,By)}catch{aT=!1}var Kd=aT?{passive:!1}:!1,$Q=function(t){return t.tagName==="TEXTAREA"},AO=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!$Q(t)&&n[e]==="visible")},UQ=function(t){return AO(t,"overflowY")},VQ=function(t){return AO(t,"overflowX")},tR=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=jO(t,r);if(i){var s=PO(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},WQ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},qQ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},jO=function(t,e){return t==="v"?UQ(e):VQ(e)},PO=function(t,e){return t==="v"?WQ(e):qQ(e)},HQ=function(t,e){return t==="h"&&e==="rtl"?-1:1},GQ=function(t,e,n,r,i){var s=HQ(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,c=e.contains(a),d=!1,f=o>0,p=0,g=0;do{if(!a)break;var m=PO(t,a),v=m[0],x=m[1],T=m[2],_=x-T-s*v;(v||_)&&jO(t,a)&&(p+=_,g+=v);var j=a.parentNode;a=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(f&&Math.abs(p)<1||!f&&Math.abs(g)<1)&&(d=!0),d},$y=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},nR=function(t){return[t.deltaX,t.deltaY]},rR=function(t){return t&&"current"in t?t.current:t},KQ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},YQ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},XQ=0,Yd=[];function JQ(t){var e=k.useRef([]),n=k.useRef([0,0]),r=k.useRef(),i=k.useState(XQ++)[0],s=k.useState(NO)[0],o=k.useRef(t);k.useEffect(function(){o.current=t},[t]),k.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=z2([t.lockRef.current],(t.shards||[]).map(rR),!0).filter(Boolean);return x.forEach(function(T){return T.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=k.useCallback(function(x,T){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var _=$y(x),j=n.current,w="deltaX"in x?x.deltaX:j[0]-_[0],F="deltaY"in x?x.deltaY:j[1]-_[1],z,B=x.target,H=Math.abs(w)>Math.abs(F)?"h":"v";if("touches"in x&&H==="h"&&B.type==="range")return!1;var Y=tR(H,B);if(!Y)return!0;if(Y?z=H:(z=H==="v"?"h":"v",Y=tR(H,B)),!Y)return!1;if(!r.current&&"changedTouches"in x&&(w||F)&&(r.current=z),!z)return!0;var W=r.current||z;return GQ(W,T,x,W==="h"?w:F)},[]),c=k.useCallback(function(x){var T=x;if(!(!Yd.length||Yd[Yd.length-1]!==s)){var _="deltaY"in T?nR(T):$y(T),j=e.current.filter(function(z){return z.name===T.type&&(z.target===T.target||T.target===z.shadowParent)&&KQ(z.delta,_)})[0];if(j&&j.should){T.cancelable&&T.preventDefault();return}if(!j){var w=(o.current.shards||[]).map(rR).filter(Boolean).filter(function(z){return z.contains(T.target)}),F=w.length>0?a(T,w[0]):!o.current.noIsolation;F&&T.cancelable&&T.preventDefault()}}},[]),d=k.useCallback(function(x,T,_,j){var w={name:x,delta:T,target:_,should:j,shadowParent:QQ(_)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(F){return F!==w})},1)},[]),f=k.useCallback(function(x){n.current=$y(x),r.current=void 0},[]),p=k.useCallback(function(x){d(x.type,nR(x),x.target,a(x,t.lockRef.current))},[]),g=k.useCallback(function(x){d(x.type,$y(x),x.target,a(x,t.lockRef.current))},[]);k.useEffect(function(){return Yd.push(s),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Kd),document.addEventListener("touchmove",c,Kd),document.addEventListener("touchstart",f,Kd),function(){Yd=Yd.filter(function(x){return x!==s}),document.removeEventListener("wheel",c,Kd),document.removeEventListener("touchmove",c,Kd),document.removeEventListener("touchstart",f,Kd)}},[]);var m=t.removeScrollBar,v=t.inert;return k.createElement(k.Fragment,null,v?k.createElement(s,{styles:YQ(i)}):null,m?k.createElement(BQ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function QQ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ZQ=EQ(EO,JQ);var gv=k.forwardRef(function(t,e){return k.createElement(mv,yo({},t,{ref:e,sideCar:ZQ}))});gv.classNames=mv.classNames;var eZ=[" ","Enter","ArrowUp","ArrowDown"],tZ=[" ","Enter"],Qu="Select",[yv,xv,nZ]=cv(Qu),[wh,ege]=Xs(Qu,[nZ,bh]),vv=bh(),[rZ,jc]=wh(Qu),[iZ,sZ]=wh(Qu),RO=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:c,dir:d,name:f,autoComplete:p,disabled:g,required:m,form:v}=t,x=vv(e),[T,_]=k.useState(null),[j,w]=k.useState(null),[F,z]=k.useState(!1),B=yh(d),[H,Y]=na({prop:r,defaultProp:i??!1,onChange:s,caller:Qu}),[W,q]=na({prop:o,defaultProp:a,onChange:c,caller:Qu}),X=k.useRef(null),V=T?v||!!T.closest("form"):!0,[R,b]=k.useState(new Set),A=Array.from(R).map(D=>D.props.value).join(";");return l.jsx(I2,{...x,children:l.jsxs(rZ,{required:m,scope:e,trigger:T,onTriggerChange:_,valueNode:j,onValueNodeChange:w,valueNodeHasChildren:F,onValueNodeHasChildrenChange:z,contentId:Vs(),value:W,onValueChange:q,open:H,onOpenChange:Y,dir:B,triggerPointerDownPosRef:X,disabled:g,children:[l.jsx(yv.Provider,{scope:e,children:l.jsx(iZ,{scope:t.__scopeSelect,onNativeOptionAdd:k.useCallback(D=>{b(M=>new Set(M).add(D))},[]),onNativeOptionRemove:k.useCallback(D=>{b(M=>{const C=new Set(M);return C.delete(D),C})},[]),children:n})}),V?l.jsxs(e4,{"aria-hidden":!0,required:m,tabIndex:-1,name:f,autoComplete:p,value:W,onChange:D=>q(D.target.value),disabled:g,form:v,children:[W===void 0?l.jsx("option",{value:""}):null,Array.from(R)]},A):null]})})};RO.displayName=Qu;var IO="SelectTrigger",MO=k.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=vv(n),o=jc(IO,n),a=o.disabled||r,c=Zt(e,o.onTriggerChange),d=xv(n),f=k.useRef("touch"),[p,g,m]=n4(x=>{const T=d().filter(w=>!w.disabled),_=T.find(w=>w.value===o.value),j=r4(T,x,_);j!==void 0&&o.onValueChange(j.value)}),v=x=>{a||(o.onOpenChange(!0),m()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return l.jsx(M2,{asChild:!0,...s,children:l.jsx(vt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":t4(o.value)?"":void 0,...i,ref:c,onClick:Ue(i.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&v(x)}),onPointerDown:Ue(i.onPointerDown,x=>{f.current=x.pointerType;const T=x.target;T.hasPointerCapture(x.pointerId)&&T.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(v(x),x.preventDefault())}),onKeyDown:Ue(i.onKeyDown,x=>{const T=p.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&g(x.key),!(T&&x.key===" ")&&eZ.includes(x.key)&&(v(),x.preventDefault())})})})});MO.displayName=IO;var DO="SelectValue",OO=k.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,c=jc(DO,n),{onValueNodeHasChildrenChange:d}=c,f=s!==void 0,p=Zt(e,c.onValueNodeChange);return Qr(()=>{d(f)},[d,f]),l.jsx(vt.span,{...a,ref:p,style:{pointerEvents:"none"},children:t4(c.value)?l.jsx(l.Fragment,{children:o}):s})});OO.displayName=DO;var oZ="SelectIcon",LO=k.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return l.jsx(vt.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});LO.displayName=oZ;var aZ="SelectPortal",FO=t=>l.jsx(cg,{asChild:!0,...t});FO.displayName=aZ;var Zu="SelectContent",zO=k.forwardRef((t,e)=>{const n=jc(Zu,t.__scopeSelect),[r,i]=k.useState();if(Qr(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Gm.createPortal(l.jsx(BO,{scope:t.__scopeSelect,children:l.jsx(yv.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),s):null}return l.jsx($O,{...t,ref:e})});zO.displayName=Zu;var Wo=10,[BO,Pc]=wh(Zu),lZ="SelectContentImpl",cZ=Xu("SelectContent.RemoveScroll"),$O=k.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:c,align:d,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:m,sticky:v,hideWhenDetached:x,avoidCollisions:T,..._}=t,j=jc(Zu,n),[w,F]=k.useState(null),[z,B]=k.useState(null),H=Zt(e,G=>F(G)),[Y,W]=k.useState(null),[q,X]=k.useState(null),V=xv(n),[R,b]=k.useState(!1),A=k.useRef(!1);k.useEffect(()=>{if(w)return L2(w)},[w]),T2();const D=k.useCallback(G=>{const[J,...ee]=V().map(pe=>pe.ref.current),[ae]=ee.slice(-1),se=document.activeElement;for(const pe of G)if(pe===se||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===J&&z&&(z.scrollTop=0),pe===ae&&z&&(z.scrollTop=z.scrollHeight),pe==null||pe.focus(),document.activeElement!==se))return},[V,z]),M=k.useCallback(()=>D([Y,w]),[D,Y,w]);k.useEffect(()=>{R&&M()},[R,M]);const{onOpenChange:C,triggerPointerDownPosRef:I}=j;k.useEffect(()=>{if(w){let G={x:0,y:0};const J=ae=>{var se,pe;G={x:Math.abs(Math.round(ae.pageX)-(((se=I.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(ae.pageY)-(((pe=I.current)==null?void 0:pe.y)??0))}},ee=ae=>{G.x<=10&&G.y<=10?ae.preventDefault():w.contains(ae.target)||C(!1),document.removeEventListener("pointermove",J),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",J),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",ee,{capture:!0})}}},[w,C,I]),k.useEffect(()=>{const G=()=>C(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[C]);const[E,P]=n4(G=>{const J=V().filter(se=>!se.disabled),ee=J.find(se=>se.ref.current===document.activeElement),ae=r4(J,G,ee);ae&&setTimeout(()=>ae.ref.current.focus())}),N=k.useCallback((G,J,ee)=>{const ae=!A.current&&!ee;(j.value!==void 0&&j.value===J||ae)&&(W(G),ae&&(A.current=!0))},[j.value]),O=k.useCallback(()=>w==null?void 0:w.focus(),[w]),Z=k.useCallback((G,J,ee)=>{const ae=!A.current&&!ee;(j.value!==void 0&&j.value===J||ae)&&X(G)},[j.value]),$=r==="popper"?lT:UO,K=$===lT?{side:a,sideOffset:c,align:d,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:m,sticky:v,hideWhenDetached:x,avoidCollisions:T}:{};return l.jsx(BO,{scope:n,content:w,viewport:z,onViewportChange:B,itemRefCallback:N,selectedItem:Y,onItemLeave:O,itemTextRefCallback:Z,focusSelectedItem:M,selectedItemText:q,position:r,isPositioned:R,searchRef:E,children:l.jsx(gv,{as:cZ,allowPinchZoom:!0,children:l.jsx(uv,{asChild:!0,trapped:j.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:Ue(i,G=>{var J;(J=j.trigger)==null||J.focus({preventScroll:!0}),G.preventDefault()}),children:l.jsx(ag,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:l.jsx($,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:G=>G.preventDefault(),..._,...K,onPlaced:()=>b(!0),ref:H,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Ue(_.onKeyDown,G=>{const J=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!J&&G.key.length===1&&P(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let ae=V().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(G.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const se=G.target,pe=ae.indexOf(se);ae=ae.slice(pe+1)}setTimeout(()=>D(ae)),G.preventDefault()}})})})})})})});$O.displayName=lZ;var uZ="SelectItemAlignedPosition",UO=k.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=jc(Zu,n),o=Pc(Zu,n),[a,c]=k.useState(null),[d,f]=k.useState(null),p=Zt(e,H=>f(H)),g=xv(n),m=k.useRef(!1),v=k.useRef(!0),{viewport:x,selectedItem:T,selectedItemText:_,focusSelectedItem:j}=o,w=k.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&d&&x&&T&&_){const H=s.trigger.getBoundingClientRect(),Y=d.getBoundingClientRect(),W=s.valueNode.getBoundingClientRect(),q=_.getBoundingClientRect();if(s.dir!=="rtl"){const se=q.left-Y.left,pe=W.left-se,he=H.left-pe,ue=H.width+he,be=Math.max(ue,Y.width),Ne=window.innerWidth-Wo,ie=eT(pe,[Wo,Math.max(Wo,Ne-be)]);a.style.minWidth=ue+"px",a.style.left=ie+"px"}else{const se=Y.right-q.right,pe=window.innerWidth-W.right-se,he=window.innerWidth-H.right-pe,ue=H.width+he,be=Math.max(ue,Y.width),Ne=window.innerWidth-Wo,ie=eT(pe,[Wo,Math.max(Wo,Ne-be)]);a.style.minWidth=ue+"px",a.style.right=ie+"px"}const X=g(),V=window.innerHeight-Wo*2,R=x.scrollHeight,b=window.getComputedStyle(d),A=parseInt(b.borderTopWidth,10),D=parseInt(b.paddingTop,10),M=parseInt(b.borderBottomWidth,10),C=parseInt(b.paddingBottom,10),I=A+D+R+C+M,E=Math.min(T.offsetHeight*5,I),P=window.getComputedStyle(x),N=parseInt(P.paddingTop,10),O=parseInt(P.paddingBottom,10),Z=H.top+H.height/2-Wo,$=V-Z,K=T.offsetHeight/2,G=T.offsetTop+K,J=A+D+G,ee=I-J;if(J<=Z){const se=X.length>0&&T===X[X.length-1].ref.current;a.style.bottom="0px";const pe=d.clientHeight-x.offsetTop-x.offsetHeight,he=Math.max($,K+(se?O:0)+pe+M),ue=J+he;a.style.height=ue+"px"}else{const se=X.length>0&&T===X[0].ref.current;a.style.top="0px";const he=Math.max(Z,A+x.offsetTop+(se?N:0)+K)+ee;a.style.height=he+"px",x.scrollTop=J-Z+x.offsetTop}a.style.margin=`${Wo}px 0`,a.style.minHeight=E+"px",a.style.maxHeight=V+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[g,s.trigger,s.valueNode,a,d,x,T,_,s.dir,r]);Qr(()=>w(),[w]);const[F,z]=k.useState();Qr(()=>{d&&z(window.getComputedStyle(d).zIndex)},[d]);const B=k.useCallback(H=>{H&&v.current===!0&&(w(),j==null||j(),v.current=!1)},[w,j]);return l.jsx(fZ,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:B,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:F},children:l.jsx(vt.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});UO.displayName=uZ;var dZ="SelectPopperPosition",lT=k.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Wo,...s}=t,o=vv(n);return l.jsx(D2,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lT.displayName=dZ;var[fZ,B2]=wh(Zu,{}),cT="SelectViewport",VO=k.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Pc(cT,n),o=B2(cT,n),a=Zt(e,s.onViewportChange),c=k.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(yv.Slot,{scope:n,children:l.jsx(vt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ue(i.onScroll,d=>{const f=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&p){const m=Math.abs(c.current-f.scrollTop);if(m>0){const v=window.innerHeight-Wo*2,x=parseFloat(p.style.minHeight),T=parseFloat(p.style.height),_=Math.max(x,T);if(_<v){const j=_+m,w=Math.min(v,j),F=j-w;p.style.height=w+"px",p.style.bottom==="0px"&&(f.scrollTop=F>0?F:0,p.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});VO.displayName=cT;var WO="SelectGroup",[hZ,pZ]=wh(WO),mZ=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Vs();return l.jsx(hZ,{scope:n,id:i,children:l.jsx(vt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});mZ.displayName=WO;var qO="SelectLabel",gZ=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=pZ(qO,n);return l.jsx(vt.div,{id:i.id,...r,ref:e})});gZ.displayName=qO;var bx="SelectItem",[yZ,HO]=wh(bx),GO=k.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=jc(bx,n),c=Pc(bx,n),d=a.value===r,[f,p]=k.useState(s??""),[g,m]=k.useState(!1),v=Zt(e,j=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,j,r,i)}),x=Vs(),T=k.useRef("touch"),_=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(yZ,{scope:n,value:r,disabled:i,textId:x,isSelected:d,onItemTextChange:k.useCallback(j=>{p(w=>w||((j==null?void 0:j.textContent)??"").trim())},[]),children:l.jsx(yv.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:l.jsx(vt.div,{role:"option","aria-labelledby":x,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:Ue(o.onFocus,()=>m(!0)),onBlur:Ue(o.onBlur,()=>m(!1)),onClick:Ue(o.onClick,()=>{T.current!=="mouse"&&_()}),onPointerUp:Ue(o.onPointerUp,()=>{T.current==="mouse"&&_()}),onPointerDown:Ue(o.onPointerDown,j=>{T.current=j.pointerType}),onPointerMove:Ue(o.onPointerMove,j=>{var w;T.current=j.pointerType,i?(w=c.onItemLeave)==null||w.call(c):T.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ue(o.onPointerLeave,j=>{var w;j.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ue(o.onKeyDown,j=>{var F;((F=c.searchRef)==null?void 0:F.current)!==""&&j.key===" "||(tZ.includes(j.key)&&_(),j.key===" "&&j.preventDefault())})})})})});GO.displayName=bx;var Sp="SelectItemText",KO=k.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=jc(Sp,n),a=Pc(Sp,n),c=HO(Sp,n),d=sZ(Sp,n),[f,p]=k.useState(null),g=Zt(e,_=>p(_),c.onItemTextChange,_=>{var j;return(j=a.itemTextRefCallback)==null?void 0:j.call(a,_,c.value,c.disabled)}),m=f==null?void 0:f.textContent,v=k.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:x,onNativeOptionRemove:T}=d;return Qr(()=>(x(v),()=>T(v)),[x,T,v]),l.jsxs(l.Fragment,{children:[l.jsx(vt.span,{id:c.textId,...s,ref:g}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Gm.createPortal(s.children,o.valueNode):null]})});KO.displayName=Sp;var YO="SelectItemIndicator",XO=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return HO(YO,n).isSelected?l.jsx(vt.span,{"aria-hidden":!0,...r,ref:e}):null});XO.displayName=YO;var uT="SelectScrollUpButton",JO=k.forwardRef((t,e)=>{const n=Pc(uT,t.__scopeSelect),r=B2(uT,t.__scopeSelect),[i,s]=k.useState(!1),o=Zt(e,r.onScrollButtonChange);return Qr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=c.scrollTop>0;s(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?l.jsx(ZO,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});JO.displayName=uT;var dT="SelectScrollDownButton",QO=k.forwardRef((t,e)=>{const n=Pc(dT,t.__scopeSelect),r=B2(dT,t.__scopeSelect),[i,s]=k.useState(!1),o=Zt(e,r.onScrollButtonChange);return Qr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;s(f)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?l.jsx(ZO,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});QO.displayName=dT;var ZO=k.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Pc("SelectScrollButton",n),o=k.useRef(null),a=xv(n),c=k.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return k.useEffect(()=>()=>c(),[c]),Qr(()=>{var f;const d=a().find(p=>p.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),l.jsx(vt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ue(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ue(i.onPointerMove,()=>{var d;(d=s.onItemLeave)==null||d.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ue(i.onPointerLeave,()=>{c()})})}),xZ="SelectSeparator",vZ=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(vt.div,{"aria-hidden":!0,...r,ref:e})});vZ.displayName=xZ;var fT="SelectArrow",bZ=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=vv(n),s=jc(fT,n),o=Pc(fT,n);return s.open&&o.position==="popper"?l.jsx(O2,{...i,...r,ref:e}):null});bZ.displayName=fT;var wZ="SelectBubbleInput",e4=k.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=k.useRef(null),s=Zt(r,i),o=Q6(e);return k.useEffect(()=>{const a=i.current;if(!a)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&f){const p=new Event("change",{bubbles:!0});f.call(a,e),a.dispatchEvent(p)}},[o,e]),l.jsx(vt.select,{...n,style:{...Z6,...n.style},ref:s,defaultValue:e})});e4.displayName=wZ;function t4(t){return t===""||t===void 0}function n4(t){const e=ai(t),n=k.useRef(""),r=k.useRef(0),i=k.useCallback(o=>{const a=n.current+o;e(a),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),s=k.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return k.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function r4(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=kZ(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function kZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var TZ=RO,SZ=MO,CZ=OO,_Z=LO,EZ=FO,NZ=zO,AZ=VO,jZ=GO,PZ=KO,RZ=XO,IZ=JO,MZ=QO;function i4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=i4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function s4(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=i4(t))&&(r&&(r+=" "),r+=e);return r}const $2="-",DZ=t=>{const e=LZ(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split($2);return a[0]===""&&a.length!==1&&a.shift(),o4(a,e)||OZ(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},o4=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?o4(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join($2);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},iR=/^\[(.+)\]$/,OZ=t=>{if(iR.test(t)){const e=iR.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},LZ=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return zZ(Object.entries(t.classGroups),n).forEach(([s,o])=>{hT(o,r,s,e)}),r},hT=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:sR(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(FZ(i)){hT(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{hT(o,sR(e,s),n,r)})})},sR=(t,e)=>{let n=t;return e.split($2).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},FZ=t=>t.isThemeGetter,zZ=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,BZ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},a4="!",$Z=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const c=[];let d=0,f=0,p;for(let T=0;T<a.length;T++){let _=a[T];if(d===0){if(_===i&&(r||a.slice(T,T+s)===e)){c.push(a.slice(f,T)),f=T+s;continue}if(_==="/"){p=T;continue}}_==="["?d++:_==="]"&&d--}const g=c.length===0?a:a.substring(f),m=g.startsWith(a4),v=m?g.substring(1):g,x=p&&p>f?p-f:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:o}):o},UZ=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},VZ=t=>({cache:BZ(t.cacheSize),parseClassName:$Z(t),...DZ(t)}),WZ=/\s+/,qZ=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(WZ);let a="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:f,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}=n(d);let v=!!m,x=r(v?g.substring(0,m):g);if(!x){if(!v){a=d+(a.length>0?" "+a:a);continue}if(x=r(g),!x){a=d+(a.length>0?" "+a:a);continue}v=!1}const T=UZ(f).join(":"),_=p?T+a4:T,j=_+x;if(s.includes(j))continue;s.push(j);const w=i(x,v);for(let F=0;F<w.length;++F){const z=w[F];s.push(_+z)}a=d+(a.length>0?" "+a:a)}return a};function HZ(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=l4(e))&&(r&&(r+=" "),r+=n);return r}const l4=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=l4(t[r]))&&(n&&(n+=" "),n+=e);return n};function GZ(t,...e){let n,r,i,s=o;function o(c){const d=e.reduce((f,p)=>p(f),t());return n=VZ(d),r=n.cache.get,i=n.cache.set,s=a,a(c)}function a(c){const d=r(c);if(d)return d;const f=qZ(c,n);return i(c,f),f}return function(){return s(HZ.apply(null,arguments))}}const Kn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},c4=/^\[(?:([a-z-]+):)?(.+)\]$/i,KZ=/^\d+\/\d+$/,YZ=new Set(["px","full","screen"]),XZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,JZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,QZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ZZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tl=t=>Mf(t)||YZ.has(t)||KZ.test(t),Wl=t=>kh(t,"length",lee),Mf=t=>!!t&&!Number.isNaN(Number(t)),S1=t=>kh(t,"number",Mf),up=t=>!!t&&Number.isInteger(Number(t)),tee=t=>t.endsWith("%")&&Mf(t.slice(0,-1)),qt=t=>c4.test(t),ql=t=>XZ.test(t),nee=new Set(["length","size","percentage"]),ree=t=>kh(t,nee,u4),iee=t=>kh(t,"position",u4),see=new Set(["image","url"]),oee=t=>kh(t,see,uee),aee=t=>kh(t,"",cee),dp=()=>!0,kh=(t,e,n)=>{const r=c4.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},lee=t=>JZ.test(t)&&!QZ.test(t),u4=()=>!1,cee=t=>ZZ.test(t),uee=t=>eee.test(t),dee=()=>{const t=Kn("colors"),e=Kn("spacing"),n=Kn("blur"),r=Kn("brightness"),i=Kn("borderColor"),s=Kn("borderRadius"),o=Kn("borderSpacing"),a=Kn("borderWidth"),c=Kn("contrast"),d=Kn("grayscale"),f=Kn("hueRotate"),p=Kn("invert"),g=Kn("gap"),m=Kn("gradientColorStops"),v=Kn("gradientColorStopPositions"),x=Kn("inset"),T=Kn("margin"),_=Kn("opacity"),j=Kn("padding"),w=Kn("saturate"),F=Kn("scale"),z=Kn("sepia"),B=Kn("skew"),H=Kn("space"),Y=Kn("translate"),W=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],X=()=>["auto",qt,e],V=()=>[qt,e],R=()=>["",tl,Wl],b=()=>["auto",Mf,qt],A=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",qt],E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>[Mf,qt];return{cacheSize:500,separator:":",theme:{colors:[dp],spacing:[tl,Wl],blur:["none","",ql,qt],brightness:P(),borderColor:[t],borderRadius:["none","","full",ql,qt],borderSpacing:V(),borderWidth:R(),contrast:P(),grayscale:I(),hueRotate:P(),invert:I(),gap:V(),gradientColorStops:[t],gradientColorStopPositions:[tee,Wl],inset:X(),margin:X(),opacity:P(),padding:V(),saturate:P(),scale:P(),sepia:I(),skew:P(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",qt]}],container:["container"],columns:[{columns:[ql]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...A(),qt]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",up,qt]}],basis:[{basis:X()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qt]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",up,qt]}],"grid-cols":[{"grid-cols":[dp]}],"col-start-end":[{col:["auto",{span:["full",up,qt]},qt]}],"col-start":[{"col-start":b()}],"col-end":[{"col-end":b()}],"grid-rows":[{"grid-rows":[dp]}],"row-start-end":[{row:["auto",{span:[up,qt]},qt]}],"row-start":[{"row-start":b()}],"row-end":[{"row-end":b()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qt]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[H]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[H]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qt,e]}],"min-w":[{"min-w":[qt,e,"min","max","fit"]}],"max-w":[{"max-w":[qt,e,"none","full","min","max","fit","prose",{screen:[ql]},ql]}],h:[{h:[qt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ql,Wl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",S1]}],"font-family":[{font:[dp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qt]}],"line-clamp":[{"line-clamp":["none",Mf,S1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tl,qt]}],"list-image":[{"list-image":["none",qt]}],"list-style-type":[{list:["none","disc","decimal",qt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tl,Wl]}],"underline-offset":[{"underline-offset":["auto",tl,qt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...A(),iee]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ree]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},oee]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:D()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[tl,qt]}],"outline-w":[{outline:[tl,Wl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[tl,Wl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ql,aee]}],"shadow-color":[{shadow:[dp]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ql,qt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[w]}],sepia:[{sepia:[z]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qt]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",qt]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",qt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[F]}],"scale-x":[{"scale-x":[F]}],"scale-y":[{"scale-y":[F]}],rotate:[{rotate:[up,qt]}],"translate-x":[{"translate-x":[Y]}],"translate-y":[{"translate-y":[Y]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[tl,Wl,S1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},fee=GZ(dee);function nt(...t){return fee(s4(t))}function ed({...t}){return l.jsx(TZ,{"data-slot":"select",...t})}function td({...t}){return l.jsx(CZ,{"data-slot":"select-value",...t})}function nd({className:t,size:e="default",children:n,...r}){return l.jsxs(SZ,{"data-slot":"select-trigger","data-size":e,className:nt("border-[#614E41] data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-[#614E41] focus-visible:ring-[#614E41]/40 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,l.jsx(_Z,{asChild:!0,children:l.jsx(ra,{className:"size-4 opacity-70 text-foreground"})})]})}function rd({className:t,children:e,position:n="popper",...r}){return l.jsx(EZ,{children:l.jsxs(NZ,{"data-slot":"select-content",className:nt("bg-popover/90 backdrop-blur-md text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-xl border border-[#614E41] shadow-xl",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(hee,{}),l.jsx(AZ,{className:nt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),l.jsx(pee,{})]})})}function Ei({className:t,children:e,...n}){return l.jsxs(jZ,{"data-slot":"select-item",className:nt("focus:bg-accent focus:text-accent-foreground data-[state=checked]:bg-[#614E41]/15 hover:bg-[#614E41]/10 active:bg-[#614E41]/20 [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[l.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:l.jsx(RZ,{children:l.jsx(b6,{className:"size-4"})})}),l.jsx(PZ,{children:e})]})}function hee({className:t,...e}){return l.jsx(IZ,{"data-slot":"select-scroll-up-button",className:nt("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(sg,{className:"size-4"})})}function pee({className:t,...e}){return l.jsx(MZ,{"data-slot":"select-scroll-down-button",className:nt("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(ra,{className:"size-4"})})}const Uy=t=>{if(!t)return"";if(typeof t=="string")return t;if(typeof t.message=="string")return t.message;try{return JSON.stringify(t)}catch{return String(t)}},oR=()=>{const{chainId:t,switchNetwork:e,addNetwork:n,isSupportedNetwork:r}=_n(),[i,s]=ke.useState(!1),o=()=>Object.entries(Gt).filter(([d,f])=>{const p=f.contractAddresses;return(p==null?void 0:p.protocolManager)&&p.protocolManager!=="0x..."&&(p==null?void 0:p.poolDeployer)&&p.poolDeployer!=="0x..."}),a=o(),c=async d=>{var p;const f=parseInt(d,10);s(!0);try{await e(f)}catch(g){const m=Uy(g).toLowerCase();if(g&&g.code===4902||m.includes("add this network")||m.includes("unrecognized chain id")||g&&g.code===-32603)try{await n(f),setTimeout(async()=>{try{await e(f)}catch(v){setTimeout(()=>{window.ethereum&&window.ethereum.chainId&&parseInt(window.ethereum.chainId,16)!==f&&re.error("Failed to switch to the new network after adding: "+Uy(v))},1e3)}},500)}catch(v){setTimeout(()=>{window.ethereum&&window.ethereum.chainId&&parseInt(window.ethereum.chainId,16)!==f&&re.error("Failed to add network: "+Uy(v))},1e3)}else!((p=g.message)!=null&&p.includes("User rejected"))&&g.code!==4001&&setTimeout(()=>{window.ethereum&&window.ethereum.chainId&&parseInt(window.ethereum.chainId,16)!==f&&re.error("Failed to switch network: "+Uy(g))},1e3)}finally{s(!1)}};return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(ed,{value:t?String(t):"",onValueChange:c,disabled:i,children:[l.jsx(nd,{className:"min-w-[160px] sm:min-w-[180px] header-accent-surface text-foreground rounded-full",children:l.jsx(td,{placeholder:"Select Network"})}),l.jsx(rd,{className:"border-border",children:o().map(([d,f])=>l.jsx(Ei,{value:d,children:f.name},d))})]}),a.length===0&&l.jsx("span",{className:"text-xs text-red-500 ml-2",children:"Contracts Not Available"}),t&&r&&a.length>0&&!a.some(([d])=>parseInt(d)===t)&&l.jsx("span",{className:"text-xs text-red-500 ml-2",children:"Unsupported Network"})]})},uu=({className:t="",size:e="md",showIcon:n=!1,alt:r="Dropr",...i})=>{const{getCurrentTheme:s}=rv(),a={xs:"h-4 w-auto",sm:"h-6 w-auto",md:"h-8 w-auto",lg:"h-10 w-auto",xl:"h-12 w-auto"}[e]||e,c=()=>n?"/images/logo/logo-icon.png":s().id==="light"?"/images/logo/Asset 25.svg":"/images/logo/Asset 26.svg";return l.jsx("img",{src:c(),alt:r,className:`${a} transition-opacity duration-200 ${t}`,...i})},gr=()=>{const t=()=>{if(typeof window>"u")return{isMobile:!1,isTablet:!1,isDesktop:!0,isTouchDevice:!1,screenWidth:1024,isInitialized:!1};const r=window.innerWidth;return{isMobile:r<768,isTablet:r>=768&&r<1024,isDesktop:r>=1024,isTouchDevice:"ontouchstart"in window||navigator.maxTouchPoints>0,screenWidth:r,isInitialized:!0}},[e,n]=k.useState(t);return k.useEffect(()=>{const r=()=>{const o=window.innerWidth,a=window.innerHeight,c=e.isMobile&&Math.abs(o-e.screenWidth)<50&&Math.abs(a-window.screen.height)>200;if(c){console.log("Skipping breakpoint update - likely keyboard resize");return}const d={isMobile:o<768,isTablet:o>=768&&o<1024,isDesktop:o>=1024,isTouchDevice:"ontouchstart"in window||navigator.maxTouchPoints>0,screenWidth:o,isInitialized:!0};o<768&&console.log("Mobile detected:",{width:o,height:a,userAgent:navigator.userAgent,touchDevice:d.isTouchDevice,isKeyboardResize:c}),n(d)};r();let i;const s=()=>{clearTimeout(i),i=setTimeout(r,150)};return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s),clearTimeout(i)}},[e.isMobile,e.screenWidth]),e},aR=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,lR=s4,U2=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return lR(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(d=>{const f=n==null?void 0:n[d],p=s==null?void 0:s[d];if(f===null)return null;const g=aR(f)||aR(p);return i[d][g]}),a=n&&Object.entries(n).reduce((d,f)=>{let[p,g]=f;return g===void 0||(d[p]=g),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,f)=>{let{class:p,className:g,...m}=f;return Object.entries(m).every(v=>{let[x,T]=v;return Array.isArray(T)?T.includes({...s,...a}[x]):{...s,...a}[x]===T})?[...d,p,g]:d},[]);return lR(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},mee=U2("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full font-medium transition-all duration-200 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{primary:"bg-brand-500 text-white shadow-sm hover:bg-brand-600 focus-visible:ring-brand/20",secondary:"border-2 border-brand-500 text-brand-500 bg-transparent shadow-sm hover:bg-brand-500/10 focus-visible:ring-brand/15",tertiary:"text-[color:var(--brand-tertiary)] bg-transparent hover:bg-brand-500/10",default:"bg-brand-500 text-white shadow-sm hover:bg-brand-600 focus-visible:ring-brand/20",outline:"border-2 border-brand-500 text-brand-500 bg-transparent shadow-sm hover:bg-brand-500/10",ghost:"text-[color:var(--brand-tertiary)] hover:bg-brand-500/10",link:"text-[color:var(--brand-tertiary)] underline-offset-4 hover:underline",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90 focus-visible:ring-destructive/20",success:"bg-success text-success-foreground shadow-sm hover:bg-success/90 focus-visible:ring-success/20",warning:"bg-warning text-warning-foreground shadow-sm hover:bg-warning/90 focus-visible:ring-warning/20",accent:"bg-accent text-accent-foreground shadow-sm hover:bg-accent/90 focus-visible:ring-accent/20"},size:{md:"h-10 px-4 py-2 text-[length:var(--text-base)] has-[>svg]:px-3",default:"h-10 px-4 py-2 text-[length:var(--text-base)] has-[>svg]:px-3",sm:"h-8 gap-1.5 px-3 py-2 text-[length:var(--text-sm)] has-[>svg]:px-2.5",lg:"h-12 px-6 py-3 text-[length:var(--text-base)] has-[>svg]:px-4",xl:"h-14 px-8 py-3 text-[length:var(--text-lg)] has-[>svg]:px-5",icon:"size-9"}},defaultVariants:{variant:"primary",size:"md"}}),Ee=k.forwardRef(function({className:e,variant:n,size:r,asChild:i=!1,...s},o){const a=i?S6:"button";return l.jsx(a,{ref:o,"data-slot":"button",type:s.type??"button","aria-disabled":s.disabled?!0:void 0,className:nt(mee({variant:n,size:r,className:e})),...s})});Ee.displayName="Button";function gee(t,e){return k.useReducer((n,r)=>e[n][r]??n,t)}var Pi=t=>{const{present:e,children:n}=t,r=yee(e),i=typeof n=="function"?n({present:r.isPresent}):k.Children.only(n),s=Zt(r.ref,xee(i));return typeof n=="function"||r.isPresent?k.cloneElement(i,{ref:s}):null};Pi.displayName="Presence";function yee(t){const[e,n]=k.useState(),r=k.useRef(null),i=k.useRef(t),s=k.useRef("none"),o=t?"mounted":"unmounted",[a,c]=gee(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const d=Vy(r.current);s.current=a==="mounted"?d:"none"},[a]),Qr(()=>{const d=r.current,f=i.current;if(f!==t){const g=s.current,m=Vy(d);t?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&g!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Qr(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,p=m=>{const x=Vy(r.current).includes(m.animationName);if(m.target===e&&x&&(c("ANIMATION_END"),!i.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},g=m=>{m.target===e&&(s.current=Vy(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:k.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Vy(t){return(t==null?void 0:t.animationName)||"none"}function xee(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var C1="rovingFocusGroup.onEntryFocus",vee={bubbles:!1,cancelable:!0},ug="RovingFocusGroup",[pT,d4,bee]=cv(ug),[wee,bv]=Xs(ug,[bee]),[kee,Tee]=wee(ug),f4=k.forwardRef((t,e)=>l.jsx(pT.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(pT.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(See,{...t,ref:e})})}));f4.displayName=ug;var See=k.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...p}=t,g=k.useRef(null),m=Zt(e,g),v=yh(s),[x,T]=na({prop:o,defaultProp:a??null,onChange:c,caller:ug}),[_,j]=k.useState(!1),w=ai(d),F=d4(n),z=k.useRef(!1),[B,H]=k.useState(0);return k.useEffect(()=>{const Y=g.current;if(Y)return Y.addEventListener(C1,w),()=>Y.removeEventListener(C1,w)},[w]),l.jsx(kee,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:x,onItemFocus:k.useCallback(Y=>T(Y),[T]),onItemShiftTab:k.useCallback(()=>j(!0),[]),onFocusableItemAdd:k.useCallback(()=>H(Y=>Y+1),[]),onFocusableItemRemove:k.useCallback(()=>H(Y=>Y-1),[]),children:l.jsx(vt.div,{tabIndex:_||B===0?-1:0,"data-orientation":r,...p,ref:m,style:{outline:"none",...t.style},onMouseDown:Ue(t.onMouseDown,()=>{z.current=!0}),onFocus:Ue(t.onFocus,Y=>{const W=!z.current;if(Y.target===Y.currentTarget&&W&&!_){const q=new CustomEvent(C1,vee);if(Y.currentTarget.dispatchEvent(q),!q.defaultPrevented){const X=F().filter(D=>D.focusable),V=X.find(D=>D.active),R=X.find(D=>D.id===x),A=[V,R,...X].filter(Boolean).map(D=>D.ref.current);m4(A,f)}}z.current=!1}),onBlur:Ue(t.onBlur,()=>j(!1))})})}),h4="RovingFocusGroupItem",p4=k.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=t,c=Vs(),d=s||c,f=Tee(h4,n),p=f.currentTabStopId===d,g=d4(n),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:x}=f;return k.useEffect(()=>{if(r)return m(),()=>v()},[r,m,v]),l.jsx(pT.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:l.jsx(vt.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...a,ref:e,onMouseDown:Ue(t.onMouseDown,T=>{r?f.onItemFocus(d):T.preventDefault()}),onFocus:Ue(t.onFocus,()=>f.onItemFocus(d)),onKeyDown:Ue(t.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){f.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const _=Eee(T,f.orientation,f.dir);if(_!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let w=g().filter(F=>F.focusable).map(F=>F.ref.current);if(_==="last")w.reverse();else if(_==="prev"||_==="next"){_==="prev"&&w.reverse();const F=w.indexOf(T.currentTarget);w=f.loop?Nee(w,F+1):w.slice(F+1)}setTimeout(()=>m4(w))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:x!=null}):o})})});p4.displayName=h4;var Cee={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _ee(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Eee(t,e,n){const r=_ee(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Cee[r]}function m4(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Nee(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var g4=f4,y4=p4,mT=["Enter"," "],Aee=["ArrowDown","PageUp","Home"],x4=["ArrowUp","PageDown","End"],jee=[...Aee,...x4],Pee={ltr:[...mT,"ArrowRight"],rtl:[...mT,"ArrowLeft"]},Ree={ltr:["ArrowLeft"],rtl:["ArrowRight"]},dg="Menu",[jm,Iee,Mee]=cv(dg),[md,v4]=Xs(dg,[Mee,bh,bv]),wv=bh(),b4=bv(),[Dee,gd]=md(dg),[Oee,fg]=md(dg),w4=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=wv(e),[c,d]=k.useState(null),f=k.useRef(!1),p=ai(s),g=yh(i);return k.useEffect(()=>{const m=()=>{f.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>f.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),l.jsx(I2,{...a,children:l.jsx(Dee,{scope:e,open:n,onOpenChange:p,content:c,onContentChange:d,children:l.jsx(Oee,{scope:e,onClose:k.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:g,modal:o,children:r})})})};w4.displayName=dg;var Lee="MenuAnchor",V2=k.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=wv(n);return l.jsx(M2,{...i,...r,ref:e})});V2.displayName=Lee;var W2="MenuPortal",[Fee,k4]=md(W2,{forceMount:void 0}),T4=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=gd(W2,e);return l.jsx(Fee,{scope:e,forceMount:n,children:l.jsx(Pi,{present:n||s.open,children:l.jsx(cg,{asChild:!0,container:i,children:r})})})};T4.displayName=W2;var To="MenuContent",[zee,q2]=md(To),S4=k.forwardRef((t,e)=>{const n=k4(To,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=gd(To,t.__scopeMenu),o=fg(To,t.__scopeMenu);return l.jsx(jm.Provider,{scope:t.__scopeMenu,children:l.jsx(Pi,{present:r||s.open,children:l.jsx(jm.Slot,{scope:t.__scopeMenu,children:o.modal?l.jsx(Bee,{...i,ref:e}):l.jsx($ee,{...i,ref:e})})})})}),Bee=k.forwardRef((t,e)=>{const n=gd(To,t.__scopeMenu),r=k.useRef(null),i=Zt(e,r);return k.useEffect(()=>{const s=r.current;if(s)return L2(s)},[]),l.jsx(H2,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ue(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),$ee=k.forwardRef((t,e)=>{const n=gd(To,t.__scopeMenu);return l.jsx(H2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Uee=Xu("MenuContent.ScrollLock"),H2=k.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:m,disableOutsideScroll:v,...x}=t,T=gd(To,n),_=fg(To,n),j=wv(n),w=b4(n),F=Iee(n),[z,B]=k.useState(null),H=k.useRef(null),Y=Zt(e,H,T.onContentChange),W=k.useRef(0),q=k.useRef(""),X=k.useRef(0),V=k.useRef(null),R=k.useRef("right"),b=k.useRef(0),A=v?gv:k.Fragment,D=v?{as:Uee,allowPinchZoom:!0}:void 0,M=I=>{var G,J;const E=q.current+I,P=F().filter(ee=>!ee.disabled),N=document.activeElement,O=(G=P.find(ee=>ee.ref.current===N))==null?void 0:G.textValue,Z=P.map(ee=>ee.textValue),$=ete(Z,E,O),K=(J=P.find(ee=>ee.textValue===$))==null?void 0:J.ref.current;(function ee(ae){q.current=ae,window.clearTimeout(W.current),ae!==""&&(W.current=window.setTimeout(()=>ee(""),1e3))})(E),K&&setTimeout(()=>K.focus())};k.useEffect(()=>()=>window.clearTimeout(W.current),[]),T2();const C=k.useCallback(I=>{var P,N;return R.current===((P=V.current)==null?void 0:P.side)&&nte(I,(N=V.current)==null?void 0:N.area)},[]);return l.jsx(zee,{scope:n,searchRef:q,onItemEnter:k.useCallback(I=>{C(I)&&I.preventDefault()},[C]),onItemLeave:k.useCallback(I=>{var E;C(I)||((E=H.current)==null||E.focus(),B(null))},[C]),onTriggerLeave:k.useCallback(I=>{C(I)&&I.preventDefault()},[C]),pointerGraceTimerRef:X,onPointerGraceIntentChange:k.useCallback(I=>{V.current=I},[]),children:l.jsx(A,{...D,children:l.jsx(uv,{asChild:!0,trapped:i,onMountAutoFocus:Ue(s,I=>{var E;I.preventDefault(),(E=H.current)==null||E.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(ag,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:m,children:l.jsx(g4,{asChild:!0,...w,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:z,onCurrentTabStopIdChange:B,onEntryFocus:Ue(c,I=>{_.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(D2,{role:"menu","aria-orientation":"vertical","data-state":B4(T.open),"data-radix-menu-content":"",dir:_.dir,...j,...x,ref:Y,style:{outline:"none",...x.style},onKeyDown:Ue(x.onKeyDown,I=>{const P=I.target.closest("[data-radix-menu-content]")===I.currentTarget,N=I.ctrlKey||I.altKey||I.metaKey,O=I.key.length===1;P&&(I.key==="Tab"&&I.preventDefault(),!N&&O&&M(I.key));const Z=H.current;if(I.target!==Z||!jee.includes(I.key))return;I.preventDefault();const K=F().filter(G=>!G.disabled).map(G=>G.ref.current);x4.includes(I.key)&&K.reverse(),Qee(K)}),onBlur:Ue(t.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(W.current),q.current="")}),onPointerMove:Ue(t.onPointerMove,Pm(I=>{const E=I.target,P=b.current!==I.clientX;if(I.currentTarget.contains(E)&&P){const N=I.clientX>b.current?"right":"left";R.current=N,b.current=I.clientX}}))})})})})})})});S4.displayName=To;var Vee="MenuGroup",G2=k.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(vt.div,{role:"group",...r,ref:e})});G2.displayName=Vee;var Wee="MenuLabel",C4=k.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(vt.div,{...r,ref:e})});C4.displayName=Wee;var wx="MenuItem",cR="menu.itemSelect",kv=k.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=k.useRef(null),o=fg(wx,t.__scopeMenu),a=q2(wx,t.__scopeMenu),c=Zt(e,s),d=k.useRef(!1),f=()=>{const p=s.current;if(!n&&p){const g=new CustomEvent(cR,{bubbles:!0,cancelable:!0});p.addEventListener(cR,m=>r==null?void 0:r(m),{once:!0}),_6(p,g),g.defaultPrevented?d.current=!1:o.onClose()}};return l.jsx(_4,{...i,ref:c,disabled:n,onClick:Ue(t.onClick,f),onPointerDown:p=>{var g;(g=t.onPointerDown)==null||g.call(t,p),d.current=!0},onPointerUp:Ue(t.onPointerUp,p=>{var g;d.current||(g=p.currentTarget)==null||g.click()}),onKeyDown:Ue(t.onKeyDown,p=>{const g=a.searchRef.current!=="";n||g&&p.key===" "||mT.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});kv.displayName=wx;var _4=k.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=q2(wx,n),a=b4(n),c=k.useRef(null),d=Zt(e,c),[f,p]=k.useState(!1),[g,m]=k.useState("");return k.useEffect(()=>{const v=c.current;v&&m((v.textContent??"").trim())},[s.children]),l.jsx(jm.ItemSlot,{scope:n,disabled:r,textValue:i??g,children:l.jsx(y4,{asChild:!0,...a,focusable:!r,children:l.jsx(vt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:d,onPointerMove:Ue(t.onPointerMove,Pm(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ue(t.onPointerLeave,Pm(v=>o.onItemLeave(v))),onFocus:Ue(t.onFocus,()=>p(!0)),onBlur:Ue(t.onBlur,()=>p(!1))})})})}),qee="MenuCheckboxItem",E4=k.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return l.jsx(R4,{scope:t.__scopeMenu,checked:n,children:l.jsx(kv,{role:"menuitemcheckbox","aria-checked":kx(n)?"mixed":n,...i,ref:e,"data-state":Y2(n),onSelect:Ue(i.onSelect,()=>r==null?void 0:r(kx(n)?!0:!n),{checkForDefaultPrevented:!1})})})});E4.displayName=qee;var N4="MenuRadioGroup",[Hee,Gee]=md(N4,{value:void 0,onValueChange:()=>{}}),A4=k.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=ai(r);return l.jsx(Hee,{scope:t.__scopeMenu,value:n,onValueChange:s,children:l.jsx(G2,{...i,ref:e})})});A4.displayName=N4;var j4="MenuRadioItem",P4=k.forwardRef((t,e)=>{const{value:n,...r}=t,i=Gee(j4,t.__scopeMenu),s=n===i.value;return l.jsx(R4,{scope:t.__scopeMenu,checked:s,children:l.jsx(kv,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":Y2(s),onSelect:Ue(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});P4.displayName=j4;var K2="MenuItemIndicator",[R4,Kee]=md(K2,{checked:!1}),I4=k.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=Kee(K2,n);return l.jsx(Pi,{present:r||kx(s.checked)||s.checked===!0,children:l.jsx(vt.span,{...i,ref:e,"data-state":Y2(s.checked)})})});I4.displayName=K2;var Yee="MenuSeparator",M4=k.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(vt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});M4.displayName=Yee;var Xee="MenuArrow",D4=k.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=wv(n);return l.jsx(O2,{...i,...r,ref:e})});D4.displayName=Xee;var Jee="MenuSub",[tge,O4]=md(Jee),Cp="MenuSubTrigger",L4=k.forwardRef((t,e)=>{const n=gd(Cp,t.__scopeMenu),r=fg(Cp,t.__scopeMenu),i=O4(Cp,t.__scopeMenu),s=q2(Cp,t.__scopeMenu),o=k.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=s,d={__scopeMenu:t.__scopeMenu},f=k.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return k.useEffect(()=>f,[f]),k.useEffect(()=>{const p=a.current;return()=>{window.clearTimeout(p),c(null)}},[a,c]),l.jsx(V2,{asChild:!0,...d,children:l.jsx(_4,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":B4(n.open),...t,ref:lv(e,i.onTriggerChange),onClick:p=>{var g;(g=t.onClick)==null||g.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ue(t.onPointerMove,Pm(p=>{s.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:Ue(t.onPointerLeave,Pm(p=>{var m,v;f();const g=(m=n.content)==null?void 0:m.getBoundingClientRect();if(g){const x=(v=n.content)==null?void 0:v.dataset.side,T=x==="right",_=T?-5:5,j=g[T?"left":"right"],w=g[T?"right":"left"];s.onPointerGraceIntentChange({area:[{x:p.clientX+_,y:p.clientY},{x:j,y:g.top},{x:w,y:g.top},{x:w,y:g.bottom},{x:j,y:g.bottom}],side:x}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(p),p.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ue(t.onKeyDown,p=>{var m;const g=s.searchRef.current!=="";t.disabled||g&&p.key===" "||Pee[r.dir].includes(p.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),p.preventDefault())})})})});L4.displayName=Cp;var F4="MenuSubContent",z4=k.forwardRef((t,e)=>{const n=k4(To,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=gd(To,t.__scopeMenu),o=fg(To,t.__scopeMenu),a=O4(F4,t.__scopeMenu),c=k.useRef(null),d=Zt(e,c);return l.jsx(jm.Provider,{scope:t.__scopeMenu,children:l.jsx(Pi,{present:r||s.open,children:l.jsx(jm.Slot,{scope:t.__scopeMenu,children:l.jsx(H2,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var p;o.isUsingKeyboardRef.current&&((p=c.current)==null||p.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ue(t.onFocusOutside,f=>{f.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ue(t.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Ue(t.onKeyDown,f=>{var m;const p=f.currentTarget.contains(f.target),g=Ree[o.dir].includes(f.key);p&&g&&(s.onOpenChange(!1),(m=a.trigger)==null||m.focus(),f.preventDefault())})})})})})});z4.displayName=F4;function B4(t){return t?"open":"closed"}function kx(t){return t==="indeterminate"}function Y2(t){return kx(t)?"indeterminate":t?"checked":"unchecked"}function Qee(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Zee(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function ete(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=Zee(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function tte(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],c=e[o],d=a.x,f=a.y,p=c.x,g=c.y;f>r!=g>r&&n<(p-d)*(r-f)/(g-f)+d&&(i=!i)}return i}function nte(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return tte(n,e)}function Pm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var rte=w4,ite=V2,ste=T4,ote=S4,ate=G2,lte=C4,cte=kv,ute=E4,dte=A4,fte=P4,hte=I4,pte=M4,mte=D4,gte=L4,yte=z4,Tv="DropdownMenu",[xte,nge]=Xs(Tv,[v4]),Xi=v4(),[vte,$4]=xte(Tv),U4=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,c=Xi(e),d=k.useRef(null),[f,p]=na({prop:i,defaultProp:s??!1,onChange:o,caller:Tv});return l.jsx(vte,{scope:e,triggerId:Vs(),triggerRef:d,contentId:Vs(),open:f,onOpenChange:p,onOpenToggle:k.useCallback(()=>p(g=>!g),[p]),modal:a,children:l.jsx(rte,{...c,open:f,onOpenChange:p,dir:r,modal:a,children:n})})};U4.displayName=Tv;var V4="DropdownMenuTrigger",W4=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=$4(V4,n),o=Xi(n);return l.jsx(ite,{asChild:!0,...o,children:l.jsx(vt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:lv(e,s.triggerRef),onPointerDown:Ue(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Ue(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});W4.displayName=V4;var bte="DropdownMenuPortal",q4=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Xi(e);return l.jsx(ste,{...r,...n})};q4.displayName=bte;var H4="DropdownMenuContent",G4=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$4(H4,n),s=Xi(n),o=k.useRef(!1);return l.jsx(ote,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Ue(t.onCloseAutoFocus,a=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Ue(t.onInteractOutside,a=>{const c=a.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;(!i.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});G4.displayName=H4;var wte="DropdownMenuGroup",kte=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Xi(n);return l.jsx(ate,{...i,...r,ref:e})});kte.displayName=wte;var Tte="DropdownMenuLabel",Ste=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Xi(n);return l.jsx(lte,{...i,...r,ref:e})});Ste.displayName=Tte;var Cte="DropdownMenuItem",K4=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Xi(n);return l.jsx(cte,{...i,...r,ref:e})});K4.displayName=Cte;var _te="DropdownMenuCheckboxItem",Ete=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Xi(n);return l.jsx(ute,{...i,...r,ref:e})});Ete.displayName=_te;var Nte="DropdownMenuRadioGroup",Ate=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Xi(n);return l.jsx(dte,{...i,...r,ref:e})});Ate.displayName=Nte;var jte="DropdownMenuRadioItem",Pte=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Xi(n);return l.jsx(fte,{...i,...r,ref:e})});Pte.displayName=jte;var Rte="DropdownMenuItemIndicator",Ite=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Xi(n);return l.jsx(hte,{...i,...r,ref:e})});Ite.displayName=Rte;var Mte="DropdownMenuSeparator",Dte=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Xi(n);return l.jsx(pte,{...i,...r,ref:e})});Dte.displayName=Mte;var Ote="DropdownMenuArrow",Lte=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Xi(n);return l.jsx(mte,{...i,...r,ref:e})});Lte.displayName=Ote;var Fte="DropdownMenuSubTrigger",zte=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Xi(n);return l.jsx(gte,{...i,...r,ref:e})});zte.displayName=Fte;var Bte="DropdownMenuSubContent",$te=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Xi(n);return l.jsx(yte,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$te.displayName=Bte;var Ute=U4,Vte=W4,Wte=q4,qte=G4,Hte=K4;function Gte({...t}){return l.jsx(Ute,{"data-slot":"dropdown-menu",...t})}function Kte({...t}){return l.jsx(Vte,{"data-slot":"dropdown-menu-trigger",...t})}function Yte({className:t,align:e="center",sideOffset:n=4,collisionPadding:r=8,avoidCollisions:i=!0,...s}){return l.jsx(Wte,{children:l.jsx(qte,{"data-slot":"dropdown-menu-content",align:e,sideOffset:n,collisionPadding:r,avoidCollisions:i,className:nt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...s})})}function Wy({className:t,inset:e,variant:n="default",...r}){return l.jsx(Hte,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:nt("focus:bg-accent focus:text-accent-foreground data-[variant=default]:hover:bg-[#614E41]/10 data-[variant=default]:focus:bg-[#614E41]/15 data-[variant=default]:active:bg-[#614E41]/20 data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}var Sv="Dialog",[Y4,rge]=Xs(Sv),[Xte,ia]=Y4(Sv),X4=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=k.useRef(null),c=k.useRef(null),[d,f]=na({prop:r,defaultProp:i??!1,onChange:s,caller:Sv});return l.jsx(Xte,{scope:e,triggerRef:a,contentRef:c,contentId:Vs(),titleId:Vs(),descriptionId:Vs(),open:d,onOpenChange:f,onOpenToggle:k.useCallback(()=>f(p=>!p),[f]),modal:o,children:n})};X4.displayName=Sv;var J4="DialogTrigger",Q4=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ia(J4,n),s=Zt(e,i.triggerRef);return l.jsx(vt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Q2(i.open),...r,ref:s,onClick:Ue(t.onClick,i.onOpenToggle)})});Q4.displayName=J4;var X2="DialogPortal",[Jte,Z4]=Y4(X2,{forceMount:void 0}),e3=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=ia(X2,e);return l.jsx(Jte,{scope:e,forceMount:n,children:k.Children.map(r,o=>l.jsx(Pi,{present:n||s.open,children:l.jsx(cg,{asChild:!0,container:i,children:o})}))})};e3.displayName=X2;var Tx="DialogOverlay",t3=k.forwardRef((t,e)=>{const n=Z4(Tx,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=ia(Tx,t.__scopeDialog);return s.modal?l.jsx(Pi,{present:r||s.open,children:l.jsx(Zte,{...i,ref:e})}):null});t3.displayName=Tx;var Qte=Xu("DialogOverlay.RemoveScroll"),Zte=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ia(Tx,n);return l.jsx(gv,{as:Qte,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(vt.div,{"data-state":Q2(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),id="DialogContent",n3=k.forwardRef((t,e)=>{const n=Z4(id,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=ia(id,t.__scopeDialog);return l.jsx(Pi,{present:r||s.open,children:s.modal?l.jsx(ene,{...i,ref:e}):l.jsx(tne,{...i,ref:e})})});n3.displayName=id;var ene=k.forwardRef((t,e)=>{const n=ia(id,t.__scopeDialog),r=k.useRef(null),i=Zt(e,n.contentRef,r);return k.useEffect(()=>{const s=r.current;if(s)return L2(s)},[]),l.jsx(r3,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ue(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Ue(t.onFocusOutside,s=>s.preventDefault())})}),tne=k.forwardRef((t,e)=>{const n=ia(id,t.__scopeDialog),r=k.useRef(!1),i=k.useRef(!1);return l.jsx(r3,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),r3=k.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=ia(id,n),c=k.useRef(null),d=Zt(e,c);return T2(),l.jsxs(l.Fragment,{children:[l.jsx(uv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(ag,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Q2(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(rne,{titleId:a.titleId}),l.jsx(sne,{contentRef:c,descriptionId:a.descriptionId})]})]})}),J2="DialogTitle",i3=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ia(J2,n);return l.jsx(vt.h2,{id:i.titleId,...r,ref:e})});i3.displayName=J2;var s3="DialogDescription",nne=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ia(s3,n);return l.jsx(vt.p,{id:i.descriptionId,...r,ref:e})});nne.displayName=s3;var o3="DialogClose",a3=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ia(o3,n);return l.jsx(vt.button,{type:"button",...r,ref:e,onClick:Ue(t.onClick,()=>i.onOpenChange(!1))})});a3.displayName=o3;function Q2(t){return t?"open":"closed"}var l3="DialogTitleWarning",[ige,c3]=gX(l3,{contentName:id,titleName:J2,docsSlug:"dialog"}),rne=({titleId:t})=>{const e=c3(l3),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return k.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},ine="DialogDescriptionWarning",sne=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${c3(ine).contentName}}.`;return k.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},u3=X4,d3=Q4,f3=e3,h3=t3,p3=n3,m3=i3,one=a3;function ane({...t}){return l.jsx(u3,{"data-slot":"sheet",...t})}function lne({...t}){return l.jsx(d3,{"data-slot":"sheet-trigger",...t})}function cne({...t}){return l.jsx(f3,{"data-slot":"sheet-portal",...t})}const une=k.forwardRef(({className:t,...e},n)=>l.jsx(h3,{ref:n,"data-slot":"sheet-overlay",className:nt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})),dne=k.forwardRef(({className:t,children:e,side:n="right",...r},i)=>l.jsxs(cne,{children:[l.jsx(une,{}),l.jsx(p3,{ref:i,"data-slot":"sheet-content",className:nt("bg-background text-foreground data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l border-border sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r border-border sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b border-border",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t border-border",t),...r,children:e})]}));function fne({className:t,...e}){return l.jsx("div",{"data-slot":"sheet-header",className:nt("flex flex-col gap-1.5 p-4",t),...e})}function hne({className:t,...e}){return l.jsx(m3,{"data-slot":"sheet-title",className:nt("text-foreground font-semibold text-lg",t),...e})}const Qf=k.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,ref:r,"data-slot":"input",className:nt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n}));Qf.displayName="Input";const pne=U2("inline-flex items-center justify-center rounded-full border px-2 py-1 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20",outline:"text-foreground [a&]:hover:bg-muted"}},defaultVariants:{variant:"default"}});function Qo({className:t,variant:e,asChild:n=!1,...r}){const i=n?S6:"span";return l.jsx(i,{"data-slot":"badge",className:nt(pne({variant:e}),t),...r})}const mne=()=>{const{connected:t,address:e,formatAddress:n,disconnect:r,connectWallet:i,provider:s,chainId:o}=_n(),{contracts:a,getContractInstance:c}=jn(),{theme:d,cycleTheme:f,getCurrentTheme:p}=rv(),{isMobile:g,isTablet:m,isInitialized:v}=gr(),x=$a(),T=dd(),[_,j]=k.useState(!1),[w,F]=k.useState(""),[z,B]=k.useState([]),[H,Y]=k.useState(!1),[W,q]=k.useState([]),[X,V]=k.useState(!1),[R,b]=k.useState(!1),A=k.useRef(null),D=k.useRef(null),M=k.useRef(!1),C=T.pathname==="/";T.pathname,k.useEffect(()=>{const K=()=>{V(window.scrollY>20)};return window.addEventListener("scroll",K),()=>window.removeEventListener("scroll",K)},[]),k.useEffect(()=>{if(!s||!o||M.current)return;(async()=>{var G,J;try{const ee=(J=(G=Gt[o])==null?void 0:G.contractAddresses)==null?void 0:J.protocolManager;if(!ee){q([]),M.current=!0;return}const se=await new Vt(ee,Ut.protocolManager,s).getAllPools();if(!se||se.length===0){q([]),M.current=!0;return}const pe=se.map(async be=>{try{const ie=await new Vt(be,Ut.pool,s).name();return{address:be,name:ie}}catch{return null}}),ue=(await Promise.all(pe)).filter(be=>be);q(ue),M.current=!0}catch(ee){console.error("Error fetching pools:",ee),q([]),M.current=!0}})()},[s,o]),k.useEffect(()=>{if(!_||!(w!=null&&w.trim())){B([]);return}Y(!0);const K=setTimeout(()=>{const G=w.trim().toLowerCase(),J=W.filter(ee=>(ee.name||"").trim().toLowerCase().includes(G)||(ee.address||"").trim().toLowerCase()===G||(ee.address||"").trim().toLowerCase().includes(G));B(J),Y(!1)},300);return()=>clearTimeout(K)},[w,_,W]);const I=K=>{const G=o&&Gt[o]?Gt[o].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):o||"",J=G?`/${G}/raffle/${K}`:`/raffle/${K}`;x(J),j(!1),F(""),B([])},E=async()=>{try{await i("metamask")}catch(K){console.error("Failed to connect wallet:",K)}},P=()=>{j(!_),_?(F(""),B([])):setTimeout(()=>{var K;return(K=A.current)==null?void 0:K.focus()},100)};k.useEffect(()=>{const K=G=>{D.current&&!D.current.contains(G.target)&&(j(!1),F(""),B([]))};return _&&document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[_]);const N=[],O=[{label:"Create Raffle Pool",href:"/create-raffle",icon:go},{label:"Profile",href:"/profile",icon:MP},{label:"Docs",href:"/docs",icon:Kf}],Z={initial:{y:-100,opacity:0},animate:{y:0,opacity:1,transition:{type:"spring",stiffness:100,damping:20,staggerChildren:.1}},scrolled:{backgroundColor:X?"hsl(var(--background) / 0.95)":"hsl(var(--background) / 0.8)",backdropFilter:X?"blur(12px)":"blur(8px)",borderBottom:X?"1px solid hsl(var(--border))":"1px solid transparent",transition:{duration:.3}}},$={initial:{y:-20,opacity:0},animate:{y:0,opacity:1}};return v?g||m?l.jsxs(ar.header,{variants:Z,initial:"initial",animate:"animate",whileInView:"scrolled",className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border",children:[l.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[l.jsx(ar.div,{variants:$,children:C?l.jsx(uu,{size:"sm"}):t?l.jsx(sc,{to:"/app",children:l.jsx(uu,{size:"sm",className:"hover:opacity-80 transition-opacity"})}):l.jsx(uu,{size:"sm"})}),l.jsxs("div",{className:"flex items-center gap-2",children:[!C&&l.jsx(ar.div,{variants:$,children:l.jsx(Ee,{variant:"ghost",size:"icon",onClick:P,className:"relative",children:l.jsx(Na,{className:"h-4 w-4"})})}),l.jsx(ar.div,{variants:$,children:l.jsxs(Ee,{variant:"ghost",size:"icon",onClick:f,title:`Current: ${p().name}`,children:[p().icon==="Sun"&&l.jsx(IP,{className:"h-4 w-4"}),p().icon==="Moon"&&l.jsx(PP,{className:"h-4 w-4"}),p().icon==="Monitor"&&l.jsx(jP,{className:"h-4 w-4"})]})}),l.jsx(ar.div,{variants:$,children:l.jsxs(ane,{open:R,onOpenChange:b,children:[l.jsx(lne,{asChild:!0,children:l.jsx(Ee,{variant:"ghost",size:"icon",children:l.jsx(k6,{className:"h-4 w-4"})})}),l.jsxs(dne,{side:"right",className:"w-[300px] sm:w-[400px]",children:[l.jsx(fne,{children:l.jsx(hne,{children:"Menu"})}),l.jsxs("div",{className:"flex flex-col gap-4 mt-6",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider px-3",children:"Navigation"}),l.jsx("nav",{className:"flex flex-col gap-1 px-2",children:O.map(K=>l.jsxs(Ee,{variant:"ghost",className:"justify-start gap-3 h-10",onClick:()=>{x(K.href),b(!1)},children:[l.jsx(K.icon,{className:"h-4 w-4"}),K.label]},K.href))})]}),l.jsx("div",{className:"border-t border-border"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider px-3",children:"Wallet"}),l.jsx("div",{className:"px-2 space-y-2",children:t?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[l.jsx(p1,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm font-mono flex-1",children:n(e)})]}),l.jsxs(Ee,{variant:"outline",className:"w-full justify-start gap-2 h-10",onClick:()=>{r(),b(!1)},children:[l.jsx(AP,{className:"h-4 w-4"}),"Disconnect"]})]}):l.jsxs(Ee,{className:"w-full gap-2 h-10",onClick:()=>{E(),b(!1)},children:[l.jsx(p1,{className:"h-4 w-4"}),"Connect Wallet"]})})]}),l.jsx("div",{className:"border-t border-border"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider px-3",children:"Network"}),l.jsx("div",{className:"px-2",children:l.jsx(oR,{})})]})]})]})]})})]})]}),l.jsx(Wk,{children:_&&l.jsx(ar.div,{ref:D,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-border bg-background",children:l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Qf,{ref:A,placeholder:"Search raffles...",value:w,onChange:K=>F(K.target.value),className:"pl-10 pr-10 focus:ring-0 focus:border-border focus-visible:ring-0 focus-visible:border-border"}),l.jsx(Ee,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8",onClick:()=>{j(!1),F("")},children:l.jsx(bi,{className:"h-4 w-4"})})]}),z.length>0&&l.jsx("div",{className:"mt-4 space-y-2 max-h-64 overflow-y-auto",children:z.map(K=>l.jsx(Ee,{variant:"ghost",className:"w-full justify-start h-auto p-3",onClick:()=>I(K.address),children:l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium",children:K.name}),l.jsxs("div",{className:"text-xs text-muted-foreground font-mono",children:[K.address.slice(0,10),"...",K.address.slice(-8)]})]})},K.address))})]})})})]}):l.jsx(ar.header,{variants:Z,initial:"initial",animate:"animate",whileInView:"scrolled",className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border transition-all duration-300",children:l.jsx("div",{className:"max-w-7xl mx-auto px-6",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs(ar.div,{variants:$,className:"flex items-center gap-8",children:[C?l.jsx("div",{className:"flex items-center gap-3 cursor-default select-none",children:l.jsx(uu,{size:"md"})}):t?l.jsx(sc,{to:"/app",className:"flex items-center gap-3 outline-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:l.jsx(uu,{size:"md",className:"hover:opacity-80 transition-opacity"})}):l.jsx("div",{className:"flex items-center gap-3 cursor-default select-none",children:l.jsx(uu,{size:"md"})}),!C&&l.jsx("nav",{className:"hidden lg:flex items-center gap-6",children:N.map(K=>l.jsx(ar.div,{variants:$,children:l.jsxs(Ee,{variant:"ghost",className:"gap-2 hover:bg-muted/50",onClick:()=>x(K.href),children:[K.label==="Create"?null:l.jsx(K.icon,{className:"h-4 w-4"}),K.label]})},K.href))})]}),l.jsxs(ar.div,{variants:$,className:"flex items-center gap-3",children:[!C&&l.jsx("div",{className:"relative",ref:D,children:l.jsx(Wk,{children:_?l.jsxs(ar.div,{initial:{width:40,opacity:0},animate:{width:300,opacity:1},exit:{width:40,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"relative",children:[l.jsx(Na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Qf,{ref:A,placeholder:"Search raffles...",value:w,onChange:K=>F(K.target.value),className:"pl-10 pr-10 bg-background/50 backdrop-blur-sm focus:ring-0 focus:border-border focus-visible:ring-0 focus-visible:border-border rounded-full"}),l.jsx(Ee,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8",onClick:P,children:l.jsx(bi,{className:"h-4 w-4"})}),z.length>0&&l.jsx(ar.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-2 bg-popover border border-border rounded-lg shadow-lg max-h-80 overflow-y-auto z-50",children:z.map(K=>l.jsx(Ee,{variant:"ghost",className:"w-full justify-start h-auto p-4 rounded-none border-b border-border last:border-b-0",onClick:()=>I(K.address),children:l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium",children:K.name}),l.jsxs("div",{className:"text-xs text-muted-foreground font-mono",children:[K.address.slice(0,10),"...",K.address.slice(-8)]})]})},K.address))})]}):l.jsx(Ee,{variant:"ghost",size:"icon",onClick:P,className:"hover:bg-muted/50",children:l.jsx(Na,{className:"h-4 w-4"})})})}),!C&&l.jsx(oR,{}),!C&&(t?l.jsxs(Gte,{children:[l.jsx(Kte,{asChild:!0,children:l.jsxs(Ee,{variant:"outline",className:"gap-2 hover:bg-muted/50",children:[l.jsx(p1,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:n(e)}),l.jsx(ra,{className:"h-4 w-4"})]})}),l.jsxs(Yte,{align:"end",className:"w-56",children:[l.jsxs(Wy,{onClick:()=>x("/profile"),children:[l.jsx(MP,{className:"mr-2 h-4 w-4"}),"Profile"]}),l.jsxs(Wy,{onClick:()=>x("/create-raffle"),children:[l.jsx(go,{className:"mr-2 h-4 w-4"}),"Create Raffle Pool"]}),l.jsxs(Wy,{onClick:()=>x("/docs"),children:[l.jsx(Kf,{className:"mr-2 h-4 w-4"}),"Docs"]}),l.jsxs(Wy,{onClick:r,children:[l.jsx(AP,{className:"mr-2 h-4 w-4"}),"Disconnect"]})]})]}):l.jsx(Ee,{onClick:E,className:"bg-primary text-primary-foreground hover:bg-primary/90",children:"Connect Wallet"})),l.jsxs(Ee,{variant:"ghost",size:"icon",onClick:f,title:`Current: ${p().name}`,className:"hover:bg-muted/50",children:[p().icon==="Sun"&&l.jsx(IP,{className:"h-4 w-4"}),p().icon==="Moon"&&l.jsx(PP,{className:"h-4 w-4"}),p().icon==="Monitor"&&l.jsx(jP,{className:"h-4 w-4"})]}),!C&&l.jsx(Ee,{variant:"ghost",size:"icon",className:"hover:bg-muted/50 relative",children:l.jsx(XY,{className:"h-4 w-4"})})]})]})})}):l.jsx(ar.header,{initial:{y:-100},animate:{y:0},className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md border-b border-border",children:l.jsx("div",{className:"flex items-center justify-between h-16 px-4",children:l.jsx(uu,{size:"sm"})})})};var Cv="Collapsible",[gne,g3]=Xs(Cv),[yne,Z2]=gne(Cv),y3=k.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:o,...a}=t,[c,d]=na({prop:r,defaultProp:i??!1,onChange:o,caller:Cv});return l.jsx(yne,{scope:n,disabled:s,contentId:Vs(),open:c,onOpenToggle:k.useCallback(()=>d(f=>!f),[d]),children:l.jsx(vt.div,{"data-state":tC(c),"data-disabled":s?"":void 0,...a,ref:e})})});y3.displayName=Cv;var x3="CollapsibleTrigger",v3=k.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=Z2(x3,n);return l.jsx(vt.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":tC(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:Ue(t.onClick,i.onOpenToggle)})});v3.displayName=x3;var eC="CollapsibleContent",b3=k.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Z2(eC,t.__scopeCollapsible);return l.jsx(Pi,{present:n||i.open,children:({present:s})=>l.jsx(xne,{...r,ref:e,present:s})})});b3.displayName=eC;var xne=k.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=t,o=Z2(eC,n),[a,c]=k.useState(r),d=k.useRef(null),f=Zt(e,d),p=k.useRef(0),g=p.current,m=k.useRef(0),v=m.current,x=o.open||a,T=k.useRef(x),_=k.useRef(void 0);return k.useEffect(()=>{const j=requestAnimationFrame(()=>T.current=!1);return()=>cancelAnimationFrame(j)},[]),Qr(()=>{const j=d.current;if(j){_.current=_.current||{transitionDuration:j.style.transitionDuration,animationName:j.style.animationName},j.style.transitionDuration="0s",j.style.animationName="none";const w=j.getBoundingClientRect();p.current=w.height,m.current=w.width,T.current||(j.style.transitionDuration=_.current.transitionDuration,j.style.animationName=_.current.animationName),c(r)}},[o.open,r]),l.jsx(vt.div,{"data-state":tC(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...s,ref:f,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:x&&i})});function tC(t){return t?"open":"closed"}var vne=y3,bne=v3,wne=b3,sa="Accordion",kne=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[nC,Tne,Sne]=cv(sa),[_v,sge]=Xs(sa,[Sne,g3]),rC=g3(),w3=ke.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,s=r;return l.jsx(nC.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?l.jsx(Nne,{...s,ref:e}):l.jsx(Ene,{...i,ref:e})})});w3.displayName=sa;var[k3,Cne]=_v(sa),[T3,_ne]=_v(sa,{collapsible:!1}),Ene=ke.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:s=!1,...o}=t,[a,c]=na({prop:n,defaultProp:r??"",onChange:i,caller:sa});return l.jsx(k3,{scope:t.__scopeAccordion,value:ke.useMemo(()=>a?[a]:[],[a]),onItemOpen:c,onItemClose:ke.useCallback(()=>s&&c(""),[s,c]),children:l.jsx(T3,{scope:t.__scopeAccordion,collapsible:s,children:l.jsx(S3,{...o,ref:e})})})}),Nne=ke.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o,a]=na({prop:n,defaultProp:r??[],onChange:i,caller:sa}),c=ke.useCallback(f=>a((p=[])=>[...p,f]),[a]),d=ke.useCallback(f=>a((p=[])=>p.filter(g=>g!==f)),[a]);return l.jsx(k3,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:l.jsx(T3,{scope:t.__scopeAccordion,collapsible:!0,children:l.jsx(S3,{...s,ref:e})})})}),[Ane,Ev]=_v(sa),S3=ke.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:s="vertical",...o}=t,a=ke.useRef(null),c=Zt(a,e),d=Tne(n),p=yh(i)==="ltr",g=Ue(t.onKeyDown,m=>{var Y;if(!kne.includes(m.key))return;const v=m.target,x=d().filter(W=>{var q;return!((q=W.ref.current)!=null&&q.disabled)}),T=x.findIndex(W=>W.ref.current===v),_=x.length;if(T===-1)return;m.preventDefault();let j=T;const w=0,F=_-1,z=()=>{j=T+1,j>F&&(j=w)},B=()=>{j=T-1,j<w&&(j=F)};switch(m.key){case"Home":j=w;break;case"End":j=F;break;case"ArrowRight":s==="horizontal"&&(p?z():B());break;case"ArrowDown":s==="vertical"&&z();break;case"ArrowLeft":s==="horizontal"&&(p?B():z());break;case"ArrowUp":s==="vertical"&&B();break}const H=j%_;(Y=x[H].ref.current)==null||Y.focus()});return l.jsx(Ane,{scope:n,disabled:r,direction:i,orientation:s,children:l.jsx(nC.Slot,{scope:n,children:l.jsx(vt.div,{...o,"data-orientation":s,ref:c,onKeyDown:r?void 0:g})})})}),Sx="AccordionItem",[jne,iC]=_v(Sx),C3=ke.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,s=Ev(Sx,n),o=Cne(Sx,n),a=rC(n),c=Vs(),d=r&&o.value.includes(r)||!1,f=s.disabled||t.disabled;return l.jsx(jne,{scope:n,open:d,disabled:f,triggerId:c,children:l.jsx(vne,{"data-orientation":s.orientation,"data-state":P3(d),...a,...i,ref:e,disabled:f,open:d,onOpenChange:p=>{p?o.onItemOpen(r):o.onItemClose(r)}})})});C3.displayName=Sx;var _3="AccordionHeader",E3=ke.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Ev(sa,n),s=iC(_3,n);return l.jsx(vt.h3,{"data-orientation":i.orientation,"data-state":P3(s.open),"data-disabled":s.disabled?"":void 0,...r,ref:e})});E3.displayName=_3;var gT="AccordionTrigger",N3=ke.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Ev(sa,n),s=iC(gT,n),o=_ne(gT,n),a=rC(n);return l.jsx(nC.ItemSlot,{scope:n,children:l.jsx(bne,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...a,...r,ref:e})})});N3.displayName=gT;var A3="AccordionContent",j3=ke.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Ev(sa,n),s=iC(A3,n),o=rC(n);return l.jsx(wne,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});j3.displayName=A3;function P3(t){return t?"open":"closed"}var R3=w3,I3=C3,M3=E3,D3=N3,O3=j3;function Pne({...t}){return l.jsx(R3,{"data-slot":"accordion",...t})}function Rne({className:t,...e}){return l.jsx(I3,{"data-slot":"accordion-item",className:nt("border-b last:border-b-0",t),...e})}function Ine({className:t,children:e,...n}){return l.jsx(M3,{className:"flex",children:l.jsxs(D3,{"data-slot":"accordion-trigger",className:nt("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,l.jsx(ra,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function Mne({className:t,children:e,...n}){return l.jsx(O3,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...n,children:l.jsx("div",{className:nt("pt-0 pb-4",t),children:e})})}const Dne=()=>{const[t,e]=k.useState(""),[n,r]=k.useState(!1),[i,s]=k.useState([]),o=dd(),a=new Date().getFullYear(),c=o.pathname==="/",d=[{title:"Product",items:[{label:"Explore Raffles",href:"/app",icon:Cm},{label:"Create Raffle",href:"/create-raffle",icon:px}]},{title:"Resources",items:[{label:"Documentation",href:"/docs",icon:lp},{label:"Blog",href:"#",icon:lp},{label:"Tutorials",href:"#",icon:lp}]},{title:"Company",items:[{label:"About Us",href:"#",icon:Yu},{label:"Careers",href:"#",icon:lp},{label:"Press Kit",href:"#",icon:lp}]},{title:"Legal",items:[{label:"Terms of Service",href:"#",icon:Jo},{label:"Privacy Policy",href:"#",icon:Jo},{label:"Cookie Policy",href:"#",icon:Jo},{label:"Compliance",href:"#",icon:Jo}]}],f=[{name:"Twitter",href:"https://twitter.com/droprdotfun",icon:Em,color:"hover:text-blue-400"},{name:"Discord",href:"#",icon:jf,color:"hover:text-indigo-400"},{name:"Telegram",href:"#",icon:_m,color:"hover:text-blue-500"},{name:"GitHub",href:"#",icon:iX,color:"hover:text-gray-400"},{name:"Medium",href:"https://medium.com/@rafflhub",icon:Cm,color:"hover:text-green-400"}],p=v=>{v.preventDefault(),t.trim()&&(r(!0),setTimeout(()=>{r(!1),e("")},3e3))},g={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},m={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return l.jsxs("footer",{className:"relative bg-background border-t border-border/50 overflow-hidden",children:[c&&l.jsx("div",{className:"relative border-b border-border/30 bg-muted/30",children:l.jsx("div",{className:"max-w-7xl mx-auto px-6 py-10",children:l.jsxs(ar.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"max-w-4xl mx-auto text-center",children:[l.jsx(Qo,{className:"mb-4 bg-primary text-primary-foreground border-0",children:"Stay Updated"}),l.jsx("h2",{className:"text-3xl font-bold mb-4 font-display",children:"Get the Latest Raffle Updates"}),l.jsx("p",{className:"text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Join our community to receive exclusive raffle announcements, platform updates, and special offers."}),l.jsxs("form",{onSubmit:p,className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[l.jsx(Qf,{type:"email",placeholder:"Enter your email",value:t,onChange:v=>e(v.target.value),required:!0,className:"flex-1 h-12 bg-background/50 backdrop-blur-sm border-border/50"}),l.jsx(Ee,{type:"submit",className:"h-12 px-8 bg-primary hover:bg-primary/90 text-primary-foreground",children:n?"Subscribed!":"Subscribe"})]}),n&&l.jsx(ar.p,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mt-4 text-success text-sm",children:" Successfully subscribed to newsletter!"})]})})}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:l.jsxs(ar.div,{variants:g,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[l.jsx(ar.div,{variants:m,className:"lg:col-span-1",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"text-xl font-bold font-display text-foreground",children:"Dropr"}),l.jsx(Qo,{variant:"secondary",className:"text-xs",children:"Beta"})]}),l.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"The go-to Web3 platform that solves the digital asset distribution problem for teams, creators, KOLs and their communities."}),l.jsx("div",{className:"flex items-center gap-3",children:f.map(v=>l.jsx(Ee,{variant:"ghost",size:"icon",asChild:v.href!=="#",className:nt("h-9 w-9 rounded-full transition-all duration-200 hover:scale-110",v.color),children:v.href==="#"?l.jsx("div",{title:v.name,className:"flex items-center justify-center h-full w-full",children:l.jsx(v.icon,{className:"h-4 w-4"})}):l.jsx("a",{href:v.href,target:"_blank",rel:"noopener noreferrer",title:v.name,children:l.jsx(v.icon,{className:"h-4 w-4"})})},v.name))})]})}),d.map((v,x)=>l.jsxs(ar.div,{variants:m,className:"hidden lg:block",children:[l.jsx("h4",{className:"font-semibold mb-4 font-display",children:v.title}),l.jsx("ul",{className:"space-y-3",children:v.items.map(T=>l.jsx("li",{children:T.href==="#"?l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors duration-200 group cursor-pointer",children:[l.jsx(T.icon,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),l.jsx("span",{className:"group-hover:translate-x-1 transition-transform duration-200",children:T.label})]}):l.jsxs(sc,{to:T.href,className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors duration-200 group",children:[l.jsx(T.icon,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),l.jsx("span",{className:"group-hover:translate-x-1 transition-transform duration-200",children:T.label})]})},T.label))})]},v.title)),l.jsx(ar.div,{variants:m,className:"lg:hidden col-span-1 md:col-span-2",children:l.jsx(Pne,{type:"multiple",value:i,onValueChange:s,children:d.map(v=>l.jsxs(Rne,{value:v.title,className:"border-b border-border/30",children:[l.jsx(Ine,{className:"text-left font-semibold font-display",children:v.title}),l.jsx(Mne,{children:l.jsx("ul",{className:"space-y-3 pt-2",children:v.items.map(x=>l.jsx("li",{children:x.href==="#"?l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors duration-200 group cursor-pointer",children:[l.jsx(x.icon,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),l.jsx("span",{children:x.label})]}):l.jsxs(sc,{to:x.href,className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors duration-200 group",children:[l.jsx(x.icon,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),l.jsx("span",{children:x.label})]})},x.label))})})]},v.title))})})]})}),l.jsx("div",{className:"border-t border-border/30",children:l.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:l.jsx(ar.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"flex flex-col md:flex-row items-center justify-between gap-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsxs("span",{children:[" ",a," Dropr. All rights reserved."]}),l.jsx("span",{className:"hidden md:inline",children:""}),l.jsxs("span",{className:"hidden md:inline-flex items-center gap-1",children:["Made with ",l.jsx(w6,{className:"h-3 w-3 text-red-500 fill-current"})," for Web3"]})]})})})})]})]})};function Xt({className:t,...e}){return l.jsx("div",{"data-slot":"card",className:nt("bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex flex-col gap-6 hover:border-border/80",t),...e})}function ds({className:t,...e}){return l.jsx("div",{"data-slot":"card-header",className:nt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 py-4 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function zs({className:t,...e}){return l.jsx("div",{"data-slot":"card-title",className:nt("leading-none font-semibold",t),...e})}function Df({className:t,...e}){return l.jsx("div",{"data-slot":"card-description",className:nt("text-muted-foreground text-sm",t),...e})}function Jt({className:t,...e}){return l.jsx("div",{"data-slot":"card-content",className:nt("px-6 py-6",t),...e})}class One extends ke.Component{constructor(n){super(n);by(this,"handleRetry",()=>{this.setState(n=>({hasError:!1,error:null,errorInfo:null,retryCount:n.retryCount+1}))});by(this,"handleGoHome",()=>{window.location.href="/"});by(this,"getBrowserSpecificErrorInfo",()=>{const{error:n,browserInfo:r}=this.state,i=(n==null?void 0:n.message)||(n==null?void 0:n.toString())||"Unknown error";if(i.includes("missing revert data")||i.includes("call exception")||i.includes("CALL_EXCEPTION"))return{title:"Network Connection Issue",message:`Your browser (${(r==null?void 0:r.name)||"unknown"}) is experiencing connectivity issues with the blockchain network.`,suggestions:["Check your internet connection","Try refreshing the page","Switch to a different network and back",(r==null?void 0:r.name)==="firefox"?"Firefox may need extra time - please be patient":"Try using Chrome for better compatibility"]};if(i.includes("MetaMask")||i.includes("wallet"))return{title:"Wallet Connection Issue",message:"There was a problem connecting to your wallet.",suggestions:["Make sure MetaMask is installed and unlocked","Try disconnecting and reconnecting your wallet","Refresh the page and try again"]};const s=["Refresh the page and try again"];return(r==null?void 0:r.name)==="firefox"?s.push("Firefox users may experience slower loading - please be patient"):(r==null?void 0:r.name)==="safari"?s.push("Safari users should ensure they have the latest version"):(r==null?void 0:r.name)==="edge"&&s.push("Edge users may need to clear browser cache"),r!=null&&r.isMobile&&s.push("Mobile users: ensure stable internet connection"),{title:"Something went wrong",message:"An unexpected error occurred while loading the application.",suggestions:s}});this.state={hasError:!1,error:null,errorInfo:null,retryCount:0,browserInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){const i=DS();this.setState({error:n,errorInfo:r,browserInfo:i}),console.group(" Error Boundary Caught Error"),console.log("Browser:",i),console.log("Error:",n),console.log("Error Info:",r),console.groupEnd(),window.gtag&&window.gtag("event","exception",{description:n.toString(),fatal:!1,custom_parameters:{browser:i.name,browser_version:i.version,is_mobile:i.isMobile}})}render(){if(this.state.hasError){const{isMobile:n=!1,fallbackComponent:r}=this.props,{error:i,retryCount:s,browserInfo:o}=this.state,a=this.getBrowserSpecificErrorInfo();return r?r(i,this.handleRetry,this.handleGoHome):n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:l.jsxs(Xt,{className:"w-full max-w-md",children:[l.jsxs(ds,{className:"text-center",children:[l.jsx(_P,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),l.jsx(zs,{className:"text-lg",children:a.title})]}),l.jsxs(Jt,{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground text-center",children:a.message}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-semibold text-sm",children:"Try these solutions:"}),l.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:a.suggestions.map((c,d)=>l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"mr-2",children:""}),l.jsx("span",{children:c})]},d))})]}),s<3&&l.jsxs(Ee,{onClick:this.handleRetry,className:"w-full",variant:"default",children:[l.jsx(Yf,{className:"h-4 w-4 mr-2"}),"Try Again"]}),l.jsxs(Ee,{onClick:this.handleGoHome,variant:"outline",className:"w-full",children:[l.jsx(NP,{className:"h-4 w-4 mr-2"}),"Go Home"]}),!1]})]})}):l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:l.jsxs(Xt,{className:"w-full max-w-2xl",children:[l.jsxs(ds,{className:"text-center",children:[l.jsx(_P,{className:"h-16 w-16 text-destructive mx-auto mb-6"}),l.jsx(zs,{className:"text-2xl",children:"Oops! Something went wrong"})]}),l.jsxs(Jt,{className:"space-y-6",children:[l.jsx("p",{className:"text-muted-foreground text-center",children:"The application encountered an unexpected error. This could be due to:"}),l.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 max-w-md mx-auto",children:[l.jsx("li",{children:" Network connectivity issues"}),l.jsx("li",{children:" Blockchain RPC provider problems"}),l.jsx("li",{children:" Temporary service disruption"}),l.jsx("li",{children:" Browser compatibility issues"})]}),l.jsxs("div",{className:"flex gap-4 justify-center",children:[s<3&&l.jsxs(Ee,{onClick:this.handleRetry,variant:"default",children:[l.jsx(Yf,{className:"h-4 w-4 mr-2"}),"Try Again"]}),l.jsxs(Ee,{onClick:this.handleGoHome,variant:"outline",children:[l.jsx(NP,{className:"h-4 w-4 mr-2"}),"Return Home"]})]}),!1]})]})})}return this.props.children}}class Lne{constructor(){this.cache=new Map,this.cacheTimeout=300*1e3,this.retryAttempts=3,this.retryDelay=1e3,this.performanceMetrics=new Map,this.errorMetrics=new Map}initialize(e,n){this.walletContext=e,this.contractContext=n}getPlatformConfig(e=!1){const n=typeof window<"u"&&(/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768),r=e||n;return{maxRafflesToFetch:r?25:30,timeout:r?2e4:12e3,concurrency:r?2:4,batchDelay:r?200:100,retryDelay:r?2e3:1e3,maxRetries:r?2:3,useCache:!0,retryOnFailure:!0,progressiveLoading:r,prioritizeRecent:r}}createContractInstance(e,n,r=!1){var i,s,o;try{if(!e||e===$e)throw new Error(`Invalid contract address for ${n}`);const a=Ut[n];if(!a)throw new Error(`ABI not found for ${n}`);const c=r?(i=this.walletContext)==null?void 0:i.provider:((s=this.walletContext)==null?void 0:s.signer)||((o=this.walletContext)==null?void 0:o.provider);if(!c)throw new Error("No signer or provider available");return new Vt(e,a,c)}catch(a){return console.error(`Error creating contract instance for ${n}:`,a),null}}areContractsAvailable(){const{chainId:e}=this.walletContext||{};if(!e||!Gt[e])return console.log(" Chain not supported or chainId missing:",{chainId:e}),!1;const n=Gt[e].contractAddresses,r=(n==null?void 0:n.protocolManager)&&n.protocolManager!=="0x..."&&(n==null?void 0:n.poolDeployer)&&n.poolDeployer!=="0x...";return console.log(" Contract availability check:",{chainId:e,isAvailable:r,protocolManager:n==null?void 0:n.protocolManager,poolDeployer:n==null?void 0:n.poolDeployer}),r}getProtocolManagerContract(){var n,r,i,s;const{chainId:e}=this.walletContext||{};if(!this.areContractsAvailable())return null;if((r=(n=this.contractContext)==null?void 0:n.contracts)!=null&&r.protocolManager)return this.contractContext.contracts.protocolManager;if(e&&((s=(i=Gt[e])==null?void 0:i.contractAddresses)!=null&&s.protocolManager)){const o=Gt[e].contractAddresses.protocolManager;return this.createContractInstance(o,"protocolManager",!0)}return null}async withRetry(e,n="",r={}){var d;const i=this.getPlatformConfig(r.isMobile),s=r.maxRetries||i.maxRetries,o=r.retryDelay||i.retryDelay,a=r.timeout||i.timeout;let c;(d=this.walletContext)==null||d.chainId;for(let f=1;f<=s;f++)try{return await Promise.race([e(),new Promise((p,g)=>setTimeout(()=>g(new Error("Operation timeout")),a))])}catch(p){if(c=p,console.warn(`${n} attempt ${f}/${s} failed:`,p.message),p.message.includes("user rejected")||p.message.includes("User denied")||p.code===4001||p.message.includes("Invalid contract address"))throw p;if(r.isMobile&&(p.message.includes("Network Error")||p.message.includes("CONNECTION ERROR")||p.code==="NETWORK_ERROR"))throw console.warn(`Mobile network error detected, skipping retries for ${n}`),p;if(f<s){const g=o*f;console.log(`Retrying ${n} in ${g}ms...`),await new Promise(m=>setTimeout(m,g))}}throw c}async getAllRaffleAddresses(){var o;const e=`raffleAddresses_${(o=this.walletContext)==null?void 0:o.chainId}`,n=this.cache.get(e);if(n&&Date.now()-n.timestamp<this.cacheTimeout)return n.data;if(!this.areContractsAvailable())throw new Error("CONTRACTS_NOT_AVAILABLE");const r=this.getProtocolManagerContract();if(!r)throw new Error("CONTRACTS_NOT_AVAILABLE");const s=(await this.withRetry(()=>r.getAllPools(),"getAllPools")||[]).slice().reverse();return this.cache.set(e,{data:s,timestamp:Date.now()}),s}async fetchRaffleDetails(e,n={}){var r,i,s,o,a,c,d,f,p,g,m,v,x,T,_,j,w,F,z,B,H,Y;try{const W=this.createContractInstance(e,"pool",!0);if(!W)return console.error(`Failed to create raffle contract for ${e}`),null;let q,X,V,R,b,A,D,M,C,I,E,P,N,O,Z,$,K,G,J;n.isMobile?(q=await this.withRetry(()=>W.name(),`name-${e}`,n),X=await this.withRetry(()=>W.creator(),`creator-${e}`,n),V=await this.withRetry(()=>W.startTime(),`startTime-${e}`,n),R=await this.withRetry(()=>W.duration(),`duration-${e}`,n),b=await this.withRetry(()=>W.slotFee(),`slotFee-${e}`,n),A=await this.withRetry(()=>W.slotLimit(),`slotLimit-${e}`,n),D=await this.withRetry(()=>W.winnersCount(),`winnersCount-${e}`,n),M=await this.withRetry(()=>W.maxSlotsPerParticipant(),`maxSlots-${e}`,n),C=await this.withRetry(()=>W.state(),`state-${e}`,n),I=await((r=W.isPrized)==null?void 0:r.call(W).catch(()=>!1)),E=await((i=W.prizeCollection)==null?void 0:i.call(W).catch(()=>$e)),P=await((s=W.prizeTokenId)==null?void 0:s.call(W).catch(()=>de.from(0))),N=await((o=W.erc20PrizeToken)==null?void 0:o.call(W).catch(()=>$e)),O=await((a=W.erc20PrizeAmount)==null?void 0:a.call(W).catch(()=>de.from(0))),Z=await((c=W.nativePrizeAmount)==null?void 0:c.call(W).catch(()=>de.from(0))),$=await((d=W.isCollabPool)==null?void 0:d.call(W).catch(se=>(console.warn(`isCollabPool failed for ${e}:`,se.message),!1))),K=await((f=W.standard)==null?void 0:f.call(W).catch(se=>{console.warn(`[RaffleService] standard failed for ${e}:`,se.message)})),G=await((p=W.usesCustomFee)==null?void 0:p.call(W).catch(se=>(console.warn(`[RaffleService] usesCustomFee failed for ${e}:`,se.message),!1))),J=await((g=W.isEscrowedPrize)==null?void 0:g.call(W).catch(se=>(console.warn(`[RaffleService] isEscrowedPrize failed for ${e}:`,se.message),!1)))):[q,X,V,R,b,A,D,M,C,I,E,P,N,O,Z,$,K,G,J]=await Promise.all([this.withRetry(()=>W.name(),`name-${e}`,n),this.withRetry(()=>W.creator(),`creator-${e}`,n),this.withRetry(()=>W.startTime(),`startTime-${e}`,n),this.withRetry(()=>W.duration(),`duration-${e}`,n),this.withRetry(()=>W.slotFee(),`slotFee-${e}`,n),this.withRetry(()=>W.slotLimit(),`slotLimit-${e}`,n),this.withRetry(()=>W.winnersCount(),`winnersCount-${e}`,n),this.withRetry(()=>W.maxSlotsPerParticipant(),`maxSlots-${e}`,n),this.withRetry(()=>W.state(),`state-${e}`,n),(m=W.isPrized)==null?void 0:m.call(W).catch(()=>!1),(v=W.prizeCollection)==null?void 0:v.call(W).catch(()=>$e),(x=W.prizeTokenId)==null?void 0:x.call(W).catch(()=>de.from(0)),(T=W.erc20PrizeToken)==null?void 0:T.call(W).catch(()=>$e),(_=W.erc20PrizeAmount)==null?void 0:_.call(W).catch(()=>de.from(0)),(j=W.nativePrizeAmount)==null?void 0:j.call(W).catch(()=>de.from(0)),(w=W.isCollabPool)==null?void 0:w.call(W).catch(se=>(console.warn(`[RaffleService] isCollabPool failed for ${e}:`,se.message),!1)),(F=W.standard)==null?void 0:F.call(W).catch(se=>{console.warn(`[RaffleService] standard failed for ${e}:`,se.message)}),(z=W.usesCustomFee)==null?void 0:z.call(W).catch(se=>(console.warn(`[RaffleService] usesCustomFee failed for ${e}:`,se.message),!1)),(B=W.isEscrowedPrize)==null?void 0:B.call(W).catch(se=>(console.warn(`[RaffleService] isEscrowedPrize failed for ${e}:`,se.message),!1))]);let ee;switch(C){case 0:ee="pending";break;case 1:ee="active";break;case 2:ee="drawing";break;case 3:ee="completed";break;case 4:ee="completed";break;case 5:ee="ended";break;default:ee="ended"}let ae;if([2,3,4,5,6,7,8].includes(C))try{const se=await((H=W.getActualPoolDuration)==null?void 0:H.call(W));se&&(ae=se.toNumber?se.toNumber():Number(se))}catch{}return{id:e,name:q,address:e,chainId:(Y=this.walletContext)==null?void 0:Y.chainId,creator:X,startTime:V.toNumber(),duration:R.toNumber(),actualDuration:ae,slotFee:b,ticketLimit:A.toNumber(),slotLimit:A.toNumber(),ticketsSold:0,winnersCount:D.toNumber(),maxTicketsPerParticipant:M.toNumber(),isPrized:!!I,prizeCollection:E,prizeTokenId:P?P.toNumber?P.toNumber():Number(P):0,stateNum:C,state:ee,erc20PrizeToken:N,erc20PrizeAmount:O,nativePrizeAmount:Z,isCollabPool:$,standard:K!=null?K.toNumber?K.toNumber():Number(K):void 0,usesCustomFee:G,isEscrowedPrize:J}}catch(W){return console.error(`Error fetching raffle details for ${e}:`,W),null}}async processBatch(e,n={}){const r=this.getPlatformConfig(n.isMobile),i=n.batchSize||r.concurrency,s=n.batchDelay||r.batchDelay,o=n.onProgress,a=[],c=Math.ceil(e.length/i);console.log(`Processing ${e.length} raffles in ${c} batches (${i} per batch)`);for(let d=0;d<e.length;d+=i){const f=Math.floor(d/i)+1,p=e.slice(d,d+i);console.log(`Processing batch ${f}/${c} (${p.length} raffles)`);try{if(n.isMobile&&r.progressiveLoading)for(const g of p)try{const m=await this.fetchRaffleDetails(g,{isMobile:!0});m&&(a.push(m),o&&o(a.length,e.length)),await new Promise(v=>setTimeout(v,50))}catch(m){console.warn(`Failed to fetch raffle ${g}:`,m.message)}else{const g=p.map(x=>this.fetchRaffleDetails(x,{isMobile:n.isMobile})),v=(await Promise.allSettled(g)).filter(x=>x.status==="fulfilled"&&x.value!==null).map(x=>x.value);a.push(...v),o&&o(a.length,e.length)}d+i<e.length&&(console.log(`Waiting ${s}ms before next batch...`),await new Promise(g=>setTimeout(g,s)))}catch(g){console.error(`Error processing batch ${f}:`,g)}}return console.log(`Successfully processed ${a.length}/${e.length} raffles`),a}async fetchAllRaffles(e={}){var c,d,f;const{isMobile:n=!1,useCache:r=!0,maxRaffles:i=null}=e,s=this.getPlatformConfig(n),o=`allRaffles_${(c=this.walletContext)==null?void 0:c.chainId}_${n}`,a=this.startTimer("fetchAllRaffles",{isMobile:n,chainId:(d=this.walletContext)==null?void 0:d.chainId});if(r){const p=this.cache.get(o);if(p&&Date.now()-p.timestamp<this.cacheTimeout)return this.endTimer(a,{fromCache:!0,rafflCount:p.data.length}),p.data}try{const p=this.startTimer("getAllRaffleAddresses",{isMobile:n}),g=await this.getAllRaffleAddresses();if(this.endTimer(p,{addressCount:(g==null?void 0:g.length)||0}),!g||g.length===0)return this.endTimer(a,{rafflCount:0,fromCache:!1}),[];const m=i||s.maxRafflesToFetch,v=g.slice(0,m),x=this.startTimer("processBatch",{isMobile:n,totalAddresses:v.length,batchSize:s.concurrency}),T=await this.processBatch(v,{...s,isMobile:n,onProgress:(_,j)=>{console.log(`[RaffleService] Progress: ${_}/${j} raffles processed (${(_/j*100).toFixed(1)}%)`)}});return this.endTimer(x,{successfulRaffles:T.length,failedRaffles:v.length-T.length}),r&&this.cache.set(o,{data:T,timestamp:Date.now()}),this.endTimer(a,{rafflCount:T.length,fromCache:!1,totalAddresses:g.length,processedAddresses:v.length}),T}catch(p){throw this.trackError("fetchAllRaffles",p,{isMobile:n,chainId:(f=this.walletContext)==null?void 0:f.chainId}),this.endTimer(a,{error:!0,errorMessage:p.message}),p}}async searchRaffles(e,n={}){const r=await this.fetchAllRaffles(n),i=e.trim().toLowerCase();return r.filter(s=>(s.name||"").toLowerCase().includes(i)||(s.address||"").toLowerCase().includes(i)||(s.address||"").toLowerCase()===i)}clearCache(){this.cache.clear()}startTimer(e,n={}){const r=`${e}_${Date.now()}_${Math.random()}`;return this.performanceMetrics.set(r,{operation:e,context:n,startTime:performance.now(),platform:n.isMobile?"mobile":"desktop"}),r}endTimer(e,n={}){const r=this.performanceMetrics.get(e);if(!r)return;const i=performance.now(),s=i-r.startTime,o={...r,endTime:i,duration:s,...n};if(console.log(`[RaffleService] ${r.operation} completed in ${s.toFixed(2)}ms`,{platform:r.platform,context:r.context,...n}),this.performanceMetrics.set(e,o),this.performanceMetrics.size>100){const a=this.performanceMetrics.keys().next().value;this.performanceMetrics.delete(a)}return o}trackError(e,n,r={}){const i=`${e}_${r.isMobile?"mobile":"desktop"}`,s=this.errorMetrics.get(i)||{count:0,errors:[]};s.count++,s.errors.push({timestamp:Date.now(),message:n.message,stack:n.stack,context:r}),s.errors.length>10&&(s.errors=s.errors.slice(-10)),this.errorMetrics.set(i,s),console.error(`[RaffleService] Error in ${e} (${r.isMobile?"mobile":"desktop"}):`,n)}getPerformanceStats(){const e={mobile:{operations:{},totalOperations:0,avgDuration:0},desktop:{operations:{},totalOperations:0,avgDuration:0}};let n=0,r=0;for(const i of this.performanceMetrics.values()){if(!i.duration)continue;const s=i.platform,o=i.operation;e[s].operations[o]||(e[s].operations[o]={count:0,totalDuration:0,avgDuration:0,minDuration:1/0,maxDuration:0});const a=e[s].operations[o];a.count++,a.totalDuration+=i.duration,a.avgDuration=a.totalDuration/a.count,a.minDuration=Math.min(a.minDuration,i.duration),a.maxDuration=Math.max(a.maxDuration,i.duration),e[s].totalOperations++,s==="mobile"?n+=i.duration:r+=i.duration}return e.mobile.avgDuration=e.mobile.totalOperations>0?n/e.mobile.totalOperations:0,e.desktop.avgDuration=e.desktop.totalOperations>0?r/e.desktop.totalOperations:0,e}getErrorStats(){const e={};for(const[n,r]of this.errorMetrics.entries())e[n]={count:r.count,lastError:r.errors[r.errors.length-1],recentErrors:r.errors.slice(-3)};return e}getCacheStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys()),performance:this.getPerformanceStats(),errors:this.getErrorStats()}}}const ga=new Lne,Fne=()=>{const[t,e]=k.useState(!1);return k.useEffect(()=>{},[!1]),{component:null}},zne=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),L3=()=>{zne&&console.log("Mobile keyboard fix initialized (simplified version)")},F3=()=>{console.log("Mobile keyboard fix cleanup (simplified version)")},Bne=L3,$ne=F3;let _1=null;function Une(){if(typeof window>"u"||typeof document>"u")return()=>{};const t={capture:!0},e=n=>{const r=n.target;if(!r||!(r instanceof Element))return;const i=r.closest('input[type="number"]');i&&(i.disabled||i.readOnly||i.dataset&&i.dataset.wheelAllowed==="true"||i.blur())};return document.addEventListener("wheel",e,t),_1=()=>{document.removeEventListener("wheel",e,t),_1=null},_1}function sl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z3(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var qs={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Zf={duration:.5,overwrite:!1,delay:0},sC,ci,Zn,vo=1e8,Ln=1/vo,yT=Math.PI*2,Vne=yT/4,Wne=0,B3=Math.sqrt,qne=Math.cos,Hne=Math.sin,Zr=function(e){return typeof e=="string"},mr=function(e){return typeof e=="function"},bl=function(e){return typeof e=="number"},oC=function(e){return typeof e>"u"},Ba=function(e){return typeof e=="object"},fs=function(e){return e!==!1},aC=function(){return typeof window<"u"},qy=function(e){return mr(e)||Zr(e)},$3=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ji=Array.isArray,xT=/(?:-?\.?\d|\.)+/gi,U3=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Tf=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,E1=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,V3=/[+-]=-?[.\d]+/,W3=/[^,'"\[\]\s]+/gi,Gne=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,cr,wa,vT,lC,Gs={},Cx={},q3,H3=function(e){return(Cx=eh(e,Gs))&&gs},cC=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},Rm=function(e,n){return!n&&console.warn(e)},G3=function(e,n){return e&&(Gs[e]=n)&&Cx&&(Cx[e]=n)||Gs},Im=function(){return 0},Kne={suppressEvents:!0,isStart:!0,kill:!1},B0={suppressEvents:!0,kill:!1},Yne={suppressEvents:!0},uC={},mc=[],bT={},K3,js={},N1={},uR=30,$0=[],dC="",fC=function(e){var n=e[0],r,i;if(Ba(n)||mr(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(i=$0.length;i--&&!$0[i].targetTest(n););r=$0[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new xL(e[i],r)))||e.splice(i,1);return e},Fu=function(e){return e._gsap||fC(bo(e))[0]._gsap},Y3=function(e,n,r){return(r=e[n])&&mr(r)?e[n]():oC(r)&&e.getAttribute&&e.getAttribute(n)||r},hs=function(e,n){return(e=e.split(",")).forEach(n)||e},kr=function(e){return Math.round(e*1e5)/1e5||0},Ir=function(e){return Math.round(e*1e7)/1e7||0},Of=function(e,n){var r=n.charAt(0),i=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},Xne=function(e,n){for(var r=n.length,i=0;e.indexOf(n[i])<0&&++i<r;);return i<r},_x=function(){var e=mc.length,n=mc.slice(0),r,i;for(bT={},mc.length=0,r=0;r<e;r++)i=n[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},hC=function(e){return!!(e._initted||e._startAt||e.add)},X3=function(e,n,r,i){mc.length&&!ci&&_x(),e.render(n,r,!!(ci&&n<0&&hC(e))),mc.length&&!ci&&_x()},J3=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(W3).length<2?n:Zr(e)?e.trim():e},Q3=function(e){return e},Ks=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},Jne=function(e){return function(n,r){for(var i in r)i in n||i==="duration"&&e||i==="ease"||(n[i]=r[i])}},eh=function(e,n){for(var r in n)e[r]=n[r];return e},dR=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Ba(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},Ex=function(e,n){var r={},i;for(i in e)i in n||(r[i]=e[i]);return r},Vp=function(e){var n=e.parent||cr,r=e.keyframes?Jne(ji(e.keyframes)):Ks;if(fs(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},Qne=function(e,n){for(var r=e.length,i=r===n.length;i&&r--&&e[r]===n[r];);return r<0},Z3=function(e,n,r,i,s){var o=e[i],a;if(s)for(a=n[s];o&&o[s]>a;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[i]=n,n._prev=o,n.parent=n._dp=e,n},Nv=function(e,n,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=n._prev,o=n._next;s?s._next=o:e[r]===n&&(e[r]=o),o?o._prev=s:e[i]===n&&(e[i]=s),n._next=n._prev=n.parent=null},Tc=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},zu=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},Zne=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},wT=function(e,n,r,i){return e._startAt&&(ci?e._startAt.revert(B0):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,i))},ere=function t(e){return!e||e._ts&&t(e.parent)},fR=function(e){return e._repeat?th(e._tTime,e=e.duration()+e._rDelay)*e:0},th=function(e,n){var r=Math.floor(e=Ir(e/n));return e&&r===e?r-1:r},Nx=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},Av=function(e){return e._end=Ir(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ln)||0))},jv=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Ir(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),Av(e),r._dirty||zu(r,e)),e},eL=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=Nx(e.rawTime(),n),(!n._dur||hg(0,n.totalDuration(),r)-n._tTime>Ln)&&n.render(r,!0)),zu(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Ln}},Aa=function(e,n,r,i){return n.parent&&Tc(n),n._start=Ir((bl(r)?r:r||e!==cr?fo(e,r,n):e._time)+n._delay),n._end=Ir(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),Z3(e,n,"_first","_last",e._sort?"_start":0),kT(n)||(e._recent=n),i||eL(e,n),e._ts<0&&jv(e,e._tTime),e},tL=function(e,n){return(Gs.ScrollTrigger||cC("scrollTrigger",n))&&Gs.ScrollTrigger.create(n,e)},nL=function(e,n,r,i,s){if(mC(e,n,s),!e._initted)return 1;if(!r&&e._pt&&!ci&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&K3!==Is.frame)return mc.push(e),e._lazy=[s,i],1},tre=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},kT=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},nre=function(e,n,r,i){var s=e.ratio,o=n<0||!n&&(!e._start&&tre(e)&&!(!e._initted&&kT(e))||(e._ts<0||e._dp._ts<0)&&!kT(e))?0:1,a=e._rDelay,c=0,d,f,p;if(a&&e._repeat&&(c=hg(0,e._tDur,n),f=th(c,a),e._yoyo&&f&1&&(o=1-o),f!==th(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||ci||i||e._zTime===Ln||!n&&e._zTime){if(!e._initted&&nL(e,n,i,r,c))return;for(p=e._zTime,e._zTime=n||(r?Ln:0),r||(r=n&&!p),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=c,d=e._pt;d;)d.r(o,d.d),d=d._next;n<0&&wT(e,n,r,!0),e._onUpdate&&!r&&Bs(e,"onUpdate"),c&&e._repeat&&!r&&e.parent&&Bs(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&Tc(e,1),!r&&!ci&&(Bs(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},rre=function(e,n,r){var i;if(r>n)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},nh=function(e,n,r,i){var s=e._repeat,o=Ir(n)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Ir(o*(s+1)+e._rDelay*s):o,a>0&&!i&&jv(e,e._tTime=e._tDur*a),e.parent&&Av(e),r||zu(e.parent,e),e},hR=function(e){return e instanceof Hi?zu(e):nh(e,e._dur)},ire={_start:0,endTime:Im,totalDuration:Im},fo=function t(e,n,r){var i=e.labels,s=e._recent||ire,o=e.duration()>=vo?s.endTime(!1):e._dur,a,c,d;return Zr(n)&&(isNaN(n)||n in i)?(c=n.charAt(0),d=n.substr(-1)==="%",a=n.indexOf("="),c==="<"||c===">"?(a>=0&&(n=n.replace(/=/,"")),(c==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(n.substr(1))||0)*(d?(a<0?s:r).totalDuration()/100:1)):a<0?(n in i||(i[n]=o),i[n]):(c=parseFloat(n.charAt(a-1)+n.substr(a+1)),d&&r&&(c=c/100*(ji(r)?r[0]:r).totalDuration()),a>1?t(e,n.substr(0,a-1),r)+c:o+c)):n==null?o:+n},Wp=function(e,n,r){var i=bl(n[1]),s=(i?2:1)+(e<2?0:1),o=n[s],a,c;if(i&&(o.duration=n[1]),o.parent=r,e){for(a=o,c=r;c&&!("immediateRender"in a);)a=c.vars.defaults||{},c=fs(c.vars.inherit)&&c.parent;o.immediateRender=fs(a.immediateRender),e<2?o.runBackwards=1:o.startAt=n[s-1]}return new Rr(n[0],o,n[s+1])},Rc=function(e,n){return e||e===0?n(e):n},hg=function(e,n,r){return r<e?e:r>n?n:r},Si=function(e,n){return!Zr(e)||!(n=Gne.exec(e))?"":n[1]},sre=function(e,n,r){return Rc(r,function(i){return hg(e,n,i)})},TT=[].slice,rL=function(e,n){return e&&Ba(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&Ba(e[0]))&&!e.nodeType&&e!==wa},ore=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return Zr(i)&&!n||rL(i,1)?(s=r).push.apply(s,bo(i)):r.push(i)})||r},bo=function(e,n,r){return Zn&&!n&&Zn.selector?Zn.selector(e):Zr(e)&&!r&&(vT||!rh())?TT.call((n||lC).querySelectorAll(e),0):ji(e)?ore(e,r):rL(e)?TT.call(e,0):e?[e]:[]},ST=function(e){return e=bo(e)[0]||Rm("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return bo(n,r.querySelectorAll?r:r===e?Rm("Invalid scope")||lC.createElement("div"):e)}},iL=function(e){return e.sort(function(){return .5-Math.random()})},sL=function(e){if(mr(e))return e;var n=Ba(e)?e:{each:e},r=Bu(n.ease),i=n.from||0,s=parseFloat(n.base)||0,o={},a=i>0&&i<1,c=isNaN(i)||a,d=n.axis,f=i,p=i;return Zr(i)?f=p={center:.5,edges:.5,end:1}[i]||0:!a&&c&&(f=i[0],p=i[1]),function(g,m,v){var x=(v||n).length,T=o[x],_,j,w,F,z,B,H,Y,W;if(!T){if(W=n.grid==="auto"?0:(n.grid||[1,vo])[1],!W){for(H=-vo;H<(H=v[W++].getBoundingClientRect().left)&&W<x;);W<x&&W--}for(T=o[x]=[],_=c?Math.min(W,x)*f-.5:i%W,j=W===vo?0:c?x*p/W-.5:i/W|0,H=0,Y=vo,B=0;B<x;B++)w=B%W-_,F=j-(B/W|0),T[B]=z=d?Math.abs(d==="y"?F:w):B3(w*w+F*F),z>H&&(H=z),z<Y&&(Y=z);i==="random"&&iL(T),T.max=H-Y,T.min=Y,T.v=x=(parseFloat(n.amount)||parseFloat(n.each)*(W>x?x-1:d?d==="y"?x/W:W:Math.max(W,x/W))||0)*(i==="edges"?-1:1),T.b=x<0?s-x:s,T.u=Si(n.amount||n.each)||0,r=r&&x<0?mL(r):r}return x=(T[g]-T.min)/T.max||0,Ir(T.b+(r?r(x):x)*T.v)+T.u}},CT=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=Ir(Math.round(parseFloat(r)/e)*e*n);return(i-i%1)/n+(bl(r)?0:Si(r))}},oL=function(e,n){var r=ji(e),i,s;return!r&&Ba(e)&&(i=r=e.radius||vo,e.values?(e=bo(e.values),(s=!bl(e[0]))&&(i*=i)):e=CT(e.increment)),Rc(n,r?mr(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),c=parseFloat(s?o.y:0),d=vo,f=0,p=e.length,g,m;p--;)s?(g=e[p].x-a,m=e[p].y-c,g=g*g+m*m):g=Math.abs(e[p]-a),g<d&&(d=g,f=p);return f=!i||d<=i?e[f]:o,s||f===o||bl(o)?f:f+Si(o)}:CT(e))},aL=function(e,n,r,i){return Rc(ji(e)?!n:r===!0?!!(r=0):!i,function(){return ji(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*i)/i})},are=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduce(function(s,o){return o(s)},i)}},lre=function(e,n){return function(r){return e(parseFloat(r))+(n||Si(r))}},cre=function(e,n,r){return cL(e,n,0,1,r)},lL=function(e,n,r){return Rc(r,function(i){return e[~~n(i)]})},ure=function t(e,n,r){var i=n-e;return ji(e)?lL(e,t(0,e.length),n):Rc(r,function(s){return(i+(s-e)%i)%i+e})},dre=function t(e,n,r){var i=n-e,s=i*2;return ji(e)?lL(e,t(0,e.length-1),n):Rc(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},Mm=function(e){for(var n=0,r="",i,s,o,a;~(i=e.indexOf("random(",n));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?W3:xT),r+=e.substr(n,i-n)+aL(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),n=o+1;return r+e.substr(n,e.length-n)},cL=function(e,n,r,i,s){var o=n-e,a=i-r;return Rc(s,function(c){return r+((c-e)/o*a||0)})},fre=function t(e,n,r,i){var s=isNaN(e+n)?0:function(m){return(1-m)*e+m*n};if(!s){var o=Zr(e),a={},c,d,f,p,g;if(r===!0&&(i=1)&&(r=null),o)e={p:e},n={p:n};else if(ji(e)&&!ji(n)){for(f=[],p=e.length,g=p-2,d=1;d<p;d++)f.push(t(e[d-1],e[d]));p--,s=function(v){v*=p;var x=Math.min(g,~~v);return f[x](v-x)},r=n}else i||(e=eh(ji(e)?[]:{},e));if(!f){for(c in n)pC.call(a,e,c,"get",n[c]);s=function(v){return xC(v,a)||(o?e.p:e)}}}return Rc(r,s)},pR=function(e,n,r){var i=e.labels,s=vo,o,a,c;for(o in i)a=i[o]-n,a<0==!!r&&a&&s>(a=Math.abs(a))&&(c=o,s=a);return c},Bs=function(e,n,r){var i=e.vars,s=i[n],o=Zn,a=e._ctx,c,d,f;if(s)return c=i[n+"Params"],d=i.callbackScope||e,r&&mc.length&&_x(),a&&(Zn=a),f=c?s.apply(d,c):s.call(d),Zn=o,f},_p=function(e){return Tc(e),e.scrollTrigger&&e.scrollTrigger.kill(!!ci),e.progress()<1&&Bs(e,"onInterrupt"),e},Sf,uL=[],dL=function(e){if(e)if(e=!e.name&&e.default||e,aC()||e.headless){var n=e.name,r=mr(e),i=n&&!r&&e.init?function(){this._props=[]}:e,s={init:Im,render:xC,add:pC,kill:Nre,modifier:Ere,rawVars:0},o={targetTest:0,get:0,getSetter:yC,aliases:{},register:0};if(rh(),e!==i){if(js[n])return;Ks(i,Ks(Ex(e,s),o)),eh(i.prototype,eh(s,Ex(e,o))),js[i.prop=n]=i,e.targetTest&&($0.push(i),uC[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}G3(n,i),e.register&&e.register(gs,i,ps)}else uL.push(e)},On=255,Ep={aqua:[0,On,On],lime:[0,On,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,On],navy:[0,0,128],white:[On,On,On],olive:[128,128,0],yellow:[On,On,0],orange:[On,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[On,0,0],pink:[On,192,203],cyan:[0,On,On],transparent:[On,On,On,0]},A1=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*On+.5|0},fL=function(e,n,r){var i=e?bl(e)?[e>>16,e>>8&On,e&On]:0:Ep.black,s,o,a,c,d,f,p,g,m,v;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Ep[e])i=Ep[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&On,i&On,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&On,e&On]}else if(e.substr(0,3)==="hsl"){if(i=v=e.match(xT),!n)c=+i[0]%360/360,d=+i[1]/100,f=+i[2]/100,o=f<=.5?f*(d+1):f+d-f*d,s=f*2-o,i.length>3&&(i[3]*=1),i[0]=A1(c+1/3,s,o),i[1]=A1(c,s,o),i[2]=A1(c-1/3,s,o);else if(~e.indexOf("="))return i=e.match(U3),r&&i.length<4&&(i[3]=1),i}else i=e.match(xT)||Ep.transparent;i=i.map(Number)}return n&&!v&&(s=i[0]/On,o=i[1]/On,a=i[2]/On,p=Math.max(s,o,a),g=Math.min(s,o,a),f=(p+g)/2,p===g?c=d=0:(m=p-g,d=f>.5?m/(2-p-g):m/(p+g),c=p===s?(o-a)/m+(o<a?6:0):p===o?(a-s)/m+2:(s-o)/m+4,c*=60),i[0]=~~(c+.5),i[1]=~~(d*100+.5),i[2]=~~(f*100+.5)),r&&i.length<4&&(i[3]=1),i},hL=function(e){var n=[],r=[],i=-1;return e.split(gc).forEach(function(s){var o=s.match(Tf)||[];n.push.apply(n,o),r.push(i+=o.length+1)}),n.c=r,n},mR=function(e,n,r){var i="",s=(e+i).match(gc),o=n?"hsla(":"rgba(",a=0,c,d,f,p;if(!s)return e;if(s=s.map(function(g){return(g=fL(g,n,1))&&o+(n?g[0]+","+g[1]+"%,"+g[2]+"%,"+g[3]:g.join(","))+")"}),r&&(f=hL(e),c=r.c,c.join(i)!==f.c.join(i)))for(d=e.replace(gc,"1").split(Tf),p=d.length-1;a<p;a++)i+=d[a]+(~c.indexOf(a)?s.shift()||o+"0,0,0,0)":(f.length?f:s.length?s:r).shift());if(!d)for(d=e.split(gc),p=d.length-1;a<p;a++)i+=d[a]+s[a];return i+d[p]},gc=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Ep)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),hre=/hsl[a]?\(/,pL=function(e){var n=e.join(" "),r;if(gc.lastIndex=0,gc.test(n))return r=hre.test(n),e[1]=mR(e[1],r),e[0]=mR(e[0],r,hL(e[1])),!0},Dm,Is=function(){var t=Date.now,e=500,n=33,r=t(),i=r,s=1e3/240,o=s,a=[],c,d,f,p,g,m,v=function x(T){var _=t()-i,j=T===!0,w,F,z,B;if((_>e||_<0)&&(r+=_-n),i+=_,z=i-r,w=z-o,(w>0||j)&&(B=++p.frame,g=z-p.time*1e3,p.time=z=z/1e3,o+=w+(w>=s?4:s-w),F=1),j||(c=d(x)),F)for(m=0;m<a.length;m++)a[m](z,g,B,T)};return p={time:0,frame:0,tick:function(){v(!0)},deltaRatio:function(T){return g/(1e3/(T||60))},wake:function(){q3&&(!vT&&aC()&&(wa=vT=window,lC=wa.document||{},Gs.gsap=gs,(wa.gsapVersions||(wa.gsapVersions=[])).push(gs.version),H3(Cx||wa.GreenSockGlobals||!wa.gsap&&wa||{}),uL.forEach(dL)),f=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&p.sleep(),d=f||function(T){return setTimeout(T,o-p.time*1e3+1|0)},Dm=1,v(2))},sleep:function(){(f?cancelAnimationFrame:clearTimeout)(c),Dm=0,d=Im},lagSmoothing:function(T,_){e=T||1/0,n=Math.min(_||33,e)},fps:function(T){s=1e3/(T||240),o=p.time*1e3+s},add:function(T,_,j){var w=_?function(F,z,B,H){T(F,z,B,H),p.remove(w)}:T;return p.remove(T),a[j?"unshift":"push"](w),rh(),w},remove:function(T,_){~(_=a.indexOf(T))&&a.splice(_,1)&&m>=_&&m--},_listeners:a},p}(),rh=function(){return!Dm&&Is.wake()},hn={},pre=/^[\d.\-M][\d.\-,\s]/,mre=/["']/g,gre=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,c,d;s<o;s++)c=r[s],a=s!==o-1?c.lastIndexOf(","):c.length,d=c.substr(0,a),n[i]=isNaN(d)?d.replace(mre,"").trim():+d,i=c.substr(a+1).trim();return n},yre=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n);return e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)},xre=function(e){var n=(e+"").split("("),r=hn[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[gre(n[1])]:yre(e).split(",").map(J3)):hn._CE&&pre.test(e)?hn._CE("",e):r},mL=function(e){return function(n){return 1-e(1-n)}},gL=function t(e,n){for(var r=e._first,i;r;)r instanceof Hi?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},Bu=function(e,n){return e&&(mr(e)?e:hn[e]||xre(e))||n},yd=function(e,n,r,i){r===void 0&&(r=function(c){return 1-n(1-c)}),i===void 0&&(i=function(c){return c<.5?n(c*2)/2:1-n((1-c)*2)/2});var s={easeIn:n,easeOut:r,easeInOut:i},o;return hs(e,function(a){hn[a]=Gs[a]=s,hn[o=a.toLowerCase()]=r;for(var c in s)hn[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=hn[a+"."+c]=s[c]}),s},yL=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},j1=function t(e,n,r){var i=n>=1?n:1,s=(r||(e?.3:.45))/(n<1?n:1),o=s/yT*(Math.asin(1/i)||0),a=function(f){return f===1?1:i*Math.pow(2,-10*f)*Hne((f-o)*s)+1},c=e==="out"?a:e==="in"?function(d){return 1-a(1-d)}:yL(a);return s=yT/s,c.config=function(d,f){return t(e,d,f)},c},P1=function t(e,n){n===void 0&&(n=1.70158);var r=function(o){return o?--o*o*((n+1)*o+n)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:yL(r);return i.config=function(s){return t(e,s)},i};hs("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;yd(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});hn.Linear.easeNone=hn.none=hn.Linear.easeIn;yd("Elastic",j1("in"),j1("out"),j1());(function(t,e){var n=1/e,r=2*n,i=2.5*n,s=function(a){return a<n?t*a*a:a<r?t*Math.pow(a-1.5/e,2)+.75:a<i?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};yd("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);yd("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});yd("Circ",function(t){return-(B3(1-t*t)-1)});yd("Sine",function(t){return t===1?1:-qne(t*Vne)+1});yd("Back",P1("in"),P1("out"),P1());hn.SteppedEase=hn.steps=Gs.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,i=e+(n?0:1),s=n?1:0,o=1-Ln;return function(a){return((i*hg(0,o,a)|0)+s)*r}}};Zf.ease=hn["quad.out"];hs("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return dC+=t+","+t+"Params,"});var xL=function(e,n){this.id=Wne++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:Y3,this.set=n?n.getSetter:yC},Om=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,nh(this,+n.duration,1,1),this.data=n.data,Zn&&(this._ctx=Zn,Zn.data.push(this)),Dm||Is.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,nh(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(rh(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(jv(this,r),!s._dp||s.parent||eL(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Aa(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Ln||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),X3(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+fR(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+fR(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?th(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-Ln?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?Nx(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Ln?0:this._rts,this.totalTime(hg(-Math.abs(this._delay),this.totalDuration(),s),i!==!1),Av(this),Zne(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(rh(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ln&&(this._tTime-=Ln)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Aa(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(fs(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Nx(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=Yne);var i=ci;return ci=r,hC(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),ci=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,hR(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,hR(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(fo(this,r),fs(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,fs(i)),this._dur||(this._zTime=-Ln),this},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Ln:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ln,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-Ln)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=mr(r)?r:Q3,a=function(){var d=i.then;i.then=null,mr(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=d),s(o),i.then=d};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){_p(this)},t}();Ks(Om.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ln,_prom:0,_ps:!1,_rts:1});var Hi=function(t){z3(e,t);function e(r,i){var s;return r===void 0&&(r={}),s=t.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=fs(r.sortChildren),cr&&Aa(r.parent||cr,sl(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&tL(sl(s),r.scrollTrigger),s}var n=e.prototype;return n.to=function(i,s,o){return Wp(0,arguments,this),this},n.from=function(i,s,o){return Wp(1,arguments,this),this},n.fromTo=function(i,s,o,a){return Wp(2,arguments,this),this},n.set=function(i,s,o){return s.duration=0,s.parent=this,Vp(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Rr(i,s,fo(this,o),1),this},n.call=function(i,s,o){return Aa(this,Rr.delayedCall(0,i,s),o)},n.staggerTo=function(i,s,o,a,c,d,f){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=d,o.onCompleteParams=f,o.parent=this,new Rr(i,o,fo(this,c)),this},n.staggerFrom=function(i,s,o,a,c,d,f){return o.runBackwards=1,Vp(o).immediateRender=fs(o.immediateRender),this.staggerTo(i,s,o,a,c,d,f)},n.staggerFromTo=function(i,s,o,a,c,d,f,p){return a.startAt=o,Vp(a).immediateRender=fs(a.immediateRender),this.staggerTo(i,s,a,c,d,f,p)},n.render=function(i,s,o){var a=this._time,c=this._dirty?this.totalDuration():this._tDur,d=this._dur,f=i<=0?0:Ir(i),p=this._zTime<0!=i<0&&(this._initted||!d),g,m,v,x,T,_,j,w,F,z,B,H;if(this!==cr&&f>c&&i>=0&&(f=c),f!==this._tTime||o||p){if(a!==this._time&&d&&(f+=this._time-a,i+=this._time-a),g=f,F=this._start,w=this._ts,_=!w,p&&(d||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(B=this._yoyo,T=d+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(T*100+i,s,o);if(g=Ir(f%T),f===c?(x=this._repeat,g=d):(z=Ir(f/T),x=~~z,x&&x===z&&(g=d,x--),g>d&&(g=d)),z=th(this._tTime,T),!a&&this._tTime&&z!==x&&this._tTime-z*T-this._dur<=0&&(z=x),B&&x&1&&(g=d-g,H=1),x!==z&&!this._lock){var Y=B&&z&1,W=Y===(B&&x&1);if(x<z&&(Y=!Y),a=Y?0:f%d?d:f,this._lock=1,this.render(a||(H?0:Ir(x*T)),s,!d)._lock=0,this._tTime=f,!s&&this.parent&&Bs(this,"onRepeat"),this.vars.repeatRefresh&&!H&&(this.invalidate()._lock=1),a&&a!==this._time||_!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,c=this._tDur,W&&(this._lock=2,a=Y?d:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!H&&this.invalidate()),this._lock=0,!this._ts&&!_)return this;gL(this,H)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(j=rre(this,Ir(a),Ir(g)),j&&(f-=g-(g=j._start))),this._tTime=f,this._time=g,this._act=!w,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&f&&!s&&!z&&(Bs(this,"onStart"),this._tTime!==f))return this;if(g>=a&&i>=0)for(m=this._first;m;){if(v=m._next,(m._act||g>=m._start)&&m._ts&&j!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(g-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(g-m._start)*m._ts,s,o),g!==this._time||!this._ts&&!_){j=0,v&&(f+=this._zTime=-Ln);break}}m=v}else{m=this._last;for(var q=i<0?i:g;m;){if(v=m._prev,(m._act||q<=m._end)&&m._ts&&j!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(q-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(q-m._start)*m._ts,s,o||ci&&hC(m)),g!==this._time||!this._ts&&!_){j=0,v&&(f+=this._zTime=q?-Ln:Ln);break}}m=v}}if(j&&!s&&(this.pause(),j.render(g>=a?0:-Ln)._zTime=g>=a?1:-1,this._ts))return this._start=F,Av(this),this.render(i,s,o);this._onUpdate&&!s&&Bs(this,"onUpdate",!0),(f===c&&this._tTime>=this.totalDuration()||!f&&a)&&(F===this._start||Math.abs(w)!==Math.abs(this._ts))&&(this._lock||((i||!d)&&(f===c&&this._ts>0||!f&&this._ts<0)&&Tc(this,1),!s&&!(i<0&&!a)&&(f||a||!c)&&(Bs(this,f===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,s){var o=this;if(bl(s)||(s=fo(this,s,i)),!(i instanceof Om)){if(ji(i))return i.forEach(function(a){return o.add(a,s)}),this;if(Zr(i))return this.addLabel(i,s);if(mr(i))i=Rr.delayedCall(0,i);else return this}return this!==i?Aa(this,i,s):this},n.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-vo);for(var c=[],d=this._first;d;)d._start>=a&&(d instanceof Rr?s&&c.push(d):(o&&c.push(d),i&&c.push.apply(c,d.getChildren(!0,s,o)))),d=d._next;return c},n.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},n.remove=function(i){return Zr(i)?this.removeLabel(i):mr(i)?this.killTweensOf(i):(i.parent===this&&Nv(this,i),i===this._recent&&(this._recent=this._last),zu(this))},n.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ir(Is.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},n.addLabel=function(i,s){return this.labels[i]=fo(this,s),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,s,o){var a=Rr.delayedCall(0,s||Im,o);return a.data="isPause",this._hasPause=1,Aa(this,a,fo(this,i))},n.removePause=function(i){var s=this._first;for(i=fo(this,i);s;)s._start===i&&s.data==="isPause"&&Tc(s),s=s._next},n.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),c=a.length;c--;)oc!==a[c]&&a[c].kill(i,s);return this},n.getTweensOf=function(i,s){for(var o=[],a=bo(i),c=this._first,d=bl(s),f;c;)c instanceof Rr?Xne(c._targets,a)&&(d?(!oc||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&o.push(c):(f=c.getTweensOf(a,s)).length&&o.push.apply(o,f),c=c._next;return o},n.tweenTo=function(i,s){s=s||{};var o=this,a=fo(o,i),c=s,d=c.startAt,f=c.onStart,p=c.onStartParams,g=c.immediateRender,m,v=Rr.to(o,Ks({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(d&&"time"in d?d.time:o._time))/o.timeScale())||Ln,onStart:function(){if(o.pause(),!m){var T=s.duration||Math.abs((a-(d&&"time"in d?d.time:o._time))/o.timeScale());v._dur!==T&&nh(v,T,0,1).render(v._time,!0,!0),m=1}f&&f.apply(v,p||[])}},s));return g?v.render(0):v},n.tweenFromTo=function(i,s,o){return this.tweenTo(s,Ks({startAt:{time:fo(this,i)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),pR(this,fo(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),pR(this,fo(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Ln)},n.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,c=this.labels,d;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(d in c)c[d]>=o&&(c[d]+=i);return zu(this)},n.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return t.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),zu(this)},n.totalDuration=function(i){var s=0,o=this,a=o._last,c=vo,d,f,p;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(p=o.parent;a;)d=a._prev,a._dirty&&a.totalDuration(),f=a._start,f>c&&o._sort&&a._ts&&!o._lock?(o._lock=1,Aa(o,a,f-a._delay,1)._lock=0):c=f,f<0&&a._ts&&(s-=f,(!p&&!o._dp||p&&p.smoothChildTiming)&&(o._start+=f/o._ts,o._time-=f,o._tTime-=f),o.shiftChildren(-f,!1,-1/0),c=0),a._end>s&&a._ts&&(s=a._end),a=d;nh(o,o===cr&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(cr._ts&&(X3(cr,Nx(i,cr)),K3=Is.frame),Is.frame>=uR){uR+=qs.autoSleep||120;var s=cr._first;if((!s||!s._ts)&&qs.autoSleep&&Is._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Is.sleep()}}},e}(Om);Ks(Hi.prototype,{_lock:0,_hasPause:0,_forcing:0});var vre=function(e,n,r,i,s,o,a){var c=new ps(this._pt,e,n,0,1,SL,null,s),d=0,f=0,p,g,m,v,x,T,_,j;for(c.b=r,c.e=i,r+="",i+="",(_=~i.indexOf("random("))&&(i=Mm(i)),o&&(j=[r,i],o(j,e,n),r=j[0],i=j[1]),g=r.match(E1)||[];p=E1.exec(i);)v=p[0],x=i.substring(d,p.index),m?m=(m+1)%5:x.substr(-5)==="rgba("&&(m=1),v!==g[f++]&&(T=parseFloat(g[f-1])||0,c._pt={_next:c._pt,p:x||f===1?x:",",s:T,c:v.charAt(1)==="="?Of(T,v)-T:parseFloat(v)-T,m:m&&m<4?Math.round:0},d=E1.lastIndex);return c.c=d<i.length?i.substring(d,i.length):"",c.fp=a,(V3.test(i)||_)&&(c.e=0),this._pt=c,c},pC=function(e,n,r,i,s,o,a,c,d,f){mr(i)&&(i=i(s||0,e,o));var p=e[n],g=r!=="get"?r:mr(p)?d?e[n.indexOf("set")||!mr(e["get"+n.substr(3)])?n:"get"+n.substr(3)](d):e[n]():p,m=mr(p)?d?Sre:kL:gC,v;if(Zr(i)&&(~i.indexOf("random(")&&(i=Mm(i)),i.charAt(1)==="="&&(v=Of(g,i)+(Si(g)||0),(v||v===0)&&(i=v))),!f||g!==i||_T)return!isNaN(g*i)&&i!==""?(v=new ps(this._pt,e,n,+g||0,i-(g||0),typeof p=="boolean"?_re:TL,0,m),d&&(v.fp=d),a&&v.modifier(a,this,e),this._pt=v):(!p&&!(n in e)&&cC(n,i),vre.call(this,e,n,g,i,m,c||qs.stringFilter,d))},bre=function(e,n,r,i,s){if(mr(e)&&(e=qp(e,s,n,r,i)),!Ba(e)||e.style&&e.nodeType||ji(e)||$3(e))return Zr(e)?qp(e,s,n,r,i):e;var o={},a;for(a in e)o[a]=qp(e[a],s,n,r,i);return o},vL=function(e,n,r,i,s,o){var a,c,d,f;if(js[e]&&(a=new js[e]).init(s,a.rawVars?n[e]:bre(n[e],i,s,o,r),r,i,o)!==!1&&(r._pt=c=new ps(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==Sf))for(d=r._ptLookup[r._targets.indexOf(s)],f=a._props.length;f--;)d[a._props[f]]=c;return a},oc,_T,mC=function t(e,n,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,c=i.lazy,d=i.onUpdate,f=i.runBackwards,p=i.yoyoEase,g=i.keyframes,m=i.autoRevert,v=e._dur,x=e._startAt,T=e._targets,_=e.parent,j=_&&_.data==="nested"?_.vars.targets:T,w=e._overwrite==="auto"&&!sC,F=e.timeline,z,B,H,Y,W,q,X,V,R,b,A,D,M;if(F&&(!g||!s)&&(s="none"),e._ease=Bu(s,Zf.ease),e._yEase=p?mL(Bu(p===!0?s:p,Zf.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!F&&!!i.runBackwards,!F||g&&!i.stagger){if(V=T[0]?Fu(T[0]).harness:0,D=V&&i[V.prop],z=Ex(i,uC),x&&(x._zTime<0&&x.progress(1),n<0&&f&&a&&!m?x.render(-1,!0):x.revert(f&&v?B0:Kne),x._lazy=0),o){if(Tc(e._startAt=Rr.set(T,Ks({data:"isStart",overwrite:!1,parent:_,immediateRender:!0,lazy:!x&&fs(c),startAt:null,delay:0,onUpdate:d&&function(){return Bs(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(ci||!a&&!m)&&e._startAt.revert(B0),a&&v&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(f&&v&&!x){if(n&&(a=!1),H=Ks({overwrite:!1,data:"isFromStart",lazy:a&&!x&&fs(c),immediateRender:a,stagger:0,parent:_},z),D&&(H[V.prop]=D),Tc(e._startAt=Rr.set(T,H)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(ci?e._startAt.revert(B0):e._startAt.render(-1,!0)),e._zTime=n,!a)t(e._startAt,Ln,Ln);else if(!n)return}for(e._pt=e._ptCache=0,c=v&&fs(c)||c&&!v,B=0;B<T.length;B++){if(W=T[B],X=W._gsap||fC(T)[B]._gsap,e._ptLookup[B]=b={},bT[X.id]&&mc.length&&_x(),A=j===T?B:j.indexOf(W),V&&(R=new V).init(W,D||z,e,A,j)!==!1&&(e._pt=Y=new ps(e._pt,W,R.name,0,1,R.render,R,0,R.priority),R._props.forEach(function(C){b[C]=Y}),R.priority&&(q=1)),!V||D)for(H in z)js[H]&&(R=vL(H,z,e,A,W,j))?R.priority&&(q=1):b[H]=Y=pC.call(e,W,H,"get",z[H],A,j,0,i.stringFilter);e._op&&e._op[B]&&e.kill(W,e._op[B]),w&&e._pt&&(oc=e,cr.killTweensOf(W,b,e.globalTime(n)),M=!e.parent,oc=0),e._pt&&c&&(bT[X.id]=1)}q&&CL(e),e._onInit&&e._onInit(e)}e._onUpdate=d,e._initted=(!e._op||e._pt)&&!M,g&&n<=0&&F.render(vo,!0,!0)},wre=function(e,n,r,i,s,o,a,c){var d=(e._pt&&e._ptCache||(e._ptCache={}))[n],f,p,g,m;if(!d)for(d=e._ptCache[n]=[],g=e._ptLookup,m=e._targets.length;m--;){if(f=g[m][n],f&&f.d&&f.d._pt)for(f=f.d._pt;f&&f.p!==n&&f.fp!==n;)f=f._next;if(!f)return _T=1,e.vars[n]="+=0",mC(e,a),_T=0,c?Rm(n+" not eligible for reset"):1;d.push(f)}for(m=d.length;m--;)p=d[m],f=p._pt||p,f.s=(i||i===0)&&!s?i:f.s+(i||0)+o*f.c,f.c=r-f.s,p.e&&(p.e=kr(r)+Si(p.e)),p.b&&(p.b=f.s+Si(p.b))},kre=function(e,n){var r=e[0]?Fu(e[0]).harness:0,i=r&&r.aliases,s,o,a,c;if(!i)return n;s=eh({},n);for(o in i)if(o in s)for(c=i[o].split(","),a=c.length;a--;)s[c[a]]=s[o];return s},Tre=function(e,n,r,i){var s=n.ease||i||"power1.inOut",o,a;if(ji(n))a=r[e]||(r[e]=[]),n.forEach(function(c,d){return a.push({t:d/(n.length-1)*100,v:c,e:s})});else for(o in n)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:n[o],e:s})},qp=function(e,n,r,i,s){return mr(e)?e.call(n,r,i,s):Zr(e)&&~e.indexOf("random(")?Mm(e):e},bL=dC+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",wL={};hs(bL+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return wL[t]=1});var Rr=function(t){z3(e,t);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=t.call(this,o?i:Vp(i))||this;var c=a.vars,d=c.duration,f=c.delay,p=c.immediateRender,g=c.stagger,m=c.overwrite,v=c.keyframes,x=c.defaults,T=c.scrollTrigger,_=c.yoyoEase,j=i.parent||cr,w=(ji(r)||$3(r)?bl(r[0]):"length"in i)?[r]:bo(r),F,z,B,H,Y,W,q,X;if(a._targets=w.length?fC(w):Rm("GSAP target "+r+" not found. https://gsap.com",!qs.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=m,v||g||qy(d)||qy(f)){if(i=a.vars,F=a.timeline=new Hi({data:"nested",defaults:x||{},targets:j&&j.data==="nested"?j.vars.targets:w}),F.kill(),F.parent=F._dp=sl(a),F._start=0,g||qy(d)||qy(f)){if(H=w.length,q=g&&sL(g),Ba(g))for(Y in g)~bL.indexOf(Y)&&(X||(X={}),X[Y]=g[Y]);for(z=0;z<H;z++)B=Ex(i,wL),B.stagger=0,_&&(B.yoyoEase=_),X&&eh(B,X),W=w[z],B.duration=+qp(d,sl(a),z,W,w),B.delay=(+qp(f,sl(a),z,W,w)||0)-a._delay,!g&&H===1&&B.delay&&(a._delay=f=B.delay,a._start+=f,B.delay=0),F.to(W,B,q?q(z,W,w):0),F._ease=hn.none;F.duration()?d=f=0:a.timeline=0}else if(v){Vp(Ks(F.vars.defaults,{ease:"none"})),F._ease=Bu(v.ease||i.ease||"none");var V=0,R,b,A;if(ji(v))v.forEach(function(D){return F.to(w,D,">")}),F.duration();else{B={};for(Y in v)Y==="ease"||Y==="easeEach"||Tre(Y,v[Y],B,v.easeEach);for(Y in B)for(R=B[Y].sort(function(D,M){return D.t-M.t}),V=0,z=0;z<R.length;z++)b=R[z],A={ease:b.e,duration:(b.t-(z?R[z-1].t:0))/100*d},A[Y]=b.v,F.to(w,A,V),V+=A.duration;F.duration()<d&&F.to({},{duration:d-F.duration()})}}d||a.duration(d=F.duration())}else a.timeline=0;return m===!0&&!sC&&(oc=sl(a),cr.killTweensOf(w),oc=0),Aa(j,sl(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(p||!d&&!v&&a._start===Ir(j._time)&&fs(p)&&ere(sl(a))&&j.data!=="nested")&&(a._tTime=-Ln,a.render(Math.max(0,-f)||0)),T&&tL(sl(a),T),a}var n=e.prototype;return n.render=function(i,s,o){var a=this._time,c=this._tDur,d=this._dur,f=i<0,p=i>c-Ln&&!f?c:i<Ln?0:i,g,m,v,x,T,_,j,w,F;if(!d)nre(this,i,s,o);else if(p!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f||this._lazy){if(g=p,w=this.timeline,this._repeat){if(x=d+this._rDelay,this._repeat<-1&&f)return this.totalTime(x*100+i,s,o);if(g=Ir(p%x),p===c?(v=this._repeat,g=d):(T=Ir(p/x),v=~~T,v&&v===T?(g=d,v--):g>d&&(g=d)),_=this._yoyo&&v&1,_&&(F=this._yEase,g=d-g),T=th(this._tTime,x),g===a&&!o&&this._initted&&v===T)return this._tTime=p,this;v!==T&&(w&&this._yEase&&gL(w,_),this.vars.repeatRefresh&&!_&&!this._lock&&g!==x&&this._initted&&(this._lock=o=1,this.render(Ir(x*v),!0).invalidate()._lock=0))}if(!this._initted){if(nL(this,f?i:g,o,s,p))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&v!==T))return this;if(d!==this._dur)return this.render(i,s,o)}if(this._tTime=p,this._time=g,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=j=(F||this._ease)(g/d),this._from&&(this.ratio=j=1-j),!a&&p&&!s&&!T&&(Bs(this,"onStart"),this._tTime!==p))return this;for(m=this._pt;m;)m.r(j,m.d),m=m._next;w&&w.render(i<0?i:w._dur*w._ease(g/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(f&&wT(this,i,s,o),Bs(this,"onUpdate")),this._repeat&&v!==T&&this.vars.onRepeat&&!s&&this.parent&&Bs(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(f&&!this._onUpdate&&wT(this,i,!0,!0),(i||!d)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&Tc(this,1),!s&&!(f&&!a)&&(p||a||_)&&(Bs(this,p===c?"onComplete":"onReverseComplete",!0),this._prom&&!(p<c&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},n.resetTo=function(i,s,o,a,c){Dm||Is.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),f;return this._initted||mC(this,d),f=this._ease(d/this._dur),wre(this,i,s,o,a,f,d,c)?this.resetTo(i,s,o,a,1):(jv(this,0),this.parent||Z3(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?_p(this):this.scrollTrigger&&this.scrollTrigger.kill(!!ci),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,oc&&oc.vars.overwrite!==!0)._first||_p(this),this.parent&&o!==this.timeline.totalDuration()&&nh(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,c=i?bo(i):a,d=this._ptLookup,f=this._pt,p,g,m,v,x,T,_;if((!s||s==="all")&&Qne(a,c))return s==="all"&&(this._pt=0),_p(this);for(p=this._op=this._op||[],s!=="all"&&(Zr(s)&&(x={},hs(s,function(j){return x[j]=1}),s=x),s=kre(a,s)),_=a.length;_--;)if(~c.indexOf(a[_])){g=d[_],s==="all"?(p[_]=s,v=g,m={}):(m=p[_]=p[_]||{},v=s);for(x in v)T=g&&g[x],T&&((!("kill"in T.d)||T.d.kill(x)===!0)&&Nv(this,T,"_pt"),delete g[x]),m!=="all"&&(m[x]=1)}return this._initted&&!this._pt&&f&&_p(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return Wp(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return Wp(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return cr.killTweensOf(i,s,o)},e}(Om);Ks(Rr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});hs("staggerTo,staggerFrom,staggerFromTo",function(t){Rr[t]=function(){var e=new Hi,n=TT.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var gC=function(e,n,r){return e[n]=r},kL=function(e,n,r){return e[n](r)},Sre=function(e,n,r,i){return e[n](i.fp,r)},Cre=function(e,n,r){return e.setAttribute(n,r)},yC=function(e,n){return mr(e[n])?kL:oC(e[n])&&e.setAttribute?Cre:gC},TL=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},_re=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},SL=function(e,n){var r=n._pt,i="";if(!e&&n.b)i=n.b;else if(e===1&&n.e)i=n.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=n.c}n.set(n.t,n.p,i,n)},xC=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},Ere=function(e,n,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,n,r),s=o},Nre=function(e){for(var n=this._pt,r,i;n;)i=n._next,n.p===e&&!n.op||n.op===e?Nv(this,n,"_pt"):n.dep||(r=1),n=i;return!r},Are=function(e,n,r,i){i.mSet(e,n,i.m.call(i.tween,r,i.mt),i)},CL=function(e){for(var n=e._pt,r,i,s,o;n;){for(r=n._next,i=s;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:o)?n._prev._next=n:s=n,(n._next=i)?i._prev=n:o=n,n=r}e._pt=s},ps=function(){function t(n,r,i,s,o,a,c,d,f){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||TL,this.d=c||this,this.set=d||gC,this.pr=f||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=Are,this.m=r,this.mt=s,this.tween=i},t}();hs(dC+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return uC[t]=1});Gs.TweenMax=Gs.TweenLite=Rr;Gs.TimelineLite=Gs.TimelineMax=Hi;cr=new Hi({sortChildren:!1,defaults:Zf,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});qs.stringFilter=pL;var $u=[],U0={},jre=[],gR=0,Pre=0,R1=function(e){return(U0[e]||jre).map(function(n){return n()})},ET=function(){var e=Date.now(),n=[];e-gR>2&&(R1("matchMediaInit"),$u.forEach(function(r){var i=r.queries,s=r.conditions,o,a,c,d;for(a in i)o=wa.matchMedia(i[a]).matches,o&&(c=1),o!==s[a]&&(s[a]=o,d=1);d&&(r.revert(),c&&n.push(r))}),R1("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),gR=e,R1("matchMedia"))},_L=function(){function t(n,r){this.selector=r&&ST(r),this.data=[],this._r=[],this.isReverted=!1,this.id=Pre++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,i,s){mr(r)&&(s=i,i=r,r=mr);var o=this,a=function(){var d=Zn,f=o.selector,p;return d&&d!==o&&d.data.push(o),s&&(o.selector=ST(s)),Zn=o,p=i.apply(o,arguments),mr(p)&&o._r.push(p),Zn=d,o.selector=f,o.isReverted=!1,p};return o.last=a,r===mr?a(o,function(c){return o.add(null,c)}):r?o[r]=a:a},e.ignore=function(r){var i=Zn;Zn=null,r(this),Zn=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof t?r.push.apply(r,i.getTweens()):i instanceof Rr&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?function(){for(var a=s.getTweens(),c=s.data.length,d;c--;)d=s.data[c],d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(f){return a.splice(a.indexOf(f),1)}));for(a.map(function(f){return{g:f._dur||f._delay||f._sat&&!f._sat.vars.immediateRender?f.globalTime(0):-1/0,t:f}}).sort(function(f,p){return p.g-f.g||-1/0}).forEach(function(f){return f.t.revert(r)}),c=s.data.length;c--;)d=s.data[c],d instanceof Hi?d.data!=="nested"&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof Rr)&&d.revert&&d.revert(r);s._r.forEach(function(f){return f(r,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=$u.length;o--;)$u[o].id===this.id&&$u.splice(o,1)},e.revert=function(r){this.kill(r||{})},t}(),Rre=function(){function t(n){this.contexts=[],this.scope=n,Zn&&Zn.data.push(this)}var e=t.prototype;return e.add=function(r,i,s){Ba(r)||(r={matches:r});var o=new _L(0,s||this.scope),a=o.conditions={},c,d,f;Zn&&!o.selector&&(o.selector=Zn.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(d in r)d==="all"?f=1:(c=wa.matchMedia(r[d]),c&&($u.indexOf(o)<0&&$u.push(o),(a[d]=c.matches)&&(f=1),c.addListener?c.addListener(ET):c.addEventListener("change",ET)));return f&&i(o,function(p){return o.add(null,p)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},t}(),Ax={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(i){return dL(i)})},timeline:function(e){return new Hi(e)},getTweensOf:function(e,n){return cr.getTweensOf(e,n)},getProperty:function(e,n,r,i){Zr(e)&&(e=bo(e)[0]);var s=Fu(e||{}).get,o=r?Q3:J3;return r==="native"&&(r=""),e&&(n?o((js[n]&&js[n].get||s)(e,n,r,i)):function(a,c,d){return o((js[a]&&js[a].get||s)(e,a,c,d))})},quickSetter:function(e,n,r){if(e=bo(e),e.length>1){var i=e.map(function(f){return gs.quickSetter(f,n,r)}),s=i.length;return function(f){for(var p=s;p--;)i[p](f)}}e=e[0]||{};var o=js[n],a=Fu(e),c=a.harness&&(a.harness.aliases||{})[n]||n,d=o?function(f){var p=new o;Sf._pt=0,p.init(e,r?f+r:f,Sf,0,[e]),p.render(1,p),Sf._pt&&xC(1,Sf)}:a.set(e,c);return o?d:function(f){return d(e,c,r?f+r:f,a,1)}},quickTo:function(e,n,r){var i,s=gs.to(e,Ks((i={},i[n]="+=0.1",i.paused=!0,i.stagger=0,i),r||{})),o=function(c,d,f){return s.resetTo(n,c,d,f)};return o.tween=s,o},isTweening:function(e){return cr.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Bu(e.ease,Zf.ease)),dR(Zf,e||{})},config:function(e){return dR(qs,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!js[a]&&!Gs[a]&&Rm(n+" effect requires "+a+" plugin.")}),N1[n]=function(a,c,d){return r(bo(a),Ks(c||{},s),d)},o&&(Hi.prototype[n]=function(a,c,d){return this.add(N1[n](a,Ba(c)?c:(d=c)&&{},this),d)})},registerEase:function(e,n){hn[e]=Bu(n)},parseEase:function(e,n){return arguments.length?Bu(e,n):hn},getById:function(e){return cr.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new Hi(e),i,s;for(r.smoothChildTiming=fs(e.smoothChildTiming),cr.remove(r),r._dp=0,r._time=r._tTime=cr._time,i=cr._first;i;)s=i._next,(n||!(!i._dur&&i instanceof Rr&&i.vars.onComplete===i._targets[0]))&&Aa(r,i,i._start-i._delay),i=s;return Aa(cr,r,0),r},context:function(e,n){return e?new _L(e,n):Zn},matchMedia:function(e){return new Rre(e)},matchMediaRefresh:function(){return $u.forEach(function(e){var n=e.conditions,r,i;for(i in n)n[i]&&(n[i]=!1,r=1);r&&e.revert()})||ET()},addEventListener:function(e,n){var r=U0[e]||(U0[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=U0[e],i=r&&r.indexOf(n);i>=0&&r.splice(i,1)},utils:{wrap:ure,wrapYoyo:dre,distribute:sL,random:aL,snap:oL,normalize:cre,getUnit:Si,clamp:sre,splitColor:fL,toArray:bo,selector:ST,mapRange:cL,pipe:are,unitize:lre,interpolate:fre,shuffle:iL},install:H3,effects:N1,ticker:Is,updateRoot:Hi.updateRoot,plugins:js,globalTimeline:cr,core:{PropTween:ps,globals:G3,Tween:Rr,Timeline:Hi,Animation:Om,getCache:Fu,_removeLinkedListItem:Nv,reverting:function(){return ci},context:function(e){return e&&Zn&&(Zn.data.push(e),e._ctx=Zn),Zn},suppressOverwrites:function(e){return sC=e}}};hs("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Ax[t]=Rr[t]});Is.add(Hi.updateRoot);Sf=Ax.to({},{duration:0});var Ire=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},Mre=function(e,n){var r=e._targets,i,s,o;for(i in n)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=Ire(o,i)),o&&o.modifier&&o.modifier(n[i],e,r[s],i))},I1=function(e,n){return{name:e,headless:1,rawVars:1,init:function(i,s,o){o._onInit=function(a){var c,d;if(Zr(s)&&(c={},hs(s,function(f){return c[f]=1}),s=c),n){c={};for(d in s)c[d]=n(s[d]);s=c}Mre(a,s)}}}},gs=Ax.registerPlugin({name:"attr",init:function(e,n,r,i,s){var o,a,c;this.tween=r;for(o in n)c=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(c||0)+"",n[o],i,s,0,0,o),a.op=o,a.b=c,this._props.push(o)},render:function(e,n){for(var r=n._pt;r;)ci?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},I1("roundProps",CT),I1("modifiers"),I1("snap",oL))||Ax;Rr.version=Hi.version=gs.version="3.13.0";q3=1;aC()&&rh();hn.Power0;hn.Power1;hn.Power2;hn.Power3;hn.Power4;hn.Linear;hn.Quad;hn.Cubic;hn.Quart;hn.Quint;hn.Strong;hn.Elastic;hn.Back;hn.SteppedEase;hn.Bounce;hn.Sine;hn.Expo;hn.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var yR,ac,Lf,vC,Ru,xR,bC,Dre=function(){return typeof window<"u"},wl={},bu=180/Math.PI,Ff=Math.PI/180,Xd=Math.atan2,vR=1e8,wC=/([A-Z])/g,Ore=/(left|right|width|margin|padding|x)/i,Lre=/[\s,\(]\S/,Pa={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},NT=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},Fre=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},zre=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},Bre=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},EL=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},NL=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},$re=function(e,n,r){return e.style[n]=r},Ure=function(e,n,r){return e.style.setProperty(n,r)},Vre=function(e,n,r){return e._gsap[n]=r},Wre=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},qre=function(e,n,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},Hre=function(e,n,r,i,s){var o=e._gsap;o[n]=r,o.renderTransform(s,o)},dr="transform",ms=dr+"Origin",Gre=function t(e,n){var r=this,i=this.target,s=i.style,o=i._gsap;if(e in wl&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Pa[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=al(i,a)}):this.tfm[e]=o.x?o[e]:al(i,e),e===ms&&(this.tfm.zOrigin=o.zOrigin);else return Pa.transform.split(",").forEach(function(a){return t.call(r,a,n)});if(this.props.indexOf(dr)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(ms,n,"")),e=dr}(s||n)&&this.props.push(e,n,s[e])},AL=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Kre=function(){var e=this.props,n=this.target,r=n.style,i=n._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?n[e[s]](e[s+2]):n[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(wC,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),s=bC(),(!s||!s.isStart)&&!r[dr]&&(AL(r),i.zOrigin&&r[ms]&&(r[ms]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},jL=function(e,n){var r={target:e,props:[],revert:Kre,save:Gre};return e._gsap||gs.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(i){return r.save(i)}),r},PL,AT=function(e,n){var r=ac.createElementNS?ac.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):ac.createElement(e);return r&&r.style?r:ac.createElement(e)},wo=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(wC,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,ih(n)||n,1)||""},bR="O,Moz,ms,Ms,Webkit".split(","),ih=function(e,n,r){var i=n||Ru,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(bR[o]+e in s););return o<0?null:(o===3?"ms":o>=0?bR[o]:"")+e},jT=function(){Dre()&&window.document&&(yR=window,ac=yR.document,Lf=ac.documentElement,Ru=AT("div")||{style:{}},AT("div"),dr=ih(dr),ms=dr+"Origin",Ru.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",PL=!!ih("perspective"),bC=gs.core.reverting,vC=1)},wR=function(e){var n=e.ownerSVGElement,r=AT("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),s;i.style.display="block",r.appendChild(i),Lf.appendChild(r);try{s=i.getBBox()}catch{}return r.removeChild(i),Lf.removeChild(r),s},kR=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},RL=function(e){var n,r;try{n=e.getBBox()}catch{n=wR(e),r=1}return n&&(n.width||n.height)||r||(n=wR(e)),n&&!n.width&&!n.x&&!n.y?{x:+kR(e,["x","cx","x1"])||0,y:+kR(e,["y","cy","y1"])||0,width:0,height:0}:n},IL=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&RL(e))},sd=function(e,n){if(n){var r=e.style,i;n in wl&&n!==ms&&(n=dr),r.removeProperty?(i=n.substr(0,2),(i==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(i==="--"?n:n.replace(wC,"-$1").toLowerCase())):r.removeAttribute(n)}},lc=function(e,n,r,i,s,o){var a=new ps(e._pt,n,r,0,1,o?NL:EL);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},TR={deg:1,rad:1,turn:1},Yre={grid:1,flex:1},Sc=function t(e,n,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=Ru.style,c=Ore.test(n),d=e.tagName.toLowerCase()==="svg",f=(d?"client":"offset")+(c?"Width":"Height"),p=100,g=i==="px",m=i==="%",v,x,T,_;if(i===o||!s||TR[i]||TR[o])return s;if(o!=="px"&&!g&&(s=t(e,n,r,"px")),_=e.getCTM&&IL(e),(m||o==="%")&&(wl[n]||~n.indexOf("adius")))return v=_?e.getBBox()[c?"width":"height"]:e[f],kr(m?s/v*p:s/100*v);if(a[c?"width":"height"]=p+(g?o:i),x=i!=="rem"&&~n.indexOf("adius")||i==="em"&&e.appendChild&&!d?e:e.parentNode,_&&(x=(e.ownerSVGElement||{}).parentNode),(!x||x===ac||!x.appendChild)&&(x=ac.body),T=x._gsap,T&&m&&T.width&&c&&T.time===Is.time&&!T.uncache)return kr(s/T.width*p);if(m&&(n==="height"||n==="width")){var j=e.style[n];e.style[n]=p+i,v=e[f],j?e.style[n]=j:sd(e,n)}else(m||o==="%")&&!Yre[wo(x,"display")]&&(a.position=wo(e,"position")),x===e&&(a.position="static"),x.appendChild(Ru),v=Ru[f],x.removeChild(Ru),a.position="absolute";return c&&m&&(T=Fu(x),T.time=Is.time,T.width=x[f]),kr(g?v*s/p:v&&s?p/v*s:0)},al=function(e,n,r,i){var s;return vC||jT(),n in Pa&&n!=="transform"&&(n=Pa[n],~n.indexOf(",")&&(n=n.split(",")[0])),wl[n]&&n!=="transform"?(s=Fm(e,i),s=n!=="transformOrigin"?s[n]:s.svg?s.origin:Px(wo(e,ms))+" "+s.zOrigin+"px"):(s=e.style[n],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=jx[n]&&jx[n](e,n,r)||wo(e,n)||Y3(e,n)||(n==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?Sc(e,n,s,r)+r:s},Xre=function(e,n,r,i){if(!r||r==="none"){var s=ih(n,e,1),o=s&&wo(e,s,1);o&&o!==r?(n=s,r=o):n==="borderColor"&&(r=wo(e,"borderTopColor"))}var a=new ps(this._pt,e.style,n,0,1,SL),c=0,d=0,f,p,g,m,v,x,T,_,j,w,F,z;if(a.b=r,a.e=i,r+="",i+="",i.substring(0,6)==="var(--"&&(i=wo(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(x=e.style[n],e.style[n]=i,i=wo(e,n)||i,x?e.style[n]=x:sd(e,n)),f=[r,i],pL(f),r=f[0],i=f[1],g=r.match(Tf)||[],z=i.match(Tf)||[],z.length){for(;p=Tf.exec(i);)T=p[0],j=i.substring(c,p.index),v?v=(v+1)%5:(j.substr(-5)==="rgba("||j.substr(-5)==="hsla(")&&(v=1),T!==(x=g[d++]||"")&&(m=parseFloat(x)||0,F=x.substr((m+"").length),T.charAt(1)==="="&&(T=Of(m,T)+F),_=parseFloat(T),w=T.substr((_+"").length),c=Tf.lastIndex-w.length,w||(w=w||qs.units[n]||F,c===i.length&&(i+=w,a.e+=w)),F!==w&&(m=Sc(e,n,x,w)||0),a._pt={_next:a._pt,p:j||d===1?j:",",s:m,c:_-m,m:v&&v<4||n==="zIndex"?Math.round:0});a.c=c<i.length?i.substring(c,i.length):""}else a.r=n==="display"&&i==="none"?NL:EL;return V3.test(i)&&(a.e=0),this._pt=a,a},SR={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Jre=function(e){var n=e.split(" "),r=n[0],i=n[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),n[0]=SR[r]||r,n[1]=SR[i]||i,n.join(" ")},Qre=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,i=r.style,s=n.u,o=r._gsap,a,c,d;if(s==="all"||s===!0)i.cssText="",c=1;else for(s=s.split(","),d=s.length;--d>-1;)a=s[d],wl[a]&&(c=1,a=a==="transformOrigin"?ms:dr),sd(r,a);c&&(sd(r,dr),o&&(o.svg&&r.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",Fm(r,1),o.uncache=1,AL(i)))}},jx={clearProps:function(e,n,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new ps(e._pt,n,r,0,0,Qre);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},Lm=[1,0,0,1,0,0],ML={},DL=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},CR=function(e){var n=wo(e,dr);return DL(n)?Lm:n.substr(7).match(U3).map(kr)},kC=function(e,n){var r=e._gsap||Fu(e),i=e.style,s=CR(e),o,a,c,d;return r.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,s=[c.a,c.b,c.c,c.d,c.e,c.f],s.join(",")==="1,0,0,1,0,0"?Lm:s):(s===Lm&&!e.offsetParent&&e!==Lf&&!r.svg&&(c=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(d=1,a=e.nextElementSibling,Lf.appendChild(e)),s=CR(e),c?i.display=c:sd(e,"display"),d&&(a?o.insertBefore(e,a):o?o.appendChild(e):Lf.removeChild(e))),n&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},PT=function(e,n,r,i,s,o){var a=e._gsap,c=s||kC(e,!0),d=a.xOrigin||0,f=a.yOrigin||0,p=a.xOffset||0,g=a.yOffset||0,m=c[0],v=c[1],x=c[2],T=c[3],_=c[4],j=c[5],w=n.split(" "),F=parseFloat(w[0])||0,z=parseFloat(w[1])||0,B,H,Y,W;r?c!==Lm&&(H=m*T-v*x)&&(Y=F*(T/H)+z*(-x/H)+(x*j-T*_)/H,W=F*(-v/H)+z*(m/H)-(m*j-v*_)/H,F=Y,z=W):(B=RL(e),F=B.x+(~w[0].indexOf("%")?F/100*B.width:F),z=B.y+(~(w[1]||w[0]).indexOf("%")?z/100*B.height:z)),i||i!==!1&&a.smooth?(_=F-d,j=z-f,a.xOffset=p+(_*m+j*x)-_,a.yOffset=g+(_*v+j*T)-j):a.xOffset=a.yOffset=0,a.xOrigin=F,a.yOrigin=z,a.smooth=!!i,a.origin=n,a.originIsAbsolute=!!r,e.style[ms]="0px 0px",o&&(lc(o,a,"xOrigin",d,F),lc(o,a,"yOrigin",f,z),lc(o,a,"xOffset",p,a.xOffset),lc(o,a,"yOffset",g,a.yOffset)),e.setAttribute("data-svg-origin",F+" "+z)},Fm=function(e,n){var r=e._gsap||new xL(e);if("x"in r&&!n&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",c=getComputedStyle(e),d=wo(e,ms)||"0",f,p,g,m,v,x,T,_,j,w,F,z,B,H,Y,W,q,X,V,R,b,A,D,M,C,I,E,P,N,O,Z,$;return f=p=g=x=T=_=j=w=F=0,m=v=1,r.svg=!!(e.getCTM&&IL(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[dr]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[dr]!=="none"?c[dr]:"")),i.scale=i.rotate=i.translate="none"),H=kC(e,r.svg),r.svg&&(r.uncache?(C=e.getBBox(),d=r.xOrigin-C.x+"px "+(r.yOrigin-C.y)+"px",M=""):M=!n&&e.getAttribute("data-svg-origin"),PT(e,M||d,!!M||r.originIsAbsolute,r.smooth!==!1,H)),z=r.xOrigin||0,B=r.yOrigin||0,H!==Lm&&(X=H[0],V=H[1],R=H[2],b=H[3],f=A=H[4],p=D=H[5],H.length===6?(m=Math.sqrt(X*X+V*V),v=Math.sqrt(b*b+R*R),x=X||V?Xd(V,X)*bu:0,j=R||b?Xd(R,b)*bu+x:0,j&&(v*=Math.abs(Math.cos(j*Ff))),r.svg&&(f-=z-(z*X+B*R),p-=B-(z*V+B*b))):($=H[6],O=H[7],E=H[8],P=H[9],N=H[10],Z=H[11],f=H[12],p=H[13],g=H[14],Y=Xd($,N),T=Y*bu,Y&&(W=Math.cos(-Y),q=Math.sin(-Y),M=A*W+E*q,C=D*W+P*q,I=$*W+N*q,E=A*-q+E*W,P=D*-q+P*W,N=$*-q+N*W,Z=O*-q+Z*W,A=M,D=C,$=I),Y=Xd(-R,N),_=Y*bu,Y&&(W=Math.cos(-Y),q=Math.sin(-Y),M=X*W-E*q,C=V*W-P*q,I=R*W-N*q,Z=b*q+Z*W,X=M,V=C,R=I),Y=Xd(V,X),x=Y*bu,Y&&(W=Math.cos(Y),q=Math.sin(Y),M=X*W+V*q,C=A*W+D*q,V=V*W-X*q,D=D*W-A*q,X=M,A=C),T&&Math.abs(T)+Math.abs(x)>359.9&&(T=x=0,_=180-_),m=kr(Math.sqrt(X*X+V*V+R*R)),v=kr(Math.sqrt(D*D+$*$)),Y=Xd(A,D),j=Math.abs(Y)>2e-4?Y*bu:0,F=Z?1/(Z<0?-Z:Z):0),r.svg&&(M=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!DL(wo(e,dr)),M&&e.setAttribute("transform",M))),Math.abs(j)>90&&Math.abs(j)<270&&(s?(m*=-1,j+=x<=0?180:-180,x+=x<=0?180:-180):(v*=-1,j+=j<=0?180:-180)),n=n||r.uncache,r.x=f-((r.xPercent=f&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-f)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=p-((r.yPercent=p&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-p)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=g+o,r.scaleX=kr(m),r.scaleY=kr(v),r.rotation=kr(x)+a,r.rotationX=kr(T)+a,r.rotationY=kr(_)+a,r.skewX=j+a,r.skewY=w+a,r.transformPerspective=F+o,(r.zOrigin=parseFloat(d.split(" ")[2])||!n&&r.zOrigin||0)&&(i[ms]=Px(d)),r.xOffset=r.yOffset=0,r.force3D=qs.force3D,r.renderTransform=r.svg?eie:PL?OL:Zre,r.uncache=0,r},Px=function(e){return(e=e.split(" "))[0]+" "+e[1]},M1=function(e,n,r){var i=Si(n);return kr(parseFloat(n)+parseFloat(Sc(e,"x",r+"px",i)))+i},Zre=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,OL(e,n)},du="0deg",fp="0px",fu=") ",OL=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,c=r.z,d=r.rotation,f=r.rotationY,p=r.rotationX,g=r.skewX,m=r.skewY,v=r.scaleX,x=r.scaleY,T=r.transformPerspective,_=r.force3D,j=r.target,w=r.zOrigin,F="",z=_==="auto"&&e&&e!==1||_===!0;if(w&&(p!==du||f!==du)){var B=parseFloat(f)*Ff,H=Math.sin(B),Y=Math.cos(B),W;B=parseFloat(p)*Ff,W=Math.cos(B),o=M1(j,o,H*W*-w),a=M1(j,a,-Math.sin(B)*-w),c=M1(j,c,Y*W*-w+w)}T!==fp&&(F+="perspective("+T+fu),(i||s)&&(F+="translate("+i+"%, "+s+"%) "),(z||o!==fp||a!==fp||c!==fp)&&(F+=c!==fp||z?"translate3d("+o+", "+a+", "+c+") ":"translate("+o+", "+a+fu),d!==du&&(F+="rotate("+d+fu),f!==du&&(F+="rotateY("+f+fu),p!==du&&(F+="rotateX("+p+fu),(g!==du||m!==du)&&(F+="skew("+g+", "+m+fu),(v!==1||x!==1)&&(F+="scale("+v+", "+x+fu),j.style[dr]=F||"translate(0, 0)"},eie=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,c=r.rotation,d=r.skewX,f=r.skewY,p=r.scaleX,g=r.scaleY,m=r.target,v=r.xOrigin,x=r.yOrigin,T=r.xOffset,_=r.yOffset,j=r.forceCSS,w=parseFloat(o),F=parseFloat(a),z,B,H,Y,W;c=parseFloat(c),d=parseFloat(d),f=parseFloat(f),f&&(f=parseFloat(f),d+=f,c+=f),c||d?(c*=Ff,d*=Ff,z=Math.cos(c)*p,B=Math.sin(c)*p,H=Math.sin(c-d)*-g,Y=Math.cos(c-d)*g,d&&(f*=Ff,W=Math.tan(d-f),W=Math.sqrt(1+W*W),H*=W,Y*=W,f&&(W=Math.tan(f),W=Math.sqrt(1+W*W),z*=W,B*=W)),z=kr(z),B=kr(B),H=kr(H),Y=kr(Y)):(z=p,Y=g,B=H=0),(w&&!~(o+"").indexOf("px")||F&&!~(a+"").indexOf("px"))&&(w=Sc(m,"x",o,"px"),F=Sc(m,"y",a,"px")),(v||x||T||_)&&(w=kr(w+v-(v*z+x*H)+T),F=kr(F+x-(v*B+x*Y)+_)),(i||s)&&(W=m.getBBox(),w=kr(w+i/100*W.width),F=kr(F+s/100*W.height)),W="matrix("+z+","+B+","+H+","+Y+","+w+","+F+")",m.setAttribute("transform",W),j&&(m.style[dr]=W)},tie=function(e,n,r,i,s){var o=360,a=Zr(s),c=parseFloat(s)*(a&&~s.indexOf("rad")?bu:1),d=c-i,f=i+d+"deg",p,g;return a&&(p=s.split("_")[1],p==="short"&&(d%=o,d!==d%(o/2)&&(d+=d<0?o:-o)),p==="cw"&&d<0?d=(d+o*vR)%o-~~(d/o)*o:p==="ccw"&&d>0&&(d=(d-o*vR)%o-~~(d/o)*o)),e._pt=g=new ps(e._pt,n,r,i,d,Fre),g.e=f,g.u="deg",e._props.push(r),g},_R=function(e,n){for(var r in n)e[r]=n[r];return e},nie=function(e,n,r){var i=_R({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,c,d,f,p,g,m,v;i.svg?(d=r.getAttribute("transform"),r.setAttribute("transform",""),o[dr]=n,a=Fm(r,1),sd(r,dr),r.setAttribute("transform",d)):(d=getComputedStyle(r)[dr],o[dr]=n,a=Fm(r,1),o[dr]=d);for(c in wl)d=i[c],f=a[c],d!==f&&s.indexOf(c)<0&&(m=Si(d),v=Si(f),p=m!==v?Sc(r,c,d,v):parseFloat(d),g=parseFloat(f),e._pt=new ps(e._pt,a,c,p,g-p,NT),e._pt.u=v||0,e._props.push(c));_R(a,i)};hs("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",i="Bottom",s="Left",o=(e<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map(function(a){return e<2?t+a:"border"+a+t});jx[e>1?"border"+t:t]=function(a,c,d,f,p){var g,m;if(arguments.length<4)return g=o.map(function(v){return al(a,v,d)}),m=g.join(" "),m.split(g[0]).length===5?g[0]:m;g=(f+"").split(" "),m={},o.forEach(function(v,x){return m[v]=g[x]=g[x]||g[(x-1)/2|0]}),a.init(c,m,p)}});var LL={name:"css",register:jT,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,i,s){var o=this._props,a=e.style,c=r.vars.startAt,d,f,p,g,m,v,x,T,_,j,w,F,z,B,H,Y;vC||jT(),this.styles=this.styles||jL(e),Y=this.styles.props,this.tween=r;for(x in n)if(x!=="autoRound"&&(f=n[x],!(js[x]&&vL(x,n,r,i,e,s)))){if(m=typeof f,v=jx[x],m==="function"&&(f=f.call(r,i,e,s),m=typeof f),m==="string"&&~f.indexOf("random(")&&(f=Mm(f)),v)v(this,e,x,f,r)&&(H=1);else if(x.substr(0,2)==="--")d=(getComputedStyle(e).getPropertyValue(x)+"").trim(),f+="",gc.lastIndex=0,gc.test(d)||(T=Si(d),_=Si(f)),_?T!==_&&(d=Sc(e,x,d,_)+_):T&&(f+=T),this.add(a,"setProperty",d,f,i,s,0,0,x),o.push(x),Y.push(x,0,a[x]);else if(m!=="undefined"){if(c&&x in c?(d=typeof c[x]=="function"?c[x].call(r,i,e,s):c[x],Zr(d)&&~d.indexOf("random(")&&(d=Mm(d)),Si(d+"")||d==="auto"||(d+=qs.units[x]||Si(al(e,x))||""),(d+"").charAt(1)==="="&&(d=al(e,x))):d=al(e,x),g=parseFloat(d),j=m==="string"&&f.charAt(1)==="="&&f.substr(0,2),j&&(f=f.substr(2)),p=parseFloat(f),x in Pa&&(x==="autoAlpha"&&(g===1&&al(e,"visibility")==="hidden"&&p&&(g=0),Y.push("visibility",0,a.visibility),lc(this,a,"visibility",g?"inherit":"hidden",p?"inherit":"hidden",!p)),x!=="scale"&&x!=="transform"&&(x=Pa[x],~x.indexOf(",")&&(x=x.split(",")[0]))),w=x in wl,w){if(this.styles.save(x),m==="string"&&f.substring(0,6)==="var(--"&&(f=wo(e,f.substring(4,f.indexOf(")"))),p=parseFloat(f)),F||(z=e._gsap,z.renderTransform&&!n.parseTransform||Fm(e,n.parseTransform),B=n.smoothOrigin!==!1&&z.smooth,F=this._pt=new ps(this._pt,a,dr,0,1,z.renderTransform,z,0,-1),F.dep=1),x==="scale")this._pt=new ps(this._pt,z,"scaleY",z.scaleY,(j?Of(z.scaleY,j+p):p)-z.scaleY||0,NT),this._pt.u=0,o.push("scaleY",x),x+="X";else if(x==="transformOrigin"){Y.push(ms,0,a[ms]),f=Jre(f),z.svg?PT(e,f,0,B,0,this):(_=parseFloat(f.split(" ")[2])||0,_!==z.zOrigin&&lc(this,z,"zOrigin",z.zOrigin,_),lc(this,a,x,Px(d),Px(f)));continue}else if(x==="svgOrigin"){PT(e,f,1,B,0,this);continue}else if(x in ML){tie(this,z,x,g,j?Of(g,j+f):f);continue}else if(x==="smoothOrigin"){lc(this,z,"smooth",z.smooth,f);continue}else if(x==="force3D"){z[x]=f;continue}else if(x==="transform"){nie(this,f,e);continue}}else x in a||(x=ih(x)||x);if(w||(p||p===0)&&(g||g===0)&&!Lre.test(f)&&x in a)T=(d+"").substr((g+"").length),p||(p=0),_=Si(f)||(x in qs.units?qs.units[x]:T),T!==_&&(g=Sc(e,x,d,_)),this._pt=new ps(this._pt,w?z:a,x,g,(j?Of(g,j+p):p)-g,!w&&(_==="px"||x==="zIndex")&&n.autoRound!==!1?Bre:NT),this._pt.u=_||0,T!==_&&_!=="%"&&(this._pt.b=d,this._pt.r=zre);else if(x in a)Xre.call(this,e,x,d,j?j+f:f);else if(x in e)this.add(e,x,d||e[x],j?j+f:f,i,s);else if(x!=="parseTransform"){cC(x,f);continue}w||(x in a?Y.push(x,0,a[x]):typeof e[x]=="function"?Y.push(x,2,e[x]()):Y.push(x,1,d||e[x])),o.push(x)}}H&&CL(this)},render:function(e,n){if(n.tween._time||!bC())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:al,aliases:Pa,getSetter:function(e,n,r){var i=Pa[n];return i&&i.indexOf(",")<0&&(n=i),n in wl&&n!==ms&&(e._gsap.x||al(e,"x"))?r&&xR===r?n==="scale"?Wre:Vre:(xR=r||{})&&(n==="scale"?qre:Hre):e.style&&!oC(e.style[n])?$re:~n.indexOf("-")?Ure:yC(e,n)},core:{_removeProperty:sd,_getMatrix:kC}};gs.utils.checkPrefix=ih;gs.core.getStyleSaver=jL;(function(t,e,n,r){var i=hs(t+","+e+","+n,function(s){wl[s]=1});hs(e,function(s){qs.units[s]="deg",ML[s]=1}),Pa[i[13]]=t+","+e,hs(r,function(s){var o=s.split(":");Pa[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");hs("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){qs.units[t]="px"});gs.registerPlugin(LL);var Ql=gs.registerPlugin(LL)||gs;Ql.core.Tween;function rie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function iie(t,e,n){return e&&rie(t.prototype,e),t}/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var li,V0,Ms,cc,uc,zf,FL,wu,Hp,zL,hl,Bo,BL,$L=function(){return li||typeof window<"u"&&(li=window.gsap)&&li.registerPlugin&&li},UL=1,Cf=[],rn=[],La=[],Gp=Date.now,RT=function(e,n){return n},sie=function(){var e=Hp.core,n=e.bridge||{},r=e._scrollers,i=e._proxies;r.push.apply(r,rn),i.push.apply(i,La),rn=r,La=i,RT=function(o,a){return n[o](a)}},yc=function(e,n){return~La.indexOf(e)&&La[La.indexOf(e)+1][n]},Kp=function(e){return!!~zL.indexOf(e)},zi=function(e,n,r,i,s){return e.addEventListener(n,r,{passive:i!==!1,capture:!!s})},Fi=function(e,n,r,i){return e.removeEventListener(n,r,!!i)},Hy="scrollLeft",Gy="scrollTop",IT=function(){return hl&&hl.isPressed||rn.cache++},Rx=function(e,n){var r=function i(s){if(s||s===0){UL&&(Ms.history.scrollRestoration="manual");var o=hl&&hl.isPressed;s=i.v=Math.round(s)||(hl&&hl.iOS?1:0),e(s),i.cacheID=rn.cache,o&&RT("ss",s)}else(n||rn.cache!==i.cacheID||RT("ref"))&&(i.cacheID=rn.cache,i.v=e());return i.v+i.offset};return r.offset=0,e&&r},Gi={s:Hy,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Rx(function(t){return arguments.length?Ms.scrollTo(t,$r.sc()):Ms.pageXOffset||cc[Hy]||uc[Hy]||zf[Hy]||0})},$r={s:Gy,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Gi,sc:Rx(function(t){return arguments.length?Ms.scrollTo(Gi.sc(),t):Ms.pageYOffset||cc[Gy]||uc[Gy]||zf[Gy]||0})},as=function(e,n){return(n&&n._ctx&&n._ctx.selector||li.utils.toArray)(e)[0]||(typeof e=="string"&&li.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},oie=function(e,n){for(var r=n.length;r--;)if(n[r]===e||n[r].contains(e))return!0;return!1},Cc=function(e,n){var r=n.s,i=n.sc;Kp(e)&&(e=cc.scrollingElement||uc);var s=rn.indexOf(e),o=i===$r.sc?1:2;!~s&&(s=rn.push(e)-1),rn[s+o]||zi(e,"scroll",IT);var a=rn[s+o],c=a||(rn[s+o]=Rx(yc(e,r),!0)||(Kp(e)?i:Rx(function(d){return arguments.length?e[r]=d:e[r]})));return c.target=e,a||(c.smooth=li.getProperty(e,"scrollBehavior")==="smooth"),c},MT=function(e,n,r){var i=e,s=e,o=Gp(),a=o,c=n||50,d=Math.max(500,c*3),f=function(v,x){var T=Gp();x||T-o>c?(s=i,i=v,a=o,o=T):r?i+=v:i=s+(v-s)/(T-a)*(o-a)},p=function(){s=i=r?0:i,a=o=0},g=function(v){var x=a,T=s,_=Gp();return(v||v===0)&&v!==i&&f(v),o===a||_-a>d?0:(i+(r?T:-T))/((r?_:o)-x)*1e3};return{update:f,reset:p,getVelocity:g}},hp=function(e,n){return n&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},ER=function(e){var n=Math.max.apply(Math,e),r=Math.min.apply(Math,e);return Math.abs(n)>=Math.abs(r)?n:r},VL=function(){Hp=li.core.globals().ScrollTrigger,Hp&&Hp.core&&sie()},WL=function(e){return li=e||$L(),!V0&&li&&typeof document<"u"&&document.body&&(Ms=window,cc=document,uc=cc.documentElement,zf=cc.body,zL=[Ms,cc,uc,zf],li.utils.clamp,BL=li.core.context||function(){},wu="onpointerenter"in zf?"pointer":"mouse",FL=Tr.isTouch=Ms.matchMedia&&Ms.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Ms||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Bo=Tr.eventTypes=("ontouchstart"in uc?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in uc?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return UL=0},500),VL(),V0=1),V0};Gi.op=$r;rn.cache=0;var Tr=function(){function t(n){this.init(n)}var e=t.prototype;return e.init=function(r){V0||WL(li)||console.warn("Please gsap.registerPlugin(Observer)"),Hp||VL();var i=r.tolerance,s=r.dragMinimum,o=r.type,a=r.target,c=r.lineHeight,d=r.debounce,f=r.preventDefault,p=r.onStop,g=r.onStopDelay,m=r.ignore,v=r.wheelSpeed,x=r.event,T=r.onDragStart,_=r.onDragEnd,j=r.onDrag,w=r.onPress,F=r.onRelease,z=r.onRight,B=r.onLeft,H=r.onUp,Y=r.onDown,W=r.onChangeX,q=r.onChangeY,X=r.onChange,V=r.onToggleX,R=r.onToggleY,b=r.onHover,A=r.onHoverEnd,D=r.onMove,M=r.ignoreCheck,C=r.isNormalizer,I=r.onGestureStart,E=r.onGestureEnd,P=r.onWheel,N=r.onEnable,O=r.onDisable,Z=r.onClick,$=r.scrollSpeed,K=r.capture,G=r.allowClicks,J=r.lockAxis,ee=r.onLockAxis;this.target=a=as(a)||uc,this.vars=r,m&&(m=li.utils.toArray(m)),i=i||1e-9,s=s||0,v=v||1,$=$||1,o=o||"wheel,touch,pointer",d=d!==!1,c||(c=parseFloat(Ms.getComputedStyle(zf).lineHeight)||22);var ae,se,pe,he,ue,be,Ne,ie=this,De=0,gt=0,Je=r.passive||!f&&r.passive!==!1,Fe=Cc(a,Gi),Dt=Cc(a,$r),ot=Fe(),ct=Dt(),bt=~o.indexOf("touch")&&!~o.indexOf("pointer")&&Bo[0]==="pointerdown",ne=Kp(a),ce=a.ownerDocument||cc,we=[0,0,0],Se=[0,0,0],Ae=0,Ot=function(){return Ae=Gp()},Ye=function(Ve,We){return(ie.event=Ve)&&m&&oie(Ve.target,m)||We&&bt&&Ve.pointerType!=="touch"||M&&M(Ve,We)},mt=function(){ie._vx.reset(),ie._vy.reset(),se.pause(),p&&p(ie)},Kt=function(){var Ve=ie.deltaX=ER(we),We=ie.deltaY=ER(Se),Te=Math.abs(Ve)>=i,He=Math.abs(We)>=i;X&&(Te||He)&&X(ie,Ve,We,we,Se),Te&&(z&&ie.deltaX>0&&z(ie),B&&ie.deltaX<0&&B(ie),W&&W(ie),V&&ie.deltaX<0!=De<0&&V(ie),De=ie.deltaX,we[0]=we[1]=we[2]=0),He&&(Y&&ie.deltaY>0&&Y(ie),H&&ie.deltaY<0&&H(ie),q&&q(ie),R&&ie.deltaY<0!=gt<0&&R(ie),gt=ie.deltaY,Se[0]=Se[1]=Se[2]=0),(he||pe)&&(D&&D(ie),pe&&(T&&pe===1&&T(ie),j&&j(ie),pe=0),he=!1),be&&!(be=!1)&&ee&&ee(ie),ue&&(P(ie),ue=!1),ae=0},jt=function(Ve,We,Te){we[Te]+=Ve,Se[Te]+=We,ie._vx.update(Ve),ie._vy.update(We),d?ae||(ae=requestAnimationFrame(Kt)):Kt()},Qe=function(Ve,We){J&&!Ne&&(ie.axis=Ne=Math.abs(Ve)>Math.abs(We)?"x":"y",be=!0),Ne!=="y"&&(we[2]+=Ve,ie._vx.update(Ve,!0)),Ne!=="x"&&(Se[2]+=We,ie._vy.update(We,!0)),d?ae||(ae=requestAnimationFrame(Kt)):Kt()},bn=function(Ve){if(!Ye(Ve,1)){Ve=hp(Ve,f);var We=Ve.clientX,Te=Ve.clientY,He=We-ie.x,Ie=Te-ie.y,Be=ie.isDragging;ie.x=We,ie.y=Te,(Be||(He||Ie)&&(Math.abs(ie.startX-We)>=s||Math.abs(ie.startY-Te)>=s))&&(pe=Be?2:1,Be||(ie.isDragging=!0),Qe(He,Ie))}},Ct=ie.onPress=function(Le){Ye(Le,1)||Le&&Le.button||(ie.axis=Ne=null,se.pause(),ie.isPressed=!0,Le=hp(Le),De=gt=0,ie.startX=ie.x=Le.clientX,ie.startY=ie.y=Le.clientY,ie._vx.reset(),ie._vy.reset(),zi(C?a:ce,Bo[1],bn,Je,!0),ie.deltaX=ie.deltaY=0,w&&w(ie))},qe=ie.onRelease=function(Le){if(!Ye(Le,1)){Fi(C?a:ce,Bo[1],bn,!0);var Ve=!isNaN(ie.y-ie.startY),We=ie.isDragging,Te=We&&(Math.abs(ie.x-ie.startX)>3||Math.abs(ie.y-ie.startY)>3),He=hp(Le);!Te&&Ve&&(ie._vx.reset(),ie._vy.reset(),f&&G&&li.delayedCall(.08,function(){if(Gp()-Ae>300&&!Le.defaultPrevented){if(Le.target.click)Le.target.click();else if(ce.createEvent){var Ie=ce.createEvent("MouseEvents");Ie.initMouseEvent("click",!0,!0,Ms,1,He.screenX,He.screenY,He.clientX,He.clientY,!1,!1,!1,!1,0,null),Le.target.dispatchEvent(Ie)}}})),ie.isDragging=ie.isGesturing=ie.isPressed=!1,p&&We&&!C&&se.restart(!0),pe&&Kt(),_&&We&&_(ie),F&&F(ie,Te)}},Yn=function(Ve){return Ve.touches&&Ve.touches.length>1&&(ie.isGesturing=!0)&&I(Ve,ie.isDragging)},At=function(){return(ie.isGesturing=!1)||E(ie)},_t=function(Ve){if(!Ye(Ve)){var We=Fe(),Te=Dt();jt((We-ot)*$,(Te-ct)*$,1),ot=We,ct=Te,p&&se.restart(!0)}},pn=function(Ve){if(!Ye(Ve)){Ve=hp(Ve,f),P&&(ue=!0);var We=(Ve.deltaMode===1?c:Ve.deltaMode===2?Ms.innerHeight:1)*v;jt(Ve.deltaX*We,Ve.deltaY*We,0),p&&!C&&se.restart(!0)}},$t=function(Ve){if(!Ye(Ve)){var We=Ve.clientX,Te=Ve.clientY,He=We-ie.x,Ie=Te-ie.y;ie.x=We,ie.y=Te,he=!0,p&&se.restart(!0),(He||Ie)&&Qe(He,Ie)}},ze=function(Ve){ie.event=Ve,b(ie)},Et=function(Ve){ie.event=Ve,A(ie)},at=function(Ve){return Ye(Ve)||hp(Ve,f)&&Z(ie)};se=ie._dc=li.delayedCall(g||.25,mt).pause(),ie.deltaX=ie.deltaY=0,ie._vx=MT(0,50,!0),ie._vy=MT(0,50,!0),ie.scrollX=Fe,ie.scrollY=Dt,ie.isDragging=ie.isGesturing=ie.isPressed=!1,BL(this),ie.enable=function(Le){return ie.isEnabled||(zi(ne?ce:a,"scroll",IT),o.indexOf("scroll")>=0&&zi(ne?ce:a,"scroll",_t,Je,K),o.indexOf("wheel")>=0&&zi(a,"wheel",pn,Je,K),(o.indexOf("touch")>=0&&FL||o.indexOf("pointer")>=0)&&(zi(a,Bo[0],Ct,Je,K),zi(ce,Bo[2],qe),zi(ce,Bo[3],qe),G&&zi(a,"click",Ot,!0,!0),Z&&zi(a,"click",at),I&&zi(ce,"gesturestart",Yn),E&&zi(ce,"gestureend",At),b&&zi(a,wu+"enter",ze),A&&zi(a,wu+"leave",Et),D&&zi(a,wu+"move",$t)),ie.isEnabled=!0,ie.isDragging=ie.isGesturing=ie.isPressed=he=pe=!1,ie._vx.reset(),ie._vy.reset(),ot=Fe(),ct=Dt(),Le&&Le.type&&Ct(Le),N&&N(ie)),ie},ie.disable=function(){ie.isEnabled&&(Cf.filter(function(Le){return Le!==ie&&Kp(Le.target)}).length||Fi(ne?ce:a,"scroll",IT),ie.isPressed&&(ie._vx.reset(),ie._vy.reset(),Fi(C?a:ce,Bo[1],bn,!0)),Fi(ne?ce:a,"scroll",_t,K),Fi(a,"wheel",pn,K),Fi(a,Bo[0],Ct,K),Fi(ce,Bo[2],qe),Fi(ce,Bo[3],qe),Fi(a,"click",Ot,!0),Fi(a,"click",at),Fi(ce,"gesturestart",Yn),Fi(ce,"gestureend",At),Fi(a,wu+"enter",ze),Fi(a,wu+"leave",Et),Fi(a,wu+"move",$t),ie.isEnabled=ie.isPressed=ie.isDragging=!1,O&&O(ie))},ie.kill=ie.revert=function(){ie.disable();var Le=Cf.indexOf(ie);Le>=0&&Cf.splice(Le,1),hl===ie&&(hl=0)},Cf.push(ie),C&&Kp(a)&&(hl=ie),ie.enable(x)},iie(t,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),t}();Tr.version="3.13.0";Tr.create=function(t){return new Tr(t)};Tr.register=WL;Tr.getAll=function(){return Cf.slice()};Tr.getById=function(t){return Cf.filter(function(e){return e.vars.id===t})[0]};$L()&&li.registerPlugin(Tr);/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var et,lf,nn,Un,Rs,An,TC,Ix,zm,Yp,Np,Ky,vi,Pv,DT,Ui,NR,AR,cf,qL,D1,HL,$i,OT,GL,KL,Xl,LT,SC,Bf,CC,Mx,FT,O1,Yy=1,wi=Date.now,L1=wi(),So=0,Ap=0,jR=function(e,n,r){var i=Es(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return r["_"+n+"Clamp"]=i,i?e.substr(6,e.length-7):e},PR=function(e,n){return n&&(!Es(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},aie=function t(){return Ap&&requestAnimationFrame(t)},RR=function(){return Pv=1},IR=function(){return Pv=0},ka=function(e){return e},jp=function(e){return Math.round(e*1e5)/1e5||0},YL=function(){return typeof window<"u"},XL=function(){return et||YL()&&(et=window.gsap)&&et.registerPlugin&&et},od=function(e){return!!~TC.indexOf(e)},JL=function(e){return(e==="Height"?CC:nn["inner"+e])||Rs["client"+e]||An["client"+e]},QL=function(e){return yc(e,"getBoundingClientRect")||(od(e)?function(){return K0.width=nn.innerWidth,K0.height=CC,K0}:function(){return ul(e)})},lie=function(e,n,r){var i=r.d,s=r.d2,o=r.a;return(o=yc(e,"getBoundingClientRect"))?function(){return o()[i]}:function(){return(n?JL(s):e["client"+s])||0}},cie=function(e,n){return!n||~La.indexOf(e)?QL(e):function(){return K0}},Ra=function(e,n){var r=n.s,i=n.d2,s=n.d,o=n.a;return Math.max(0,(r="scroll"+i)&&(o=yc(e,r))?o()-QL(e)()[s]:od(e)?(Rs[r]||An[r])-JL(i):e[r]-e["offset"+i])},Xy=function(e,n){for(var r=0;r<cf.length;r+=3)(!n||~n.indexOf(cf[r+1]))&&e(cf[r],cf[r+1],cf[r+2])},Es=function(e){return typeof e=="string"},Ci=function(e){return typeof e=="function"},Pp=function(e){return typeof e=="number"},ku=function(e){return typeof e=="object"},pp=function(e,n,r){return e&&e.progress(n?0:1)&&r&&e.pause()},F1=function(e,n){if(e.enabled){var r=e._ctx?e._ctx.add(function(){return n(e)}):n(e);r&&r.totalTime&&(e.callbackAnimation=r)}},Jd=Math.abs,ZL="left",eF="top",_C="right",EC="bottom",Uu="width",Vu="height",Xp="Right",Jp="Left",Qp="Top",Zp="Bottom",Nr="padding",ho="margin",sh="Width",NC="Height",Br="px",po=function(e){return nn.getComputedStyle(e)},uie=function(e){var n=po(e).position;e.style.position=n==="absolute"||n==="fixed"?n:"relative"},MR=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},ul=function(e,n){var r=n&&po(e)[DT]!=="matrix(1, 0, 0, 1, 0, 0)"&&et.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return r&&r.progress(0).kill(),i},Dx=function(e,n){var r=n.d2;return e["offset"+r]||e["client"+r]||0},tF=function(e){var n=[],r=e.labels,i=e.duration(),s;for(s in r)n.push(r[s]/i);return n},die=function(e){return function(n){return et.utils.snap(tF(e),n)}},AC=function(e){var n=et.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(i,s){return i-s});return r?function(i,s,o){o===void 0&&(o=.001);var a;if(!s)return n(i);if(s>0){for(i-=o,a=0;a<r.length;a++)if(r[a]>=i)return r[a];return r[a-1]}else for(a=r.length,i+=o;a--;)if(r[a]<=i)return r[a];return r[0]}:function(i,s,o){o===void 0&&(o=.001);var a=n(i);return!s||Math.abs(a-i)<o||a-i<0==s<0?a:n(s<0?i-e:i+e)}},fie=function(e){return function(n,r){return AC(tF(e))(n,r.direction)}},Jy=function(e,n,r,i){return r.split(",").forEach(function(s){return e(n,s,i)})},Kr=function(e,n,r,i,s){return e.addEventListener(n,r,{passive:!i,capture:!!s})},Gr=function(e,n,r,i){return e.removeEventListener(n,r,!!i)},Qy=function(e,n,r){r=r&&r.wheelHandler,r&&(e(n,"wheel",r),e(n,"touchmove",r))},DR={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Zy={toggleActions:"play",anticipatePin:0},Ox={top:0,left:0,center:.5,bottom:1,right:1},W0=function(e,n){if(Es(e)){var r=e.indexOf("="),i=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(i*=n/100),e=e.substr(0,r-1)),e=i+(e in Ox?Ox[e]*n:~e.indexOf("%")?parseFloat(e)*n/100:parseFloat(e)||0)}return e},e0=function(e,n,r,i,s,o,a,c){var d=s.startColor,f=s.endColor,p=s.fontSize,g=s.indent,m=s.fontWeight,v=Un.createElement("div"),x=od(r)||yc(r,"pinType")==="fixed",T=e.indexOf("scroller")!==-1,_=x?An:r,j=e.indexOf("start")!==-1,w=j?d:f,F="border-color:"+w+";font-size:"+p+";color:"+w+";font-weight:"+m+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return F+="position:"+((T||c)&&x?"fixed;":"absolute;"),(T||c||!x)&&(F+=(i===$r?_C:EC)+":"+(o+parseFloat(g))+"px;"),a&&(F+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),v._isStart=j,v.setAttribute("class","gsap-marker-"+e+(n?" marker-"+n:"")),v.style.cssText=F,v.innerText=n||n===0?e+"-"+n:e,_.children[0]?_.insertBefore(v,_.children[0]):_.appendChild(v),v._offset=v["offset"+i.op.d2],q0(v,0,i,j),v},q0=function(e,n,r,i){var s={display:"block"},o=r[i?"os2":"p2"],a=r[i?"p2":"os2"];e._isFlipped=i,s[r.a+"Percent"]=i?-100:0,s[r.a]=i?"1px":0,s["border"+o+sh]=1,s["border"+a+sh]=0,s[r.p]=n+"px",et.set(e,s)},Yt=[],zT={},Bm,OR=function(){return wi()-So>34&&(Bm||(Bm=requestAnimationFrame(ml)))},Qd=function(){(!$i||!$i.isPressed||$i.startX>An.clientWidth)&&(rn.cache++,$i?Bm||(Bm=requestAnimationFrame(ml)):ml(),So||ld("scrollStart"),So=wi())},z1=function(){KL=nn.innerWidth,GL=nn.innerHeight},Rp=function(e){rn.cache++,(e===!0||!vi&&!HL&&!Un.fullscreenElement&&!Un.webkitFullscreenElement&&(!OT||KL!==nn.innerWidth||Math.abs(nn.innerHeight-GL)>nn.innerHeight*.25))&&Ix.restart(!0)},ad={},hie=[],nF=function t(){return Gr(an,"scrollEnd",t)||Iu(!0)},ld=function(e){return ad[e]&&ad[e].map(function(n){return n()})||hie},_s=[],rF=function(e){for(var n=0;n<_s.length;n+=5)(!e||_s[n+4]&&_s[n+4].query===e)&&(_s[n].style.cssText=_s[n+1],_s[n].getBBox&&_s[n].setAttribute("transform",_s[n+2]||""),_s[n+3].uncache=1)},jC=function(e,n){var r;for(Ui=0;Ui<Yt.length;Ui++)r=Yt[Ui],r&&(!n||r._ctx===n)&&(e?r.kill(1):r.revert(!0,!0));Mx=!0,n&&rF(n),n||ld("revert")},iF=function(e,n){rn.cache++,(n||!Vi)&&rn.forEach(function(r){return Ci(r)&&r.cacheID++&&(r.rec=0)}),Es(e)&&(nn.history.scrollRestoration=SC=e)},Vi,Wu=0,LR,pie=function(){if(LR!==Wu){var e=LR=Wu;requestAnimationFrame(function(){return e===Wu&&Iu(!0)})}},sF=function(){An.appendChild(Bf),CC=!$i&&Bf.offsetHeight||nn.innerHeight,An.removeChild(Bf)},FR=function(e){return zm(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(n){return n.style.display=e?"none":"block"})},Iu=function(e,n){if(Rs=Un.documentElement,An=Un.body,TC=[nn,Un,Rs,An],So&&!e&&!Mx){Kr(an,"scrollEnd",nF);return}sF(),Vi=an.isRefreshing=!0,rn.forEach(function(i){return Ci(i)&&++i.cacheID&&(i.rec=i())});var r=ld("refreshInit");qL&&an.sort(),n||jC(),rn.forEach(function(i){Ci(i)&&(i.smooth&&(i.target.style.scrollBehavior="auto"),i(0))}),Yt.slice(0).forEach(function(i){return i.refresh()}),Mx=!1,Yt.forEach(function(i){if(i._subPinOffset&&i.pin){var s=i.vars.horizontal?"offsetWidth":"offsetHeight",o=i.pin[s];i.revert(!0,1),i.adjustPinSpacing(i.pin[s]-o),i.refresh()}}),FT=1,FR(!0),Yt.forEach(function(i){var s=Ra(i.scroller,i._dir),o=i.vars.end==="max"||i._endClamp&&i.end>s,a=i._startClamp&&i.start>=s;(o||a)&&i.setPositions(a?s-1:i.start,o?Math.max(a?s:i.start+1,s):i.end,!0)}),FR(!1),FT=0,r.forEach(function(i){return i&&i.render&&i.render(-1)}),rn.forEach(function(i){Ci(i)&&(i.smooth&&requestAnimationFrame(function(){return i.target.style.scrollBehavior="smooth"}),i.rec&&i(i.rec))}),iF(SC,1),Ix.pause(),Wu++,Vi=2,ml(2),Yt.forEach(function(i){return Ci(i.vars.onRefresh)&&i.vars.onRefresh(i)}),Vi=an.isRefreshing=!1,ld("refresh")},BT=0,H0=1,em,ml=function(e){if(e===2||!Vi&&!Mx){an.isUpdating=!0,em&&em.update(0);var n=Yt.length,r=wi(),i=r-L1>=50,s=n&&Yt[0].scroll();if(H0=BT>s?-1:1,Vi||(BT=s),i&&(So&&!Pv&&r-So>200&&(So=0,ld("scrollEnd")),Np=L1,L1=r),H0<0){for(Ui=n;Ui-- >0;)Yt[Ui]&&Yt[Ui].update(0,i);H0=1}else for(Ui=0;Ui<n;Ui++)Yt[Ui]&&Yt[Ui].update(0,i);an.isUpdating=!1}Bm=0},$T=[ZL,eF,EC,_C,ho+Zp,ho+Xp,ho+Qp,ho+Jp,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],G0=$T.concat([Uu,Vu,"boxSizing","max"+sh,"max"+NC,"position",ho,Nr,Nr+Qp,Nr+Xp,Nr+Zp,Nr+Jp]),mie=function(e,n,r){$f(r);var i=e._gsap;if(i.spacerIsNative)$f(i.spacerState);else if(e._gsap.swappedIn){var s=n.parentNode;s&&(s.insertBefore(e,n),s.removeChild(n))}e._gsap.swappedIn=!1},B1=function(e,n,r,i){if(!e._gsap.swappedIn){for(var s=$T.length,o=n.style,a=e.style,c;s--;)c=$T[s],o[c]=r[c];o.position=r.position==="absolute"?"absolute":"relative",r.display==="inline"&&(o.display="inline-block"),a[EC]=a[_C]="auto",o.flexBasis=r.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[Uu]=Dx(e,Gi)+Br,o[Vu]=Dx(e,$r)+Br,o[Nr]=a[ho]=a[eF]=a[ZL]="0",$f(i),a[Uu]=a["max"+sh]=r[Uu],a[Vu]=a["max"+NC]=r[Vu],a[Nr]=r[Nr],e.parentNode!==n&&(e.parentNode.insertBefore(n,e),n.appendChild(e)),e._gsap.swappedIn=!0}},gie=/([A-Z])/g,$f=function(e){if(e){var n=e.t.style,r=e.length,i=0,s,o;for((e.t._gsap||et.core.getCache(e.t)).uncache=1;i<r;i+=2)o=e[i+1],s=e[i],o?n[s]=o:n[s]&&n.removeProperty(s.replace(gie,"-$1").toLowerCase())}},t0=function(e){for(var n=G0.length,r=e.style,i=[],s=0;s<n;s++)i.push(G0[s],r[G0[s]]);return i.t=e,i},yie=function(e,n,r){for(var i=[],s=e.length,o=r?8:0,a;o<s;o+=2)a=e[o],i.push(a,a in n?n[a]:e[o+1]);return i.t=e.t,i},K0={left:0,top:0},zR=function(e,n,r,i,s,o,a,c,d,f,p,g,m,v){Ci(e)&&(e=e(c)),Es(e)&&e.substr(0,3)==="max"&&(e=g+(e.charAt(4)==="="?W0("0"+e.substr(3),r):0));var x=m?m.time():0,T,_,j;if(m&&m.seek(0),isNaN(e)||(e=+e),Pp(e))m&&(e=et.utils.mapRange(m.scrollTrigger.start,m.scrollTrigger.end,0,g,e)),a&&q0(a,r,i,!0);else{Ci(n)&&(n=n(c));var w=(e||"0").split(" "),F,z,B,H;j=as(n,c)||An,F=ul(j)||{},(!F||!F.left&&!F.top)&&po(j).display==="none"&&(H=j.style.display,j.style.display="block",F=ul(j),H?j.style.display=H:j.style.removeProperty("display")),z=W0(w[0],F[i.d]),B=W0(w[1]||"0",r),e=F[i.p]-d[i.p]-f+z+s-B,a&&q0(a,B,i,r-B<20||a._isStart&&B>20),r-=r-B}if(v&&(c[v]=e||-.001,e<0&&(e=0)),o){var Y=e+r,W=o._isStart;T="scroll"+i.d2,q0(o,Y,i,W&&Y>20||!W&&(p?Math.max(An[T],Rs[T]):o.parentNode[T])<=Y+1),p&&(d=ul(a),p&&(o.style[i.op.p]=d[i.op.p]-i.op.m-o._offset+Br))}return m&&j&&(T=ul(j),m.seek(g),_=ul(j),m._caScrollDist=T[i.p]-_[i.p],e=e/m._caScrollDist*g),m&&m.seek(x),m?e:Math.round(e)},xie=/(webkit|moz|length|cssText|inset)/i,BR=function(e,n,r,i){if(e.parentNode!==n){var s=e.style,o,a;if(n===An){e._stOrig=s.cssText,a=po(e);for(o in a)!+o&&!xie.test(o)&&a[o]&&typeof s[o]=="string"&&o!=="0"&&(s[o]=a[o]);s.top=r,s.left=i}else s.cssText=e._stOrig;et.core.getCache(e).uncache=1,n.appendChild(e)}},oF=function(e,n,r){var i=n,s=i;return function(o){var a=Math.round(e());return a!==i&&a!==s&&Math.abs(a-i)>3&&Math.abs(a-s)>3&&(o=a,r&&r()),s=i,i=Math.round(o),i}},n0=function(e,n,r){var i={};i[n.p]="+="+r,et.set(e,i)},$R=function(e,n){var r=Cc(e,n),i="_scroll"+n.p2,s=function o(a,c,d,f,p){var g=o.tween,m=c.onComplete,v={};d=d||r();var x=oF(r,d,function(){g.kill(),o.tween=0});return p=f&&p||0,f=f||a-d,g&&g.kill(),c[i]=a,c.inherit=!1,c.modifiers=v,v[i]=function(){return x(d+f*g.ratio+p*g.ratio*g.ratio)},c.onUpdate=function(){rn.cache++,o.tween&&ml()},c.onComplete=function(){o.tween=0,m&&m.call(g)},g=o.tween=et.to(e,c),g};return e[i]=r,r.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},Kr(e,"wheel",r.wheelHandler),an.isTouch&&Kr(e,"touchmove",r.wheelHandler),s},an=function(){function t(n,r){lf||t.register(et)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),LT(this),this.init(n,r)}var e=t.prototype;return e.init=function(r,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Ap){this.update=this.refresh=this.kill=ka;return}r=MR(Es(r)||Pp(r)||r.nodeType?{trigger:r}:r,Zy);var s=r,o=s.onUpdate,a=s.toggleClass,c=s.id,d=s.onToggle,f=s.onRefresh,p=s.scrub,g=s.trigger,m=s.pin,v=s.pinSpacing,x=s.invalidateOnRefresh,T=s.anticipatePin,_=s.onScrubComplete,j=s.onSnapComplete,w=s.once,F=s.snap,z=s.pinReparent,B=s.pinSpacer,H=s.containerAnimation,Y=s.fastScrollEnd,W=s.preventOverlaps,q=r.horizontal||r.containerAnimation&&r.horizontal!==!1?Gi:$r,X=!p&&p!==0,V=as(r.scroller||nn),R=et.core.getCache(V),b=od(V),A=("pinType"in r?r.pinType:yc(V,"pinType")||b&&"fixed")==="fixed",D=[r.onEnter,r.onLeave,r.onEnterBack,r.onLeaveBack],M=X&&r.toggleActions.split(" "),C="markers"in r?r.markers:Zy.markers,I=b?0:parseFloat(po(V)["border"+q.p2+sh])||0,E=this,P=r.onRefreshInit&&function(){return r.onRefreshInit(E)},N=lie(V,b,q),O=cie(V,b),Z=0,$=0,K=0,G=Cc(V,q),J,ee,ae,se,pe,he,ue,be,Ne,ie,De,gt,Je,Fe,Dt,ot,ct,bt,ne,ce,we,Se,Ae,Ot,Ye,mt,Kt,jt,Qe,bn,Ct,qe,Yn,At,_t,pn,$t,ze,Et;if(E._startClamp=E._endClamp=!1,E._dir=q,T*=45,E.scroller=V,E.scroll=H?H.time.bind(H):G,se=G(),E.vars=r,i=i||r.animation,"refreshPriority"in r&&(qL=1,r.refreshPriority===-9999&&(em=E)),R.tweenScroll=R.tweenScroll||{top:$R(V,$r),left:$R(V,Gi)},E.tweenTo=J=R.tweenScroll[q.p],E.scrubDuration=function(Te){Yn=Pp(Te)&&Te,Yn?qe?qe.duration(Te):qe=et.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Yn,paused:!0,onComplete:function(){return _&&_(E)}}):(qe&&qe.progress(1).kill(),qe=0)},i&&(i.vars.lazy=!1,i._initted&&!E.isReverted||i.vars.immediateRender!==!1&&r.immediateRender!==!1&&i.duration()&&i.render(0,!0,!0),E.animation=i.pause(),i.scrollTrigger=E,E.scrubDuration(p),bn=0,c||(c=i.vars.id)),F&&((!ku(F)||F.push)&&(F={snapTo:F}),"scrollBehavior"in An.style&&et.set(b?[An,Rs]:V,{scrollBehavior:"auto"}),rn.forEach(function(Te){return Ci(Te)&&Te.target===(b?Un.scrollingElement||Rs:V)&&(Te.smooth=!1)}),ae=Ci(F.snapTo)?F.snapTo:F.snapTo==="labels"?die(i):F.snapTo==="labelsDirectional"?fie(i):F.directional!==!1?function(Te,He){return AC(F.snapTo)(Te,wi()-$<500?0:He.direction)}:et.utils.snap(F.snapTo),At=F.duration||{min:.1,max:2},At=ku(At)?Yp(At.min,At.max):Yp(At,At),_t=et.delayedCall(F.delay||Yn/2||.1,function(){var Te=G(),He=wi()-$<500,Ie=J.tween;if((He||Math.abs(E.getVelocity())<10)&&!Ie&&!Pv&&Z!==Te){var Be=(Te-he)/Fe,wn=i&&!X?i.totalProgress():Be,Xe=He?0:(wn-Ct)/(wi()-Np)*1e3||0,yt=et.utils.clamp(-Be,1-Be,Jd(Xe/2)*Xe/.185),Pn=Be+(F.inertia===!1?0:yt),wt,ft,Lt=F,Ft=Lt.onStart,xt=Lt.onInterrupt,Wn=Lt.onComplete;if(wt=ae(Pn,E),Pp(wt)||(wt=Pn),ft=Math.max(0,Math.round(he+wt*Fe)),Te<=ue&&Te>=he&&ft!==Te){if(Ie&&!Ie._initted&&Ie.data<=Jd(ft-Te))return;F.inertia===!1&&(yt=wt-Be),J(ft,{duration:At(Jd(Math.max(Jd(Pn-wn),Jd(wt-wn))*.185/Xe/.05||0)),ease:F.ease||"power3",data:Jd(ft-Te),onInterrupt:function(){return _t.restart(!0)&&xt&&xt(E)},onComplete:function(){E.update(),Z=G(),i&&!X&&(qe?qe.resetTo("totalProgress",wt,i._tTime/i._tDur):i.progress(wt)),bn=Ct=i&&!X?i.totalProgress():E.progress,j&&j(E),Wn&&Wn(E)}},Te,yt*Fe,ft-Te-yt*Fe),Ft&&Ft(E,J.tween)}}else E.isActive&&Z!==Te&&_t.restart(!0)}).pause()),c&&(zT[c]=E),g=E.trigger=as(g||m!==!0&&m),Et=g&&g._gsap&&g._gsap.stRevert,Et&&(Et=Et(E)),m=m===!0?g:as(m),Es(a)&&(a={targets:g,className:a}),m&&(v===!1||v===ho||(v=!v&&m.parentNode&&m.parentNode.style&&po(m.parentNode).display==="flex"?!1:Nr),E.pin=m,ee=et.core.getCache(m),ee.spacer?Dt=ee.pinState:(B&&(B=as(B),B&&!B.nodeType&&(B=B.current||B.nativeElement),ee.spacerIsNative=!!B,B&&(ee.spacerState=t0(B))),ee.spacer=bt=B||Un.createElement("div"),bt.classList.add("pin-spacer"),c&&bt.classList.add("pin-spacer-"+c),ee.pinState=Dt=t0(m)),r.force3D!==!1&&et.set(m,{force3D:!0}),E.spacer=bt=ee.spacer,Qe=po(m),Ot=Qe[v+q.os2],ce=et.getProperty(m),we=et.quickSetter(m,q.a,Br),B1(m,bt,Qe),ct=t0(m)),C){gt=ku(C)?MR(C,DR):DR,ie=e0("scroller-start",c,V,q,gt,0),De=e0("scroller-end",c,V,q,gt,0,ie),ne=ie["offset"+q.op.d2];var at=as(yc(V,"content")||V);be=this.markerStart=e0("start",c,at,q,gt,ne,0,H),Ne=this.markerEnd=e0("end",c,at,q,gt,ne,0,H),H&&(ze=et.quickSetter([be,Ne],q.a,Br)),!A&&!(La.length&&yc(V,"fixedMarkers")===!0)&&(uie(b?An:V),et.set([ie,De],{force3D:!0}),mt=et.quickSetter(ie,q.a,Br),jt=et.quickSetter(De,q.a,Br))}if(H){var Le=H.vars.onUpdate,Ve=H.vars.onUpdateParams;H.eventCallback("onUpdate",function(){E.update(0,0,1),Le&&Le.apply(H,Ve||[])})}if(E.previous=function(){return Yt[Yt.indexOf(E)-1]},E.next=function(){return Yt[Yt.indexOf(E)+1]},E.revert=function(Te,He){if(!He)return E.kill(!0);var Ie=Te!==!1||!E.enabled,Be=vi;Ie!==E.isReverted&&(Ie&&(pn=Math.max(G(),E.scroll.rec||0),K=E.progress,$t=i&&i.progress()),be&&[be,Ne,ie,De].forEach(function(wn){return wn.style.display=Ie?"none":"block"}),Ie&&(vi=E,E.update(Ie)),m&&(!z||!E.isActive)&&(Ie?mie(m,bt,Dt):B1(m,bt,po(m),Ye)),Ie||E.update(Ie),vi=Be,E.isReverted=Ie)},E.refresh=function(Te,He,Ie,Be){if(!((vi||!E.enabled)&&!He)){if(m&&Te&&So){Kr(t,"scrollEnd",nF);return}!Vi&&P&&P(E),vi=E,J.tween&&!Ie&&(J.tween.kill(),J.tween=0),qe&&qe.pause(),x&&i&&(i.revert({kill:!1}).invalidate(),i.getChildren&&i.getChildren(!0,!0,!1).forEach(function(Ce){return Ce.vars.immediateRender&&Ce.render(0,!0,!0)})),E.isReverted||E.revert(!0,!0),E._subPinOffset=!1;var wn=N(),Xe=O(),yt=H?H.duration():Ra(V,q),Pn=Fe<=.01||!Fe,wt=0,ft=Be||0,Lt=ku(Ie)?Ie.end:r.end,Ft=r.endTrigger||g,xt=ku(Ie)?Ie.start:r.start||(r.start===0||!g?0:m?"0 0":"0 100%"),Wn=E.pinnedContainer=r.pinnedContainer&&as(r.pinnedContainer,E),Mn=g&&Math.max(0,Yt.indexOf(E))||0,mn=Mn,dn,Tn,Ii,Js,zt,Dn,Sr,Qs,xs,vs,yr,ve,ge;for(C&&ku(Ie)&&(ve=et.getProperty(ie,q.p),ge=et.getProperty(De,q.p));mn-- >0;)Dn=Yt[mn],Dn.end||Dn.refresh(0,1)||(vi=E),Sr=Dn.pin,Sr&&(Sr===g||Sr===m||Sr===Wn)&&!Dn.isReverted&&(vs||(vs=[]),vs.unshift(Dn),Dn.revert(!0,!0)),Dn!==Yt[mn]&&(Mn--,mn--);for(Ci(xt)&&(xt=xt(E)),xt=jR(xt,"start",E),he=zR(xt,g,wn,q,G(),be,ie,E,Xe,I,A,yt,H,E._startClamp&&"_startClamp")||(m?-.001:0),Ci(Lt)&&(Lt=Lt(E)),Es(Lt)&&!Lt.indexOf("+=")&&(~Lt.indexOf(" ")?Lt=(Es(xt)?xt.split(" ")[0]:"")+Lt:(wt=W0(Lt.substr(2),wn),Lt=Es(xt)?xt:(H?et.utils.mapRange(0,H.duration(),H.scrollTrigger.start,H.scrollTrigger.end,he):he)+wt,Ft=g)),Lt=jR(Lt,"end",E),ue=Math.max(he,zR(Lt||(Ft?"100% 0":yt),Ft,wn,q,G()+wt,Ne,De,E,Xe,I,A,yt,H,E._endClamp&&"_endClamp"))||-.001,wt=0,mn=Mn;mn--;)Dn=Yt[mn],Sr=Dn.pin,Sr&&Dn.start-Dn._pinPush<=he&&!H&&Dn.end>0&&(dn=Dn.end-(E._startClamp?Math.max(0,Dn.start):Dn.start),(Sr===g&&Dn.start-Dn._pinPush<he||Sr===Wn)&&isNaN(xt)&&(wt+=dn*(1-Dn.progress)),Sr===m&&(ft+=dn));if(he+=wt,ue+=wt,E._startClamp&&(E._startClamp+=wt),E._endClamp&&!Vi&&(E._endClamp=ue||-.001,ue=Math.min(ue,Ra(V,q))),Fe=ue-he||(he-=.01)&&.001,Pn&&(K=et.utils.clamp(0,1,et.utils.normalize(he,ue,pn))),E._pinPush=ft,be&&wt&&(dn={},dn[q.a]="+="+wt,Wn&&(dn[q.p]="-="+G()),et.set([be,Ne],dn)),m&&!(FT&&E.end>=Ra(V,q)))dn=po(m),Js=q===$r,Ii=G(),Se=parseFloat(ce(q.a))+ft,!yt&&ue>1&&(yr=(b?Un.scrollingElement||Rs:V).style,yr={style:yr,value:yr["overflow"+q.a.toUpperCase()]},b&&po(An)["overflow"+q.a.toUpperCase()]!=="scroll"&&(yr.style["overflow"+q.a.toUpperCase()]="scroll")),B1(m,bt,dn),ct=t0(m),Tn=ul(m,!0),Qs=A&&Cc(V,Js?Gi:$r)(),v?(Ye=[v+q.os2,Fe+ft+Br],Ye.t=bt,mn=v===Nr?Dx(m,q)+Fe+ft:0,mn&&(Ye.push(q.d,mn+Br),bt.style.flexBasis!=="auto"&&(bt.style.flexBasis=mn+Br)),$f(Ye),Wn&&Yt.forEach(function(Ce){Ce.pin===Wn&&Ce.vars.pinSpacing!==!1&&(Ce._subPinOffset=!0)}),A&&G(pn)):(mn=Dx(m,q),mn&&bt.style.flexBasis!=="auto"&&(bt.style.flexBasis=mn+Br)),A&&(zt={top:Tn.top+(Js?Ii-he:Qs)+Br,left:Tn.left+(Js?Qs:Ii-he)+Br,boxSizing:"border-box",position:"fixed"},zt[Uu]=zt["max"+sh]=Math.ceil(Tn.width)+Br,zt[Vu]=zt["max"+NC]=Math.ceil(Tn.height)+Br,zt[ho]=zt[ho+Qp]=zt[ho+Xp]=zt[ho+Zp]=zt[ho+Jp]="0",zt[Nr]=dn[Nr],zt[Nr+Qp]=dn[Nr+Qp],zt[Nr+Xp]=dn[Nr+Xp],zt[Nr+Zp]=dn[Nr+Zp],zt[Nr+Jp]=dn[Nr+Jp],ot=yie(Dt,zt,z),Vi&&G(0)),i?(xs=i._initted,D1(1),i.render(i.duration(),!0,!0),Ae=ce(q.a)-Se+Fe+ft,Kt=Math.abs(Fe-Ae)>1,A&&Kt&&ot.splice(ot.length-2,2),i.render(0,!0,!0),xs||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),D1(0)):Ae=Fe,yr&&(yr.value?yr.style["overflow"+q.a.toUpperCase()]=yr.value:yr.style.removeProperty("overflow-"+q.a));else if(g&&G()&&!H)for(Tn=g.parentNode;Tn&&Tn!==An;)Tn._pinOffset&&(he-=Tn._pinOffset,ue-=Tn._pinOffset),Tn=Tn.parentNode;vs&&vs.forEach(function(Ce){return Ce.revert(!1,!0)}),E.start=he,E.end=ue,se=pe=Vi?pn:G(),!H&&!Vi&&(se<pn&&G(pn),E.scroll.rec=0),E.revert(!1,!0),$=wi(),_t&&(Z=-1,_t.restart(!0)),vi=0,i&&X&&(i._initted||$t)&&i.progress()!==$t&&i.progress($t||0,!0).render(i.time(),!0,!0),(Pn||K!==E.progress||H||x||i&&!i._initted)&&(i&&!X&&(i._initted||K||i.vars.immediateRender!==!1)&&i.totalProgress(H&&he<-.001&&!K?et.utils.normalize(he,ue,0):K,!0),E.progress=Pn||(se-he)/Fe===K?0:K),m&&v&&(bt._pinOffset=Math.round(E.progress*Ae)),qe&&qe.invalidate(),isNaN(ve)||(ve-=et.getProperty(ie,q.p),ge-=et.getProperty(De,q.p),n0(ie,q,ve),n0(be,q,ve-(Be||0)),n0(De,q,ge),n0(Ne,q,ge-(Be||0))),Pn&&!Vi&&E.update(),f&&!Vi&&!Je&&(Je=!0,f(E),Je=!1)}},E.getVelocity=function(){return(G()-pe)/(wi()-Np)*1e3||0},E.endAnimation=function(){pp(E.callbackAnimation),i&&(qe?qe.progress(1):i.paused()?X||pp(i,E.direction<0,1):pp(i,i.reversed()))},E.labelToScroll=function(Te){return i&&i.labels&&(he||E.refresh()||he)+i.labels[Te]/i.duration()*Fe||0},E.getTrailing=function(Te){var He=Yt.indexOf(E),Ie=E.direction>0?Yt.slice(0,He).reverse():Yt.slice(He+1);return(Es(Te)?Ie.filter(function(Be){return Be.vars.preventOverlaps===Te}):Ie).filter(function(Be){return E.direction>0?Be.end<=he:Be.start>=ue})},E.update=function(Te,He,Ie){if(!(H&&!Ie&&!Te)){var Be=Vi===!0?pn:E.scroll(),wn=Te?0:(Be-he)/Fe,Xe=wn<0?0:wn>1?1:wn||0,yt=E.progress,Pn,wt,ft,Lt,Ft,xt,Wn,Mn;if(He&&(pe=se,se=H?G():Be,F&&(Ct=bn,bn=i&&!X?i.totalProgress():Xe)),T&&m&&!vi&&!Yy&&So&&(!Xe&&he<Be+(Be-pe)/(wi()-Np)*T?Xe=1e-4:Xe===1&&ue>Be+(Be-pe)/(wi()-Np)*T&&(Xe=.9999)),Xe!==yt&&E.enabled){if(Pn=E.isActive=!!Xe&&Xe<1,wt=!!yt&&yt<1,xt=Pn!==wt,Ft=xt||!!Xe!=!!yt,E.direction=Xe>yt?1:-1,E.progress=Xe,Ft&&!vi&&(ft=Xe&&!yt?0:Xe===1?1:yt===1?2:3,X&&(Lt=!xt&&M[ft+1]!=="none"&&M[ft+1]||M[ft],Mn=i&&(Lt==="complete"||Lt==="reset"||Lt in i))),W&&(xt||Mn)&&(Mn||p||!i)&&(Ci(W)?W(E):E.getTrailing(W).forEach(function(Ii){return Ii.endAnimation()})),X||(qe&&!vi&&!Yy?(qe._dp._time-qe._start!==qe._time&&qe.render(qe._dp._time-qe._start),qe.resetTo?qe.resetTo("totalProgress",Xe,i._tTime/i._tDur):(qe.vars.totalProgress=Xe,qe.invalidate().restart())):i&&i.totalProgress(Xe,!!(vi&&($||Te)))),m){if(Te&&v&&(bt.style[v+q.os2]=Ot),!A)we(jp(Se+Ae*Xe));else if(Ft){if(Wn=!Te&&Xe>yt&&ue+1>Be&&Be+1>=Ra(V,q),z)if(!Te&&(Pn||Wn)){var mn=ul(m,!0),dn=Be-he;BR(m,An,mn.top+(q===$r?dn:0)+Br,mn.left+(q===$r?0:dn)+Br)}else BR(m,bt);$f(Pn||Wn?ot:ct),Kt&&Xe<1&&Pn||we(Se+(Xe===1&&!Wn?Ae:0))}}F&&!J.tween&&!vi&&!Yy&&_t.restart(!0),a&&(xt||w&&Xe&&(Xe<1||!O1))&&zm(a.targets).forEach(function(Ii){return Ii.classList[Pn||w?"add":"remove"](a.className)}),o&&!X&&!Te&&o(E),Ft&&!vi?(X&&(Mn&&(Lt==="complete"?i.pause().totalProgress(1):Lt==="reset"?i.restart(!0).pause():Lt==="restart"?i.restart(!0):i[Lt]()),o&&o(E)),(xt||!O1)&&(d&&xt&&F1(E,d),D[ft]&&F1(E,D[ft]),w&&(Xe===1?E.kill(!1,1):D[ft]=0),xt||(ft=Xe===1?1:3,D[ft]&&F1(E,D[ft]))),Y&&!Pn&&Math.abs(E.getVelocity())>(Pp(Y)?Y:2500)&&(pp(E.callbackAnimation),qe?qe.progress(1):pp(i,Lt==="reverse"?1:!Xe,1))):X&&o&&!vi&&o(E)}if(jt){var Tn=H?Be/H.duration()*(H._caScrollDist||0):Be;mt(Tn+(ie._isFlipped?1:0)),jt(Tn)}ze&&ze(-Be/H.duration()*(H._caScrollDist||0))}},E.enable=function(Te,He){E.enabled||(E.enabled=!0,Kr(V,"resize",Rp),b||Kr(V,"scroll",Qd),P&&Kr(t,"refreshInit",P),Te!==!1&&(E.progress=K=0,se=pe=Z=G()),He!==!1&&E.refresh())},E.getTween=function(Te){return Te&&J?J.tween:qe},E.setPositions=function(Te,He,Ie,Be){if(H){var wn=H.scrollTrigger,Xe=H.duration(),yt=wn.end-wn.start;Te=wn.start+yt*Te/Xe,He=wn.start+yt*He/Xe}E.refresh(!1,!1,{start:PR(Te,Ie&&!!E._startClamp),end:PR(He,Ie&&!!E._endClamp)},Be),E.update()},E.adjustPinSpacing=function(Te){if(Ye&&Te){var He=Ye.indexOf(q.d)+1;Ye[He]=parseFloat(Ye[He])+Te+Br,Ye[1]=parseFloat(Ye[1])+Te+Br,$f(Ye)}},E.disable=function(Te,He){if(E.enabled&&(Te!==!1&&E.revert(!0,!0),E.enabled=E.isActive=!1,He||qe&&qe.pause(),pn=0,ee&&(ee.uncache=1),P&&Gr(t,"refreshInit",P),_t&&(_t.pause(),J.tween&&J.tween.kill()&&(J.tween=0)),!b)){for(var Ie=Yt.length;Ie--;)if(Yt[Ie].scroller===V&&Yt[Ie]!==E)return;Gr(V,"resize",Rp),b||Gr(V,"scroll",Qd)}},E.kill=function(Te,He){E.disable(Te,He),qe&&!He&&qe.kill(),c&&delete zT[c];var Ie=Yt.indexOf(E);Ie>=0&&Yt.splice(Ie,1),Ie===Ui&&H0>0&&Ui--,Ie=0,Yt.forEach(function(Be){return Be.scroller===E.scroller&&(Ie=1)}),Ie||Vi||(E.scroll.rec=0),i&&(i.scrollTrigger=null,Te&&i.revert({kill:!1}),He||i.kill()),be&&[be,Ne,ie,De].forEach(function(Be){return Be.parentNode&&Be.parentNode.removeChild(Be)}),em===E&&(em=0),m&&(ee&&(ee.uncache=1),Ie=0,Yt.forEach(function(Be){return Be.pin===m&&Ie++}),Ie||(ee.spacer=0)),r.onKill&&r.onKill(E)},Yt.push(E),E.enable(!1,!1),Et&&Et(E),i&&i.add&&!Fe){var We=E.update;E.update=function(){E.update=We,rn.cache++,he||ue||E.refresh()},et.delayedCall(.01,E.update),Fe=.01,he=ue=0}else E.refresh();m&&pie()},t.register=function(r){return lf||(et=r||XL(),YL()&&window.document&&t.enable(),lf=Ap),lf},t.defaults=function(r){if(r)for(var i in r)Zy[i]=r[i];return Zy},t.disable=function(r,i){Ap=0,Yt.forEach(function(o){return o[i?"kill":"disable"](r)}),Gr(nn,"wheel",Qd),Gr(Un,"scroll",Qd),clearInterval(Ky),Gr(Un,"touchcancel",ka),Gr(An,"touchstart",ka),Jy(Gr,Un,"pointerdown,touchstart,mousedown",RR),Jy(Gr,Un,"pointerup,touchend,mouseup",IR),Ix.kill(),Xy(Gr);for(var s=0;s<rn.length;s+=3)Qy(Gr,rn[s],rn[s+1]),Qy(Gr,rn[s],rn[s+2])},t.enable=function(){if(nn=window,Un=document,Rs=Un.documentElement,An=Un.body,et&&(zm=et.utils.toArray,Yp=et.utils.clamp,LT=et.core.context||ka,D1=et.core.suppressOverwrites||ka,SC=nn.history.scrollRestoration||"auto",BT=nn.pageYOffset||0,et.core.globals("ScrollTrigger",t),An)){Ap=1,Bf=document.createElement("div"),Bf.style.height="100vh",Bf.style.position="absolute",sF(),aie(),Tr.register(et),t.isTouch=Tr.isTouch,Xl=Tr.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),OT=Tr.isTouch===1,Kr(nn,"wheel",Qd),TC=[nn,Un,Rs,An],et.matchMedia?(t.matchMedia=function(d){var f=et.matchMedia(),p;for(p in d)f.add(p,d[p]);return f},et.addEventListener("matchMediaInit",function(){return jC()}),et.addEventListener("matchMediaRevert",function(){return rF()}),et.addEventListener("matchMedia",function(){Iu(0,1),ld("matchMedia")}),et.matchMedia().add("(orientation: portrait)",function(){return z1(),z1})):console.warn("Requires GSAP 3.11.0 or later"),z1(),Kr(Un,"scroll",Qd);var r=An.hasAttribute("style"),i=An.style,s=i.borderTopStyle,o=et.core.Animation.prototype,a,c;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",a=ul(An),$r.m=Math.round(a.top+$r.sc())||0,Gi.m=Math.round(a.left+Gi.sc())||0,s?i.borderTopStyle=s:i.removeProperty("border-top-style"),r||(An.setAttribute("style",""),An.removeAttribute("style")),Ky=setInterval(OR,250),et.delayedCall(.5,function(){return Yy=0}),Kr(Un,"touchcancel",ka),Kr(An,"touchstart",ka),Jy(Kr,Un,"pointerdown,touchstart,mousedown",RR),Jy(Kr,Un,"pointerup,touchend,mouseup",IR),DT=et.utils.checkPrefix("transform"),G0.push(DT),lf=wi(),Ix=et.delayedCall(.2,Iu).pause(),cf=[Un,"visibilitychange",function(){var d=nn.innerWidth,f=nn.innerHeight;Un.hidden?(NR=d,AR=f):(NR!==d||AR!==f)&&Rp()},Un,"DOMContentLoaded",Iu,nn,"load",Iu,nn,"resize",Rp],Xy(Kr),Yt.forEach(function(d){return d.enable(0,1)}),c=0;c<rn.length;c+=3)Qy(Gr,rn[c],rn[c+1]),Qy(Gr,rn[c],rn[c+2])}},t.config=function(r){"limitCallbacks"in r&&(O1=!!r.limitCallbacks);var i=r.syncInterval;i&&clearInterval(Ky)||(Ky=i)&&setInterval(OR,i),"ignoreMobileResize"in r&&(OT=t.isTouch===1&&r.ignoreMobileResize),"autoRefreshEvents"in r&&(Xy(Gr)||Xy(Kr,r.autoRefreshEvents||"none"),HL=(r.autoRefreshEvents+"").indexOf("resize")===-1)},t.scrollerProxy=function(r,i){var s=as(r),o=rn.indexOf(s),a=od(s);~o&&rn.splice(o,a?6:2),i&&(a?La.unshift(nn,i,An,i,Rs,i):La.unshift(s,i))},t.clearMatchMedia=function(r){Yt.forEach(function(i){return i._ctx&&i._ctx.query===r&&i._ctx.kill(!0,!0)})},t.isInViewport=function(r,i,s){var o=(Es(r)?as(r):r).getBoundingClientRect(),a=o[s?Uu:Vu]*i||0;return s?o.right-a>0&&o.left+a<nn.innerWidth:o.bottom-a>0&&o.top+a<nn.innerHeight},t.positionInViewport=function(r,i,s){Es(r)&&(r=as(r));var o=r.getBoundingClientRect(),a=o[s?Uu:Vu],c=i==null?a/2:i in Ox?Ox[i]*a:~i.indexOf("%")?parseFloat(i)*a/100:parseFloat(i)||0;return s?(o.left+c)/nn.innerWidth:(o.top+c)/nn.innerHeight},t.killAll=function(r){if(Yt.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),r!==!0){var i=ad.killAll||[];ad={},i.forEach(function(s){return s()})}},t}();an.version="3.13.0";an.saveStyles=function(t){return t?zm(t).forEach(function(e){if(e&&e.style){var n=_s.indexOf(e);n>=0&&_s.splice(n,5),_s.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),et.core.getCache(e),LT())}}):_s};an.revert=function(t,e){return jC(!t,e)};an.create=function(t,e){return new an(t,e)};an.refresh=function(t){return t?Rp(!0):(lf||an.register())&&Iu(!0)};an.update=function(t){return++rn.cache&&ml(t===!0?2:0)};an.clearScrollMemory=iF;an.maxScroll=function(t,e){return Ra(t,e?Gi:$r)};an.getScrollFunc=function(t,e){return Cc(as(t),e?Gi:$r)};an.getById=function(t){return zT[t]};an.getAll=function(){return Yt.filter(function(t){return t.vars.id!=="ScrollSmoother"})};an.isScrolling=function(){return!!So};an.snapDirectional=AC;an.addEventListener=function(t,e){var n=ad[t]||(ad[t]=[]);~n.indexOf(e)||n.push(e)};an.removeEventListener=function(t,e){var n=ad[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)};an.batch=function(t,e){var n=[],r={},i=e.interval||.016,s=e.batchMax||1e9,o=function(d,f){var p=[],g=[],m=et.delayedCall(i,function(){f(p,g),p=[],g=[]}).pause();return function(v){p.length||m.restart(!0),p.push(v.trigger),g.push(v),s<=p.length&&m.progress(1)}},a;for(a in e)r[a]=a.substr(0,2)==="on"&&Ci(e[a])&&a!=="onRefreshInit"?o(a,e[a]):e[a];return Ci(s)&&(s=s(),Kr(an,"refresh",function(){return s=e.batchMax()})),zm(t).forEach(function(c){var d={};for(a in r)d[a]=r[a];d.trigger=c,n.push(an.create(d))}),n};var UR=function(e,n,r,i){return n>i?e(i):n<0&&e(0),r>i?(i-n)/(r-n):r<0?n/(n-r):1},$1=function t(e,n){n===!0?e.style.removeProperty("touch-action"):e.style.touchAction=n===!0?"auto":n?"pan-"+n+(Tr.isTouch?" pinch-zoom":""):"none",e===Rs&&t(An,n)},r0={auto:1,scroll:1},vie=function(e){var n=e.event,r=e.target,i=e.axis,s=(n.changedTouches?n.changedTouches[0]:n).target,o=s._gsap||et.core.getCache(s),a=wi(),c;if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s!==An&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(r0[(c=po(s)).overflowY]||r0[c.overflowX]));)s=s.parentNode;o._isScroll=s&&s!==r&&!od(s)&&(r0[(c=po(s)).overflowY]||r0[c.overflowX]),o._isScrollT=a}(o._isScroll||i==="x")&&(n.stopPropagation(),n._gsapAllow=!0)},aF=function(e,n,r,i){return Tr.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:n,onWheel:i=i&&vie,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return r&&Kr(Un,Tr.eventTypes[0],WR,!1,!0)},onDisable:function(){return Gr(Un,Tr.eventTypes[0],WR,!0)}})},bie=/(input|label|select|textarea)/i,VR,WR=function(e){var n=bie.test(e.target.tagName);(n||VR)&&(e._gsapAllow=!0,VR=n)},wie=function(e){ku(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var n=e,r=n.normalizeScrollX,i=n.momentum,s=n.allowNestedScroll,o=n.onRelease,a,c,d=as(e.target)||Rs,f=et.core.globals().ScrollSmoother,p=f&&f.get(),g=Xl&&(e.content&&as(e.content)||p&&e.content!==!1&&!p.smooth()&&p.content()),m=Cc(d,$r),v=Cc(d,Gi),x=1,T=(Tr.isTouch&&nn.visualViewport?nn.visualViewport.scale*nn.visualViewport.width:nn.outerWidth)/nn.innerWidth,_=0,j=Ci(i)?function(){return i(a)}:function(){return i||2.8},w,F,z=aF(d,e.type,!0,s),B=function(){return F=!1},H=ka,Y=ka,W=function(){c=Ra(d,$r),Y=Yp(Xl?1:0,c),r&&(H=Yp(0,Ra(d,Gi))),w=Wu},q=function(){g._gsap.y=jp(parseFloat(g._gsap.y)+m.offset)+"px",g.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(g._gsap.y)+", 0, 1)",m.offset=m.cacheID=0},X=function(){if(F){requestAnimationFrame(B);var C=jp(a.deltaY/2),I=Y(m.v-C);if(g&&I!==m.v+m.offset){m.offset=I-m.v;var E=jp((parseFloat(g&&g._gsap.y)||0)-m.offset);g.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+E+", 0, 1)",g._gsap.y=E+"px",m.cacheID=rn.cache,ml()}return!0}m.offset&&q(),F=!0},V,R,b,A,D=function(){W(),V.isActive()&&V.vars.scrollY>c&&(m()>c?V.progress(1)&&m(c):V.resetTo("scrollY",c))};return g&&et.set(g,{y:"+=0"}),e.ignoreCheck=function(M){return Xl&&M.type==="touchmove"&&X()||x>1.05&&M.type!=="touchstart"||a.isGesturing||M.touches&&M.touches.length>1},e.onPress=function(){F=!1;var M=x;x=jp((nn.visualViewport&&nn.visualViewport.scale||1)/T),V.pause(),M!==x&&$1(d,x>1.01?!0:r?!1:"x"),R=v(),b=m(),W(),w=Wu},e.onRelease=e.onGestureStart=function(M,C){if(m.offset&&q(),!C)A.restart(!0);else{rn.cache++;var I=j(),E,P;r&&(E=v(),P=E+I*.05*-M.velocityX/.227,I*=UR(v,E,P,Ra(d,Gi)),V.vars.scrollX=H(P)),E=m(),P=E+I*.05*-M.velocityY/.227,I*=UR(m,E,P,Ra(d,$r)),V.vars.scrollY=Y(P),V.invalidate().duration(I).play(.01),(Xl&&V.vars.scrollY>=c||E>=c-1)&&et.to({},{onUpdate:D,duration:I})}o&&o(M)},e.onWheel=function(){V._ts&&V.pause(),wi()-_>1e3&&(w=0,_=wi())},e.onChange=function(M,C,I,E,P){if(Wu!==w&&W(),C&&r&&v(H(E[2]===C?R+(M.startX-M.x):v()+C-E[1])),I){m.offset&&q();var N=P[2]===I,O=N?b+M.startY-M.y:m()+I-P[1],Z=Y(O);N&&O!==Z&&(b+=Z-O),m(Z)}(I||C)&&ml()},e.onEnable=function(){$1(d,r?!1:"x"),an.addEventListener("refresh",D),Kr(nn,"resize",D),m.smooth&&(m.target.style.scrollBehavior="auto",m.smooth=v.smooth=!1),z.enable()},e.onDisable=function(){$1(d,!0),Gr(nn,"resize",D),an.removeEventListener("refresh",D),z.kill()},e.lockAxis=e.lockAxis!==!1,a=new Tr(e),a.iOS=Xl,Xl&&!m()&&m(1),Xl&&et.ticker.add(ka),A=a._dc,V=et.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:r?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:oF(m,m(),function(){return V.pause()})},onUpdate:ml,onComplete:A.vars.onComplete}),a};an.sort=function(t){if(Ci(t))return Yt.sort(t);var e=nn.pageYOffset||0;return an.getAll().forEach(function(n){return n._sortY=n.trigger?e+n.trigger.getBoundingClientRect().top:n.start+nn.innerHeight}),Yt.sort(t||function(n,r){return(n.vars.refreshPriority||0)*-1e6+(n.vars.containerAnimation?1e6:n._sortY)-((r.vars.containerAnimation?1e6:r._sortY)+(r.vars.refreshPriority||0)*-1e6)})};an.observe=function(t){return new Tr(t)};an.normalizeScroll=function(t){if(typeof t>"u")return $i;if(t===!0&&$i)return $i.enable();if(t===!1){$i&&$i.kill(),$i=t;return}var e=t instanceof Tr?t:wie(t);return $i&&$i.target===e.target&&$i.kill(),od(e.target)&&($i=e),e};an.core={_getVelocityProp:MT,_inputObserver:aF,_scrollers:rn,_proxies:La,bridge:{ss:function(){So||ld("scrollStart"),So=wi()},ref:function(){return vi}}};XL()&&et.registerPlugin(an);function kie(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Tie=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Sie=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Cie={};function qR(t,e){return(Cie.jsx?Sie:Tie).test(t)}const _ie=/[ \t\n\f\r]/g;function Eie(t){return typeof t=="object"?t.type==="text"?HR(t.value):!1:HR(t)}function HR(t){return t.replace(_ie,"")===""}class pg{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}pg.prototype.normal={};pg.prototype.property={};pg.prototype.space=void 0;function lF(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new pg(n,r,e)}function UT(t){return t.toLowerCase()}class ys{constructor(e,n){this.attribute=n,this.property=e}}ys.prototype.attribute="";ys.prototype.booleanish=!1;ys.prototype.boolean=!1;ys.prototype.commaOrSpaceSeparated=!1;ys.prototype.commaSeparated=!1;ys.prototype.defined=!1;ys.prototype.mustUseProperty=!1;ys.prototype.number=!1;ys.prototype.overloadedBoolean=!1;ys.prototype.property="";ys.prototype.spaceSeparated=!1;ys.prototype.space=void 0;let Nie=0;const Ht=xd(),_r=xd(),VT=xd(),Me=xd(),Vn=xd(),Uf=xd(),Ss=xd();function xd(){return 2**++Nie}const WT=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ht,booleanish:_r,commaOrSpaceSeparated:Ss,commaSeparated:Uf,number:Me,overloadedBoolean:VT,spaceSeparated:Vn},Symbol.toStringTag,{value:"Module"})),U1=Object.keys(WT);class PC extends ys{constructor(e,n,r,i){let s=-1;if(super(e,n),GR(this,"space",i),typeof r=="number")for(;++s<U1.length;){const o=U1[s];GR(this,U1[s],(r&WT[o])===WT[o])}}}PC.prototype.defined=!0;function GR(t,e,n){n&&(t[e]=n)}function Th(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new PC(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[UT(r)]=r,n[UT(s.attribute)]=r}return new pg(e,n,t.space)}const cF=Th({properties:{ariaActiveDescendant:null,ariaAtomic:_r,ariaAutoComplete:null,ariaBusy:_r,ariaChecked:_r,ariaColCount:Me,ariaColIndex:Me,ariaColSpan:Me,ariaControls:Vn,ariaCurrent:null,ariaDescribedBy:Vn,ariaDetails:null,ariaDisabled:_r,ariaDropEffect:Vn,ariaErrorMessage:null,ariaExpanded:_r,ariaFlowTo:Vn,ariaGrabbed:_r,ariaHasPopup:null,ariaHidden:_r,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Vn,ariaLevel:Me,ariaLive:null,ariaModal:_r,ariaMultiLine:_r,ariaMultiSelectable:_r,ariaOrientation:null,ariaOwns:Vn,ariaPlaceholder:null,ariaPosInSet:Me,ariaPressed:_r,ariaReadOnly:_r,ariaRelevant:null,ariaRequired:_r,ariaRoleDescription:Vn,ariaRowCount:Me,ariaRowIndex:Me,ariaRowSpan:Me,ariaSelected:_r,ariaSetSize:Me,ariaSort:null,ariaValueMax:Me,ariaValueMin:Me,ariaValueNow:Me,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function uF(t,e){return e in t?t[e]:e}function dF(t,e){return uF(t,e.toLowerCase())}const Aie=Th({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Uf,acceptCharset:Vn,accessKey:Vn,action:null,allow:null,allowFullScreen:Ht,allowPaymentRequest:Ht,allowUserMedia:Ht,alt:null,as:null,async:Ht,autoCapitalize:null,autoComplete:Vn,autoFocus:Ht,autoPlay:Ht,blocking:Vn,capture:null,charSet:null,checked:Ht,cite:null,className:Vn,cols:Me,colSpan:null,content:null,contentEditable:_r,controls:Ht,controlsList:Vn,coords:Me|Uf,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ht,defer:Ht,dir:null,dirName:null,disabled:Ht,download:VT,draggable:_r,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ht,formTarget:null,headers:Vn,height:Me,hidden:VT,high:Me,href:null,hrefLang:null,htmlFor:Vn,httpEquiv:Vn,id:null,imageSizes:null,imageSrcSet:null,inert:Ht,inputMode:null,integrity:null,is:null,isMap:Ht,itemId:null,itemProp:Vn,itemRef:Vn,itemScope:Ht,itemType:Vn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ht,low:Me,manifest:null,max:null,maxLength:Me,media:null,method:null,min:null,minLength:Me,multiple:Ht,muted:Ht,name:null,nonce:null,noModule:Ht,noValidate:Ht,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ht,optimum:Me,pattern:null,ping:Vn,placeholder:null,playsInline:Ht,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ht,referrerPolicy:null,rel:Vn,required:Ht,reversed:Ht,rows:Me,rowSpan:Me,sandbox:Vn,scope:null,scoped:Ht,seamless:Ht,selected:Ht,shadowRootClonable:Ht,shadowRootDelegatesFocus:Ht,shadowRootMode:null,shape:null,size:Me,sizes:null,slot:null,span:Me,spellCheck:_r,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Me,step:null,style:null,tabIndex:Me,target:null,title:null,translate:null,type:null,typeMustMatch:Ht,useMap:null,value:_r,width:Me,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Vn,axis:null,background:null,bgColor:null,border:Me,borderColor:null,bottomMargin:Me,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ht,declare:Ht,event:null,face:null,frame:null,frameBorder:null,hSpace:Me,leftMargin:Me,link:null,longDesc:null,lowSrc:null,marginHeight:Me,marginWidth:Me,noResize:Ht,noHref:Ht,noShade:Ht,noWrap:Ht,object:null,profile:null,prompt:null,rev:null,rightMargin:Me,rules:null,scheme:null,scrolling:_r,standby:null,summary:null,text:null,topMargin:Me,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Me,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ht,disableRemotePlayback:Ht,prefix:null,property:null,results:Me,security:null,unselectable:null},space:"html",transform:dF}),jie=Th({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ss,accentHeight:Me,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Me,amplitude:Me,arabicForm:null,ascent:Me,attributeName:null,attributeType:null,azimuth:Me,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Me,by:null,calcMode:null,capHeight:Me,className:Vn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Me,diffuseConstant:Me,direction:null,display:null,dur:null,divisor:Me,dominantBaseline:null,download:Ht,dx:null,dy:null,edgeMode:null,editable:null,elevation:Me,enableBackground:null,end:null,event:null,exponent:Me,externalResourcesRequired:null,fill:null,fillOpacity:Me,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Uf,g2:Uf,glyphName:Uf,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Me,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Me,horizOriginX:Me,horizOriginY:Me,id:null,ideographic:Me,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Me,k:Me,k1:Me,k2:Me,k3:Me,k4:Me,kernelMatrix:Ss,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Me,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Me,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Me,overlineThickness:Me,paintOrder:null,panose1:null,path:null,pathLength:Me,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Vn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Me,pointsAtY:Me,pointsAtZ:Me,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ss,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ss,rev:Ss,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ss,requiredFeatures:Ss,requiredFonts:Ss,requiredFormats:Ss,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Me,specularExponent:Me,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Me,strikethroughThickness:Me,string:null,stroke:null,strokeDashArray:Ss,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Me,strokeOpacity:Me,strokeWidth:null,style:null,surfaceScale:Me,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ss,tabIndex:Me,tableValues:null,target:null,targetX:Me,targetY:Me,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ss,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Me,underlineThickness:Me,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Me,values:null,vAlphabetic:Me,vMathematical:Me,vectorEffect:null,vHanging:Me,vIdeographic:Me,version:null,vertAdvY:Me,vertOriginX:Me,vertOriginY:Me,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Me,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:uF}),fF=Th({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),hF=Th({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:dF}),pF=Th({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Pie={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Rie=/[A-Z]/g,KR=/-[a-z]/g,Iie=/^data[-\w.:]+$/i;function Mie(t,e){const n=UT(e);let r=e,i=ys;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Iie.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(KR,Oie);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!KR.test(s)){let o=s.replace(Rie,Die);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=PC}return new i(r,e)}function Die(t){return"-"+t.toLowerCase()}function Oie(t){return t.charAt(1).toUpperCase()}const Lie=lF([cF,Aie,fF,hF,pF],"html"),RC=lF([cF,jie,fF,hF,pF],"svg");function Fie(t){return t.join(" ").trim()}var Zd={},V1,YR;function zie(){if(YR)return V1;YR=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,c=`
`,d="/",f="*",p="",g="comment",m="declaration";V1=function(x,T){if(typeof x!="string")throw new TypeError("First argument must be a string");if(!x)return[];T=T||{};var _=1,j=1;function w(R){var b=R.match(e);b&&(_+=b.length);var A=R.lastIndexOf(c);j=~A?R.length-A:j+R.length}function F(){var R={line:_,column:j};return function(b){return b.position=new z(R),Y(),b}}function z(R){this.start=R,this.end={line:_,column:j},this.source=T.source}z.prototype.content=x;function B(R){var b=new Error(T.source+":"+_+":"+j+": "+R);if(b.reason=R,b.filename=T.source,b.line=_,b.column=j,b.source=x,!T.silent)throw b}function H(R){var b=R.exec(x);if(b){var A=b[0];return w(A),x=x.slice(A.length),b}}function Y(){H(n)}function W(R){var b;for(R=R||[];b=q();)b!==!1&&R.push(b);return R}function q(){var R=F();if(!(d!=x.charAt(0)||f!=x.charAt(1))){for(var b=2;p!=x.charAt(b)&&(f!=x.charAt(b)||d!=x.charAt(b+1));)++b;if(b+=2,p===x.charAt(b-1))return B("End of comment missing");var A=x.slice(2,b-2);return j+=2,w(A),x=x.slice(b),j+=2,R({type:g,comment:A})}}function X(){var R=F(),b=H(r);if(b){if(q(),!H(i))return B("property missing ':'");var A=H(s),D=R({type:m,property:v(b[0].replace(t,p)),value:A?v(A[0].replace(t,p)):p});return H(o),D}}function V(){var R=[];W(R);for(var b;b=X();)b!==!1&&(R.push(b),W(R));return R}return Y(),V()};function v(x){return x?x.replace(a,p):p}return V1}var XR;function Bie(){if(XR)return Zd;XR=1;var t=Zd&&Zd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zd,"__esModule",{value:!0}),Zd.default=n;var e=t(zie());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,e.default)(r),a=typeof i=="function";return o.forEach(function(c){if(c.type==="declaration"){var d=c.property,f=c.value;a?i(d,f,c):f&&(s=s||{},s[d]=f)}}),s}return Zd}var mp={},JR;function $ie(){if(JR)return mp;JR=1,Object.defineProperty(mp,"__esModule",{value:!0}),mp.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(d){return!d||n.test(d)||t.test(d)},o=function(d,f){return f.toUpperCase()},a=function(d,f){return"".concat(f,"-")},c=function(d,f){return f===void 0&&(f={}),s(d)?d:(d=d.toLowerCase(),f.reactCompat?d=d.replace(i,a):d=d.replace(r,a),d.replace(e,o))};return mp.camelCase=c,mp}var gp,QR;function Uie(){if(QR)return gp;QR=1;var t=gp&&gp.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(Bie()),n=$ie();function r(i,s){var o={};return!i||typeof i!="string"||(0,e.default)(i,function(a,c){a&&c&&(o[(0,n.camelCase)(a,s)]=c)}),o}return r.default=r,gp=r,gp}var Vie=Uie();const Wie=kl(Vie),mF=gF("end"),IC=gF("start");function gF(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function qie(t){const e=IC(t),n=mF(t);if(e&&n)return{start:e,end:n}}function tm(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?ZR(t.position):"start"in t||"end"in t?ZR(t):"line"in t||"column"in t?qT(t):""}function qT(t){return eI(t&&t.line)+":"+eI(t&&t.column)}function ZR(t){return qT(t&&t.start)+"-"+qT(t&&t.end)}function eI(t){return t&&typeof t=="number"?t:1}class Ri extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?s.ruleId=r:(s.source=r.slice(0,c),s.ruleId=r.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=tm(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Ri.prototype.file="";Ri.prototype.name="";Ri.prototype.reason="";Ri.prototype.message="";Ri.prototype.stack="";Ri.prototype.column=void 0;Ri.prototype.line=void 0;Ri.prototype.ancestors=void 0;Ri.prototype.cause=void 0;Ri.prototype.fatal=void 0;Ri.prototype.place=void 0;Ri.prototype.ruleId=void 0;Ri.prototype.source=void 0;const MC={}.hasOwnProperty,Hie=new Map,Gie=/[A-Z]/g,Kie=new Set(["table","tbody","thead","tfoot","tr"]),Yie=new Set(["td","th"]),yF="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Xie(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=ise(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=rse(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?RC:Lie,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=xF(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function xF(t,e,n){if(e.type==="element")return Jie(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Qie(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return ese(t,e,n);if(e.type==="mdxjsEsm")return Zie(t,e);if(e.type==="root")return tse(t,e,n);if(e.type==="text")return nse(t,e)}function Jie(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=RC,t.schema=i),t.ancestors.push(e);const s=bF(t,e.tagName,!1),o=sse(t,e);let a=OC(t,e);return Kie.has(e.tagName)&&(a=a.filter(function(c){return typeof c=="string"?!Eie(c):!0})),vF(t,o,s,e),DC(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function Qie(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}$m(t,e.position)}function Zie(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);$m(t,e.position)}function ese(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=RC,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:bF(t,e.name,!0),o=ose(t,e),a=OC(t,e);return vF(t,o,s,e),DC(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function tse(t,e,n){const r={};return DC(r,OC(t,e)),t.create(e,t.Fragment,r,n)}function nse(t,e){return e.value}function vF(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function DC(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function rse(t,e,n){return r;function r(i,s,o,a){const d=Array.isArray(o.children)?n:e;return a?d(s,o,a):d(s,o)}}function ise(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),c=IC(r);return e(i,s,o,a,{columnNumber:c?c.column-1:void 0,fileName:t,lineNumber:c?c.line:void 0},void 0)}}function sse(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&MC.call(e.properties,i)){const s=ase(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&Yie.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function ose(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else $m(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else $m(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function OC(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:Hie;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const d=i.get(c)||0;o=c+"-"+d,i.set(c,d+1)}}const a=xF(t,s,o);a!==void 0&&n.push(a)}return n}function ase(t,e,n){const r=Mie(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?kie(n):Fie(n)),r.property==="style"){let i=typeof n=="object"?n:lse(t,String(n));return t.stylePropertyNameCase==="css"&&(i=cse(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?Pie[r.property]||r.property:r.attribute,n]}}function lse(t,e){try{return Wie(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Ri("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=yF+"#cannot-parse-style-attribute",i}}function bF(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=qR(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=qR(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return MC.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);$m(t)}function $m(t,e){const n=new Ri("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=yF+"#cannot-handle-mdx-estrees-without-createevaluater",n}function cse(t){const e={};let n;for(n in t)MC.call(t,n)&&(e[use(n)]=t[n]);return e}function use(t){let e=t.replace(Gie,dse);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function dse(t){return"-"+t.toLowerCase()}const W1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},fse={};function LC(t,e){const n=fse,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return wF(t,r,i)}function wF(t,e,n){if(hse(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return tI(t.children,e,n)}return Array.isArray(t)?tI(t,e,n):""}function tI(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=wF(t[i],e,n);return r.join("")}function hse(t){return!!(t&&typeof t=="object")}const nI=document.createElement("i");function FC(t){const e="&"+t+";";nI.innerHTML=e;const n=nI.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Hs(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function mo(t,e){return t.length>0?(Hs(t,t.length,0,e),t):e}const rI={}.hasOwnProperty;function kF(t){const e={};let n=-1;for(;++n<t.length;)pse(e,t[n]);return e}function pse(t,e){let n;for(n in e){const i=(rI.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){rI.call(i,o)||(i[o]=[]);const a=s[o];mse(i[o],Array.isArray(a)?a:a?[a]:[])}}}function mse(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Hs(t,0,0,r)}function TF(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Zo(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ki=Ic(/[A-Za-z]/),Ni=Ic(/[\dA-Za-z]/),gse=Ic(/[#-'*+\--9=?A-Z^-~]/);function Lx(t){return t!==null&&(t<32||t===127)}const HT=Ic(/\d/),yse=Ic(/[\dA-Fa-f]/),xse=Ic(/[!-/:-@[-`{-~]/);function St(t){return t!==null&&t<-2}function zn(t){return t!==null&&(t<0||t===32)}function ln(t){return t===-2||t===-1||t===32}const Rv=Ic(new RegExp("\\p{P}|\\p{S}","u")),cd=Ic(/\s/);function Ic(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Sh(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Ni(t.charCodeAt(n+1))&&Ni(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function gn(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(c){return ln(c)?(t.enter(n),a(c)):e(c)}function a(c){return ln(c)&&s++<i?(t.consume(c),a):(t.exit(n),e(c))}}const vse={tokenize:bse};function bse(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),gn(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const c=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return St(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const wse={tokenize:kse},iI={tokenize:Tse};function kse(t){const e=this,n=[];let r=0,i,s,o;return a;function a(w){if(r<n.length){const F=n[r];return e.containerState=F[1],t.attempt(F[0].continuation,c,d)(w)}return d(w)}function c(w){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&j();const F=e.events.length;let z=F,B;for(;z--;)if(e.events[z][0]==="exit"&&e.events[z][1].type==="chunkFlow"){B=e.events[z][1].end;break}_(r);let H=F;for(;H<e.events.length;)e.events[H][1].end={...B},H++;return Hs(e.events,z+1,0,e.events.slice(F)),e.events.length=H,d(w)}return a(w)}function d(w){if(r===n.length){if(!i)return g(w);if(i.currentConstruct&&i.currentConstruct.concrete)return v(w);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(iI,f,p)(w)}function f(w){return i&&j(),_(r),g(w)}function p(w){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,v(w)}function g(w){return e.containerState={},t.attempt(iI,m,v)(w)}function m(w){return r++,n.push([e.currentConstruct,e.containerState]),g(w)}function v(w){if(w===null){i&&j(),_(0),t.consume(w);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),x(w)}function x(w){if(w===null){T(t.exit("chunkFlow"),!0),_(0),t.consume(w);return}return St(w)?(t.consume(w),T(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(w),x)}function T(w,F){const z=e.sliceStream(w);if(F&&z.push(null),w.previous=s,s&&(s.next=w),s=w,i.defineSkip(w.start),i.write(z),e.parser.lazy[w.start.line]){let B=i.events.length;for(;B--;)if(i.events[B][1].start.offset<o&&(!i.events[B][1].end||i.events[B][1].end.offset>o))return;const H=e.events.length;let Y=H,W,q;for(;Y--;)if(e.events[Y][0]==="exit"&&e.events[Y][1].type==="chunkFlow"){if(W){q=e.events[Y][1].end;break}W=!0}for(_(r),B=H;B<e.events.length;)e.events[B][1].end={...q},B++;Hs(e.events,Y+1,0,e.events.slice(H)),e.events.length=B}}function _(w){let F=n.length;for(;F-- >w;){const z=n[F];e.containerState=z[1],z[0].exit.call(e,t)}n.length=w}function j(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Tse(t,e,n){return gn(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function oh(t){if(t===null||zn(t)||cd(t))return 1;if(Rv(t))return 2}function Iv(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const GT={name:"attention",resolveAll:Sse,tokenize:Cse};function Sse(t,e){let n=-1,r,i,s,o,a,c,d,f;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const p={...t[r][1].end},g={...t[n][1].start};sI(p,-c),sI(g,c),o={type:c>1?"strongSequence":"emphasisSequence",start:p,end:{...t[r][1].end}},a={type:c>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:g},s={type:c>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=mo(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=mo(d,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),d=mo(d,Iv(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=mo(d,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(f=2,d=mo(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):f=0,Hs(t,r-1,n-r+3,d),n=r+d.length-f-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Cse(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=oh(r);let s;return o;function o(c){return s=c,t.enter("attentionSequence"),a(c)}function a(c){if(c===s)return t.consume(c),a;const d=t.exit("attentionSequence"),f=oh(c),p=!f||f===2&&i||n.includes(c),g=!i||i===2&&f||n.includes(r);return d._open=!!(s===42?p:p&&(i||!g)),d._close=!!(s===42?g:g&&(f||!p)),e(c)}}function sI(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const _se={name:"autolink",tokenize:Ese};function Ese(t,e,n){let r=0;return i;function i(m){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(m){return Ki(m)?(t.consume(m),o):m===64?n(m):d(m)}function o(m){return m===43||m===45||m===46||Ni(m)?(r=1,a(m)):d(m)}function a(m){return m===58?(t.consume(m),r=0,c):(m===43||m===45||m===46||Ni(m))&&r++<32?(t.consume(m),a):(r=0,d(m))}function c(m){return m===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):m===null||m===32||m===60||Lx(m)?n(m):(t.consume(m),c)}function d(m){return m===64?(t.consume(m),f):gse(m)?(t.consume(m),d):n(m)}function f(m){return Ni(m)?p(m):n(m)}function p(m){return m===46?(t.consume(m),r=0,f):m===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):g(m)}function g(m){if((m===45||Ni(m))&&r++<63){const v=m===45?g:p;return t.consume(m),v}return n(m)}}const mg={partial:!0,tokenize:Nse};function Nse(t,e,n){return r;function r(s){return ln(s)?gn(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||St(s)?e(s):n(s)}}const SF={continuation:{tokenize:jse},exit:Pse,name:"blockQuote",tokenize:Ase};function Ase(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return ln(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function jse(t,e,n){const r=this;return i;function i(o){return ln(o)?gn(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(SF,e,n)(o)}}function Pse(t){t.exit("blockQuote")}const CF={name:"characterEscape",tokenize:Rse};function Rse(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return xse(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const _F={name:"characterReference",tokenize:Ise};function Ise(t,e,n){const r=this;let i=0,s,o;return a;function a(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),c}function c(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),s=31,o=Ni,f(p))}function d(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=yse,f):(t.enter("characterReferenceValue"),s=7,o=HT,f(p))}function f(p){if(p===59&&i){const g=t.exit("characterReferenceValue");return o===Ni&&!FC(r.sliceSerialize(g))?n(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(p)&&i++<s?(t.consume(p),f):n(p)}}const oI={partial:!0,tokenize:Dse},aI={concrete:!0,name:"codeFenced",tokenize:Mse};function Mse(t,e,n){const r=this,i={partial:!0,tokenize:z};let s=0,o=0,a;return c;function c(B){return d(B)}function d(B){const H=r.events[r.events.length-1];return s=H&&H[1].type==="linePrefix"?H[2].sliceSerialize(H[1],!0).length:0,a=B,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),f(B)}function f(B){return B===a?(o++,t.consume(B),f):o<3?n(B):(t.exit("codeFencedFenceSequence"),ln(B)?gn(t,p,"whitespace")(B):p(B))}function p(B){return B===null||St(B)?(t.exit("codeFencedFence"),r.interrupt?e(B):t.check(oI,x,F)(B)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),g(B))}function g(B){return B===null||St(B)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p(B)):ln(B)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),gn(t,m,"whitespace")(B)):B===96&&B===a?n(B):(t.consume(B),g)}function m(B){return B===null||St(B)?p(B):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),v(B))}function v(B){return B===null||St(B)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(B)):B===96&&B===a?n(B):(t.consume(B),v)}function x(B){return t.attempt(i,F,T)(B)}function T(B){return t.enter("lineEnding"),t.consume(B),t.exit("lineEnding"),_}function _(B){return s>0&&ln(B)?gn(t,j,"linePrefix",s+1)(B):j(B)}function j(B){return B===null||St(B)?t.check(oI,x,F)(B):(t.enter("codeFlowValue"),w(B))}function w(B){return B===null||St(B)?(t.exit("codeFlowValue"),j(B)):(t.consume(B),w)}function F(B){return t.exit("codeFenced"),e(B)}function z(B,H,Y){let W=0;return q;function q(A){return B.enter("lineEnding"),B.consume(A),B.exit("lineEnding"),X}function X(A){return B.enter("codeFencedFence"),ln(A)?gn(B,V,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):V(A)}function V(A){return A===a?(B.enter("codeFencedFenceSequence"),R(A)):Y(A)}function R(A){return A===a?(W++,B.consume(A),R):W>=o?(B.exit("codeFencedFenceSequence"),ln(A)?gn(B,b,"whitespace")(A):b(A)):Y(A)}function b(A){return A===null||St(A)?(B.exit("codeFencedFence"),H(A)):Y(A)}}}function Dse(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const q1={name:"codeIndented",tokenize:Lse},Ose={partial:!0,tokenize:Fse};function Lse(t,e,n){const r=this;return i;function i(d){return t.enter("codeIndented"),gn(t,s,"linePrefix",5)(d)}function s(d){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(d):n(d)}function o(d){return d===null?c(d):St(d)?t.attempt(Ose,o,c)(d):(t.enter("codeFlowValue"),a(d))}function a(d){return d===null||St(d)?(t.exit("codeFlowValue"),o(d)):(t.consume(d),a)}function c(d){return t.exit("codeIndented"),e(d)}}function Fse(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):St(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):gn(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):St(o)?i(o):n(o)}}const zse={name:"codeText",previous:$se,resolve:Bse,tokenize:Use};function Bse(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function $se(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Use(t,e,n){let r=0,i,s;return o;function o(p){return t.enter("codeText"),t.enter("codeTextSequence"),a(p)}function a(p){return p===96?(t.consume(p),r++,a):(t.exit("codeTextSequence"),c(p))}function c(p){return p===null?n(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),c):p===96?(s=t.enter("codeTextSequence"),i=0,f(p)):St(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),c):(t.enter("codeTextData"),d(p))}function d(p){return p===null||p===32||p===96||St(p)?(t.exit("codeTextData"),c(p)):(t.consume(p),d)}function f(p){return p===96?(t.consume(p),i++,f):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(s.type="codeTextData",d(p))}}class Vse{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&yp(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),yp(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),yp(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);yp(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);yp(this.left,n.reverse())}}}function yp(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function EF(t){const e={};let n=-1,r,i,s,o,a,c,d;const f=new Vse(t);for(;++n<f.length;){for(;n in e;)n=e[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Wse(f,n)),n=e[n],d=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=f.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},a=f.slice(i,n),a.unshift(r),f.splice(i,n-i+1,a))}}return Hs(t,0,Number.POSITIVE_INFINITY,f.slice(0)),!d}function Wse(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,c=[],d={};let f,p,g=-1,m=n,v=0,x=0;const T=[x];for(;m;){for(;t.get(++i)[1]!==m;);s.push(i),m._tokenizer||(f=r.sliceStream(m),m.next||f.push(null),p&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),p=m,m=m.next}for(m=n;++g<a.length;)a[g][0]==="exit"&&a[g-1][0]==="enter"&&a[g][1].type===a[g-1][1].type&&a[g][1].start.line!==a[g][1].end.line&&(x=g+1,T.push(x),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):T.pop(),g=T.length;g--;){const _=a.slice(T[g],T[g+1]),j=s.pop();c.push([j,j+_.length-1]),t.splice(j,2,_)}for(c.reverse(),g=-1;++g<c.length;)d[v+c[g][0]]=v+c[g][1],v+=c[g][1]-c[g][0]-1;return d}const qse={resolve:Gse,tokenize:Kse},Hse={partial:!0,tokenize:Yse};function Gse(t){return EF(t),t}function Kse(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):St(a)?t.check(Hse,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Yse(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),gn(t,s,"linePrefix")}function s(o){if(o===null||St(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function NF(t,e,n,r,i,s,o,a,c){const d=c||Number.POSITIVE_INFINITY;let f=0;return p;function p(_){return _===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(_),t.exit(s),g):_===null||_===32||_===41||Lx(_)?n(_):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),x(_))}function g(_){return _===62?(t.enter(s),t.consume(_),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),m(_))}function m(_){return _===62?(t.exit("chunkString"),t.exit(a),g(_)):_===null||_===60||St(_)?n(_):(t.consume(_),_===92?v:m)}function v(_){return _===60||_===62||_===92?(t.consume(_),m):m(_)}function x(_){return!f&&(_===null||_===41||zn(_))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(_)):f<d&&_===40?(t.consume(_),f++,x):_===41?(t.consume(_),f--,x):_===null||_===32||_===40||Lx(_)?n(_):(t.consume(_),_===92?T:x)}function T(_){return _===40||_===41||_===92?(t.consume(_),x):x(_)}}function AF(t,e,n,r,i,s){const o=this;let a=0,c;return d;function d(m){return t.enter(r),t.enter(i),t.consume(m),t.exit(i),t.enter(s),f}function f(m){return a>999||m===null||m===91||m===93&&!c||m===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(t.exit(s),t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):St(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),f):(t.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===null||m===91||m===93||St(m)||a++>999?(t.exit("chunkString"),f(m)):(t.consume(m),c||(c=!ln(m)),m===92?g:p)}function g(m){return m===91||m===92||m===93?(t.consume(m),a++,p):p(m)}}function jF(t,e,n,r,i,s){let o;return a;function a(g){return g===34||g===39||g===40?(t.enter(r),t.enter(i),t.consume(g),t.exit(i),o=g===40?41:g,c):n(g)}function c(g){return g===o?(t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):(t.enter(s),d(g))}function d(g){return g===o?(t.exit(s),c(o)):g===null?n(g):St(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),gn(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===o||g===null||St(g)?(t.exit("chunkString"),d(g)):(t.consume(g),g===92?p:f)}function p(g){return g===o||g===92?(t.consume(g),f):f(g)}}function nm(t,e){let n;return r;function r(i){return St(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):ln(i)?gn(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Xse={name:"definition",tokenize:Qse},Jse={partial:!0,tokenize:Zse};function Qse(t,e,n){const r=this;let i;return s;function s(m){return t.enter("definition"),o(m)}function o(m){return AF.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return i=Zo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),c):n(m)}function c(m){return zn(m)?nm(t,d)(m):d(m)}function d(m){return NF(t,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function f(m){return t.attempt(Jse,p,p)(m)}function p(m){return ln(m)?gn(t,g,"whitespace")(m):g(m)}function g(m){return m===null||St(m)?(t.exit("definition"),r.parser.defined.push(i),e(m)):n(m)}}function Zse(t,e,n){return r;function r(a){return zn(a)?nm(t,i)(a):n(a)}function i(a){return jF(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return ln(a)?gn(t,o,"whitespace")(a):o(a)}function o(a){return a===null||St(a)?e(a):n(a)}}const eoe={name:"hardBreakEscape",tokenize:toe};function toe(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return St(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const noe={name:"headingAtx",resolve:roe,tokenize:ioe};function roe(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Hs(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function ioe(t,e,n){let r=0;return i;function i(f){return t.enter("atxHeading"),s(f)}function s(f){return t.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&r++<6?(t.consume(f),o):f===null||zn(f)?(t.exit("atxHeadingSequence"),a(f)):n(f)}function a(f){return f===35?(t.enter("atxHeadingSequence"),c(f)):f===null||St(f)?(t.exit("atxHeading"),e(f)):ln(f)?gn(t,a,"whitespace")(f):(t.enter("atxHeadingText"),d(f))}function c(f){return f===35?(t.consume(f),c):(t.exit("atxHeadingSequence"),a(f))}function d(f){return f===null||f===35||zn(f)?(t.exit("atxHeadingText"),a(f)):(t.consume(f),d)}}const soe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],lI=["pre","script","style","textarea"],ooe={concrete:!0,name:"htmlFlow",resolveTo:coe,tokenize:uoe},aoe={partial:!0,tokenize:foe},loe={partial:!0,tokenize:doe};function coe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function uoe(t,e,n){const r=this;let i,s,o,a,c;return d;function d(O){return f(O)}function f(O){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(O),p}function p(O){return O===33?(t.consume(O),g):O===47?(t.consume(O),s=!0,x):O===63?(t.consume(O),i=3,r.interrupt?e:E):Ki(O)?(t.consume(O),o=String.fromCharCode(O),T):n(O)}function g(O){return O===45?(t.consume(O),i=2,m):O===91?(t.consume(O),i=5,a=0,v):Ki(O)?(t.consume(O),i=4,r.interrupt?e:E):n(O)}function m(O){return O===45?(t.consume(O),r.interrupt?e:E):n(O)}function v(O){const Z="CDATA[";return O===Z.charCodeAt(a++)?(t.consume(O),a===Z.length?r.interrupt?e:V:v):n(O)}function x(O){return Ki(O)?(t.consume(O),o=String.fromCharCode(O),T):n(O)}function T(O){if(O===null||O===47||O===62||zn(O)){const Z=O===47,$=o.toLowerCase();return!Z&&!s&&lI.includes($)?(i=1,r.interrupt?e(O):V(O)):soe.includes(o.toLowerCase())?(i=6,Z?(t.consume(O),_):r.interrupt?e(O):V(O)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(O):s?j(O):w(O))}return O===45||Ni(O)?(t.consume(O),o+=String.fromCharCode(O),T):n(O)}function _(O){return O===62?(t.consume(O),r.interrupt?e:V):n(O)}function j(O){return ln(O)?(t.consume(O),j):q(O)}function w(O){return O===47?(t.consume(O),q):O===58||O===95||Ki(O)?(t.consume(O),F):ln(O)?(t.consume(O),w):q(O)}function F(O){return O===45||O===46||O===58||O===95||Ni(O)?(t.consume(O),F):z(O)}function z(O){return O===61?(t.consume(O),B):ln(O)?(t.consume(O),z):w(O)}function B(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(t.consume(O),c=O,H):ln(O)?(t.consume(O),B):Y(O)}function H(O){return O===c?(t.consume(O),c=null,W):O===null||St(O)?n(O):(t.consume(O),H)}function Y(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||zn(O)?z(O):(t.consume(O),Y)}function W(O){return O===47||O===62||ln(O)?w(O):n(O)}function q(O){return O===62?(t.consume(O),X):n(O)}function X(O){return O===null||St(O)?V(O):ln(O)?(t.consume(O),X):n(O)}function V(O){return O===45&&i===2?(t.consume(O),D):O===60&&i===1?(t.consume(O),M):O===62&&i===4?(t.consume(O),P):O===63&&i===3?(t.consume(O),E):O===93&&i===5?(t.consume(O),I):St(O)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(aoe,N,R)(O)):O===null||St(O)?(t.exit("htmlFlowData"),R(O)):(t.consume(O),V)}function R(O){return t.check(loe,b,N)(O)}function b(O){return t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),A}function A(O){return O===null||St(O)?R(O):(t.enter("htmlFlowData"),V(O))}function D(O){return O===45?(t.consume(O),E):V(O)}function M(O){return O===47?(t.consume(O),o="",C):V(O)}function C(O){if(O===62){const Z=o.toLowerCase();return lI.includes(Z)?(t.consume(O),P):V(O)}return Ki(O)&&o.length<8?(t.consume(O),o+=String.fromCharCode(O),C):V(O)}function I(O){return O===93?(t.consume(O),E):V(O)}function E(O){return O===62?(t.consume(O),P):O===45&&i===2?(t.consume(O),E):V(O)}function P(O){return O===null||St(O)?(t.exit("htmlFlowData"),N(O)):(t.consume(O),P)}function N(O){return t.exit("htmlFlow"),e(O)}}function doe(t,e,n){const r=this;return i;function i(o){return St(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function foe(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(mg,e,n)}}const hoe={name:"htmlText",tokenize:poe};function poe(t,e,n){const r=this;let i,s,o;return a;function a(E){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(E),c}function c(E){return E===33?(t.consume(E),d):E===47?(t.consume(E),z):E===63?(t.consume(E),w):Ki(E)?(t.consume(E),Y):n(E)}function d(E){return E===45?(t.consume(E),f):E===91?(t.consume(E),s=0,v):Ki(E)?(t.consume(E),j):n(E)}function f(E){return E===45?(t.consume(E),m):n(E)}function p(E){return E===null?n(E):E===45?(t.consume(E),g):St(E)?(o=p,M(E)):(t.consume(E),p)}function g(E){return E===45?(t.consume(E),m):p(E)}function m(E){return E===62?D(E):E===45?g(E):p(E)}function v(E){const P="CDATA[";return E===P.charCodeAt(s++)?(t.consume(E),s===P.length?x:v):n(E)}function x(E){return E===null?n(E):E===93?(t.consume(E),T):St(E)?(o=x,M(E)):(t.consume(E),x)}function T(E){return E===93?(t.consume(E),_):x(E)}function _(E){return E===62?D(E):E===93?(t.consume(E),_):x(E)}function j(E){return E===null||E===62?D(E):St(E)?(o=j,M(E)):(t.consume(E),j)}function w(E){return E===null?n(E):E===63?(t.consume(E),F):St(E)?(o=w,M(E)):(t.consume(E),w)}function F(E){return E===62?D(E):w(E)}function z(E){return Ki(E)?(t.consume(E),B):n(E)}function B(E){return E===45||Ni(E)?(t.consume(E),B):H(E)}function H(E){return St(E)?(o=H,M(E)):ln(E)?(t.consume(E),H):D(E)}function Y(E){return E===45||Ni(E)?(t.consume(E),Y):E===47||E===62||zn(E)?W(E):n(E)}function W(E){return E===47?(t.consume(E),D):E===58||E===95||Ki(E)?(t.consume(E),q):St(E)?(o=W,M(E)):ln(E)?(t.consume(E),W):D(E)}function q(E){return E===45||E===46||E===58||E===95||Ni(E)?(t.consume(E),q):X(E)}function X(E){return E===61?(t.consume(E),V):St(E)?(o=X,M(E)):ln(E)?(t.consume(E),X):W(E)}function V(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(t.consume(E),i=E,R):St(E)?(o=V,M(E)):ln(E)?(t.consume(E),V):(t.consume(E),b)}function R(E){return E===i?(t.consume(E),i=void 0,A):E===null?n(E):St(E)?(o=R,M(E)):(t.consume(E),R)}function b(E){return E===null||E===34||E===39||E===60||E===61||E===96?n(E):E===47||E===62||zn(E)?W(E):(t.consume(E),b)}function A(E){return E===47||E===62||zn(E)?W(E):n(E)}function D(E){return E===62?(t.consume(E),t.exit("htmlTextData"),t.exit("htmlText"),e):n(E)}function M(E){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),C}function C(E){return ln(E)?gn(t,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):I(E)}function I(E){return t.enter("htmlTextData"),o(E)}}const zC={name:"labelEnd",resolveAll:xoe,resolveTo:voe,tokenize:boe},moe={tokenize:woe},goe={tokenize:koe},yoe={tokenize:Toe};function xoe(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Hs(t,0,t.length,n),t}function voe(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const c={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},f={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",c,e],["enter",d,e]],a=mo(a,t.slice(s+1,s+r+3)),a=mo(a,[["enter",f,e]]),a=mo(a,Iv(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=mo(a,[["exit",f,e],t[o-2],t[o-1],["exit",d,e]]),a=mo(a,t.slice(o+1)),a=mo(a,[["exit",c,e]]),Hs(t,s,t.length,a),t}function boe(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(g){return s?s._inactive?p(g):(o=r.parser.defined.includes(Zo(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelEnd"),c):n(g)}function c(g){return g===40?t.attempt(moe,f,o?f:p)(g):g===91?t.attempt(goe,f,o?d:p)(g):o?f(g):p(g)}function d(g){return t.attempt(yoe,f,p)(g)}function f(g){return e(g)}function p(g){return s._balanced=!0,n(g)}}function woe(t,e,n){return r;function r(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),i}function i(p){return zn(p)?nm(t,s)(p):s(p)}function s(p){return p===41?f(p):NF(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function o(p){return zn(p)?nm(t,c)(p):f(p)}function a(p){return n(p)}function c(p){return p===34||p===39||p===40?jF(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function d(p){return zn(p)?nm(t,f)(p):f(p)}function f(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):n(p)}}function koe(t,e,n){const r=this;return i;function i(a){return AF.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Zo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function Toe(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const Soe={name:"labelStartImage",resolveAll:zC.resolveAll,tokenize:Coe};function Coe(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const _oe={name:"labelStartLink",resolveAll:zC.resolveAll,tokenize:Eoe};function Eoe(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const H1={name:"lineEnding",tokenize:Noe};function Noe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),gn(t,e,"linePrefix")}}const Y0={name:"thematicBreak",tokenize:Aoe};function Aoe(t,e,n){let r=0,i;return s;function s(d){return t.enter("thematicBreak"),o(d)}function o(d){return i=d,a(d)}function a(d){return d===i?(t.enter("thematicBreakSequence"),c(d)):r>=3&&(d===null||St(d))?(t.exit("thematicBreak"),e(d)):n(d)}function c(d){return d===i?(t.consume(d),r++,c):(t.exit("thematicBreakSequence"),ln(d)?gn(t,a,"whitespace")(d):a(d))}}const ss={continuation:{tokenize:Ioe},exit:Doe,name:"list",tokenize:Roe},joe={partial:!0,tokenize:Ooe},Poe={partial:!0,tokenize:Moe};function Roe(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(m){const v=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:HT(m)){if(r.containerState.type||(r.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(Y0,n,d)(m):d(m);if(!r.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(m)}return n(m)}function c(m){return HT(m)&&++o<10?(t.consume(m),c):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),d(m)):n(m)}function d(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,t.check(mg,r.interrupt?n:f,t.attempt(joe,g,p))}function f(m){return r.containerState.initialBlankLine=!0,s++,g(m)}function p(m){return ln(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),g):n(m)}function g(m){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function Ioe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(mg,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,gn(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!ln(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Poe,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,gn(t,t.attempt(ss,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Moe(t,e,n){const r=this;return gn(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function Doe(t){t.exit(this.containerState.type)}function Ooe(t,e,n){const r=this;return gn(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!ln(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const cI={name:"setextUnderline",resolveTo:Loe,tokenize:Foe};function Loe(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function Foe(t,e,n){const r=this;let i;return s;function s(d){let f=r.events.length,p;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){p=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(t.enter("setextHeadingLine"),i=d,o(d)):n(d)}function o(d){return t.enter("setextHeadingLineSequence"),a(d)}function a(d){return d===i?(t.consume(d),a):(t.exit("setextHeadingLineSequence"),ln(d)?gn(t,c,"lineSuffix")(d):c(d))}function c(d){return d===null||St(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const zoe={tokenize:Boe};function Boe(t){const e=this,n=t.attempt(mg,r,t.attempt(this.parser.constructs.flowInitial,i,gn(t,t.attempt(this.parser.constructs.flow,i,t.attempt(qse,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const $oe={resolveAll:RF()},Uoe=PF("string"),Voe=PF("text");function PF(t){return{resolveAll:RF(t==="text"?Woe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(f){return d(f)?s(f):a(f)}function a(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),c}function c(f){return d(f)?(n.exit("data"),s(f)):(n.consume(f),c)}function d(f){if(f===null)return!0;const p=i[f];let g=-1;if(p)for(;++g<p.length;){const m=p[g];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function RF(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function Woe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,c;for(;s--;){const d=i[s];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(d===-2)c=!0,a++;else if(d!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const d={type:n===t.length||c||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const qoe={42:ss,43:ss,45:ss,48:ss,49:ss,50:ss,51:ss,52:ss,53:ss,54:ss,55:ss,56:ss,57:ss,62:SF},Hoe={91:Xse},Goe={[-2]:q1,[-1]:q1,32:q1},Koe={35:noe,42:Y0,45:[cI,Y0],60:ooe,61:cI,95:Y0,96:aI,126:aI},Yoe={38:_F,92:CF},Xoe={[-5]:H1,[-4]:H1,[-3]:H1,33:Soe,38:_F,42:GT,60:[_se,hoe],91:_oe,92:[eoe,CF],93:zC,95:GT,96:zse},Joe={null:[GT,$oe]},Qoe={null:[42,95]},Zoe={null:[]},eae=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Qoe,contentInitial:Hoe,disable:Zoe,document:qoe,flow:Koe,flowInitial:Goe,insideSpan:Joe,string:Yoe,text:Xoe},Symbol.toStringTag,{value:"Module"}));function tae(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const c={attempt:H(z),check:H(B),consume:j,enter:w,exit:F,interrupt:H(B,{interrupt:!0})},d={code:null,containerState:{},defineSkip:x,events:[],now:v,parser:t,previous:null,sliceSerialize:g,sliceStream:m,write:p};let f=e.tokenize.call(d,c);return e.resolveAll&&s.push(e),d;function p(X){return o=mo(o,X),T(),o[o.length-1]!==null?[]:(Y(e,0),d.events=Iv(s,d.events,d),d.events)}function g(X,V){return rae(m(X),V)}function m(X){return nae(o,X)}function v(){const{_bufferIndex:X,_index:V,line:R,column:b,offset:A}=r;return{_bufferIndex:X,_index:V,line:R,column:b,offset:A}}function x(X){i[X.line]=X.column,q()}function T(){let X;for(;r._index<o.length;){const V=o[r._index];if(typeof V=="string")for(X=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===X&&r._bufferIndex<V.length;)_(V.charCodeAt(r._bufferIndex));else _(V)}}function _(X){f=f(X)}function j(X){St(X)?(r.line++,r.column=1,r.offset+=X===-3?2:1,q()):X!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=X}function w(X,V){const R=V||{};return R.type=X,R.start=v(),d.events.push(["enter",R,d]),a.push(R),R}function F(X){const V=a.pop();return V.end=v(),d.events.push(["exit",V,d]),V}function z(X,V){Y(X,V.from)}function B(X,V){V.restore()}function H(X,V){return R;function R(b,A,D){let M,C,I,E;return Array.isArray(b)?N(b):"tokenize"in b?N([b]):P(b);function P(K){return G;function G(J){const ee=J!==null&&K[J],ae=J!==null&&K.null,se=[...Array.isArray(ee)?ee:ee?[ee]:[],...Array.isArray(ae)?ae:ae?[ae]:[]];return N(se)(J)}}function N(K){return M=K,C=0,K.length===0?D:O(K[C])}function O(K){return G;function G(J){return E=W(),I=K,K.partial||(d.currentConstruct=K),K.name&&d.parser.constructs.disable.null.includes(K.name)?$():K.tokenize.call(V?Object.assign(Object.create(d),V):d,c,Z,$)(J)}}function Z(K){return X(I,E),A}function $(K){return E.restore(),++C<M.length?O(M[C]):D}}}function Y(X,V){X.resolveAll&&!s.includes(X)&&s.push(X),X.resolve&&Hs(d.events,V,d.events.length-V,X.resolve(d.events.slice(V),d)),X.resolveTo&&(d.events=X.resolveTo(d.events,d))}function W(){const X=v(),V=d.previous,R=d.currentConstruct,b=d.events.length,A=Array.from(a);return{from:b,restore:D};function D(){r=X,d.previous=V,d.currentConstruct=R,d.events.length=b,a=A,q()}}function q(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function nae(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function rae(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function iae(t){const r={constructs:kF([eae,...(t||{}).extensions||[]]),content:i(vse),defined:[],document:i(wse),flow:i(zoe),lazy:{},string:i(Uoe),text:i(Voe)};return r;function i(s){return o;function o(a){return tae(r,s,a)}}}function sae(t){for(;!EF(t););return t}const uI=/[\0\t\n\r]/g;function oae(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const c=[];let d,f,p,g,m;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),p=0,e="",n&&(s.charCodeAt(0)===65279&&p++,n=void 0);p<s.length;){if(uI.lastIndex=p,d=uI.exec(s),g=d&&d.index!==void 0?d.index:s.length,m=s.charCodeAt(g),!d){e=s.slice(p);break}if(m===10&&p===g&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),p<g&&(c.push(s.slice(p,g)),t+=g-p),m){case 0:{c.push(65533),t++;break}case 9:{for(f=Math.ceil(t/4)*4,c.push(-2);t++<f;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:r=!0,t=1}p=g+1}return a&&(r&&c.push(-5),e&&c.push(e),c.push(null)),c}}const aae=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function lae(t){return t.replace(aae,cae)}function cae(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return TF(n.slice(s?2:1),s?16:10)}return FC(n)||t}const IF={}.hasOwnProperty;function uae(t,e,n){return typeof e!="string"&&(n=e,e=void 0),dae(n)(sae(iae(n).document().write(oae()(t,e,!0))))}function dae(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(gt),autolinkProtocol:W,autolinkEmail:W,atxHeading:s(be),blockQuote:s(ae),characterEscape:W,characterReference:W,codeFenced:s(se),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(se,o),codeText:s(pe,o),codeTextData:W,data:W,codeFlowValue:W,definition:s(he),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(ue),hardBreakEscape:s(Ne),hardBreakTrailing:s(Ne),htmlFlow:s(ie,o),htmlFlowData:W,htmlText:s(ie,o),htmlTextData:W,image:s(De),label:o,link:s(gt),listItem:s(Fe),listItemValue:g,listOrdered:s(Je,p),listUnordered:s(Je),paragraph:s(Dt),reference:O,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(be),strong:s(ot),thematicBreak:s(bt)},exit:{atxHeading:c(),atxHeadingSequence:z,autolink:c(),autolinkEmail:ee,autolinkProtocol:J,blockQuote:c(),characterEscapeValue:q,characterReferenceMarkerHexadecimal:$,characterReferenceMarkerNumeric:$,characterReferenceValue:K,characterReference:G,codeFenced:c(T),codeFencedFence:x,codeFencedFenceInfo:m,codeFencedFenceMeta:v,codeFlowValue:q,codeIndented:c(_),codeText:c(A),codeTextData:q,data:q,definition:c(),definitionDestinationString:F,definitionLabelString:j,definitionTitleString:w,emphasis:c(),hardBreakEscape:c(V),hardBreakTrailing:c(V),htmlFlow:c(R),htmlFlowData:q,htmlText:c(b),htmlTextData:q,image:c(M),label:I,labelText:C,lineEnding:X,link:c(D),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Z,resourceDestinationString:E,resourceTitleString:P,resource:N,setextHeading:c(Y),setextHeadingLineSequence:H,setextHeadingText:B,strong:c(),thematicBreak:c()}};MF(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ne){let ce={type:"root",children:[]};const we={stack:[ce],tokenStack:[],config:e,enter:a,exit:d,buffer:o,resume:f,data:n},Se=[];let Ae=-1;for(;++Ae<ne.length;)if(ne[Ae][1].type==="listOrdered"||ne[Ae][1].type==="listUnordered")if(ne[Ae][0]==="enter")Se.push(Ae);else{const Ot=Se.pop();Ae=i(ne,Ot,Ae)}for(Ae=-1;++Ae<ne.length;){const Ot=e[ne[Ae][0]];IF.call(Ot,ne[Ae][1].type)&&Ot[ne[Ae][1].type].call(Object.assign({sliceSerialize:ne[Ae][2].sliceSerialize},we),ne[Ae][1])}if(we.tokenStack.length>0){const Ot=we.tokenStack[we.tokenStack.length-1];(Ot[1]||dI).call(we,void 0,Ot[0])}for(ce.position={start:Hl(ne.length>0?ne[0][1].start:{line:1,column:1,offset:0}),end:Hl(ne.length>0?ne[ne.length-2][1].end:{line:1,column:1,offset:0})},Ae=-1;++Ae<e.transforms.length;)ce=e.transforms[Ae](ce)||ce;return ce}function i(ne,ce,we){let Se=ce-1,Ae=-1,Ot=!1,Ye,mt,Kt,jt;for(;++Se<=we;){const Qe=ne[Se];switch(Qe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Qe[0]==="enter"?Ae++:Ae--,jt=void 0;break}case"lineEndingBlank":{Qe[0]==="enter"&&(Ye&&!jt&&!Ae&&!Kt&&(Kt=Se),jt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:jt=void 0}if(!Ae&&Qe[0]==="enter"&&Qe[1].type==="listItemPrefix"||Ae===-1&&Qe[0]==="exit"&&(Qe[1].type==="listUnordered"||Qe[1].type==="listOrdered")){if(Ye){let bn=Se;for(mt=void 0;bn--;){const Ct=ne[bn];if(Ct[1].type==="lineEnding"||Ct[1].type==="lineEndingBlank"){if(Ct[0]==="exit")continue;mt&&(ne[mt][1].type="lineEndingBlank",Ot=!0),Ct[1].type="lineEnding",mt=bn}else if(!(Ct[1].type==="linePrefix"||Ct[1].type==="blockQuotePrefix"||Ct[1].type==="blockQuotePrefixWhitespace"||Ct[1].type==="blockQuoteMarker"||Ct[1].type==="listItemIndent"))break}Kt&&(!mt||Kt<mt)&&(Ye._spread=!0),Ye.end=Object.assign({},mt?ne[mt][1].start:Qe[1].end),ne.splice(mt||Se,0,["exit",Ye,Qe[2]]),Se++,we++}if(Qe[1].type==="listItemPrefix"){const bn={type:"listItem",_spread:!1,start:Object.assign({},Qe[1].start),end:void 0};Ye=bn,ne.splice(Se,0,["enter",bn,Qe[2]]),Se++,we++,Kt=void 0,jt=!0}}}return ne[ce][1]._spread=Ot,we}function s(ne,ce){return we;function we(Se){a.call(this,ne(Se),Se),ce&&ce.call(this,Se)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(ne,ce,we){this.stack[this.stack.length-1].children.push(ne),this.stack.push(ne),this.tokenStack.push([ce,we||void 0]),ne.position={start:Hl(ce.start),end:void 0}}function c(ne){return ce;function ce(we){ne&&ne.call(this,we),d.call(this,we)}}function d(ne,ce){const we=this.stack.pop(),Se=this.tokenStack.pop();if(Se)Se[0].type!==ne.type&&(ce?ce.call(this,ne,Se[0]):(Se[1]||dI).call(this,ne,Se[0]));else throw new Error("Cannot close `"+ne.type+"` ("+tm({start:ne.start,end:ne.end})+"): its not open");we.position.end=Hl(ne.end)}function f(){return LC(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(ne){if(this.data.expectingFirstListItemValue){const ce=this.stack[this.stack.length-2];ce.start=Number.parseInt(this.sliceSerialize(ne),10),this.data.expectingFirstListItemValue=void 0}}function m(){const ne=this.resume(),ce=this.stack[this.stack.length-1];ce.lang=ne}function v(){const ne=this.resume(),ce=this.stack[this.stack.length-1];ce.meta=ne}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function T(){const ne=this.resume(),ce=this.stack[this.stack.length-1];ce.value=ne.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function _(){const ne=this.resume(),ce=this.stack[this.stack.length-1];ce.value=ne.replace(/(\r?\n|\r)$/g,"")}function j(ne){const ce=this.resume(),we=this.stack[this.stack.length-1];we.label=ce,we.identifier=Zo(this.sliceSerialize(ne)).toLowerCase()}function w(){const ne=this.resume(),ce=this.stack[this.stack.length-1];ce.title=ne}function F(){const ne=this.resume(),ce=this.stack[this.stack.length-1];ce.url=ne}function z(ne){const ce=this.stack[this.stack.length-1];if(!ce.depth){const we=this.sliceSerialize(ne).length;ce.depth=we}}function B(){this.data.setextHeadingSlurpLineEnding=!0}function H(ne){const ce=this.stack[this.stack.length-1];ce.depth=this.sliceSerialize(ne).codePointAt(0)===61?1:2}function Y(){this.data.setextHeadingSlurpLineEnding=void 0}function W(ne){const we=this.stack[this.stack.length-1].children;let Se=we[we.length-1];(!Se||Se.type!=="text")&&(Se=ct(),Se.position={start:Hl(ne.start),end:void 0},we.push(Se)),this.stack.push(Se)}function q(ne){const ce=this.stack.pop();ce.value+=this.sliceSerialize(ne),ce.position.end=Hl(ne.end)}function X(ne){const ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const we=ce.children[ce.children.length-1];we.position.end=Hl(ne.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ce.type)&&(W.call(this,ne),q.call(this,ne))}function V(){this.data.atHardBreak=!0}function R(){const ne=this.resume(),ce=this.stack[this.stack.length-1];ce.value=ne}function b(){const ne=this.resume(),ce=this.stack[this.stack.length-1];ce.value=ne}function A(){const ne=this.resume(),ce=this.stack[this.stack.length-1];ce.value=ne}function D(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=ce,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function M(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=ce,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function C(ne){const ce=this.sliceSerialize(ne),we=this.stack[this.stack.length-2];we.label=lae(ce),we.identifier=Zo(ce).toLowerCase()}function I(){const ne=this.stack[this.stack.length-1],ce=this.resume(),we=this.stack[this.stack.length-1];if(this.data.inReference=!0,we.type==="link"){const Se=ne.children;we.children=Se}else we.alt=ce}function E(){const ne=this.resume(),ce=this.stack[this.stack.length-1];ce.url=ne}function P(){const ne=this.resume(),ce=this.stack[this.stack.length-1];ce.title=ne}function N(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function Z(ne){const ce=this.resume(),we=this.stack[this.stack.length-1];we.label=ce,we.identifier=Zo(this.sliceSerialize(ne)).toLowerCase(),this.data.referenceType="full"}function $(ne){this.data.characterReferenceType=ne.type}function K(ne){const ce=this.sliceSerialize(ne),we=this.data.characterReferenceType;let Se;we?(Se=TF(ce,we==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Se=FC(ce);const Ae=this.stack[this.stack.length-1];Ae.value+=Se}function G(ne){const ce=this.stack.pop();ce.position.end=Hl(ne.end)}function J(ne){q.call(this,ne);const ce=this.stack[this.stack.length-1];ce.url=this.sliceSerialize(ne)}function ee(ne){q.call(this,ne);const ce=this.stack[this.stack.length-1];ce.url="mailto:"+this.sliceSerialize(ne)}function ae(){return{type:"blockquote",children:[]}}function se(){return{type:"code",lang:null,meta:null,value:""}}function pe(){return{type:"inlineCode",value:""}}function he(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ue(){return{type:"emphasis",children:[]}}function be(){return{type:"heading",depth:0,children:[]}}function Ne(){return{type:"break"}}function ie(){return{type:"html",value:""}}function De(){return{type:"image",title:null,url:"",alt:null}}function gt(){return{type:"link",title:null,url:"",children:[]}}function Je(ne){return{type:"list",ordered:ne.type==="listOrdered",start:null,spread:ne._spread,children:[]}}function Fe(ne){return{type:"listItem",spread:ne._spread,checked:null,children:[]}}function Dt(){return{type:"paragraph",children:[]}}function ot(){return{type:"strong",children:[]}}function ct(){return{type:"text",value:""}}function bt(){return{type:"thematicBreak"}}}function Hl(t){return{line:t.line,column:t.column,offset:t.offset}}function MF(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?MF(t,r):fae(t,r)}}function fae(t,e){let n;for(n in e)if(IF.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function dI(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+tm({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+tm({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+tm({start:e.start,end:e.end})+") is still open")}function hae(t){const e=this;e.parser=n;function n(r){return uae(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function pae(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function mae(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function gae(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function yae(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function xae(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function vae(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Sh(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,c);const d={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(e,d),t.applyData(e,d)}function bae(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function wae(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function DF(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function kae(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return DF(t,e);const i={src:Sh(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function Tae(t,e){const n={src:Sh(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function Sae(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function Cae(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return DF(t,e);const i={href:Sh(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function _ae(t,e){const n={href:Sh(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Eae(t,e,n){const r=t.all(e),i=n?Nae(n):OF(e),s={},o=[];if(typeof e.checked=="boolean"){const f=r[0];let p;f&&f.type==="element"&&f.tagName==="p"?p=f:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const f=r[a];(i||a!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?o.push(...f.children):o.push(f)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,d),t.applyData(e,d)}function Nae(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=OF(n[r])}return e}function OF(t){const e=t.spread;return e??t.children.length>1}function Aae(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function jae(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Pae(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Rae(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Iae(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=IC(e.children[1]),c=mF(e.children[e.children.length-1]);a&&c&&(o.position={start:a,end:c}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function Mae(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let c=-1;const d=[];for(;++c<a;){const p=e.children[c],g={},m=o?o[c]:void 0;m&&(g.align=m);let v={type:"element",tagName:s,properties:g,children:[]};p&&(v.children=t.all(p),t.patch(p,v),v=t.applyData(p,v)),d.push(v)}const f={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,f),t.applyData(e,f)}function Dae(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const fI=9,hI=32;function Oae(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(pI(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(pI(e.slice(i),i>0,!1)),s.join("")}function pI(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===fI||s===hI;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===fI||s===hI;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Lae(t,e){const n={type:"text",value:Oae(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Fae(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const zae={blockquote:pae,break:mae,code:gae,delete:yae,emphasis:xae,footnoteReference:vae,heading:bae,html:wae,imageReference:kae,image:Tae,inlineCode:Sae,linkReference:Cae,link:_ae,listItem:Eae,list:Aae,paragraph:jae,root:Pae,strong:Rae,table:Iae,tableCell:Dae,tableRow:Mae,text:Lae,thematicBreak:Fae,toml:i0,yaml:i0,definition:i0,footnoteDefinition:i0};function i0(){}const LF=-1,Mv=0,rm=1,Fx=2,BC=3,$C=4,UC=5,VC=6,FF=7,zF=8,mI=typeof self=="object"?self:globalThis,Bae=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case Mv:case LF:return n(o,i);case rm:{const a=n([],i);for(const c of o)a.push(r(c));return a}case Fx:{const a=n({},i);for(const[c,d]of o)a[r(c)]=r(d);return a}case BC:return n(new Date(o),i);case $C:{const{source:a,flags:c}=o;return n(new RegExp(a,c),i)}case UC:{const a=n(new Map,i);for(const[c,d]of o)a.set(r(c),r(d));return a}case VC:{const a=n(new Set,i);for(const c of o)a.add(r(c));return a}case FF:{const{name:a,message:c}=o;return n(new mI[a](c),i)}case zF:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new mI[s](o),i)};return r},gI=t=>Bae(new Map,t)(0),ef="",{toString:$ae}={},{keys:Uae}=Object,xp=t=>{const e=typeof t;if(e!=="object"||!t)return[Mv,e];const n=$ae.call(t).slice(8,-1);switch(n){case"Array":return[rm,ef];case"Object":return[Fx,ef];case"Date":return[BC,ef];case"RegExp":return[$C,ef];case"Map":return[UC,ef];case"Set":return[VC,ef];case"DataView":return[rm,n]}return n.includes("Array")?[rm,n]:n.includes("Error")?[FF,n]:[Fx,n]},s0=([t,e])=>t===Mv&&(e==="function"||e==="symbol"),Vae=(t,e,n,r)=>{const i=(o,a)=>{const c=r.push(o)-1;return n.set(a,c),c},s=o=>{if(n.has(o))return n.get(o);let[a,c]=xp(o);switch(a){case Mv:{let f=o;switch(c){case"bigint":a=zF,f=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+c);f=null;break;case"undefined":return i([LF],o)}return i([a,f],o)}case rm:{if(c){let g=o;return c==="DataView"?g=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(g=new Uint8Array(o)),i([c,[...g]],o)}const f=[],p=i([a,f],o);for(const g of o)f.push(s(g));return p}case Fx:{if(c)switch(c){case"BigInt":return i([c,o.toString()],o);case"Boolean":case"Number":case"String":return i([c,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const f=[],p=i([a,f],o);for(const g of Uae(o))(t||!s0(xp(o[g])))&&f.push([s(g),s(o[g])]);return p}case BC:return i([a,o.toISOString()],o);case $C:{const{source:f,flags:p}=o;return i([a,{source:f,flags:p}],o)}case UC:{const f=[],p=i([a,f],o);for(const[g,m]of o)(t||!(s0(xp(g))||s0(xp(m))))&&f.push([s(g),s(m)]);return p}case VC:{const f=[],p=i([a,f],o);for(const g of o)(t||!s0(xp(g)))&&f.push(s(g));return p}}const{message:d}=o;return i([a,{name:c,message:d}],o)};return s},yI=(t,{json:e,lossy:n}={})=>{const r=[];return Vae(!(e||n),!!e,new Map,r)(t),r},zx=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?gI(yI(t,e)):structuredClone(t):(t,e)=>gI(yI(t,e));function Wae(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function qae(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Hae(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Wae,r=t.options.footnoteBackLabel||qae,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let c=-1;for(;++c<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[c]);if(!d)continue;const f=t.all(d),p=String(d.identifier).toUpperCase(),g=Sh(p.toLowerCase());let m=0;const v=[],x=t.footnoteCounts.get(p);for(;x!==void 0&&++m<=x;){v.length>0&&v.push({type:"text",value:" "});let j=typeof n=="string"?n:n(c,m);typeof j=="string"&&(j={type:"text",value:j}),v.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,m),className:["data-footnote-backref"]},children:Array.isArray(j)?j:[j]})}const T=f[f.length-1];if(T&&T.type==="element"&&T.tagName==="p"){const j=T.children[T.children.length-1];j&&j.type==="text"?j.value+=" ":T.children.push({type:"text",value:" "}),T.children.push(...v)}else f.push(...v);const _={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:t.wrap(f,!0)};t.patch(d,_),a.push(_)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...zx(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const Dv=function(t){if(t==null)return Xae;if(typeof t=="function")return Ov(t);if(typeof t=="object")return Array.isArray(t)?Gae(t):Kae(t);if(typeof t=="string")return Yae(t);throw new Error("Expected function, string, or object as test")};function Gae(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Dv(t[n]);return Ov(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function Kae(t){const e=t;return Ov(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function Yae(t){return Ov(e);function e(n){return n&&n.type===t}}function Ov(t){return e;function e(n,r,i){return!!(Jae(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Xae(){return!0}function Jae(t){return t!==null&&typeof t=="object"&&"type"in t}const BF=[],Qae=!0,KT=!1,Zae="skip";function $F(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=Dv(i),o=r?-1:1;a(t,void 0,[])();function a(c,d,f){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const m=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(c.type+(m?"<"+m+">":""))+")"})}return g;function g(){let m=BF,v,x,T;if((!e||s(c,d,f[f.length-1]||void 0))&&(m=ele(n(c,f)),m[0]===KT))return m;if("children"in c&&c.children){const _=c;if(_.children&&m[0]!==Zae)for(x=(r?_.children.length:-1)+o,T=f.concat(_);x>-1&&x<_.children.length;){const j=_.children[x];if(v=a(j,x,T)(),v[0]===KT)return v;x=typeof v[1]=="number"?v[1]:x+o}}return m}}}function ele(t){return Array.isArray(t)?t:typeof t=="number"?[Qae,t]:t==null?BF:[t]}function WC(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),$F(t,s,a,i);function a(c,d){const f=d[d.length-1],p=f?f.children.indexOf(c):void 0;return o(c,p,f)}}const YT={}.hasOwnProperty,tle={};function nle(t,e){const n=e||tle,r=new Map,i=new Map,s=new Map,o={...zae,...n.handlers},a={all:d,applyData:ile,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:c,options:n,patch:rle,wrap:ole};return WC(t,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const p=f.type==="definition"?r:i,g=String(f.identifier).toUpperCase();p.has(g)||p.set(g,f)}}),a;function c(f,p){const g=f.type,m=a.handlers[g];if(YT.call(a.handlers,g)&&m)return m(a,f,p);if(a.options.passThrough&&a.options.passThrough.includes(g)){if("children"in f){const{children:x,...T}=f,_=zx(T);return _.children=a.all(f),_}return zx(f)}return(a.options.unknownHandler||sle)(a,f,p)}function d(f){const p=[];if("children"in f){const g=f.children;let m=-1;for(;++m<g.length;){const v=a.one(g[m],f);if(v){if(m&&g[m-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=xI(v.value)),!Array.isArray(v)&&v.type==="element")){const x=v.children[0];x&&x.type==="text"&&(x.value=xI(x.value))}Array.isArray(v)?p.push(...v):p.push(v)}}}return p}}function rle(t,e){t.position&&(e.position=qie(t))}function ile(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,zx(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function sle(t,e){const n=e.data||{},r="value"in e&&!(YT.call(n,"hProperties")||YT.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function ole(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function xI(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function vI(t,e){const n=nle(t,e),r=n.one(t,void 0),i=Hae(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function ale(t,e){return t&&"run"in t?async function(n,r){const i=vI(n,{file:r,...e});await t.run(i,r)}:function(n,r){return vI(n,{file:r,...t||e})}}function bI(t){if(t)throw t}var G1,wI;function lle(){if(wI)return G1;wI=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},s=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var f=t.call(d,"constructor"),p=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!f&&!p)return!1;var g;for(g in d);return typeof g>"u"||t.call(d,g)},o=function(d,f){n&&f.name==="__proto__"?n(d,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):d[f.name]=f.newValue},a=function(d,f){if(f==="__proto__")if(t.call(d,f)){if(r)return r(d,f).value}else return;return d[f]};return G1=function c(){var d,f,p,g,m,v,x=arguments[0],T=1,_=arguments.length,j=!1;for(typeof x=="boolean"&&(j=x,x=arguments[1]||{},T=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});T<_;++T)if(d=arguments[T],d!=null)for(f in d)p=a(x,f),g=a(d,f),x!==g&&(j&&g&&(s(g)||(m=i(g)))?(m?(m=!1,v=p&&i(p)?p:[]):v=p&&s(p)?p:{},o(x,{name:f,newValue:c(j,v,g)})):typeof g<"u"&&o(x,{name:f,newValue:g}));return x},G1}var cle=lle();const K1=kl(cle);function XT(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function ule(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(c,...d){const f=t[++s];let p=-1;if(c){o(c);return}for(;++p<i.length;)(d[p]===null||d[p]===void 0)&&(d[p]=i[p]);i=d,f?dle(f,a)(...d):o(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function dle(t,e){let n;return r;function r(...o){const a=t.length>o.length;let c;a&&o.push(i);try{c=t.apply(this,o)}catch(d){const f=d;if(a&&n)throw f;return i(f)}a||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const va={basename:fle,dirname:hle,extname:ple,join:mle,sep:"/"};function fle(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');gg(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function hle(t){if(gg(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function ple(t){gg(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function mle(...t){let e=-1,n;for(;++e<t.length;)gg(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":gle(n)}function gle(t){gg(t);const e=t.codePointAt(0)===47;let n=yle(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function yle(t,e){let n="",r=0,i=-1,s=0,o=-1,a,c;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function gg(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const xle={cwd:vle};function vle(){return"/"}function JT(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function ble(t){if(typeof t=="string")t=new URL(t);else if(!JT(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return wle(t)}function wle(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Y1=["history","path","basename","stem","extname","dirname"];class UF{constructor(e){let n;e?JT(e)?n={path:e}:typeof e=="string"||kle(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":xle.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Y1.length;){const s=Y1[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Y1.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?va.basename(this.path):void 0}set basename(e){J1(e,"basename"),X1(e,"basename"),this.path=va.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?va.dirname(this.path):void 0}set dirname(e){kI(this.basename,"dirname"),this.path=va.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?va.extname(this.path):void 0}set extname(e){if(X1(e,"extname"),kI(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=va.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){JT(e)&&(e=ble(e)),J1(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?va.basename(this.path,this.extname):void 0}set stem(e){J1(e,"stem"),X1(e,"stem"),this.path=va.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Ri(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function X1(t,e){if(t&&t.includes(va.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+va.sep+"`")}function J1(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function kI(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function kle(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Tle=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},Sle={}.hasOwnProperty;class qC extends Tle{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ule()}copy(){const e=new qC;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(K1(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(ek("data",this.frozen),this.namespace[e]=n,this):Sle.call(this.namespace,e)&&this.namespace[e]||void 0:e?(ek("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=o0(e),r=this.parser||this.Parser;return Q1("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Q1("process",this.parser||this.Parser),Z1("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=o0(e),c=r.parse(a);r.run(c,a,function(f,p,g){if(f||!p||!g)return d(f);const m=p,v=r.stringify(m,g);Ele(v)?g.value=v:g.result=v,d(f,g)});function d(f,p){f||!p?o(f):s?s(p):n(void 0,p)}}}processSync(e){let n=!1,r;return this.freeze(),Q1("processSync",this.parser||this.Parser),Z1("processSync",this.compiler||this.Compiler),this.process(e,i),SI("processSync","process",n),r;function i(s,o){n=!0,bI(s),r=o}}run(e,n,r){TI(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const c=o0(n);i.run(e,c,d);function d(f,p,g){const m=p||e;f?a(f):o?o(m):r(void 0,m,g)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),SI("runSync","run",r),i;function s(o,a){bI(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=o0(n),i=this.compiler||this.Compiler;return Z1("stringify",i),TI(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(ek("use",this.frozen),e!=null)if(typeof e=="function")c(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(d){if(typeof d=="function")c(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[f,...p]=d;c(f,p)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(d.plugins),d.settings&&(i.settings=K1(!0,i.settings,d.settings))}function a(d){let f=-1;if(d!=null)if(Array.isArray(d))for(;++f<d.length;){const p=d[f];s(p)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function c(d,f){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===d){g=p;break}if(g===-1)r.push([d,...f]);else if(f.length>0){let[m,...v]=f;const x=r[g][1];XT(x)&&XT(m)&&(m=K1(!0,x,m)),r[g]=[d,m,...v]}}}}const Cle=new qC().freeze();function Q1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Z1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function ek(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function TI(t){if(!XT(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function SI(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function o0(t){return _le(t)?t:new UF(t)}function _le(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Ele(t){return typeof t=="string"||Nle(t)}function Nle(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Ale="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",CI=[],_I={allowDangerousHtml:!0},jle=/^(https?|ircs?|mailto|xmpp)$/i,Ple=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Rle(t){const e=Ile(t),n=Mle(t);return Dle(e.runSync(e.parse(n),n),t)}function Ile(t){const e=t.rehypePlugins||CI,n=t.remarkPlugins||CI,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,..._I}:_I;return Cle().use(hae).use(n).use(ale,r).use(e)}function Mle(t){const e=t.children||"",n=new UF;return typeof e=="string"&&(n.value=e),n}function Dle(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,c=e.urlTransform||Ole;for(const f of Ple)Object.hasOwn(e,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+Ale+f.id,void 0);return WC(t,d),Xie(t,{Fragment:l.Fragment,components:i,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function d(f,p,g){if(f.type==="raw"&&g&&typeof p=="number")return o?g.children.splice(p,1):g.children[p]={type:"text",value:f.value},p;if(f.type==="element"){let m;for(m in W1)if(Object.hasOwn(W1,m)&&Object.hasOwn(f.properties,m)){const v=f.properties[m],x=W1[m];(x===null||x.includes(f.tagName))&&(f.properties[m]=c(String(v||""),m,f))}}if(f.type==="element"){let m=n?!n.includes(f.tagName):s?s.includes(f.tagName):!1;if(!m&&r&&typeof p=="number"&&(m=!r(f,p,g)),m&&g&&typeof p=="number")return a&&f.children?g.children.splice(p,1,...f.children):g.children.splice(p,1),p}}}function Ole(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||jle.test(t.slice(0,e))?t:""}function EI(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function Lle(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Fle(t,e,n){const i=Dv((n||{}).ignore||[]),s=zle(e);let o=-1;for(;++o<s.length;)$F(t,"text",a);function a(d,f){let p=-1,g;for(;++p<f.length;){const m=f[p],v=g?g.children:void 0;if(i(m,v?v.indexOf(m):void 0,g))return;g=m}if(g)return c(d,f)}function c(d,f){const p=f[f.length-1],g=s[o][0],m=s[o][1];let v=0;const T=p.children.indexOf(d);let _=!1,j=[];g.lastIndex=0;let w=g.exec(d.value);for(;w;){const F=w.index,z={index:w.index,input:w.input,stack:[...f,d]};let B=m(...w,z);if(typeof B=="string"&&(B=B.length>0?{type:"text",value:B}:void 0),B===!1?g.lastIndex=F+1:(v!==F&&j.push({type:"text",value:d.value.slice(v,F)}),Array.isArray(B)?j.push(...B):B&&j.push(B),v=F+w[0].length,_=!0),!g.global)break;w=g.exec(d.value)}return _?(v<d.value.length&&j.push({type:"text",value:d.value.slice(v)}),p.children.splice(T,1,...j)):j=[d],T+j.length}}function zle(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([Ble(i[0]),$le(i[1])])}return e}function Ble(t){return typeof t=="string"?new RegExp(Lle(t),"g"):t}function $le(t){return typeof t=="function"?t:function(){return t}}const tk="phrasing",nk=["autolink","link","image","label"];function Ule(){return{transforms:[Yle],enter:{literalAutolink:Wle,literalAutolinkEmail:rk,literalAutolinkHttp:rk,literalAutolinkWww:rk},exit:{literalAutolink:Kle,literalAutolinkEmail:Gle,literalAutolinkHttp:qle,literalAutolinkWww:Hle}}}function Vle(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:tk,notInConstruct:nk},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:tk,notInConstruct:nk},{character:":",before:"[ps]",after:"\\/",inConstruct:tk,notInConstruct:nk}]}}function Wle(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function rk(t){this.config.enter.autolinkProtocol.call(this,t)}function qle(t){this.config.exit.autolinkProtocol.call(this,t)}function Hle(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function Gle(t){this.config.exit.autolinkEmail.call(this,t)}function Kle(t){this.exit(t)}function Yle(t){Fle(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Xle],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Jle]],{ignore:["link","linkReference"]})}function Xle(t,e,n,r,i){let s="";if(!VF(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!Qle(n)))return!1;const o=Zle(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function Jle(t,e,n,r){return!VF(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function Qle(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Zle(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=EI(t,"(");let s=EI(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function VF(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||cd(n)||Rv(n))&&(!e||n!==47)}WF.peek=lce;function ece(){this.buffer()}function tce(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function nce(){this.buffer()}function rce(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function ice(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Zo(this.sliceSerialize(t)).toLowerCase(),n.label=e}function sce(t){this.exit(t)}function oce(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Zo(this.sliceSerialize(t)).toLowerCase(),n.label=e}function ace(t){this.exit(t)}function lce(){return"["}function WF(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function cce(){return{enter:{gfmFootnoteCallString:ece,gfmFootnoteCall:tce,gfmFootnoteDefinitionLabelString:nce,gfmFootnoteDefinition:rce},exit:{gfmFootnoteCallString:ice,gfmFootnoteCall:sce,gfmFootnoteDefinitionLabelString:oce,gfmFootnoteDefinition:ace}}}function uce(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:WF},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let c=a.move("[^");const d=s.enter("footnoteDefinition"),f=s.enter("label");return c+=a.move(s.safe(s.associationId(r),{before:c,after:"]"})),f(),c+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),c+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),e?qF:dce))),d(),c}}function dce(t,e,n){return e===0?t:qF(t,e,n)}function qF(t,e,n){return(n?"":"    ")+t}const fce=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];HF.peek=yce;function hce(){return{canContainEols:["delete"],enter:{strikethrough:mce},exit:{strikethrough:gce}}}function pce(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:fce}],handlers:{delete:HF}}}function mce(t){this.enter({type:"delete",children:[]},t)}function gce(t){this.exit(t)}function HF(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function yce(){return"~"}function xce(t){return t.length}function vce(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||xce,s=[],o=[],a=[],c=[];let d=0,f=-1;for(;++f<t.length;){const x=[],T=[];let _=-1;for(t[f].length>d&&(d=t[f].length);++_<t[f].length;){const j=bce(t[f][_]);if(n.alignDelimiters!==!1){const w=i(j);T[_]=w,(c[_]===void 0||w>c[_])&&(c[_]=w)}x.push(j)}o[f]=x,a[f]=T}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<d;)s[p]=NI(r[p]);else{const x=NI(r);for(;++p<d;)s[p]=x}p=-1;const g=[],m=[];for(;++p<d;){const x=s[p];let T="",_="";x===99?(T=":",_=":"):x===108?T=":":x===114&&(_=":");let j=n.alignDelimiters===!1?1:Math.max(1,c[p]-T.length-_.length);const w=T+"-".repeat(j)+_;n.alignDelimiters!==!1&&(j=T.length+j+_.length,j>c[p]&&(c[p]=j),m[p]=j),g[p]=w}o.splice(1,0,g),a.splice(1,0,m),f=-1;const v=[];for(;++f<o.length;){const x=o[f],T=a[f];p=-1;const _=[];for(;++p<d;){const j=x[p]||"";let w="",F="";if(n.alignDelimiters!==!1){const z=c[p]-(T[p]||0),B=s[p];B===114?w=" ".repeat(z):B===99?z%2?(w=" ".repeat(z/2+.5),F=" ".repeat(z/2-.5)):(w=" ".repeat(z/2),F=w):F=" ".repeat(z)}n.delimiterStart!==!1&&!p&&_.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&j==="")&&(n.delimiterStart!==!1||p)&&_.push(" "),n.alignDelimiters!==!1&&_.push(w),_.push(j),n.alignDelimiters!==!1&&_.push(F),n.padding!==!1&&_.push(" "),(n.delimiterEnd!==!1||p!==d-1)&&_.push("|")}v.push(n.delimiterEnd===!1?_.join("").replace(/ +$/,""):_.join(""))}return v.join(`
`)}function bce(t){return t==null?"":String(t)}function NI(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function wce(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),kce);return i(),o}function kce(t,e,n){return">"+(n?"":" ")+t}function Tce(t,e){return AI(t,e.inConstruct,!0)&&!AI(t,e.notInConstruct,!1)}function AI(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function jI(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Tce(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Sce(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function Cce(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function _ce(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Ece(t,e,n,r){const i=_ce(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(Cce(t,n)){const p=n.enter("codeIndented"),g=n.indentLines(s,Nce);return p(),g}const a=n.createTracker(r),c=i.repeat(Math.max(Sce(s,i)+1,3)),d=n.enter("codeFenced");let f=a.move(c);if(t.lang){const p=n.enter(`codeFencedLang${o}`);f+=a.move(n.safe(t.lang,{before:f,after:" ",encode:["`"],...a.current()})),p()}if(t.lang&&t.meta){const p=n.enter(`codeFencedMeta${o}`);f+=a.move(" "),f+=a.move(n.safe(t.meta,{before:f,after:`
`,encode:["`"],...a.current()})),p()}return f+=a.move(`
`),s&&(f+=a.move(s+`
`)),f+=a.move(c),d(),f}function Nce(t,e,n){return(n?"":"    ")+t}function HC(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function Ace(t,e,n,r){const i=HC(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const c=n.createTracker(r);let d=c.move("[");return d+=c.move(n.safe(n.associationId(t),{before:d,after:"]",...c.current()})),d+=c.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(n.safe(t.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(a=n.enter("destinationRaw"),d+=c.move(n.safe(t.url,{before:d,after:t.title?" ":`
`,...c.current()}))),a(),t.title&&(a=n.enter(`title${s}`),d+=c.move(" "+i),d+=c.move(n.safe(t.title,{before:d,after:i,...c.current()})),d+=c.move(i),a()),o(),d}function jce(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Um(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Bx(t,e,n){const r=oh(t),i=oh(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}GF.peek=Pce;function GF(t,e,n,r){const i=jce(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let c=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const d=c.charCodeAt(0),f=Bx(r.before.charCodeAt(r.before.length-1),d,i);f.inside&&(c=Um(d)+c.slice(1));const p=c.charCodeAt(c.length-1),g=Bx(r.after.charCodeAt(0),p,i);g.inside&&(c=c.slice(0,-1)+Um(p));const m=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},a+c+m}function Pce(t,e,n){return n.options.emphasis||"*"}function Rce(t,e){let n=!1;return WC(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,KT}),!!((!t.depth||t.depth<3)&&LC(t)&&(e.options.setext||n))}function Ice(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(Rce(t,n)){const f=n.enter("headingSetext"),p=n.enter("phrasing"),g=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return p(),f(),g+`
`+(i===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),c=n.enter("phrasing");s.move(o+" ");let d=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(d)&&(d=Um(d.charCodeAt(0))+d.slice(1)),d=d?o+" "+d:o,n.options.closeAtx&&(d+=" "+o),c(),a(),d}KF.peek=Mce;function KF(t){return t.value||""}function Mce(){return"<"}YF.peek=Dce;function YF(t,e,n,r){const i=HC(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const c=n.createTracker(r);let d=c.move("![");return d+=c.move(n.safe(t.alt,{before:d,after:"]",...c.current()})),d+=c.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(n.safe(t.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(a=n.enter("destinationRaw"),d+=c.move(n.safe(t.url,{before:d,after:t.title?" ":")",...c.current()}))),a(),t.title&&(a=n.enter(`title${s}`),d+=c.move(" "+i),d+=c.move(n.safe(t.title,{before:d,after:i,...c.current()})),d+=c.move(i),a()),d+=c.move(")"),o(),d}function Dce(){return"!"}XF.peek=Oce;function XF(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let c=a.move("![");const d=n.safe(t.alt,{before:c,after:"]",...a.current()});c+=a.move(d+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const p=n.safe(n.associationId(t),{before:c,after:"]",...a.current()});return o(),n.stack=f,s(),i==="full"||!d||d!==p?c+=a.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=a.move("]"),c}function Oce(){return"!"}JF.peek=Lce;function JF(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let c;if(o.atBreak)for(;c=a.exec(r);){let d=c.index;r.charCodeAt(d)===10&&r.charCodeAt(d-1)===13&&d--,r=r.slice(0,d)+" "+r.slice(c.index+1)}}return i+r+i}function Lce(){return"`"}function QF(t,e){const n=LC(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}ZF.peek=Fce;function ZF(t,e,n,r){const i=HC(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,c;if(QF(t,n)){const f=n.stack;n.stack=[],a=n.enter("autolink");let p=o.move("<");return p+=o.move(n.containerPhrasing(t,{before:p,after:">",...o.current()})),p+=o.move(">"),a(),n.stack=f,p}a=n.enter("link"),c=n.enter("label");let d=o.move("[");return d+=o.move(n.containerPhrasing(t,{before:d,after:"](",...o.current()})),d+=o.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),d+=o.move("<"),d+=o.move(n.safe(t.url,{before:d,after:">",...o.current()})),d+=o.move(">")):(c=n.enter("destinationRaw"),d+=o.move(n.safe(t.url,{before:d,after:t.title?" ":")",...o.current()}))),c(),t.title&&(c=n.enter(`title${s}`),d+=o.move(" "+i),d+=o.move(n.safe(t.title,{before:d,after:i,...o.current()})),d+=o.move(i),c()),d+=o.move(")"),a(),d}function Fce(t,e,n){return QF(t,n)?"<":"["}ez.peek=zce;function ez(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let c=a.move("[");const d=n.containerPhrasing(t,{before:c,after:"]",...a.current()});c+=a.move(d+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const p=n.safe(n.associationId(t),{before:c,after:"]",...a.current()});return o(),n.stack=f,s(),i==="full"||!d||d!==p?c+=a.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=a.move("]"),c}function zce(){return"["}function GC(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Bce(t){const e=GC(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function $ce(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function tz(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function Uce(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?$ce(n):GC(n);const a=t.ordered?o==="."?")":".":Bce(n);let c=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const f=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),tz(n)===o&&f){let p=-1;for(;++p<t.children.length;){const g=t.children[p];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(o=a),n.bulletCurrent=o;const d=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),d}function Vce(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function Wce(t,e,n,r){const i=Vce(n);let s=n.bulletCurrent||GC(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const c=n.enter("listItem"),d=n.indentLines(n.containerFlow(t,a.current()),f);return c(),d;function f(p,g,m){return g?(m?"":" ".repeat(o))+p:(m?s:s+" ".repeat(o-s.length))+p}}function qce(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const Hce=Dv(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Gce(t,e,n,r){return(t.children.some(function(o){return Hce(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function Kce(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}nz.peek=Yce;function nz(t,e,n,r){const i=Kce(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let c=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const d=c.charCodeAt(0),f=Bx(r.before.charCodeAt(r.before.length-1),d,i);f.inside&&(c=Um(d)+c.slice(1));const p=c.charCodeAt(c.length-1),g=Bx(r.after.charCodeAt(0),p,i);g.inside&&(c=c.slice(0,-1)+Um(p));const m=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},a+c+m}function Yce(t,e,n){return n.options.strong||"*"}function Xce(t,e,n,r){return n.safe(t.value,r)}function Jce(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function Qce(t,e,n){const r=(tz(n)+(n.options.ruleSpaces?" ":"")).repeat(Jce(n));return n.options.ruleSpaces?r.slice(0,-1):r}const rz={blockquote:wce,break:jI,code:Ece,definition:Ace,emphasis:GF,hardBreak:jI,heading:Ice,html:KF,image:YF,imageReference:XF,inlineCode:JF,link:ZF,linkReference:ez,list:Uce,listItem:Wce,paragraph:qce,root:Gce,strong:nz,text:Xce,thematicBreak:Qce};function Zce(){return{enter:{table:eue,tableData:PI,tableHeader:PI,tableRow:nue},exit:{codeText:rue,table:tue,tableData:ik,tableHeader:ik,tableRow:ik}}}function eue(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function tue(t){this.exit(t),this.data.inTable=void 0}function nue(t){this.enter({type:"tableRow",children:[]},t)}function ik(t){this.exit(t)}function PI(t){this.enter({type:"tableCell",children:[]},t)}function rue(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,iue));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function iue(t,e){return e==="|"?e:t}function sue(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:o,tableCell:c,tableRow:a}};function o(m,v,x,T){return d(f(m,x,T),m.align)}function a(m,v,x,T){const _=p(m,x,T),j=d([_]);return j.slice(0,j.indexOf(`
`))}function c(m,v,x,T){const _=x.enter("tableCell"),j=x.enter("phrasing"),w=x.containerPhrasing(m,{...T,before:s,after:s});return j(),_(),w}function d(m,v){return vce(m,{align:v,alignDelimiters:r,padding:n,stringLength:i})}function f(m,v,x){const T=m.children;let _=-1;const j=[],w=v.enter("table");for(;++_<T.length;)j[_]=p(T[_],v,x);return w(),j}function p(m,v,x){const T=m.children;let _=-1;const j=[],w=v.enter("tableRow");for(;++_<T.length;)j[_]=c(T[_],m,v,x);return w(),j}function g(m,v,x){let T=rz.inlineCode(m,v,x);return x.stack.includes("tableCell")&&(T=T.replace(/\|/g,"\\$&")),T}}function oue(){return{exit:{taskListCheckValueChecked:RI,taskListCheckValueUnchecked:RI,paragraph:lue}}}function aue(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:cue}}}function RI(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function lue(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function cue(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let c=rz.listItem(t,e,n,{...r,...a.current()});return s&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),c;function d(f){return f+o}}function uue(){return[Ule(),cce(),hce(),Zce(),oue()]}function due(t){return{extensions:[Vle(),uce(t),pce(),sue(t),aue()]}}const fue={tokenize:xue,partial:!0},iz={tokenize:vue,partial:!0},sz={tokenize:bue,partial:!0},oz={tokenize:wue,partial:!0},hue={tokenize:kue,partial:!0},az={name:"wwwAutolink",tokenize:gue,previous:cz},lz={name:"protocolAutolink",tokenize:yue,previous:uz},_l={name:"emailAutolink",tokenize:mue,previous:dz},Wa={};function pue(){return{text:Wa}}let hu=48;for(;hu<123;)Wa[hu]=_l,hu++,hu===58?hu=65:hu===91&&(hu=97);Wa[43]=_l;Wa[45]=_l;Wa[46]=_l;Wa[95]=_l;Wa[72]=[_l,lz];Wa[104]=[_l,lz];Wa[87]=[_l,az];Wa[119]=[_l,az];function mue(t,e,n){const r=this;let i,s;return o;function o(p){return!QT(p)||!dz.call(r,r.previous)||KC(r.events)?n(p):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(p))}function a(p){return QT(p)?(t.consume(p),a):p===64?(t.consume(p),c):n(p)}function c(p){return p===46?t.check(hue,f,d)(p):p===45||p===95||Ni(p)?(s=!0,t.consume(p),c):f(p)}function d(p){return t.consume(p),i=!0,c}function f(p){return s&&i&&Ki(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(p)):n(p)}}function gue(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!cz.call(r,r.previous)||KC(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(fue,t.attempt(iz,t.attempt(sz,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function yue(t,e,n){const r=this;let i="",s=!1;return o;function o(p){return(p===72||p===104)&&uz.call(r,r.previous)&&!KC(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),t.consume(p),a):n(p)}function a(p){if(Ki(p)&&i.length<5)return i+=String.fromCodePoint(p),t.consume(p),a;if(p===58){const g=i.toLowerCase();if(g==="http"||g==="https")return t.consume(p),c}return n(p)}function c(p){return p===47?(t.consume(p),s?d:(s=!0,c)):n(p)}function d(p){return p===null||Lx(p)||zn(p)||cd(p)||Rv(p)?n(p):t.attempt(iz,t.attempt(sz,f),n)(p)}function f(p){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(p)}}function xue(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function vue(t,e,n){let r,i,s;return o;function o(d){return d===46||d===95?t.check(oz,c,a)(d):d===null||zn(d)||cd(d)||d!==45&&Rv(d)?c(d):(s=!0,t.consume(d),o)}function a(d){return d===95?r=!0:(i=r,r=void 0),t.consume(d),o}function c(d){return i||r||!s?n(d):e(d)}}function bue(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(oz,e,s)(o):o===null||zn(o)||cd(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function wue(t,e,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),r):a===38?(t.consume(a),s):a===93?(t.consume(a),i):a===60||a===null||zn(a)||cd(a)?e(a):n(a)}function i(a){return a===null||a===40||a===91||zn(a)||cd(a)?e(a):r(a)}function s(a){return Ki(a)?o(a):n(a)}function o(a){return a===59?(t.consume(a),r):Ki(a)?(t.consume(a),o):n(a)}}function kue(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return Ni(s)?n(s):e(s)}}function cz(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||zn(t)}function uz(t){return!Ki(t)}function dz(t){return!(t===47||QT(t))}function QT(t){return t===43||t===45||t===46||t===95||Ni(t)}function KC(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Tue={tokenize:Pue,partial:!0};function Sue(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Nue,continuation:{tokenize:Aue},exit:jue}},text:{91:{name:"gfmFootnoteCall",tokenize:Eue},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Cue,resolveTo:_ue}}}}function Cue(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){o=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return a;function a(c){if(!o||!o._balanced)return n(c);const d=Zo(r.sliceSerialize({start:o.end,end:r.now()}));return d.codePointAt(0)!==94||!s.includes(d.slice(1))?n(c):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(c),t.exit("gfmFootnoteCallLabelMarker"),e(c))}}function _ue(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function Eue(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(p){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(p),t.exit("gfmFootnoteCallLabelMarker"),c}function c(p){return p!==94?n(p):(t.enter("gfmFootnoteCallMarker"),t.consume(p),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",d)}function d(p){if(s>999||p===93&&!o||p===null||p===91||zn(p))return n(p);if(p===93){t.exit("chunkString");const g=t.exit("gfmFootnoteCallString");return i.includes(Zo(r.sliceSerialize(g)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(p),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(p)}return zn(p)||(o=!0),s++,t.consume(p),p===92?f:d}function f(p){return p===91||p===92||p===93?(t.consume(p),s++,d):d(p)}}function Nue(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return c;function c(v){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(v){return v===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",f):n(v)}function f(v){if(o>999||v===93&&!a||v===null||v===91||zn(v))return n(v);if(v===93){t.exit("chunkString");const x=t.exit("gfmFootnoteDefinitionLabelString");return s=Zo(r.sliceSerialize(x)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),g}return zn(v)||(a=!0),o++,t.consume(v),v===92?p:f}function p(v){return v===91||v===92||v===93?(t.consume(v),o++,f):f(v)}function g(v){return v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),i.includes(s)||i.push(s),gn(t,m,"gfmFootnoteDefinitionWhitespace")):n(v)}function m(v){return e(v)}}function Aue(t,e,n){return t.check(mg,e,t.attempt(Tue,e,n))}function jue(t){t.exit("gfmFootnoteDefinition")}function Pue(t,e,n){const r=this;return gn(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function Rue(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let c=-1;for(;++c<o.length;)if(o[c][0]==="enter"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._close){let d=c;for(;d--;)if(o[d][0]==="exit"&&o[d][1].type==="strikethroughSequenceTemporary"&&o[d][1]._open&&o[c][1].end.offset-o[c][1].start.offset===o[d][1].end.offset-o[d][1].start.offset){o[c][1].type="strikethroughSequence",o[d][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},o[d][1].start),end:Object.assign({},o[c][1].end)},p={type:"strikethroughText",start:Object.assign({},o[d][1].end),end:Object.assign({},o[c][1].start)},g=[["enter",f,a],["enter",o[d][1],a],["exit",o[d][1],a],["enter",p,a]],m=a.parser.constructs.insideSpan.null;m&&Hs(g,g.length,0,Iv(m,o.slice(d+1,c),a)),Hs(g,g.length,0,[["exit",p,a],["enter",o[c][1],a],["exit",o[c][1],a],["exit",f,a]]),Hs(o,d-1,c-d+3,g),c=d+g.length-2;break}}for(c=-1;++c<o.length;)o[c][1].type==="strikethroughSequenceTemporary"&&(o[c][1].type="data");return o}function s(o,a,c){const d=this.previous,f=this.events;let p=0;return g;function g(v){return d===126&&f[f.length-1][1].type!=="characterEscape"?c(v):(o.enter("strikethroughSequenceTemporary"),m(v))}function m(v){const x=oh(d);if(v===126)return p>1?c(v):(o.consume(v),p++,m);if(p<2&&!n)return c(v);const T=o.exit("strikethroughSequenceTemporary"),_=oh(v);return T._open=!_||_===2&&!!x,T._close=!x||x===2&&!!_,a(v)}}}class Iue{constructor(){this.map=[]}add(e,n,r){Mue(this,e,n,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function Mue(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function Due(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function Oue(){return{flow:{null:{name:"table",tokenize:Lue,resolveAll:Fue}}}}function Lue(t,e,n){const r=this;let i=0,s=0,o;return a;function a(q){let X=r.events.length-1;for(;X>-1;){const b=r.events[X][1].type;if(b==="lineEnding"||b==="linePrefix")X--;else break}const V=X>-1?r.events[X][1].type:null,R=V==="tableHead"||V==="tableRow"?B:c;return R===B&&r.parser.lazy[r.now().line]?n(q):R(q)}function c(q){return t.enter("tableHead"),t.enter("tableRow"),d(q)}function d(q){return q===124||(o=!0,s+=1),f(q)}function f(q){return q===null?n(q):St(q)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(q),t.exit("lineEnding"),m):n(q):ln(q)?gn(t,f,"whitespace")(q):(s+=1,o&&(o=!1,i+=1),q===124?(t.enter("tableCellDivider"),t.consume(q),t.exit("tableCellDivider"),o=!0,f):(t.enter("data"),p(q)))}function p(q){return q===null||q===124||zn(q)?(t.exit("data"),f(q)):(t.consume(q),q===92?g:p)}function g(q){return q===92||q===124?(t.consume(q),p):p(q)}function m(q){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(q):(t.enter("tableDelimiterRow"),o=!1,ln(q)?gn(t,v,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):v(q))}function v(q){return q===45||q===58?T(q):q===124?(o=!0,t.enter("tableCellDivider"),t.consume(q),t.exit("tableCellDivider"),x):z(q)}function x(q){return ln(q)?gn(t,T,"whitespace")(q):T(q)}function T(q){return q===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(q),t.exit("tableDelimiterMarker"),_):q===45?(s+=1,_(q)):q===null||St(q)?F(q):z(q)}function _(q){return q===45?(t.enter("tableDelimiterFiller"),j(q)):z(q)}function j(q){return q===45?(t.consume(q),j):q===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(q),t.exit("tableDelimiterMarker"),w):(t.exit("tableDelimiterFiller"),w(q))}function w(q){return ln(q)?gn(t,F,"whitespace")(q):F(q)}function F(q){return q===124?v(q):q===null||St(q)?!o||i!==s?z(q):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(q)):z(q)}function z(q){return n(q)}function B(q){return t.enter("tableRow"),H(q)}function H(q){return q===124?(t.enter("tableCellDivider"),t.consume(q),t.exit("tableCellDivider"),H):q===null||St(q)?(t.exit("tableRow"),e(q)):ln(q)?gn(t,H,"whitespace")(q):(t.enter("data"),Y(q))}function Y(q){return q===null||q===124||zn(q)?(t.exit("data"),H(q)):(t.consume(q),q===92?W:Y)}function W(q){return q===92||q===124?(t.consume(q),Y):Y(q)}}function Fue(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,c=0,d,f,p;const g=new Iue;for(;++n<t.length;){const m=t[n],v=m[1];m[0]==="enter"?v.type==="tableHead"?(a=!1,c!==0&&(II(g,e,c,d,f),f=void 0,c=0),d={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},g.add(n,0,[["enter",d,e]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(r=!0,p=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,f={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},g.add(n,0,[["enter",f,e]])),i=v.type==="tableDelimiterRow"?2:f?3:1):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],p=a0(g,e,s,i,void 0,p),s=[0,0,0,0]),o[2]=n)):v.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],p=a0(g,e,s,i,void 0,p)),s=o,o=[s[1],n,0,0])):v.type==="tableHead"?(a=!0,c=n):v.type==="tableRow"||v.type==="tableDelimiterRow"?(c=n,s[1]!==0?(o[0]=o[1],p=a0(g,e,s,i,n,p)):o[1]!==0&&(p=a0(g,e,o,i,n,p)),i=0):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(o[3]=n)}for(c!==0&&II(g,e,c,d,f),g.consume(e.events),n=-1;++n<e.events.length;){const m=e.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Due(e.events,n))}return t}function a0(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},uf(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const c=uf(e.events,n[1]);if(s={type:o,start:Object.assign({},c),end:Object.assign({},c)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const d=uf(e.events,n[2]),f=uf(e.events,n[3]),p={type:a,start:Object.assign({},d),end:Object.assign({},f)};if(t.add(n[2],0,[["enter",p,e]]),r!==2){const g=e.events[n[2]],m=e.events[n[3]];if(g[1].end=Object.assign({},m[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const v=n[2]+1,x=n[3]-n[2]-1;t.add(v,x,[])}}t.add(n[3]+1,0,[["exit",p,e]])}return i!==void 0&&(s.end=Object.assign({},uf(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function II(t,e,n,r,i){const s=[],o=uf(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function uf(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const zue={name:"tasklistCheck",tokenize:$ue};function Bue(){return{text:{91:zue}}}function $ue(t,e,n){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(c),t.exit("taskListCheckMarker"),s)}function s(c){return zn(c)?(t.enter("taskListCheckValueUnchecked"),t.consume(c),t.exit("taskListCheckValueUnchecked"),o):c===88||c===120?(t.enter("taskListCheckValueChecked"),t.consume(c),t.exit("taskListCheckValueChecked"),o):n(c)}function o(c){return c===93?(t.enter("taskListCheckMarker"),t.consume(c),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(c)}function a(c){return St(c)?e(c):ln(c)?t.check({tokenize:Uue},e,n)(c):n(c)}}function Uue(t,e,n){return gn(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function Vue(t){return kF([pue(),Sue(),Rue(t),Oue(),Bue()])}const Wue={};function que(t){const e=this,n=t||Wue,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Vue(n)),s.push(uue()),o.push(due(n))}Ql.registerPlugin(an);const pu=({id:t,className:e="",containerClassName:n="",children:r})=>l.jsx("section",{id:t,className:`w-full ${e}`,children:l.jsx("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 ${n}`,children:r})}),vp=({eyebrow:t,title:e,subtitle:n,className:r=""})=>l.jsxs("div",{className:`text-center mb-8 sm:mb-10 lg:mb-14 ${r}`,children:[t&&l.jsx("div",{className:"font-display text-[length:var(--text-sm)] tracking-wider uppercase text-primary mb-2 font-semibold",children:t}),l.jsx("h2",{className:"font-display text-[length:var(--text-4xl)] font-bold mb-3 text-foreground leading-tight tracking-tighter",children:e}),n&&l.jsx("p",{className:"font-body text-[length:var(--text-lg)] text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:n})]});function Hue(t){if(!t)return[];const e=t.split(`
`).map(i=>i.replace(/\r$/,""));let n=0;for(;n<e.length&&(e[n].trim()===""||e[n].trim().startsWith("##"));)n++;const r=[];for(;n<e.length;){if(!e[n].trim().startsWith("**Q:")){n++;continue}const i=e[n].trim().replace(/^\*\*Q:\s*/,"").replace(/\*\*$/,"").trim();for(n++;n<e.length&&e[n].trim()==="";)n++;const s=[];for(n<e.length&&e[n].trim().startsWith("A:")&&(s.push(e[n].trim().replace(/^A:\s*/,"")),n++);n<e.length&&!e[n].trim().startsWith("**Q:");)s.push(e[n]),n++;r.push({q:i,aMd:s.join(`
`).trim()})}return r}function Gue(){const[t,e]=k.useState("");k.useRef(null),k.useRef(null),k.useRef(null);const{getCurrentTheme:n}=rv();k.useEffect(()=>(Ql.timeline().from(".hero-headline",{opacity:0,y:50,duration:1,ease:"power3.out"}).from(".hero-subtext",{opacity:0,y:30,duration:.8,ease:"power3.out"},"-=0.5").from(".hero-cta",{opacity:0,y:20,duration:.6,stagger:.1,ease:"power3.out"},"-=0.3"),Ql.utils.toArray(".reveal").forEach(s=>{Ql.fromTo(s,{opacity:0,y:50},{opacity:1,y:0,duration:.8,ease:"power3.out",scrollTrigger:{trigger:s,start:"top 80%",end:"bottom 20%",toggleActions:"play none none reverse"}})}),Ql.utils.toArray(".card-grid").forEach(s=>{const o=s.querySelectorAll(".card-item");Ql.fromTo(o,{opacity:0,y:30},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power3.out",scrollTrigger:{trigger:s,start:"top 80%",toggleActions:"play none none reverse"}})}),Ql.to(".pulse-btn",{scale:1.05,duration:1,repeat:-1,yoyo:!0,ease:"power2.inOut"}),()=>{an.getAll().forEach(s=>s.kill())}),[]),k.useEffect(()=>{let i=!0;return fetch("/FAQ.md").then(s=>s.text()).then(s=>{i&&e(s)}).catch(()=>{i&&e(`## FAQ
Content unavailable.`)}),()=>{i=!1}},[]);const r=Hue(t);return l.jsxs("div",{className:"bg-background text-foreground overflow-x-hidden -mb-8",children:[l.jsx(pu,{id:"hero",className:"min-h-[90vh] sm:min-h-[100vh] flex items-center justify-center relative bg-gradient-to-br from-background via-card to-muted pt-16 sm:pt-0",children:l.jsx("div",{className:"relative z-10 w-full py-12 sm:py-20",children:l.jsxs("div",{className:"text-center max-w-6xl mx-auto",children:[l.jsxs("h1",{className:"hero-headline font-display text-[length:var(--text-5xl)] font-bold mb-4 sm:mb-6 text-foreground leading-tight tracking-tighter",children:["Explore New Strategies to Distribute"," ",l.jsx("span",{className:"bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"NFTs"})," ","and"," ",l.jsx("span",{className:"bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Community Rewards"})]}),l.jsx("p",{className:"hero-subtext font-body text-[length:var(--text-lg)] text-muted-foreground mb-6 sm:mb-8 max-w-4xl mx-auto leading-relaxed",children:"Transparent whitelist allocations  Inter-community collaboration  Disincentivize mint bots  Earn community trust"}),l.jsxs("div",{className:"hero-cta flex flex-col items-center gap-6 mb-6 sm:mb-12",children:[l.jsx(sc,{to:"/app",target:"_blank",rel:"noopener noreferrer",className:"pulse-btn inline-flex items-center justify-center px-8 py-4 rounded-full bg-primary text-primary-foreground hover:bg-primary/90 transition-all duration-300 shadow-lg hover:shadow-xl font-semibold text-[length:var(--text-lg)]",children:"Launch Dapp"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[l.jsxs(Ee,{onClick:()=>document.getElementById("video-demo").scrollIntoView({behavior:"smooth"}),variant:"secondary",size:"lg",className:"hero-cta",children:[l.jsx(RP,{className:"mr-2 h-5 w-5"}),"Watch Demo"]}),l.jsxs(sc,{to:"/docs",className:"hero-cta inline-flex items-center justify-center px-8 py-4 rounded-full border border-muted-foreground text-muted-foreground hover:border-primary hover:text-primary transition-all duration-300 font-semibold text-[length:var(--text-base)]",children:[l.jsx(Kf,{className:"mr-2 h-5 w-5"}),"Read Documentation"]})]})]}),l.jsxs("div",{className:"hero-cta flex flex-wrap justify-center items-center gap-6 font-body text-[length:var(--text-base)] text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Jo,{className:"h-5 w-5 text-primary"}),l.jsx("span",{children:"Chainlink VRF Powered"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Nn,{className:"h-5 w-5 text-primary"}),l.jsx("span",{children:"Fairness Guaranteed"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(nX,{className:"h-5 w-5 text-primary"}),l.jsx("span",{children:"Fully Transparent"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(lX,{className:"h-5 w-5 text-primary"}),l.jsx("span",{children:"Trustless"})]})]})]})})}),l.jsxs(pu,{id:"problem",className:"py-20 bg-card",children:[l.jsx("div",{className:"reveal",children:l.jsx(vp,{title:"The End of Opaque Whitelist Allocations, Botted Mints, and Rigged Giveaways",subtitle:"Traditional Web3 distribution methods are broken. Dropr introduces new distribution mechanisms built on provably fair technology."})}),l.jsxs("div",{className:"card-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-16",children:[l.jsxs("div",{className:"card-item bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Jo,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-bold mb-3 text-foreground leading-snug",children:"No More Insider Favoritism"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground leading-relaxed",children:"Cryptographically secure randomness ensures every participant has an equal chance"})]}),l.jsxs("div",{className:"card-item bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(tX,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-bold mb-3 text-foreground leading-snug",children:"Discourage Bot Attacks"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground leading-relaxed",children:"The Winner selection algorithm largely disincentivizes bot manipulation during NFT Drops"})]}),l.jsxs("div",{className:"card-item bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Yu,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-bold mb-3 text-foreground leading-snug",children:"Build Community Trust"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground leading-relaxed",children:"Transparent, verifiable processes that communities can audit and trust"})]}),l.jsxs("div",{className:"card-item bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(px,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-bold mb-3 text-foreground leading-snug",children:"Trustless Asset Distribution"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground leading-relaxed",children:"Smart contracts securely manage prizes without need for intervention from creators"})]})]})]}),l.jsxs(pu,{id:"why-dropr-gamechanger",className:"py-20 bg-card",children:[l.jsx("div",{className:"reveal",children:l.jsx(vp,{title:"Why Dropr is a Gamechanger",subtitle:"Revolutionary features that set Dropr apart from traditional NFT launchpads"})}),l.jsx("div",{className:"reveal mt-12",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-border",children:[l.jsx("th",{className:"text-center p-4 font-display text-[length:var(--text-lg)] font-semibold text-foreground",children:"Narratives"}),l.jsx("th",{className:"text-center p-4",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center mb-2 p-1 ${n().id==="light"?"bg-background border-2 border-primary":"bg-primary"}`,children:l.jsx("img",{src:n().id==="light"?"/images/logo/Asset 25.svg":"/images/logo/Asset 26.svg",alt:"Dropr",className:"w-full h-full object-contain"})}),l.jsx("span",{className:"font-display text-[length:var(--text-base)] font-semibold text-primary",children:"Dropr"})]})}),l.jsx("th",{className:"text-center p-4",children:l.jsxs("div",{className:"flex flex-col items-center opacity-50",children:[l.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg flex items-center justify-center mb-2",children:l.jsx("span",{className:"text-muted-foreground font-bold text-lg",children:"OS"})}),l.jsx("span",{className:"font-display text-[length:var(--text-base)] font-semibold text-muted-foreground",children:"OpenSea"})]})}),l.jsx("th",{className:"text-center p-4",children:l.jsxs("div",{className:"flex flex-col items-center opacity-50",children:[l.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg flex items-center justify-center mb-2",children:l.jsx("span",{className:"text-muted-foreground font-bold text-lg",children:"ME"})}),l.jsx("span",{className:"font-display text-[length:var(--text-base)] font-semibold text-muted-foreground",children:"MagicEden"})]})})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{className:"border-b border-border hover:bg-primary/5 transition-colors",children:[l.jsx("td",{className:"p-4 text-center font-body text-[length:var(--text-sm)] text-foreground",children:l.jsx("span",{children:"Community-centred distribution"})}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-primary/10 rounded-full",children:l.jsx(Nn,{className:"h-5 w-5 text-primary"})})}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-muted rounded-full",children:l.jsx(bi,{className:"h-5 w-5 text-muted-foreground"})})}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-muted rounded-full",children:l.jsx(bi,{className:"h-5 w-5 text-muted-foreground"})})})]}),l.jsxs("tr",{className:"border-b border-border hover:bg-primary/5 transition-colors",children:[l.jsx("td",{className:"p-4 text-center font-body text-[length:var(--text-sm)] text-foreground",children:l.jsx("span",{children:"Anti-sybil measures"})}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-primary/10 rounded-full",children:l.jsx(Nn,{className:"h-5 w-5 text-primary"})})}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-muted rounded-full",children:l.jsx(bi,{className:"h-5 w-5 text-muted-foreground"})})}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-muted rounded-full",children:l.jsx(bi,{className:"h-5 w-5 text-muted-foreground"})})})]}),l.jsxs("tr",{className:"border-b border-border hover:bg-primary/5 transition-colors",children:[l.jsx("td",{className:"p-4 text-center font-body text-[length:var(--text-sm)] text-foreground",children:l.jsx("span",{children:"Team allocations & vesting"})}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-primary/10 rounded-full",children:l.jsx(Nn,{className:"h-5 w-5 text-primary"})})}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-muted rounded-full",children:l.jsx(bi,{className:"h-5 w-5 text-muted-foreground"})})}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-muted rounded-full",children:l.jsx(bi,{className:"h-5 w-5 text-muted-foreground"})})})]}),l.jsxs("tr",{className:"border-b border-border hover:bg-primary/5 transition-colors",children:[l.jsx("td",{className:"p-4 text-center font-body text-[length:var(--text-sm)] text-foreground",children:l.jsx("span",{children:"Ultra flexible drop experience"})}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-primary/10 rounded-full",children:l.jsx(Nn,{className:"h-5 w-5 text-primary"})})}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-muted rounded-full",children:l.jsx(bi,{className:"h-5 w-5 text-muted-foreground"})})}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-muted rounded-full",children:l.jsx(bi,{className:"h-5 w-5 text-muted-foreground"})})})]}),l.jsxs("tr",{className:"border-b border-border hover:bg-primary/5 transition-colors",children:[l.jsx("td",{className:"p-4 text-center font-body text-[length:var(--text-sm)] text-foreground",children:l.jsx("span",{children:"Guaranteed healthy post-mint price action"})}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-primary/10 rounded-full",children:l.jsx(Nn,{className:"h-5 w-5 text-primary"})})}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-muted rounded-full",children:l.jsx(bi,{className:"h-5 w-5 text-muted-foreground"})})}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-muted rounded-full",children:l.jsx(bi,{className:"h-5 w-5 text-muted-foreground"})})})]}),l.jsxs("tr",{className:"hover:bg-primary/5 transition-colors",children:[l.jsx("td",{className:"p-4 text-center font-body text-[length:var(--text-sm)] text-foreground",children:l.jsx("span",{children:"Permissionless"})}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-primary/10 rounded-full",children:l.jsx(Nn,{className:"h-5 w-5 text-primary"})})}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-primary/10 rounded-full",children:l.jsx(Nn,{className:"h-5 w-5 text-primary"})})}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-primary/10 rounded-full",children:l.jsx(Nn,{className:"h-5 w-5 text-primary"})})})]})]})]})}),l.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"card-item bg-background rounded-2xl p-6 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Yu,{className:"h-6 w-6 text-primary"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-bold mb-2 text-foreground",children:"Community First"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Fair distribution mechanisms that put your community at the center"})]}),l.jsxs("div",{className:"card-item bg-background rounded-2xl p-6 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Jo,{className:"h-6 w-6 text-primary"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-bold mb-2 text-foreground",children:"Bot Resistant"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Anti-sybil measures ensure genuine participation"})]}),l.jsxs("div",{className:"card-item bg-background rounded-2xl p-6 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Pf,{className:"h-6 w-6 text-primary"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-bold mb-2 text-foreground",children:"Price Stability"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Healthy supply distribution guarantees healthy price action post-mint"})]})]})]})})]}),l.jsxs(pu,{id:"video-demo",className:"py-20 bg-background",children:[l.jsx("div",{className:"reveal",children:l.jsx(vp,{title:"Watch Dropr in Action"})}),l.jsx("div",{className:"reveal mt-12",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx("div",{className:"relative aspect-[16/9] sm:aspect-video rounded-2xl overflow-hidden shadow-2xl bg-primary/5 border border-border",children:l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-primary/10 to-primary/5",children:l.jsxs("div",{className:"text-center px-4",children:[l.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 bg-primary rounded-full flex items-center justify-center mx-auto mb-4 hover:scale-110 transition-transform cursor-pointer",children:l.jsx(RP,{className:"h-8 w-8 sm:h-12 sm:w-12 text-primary-foreground ml-1"})}),l.jsx("p",{className:"text-foreground font-semibold font-body text-[length:var(--text-base)]",children:"Video Coming Soon"}),l.jsx("p",{className:"text-muted-foreground font-body text-[length:var(--text-sm)] mt-2",children:"Complete walkthrough of the Dropr platform"})]})})})})})]}),l.jsxs(pu,{id:"use-cases",className:"py-20 bg-background",children:[l.jsx("div",{className:"reveal",children:l.jsx(vp,{title:"Built for Web3",subtitle:"Launch NFT drops, grow and reward communities, build genuine engagement"})}),l.jsxs("div",{className:"card-grid grid grid-cols-1 lg:grid-cols-3 gap-8 mt-16",children:[l.jsxs("div",{className:"card-item bg-card rounded-2xl p-8 hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-6",children:l.jsx(dX,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-2xl)] font-bold mb-4 text-foreground leading-snug",children:"Projects"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground mb-6 leading-relaxed",children:"Fairly distribute whitelist spots for new mints. Eliminate gas wars and ensure equal opportunity for all community members."}),l.jsxs("ul",{className:"space-y-2 font-body text-[length:var(--text-sm)] text-muted-foreground",children:[l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(Nn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Supports ERC721 & ERC1155 standards"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(Nn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Flexible launch strategies"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(Nn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Inter-community collabs simplified"})]})]})]}),l.jsxs("div",{className:"card-item bg-card rounded-2xl p-8 hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-6",children:l.jsx(Pf,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-2xl)] font-bold mb-4 text-foreground whitespace-nowrap leading-snug",children:"KOLs & Influencers"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground mb-6 leading-relaxed",children:"Host trustless giveaways that protect your reputation. Build authentic engagement with your community using provably fair raffling mechanics."}),l.jsxs("ul",{className:"space-y-2 font-body text-[length:var(--text-sm)] text-muted-foreground",children:[l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(Nn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Build reputation and trust"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(Nn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Flexible prize options for community rewards"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(Nn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Project collabs made easy"})]})]})]}),l.jsxs("div",{className:"card-item bg-card rounded-2xl p-8 hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-6",children:l.jsx(Cm,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-2xl)] font-bold mb-4 text-foreground leading-snug",children:"Creators"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground mb-6 leading-relaxed",children:"Grow your community and holder base by transparently distributing rewards to holders of creator tokens."}),l.jsxs("ul",{className:"space-y-2 font-body text-[length:var(--text-sm)] text-muted-foreground",children:[l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(Nn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Token-gated raffles for holder rewards"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(Nn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Flexible prize options for holder rewards"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(Nn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Easy collabs with projects and other creators"})]})]})]})]})]}),l.jsxs(pu,{id:"faq",className:"py-20 bg-background",children:[l.jsx("div",{className:"reveal",children:l.jsx(vp,{title:"Frequently Asked Questions"})}),l.jsx("div",{className:"reveal max-w-4xl mx-auto mt-12",children:l.jsx(R3,{type:"single",collapsible:!0,className:"space-y-4",children:r.map((i,s)=>l.jsxs(I3,{value:`item-${s}`,className:"rounded-2xl border border-border bg-card overflow-hidden",children:[l.jsx(M3,{children:l.jsxs(D3,{className:"w-full p-4 sm:p-6 flex items-center justify-between text-left font-semibold hover:bg-primary/5 transition-colors group",children:[l.jsx("span",{className:"pr-4 text-base sm:text-lg text-foreground group-hover:text-primary leading-relaxed",children:i.q}),l.jsx(ra,{className:"h-5 w-5 shrink-0 transition-transform duration-200 data-[state=open]:rotate-180 text-primary"})]})}),l.jsx(O3,{className:"px-4 sm:px-6 pb-4 sm:pb-6 pt-2 border-t border-border overflow-hidden data-[state=open]:animate-slideDown data-[state=closed]:animate-slideUp",children:l.jsx(Rle,{remarkPlugins:[que],components:{p:o=>l.jsx("p",{className:"text-sm text-muted-foreground",...o}),li:o=>l.jsx("li",{className:"list-disc ml-5 text-sm text-muted-foreground",...o}),strong:o=>l.jsx("strong",{className:"text-primary font-semibold",...o}),a:o=>l.jsx("a",{className:"text-primary underline hover:text-primary/80",...o})},children:i.aMd})})]},s))})})]}),l.jsx(pu,{id:"final-cta",className:"py-16 sm:py-20 bg-gradient-to-br from-primary to-primary/80 text-primary-foreground",children:l.jsxs("div",{className:"reveal text-center",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 sm:mb-6",children:"Ready to Build Trust with Your Community?"}),l.jsx("p",{className:"text-lg sm:text-xl md:text-2xl mb-6 sm:mb-8 opacity-90 max-w-3xl mx-auto",children:"Create Your Distribution Event - No Code Required"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[l.jsx(sc,{to:"/create-raffle",target:"_blank",rel:"noopener noreferrer",className:"pulse-btn inline-flex items-center justify-center px-8 sm:px-10 py-4 sm:py-5 rounded-full bg-background text-foreground hover:bg-card transition-all duration-300 shadow-lg hover:shadow-xl font-bold text-lg sm:text-xl",children:"Launch Your Event Now"}),l.jsxs(sc,{to:"/docs",className:"inline-flex items-center justify-center px-8 sm:px-10 py-4 sm:py-5 rounded-full border-2 border-primary-foreground text-primary-foreground hover:bg-primary-foreground hover:text-primary transition-all duration-300 font-bold text-lg sm:text-xl",children:[l.jsx(Kf,{className:"mr-3 h-5 w-5 sm:h-6 sm:w-6"}),"Read Documentation"]})]}),l.jsxs("div",{className:"mt-8 flex flex-wrap justify-center items-center gap-6 text-sm opacity-75",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(fX,{className:"h-4 w-4"}),l.jsx("span",{children:"Permissionless"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Jo,{className:"h-4 w-4"}),l.jsx("span",{children:"Secure"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(px,{className:"h-4 w-4"}),l.jsx("span",{children:"Deploy in minutes"})]})]})]})})]})}const Kue=()=>{const[t,e]=k.useState(0),n=k.useCallback(()=>{e(r=>r+1)},[]);return{refreshTrigger:t,triggerRefresh:n}},Yue=(t={})=>{const{autoFetch:e=!0,enablePolling:n=!1,pollingInterval:r=12e4,maxRaffles:i=null,useCache:s=!0}=t,o=_n(),a=jn(),{isMobile:c}=gr(),[d,f]=k.useState([]),[p,g]=k.useState(!1),[m,v]=k.useState(!1),[x,T]=k.useState(null),[_,j]=k.useState(null),w=k.useRef(null),F=k.useRef(!0);k.useEffect(()=>{o&&a&&ga.initialize(o,a)},[o,a]),k.useEffect(()=>{o!=null&&o.chainId&&(console.log(" Network changed, clearing cache and resetting state"),ga.clearCache(),f([]),T(null),j(null))},[o==null?void 0:o.chainId]),k.useEffect(()=>()=>{F.current=!1,w.current&&clearInterval(w.current)},[]);const z=k.useCallback(async(X=!1)=>{var V,R,b,A,D,M,C;if(console.log(" fetchRaffles called:",{connected:o==null?void 0:o.connected,chainId:o==null?void 0:o.chainId,isBackground:X,environment:"production",userAgent:typeof window<"u"?window.navigator.userAgent:"N/A",isMobile:c,maxRaffles:i}),!(o!=null&&o.connected)){console.log(" Wallet not connected"),f([]),T("Please connect your wallet to view raffles");return}if(!(o!=null&&o.chainId)){console.log(" ChainId not yet available, skipping fetch");return}if(o!=null&&o.isReconnecting){console.log(" Wallet is reconnecting, skipping fetch");return}if(!(a!=null&&a.isContractsReady)){console.log(" Contracts not ready yet, skipping fetch");return}if(!ga.areContractsAvailable()){console.log(" Contracts not available for current network, skipping fetch"),X||(T("CONTRACTS_NOT_AVAILABLE"),f([]));return}if(!F.current){console.log(" Component unmounted");return}try{X?v(!0):(g(!0),T(null));const I={isMobile:c,useCache:s,maxRaffles:i};console.log(" Calling raffleService.fetchAllRaffles with options:",I);const E=await ga.fetchAllRaffles(I);if(console.log(" fetchAllRaffles completed:",{count:(E==null?void 0:E.length)||0,firstRaffle:((V=E==null?void 0:E[0])==null?void 0:V.name)||"N/A"}),!F.current)return;f(E),j(new Date),E.length===0?(console.log(" No raffles found"),T("NO_RAFFLES_FOUND")):(console.log(" Raffles set successfully"),T(null))}catch(I){if(!F.current)return;console.error(" Error fetching raffles:",{error:I.message,stack:I.stack,environment:"production",chainId:o==null?void 0:o.chainId});let E="NETWORK_ERROR";(R=I.message)!=null&&R.includes("CONTRACTS_NOT_AVAILABLE")?E="CONTRACTS_NOT_AVAILABLE":(b=I.message)!=null&&b.includes("Too Many Requests")?E="RATE_LIMIT":(A=I.message)!=null&&A.includes("timeout")?E="TIMEOUT":(D=I.message)!=null&&D.includes("network")?E="NETWORK_ERROR":((M=I.message)!=null&&M.includes("not available")||(C=I.message)!=null&&C.includes("ProtocolManager contract not available"))&&(E="CONTRACTS_NOT_AVAILABLE"),T(E),X||f([])}finally{if(!F.current)return;console.log(" fetchRaffles completed, setting loading states"),X?v(!1):g(!1)}},[o==null?void 0:o.connected,o==null?void 0:o.chainId,o==null?void 0:o.isReconnecting,a==null?void 0:a.isContractsReady,c,s,i]),B=k.useCallback(async X=>{if(!(X!=null&&X.trim()))return[];try{const V={isMobile:c,useCache:!0,maxRaffles:null};return await ga.searchRaffles(X,V)}catch(V){return console.error("Error searching raffles:",V),[]}},[c]),H=k.useCallback(async()=>{ga.clearCache(),await z(!1)},[z]),Y=k.useCallback(async X=>{try{return await ga.fetchRaffleDetails(X)}catch(V){return console.error(`Error fetching raffle details for ${X}:`,V),null}},[]);k.useEffect(()=>{if(console.log(" Auto-fetch effect triggered:",{autoFetch:e,connected:o==null?void 0:o.connected,chainId:o==null?void 0:o.chainId,isReconnecting:o==null?void 0:o.isReconnecting,isContractsReady:a==null?void 0:a.isContractsReady,environment:"production"}),e&&(o!=null&&o.connected)&&(o!=null&&o.chainId)&&!(o!=null&&o.isReconnecting)&&(a!=null&&a.isContractsReady)){const X=setTimeout(()=>{console.log(" Triggering auto-fetch with full context ready"),z()},500);return()=>clearTimeout(X)}else console.log(" Auto-fetch conditions not met:",{autoFetch:e,connected:o==null?void 0:o.connected,chainId:o==null?void 0:o.chainId,isReconnecting:o==null?void 0:o.isReconnecting,isContractsReady:a==null?void 0:a.isContractsReady})},[e,o==null?void 0:o.connected,o==null?void 0:o.chainId,o==null?void 0:o.isReconnecting,a==null?void 0:a.isContractsReady,z]),k.useEffect(()=>{if(n&&(o!=null&&o.connected)&&r>0)return w.current=setInterval(()=>{ga.fetchAllRaffles({isMobile:c,useCache:!1,maxRaffles:i}).then(X=>{F.current&&(f(X),j(new Date))}).catch(()=>{})},r),()=>{w.current&&(clearInterval(w.current),w.current=null)}},[n,o==null?void 0:o.connected,r,z]);const W=k.useCallback(()=>{const X=Math.floor(Date.now()/1e3);return d.reduce((V,R)=>{const b=R.startTime,A=b+R.duration;return R.stateNum===0||X<b?V.pending.push(R):R.stateNum===1&&X>=b&&X<A?V.active.push(R):R.stateNum===2?V.ended.push(R):R.stateNum===3?V.drawing.push(R):R.stateNum===4?V.completed.push(R):R.stateNum===5?V.ended.push(R):R.stateNum===6?V.completed.push(R):(R.stateNum,V.ended.push(R)),V},{pending:[],active:[],drawing:[],completed:[],ended:[]})},[d]),q=k.useCallback(()=>ga.getCacheStats(),[]);return{raffles:d,categorizedRaffles:W(),loading:p,backgroundLoading:m,error:x,lastFetch:_,fetchRaffles:z,refreshRaffles:H,searchRaffles:B,getRaffleDetails:Y,getCacheStats:q,service:ga}},fz=(t,e={})=>{const{onWinnersSelected:n,onStateChange:r,onPrizeClaimed:i,onTicketsPurchased:s,onRpcError:o,enablePolling:a=!0,pollingInterval:c=1e4,autoStart:d=!0,raffleState:f=null,enableStateConditionalListening:p=!0,stopOnCompletion:g=!1}=e,{getContractInstance:m,provider:v}=jn(),{connected:x}=_n(),[T,_]=k.useState(!1),[j,w]=k.useState(null),[F,z]=k.useState([]),[B,H]=k.useState(f),Y=k.useRef(null),W=k.useRef([]),q=k.useRef(null),X=k.useRef(!0),V=k.useRef(f);k.useEffect(()=>{t&&m?Y.current=m(t,"pool"):Y.current=null},[t,m]),k.useEffect(()=>{f!==V.current&&(console.log(` Raffle state updated: ${V.current}  ${f}`),H(f),V.current=f)},[f]);const R=k.useCallback(()=>{if(!p)return!0;if(g&&(B===4||B===7))return console.log(` Stopping winner selection listening - raffle completed (state=${B})`),!1;const N=B===null||[1,3,4,7].includes(B);return console.log(` Should listen check: state=${B}, shouldListen=${N}, stopOnCompletion=${g}`),N},[B,p,g]),b=k.useCallback((P,N)=>(...O)=>{var Z;try{if(X.current&&N){console.log(` Raffle Event [${P}]:`,O);const $={eventName:P,args:O,timestamp:Date.now(),blockNumber:((Z=O[O.length-1])==null?void 0:Z.blockNumber)||null};z(K=>[...K.slice(-9),$]),P==="WinnersSelected"?(console.log(" WinnersSelected event - triggering immediate callback with RPC resilience"),setTimeout(()=>{try{N(...O),setTimeout(()=>{X.current&&Y.current&&(console.log(" Additional state poll after WinnersSelected event"),(async()=>{try{const G=await Y.current.state(),J=G.toNumber?G.toNumber():Number(G);r&&r(J,null)}catch(G){console.warn("Error in additional state poll:",G)}})())},3e3)}catch(K){console.error("Error in WinnersSelected callback:",K)}},1e3)):N(...O)}}catch($){console.error(`Error handling ${P} event:`,$)}},[]),A=k.useCallback(()=>{if(!(!Y.current||!x)){if(!R()){console.log(` Skipping event listeners setup - raffle state ${B} doesn't require listening`);return}try{console.log(` Setting up event listeners for raffle: ${t} (state: ${B})`),W.current.forEach(({contract:N,event:O,handler:Z})=>{N.off(O,Z)}),W.current=[];const P=Y.current;if(n){const N=b("WinnersSelected",(O,Z)=>{n(O,Z)});P.on("WinnersSelected",N),W.current.push({contract:P,event:"WinnersSelected",handler:N})}if(i){const N=b("PrizeClaimed",(O,Z,$)=>{i(O,Z,$)});P.on("PrizeClaimed",N),W.current.push({contract:P,event:"PrizeClaimed",handler:N})}if(s){const N=b("SlotsPurchased",(O,Z,$)=>{s(O,Z,$)});P.on("SlotsPurchased",N),W.current.push({contract:P,event:"SlotsPurchased",handler:N})}_(!0),console.log(` Event listeners active for ${W.current.length} events`)}catch(P){console.error("Error setting up event listeners:",P),_(!1)}}},[t,x,n,i,s,b]),D=k.useCallback(()=>{console.log(` Cleaning up event listeners for raffle: ${t}`),W.current.forEach(({contract:P,event:N,handler:O})=>{try{P.off(N,O)}catch(Z){console.warn(`Error removing ${N} listener:`,Z)}}),W.current=[],_(!1)},[t]),M=k.useCallback(()=>{if(!a||!Y.current||!r)return;if(g&&(B===4||B===7)){console.log(` Stopping state polling - raffle completed (state=${B})`);return}const P=async()=>{let N=0;const O=3,Z=2e3;await(async()=>{try{if(!X.current||!Y.current)return;const K=await(v==null?void 0:v.getBlockNumber().catch(async G=>{var J;if((J=G.message)!=null&&J.includes("500")&&N<O)return console.warn(`RPC 500 error on getBlockNumber, retrying (${N+1}/${O})...`),N===0&&o&&o(G),N++,await new Promise(ee=>setTimeout(ee,Z)),v==null?void 0:v.getBlockNumber();throw G}));if(K&&K!==j){w(K);const G=await Y.current.state().catch(async ee=>{var ae;if((ae=ee.message)!=null&&ae.includes("500")&&N<O)return console.warn(`RPC 500 error on state(), retrying (${N+1}/${O})...`),N===0&&o&&o(ee),N++,await new Promise(se=>setTimeout(se,Z)),Y.current.state();throw ee}),J=G.toNumber?G.toNumber():Number(G);r&&r(J,K)}}catch(K){const G=K.message||K.toString();G.includes("500")||G.includes("Non-200 status code")?(console.warn("RPC server error during state polling, will retry on next cycle:",G),o&&o(K)):console.warn("Error during state polling:",K)}})()};P(),q.current=setInterval(P,c),console.log(` State polling enabled (${c}ms interval)`)},[a,r,v,j,c,g,B]),C=k.useCallback(()=>{q.current&&(clearInterval(q.current),q.current=null,console.log(" State polling disabled"))},[]),I=k.useCallback(()=>{if(!t||!Y.current){console.warn("Cannot start listening: missing raffle address or contract");return}A(),M()},[t,A,M]),E=k.useCallback(()=>{D(),C()},[D,C]);return k.useEffect(()=>(d&&t&&Y.current&&x&&(console.log(` Auto-starting listeners due to dependency change (state: ${B})`),I()),()=>{E()}),[d,t,x,B,I,E]),k.useEffect(()=>()=>{X.current=!1,E()},[E]),{isListening:T,eventHistory:F,lastBlockNumber:j,startListening:I,stopListening:E,clearEventHistory:()=>z([])}};class oge extends ke.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Mobile component error:",e,n)}render(){return this.state.hasError?l.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md border-b border-border/50",children:l.jsxs("div",{className:"flex items-center justify-between h-14 px-4",children:[l.jsx("div",{className:"text-lg font-bold text-foreground",style:{fontFamily:"Orbitron, monospace"},children:"Dropr"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Mobile Menu"})]})}):this.props.children}}const pl=({children:t,variant:e="default",className:n=""})=>{const{isMobile:r}=gr(),s=(()=>{switch(e){case"narrow":return"mx-auto px-4 sm:px-6 md:px-8 lg:px-12 xl:px-20 2xl:px-32";case"wide":return"container mx-auto px-4 sm:px-6 md:px-8 lg:px-12 xl:px-16 2xl:px-20";case"profile":return r?"mx-auto px-4":"mx-auto px-2 sm:px-3 md:px-4 lg:px-6 xl:px-8 2xl:px-10";case"default":default:return r?"mx-auto px-4":"mx-auto px-2 sm:px-3 md:px-4 lg:px-6 xl:px-8 2xl:px-10"}})();return l.jsx("div",{className:`${s} ${n}`,children:t})},Or=()=>{const{chainId:t,networkInfo:e}=_n(),n=k.useMemo(()=>(e==null?void 0:e.nativeCurrency)||{symbol:"ETH",name:"Ether",decimals:18},[e]),r=k.useMemo(()=>(g,m={})=>{const{showSymbol:v=!0,decimals:x=4,fallbackSymbol:T=n.symbol}=m;if(g==null||g==="")return v?`0 ${n.symbol}`:"0";try{let _;de.isBigNumber(g)?_=Fn(g):typeof g=="string"?/^0x/i.test(g)||/^[0-9]+$/.test(g)?_=Fn(g):_=g:typeof g=="number"?_=g.toString():_=Fn(g);const j=parseFloat(_);let w;if(!isFinite(j)||isNaN(j))w="0";else if(j===0)w="0";else if(j<Math.pow(10,-x)){const F=Math.max(x,8);w=j.toFixed(F),w=w.replace(/\.?0+$/,""),(w==="0"||w==="")&&(w=j.toFixed(F))}else w=j.toFixed(x),j>=.01&&(w=w.replace(/\.?0+$/,""));return v?`${w} ${n.symbol}`:w}catch(_){return console.warn("Error formatting amount:",_),v?`0 ${T}`:"0"}},[n.symbol]),i=k.useMemo(()=>g=>r(g,{decimals:8}),[r]),s=k.useMemo(()=>g=>r(g,{decimals:6}),[r]),o=k.useMemo(()=>g=>r(g,{decimals:6}),[r]),a=k.useMemo(()=>()=>n.symbol,[n.symbol]),c=k.useMemo(()=>()=>n,[n]),d=k.useMemo(()=>n.symbol==="ETH",[n.symbol]),f=k.useMemo(()=>n.symbol==="AVAX",[n.symbol]),p=k.useMemo(()=>(g="general")=>{switch(g){case"ticket":return`Slot Fee (${n.symbol})`;case"prize":return`Prize Amount (${n.symbol})`;case"revenue":return`Revenue (${n.symbol})`;case"amount":return`Amount (${n.symbol})`;default:return n.symbol}},[n.symbol]);return{nativeCurrency:n,getCurrencyInfo:c,getCurrencySymbol:a,getCurrencyLabel:p,formatAmount:r,formatSlotFee:i,formatPrizeAmount:s,formatRevenueAmount:o,isEthNetwork:d,isAvaxNetwork:f,chainId:t,networkName:(e==null?void 0:e.name)||"Unknown Network"}},ah=({size:t="default",className:e="",text:n="",showText:r=!0})=>{const i={sm:"h-4 w-4",default:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"};return l.jsx("div",{className:nt("flex items-center justify-center",e),children:l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(Af,{className:nt("animate-spin text-primary",i[t])}),r&&n&&l.jsx("p",{className:"text-sm text-muted-foreground",children:n})]})})},hz=({message:t="Loading...",isMobile:e=!1,showProgress:n=!1,progress:r=0,maxProgress:i=100})=>l.jsx("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center bg-background",children:l.jsxs("div",{className:"text-center space-y-4 px-4",children:[l.jsx(ah,{size:e?"lg":"xl",text:t,showText:!0}),n&&l.jsxs("div",{className:"w-64 max-w-full mx-auto",children:[l.jsx("div",{className:"bg-muted rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${r/i*100}%`}})}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[r," / ",i]})]})]})}),YC=({error:t,onRetry:e,isMobile:n=!1,showCreateButton:r=!0})=>{const i=$a(),s=d=>{switch(d){case"CONTRACTS_NOT_AVAILABLE":return{title:"Network Not Supported",message:"Dropr is not available on this network. Check back soon!",icon:l.jsx(un,{className:"h-8 w-8 text-orange-500"}),showRetry:!1,showCreate:!1};case"NO_RAFFLES_FOUND":return{title:"No Pools Found",message:"No Pools are found on this network! Be the first user to create a Pool.",icon:l.jsx(un,{className:"h-8 w-8 text-blue-500"}),showRetry:!0,showCreate:!0};case"RATE_LIMIT":return{title:"Rate Limit Exceeded",message:"Too many requests. Please wait a moment and try again.",icon:l.jsx(un,{className:"h-8 w-8 text-yellow-500"}),showRetry:!0,showCreate:!1};case"TIMEOUT":return{title:"Request Timeout",message:"Request timed out. Please check your connection and try again.",icon:l.jsx(un,{className:"h-8 w-8 text-red-500"}),showRetry:!0,showCreate:!1};case"NETWORK_ERROR":default:return{title:"Network Error",message:"Unable to connect to the blockchain. Please check your connection and try again.",icon:l.jsx(un,{className:"h-8 w-8 text-red-500"}),showRetry:!0,showCreate:!1}}},o=()=>{i("/create-raffle")},a=typeof t=="string"?t:(t==null?void 0:t.message)||"NETWORK_ERROR",c=s(a);return l.jsx("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:l.jsxs("div",{className:"text-center max-w-md mx-auto",children:[l.jsx("div",{className:"flex justify-center mb-4",children:c.icon}),l.jsx("h3",{className:`font-semibold mb-3 ${n?"text-lg":"text-xl"}`,children:c.title}),l.jsx("p",{className:`text-muted-foreground mb-6 ${n?"text-sm":"text-base"}`,children:c.message}),l.jsxs("div",{className:`flex gap-3 ${n?"flex-col":"flex-row justify-center"}`,children:[c.showRetry&&e&&l.jsxs(Ee,{onClick:e,variant:"outline",className:`${n?"w-full":""}`,children:[l.jsx(Yf,{className:"h-4 w-4 mr-2"}),"Try Again"]}),c.showCreate&&r&&l.jsx(Ee,{onClick:o,className:`${n?"w-full":""}`,children:"Create Pool"})]})]})})},pz=t=>{if(!t.startTime||!t.duration)return!1;const e=Math.floor(Date.now()/1e3),n=t.startTime+t.duration;return e>=n},ZT=t=>({0:"pending",1:"active",2:"ended",3:"drawing",4:"completed",5:"deleted",6:"all_prizes_claimed",7:"unengaged",8:"unengaged"})[t]||"ended",mz=t=>t.isCollabPool?"nft_collab":t.isPrized?"prized":"non_prized",gz=t=>t.isPrized?t.nativePrizeAmount&&t.nativePrizeAmount.gt&&t.nativePrizeAmount.gt(0)?"native":t.erc20PrizeToken&&t.erc20PrizeToken!==$e&&t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0)?"erc20":t.prizeCollection&&t.prizeCollection!==$e?"nft":"token_giveaway":null,yz=t=>{if(!t.isPrized)return[];const e=[];return t.nativePrizeAmount&&t.nativePrizeAmount.gt&&t.nativePrizeAmount.gt(0)&&e.push("native"),t.erc20PrizeToken&&t.erc20PrizeToken!==$e&&t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0)&&e.push("erc20"),t.prizeCollection&&t.prizeCollection!==$e&&(t.standard===0?e.push("erc721"):t.standard===1&&e.push("erc1155")),e},Xue=(t,e)=>!t||t.length===0?[]:t.filter(r=>{if(e.raffleState&&e.raffleState.length>0)if(e.raffleState.includes("ended")){const i=ZT(r.stateNum),s=pz(r),o=e.raffleState.filter(a=>a!=="ended").includes(i);if(!s&&!o)return!1}else{const i=ZT(r.stateNum);if(!e.raffleState.includes(i))return!1}if(e.raffleType&&e.raffleType.length>0){const i=mz(r);if(!e.raffleType.includes(i))return!1}if(e.prizeType&&e.prizeType.length>0){if(!r.isPrized)return!1;const i=gz(r);if(!e.prizeType.includes(i))return!1}if(e.prizeStandard&&e.prizeStandard.length>0){if(!r.isPrized)return!1;const i=yz(r);if(!e.prizeStandard.some(o=>i.includes(o)))return!1}return!0}),Jue=t=>{if(!t||t.length===0)return{raffleState:{},raffleType:{},prizeType:{},prizeStandard:{}};const e={raffleState:{},raffleType:{},prizeType:{},prizeStandard:{}};return t.forEach(n=>{const r=ZT(n.stateNum);e.raffleState[r]=(e.raffleState[r]||0)+1,pz(n)&&(e.raffleState.ended=(e.raffleState.ended||0)+1);const i=mz(n);if(e.raffleType[i]=(e.raffleType[i]||0)+1,n.isPrized){const s=gz(n);s&&(e.prizeType[s]=(e.prizeType[s]||0)+1),yz(n).forEach(a=>{e.prizeStandard[a]=(e.prizeStandard[a]||0)+1})}}),e},MI=()=>({raffleState:[],raffleType:[],prizeType:[],prizeStandard:[]}),sk=t=>Object.values(t).every(e=>!e||e.length===0),Que=({onFilterChange:t,hasActiveFilters:e=!1,className:n=""})=>{const r=[{label:"Active",icon:Sm,filters:{raffleState:["active"]},description:"Currently running raffles"},{label:"Pending",icon:Yu,filters:{raffleState:["pending"]},description:"Raffles starting soon"},{label:"NFT Prizes",icon:og,filters:{raffleType:["prized"],prizeType:["nft"]},description:"Raffles with NFT prizes"},{label:"Whitelist",icon:hx,filters:{raffleType:["non_prized"]},description:"Whitelist/Allowlist raffles"}],i=o=>{t(o)},s=()=>{t({raffleState:[],raffleType:[],prizeType:[],prizeStandard:[]})};return l.jsxs("div",{className:`space-y-2 sm:space-y-3 ${n}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Quick Filters"}),e&&l.jsx(Ee,{variant:"ghost",size:"sm",onClick:s,className:"text-xs h-5 sm:h-6 px-1.5 sm:px-2",children:"Clear"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-1.5 sm:gap-2",children:r.map(o=>{const a=o.icon,c=["Active","Pending","NFT Prizes","Whitelist"].includes(o.label);return l.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>i(o.filters),className:`flex items-center justify-start gap-1.5 sm:gap-2 h-auto p-2 sm:p-3 text-left ${c?"border border-[#614E41] hover:bg-transparent":""}`,title:o.description,children:[l.jsx(a,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),l.jsx("span",{className:"text-xs font-medium",children:o.label})]},o.label)})})]})},Zue=`
  @media (max-width: 640px) {
    .mobile-checkbox-radio {
      width: 12px !important;
      height: 12px !important;
      min-width: 12px !important;
      min-height: 12px !important;
      max-width: 12px !important;
      max-height: 12px !important;
    }
  }
`,ede=()=>{const[t,e]=k.useState({top:56,height:56});return k.useEffect(()=>{const n=document.querySelector("header"),r=n?n.getBoundingClientRect().height:56,i=()=>window.matchMedia&&window.matchMedia("(max-width: 640px)").matches,s=()=>{const o=window.scrollY||window.pageYOffset||0;i()?e({top:r,height:window.innerHeight-r}):o>=r?e({top:0,height:window.innerHeight}):e({top:r-o,height:window.innerHeight-(r-o)})};return s(),window.addEventListener("scroll",s,{passive:!0}),window.addEventListener("resize",s),()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}},[]),t},tde=({isOpen:t,onToggle:e,filters:n,onFiltersChange:r,raffleCount:i=0,allRaffles:s=[],className:o=""})=>{const{countEnhancedRaffleTypes:a}=LS(),{getCurrencySymbol:c}=Or(),d=ede(),[f,p]=k.useState({raffleState:!0,raffleType:!0,prizeType:!0,prizeStandard:!0}),g=k.useMemo(()=>{const w=Jue(s),F=a(s);return{...w,raffleType:F}},[s,a]),m=k.useMemo(()=>({raffleState:[{value:"pending",label:"Pending",count:g.raffleState.pending||0},{value:"active",label:"Active",count:g.raffleState.active||0},{value:"ended",label:"Ended",count:g.raffleState.ended||0},{value:"drawing",label:"Drawing",count:g.raffleState.drawing||0},{value:"completed",label:"Completed",count:g.raffleState.completed||0},{value:"deleted",label:"Deleted",count:g.raffleState.deleted||0},{value:"all_prizes_claimed",label:"All Prizes Claimed",count:g.raffleState.all_prizes_claimed||0},{value:"unengaged",label:"Unengaged",count:g.raffleState.unengaged||0}],raffleType:[{value:"non_prized",label:"Whitelist",count:g.raffleType.non_prized||0},{value:"prized",label:"Prized",count:g.raffleType.prized||0},{value:"nft_collab",label:"NFT Collab",count:g.raffleType.nft_collab||0},{value:"whitelist_collab",label:"Whitelist Collab",count:g.raffleType.whitelist_collab||0}],prizeType:[{value:"nft",label:"NFT",count:g.prizeType.nft||0},{value:"erc20",label:"ERC20",count:g.prizeType.erc20||0},{value:"native",label:c(),count:g.prizeType.native||0}],prizeStandard:[{value:"erc721",label:"ERC721",count:g.prizeStandard.erc721||0},{value:"erc1155",label:"ERC1155",count:g.prizeStandard.erc1155||0},{value:"erc20",label:"ERC20",count:g.prizeStandard.erc20||0},{value:"native",label:c(),count:g.prizeStandard.native||0}]}),[g,c]),v=k.useCallback(w=>{p(F=>({...F,[w]:!F[w]}))},[]),x=k.useCallback((w,F,z)=>{const B={...n};w==="raffleType"?B[w]=z?[F]:[]:(B[w]||(B[w]=[]),z?B[w]=[...B[w],F]:B[w]=B[w].filter(H=>H!==F)),r(B)},[n,r]),T=k.useCallback(()=>{r({raffleState:[],raffleType:[],prizeType:[],prizeStandard:[]})},[r]),_=k.useMemo(()=>Object.values(n).some(w=>w.length>0),[n]),j=k.useCallback((w,F,z)=>{var q;const B=f[F],H=F==="raffleType",W=(F==="prizeType"||F==="prizeStandard")&&!((q=n.raffleType)!=null&&q.includes("prized"));return l.jsxs("div",{className:"border-b border-border/30 last:border-b-0",children:[l.jsxs("button",{onClick:()=>v(F),className:"w-full flex items-center justify-between p-3 sm:p-4 text-left hover:bg-muted/50 transition-colors",disabled:W,style:F==="raffleState"||F==="raffleType"||F==="prizeType"||F==="prizeStandard"?{border:"1px solid #614E41"}:void 0,children:[l.jsx("span",{className:`text-sm sm:text-base font-medium ${W?"text-muted-foreground":""}`,children:w}),B?l.jsx(sg,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"}):l.jsx(ra,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"})]}),B&&!W&&l.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4 space-y-1 sm:space-y-2",children:z.map(X=>{var R;const V=((R=n[F])==null?void 0:R.includes(X.value))||!1;return l.jsxs("label",{className:"flex items-center space-x-2 sm:space-x-3 cursor-pointer hover:bg-muted/30 p-1.5 sm:p-2 rounded-md transition-colors",children:[l.jsx("input",{type:H?"radio":"checkbox",name:H?F:void 0,checked:V,onChange:b=>x(F,X.value,b.target.checked),className:`mobile-checkbox-radio ${H?"h-3 w-3 sm:h-4 sm:w-4 text-primary bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-full focus:ring-0 focus:outline-none checked:bg-primary checked:border-primary appearance-none relative"+(V?' after:content-[""] after:absolute after:top-1/2 after:left-1/2 after:transform after:-translate-x-1/2 after:-translate-y-1/2 after:w-1 after:h-1 sm:after:w-1.5 sm:after:h-1.5 after:bg-white after:rounded-full':""):"h-3 w-3 sm:h-4 sm:w-4 text-primary accent-primary bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded focus:ring-1 focus:ring-primary focus:ring-offset-0 checked:bg-primary checked:border-primary"}`,style:H?{minHeight:"12px",minWidth:"12px",maxHeight:"12px",maxWidth:"12px"}:{minHeight:"12px",minWidth:"12px",maxHeight:"12px",maxWidth:"12px"}}),l.jsx("span",{className:"flex-1 text-xs sm:text-sm leading-tight",children:X.label}),X.count>0&&l.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full",children:X.count})]},X.value)})})]},F)},[f,n,x,v]);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:Zue}}),t&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-30",onClick:e}),l.jsxs("div",{style:{top:d.top,height:d.height},className:`
        fixed left-0
        w-72 sm:w-80 md:w-96
        bg-background border-r border-border
        transform transition-transform duration-300 ease-in-out
        z-40
        flex flex-col
        ${t?"translate-x-0":"-translate-x-full"}
        ${o}
      `,children:[l.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between p-3 sm:p-4 border-b border-border bg-muted/80 backdrop-blur supports-[backdrop-filter]:bg-muted/60",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(v2,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),l.jsx("h2",{className:"font-semibold text-base sm:text-lg",children:"Filter Raffles"})]}),l.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[_&&l.jsx(Ee,{variant:"ghost",size:"sm",onClick:T,className:"text-xs px-2 sm:px-3 h-7 sm:h-8 hover:bg-destructive/10 hover:text-destructive",children:"Clear All"}),l.jsx(Ee,{variant:"ghost",size:"sm",onClick:e,className:"hover:bg-muted h-7 w-7 sm:h-8 sm:w-8 p-0",title:"Close filters",children:l.jsx(bi,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})]})]}),l.jsx("div",{className:"p-3 sm:p-4 bg-muted/30",children:l.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["Showing ",l.jsx("span",{className:"font-medium text-foreground",children:i})," raffles"]})}),l.jsx("div",{className:"p-3 sm:p-4 border-b border-border/30",children:l.jsx(Que,{onFilterChange:r,hasActiveFilters:_})}),l.jsxs("div",{className:"flex-1 overflow-y-auto",children:[j("Raffle State","raffleState",m.raffleState),j("Raffle Type","raffleType",m.raffleType),j("Prize Type","prizeType",m.prizeType),j("Prize Standard","prizeStandard",m.prizeStandard)]})]})]})},nde=({onClick:t,hasActiveFilters:e=!1,className:n="",variant:r="outline",size:i="default"})=>(rv(),l.jsxs(Ee,{variant:"primary",size:i,onClick:t,className:`
        relative flex items-center gap-2 border-0
        ${n}
      `,children:[l.jsx(v2,{className:"h-4 w-4"}),l.jsx("span",{className:"font-medium",children:e?"Filters Applied":"Filter Raffles"}),e&&l.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs bg-primary-foreground/20 rounded-full",children:"Active"})]})),rde=({raffles:t=[],loading:e=!1,error:n=null,RaffleCardComponent:r,emptyMessage:i="No raffles found matching your filters.",className:s="",totalCount:o,showCount:a=!0})=>e?l.jsx("div",{className:`space-y-6 ${s}`,children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((c,d)=>l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-6 shadow-lg animate-pulse",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-muted rounded w-1/2"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"h-3 bg-muted rounded"}),l.jsx("div",{className:"h-3 bg-muted rounded w-5/6"})]}),l.jsx("div",{className:"h-10 bg-muted rounded"})]})},d))})}):n?l.jsx("div",{className:s,children:l.jsx(YC,{error:n,onRetry:null,showCreateButton:!0})}):!t||t.length===0?l.jsx("div",{className:`flex flex-col items-center justify-center py-12 ${s}`,children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"w-16 h-16 mx-auto bg-muted/20 rounded-full flex items-center justify-center",children:l.jsx(og,{className:"w-8 h-8 text-muted-foreground"})}),l.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"No Raffles Found"}),l.jsx("p",{className:"text-muted-foreground max-w-md",children:i})]})}):l.jsxs("div",{className:`space-y-6 ${s}`,children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h2",{className:"text-xl font-semibold",children:a?`${typeof o=="number"?o:t.length} ${(typeof o=="number"?o:t.length)===1?"Raffle":"Raffles"} Found`:"Raffles Found"})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(c=>l.jsx(r,{raffle:c},c.id||c.address))})]}),ide=(t=[])=>{const{filterByEnhancedType:e}=LS(),[n,r]=k.useState(MI()),[i,s]=k.useState(!1),o=k.useMemo(()=>{if(sk(n))return t;let _=t;n.raffleType&&n.raffleType.length>0&&(_=e(_,n.raffleType));const j={...n,raffleType:[]};return sk(j)||(_=Xue(_,j)),_},[t,n,e]),a=k.useMemo(()=>!sk(n),[n]),c=k.useCallback(_=>{r(_)},[]),d=k.useCallback(()=>{r(MI())},[]),f=k.useCallback(()=>{s(_=>!_)},[]),p=k.useCallback(()=>{s(!0)},[]),g=k.useCallback(()=>{s(!1)},[]),m=k.useCallback(_=>{r(j=>({...j,raffleState:Array.isArray(_)?_:[_]}))},[]),v=k.useCallback(_=>{r(j=>({...j,raffleType:[_]}))},[]),x=k.useCallback(_=>{r(j=>({...j,prizeType:Array.isArray(_)?_:[_]}))},[]),T=k.useCallback(_=>{r(j=>({...j,prizeStandard:Array.isArray(_)?_:[_]}))},[]);return{filters:n,filteredRaffles:o,isFilterOpen:i,hasActiveFilters:a,updateFilters:c,clearFilters:d,toggleFilter:f,openFilter:p,closeFilter:g,filterByState:m,filterByType:v,filterByPrizeType:x,filterByPrizeStandard:T,totalRaffles:t.length,filteredCount:o.length}},sde=({initialCount:t=12,cacheTTLms:e=120*1e3,useCache:n=!0}={})=>{const{chainId:r,provider:i}=_n(),[s,o]=k.useState([]),[a,c]=k.useState(!1),[d,f]=k.useState(null),[p,g]=k.useState(null),m=k.useRef(!0),v=k.useMemo(()=>r?`raffle_summaries_${r}`:null,[r]),x=k.useMemo(()=>{var R;if(i)return i;if(r&&((R=Gt[r])!=null&&R.rpcUrl))try{return new qf(Gt[r].rpcUrl)}catch{}return null},[i,r]),T=k.useCallback(()=>{var R,b;return r&&((b=(R=Gt[r])==null?void 0:R.contractAddresses)==null?void 0:b.protocolManager)},[r]),_=k.useCallback(()=>{if(!n||!v)return null;try{const R=localStorage.getItem(v);if(!R)return null;const b=JSON.parse(R);return!(b!=null&&b.timestamp)||!Array.isArray(b==null?void 0:b.summaries)||Date.now()-b.timestamp>e?null:b.summaries}catch{return null}},[v,e,n]),j=k.useCallback(R=>{if(!(!n||!v))try{localStorage.setItem(v,JSON.stringify({timestamp:Date.now(),summaries:R}))}catch{}},[v,n]),w=k.useCallback(async()=>{const R=T();if(!R||!x)throw new Error("ProtocolManager not available");const D=(await new Vt(R,Ut.protocolManager,x).getAllPools()||[]).slice().reverse();return m.current&&g(D.length),D},[T,x]),F=(R,b)=>{let A;return Promise.race([R.finally(()=>clearTimeout(A)),new Promise((D,M)=>A=setTimeout(()=>M(new Error("timeout")),b))])},z=k.useCallback((R,{name:b,startTime:A,duration:D,slotFee:M,ticketLimit:C,winnersCount:I,stateNum:E})=>({id:R,address:R,chainId:r,name:b,startTime:A!=null&&A.toNumber?A.toNumber():Number(A||0),duration:D!=null&&D.toNumber?D.toNumber():Number(D||0),slotFee:M,ticketLimit:C!=null&&C.toNumber?C.toNumber():Number(C||0),winnersCount:I!=null&&I.toNumber?I.toNumber():Number(I||0),stateNum:(()=>{if(E!=null&&E.toNumber)return E.toNumber();if(E===0)return 0;if(typeof E=="number")return E;if(E==null)return 5;const P=Number(E);return Number.isFinite(P)?P:5})(),isSummary:!0}),[r]),B="0xca11bde05977b3631167028862be2a173976ca11",H=[{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bool",name:"allowFailure",type:"bool"},{internalType:"bytes",name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"}],Y=k.useCallback(async()=>{if(!x)return!1;try{const R=await x.getCode(B);return R&&R!=="0x"}catch{return!1}},[x]),W=k.useCallback(async R=>{const b=new pm(Ut.pool),A=[];for(const E of R)A.push({target:E,allowFailure:!0,callData:b.encodeFunctionData("name",[])},{target:E,allowFailure:!0,callData:b.encodeFunctionData("startTime",[])},{target:E,allowFailure:!0,callData:b.encodeFunctionData("duration",[])},{target:E,allowFailure:!0,callData:b.encodeFunctionData("slotFee",[])},{target:E,allowFailure:!0,callData:b.encodeFunctionData("ticketLimit",[])},{target:E,allowFailure:!0,callData:b.encodeFunctionData("winnersCount",[])},{target:E,allowFailure:!0,callData:b.encodeFunctionData("state",[])});const M=await new Vt(B,H,x).callStatic.aggregate3(A,{value:0}),C=7,I=[];for(let E=0;E<R.length;E++){const P=E*C,N=(se,pe)=>{const he=M[P+se];if(!he||!he.success)return null;try{return b.decodeFunctionResult(pe,he.returnData)[0]}catch{return null}},O=N(0,"name")||"Raffle",Z=N(1,"startTime")||de.from(0),$=N(2,"duration")||de.from(0),K=N(3,"slotFee")||de.from(0),G=N(4,"ticketLimit")||de.from(0),J=N(5,"winnersCount")||de.from(0);let ee=N(6,"state");ee==null&&(ee=de.from(5));const ae=z(R[E],{name:O,startTime:Z,duration:$,slotFee:K,ticketLimit:G,winnersCount:J,stateNum:ee});I.push(ae)}return I},[x,z]),q=k.useCallback(async(R,b=8e3)=>{const A=new Vt(R,Ut.pool,x),[D,M,C,I,E,P,N]=await Promise.all([F(A.name(),b).catch(()=>"Raffle"),F(A.startTime(),b).catch(()=>de.from(0)),F(A.duration(),b).catch(()=>de.from(0)),F(A.slotFee(),b).catch(()=>de.from(0)),F(A.ticketLimit(),b).catch(()=>de.from(0)),F(A.winnersCount(),b).catch(()=>de.from(0)),F(A.state(),b).catch(()=>de.from(5))]);return z(R,{name:D,startTime:M,duration:C,slotFee:I,ticketLimit:E,winnersCount:P,stateNum:N})},[x,z]),X=k.useCallback(async()=>{if(!(!r||!x)){c(!0),f(null);try{const b=(await w()).slice(0,Math.max(1,t));let A=[];try{await Y()&&(A=await W(b))}catch{}if(!A||A.length===0){const D=[];let C=0;async function I(){if(C>=b.length)return;const P=C++;try{const N=await q(b[P]);N&&D.push(N)}catch{}await I()}const E=Array.from({length:Math.min(3,b.length)},()=>I());await Promise.all(E),A=D}A.sort((D,M)=>b.indexOf(D.address)-b.indexOf(M.address)),m.current&&(o(A),j(A))}catch(R){m.current&&f(R.message||"Failed to load summaries")}finally{m.current&&c(!1)}}},[r,x,t,w,Y,W,q,j]),V=k.useCallback(()=>{X()},[X]);return k.useEffect(()=>(m.current=!0,()=>{m.current=!1}),[]),k.useEffect(()=>{if(!r)return;const R=_();R&&R.length&&o(R),X()},[r,_,X]),{summaries:s,loading:a,error:d,refresh:V,totalAvailable:p}},xz=(t,e)=>{const[n,r]=k.useState(0),[i,s]=k.useState(!1),{getContractInstance:o}=jn();return k.useEffect(()=>{(async()=>{if(!t||e!==4&&e!==6){r(0);return}s(!0);try{const c=o(t,"pool");if(!c){r(0);return}const d=await c.winnersCount(),f=d.toNumber?d.toNumber():Number(d);r(f)}catch(c){console.warn("Failed to fetch winner count for",t,c),r(0)}finally{s(!1)}})()},[t,e,o]),{winnerCount:n,loading:i}},vz=(t,e)=>t===6?e===1?"Prize Claimed":"Prizes Claimed":null,bz=["Pending","Active","Ended","Drawing","Completed","Deleted","AllPrizesClaimed","Unengaged"],ode=({raffle:t})=>{var b;const e=$a(),{chainId:n}=_n(),[r,i]=k.useState(""),[s,o]=k.useState(""),[a,c]=k.useState(""),{getContractInstance:d}=jn(),{updateCollabStatus:f,setCollabLoading:p,getCollabStatus:g}=LS(),{formatSlotFee:m,formatPrizeAmount:v,getCurrencySymbol:x}=Or(),[T,_]=k.useState(null),{winnerCount:j}=xz(t.address,t.stateNum),[w,F]=k.useState(null),[z,B]=k.useState(null),[H,Y]=k.useState(null);k.useEffect(()=>{let A;function D(){const I=Math.floor(Date.now()/1e3);let E="",P=0;if(t.stateNum===2||t.stateNum===3||t.stateNum===4||t.stateNum===5||t.stateNum===6||t.stateNum===7){E="Duration";const N=t.actualDuration&&(t.actualDuration.toNumber?t.actualDuration.toNumber():Number(t.actualDuration));P=N&&N>0?N:t.duration,i(E),o(C(P));return}I<t.startTime?(E="Starts In",P=t.startTime-I):(E="Ends In",P=t.startTime+t.duration-I),i(E),o(P>0?M(P):"Ended")}function M(I){const E=Math.floor(I/86400),P=Math.floor(I%86400/3600),N=Math.floor(I%3600/60),O=I%60;let Z="";return E>0&&(Z+=`${E}d `),(P>0||E>0)&&(Z+=`${P}h `),(N>0||P>0||E>0)&&(Z+=`${N}m `),Z+=`${O}s`,Z.trim()}function C(I){const E=Math.floor(I/86400),P=Math.floor(I%86400/3600),N=Math.floor(I%3600/60);let O="";return E>0&&(O+=`${E}d `),(P>0||E>0)&&(O+=`${P}h `),(N>0||P>0||E>0)&&(O+=`${N}m`),O||(O="0m"),O.trim()}return D(),A=setInterval(D,1e3),()=>clearInterval(A)},[t]),k.useEffect(()=>{let A=!0;return(async()=>{if(t.erc20PrizeToken&&t.erc20PrizeToken!==$e){if(window.__erc20SymbolCache||(window.__erc20SymbolCache={}),window.__erc20SymbolCache[t.erc20PrizeToken]){c(window.__erc20SymbolCache[t.erc20PrizeToken]);return}await new Promise(M=>setTimeout(M,100));try{const M=window.ethereum?new Ea(window.ethereum):tc(),C=["function symbol() view returns (string)"],E=await new Vt(t.erc20PrizeToken,C,M).symbol();A&&(c(E),window.__erc20SymbolCache[t.erc20PrizeToken]=E)}catch{A&&c("TOKEN")}}})(),()=>{A=!1}},[t.erc20PrizeToken]),k.useEffect(()=>{let A=!0;async function D(){try{const M=d&&d(t.address,"pool");if(!M){A&&_(null);return}const C=await L5(M);A&&_(C)}catch{_(null)}}D()},[t.address,d]),k.useEffect(()=>{async function A(){if(!(!t.prizeCollection||t.prizeCollection===$e))try{const D=d(t.address,"pool");if(!D)return;const[M,C,I]=await Promise.all([D.isCollabPool().catch(()=>null),D.usesCustomFee().catch(()=>null),D.isEscrowedPrize().catch(()=>null)]);Y({isCollabPool:M,usesCustomFee:C,isEscrowedPrize:I})}catch{}}A()},[t.address,t.prizeCollection,d]),k.useEffect(()=>{(async()=>{if(!t||!t.prizeCollection||t.prizeCollection===$e){F(null),B(null);return}try{let D=null,M=null,C=null;if(typeof t.standard<"u"){const I=t.standard===0?"erc721Prize":"erc1155Prize";if(D=d(t.prizeCollection,I),D){try{typeof D.name=="function"&&(M=await D.name())}catch{M=null}try{typeof D.symbol=="function"&&(C=await D.symbol())}catch{C=null}}}else try{if(D=d(t.prizeCollection,"erc721Prize"),D){try{typeof D.name=="function"&&(M=await D.name())}catch{M=null}try{typeof D.symbol=="function"&&(C=await D.symbol())}catch{C=null}}}catch{try{if(D=d(t.prizeCollection,"erc1155Prize"),D){try{typeof D.name=="function"&&(M=await D.name())}catch{M=null}try{typeof D.symbol=="function"&&(C=await D.symbol())}catch{C=null}}}catch{}}F(M),B(C)}catch{F(null),B(null)}})()},[t,d]),k.useEffect(()=>{let A=!0;const D=async()=>{if(g(t.address)!==void 0)return;p(t.address,!0);let C=!1,I=0;const E=3;for(;I<E&&A;)try{const N=d(t.address,"pool");if(!N)throw new Error("Failed to get contract instance");const O=await N.holderTokenAddress();C=O&&O!==$e;break}catch{I++,I>=E?C=!1:await new Promise(O=>setTimeout(O,1e3*I))}if(!A)return;let P;t.isCollabPool?P="nft_collab":C?P="whitelist_collab":P="not_collab",f(t.address,P)};return t.address&&d?D():f(t.address,"not_collab"),()=>{A=!1}},[t,d,g,p,f]);const W=()=>{var E,P,N;const A=Math.floor(Date.now()/1e3),C=((E=t.state)==null?void 0:E.toLowerCase())==="pending"&&t.startTime&&A>=t.startTime&&(((N=(P=t.uniqueParticipants)==null?void 0:P.toNumber)==null?void 0:N.call(P))||t.uniqueParticipants||0)===0?"Live":(O=>{const Z=vz(O,j);return Z||bz[O]||"Unknown"})(t.stateNum),I={Pending:"bg-yellow-100 text-yellow-800",Active:"bg-green-100 text-green-800",Ended:"bg-red-100 text-red-800",Drawing:"bg-purple-100 text-purple-800",Completed:"bg-blue-100 text-blue-800",Deleted:"bg-gray-200 text-gray-800","Activation Failed":"bg-red-200 text-red-900","Prizes Claimed":"bg-blue-200 text-blue-900","Prize Claimed":"bg-blue-200 text-blue-900",Unengaged:"bg-gray-100 text-gray-800",Unknown:"bg-gray-100 text-gray-800"};return l.jsx("span",{className:`px-2 py-1 rounded-full font-body text-[length:var(--text-xs)] font-medium ${I[C]||I.Unknown}`,children:C})},q=()=>{if(!t.prizeCollection||t.prizeCollection===$e)return null;H&&H.isCollabPool!==null?H.isCollabPool:t.isCollabPool;const A=H&&H.usesCustomFee!==null?H.usesCustomFee===!0:t.usesCustomFee===!0,D=H&&H.isEscrowedPrize!==null?H.isEscrowedPrize===!0:t.isEscrowedPrize===!0,M=!D;return D&&A?"Lucky NFT Sale":D&&!A?"NFT Giveaway":M&&!A?"NFT Drop (Free Mint)":M&&A?"NFT Drop (Paid Mint)":"NFT Prize"},X=()=>{if(t.isCollabPool)return"NFT Collab";const A=g(t.address);if(A==="nft_collab")return"NFT Collab";if(A===void 0)return"Checking...";if(t.nativePrizeAmount&&t.nativePrizeAmount.gt&&t.nativePrizeAmount.gt(0))return`${x()} Giveaway`;if(t.erc20PrizeToken&&t.erc20PrizeToken!==$e&&t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0))return"Token Giveaway";const D=q();return D||(A==="whitelist_collab"&&!t.isPrized?"Whitelist Collab":t.isPrized?"Token Giveaway":"Whitelist")},V=()=>t.nativePrizeAmount&&t.nativePrizeAmount.gt&&t.nativePrizeAmount.gt(0)?v(t.nativePrizeAmount):t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0)?`${Ia(t.erc20PrizeAmount,18)} ${a||"TOKEN"}`:null,R=()=>{const A=t.chainId||n,D=A&&Gt[A]?Gt[A].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):A||"",M=D?`/${D}/raffle/${t.address}`:`/raffle/${t.address}`;e(M)};return l.jsxs("div",{className:"landing-raffle-card bg-card/80 text-foreground backdrop-blur-sm border border-border/50 rounded-xl p-4 sm:p-6 shadow-lg hover:shadow-xl hover:border-border/80 transition-all duration-300 flex flex-col h-full group w-full max-w-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 min-w-0",children:[l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold truncate flex-1 mr-2 min-w-0 cursor-pointer hover:text-[#614E41] transition-colors duration-200",onClick:R,children:t.name}),l.jsx("div",{className:"flex-shrink-0",children:W()})]}),l.jsxs("div",{className:"space-y-2 mb-4 min-w-0",children:[l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Creator:"}),l.jsxs("span",{className:"font-mono truncate ml-2",children:[(b=t.creator)==null?void 0:b.slice(0,10),"..."]})]}),l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Slot Fee:"}),l.jsx("span",{className:"truncate ml-2",children:m(t.slotFee||"0")})]}),l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Slots Sold:"}),l.jsx("span",{className:"truncate ml-2",children:T!==null?`${T} / ${t.slotLimit}`:"Loading..."})]}),l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Winners:"}),l.jsx("span",{className:"truncate ml-2",children:t.winnersCount})]}),l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsxs("span",{className:"text-muted-foreground flex-shrink-0",children:[r,":"]}),l.jsx("span",{className:"truncate ml-2",children:s})]}),!t.isSummary&&l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Type:"}),l.jsx("span",{className:"px-2 py-1 rounded-full font-body text-[length:var(--text-sm)] bg-muted/20 truncate ml-2",children:X()})]}),(()=>{var C,I,E;if(X(),!(t.prizeCollection&&t.prizeCollection!==$e))return null;const D=H&&H.isEscrowedPrize!==null?H.isEscrowedPrize===!0:t.isEscrowedPrize===!0,M=!D;if(D){const P=t.prizeTokenId!==void 0&&t.prizeTokenId!==null?`#${t.prizeTokenId}`:"#Unknown",N=z?`${z} ${P}`:w?`${w} ${P}`:`${(C=t.prizeCollection)==null?void 0:C.slice(0,10)}... ${P}`;return l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Prize Token ID:"}),l.jsx("span",{className:`truncate ml-2 ${z||w?"":"font-mono"}`,children:N})]})}else if(M){const P=w&&w.trim()!=="";t.standard===0||t.standard;const N=t.standard===1,O=N?`${(I=t.prizeCollection)==null?void 0:I.slice(0,10)}...`:P?w:`${(E=t.prizeCollection)==null?void 0:E.slice(0,10)}...`;return l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Prize Collection:"}),l.jsx("span",{className:`truncate ml-2 ${P&&!N?"":"font-mono"}`,children:O})]})}return null})(),(()=>{const A=X();return t.prizeCollection&&t.prizeCollection!==$e&&t.isCollabPool===!1?null:A==="Token Giveaway"||A.includes("Giveaway")?l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Prize Amount:"}),l.jsx("span",{className:"truncate ml-2",children:V()})]}):null})()]})]})},ade=()=>{const{connected:t}=_n(),{isMobile:e}=gr();Or();const[n,r]=k.useState(1),{raffles:i,loading:s,error:o,refreshRaffles:a}=Yue({autoFetch:!0,enablePolling:!0,pollingInterval:12e4,maxRaffles:null}),{summaries:c,totalAvailable:d}=sde({initialCount:12}),{filters:f,filteredRaffles:p,isFilterOpen:g,hasActiveFilters:m,updateFilters:v,clearFilters:x,toggleFilter:T,filteredCount:_}=ide(i);if(k.useEffect(()=>{r(1)},[e,s,i==null?void 0:i.length,p==null?void 0:p.length,c==null?void 0:c.length,m]),!t)return l.jsxs(pl,{className:"pt-8 pb-4",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"font-display text-[length:var(--text-4xl)] font-bold mb-4 leading-tight tracking-tighter",children:"Fairness and Transparency, On-Chain"}),l.jsx("p",{className:"font-body text-[length:var(--text-lg)] text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Dropr is a permissionless platform built to host decentralized, on-chain raffles. All draws are public, auditable, and powered by Chainlink's VRF."})]}),l.jsxs("div",{className:"text-center py-12",children:[l.jsx(og,{className:"text-muted-foreground mx-auto mb-4 h-16 w-16"}),l.jsx("h3",{className:"font-display text-[length:var(--text-3xl)] font-bold mb-4 leading-tight",children:"Connect Your Wallet"}),l.jsx("p",{className:"font-body text-[length:var(--text-base)] text-muted-foreground mb-6",children:"Please connect your wallet to view and interact with raffles on the blockchain."})]})]});const j=e&&(c==null?void 0:c.length)>0&&(!i||i.length===0||s);let w=null;if(j)if(!f||!f.raffleState||f.raffleState.length===0)w=c;else{const z=new Set(f.raffleState.map(B=>B.toLowerCase()));w=c.filter(B=>{var Y;const H=(Y=bz[B.stateNum])==null?void 0:Y.toLowerCase();return z.has(H)})}return!j&&s?l.jsx(pl,{children:l.jsx(hz,{message:"Loading raffles from blockchain...",isMobile:e})}):!j&&o?l.jsxs(pl,{className:"pt-8 pb-4",children:[l.jsxs("div",{className:"mb-8 text-center",children:[l.jsx("h1",{className:"font-display text-[length:var(--text-4xl)] font-bold mb-4 leading-tight tracking-tighter",children:"Fairness and Transparency, On-Chain"}),l.jsx("p",{className:"font-body text-[length:var(--text-lg)] text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Dropr is a permissionless platform built to host decentralized, on-chain raffles. All draws are public, auditable, and powered by Chainlink's VRF."})]}),l.jsx(YC,{error:o,onRetry:a,isMobile:e,showCreateButton:!0})]}):l.jsxs(l.Fragment,{children:[l.jsx(tde,{isOpen:g,onToggle:T,filters:f,onFiltersChange:v,raffleCount:_,allRaffles:i}),l.jsx("div",{className:"min-h-screen",style:{position:"relative",zIndex:1},children:l.jsxs(pl,{className:"pt-8 pb-4",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"font-display text-[length:var(--text-4xl)] font-bold mb-4 leading-tight tracking-tighter",children:"Fairness and Transparency, On-Chain"}),l.jsx("p",{className:"font-body text-[length:var(--text-lg)] text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Dropr is a permissionless platform built to host decentralized, on-chain raffles. All draws are public, auditable, and powered by Chainlink's VRF."})]}),l.jsxs("div",{className:"mb-6 flex items-center",children:[l.jsx(nde,{onClick:T,hasActiveFilters:m}),l.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[m&&l.jsx(Ee,{variant:"ghost",size:"sm",onClick:x,className:"font-body text-muted-foreground hover:text-foreground",children:"Clear All Filters"}),!e&&(()=>{const H=Math.max(1,Math.ceil((p||[]).length/24));if(H<=1)return null;const Y=Math.min(n,H),W=()=>r(A=>Math.max(1,A-1)),q=()=>r(A=>Math.min(H,A+1)),X=2,V=Math.max(1,Y-X),R=Math.min(H,Y+X),b=[];V>1&&(b.push(1),V>2&&b.push("..."));for(let A=V;A<=R;A++)b.push(A);return R<H&&(R<H-1&&b.push("..."),b.push(H)),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:W,disabled:Y===1,className:"px-3 py-2 rounded-md border border-border bg-background text-sm disabled:opacity-50","aria-label":"Previous page",children:"Prev"}),b.map((A,D)=>A==="..."?l.jsx("span",{className:"px-1 font-body text-muted-foreground",children:""},`ellipsis-top-${D}`):l.jsx("button",{onClick:()=>r(A),className:`px-1 font-body text-[length:var(--text-sm)] leading-none ${Y===A?"font-semibold text-foreground":"text-foreground/80"} bg-transparent`,"aria-label":`Go to page ${A}`,children:A},`page-top-${A}`)),l.jsx("button",{onClick:q,disabled:Y===H,className:"px-3 py-2 rounded-md border border-border bg-background text-sm disabled:opacity-50","aria-label":"Next page",children:"Next"})]})})()]})]}),(()=>{const z=e?12:24,B=!!j,H=e&&B&&typeof d=="number"?d:null,Y=B?w||[]:p||[],W=Y.length,q=Math.max(1,Math.ceil(W/z)),X=Math.min(n,q),V=(X-1)*z,R=V+z,b=Y.slice(V,R),A=q>1||e&&B&&Y.length>=z,D=(()=>{const E=q,P=X,N=e?1:2,O=[],Z=Math.max(1,P-N),$=Math.min(E,P+N);Z>1&&(O.push(1),Z>2&&O.push("..."));for(let K=Z;K<=$;K++)O.push(K);return $<E&&($<E-1&&O.push("..."),O.push(E)),O})(),M=()=>r(E=>Math.max(1,E-1)),C=()=>r(E=>Math.min(q,E+1)),I=!(e&&B&&(s||!i||i.length===0));return l.jsxs("div",{children:[l.jsx(rde,{raffles:b,loading:B?!1:s,error:B?null:o,RaffleCardComponent:ode,emptyMessage:m?"No raffles match your current filters. Try adjusting your filter criteria.":"There are currently no raffles available on the blockchain. Check back later or create your own!",totalCount:H??W,showCount:I}),A&&l.jsxs("div",{className:"mt-6 flex flex-col items-center gap-3",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1",children:[l.jsx("button",{onClick:M,disabled:X===1,className:"px-3 py-2 rounded-md border border-border bg-background text-sm disabled:opacity-50","aria-label":"Previous page",children:"Prev"}),D.map((E,P)=>E==="..."?l.jsx("span",{className:"px-1 text-muted-foreground",children:""},`ellipsis-bottom-${P}`):l.jsx("button",{onClick:()=>r(E),className:`px-1 text-sm leading-none ${X===E?"font-semibold text-foreground":"text-foreground/80"} bg-transparent`,"aria-label":`Go to page ${E}`,children:E},`page-bottom-${E}`)),l.jsx("button",{onClick:C,disabled:X===q,className:"px-3 py-2 rounded-md border border-border bg-background text-sm disabled:opacity-50","aria-label":"Next page",children:"Next"})]}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",X," of ",Math.max(1,q)]})]})]},B?"summaries":"full")})()]})})]})},XC=ke.forwardRef(({type:t="text",value:e,onChange:n,placeholder:r,className:i,disabled:s=!1,required:o=!1,min:a,max:c,step:d,onFocus:f,onBlur:p,...g},m)=>{const{isMobile:v}=gr(),x=k.useRef(null),T=k.useCallback(j=>{v&&(x.current=j.target,j.target.style.transform="translateZ(0)"),f&&f(j)},[v,f]),_=k.useCallback(j=>{v&&x.current&&(j.target.style.transform=""),p&&p(j)},[v,p]);return l.jsx("input",{ref:m,type:t,value:e,onChange:n,placeholder:r,disabled:s,required:o,min:a,max:c,step:d,className:nt("w-full px-3 py-2 border border-[#614E41] rounded-md bg-background","text-foreground placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-[#614E41]/30 focus:border-[#614E41]","disabled:opacity-50 disabled:cursor-not-allowed","transition-colors duration-200",v&&["text-[length:var(--text-base)]","min-h-[44px]","touch-manipulation"],!v&&["text-[length:var(--text-base)]","min-h-[40px]"],i),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onFocus:T,onBlur:_,style:{fontSize:v?"16px":void 0,...g.style},...g})});XC.displayName="ResponsiveInput";const lde=ke.forwardRef(({value:t,onChange:e,placeholder:n,className:r,rows:i=3,disabled:s=!1,required:o=!1,...a},c)=>{const{isMobile:d}=gr();return l.jsx("textarea",{ref:c,value:t,onChange:e,placeholder:n,disabled:s,required:o,rows:i,className:nt("w-full px-3 py-2 border border-[#614E41] rounded-md bg-background","text-foreground placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-[#614E41]/30 focus:border-[#614E41]","disabled:opacity-50 disabled:cursor-not-allowed","transition-colors duration-200 resize-vertical",d&&["text-[length:var(--text-base)]","min-h-[44px]","touch-manipulation"],!d&&["text-[length:var(--text-base)]"],r),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,style:{fontSize:d?"16px":void 0,...a.style},...a})});lde.displayName="ResponsiveTextarea";const ls=ke.forwardRef(({value:t,onChange:e,placeholder:n,className:r,min:i,max:s,step:o="any",disabled:a=!1,required:c=!1,...d},f)=>{const{isMobile:p}=gr();return l.jsx(XC,{ref:f,type:"number",value:t,onChange:e,placeholder:n,min:i,max:s,step:o,disabled:a,required:c,className:nt("[appearance:textfield]","[&::-webkit-outer-spin-button]:appearance-none","[&::-webkit-inner-spin-button]:appearance-none",r),inputMode:p?"decimal":void 0,pattern:p?"[0-9]*":void 0,...d})});ls.displayName="ResponsiveNumberInput";const Xr=ke.forwardRef(({value:t,onChange:e,placeholder:n="0x...",className:r,disabled:i=!1,required:s=!1,...o},a)=>l.jsx(XC,{ref:a,type:"text",value:t,onChange:e,placeholder:n,disabled:i,required:s,className:nt("font-mono","tracking-tight",r),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,...o}));Xr.displayName="ResponsiveAddressInput";const cde=()=>{const{connected:t,address:e}=_n(),{getContractInstance:n,executeTransaction:r}=jn(),[i,s]=k.useState(!1),[o,a]=k.useState({address:"",type:null,royaltyPercentage:"",royaltyRecipient:""}),[c,d]=k.useState(null),[f,p]=k.useState(!1),[g,m]=k.useState(null),[v,x]=k.useState(!1),T=(z,B)=>{a(H=>({...H,[z]:B}))};k.useEffect(()=>{(!o.address||o.address.trim()==="")&&(d(null),m(null))},[o.address]),k.useEffect(()=>{const z=o.address;if(!z||!t||!In(z))return;const B=setTimeout(()=>{j()},450);return()=>clearTimeout(B)},[o.address,t]);const _=async z=>{try{if(!z)return;const B=await z.isRevealed();m(!!B)}catch(B){console.log("Could not fetch reveal status:",B.message),m(null)}},j=async()=>{if(!o.address||!t){re.error("Please enter a collection address and connect your wallet");return}p(!0);try{let z=null,B=null;try{const b=n(o.address,"erc721Prize");if(b)try{await b.supportsInterface("0x80ac58cd")&&(z=b,B="erc721")}catch{try{await b.totalSupply(),z=b,B="erc721"}catch{}}}catch{}if(!z)try{const b=n(o.address,"erc1155Prize");if(b)try{await b.supportsInterface("0xd9b67a26")&&(z=b,B="erc1155")}catch{try{await b.uri(0),z=b,B="erc1155"}catch{}}}catch{}if(!z||!B)throw new Error("Invalid collection address or unsupported contract type");a(b=>({...b,type:B}));let H="Unknown Collection",Y="Unknown",W="Unknown";try{typeof z.name=="function"&&(H=await z.name())}catch{}try{typeof z.symbol=="function"&&(Y=await z.symbol())}catch{}try{typeof z.owner=="function"&&(W=await z.owner())}catch{}const q=W!=="Unknown"&&W.toLowerCase()===e.toLowerCase(),X=await z.royaltyInfo(1,1e4),V=await z.royaltyPercentage(),R=await z.royaltyRecipient();d({address:o.address,name:H,symbol:Y,owner:W,type:B,isOwner:q,currentRoyaltyPercentage:V.toString(),currentRoyaltyRecipient:R,royaltyAmount:X[1].toString()}),a(b=>({...b,royaltyPercentage:(V.toNumber()/100).toString(),royaltyRecipient:R})),await _(z)}catch(z){console.error("Error loading collection info:",z),re.error("Error loading collection info: "+z.message),d(null),m(null)}finally{p(!1)}},w=async()=>{if(!t||!c){re.error("Please connect your wallet and load collection info first");return}if(!c.isOwner){re.error("You are not the owner of this collection");return}const z=parseFloat(o.royaltyPercentage);if(isNaN(z)||z<0){re.error("Please enter a valid royalty percentage (minimum 0%)");return}if(!o.royaltyRecipient){re.error("Please enter a royalty recipient address");return}s(!0);try{const B=o.type==="erc721"?"erc721Prize":"erc1155Prize",H=n(o.address,B);if(!H)throw new Error("Failed to create contract instance");const Y=Math.floor(z*100),W=await r(H.setRoyalty,Y,o.royaltyRecipient);if(W.success)re.success(`Royalty updated successfully! Transaction: ${W.hash}`),await j();else throw new Error(W.error)}catch(B){console.error("Error updating royalty:",B),re.error("Error updating royalty: "+B.message)}finally{s(!1)}},F=async()=>{if(!t||!c){re.error("Please connect your wallet and load collection info first");return}x(!0);try{const z=o.type==="erc721"?"erc721Prize":"erc1155Prize",B=n(o.address,z);if(!B)throw new Error("Failed to create contract instance");const H=await r(B.reveal);if(H.success)re.success("Collection revealed successfully!"),await j();else throw new Error(H.error)}catch(z){re.error("Error revealing collection: "+(z.message||z))}finally{x(!1)}};return l.jsx(Xt,{children:l.jsxs(Jt,{className:"space-y-6 p-4",children:[l.jsx("div",{className:"text-base font-medium flex items-center gap-2 mb-1",children:"Royalty & Reveal Management"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage royalties and collection reveals for your NFT collections"}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Address"}),l.jsxs("div",{className:"relative",children:[l.jsx(Xr,{value:o.address,onChange:z=>T("address",z.target.value),placeholder:"0x..."}),f&&l.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:l.jsx(ah,{size:"sm",showText:!1})})]})]})}),c&&l.jsx(Xt,{children:l.jsxs(Jt,{className:"space-y-4 p-4",children:[l.jsx("div",{className:"text-base font-medium flex items-center gap-2 mb-1",children:"Collection Information"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Name:"})," ",c.name]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Symbol:"})," ",c.symbol]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Owner:"})," ",c.isOwner?"You":"Other"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Current Royalty:"})," ",(parseInt(c.currentRoyaltyPercentage)/100).toFixed(2),"%"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Revealed:"})," ",g===null?"Unknown":g?"Yes":"No"]})]}),l.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"text-sm font-medium",children:"Reveal Status:"}),l.jsx("span",{className:"text-sm font-semibold",children:g===null?"Unknown":g?"Revealed":"Not Revealed"}),l.jsx(Ee,{onClick:F,disabled:v||g||!c.isOwner,variant:"primary",size:"md",className:"px-4 py-2 h-10 shadow-sm text-sm",title:c.isOwner?g?"Collection already revealed":"Reveal collection":"Only collection owner can reveal",children:v?"Revealing...":"Reveal Collection"})]})}),!c.isOwner&&l.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(un,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot modify royalties."})]})]})}),c&&c.isOwner&&l.jsx(Xt,{children:l.jsxs(Jt,{className:"space-y-4 p-4",children:[l.jsx("div",{className:"text-base font-medium flex items-center gap-2 mb-1",children:"Update Royalty Settings"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Configure royalty percentage and recipient for this collection"}),l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"mb-2",children:l.jsx("span",{className:"font-medium",children:"Current Royalty Recipient:"})}),l.jsx("div",{className:"font-mono text-sm break-all",children:c.currentRoyaltyRecipient})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 items-start",children:[l.jsxs("div",{className:"h-full",children:[l.jsx("label",{className:"block text-xs font-medium mb-1",children:"New Royalty (%)"}),l.jsx(ls,{min:"0",step:"0.01",value:o.royaltyPercentage,onChange:z=>T("royaltyPercentage",z.target.value),placeholder:"2.5"})]}),l.jsxs("div",{className:"h-full",children:[l.jsx("label",{className:"block text-xs font-medium mb-1",children:"New Recipient"}),l.jsx(Xr,{value:o.royaltyRecipient,onChange:z=>T("royaltyRecipient",z.target.value),placeholder:"0x..."})]})]}),l.jsx(Ee,{onClick:w,disabled:i||!t||!c||!c.isOwner,variant:"primary",size:"md",className:"w-full h-10 flex items-center justify-center gap-2 shadow-sm text-sm",title:t?c?c.isOwner?!o.royaltyPercentage||!o.royaltyRecipient?"Please fill in all required fields":"Update royalty settings":"Only collection owner can update royalties":"Please load collection info first":"Please connect your wallet",children:i?"Updating...":"Update Royalty Settings"})]})}),!t&&l.jsx("div",{className:"text-center p-4 bg-muted rounded-lg",children:l.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to manage collection royalties."})})]})})};var Lv="Tabs",[ude,age]=Xs(Lv,[bv]),wz=bv(),[dde,JC]=ude(Lv),kz=k.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:c="automatic",...d}=t,f=yh(a),[p,g]=na({prop:r,onChange:i,defaultProp:s??"",caller:Lv});return l.jsx(dde,{scope:n,baseId:Vs(),value:p,onValueChange:g,orientation:o,dir:f,activationMode:c,children:l.jsx(vt.div,{dir:f,"data-orientation":o,...d,ref:e})})});kz.displayName=Lv;var Tz="TabsList",Sz=k.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=JC(Tz,n),o=wz(n);return l.jsx(g4,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:l.jsx(vt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});Sz.displayName=Tz;var Cz="TabsTrigger",_z=k.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=JC(Cz,n),a=wz(n),c=Az(o.baseId,r),d=jz(o.baseId,r),f=r===o.value;return l.jsx(y4,{asChild:!0,...a,focusable:!i,active:f,children:l.jsx(vt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:Ue(t.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?o.onValueChange(r):p.preventDefault()}),onKeyDown:Ue(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(r)}),onFocus:Ue(t.onFocus,()=>{const p=o.activationMode!=="manual";!f&&!i&&p&&o.onValueChange(r)})})})});_z.displayName=Cz;var Ez="TabsContent",Nz=k.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=JC(Ez,n),c=Az(a.baseId,r),d=jz(a.baseId,r),f=r===a.value,p=k.useRef(f);return k.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),l.jsx(Pi,{present:i||f,children:({present:g})=>l.jsx(vt.div,{"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:g&&s})})});Nz.displayName=Ez;function Az(t,e){return`${t}-trigger-${e}`}function jz(t,e){return`${t}-content-${e}`}var fde=kz,hde=Sz,pde=_z,mde=Nz;function gde({className:t,...e}){return l.jsx(fde,{"data-slot":"tabs",className:nt("flex flex-col gap-2",t),...e})}function yde({className:t,...e}){return l.jsx(hde,{"data-slot":"tabs-list",className:nt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...e})}function l0({className:t,...e}){return l.jsx(pde,{"data-slot":"tabs-trigger",className:nt("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function c0({className:t,...e}){return l.jsx(mde,{"data-slot":"tabs-content",className:nt("flex-1 outline-none",t),...e})}function DI({...t}){return l.jsx(u3,{"data-slot":"dialog",...t})}function OI({...t}){return l.jsx(d3,{"data-slot":"dialog-trigger",...t})}function xde({...t}){return l.jsx(f3,{"data-slot":"dialog-portal",...t})}function vde({className:t,...e}){return l.jsx(h3,{"data-slot":"dialog-overlay",className:nt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function LI({className:t,children:e,...n}){return l.jsxs(xde,{"data-slot":"dialog-portal",children:[l.jsx(vde,{}),l.jsxs(p3,{"data-slot":"dialog-content",className:nt("bg-card/90 backdrop-blur-md text-card-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-xl border border-border/50 p-6 shadow-2xl duration-200 sm:max-w-lg",t),...n,children:[e,l.jsxs(one,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none text-muted-foreground hover:text-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[l.jsx(bi,{}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function FI({className:t,...e}){return l.jsx("div",{"data-slot":"dialog-header",className:nt("flex flex-col gap-2 text-center sm:text-left",t),...e})}function zI({className:t,...e}){return l.jsx(m3,{"data-slot":"dialog-title",className:nt("text-lg leading-none font-semibold text-foreground",t),...e})}const bde=({title:t,description:e,icon:n,component:r,defaultExpanded:i=!1,className:s="",dialogContentClassName:o,isExpanded:a,onToggle:c,...d})=>{const{isMobile:f,isTablet:p,isDesktop:g}=gr(),[m,v]=k.useState(!1),x=()=>{v(!0)};return l.jsxs(Xt,{"data-dashboard-card":"true",className:nt("relative transition-all duration-300 ease-in-out",f&&"w-full",p&&"w-full",s),children:[l.jsxs(ds,{className:nt("pb-3",f&&"pb-2"),children:[l.jsx(zs,{className:nt("flex items-center gap-2",f?"text-base":"text-lg"),children:l.jsx("span",{className:"flex-1",children:t})}),l.jsx(Df,{className:nt("text-muted-foreground","text-sm"),children:e})]}),l.jsxs(Jt,{className:nt("pt-0",f&&"px-4 pb-4"),children:[g&&l.jsxs(DI,{open:m,onOpenChange:v,children:[l.jsx(OI,{asChild:!0,children:l.jsxs(Ee,{onClick:x,variant:"primary",size:"md",className:nt("w-full","transition-all duration-200","shadow-sm hover:shadow-md h-10 text-sm"),children:[l.jsx(pc,{className:"mr-2 h-4 w-4"}),"Open ",t]})}),l.jsxs(LI,{className:nt("max-w-4xl max-h-[90vh] overflow-y-auto overflow-x-hidden",o),children:[l.jsx(FI,{children:l.jsx(zI,{className:"text-xl font-semibold",children:t})}),l.jsx("div",{className:"mt-4",children:r&&l.jsx(r,{})})]})]}),!g&&l.jsxs(DI,{open:m,onOpenChange:v,children:[l.jsx(OI,{asChild:!0,children:l.jsxs(Ee,{onClick:x,variant:"primary",size:f?"lg":"md",className:nt("w-full","transition-all duration-200","shadow-sm hover:shadow-md h-10 text-sm"),children:[l.jsx(pc,{className:"mr-2 h-4 w-4"}),"Open ",t]})}),l.jsxs(LI,{className:nt("max-w-4xl max-h-[90vh] overflow-y-auto overflow-x-hidden",o),children:[l.jsx(FI,{children:l.jsx(zI,{className:"text-xl font-semibold",children:t})}),l.jsx("div",{className:"mt-4",children:r&&l.jsx(r,{})})]})]})]})]})},wde=()=>{const{connected:t,address:e}=_n(),{getContractInstance:n,executeTransaction:r}=jn(),{isMobile:i}=gr(),[s,o]=k.useState(!1),[a,c]=k.useState({address:""}),[d,f]=k.useState({tokenId:"",maxSupply:""}),[p,g]=k.useState({tokenId:"",tokenURI:""}),[m,v]=k.useState(null),[x,T]=k.useState(!1);k.useEffect(()=>{(!a.address||a.address.trim()==="")&&v(null)},[a.address]),k.useEffect(()=>{if(!t||!a.address||!In(a.address))return;const Y=setTimeout(()=>{x||z()},400);return()=>clearTimeout(Y)},[a.address,t]);const _=(Y,W)=>{c(q=>({...q,[Y]:W}))},j=(Y,W)=>{f(q=>({...q,[Y]:W}))},w=(Y,W)=>{g(q=>({...q,[Y]:W}))},F=async Y=>{try{const W=n(Y,"erc1155Prize");if(W)try{if(await W.supportsInterface("0xd9b67a26"))return{type:"erc1155",contract:W}}catch{try{return await W.balanceOf(Y,0),{type:"erc1155",contract:W}}catch{}}const q=n(Y,"erc721Prize");if(q)try{if(await q.supportsInterface("0x80ac58cd"))return{type:"erc721",contract:q}}catch{try{return await q.balanceOf(Y),{type:"erc721",contract:q}}catch{}}throw new Error("Contract does not support ERC721 or ERC1155 interfaces")}catch(W){throw console.error("Contract type detection error:",W),new Error("Unable to determine contract type. Please verify the contract address.")}},z=async()=>{if(!a.address||!t){re.error("Please enter a collection address and connect your wallet");return}T(!0);try{const{type:Y,contract:W}=await F(a.address);if(Y!=="erc1155"){re.error(" This component is only for ERC1155 collections. The provided address appears to be an ERC721 collection. Please use the appropriate component for ERC721 collections."),v({address:a.address,isOwner:!1,owner:"N/A",type:"erc721",isBlocked:!0}),T(!1);return}const q=await W.owner(),X=q.toLowerCase()===e.toLowerCase();v({address:a.address,isOwner:X,owner:q,type:"erc1155"}),X?re.success("ERC1155 collection loaded successfully"):re.error("You are not the owner of this collection")}catch(Y){console.error("Error loading collection info:",Y),re.error("Failed to load collection info. Please verify the address is a valid ERC1155 collection."),v(null)}finally{T(!1)}},B=async()=>{if(!t||!e){re.error("Please connect your wallet");return}if(!m||!m.isOwner||m.isBlocked){m!=null&&m.isBlocked?re.error("This component only works with ERC1155 collections. The provided address is an ERC721 collection."):re.error("Please load collection info first and ensure you are the owner");return}if(!d.tokenId||!d.maxSupply){re.error("Please fill in all required fields");return}const Y=parseInt(d.tokenId),W=parseInt(d.maxSupply);if(isNaN(Y)||Y<0){re.error("Please enter a valid token ID (non-negative integer)");return}if(isNaN(W)||W<=0){re.error("Please enter a valid max supply (positive integer)");return}o(!0);try{const q=n(a.address,"erc1155Prize"),X=await r(q.createNewToken,Y,W);if(X.success)re.success(`Token ID ${Y} created successfully with max supply of ${W}!`),f({tokenId:"",maxSupply:""});else throw new Error(X.error)}catch(q){console.error("Error creating new token:",q),sn(q)}finally{o(!1)}},H=async()=>{if(!t||!e){re.error("Please connect your wallet");return}if(!m||!m.isOwner||m.isBlocked){m!=null&&m.isBlocked?re.error("This component only works with ERC1155 collections. The provided address is an ERC721 collection."):re.error("Please load collection info first and ensure you are the owner");return}if(!p.tokenId||!p.tokenURI){re.error("Please fill in all required fields");return}const Y=parseInt(p.tokenId);if(isNaN(Y)||Y<0){re.error("Please enter a valid token ID (non-negative integer)");return}o(!0);try{const W=n(a.address,"erc1155Prize"),q=await r(W.setURI,Y,p.tokenURI.trim());if(q.success)re.success(`URI set successfully for token ID ${Y}!`),g({tokenId:"",tokenURI:""});else throw new Error(q.error)}catch(W){console.error("Error setting URI:",W),sn(W)}finally{o(!1)}};return l.jsx(Xt,{children:l.jsxs(Jt,{className:"space-y-6 p-4",children:[l.jsx("div",{className:"text-base font-medium flex items-center gap-2 mb-1",children:"Token ID & URI Management"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create new token IDs for ERC1155 collections and configure token URIs"}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Collection Address"}),l.jsx(Xr,{value:a.address,onChange:Y=>_("address",Y.target.value),placeholder:"0x...",rightElement:x&&l.jsx(ah,{size:"sm"})})]})}),m&&l.jsxs("div",{className:`p-4 rounded-lg border ${m.isBlocked?"bg-destructive/10 border-destructive/20":"bg-muted/50"}`,children:[m.isBlocked&&l.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(un,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"This component only works with ERC1155 collections. The provided address is an ERC721 collection. Please use the appropriate component for ERC721 collections."})]}),!m.isBlocked&&!m.isOwner&&l.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(un,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot create new tokens."})]})]}),m&&m.isOwner&&!m.isBlocked&&l.jsx(Xt,{children:l.jsxs(Jt,{className:"space-y-4 p-4",children:[l.jsx("div",{className:"text-base font-medium flex items-center gap-2 mb-1",children:"Create New Token ID"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create a new token ID for your ERC1155 collection with specified supply"}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Token ID"}),l.jsx(ls,{min:"0",value:d.tokenId,onChange:Y=>j("tokenId",Y.target.value),placeholder:"0"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Unique identifier for the new token"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Max Supply"}),l.jsx(ls,{min:"1",value:d.maxSupply,onChange:Y=>j("maxSupply",Y.target.value),placeholder:"100"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Maximum number of tokens that can be minted"})]})]}),l.jsx(Ee,{onClick:B,disabled:s||!t||!m.isOwner||m.isBlocked||!d.tokenId||!d.maxSupply,variant:"primary",size:"md",className:"w-full",title:t?m.isOwner?!d.tokenId||!d.maxSupply?"Please fill in all required fields":"Create new token ID":"Only collection owner can create new tokens":"Please connect your wallet",children:s?"Creating...":"Create New Token ID"})]})}),m&&m.isOwner&&!m.isBlocked&&l.jsx(Xt,{children:l.jsxs(Jt,{className:"space-y-4 p-4",children:[l.jsx("div",{className:"text-base font-medium flex items-center gap-2 mb-1",children:"Set Token URI"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Set the metadata URI for a specific token ID in your collection"}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Token ID"}),l.jsx(ls,{min:"0",value:p.tokenId,onChange:Y=>w("tokenId",Y.target.value),placeholder:"0"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Token ID to set URI for"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Token URI"}),l.jsx("input",{type:"text",value:p.tokenURI,onChange:Y=>w("tokenURI",Y.target.value),placeholder:"https://example.com/metadata/{id}.json",className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-colors text-sm",style:i?{fontSize:"16px"}:{}}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Metadata URI for the token"})]})]}),l.jsx(Ee,{onClick:H,disabled:s||!t||!m.isOwner||m.isBlocked||!p.tokenId||!p.tokenURI,variant:"primary",size:"md",className:"w-full",title:t?m.isOwner?!p.tokenId||!p.tokenURI?"Please fill in all required fields":"Set token URI":"Only collection owner can set URIs":"Please connect your wallet",children:s?"Setting...":"Set Token URI"})]})})]})})};var kde="Label",Pz=k.forwardRef((t,e)=>l.jsx(vt.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Pz.displayName=kde;var Tde=Pz;function Yo({className:t,...e}){return l.jsx(Tde,{"data-slot":"label",className:nt("flex items-center gap-2 text-[length:var(--text-base)] leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const Sde=U2("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-red-600 dark:text-red-500 bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-red-600/90"}},defaultVariants:{variant:"default"}});function dc({className:t,variant:e,...n}){return l.jsx("div",{"data-slot":"alert",role:"alert",className:nt(Sde({variant:e}),t),...n})}function fc({className:t,...e}){return l.jsx("div",{"data-slot":"alert-description",className:nt("text-gray-500 dark:text-gray-400 col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}const Cde=()=>{const{address:t,connected:e,provider:n}=_n(),{getContractInstance:r}=jn(),[i,s]=k.useState(!1),[o,a]=k.useState(""),[c,d]=k.useState(""),[f,p]=k.useState(""),[g,m]=k.useState(!1),[v,x]=k.useState(!1),[T,_]=k.useState(""),[j,w]=k.useState(""),[F,z]=k.useState(""),[B,H]=k.useState(""),[Y,W]=k.useState(null),q=D=>{if(!D)return"";const M=String(D).trim().replace(/\u200B|\u200C|\u200D|\u2060|\uFEFF/g,"");return M.startsWith("0X")?"0x"+M.slice(2):M};k.useEffect(()=>{(!o||o.trim()==="")&&(d(""),z(""),H(""),W(null),x(!1),m(!1),p(""),_(""),w(""))},[o]);const X=async()=>{_(""),w(""),d(""),x(!1),m(!1),z(""),H(""),W(null);const D=q(o);if(!In(D)){_("Please enter a valid Ethereum contract address.");return}if(!n){_("Provider not available.");return}try{s(!0);let M=new Vt(D,Ut.erc721Prize,n),C=!1;try{const I=await M.royaltyEnforcementEnabled();x(I),W("erc721"),C=!0}catch{M=new Vt(D,Ut.erc1155Prize,n);try{const E=await M.royaltyEnforcementEnabled();x(E),W("erc1155")}catch(E){_("Failed to fetch collection: "+E.message),W(null);return}}if(C){try{if(typeof M.name=="function"){const I=await M.name();z(I)}else z("N/A")}catch{z("N/A")}try{if(typeof M.symbol=="function"){const I=await M.symbol();H(I)}else H("N/A")}catch{H("N/A")}}else z("ERC1155 Collection"),H("N/A");d(D)}catch(M){_("Failed to fetch collection: "+M.message)}finally{s(!1)}};k.useEffect(()=>{c&&f&&In(f)&&n&&V()},[f,c]),k.useEffect(()=>{const D=q(o);if(!e||!D||!In(D))return;const M=setTimeout(()=>{i||X()},350);return()=>clearTimeout(M)},[o,e]);const V=async()=>{try{s(!0),_("");const D=Y==="erc1155"?Ut.erc1155Prize:Ut.erc721Prize,M=new Vt(c,D,n),C=q(f),I=await M.isRoyaltyEnforcementExempt(C);m(I)}catch(D){_("Failed to load exemption status: "+D.message)}finally{s(!1)}},R=async D=>{if(!c||!f||!n){re.error("Please fetch a collection and enter a valid address");return}const M=q(f);if(!In(M)){re.error("Please enter a valid Ethereum address");return}try{s(!0),_(""),w("");const C=n.getSigner();let I;Y==="erc721"?I=new Vt(c,Ut.erc721Prize,C):Y==="erc1155"&&(I=new Vt(c,Ut.erc1155Prize,C));let E;Y==="erc721"?E=await I.setRoyaltyEnforcementExemption(M,D):Y==="erc1155"&&(E=await I.setRoyaltyEnforcementExemption(M,D)),await E.wait(),re.success(`Exemption ${D?"granted":"revoked"} successfully!`),m(D),p("")}catch(C){sn(C)}finally{s(!1)}},b=async()=>{if(!c||!n){re.error("Please fetch a collection first");return}try{s(!0),_(""),w("");const D=n.getSigner();let M;Y==="erc721"?M=new Vt(c,Ut.erc721Prize,D):Y==="erc1155"&&(M=new Vt(c,Ut.erc1155Prize,D));let C;try{if(typeof M.owner=="function")C=await M.owner();else{re.error("Contract does not support owner functionality");return}}catch{re.error("Failed to get contract owner");return}const I=await D.getAddress();if(C.toLowerCase()!==I.toLowerCase()){re.error("Only the contract owner can toggle royalty enforcement");return}let E;Y==="erc721"?E=await M.toggleRoyaltyEnforcement(!v):Y==="erc1155"&&(E=await M.toggleRoyaltyEnforcement(!v)),console.log("Transaction sent:",E.hash),await E.wait(),re.success(`Royalty enforcement ${v?"disabled":"enabled"} successfully!`),x(!v)}catch(D){console.error("Error in toggleRoyaltyEnforcement:",D),sn(D)}finally{s(!1)}},A=D=>In(D);return e?l.jsx(Xt,{children:l.jsxs(Jt,{className:"space-y-6 p-4",children:[l.jsx("div",{className:"text-base font-medium flex items-center gap-2 mb-1",children:"Royalty Enforcement Management"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage royalty enforcement and exemptions for collections"}),!e&&l.jsxs(dc,{variant:"destructive",children:[l.jsx(un,{className:"h-4 w-4"}),l.jsx(fc,{children:"Please connect your wallet to load collection info and manage royalty enforcement."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Yo,{htmlFor:"collection-address",children:"Collection Contract Address"}),l.jsx(Xr,{id:"collection-address",placeholder:"0x...",value:o,onChange:D=>a(D.target.value),disabled:i||!e,rightElement:i&&l.jsx(ah,{size:"sm"})})]}),c&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Yo,{children:"Collection Info"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"font-semibold",children:F}),l.jsxs("span",{className:"text-muted-foreground",children:["(",B,")"]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Yo,{children:"Collection Status"}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Qo,{variant:v?"default":"secondary",children:v?l.jsxs(l.Fragment,{children:[l.jsx(Shield,{className:"h-3 w-3 mr-1"}),"Royalty Enforcement Enabled"]}):l.jsx(l.Fragment,{children:"Royalty Enforcement Disabled"})})})]}),l.jsx("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Yo,{className:"text-base font-medium",children:"Toggle Royalty Enforcement"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable or disable royalty enforcement for this collection"})]}),l.jsxs(Ee,{onClick:b,disabled:i,variant:v?"secondary":"primary",size:"md",className:"transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:v?"Disable royalty enforcement":"Enable royalty enforcement",children:[i?l.jsx(Af,{className:"h-4 w-4 mr-2 animate-spin"}):null,v?"Disable Enforcement":"Enable Enforcement"]})]})}),l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Yo,{htmlFor:"exempt-address",children:"Exemption Address"}),l.jsx(Xr,{id:"exempt-address",placeholder:"0x... (address to exempt/enforce)",value:f,onChange:D=>p(D.target.value),disabled:i}),f&&!In(q(f))&&l.jsx("p",{className:"text-sm text-red-600",children:"Invalid Ethereum address"})]}),f&&A(q(f))&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Yo,{children:"Current Status"}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Qo,{variant:g?"default":"secondary",children:g?l.jsxs(l.Fragment,{children:[l.jsx(Nn,{className:"h-3 w-3 mr-1"}),"Is Exempt"]}):l.jsxs(l.Fragment,{children:[l.jsx(un,{className:"h-3 w-3 mr-1"}),"Not Exempt"]})})}),g&&l.jsx("p",{className:"text-sm text-green-600",children:"This address is currently exempt from royalty enforcement."})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[l.jsx(Ee,{variant:"outline",disabled:!c||!In(q(f))||i,onClick:async()=>{try{s(!0),_("");const M=await new Vt(c,Y==="erc721"?Ut.erc721Prize:Ut.erc1155Prize,n).isRoyaltyEnforcementExempt(q(f));re.success(M?"Address is exempt from royalty enforcement":"Address is NOT exempt")}catch(D){sn(D)}finally{s(!1)}},children:"Check exemption"}),l.jsxs(Ee,{onClick:()=>R(!0),disabled:i||g,className:"flex-1 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:f?A(q(f))?g?"Address is already exempt":"Grant exemption":"Please enter a valid address":"Please enter an address",children:[i?l.jsx(Af,{className:"h-4 w-4 mr-2 animate-spin"}):null,"Grant Exemption"]}),l.jsxs(Ee,{variant:"destructive",onClick:()=>R(!1),disabled:i||!g,className:"flex-1 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:f?A(q(f))?g?"Revoke exemption":"Address is not exempt":"Please enter a valid address":"Please enter an address",children:[i?l.jsx(Af,{className:"h-4 w-4 mr-2 animate-spin"}):null,"Revoke Exemption"]})]})]})]}),T&&l.jsxs(dc,{variant:"destructive",children:[l.jsx(un,{className:"h-4 w-4"}),l.jsx(fc,{children:T})]}),j&&l.jsxs(dc,{children:[l.jsx(Nn,{className:"h-4 w-4"}),l.jsx(fc,{children:j})]})]})}):l.jsx(Xt,{children:l.jsxs(Jt,{className:"space-y-4 p-4",children:[l.jsx("div",{className:"text-base font-medium flex items-center gap-2 mb-1",children:"Royalty Enforcement Management"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Please connect your wallet to manage royalty enforcement and exemptions."}),l.jsxs(dc,{children:[l.jsx(un,{className:"h-4 w-4"}),l.jsx(fc,{children:"Please connect your wallet to manage royalty enforcement."})]})]})})},_de=()=>{const{connected:t,address:e}=_n(),{getContractInstance:n,executeTransaction:r}=jn(),{formatRevenueAmount:i}=Or(),[s,o]=k.useState(!1),[a,c]=k.useState({address:"",name:"",revenueAmount:"0",isOwner:!1,raffleState:"unknown"}),[d,f]=k.useState(!1),[p,g]=k.useState([]),[m,v]=k.useState(!1),[x,T]=k.useState({collectionAddress:"",collectionType:"erc721",recipient:"",quantity:"",tokenId:""}),[_,j]=k.useState(!1),[w,F]=k.useState(null),[z,B]=k.useState(!1),H=(C,I)=>{c(E=>({...E,[C]:I}))},Y=(C,I)=>{if(T(E=>({...E,[C]:I})),C==="tokenId"&&w&&w.type==="erc1155"){const E=parseInt(I);!isNaN(E)&&E>=0&&q(E)}},W=async()=>{if(!x.collectionAddress||!t){re.error("Please enter a collection address and connect your wallet");return}B(!0);try{let C=null,I=null;try{const G=n(x.collectionAddress,"erc721Prize");if(G)try{await G.supportsInterface("0x80ac58cd")&&(C=G,I="erc721")}catch{try{await G.totalSupply(),C=G,I="erc721"}catch{}}}catch{}if(!C)try{const G=n(x.collectionAddress,"erc1155Prize");if(G)try{await G.supportsInterface("0xd9b67a26")&&(C=G,I="erc1155")}catch{try{await G.uri(0),C=G,I="erc1155"}catch{}}}catch{}if(!C||!I)throw new Error("Invalid collection address or unsupported contract type");T(G=>({...G,collectionType:I}));let E="Unknown Collection",P="Unknown",N="Unknown";try{typeof C.name=="function"&&(E=await C.name())}catch{}try{typeof C.symbol=="function"&&(P=await C.symbol())}catch{}try{typeof C.owner=="function"&&(N=await C.owner())}catch{}const O=N!=="Unknown"&&N.toLowerCase()===e.toLowerCase();let Z=!1,$="0",K="0";try{I==="erc721"?(Z=await C.vestingConfigured(),Z&&($=(await C.getUnlockedCreatorAllocation()).toString(),K=(await C.getAvailableCreatorMint()).toString())):I==="erc1155"&&(Z=await C.vestingConfigured(1),Z&&($=(await C.getUnlockedCreatorAllocation(1)).toString(),K=(await C.getAvailableCreatorMint(1)).toString()))}catch(G){console.log("Vesting info not available:",G.message)}F({address:x.collectionAddress,name:E,symbol:P,owner:N,type:I,isOwner:O,vestingConfigured:Z,unlockedAmount:$,availableAmount:K}),I==="erc1155"?re.success("Collection loaded"):re.success(`Collection loaded: ${E} (${I.toUpperCase()})`)}catch(C){console.error("Error loading collection info:",C),re.error("Failed to load collection information: "+C.message),F(null)}finally{B(!1)}},q=async C=>{if(!(!w||w.type!=="erc1155"||!w.isOwner))try{const I=n(w.address,"erc1155Prize");if(!I)throw new Error("Failed to create contract instance");let E=!1,P="0",N="0";try{await I.maxSupply(C)}catch{console.log("Token ID does not exist:",C),F(Z=>({...Z,vestingConfigured:!1,unlockedAmount:"0",availableAmount:"0"}));return}E=await I.vestingConfigured(C),E&&(P=(await I.getUnlockedCreatorAllocation(C)).toString(),N=(await I.getAvailableCreatorMint(C)).toString()),F(O=>({...O,vestingConfigured:E,unlockedAmount:P,availableAmount:N}))}catch(I){console.log("Vesting info not available for token ID:",C,I.message),F(E=>({...E,vestingConfigured:!1,unlockedAmount:"0",availableAmount:"0"}))}},X=async()=>{if(!t||!w){re.error("Please connect your wallet and load collection info first");return}if(!w.isOwner){re.error("You are not the owner of this collection");return}if(!x.recipient||!x.quantity){re.error("Please fill in recipient address and quantity");return}if(x.collectionType==="erc1155"&&!x.tokenId){re.error("Please specify token ID for ERC1155 minting");return}const C=parseInt(x.quantity);if(isNaN(C)||C<=0){re.error("Please enter a valid quantity");return}j(!0);try{const I=x.collectionType==="erc721"?"erc721Prize":"erc1155Prize",E=n(x.collectionAddress,I);if(!E)throw new Error("Failed to create contract instance");let P;if(x.collectionType==="erc721")P=await r(()=>E.creatorMint(x.recipient,C));else{const N=parseInt(x.tokenId);if(isNaN(N))throw new Error("Invalid token ID");P=await r(()=>E.creatorMint(x.recipient,N,C))}if(P.success)re.success(`Successfully minted ${C} token(s)! Transaction: ${P.hash}`),T(N=>({...N,recipient:"",quantity:"",tokenId:""}));else throw new Error(P.error)}catch(I){console.error("Error minting tokens:",I),sn(I)}finally{j(!1)}},V=async C=>{if(!C||!t){re.error("Please enter a raffle address and connect your wallet");return}f(!0);try{const I=n(C,"pool");if(!I)throw new Error("Failed to create raffle contract instance");const[E,P,N,O,Z]=await Promise.all([I.creator(),I.revenueRecipient(),I.totalCreatorRevenue(),I.state(),I.name().catch(()=>`Pool ${C.slice(0,8)}...`)]),$=E.toLowerCase()===e.toLowerCase(),K=P.toLowerCase()===e.toLowerCase(),G=$&&K,ee=["Pending","Active","Ended","Drawing","Completed","Deleted","AllPrizesClaimed","Unengaged"][O]||"Unknown";c({address:C,name:Z,revenueAmount:Fn(N),isCreator:$,isRevenueRecipient:K,isBothCreatorAndRecipient:G,raffleState:ee,totalRevenue:N})}catch(I){console.error("Error loading raffle info:",I),re.error("Error loading raffle info: "+I.message),c({address:C,revenueAmount:"0",isCreator:!1,raffleState:"error"})}finally{f(!1)}},R=async()=>{if(t){v(!0);try{g([])}catch(C){console.error("Error loading created raffles:",C)}finally{v(!1)}}},b=async()=>{if(!t||!a.address){re.error("Please connect your wallet and load raffle info first");return}if(!a.isRevenueRecipient){re.error("You are not the revenue recipient of this raffle");return}if(parseFloat(a.revenueAmount)<=0){re.info("No revenue available for withdrawal");return}if(!["Completed","AllPrizesClaimed","Ended"].includes(a.raffleState)){re.info(`Revenue can only be withdrawn from completed raffles. Current state: ${a.raffleState}`);return}o(!0);try{const I=n(a.address,"pool");if(!I)throw new Error("Failed to create raffle contract instance");const E=await r(I.withdrawCreatorRevenue);if(E.success)re.success(`Revenue withdrawn successfully! Transaction: ${E.hash}`),await V(a.address);else throw new Error(E.error)}catch(I){console.error("Error withdrawing revenue:",I),sn(I)}finally{o(!1)}};k.useEffect(()=>{t&&R()},[t]),k.useEffect(()=>{(!a.address||a.address.trim()==="")&&c({address:"",name:"",revenueAmount:"0",isOwner:!1,raffleState:"unknown"})},[a.address]),k.useEffect(()=>{(!x.collectionAddress||x.collectionAddress.trim()==="")&&F(null)},[x.collectionAddress]),k.useEffect(()=>{const C=a.address;if(!t||!C||!In(C))return;const I=setTimeout(()=>{d||V(C)},400);return()=>clearTimeout(I)},[a.address,t]),k.useEffect(()=>{const C=x.collectionAddress;if(!t||!C||!In(C))return;const I=setTimeout(()=>{z||W()},400);return()=>clearTimeout(I)},[x.collectionAddress,t]);const A=C=>{switch(C){case"Completed":case"AllPrizesClaimed":return"text-green-600";case"Ended":return"text-red-600";case"Active":return"text-blue-600";case"Pending":return"text-yellow-600";case"Drawing":return"text-purple-600";default:return"text-muted-foreground"}},D=a.totalRevenue&&de.isBigNumber(a.totalRevenue)?!a.totalRevenue.isZero():parseFloat(a.revenueAmount)>0,M=a.isRevenueRecipient&&D&&["Completed","AllPrizesClaimed","Ended"].includes(a.raffleState);return l.jsxs("div",{className:"space-y-6",children:[l.jsx(Xt,{children:l.jsxs(Jt,{className:"space-y-4 p-4",children:[l.jsx("div",{className:"text-base font-medium flex items-center gap-2 mb-1",children:"Withdraw Revenue"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Withdraw available revenue from completed raffles"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Pool Contract Address"}),l.jsx(Xr,{value:a.address,onChange:C=>H("address",C.target.value),placeholder:"0x...",rightElement:d&&l.jsx(ah,{size:"sm"})})]}),a.address&&a.raffleState!=="unknown"&&l.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-4",children:[l.jsxs("div",{className:"text-base font-medium flex items-center gap-2 mb-1",children:[l.jsx(un,{className:"h-5 w-5"}),"Pool Information"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Name:"}),l.jsx("div",{className:"font-semibold",children:a.name})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"State:"}),l.jsx("div",{className:`font-semibold ${A(a.raffleState)}`,children:a.raffleState})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Creator Revenue:"}),l.jsx("div",{className:"font-semibold",children:i(a.totalRevenue||a.revenueAmount)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Your Role:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[a.isBothCreatorAndRecipient&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:[l.jsx(Nn,{className:"h-3 w-3"}),"Creator"]}),a.isRevenueRecipient&&!a.isBothCreatorAndRecipient&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs",children:[l.jsx(Nn,{className:"h-3 w-3"}),"Revenue Recipient"]}),a.isOwner&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:[l.jsx(Nn,{className:"h-3 w-3"}),"Owner"]}),!a.isCreator&&!a.isRevenueRecipient&&!a.isOwner&&l.jsx("span",{className:"text-muted-foreground text-xs",children:"No special role"})]})]})]}),!a.isRevenueRecipient&&l.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(un,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"You are not the revenue recipient of this raffle"})]}),a.isRevenueRecipient&&!D&&l.jsxs("div",{className:"p-3 bg-yellow-50/80 dark:bg-yellow-900/20 backdrop-blur-sm border border-yellow-200/50 dark:border-yellow-700/50 rounded-lg flex items-center gap-2",children:[l.jsx(un,{className:"h-4 w-4 text-yellow-600"}),l.jsx("span",{className:"text-sm text-yellow-800",children:"No revenue available for withdrawal"})]}),a.isRevenueRecipient&&!["Completed","AllPrizesClaimed","Ended"].includes(a.raffleState)&&l.jsxs("div",{className:"p-3 bg-blue-50/80 dark:bg-blue-900/20 backdrop-blur-sm border border-blue-200/50 dark:border-blue-700/50 rounded-lg flex items-center gap-2",children:[l.jsx(un,{className:"h-4 w-4 text-blue-600"}),l.jsx("span",{className:"text-sm text-blue-800",children:"Revenue can only be withdrawn from completed raffles."})]}),M&&l.jsxs("div",{className:"p-3 bg-green-50/80 dark:bg-green-900/20 backdrop-blur-sm border border-green-200/50 dark:border-green-700/50 rounded-lg flex items-center gap-2",children:[l.jsx(Nn,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{className:"text-sm text-green-800",children:"Revenue is available for withdrawal!"})]}),l.jsx(Ee,{onClick:b,disabled:s||!t||!M,variant:"primary",size:"md",className:"w-full h-10 flex items-center justify-center gap-2 shadow-sm text-sm",title:t?a.address?a.raffleState==="unknown"?"Raffle state unknown":a.isRevenueRecipient?M?`Withdraw ${i(a.totalRevenue||a.revenueAmount)}`:"Withdrawal not available - check raffle state and revenue amount":"Only revenue recipient can withdraw revenue":"Please load raffle info first":"Please connect your wallet",children:s?"Withdrawing...":a.address&&(a.totalRevenue||a.revenueAmount)?`Withdraw ${i(a.totalRevenue||a.revenueAmount)}`:"Withdraw Revenue"}),!M&&a.isRevenueRecipient&&a.address&&l.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Withdrawal is not available at this time. Check the raffle state and revenue amount."})]})]})}),!t&&l.jsx("div",{className:"text-center p-4 bg-muted rounded-lg",children:l.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to withdraw creator revenue."})}),l.jsx(Xt,{children:l.jsxs(Jt,{className:"space-y-4 p-4",children:[l.jsx("div",{className:"text-base font-medium flex items-center gap-2 mb-1",children:"Creator Mint"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Mint your allocated supply from your collection"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Contract Address"}),l.jsx(Xr,{value:x.collectionAddress,onChange:C=>Y("collectionAddress",C.target.value),placeholder:"0x...",rightElement:z&&l.jsx(ah,{size:"sm"})})]}),w&&l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Name:"})," ",w.name]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Symbol:"})," ",w.symbol]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Owner:"})," ",w.isOwner?"You":"Other"]})]}),w.vestingConfigured&&l.jsxs("div",{className:"mt-3 pt-3 border-t border-border",children:[l.jsx("div",{className:"text-sm font-medium mb-2 text-primary",children:"Vesting Information"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Unlocked Amount:"})," ",w.unlockedAmount]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Available Amount:"})," ",w.availableAmount]})]}),w.type==="erc1155"&&l.jsxs("div",{className:"mt-1 text-xs text-muted-foreground",children:["Vesting info shown for Token ID ",x.tokenId||"1",". Enter a specific Token ID to see accurate vesting amounts."]})]}),!w.isOwner&&l.jsxs("div",{className:"mt-2 p-2 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(un,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot mint tokens."})]})]}),w&&w.isOwner&&l.jsxs("div",{className:"space-y-4",children:[w.type==="erc1155"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token ID"}),l.jsx("input",{type:"number",value:x.tokenId,onChange:C=>Y("tokenId",C.target.value),placeholder:"1",min:"0",className:"w-full px-3 py-2 border border-border rounded-md bg-background"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Recipient Address"}),l.jsx(Xr,{value:x.recipient,onChange:C=>Y("recipient",C.target.value),placeholder:"0x..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity"}),l.jsx("input",{type:"number",value:x.quantity,onChange:C=>Y("quantity",C.target.value),placeholder:"1",min:"1",className:"w-full px-3 py-2 border border-border rounded-md bg-background"})]})]}),l.jsx(Ee,{onClick:X,disabled:_||!t||!w.isOwner||!x.recipient||!x.quantity||w.type==="erc1155"&&!x.tokenId,variant:"primary",size:"lg",className:"w-full flex items-center justify-center gap-2 shadow-sm",children:_?"Minting...":"Mint"})]})]})]})})]})},Rz=()=>{const{address:t,connected:e,provider:n}=_n(),{getContractInstance:r}=jn(),[i,s]=k.useState(!1),[o,a]=k.useState(""),[c,d]=k.useState(""),[f,p]=k.useState(""),[g,m]=k.useState(""),[v,x]=k.useState(""),[T,_]=k.useState(""),[j,w]=k.useState(""),[F,z]=k.useState(""),[B,H]=k.useState(""),[Y,W]=k.useState(""),[q,X]=k.useState(null),[V,R]=k.useState(null),[b,A]=k.useState(!1),[D,M]=k.useState(!1);k.useEffect(()=>{(!o||o.trim()==="")&&(d(""),H(""),W(""),X(null),M(!1),w(""),z(""))},[o]),k.useEffect(()=>{(!f||f.trim()==="")&&R(null)},[f]);const C=async()=>{if(w(""),z(""),d(""),H(""),W(""),X(null),R(null),M(!1),!o||!In(o)){w("Please enter a valid collection address");return}if(!e){w("Please connect your wallet");return}s(!0);try{try{const O=new Vt(o,Ut.erc721Prize,n),Z=await O.name(),$=await O.symbol();H(Z),W($),X("erc721"),d(o);try{const G=(await O.owner()).toLowerCase()===t.toLowerCase();M(G)}catch{M(!1)}return}catch{console.log("Not an ERC721 collection, trying ERC1155...")}try{const O=new Vt(o,Ut.erc1155Prize,n);try{const Z=await O.uri(0);H("ERC1155 Collection"),W("ERC1155")}catch{H("ERC1155 Collection"),W("ERC1155")}X("erc1155"),d(o),z("ERC1155 Collection found");try{const $=(await O.owner()).toLowerCase()===t.toLowerCase();M($)}catch{M(!1)}return}catch{console.log("Not an ERC1155 collection either")}w("Collection not found or not a supported type (ERC721/ERC1155)")}catch(O){console.error("Error fetching collection:",O),w(`Failed to fetch collection: ${fl(O)}`)}finally{s(!1)}};k.useEffect(()=>{const O=o&&In(o);if(!e||!O)return;const Z=setTimeout(()=>{i||C()},300);return()=>clearTimeout(Z)},[o,e]);const I=async()=>{try{if(!c||!q||!n||!In(f))return;A(!0);const Z=await new Vt(c,q==="erc721"?Ut.erc721Prize:Ut.erc1155Prize,n).getKOLApprovalDetails(f),$={approved:Z.approved,poolLimit:Z.poolLimit?Number(Z.poolLimit):0,enforcedSlotFee:Z.enforcedSlotFee?Z.enforcedSlotFee:de.from(0),winnerLimit:Z.winnerLimit?Number(Z.winnerLimit):0,poolCount:Z.poolCount?Number(Z.poolCount):0,winnerCount:Z.winnerCount?Number(Z.winnerCount):0};R($)}catch(O){console.error("Error fetching KOL details:",O),w(`Failed to fetch KOL details: ${fl(O)}`),R(null)}finally{A(!1)}};k.useEffect(()=>{if(!(f&&In(f))||!c||!q)return;const Z=setTimeout(()=>{I()},250);return()=>clearTimeout(Z)},[f,c,q]);const E=async()=>{if(!c||!n){re.error("Please fetch a collection first");return}if(!In(f)){re.error("Please enter a valid KOL address");return}if(!g||isNaN(g)||parseInt(g)<=0){re.error("Please enter a valid pool limit");return}if(!v||isNaN(v)||parseFloat(v)<0){re.error("Please enter a valid enforced slot fee");return}if(!T||isNaN(T)||parseInt(T)<=0){re.error("Please enter a valid winner limit");return}try{s(!0),w(""),z("");const O=n.getSigner();let Z;q==="erc721"?Z=new Vt(c,Ut.erc721Prize,O):q==="erc1155"&&(Z=new Vt(c,Ut.erc1155Prize,O));let $;try{if(typeof Z.owner=="function")$=await Z.owner();else{re.error("Contract does not support owner functionality");return}}catch{re.error("Failed to get contract owner");return}const K=await O.getAddress();if($.toLowerCase()!==K.toLowerCase()){re.error("Only the contract owner can approve KOLs");return}const G=pd(v.toString());await(await Z.approveKOL(f,parseInt(g),G,parseInt(T))).wait(),re.success("KOL approved successfully!"),re.success(`KOL ${f} approved with pool limit ${g}, slot fee ${v} ETH, and ${T} winner limit`),p(""),m(""),x(""),_(""),await I()}catch(O){console.error("Error approving KOL:",O),sn(O),w(`Failed to approve KOL: ${fl(O)}`)}finally{s(!1)}},P=async()=>{if(!c||!n){re.error("Please fetch a collection first");return}if(!In(f)){re.error("Please enter a valid KOL address");return}try{s(!0),w(""),z("");const O=n.getSigner(),Z=new Vt(c,q==="erc721"?Ut.erc721Prize:Ut.erc1155Prize,O);let $;try{typeof Z.owner=="function"&&($=await Z.owner())}catch{}const K=await O.getAddress();if(!$||$.toLowerCase()!==K.toLowerCase()){re.error("Only the contract owner can revoke KOLs");return}await(await Z.revokeKOL(f)).wait(),re.success("KOL revoked successfully!"),z(`KOL ${f} revoked`),await I()}catch(O){console.error("Error revoking KOL:",O),sn(O),w(`Failed to revoke KOL: ${fl(O)}`)}finally{s(!1)}},N=O=>In(O);return e?l.jsx(Xt,{children:l.jsxs(Jt,{className:"space-y-6 p-4",children:[l.jsx("div",{className:"text-base font-medium flex items-center gap-2 mb-1",children:"KOL Approval Management"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Approve Key Opinion Leaders (KOLs) for collections with specific pool limits and slot fees"}),l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Yo,{htmlFor:"collection",children:"Collection Address"}),l.jsx(Xr,{id:"collection",placeholder:"0x...",value:o,onChange:O=>a(O.target.value),disabled:i}),o&&!In(o)&&l.jsx("p",{className:"text-sm text-red-600",children:"Invalid Ethereum address"})]}),c&&l.jsx("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Name:"})," ",B]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Symbol:"})," ",Y]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Owner:"})," ",D?"You":"Other"]})]})})]}),c&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsx("div",{className:"text-base font-medium flex items-center gap-2 mb-1",children:"KOL Approval"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Yo,{htmlFor:"kol",children:"KOL Address"}),l.jsx(Xr,{id:"kol",placeholder:"0x...",value:f,onChange:O=>p(O.target.value),disabled:i}),f&&!In(f)&&l.jsx("p",{className:"text-sm text-red-600",children:"Invalid Ethereum address"})]}),b&&l.jsx("div",{className:"p-3 bg-muted border rounded-lg text-sm",children:"Loading KOL details..."}),V&&l.jsxs("div",{className:"p-3 bg-muted border rounded-lg space-y-1 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qo,{variant:V.approved?"default":"secondary",children:V.approved?"Approved":"Not Approved"}),l.jsx("span",{className:"text-muted-foreground",children:"Current approval status"})]}),l.jsxs("div",{children:["Pool Limit: ",l.jsx("strong",{children:V.poolLimit})]}),l.jsxs("div",{children:["Enforced Slot Fee: ",l.jsxs("strong",{children:[Fn(V.enforcedSlotFee)," ETH"]})]}),l.jsxs("div",{children:["Winner Limit: ",l.jsx("strong",{children:V.winnerLimit})]}),l.jsxs("div",{children:["Pool Count: ",l.jsx("strong",{children:V.poolCount})]}),l.jsxs("div",{children:["Winner Count: ",l.jsx("strong",{children:V.winnerCount})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Yo,{htmlFor:"poolLimit",children:"Pool Limit"}),l.jsx(ls,{id:"poolLimit",placeholder:"Enter pool limit (e.g., 100)",value:g,onChange:O=>m(O.target.value),disabled:i}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"The allowed number of raffle pools a KOL can create using your collection as prize"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Yo,{htmlFor:"enforcedSlotFee",children:"Enforced Slot Fee (ETH)"}),l.jsx(ls,{id:"enforcedSlotFee",placeholder:"Enter slot fee in ETH (e.g., 0.01)",value:v,onChange:O=>x(O.target.value),disabled:i,step:"0.001"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Fixed slot fee that participants must pay to join the KOL's pool"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Yo,{htmlFor:"winnerLimit",children:"Winner Limit"}),l.jsx(ls,{id:"winnerLimit",placeholder:"Enter winner limit (e.g., 5)",value:T,onChange:O=>_(O.target.value),disabled:i}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total winner limit that the KOL can allocate across all pools"})]}),l.jsxs(Ee,{onClick:E,disabled:!c||!N(f)||!g||!v||!T||i,variant:"primary",size:"md",className:"w-full",children:[i?l.jsx(Af,{className:"h-4 w-4 mr-2 animate-spin"}):null,"Approve KOL"]}),l.jsxs(Ee,{onClick:P,disabled:!c||!N(f)||i,variant:"destructive",className:"w-full",children:[i?l.jsx(Af,{className:"h-4 w-4 mr-2 animate-spin"}):null,"Revoke KOL"]})]})]}),j&&l.jsxs(dc,{variant:"destructive",children:[l.jsx(un,{className:"h-4 w-4"}),l.jsx(fc,{children:j})]}),F&&l.jsxs(dc,{children:[l.jsx(Nn,{className:"h-4 w-4"}),l.jsx(fc,{children:F})]}),c&&D&&l.jsxs(dc,{children:[l.jsx(on,{className:"h-4 w-4"}),l.jsxs(fc,{children:[l.jsx("strong",{children:"Note:"})," Only the collection owner can approve KOLs. KOL approval allows the approved address to create pools using this collection as prize."]})]})]})}):l.jsx(Xt,{children:l.jsxs(Jt,{className:"space-y-4 p-4",children:[l.jsx("div",{className:"text-base font-medium flex items-center gap-2 mb-1",children:"KOL Approval Management"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Please connect your wallet to manage KOL approvals for collections."}),l.jsxs(dc,{children:[l.jsx(un,{className:"h-4 w-4"}),l.jsx(fc,{children:"Please connect your wallet to manage KOL approvals."})]})]})})},Iz=()=>{const{address:t,provider:e}=_n(),{getContractInstance:n,executeTransaction:r}=jn(),[i,s]=k.useState(""),[o,a]=k.useState(null),[c,d]=k.useState(null),[f,p]=k.useState(!1),[g,m]=k.useState(""),[v,x]=k.useState(2),[T,_]=k.useState(7),[j,w]=k.useState(1),[F,z]=k.useState(null),[B,H]=k.useState(null),[Y,W]=k.useState(!1),[q,X]=k.useState(!1),[V,R]=k.useState(!1),[b,A]=k.useState(!1),[D,M]=k.useState(""),[C,I]=k.useState(""),[E,P]=k.useState(""),[N,O]=k.useState(!1),[Z,$]=k.useState(!1),K=async he=>{if(!he||!In(he)){a(null),z(null),H(null),d(null),$(!1);return}p(!0);try{let ue=n(he,"erc721Prize"),be=!1;try{await ue.supportsInterface("0x80ac58cd")?be=!0:ue=n(he,"erc1155Prize")}catch{ue=n(he,"erc1155Prize")}const Ne=await ue.owner();if(t&&Ne.toLowerCase()===t.toLowerCase()?$(!0):$(!1),d(be),a(ue),be){let ie="Unknown",De="Unknown";try{typeof ue.name=="function"&&(ie=await ue.name())}catch{}try{typeof ue.symbol=="function"&&(De=await ue.symbol())}catch{}const[gt,Je,Fe,Dt,ot,ct,bt,ne]=await Promise.all([ue.maxSupply(),ue.creatorAllocation(),ue.creationTime(),ue.vestingConfigured(),ue.creatorClaimedCount(),ue.getUnlockedCreatorAllocation(),ue.availableSupply(),ue.creatorAllocationDeclared()]),ce={name:ie,symbol:De,maxSupply:gt.toString(),creatorAllocation:Je.toString(),creationTime:Fe.toString(),vestingConfigured:Dt,creatorClaimedCount:ot.toString(),unlockedAmount:ct.toString(),availableSupply:bt.toString(),creatorAllocationDeclared:ne,isERC721:!0};if(z(ce),Dt){const[we,Se,Ae]=await Promise.all([ue.vestingConfig(),ue.getAvailableCreatorMint(),ue.getUnlockedCreatorAllocation()]);H({cliffEnd:we.cliffEnd.toString(),numberOfUnlocks:we.numberOfUnlocks.toString(),durationBetweenUnlocks:we.durationBetweenUnlocks.toString(),amountPerUnlock:we.amountPerUnlock.toString(),availableToMint:Se.toString(),unlockedAmount:Ae.toString()})}}else{const[ie,De,gt,Je,Fe,Dt,ot,ct]=await Promise.all([ue.maxSupply(j),ue.creatorAllocation(j),ue.tokenCreationTime(j),ue.vestingConfigured(j),ue.creatorClaimedCount(j),ue.getUnlockedCreatorAllocation(j),ue.availableSupply(j),ue.creatorAllocationDeclared(j)]),bt={maxSupply:ie.toString(),creatorAllocation:De.toString(),creationTime:gt.toString(),vestingConfigured:Je,creatorClaimedCount:Fe.toString(),unlockedAmount:Dt.toString(),availableSupply:ot.toString(),creatorAllocationDeclared:ct,isERC721:!1,tokenId:j};if(z(bt),Je){const[ne,ce,we]=await Promise.all([ue.vestingConfig(j),ue.getAvailableCreatorMint(j),ue.getUnlockedCreatorAllocation(j)]);H({cliffEnd:ne.cliffEnd.toString(),numberOfUnlocks:ne.numberOfUnlocks.toString(),durationBetweenUnlocks:ne.durationBetweenUnlocks.toString(),amountPerUnlock:ne.amountPerUnlock.toString(),availableToMint:ce.toString(),unlockedAmount:we.toString()})}}re.success("Collection details fetched successfully")}catch(ue){console.error("Error fetching collection:",ue),re.error(`Failed to fetch collection: ${ue.message}`),a(null),z(null),H(null)}finally{p(!1)}};k.useEffect(()=>{const he=new Date;he.setDate(he.getDate()+7),m(he.toISOString().slice(0,16))},[]),k.useEffect(()=>{const he=setTimeout(()=>{i&&In(i)?K(i):i===""&&(a(null),z(null),H(null),d(null))},500);return()=>clearTimeout(he)},[i,t]),k.useEffect(()=>{i&&In(i)&&!c&&o&&K(i)},[j]);const G=async()=>{if(!o||!F){re.error("Please enter a valid collection address");return}if(F.vestingConfigured){re.error("Vesting is already configured for this collection/token");return}if(!g){re.error("Please select a cliff end date and time");return}const he=new Date(g);if(he<new Date){re.error("Cliff date must be in the future");return}if(T<1){re.error("Unlock interval must be at least 1 day");return}const be=parseInt(F.creatorAllocation);let Ne=2;if(be>=2e3||be>=1e3?Ne=8:be>=500&&(Ne=4),v<Ne){re.error(`For an allocation of ${be} tokens, minimum ${Ne} unlocks required`);return}W(!0);try{const ie=Math.floor(he.getTime()/1e3),De=T*86400;let gt;c?gt=await r(()=>o.configureCreatorVesting(ie,v,De)):gt=await r(()=>o.configureCreatorVesting(j,ie,v,De)),gt&&(re.success("Vesting configured successfully!"),await K())}catch(ie){console.error("Error configuring vesting:",ie),sn(ie)}finally{W(!1)}},J=async()=>{if(!o||!F){re.error("Please enter a valid collection address");return}X(!0);try{const he=Number(D);if(!isFinite(he)||he<=0||he>100){re.error("Enter a valid percentage between 0 and 100"),X(!1);return}const ue=de.from(he);if(c)await o.callStatic.declareCreatorAllocation(ue),await r(()=>o.declareCreatorAllocation(ue));else{const be=C?parseInt(C):j;await o.callStatic.declareCreatorAllocation(be,ue),await r(()=>o.declareCreatorAllocation(be,ue))}re.success("Creator allocation declared"),await K(i)}catch(he){sn(he)}finally{X(!1)}},ee=async()=>{if(!o||!F){re.error("Please enter a valid collection address");return}A(!0);try{const he=Number(E);if(!isFinite(he)||he<=0||he>100){re.error("Enter a valid percentage between 0 and 100"),A(!1);return}const ue=Number(F.creatorAllocation),be=Number(F.creatorClaimedCount);if(ue-be<=0){re.error("No remaining creator allocation to reduce"),A(!1);return}const ie=de.from(he);if(c)await o.callStatic.reduceCreatorAllocation(ie),await r(()=>o.reduceCreatorAllocation(ie));else{const De=F.tokenId||j;await o.callStatic.reduceCreatorAllocation(De,ie),await r(()=>o.reduceCreatorAllocation(De,ie))}re.success("Creator allocation reduced successfully"),P(""),O(!1),await K(i)}catch(he){console.error("Error reducing creator allocation:",he),he.message.includes("No remaining creator allocation")?re.error("No remaining creator allocation to reduce"):he.message.includes("Creator allocation must be declared")?re.error("Creator allocation must be declared first"):re.error("Failed to reduce creator allocation: "+he.message)}finally{A(!1)}},ae=async()=>{if(!o||!F){re.error("Please enter a valid collection address");return}R(!0);try{const he=Number(D);if(!isFinite(he)||he<=0||he>100){re.error("Enter a valid percentage between 0 and 100"),R(!1);return}const ue=de.from(he);if(c)await o.callStatic.cutSupply(ue),await r(()=>o.cutSupply(ue));else{const be=C?parseInt(C):j;await o.callStatic.cutSupply(be,ue),await r(()=>o.cutSupply(be,ue))}re.success("Supply cut successfully"),await K(i)}catch(he){sn(he)}finally{R(!1)}},se=he=>!he||he==="0"?"Not set":new Date(parseInt(he)*1e3).toLocaleString(),pe=he=>{if(!he||he==="0")return"N/A";const ue=Math.floor(Date.now()/1e3),be=parseInt(he);if(ue>=be)return"Ended";const Ne=be-ue,ie=Math.floor(Ne/86400),De=Math.floor(Ne%86400/3600);return`${ie}d ${De}h`};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(Xt,{children:l.jsxs(Jt,{className:"space-y-4 p-4",children:[l.jsxs("div",{className:"text-base font-medium flex items-center gap-2 mb-1",children:[l.jsx(w2,{className:"h-5 w-5"}),"Supply, Creator Allocation & Vesting Management"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your collection address to view and configure supply, creator allocation and vesting"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Collection Address"}),l.jsx("input",{type:"text",placeholder:"0x...",value:i,onChange:he=>s(he.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background"}),f&&l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[l.jsx("span",{className:"animate-spin",children:""})," Fetching collection details..."]})]}),!c&&o&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Token ID (ERC1155 only)"}),l.jsx("input",{type:"number",placeholder:"1",value:j,onChange:he=>w(parseInt(he.target.value)||1),className:"w-full px-3 py-2 border border-border rounded-md bg-background",min:"1"})]})]})}),F&&l.jsx(Xt,{children:l.jsxs(Jt,{className:"space-y-3 p-4",children:[l.jsxs("div",{className:"text-base font-medium flex items-center gap-2 mb-1",children:[l.jsx(un,{className:"h-5 w-5"}),"Collection Information"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Name:"}),l.jsx("p",{className:"font-semibold",children:F.name})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Symbol:"}),l.jsx("p",{className:"font-semibold",children:F.symbol})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Max Supply:"}),l.jsx("p",{className:"font-semibold",children:F.maxSupply})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Creator Allocation:"}),l.jsxs("p",{className:"font-semibold",children:[F.creatorAllocation," tokens"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Already Claimed:"}),l.jsxs("p",{className:"font-semibold",children:[F.creatorClaimedCount," tokens"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Unlocked Amount:"}),l.jsxs("p",{className:"font-semibold",children:[F.unlockedAmount," tokens"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Available Supply:"}),l.jsxs("p",{className:"font-semibold",children:[F.availableSupply," tokens"]})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-muted-foreground",children:"Creation Time:"}),l.jsx("p",{className:"font-semibold",children:se(F.creationTime)})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-muted-foreground",children:"Vesting Status:"}),l.jsx("p",{className:`font-semibold flex items-center gap-2 ${F.vestingConfigured?"text-green-600":"text-yellow-600"}`,children:F.vestingConfigured?l.jsxs(l.Fragment,{children:[l.jsx(EP,{className:"h-4 w-4"})," Configured"]}):l.jsxs(l.Fragment,{children:[l.jsx(un,{className:"h-4 w-4"})," Not Configured"]})})]})]})]})}),B&&l.jsx(Xt,{className:"border-green-500/50",children:l.jsxs(Jt,{className:"space-y-4 p-4",children:[l.jsxs("div",{className:"text-base font-medium flex items-center gap-2 text-green-600 mb-1",children:[l.jsx(EP,{className:"h-5 w-5"}),"Vesting Schedule ",!c&&F.tokenId&&`(Token ID: ${F.tokenId})`]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Cliff Ends:"}),l.jsx("p",{className:"font-semibold",children:se(B.cliffEnd)}),l.jsx("p",{className:"text-xs text-muted-foreground",children:pe(B.cliffEnd)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Total Unlocks:"}),l.jsx("p",{className:"font-semibold",children:B.numberOfUnlocks})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Unlock Interval:"}),l.jsxs("p",{className:"font-semibold",children:[parseInt(B.durationBetweenUnlocks)/86400," days"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Tokens per Unlock:"}),l.jsx("p",{className:"font-semibold",children:B.amountPerUnlock})]}),l.jsxs("div",{className:"col-span-2 pt-2 border-t",children:[l.jsx("span",{className:"text-muted-foreground",children:"Currently Unlocked:"}),l.jsxs("p",{className:"font-semibold text-lg text-blue-600",children:[B.unlockedAmount," tokens"]})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-muted-foreground",children:"Available to Mint:"}),l.jsxs("p",{className:"font-semibold text-lg text-green-600",children:[B.availableToMint," tokens"]})]})]})]})}),F&&l.jsx(Xt,{children:l.jsxs(Jt,{className:"space-y-4 p-4",children:[l.jsxs("div",{className:"text-base font-medium flex items-center gap-2 mb-1",children:[l.jsx(Pf,{className:"h-5 w-5"}),"Cut Supply"]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Reduce the maximum supply and proportionally reduce creator allocation"}),!c&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Token ID (ERC1155 only)"}),l.jsx("input",{type:"number",placeholder:"1",value:C,onChange:he=>I(he.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Cut Percentage (%)"}),l.jsx("input",{type:"number",placeholder:"20",value:D,onChange:he=>M(he.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter percentage as a whole number (e.g., 20 = 20%). This will reduce both maxSupply and creatorAllocation proportionally."}),D&&Number(D)>0&&Number(D)<=100&&l.jsxs("p",{className:"text-xs text-red-600",children:["Will remove: ",Math.floor(Number(F.maxSupply)*Number(D)/100)," tokens from max supply",F.creatorAllocationDeclared&&l.jsxs(l.Fragment,{children:[l.jsx("br",{}),"Will remove: ",Math.floor(Number(F.creatorAllocation)*Number(D)/100)," tokens from creator allocation"]})]})]}),l.jsx(Ee,{onClick:ae,disabled:!D||V||!Z,className:"w-full",children:V?"Cutting...":Z?"Cut Supply":"Connect as Owner to Cut"})]})}),F&&!F.creatorAllocationDeclared&&l.jsxs(Xt,{children:[l.jsxs(ds,{children:[l.jsxs(zs,{className:"flex items-center gap-2",children:[l.jsx(Pf,{className:"h-5 w-5"}),"Declare Creator Allocation"]}),l.jsx(Df,{children:"Declare the creator allocation percentage for this collection"})]}),l.jsxs(Jt,{className:"space-y-4",children:[!c&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Token ID (ERC1155 only)"}),l.jsx("input",{type:"number",placeholder:"1",value:C,onChange:he=>I(he.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Allocation Percentage (%)"}),l.jsx("input",{type:"number",placeholder:"20",value:D,onChange:he=>M(he.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter percentage as a whole number (e.g., 20 = 20%)"})]}),l.jsx(Ee,{onClick:J,disabled:!D||q||!Z,className:"w-full",children:q?"Declaring...":Z?"Declare Allocation":"Connect as Owner to Declare"})]})]}),F&&F.creatorAllocationDeclared&&l.jsx(Xt,{children:l.jsxs(Jt,{className:"space-y-4 p-4",children:[l.jsxs("div",{className:"text-base font-medium flex items-center gap-2 mb-1",children:[l.jsx(hX,{className:"h-5 w-5"}),"Reduce Creator Allocation"]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Reduce your remaining locked creator allocation by a percentage"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm bg-muted/50 p-3 rounded-md",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Total Allocation:"}),l.jsxs("p",{className:"font-semibold",children:[F.creatorAllocation," tokens"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Already Claimed:"}),l.jsxs("p",{className:"font-semibold",children:[F.creatorClaimedCount," tokens"]})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-muted-foreground",children:"Remaining Locked:"}),l.jsxs("p",{className:"font-semibold",children:[Math.max(0,Number(F.creatorAllocation)-Number(F.creatorClaimedCount)-Number(F.unlockedAmount||0))," tokens"]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Reduction Percentage"}),l.jsx("input",{type:"number",placeholder:"25",value:E,onChange:he=>{P(he.target.value),he.target.value||O(!1)},className:"w-full px-3 py-2 border border-border rounded-md bg-background",min:"1",max:"100"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter percentage to reduce from your total allocation (e.g., 10 = 10%)."}),E&&Number(E)>0&&Number(E)<=100&&l.jsxs("p",{className:"text-xs text-red-600",children:["Will reduce your total allocation by: ",Math.floor(Number(F.creatorAllocation)*Number(E)/100)," tokens"]}),Number(F.unlockedAmount||0)>0&&l.jsx("div",{className:"mt-2 p-2 bg-orange-50 dark:bg-orange-950/20 border border-orange-200 dark:border-orange-800 rounded-md",children:l.jsxs("p",{className:"text-xs text-orange-700 dark:text-orange-300",children:[" ",l.jsx("strong",{children:"Warning:"})," You have ",F.unlockedAmount," unlocked tokens. Reducing your allocation will also reduce your unlocked tokens that are available to claim."]})})]}),N?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-md",children:[l.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 font-medium mb-2",children:" Confirmation Required"}),l.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400",children:["You are about to reduce your creator allocation by ",E,"%. This will reduce both your locked and unlocked tokens, and cannot be undone."]}),Number(F.unlockedAmount||0)>0&&l.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:["Your unlocked tokens will be reduced from ",F.unlockedAmount," to ",Math.max(0,Number(F.unlockedAmount)-Math.floor(Number(F.creatorAllocation)*Number(E)/100)),"."]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Ee,{onClick:ee,disabled:b,className:"flex-1 bg-red-600 hover:bg-red-700",children:b?"Confirming...":"Confirm Reduction"}),l.jsx(Ee,{onClick:()=>O(!1),disabled:b,variant:"outline",className:"flex-1",children:"Cancel"})]})]}):l.jsx(Ee,{onClick:()=>O(!0),disabled:!E||b||!Z,className:"w-full",children:b?"Reducing...":Z?"Reduce Allocation":"Connect as Owner to Reduce"})]})}),F&&!F.vestingConfigured&&l.jsxs(Xt,{children:[l.jsxs(ds,{children:[l.jsxs(zs,{className:"flex items-center gap-2",children:[l.jsx(JY,{className:"h-5 w-5"}),"Configure Vesting Schedule"]}),l.jsx(Df,{children:"Set up the vesting schedule for your creator allocation"})]}),l.jsxs(Jt,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Cliff End Date & Time"}),l.jsx("input",{type:"datetime-local",value:g,onChange:he=>m(he.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Select the date and time when the cliff period ends. Must be at least 7 days from now."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Number of Unlocks"}),l.jsx("input",{type:"number",placeholder:"2",value:v,onChange:he=>x(parseInt(he.target.value)||2),className:"w-full px-3 py-2 border border-border rounded-md bg-background"}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[F.creatorAllocation<500&&"Minimum 2 unlocks for allocation < 500",F.creatorAllocation>=500&&F.creatorAllocation<1e3&&"Minimum 4 unlocks for allocation 500-999",F.creatorAllocation>=1e3&&F.creatorAllocation<2e3&&"Minimum 8 unlocks for allocation 1000-1999",F.creatorAllocation>=2e3&&"Minimum 8 unlocks for allocation  2000"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Days Between Unlocks"}),l.jsx("input",{type:"number",placeholder:"7",value:T,onChange:he=>_(parseInt(he.target.value)||7),className:"w-full px-3 py-2 border border-border rounded-md bg-background"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum 7 days between each unlock period."})]}),l.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-2",children:[l.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[l.jsx(Pf,{className:"h-4 w-4"}),"Preview"]}),l.jsxs("div",{className:"text-sm space-y-1",children:[l.jsxs("p",{children:[" Cliff ends on ",l.jsx("strong",{children:g?new Date(g).toLocaleString():"Not set"})]}),l.jsxs("p",{children:[" ",l.jsx("strong",{children:v})," unlock periods"]}),l.jsxs("p",{children:[" ",l.jsx("strong",{children:Math.ceil(parseInt(F.creatorAllocation)/v)})," tokens per unlock"]}),l.jsxs("p",{children:[" New unlock every ",l.jsxs("strong",{children:[T," days"]})]}),g&&l.jsxs("p",{children:[" Full allocation available in ",l.jsxs("strong",{children:[Math.ceil((new Date(g).getTime()-Date.now())/(1e3*60*60*24)+(v-1)*T)," days"]})]})]})]}),l.jsx(Ee,{onClick:G,disabled:Y,className:"w-full",children:Y?"Configuring...":"Configure Vesting"})]})]}),!F&&l.jsx(Xt,{className:"bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-800",children:l.jsxs(Jt,{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1 p-4",children:[l.jsxs("div",{className:"text-base font-medium flex items-center gap-2 text-blue-700 dark:text-blue-400 mb-1",children:[l.jsx(un,{className:"h-4 w-4"}),"About Vesting"]}),l.jsx("p",{children:"Vesting prevents creators from immediately minting and selling their entire 20% allocation, protecting holders from rug pulls."}),l.jsxs("p",{children:[l.jsx("strong",{children:"Cliff Period:"})," No tokens can be minted until the cliff period ends."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Unlocks:"})," After the cliff, tokens become available in batches at regular intervals."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Important:"})," Vesting can only be configured once and cannot be changed later."]})]})})]})},Ede=({className:t="",showStats:e=!0,...n})=>{const{isMobile:r,isTablet:i,isDesktop:s}=gr(),o=[{id:"royalty",title:"Royalty & Reveal",description:"Reveal your collection and manage royalties",component:cde,priority:1},{id:"vesting",title:"Supply, Creator Allocation & Vesting Management",description:"Configure vesting schedules for creator token allocations to prevent rug pulls",component:Iz,priority:2},{id:"minter",title:"Royalty Enforcement Management",description:"Manage royalty enforcement and exemptions for collections",component:Cde,priority:3},{id:"kol",title:"KOL Approval Management",description:"Approve Key Opinion Leaders (KOLs) for collections with specific pool limits and slot fees",component:Rz,priority:4},{id:"tokenCreator",title:"Create New Token ID & Set Token URI",description:"Add new token IDs to existing ERC1155 collections and set metadata URIs",component:wde,priority:5},{id:"revenue",title:"Creator Mint & Revenue Withdrawal",description:"Mint tokens to winners and withdraw revenue from your raffles",component:_de,priority:6}],c=r?1:2;return l.jsxs("div",{className:nt("w-full space-y-6",t),...n,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:nt("font-semibold text-foreground",r?"text-lg":"text-xl"),children:"Creator Dashboard"}),l.jsx("p",{className:nt("text-muted-foreground",r?"text-sm":"text-base"),children:"Manage your collections, royalties, and revenue"})]}),l.jsx("div",{className:nt("grid gap-4 w-full",c===1&&"grid-cols-1",c===2&&"grid-cols-1 md:grid-cols-2",r&&"gap-3"),children:o.map(d=>l.jsx(bde,{title:d.title,description:d.description,component:d.component,className:nt(r&&"w-full",!r&&"h-fit"),dialogContentClassName:d.id==="minter"?"max-w-4xl xl:max-w-4xl":void 0},d.id))}),r&&l.jsx("div",{className:"mt-6 p-3 bg-muted/50 rounded-lg border border-border/50",children:l.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Tap any card above to open it in a modal. All dashboard components are accessible via modal dialogs."})})]})},Nde=["Pending","Active","Ended","Drawing","Completed","Deleted","All Prizes Claimed","Unengaged"],Ade=t=>{try{if(!t)return"Unknown";let e;return t instanceof Date?e=t:typeof t=="number"?e=new Date(t<1e12?t*1e3:t):e=new Date(t),isNaN(e.getTime())?"Unknown":e.toLocaleString()}catch{return"Unknown"}},jde=({raffle:t,onRaffleClick:e,formatRevenueAmount:n,getCurrencySymbol:r})=>{const{winnerCount:i}=xz(t.address,t.stateNum),s=()=>{const a=(d=>{const f=vz(d,i);return f||Nde[d]||"Unknown"})(t.stateNum),c={Pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",Active:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",Ended:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",Drawing:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",Completed:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",Deleted:"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-300","Activation Failed":"bg-red-200 text-red-900 dark:bg-red-900/40 dark:text-red-300","Prizes Claimed":"bg-blue-200 text-blue-900 dark:bg-blue-900/40 dark:text-blue-300","Prize Claimed":"bg-blue-200 text-blue-900 dark:bg-blue-900/40 dark:text-blue-300",Unengaged:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",Unknown:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};return l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c[a]||c.Unknown}`,children:a})};return l.jsxs("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 shadow-xl transition-all duration-300 min-h-[160px] flex flex-col",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsx("div",{className:"flex-1 min-w-0",children:l.jsx("h3",{className:"font-semibold text-sm mb-1 truncate cursor-pointer hover:text-[#614E41] transition-colors duration-200",onClick:()=>e(t.address),children:t.name})}),s()]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs mb-2",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Slots Sold"}),l.jsxs("p",{className:"font-semibold",children:[t.ticketsSold||0,"/",t.maxTickets]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Revenue"}),l.jsx("p",{className:"font-semibold text-green-600",children:n(t.revenue||0)})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-muted-foreground",children:"Created"}),l.jsx("p",{className:"font-semibold",children:t.createdAt?new Date(t.createdAt<1e12?t.createdAt*1e3:t.createdAt).toLocaleString():"Unknown"})]})]})]})},Pde=({activities:t,createdRaffles:e,purchasedTickets:n,creatorStats:r,onDeleteRaffle:i,onViewRevenue:s,onClaimPrize:o,onClaimRefund:a})=>{const c=$a(),{chainId:d}=_n(),[f,p]=k.useState("activity"),{isMobile:g}=gr(),{formatRevenueAmount:m,getCurrencySymbol:v}=Or();k.useEffect(()=>(L3(),()=>F3()),[]);const[x,T]=k.useState({royalty:!1,minter:!1,tokenCreator:!1,revenue:!1});k.useEffect(()=>{if(g&&Object.values(x).some(Boolean))return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[x,g]),k.useEffect(()=>()=>{g&&(document.body.style.overflow="unset")},[g]);const _=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Recent Activity"}),l.jsxs(Qo,{variant:"outline",children:[t.length," activities"]})]}),t.length===0?l.jsx(Xt,{children:l.jsxs(Jt,{className:"text-center py-8",children:[l.jsx(Tm,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No activity yet"})]})}):l.jsx("div",{className:"space-y-2",children:t.slice(0,10).map((z,B)=>l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-3 shadow-xl transition-all duration-300",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("div",{className:"mt-0.5",children:z.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-sm text-foreground",children:z.title}),l.jsx("p",{className:"text-xs text-muted-foreground",children:z.description}),l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:z.timestamp})]})]})},B))})]}),j=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"My Raffles"}),l.jsxs(Qo,{variant:"outline",children:[e.length," raffles"]})]}),e.length===0?l.jsx(Xt,{children:l.jsxs(Jt,{className:"text-center py-8",children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:"You haven't created any raffles yet"}),l.jsx(Ee,{onClick:()=>c("/create-raffle"),variant:"primary",size:"md",children:"Create Your First Raffle"})]})}):l.jsx("div",{className:"grid gap-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:e.map(z=>l.jsx(jde,{raffle:z,onRaffleClick:B=>{const H=d&&Gt[d]?Gt[d].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):d||"",Y=H?`/${H}/raffle/${B}`:`/raffle/${B}`;c(Y)},formatRevenueAmount:m,getCurrencySymbol:v},z.address))})]}),w=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"My Slots"}),l.jsxs(Qo,{variant:"outline",children:[n.length," slots"]})]}),n.length===0?l.jsx(Xt,{children:l.jsxs(Jt,{className:"text-center py-8",children:[l.jsx(hx,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"You haven't purchased any slots yet"}),l.jsx(Ee,{onClick:()=>c("/"),variant:"primary",size:"md",children:"Browse Raffles"})]})}):l.jsx("div",{className:"space-y-3",children:n.map(z=>l.jsx(Xt,{className:"hover:shadow-md transition-shadow",children:l.jsxs(Jt,{className:"p-4",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx(hx,{className:"h-4 w-4 text-blue-500"})}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("h4",{className:"font-medium text-foreground text-sm",children:["Purchased ",z.ticketCount," ",z.raffleName||z.name," slot",z.ticketCount>1?"s":""]}),l.jsxs("p",{className:"text-muted-foreground text-sm mt-1",children:[z.totalSpent," ",v()]})]}),l.jsx("span",{className:"text-sm text-muted-foreground flex-shrink-0",children:Ade(z.purchaseTime)})]})})]}),l.jsx("div",{className:"flex gap-2",children:z.canClaimPrize&&l.jsxs(Ee,{size:"sm",variant:"primary",onClick:()=>o(z),className:"flex-1",children:[l.jsx(YY,{className:"h-4 w-4 mr-1"}),"Claim Prize"]})})]})},z.id))})]}),F=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:`grid gap-4 ${g?"grid-cols-1":"md:grid-cols-2 lg:grid-cols-4"}`,children:[l.jsxs(Xt,{children:[l.jsxs(ds,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(zs,{className:"text-sm font-medium",children:"Total Raffles"}),l.jsx(go,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Jt,{children:[l.jsx("div",{className:"text-2xl font-bold",children:Number(r.totalRaffles||0).toLocaleString()}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[Number(r.activeRaffles||0).toLocaleString()," currently active"]})]})]}),l.jsxs(Xt,{children:[l.jsxs(ds,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(zs,{className:"text-sm font-medium",children:"Withdrawable Revenue"}),l.jsx(Sa,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Jt,{children:[l.jsx("div",{className:"text-2xl font-bold",children:m(r.withdrawableRevenue||"0")}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Available to withdraw across all raffles"})]})]}),l.jsxs(Xt,{children:[l.jsxs(ds,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(zs,{className:"text-sm font-medium",children:"Total Slots Sold"}),l.jsx(Yu,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Jt,{children:[l.jsx("div",{className:"text-2xl font-bold",children:Number(r.totalParticipants||0).toLocaleString()}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[Number(r.uniqueParticipants||0).toLocaleString()," slots across all your raffles"]})]})]}),l.jsxs(Xt,{children:[l.jsxs(ds,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(zs,{className:"text-sm font-medium",children:"Success Rate"}),l.jsx(Pf,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Jt,{children:[l.jsxs("div",{className:"text-2xl font-bold",children:[r.successRate,"%"]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed raffles"})]})]})]}),l.jsx(Ede,{})]});return l.jsx(l.Fragment,{children:l.jsxs(gde,{value:f,onValueChange:p,className:"w-full","data-profile-tab":"true",children:[g?l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[l.jsx("button",{onClick:()=>p("activity"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${f==="activity"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"Activity"})}),l.jsx("button",{onClick:()=>p("created"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${f==="created"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"Created"})}),l.jsx("button",{onClick:()=>p("purchased"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${f==="purchased"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"My Slots"})}),l.jsx("button",{onClick:()=>p("dashboard"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${f==="dashboard"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})})]}):l.jsxs(yde,{className:"grid w-full grid-cols-4",children:[l.jsx(l0,{value:"activity",children:"Activity"}),l.jsx(l0,{value:"created",children:"My Raffles"}),l.jsx(l0,{value:"purchased",children:"My Slots"}),l.jsx(l0,{value:"dashboard",children:"Dashboard"})]}),l.jsx(c0,{value:"activity",className:g?"mt-4":"mt-6",children:l.jsx(_,{})}),l.jsx(c0,{value:"created",className:g?"mt-4":"mt-6",children:l.jsx(j,{})}),l.jsx(c0,{value:"purchased",className:g?"mt-4":"mt-6",children:l.jsx(w,{})}),l.jsx(c0,{value:"dashboard",className:g?"mt-4":"mt-6",children:l.jsx(F,{})})]})})};function BI(t){switch(t){case 0:return"pending";case 1:return"active";case 2:return"ended";case 3:return"drawing";case 4:return"completed";case 5:return"deleted";case 6:return"allPrizesClaimed";case 7:return"unengaged";default:return"unknown"}}const Mz=()=>{const{connected:t,address:e,provider:n,chainId:r}=_n(),{contracts:i,getContractInstance:s,executeTransaction:o,executeCall:a}=jn(),c=k.useMemo(()=>t,[t]),d=k.useMemo(()=>e,[e]),f=k.useMemo(()=>i,[i]),[p,g]=k.useState(!0),[m,v]=k.useState([]),[x,T]=k.useState([]),[_,j]=k.useState([]),[w,F]=k.useState([]),[z,B]=k.useState({totalTicketsPurchased:0,totalRafflesCreated:0,totalPrizesWon:0,totalClaimableRefunds:0,withdrawableRevenue:"0"}),[H,Y]=k.useState(!1),[W,q]=k.useState(null),X=k.useCallback(K=>{var G;if(K!=null&&K.reason)return K.reason;if((G=K==null?void 0:K.data)!=null&&G.message)return K.data.message;if(K!=null&&K.message){const J=K.message.match(/revert (.+)/);return J?J[1]:K.message}return"Transaction failed"},[]),V=k.useCallback(K=>{switch(K&&typeof K=="object"&&typeof K.toNumber=="function"?K.toNumber():Number(K)){case 0:return"pending";case 1:return"active";case 2:return"ended";case 3:return"drawing";case 4:return"completed";case 5:return"deleted";case 6:return"allPrizesClaimed";case 7:return"unengaged";default:return"unknown"}},[]);k.useRef(new Map);const R=k.useCallback(K=>{try{const G=localStorage.getItem(K);if(!G)return null;const J=JSON.parse(G);return!J||!J.data||!J.ts||!J.ttl||Date.now()-J.ts>J.ttl?null:J.data}catch{return null}},[]),b=k.useCallback((K,G,J)=>{try{localStorage.setItem(K,JSON.stringify({data:G,ts:Date.now(),ttl:J}))}catch{}},[]),A=900*1e3,D="v2",M=k.useCallback(async()=>{if(!f.protocolManager)return[];const K=`raffles:all:${D}:${r}`,G=R(K);if(G)return G;try{const J=await a(f.protocolManager.getAllPools,"getAllPools"),ee=J.success&&Array.isArray(J.result)?J.result:[];return Array.isArray(ee)&&ee.length>0&&b(K,ee,A),ee}catch{return[]}},[f.protocolManager,r,a,R,b]),C=k.useCallback(async()=>{const K=await M();return K&&K.length>0||!f.protocolManager?K:(await new Promise(J=>setTimeout(J,1200)),await M())},[M,f.protocolManager]),I=k.useCallback(async K=>{if(!f.protocolManager||!K)return[];const G=`raffles:byCreator:${D}:${r}:${K.toLowerCase()}`,J=R(G);if(J)return J;try{const ee=await a(f.protocolManager.getPoolsByCreator,"getPoolsByCreator",K),ae=ee.success&&Array.isArray(ee.result)?ee.result:[];return b(G,ae,A),ae}catch{return[]}},[f.protocolManager,r,a,R,b]),E=k.useCallback(async K=>{var J;const G=await I(K);if(G&&G.length>0||!f.protocolManager)return G;await new Promise(ee=>setTimeout(ee,1200));try{const ee=await a(f.protocolManager.getPoolsByCreator,"getPoolsByCreator",K),ae=ee.success&&Array.isArray(ee.result)?ee.result:[];if(Array.isArray(ae)&&ae.length>0){const se=`raffles:byCreator:${D}:${r}:${(J=K==null?void 0:K.toLowerCase)==null?void 0:J.call(K)}`;b(se,ae,A)}return ae}catch{return G||[]}},[I,f.protocolManager,a,b,r]),P=k.useCallback(async()=>{if(!c||!d||!n){console.log("Missing requirements for fetchCreatedRaffles:",{stableConnected:c,stableAddress:!!d,provider:!!n});return}try{const K=[],G=[];let J=de.from(0);const ee=await E(d);console.log("Profile: Found",ee.length,"created raffles for",d);for(const ae of ee)try{const se=s(ae,"pool");if(!se)continue;const[pe,he,ue,be,Ne,ie,De,gt,Je,Fe]=await Promise.all([a(se.name,"name"),a(se.slotFee,"slotFee"),a(se.slotLimit,"slotLimit"),a(se.startTime,"startTime"),a(se.duration,"duration"),a(se.state,"state"),a(se.winnersCount,"winnersCount"),a(se.usesCustomFee,"usesCustomFee"),a(se.totalCreatorRevenue,"totalCreatorRevenue"),f.protocolManager?a(f.protocolManager.poolCreationTimestamps,"poolCreationTimestamps",ae):Promise.resolve({success:!1})]),Dt=pe.success?pe.result:`Raffle ${ae.slice(0,8)}...`,ot=he.success?he.result:de.from(0),ct=ue.success?ue.result:de.from(0),bt=be.success?be.result:de.from(0),ne=Ne.success?Ne.result:de.from(0),ce=ie.success?ie.result:0,we=De.success?De.result:de.from(0),Se=gt.success?!!gt.result:!1,Ae=Je.success?Je.result:de.from(0),Ot=await L5(se),Ye=de.from(Ot),mt=new Date(bt.add(ne).toNumber()*1e3);let Kt=de.from(0);J=J.add?J.add(Ae):de.from(J).add(Ae),Se?Kt=Ae:Kt=de.from(0);const jt=Fe&&Fe.success&&Fe.result?Fe.result.toNumber?Fe.result.toNumber():Number(Fe.result):bt.toNumber?bt.toNumber():Math.floor(Date.now()/1e3);K.push({address:ae,chainId:r,name:Dt,slotFee:Fn(ot),maxTickets:ct.toString(),ticketsSold:Ye.toString(),endTime:mt,createdAt:jt*1e3,state:V(ce),stateNum:ce,revenue:Fn(Kt),usesCustomFee:Se}),G.push({id:`getter-created-${ae}`,type:"raffle_created",raffleAddress:ae,raffleName:Dt,timestamp:jt*1e3})}catch(se){console.error(`Error processing created raffle ${ae}:`,se)}T(K),B(ae=>({...ae,withdrawableRevenue:Fn(J)})),G.length>0&&v(ae=>{const se=new Set(ae.map(he=>he.id)),pe=[...ae];for(const he of G)se.has(he.id)||pe.push(he);return pe.sort((he,ue)=>(ue.timestamp||0)-(he.timestamp||0)),pe}),B(ae=>({...ae,totalRafflesCreated:K.length}))}catch(K){const G=(K.message||K.toString()||"").toLowerCase(),J=K.data?(K.data.message||K.data.toString()||"").toLowerCase():"",ee=`${G} ${J}`;if(ee.includes("block range")||ee.includes("too large")||ee.includes("exceed")||ee.includes("limit")||ee.includes("range too large")||ee.includes("maximum")||ee.includes("query returned more than")||ee.includes("block range limit")||ee.includes("too many blocks")||ee.includes("range exceeded")||G.includes("10000")||G.includes("5000")||G.includes("50000")){console.warn("Mobile: Block range error in fetchCreatedRaffles (enhanced detection), suppressing toast:",G);return}P0(K,{context:{operation:"fetchCreatedRaffles",isReadOnly:!0},fallbackMessage:"Failed to load created raffles"})}},[c,d,n,f.poolDeployer,a,s,V]),N=k.useCallback(async()=>{if(!c||!d||!n){console.log("Missing requirements for fetchPurchasedTickets:",{stableConnected:c,stableAddress:!!d,provider:!!n});return}try{const K=[],G=[],J=[];if(f.protocolManager){const ee=await C();console.log("Profile: Checking",ee.length,"pools for purchased slots via getSlotsPurchased");for(const ae of ee)try{const se=s(ae,"pool");if(!se)continue;const[pe,he,ue,be,Ne,ie]=await Promise.all([a(se.getSlotsPurchased,"getSlotsPurchased",d),a(se.name,"name"),a(se.slotFee,"slotFee"),a(se.state,"state"),a(se.startTime,"startTime"),a(se.duration,"duration")]),De=pe.success?pe.result:de.from(0),gt=De.toNumber?De.toNumber():Number(De);if(gt<=0)continue;const Je=he.success?he.result:`Pool ${ae.slice(0,8)}...`,Fe=ue.success?ue.result:de.from(0),Dt=Fe.mul?Fe.mul(De):de.from(0),ot=be.success?be.result:0,ct=Ne.success?Ne.result:de.from(0),bt=ie.success?ie.result:de.from(0),ne=new Date(ct.add(bt).toNumber()*1e3),ce=ct.toNumber?ct.toNumber():Math.floor(Date.now()/1e3),we={id:ae,address:ae,poolName:Je,name:Je,slotCount:gt,slotFee:Fn(Fe),totalSpent:Fn(Dt),state:BI(ot),endTime:ne,purchaseTime:ce,canClaimPrize:!1,canClaimRefund:!1,slots:Array.from({length:gt},(Se,Ae)=>Ae.toString())};G.push(we),J.push({id:`getter-slot-${ae}-${ce}`,type:"ticket_purchase",poolAddress:ae,poolName:Je,raffleName:Je,quantity:gt,ticketCount:gt,amount:Fn(Dt),timestamp:ce*1e3,raffleAddress:ae})}catch(se){console.error(`Error processing getSlotsPurchased for pool ${ae}:`,se)}}else console.log("protocolManager contract not available");console.log("Setting purchased slots:",G.length,"pools with slots using getters"),F(G),j(G),J.length>0&&v(ee=>{const ae=new Set(ee.map(pe=>pe.id)),se=[...ee];for(const pe of J)ae.has(pe.id)||se.push(pe);return se.sort((pe,he)=>(he.timestamp||0)-(pe.timestamp||0)),se})}catch(K){P0(K,{context:{operation:"fetchPurchasedSlots",isReadOnly:!0},fallbackMessage:"Failed to load purchased slots"})}},[c,d,n,f.protocolManager,a,s,BI,M]),O=k.useCallback(async()=>{if(!(!c||!d||!n||!f.protocolManager))try{const K=await C();let G=0,J=0,ee=de.from(0);for(const ae of K)try{const se=s(ae,"pool");if(!se)continue;const[pe,he,ue]=await Promise.all([a(se.getSlotsPurchased,"getSlotsPurchased",d),a(se.winsPerAddress,"winsPerAddress",d),a(se.getRefundableAmount,"getRefundableAmount",d)]),be=pe.success?pe.result:de.from(0),Ne=he.success?he.result:de.from(0),ie=ue.success?ue.result:de.from(0);G+=be.toNumber?be.toNumber():Number(be),J+=Ne.toNumber?Ne.toNumber():Number(Ne),ee=ee.add?ee.add(ie):de.from(ee).add(ie)}catch(se){console.warn("Skipping pool for totals due to error:",ae,(se==null?void 0:se.message)||se)}B(ae=>({...ae,totalSlotsPurchased:G,totalPrizesWon:J,totalClaimableRefunds:ee}))}catch(K){P0(K,{context:{operation:"fetchDirectTotals",isReadOnly:!0},fallbackMessage:"Failed to compute profile totals"})}},[c,d,n,f.protocolManager,M,s,a]);k.useEffect(()=>{c&&d&&f.protocolManager?(v([]),T([]),j([]),B(G=>({...G,totalTicketsPurchased:0,totalRafflesCreated:0,totalPrizesWon:0,totalClaimableRefunds:0,withdrawableRevenue:"0"})),(async()=>{g(!0);try{await Promise.all([P(),N(),O()])}catch(G){console.error("Error loading profile data:",G)}finally{g(!1)}})()):(!c||!d)&&(v([]),T([]),j([]),g(!1),Y(!1),q(null),B({totalTicketsPurchased:0,totalRafflesCreated:0,totalPrizesWon:0,totalClaimableRefunds:0,withdrawableRevenue:"0"}))},[c,d,f.protocolManager,P,N,O]);const Z=k.useCallback(async K=>{if(!K||!c){re.error("Please connect your wallet");return}try{const G=s(K,"pool");if(!G){re.error("Invalid raffle contract");return}await o(G,"withdrawRevenue",[]),re.success("Revenue withdrawn successfully!"),P(),Y(!1),q(null)}catch(G){console.error("Error withdrawing revenue:",G),re.error(X(G))}},[c,s,o,P,X]),$=k.useCallback(async K=>{if(!K||!c){re.error("Please connect your wallet");return}try{const G=s(K,"pool");if(!G){re.error("Invalid raffle contract");return}await o(G,"claimRefund",[]),re.success("Refund claimed successfully!"),N(),O()}catch(G){console.error("Error claiming refund:",G),re.error(X(G))}},[c,s,o,N,O,X]);return{userActivity:m,createdRaffles:x,purchasedTickets:_,purchasedSlots:w,activityStats:z,loading:p,showRevenueModal:H,setShowRevenueModal:Y,selectedRaffle:W,setSelectedRaffle:q,fetchCreatedRaffles:P,fetchPurchasedTickets:N,withdrawRevenue:Z,claimRefund:$,extractRevertReason:X,mapRaffleState:V,creatorStats:{totalRaffles:x.length,activeRaffles:x.filter(K=>K.state==="active").length,withdrawableRevenue:z.withdrawableRevenue||"0.0000",totalParticipants:x.reduce((K,G)=>K+parseInt(G.ticketsSold||0),0),uniqueParticipants:x.reduce((K,G)=>K+parseInt(G.ticketsSold||0),0),successRate:x.length>0?Math.round(x.filter(K=>K.state==="completed"||K.state==="allPrizesClaimed").length/x.length*100):0}}},Rde=()=>{const{connected:t,address:e,provider:n}=_n(),{getContractInstance:r,executeTransaction:i}=jn(),s=$a(),[o,a]=k.useState("activity"),[c,d]=k.useState(null),{getCurrencySymbol:f,formatRevenueAmount:p}=Or();k.useRef(0);const{userActivity:g,createdRaffles:m,purchasedTickets:v,activityStats:x,loading:T,claimRefund:_}=Mz(),j=(M,C={})=>{const{stateNum:I,winnerCount:E}=C,P=["Pending","Active","Ended","Drawing","Completed","Deleted","AllPrizesClaimed","Unengaged"];let N="Unknown";if(Number.isFinite(I))N=I===6&&typeof E=="number"?E===1?"Prize Claimed":"Prizes Claimed":P[I]||"Unknown";else if(typeof M=="string"){const Z=M.toLowerCase().replace(/[^a-z]/g,"");N={pending:"Pending",active:"Active",ended:"Ended",drawing:"Drawing",completed:"Completed",deleted:"Deleted",allprizesclaimed:"AllPrizesClaimed",all_prizes_claimed:"AllPrizesClaimed",unengaged:"Unengaged",unknown:"Unknown"}[Z]||M.charAt(0).toUpperCase()+M.slice(1)}const O={Pending:"bg-yellow-100 text-yellow-800",Active:"bg-green-100 text-green-800",Ended:"bg-red-100 text-red-800",Drawing:"bg-purple-100 text-purple-800",Completed:"bg-blue-100 text-blue-800",Deleted:"bg-gray-200 text-gray-800",AllPrizesClaimed:"bg-blue-200 text-blue-900","Prize Claimed":"bg-blue-200 text-blue-900",Unengaged:"bg-gray-100 text-gray-800",Unknown:"bg-gray-100 text-gray-800"};return l.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs font-medium ${O[N]||O.Unknown}`,children:N})},[w,F]=k.useState({royalty:{loading:!1,collectionData:{address:"",type:null,royaltyPercentage:"",royaltyRecipient:""},collectionInfo:null,loadingInfo:!1,isRevealed:null,revealing:!1},minter:{loading:!1,collectionAddress:"",minterAddress:"",isApproved:!1,isLocked:!1,currentMinter:"",collectionName:"",collectionSymbol:"",collectionType:null,fetchedCollection:"",error:"",success:""},kol:{loading:!1,collectionAddress:"",kolAddress:"",poolLimit:"",enforcedSlotFee:"",enforcedWinnerCount:"",error:"",success:"",collectionName:"",collectionSymbol:"",collectionType:null,kolDetails:null,kolDetailsLoading:!1},tokenCreator:{loading:!1,collectionData:{address:"",type:null},collectionInfo:null,loadingInfo:!1,tokenCreationData:{tokenId:"",maxSupply:""},uriData:{tokenId:"",tokenURI:""}},revenue:{loading:!1,raffleData:{address:"",isCreator:!1,revenueAmount:"0",raffleState:"unknown"},createdRaffles:[],mintData:{collectionAddress:"",collectionType:"erc721",recipient:"",quantity:"",tokenId:""},mintLoading:!1,collectionInfo:null,loadingCollectionInfo:!1}});if(!t)return l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Connect Your Wallet"}),l.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to view your profile and activity."})]})});const z=()=>{const M=P=>{switch(P){case"ticket_purchase":return l.jsx(O0,{className:"h-4 w-4 text-blue-500"});case"raffle_created":return l.jsx(go,{className:"h-4 w-4 text-green-500"});case"raffle_deleted":return l.jsx(Tm,{className:"h-4 w-4 text-red-500"});case"prize_won":return l.jsx(kf,{className:"h-4 w-4 text-yellow-500"});case"prize_claimed":return l.jsx(kf,{className:"h-4 w-4 text-yellow-500"});case"refund_claimed":return l.jsx(Yf,{className:"h-4 w-4 text-orange-500"});case"revenue_withdrawn":return l.jsx(Sa,{className:"h-4 w-4 text-green-500"});case"admin_withdrawn":return l.jsx(Sa,{className:"h-4 w-4 text-purple-500"});default:return l.jsx(Tm,{className:"h-4 w-4 text-gray-500"})}},C=P=>{var Z;const N=P.raffleName||P.name||`Raffle ${(Z=P.raffleAddress)==null?void 0:Z.slice(0,8)}...`,O=P.quantity||P.ticketCount||1;switch(P.type){case"ticket_purchase":return`Purchased ${O} ${N} slot${O>1?"s":""}`;case"raffle_created":return`Created raffle "${N}"`;case"raffle_deleted":return`Deleted raffle "${N}"`;case"prize_won":return`Won prize in "${N}"`;case"prize_claimed":return`Claimed prize from "${N}"`;case"refund_claimed":return`Claimed refund from "${N}"`;case"revenue_withdrawn":return`Withdrew revenue from "${N}"`;case"admin_withdrawn":return`Admin withdrawal: ${P.amount} ${f()}`;default:return P.description||"Activity"}},I=P=>{var O;const N=P.raffleName||P.name||`Raffle ${(O=P.raffleAddress)==null?void 0:O.slice(0,8)}...`;switch(P.type){case"ticket_purchase":return P.amount?`${P.amount} ${f()}`:"";case"prize_won":return`${N}  Congratulations!`;case"prize_claimed":const Z=P.prizeType||"Prize",$=P.amount?` (${P.amount} ${P.prizeType==="Native Currency"?f():P.prizeType==="ERC20 Token"?"tokens":""})`:P.tokenId?` (Token ID: ${P.tokenId})`:"";return`${Z}${$}`;case"refund_claimed":return P.amount?`${N}  ${P.amount} ${f()}`:N;case"revenue_withdrawn":return P.amount?`${P.amount} ${f()}`:"";default:return P.description||""}},E=P=>{try{if(!P&&P!==0)return"Unknown";let N;if(P instanceof Date)N=P.getTime();else if(typeof P=="number")N=P<1e12?P*1e3:P;else{const J=new Date(P);N=isNaN(J.getTime())?null:J.getTime()}if(N==null)return"Unknown";const O=Date.now();let Z=Math.floor((O-N)/1e3);if(Z<0&&(Z=0),Z<60)return Z<=1?"Just now":`${Z}s ago`;const $=Math.floor(Z/60);if($<60)return`${$}m ago`;const K=Math.floor($/60);return K<24?`${K}h ago`:`${Math.floor(K/24)}d ago`}catch{return"Unknown"}};return!g||g.length===0?l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Sm,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Activity Yet"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Activity will appear here once you participate in raffles."})]})}):l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Recent Activity"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[g.length," activities"]})]}),g.slice(0,10).map((P,N)=>l.jsx("div",{className:"bg-card border border-border rounded-lg p-4 hover:bg-card/90 transition-colors",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:M(P.type)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-medium text-foreground text-sm",children:C(P)}),l.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:I(P)})]}),l.jsx("span",{className:"text-sm text-muted-foreground flex-shrink-0",children:E(P.timestamp)})]}),l.jsx("div",{className:"flex gap-2 mt-3",children:P.type==="ticket_purchase"&&P.state==="ended"&&l.jsx(Ee,{onClick:()=>_(P.raffleAddress),variant:"primary",size:"sm",children:"Claim Refund"})})]})]})},P.id||N))]})},B=()=>c?l.jsx("div",{className:"fixed inset-0 bg-background z-50 overflow-y-auto",children:H(c)}):l.jsxs("div",{className:"p-4 space-y-4 mobile-component-container",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h3",{className:"text-lg font-semibold",children:"Creator Dashboard"})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[l.jsx("div",{className:"text-2xl font-bold",children:m.length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Raffles"})]}),l.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[l.jsx("div",{className:"text-2xl font-bold",children:m.filter(M=>M.state==="active").length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Raffles"})]}),l.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[l.jsx("div",{className:"text-2xl font-bold",children:p(x.withdrawableRevenue||"0")}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Revenue"})]}),l.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[l.jsxs("div",{className:"text-2xl font-bold",children:[m.length>0?Math.round(m.filter(M=>M.state==="completed").length/m.length*100):0,"%"]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Success Rate"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Creator Tools"}),l.jsx("button",{onClick:()=>d("royalty"),"data-dashboard-card":!0,className:"w-full bg-card border border-border rounded-lg p-4 text-left hover:bg-card/90 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(cp,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Royalty & Reveal"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Manage royalties and reveal collections"})]})]})}),l.jsx("button",{onClick:()=>d("vesting"),"data-dashboard-card":!0,className:"w-full bg-card border border-border rounded-lg p-4 text-left hover:bg-card/90 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(w2,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Supply, Creator Allocation & Vesting Management"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Configure vesting schedules for creator token allocations"})]})]})}),l.jsx("button",{onClick:()=>d("minter"),"data-dashboard-card":!0,className:"w-full bg-card border border-border rounded-lg p-4 text-left hover:bg-card/90 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Zk,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Royalty Enforcement"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Manage royalty enforcement and exemptions for collections"})]})]})}),l.jsx("button",{onClick:()=>d("kol"),"data-dashboard-card":!0,className:"w-full bg-card border border-border rounded-lg p-4 text-left hover:bg-card/90 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Yu,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"KOL Approval Management"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Approve Key Opinion Leaders (KOLs) for collections with specific pool limits and slot fees"})]})]})}),l.jsx("button",{onClick:()=>d("tokenCreator"),"data-dashboard-card":!0,className:"w-full bg-card border border-border rounded-lg p-4 text-left hover:bg-card/90 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(go,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Create New Token ID & Set Token URI"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Add new token IDs to ERC1155 collections and set metadata URIs"})]})]})}),l.jsx("button",{onClick:()=>d("revenue"),"data-dashboard-card":!0,className:"w-full bg-card border border-border rounded-lg p-4 text-left hover:bg-card/90 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Sa,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Creator Mint & Revenue Withdrawal"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Withdraw revenue from completed raffles"})]})]})})]})]}),H=M=>{const C=()=>d(null);switch(M){case"royalty":return Y(C);case"vesting":return W(C);case"minter":return q(C);case"kol":return X(C);case"tokenCreator":return V(C);case"revenue":return R(C);default:return B()}},Y=M=>{var Z;const C=w.royalty,I=$=>{F(K=>({...K,royalty:{...K.royalty,...$}}))},E=($,K)=>{const G={...C.collectionData,[$]:K};if(I({collectionData:G}),$==="address"){const J=(K||"").trim();console.log("royalty.handleChange.address",{addr:J,connected:t,hasProvider:!!n,loadingInfo:C.loadingInfo}),In(J)&&!C.loadingInfo&&(console.log("royalty.handleChange.scheduleLoad",{delayMs:400}),setTimeout(()=>{console.log("royalty.handleChange.invokeLoad",{invokedAddr:J,loadingInfo:C.loadingInfo}),C.loadingInfo||P(J)},400))}},P=async $=>{const K=(($??C.collectionData.address)||"").trim();if(console.log("royalty.load.start",{addr:K,connected:t,hasProvider:!!n}),!In(K)){console.warn("royalty.load.invalidAddress",{addr:K}),re.error("Please enter a valid collection address");return}if(!n){console.warn("royalty.load.noProvider"),re.error("Provider not available. Please connect your wallet");return}I({loadingInfo:!0});try{let G=null,J=null;try{const Ne=r(K,"erc721Prize");if(Ne)try{const ie=await Ne.supportsInterface("0x80ac58cd");console.log("royalty.detect.erc721.supports",{supportsERC721:ie}),ie&&(G=Ne,J="erc721")}catch{try{await Ne.balanceOf(K),console.log("royalty.detect.erc721.balanceOf.success"),G=Ne,J="erc721"}catch(De){console.log("royalty.detect.erc721.balanceOf.fail",{error:De==null?void 0:De.message})}}}catch(Ne){console.log("royalty.detect.erc721.error",{error:Ne==null?void 0:Ne.message})}if(!G)try{const Ne=r(K,"erc1155Prize");if(Ne)try{const ie=await Ne.supportsInterface("0xd9b67a26");console.log("royalty.detect.erc1155.supports",{supportsERC1155:ie}),ie&&(G=Ne,J="erc1155")}catch{try{await Ne.uri(0),console.log("royalty.detect.erc1155.uri.success"),G=Ne,J="erc1155"}catch(De){console.log("royalty.detect.erc1155.uri.fail",{error:De==null?void 0:De.message})}}}catch(Ne){console.log("royalty.detect.erc1155.error",{error:Ne==null?void 0:Ne.message})}if(!G||!J)throw new Error("Invalid collection address or unsupported contract type");console.log("royalty.detect.done",{detectedType:J}),I({collectionData:{...C.collectionData,type:J}});let ee="Unknown Collection",ae="Unknown",se="Unknown";try{typeof G.name=="function"&&(ee=await G.name())}catch{}try{typeof G.symbol=="function"&&(ae=await G.symbol())}catch{}try{typeof G.owner=="function"&&(se=await G.owner())}catch{}const pe=se!=="Unknown"&&se.toLowerCase()===e.toLowerCase(),he=await G.royaltyInfo(1,1e4),ue=await G.royaltyPercentage(),be=await G.royaltyRecipient();I({collectionInfo:{address:K,name:ee,symbol:ae,owner:se,type:J,isOwner:pe,currentRoyaltyPercentage:ue.toString(),currentRoyaltyRecipient:be,royaltyAmount:he[1].toString()},collectionData:{...C.collectionData,type:J,royaltyPercentage:(ue.toNumber()/100).toString(),royaltyRecipient:be}}),console.log("royalty.load.info",{name:ee,symbol:ae,owner:se,isOwner:pe,royaltyPercentage:ue.toString(),royaltyRecipient:be});try{const Ne=await G.isRevealed();I({isRevealed:!!Ne}),console.log("royalty.load.revealed",{revealed:!!Ne})}catch(Ne){console.log("royalty.load.revealed.fail",{error:Ne==null?void 0:Ne.message}),I({isRevealed:null})}re.success("Collection loaded successfully!"),console.log("royalty.load.success")}catch(G){console.error("royalty.load.error",G),sn(G),I({collectionInfo:null,isRevealed:null})}finally{I({loadingInfo:!1}),console.log("royalty.load.end")}},N=async()=>{if(!t||!C.collectionInfo){re.error("Please connect your wallet and load collection info first");return}if(!C.collectionInfo.isOwner){re.error("You are not the owner of this collection");return}const $=parseFloat(C.collectionData.royaltyPercentage);if(isNaN($)||$<0){re.error("Please enter a valid royalty percentage (minimum 0%)");return}if(!C.collectionData.royaltyRecipient){re.error("Please enter a royalty recipient address");return}I({loading:!0});try{const K=C.collectionData.type==="erc721"?"erc721Prize":"erc1155Prize",G=r(C.collectionData.address,K);if(!G)throw new Error("Failed to create contract instance");const J=Math.floor($*100),ee=await i(G.setRoyalty,J,C.collectionData.royaltyRecipient);if(ee.success)re.success(`Royalty updated successfully! Transaction: ${ee.hash}`),await P();else throw new Error(ee.error)}catch(K){console.error("Error updating royalty:",K),sn(K)}finally{I({loading:!1})}},O=async()=>{if(!t||!C.collectionInfo){re.error("Please connect your wallet and load collection info first");return}I({revealing:!0});try{const $=C.collectionData.type==="erc721"?"erc721Prize":"erc1155Prize",K=r(C.collectionData.address,$);if(!K)throw new Error("Failed to create contract instance");const G=await i(K.reveal);if(G.success)re.success("Collection revealed successfully!"),await P();else throw new Error(G.error)}catch($){sn($)}finally{I({revealing:!1})}};return l.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(Ee,{onClick:M,variant:"tertiary",size:"md",children:" Back"}),l.jsx("h3",{className:"text-lg font-semibold",children:"Royalty & Reveal"})]}),l.jsxs(Xt,{children:[l.jsxs(ds,{children:[l.jsxs(zs,{className:"flex items-center gap-2",children:[l.jsx(cp,{className:"h-5 w-5"}),"Royalty & Reveal Management"]}),l.jsx(Df,{children:"Manage royalties and reveal collections for your NFT contracts"})]}),l.jsxs(Jt,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-card",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Na,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Collection Lookup"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Address"}),l.jsx(Xr,{value:C.collectionData.address,onChange:$=>E("address",$.target.value),placeholder:"0x...",className:"flex-1"})]})]}),C.collectionInfo&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-card",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(cp,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Collection Information"})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"break-words",children:[l.jsx("span",{className:"font-medium",children:"Name:"})," ",C.collectionInfo.name]}),C.collectionInfo.symbol&&l.jsxs("div",{className:"break-words",children:[l.jsx("span",{className:"font-medium",children:"Symbol:"})," ",C.collectionInfo.symbol]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Type:"})," ",(Z=C.collectionInfo.type)==null?void 0:Z.toUpperCase()]}),l.jsxs("div",{className:"break-all",children:[l.jsx("span",{className:"font-medium",children:"Owner:"}),l.jsx("span",{className:"ml-1 font-mono text-xs",children:C.collectionInfo.owner})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Current Royalty:"})," ",(parseFloat(C.collectionInfo.currentRoyaltyPercentage)/100).toFixed(2),"%"]}),l.jsxs("div",{className:"break-all",children:[l.jsx("span",{className:"font-medium",children:"Royalty Recipient:"}),l.jsx("span",{className:"ml-1 font-mono text-xs",children:C.collectionInfo.currentRoyaltyRecipient})]}),C.isRevealed!==null&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Revealed:"})," ",C.isRevealed?"Yes":"No"]})]}),C.collectionInfo.isOwner&&C.isRevealed===!1&&l.jsx(Ee,{onClick:O,disabled:C.revealing||!t,variant:"primary",size:"md",className:"w-full",children:C.revealing?"Revealing...":"Reveal Collection"})]}),C.collectionInfo&&C.collectionInfo.isOwner&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-card",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(cp,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Update Royalty Settings"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Royalty Percentage (%)"}),l.jsx(ls,{min:"0",step:"0.01",value:C.collectionData.royaltyPercentage,onChange:$=>E("royaltyPercentage",$.target.value),placeholder:"2.5"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Royalty Recipient"}),l.jsx(Xr,{value:C.collectionData.royaltyRecipient,onChange:$=>E("royaltyRecipient",$.target.value),placeholder:"0x..."})]})]}),l.jsxs(Ee,{onClick:N,disabled:C.loading||!t||!C.collectionInfo||!C.collectionInfo.isOwner,variant:"primary",size:"md",className:"w-full h-10 flex items-center justify-center gap-2 shadow-sm text-sm",children:[l.jsx(cp,{className:"h-4 w-4"}),C.loading?"Updating...":"Update Royalty Settings"]})]})]})]})]})},W=M=>l.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(Ee,{onClick:M,variant:"tertiary",size:"md",children:" Back"}),l.jsx("h2",{className:"text-xl font-semibold",children:"Supply, Creator Allocation & Vesting Management"})]}),l.jsx(Iz,{})]}),q=M=>l.jsx("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(Ee,{onClick:M,variant:"tertiary",size:"md",children:" Back"}),l.jsx("h2",{className:"text-xl font-semibold",children:"Royalty Enforcement Management"})]})}),X=M=>l.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(Ee,{onClick:M,variant:"tertiary",size:"md",children:" Back"}),l.jsx("h3",{className:"text-lg font-semibold",children:"KOL Approval Management"})]}),l.jsx("div",{className:"w-full",children:l.jsx(Rz,{})})]}),V=M=>{const C=w.tokenCreator,I=Z=>{F($=>({...$,tokenCreator:{...$.tokenCreator,...Z}}))},E=async Z=>{try{const $=r(Z,"erc1155Prize");if($)try{if(await $.supportsInterface("0xd9b67a26"))return{type:"erc1155",contract:$}}catch{try{return await $.balanceOf(Z,0),{type:"erc1155",contract:$}}catch{}}const K=r(Z,"erc721Prize");if(K)try{if(await K.supportsInterface("0x80ac58cd"))return{type:"erc721",contract:K}}catch{try{return await K.balanceOf(Z),{type:"erc721",contract:K}}catch{}}throw new Error("Contract is neither ERC721 nor ERC1155 compatible")}catch($){throw new Error(`Failed to detect contract type: ${$.message}`)}},P=async()=>{if(!C.collectionData.address||!t){re.error("Please enter a collection address");return}I({loadingInfo:!0});try{const{type:Z,contract:$}=await E(C.collectionData.address);if(Z!=="erc1155"){re.error(" This component is only for ERC1155 collections. The provided address appears to be an ERC721 collection. Please use the appropriate component for ERC721 collections."),I({collectionInfo:{address:C.collectionData.address,isOwner:!1,owner:"N/A",type:"erc721",isBlocked:!0},loadingInfo:!1});return}const K=await $.owner(),G=K.toLowerCase()===e.toLowerCase();I({collectionInfo:{address:C.collectionData.address,isOwner:G,owner:K,type:"erc1155"},collectionData:{...C.collectionData,type:"erc1155"}}),G?re.success("ERC1155 collection loaded successfully"):re.error("You are not the owner of this collection")}catch(Z){console.error("Error loading collection info:",Z),re.error("Failed to load collection info. Please verify the address is a valid ERC1155 collection."),I({collectionInfo:null})}finally{I({loadingInfo:!1})}},N=async()=>{if(!t||!C.collectionInfo){re.error("Please connect your wallet and load collection info first");return}const Z=parseInt(C.tokenCreationData.tokenId),$=parseInt(C.tokenCreationData.maxSupply);if(isNaN(Z)||Z<0){re.error("Please enter a valid token ID");return}if(isNaN($)||$<=0){re.error("Please enter a valid max supply");return}I({loading:!0});try{const K=r(C.collectionData.address,"erc1155Prize"),G=await i(K.createNewToken,Z,$);if(G.success)re.success(`Token ID ${Z} created successfully with max supply of ${$}!`),I({tokenCreationData:{tokenId:"",maxSupply:""}});else throw new Error(G.error)}catch(K){console.error("Error creating new token:",K),re.error(`Failed to create new token: ${K.message}`)}finally{I({loading:!1})}},O=async()=>{if(!t||!C.collectionInfo){re.error("Please connect your wallet and load collection info first");return}const Z=parseInt(C.uriData.tokenId);if(isNaN(Z)||Z<0){re.error("Please enter a valid token ID");return}if(!C.uriData.tokenURI){re.error("Please enter a token URI");return}I({loading:!0});try{const $=r(C.collectionData.address,"erc1155Prize"),K=await i($.setURI,Z,C.uriData.tokenURI);if(K.success)re.success(`Token URI set successfully for token ID ${Z}!`),I({uriData:{tokenId:"",tokenURI:""}});else throw new Error(K.error)}catch($){console.error("Error setting token URI:",$),re.error(`Failed to set token URI: ${$.message}`)}finally{I({loading:!1})}};return l.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(Ee,{onClick:M,variant:"tertiary",size:"md",children:" Back"}),l.jsx("h3",{className:"text-lg font-semibold",children:"Create New Token ID & Set Token URI"})]}),l.jsxs(Xt,{children:[l.jsxs(ds,{children:[l.jsxs(zs,{className:"flex items-center gap-2",children:[l.jsx(go,{className:"h-5 w-5"}),"Token Creator"]}),l.jsx(Df,{children:"Add new token IDs to ERC1155 collections and set metadata URIs"})]}),l.jsxs(Jt,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-card",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Na,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Collection Lookup"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"ERC1155 Collection Address"}),l.jsx(Xr,{value:C.collectionData.address,onChange:Z=>{I({collectionData:{...C.collectionData,address:Z.target.value}});const $=Z.target.value;$&&In($)&&t&&!C.loadingInfo&&setTimeout(()=>{C.loadingInfo||P()},400)},placeholder:"0x...",className:"flex-1"})]})]}),C.collectionInfo&&l.jsxs("div",{className:`space-y-4 p-4 border border-border rounded-lg ${C.collectionInfo.isBlocked?"bg-destructive/10 border-destructive/20":"bg-card"}`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(un,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Collection Information"})]}),l.jsxs("div",{className:"space-y-1 text-sm",children:[l.jsxs("p",{className:"break-all",children:[l.jsx("span",{className:"font-medium",children:"Address:"})," ",C.collectionInfo.address]}),l.jsxs("p",{className:"break-all",children:[l.jsx("span",{className:"font-medium",children:"Owner:"})," ",C.collectionInfo.owner]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"You are owner:"})," ",C.collectionInfo.isOwner?" Yes":" No"]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Type:"})," ",C.collectionInfo.type==="erc721"?" ERC721 Collection (Incompatible)":" ERC1155 Collection"]})]}),C.collectionInfo.isBlocked&&l.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(un,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"This component only works with ERC1155 collections. The provided address is an ERC721 collection. Please use the appropriate component for ERC721 collections."})]}),!C.collectionInfo.isBlocked&&!C.collectionInfo.isOwner&&l.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(un,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot create new tokens."})]})]}),C.collectionInfo&&C.collectionInfo.isOwner&&!C.collectionInfo.isBlocked&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-card",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(go,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Create New Token ID"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token ID"}),l.jsx(ls,{min:"0",value:C.tokenCreationData.tokenId,onChange:Z=>I({tokenCreationData:{...C.tokenCreationData,tokenId:Z.target.value}}),placeholder:"1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Supply"}),l.jsx(ls,{min:"1",value:C.tokenCreationData.maxSupply,onChange:Z=>I({tokenCreationData:{...C.tokenCreationData,maxSupply:Z.target.value}}),placeholder:"100"})]})]}),l.jsxs(Ee,{onClick:N,disabled:C.loading||!t||!C.collectionInfo.isOwner||C.collectionInfo.isBlocked||!C.tokenCreationData.tokenId||!C.tokenCreationData.maxSupply,variant:"primary",size:"md",className:"w-full h-10 flex items-center justify-center gap-2 shadow-sm text-sm",children:[l.jsx(go,{className:"h-4 w-4"}),C.loading?"Creating...":"Create New Token ID"]})]}),C.collectionInfo&&C.collectionInfo.isOwner&&!C.collectionInfo.isBlocked&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-card",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Na,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Set Token URI"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token ID"}),l.jsx(ls,{min:"0",value:C.uriData.tokenId,onChange:Z=>I({uriData:{...C.uriData,tokenId:Z.target.value}}),placeholder:"1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token URI"}),l.jsx(Xr,{value:C.uriData.tokenURI,onChange:Z=>I({uriData:{...C.uriData,tokenURI:Z.target.value}}),placeholder:"https://..."})]})]}),l.jsxs(Ee,{onClick:O,disabled:C.loading||!t||!C.collectionInfo.isOwner||C.collectionInfo.isBlocked||!C.uriData.tokenId||!C.uriData.tokenURI,variant:"primary",size:"md",className:"w-full h-10 flex items-center justify-center gap-2 shadow-sm text-sm",children:[l.jsx(Na,{className:"h-4 w-4"}),C.loading?"Setting...":"Set Token URI"]})]})]})]})]})},R=M=>{const C=w.revenue,I=G=>{F(J=>({...J,revenue:{...J.revenue,...G}}))},E=async G=>{if(!G||!t){re.error("Please enter a raffle address and connect your wallet");return}I({loading:!0});try{const J=r(G,"pool");if(!J)throw new Error("Failed to create raffle contract instance");const[ee,ae,se]=await Promise.all([J.creator(),J.totalCreatorRevenue(),J.state()]),pe=ee.toLowerCase()===e.toLowerCase(),he=["Pending","Active","Ended","Drawing","Completed","Deleted","AllPrizesClaimed","Unengaged"],ue=se&&typeof se=="object"&&typeof se.toNumber=="function"?se.toNumber():Number(se),be=Number.isFinite(ue)&&ue>=0&&ue<he.length?he[ue]:"Unknown";I({raffleData:{address:G,revenueAmount:Fn(ae),isCreator:pe,raffleState:be,totalRevenue:ae}})}catch(J){console.error("Error loading raffle info:",J),sn(J),I({raffleData:{address:G,revenueAmount:"0",isCreator:!1,raffleState:"error"}})}finally{I({loading:!1})}},P=async()=>{if(!t||!C.raffleData.address){re.error("Please connect your wallet and load raffle info first");return}if(!C.raffleData.isCreator){re.error("You are not the creator of this raffle");return}if(parseFloat(C.raffleData.revenueAmount)<=0){re.info("No revenue available for withdrawal");return}if(!["Completed","AllPrizesClaimed","Ended"].includes(C.raffleData.raffleState)){re.info(`Revenue can only be withdrawn from completed raffles. Current state: ${C.raffleData.raffleState}`);return}I({loading:!0});try{const J=r(C.raffleData.address,"pool");if(!J)throw new Error("Failed to create raffle contract instance");const ee=await i(J.withdrawCreatorRevenue);if(ee.success)re.success(`Revenue withdrawn successfully! Transaction: ${ee.hash}`),await E(C.raffleData.address);else throw new Error(ee.error)}catch(J){console.error("Error withdrawing revenue:",J),sn(J)}finally{I({loading:!1})}},N=async G=>{if(!(!C.collectionInfo||C.collectionInfo.type!=="erc1155"||!C.collectionInfo.isOwner))try{const J=r(C.collectionInfo.address,"erc1155Prize");if(!J)throw new Error("Failed to create contract instance");let ee=!1,ae="0",se="0";try{await J.maxSupply(G)}catch{console.log("Token ID does not exist:",G),I({collectionInfo:{...C.collectionInfo,vestingConfigured:!1,unlockedAmount:"0",availableAmount:"0"}});return}ee=await J.vestingConfigured(G),ee&&(ae=(await J.getUnlockedCreatorAllocation(G)).toString(),se=(await J.getAvailableCreatorMint(G)).toString()),I({collectionInfo:{...C.collectionInfo,vestingConfigured:ee,unlockedAmount:ae,availableAmount:se}})}catch(J){console.log("Vesting info not available for token ID:",G,J.message),I({collectionInfo:{...C.collectionInfo,vestingConfigured:!1,unlockedAmount:"0",availableAmount:"0"}})}},O=(G,J)=>{if(I({mintData:{...C.mintData,[G]:J}}),G==="collectionAddress"&&(window.collectionFetchTimeout&&clearTimeout(window.collectionFetchTimeout),window.collectionFetchTimeout=setTimeout(()=>{Z(J)},500)),G==="tokenId"&&C.collectionInfo&&C.collectionInfo.type==="erc1155"){const ee=parseInt(J);!isNaN(ee)&&ee>=0&&N(ee)}},Z=async G=>{if(!G||!t){I({collectionInfo:null});return}I({loadingCollectionInfo:!0});try{let J=null,ee=null;try{const ie=r(G,"erc721Prize");ie&&await ie.supportsInterface("0x80ac58cd")&&(J=ie,ee="erc721")}catch{}if(!J&&ee!=="erc721")try{const ie=r(G,"erc1155Prize");ie&&await ie.supportsInterface("0xd9b67a26")&&(J=ie,ee="erc1155")}catch{}if(!J||!ee)throw new Error("Invalid collection address or unsupported contract type");I({mintData:{...C.mintData,collectionType:ee,collectionAddress:G}});let ae="Unknown Collection",se="Unknown",pe="Unknown";try{typeof J.name=="function"&&(ae=await J.name())}catch{}try{typeof J.symbol=="function"&&(se=await J.symbol())}catch{}try{typeof J.owner=="function"&&(pe=await J.owner())}catch{}const he=pe!=="Unknown"&&pe.toLowerCase()===e.toLowerCase();let ue=!1,be="0",Ne="0";try{ee==="erc721"?(ue=await J.vestingConfigured(),ue&&(be=(await J.getUnlockedCreatorAllocation()).toString(),Ne=(await J.getAvailableCreatorMint()).toString())):ee==="erc1155"&&(ue=await J.vestingConfigured(1),ue&&(be=(await J.getUnlockedCreatorAllocation(1)).toString(),Ne=(await J.getAvailableCreatorMint(1)).toString()))}catch(ie){console.log("Vesting info not available:",ie.message)}I({collectionInfo:{address:G,name:ae,symbol:se,owner:pe,type:ee,isOwner:he,vestingConfigured:ue,unlockedAmount:be,availableAmount:Ne}}),re.success(`Collection loaded: ${ae} (${ee.toUpperCase()})`)}catch(J){console.error("Error loading collection info:",J),re.error("Failed to load collection information: "+J.message),I({collectionInfo:null})}finally{I({loadingCollectionInfo:!1})}},$=async()=>{if(!t||!e){re.error("Please connect your wallet");return}if(!C.mintData.collectionAddress||!C.mintData.recipient||!C.mintData.quantity){re.error("Please fill in all required fields");return}if(!In(C.mintData.recipient)){re.error("Please enter a valid recipient address");return}const G=parseInt(C.mintData.quantity);if(isNaN(G)||G<=0){re.error("Please enter a valid quantity");return}if(C.mintData.collectionType==="erc1155"){const J=parseInt(C.mintData.tokenId);if(isNaN(J)||J<0){re.error("Please enter a valid token ID for ERC1155");return}}I({mintLoading:!0});try{const J=C.mintData.collectionType==="erc721"?"erc721Prize":"erc1155Prize",ee=r(C.mintData.collectionAddress,J);if(!ee)throw new Error("Failed to create contract instance");let ae;if(C.mintData.collectionType==="erc721")ae=await i(()=>ee.creatorMint(C.mintData.recipient,G));else{const se=parseInt(C.mintData.tokenId);ae=await i(()=>ee.creatorMint(C.mintData.recipient,se,G))}if(ae.success)re.success(`Successfully minted ${G} token(s)! Transaction: ${ae.hash}`),I({mintData:{...C.mintData,recipient:"",quantity:"",tokenId:""}});else throw new Error(ae.error)}catch(J){console.error("Error minting tokens:",J),sn(J)}finally{I({mintLoading:!1})}},K=C.raffleData.isCreator&&parseFloat(C.raffleData.revenueAmount)>0&&["Completed","AllPrizesClaimed","Ended"].includes(C.raffleData.raffleState);return l.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("button",{onClick:M,className:"text-primary hover:text-primary/80",children:" Back"}),l.jsx("h3",{className:"text-lg font-semibold",children:"Creator Mint & Revenue Withdrawal"})]}),l.jsxs(Xt,{children:[l.jsxs(ds,{children:[l.jsxs(zs,{className:"flex items-center gap-2",children:[l.jsx(Sa,{className:"h-5 w-5"}),"Creator Mint & Revenue Withdrawal"]}),l.jsx(Df,{children:"Withdraw revenue from completed raffles and mint creator tokens"})]}),l.jsxs(Jt,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-card",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Na,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Raffle Lookup"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Raffle Address"}),l.jsx(Xr,{value:C.raffleData.address,onChange:G=>{I({raffleData:{...C.raffleData,address:G.target.value}});const J=G.target.value;J&&In(J)&&t&&!C.loading&&setTimeout(()=>{C.loading||E(J)},400)},placeholder:"0x...",className:"flex-1"})]})]}),m.length>0&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-card",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(O0,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Your Created Raffles"})]}),l.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:m.slice(0,5).map(G=>l.jsxs("button",{onClick:()=>E(G.address),className:"w-full text-left bg-card border border-border rounded-lg p-3 hover:bg-card/90 transition-colors",children:[l.jsx("div",{className:"text-sm font-medium",children:G.name||`Raffle ${G.address.slice(0,8)}...`}),l.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:["State: ",j(G.state,{stateNum:G.stateNum})]})]},G.address))})]}),C.raffleData.address&&C.raffleData.raffleState!=="unknown"&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-card",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Sa,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Raffle Information"})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"break-all",children:[l.jsx("span",{className:"font-medium",children:"Address:"}),l.jsx("span",{className:"ml-1 font-mono text-xs",children:C.raffleData.address})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium",children:"State:"})," ",j(C.raffleData.raffleState,{stateNum:C.raffleData.stateNum,winnerCount:C.raffleData.winnerCount})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"You are creator:"})," ",C.raffleData.isCreator?"Yes":"No"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Available Revenue:"})," ",C.raffleData.revenueAmount," ",f()]})]}),C.raffleData.isCreator&&l.jsx("div",{className:"mt-4",children:K?l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:l.jsx("div",{className:"text-sm text-green-800",children:" Revenue withdrawal is available"})}):l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:l.jsx("div",{className:"text-sm text-yellow-800",children:parseFloat(C.raffleData.revenueAmount)<=0?"No revenue available for withdrawal":`Revenue withdrawal not available - raffle state: ${C.raffleData.raffleState}`})})})]}),C.raffleData.isCreator&&l.jsxs(Ee,{onClick:P,disabled:C.loading||!t||!K,variant:"primary",size:"md",className:"w-full h-10 flex items-center justify-center gap-2 shadow-sm text-sm",children:[l.jsx(Sa,{className:"h-4 w-4"}),C.loading?"Withdrawing...":`Withdraw ${C.raffleData.revenueAmount} ${f()}`]}),l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-card",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(kf,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Creator Mint"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Mint tokens directly to winners or any address"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Type"}),l.jsxs(ed,{value:C.mintData.collectionType,onValueChange:G=>O("collectionType",G),children:[l.jsx(nd,{children:l.jsx(td,{placeholder:"Select collection type"})}),l.jsxs(rd,{children:[l.jsx(Ei,{value:"erc721",children:"ERC721"}),l.jsx(Ei,{value:"erc1155",children:"ERC1155"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Address"}),l.jsx(Xr,{value:C.mintData.collectionAddress,onChange:G=>O("collectionAddress",G.target.value),placeholder:"0x..."})]}),C.collectionInfo&&l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[C.collectionInfo.type==="erc721"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Name:"})," ",C.collectionInfo.name]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Symbol:"})," ",C.collectionInfo.symbol]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Type:"})," ",C.collectionInfo.type.toUpperCase()]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Owner:"})," ",C.collectionInfo.isOwner?"You":"Other"]})]}),C.collectionInfo.vestingConfigured&&l.jsxs("div",{className:"mt-3 pt-3 border-t border-border",children:[l.jsx("div",{className:"text-sm font-medium mb-2 text-primary",children:"Vesting Information"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Unlocked Amount:"})," ",C.collectionInfo.unlockedAmount]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Available Amount:"})," ",C.collectionInfo.availableAmount]})]}),C.collectionInfo.type==="erc1155"&&l.jsxs("div",{className:"mt-1 text-xs text-muted-foreground",children:["Vesting info shown for Token ID ",C.mintData.tokenId||"1",". Enter a specific Token ID to see accurate vesting amounts."]})]}),!C.collectionInfo.isOwner&&l.jsxs("div",{className:"mt-2 p-2 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(un,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot mint tokens."})]})]}),C.mintData.collectionType==="erc1155"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token ID"}),l.jsx(ls,{min:"0",value:C.mintData.tokenId,onChange:G=>O("tokenId",G.target.value),placeholder:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Recipient Address"}),l.jsx(Xr,{value:C.mintData.recipient,onChange:G=>O("recipient",G.target.value),placeholder:"0x..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity"}),l.jsx(ls,{min:"1",value:C.mintData.quantity,onChange:G=>O("quantity",G.target.value),placeholder:"1"})]}),l.jsx(Ee,{onClick:$,disabled:C.mintLoading||!t||!C.mintData.collectionAddress||!C.mintData.recipient||!C.mintData.quantity||C.mintData.collectionType==="erc1155"&&!C.mintData.tokenId,variant:"primary",size:"md",className:"w-full h-10 flex items-center justify-center gap-2 shadow-sm text-sm",children:C.mintLoading?"Minting...":"Mint"}),!t&&l.jsx("div",{className:"text-center p-4 bg-card rounded-lg",children:l.jsx("p",{className:"text-muted-foreground text-sm",children:"Please connect your wallet to use creator mint functionality."})})]})]})]})]})},b=()=>{const M=C=>{const I=typeof window<"u"&&window.ethereum&&window.ethereum.chainId?parseInt(window.ethereum.chainId,16):null,E=I&&Gt[I]?Gt[I].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):I||"",P=E?`/${E}/raffle/${C}`:`/raffle/${C}`;s(P)};return!m||m.length===0?l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(kf,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Raffles Created Yet"}),l.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"You haven't created any raffles yet. Start by creating your first raffle!"}),l.jsx(Ee,{onClick:()=>s("/create-raffle"),variant:"primary",size:"md",children:"Create Your First Raffle"})]})}):l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"My Raffles"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[m.length," raffles"]})]}),m.map(C=>l.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 hover:bg-card/90 transition-colors",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-medium text-foreground text-sm mb-1",children:C.name||`Raffle ${C.address.slice(0,8)}...`}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Slots Sold:"})," ",C.ticketsSold||0," / ",C.maxTickets||"Unlimited"]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Revenue:"})," ",p(C.revenue||"0")]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Created:"})," ",C.createdAt?new Date(C.createdAt<1e12?C.createdAt*1e3:C.createdAt).toLocaleString():"Unknown"]})]})]}),l.jsx("div",{className:"flex flex-col gap-2",children:l.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${C.state==="active"?"bg-green-100 text-green-800":C.state==="completed"?"bg-blue-100 text-blue-800":C.state==="ended"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:C.state})})]}),l.jsx("div",{className:"flex gap-2 mt-3",children:l.jsx(Ee,{onClick:()=>M(C.address),variant:"primary",size:"sm",children:"View Details"})})]},C.address))]})},A=()=>!v||v.length===0?l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(O0,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Slots Purchased Yet"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"You haven't purchased any pool slots yet. Browse active pools to get started!"})]})}):l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Purchased Slots"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[v.length," slots"]})]}),v.map((M,C)=>{var I;return l.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 hover:bg-card/90 transition-colors",children:[l.jsx("div",{className:"flex items-start justify-between gap-3",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-medium text-foreground text-sm mb-1",children:M.raffleName||M.poolName||M.name||`Raffle ${(I=M.raffleAddress)==null?void 0:I.slice(0,8)}...`}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Slots:"})," ",M.quantity||M.ticketCount||1]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Amount Paid:"})," ",(()=>{const E=M.totalSpent??M.amount;if(E==null||E===""){const P=M.quantity||M.ticketCount||0,N=M.slotFee;if(N){const O=(parseFloat(N)||0)*P;return p(O.toString())}return p("0")}return p(E)})()]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Purchased:"})," ",M.purchaseTime?new Date(M.purchaseTime<1e12?M.purchaseTime*1e3:M.purchaseTime).toLocaleString():"Unknown"]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"State:"})," ",j(M.state,{stateNum:M.stateNum})]})]})]})}),l.jsx("div",{className:"flex gap-2 mt-3",children:M.state==="ended"&&l.jsx("button",{onClick:()=>_(M.raffleAddress),className:"text-sm bg-green-500/10 text-green-600 px-3 py-1.5 rounded-md hover:bg-green-500/20 transition-colors",children:"Claim Refund"})})]},M.id||C)})]}),D=()=>o==="activity"?z():o==="created"?b():o==="purchased"?A():o==="dashboard"?B():z();return l.jsxs("div",{className:"min-h-screen bg-background overflow-x-hidden",children:[l.jsxs("div",{className:"bg-background border-b border-border p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Profile"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Track activities and manage your raffles"}),l.jsxs("div",{className:"bg-card border border-border rounded-lg p-3",children:[l.jsx("p",{className:"text-sm font-medium",children:"Connected Account:"}),l.jsx("p",{className:"text-xs font-mono break-all",children:e})]})]}),l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[l.jsx("button",{onClick:()=>a("activity"),"data-profile-tab":!0,className:`p-4 rounded-lg border transition-colors ${o==="activity"?"border-primary bg-primary/10 text-primary":"border-border bg-background hover:bg-card/90 text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"Activity"})}),l.jsx("button",{onClick:()=>a("created"),"data-profile-tab":!0,className:`p-4 rounded-lg border transition-colors ${o==="created"?"border-primary bg-primary/10 text-primary":"border-border bg-background hover:bg-card/90 text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"My Raffles"})}),l.jsx("button",{onClick:()=>a("purchased"),"data-profile-tab":!0,className:`p-4 rounded-lg border transition-colors ${o==="purchased"?"border-primary bg-primary/10 text-primary":"border-border bg-background hover:bg-card/90 text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"Slots"})}),l.jsx("button",{onClick:()=>a("dashboard"),"data-profile-tab":!0,className:`p-4 rounded-lg border transition-colors ${o==="dashboard"?"border-primary bg-primary/10 text-primary":"border-border bg-background hover:bg-card/90 text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})})]})}),l.jsx("div",{className:"pb-8",children:D()}),T&&l.jsxs("div",{className:"text-center py-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto mb-2"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Loading on-chain data"})]})]})},Ide=()=>{const{isMobile:t,isInitialized:e}=gr();return e?t?l.jsx(Rde,{}):l.jsx(Mde,{}):l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold mb-2",style:{fontFamily:"Orbitron, monospace"},children:"Dropr"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading..."})]})})},Mde=()=>{const{connected:t,address:e,provider:n,chainId:r}=_n(),{contracts:i,getContractInstance:s,executeTransaction:o,executeCall:a}=jn();$a();const{isMobile:c}=gr(),{getCurrencySymbol:d}=Or(),{userActivity:f,createdRaffles:p,purchasedTickets:g,activityStats:m,creatorStats:v,loading:x,showRevenueModal:T,selectedRaffle:_,setSelectedRaffle:j,fetchCreatedRaffles:w,fetchPurchasedTickets:F}=Mz(),[z,B]=k.useState("activity"),H=k.useMemo(()=>f.map(R=>{const b=()=>{var I;const M=R.raffleName||R.name||`Raffle ${(I=R.raffleAddress)==null?void 0:I.slice(0,8)}...`,C=R.quantity||R.ticketCount||1;switch(R.type){case"ticket_purchase":return`Purchased ${C} ${M} slot${C>1?"s":""}`;case"raffle_created":return`Created raffle "${M}"`;case"raffle_deleted":return`Deleted raffle "${M}"`;case"prize_won":return`Won prize in "${M}"`;case"prize_claimed":return`Claimed prize from "${M}"`;case"refund_claimed":return`Claimed refund from "${M}"`;case"revenue_withdrawn":return`Withdrew revenue from "${M}"`;case"admin_withdrawn":return`Admin withdrawal: ${R.amount} ${d()}`;default:return R.description||"Activity"}},A=()=>{switch(R.type){case"ticket_purchase":return R.amount?`${R.amount} ${d()}`:"";case"refund_claimed":return R.amount?`${R.amount} ${d()}`:"";default:return R.description||""}},D=()=>{switch(R.type){case"ticket_purchase":return l.jsx(O0,{className:"h-4 w-4 text-blue-500"});case"raffle_created":return l.jsx(go,{className:"h-4 w-4 text-green-500"});case"raffle_deleted":return l.jsx(Tm,{className:"h-4 w-4 text-red-500"});case"prize_won":return l.jsx(kf,{className:"h-4 w-4 text-yellow-500"});case"prize_claimed":return l.jsx(kf,{className:"h-4 w-4 text-yellow-500"});case"refund_claimed":return l.jsx(Yf,{className:"h-4 w-4 text-orange-500"});case"revenue_withdrawn":return l.jsx(Sa,{className:"h-4 w-4 text-green-500"});case"admin_withdrawn":return l.jsx(Sa,{className:"h-4 w-4 text-purple-500"});default:return l.jsx(Tm,{className:"h-4 w-4 text-gray-500"})}};return{...R,title:b(),description:A(),icon:D(),timestamp:R.timestamp?new Date(R.timestamp<1e12?R.timestamp*1e3:R.timestamp).toLocaleString():"Unknown date"}}),[f]);function Y(R){var D,M;if(R!=null&&R.reason)return R.reason;if((D=R==null?void 0:R.data)!=null&&D.message)return R.data.message;const b=(R==null?void 0:R.message)||((M=R==null?void 0:R.data)==null?void 0:M.message)||(R==null?void 0:R.toString())||"",A=b.match(/execution reverted:?\s*([^\n]*)/i);return A&&A[1]?A[1].trim():b}const W=async R=>{let b=`Are you sure you want to delete "${R.name}"?`;if(R.ticketsSold>0&&(b+=`

This raffle has ${R.ticketsSold} sold tickets. Deletion will automatically process refunds for all participants.`),!!window.confirm(b))try{const A=s(R.address,"pool");if(!A)throw new Error("Failed to get raffle contract");const D=await o(A.deleteRaffle);if(D.success){const M=R.ticketsSold>0?`Raffle deleted successfully! Refunds have been processed automatically for ${R.ticketsSold} sold tickets.`:"Raffle deleted successfully!";re.success(M),setLoading(!0),await Promise.all([w(),F()]),setLoading(!1)}else throw new Error(D.error)}catch(A){re.error(Y(A))}},q=R=>{j(R),setShowRevenueModal(!0)},X=async R=>{try{const b=s(R.raffleAddress,"pool");if(!b)throw new Error("Failed to get pool contract");let A;if(R.prizeAmount>1?A=await o(b.claimPrizes,R.prizeAmount):A=await o(b.claimPrize),A.success)re.success("Prize claimed successfully!"),setLoading(!0),await Promise.all([w(),F()]),setLoading(!1);else throw new Error(A.error)}catch(b){re.error(Y(b))}},V=async R=>{try{const b=s(R.raffleAddress,"pool");if(!b)throw new Error("Failed to get pool contract");const A=await b.refundedNonWinningTickets(e),D=A&&A.gt&&A.gt(0),M=await o(b.claimRefund);if(M.success)re.success("Refund claimed successfully!"),setLoading(!0),await Promise.all([w(),F()]),setLoading(!1);else throw new Error(M.error)}catch(b){re.error(Y(b))}};return t?l.jsxs(pl,{variant:"profile",className:"pt-8 pb-4",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:`${c?"mb-4":"flex items-center justify-between mb-4"}`,children:l.jsxs("div",{children:[l.jsx("h1",{className:`text-3xl font-bold mb-4 font-display ${c?"text-2xl mb-2":""}`,children:"Profile"}),l.jsx("p",{className:`text-muted-foreground ${c?"text-sm":"text-base"}`,children:"Track activities, manage your raffles, revenue and collections"})]})}),l.jsxs("div",{className:`mt-4 bg-muted/50 backdrop-blur-sm border border-border/30 rounded-lg ${c?"p-3":"p-4"}`,children:[l.jsx("p",{className:"text-sm font-medium",children:"Connected Account:"}),l.jsx("p",{className:`font-mono ${c?"text-xs break-all":"text-sm"}`,children:e})]})]}),!c&&l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:`font-semibold mb-4 ${c?"text-lg":"text-xl"}`,children:"Activity Overview"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-3 shadow-xl transition-all duration-300",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(hx,{className:"h-6 w-6 text-blue-500"}),l.jsxs("div",{children:[l.jsx("p",{className:`font-bold ${c?"text-lg":"text-xl"}`,children:Number(m.totalSlotsPurchased||0).toLocaleString()}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Slots Purchased"})]})]})}),l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-3 shadow-xl transition-all duration-300",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(go,{className:"h-6 w-6 text-green-500"}),l.jsxs("div",{children:[l.jsx("p",{className:`font-bold ${c?"text-lg":"text-xl"}`,children:Number(m.totalRafflesCreated||0).toLocaleString()}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Raffles Created"})]})]})}),l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-3 shadow-xl transition-all duration-300",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(og,{className:"h-6 w-6 text-yellow-500"}),l.jsxs("div",{children:[l.jsx("p",{className:`font-bold ${c?"text-lg":"text-xl"}`,children:Number(m.totalPrizesWon||0).toLocaleString()}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Wins"})]})]})}),l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-3 shadow-xl transition-all duration-300",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Sa,{className:"h-6 w-6 text-orange-500"}),l.jsxs("div",{children:[l.jsx("p",{className:`font-bold ${c?"text-lg":"text-xl"}`,children:(()=>{const R=m.totalClaimableRefunds,b=d();if(!R||!R.toString)return`0 ${b}`;try{const M=parseFloat(Fn(R)).toFixed(8).replace(/\.0+$/,"").replace(/(\.\d*[1-9])0+$/,"$1");return`${M===""||M==="."?"0":M} ${b}`}catch{return`0 ${b}`}})()}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Claimable Refunds"})]})]})})]})]}),x&&l.jsxs("div",{className:"text-center py-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Loading on-chain data"})]}),l.jsx(Pde,{activities:H,createdRaffles:p,purchasedTickets:g,creatorStats:v,onDeleteRaffle:W,onViewRevenue:q,onClaimPrize:X,onClaimRefund:V}),T&&_&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-card/90 backdrop-blur-md border border-border/50 rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revenue Details"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Raffle:"}),l.jsx("span",{className:"font-medium",children:_.name})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Total Revenue:"}),l.jsxs("span",{className:"font-medium",children:[Fn(_.totalRevenue)," ETH"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Tickets Sold:"}),l.jsx("span",{className:"font-medium",children:_.ticketsSold})]})]}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:()=>setShowRevenueModal(!1),className:"flex-1 bg-[#614E41] text-white px-4 py-2 rounded-md hover:bg-[#4a3a30] transition-colors",children:"Close"}),l.jsx("button",{onClick:()=>{setShowRevenueModal(!1)},className:"flex-1 bg-[#614E41] text-white px-4 py-2 rounded-md hover:bg-[#4a3a30] transition-colors",children:"Withdraw"})]})]})})]}):l.jsx("div",{className:"container mx-auto px-4 pt-8 pb-4",children:l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4 font-display",children:"Connect Your Wallet"}),l.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to view your profile and activity."})]})})};var Fv="Switch",[Dde,lge]=Xs(Fv),[Ode,Lde]=Dde(Fv),Dz=k.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:c="on",onCheckedChange:d,form:f,...p}=t,[g,m]=k.useState(null),v=Zt(e,w=>m(w)),x=k.useRef(!1),T=g?f||!!g.closest("form"):!0,[_,j]=na({prop:i,defaultProp:s??!1,onChange:d,caller:Fv});return l.jsxs(Ode,{scope:n,checked:_,disabled:a,children:[l.jsx(vt.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":zz(_),"data-disabled":a?"":void 0,disabled:a,value:c,...p,ref:v,onClick:Ue(t.onClick,w=>{j(F=>!F),T&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),T&&l.jsx(Fz,{control:g,bubbles:!x.current,name:r,value:c,checked:_,required:o,disabled:a,form:f,style:{transform:"translateX(-100%)"}})]})});Dz.displayName=Fv;var Oz="SwitchThumb",Lz=k.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=Lde(Oz,n);return l.jsx(vt.span,{"data-state":zz(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});Lz.displayName=Oz;var Fde="SwitchBubbleInput",Fz=k.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const o=k.useRef(null),a=Zt(o,s),c=Q6(n),d=U6(e);return k.useEffect(()=>{const f=o.current;if(!f)return;const p=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==n&&m){const v=new Event("click",{bubbles:r});m.call(f,n),f.dispatchEvent(v)}},[c,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Fz.displayName=Fde;function zz(t){return t?"checked":"unchecked"}var zde=Dz,Bde=Lz;function Bz({className:t,size:e="default",...n}){const r={default:{root:"h-5 w-9 rounded-full",thumb:"h-4 w-4 rounded-full data-[state=checked]:translate-x-4"},mobile:{root:"h-7 w-12 rounded-full",thumb:"h-5 w-5 rounded-full data-[state=checked]:translate-x-5"},large:{root:"h-8 w-14 rounded-full",thumb:"h-7 w-7 rounded-full data-[state=checked]:translate-x-6"}},i=r[e]||r.default;return l.jsx(zde,{"data-slot":"switch",className:nt("peer inline-flex shrink-0 cursor-pointer items-center border-2 border-transparent transition-all duration-200 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-muted hover:data-[state=unchecked]:bg-muted/80 active:scale-95",i.root,t),...n,children:l.jsx(Bde,{"data-slot":"switch-thumb",className:nt("pointer-events-none block bg-background shadow-lg ring-0 transition-all duration-200 ease-in-out data-[state=unchecked]:translate-x-0 data-[state=checked]:shadow-xl",i.thumb)})})}const Mc=({tokenGatedEnabled:t,onTokenGatedChange:e,formData:n,handleChange:r,required:i=!1,useFormDataEnabled:s=!1})=>{const{isMobile:o}=gr(),a=s?n.tokenGatedEnabled:t,c=s?d=>r("tokenGatedEnabled",d):e;return l.jsxs(l.Fragment,{children:[o?l.jsx("div",{className:"p-4 bg-card/50 rounded-xl border border-border/50 mb-4 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between gap-4 cursor-pointer select-none transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 hover:bg-muted/10 active:bg-muted/20 rounded-lg p-1 -m-1",onClick:()=>c(!a),onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),c(!a))},tabIndex:0,role:"button","aria-label":`${a?"Disable":"Enable"} token-gated access`,children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"font-medium block cursor-pointer text-base mb-1",children:"Enable Token-Gated Access"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Restrict raffle participation to token holders"})]}),l.jsx(Nn,{className:`h-6 w-6 transition-colors duration-200 ${a?"text-green-600":"text-muted-foreground/40"}`})]})}):l.jsx("div",{className:"mb-2",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Bz,{checked:a,onCheckedChange:c,size:"default"}),l.jsx("div",{className:"flex-1 cursor-pointer select-none transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 hover:text-foreground/80 active:text-foreground",onClick:()=>c(!a),onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),c(!a))},tabIndex:0,role:"button","aria-label":`${a?"Disable":"Enable"} token-gated access`,children:l.jsx("label",{className:"font-medium block cursor-pointer text-sm",children:"Enable Token-Gated Access"})})]})}),a&&l.jsx("div",{className:"p-4 border rounded-lg bg-muted/10 mb-4",children:l.jsxs("div",{className:`${o?"space-y-4":"grid grid-cols-1 md:grid-cols-2 gap-4"}`,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-base",children:"Token Address"}),l.jsx("input",{type:"text",value:n.holderTokenAddress||"",onChange:d=>r("holderTokenAddress",d.target.value),className:`w-full border border-border rounded-lg bg-background font-mono ${o?"px-4 py-3 text-base":"px-3 py-2.5 text-base"}`,placeholder:"0x...",required:i&&a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-base",children:"Token Standard"}),l.jsxs(ed,{value:n.holderTokenStandard||"0",onValueChange:d=>r("holderTokenStandard",d),required:i&&a,children:[l.jsx(nd,{className:`w-full border border-border rounded-lg bg-background ${o?"px-4 py-3 text-base h-12":"px-3 py-2.5 text-base"}`,children:l.jsx(td,{placeholder:"Select Token Standard"})}),l.jsxs(rd,{children:[l.jsx(Ei,{value:"0",children:"ERC721"}),l.jsx(Ei,{value:"1",children:"ERC1155"}),l.jsx(Ei,{value:"2",children:"ERC20"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-base",children:"Minimum Holder Balance"}),l.jsx("input",{type:"number",value:n.minHolderTokenBalance||"",onChange:d=>r("minHolderTokenBalance",d.target.value),className:`w-full border border-border rounded-lg bg-background ${o?"px-4 py-3 text-base":"px-3 py-2.5 text-base"}`,placeholder:"Minimum balance required to enter",required:i&&a})]}),n.holderTokenStandard==="1"&&l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-base",children:"Token ID"}),l.jsx("input",{type:"number",value:n.holderTokenId||"",onChange:d=>r("holderTokenId",d.target.value),className:`w-full border border-border rounded-lg bg-background ${o?"px-4 py-3 text-base":"px-3 py-2.5 text-base"}`,placeholder:"Token ID (for ERC1155)",required:i&&a})]})]})})]})},Tu={MAX_TASKS:3,MAX_DESCRIPTION_LENGTH:1e3,TASK_SEPARATOR:"|"},mu=Tu.MAX_TASKS,Dc=({socialEngagementEnabled:t,onSocialEngagementChange:e,setSocialEngagementEnabled:n,formData:r,handleChange:i,required:s=!1,useFormDataEnabled:o=!1})=>{const{isMobile:a}=gr(),{getCurrencySymbol:c}=Or(),{contracts:d}=jn(),[f,p]=k.useState(null),[g,m]=k.useState(!0),[v,x]=k.useState(!1),[T,_]=k.useState(!0);k.useEffect(()=>{(async()=>{if(!(d!=null&&d.protocolManager)){m(!1),_(!1);return}try{console.log(" Debug: contracts object:",d),console.log(" Debug: socialEngagementManager exists:",!!(d!=null&&d.socialEngagementManager));const b=await d.protocolManager.socialEngagementFee();if(p(b),d!=null&&d.socialEngagementManager){console.log(" Debug: Calling isTaskAssignmentPaused()...");const A=await d.socialEngagementManager.isTaskAssignmentPaused();console.log(" Debug: isTaskAssignmentPaused returned:",A),x(A)}else console.warn(" socialEngagementManager contract not available"),x(!1)}catch(b){console.error(" Error fetching social engagement data:",b),p(null),x(!1)}finally{m(!1),_(!1)}})()},[d]);const j=o?r.socialEngagementEnabled:t,w=v||T,F=o?R=>{w||i("socialEngagementEnabled",R)}:R=>{w||(e||n||(()=>{console.warn("No toggle change handler provided to SocialMediaTaskSection")}))(R)},z=r.socialTasks||[],B=()=>{if(z.length>=mu){console.warn(`Maximum of ${mu} social media tasks allowed`);return}const R=[...z,{id:Date.now(),platform:"twitter",action:"follow",target:"",description:""}];i("socialTasks",R)},H=R=>{const b=z.filter(A=>A.id!==R);i("socialTasks",b)},Y=(R,b,A)=>{const D=z.map(M=>M.id===R?{...M,[b]:A}:M);i("socialTasks",D)},W=R=>{switch(R){case"twitter":return l.jsx(Em,{className:"h-4 w-4"});case"discord":return l.jsx(jf,{className:"h-4 w-4"});case"telegram":return l.jsx(_m,{className:"h-4 w-4"});default:return l.jsx(jf,{className:"h-4 w-4"})}},q=R=>{switch(R){case"twitter":return[{value:"follow",label:"Follow Account"},{value:"like",label:"Like Tweet"},{value:"retweet",label:"Retweet"},{value:"comment",label:"Comment on Tweet"},{value:"quote",label:"Quote Tweet"}];case"discord":return[{value:"join",label:"Join Server"},{value:"react",label:"React to Message"}];case"telegram":return[{value:"join",label:"Join Channel/Group"},{value:"follow",label:"Follow Channel"}];default:return[]}},X=()=>z.length===0?"":z.map(b=>{var D;const A=((D=q(b.platform).find(M=>M.value===b.action))==null?void 0:D.label)||b.action;return`${b.platform.toUpperCase()}: ${A} - ${b.target}`}).join(Tu.TASK_SEPARATOR),V=R=>{if(!R)return!0;if(R.length>Tu.MAX_DESCRIPTION_LENGTH)return console.warn(`Task description too long (max ${Tu.MAX_DESCRIPTION_LENGTH} characters)`),!1;const b=R.split(Tu.TASK_SEPARATOR).length;return b>Tu.MAX_TASKS?(console.warn(`Too many tasks (${b}/${Tu.MAX_TASKS})`),!1):!0};return ke.useEffect(()=>{if(j){const R=X();V(R)?i("socialTaskDescription",R):console.warn("Generated task description failed validation")}else i("socialTaskDescription","")},[z,j]),l.jsxs(l.Fragment,{children:[a?l.jsx("div",{className:`p-4 bg-card/50 rounded-xl border border-border/50 mb-4 shadow-sm ${w?"opacity-60":""}`,children:l.jsxs("div",{className:`flex items-center justify-between gap-4 transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded-lg p-1 -m-1 ${w?"cursor-not-allowed":"cursor-pointer hover:bg-muted/10 active:bg-muted/20"}`,onClick:()=>!w&&F(!j),onKeyDown:R=>{!w&&(R.key==="Enter"||R.key===" ")&&(R.preventDefault(),F(!j))},tabIndex:w?-1:0,role:w?void 0:"button","aria-label":`${j?"Disable":"Enable"} social media tasks`,children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("label",{className:`font-medium block text-base mb-1 ${w?"cursor-not-allowed":"cursor-pointer"}`,children:["Enable Social Media Tasks",v?l.jsx("span",{className:"ml-2 text-base font-medium text-muted-foreground",children:"(Task assignments paused)"}):!g&&f&&l.jsxs("span",{className:"ml-2 text-base font-medium",children:["(Costs ",Fn(f)," ",c(),")"]})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Require participants to complete social media engagement tasks"})]}),l.jsx(Nn,{className:`h-6 w-6 transition-colors duration-200 ${w?"text-muted-foreground/20":j?"text-green-600":"text-muted-foreground/40"}`})]})}):l.jsx("div",{className:"mb-2",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Bz,{checked:j,onCheckedChange:F,disabled:w,size:"default"}),l.jsx("div",{className:`flex-1 transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ${w?"cursor-not-allowed":"cursor-pointer hover:text-foreground/80 active:text-foreground"}`,onClick:()=>!w&&F(!j),onKeyDown:R=>{!w&&(R.key==="Enter"||R.key===" ")&&(R.preventDefault(),F(!j))},tabIndex:w?-1:0,role:w?void 0:"button","aria-label":`${j?"Disable":"Enable"} social media tasks`,children:l.jsxs("label",{className:`font-medium block text-sm ${w?"cursor-not-allowed":"cursor-pointer"}`,children:["Enable Social Media Tasks",v?l.jsx("span",{className:"ml-2 text-sm font-medium text-muted-foreground",children:"(Task assignments paused)"}):!g&&f&&l.jsxs("span",{className:"ml-2 text-sm font-medium",children:["(Costs ",Fn(f)," ",c(),")"]})]})})]})}),j&&l.jsx("div",{className:"p-4 border rounded-lg bg-muted/10 mb-4",children:l.jsxs("div",{className:"space-y-4",children:[z.map((R,b)=>l.jsxs("div",{className:"p-3 border rounded-lg bg-background/50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[W(R.platform),l.jsxs("span",{className:"font-medium text-sm",children:["Task ",b+1]})]}),l.jsx("button",{type:"button",onClick:()=>H(R.id),className:"text-red-500 hover:text-red-700 transition-colors",children:l.jsx(k2,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:`${a?"space-y-3":"grid grid-cols-1 md:grid-cols-3 gap-3"}`,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-sm",children:"Platform"}),l.jsxs(ed,{value:R.platform,onValueChange:A=>Y(R.id,"platform",A),children:[l.jsx(nd,{className:`w-full border border-border rounded-lg bg-background ${a?"px-3 py-2 text-base h-10":"px-3 py-2 text-sm"}`,children:l.jsx(td,{})}),l.jsxs(rd,{children:[l.jsx(Ei,{value:"twitter",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Em,{className:"h-4 w-4"}),"Twitter"]})}),l.jsx(Ei,{value:"discord",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(jf,{className:"h-4 w-4"}),"Discord"]})}),l.jsx(Ei,{value:"telegram",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_m,{className:"h-4 w-4"}),"Telegram"]})})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-sm",children:"Action"}),l.jsxs(ed,{value:R.action,onValueChange:A=>Y(R.id,"action",A),children:[l.jsx(nd,{className:`w-full border border-border rounded-lg bg-background ${a?"px-3 py-2 text-base h-10":"px-3 py-2 text-sm"}`,children:l.jsx(td,{})}),l.jsx(rd,{children:q(R.platform).map(A=>l.jsx(Ei,{value:A.value,children:A.label},A.value))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-sm",children:"Target"}),l.jsx("input",{type:"text",value:R.target,onChange:A=>Y(R.id,"target",A.target.value),className:`w-full border border-border rounded-lg bg-background ${a?"px-3 py-2 text-base":"px-3 py-2 text-sm"}`,placeholder:R.platform==="twitter"?"@username or tweet URL":R.platform==="discord"?"Server invite or message URL":"Channel username or URL",required:s&&j})]})]}),l.jsxs("div",{className:"mt-3",children:[l.jsx("label",{className:"block font-medium mb-1 text-sm",children:"Description (Optional)"}),l.jsx("input",{type:"text",value:R.description,onChange:A=>Y(R.id,"description",A.target.value),className:`w-full border border-border rounded-lg bg-background ${a?"px-3 py-2 text-base":"px-3 py-2 text-sm"}`,placeholder:"Additional instructions for participants"})]})]},R.id)),l.jsxs("button",{type:"button",onClick:B,disabled:z.length>=mu,className:`w-full p-3 border-2 border-dashed rounded-lg flex items-center justify-center gap-2 transition-colors ${z.length>=mu?"border-border/50 bg-muted/10 text-muted-foreground/50 cursor-not-allowed":"border-border hover:border-primary/50 hover:bg-muted/20 text-muted-foreground hover:text-foreground cursor-pointer"}`,children:[l.jsx(go,{className:"h-4 w-4"}),z.length>=mu?`Maximum ${mu} tasks reached`:`Add Social Media Task (${z.length}/${mu})`]}),z.length>0&&l.jsxs("div",{className:"mt-4 p-3 bg-muted/20 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-sm mb-2",children:"Task Summary:"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:X()||"No tasks configured"})]})]})})]})},Oc=({formData:t,handleChange:e,isMobile:n=!1})=>{const[r,i]=k.useState(!1),s=c=>{const{name:d,value:f}=c.target;e(d,f)},o=`w-full px-4 py-3 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-background text-foreground ${n?"text-base":""}`,a="block text-base font-medium text-foreground mb-2";return l.jsxs("div",{className:"bg-card rounded-lg border border-border overflow-hidden",children:[l.jsxs("button",{type:"button",onClick:()=>i(!r),className:"w-full flex items-center justify-between px-4 py-3 hover:bg-muted/50 transition-colors",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("h3",{className:"font-semibold text-base text-foreground",children:"Pool Information (Optional)"})}),r?l.jsx(sg,{className:"h-5 w-5 text-muted-foreground"}):l.jsx(ra,{className:"h-5 w-5 text-muted-foreground"})]}),l.jsx("div",{className:`transition-all duration-300 ease-in-out ${r?"max-h-[1000px] opacity-100":"max-h-0 opacity-0"} overflow-hidden`,children:l.jsxs("div",{className:"px-6 pb-6 space-y-6 border-t border-border pt-6",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"description",className:a,children:["Description",l.jsx("span",{className:"text-muted-foreground text-xs ml-2",children:"(Max 1000 characters)"})]}),l.jsx("textarea",{id:"description",name:"description",value:t.description||"",onChange:s,placeholder:"Describe your raffle, prizes, or any special details...",maxLength:1e3,rows:4,className:`${o} resize-none`}),l.jsxs("div",{className:"text-xs text-muted-foreground mt-1 text-right",children:[(t.description||"").length," / 1000"]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-sm font-medium text-foreground",children:"Social Media Links"}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"twitterLink",className:a,children:["Twitter / X",l.jsx("span",{className:"text-muted-foreground text-xs ml-2",children:"(Max 200 characters)"})]}),l.jsx("input",{type:"url",id:"twitterLink",name:"twitterLink",value:t.twitterLink||"",onChange:s,placeholder:"https://twitter.com/yourhandle or https://x.com/yourhandle",maxLength:200,className:o})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"discordLink",className:a,children:["Discord",l.jsx("span",{className:"text-muted-foreground text-xs ml-2",children:"(Max 200 characters)"})]}),l.jsx("input",{type:"url",id:"discordLink",name:"discordLink",value:t.discordLink||"",onChange:s,placeholder:"https://discord.gg/yourinvite",maxLength:200,className:o})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"telegramLink",className:a,children:["Telegram",l.jsx("span",{className:"text-muted-foreground text-xs ml-2",children:"(Max 200 characters)"})]}),l.jsx("input",{type:"url",id:"telegramLink",name:"telegramLink",value:t.telegramLink||"",onChange:s,placeholder:"https://t.me/yourchannel",maxLength:200,className:o})]})]}),l.jsxs("div",{className:"text-xs text-muted-foreground bg-muted p-3 rounded-lg",children:[l.jsx(on,{className:"h-3 w-3 inline mr-1"}),"These fields are optional but recommended. They help participants learn more about your project and connect with your community."]})]})})]})},$de=({isOpen:t,onToggle:e,raffleType:n,setRaffleType:r,nftStandard:i,setNftStandard:s,erc721Source:o,setErc721Source:a,erc1155Source:c,setErc1155Source:d,className:f=""})=>{const{isMobile:p}=gr(),{getCurrencySymbol:g}=Or(),v=(()=>{const[X,V]=k.useState({top:56,height:56});return k.useEffect(()=>{const R=document.querySelector("header"),b=R?R.getBoundingClientRect().height:56,A=()=>window.matchMedia&&window.matchMedia("(max-width: 640px)").matches,D=()=>{const M=window.scrollY||window.pageYOffset||0;A()?V({top:b,height:window.innerHeight-b}):M>=b?V({top:0,height:window.innerHeight}):V({top:b-M,height:window.innerHeight-(b-M)})};return D(),window.addEventListener("scroll",D,{passive:!0}),window.addEventListener("resize",D),()=>{window.removeEventListener("scroll",D),window.removeEventListener("resize",D)}},[]),X})(),[x,T]=k.useState({raffleType:!0,nftConfiguration:!0,collectionSource:!0}),_=k.useMemo(()=>{const X=g();return[{value:"Whitelist/Allowlist",label:"Whitelist/Allowlist",description:"Whitelist Campaigns"},{value:"NFTDrop",label:"NFT Drop",description:"Raffles with Mintable NFT Prizes"},{value:"Lucky Sale/NFT Pool",label:"Lucky Sale/NFT Giveaway",description:"Discounted NFT sales/NFT Giveaways"},{value:"Native Token Pool",label:`${X} Giveaway`,description:"Native Coin Giveaways"},{value:"ERC20 Token Pool",label:"ERC20 Token Giveaway",description:"Token Giveaways"}]},[g]),j=[{value:"ERC721",label:"ERC721"},{value:"ERC1155",label:"ERC1155"}],w=[{value:"New ERC721 Collection",label:"New ERC721 Collection",description:"Deploy new collection"},{value:"Existing ERC721 Collection",label:"Existing ERC721 Collection",description:"Use existing collection"}],F=[{value:"New ERC1155 Collection",label:"New ERC1155 Collection",description:"Deploy new collection"},{value:"Existing ERC1155 Collection",label:"Existing ERC1155 Collection",description:"Use existing collection"}],z=k.useCallback(X=>{T(V=>({...V,[X]:!V[X]}))},[]),B=k.useCallback(()=>{r("Whitelist/Allowlist"),s("ERC721"),a("New ERC721 Collection"),d("New ERC1155 Collection")},[r,s,a,d]),H=k.useMemo(()=>n!=="Whitelist/Allowlist"||i!=="ERC721"||o!=="New ERC721 Collection"||c!=="New ERC1155 Collection",[n,i,o,c]),Y=n==="NFTDrop"||n==="Lucky Sale/NFT Pool",W=n==="NFTDrop",q=k.useCallback((X,V,R,b,A,D=!1)=>{const M=x[V];return l.jsxs("div",{className:"border-b border-border/30 last:border-b-0",children:[l.jsxs("button",{onClick:()=>z(V),className:"w-full flex items-center justify-between p-3 sm:p-4 text-left hover:bg-muted/50 transition-colors",disabled:D,children:[l.jsx("span",{className:`text-sm sm:text-base font-medium ${D?"text-muted-foreground":""}`,children:X}),M?l.jsx(sg,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"}):l.jsx(ra,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"})]}),M&&!D&&l.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4 space-y-1 sm:space-y-2",children:R.map(C=>{const I=b===C.value;return l.jsxs("label",{className:"flex items-start space-x-2 sm:space-x-3 cursor-pointer hover:bg-muted/30 p-1.5 sm:p-2 rounded-md transition-colors",children:[l.jsx("input",{type:"radio",name:V,checked:I,onChange:()=>A(C.value),className:`mt-1 h-3 w-3 sm:h-4 sm:w-4 text-primary bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-full focus:ring-0 focus:outline-none checked:bg-primary checked:border-primary appearance-none relative ${I?'after:content-[""] after:absolute after:top-1/2 after:left-1/2 after:transform after:-translate-x-1/2 after:-translate-y-1/2 after:w-1 after:h-1 sm:after:w-1.5 sm:after:h-1.5 after:bg-white after:rounded-full':""}`,style:{minHeight:"12px",minWidth:"12px",maxHeight:"12px",maxWidth:"12px"}}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:"text-xs sm:text-sm font-medium leading-tight",children:C.label}),C.description&&l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:C.description})]})]},C.value)})}),D&&l.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4",children:l.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Select appropriate raffle type to enable this filter"})})]},V)},[x,z]);return l.jsxs(l.Fragment,{children:[t&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-30",onClick:e}),l.jsxs("div",{style:{top:v.top,height:v.height},className:`
        fixed left-0
        w-64 sm:w-72 md:w-80
        bg-background border-r border-border
        transform transition-transform duration-300 ease-in-out
        z-40
        flex flex-col
        ${t?"translate-x-0":"-translate-x-full"}
        ${f}
      `,children:[l.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between p-3 sm:p-4 border-b border-border bg-muted/80 backdrop-blur supports-[backdrop-filter]:bg-muted/60",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(v2,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),l.jsx("h2",{className:"font-semibold text-base sm:text-lg",children:"Create Raffle"})]}),l.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[H&&l.jsx(Ee,{variant:"ghost",size:"sm",onClick:B,className:"text-xs px-2 sm:px-3 h-7 sm:h-8 hover:bg-destructive/10 hover:text-destructive",children:"Reset"}),l.jsx(Ee,{variant:"ghost",size:"sm",onClick:e,className:"hover:bg-muted h-7 w-7 sm:h-8 sm:w-8 p-0",title:"Close filters",children:l.jsx(bi,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})]})]}),l.jsx("div",{className:"p-3 sm:p-4 bg-muted/30",children:l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Configure Raffle type and Prizes"})}),l.jsxs("div",{className:"flex-1 overflow-y-auto",children:[q("Raffle Type","raffleType",_,n,r),Y&&q("NFT Standard","nftConfiguration",j,i,s),W&&i==="ERC721"&&q("ERC721 Source","collectionSource",w,o,a),W&&i==="ERC1155"&&q("ERC1155 Source","collectionSource",F,c,d)]})]})]})};var[zv,cge]=Xs("Tooltip",[bh]),Bv=bh(),$z="TooltipProvider",Ude=700,eS="tooltip.open",[Vde,QC]=zv($z),Uz=t=>{const{__scopeTooltip:e,delayDuration:n=Ude,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=k.useRef(!0),a=k.useRef(!1),c=k.useRef(0);return k.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),l.jsx(Vde,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:k.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:k.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:k.useCallback(d=>{a.current=d},[]),disableHoverableContent:i,children:s})};Uz.displayName=$z;var Vm="Tooltip",[Wde,yg]=zv(Vm),Vz=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,c=QC(Vm,t.__scopeTooltip),d=Bv(e),[f,p]=k.useState(null),g=Vs(),m=k.useRef(0),v=o??c.disableHoverableContent,x=a??c.delayDuration,T=k.useRef(!1),[_,j]=na({prop:r,defaultProp:i??!1,onChange:H=>{H?(c.onOpen(),document.dispatchEvent(new CustomEvent(eS))):c.onClose(),s==null||s(H)},caller:Vm}),w=k.useMemo(()=>_?T.current?"delayed-open":"instant-open":"closed",[_]),F=k.useCallback(()=>{window.clearTimeout(m.current),m.current=0,T.current=!1,j(!0)},[j]),z=k.useCallback(()=>{window.clearTimeout(m.current),m.current=0,j(!1)},[j]),B=k.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{T.current=!0,j(!0),m.current=0},x)},[x,j]);return k.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),l.jsx(I2,{...d,children:l.jsx(Wde,{scope:e,contentId:g,open:_,stateAttribute:w,trigger:f,onTriggerChange:p,onTriggerEnter:k.useCallback(()=>{c.isOpenDelayedRef.current?B():F()},[c.isOpenDelayedRef,B,F]),onTriggerLeave:k.useCallback(()=>{v?z():(window.clearTimeout(m.current),m.current=0)},[z,v]),onOpen:F,onClose:z,disableHoverableContent:v,children:n})})};Vz.displayName=Vm;var tS="TooltipTrigger",Wz=k.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=yg(tS,n),s=QC(tS,n),o=Bv(n),a=k.useRef(null),c=Zt(e,a,i.onTriggerChange),d=k.useRef(!1),f=k.useRef(!1),p=k.useCallback(()=>d.current=!1,[]);return k.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),l.jsx(M2,{asChild:!0,...o,children:l.jsx(vt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:Ue(t.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ue(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Ue(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Ue(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:Ue(t.onBlur,i.onClose),onClick:Ue(t.onClick,i.onClose)})})});Wz.displayName=tS;var ZC="TooltipPortal",[qde,Hde]=zv(ZC,{forceMount:void 0}),qz=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:i}=t,s=yg(ZC,e);return l.jsx(qde,{scope:e,forceMount:n,children:l.jsx(Pi,{present:n||s.open,children:l.jsx(cg,{asChild:!0,container:i,children:r})})})};qz.displayName=ZC;var lh="TooltipContent",Hz=k.forwardRef((t,e)=>{const n=Hde(lh,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=yg(lh,t.__scopeTooltip);return l.jsx(Pi,{present:r||o.open,children:o.disableHoverableContent?l.jsx(Gz,{side:i,...s,ref:e}):l.jsx(Gde,{side:i,...s,ref:e})})}),Gde=k.forwardRef((t,e)=>{const n=yg(lh,t.__scopeTooltip),r=QC(lh,t.__scopeTooltip),i=k.useRef(null),s=Zt(e,i),[o,a]=k.useState(null),{trigger:c,onClose:d}=n,f=i.current,{onPointerInTransitChange:p}=r,g=k.useCallback(()=>{a(null),p(!1)},[p]),m=k.useCallback((v,x)=>{const T=v.currentTarget,_={x:v.clientX,y:v.clientY},j=Jde(_,T.getBoundingClientRect()),w=Qde(_,j),F=Zde(x.getBoundingClientRect()),z=tfe([...w,...F]);a(z),p(!0)},[p]);return k.useEffect(()=>()=>g(),[g]),k.useEffect(()=>{if(c&&f){const v=T=>m(T,f),x=T=>m(T,c);return c.addEventListener("pointerleave",v),f.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",v),f.removeEventListener("pointerleave",x)}}},[c,f,m,g]),k.useEffect(()=>{if(o){const v=x=>{const T=x.target,_={x:x.clientX,y:x.clientY},j=(c==null?void 0:c.contains(T))||(f==null?void 0:f.contains(T)),w=!efe(_,o);j?g():w&&(g(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,f,o,d,g]),l.jsx(Gz,{...t,ref:s})}),[Kde,Yde]=zv(Vm,{isInside:!1}),Xde=vX("TooltipContent"),Gz=k.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,c=yg(lh,n),d=Bv(n),{onClose:f}=c;return k.useEffect(()=>(document.addEventListener(eS,f),()=>document.removeEventListener(eS,f)),[f]),k.useEffect(()=>{if(c.trigger){const p=g=>{const m=g.target;m!=null&&m.contains(c.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,f]),l.jsx(ag,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:l.jsxs(D2,{"data-state":c.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(Xde,{children:r}),l.jsx(Kde,{scope:n,isInside:!0,children:l.jsx(dQ,{id:c.contentId,role:"tooltip",children:i||r})})]})})});Hz.displayName=lh;var Kz="TooltipArrow",Yz=k.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Bv(n);return Yde(Kz,n).isInside?null:l.jsx(O2,{...i,...r,ref:e})});Yz.displayName=Kz;function Jde(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Qde(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Zde(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function efe(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],c=e[o],d=a.x,f=a.y,p=c.x,g=c.y;f>r!=g>r&&n<(p-d)*(r-f)/(g-f)+d&&(i=!i)}return i}function tfe(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),nfe(e)}function nfe(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var rfe=Uz,ife=Vz,sfe=Wz,ofe=qz,afe=Hz,lfe=Yz;function cfe({delayDuration:t=0,...e}){return l.jsx(rfe,{"data-slot":"tooltip-provider",delayDuration:t,...e})}function yn({...t}){return l.jsx(cfe,{children:l.jsx(ife,{"data-slot":"tooltip",...t})})}const xn=k.forwardRef(({...t},e)=>l.jsx(sfe,{ref:e,"data-slot":"tooltip-trigger",...t})),vn=k.forwardRef(({className:t,sideOffset:e=0,children:n,...r},i)=>l.jsx(ofe,{children:l.jsxs(afe,{ref:i,"data-slot":"tooltip-content",sideOffset:e,className:nt("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance","max-w-[240px] sm:max-w-xs","text-xs sm:text-xs",t),...r,children:[n,l.jsx(lfe,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})),ufe=()=>{const{connected:t,address:e}=_n(),{contracts:n,executeTransaction:r}=jn(),i=Lc(n,!1),{extractRevertReason:s}=F5(),[o,a]=k.useState(!1),[c,d]=k.useState(!1),[f,p]=k.useState(!1),[g,m]=k.useState({name:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""}),v=(T,_)=>{m(j=>({...j,[T]:_}))},x=async T=>{var _;if(T.preventDefault(),!t||!n.poolDeployer){re.error("Please connect your wallet and ensure contracts are configured");return}a(!0);try{const j=Math.floor(new Date(g.startTime).getTime()/1e3),w=parseInt(g.duration)*60,F=c&&g.holderTokenAddress?g.holderTokenAddress:$e,z=c?parseInt(g.holderTokenStandard):0,B=c&&g.minHolderTokenBalance?de.from(parseInt(g.minHolderTokenBalance)):de.from(0),H=c&&g.holderTokenId?parseInt(g.holderTokenId):0,Y={name:g.name,startTime:j,duration:w,slotLimit:parseInt(g.slotLimit),winnersCount:parseInt(g.winnersCount),maxSlotsPerParticipant:1,isPrized:!1,customSlotFee:0,erc721Drop:!1,erc1155Drop:!0,prizeCollection:$e,standard:0,prizeTokenId:0,amountPerWinner:0,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:$e,maxSupply:0,erc20PrizeToken:$e,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:F,holderTokenStandard:z,minHolderTokenBalance:B,holderTokenBalance:B,holderTokenId:H,socialEngagementRequired:f,socialTaskDescription:f?g.socialTaskDescription:"",description:g.description||"",twitterLink:g.twitterLink||"",discordLink:g.discordLink||"",telegramLink:g.telegramLink||""};let W=de.from(0);f&&(W=await n.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Fn(W),"ETH"));const q=await r(n.poolDeployer.createPool,Y,{value:W});q.success?(re.success("Your raffle was created successfully!"),m({name:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxSlotsPerParticipant:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialTaskDescription:"",socialTasks:[]}),d(!1),p(!1)):re.error(q.error||"Failed to create raffle")}catch(j){console.error("Error creating raffle:",j),(_=j.message)!=null&&_.includes("Transaction failed")||re.error(s(j))}finally{a(!1)}};return l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(x2,{className:"h-5 w-5"}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-semibold",children:"Whitelist Raffle"})]}),l.jsxs("form",{onSubmit:x,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Pool Name"}),l.jsx("input",{type:"text",value:g.name||"",onChange:T=>v("name",T.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:g.startTime||"",onChange:T=>v("startTime",T.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",i.minDuration&&i.maxDuration&&l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(i.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(i.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:g.duration||"",onChange:T=>v("duration",T.target.value),onWheel:T=>T.target instanceof HTMLElement&&T.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",i.minSlot&&i.maxSlot&&l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",i.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",i.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:g.slotLimit||"",onChange:T=>v("slotLimit",T.target.value),onWheel:T=>T.target instanceof HTMLElement&&T.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Number of Winning Slots",l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:"Winners must not exceed 30% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:g.winnersCount||"",onChange:T=>v("winnersCount",T.target.value),onWheel:T=>T.target instanceof HTMLElement&&T.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:"Each participant can only purchase one slot in Whitelist pools"})]})]}),l.jsx("input",{type:"number",value:1,disabled:!0,className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background opacity-60 cursor-not-allowed",required:!0})]})]}),l.jsx(Mc,{tokenGatedEnabled:c,onTokenGatedChange:d,formData:g,handleChange:v,required:!0}),l.jsx(Dc,{socialEngagementEnabled:f,onSocialEngagementChange:p,formData:g,handleChange:v,required:!1}),l.jsx(Oc,{formData:g,handleChange:v}),l.jsx("div",{className:"flex gap-4",children:l.jsx(Ee,{type:"submit",disabled:o||!t,variant:"primary",size:"lg",className:"flex-1",children:o?"Creating...":"Create Raffle"})})]})]})},dfe=()=>{const{connected:t,address:e,provider:n}=_n(),{contracts:r,executeTransaction:i}=jn(),{getCurrencyLabel:s}=Or(),o=Lc(r,!0),[a,c]=k.useState(!1),[d,f]=k.useState(!1),[p,g]=k.useState({name:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",customSlotFee:"",collectionName:"",collectionSymbol:"",baseURI:"",maxSupply:"",royaltyPercentage:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""});k.useEffect(()=>{e&&!p.royaltyRecipient&&g(x=>({...x,royaltyRecipient:e}))},[e]);const m=(x,T)=>{g(_=>({..._,[x]:T}))},v=async x=>{if(x.preventDefault(),!t||!r.poolDeployer||!n){re.error("Please connect your wallet and ensure contracts are configured");return}c(!0);try{console.log("NewERC721DropForm - Form data for debugging:",{customSlotFee:p.customSlotFee,royaltyPercentage:p.royaltyPercentage,maxSupply:p.maxSupply,winnersCount:p.winnersCount,minHolderTokenBalance:p.minHolderTokenBalance,holderTokenId:p.holderTokenId});const T=n.getSigner(),_=Math.floor(new Date(p.startTime).getTime()/1e3);let j=0;try{if(j=parseInt(p.duration)*60,isNaN(j)||j<=0)throw new Error("Invalid duration");console.log("duration parsed successfully:",j)}catch(C){console.error("Error parsing duration:",C,"Value:",p.duration),re.error("Invalid duration. Please enter a valid positive number."),c(!1);return}let w=0;try{p.customSlotFee&&p.customSlotFee.trim()!==""&&(w=pd(p.customSlotFee),console.log("customSlotFee parsed successfully:",w.toString()))}catch(C){console.error("Error parsing customSlotFee:",C,"Value:",p.customSlotFee),re.error("Invalid slot fee value. Please enter a valid number."),c(!1);return}let F=parseInt(p.revealType),z=p.unrevealedBaseURI,B=0;F===2&&(B=Math.floor(new Date(p.revealTime).getTime()/1e3)),F===0&&(z="",B=0);let H=0;try{p.royaltyPercentage&&p.royaltyPercentage.trim()!==""&&(H=parseInt(p.royaltyPercentage)*100,console.log("royaltyPercentage parsed successfully:",H))}catch(C){console.error("Error parsing royaltyPercentage:",C,"Value:",p.royaltyPercentage),re.error("Invalid royalty percentage. Please enter a valid number."),c(!1);return}let Y=0;try{Y=parseInt(p.maxSupply||p.winnersCount),console.log("maxSupply parsed successfully:",Y)}catch(C){console.error("Error parsing maxSupply:",C,"Values:",{maxSupply:p.maxSupply,winnersCount:p.winnersCount}),re.error("Invalid max supply value."),c(!1);return}let W=0,q=0,X=0;try{if(W=parseInt(p.slotLimit),isNaN(W)||W<=0)throw new Error("Invalid slot limit");console.log("slotLimit parsed successfully:",W)}catch(C){console.error("Error parsing slotLimit:",C,"Value:",p.slotLimit),re.error("Invalid slot limit. Please enter a valid positive number."),c(!1);return}try{if(q=parseInt(p.winnersCount),isNaN(q)||q<=0)throw new Error("Invalid winners count");console.log("winnersCount parsed successfully:",q)}catch(C){console.error("Error parsing winnersCount:",C,"Value:",p.winnersCount),re.error("Invalid winners count. Please enter a valid positive number."),c(!1);return}try{if(X=parseInt(p.maxSlotsPerParticipant),isNaN(X)||X<=0)throw new Error("Invalid max slots per participant");console.log("maxSlotsPerParticipant parsed successfully:",X)}catch(C){console.error("Error parsing maxSlotsPerParticipant:",C,"Value:",p.maxSlotsPerParticipant),re.error("Invalid max slots per participant. Please enter a valid positive number."),c(!1);return}const V={name:p.name,startTime:_,duration:j,slotLimit:W,winnersCount:q,maxSlotsPerParticipant:X,isPrized:!0,customSlotFee:w,erc721Drop:!1,erc1155Drop:!0,prizeCollection:$e,standard:0,prizeTokenId:0,amountPerWinner:1,collectionName:p.collectionName,collectionSymbol:p.collectionSymbol,collectionBaseURI:p.baseURI,creator:e,royaltyPercentage:H,royaltyRecipient:p.royaltyRecipient,maxSupply:Y,erc20PrizeToken:$e,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:F,unrevealedBaseURI:z,revealTime:B};let R=de.from(0),b=de.from(0),A=0;try{p.tokenGatedEnabled&&p.minHolderTokenBalance&&p.minHolderTokenBalance.trim()!==""&&(R=de.from(parseInt(p.minHolderTokenBalance)),b=de.from(parseInt(p.minHolderTokenBalance)),console.log("minHolderTokenBalance parsed successfully:",R.toString()))}catch(C){console.error("Error parsing minHolderTokenBalance:",C,"Value:",p.minHolderTokenBalance),re.error("Invalid minimum token balance. Please enter a valid number."),c(!1);return}try{p.tokenGatedEnabled&&p.holderTokenId&&p.holderTokenId.trim()!==""&&(A=parseInt(p.holderTokenId),console.log("holderTokenId parsed successfully:",A))}catch(C){console.error("Error parsing holderTokenId:",C,"Value:",p.holderTokenId),re.error("Invalid token ID. Please enter a valid number."),c(!1);return}V.holderTokenAddress=p.tokenGatedEnabled?p.holderTokenAddress:$e,V.holderTokenStandard=p.tokenGatedEnabled?parseInt(p.holderTokenStandard):0,V.minHolderTokenBalance=R,V.holderTokenBalance=b,V.holderTokenId=A,V.socialEngagementRequired=d,V.socialTaskDescription=d?p.socialTaskDescription:"",V.description=p.description||"",V.twitterLink=p.twitterLink||"",V.discordLink=p.discordLink||"",V.telegramLink=p.telegramLink||"";let D=de.from(0);d&&(D=await r.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Fn(D),"ETH")),await(await r.poolDeployer.connect(T).createPool(V,{value:D})).wait(),re.success("Your raffle was created successfully!"),g({name:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxSlotsPerParticipant:"",customSlotFee:"",collectionName:"",collectionSymbol:"",baseURI:"",maxSupply:"",royaltyPercentage:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(T){console.error("Error creating raffle:",T),sn(T)}finally{c(!1)}};return l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(b2,{className:"h-5 w-5"}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-semibold",children:"New ERC721 Collection Pool"})]}),l.jsxs("form",{onSubmit:v,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Pool Name"}),l.jsx("input",{type:"text",value:p.name||"",onChange:x=>m("name",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:p.startTime||"",onChange:x=>m("startTime",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",o.minDuration&&o.maxDuration&&l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(o.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(o.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:p.duration||"",onChange:x=>m("duration",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",o.minSlot&&o.maxSlot&&l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",o.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",o.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:p.slotLimit||"",onChange:x=>m("slotLimit",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Number of Winning Slots",l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:"Winners must not exceed 30% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:p.winnersCount||"",onChange:x=>m("winnersCount",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:"Max Slots Per Participant must not exceed 0.1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:p.maxSlotsPerParticipant||"",onChange:x=>m("maxSlotsPerParticipant",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:s("ticket")}),l.jsx("input",{type:"number",step:"0.001",value:p.customSlotFee||"",onChange:x=>m("customSlotFee",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",placeholder:"Leave empty to use protocol default"})]})]}),l.jsxs("div",{className:"bg-muted/20 border border-border rounded-xl p-4 mt-4 shadow-md",children:[l.jsx("h4",{className:"font-semibold text-base mb-4",children:"NFT Collection Info"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Collection Name"}),l.jsx("input",{type:"text",value:p.collectionName||"",onChange:x=>m("collectionName",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Collection Symbol"}),l.jsx("input",{type:"text",value:p.collectionSymbol||"",onChange:x=>m("collectionSymbol",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Base URI"}),l.jsx("input",{type:"url",value:p.baseURI||"",onChange:x=>m("baseURI",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Max Supply"}),l.jsx("input",{type:"number",value:p.maxSupply||"",onChange:x=>m("maxSupply",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Royalty Percentage (%)"}),l.jsx("input",{type:"number",value:p.royaltyPercentage||"",onChange:x=>m("royaltyPercentage",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",min:"0",step:"0.01",placeholder:"e.g. 5 for 5%"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Enter as a percentage (e.g. 5 for 5%)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Royalty Recipient"}),l.jsx("input",{type:"text",value:p.royaltyRecipient||"",onChange:x=>m("royaltyRecipient",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0,pattern:"^0x[a-fA-F0-9]{40}$"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Must be a valid Ethereum address"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Reveal Type"}),l.jsxs(ed,{value:p.revealType,onValueChange:x=>m("revealType",x),required:!0,children:[l.jsx(nd,{className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",children:l.jsx(td,{placeholder:"Select Reveal Type"})}),l.jsxs(rd,{children:[l.jsx(Ei,{value:"0",children:"Instant Reveal"}),l.jsx(Ei,{value:"1",children:"Manual Reveal"}),l.jsx(Ei,{value:"2",children:"Scheduled Reveal"})]})]})]}),l.jsx("div",{}),(p.revealType==="1"||p.revealType==="2")&&l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Unrevealed Base URI"}),l.jsx("input",{type:"url",value:p.unrevealedBaseURI||"",onChange:x=>m("unrevealedBaseURI",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:p.revealType==="1"||p.revealType==="2"})]}),p.revealType==="2"&&l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Reveal Time"}),l.jsx("input",{type:"datetime-local",value:p.revealTime||"",onChange:x=>m("revealTime",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:p.revealType==="2"})]})]})]}),l.jsx(Mc,{formData:p,handleChange:m,required:!0,useFormDataEnabled:!0}),l.jsx(Dc,{formData:p,handleChange:m,socialEngagementEnabled:d,setSocialEngagementEnabled:f}),l.jsx(Oc,{formData:p,handleChange:m}),l.jsx("div",{className:"flex gap-4",children:l.jsx(Ee,{type:"submit",disabled:a||!t,variant:"primary",size:"lg",className:"flex-1",children:a?"Creating...":"Create Raffle"})})]})]})};function ffe(){const{connected:t,address:e,provider:n}=_n(),{contracts:r,executeTransaction:i}=jn(),{getCurrencyLabel:s}=Or(),o=Lc(r,!0),[a,c]=k.useState(!1),[d,f]=k.useState(!1),[p,g]=k.useState(!1),[m,v]=k.useState({name:"",collection:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerUser:"",slotFee:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""}),x=(_,j)=>{v(w=>({...w,[_]:j}))},T=async _=>{if(_.preventDefault(),!t||!r.poolDeployer||!n){re.error("Please connect your wallet and ensure contracts are configured");return}c(!0);try{const j=n.getSigner(),w=Math.floor(new Date(m.startTime).getTime()/1e3),F=parseInt(m.duration)*60,z=m.slotFee?pd(m.slotFee):0,B=d&&m.holderTokenAddress?m.holderTokenAddress:$e,H=d?parseInt(m.holderTokenStandard):0,Y=d&&m.minHolderTokenBalance?de.from(parseInt(m.minHolderTokenBalance)):de.from(0),W=d&&m.holderTokenId?parseInt(m.holderTokenId):0,q={name:m.name,startTime:w,duration:F,slotLimit:parseInt(m.slotLimit),winnersCount:parseInt(m.winnersCount),maxSlotsPerParticipant:parseInt(m.maxTicketsPerUser),isPrized:!0,customSlotFee:z,erc721Drop:!0,erc1155Drop:!1,prizeCollection:m.collection,standard:0,prizeTokenId:0,amountPerWinner:1,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:$e,maxSupply:0,erc20PrizeToken:$e,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:B,holderTokenStandard:H,minHolderTokenBalance:Y,holderTokenBalance:d&&m.minHolderTokenBalance?de.from(parseInt(m.minHolderTokenBalance)):de.from(0),holderTokenId:W,socialEngagementRequired:p,socialTaskDescription:p?m.socialTaskDescription:"",description:m.description||"",twitterLink:m.twitterLink||"",discordLink:m.discordLink||"",telegramLink:m.telegramLink||""};let X=de.from(0);p&&(X=await r.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Fn(X),"ETH")),await(await r.poolDeployer.connect(j).createPool(q,{value:X})).wait(),re.success("Your raffle was created successfully!"),v({name:"",collection:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerUser:"",slotFee:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),f(!1)}catch(j){console.error("Error creating raffle:",j),re.error($v(j))}finally{c(!1)}};return l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(T6,{className:"h-5 w-5"}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-semibold",children:"Existing ERC721 Prize Pool"})]}),l.jsxs("form",{onSubmit:T,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Pool Name"}),l.jsx("input",{type:"text",value:m.name||"",onChange:_=>x("name",_.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Prize Collection Address"}),l.jsx("div",{className:"relative",children:l.jsx(Input,{type:"text",placeholder:"0x...",value:m.collection,onChange:_=>x("collection",_.target.value),className:"font-mono"})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:m.startTime||"",onChange:_=>x("startTime",_.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",o.minDuration&&o.maxDuration&&l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(o.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(o.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",min:"1",value:m.duration||"",onChange:_=>x("duration",_.target.value),onWheel:_=>_.target instanceof HTMLElement&&_.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",o.minSlot&&o.maxSlot&&l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",o.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",o.maxSlot]})})]})]}),l.jsx("input",{type:"number",min:"1",value:m.slotLimit||"",onChange:_=>x("slotLimit",_.target.value),onWheel:_=>_.target instanceof HTMLElement&&_.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Number of Winning Slots",l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:"Winners must not exceed 30% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:m.winnersCount||"",onChange:_=>x("winnersCount",_.target.value),onWheel:_=>_.target instanceof HTMLElement&&_.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:"Max Slots Per Participant must not exceed 0.1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",min:"1",value:m.maxTicketsPerUser||"",onChange:_=>x("maxTicketsPerUser",_.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:[s("ticket")," ",l.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"(Enter 0 for NFT giveaway)"})]}),l.jsx("input",{type:"number",min:"0",step:"any",value:m.slotFee||"",onChange:_=>x("slotFee",_.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsx(Mc,{tokenGatedEnabled:d,onTokenGatedChange:f,formData:m,handleChange:x,required:!0}),l.jsx(Dc,{formData:m,handleChange:x,socialEngagementEnabled:p,setSocialEngagementEnabled:g}),l.jsx(Oc,{formData:m,handleChange:x}),l.jsx("div",{className:"flex gap-4",children:l.jsx(Ee,{type:"submit",disabled:a||!t,variant:"primary",size:"lg",className:"flex-1",children:a?"Creating...":"Create Raffle"})})]})]})}function hfe(){const{connected:t,address:e,provider:n}=_n(),{contracts:r}=jn(),{getCurrencyLabel:i}=Or(),s=Lc(r,!0),[o,a]=k.useState(!1),[c,d]=k.useState(!1),[f,p]=k.useState({name:"",collectionAddress:"",tokenId:"",amountPerWinner:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxSlotsPerParticipant:"",slotFee:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""}),g=(v,x)=>{p(T=>({...T,[v]:x}))},m=async v=>{if(v.preventDefault(),!t||!r.poolDeployer||!n){re.error("Please connect your wallet and ensure contracts are configured");return}a(!0);try{const x=n.getSigner(),T=Math.floor(new Date(f.startTime).getTime()/1e3),_=parseInt(f.duration)*60,j=f.slotFee&&f.slotFee!==""?pd(String(f.slotFee)):0,w={name:f.name,startTime:T,duration:_,slotLimit:parseInt(f.slotLimit),winnersCount:parseInt(f.winnersCount),maxSlotsPerParticipant:parseInt(f.maxSlotsPerParticipant),isPrized:!0,customSlotFee:j,erc721Drop:!1,erc1155Drop:!0,prizeCollection:f.collectionAddress,standard:1,prizeTokenId:parseInt(f.tokenId),amountPerWinner:parseInt(f.amountPerWinner),collectionSymbol:"",collectionBaseURI:"",collectionName:"",creator:e,royaltyPercentage:0,royaltyRecipient:$e,maxSupply:0,erc20PrizeToken:$e,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:f.tokenGatedEnabled&&f.holderTokenAddress||$e,holderTokenStandard:f.tokenGatedEnabled?parseInt(f.holderTokenStandard):0,minHolderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance!==""?de.from(parseInt(f.minHolderTokenBalance)):de.from(0),holderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance!==""?de.from(parseInt(f.minHolderTokenBalance)):de.from(0),holderTokenId:f.tokenGatedEnabled&&(f.holderTokenStandard==="0"||f.holderTokenStandard==="1")&&f.holderTokenId!==""?parseInt(f.holderTokenId):0,socialEngagementRequired:c,socialTaskDescription:c?f.socialTaskDescription:"",description:f.description||"",twitterLink:f.twitterLink||"",discordLink:f.discordLink||"",telegramLink:f.telegramLink||""};let F=de.from(0);c&&(F=await r.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Fn(F),"ETH")),await(await r.poolDeployer.connect(x).createPool(w,{value:F})).wait(),re.success("Your raffle was created successfully!"),p({name:"",collectionAddress:"",tokenId:"",amountPerWinner:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxSlotsPerParticipant:"",slotFee:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(x){console.error("Error creating raffle:",x),sn(x)}finally{a(!1)}};return l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(T6,{className:"h-5 w-5"}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-semibold",children:"Existing ERC1155 Collection Pool"})]}),l.jsxs("form",{onSubmit:m,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Pool Name"}),l.jsx("input",{type:"text",value:f.name||"",onChange:v=>g("name",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Prize Collection Address"}),l.jsx("div",{className:"relative",children:l.jsx("input",{type:"text",value:f.collectionAddress||"",onChange:v=>g("collectionAddress",v.target.value),className:"w-full px-3 py-2.5 pr-10 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Prize Token ID"}),l.jsx("input",{type:"number",min:"0",value:f.tokenId||"",onChange:v=>g("tokenId",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Amount Per Winner"}),l.jsx("input",{type:"number",min:"1",value:f.amountPerWinner||"",onChange:v=>g("amountPerWinner",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:f.startTime||"",onChange:v=>g("startTime",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",s.minDuration&&s.maxDuration&&l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(s.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(s.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:f.duration||"",onChange:v=>g("duration",v.target.value),onWheel:v=>v.target instanceof HTMLElement&&v.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",s.minSlot&&s.maxSlot&&l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",s.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",s.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:f.slotLimit||"",onChange:v=>g("slotLimit",v.target.value),onWheel:v=>v.target instanceof HTMLElement&&v.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Number of Winning Slots",l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:"Winners must not exceed 30% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:f.winnersCount||"",onChange:v=>g("winnersCount",v.target.value),onWheel:v=>v.target instanceof HTMLElement&&v.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:"Max Slots Per Participant must not exceed 0.1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:f.maxSlotsPerParticipant||"",onChange:v=>g("maxSlotsPerParticipant",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:i("ticket")}),l.jsx("input",{type:"number",step:"0.001",value:f.slotFee||"",onChange:v=>g("slotFee",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",placeholder:"Leave empty to use protocol default"})]})]}),l.jsx(Mc,{formData:f,handleChange:g,required:!0,useFormDataEnabled:!0}),l.jsx(Dc,{formData:f,handleChange:g,socialEngagementEnabled:c,setSocialEngagementEnabled:d}),l.jsx(Oc,{formData:f,handleChange:g}),l.jsx("div",{className:"flex gap-4",children:l.jsx(Ee,{type:"submit",disabled:o||!t,variant:"primary",size:"lg",className:"flex-1 text-base h-12",children:o?"Creating...":"Create Raffle"})})]})]})}const pfe=()=>{const{connected:t,chainId:e}=_n(),{contracts:n}=jn();Or();const r=()=>{if(!e||!Gt[e])return!1;const q=Gt[e].contractAddresses;return(q==null?void 0:q.poolDeployer)&&q.poolDeployer!=="0x..."&&(q==null?void 0:q.protocolManager)&&q.protocolManager!=="0x..."},[i,s]=k.useState(null),[o,a]=k.useState("Whitelist/Allowlist"),[c,d]=k.useState("ERC721"),[f,p]=k.useState("New ERC721 Collection"),[g,m]=k.useState("Internal NFT Prize"),[v,x]=k.useState("Internal NFT Prize"),[T,_]=k.useState("Internal NFT Prize"),[j,w]=k.useState("New ERC1155 Collection"),[F,z]=k.useState(""),[B,H]=k.useState(!1);k.useEffect(()=>{(async()=>{if(o==="NFTDrop"&&c==="ERC721"&&f==="Existing ERC721 Collection"&&n.protocolManager)try{const X=await n.protocolManager.toggleAllowExistingCollection();s(!!X)}catch{s(!1)}})()},[o,c,f,n.protocolManager]),k.useEffect(()=>{o==="NFTDrop"&&c==="ERC721"&&f==="New ERC721 Collection"&&z("")},[o,c,f]);const Y=()=>{if(o==="Whitelist/Allowlist")return l.jsx(ufe,{});if(o==="NFTDrop"){if(c==="ERC721"){if(f==="New ERC721 Collection")return l.jsx(dfe,{});if(f==="Existing ERC721 Collection")return l.jsx(ffe,{collectionAddress:F,setCollectionAddress:z})}if(c==="ERC1155"){if(j==="New ERC1155 Collection")return l.jsx(vfe,{});if(j==="Existing ERC1155 Collection")return l.jsx(hfe,{})}}if(o==="Lucky Sale/NFT Pool"){if(c==="ERC721")return l.jsx(mfe,{});if(c==="ERC1155")return l.jsx(LuckySaleERC1155Form,{})}return o==="Native Token Pool"?l.jsx(gfe,{}):o==="ERC20 Token Pool"?l.jsx(yfe,{}):null},{isMobile:W}=gr();return t?r()?l.jsx("div",{className:"min-h-screen bg-background pb-6",children:l.jsxs("div",{className:`${W?"px-4":"container mx-auto px-8"} pt-8 pb-4`,children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:`text-3xl font-bold mb-4 font-display ${W?"text-2xl mb-2":""}`,children:"Create an onchain raffle pool for your community"}),l.jsxs("p",{className:"text-muted-foreground text-[length:var(--text-base)] leading-relaxed",children:["Click ",l.jsx("a",{href:"#",onClick:q=>{q.preventDefault(),H(!0)},className:"text-primary hover:text-primary/90 no-underline font-medium transition-colors",children:"here"})," to configure your pool"]})]}),l.jsx("div",{className:`max-w-7xl mx-auto ${W?"mt-6":"mt-16"}`,children:W?l.jsx("div",{className:"space-y-4",children:l.jsx("div",{className:"w-full",children:Y()})}):l.jsx("div",{className:"flex gap-2 items-start",children:l.jsx("div",{className:"flex-1",children:Y()})})}),l.jsx($de,{isOpen:B,onToggle:()=>H(!B),raffleType:o,setRaffleType:a,nftStandard:c,setNftStandard:d,erc721Source:f,setErc721Source:p,erc1155Source:j,setErc1155Source:w})]})}):l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsx(YC,{error:"CONTRACTS_NOT_AVAILABLE",onRetry:null,isMobile:W,showCreateButton:!1})}):l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(go,{className:`mx-auto mb-4 text-muted-foreground ${W?"h-12 w-12":"h-16 w-16"}`}),l.jsx("h2",{className:`font-bold mb-2 ${W?"text-xl":"text-2xl"}`,children:"Connect Your Wallet"}),l.jsx("p",{className:`text-muted-foreground ${W?"text-sm":"text-base"}`,children:"Please connect your wallet to create pools and deploy collections."})]})})};function mfe(){const{connected:t,address:e,provider:n}=_n(),{contracts:r}=jn(),{isMobile:i}=gr(),{getCurrencyLabel:s}=Or(),o=Lc(r,!0),[a,c]=k.useState(!1),[d,f]=k.useState(!1),[p,g]=k.useState({name:"",collectionAddress:"",tokenId:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",slotFee:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"0",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""}),m=(x,T)=>{g(_=>({..._,[x]:T}))},v=async x=>{if(x.preventDefault(),!t||!r.poolDeployer||!n){re.error("Please connect your wallet and ensure contracts are configured");return}c(!0);try{const T=n.getSigner(),_=await Xz({signer:T,tokenAddress:p.collectionAddress,prizeType:"erc721",spender:r.poolDeployer.address,tokenId:p.tokenId});if(!_.success){re.error("Token approval failed: "+_.error),c(!1);return}_.alreadyApproved||(re.success("ERC721 approval successful!"),await new Promise(Y=>setTimeout(Y,2e3)));const j=Math.floor(new Date(p.startTime).getTime()/1e3),w=parseInt(p.duration)*60,F=p.slotFee?pd(p.slotFee):0,z={name:p.name,startTime:j,duration:w,slotLimit:parseInt(p.slotLimit),winnersCount:parseInt(p.winnersCount),maxSlotsPerParticipant:parseInt(p.maxSlotsPerParticipant),isPrized:!0,customSlotFee:F,erc721Drop:!1,prizeCollection:p.collectionAddress,standard:0,prizeTokenId:parseInt(p.tokenId),amountPerWinner:1,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:$e,maxSupply:0,erc20PrizeToken:$e,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:p.tokenGatedEnabled?p.holderTokenAddress:$e,holderTokenStandard:p.tokenGatedEnabled?parseInt(p.holderTokenStandard):0,minHolderTokenBalance:p.tokenGatedEnabled&&p.minHolderTokenBalance!==""&&p.minHolderTokenBalance!==void 0?de.from(parseInt(p.minHolderTokenBalance)):de.from(0),holderTokenBalance:p.tokenGatedEnabled&&p.minHolderTokenBalance!==""&&p.minHolderTokenBalance!==void 0?de.from(parseInt(p.minHolderTokenBalance)):de.from(0),holderTokenId:p.tokenGatedEnabled&&(p.holderTokenStandard==="0"||p.holderTokenStandard==="1")&&p.holderTokenId!==""&&p.holderTokenId!==void 0?parseInt(p.holderTokenId):0,socialEngagementRequired:d,socialTaskDescription:d?p.socialTaskDescription:"",description:p.description||"",twitterLink:p.twitterLink||"",discordLink:p.discordLink||"",telegramLink:p.telegramLink||""};let B=de.from(0);d&&(B=await r.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Fn(B),"ETH")),await(await r.poolDeployer.connect(T).createPool(z,{value:B})).wait(),re.success("Your raffle was created successfully!"),g({name:"",collectionAddress:"",tokenId:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",slotFee:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"0"})}catch(T){console.error("Error creating raffle:",T),re.error($v(T))}finally{c(!1)}};return l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(b2,{className:"h-5 w-5"}),l.jsx("h3",{className:`font-semibold ${i?"text-lg":"text-xl"}`,children:"Lucky Sale (ERC721 Escrowed Prize)"})]}),l.jsxs("form",{onSubmit:v,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Pool Name"}),l.jsx("input",{type:"text",value:p.name||"",onChange:x=>m("name",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Prize Collection Address"}),l.jsx("div",{className:"relative",children:l.jsx("input",{type:"text",value:p.collectionAddress||"",onChange:x=>m("collectionAddress",x.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Prize Token ID"}),l.jsx("input",{type:"number",min:"0",value:p.tokenId||"",onChange:x=>m("tokenId",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:p.startTime||"",onChange:x=>m("startTime",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",o.minDuration&&o.maxDuration&&l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(o.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(o.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:p.duration||"",onChange:x=>m("duration",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",o.minSlot&&o.maxSlot&&l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",o.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",o.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:p.slotLimit||"",onChange:x=>m("slotLimit",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Number of Winning Slots",l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:"This raffle type supports only one Winner"})]})]}),l.jsx("input",{type:"number",value:p.winnersCount||"",onChange:x=>m("winnersCount",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:"Max Slots Per Participant must not exceed 0.1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:p.maxSlotsPerParticipant||"",onChange:x=>m("maxSlotsPerParticipant",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:[s("ticket")," ",l.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"(Enter 0 for NFT giveaway)"})]}),l.jsx("input",{type:"number",step:"any",value:p.slotFee||"",onChange:x=>m("slotFee",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsx(Mc,{formData:p,handleChange:m,required:!0,useFormDataEnabled:!0}),l.jsx(Dc,{formData:p,handleChange:m,socialEngagementEnabled:d,setSocialEngagementEnabled:f}),l.jsx(Oc,{formData:p,handleChange:m}),l.jsx("div",{className:"flex gap-4",children:l.jsx(Ee,{type:"submit",disabled:a||!t,variant:"primary",size:"lg",className:"flex-1 text-base h-12",children:a?"Approving & Creating...":"Approve Prize & Create Raffle"})})]})]})}function gfe(){const{connected:t,address:e,provider:n}=_n(),{contracts:r,executeTransaction:i}=jn(),{isMobile:s}=gr(),{getCurrencyLabel:o}=Or(),a=Lc(r,!0),[c,d]=k.useState(!1),[f,p]=k.useState(!1),[g,m]=k.useState({name:"",ethAmount:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"0",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""}),v=(T,_)=>{m(j=>({...j,[T]:_}))},x=async T=>{if(T.preventDefault(),!t||!r.poolDeployer||!n){re.error("Please connect your wallet and ensure contracts are configured");return}d(!0);try{const _=n.getSigner(),j=Math.floor(new Date(g.startTime).getTime()/1e3),w=parseInt(g.duration)*60,F=g.ethAmount?pd(g.ethAmount):de.from(0),z={name:g.name,startTime:j,duration:w,slotLimit:parseInt(g.slotLimit),winnersCount:parseInt(g.winnersCount),maxSlotsPerParticipant:parseInt(g.maxSlotsPerParticipant),isPrized:!0,customSlotFee:0,erc721Drop:!1,prizeCollection:$e,standard:3,prizeTokenId:0,amountPerWinner:0,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:$e,maxSupply:0,erc20PrizeToken:$e,erc20PrizeAmount:de.from(0),nativePrizeAmount:F,revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:g.tokenGatedEnabled?g.holderTokenAddress:$e,holderTokenStandard:g.tokenGatedEnabled?parseInt(g.holderTokenStandard):0,minHolderTokenBalance:g.tokenGatedEnabled&&g.minHolderTokenBalance!==""&&g.minHolderTokenBalance!==void 0?de.from(parseInt(g.minHolderTokenBalance)):de.from(0),holderTokenBalance:g.tokenGatedEnabled&&g.minHolderTokenBalance!==""&&g.minHolderTokenBalance!==void 0?de.from(parseInt(g.minHolderTokenBalance)):de.from(0),holderTokenId:g.tokenGatedEnabled&&(g.holderTokenStandard==="0"||g.holderTokenStandard==="1")&&g.holderTokenId!==""&&g.holderTokenId!==void 0?parseInt(g.holderTokenId):0,socialEngagementRequired:f,socialTaskDescription:f?g.socialTaskDescription:"",description:g.description||"",twitterLink:g.twitterLink||"",discordLink:g.discordLink||"",telegramLink:g.telegramLink||""};let B=de.from(0);f&&(B=await r.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Fn(B),"ETH"));const H=F.add(B);console.log("Native prize amount:",Fn(F),"ETH"),console.log("Total value to send:",Fn(H),"ETH");let Y={success:!1};try{const W=await r.poolDeployer.connect(_).createPool(z,{value:H});Y={success:!0,receipt:await W.wait(),hash:W.hash}}catch(W){Y={success:!1,error:W.message}}if(Y.success)re.success("Your raffle was created successfully!"),m({name:"",ethAmount:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"0",socialTaskDescription:"",socialTasks:[]});else throw new Error(Y.error)}catch(_){console.error("Error creating raffle:",_),re.error($v(_))}finally{d(!1)}};return l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(x2,{className:"h-5 w-5"}),l.jsxs("h3",{className:`font-semibold ${s?"text-lg":"text-xl"}`,children:[o()," Giveaway"]})]}),l.jsxs("form",{onSubmit:x,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Pool Name"}),l.jsx("input",{type:"text",value:g.name||"",onChange:T=>v("name",T.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:o("prize")}),l.jsx("input",{type:"number",min:"0.00000001",step:"any",value:g.ethAmount||"",onChange:T=>v("ethAmount",T.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:g.startTime||"",onChange:T=>v("startTime",T.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",a.minDuration&&a.maxDuration&&l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(a.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(a.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:g.duration||"",onChange:T=>v("duration",T.target.value),onWheel:T=>T.target instanceof HTMLElement&&T.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",a.minSlot&&a.maxSlot&&l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",a.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",a.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:g.slotLimit||"",onChange:T=>v("slotLimit",T.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Number of Winning Slots",l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:"Winners must not exceed 30% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:g.winnersCount||"",onChange:T=>v("winnersCount",T.target.value),onWheel:T=>T.target instanceof HTMLElement&&T.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:"Max Slots Per Participant must not exceed 0.1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:g.maxSlotsPerParticipant||"",onChange:T=>v("maxSlotsPerParticipant",T.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]})]}),l.jsx(Mc,{formData:g,handleChange:v,required:!0,useFormDataEnabled:!0}),l.jsx(Dc,{formData:g,handleChange:v,socialEngagementEnabled:f,setSocialEngagementEnabled:p}),l.jsx(Oc,{formData:g,handleChange:v}),l.jsx("div",{className:"flex gap-4",children:l.jsx(Ee,{type:"submit",disabled:c||!t,variant:"primary",size:"lg",className:"flex-1 text-base h-12",children:c?"Creating...":"Create Raffle"})})]})]})}function yfe(){const{connected:t,address:e,provider:n}=_n(),{contracts:r}=jn(),{isMobile:i}=gr(),s=Lc(r,!0),[o,a]=k.useState(!1),[c,d]=k.useState(!1),[f,p]=k.useState({name:"",tokenAddress:"",tokenAmount:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxSlotsPerParticipant:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"0",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""}),g=(v,x)=>{p(T=>({...T,[v]:x}))},m=async v=>{if(v.preventDefault(),!t||!r.poolDeployer||!n){re.error("Please connect your wallet and ensure contracts are configured");return}a(!0);try{const x=n.getSigner(),T=await Xz({signer:x,tokenAddress:f.tokenAddress,prizeType:"erc20",spender:r.poolDeployer.address,amount:f.tokenAmount});if(!T.success){re.error("Token approval failed: "+T.error),a(!1);return}T.alreadyApproved||(re.success("Token approval granted"),await new Promise(Y=>setTimeout(Y,2e3)));const _=await new Vt(f.tokenAddress,Ut.erc20,x).decimals(),j=Math.floor(new Date(f.startTime).getTime()/1e3),w=parseInt(f.duration)*60,F=f.tokenAmount?MS(f.tokenAmount,_):de.from(0),z={name:f.name,startTime:j,duration:w,slotLimit:parseInt(f.slotLimit),winnersCount:parseInt(f.winnersCount),maxSlotsPerParticipant:parseInt(f.maxSlotsPerParticipant),isPrized:!0,customSlotFee:de.from(0),erc721Drop:!1,prizeCollection:$e,standard:2,prizeTokenId:0,amountPerWinner:0,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:$e,maxSupply:0,erc20PrizeToken:f.tokenAddress,erc20PrizeAmount:F,nativePrizeAmount:de.from(0),revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:f.tokenGatedEnabled?f.holderTokenAddress:$e,holderTokenStandard:f.tokenGatedEnabled?parseInt(f.holderTokenStandard):0,minHolderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance!==""&&f.minHolderTokenBalance!==void 0?de.from(parseInt(f.minHolderTokenBalance)):de.from(0),holderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance!==""&&f.minHolderTokenBalance!==void 0?de.from(parseInt(f.minHolderTokenBalance)):de.from(0),holderTokenId:f.tokenGatedEnabled&&(f.holderTokenStandard==="0"||f.holderTokenStandard==="1")&&f.holderTokenId!==""&&f.holderTokenId!==void 0?parseInt(f.holderTokenId):0,socialEngagementRequired:c,socialTaskDescription:c?f.socialTaskDescription:"",description:f.description||"",twitterLink:f.twitterLink||"",discordLink:f.discordLink||"",telegramLink:f.telegramLink||""};let B=de.from(0);c&&(B=await r.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Fn(B),"ETH")),await(await r.poolDeployer.connect(x).createPool(z,{value:B})).wait(),re.success("Your raffle was created successfully!"),p({name:"",tokenAddress:"",tokenAmount:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxSlotsPerParticipant:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"0",socialTaskDescription:"",socialTasks:[]})}catch(x){console.error("Error creating raffle:",x),re.error($v(x))}finally{a(!1)}};return l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(x2,{className:"h-5 w-5"}),l.jsx("h3",{className:`font-semibold ${i?"text-lg":"text-xl"}`,children:"ERC20 Token Giveaway"})]}),l.jsxs("form",{onSubmit:m,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Pool Name"}),l.jsx("input",{type:"text",value:f.name||"",onChange:v=>g("name",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Token Address"}),l.jsx("div",{className:"relative",children:l.jsx("input",{type:"text",value:f.tokenAddress||"",onChange:v=>g("tokenAddress",v.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Total Token Amount"}),l.jsx("input",{type:"number",min:"0.00000001",step:"any",value:f.tokenAmount||"",onChange:v=>g("tokenAmount",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:f.startTime||"",onChange:v=>g("startTime",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",s.minDuration&&s.maxDuration&&l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(s.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(s.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:f.duration||"",onChange:v=>g("duration",v.target.value),onWheel:v=>v.target instanceof HTMLElement&&v.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",s.minSlot&&s.maxSlot&&l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",s.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",s.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:f.slotLimit||"",onChange:v=>g("slotLimit",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Number of Winning Slots",l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:"Winners must not exceed 30% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:f.winnersCount||"",onChange:v=>g("winnersCount",v.target.value),onWheel:v=>v.target instanceof HTMLElement&&v.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:"Max Slots Per Participant must not exceed 0.1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:f.maxSlotsPerParticipant||"",onChange:v=>g("maxSlotsPerParticipant",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]})]}),l.jsx(Mc,{formData:f,handleChange:g,required:!0,useFormDataEnabled:!0}),l.jsx(Dc,{formData:f,handleChange:g,socialEngagementEnabled:c,setSocialEngagementEnabled:d}),l.jsx(Oc,{formData:f,handleChange:g}),l.jsx("div",{className:"flex gap-4",children:l.jsx(Ee,{type:"submit",disabled:o||!t,variant:"primary",size:"lg",className:"flex-1 text-base h-12",children:o?"Approving & Creating...":"Approve Prize & Create Raffle"})})]})]})}async function xfe(t,e,n,r,i,s){try{let o;const a=await t.getAddress();if(n==="erc20"){o=new Vt(e,Ut.erc20,t);const c=await o.decimals(),d=MS(i,c),f=await o.allowance(a,r);if(f.gte(d))return!0;if(f.isZero())try{const p=await t.provider.getBlockNumber(),g=Math.max(0,p-1e3),m="0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925",v="0x"+a.slice(2).padStart(64,"0"),x="0x"+r.slice(2).padStart(64,"0"),T=await t.provider.getLogs({address:e,topics:[m,v,x],fromBlock:g,toBlock:p});for(const _ of T)if(de.from(_.data).gte(d))return!0}catch{}return!1}else if(n==="erc721"){o=new Vt(e,Ut.erc721Prize,t);try{if(await o.isApprovedForAll(a,r))return!0}catch{}const c=await o.getApproved(s);return c&&c.toLowerCase()===r.toLowerCase()}else if(n==="erc1155")return o=new Vt(e,Ut.erc1155Prize,t),await o.isApprovedForAll(a,r);return!1}catch{return!1}}async function Xz({signer:t,tokenAddress:e,prizeType:n,spender:r,amount:i,tokenId:s}){try{if(await xfe(t,e,n,r,i,s))return{success:!0,alreadyApproved:!0};let a,c;if(n==="erc20"){a=new Vt(e,Ut.erc20,t);const d=e5;c=await a.approve(r,d)}else if(n==="erc721"){a=new Vt(e,Ut.erc721Prize,t);try{c=await a.setApprovalForAll(r,!0)}catch(d){if(d.code===4001)throw d;console.log("setApprovalForAll failed, falling back to individual approval:",d.message),c=await a.approve(r,s)}}else n==="erc1155"&&(a=new Vt(e,Ut.erc1155Prize,t),c=await a.setApprovalForAll(r,!0));return await c.wait(),await new Promise(d=>setTimeout(d,2e3)),{success:!0}}catch(o){return{success:!1,error:o.message}}}function $v(t){var r,i;if(t!=null&&t.reason)return t.reason;if((r=t==null?void 0:t.data)!=null&&r.message)return t.data.message;const e=(t==null?void 0:t.message)||((i=t==null?void 0:t.data)==null?void 0:i.message)||(t==null?void 0:t.toString())||"",n=e.match(/execution reverted:?\s*([^\n]*)/i);return n&&n[1]?n[1].trim():e}function vfe(){const{connected:t,address:e,provider:n}=_n(),{contracts:r}=jn(),{getCurrencyLabel:i}=Or(),s=Lc(r,!0),[o,a]=k.useState(!1),[c,d]=k.useState(!1),[f,p]=k.useState({name:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",customSlotFee:"",baseURI:"",maxSupply:"",royaltyPercentage:"",prizeTokenId:"1",amountPerWinner:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""});k.useEffect(()=>{e&&!f.royaltyRecipient&&p(v=>({...v,royaltyRecipient:e}))},[e]);const g=(v,x)=>{p(T=>({...T,[v]:x}))},m=async v=>{if(v.preventDefault(),!t||!r.poolDeployer||!n){re.error("Please connect your wallet and ensure contracts are configured");return}a(!0);try{const x=n.getSigner(),T=Math.floor(new Date(f.startTime).getTime()/1e3),_=parseInt(f.duration)*60,j=f.customSlotFee&&f.customSlotFee.trim()!==""?pd(f.customSlotFee):0;let w=parseInt(f.revealType),F=f.unrevealedBaseURI,z=0;w===2&&(z=Math.floor(new Date(f.revealTime).getTime()/1e3)),w===0&&(F="",z=0);const B={name:f.name,startTime:T,duration:_,slotLimit:parseInt(f.slotLimit),winnersCount:parseInt(f.winnersCount),maxSlotsPerParticipant:parseInt(f.maxSlotsPerParticipant),isPrized:!0,customSlotFee:j,erc721Drop:!1,erc1155Drop:!1,prizeCollection:$e,standard:1,prizeTokenId:parseInt(f.prizeTokenId),amountPerWinner:parseInt(f.amountPerWinner),collectionName:"",collectionSymbol:"",collectionBaseURI:f.baseURI,creator:e,royaltyPercentage:f.royaltyPercentage?parseInt(f.royaltyPercentage)*100:0,royaltyRecipient:f.royaltyRecipient,maxSupply:parseInt(f.maxSupply||f.winnersCount),erc20PrizeToken:$e,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:w,unrevealedBaseURI:F,revealTime:z,holderTokenAddress:f.tokenGatedEnabled?f.holderTokenAddress:$e,holderTokenStandard:f.tokenGatedEnabled?parseInt(f.holderTokenStandard):0,minHolderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance&&f.minHolderTokenBalance.trim()!==""?de.from(parseInt(f.minHolderTokenBalance)):de.from(0),holderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance&&f.minHolderTokenBalance.trim()!==""?de.from(parseInt(f.minHolderTokenBalance)):de.from(0),holderTokenId:f.tokenGatedEnabled&&f.holderTokenId&&f.holderTokenId.trim()!==""?parseInt(f.holderTokenId):0,socialEngagementRequired:c,socialTaskDescription:c?f.socialTaskDescription:"",description:f.description||"",twitterLink:f.twitterLink||"",discordLink:f.discordLink||"",telegramLink:f.telegramLink||""};let H=de.from(0);c&&(H=await r.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Fn(H),"ETH")),await(await r.poolDeployer.connect(x).createPool(B,{value:H})).wait(),re.success("Your raffle was created successfully!"),p({name:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",customSlotFee:"",baseURI:"",maxSupply:"",royaltyPercentage:"",prizeTokenId:"1",amountPerWinner:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(x){console.error("Error creating raffle:",x),sn(x)}finally{a(!1)}};return l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(b2,{className:"h-5 w-5"}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-semibold",children:"New ERC1155 Collection Raffle"})]}),l.jsxs("form",{onSubmit:m,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Pool Name"}),l.jsx("input",{type:"text",value:f.name||"",onChange:v=>g("name",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:f.startTime||"",onChange:v=>g("startTime",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",s.minDuration&&s.maxDuration&&l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(s.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(s.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:f.duration||"",onChange:v=>g("duration",v.target.value),onWheel:v=>v.target instanceof HTMLElement&&v.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",s.minSlot&&s.maxSlot&&l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",s.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",s.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:f.slotLimit||"",onChange:v=>g("slotLimit",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Number of Winning Slots",l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:"Winners must not exceed 30% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:f.winnersCount||"",onChange:v=>g("winnersCount",v.target.value),onWheel:v=>v.target instanceof HTMLElement&&v.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx(on,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(vn,{sideOffset:6,children:"Max Slots Per Participant must not exceed 0.1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:f.maxSlotsPerParticipant||"",onChange:v=>g("maxSlotsPerParticipant",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:i("ticket")}),l.jsx("input",{type:"number",step:"0.001",value:f.customSlotFee||"",onChange:v=>g("customSlotFee",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",placeholder:"Leave empty to use protocol default"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Prize Token ID"}),l.jsx("input",{type:"number",value:f.prizeTokenId||"",onChange:v=>g("prizeTokenId",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Amount Per Winner"}),l.jsx("input",{type:"number",value:f.amountPerWinner||"",onChange:v=>g("amountPerWinner",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]})]}),l.jsxs("div",{className:"bg-muted/20 border border-border rounded-xl p-4 mt-4 shadow-md",children:[l.jsx("h4",{className:"font-semibold text-base mb-4",children:"NFT Collection Info"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Base URI"}),l.jsx("input",{type:"url",value:f.baseURI||"",onChange:v=>g("baseURI",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Max Supply"}),l.jsx("input",{type:"number",value:f.maxSupply||"",onChange:v=>g("maxSupply",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Royalty Percentage (%)"}),l.jsx("input",{type:"number",value:f.royaltyPercentage||"",onChange:v=>g("royaltyPercentage",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",min:"0",step:"0.01",placeholder:"e.g. 5 for 5%"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Enter as a percentage (e.g. 5 for 5%)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Royalty Recipient"}),l.jsx("input",{type:"text",value:f.royaltyRecipient||"",onChange:v=>g("royaltyRecipient",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0,pattern:"^0x[a-fA-F0-9]{40}$"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Must be a valid Ethereum address"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Reveal Type"}),l.jsxs(ed,{value:f.revealType,onValueChange:v=>g("revealType",v),required:!0,children:[l.jsx(nd,{className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",children:l.jsx(td,{placeholder:"Select Reveal Type"})}),l.jsxs(rd,{children:[l.jsx(Ei,{value:"0",children:"Instant Reveal"}),l.jsx(Ei,{value:"1",children:"Manual Reveal"}),l.jsx(Ei,{value:"2",children:"Scheduled Reveal"})]})]})]}),(f.revealType==="1"||f.revealType==="2")&&l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Unrevealed Base URI"}),l.jsx("input",{type:"url",value:f.unrevealedBaseURI||"",onChange:v=>g("unrevealedBaseURI",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:f.revealType==="1"||f.revealType==="2"})]}),f.revealType==="2"&&l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Reveal Time"}),l.jsx("input",{type:"datetime-local",value:f.revealTime||"",onChange:v=>g("revealTime",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:f.revealType==="2"})]})]})]}),l.jsx(Mc,{formData:f,handleChange:g,required:!0,useFormDataEnabled:!0}),l.jsx(Dc,{formData:f,handleChange:g,socialEngagementEnabled:c,setSocialEngagementEnabled:d}),l.jsx(Oc,{formData:f,handleChange:g}),l.jsx("div",{className:"flex gap-4",children:l.jsx(Ee,{type:"submit",disabled:o||!t,variant:"primary",size:"lg",className:"flex-1 text-base h-12",children:o?"Creating...":"Create Raffle"})})]})]})}function Lc(t,e){const[n,r]=k.useState({minSlot:void 0,maxSlot:void 0,minDuration:void 0,maxDuration:void 0,maxTicketsPerParticipant:void 0});return k.useEffect(()=>{if(!(t!=null&&t.protocolManager))return;async function i(){var s,o,a,c,d,f,p,g,m,v;try{if(e){const[x,T,_]=await Promise.all([t.protocolManager.getAllSlotLimits(),t.protocolManager.getDurationLimits(),t.protocolManager.getMaxSlotsPerParticipant()]);r({minSlot:(s=x.minPrized)==null?void 0:s.toString(),maxSlot:(o=x.max)==null?void 0:o.toString(),minDuration:(a=T[0])==null?void 0:a.toString(),maxDuration:(c=T[1])==null?void 0:c.toString(),maxTicketsPerParticipant:(d=_.max)==null?void 0:d.toString()})}else{const[x,T,_]=await Promise.all([t.protocolManager.getAllSlotLimits(),t.protocolManager.getDurationLimits(),t.protocolManager.getMaxSlotsPerParticipant()]);r({minSlot:(f=x.minNonPrized)==null?void 0:f.toString(),maxSlot:(p=x.max)==null?void 0:p.toString(),minDuration:(g=T[0])==null?void 0:g.toString(),maxDuration:(m=T[1])==null?void 0:m.toString(),maxTicketsPerParticipant:(v=_.max)==null?void 0:v.toString()})}}catch{}}i()},[t,e]),n}function u0(t){if(!t)return null;if(/^\d+$/.test(t))return parseInt(t,10);const e=Object.entries(Gt),n=t.toLowerCase();for(const[r,i]of e)if(i.name.toLowerCase().replace(/[^a-z0-9]+/g,"-")===n)return parseInt(r,10);return null}const ok=new Map,bfe=300*1e3;async function wfe(t,e,n){try{const r=Math.max(0,n-1e4),i=e.filters.PoolCreated(t);let s=await e.queryFilter(i,r,n);if(s.length>0)return s[0].blockNumber;let o=0,a=r;const c=5e3;for(;o<=a;){const d=Math.max(0,a-c),f=a;try{if(s=await e.queryFilter(i,d,f),s.length>0)return s[0].blockNumber;a=d-1}catch(p){console.warn(`Error searching blocks ${d}-${f}:`,p.message),a=d-1}if(n-a>1e5)break}return null}catch(r){return console.error("Error finding pool creation block:",r),null}}async function kfe(t,e){if(!t||!e)return null;const n=t.toLowerCase(),r=ok.get(n);if(r&&Date.now()-r.timestamp<bfe)return r.data;try{const s=await e.provider.getBlockNumber(),o=e.filters.PoolMetadataSet(t),a=Math.max(0,s-1e4);let c=await e.queryFilter(o,a,s);if(c.length===0){const p=await wfe(t,e,s);if(p!==null){const g=p,m=Math.min(p+100,s);try{c=await e.queryFilter(o,g,m)}catch(v){console.warn("Error querying metadata from creation block:",v.message)}}}if(c.length===0){const p={description:"",twitterLink:"",discordLink:"",telegramLink:"",hasMetadata:!1};return ok.set(n,{data:p,timestamp:Date.now()}),p}const d=c[c.length-1],f={description:d.args.description||"",twitterLink:d.args.twitterLink||"",discordLink:d.args.discordLink||"",telegramLink:d.args.telegramLink||"",hasMetadata:!0,blockNumber:d.blockNumber,transactionHash:d.transactionHash};return ok.set(n,{data:f,timestamp:Date.now()}),f}catch(i){return console.error("Error fetching pool metadata:",i),null}}function Tfe(t){return t?!!(t.description||t.twitterLink||t.discordLink||t.telegramLink):!1}function ak(t,e){if(!t)return"";try{const r=new URL(t).pathname;switch(e){case"twitter":const i=r.match(/\/@?([a-zA-Z0-9_]+)/);return i?`@${i[1]}`:t;case"discord":const s=r.match(/\/([a-zA-Z0-9]+)$/);return s?`discord.gg/${s[1]}`:t;case"telegram":const o=r.match(/\/([a-zA-Z0-9_]+)/);return o?`t.me/${o[1]}`:t;default:return t}}catch{return t}}const Sfe="modulepreload",Cfe=function(t){return"/"+t},$I={},Ch=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(n.map(d=>{if(d=Cfe(d),d in $I)return;$I[d]=!0;const f=d.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":Sfe,f||(g.as="script"),g.crossOrigin="",g.href=d,c&&g.setAttribute("nonce",c),document.head.appendChild(g),f)return new Promise((m,v)=>{g.addEventListener("load",m),g.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},_fe=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ch(async()=>{const{default:r}=await Promise.resolve().then(()=>vd);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class e_ extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class UI extends e_{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class VI extends e_{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class WI extends e_{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var nS;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(nS||(nS={}));class Efe{constructor(e,{headers:n={},customFetch:r,region:i=nS.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=_fe(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return lt(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:s,method:o,body:a,signal:c}=r;let d={},{region:f}=r;f||(f=this.region);const p=new URL(`${this.url}/${n}`);f&&f!=="any"&&(d["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let g;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",g=a):typeof a=="string"?(d["Content-Type"]="text/plain",g=a):typeof FormData<"u"&&a instanceof FormData?g=a:(d["Content-Type"]="application/json",g=JSON.stringify(a)):g=a;const m=yield this.fetch(p.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:g,signal:c}).catch(_=>{throw _.name==="AbortError"?_:new UI(_)}),v=m.headers.get("x-relay-error");if(v&&v==="true")throw new VI(m);if(!m.ok)throw new WI(m);let x=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return x==="application/json"?T=yield m.json():x==="application/octet-stream"||x==="application/pdf"?T=yield m.blob():x==="text/event-stream"?T=m:x==="multipart/form-data"?T=yield m.formData():T=yield m.text(),{data:T,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new UI(s)}:{data:null,error:s,response:s instanceof WI||s instanceof VI?s.context:void 0}}})}}var xi={};const _h=mS(xQ);var d0={},f0={},h0={},p0={},m0={},Nfe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ch=Nfe();const Afe=ch.fetch,Jz=ch.fetch.bind(ch),Qz=ch.Headers,jfe=ch.Request,Pfe=ch.Response,vd=Object.freeze(Object.defineProperty({__proto__:null,Headers:Qz,Request:jfe,Response:Pfe,default:Jz,fetch:Afe},Symbol.toStringTag,{value:"Module"})),Rfe=mS(vd);var g0={},qI;function Zz(){if(qI)return g0;qI=1,Object.defineProperty(g0,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return g0.default=t,g0}var HI;function eB(){if(HI)return m0;HI=1,Object.defineProperty(m0,"__esModule",{value:!0});const t=_h,e=t.__importDefault(Rfe),n=t.__importDefault(Zz());class r{constructor(s){var o,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let c=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,p,g,m;let v=null,x=null,T=null,_=d.status,j=d.statusText;if(d.ok){if(this.method!=="HEAD"){const B=await d.text();B===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?x=B:x=JSON.parse(B))}const F=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),z=(g=d.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");F&&z&&z.length>1&&(T=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(v={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,T=null,_=406,j="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const F=await d.text();try{v=JSON.parse(F),Array.isArray(v)&&d.status===404&&(x=[],v=null,_=200,j="OK")}catch{d.status===404&&F===""?(_=204,j="No Content"):v={message:F}}if(v&&this.isMaybeSingle&&(!((m=v==null?void 0:v.details)===null||m===void 0)&&m.includes("0 rows"))&&(v=null,_=200,j="OK"),v&&this.shouldThrowOnError)throw new n.default(v)}return{error:v,data:x,count:T,status:_,statusText:j}});return this.shouldThrowOnError||(c=c.catch(d=>{var f,p,g;return{error:{message:`${(f=d==null?void 0:d.name)!==null&&f!==void 0?f:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(p=d==null?void 0:d.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(g=d==null?void 0:d.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,o)}returns(){return this}overrideTypes(){return this}}return m0.default=r,m0}var GI;function tB(){if(GI)return p0;GI=1,Object.defineProperty(p0,"__esModule",{value:!0});const e=_h.__importDefault(eB());class n extends e.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:c=a}={}){const d=c?`${c}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const c=typeof a>"u"?"offset":`${a}.offset`,d=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(d,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:c=!1,format:d="text"}={}){var f;const p=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${g}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return p0.default=n,p0}var KI;function t_(){if(KI)return h0;KI=1,Object.defineProperty(h0,"__esModule",{value:!0});const e=_h.__importDefault(tB()),n=new RegExp("[,()]");class r extends e.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const a=Array.from(new Set(o)).map(c=>typeof c=="string"&&n.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${a})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:a,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const f=a===void 0?"":`(${a})`;return this.url.searchParams.append(s,`${d}fts${f}.${o}`),this}match(s){return Object.entries(s).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(s,o,a){return this.url.searchParams.append(s,`not.${o}.${a}`),this}or(s,{foreignTable:o,referencedTable:a=o}={}){const c=a?`${a}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,o,a){return this.url.searchParams.append(s,`${o}.${a}`),this}}return h0.default=r,h0}var YI;function nB(){if(YI)return f0;YI=1,Object.defineProperty(f0,"__esModule",{value:!0});const e=_h.__importDefault(t_());class n{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=new Headers(s),this.schema=o,this.fetch=a}select(i,s){const{head:o=!1,count:a}=s??{},c=o?"HEAD":"GET";let d=!1;const f=(i??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",f),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:o=!0}={}){var a;const c="POST";if(s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(d.length>0){const f=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:c=!0}={}){var d;const f="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),a&&this.headers.append("Prefer",`count=${a}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((g,m)=>g.concat(Object.keys(m)),[]);if(p.length>0){const g=[...new Set(p)].map(m=>`"${m}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:s}={}){var o;const a="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var s;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return f0.default=n,f0}var XI;function Ife(){if(XI)return d0;XI=1,Object.defineProperty(d0,"__esModule",{value:!0});const t=_h,e=t.__importDefault(nB()),n=t.__importDefault(t_());class r{constructor(s,{headers:o={},schema:a,fetch:c}={}){this.url=s,this.headers=new Headers(o),this.schemaName=a,this.fetch=c}from(s){const o=new URL(`${this.url}/${s}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new r(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:a=!1,get:c=!1,count:d}={}){var f;let p;const g=new URL(`${this.url}/rpc/${s}`);let m;a||c?(p=a?"HEAD":"GET",Object.entries(o).filter(([x,T])=>T!==void 0).map(([x,T])=>[x,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([x,T])=>{g.searchParams.append(x,T)})):(p="POST",m=o);const v=new Headers(this.headers);return d&&v.set("Prefer",`count=${d}`),new n.default({method:p,url:g,headers:v,schema:this.schemaName,body:m,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return d0.default=r,d0}var JI;function Mfe(){if(JI)return xi;JI=1,Object.defineProperty(xi,"__esModule",{value:!0}),xi.PostgrestError=xi.PostgrestBuilder=xi.PostgrestTransformBuilder=xi.PostgrestFilterBuilder=xi.PostgrestQueryBuilder=xi.PostgrestClient=void 0;const t=_h,e=t.__importDefault(Ife());xi.PostgrestClient=e.default;const n=t.__importDefault(nB());xi.PostgrestQueryBuilder=n.default;const r=t.__importDefault(t_());xi.PostgrestFilterBuilder=r.default;const i=t.__importDefault(tB());xi.PostgrestTransformBuilder=i.default;const s=t.__importDefault(eB());xi.PostgrestBuilder=s.default;const o=t.__importDefault(Zz());return xi.PostgrestError=o.default,xi.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},xi}var rB=Mfe();const iB=kl(rB),Dfe=TM({__proto__:null,default:iB},[rB]),{PostgrestClient:Ofe,PostgrestQueryBuilder:uge,PostgrestFilterBuilder:dge,PostgrestTransformBuilder:fge,PostgrestBuilder:hge,PostgrestError:pge}=iB||Dfe;class Lfe{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Ffe="2.78.0",zfe=`realtime-js/${Ffe}`,Bfe="1.0.0",rS=1e4,$fe=1e3,Ufe=100;var im;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(im||(im={}));var zr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(zr||(zr={}));var Ko;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ko||(Ko={}));var iS;(function(t){t.websocket="websocket"})(iS||(iS={}));var Eu;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Eu||(Eu={}));class Vfe{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const c=r.decode(e.slice(o,o+s));o=o+s;const d=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:d}}}class sB{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $n;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})($n||($n={}));const QI=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=Wfe(o,t,e,i),s),{}):{}},Wfe=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?oB(s,o):sS(o)},oB=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Kfe(e,n)}switch(t){case $n.bool:return qfe(e);case $n.float4:case $n.float8:case $n.int2:case $n.int4:case $n.int8:case $n.numeric:case $n.oid:return Hfe(e);case $n.json:case $n.jsonb:return Gfe(e);case $n.timestamp:return Yfe(e);case $n.abstime:case $n.date:case $n.daterange:case $n.int4range:case $n.int8range:case $n.money:case $n.reltime:case $n.text:case $n.time:case $n.timestamptz:case $n.timetz:case $n.tsrange:case $n.tstzrange:return sS(e);default:return sS(e)}},sS=t=>t,qfe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Hfe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Gfe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Kfe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>oB(e,a))}return t},Yfe=t=>typeof t=="string"?t.replace(" ","T"):t,aB=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class lk{constructor(e,n,r={},i=rS){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ZI;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ZI||(ZI={}));class sm{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=sm.syncState(this.state,i,s,o),this.pendingDiffs.forEach(c=>{this.state=sm.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=sm.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},c={};return this.map(s,(d,f)=>{o[d]||(c[d]=f)}),this.map(o,(d,f)=>{const p=s[d];if(p){const g=f.map(T=>T.presence_ref),m=p.map(T=>T.presence_ref),v=f.filter(T=>m.indexOf(T.presence_ref)<0),x=p.filter(T=>g.indexOf(T.presence_ref)<0);v.length>0&&(a[d]=v),x.length>0&&(c[d]=x)}else a[d]=f}),this.syncDiff(s,{joins:a,leaves:c},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,c)=>{var d;const f=(d=e[a])!==null&&d!==void 0?d:[];if(e[a]=this.cloneDeep(c),f.length>0){const p=e[a].map(m=>m.presence_ref),g=f.filter(m=>p.indexOf(m.presence_ref)<0);e[a].unshift(...g)}r(a,f,c)}),this.map(o,(a,c)=>{let d=e[a];if(!d)return;const f=c.map(p=>p.presence_ref);d=d.filter(p=>f.indexOf(p.presence_ref)<0),e[a]=d,i(a,d,c),d.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var eM;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(eM||(eM={}));var om;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(om||(om={}));var ol;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ol||(ol={}));class n_{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=zr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new lk(this,Ko.join,this.params,this.timeout),this.rejoinTimer=new sB(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=zr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=zr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ko.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new sm(this),this.broadcastEndpointURL=aB(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==zr.closed){const{config:{broadcast:o,presence:a,private:c}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[om.PRESENCE]&&this.bindings[om.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},g={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:f}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(ol.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(ol.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket.setAuth(),m===void 0){e==null||e(ol.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,T=(v=x==null?void 0:x.length)!==null&&v!==void 0?v:0,_=[];for(let j=0;j<T;j++){const w=x[j],{filter:{event:F,schema:z,table:B,filter:H}}=w,Y=m&&m[j];if(Y&&Y.event===F&&Y.schema===z&&Y.table===B&&Y.filter===H)_.push(Object.assign(Object.assign({},w),{id:Y.id}));else{this.unsubscribe(),this.state=zr.errored,e==null||e(ol.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(ol.SUBSCRIBED);return}}).receive("error",m=>{this.state=zr.errored,e==null||e(ol.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ol.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===zr.joined&&e===om.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{const d=await a.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,c;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=zr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ko.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new lk(this,Ko.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=zr.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new lk(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Ufe){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:d,join:f}=Ko;if(r&&[a,c,d,f].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var v,x,T;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((T=(x=m.filter)===null||x===void 0?void 0:x.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===o}).map(m=>m.callback(g,r)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var v,x,T,_,j,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const F=m.id,z=(v=m.filter)===null||v===void 0?void 0:v.event;return F&&((x=n.ids)===null||x===void 0?void 0:x.includes(F))&&(z==="*"||(z==null?void 0:z.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const F=(j=(_=m==null?void 0:m.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return F==="*"||F===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof g=="object"&&"ids"in g){const v=g.data,{schema:x,table:T,commit_timestamp:_,type:j,errors:w}=v;g=Object.assign(Object.assign({},{schema:x,table:T,commit_timestamp:_,eventType:j,new:{},old:{},errors:w}),this._getPayloadRecords(v))}m.callback(g,r)})}_isClosed(){return this.state===zr.closed}_isJoined(){return this.state===zr.joined}_isJoining(){return this.state===zr.joining}_isLeaving(){return this.state===zr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&n_.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ko.close,{},e)}_onError(e){this._on(Ko.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=QI(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=QI(e.columns,e.old_record)),n}}const ck=()=>{},y0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Xfe=[1e3,2e3,5e3,1e4],Jfe=1e4,Qfe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zfe{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rS,this.transport=null,this.heartbeatIntervalMs=y0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ck,this.ref=0,this.reconnectTimer=null,this.logger=ck,this.conn=null,this.sendBuffer=[],this.serializer=new Vfe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>Ch(async()=>{const{default:a}=await Promise.resolve().then(()=>vd);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${iS.websocket}`,this.httpEndpoint=aB(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Lfe.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Bfe}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case im.connecting:return Eu.Connecting;case im.open:return Eu.Open;case im.closing:return Eu.Closing;default:return Eu.Closed}}isConnected(){return this.connectionState()===Eu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new n_(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close($fe,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},y0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:o}=n,a=o?`(${o})`:"",c=s.status||"";this.log("receive",`${c} ${r} ${i} ${a}`.trim(),s),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ko.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Qfe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:zfe};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Ko.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new sB(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},y0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,o,a,c,d,f;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:rS,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:y0.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:ck,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:p=>Xfe[p-1]||Jfe,this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(p,g)=>g(JSON.stringify(p)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class r_ extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function lr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ehe extends r_{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class oS extends r_{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const i_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ch(async()=>{const{default:r}=await Promise.resolve().then(()=>vd);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},the=()=>lt(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ch(()=>Promise.resolve().then(()=>vd),void 0)).Response:Response}),aS=t=>{if(Array.isArray(t))return t.map(n=>aS(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=aS(r)}),e},nhe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},uk=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},rhe=(t,e,n)=>lt(void 0,void 0,void 0,function*(){const r=yield the();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const s=t.status||500,o=(i==null?void 0:i.statusCode)||s+"";e(new ehe(uk(i),s,o))}).catch(i=>{e(new oS(uk(i),i))}):e(new oS(uk(t),t))}),ihe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(nhe(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function xg(t,e,n,r,i,s){return lt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,ihe(e,r,i,s)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>rhe(c,a,r))})})}function Wm(t,e,n,r){return lt(this,void 0,void 0,function*(){return xg(t,"GET",e,n,r)})}function Go(t,e,n,r,i){return lt(this,void 0,void 0,function*(){return xg(t,"POST",e,r,i,n)})}function lS(t,e,n,r,i){return lt(this,void 0,void 0,function*(){return xg(t,"PUT",e,r,i,n)})}function she(t,e,n,r){return lt(this,void 0,void 0,function*(){return xg(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function s_(t,e,n,r,i){return lt(this,void 0,void 0,function*(){return xg(t,"DELETE",e,r,i,n)})}class ohe{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return lt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lr(e))return{data:null,error:e};throw e}})}}var lB;class ahe{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[lB]="BlobDownloadBuilder",this.promise=null}asStream(){return new ohe(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return lt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lr(e))return{data:null,error:e};throw e}})}}lB=Symbol.toStringTag;const lhe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},tM={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class che{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=i_(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return lt(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},tM),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const d=this._removeEmptyFolders(n),f=this._getFinalPath(d),p=yield(e=="PUT"?lS:Go)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lr(s))return{data:null,error:s};throw s}})}upload(e,n,r){return lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return lt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let c;const d=Object.assign({upsert:tM.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType);const p=yield lS(this.fetch,a.toString(),c,{headers:f});return{data:{path:s,fullPath:p.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(lr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return lt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Go(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new r_("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lr(r))return{data:null,error:r};throw r}})}update(e,n,r){return lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return lt(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lr(i))return{data:null,error:i};throw i}})}copy(e,n,r){return lt(this,void 0,void 0,function*(){try{return{data:{path:(yield Go(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return lt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Go(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return lt(this,void 0,void 0,function*(){try{const i=yield Go(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lr(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"",a=this._getFinalPath(e),c=()=>Wm(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new ahe(c,this.shouldThrowOnError)}info(e){return lt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Wm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:aS(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lr(r))return{data:null,error:r};throw r}})}exists(e){return lt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield she(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lr(r)&&r instanceof oS){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${d}`)}}}remove(e){return lt(this,void 0,void 0,function*(){try{return{data:yield s_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}})}list(e,n,r){return lt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},lhe),n),{prefix:e||""});return{data:yield Go(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lr(i))return{data:null,error:i};throw i}})}listV2(e,n){return lt(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Go(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lr(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const cB="2.78.0",uB={"X-Client-Info":`storage-js/${cB}`};class uhe{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uB),n),this.fetch=i_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return lt(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Wm(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}})}getBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:yield Wm(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}})}createBucket(e){return lt(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Go(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lr(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return lt(this,void 0,void 0,function*(){try{return{data:yield lS(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lr(r))return{data:null,error:r};throw r}})}emptyBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:yield s_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class dhe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uB),n),this.fetch=i_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}})}listBuckets(e){return lt(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Wm(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:yield s_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}})}}const o_={"X-Client-Info":`storage-js/${cB}`,"Content-Type":"application/json"};class dB extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ds(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class dk extends dB{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class fhe extends dB{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var nM;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(nM||(nM={}));const a_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ch(async()=>{const{default:r}=await Promise.resolve().then(()=>vd);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},hhe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},rM=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),phe=(t,e,n)=>lt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new dk(rM(o),i,a))}).catch(()=>{const o=i+"",a=s.statusText||`HTTP ${i} error`;e(new dk(a,i,o))});else{const o=i+"",a=s.statusText||`HTTP ${i} error`;e(new dk(a,i,o))}}else e(new fhe(rM(t),t))}),mhe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(hhe(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function ghe(t,e,n,r,i,s){return lt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,mhe(e,r,i,s)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>phe(c,a,r))})})}function Os(t,e,n,r,i){return lt(this,void 0,void 0,function*(){return ghe(t,"POST",e,r,i,n)})}class yhe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},o_),n),this.fetch=a_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return lt(this,void 0,void 0,function*(){try{return{data:(yield Os(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ds(n))return{data:null,error:n};throw n}})}getIndex(e,n){return lt(this,void 0,void 0,function*(){try{return{data:yield Os(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ds(r))return{data:null,error:r};throw r}})}listIndexes(e){return lt(this,void 0,void 0,function*(){try{return{data:yield Os(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ds(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return lt(this,void 0,void 0,function*(){try{return{data:(yield Os(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ds(r))return{data:null,error:r};throw r}})}}class xhe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},o_),n),this.fetch=a_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return lt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Os(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ds(n))return{data:null,error:n};throw n}})}getVectors(e){return lt(this,void 0,void 0,function*(){try{return{data:yield Os(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ds(n))return{data:null,error:n};throw n}})}listVectors(e){return lt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Os(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ds(n))return{data:null,error:n};throw n}})}queryVectors(e){return lt(this,void 0,void 0,function*(){try{return{data:yield Os(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ds(n))return{data:null,error:n};throw n}})}deleteVectors(e){return lt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Os(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ds(n))return{data:null,error:n};throw n}})}}class vhe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},o_),n),this.fetch=a_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:(yield Os(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ds(n))return{data:null,error:n};throw n}})}getBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:yield Os(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ds(n))return{data:null,error:n};throw n}})}listBuckets(){return lt(this,arguments,void 0,function*(e={}){try{return{data:yield Os(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ds(n))return{data:null,error:n};throw n}})}deleteBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:(yield Os(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ds(n))return{data:null,error:n};throw n}})}}class bhe extends vhe{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new whe(this.url,this.headers,e,this.fetch)}}class whe extends yhe{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return lt(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return lt(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return lt(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return lt(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new khe(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class khe extends xhe{constructor(e,n,r,i,s){super(e,n,s),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return lt(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return lt(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return lt(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return lt(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return lt(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class The extends uhe{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new che(this.url,this.headers,e,this.fetch)}get vectors(){return new bhe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new dhe(this.url+"/iceberg",this.headers,this.fetch)}}const She="2.78.0";let Ip="";typeof Deno<"u"?Ip="deno":typeof document<"u"?Ip="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ip="react-native":Ip="node";const Che={"X-Client-Info":`supabase-js-${Ip}/${She}`},_he={headers:Che},Ehe={schema:"public"},Nhe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ahe={},jhe=t=>{let e;return t?e=t:typeof fetch>"u"?e=Jz:e=fetch,(...n)=>e(...n)},Phe=()=>typeof Headers>"u"?Qz:Headers,Rhe=(t,e,n)=>{const r=jhe(n),i=Phe();return async(s,o)=>{var a;const c=(a=await e())!==null&&a!==void 0?a:t;let d=new i(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(s,Object.assign(Object.assign({},o),{headers:d}))}};function Ihe(t){return t.endsWith("/")?t:t+"/"}function Mhe(t,e){var n,r;const{db:i,auth:s,realtime:o,global:a}=t,{db:c,auth:d,realtime:f,global:p}=e,g={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),a),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function Dhe(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ihe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const fB="2.78.0",df=30*1e3,cS=3,fk=cS*df,Ohe="http://localhost:9999",Lhe="supabase.auth.token",Fhe={"X-Client-Info":`gotrue-js/${fB}`},uS="X-Supabase-Api-Version",hB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zhe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Bhe=600*1e3;class qm extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function pt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class $he extends qm{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Uhe(t){return pt(t)&&t.name==="AuthApiError"}class Nu extends qm{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Fc extends qm{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class $o extends Fc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Vhe(t){return pt(t)&&t.name==="AuthSessionMissingError"}class tf extends Fc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class x0 extends Fc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class v0 extends Fc{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Whe(t){return pt(t)&&t.name==="AuthImplicitGrantRedirectError"}class iM extends Fc{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dS extends Fc{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function hk(t){return pt(t)&&t.name==="AuthRetryableFetchError"}class sM extends Fc{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class fS extends Fc{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const $x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),oM=` 	
\r=`.split(""),qhe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<oM.length;e+=1)t[oM[e].charCodeAt(0)]=-2;for(let e=0;e<$x.length;e+=1)t[$x[e].charCodeAt(0)]=e;return t})();function aM(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n($x[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n($x[r]),e.queuedBits-=6}}function pB(t,e,n){const r=qhe[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function lM(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{Khe(o,r,n)};for(let o=0;o<t.length;o+=1)pB(t.charCodeAt(o),i,s);return e.join("")}function Hhe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Ghe(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Hhe(r,e)}}function Khe(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Vf(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)pB(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Yhe(t){const e=[];return Ghe(t,n=>e.push(n)),new Uint8Array(e)}function Mu(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>aM(i,n,r)),aM(null,n,r),e.join("")}function Xhe(t){return Math.round(Date.now()/1e3)+t}function Jhe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Bi=()=>typeof window<"u"&&typeof document<"u",gu={tested:!1,writable:!1},mB=()=>{if(!Bi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gu.tested)return gu.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),gu.tested=!0,gu.writable=!0}catch{gu.tested=!0,gu.writable=!1}return gu.writable};function Qhe(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const gB=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ch(async()=>{const{default:r}=await Promise.resolve().then(()=>vd);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Zhe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ff=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},yu=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Gl=async(t,e)=>{await t.removeItem(e)};class Uv{constructor(){this.promise=new Uv.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Uv.promiseConstructor=Promise;function pk(t){const e=t.split(".");if(e.length!==3)throw new fS("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!zhe.test(e[r]))throw new fS("JWT not in base64url format");return{header:JSON.parse(lM(e[0])),payload:JSON.parse(lM(e[1])),signature:Vf(e[2]),raw:{header:e[0],payload:e[1]}}}async function epe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function tpe(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function npe(t){return("0"+t.toString(16)).substr(-2)}function rpe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,npe).join("")}async function ipe(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function spe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await ipe(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function nf(t,e,n=!1){const r=rpe();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ff(t,`${e}-code-verifier`,i);const s=await spe(r);return[s,r===s?"plain":"s256"]}const ope=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ape(t){const e=t.headers.get(uS);if(!e||!e.match(ope))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function lpe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function cpe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const upe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rf(t){if(!upe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mk(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function dpe(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function cM(t){return JSON.parse(JSON.stringify(t))}const Su=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),fpe=[502,503,504];async function uM(t){var e;if(!Zhe(t))throw new dS(Su(t),0);if(fpe.includes(t.status))throw new dS(Su(t),t.status);let n;try{n=await t.json()}catch(s){throw new Nu(Su(s),s)}let r;const i=ape(t);if(i&&i.getTime()>=hB["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new sM(Su(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new $o}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new sM(Su(n),t.status,n.weak_password.reasons);throw new $he(Su(n),t.status||500,r)}const hpe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Pt(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[uS]||(s[uS]=hB["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await ppe(t,e,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function ppe(t,e,n,r,i,s){const o=hpe(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new dS(Su(c),0)}if(a.ok||await uM(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await uM(c)}}function Uo(t){var e;let n=null;ype(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Xhe(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function dM(t){const e=Uo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function nc(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function mpe(t){return{data:t,error:null}}function gpe(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=Ac(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function fM(t){return t}function ype(t){return t.access_token&&t.refresh_token&&t.expires_in}const gk=["global","local","others"];class xpe{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=gB(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=gk[0]){if(gk.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gk.join(", ")}`);try{return await Pt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Pt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:nc})}catch(r){if(pt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Ac(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Pt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:gpe,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(pt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Pt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:nc})}catch(n){if(pt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,c;try{const d={nextPage:null,lastPage:0,total:0},f=await Pt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:fM});if(f.error)throw f.error;const p=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(v.split(";")[1].split("=")[1]);d[`${T}Page`]=x}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(pt(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){rf(e);try{return await Pt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:nc})}catch(n){if(pt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){rf(e);try{return await Pt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:nc})}catch(r){if(pt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){rf(e);try{return await Pt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:nc})}catch(r){if(pt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){rf(e.userId);try{const{data:n,error:r}=await Pt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(pt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){rf(e.userId),rf(e.id);try{return{data:await Pt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,o,a,c;try{const d={nextPage:null,lastPage:0,total:0},f=await Pt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:fM});if(f.error)throw f.error;const p=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(v.split(";")[1].split("=")[1]);d[`${T}Page`]=x}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(pt(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await Pt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pt(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Pt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Pt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(pt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Pt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Pt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pt(n))return{data:null,error:n};throw n}}}function hM(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const sf={debug:!!(globalThis&&mB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yB extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class vpe extends yB{}async function bpe(t,e,n){sf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),sf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){sf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{sf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw sf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new vpe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(sf.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function wpe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function xB(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function kpe(t){return parseInt(t,16)}function Tpe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Spe(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:c,resources:d,scheme:f,uri:p,version:g}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=xB(t.address),v=f?`${f}://${r}`:r,x=t.statement?`${t.statement}
`:"",T=`${v} wants you to sign in with your Ethereum account:
${m}

${x}`;let _=`URI: ${p}
Version: ${g}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(_+=`
Expiration Time: ${i.toISOString()}`),a&&(_+=`
Not Before: ${a.toISOString()}`),c&&(_+=`
Request ID: ${c}`),d){let j=`
Resources:`;for(const w of d){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);j+=`
- ${w}`}_+=j}return`${T}
${_}`}class Er extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Ux extends Er{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Cpe({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Er({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Er({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Er({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Er({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Er({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Er({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Er({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Er({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(vB(o)){if(s.rp.id!==o)return new Er({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Er({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Er({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function _pe({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Er({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Er({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(vB(r)){if(n.rpId!==r)return new Er({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Er({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Epe{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Npe=new Epe;function Ape(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Ac(t,["challenge","user","excludeCredentials"]),s=Vf(e).buffer,o=Object.assign(Object.assign({},n),{id:Vf(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const d=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Vf(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function jpe(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Ac(t,["challenge","allowCredentials"]),i=Vf(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Vf(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function Ppe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Mu(new Uint8Array(t.response.attestationObject)),clientDataJSON:Mu(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Rpe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Mu(new Uint8Array(i.authenticatorData)),clientDataJSON:Mu(new Uint8Array(i.clientDataJSON)),signature:Mu(new Uint8Array(i.signature)),userHandle:i.userHandle?Mu(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function vB(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function pM(){var t,e;return!!(Bi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Ipe(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ux("Browser returned unexpected credential type",e)}:{data:null,error:new Ux("Empty credential response",e)}}catch(e){return{data:null,error:Cpe({error:e,options:t})}}}async function Mpe(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ux("Browser returned unexpected credential type",e)}:{data:null,error:new Ux("Empty credential response",e)}}catch(e){return{data:null,error:_pe({error:e,options:t})}}}const Dpe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Ope={userVerification:"preferred",hints:["security-key"]};function Vx(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(n(o))r[s]=o;else if(e(o)){const a=r[s];e(a)?r[s]=Vx(a,o):r[s]=Vx(o)}else r[s]=o}return r}function Lpe(t,e){return Vx(Dpe,t,e||{})}function Fpe(t,e){return Vx(Ope,t,e||{})}class zpe{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const c=i??Npe.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=Lpe(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:f,error:p}=await Ipe({publicKey:d,signal:c});return f?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}case"request":{const d=Fpe(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:f,error:p}=await Mpe(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return f?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}}}catch(o){return pt(o)?{data:null,error:o}:{data:null,error:new Nu("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new qm("rpId is required for WebAuthn authentication")};try{if(!pM())return{data:null,error:new Nu("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(o){return pt(o)?{data:null,error:o}:{data:null,error:new Nu("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new qm("rpId is required for WebAuthn registration")};try{if(!pM())return{data:null,error:new Nu("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(f=>{var p;return(p=f.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:a};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return pt(o)?{data:null,error:o}:{data:null,error:new Nu("Unexpected error in register",o)}}}}wpe();const Bpe={url:Ohe,storageKey:Lhe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Fhe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function mM(t,e,n){return await n()}const of={};class Hm{get jwks(){var e,n;return(n=(e=of[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){of[this.storageKey]=Object.assign(Object.assign({},of[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=of[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){of[this.storageKey]=Object.assign(Object.assign({},of[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hm.nextInstanceID,Hm.nextInstanceID+=1,this.instanceID>0&&Bi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Bpe),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new xpe({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=gB(i.fetch),this.lock=i.lock||mM,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Bi()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=bpe:this.lock=mM,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new zpe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:mB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=hM(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=hM(this.memoryStorage)),Bi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fB}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Qhe(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Bi()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Whe(s)){const c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return pt(n)?{error:n}:{error:new Nu("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Uo}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(pt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:f,password:p,options:g}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await nf(this.storage,this.storageKey)),s=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:f,password:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:v},xform:Uo})}else if("phone"in e){const{phone:f,password:p,options:g}=e;s=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Uo})}else throw new x0("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(pt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:dM})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:dM})}else throw new x0("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new tf}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(pt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,o,a,c,d,f,p,g;let m,v;if("message"in e)m=e.message,v=e.signature;else{const{chain:x,wallet:T,statement:_,options:j}=e;let w;if(Bi())if(typeof T=="object")w=T;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")w=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=T}const F=new URL((n=j==null?void 0:j.url)!==null&&n!==void 0?n:window.location.href),z=await w.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!z||z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const B=xB(z[0]);let H=(r=j==null?void 0:j.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!H){const W=await w.request({method:"eth_chainId"});H=kpe(W)}const Y={domain:F.host,address:B,statement:_,uri:F.href,version:"1",chainId:H,nonce:(i=j==null?void 0:j.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=j==null?void 0:j.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=j==null?void 0:j.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(c=j==null?void 0:j.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=j==null?void 0:j.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(f=j==null?void 0:j.signInWithEthereum)===null||f===void 0?void 0:f.resources};m=Spe(Y),v=await w.request({method:"personal_sign",params:[Tpe(m),B]})}try{const{data:x,error:T}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Uo});if(T)throw T;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new tf}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:T})}catch(x){if(pt(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(e){var n,r,i,s,o,a,c,d,f,p,g,m;let v,x;if("message"in e)v=e.message,x=e.signature;else{const{chain:T,wallet:_,statement:j,options:w}=e;let F;if(Bi())if(typeof _=="object")F=_;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))F=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=_}const z=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in F&&F.signIn){const B=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),j?{statement:j}:null));let H;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")H=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)H=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)v=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),x=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${z.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(i=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((d=w==null?void 0:w.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((p=(f=w==null?void 0:w.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...w.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const B=await F.signMessage(new TextEncoder().encode(v),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=B}}try{const{data:T,error:_}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Mu(x)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Uo});if(_)throw _;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new tf}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:_})}catch(T){if(pt(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(e){const n=await yu(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Uo});if(await Gl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new tf}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(pt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Uo}),{data:c,error:d}=a;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new tf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(n){if(pt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:c}=e;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await nf(this.storage,this.storageKey));const{error:p}=await Pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:a,options:c}=e,{data:d,error:f}=await Pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f}}throw new x0("You must provide either an email or phone number.")}catch(a){if(pt(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Pt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Uo});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(pt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await nf(this.storage,this.storageKey)),await Pt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:mpe})}catch(s){if(pt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new $o;const{error:i}=await Pt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(pt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await Pt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await Pt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new x0("You must provide either an email or phone number and a type")}catch(n){if(pt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await yu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<fk:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await yu(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=mk()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=dpe(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:nc}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $o}:await Pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:nc})})}catch(n){if(pt(n))return Vhe(n)&&(await this._removeSession(),await Gl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new $o;const o=i.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await nf(this.storage,this.storageKey));const{data:d,error:f}=await Pt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:nc});if(f)throw f;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(pt(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $o;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=pk(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(pt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new $o;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(pt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Bi())throw new v0("No browser detected.");if(e.error||e.error_description||e.error_code)throw new v0(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new iM("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new v0("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new iM("No code detected.");const{data:j,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:c,token_type:d}=e;if(!s||!a||!o||!d)throw new v0("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(a);let g=f+p;c&&(g=parseInt(c));const m=g-f;m*1e3<=df&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${p}s`);const v=g-p;f-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,g,f):f-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,g,f);const{data:x,error:T}=await this._getUser(s);if(T)throw T;const _={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:g,refresh_token:o,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(r){if(pt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await yu(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Uhe(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Gl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Jhe(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await nf(this.storage,this.storageKey,!0));try{return await Pt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(pt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,c,d,f;const{data:p,error:g}=s;if(g)throw g;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Pt(this.fetch,"GET",m,{headers:this.headers,jwt:(f=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Bi()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(pt(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:o,provider:a,token:c,access_token:d,nonce:f}=e,p=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:c,access_token:d,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Uo}),{data:g,error:m}=p;return m?{data:{user:null,session:null},error:m}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new tf}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),{data:g,error:m})}catch(i){if(pt(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await Pt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(pt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await tpe(async i=>(i>0&&await epe(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Pt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Uo})),(i,s)=>{const o=200*Math.pow(2,i);return s&&hk(s)&&Date.now()+o-r<df})}catch(r){if(this._debug(n,"error",r),pt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Bi()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await yu(this.storage,this.storageKey);if(i&&this.userStorage){let o=await yu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await ff(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:mk()}else if(i&&!i.user&&!i.user){const o=await yu(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Gl(this.storage,this.storageKey+"-user"),await ff(this.storage,this.storageKey,i)):i.user=mk()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<fk;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${fk}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),hk(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new $o;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Uv;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new $o;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),pt(s)){const o={data:null,error:s};return hk(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ff(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=cM(i);await ff(this.storage,this.storageKey,s)}else{const i=cM(n);await ff(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Gl(this.storage,this.storageKey),await Gl(this.storage,this.storageKey+"-code-verifier"),await Gl(this.storage,this.storageKey+"-user"),this.userStorage&&await Gl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Bi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),df);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/df);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${df}ms, refresh threshold is ${cS} ticks`),i<=cS&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof yB)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await nf(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Pt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(pt(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:d}=await Pt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(pt(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Ppe(e.webauthn.credential_response):Rpe(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:c}=await Pt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})})}catch(n){if(pt(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const o=await Pt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Ape(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:jpe(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(pt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=pk(r.access_token);let o=null;s.aal&&(o=s.aal);let a=o;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?{data:null,error:i}:r?await Pt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new $o}})}catch(n){if(pt(n))return{data:null,error:n};throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return{data:null,error:s};if(!i)return{data:null,error:new $o};const o=await Pt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Bi()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(pt(r))return{data:null,error:r};throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return{data:null,error:s};if(!i)return{data:null,error:new $o};const o=await Pt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Bi()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(pt(r))return{data:null,error:r};throw r}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+Bhe>i)return r;const{data:s,error:o}=await Pt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};r=m.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:c}}=pk(r);n!=null&&n.allowExpired||lpe(s.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:s,header:i,signature:o},error:null}}const f=cpe(i.alg),p=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,o,Yhe(`${a}.${c}`)))throw new fS("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}}}Hm.nextInstanceID=0;const $pe=Hm;class Upe extends $pe{constructor(e){super(e)}}class Vpe{constructor(e,n,r){var i,s,o;this.supabaseUrl=e,this.supabaseKey=n;const a=Dhe(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,d={db:Ehe,realtime:Ahe,auth:Object.assign(Object.assign({},Nhe),{storageKey:c}),global:_he},f=Mhe(r??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=Rhe(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Ofe(new URL("rest/v1",a).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new The(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new Efe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:o,flowType:a,lock:c,debug:d},f,p){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Upe({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),f),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:a,lock:c,debug:d,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Zfe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Wpe=(t,e,n)=>new Vpe(t,e,n);function qpe(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}qpe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const bB="http://127.0.0.1:54321",l_="sb_publishable_ACJWlzQHlZjBrEguHvfOxg_3BJgxAaH",Hpe=l_==="your-supabase-anon-key",Mr=Wpe(bB,l_,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}}),ll={USER_SOCIAL_ACCOUNTS:"user_social_accounts",VERIFICATION_RECORDS:"social_media_verifications",PURCHASE_SIGNATURES:"purchase_signatures"},br={TWITTER:"twitter",DISCORD:"discord",TELEGRAM:"telegram"},nl={PENDING:"pending",VERIFIED:"completed",FAILED:"failed",EXPIRED:"expired"},xu={TWITTER_LIKE:"twitter_like",TWITTER_RETWEET:"twitter_retweet",TWITTER_FOLLOW:"twitter_follow",TWITTER_MENTION:"twitter_mention",DISCORD_JOIN:"discord_join",DISCORD_ROLE:"discord_role",TELEGRAM_JOIN:"telegram_join"},wB={VERIFY_TWITTER:"verify-twitter",VERIFY_DISCORD:"verify-discord",VERIFY_TELEGRAM:"verify-telegram",GENERATE_SIGNATURE:"generate-signature",OAUTH_TWITTER:"oauth-twitter",OAUTH_DISCORD:"oauth-discord"},Ta=async(t,e={})=>{try{const{data:n,error:r}=await Mr.functions.invoke(t,{body:e});if(r)throw r;return{data:n,error:null}}catch(n){return console.error(`Error calling edge function ${t}:`,n),{data:null,error:n}}};class Gpe{constructor(){this.authenticatedAccounts=new Map}async initiateTwitterAuth(e){try{const{data:n,error:r}=await Ta("oauth-twitter",{user_address:e,action:"initiate"});if(r)throw r;return{success:!0,authUrl:n.auth_url,error:null}}catch(n){return console.error("Twitter OAuth initiation failed:",n),{success:!1,authUrl:null,error:n.message}}}async handleTwitterCallback(e,n,r){try{const{data:i,error:s}=await Ta("oauth-twitter",{code:e,state:n,user_address:r,action:"callback"});if(s)throw s;return await this.storeSocialAccount({walletAddress:r,platform:br.TWITTER,platformUserId:i.user_id,platformUsername:i.username,accessToken:i.access_token,refreshToken:i.refresh_token,expiresAt:i.expires_at}),this.authenticatedAccounts.set(`${r}_${br.TWITTER}`,i),{success:!0,error:null}}catch(i){return console.error("Twitter OAuth callback failed:",i),{success:!1,error:i.message}}}async initiateDiscordAuth(e){try{const{data:n,error:r}=await Ta("oauth-discord",{user_address:e,action:"initiate"});if(r)throw r;return{success:!0,authUrl:n.auth_url,error:null}}catch(n){return console.error("Discord OAuth initiation failed:",n),{success:!1,authUrl:null,error:n.message}}}async handleDiscordCallback(e,n,r){try{const{data:i,error:s}=await Ta("oauth-discord",{code:e,state:n,user_address:r,action:"callback"});if(s)throw s;return await this.storeSocialAccount({walletAddress:r,platform:br.DISCORD,platformUserId:i.user_id,platformUsername:i.username,accessToken:i.access_token,refreshToken:i.refresh_token,expiresAt:i.expires_at}),this.authenticatedAccounts.set(`${r}_${br.DISCORD}`,i),{success:!0,error:null}}catch(i){return console.error("Discord OAuth callback failed:",i),{success:!1,error:i.message}}}async initiateTelegramAuth(e,n){try{const{data:r,error:i}=await Ta("oauth-telegram",{user_address:e,telegram_username:n,action:"initiate"});if(i)throw i;return{success:!0,verificationCode:r.verification_code,botUsername:r.bot_username,error:null}}catch(r){return console.error("Telegram auth initiation failed:",r),{success:!1,verificationCode:null,error:r.message}}}async verifyTelegramAuth(e,n){try{const{data:r,error:i}=await Ta("oauth-telegram",{user_address:e,verification_code:n,action:"verify"});if(i)throw i;return await this.storeSocialAccount({walletAddress:e,platform:br.TELEGRAM,platformUserId:r.user_id,platformUsername:r.username,accessToken:null,refreshToken:null,expiresAt:null}),this.authenticatedAccounts.set(`${e}_${br.TELEGRAM}`,r),{success:!0,error:null}}catch(r){return console.error("Telegram auth verification failed:",r),{success:!1,error:r.message}}}async storeSocialAccount(e){const{walletAddress:n,platform:r,platformUserId:i,platformUsername:s,accessToken:o,refreshToken:a,expiresAt:c}=e,{data:d}=await Mr.from(ll.USER_SOCIAL_ACCOUNTS).select("id").eq("user_address",n).eq("platform",r).single(),f={user_address:n,platform:r,platform_user_id:i,platform_username:s,access_token:o,refresh_token:a,expires_at:c,updated_at:new Date().toISOString()};if(d){const{error:p}=await Mr.from(ll.USER_SOCIAL_ACCOUNTS).update(f).eq("id",d.id);if(p)throw p}else{const{error:p}=await Mr.from(ll.USER_SOCIAL_ACCOUNTS).insert(f);if(p)throw p}}async getAuthenticatedAccounts(e){try{console.log("Fetching authenticated accounts for wallet:",e);const{data:n,error:r}=await Mr.from(ll.USER_SOCIAL_ACCOUNTS).select("*").eq("user_address",e);if(console.log("Supabase query result:",{data:n,error:r}),r)throw console.error("Supabase query error:",r),r;const i=n.filter(s=>!(s.token_expires_at&&new Date(s.token_expires_at)<new Date));return console.log("Valid accounts found:",i.length),{accounts:i,error:null}}catch(n){return console.error("Failed to get authenticated accounts:",n),{accounts:[],error:n.message}}}async isAuthenticated(e,n){try{console.log("Checking authentication for platform:",n,"wallet:",e);const{data:r,error:i}=await Mr.from(ll.USER_SOCIAL_ACCOUNTS).select("*").eq("user_address",e).eq("platform",n).maybeSingle();return console.log("Authentication check result:",{data:r,error:i}),i&&i.code!=="PGRST116"?(console.error("Authentication check error:",i),{success:!1,error:i.message,isAuthenticated:!1}):r?r.token_expires_at&&new Date(r.token_expires_at)<new Date?{success:!0,isAuthenticated:!1,account:null}:{success:!0,isAuthenticated:!0,account:r}:{success:!0,isAuthenticated:!1,account:null}}catch(r){return console.error("Failed to check authentication status:",r),{success:!1,error:r.message,isAuthenticated:!1}}}async refreshToken(e,n){try{const{account:r}=await this.isAuthenticated(e,n);if(!r||!r.refresh_token)throw new Error("No refresh token available");const{data:i,error:s}=await Ta(`oauth-${n}`,{user_address:e,refresh_token:r.refresh_token,action:"refresh"});if(s)throw s;return await this.storeSocialAccount({walletAddress:e,platform:n,platformUserId:r.platform_user_id,platformUsername:r.platform_username,accessToken:i.access_token,refreshToken:i.refresh_token||r.refresh_token,expiresAt:i.expires_at}),{success:!0,error:null}}catch(r){return console.error("Token refresh failed:",r),{success:!1,error:r.message}}}async disconnectAccount(e,n){try{const{error:r}=await Mr.from(ll.USER_SOCIAL_ACCOUNTS).delete().eq("user_address",e).eq("platform",n);if(r)throw r;return this.authenticatedAccounts.delete(`${e}_${n}`),{success:!0,error:null}}catch(r){return console.error("Failed to disconnect account:",r),{success:!1,error:r.message}}}getAuthInstructions(e){return{[br.TWITTER]:{title:"Connect Twitter/X Account",description:"Connect your Twitter/X account to verify social media tasks",steps:['Click "Connect Twitter" button',"You will be redirected to Twitter/X","Authorize Dropr to access your account","You will be redirected back to complete the connection"]},[br.DISCORD]:{title:"Connect Discord Account",description:"Connect your Discord account to verify server membership and roles",steps:['Click "Connect Discord" button',"You will be redirected to Discord","Authorize Dropr to access your account","You will be redirected back to complete the connection"]},[br.TELEGRAM]:{title:"Connect Telegram Account",description:"Connect your Telegram account to verify group membership",steps:["Enter your Telegram username",'Click "Connect Telegram" button',"Send the verification code to our bot","Your account will be connected automatically"]}}[e]||null}}const $s=new Gpe;class Kpe{constructor(){this.verificationCache=new Map}async verifyTwitterTask(e,n,r,i){try{const{isAuthenticated:s,account:o}=await $s.isAuthenticated(e,br.TWITTER);if(!s)throw new Error("Twitter account not authenticated. Please connect your Twitter account first.");const a=await this.createVerificationRecord({walletAddress:e,raffleAddress:n,platform:br.TWITTER,taskType:r,taskData:i}),{data:c,error:d}=await Ta("verify-twitter",{user_address:e,raffle_id:n,verification_id:a.id,task_type:r,task_data:i,twitter_user_id:o.platform_user_id,access_token:o.access_token});if(d)throw await this.updateVerificationStatus(a.id,nl.FAILED,d.message),d;return await this.updateVerificationStatus(a.id,nl.VERIFIED),{success:!0,verificationId:a.id,error:null,details:c}}catch(s){return console.error("Twitter verification failed:",s),{success:!1,verificationId:null,error:s.message}}}async verifyDiscordTask(e,n,r,i){try{const{isAuthenticated:s,account:o}=await $s.isAuthenticated(e,br.DISCORD);if(!s)throw new Error("Discord account not authenticated. Please connect your Discord account first.");const a=await this.createVerificationRecord({walletAddress:e,raffleAddress:n,platform:br.DISCORD,taskType:r,taskData:i}),{data:c,error:d}=await Ta("verify-discord",{user_address:e,raffle_id:n,verification_id:a.id,task_type:r,task_data:i,discord_user_id:o.platform_user_id,access_token:o.access_token});if(d)throw await this.updateVerificationStatus(a.id,nl.FAILED,d.message),d;return await this.updateVerificationStatus(a.id,nl.VERIFIED),{success:!0,verificationId:a.id,error:null,details:c}}catch(s){return console.error("Discord verification failed:",s),{success:!1,verificationId:null,error:s.message}}}async verifyTelegramTask(e,n,r,i){try{const{isAuthenticated:s,account:o}=await $s.isAuthenticated(e,br.TELEGRAM);if(!s)throw new Error("Telegram account not authenticated. Please connect your Telegram account first.");const a=await this.createVerificationRecord({walletAddress:e,raffleAddress:n,platform:br.TELEGRAM,taskType:r,taskData:i}),{data:c,error:d}=await Ta("verify-telegram",{user_address:e,raffle_id:n,verification_id:a.id,task_type:r,task_data:i,telegram_user_id:o.platform_user_id});if(d)throw await this.updateVerificationStatus(a.id,nl.FAILED,d.message),d;return await this.updateVerificationStatus(a.id,nl.VERIFIED),{success:!0,verificationId:a.id,error:null,details:c}}catch(s){return console.error("Telegram verification failed:",s),{success:!1,verificationId:null,error:s.message}}}async createVerificationRecord(e){const{walletAddress:n,raffleAddress:r,platform:i,taskType:s,taskData:o}=e,a={user_address:n,raffle_id:r,platform:i,task_type:s,task_data:o,status:nl.PENDING,updated_at:new Date().toISOString(),created_at:new Date().toISOString()},{data:c,error:d}=await Mr.from(ll.VERIFICATION_RECORDS).upsert(a,{onConflict:"user_address,raffle_id,platform,task_type",ignoreDuplicates:!1}).select().single();if(d)throw d;return c}async updateVerificationStatus(e,n,r=null){const i={status:n,updated_at:new Date().toISOString()};n===nl.VERIFIED&&(i.verified_at=new Date().toISOString()),r&&(i.error_message=r);const{error:s}=await Mr.from(ll.VERIFICATION_RECORDS).update(i).eq("id",e);if(s)throw s}async getVerificationRecords(e,n){try{const{data:r,error:i}=await Mr.from(ll.VERIFICATION_RECORDS).select("*").eq("user_address",e).eq("raffle_id",n).order("created_at",{ascending:!1});if(i)throw i;return{records:r,error:null}}catch(r){return console.error("Failed to get verification records:",r),{records:[],error:r.message}}}async checkAllTasksVerified(e,n,r){try{const{records:i}=await this.getVerificationRecords(e,n),s=i.filter(c=>c.status===nl.VERIFIED),o=s.map(c=>`${c.platform}_${c.task_type}_${JSON.stringify(c.task_data)}`),a=r.filter(c=>{const d=`${c.platform}_${c.type}_${JSON.stringify(c.data)}`;return!o.includes(d)});return{allVerified:a.length===0,verifiedTasks:s,missingTasks:a}}catch(i){return console.error("Failed to check task verification status:",i),{allVerified:!1,verifiedTasks:[],missingTasks:r}}}async verifyTask(e,n,r,i){switch(e){case br.TWITTER:return await this.verifyTwitterTask(n,r,i);case br.DISCORD:return await this.verifyDiscordTask(n,r,i);case br.TELEGRAM:return await this.verifyTelegramTask(n,r,i);default:return{success:!1,verificationId:null,error:`Unsupported platform: ${e}`}}}getTaskInstructions(e,n){var i;return((i={[br.TWITTER]:{[xu.TWITTER_LIKE]:{title:"Like Tweet",description:"Like the specified tweet to complete this task",steps:["Click the heart icon on the tweet","Ensure the heart is filled (red color)",'Click "Verify" to check completion']},[xu.TWITTER_RETWEET]:{title:"Retweet",description:"Retweet the specified tweet to complete this task",steps:["Click the retweet icon on the tweet",'Choose "Retweet" or "Quote Tweet"','Click "Verify" to check completion']},[xu.TWITTER_FOLLOW]:{title:"Follow Account",description:"Follow the specified Twitter account",steps:["Visit the Twitter profile",'Click the "Follow" button','Click "Verify" to check completion']},[xu.TWITTER_MENTION]:{title:"Mention in Tweet",description:"Create a tweet mentioning the specified account",steps:["Create a new tweet","Include the required mention (@username)","Post the tweet",'Click "Verify" to check completion']}},[br.DISCORD]:{[xu.DISCORD_JOIN]:{title:"Join Discord Server",description:"Join the specified Discord server",steps:["Click the Discord invite link","Accept the server invitation","Ensure you remain in the server",'Click "Verify" to check membership']},[xu.DISCORD_ROLE]:{title:"Obtain Discord Role",description:"Get the specified role in the Discord server",steps:["Join the Discord server first","Follow server instructions to get the role","Check that you have the required role",'Click "Verify" to check role assignment']}},[br.TELEGRAM]:{[xu.TELEGRAM_JOIN]:{title:"Join Telegram Group",description:"Join the specified Telegram group or channel",steps:["Click the Telegram invite link","Join the group or channel","Ensure you remain a member",'Click "Verify" to check membership']}}}[e])==null?void 0:i[n])||{title:"Unknown Task",description:"Task instructions not available",steps:["Contact support for assistance"]}}clearCache(){this.verificationCache.clear()}getCachedResult(e){return this.verificationCache.get(e)||null}setCachedResult(e,n,r=3e5){this.verificationCache.set(e,n),setTimeout(()=>{this.verificationCache.delete(e)},r)}}const rc=new Kpe;class Ype{constructor(){this.subscriptions=new Map,this.listeners=new Map}subscribeToVerification(e,n,r={}){const i=`${e}-${n}`;this.subscriptions.has(i)&&this.unsubscribe(i),console.log(`[RealTime] Subscribing to verification updates for ${e} on raffle ${n}`);const s=Mr.channel(`verification-events-${i}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"verification_events",filter:`user_address=eq.${e.toLowerCase()},raffle_id=eq.${n}`},a=>{console.log("[RealTime] Verification event received:",a),this.handleVerificationEvent(a.new,r)}).subscribe(a=>{console.log(`[RealTime] Events subscription status: ${a}`)}),o=Mr.channel(`verifications-${i}`).on("postgres_changes",{event:"*",schema:"public",table:"social_media_verifications",filter:`user_address=eq.${e.toLowerCase()},raffle_id=eq.${n}`},a=>{console.log("[RealTime] Verification status changed:",a),this.handleVerificationStatusChange(a,r)}).subscribe(a=>{console.log(`[RealTime] Verifications subscription status: ${a}`)});return this.subscriptions.set(i,{eventsChannel:s,verificationsChannel:o,userAddress:e,raffleId:n}),()=>this.unsubscribe(i)}handleVerificationEvent(e,n){const{event_type:r,task_type:i,metadata:s}=e;switch(r){case"task_completed":n.onTaskCompleted&&n.onTaskCompleted({taskType:i,metadata:s});break;case"all_completed":n.onAllTasksCompleted&&n.onAllTasksCompleted({totalTasks:s.total_tasks,completedAt:s.completed_at});break;case"verification_ready":n.onVerificationReady&&n.onVerificationReady({canPurchase:s.can_purchase,readyAt:s.ready_at});break;default:console.log("[RealTime] Unknown event type:",r)}n.onUpdate&&n.onUpdate(e)}handleVerificationStatusChange(e,n){const{eventType:r,new:i,old:s}=e;r==="UPDATE"&&(s==null?void 0:s.status)!==(i==null?void 0:i.status)&&i.status==="completed"&&n.onTaskCompleted&&n.onTaskCompleted({taskType:i.task_type,platform:i.platform,verificationId:i.id}),n.onStatusChange&&n.onStatusChange({eventType:r,newRecord:i,oldRecord:s})}unsubscribe(e){const n=this.subscriptions.get(e);n&&(console.log(`[RealTime] Unsubscribing from ${e}`),n.eventsChannel.unsubscribe(),n.verificationsChannel.unsubscribe(),this.subscriptions.delete(e))}unsubscribeAll(){console.log("[RealTime] Unsubscribing from all verification updates"),this.subscriptions.forEach((e,n)=>{this.unsubscribe(n)}),this.subscriptions.clear(),this.listeners.clear()}async getVerificationProgress(e,n){try{const{data:r,error:i}=await Mr.rpc("get_verification_progress",{p_user_address:e.toLowerCase(),p_raffle_id:n});if(i)throw i;return{success:!0,data:(r==null?void 0:r[0])||{total_tasks:0,completed_tasks:0,pending_tasks:0,progress_percentage:0,all_completed:!1,tasks:[]}}}catch(r){return console.error("[RealTime] Error fetching verification progress:",r),{success:!1,error:r.message}}}async areAllTasksCompleted(e,n){const r=await this.getVerificationProgress(e,n);return r.success&&r.data.all_completed}async getRecentEvents(e,n,r=10){try{const{data:i,error:s}=await Mr.from("verification_events").select("*").eq("user_address",e.toLowerCase()).eq("raffle_id",n).order("created_at",{ascending:!1}).limit(r);if(s)throw s;return{success:!0,events:i||[]}}catch(i){return console.error("[RealTime] Error fetching recent events:",i),{success:!1,error:i.message,events:[]}}}}const Xpe=new Ype,gM={twitter:Em,discord:jf,telegram:_m,instagram:sX,youtube:mX,facebook:rX,linkedin:oX,website:Cm,default:Cm},yM={follow:Zk,like:w6,retweet:uX,comment:cX,mention:KY,join:Zk,share:pc,default:pc},Jpe=t=>{if(!t)return[];try{const e=JSON.parse(t);console.log("Parsed JSON tasks:",e);const n=Array.isArray(e)?e.map(Zpe):[];return console.log("Enhanced JSON tasks:",n),n}catch{console.log("Parsing text-based tasks from:",t);const e=Qpe(t);return console.log("Parsed text tasks:",e),e}},Qpe=t=>{const e=[],n=[{pattern:/twitter[:\s]+follow(?:\s+account)?[:\s\-]+@?([a-zA-Z0-9_]+)/gi,platform:"twitter",action:"follow",extractTarget:i=>i[1]},{pattern:/twitter[:\s]+like[:\s\-]+(https?:\/\/(?:twitter\.com|x\.com)\/[^\s]+)/gi,platform:"twitter",action:"like",extractTarget:i=>i[1]},{pattern:/twitter[:\s]+retweet[:\s\-]+(https?:\/\/(?:twitter\.com|x\.com)\/[^\s]+)/gi,platform:"twitter",action:"retweet",extractTarget:i=>i[1]},{pattern:/twitter[:\s]+comment(?:\s+on\s+tweet)?[:\s\-]+(https?:\/\/(?:twitter\.com|x\.com)\/[^\s]+)/gi,platform:"twitter",action:"comment",extractTarget:i=>i[1]},{pattern:/discord[:\s]+join[:\s]+(https?:\/\/discord\.gg\/[^\s]+)/gi,platform:"discord",action:"join",extractTarget:i=>i[1]},{pattern:/telegram[:\s]+join[:\s]+(https?:\/\/t\.me\/[^\s]+)/gi,platform:"telegram",action:"join",extractTarget:i=>i[1]},{pattern:/telegram[:\s]+join[:\s]+@?([a-zA-Z0-9_]+)/gi,platform:"telegram",action:"join",extractTarget:i=>i[1]}];let r=1;return n.forEach(({pattern:i,platform:s,action:o,extractTarget:a})=>{let c;for(;(c=i.exec(t))!==null;){const d=a(c);e.push({id:`${s}_${o}_${r++}`,platform:s,action:o,target:d,title:`${s.charAt(0).toUpperCase()+s.slice(1)} ${o.charAt(0).toUpperCase()+o.slice(1)}`,description:`${o.charAt(0).toUpperCase()+o.slice(1)} ${d}`,actionData:kB(s,o,d)})}}),e.length===0&&e.push({id:"generic_task",platform:"default",action:"complete",target:"",title:"Social Media Engagement",description:t,actionData:null}),e},Zpe=t=>{console.log("Enhancing task with action data:",t);const e=kB(t.platform,t.action||t.type,t.target||t.data);console.log("Generated action data:",e);const n={...t,actionData:e};return console.log("Enhanced task:",n),n},kB=(t,e,n)=>{switch(t==null?void 0:t.toLowerCase()){case"twitter":return eme(e,n);case"discord":return tme(e,n);case"telegram":return nme(e,n);default:return null}},eme=(t,e)=>{switch(t==null?void 0:t.toLowerCase()){case"follow":return{type:"follow",url:`https://twitter.com/${e.replace("@","")}`,buttonText:"Follow on Twitter",icon:"follow"};case"like":case"twitter_like":const n=yk(e);return{type:"like",url:e.startsWith("http")?e:`https://twitter.com/i/status/${n}`,buttonText:"Like Tweet",icon:"like"};case"retweet":case"twitter_retweet":const r=yk(e);return{type:"retweet",url:e.startsWith("http")?e:`https://twitter.com/i/status/${r}`,buttonText:"Retweet",icon:"retweet"};case"comment":case"twitter_comment":const i=yk(e);return{type:"comment",url:e.startsWith("http")?e:`https://twitter.com/i/status/${i}`,buttonText:"Comment on Tweet",icon:"comment"};case"mention":case"twitter_mention":return{type:"mention",url:`https://twitter.com/compose/tweet?text=${encodeURIComponent(`@${e.replace("@","")} `)}`,buttonText:"Create Mention Tweet",icon:"mention"};default:return{type:"generic",url:`https://twitter.com/${e.replace("@","")}`,buttonText:"Open on Twitter",icon:"default"}}},tme=(t,e)=>{switch(t==null?void 0:t.toLowerCase()){case"join":case"discord_join":return{type:"join",url:e.startsWith("http")?e:`https://discord.gg/${e}`,buttonText:"Join Discord Server",icon:"join"};default:return{type:"generic",url:e.startsWith("http")?e:`https://discord.gg/${e}`,buttonText:"Open Discord",icon:"default"}}},nme=(t,e)=>{switch(t==null?void 0:t.toLowerCase()){case"join":case"telegram_join":return{type:"join",url:e.startsWith("http")?e:`https://t.me/${e.replace("@","")}`,buttonText:"Join Telegram",icon:"join"};default:return{type:"generic",url:e.startsWith("http")?e:`https://t.me/${e.replace("@","")}`,buttonText:"Open Telegram",icon:"default"}}},yk=t=>{if(typeof t!="string")return"";const e=t.match(/status\/(\d+)/);return e?e[1]:t},rme=({task:t,onComplete:e,onAuthenticate:n,isCompleted:r,isVerifying:i,isAuthenticated:s,userAddress:o,raffleId:a,taskStatus:c,onRetry:d,authenticatedAccounts:f})=>{var H,Y,W;const[p,g]=k.useState(!1),[m,v]=k.useState(!1),x=gM[(H=t.platform)==null?void 0:H.toLowerCase()]||gM.default,T=yM[(Y=t.actionData)==null?void 0:Y.icon]||yM.default,_=(c==null?void 0:c.status)==="verifying",j=(c==null?void 0:c.status)==="failed",w=async()=>{var q;if(!o){re.error("Please connect your wallet first");return}g(!0);try{let X;switch((q=t.platform)==null?void 0:q.toLowerCase()){case"twitter":X=await $s.initiateTwitterAuth(o);break;case"discord":X=await $s.initiateDiscordAuth(o);break;case"telegram":X=await $s.initiateTelegramAuth(o);break;default:throw new Error(`Unsupported platform: ${t.platform}`)}if(X.success){if(X.authUrl){console.log("Opening OAuth popup for platform:",t.platform);const V=window.open(X.authUrl,"_blank","width=600,height=600");re.success("Authentication window opened. Please complete the OAuth process.");const R=setInterval(()=>{console.log("Checking if popup is closed...",V==null?void 0:V.closed),V&&V.closed&&(console.log("Popup closed, refreshing authentication status for:",t.platform),clearInterval(R),n(t.platform))},1e3);setTimeout(()=>{console.log("Fallback timeout reached, forcing popup close and refresh"),clearInterval(R),V&&!V.closed&&(V.close(),n(t.platform))},3e5)}}else re.error(X.error||"Authentication failed")}catch(X){console.error("Authentication error:",X),re.error("Failed to initiate authentication")}finally{g(!1)}},F=()=>{var q;(q=t.actionData)!=null&&q.url&&(window.open(t.actionData.url,"_blank","noreferrer"),re.success("Task page opened in new tab. Complete the action and return to verify."))},z=async()=>{if(!o||!t.platform){re.error("Missing required information");return}v(!0);try{const q=await $s.disconnectAccount(o,t.platform.toLowerCase());q.success?(re.success(`${t.platform.charAt(0).toUpperCase()+t.platform.slice(1)} account disconnected successfully!`),n&&n(t.platform.toLowerCase())):re.error(q.error||"Failed to disconnect account")}catch(q){console.error("Disconnect error:",q),re.error("Failed to disconnect account")}finally{v(!1)}},B=async()=>{var q;if(!o||!a){re.error("Missing required information");return}console.log("Task data for verification:",{task:t,taskType:t.type,taskAction:t.action,taskData:t.data,taskTarget:t.target});try{let X;switch((q=t.platform)==null?void 0:q.toLowerCase()){case"twitter":let V=t.type||t.action||"follow";V==="following"?V="follow":V==="liking"?V="like":V==="retweeting"&&(V="retweet");const R=t.data||{target:t.target};console.log("Calling verification with:",{userAddress:o,raffleId:a,taskType:V,taskData:R}),X=await rc.verifyTwitterTask(o,a,V,R);break;case"discord":const b=t.type||t.action||"follow",A=t.data||{target:t.target};X=await rc.verifyDiscordTask(o,a,b,A);break;case"telegram":const D=t.type||t.action||"follow",M=t.data||{target:t.target};X=await rc.verifyTelegramTask(o,a,D,M);break;default:throw new Error(`Unsupported platform: ${t.platform}`)}X.success?(re.success("Task verified successfully!"),e(t.id,X.data)):re.error(X.error||"Verification failed")}catch(X){console.error("Verification error:",X),re.error("Failed to verify task")}};return l.jsxs("div",{className:"border border-border rounded-lg p-3 bg-card",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(x,{className:"h-5 w-5 text-muted-foreground flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h4",{className:"font-medium text-sm",children:t.title}),t.platform&&l.jsx(Qo,{variant:"outline",className:"text-xs",children:t.platform.charAt(0).toUpperCase()+t.platform.slice(1)})]}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:t.description}),t.platform&&["twitter","discord","telegram"].includes(t.platform.toLowerCase())&&l.jsx("div",{className:"flex items-center gap-1 mt-1",children:s?l.jsxs(l.Fragment,{children:[l.jsx(Jo,{className:"h-3 w-3 text-green-600"}),l.jsx("span",{className:"text-xs text-foreground",children:((W=f[t.platform.toLowerCase()])==null?void 0:W.platform_username)==="pending"?"Connecting...":"Authenticated"})]}):l.jsxs(l.Fragment,{children:[l.jsx(w2,{className:"h-3 w-3 text-orange-600"}),l.jsx("span",{className:"text-xs text-foreground",children:"Auth Required"})]})})]}),l.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:!r&&l.jsxs(l.Fragment,{children:[(()=>{const q=t.platform&&["twitter","discord","telegram"].includes(t.platform.toLowerCase())&&!s;return console.log("Connect button display check:",{taskPlatform:t.platform,platformIncluded:t.platform&&["twitter","discord","telegram"].includes(t.platform.toLowerCase()),isAuthenticated:s,shouldShow:q}),q})()&&l.jsx(Ee,{onClick:w,disabled:p,size:"sm",variant:"outline",className:"text-xs whitespace-nowrap",children:p?"Connecting...":"Connect"}),s&&t.actionData&&l.jsxs(Ee,{variant:"outline",size:"sm",onClick:F,className:"text-xs whitespace-nowrap",children:[l.jsx(T,{className:"h-3 w-3 mr-1"}),t.actionData.buttonText.replace("on Twitter","").replace("on Discord","").replace("on Telegram","").trim()]}),s&&t.platform&&["twitter","discord","telegram"].includes(t.platform.toLowerCase())&&l.jsx(Ee,{onClick:z,disabled:m,size:"sm",variant:"outline",className:"text-xs whitespace-nowrap text-red-600 hover:text-red-700 hover:border-red-300",children:m?"Disconnecting...":"Disconnect"}),s&&!r&&t.platform&&["twitter","discord","telegram"].includes(t.platform.toLowerCase())&&l.jsx(Ee,{onClick:B,disabled:i,size:"sm",variant:"default",className:"text-xs whitespace-nowrap bg-green-600 hover:bg-green-700",children:i?"Verifying...":"Verify Task"}),s&&t.actionUrl&&!t.actionData&&l.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>window.open(t.actionUrl,"_blank"),className:"text-xs whitespace-nowrap",children:[l.jsx(pc,{className:"h-3 w-3 mr-1"}),"Complete"]})]})}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[j&&l.jsx(Ee,{onClick:()=>d(t.id),size:"sm",variant:"ghost",className:"text-xs h-6 px-2",title:"Retry verification",children:l.jsx(Yf,{className:"h-3 w-3"})}),l.jsx(Qo,{variant:r?"default":j?"destructive":"secondary",className:"text-xs",children:r?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Nn,{className:"h-3 w-3"}),"Done"]}):j?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(pX,{className:"h-3 w-3"}),"Failed"]}):_?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(aX,{className:"h-3 w-3 animate-spin"}),"Verifying"]}):l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Sm,{className:"h-3 w-3"}),"Pending"]})})]})]}),j&&(c==null?void 0:c.error)&&l.jsxs("div",{className:"mt-2 flex items-start gap-2 p-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded text-xs",children:[l.jsx(un,{className:"h-3 w-3 text-red-600 flex-shrink-0 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm text-foreground",children:c.error}),l.jsx("button",{onClick:()=>d(t.id),className:"text-red-600 dark:text-red-400 underline hover:no-underline mt-1",children:"Click to retry"})]})]})]})},ime=({raffle:t,userAddress:e,socialEngagementRequired:n,hasCompletedSocialEngagement:r,onVerificationComplete:i})=>{const{connected:s}=_n(),{contracts:o,executeTransaction:a}=jn(),[c,d]=k.useState([]),[f,p]=k.useState(new Set),[g,m]=k.useState(!1),[v,x]=k.useState(!1),[T,_]=k.useState({}),[j,w]=k.useState([]),[F,z]=k.useState(!1),[B,H]=k.useState(!1),[Y,W]=k.useState({}),[q,X]=k.useState(new Set);k.useEffect(()=>{if(t!=null&&t.socialTaskDescription){const C=Jpe(t.socialTaskDescription);d(C)}else d([])},[t==null?void 0:t.socialTaskDescription]),k.useEffect(()=>{s&&e&&V()},[s,e,t==null?void 0:t.address]),k.useEffect(()=>{s&&e&&(o!=null&&o.socialEngagementManager)&&R()},[s,e,o==null?void 0:o.socialEngagementManager,t==null?void 0:t.address,j]),k.useEffect(()=>{if(!e||!(t!=null&&t.address))return;const C=Xpe.subscribeToVerification(e,t.address,{onTaskCompleted:I=>{re.success(`Task completed: ${I.taskType}`),W(E=>({...E,[I.taskId]:{status:"completed",timestamp:Date.now()}})),V()},onAllTasksCompleted:I=>{re.success(" All tasks completed! You can now purchase slots."),V(),i&&i()},onVerificationReady:()=>{re.success(" Verification complete! Purchase slots button is now active.")},onTaskFailed:I=>{W(E=>({...E,[I.taskId]:{status:"failed",error:I.error,timestamp:Date.now()}})),re.error(`Task verification failed: ${I.error}`)}});return()=>{C()}},[e,t==null?void 0:t.address,i]);const V=async()=>{if(e){z(!0);try{const C=await $s.getAuthenticatedAccounts(e);if(console.log("Accounts result from service:",C),C&&!C.error&&Array.isArray(C.accounts)){const I={};C.accounts.forEach(E=>{I[E.platform]=E}),_(I)}else C&&C.error?(console.warn("Failed to load authenticated accounts:",C.error),_({})):(console.warn("Unexpected response format from getAuthenticatedAccounts"),_({}));if(t!=null&&t.address)try{const I=await rc.getVerificationRecords(e,t.address);if(console.log("Verification records result:",I),I&&!I.error&&Array.isArray(I.records)){w(I.records);const E=new Set;I.records.forEach(P=>{if(P.status==="completed"){const N=c.find(O=>O.platform===P.platform&&O.type===P.task_type);N&&E.add(N.id)}}),p(E)}else console.warn("No verification records found or invalid format"),w([])}catch(I){console.error("Error loading verification records:",I),w([]),I.message&&I.message.includes("fetch")&&re.error("Unable to connect to verification service. Please check your connection.")}}catch(C){console.error("Error loading user data:",C),_({}),w([]),C.message&&C.message.includes("fetch")?re.error("Unable to connect to backend services. Please check your internet connection."):C.message&&C.message.includes("Supabase")?re.error("Backend service temporarily unavailable. Please try again later."):re.error("Failed to load verification data. Please refresh the page.")}finally{z(!1)}}},R=async()=>{try{if(!(o!=null&&o.socialEngagementManager)||!(t!=null&&t.address)||!e)return;let C=!1;try{C=await o.socialEngagementManager.hasCompletedSocialEngagement(t.address,e)}catch(E){console.error("Error checking blockchain completion status:",E)}let I={success:!1};try{I=await rc.checkAllTasksVerified(e,t.address)}catch(E){console.error("Error checking Supabase verification status:",E),E.message&&E.message.includes("fetch")&&console.warn("Unable to connect to verification service")}(C||I.success)&&p(new Set(c.map(E=>E.id)))}catch(C){console.error("Error checking completion status:",C)}},b=async C=>{console.log("Starting authentication status refresh for platform:",C);try{console.log("Fetching authenticated accounts for user:",e);const I=await $s.getAuthenticatedAccounts(e);if(console.log("Received accounts result:",I),I&&!I.error&&Array.isArray(I.accounts)){const E={};I.accounts.forEach(P=>{console.log("Found authenticated account:",P.platform,P),E[P.platform]=P}),console.log("Setting authenticated accounts map:",E),_(E);try{console.log("Checking if platform is authenticated:",C);const P=await $s.isAuthenticated(e,C);console.log("Authentication check result:",P),P.success&&P.isAuthenticated?re.success(`${C.charAt(0).toUpperCase()+C.slice(1)} account connected successfully!`):P.error&&console.warn("Authentication check failed:",P.error)}catch(P){console.error("Error checking authentication status:",P)}}else I&&I.error&&(console.warn("Failed to refresh authenticated accounts:",I.error),I.error.includes("fetch")&&re.error("Unable to verify authentication status. Please check your connection."))}catch(I){console.error("Error refreshing authentication status:",I),I.message&&I.message.includes("fetch")&&re.error("Unable to connect to authentication service. Please try again.")}finally{console.log("Authentication status refresh completed for platform:",C)}},A=async C=>{var E;const I=c.find(P=>P.id===C);if(I){W(P=>({...P,[C]:{status:"verifying",timestamp:Date.now()}})),X(P=>new Set([...P,C]));try{let P;switch((E=I.platform)==null?void 0:E.toLowerCase()){case"twitter":P=await rc.verifyTwitterTask(e,t.address,I.type||I.action,I.data||{target:I.target});break;case"discord":P=await rc.verifyDiscordTask(e,t.address,I.type||I.action,I.data||{target:I.target});break;case"telegram":P=await rc.verifyTelegramTask(e,t.address,I.type||I.action,I.data||{target:I.target});break;default:throw new Error(`Unsupported platform: ${I.platform}`)}P.success?(W(N=>({...N,[C]:{status:"completed",timestamp:Date.now()}})),re.success("Task verified successfully!"),V()):(W(N=>({...N,[C]:{status:"failed",error:P.error,timestamp:Date.now()}})),re.error(P.error||"Verification failed"))}catch(P){console.error("Retry verification error:",P),W(N=>({...N,[C]:{status:"failed",error:P.message,timestamp:Date.now()}})),re.error("Failed to retry verification")}finally{X(P=>{const N=new Set(P);return N.delete(C),N})}}},D=async(C,I)=>{if(!s||!e){re.error("Please connect your wallet");return}x(!0);try{if(!c.find(P=>P.id===C))throw new Error("Task not found");if(typeof I=="object"&&I.verified){p(N=>new Set([...N,C]));try{await V()}catch(N){console.warn("Failed to refresh user data after task completion:",N)}c.every(N=>f.has(N.id)||N.id===C)&&i&&i(),re.success("Task verification completed!");return}}catch(E){console.error("Error completing task:",E),E.message&&E.message.includes("fetch")?re.error("Unable to connect to verification service. Please check your connection and try again."):E.message&&E.message.includes("Task not found")?re.error("Task not found. Please refresh the page and try again."):re.error("Failed to complete task. Please try again.")}finally{x(!1)}},M=async C=>{try{const I=await $s.disconnectAccount(e,C);I.success?(_(E=>{const P={...E};return delete P[C],P}),re.success(`${C.charAt(0).toUpperCase()+C.slice(1)} account disconnected`)):I.error&&I.error.includes("fetch")?re.error("Unable to connect to authentication service. Please check your connection and try again."):re.error(I.error||"Failed to disconnect account")}catch(I){console.error("Error disconnecting account:",I),I.message&&I.message.includes("fetch")?re.error("Connection failed. Please check your internet connection and try again."):re.error("Failed to disconnect account. Please try again.")}};return n?r?l.jsx(Xt,{className:"detail-beige-card bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",children:l.jsx(Jt,{className:"pt-6",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Nn,{className:"h-6 w-6 text-green-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-foreground",children:"Social Media Tasks Completed"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"You have successfully completed all required social media tasks for this raffle."})]})]})})}):l.jsxs(Xt,{className:"detail-beige-card bg-card/80 text-foreground backdrop-blur-sm border border-border",children:[l.jsx(ds,{className:"pb-0",children:l.jsxs(zs,{className:"flex items-center justify-between cursor-pointer",onClick:()=>H(!B),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(un,{className:"h-5 w-5 text-orange-500"}),"Social Media Tasks Required"]}),B?l.jsx(sg,{className:"h-4 w-4 text-muted-foreground"}):l.jsx(ra,{className:"h-4 w-4 text-muted-foreground"})]})}),l.jsx(Jt,{className:B?"pt-3 space-y-4":"pt-1",children:B&&l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-sm text-foreground",children:"Complete the following social media tasks to participate in this raffle:"}),Object.keys(T).length>0&&l.jsxs("div",{className:"border border-border rounded-lg p-3",children:[l.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:"Connected Accounts:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(T).map(([C,I])=>l.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 rounded-full px-3 py-1 text-xs",children:[l.jsx(Jo,{className:"h-3 w-3 text-green-600"}),l.jsx("span",{className:"text-muted-foreground",children:C.charAt(0).toUpperCase()+C.slice(1)}),l.jsxs("span",{className:"text-muted-foreground",children:["@",I.platform_username]}),l.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>M(C),className:"h-4 w-4 p-0 text-red-500 hover:text-red-700",children:""})]},C))})]}),F&&l.jsxs("div",{className:"text-center py-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Loading verification data..."})]}),l.jsx("div",{className:"space-y-3",children:c.map(C=>l.jsx(rme,{task:C,onComplete:D,onAuthenticate:b,isCompleted:f.has(C.id),isVerifying:v,isAuthenticated:(()=>{var P;const I=(P=C.platform)==null?void 0:P.toLowerCase(),E=I?!!T[I]:!1;return console.log("Task authentication check:",{taskPlatform:C.platform,normalizedPlatform:I,authenticatedAccounts:Object.keys(T),isAuthenticated:E}),E})(),userAddress:e,raffleId:t==null?void 0:t.address,taskStatus:Y[C.id],onRetry:A,authenticatedAccounts:T},C.id))}),c.length>0&&l.jsxs("div",{className:"pt-4 border-t border-border",children:[c.some(C=>!f.has(C.id))&&l.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Complete all tasks above. Verification happens automatically."}),l.jsxs("div",{className:"mt-3",children:[l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Progress: ",f.size," of ",c.length," tasks completed"]})}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 overflow-hidden",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${f.size/c.length*100}%`}})}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1.5 text-center",children:"Updates automatically when you complete tasks"})]})]})]})})]}):null},sme=({metadata:t,loading:e})=>e?l.jsxs("div",{className:"bg-card rounded-lg border border-border p-6 animate-pulse",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-1/4 mb-4"}),l.jsx("div",{className:"h-20 bg-muted rounded"})]}):!t||!t.description&&!t.twitterLink&&!t.discordLink&&!t.telegramLink?null:l.jsxs("div",{className:"space-y-3",children:[t.description&&l.jsx("p",{className:"text-foreground/80 whitespace-pre-wrap leading-relaxed text-base",children:t.description}),(t.twitterLink||t.discordLink||t.telegramLink)&&l.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.twitterLink&&l.jsxs("a",{href:t.twitterLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-1.5 bg-[#1DA1F2] hover:bg-[#1a8cd8] text-white rounded-lg transition-colors text-sm",children:[l.jsx(Em,{className:"h-3.5 w-3.5"}),l.jsx("span",{className:"text-xs font-medium",children:ak(t.twitterLink,"twitter")}),l.jsx(pc,{className:"h-3 w-3"})]}),t.discordLink&&l.jsxs("a",{href:t.discordLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-1.5 bg-[#5865F2] hover:bg-[#4752c4] text-white rounded-lg transition-colors text-sm",children:[l.jsx(jf,{className:"h-3.5 w-3.5"}),l.jsx("span",{className:"text-xs font-medium",children:ak(t.discordLink,"discord")}),l.jsx(pc,{className:"h-3 w-3"})]}),t.telegramLink&&l.jsxs("a",{href:t.telegramLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-1.5 bg-[#0088cc] hover:bg-[#0077b3] text-white rounded-lg transition-colors text-sm",children:[l.jsx(_m,{className:"h-3.5 w-3.5"}),l.jsx("span",{className:"text-xs font-medium",children:ak(t.telegramLink,"telegram")}),l.jsx(pc,{className:"h-3 w-3"})]})]})]}),TB=async(t,e,n=1,r={})=>{try{if(!t||!e)throw new Error("User address and raffle ID are required");if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error("Invalid user address format");const i={user_address:t.toLowerCase(),raffle_id:e,raffle_address:e,slot_count:n,...r},{data:s,error:o}=await Mr.functions.invoke(wB.GENERATE_SIGNATURE,{body:i});if(o)throw console.error("Signature generation error:",o),new Error(`Failed to generate signature: ${o.message}`);return await cme({userAddress:i.user_address,raffleId:i.raffle_id,slotCount:i.slot_count,signature:s.signature,nonce:s.nonce,deadline:s.deadline,signatureData:JSON.stringify(i),expiresAt:new Date(Date.now()+900*1e3)}),{success:!0,signature:s.signature,nonce:s.nonce,deadline:s.deadline,signatureData:i,expiresAt:s.expires_at,metadata:s.metadata||{}}}catch(i){return console.error("Error generating purchase signature:",i),{success:!1,error:i.message}}},ome=async(t,e)=>{try{const{data:n,error:r}=await Mr.functions.invoke(wB.VERIFY_SIGNATURE,{body:{signature:t,signatureData:e}});if(r)throw new Error(`Signature verification failed: ${r.message}`);return{success:!0,isValid:n.isValid,metadata:n.metadata||{}}}catch(n){return console.error("Error verifying signature:",n),{success:!1,error:n.message,isValid:!1}}},ame=async(t,e=10)=>{try{const{data:n,error:r}=await Mr.from("purchase_signatures").select("*").eq("user_address",t.toLowerCase()).order("created_at",{ascending:!1}).limit(e);if(r)throw new Error(`Failed to fetch signature history: ${r.message}`);return n||[]}catch(n){return console.error("Error fetching signature history:",n),[]}},lme=async(t,e)=>{try{const{data:n,error:r}=await Mr.from("purchase_signatures").select("*").eq("user_address",t.toLowerCase()).eq("raffle_id",e).gt("expires_at",new Date().toISOString()).order("created_at",{ascending:!1}).limit(1);if(r)throw new Error(`Failed to fetch existing signature: ${r.message}`);return n&&n.length>0?n[0]:null}catch(n){return console.error("Error fetching existing signature:",n),null}},cme=async t=>{try{const{data:e,error:n}=await Mr.from("purchase_signatures").insert([{user_address:t.userAddress,raffle_id:t.raffleId,slot_count:t.slotCount,signature:t.signature,signature_data:t.signatureData,expires_at:t.expiresAt,created_at:new Date().toISOString()}]).select();if(n)throw new Error(`Failed to store signature: ${n.message}`);return e[0]}catch(e){throw console.error("Error storing signature:",e),e}},ume=t=>new Date>new Date(t),dme=async t=>{try{return(await Promise.allSettled(t.map(n=>TB(n.userAddress,n.raffleId,n.slotCount)))).map((n,r)=>({purchase:t[r],success:n.status==="fulfilled",data:n.status==="fulfilled"?n.value:null,error:n.status==="rejected"?n.reason.message:null}))}catch(e){throw console.error("Error in batch signature generation:",e),e}},fme=async()=>{try{const{data:t,error:e}=await Mr.from("purchase_signatures").delete().lt("expires_at",new Date().toISOString()).select();if(e)throw new Error(`Failed to cleanup expired signatures: ${e.message}`);return t?t.length:0}catch(t){return console.error("Error cleaning up expired signatures:",t),0}},hme={generatePurchaseSignature:TB,verifyPurchaseSignature:ome,getUserSignatureHistory:ame,getExistingSignature:lme,isSignatureExpired:ume,batchGenerateSignatures:dme,cleanupExpiredSignatures:fme},xM={"0xd92e233d":"ZeroAddress","0xf4f5b733":"ZeroQuantity","0xd2100d73":"ZeroSlotFee","0xfd2a413d":"PoolDurationElapsed","0x7145fa7b":"ExceedsMaxSlots","0x569e8c11":"IncorrectPayment","0x176f75b8":"ExceedsSlotLimit","0x1889eae0":"ContractsCannotPurchase","0xbe54005a":"ProtocolAdminNotAllowed","0x194d5060":"CreatorNotAllowed","0x93a7d4e8":"InvalidNonPrizedPurchase","0x43361aaf":"SocialEngagementNotConfigured","0xbaf3f0f7":"InvalidState","0x27e1f1e5":"OnlyOperator","0xb19a9f82":"NotAWinner","0xccaf35d0":"NoPrizesToClaim","0x327ee3e0":"InvalidPrizeAmount","0x880a1491":"PrizeTransferFailed","0x424ca239":"InvalidPrizeCollection","0x1a1889b7":"InvalidPoolState","0x5c427cd9":"UnauthorizedCaller","0x170554d5":"ExceedsWinnersCount","0xfd34e505":"MintingNotSupported","0x955c501b":"UnauthorizedMinter","0xc30436e9":"ExceedsMaxSupply","0x0fee82b1":"SupplyNotSet"},pme=(t,e="complete transaction")=>{var o,a,c,d,f,p;console.group(" Parsing Contract Error"),console.log("Full error object:",t),console.log("error.reason:",t==null?void 0:t.reason),console.log("error.code:",t==null?void 0:t.code),console.log("error.data:",t==null?void 0:t.data),console.log("error.error:",t==null?void 0:t.error),console.log("error.message:",t==null?void 0:t.message),console.groupEnd();let n="";t!=null&&t.reason?n=t.reason:(o=t==null?void 0:t.data)!=null&&o.message?n=t.data.message:(a=t==null?void 0:t.error)!=null&&a.message?n=t.error.message:(d=(c=t==null?void 0:t.error)==null?void 0:c.data)!=null&&d.message?n=t.error.data.message:n=t.message||t.toString(),console.log(" Extracted error message:",n);let r=null;if((p=(f=t==null?void 0:t.error)==null?void 0:f.data)!=null&&p.data&&typeof t.error.data.data=="string"?(r=t.error.data.data.slice(0,10),console.log(" Found error selector in error.error.data.data:",r)):t!=null&&t.data&&typeof t.data=="string"&&t.data.startsWith("0x")&&(r=t.data.slice(0,10),console.log(" Found error selector in error.data:",r)),r&&xM[r]){const g=xM[r];console.log(" Decoded custom error from selector:",g),n=g}const i=n.match(/execution reverted:?\s*([A-Z][a-zA-Z0-9]*)/);i&&i[1]&&(console.log(" Matched custom error (format 1):",i[1]),n=i[1]);const s=n.match(/custom error '([A-Z][a-zA-Z0-9]*)\(/);return s&&s[1]&&(console.log(" Matched custom error (format 2):",s[1]),n=s[1]),console.log(" Final error message to parse:",n),n.includes("NotAWinner")?"You are not a winner of this raffle. Only winners can claim prizes.":n.includes("NoPrizesToClaim")?"You have already claimed all your prizes. No prizes remaining to claim.":n.includes("InvalidPrizeAmount")?"Invalid prize amount calculated. Please contact support for assistance.":n.includes("PrizeTransferFailed")?"Prize transfer failed. Please ensure your wallet can receive the prize and try again.":n.includes("InvalidPrizeCollection")?"Invalid prize collection address. Please contact the raffle creator.":n.includes("InvalidPoolState")?"Raffle is not in the correct state for this action. Please wait for winner selection to complete.":n.includes("UnauthorizedCaller")?"You are not authorized to perform this action. Only the creator, operators, or prize contract owner can mint prizes.":n.includes("ExceedsWinnersCount")?"Cannot mint more prizes than the total number of winners.":n.includes("MintingNotSupported")?"Minting is not supported for this prize type. This prize may be escrowed.":n.includes("UnauthorizedMinter")?"You are not authorized to mint NFTs from this collection. Only the designated minter can mint.":n.includes("ZeroQuantity")?"Mint quantity must be greater than 0. Please specify a valid quantity.":n.includes("ExceedsMaxSupply")?"Minting would exceed the maximum supply for this collection. No more NFTs can be minted.":n.includes("SupplyNotSet")?"Maximum supply has not been set for this token ID. Please contact the collection owner.":n.includes("ZeroAddress")?"Invalid address provided. Address cannot be zero.":n.includes("ZeroQuantity")?"Quantity must be greater than 0.":n.includes("ZeroSlotFee")?"Slot fee cannot be zero.":n.includes("PoolDurationElapsed")?"Raffle duration has elapsed. No more tickets can be purchased.":n.includes("ExceedsMaxSlots")?"Purchase exceeds the maximum number of available slots.":n.includes("IncorrectPayment")?"Incorrect payment amount. Please ensure you send the exact amount required.":n.includes("ExceedsSlotLimit")?"Purchase exceeds your personal slot limit for this raffle.":n.includes("ContractsCannotPurchase")?"Smart contracts cannot purchase raffle tickets. Please use a regular wallet.":n.includes("ProtocolAdminNotAllowed")?"Protocol administrators cannot participate in raffles.":n.includes("CreatorNotAllowed")?"Raffle creators cannot purchase tickets in their own raffles.":n.includes("InvalidNonPrizedPurchase")?"Cannot purchase tickets in a non-prized raffle.":n.includes("SocialEngagementNotConfigured")?"Social engagement is required but not properly configured. Please contact support.":n.includes("InvalidState")?"Raffle is not in a valid state for this action.":n.includes("OnlyOperator")?"Only protocol operators can perform this action.":n.includes("user rejected")||n.includes("User denied")||n.includes("user cancelled")?"Transaction was cancelled. You rejected the transaction in your wallet.":n.includes("insufficient funds")?"Insufficient funds in your wallet to complete this transaction.":n.includes("gas required exceeds allowance")||n.includes("out of gas")?"Transaction requires more gas than available. Please try again with a higher gas limit.":n.includes("nonce too low")?"Transaction nonce is too low. Please reset your wallet or wait for pending transactions to complete.":n.includes("replacement transaction underpriced")?"Replacement transaction has too low gas price. Please increase the gas price.":n.includes("network changed")||n.includes("wrong network")?"Wrong network selected. Please switch to the correct network in your wallet.":n.includes("execution reverted")?"Transaction failed during execution. Please check the transaction details and try again.":`Failed to ${e}. Please try again or contact support if the issue persists.`},mme=t=>{const e=t.message||t.toString();return["NotAWinner","NoPrizesToClaim","InvalidPrizeAmount","PrizeTransferFailed","InvalidPrizeCollection","InvalidPoolState","UnauthorizedCaller","ExceedsWinnersCount","MintingNotSupported","UnauthorizedMinter","ZeroQuantity","ExceedsMaxSupply","SupplyNotSet","ZeroAddress","ZeroSlotFee","PoolDurationElapsed","ExceedsMaxSlots","IncorrectPayment","ExceedsSlotLimit","ContractsCannotPurchase","ProtocolAdminNotAllowed","CreatorNotAllowed","InvalidNonPrizedPurchase","SocialEngagementNotConfigured","InvalidState","OnlyOperator"].some(r=>e.includes(r))},gme=t=>{const e=t.message||t.toString();return e.includes("user rejected")||e.includes("User denied")||e.includes("user cancelled")?"info":e.includes("NoPrizesToClaim")||e.includes("NotAWinner")||e.includes("ExceedsSlotLimit")||e.includes("PoolDurationElapsed")?"warning":"error"},yme=t=>{const e=t.message||t.toString();return e.includes("NotAWinner")?"Check the winners list to see if you won.":e.includes("NoPrizesToClaim")?"You have already claimed your prizes. Check your wallet for the received prizes.":e.includes("InvalidPoolState")?"Wait for the raffle to complete winner selection, then try again.":e.includes("UnauthorizedCaller")?"Contact the raffle creator or a protocol operator to mint your prize.":e.includes("insufficient funds")?"Add more funds to your wallet and try again.":e.includes("wrong network")?"Switch to the correct network in your wallet settings.":e.includes("ExceedsMaxSupply")?"This collection has reached its maximum supply. No more NFTs can be minted.":e.includes("PoolDurationElapsed")?"This raffle has ended. You can no longer purchase tickets.":e.includes("ExceedsSlotLimit")?"You have reached your maximum ticket limit for this raffle.":null},qu=(t,e="complete transaction")=>{const n=pme(t,e),r=gme(t),i=yme(t),s=mme(t);return{message:n,severity:r,suggestedAction:i,isCustomError:s,originalError:t.message||t.toString()}},Du=(t,e,n={})=>{const r=qu(t,e);return console.group(` Contract Error: ${e}`),console.error("User Message:",r.message),console.error("Severity:",r.severity),r.suggestedAction&&console.info("Suggested Action:",r.suggestedAction),console.error("Original Error:",r.originalError),console.error("Is Custom Error:",r.isCustomError),Object.keys(n).length>0&&console.error("Additional Data:",n),console.groupEnd(),r},hS=["Pending","Active","Ended","Drawing","Completed","Deleted","AllPrizesClaimed","Unengaged"];function SB(t){return de.isBigNumber(t)?t:t!=null?de.from(t):de.from(0)}const bp=t=>(console.log("Token Selector Debug:",{holderTokenAddress:t.holderTokenAddress,holderTokenStandard:t.holderTokenStandard,holderTokenStandardType:typeof t.holderTokenStandard,holderTokenStandardNumber:t.holderTokenStandard!==void 0&&t.holderTokenStandard!==null?t.holderTokenStandard.toNumber?t.holderTokenStandard.toNumber():Number(t.holderTokenStandard):"N/A",zeroAddress:$e,addressMatches:t.holderTokenAddress===$e,standardMatches:t.holderTokenStandard===0,standardMatchesGTE:t.holderTokenStandard!==void 0&&t.holderTokenStandard!==null&&(t.holderTokenStandard.toNumber?t.holderTokenStandard.toNumber()===0:Number(t.holderTokenStandard)===0),tokenGatingEnabled:t.holderTokenStandard===0}),!t.holderTokenAddress||t.holderTokenAddress===$e||t.holderTokenStandard===void 0||t.holderTokenStandard===null?!1:(t.holderTokenStandard.toNumber?t.holderTokenStandard.toNumber():Number(t.holderTokenStandard))===0),xme=t=>t.holderTokenAddress&&t.holderTokenAddress!==$e,CB=ke.memo(({raffle:t,selectedTokenIds:e,setSelectedTokenIds:n,loadingTokens:r,tokenError:i,userTokenIds:s})=>{let o=1;try{const f=t.minHolderTokenBalance;f&&f.toString?f.toString().length>10?o=parseFloat(Ia(f,18)):f.toNumber?o=f.toNumber():o=Number(f):f&&(o=Number(f))}catch(f){console.warn("Could not convert minHolderTokenBalance to number, using default 1:",f),o=1}const a=o>1,[c,d]=k.useState("");if(k.useEffect(()=>{i&&e.length>0&&d(e.join(", "))},[i,e]),r)return l.jsx("div",{className:"mb-4 p-4 border border-gray-200 rounded-lg bg-gray-50",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Loading your tokens..."})]})});if(i){const f=i.toLowerCase().includes("enumeration");return l.jsx("div",{className:"mb-4 p-4 border border-gray-200 rounded-lg bg-gray-50",children:f&&l.jsxs("div",{className:"mt-3",children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Enter Token ID",o>1?"s":""," manually:"]}),l.jsx("input",{type:"text",value:c,onChange:p=>{const g=p.target.value;d(g);const m=g.split(",").map(v=>v.trim()).filter(v=>v&&!isNaN(v)).map(v=>v.toString());console.log("Manual token input updated (real-time):",m),n(m)},onKeyDown:p=>{p.key==="Enter"&&p.preventDefault()},placeholder:o>1?`Enter ${o} token IDs, separated by commas`:"Enter token ID",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Enter the token ID",o>1?"s":""," you own from this collection. The Purchase button will enable automatically when valid token IDs are entered."]})]})})}return s.length===0?l.jsx("div",{className:"mb-4 p-4 border border-yellow-200 rounded-lg bg-yellow-50",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(un,{className:"h-4 w-4 text-yellow-500"}),l.jsx("span",{className:"text-sm text-yellow-600",children:"You do not own any tokens from the required collection"})]})}):s.length<o?l.jsx("div",{className:"mb-4 p-4 border border-yellow-200 rounded-lg bg-yellow-50",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(un,{className:"h-4 w-4 text-yellow-500"}),l.jsx("span",{className:"text-sm text-yellow-600",children:"Your token balance of the required collection is insufficient"})]})}):l.jsxs("div",{className:"mb-4 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[l.jsxs("div",{className:"mb-3",children:[l.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:["Select ",o," token",o>1?"s":""," to participate"]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a?`Choose ${o} tokens from your collection`:"Choose one token from your collection"})]}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:s.map(f=>{const p=e.includes(f),g=!a||e.length<o||p;return l.jsxs("button",{onClick:()=>{a?p?n(e.filter(m=>m!==f)):e.length<o&&n([...e,f]):n([f])},disabled:!g,className:`
                p-3 border rounded-lg text-center transition-all
                ${p?"border-blue-500 bg-blue-50 text-blue-700":g?"border-gray-300 hover:border-gray-400 bg-white text-gray-700":"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed"}
              `,children:[l.jsxs("div",{className:"text-xs font-mono",children:["#",f]}),p&&l.jsx("div",{className:"text-xs mt-1",children:" Selected"})]},f)})}),a&&l.jsxs("div",{className:"mt-3 text-xs text-gray-600",children:["Selected: ",e.length," / ",o," tokens"]})]})});CB.displayName="TokenSelector";const vme=ke.memo(({raffle:t,onPurchase:e,timeRemaining:n,winners:r,shouldShowClaimPrize:i,prizeAlreadyClaimed:s,claimingPrize:o,handleClaimPrize:a,shouldShowClaimRefund:c,claimingRefund:d,handleClaimRefund:f,refundableAmount:p,isMintableERC721:g,isEscrowedPrize:m,isCollabPool:v,isPrized:x,isMobile:T,onStateChange:_,socialEngagementRequired:j,hasCompletedSocialEngagement:w})=>{var bt;const{connected:F,address:z,provider:B}=_n(),{getContractInstance:H,executeTransaction:Y}=jn(),{formatSlotFee:W,getCurrencySymbol:q}=Or(),[X,V]=k.useState(1),[R,b]=k.useState(!1),[A,D]=k.useState(0),[M,C]=k.useState(null),[I,E]=k.useState([]),[P,N]=k.useState([]),[O,Z]=k.useState(!1),[$,K]=k.useState(""),[G,J]=k.useState(!1),[ee,ae]=k.useState(!1);k.useEffect(()=>{he()},[t.address,z]),k.useEffect(()=>{bp(t)&&z&&t.holderTokenAddress&&se()},[t.address,z,t.holderTokenAddress,t.holderTokenStandard]);const se=async()=>{if(!z||!t.holderTokenAddress||!bp(t)){N([]);return}Z(!0),K(null);try{const ne=new Vt(t.holderTokenAddress,["function balanceOf(address) view returns (uint256)","function tokenOfOwnerByIndex(address, uint256) view returns (uint256)"],B),ce=await ne.balanceOf(z);if(ce.toNumber()===0){N([]),K("You do not own any tokens from the required collection");return}const we=[];try{for(let Se=0;Se<ce.toNumber();Se++){const Ae=await ne.tokenOfOwnerByIndex(z,Se);we.push(Ae.toString())}N(we)}catch{K("Token collection does not support token enumeration. Please contact the raffle creator."),N([])}}catch(ne){console.error("Error fetching user tokens:",ne),K("Failed to fetch your tokens. Please try again."),N([])}finally{Z(!1)}},pe=()=>{if(console.log("Token Selection Validation Debug:",{shouldShowSelector:bp(t),selectedTokenIds:I,selectedTokenIdsLength:I.length,requiredTokens:t.minHolderTokenBalance,requiredTokensType:typeof t.minHolderTokenBalance}),!bp(t))return!0;const ne=t.minHolderTokenBalance;if(!ne)return!1;let ce=1;try{ne.toString?ne.toString().length>10?ce=parseFloat(Ia(ne,18)):ne.toNumber?ce=ne.toNumber():ce=Number(ne):ce=Number(ne)}catch(we){console.warn("Error converting requiredTokens:",we),ce=1}return console.log("Validation Result:",{requiredTokensNumber:ce,selectedLength:I.length,isValid:I.length>=ce}),I.length>=ce},he=async()=>{if(!t.address||!z){D(0),C(null);return}try{const ne=H(t.address,"pool");if(!ne)return;const ce=await ne.slotsPurchased(z);D(ce.toNumber?ce.toNumber():Number(ce));let we=0;try{we=(await ne.getParticipantsCount()).toNumber()}catch{let Ae=0;for(;;)try{await ne.participants(Ae),we++,Ae++}catch{break}}we>0&&ce>0?C((ce/we*100).toFixed(2)):C(null)}catch{D(0),C(null)}},ue=async(ne,ce)=>{var we;if(!F||!z){re.error("Please connect your wallet");return}if(console.log("Early Purchase Debug:",{selectedTokenIds:ce,selectedTokenIdsLength:ce.length,minHolderTokenBalance:(we=t.minHolderTokenBalance)==null?void 0:we.toString(),minHolderTokenBalanceType:typeof t.minHolderTokenBalance,minHolderTokenBalanceFormatted:t.minHolderTokenBalance?Ia(t.minHolderTokenBalance,18):"N/A",holderTokenAddress:t.holderTokenAddress,holderTokenStandard:t.holderTokenStandard}),!pe()){const Se=t.minHolderTokenBalance,Ae=Se?Se.toNumber?Se.toNumber():Number(Se):1;re.error(`Please select ${Ae} token${Ae>1?"s":""} to participate`);return}b(!0);try{await e(ne,ce)}catch(Se){qu(Se,"purchase tickets"),Du(Se,"Purchase Tickets",{quantity:ne,selectedTokenIds:ce}),sn(Se)}finally{b(!1)}},be=()=>{var Ae,Ot,Ye;const ne=Math.floor(Date.now()/1e3),ce=t.startTime+t.duration,we=((Ae=t.state)==null?void 0:Ae.toLowerCase())==="pending"&&t.startTime&&ne>=t.startTime&&ne<ce;return!((z==null?void 0:z.toLowerCase())===((Ot=t.creator)==null?void 0:Ot.toLowerCase()))&&(((Ye=t.state)==null?void 0:Ye.toLowerCase())==="active"&&ne<ce||we)},Ne=()=>{var Se,Ae,Ot,Ye,mt;const ne=Math.floor(Date.now()/1e3),ce=t.startTime+t.duration,we=t.slotsSold;return console.log("canClosePool debug:",{now:ne,raffleEndTime:ce,timePassed:ne>=ce,participantsCount:we,winnersCount:t.winnersCount,sufficientParticipants:we<t.winnersCount,state:(Se=t.state)==null?void 0:Se.toLowerCase(),validState:((Ae=t.state)==null?void 0:Ae.toLowerCase())==="active"||((Ot=t.state)==null?void 0:Ot.toLowerCase())==="pending"}),ne>=ce&&we<t.winnersCount&&(((Ye=t.state)==null?void 0:Ye.toLowerCase())==="active"||((mt=t.state)==null?void 0:mt.toLowerCase())==="pending")},ie=()=>{var Se,Ae;const ne=Math.floor(Date.now()/1e3),ce=t.startTime+t.duration,we=t.slotsSold;return console.log("canRequestRandomness debug:",{now:ne,raffleEndTime:ce,timePassed:ne>=ce,participantsCount:we,winnersCount:t.winnersCount,winnersSelected:t.winnersSelected,sufficientParticipants:we>=t.winnersCount,moreWinnersNeeded:t.winnersSelected<t.winnersCount,state:(Se=t.state)==null?void 0:Se.toLowerCase(),stateNum:t.stateNum}),t.stateNum===2?we>=t.winnersCount:t.stateNum===3?t.winnersSelected<t.winnersCount:((Ae=t.state)==null?void 0:Ae.toLowerCase())==="active"&&ne>=ce?we>=t.winnersCount:!1},De=async()=>{J(!0);try{const ne=H(t.address,"pool");if(!ne)throw new Error("Failed to get pool contract");try{await ne.callStatic.closePool()}catch(we){throw sn(we,{action:"closePool",phase:"preflight"}),we}const ce=await Y(ne.closePool);if(ce.success)re.success("Pool closed successfully!"),_&&_();else throw new Error(ce.error)}catch(ne){qu(ne,"close pool"),Du(ne,"Close Pool"),sn(ne)}finally{J(!1)}},gt=async()=>{ae(!0);try{const ne=H(t.address,"pool");if(!ne)throw new Error("Failed to get pool contract");try{await ne.callStatic.requestRandomness()}catch(we){throw sn(we,{action:"requestRandomness",phase:"preflight"}),we}const ce=await Y(ne.requestRandomness);if(ce.success)re.success("Randomness requested successfully!"),_&&_();else throw new Error(ce.error)}catch(ne){qu(ne,"request randomness"),Du(ne,"Request Randomness"),sn(ne)}finally{ae(!1)}},Je=()=>i&&!s,Fe=()=>{const ne=!t.usesCustomFee,ce=x===!0||v===!0||t.isPrized||t.isCollabPool,we=[4,5,6,7].includes(t.stateNum);return(ne||ce)&&we&&p&&p.gt&&p.gt(0)},Dt=Math.floor(Date.now()/1e3);t&&t.startTime&&Dt>=t.startTime;const ot=t.slotLimit-t.slotsSold,ct=Math.min(ot,t.maxSlotsPerParticipant);return l.jsxs("div",{className:"detail-beige-card bg-card/80 text-foreground backdrop-blur-sm border border-border rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 h-full flex flex-col min-h-[360px] sm:min-h-[380px] lg:min-h-[420px] overflow-hidden",children:[l.jsxs("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-4 flex items-center justify-between",children:["Purchase Slots",xme(t)&&l.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"Token-Gated"})]}),l.jsxs("div",{className:"flex-1 flex flex-col h-full gap-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"text-muted-foreground flex items-center gap-2",children:["Slot Fee:",typeof t.usesCustomFee=="boolean"&&l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx("span",{className:"inline-flex items-center cursor-help","aria-label":"Slot Fee info",children:l.jsx(on,{className:"h-3.5 w-3.5 opacity-70",tabIndex:0})})}),l.jsx(vn,{side:"top",align:"center",children:t.usesCustomFee===!0?"Set by Creator":"Protocol Slot Fee"})]})]}),l.jsx("p",{className:"font-body text-[length:var(--text-base)] font-medium",children:W(t.slotFee||"0")})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Remaining slots:"}),l.jsx("p",{className:"font-body text-[length:var(--text-base)] font-medium",children:t.slotLimit-t.slotsSold})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Your slots:"}),l.jsx("p",{className:"font-body text-[length:var(--text-base)] font-medium",children:A||0})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Winning Chance:"}),l.jsx("p",{className:"font-body text-[length:var(--text-base)] font-medium",children:M!==null?`${M}%`:"N/A"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Max per user:"}),l.jsx("p",{className:"font-body text-[length:var(--text-base)] font-medium",children:t.maxSlotsPerParticipant})]}),Fe()&&p&&p.gt&&p.gt(0)&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Your Refundable Amount:"}),l.jsxs("p",{className:"font-body text-[length:var(--text-base)] font-medium",children:[Fn(p)," ",q()]})]}),l.jsx("div",{})]}),t.stateNum===4||t.stateNum===5||t.stateNum===6||t.stateNum===7?l.jsx(l.Fragment,{children:l.jsx("div",{className:"mt-auto",children:Je()||Fe()?l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[Je()&&l.jsx(Ee,{onClick:a,disabled:o||!F,variant:"primary",size:"lg",className:"flex-1",children:o?m?"Claiming...":"Minting...":m?"Claim Prize":"Mint"}),Fe()&&l.jsx(Ee,{onClick:f,disabled:d||!F,variant:"primary",size:"lg",className:"flex-1",children:d?"Claiming...":"Claim Refund"})]}):l.jsx(Ee,{disabled:!0,variant:"primary",size:"lg",className:"w-full opacity-60 cursor-not-allowed",children:t.state==="Deleted"||t.stateNum===5?"Pool Deleted":"Pool Closed"})})}):l.jsxs("div",{className:"mt-auto",children:[Ne()?l.jsxs(l.Fragment,{children:[l.jsx(Ee,{onClick:De,disabled:G,variant:"primary",size:"lg",className:"w-full",children:G?"Closing...":"Close Pool"}),F&&(z==null?void 0:z.toLowerCase())===t.creator.toLowerCase()&&m&&l.jsx("p",{className:"text-muted-foreground mt-4 text-center text-sm",children:"Closing this pool will automatically transfer the escrowed prize to your wallet"})]}):ie()&&((z==null?void 0:z.toLowerCase())===t.creator.toLowerCase()||A>0)?l.jsxs(l.Fragment,{children:[l.jsx(Ee,{onClick:gt,disabled:ee,variant:"primary",size:"lg",className:"w-full",children:ee?"Requesting...":"Request Randomness"}),l.jsx("p",{className:"text-muted-foreground mt-4 text-center text-sm",children:t.stateNum===3?`Batch ${Math.ceil(t.winnersSelected/25)} complete. ${t.winnersCount-t.winnersSelected} more winner${t.winnersCount-t.winnersSelected!==1?"s":""} needed. ${(z==null?void 0:z.toLowerCase())===t.creator.toLowerCase()?"As the creator":"As a participant"}, you can request the next batch.`:`The pool has ended. ${(z==null?void 0:z.toLowerCase())===t.creator.toLowerCase()?"As the creator":"As a participant"}, you can request the randomness to initiate winner selection.`})]}):t.state==="Completed"||t.stateNum===4||t.stateNum===6||t.state==="Deleted"||t.stateNum===5?l.jsx(Ee,{disabled:!0,variant:"primary",size:"lg",className:"w-full opacity-60 cursor-not-allowed",children:t.state==="Deleted"||t.stateNum===5?"Pool Deleted":"Pool Closed"}):Ne()&&(z==null?void 0:z.toLowerCase())===t.creator.toLowerCase()?l.jsx(Ee,{onClick:De,disabled:G,variant:"primary",size:"lg",className:"w-full",children:G?"Closing...":"Close Pool"}):ct<=0?l.jsx(Ee,{disabled:!0,variant:"primary",size:"lg",className:"w-full opacity-60 cursor-not-allowed",children:t.state==="Deleted"||t.stateNum===5?"Pool Deleted":"Pool Closed"}):A>=t.maxSlotsPerParticipant?l.jsx(Ee,{disabled:!0,variant:"primary",size:"lg",className:"w-full opacity-60 cursor-not-allowed",children:"Limit Reached"}):l.jsxs(l.Fragment,{children:[be()?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Quantity"}),l.jsx(Qf,{type:"number",min:1,max:t.maxSlotsPerParticipant,value:X,onChange:ne=>{const ce=ne.target.value;if(ce===""||ce===null||ce===void 0)V(1);else{const we=parseInt(ce);isNaN(we)?V(1):V(Math.max(1,Math.min(t.maxSlotsPerParticipant,we)))}},className:"focus:outline-none focus:ring-0 focus-visible:ring-0"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:l.jsxs("span",{className:"cursor-pointer hover:text-primary hover:underline transition-colors",onClick:()=>V(Math.max(1,t.maxSlotsPerParticipant-A)),title:"Click to set quantity to maximum",children:["Max: ",Math.max(0,t.maxSlotsPerParticipant-A)," slots remaining"]})})]}),l.jsx("div",{className:"p-4 bg-muted/50 backdrop-blur-sm border border-border/30 rounded-lg",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-medium",children:"Total Cost:"}),l.jsx("span",{className:"font-body text-[length:var(--text-base)] font-bold",children:W(SB(t.slotFee).mul(isNaN(X)?1:X))})]})})]}):null,bp(t)&&l.jsx(CB,{raffle:t,selectedTokenIds:I,setSelectedTokenIds:E,loadingTokens:O,tokenError:$,userTokenIds:P}),l.jsx(Ee,{onClick:()=>ue(X,I),disabled:R||!F||!be()||j&&!w||!pe(),variant:"primary",size:"lg",className:"w-full shadow-sm",children:R?"Processing...":`Purchase ${X} Slot${X>1?"s":""}`}),j&&!w&&l.jsx("div",{className:"text-center py-2",children:l.jsx("p",{className:"text-muted-foreground text-sm",children:"Complete social media verification to enable slot purchase."})}),(z==null?void 0:z.toLowerCase())===((bt=t.creator)==null?void 0:bt.toLowerCase())&&l.jsx("div",{className:"text-center py-2",children:l.jsx("p",{className:"text-muted-foreground text-sm",children:"You cannot purchase slots from your own pool."})})]}),!F&&l.jsx("div",{className:"text-center py-4",children:l.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to purchase slots."})})]})]})]})}),bme=({raffle:t,isMintableERC721:e,isEscrowedPrize:n})=>{const{getContractInstance:r}=jn(),[i,s]=k.useState(null),[o,a]=k.useState(!0),[c,d]=k.useState(null),[f,p]=k.useState(!1),[g,m]=k.useState([]),[v,x]=k.useState(0),T=["https://ipfs.io/ipfs/","https://gateway.pinata.cloud/ipfs/","https://cloudflare-ipfs.com/ipfs/","https://dweb.link/ipfs/"],_=T.map(X=>X.replace("/ipfs/","/ipns/")),j=["https://arweave.net/"],w=(X,V,R,b={})=>{const A=[],D=/\/$/.test(X),M=X.replace(/\/$/,""),C=V!=null?V.toString():"0",E=(V!=null?BigInt(V):0n).toString(16).padStart(64,"0"),P=E.toUpperCase(),N=R===1,O=R===0,Z=K=>{const G=[],J=K.replace(/\/?(?:[0-9]+|[a-fA-F0-9]{64})(?:\.json)?$/,"");return J&&J!==K&&(G.push(J),G.push(`${J}/`),G.push(`${J}/index.json`),G.push(`${J}/metadata.json`)),G};if(X.match(/\/(?:[0-9]+|[a-fA-F0-9]{64})(?:\.json)?$/)!==null){if((N||b.prioritizeRoot)&&A.push(...Z(X)),A.push(X),X.includes(".json")||A.push(`${X}.json`),O&&A.push(...Z(X)),N){const K=(G,J=!0)=>{const ee=[];return G.match(new RegExp(`/${C}(?:\\.json)?$`))&&(ee.push(G.replace(new RegExp(`/${C}(?:\\.json)?$`),`/${E}`)),J&&ee.push(G.replace(new RegExp(`/${C}(?:\\.json)?$`),`/${E}.json`)),ee.push(G.replace(new RegExp(`/${C}(?:\\.json)?$`),`/${P}`)),J&&ee.push(G.replace(new RegExp(`/${C}(?:\\.json)?$`),`/${P}.json`))),G.match(new RegExp(`${C}(?:\\.json)?$`))&&(ee.push(G.replace(new RegExp(`${C}(?:\\.json)?$`),`${E}`)),J&&ee.push(G.replace(new RegExp(`${C}(?:\\.json)?$`),`${E}.json`)),ee.push(G.replace(new RegExp(`${C}(?:\\.json)?$`),`${P}`)),J&&ee.push(G.replace(new RegExp(`${C}(?:\\.json)?$`),`${P}.json`))),ee};A.push(...K(X,!0))}}else N?(A.push(X),D&&A.push(M+"/"),A.push(`${M}.json`),A.push(`${M}/index.json`),A.push(`${M}/metadata.json`),A.push(`${M}/${E}`),A.push(`${M}${E}`),A.push(`${M}/${E}.json`),A.push(`${M}${E}.json`),A.push(`${M}/${P}`),A.push(`${M}${P}`),A.push(`${M}/${P}.json`),A.push(`${M}${P}.json`),A.push(`${M}/${C}`),A.push(`${M}${C}`),A.push(`${M}/${C}.json`),A.push(`${M}${C}.json`)):(A.push(X),D&&A.push(M+"/"),A.push(`${M}.json`),A.push(`${M}/index.json`),A.push(`${M}/metadata.json`),A.push(`${M}/${C}`),A.push(`${M}${C}`),A.push(`${M}/${C}.json`),A.push(`${M}${C}.json`)),X.includes("{id}")&&(A.push(X.replace("{id}",E)),A.push(X.replace("{id}",C)),A.push(X.replace("{id}",P)));return[...new Set(A)]},F=X=>{if(!X)return[];if(X.startsWith("ipfs://")){let V=X.replace("ipfs://","");return V.startsWith("ipfs/")&&(V=V.slice(5)),T.map(R=>`${R}${V}`)}if(X.startsWith("ipns://")){let V=X.replace("ipns://","");return V.startsWith("ipns/")&&(V=V.slice(5)),_.map(R=>`${R}${V}`)}if(X.startsWith("ar://")){const V=X.replace("ar://","");return j.map(R=>`${R}${V}`)}try{const V=new URL(X),b=V.pathname.replace(/\/ipfs\/ipfs\//,"/ipfs/").split("/").filter(Boolean),A=b.indexOf("ipfs");if(A!==-1&&b[A+1]){const M=b.slice(A+1).join("/");return T.map(C=>`${C}${M}`)}const D=b.indexOf("ipns");if(D!==-1&&b[D+1]){const M=b.slice(D+1).join("/");return _.map(C=>`${C}${M}`)}if(V.hostname.endsWith("arweave.net")||V.hostname==="arweave.net"){const M=b.join("/");return j.map(C=>`${C}${M}`)}}catch{}return[X]},z=X=>{const V=["image","image_url","imageUrl","animation_url","animationUrl","media","artwork"],R=b=>{if(!b)return null;if(b.startsWith("ipfs://")){let A=b.slice(7);return A.startsWith("ipfs/")&&(A=A.slice(5)),T.map(M=>`${M}${A}`)}if(b.startsWith("ipns://")){let A=b.slice(7);return A.startsWith("ipns/")&&(A=A.slice(5)),_.map(M=>`${M}${A}`)}if(b.startsWith("ar://")){const A=b.slice(5);return j.map(M=>`${M}${A}`)}return[b]};for(const b of V)if(X[b]){const A=X[b];return R(String(A))}return null},B=()=>{Array.isArray(g)&&v+1<g.length?(x(v+1),s(g[v+1])):s(null)},H=async(X,V=1e4)=>{const R=new AbortController,b=setTimeout(()=>R.abort(),V);try{const A=await fetch(X,{signal:R.signal,headers:{Accept:"application/json, text/plain, */*"}});return clearTimeout(b),A}catch(A){throw clearTimeout(b),A}},Y=async(X,V=1e4)=>{for(const R of X)try{if(R.startsWith("data:")){const[A,D]=R.split(",",2),[,M,C]=A.match(/^data:([^;]+);([^,]+)$/)||[];if(M!=null&&M.includes("application/json")&&C==="base64"){const I=JSON.parse(atob(D)),E=z(I)||null;if(E)return{metadata:I,imageUrl:E,sourceUri:R}}else if(M!=null&&M.startsWith("image/")||M!=null&&M.startsWith("video/"))return{metadata:{image:R},imageUrl:R,sourceUri:R};continue}const b=await H(R,V);if(b.ok){const A=b.headers.get("content-type");try{const D=await b.text(),M=JSON.parse(D);if(M&&typeof M=="object"){const C=z(M);if(C)return{metadata:M,imageUrl:C,sourceUri:R}}}catch{if(A!=null&&A.startsWith("image/")||A!=null&&A.startsWith("video/")||R.match(/\.(jpg|jpeg|png|gif|svg|webp|mp4|webm|ogg)$/i))return{metadata:{image:R},imageUrl:R,sourceUri:R}}}}catch{continue}throw new Error("All metadata fetch attempts failed")};if(k.useEffect(()=>{async function X(){if(t.isPrized||t.prizeCollection&&t.prizeCollection!==$e||t.standard!==void 0&&t.prizeTokenId!==void 0){a(!0),s(null),d(null);try{let b=null;const A=t.standard===0?"erc721Prize":"erc1155Prize",D=r(t.prizeCollection,A),M=!n;if(!D){s(null),a(!1);return}if(t.standard===0)if(M)try{if(b=await D.unrevealedBaseURI(),!b||b.trim()===""){p(!0),s(null),a(!1);return}}catch{p(!0),s(null),a(!1);return}else try{b=await D.tokenURI(t.prizeTokenId)}catch{s(null),a(!1);return}else if(t.standard===1)if(M){let O=null,Z=null,$=null;try{O=await D.unrevealedURI()}catch{}try{Z=await D.tokenURI(t.prizeTokenId)}catch{}try{$=await D.isRevealed()}catch{$=null}if($===!1)if(O&&O.trim()!=="")b=O;else if(Z&&Z.trim()!=="")b=Z;else try{const K=t==null?void 0:t.prizeTokenId;b=await D.uri(K)}catch{s(null),a(!1);return}else if($===!0)if(Z&&Z.trim()!=="")b=Z;else try{b=await D.uri(t.prizeTokenId)}catch{if(O&&O.trim()!=="")b=O;else{s(null),a(!1);return}}else if(Z&&Z.trim()!=="")b=Z;else if(O&&O.trim()!=="")b=O;else try{b=await D.uri(t.prizeTokenId)}catch{s(null),a(!1);return}}else try{b=await D.uri(t.prizeTokenId)}catch{s(null),a(!1);return}else{s(null),a(!1);return}if(!b||b.trim()===""){s(null),a(!1);return}const C=w(b,t.prizeTokenId,t.standard),I=[];for(const O of C)I.push(...F(O));const E=t.standard===0&&M?5e3:1e4,P=await Y(I,E),N=Array.isArray(P.imageUrl)?P.imageUrl:[P.imageUrl];m(N),x(0),s(N[0]),d(P.sourceUri)}catch{s(null),d(null)}a(!1)}}(t==null?void 0:t.isPrized)===!0&&(t==null?void 0:t.prizeCollection)&&t.prizeCollection!==$e&&((t==null?void 0:t.standard)===0||(t==null?void 0:t.standard)===1)&&X()},[t,r,n]),!((t==null?void 0:t.isPrized)===!0&&(t==null?void 0:t.prizeCollection)&&t.prizeCollection!==$e&&((t==null?void 0:t.standard)===0||(t==null?void 0:t.standard)===1)))return null;if(o)return l.jsx(Xt,{className:"detail-beige-card h-full flex flex-col items-center justify-center text-foreground border border-border rounded-xl",children:l.jsx(Jt,{className:"flex flex-col items-center justify-center",children:l.jsx("div",{className:"w-64 h-64 flex items-center justify-center border rounded-lg bg-muted/30",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading prize media..."})]})})})});if(!i)return null;const q=typeof i=="string"&&/\.(mp4|webm|ogg)$/i.test(i);return l.jsx(Xt,{className:"detail-beige-card h-full flex flex-col items-center justify-center text-foreground border border-border rounded-xl",children:l.jsx(Jt,{className:"flex flex-col items-center justify-center",children:q?l.jsx("video",{src:i,className:"w-64 h-64 object-contain rounded-lg border",style:{background:"#000"},controls:!0,playsInline:!0,onError:B}):l.jsx("img",{src:i,alt:"Prize Art",className:"w-64 h-64 object-contain rounded-lg border",style:{background:"#fff"},onError:B})})})},vM=({winner:t,index:e,raffle:n,connectedAddress:r,onToggleExpand:i,isExpanded:s,stats:o,onLoadStats:a,collectionName:c,isEscrowedPrize:d,winnerSelectionTx:f})=>{const p=r&&t.address.toLowerCase()===r.toLowerCase(),{formatPrizeAmount:g}=Or(),[m,v]=ke.useState("TOKEN"),[x,T]=ke.useState(null),[_,j]=ke.useState(null),{getContractInstance:w}=jn(),F=t.batchTxHash||f;ke.useEffect(()=>{let W=!0;async function q(){if(!(!n.erc20PrizeToken||n.erc20PrizeToken===$e))try{if(window.__erc20SymbolCache||(window.__erc20SymbolCache={}),window.__erc20SymbolCache[n.erc20PrizeToken]){W&&v(window.__erc20SymbolCache[n.erc20PrizeToken]);return}const X=window.ethereum?new Ea(window.ethereum):tc(),V=["function symbol() view returns (string)"],b=await new Vt(n.erc20PrizeToken,V,X).symbol();W&&(v(b),window.__erc20SymbolCache[n.erc20PrizeToken]=b)}catch{W&&v("TOKEN")}}return q(),()=>{W=!1}},[n.erc20PrizeToken]),ke.useEffect(()=>{let W=!0;return(async()=>{if(!n.isPrized){W&&T(null);return}try{const X=w(n.address,"pool");if(!X){console.warn("Failed to get pool contract instance"),W&&T(n.amountPerWinner||1);return}const V=await X.amountPerWinner(),R=V.toNumber?V.toNumber():Number(V);W&&(T(R),console.log(` Successfully fetched amountPerWinner from contract ${n.address}:`,R))}catch(X){if(console.warn(` Failed to fetch amountPerWinner from contract ${n.address}, using fallback:`,X.message),W){const V=n.amountPerWinner||1;T(V),console.log(` Using fallback amountPerWinner for ${n.address}:`,V)}}})(),()=>{W=!1}},[n.address,n.isPrized,n.amountPerWinner,w]),ke.useEffect(()=>{(async()=>{if(!n||!n.prizeCollection||n.prizeCollection===$e){j(null);return}try{let q=null,X=null;if(typeof n.standard<"u"){const V=n.standard===0?"erc721Prize":"erc1155Prize";if(q=w(n.prizeCollection,V),q)try{typeof q.symbol=="function"&&(X=await q.symbol())}catch{X=null}}else try{q=w(n.prizeCollection,"erc721Prize"),q&&typeof q.symbol=="function"&&(X=await q.symbol())}catch{try{q=w(n.prizeCollection,"erc1155Prize"),q&&typeof q.symbol=="function"&&(X=await q.symbol())}catch{}}j(X),X&&console.log(` Successfully fetched collection symbol for ${n.prizeCollection}:`,X)}catch(q){console.warn("Failed to fetch collection symbol:",q),j(null)}})()},[n,w]);const z=W=>W,B=()=>{var q;if(!n.isPrized)return"No Prize";if(x===null&&n.isPrized)return"Loading prize info...";const W=x!==null?x:n.amountPerWinner||1;if(n.nativePrizeAmount&&n.nativePrizeAmount.gt&&n.nativePrizeAmount.gt(0)){console.log(" Native Prize Debug:",{totalPrizeAmount:n.nativePrizeAmount.toString(),winnersCount:n.winnersCount,amountPerWinnerFromContract:W,amountPerWinnerType:typeof W});const X=n.winnersCount||1,V=n.nativePrizeAmount.div(X);console.log(` Native calculation: ${n.nativePrizeAmount.toString()} / ${X} = ${V.toString()}`);const R=g(V);return console.log(` Native prize display: ${R} (prizePerWinner: ${V.toString()})`),R}if(n.erc20PrizeToken&&n.erc20PrizeToken!==$e&&n.erc20PrizeAmount&&n.erc20PrizeAmount.gt&&n.erc20PrizeAmount.gt(0)){console.log(" ERC20 Prize Debug:",{totalPrizeAmount:n.erc20PrizeAmount.toString(),winnersCount:n.winnersCount,amountPerWinnerFromContract:W,amountPerWinnerType:typeof W});const X=n.winnersCount||1,V=n.erc20PrizeAmount.div(X);console.log(` ERC20 calculation: ${n.erc20PrizeAmount.toString()} / ${X} = ${V.toString()}`);const R=Ia(V,18),b=`${R} ${m}`;return console.log(` ERC20 prize display: ${b} (prizePerWinner: ${V.toString()}, formatted: ${R})`),b}if(n.prizeCollection&&n.prizeCollection!==$e){if(n.standard===0)if(d){const X=(q=n.prizeTokenId)!=null&&q.toString?n.prizeTokenId.toString():n.prizeTokenId,V=X!=null&&X!=="0"?`#${X}`:"#Unknown";console.log(" Escrowed ERC721 token ID debug:",{rawTokenId:n.prizeTokenId,stringTokenId:X,prizeId:V,isEscrowedPrize:d});let R;return _?R=`${_} ${V}`:c?R=`${c} ${V}`:R=`ERC721 NFT ${V}`,console.log(` Escrowed ERC721 prize display: ${R} (symbol: ${_}, name: ${c}, tokenId: ${n.prizeTokenId})`),R}else{const V=`${W} ${_||c||"ERC721 NFT"}`;return console.log(` Mintable ERC721 prize display: ${V} (symbol: ${_}, name: ${c}, amount: ${W})`),V}if(n.standard===1)return`${W} ${c||"ERC1155 Token"}`}return"Prize Available"},Y=n.isPrized?t.prizeClaimed?{text:"Claimed",color:"text-green-700",icon:"green-dot",bgColor:"bg-green-100"}:{text:"Unclaimed",color:"text-orange-700",icon:"",bgColor:"bg-orange-100"}:{text:"No Prize",color:"text-muted-foreground",icon:"",bgColor:"bg-muted/20"};return l.jsx("div",{className:`detail-beige-card text-foreground bg-card border-2 rounded-xl transition-all duration-200 hover:shadow-md ${p?"border-yellow-400 winner-card-highlight":"border-[#614E41]"}`,children:l.jsxs("div",{className:"px-2 py-3 sm:px-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2.5 min-w-0 flex-1",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${p?"bg-yellow-400":"bg-primary"}`})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("div",{className:"font-mono text-sm font-medium break-all",title:t.address,children:z(t.address)}),p&&l.jsx("div",{className:"text-xs winner-text-highlight font-medium mt-0.5",children:"Your Address"})]})]}),l.jsx(Ee,{onClick:()=>i(t,e),variant:"tertiary",size:"icon",className:"winner-card-expand flex-shrink-0",title:s?"Hide details":"View details",children:l.jsx(ra,{className:`h-4 w-4 transition-transform duration-200 ${s?"rotate-180":""} ${p?"text-yellow-400":"text-primary"}`})})]}),s&&l.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:o?o.error?l.jsxs("div",{className:"text-center py-4",children:[l.jsx(un,{className:"h-6 w-6 text-red-500 mx-auto mb-2"}),l.jsx("div",{className:"text-red-500 text-sm font-medium",children:o.error})]}):l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Participation Details, Prize & Claim Status"}),n.isPrized&&l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-3 text-sm p-3 bg-muted/30 rounded-lg",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Prize"}),l.jsx("div",{className:"font-medium",children:B()})]}),l.jsxs("div",{className:"space-y-0.5 sm:text-right",children:[l.jsx("span",{className:"text-muted-foreground text-xs tracking-wide block",children:"Status"}),l.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-medium ${Y.bgColor} ${Y.color}`,children:[Y.icon==="green-dot"?l.jsx("div",{className:"w-2 h-2 rounded-full bg-green-600 dark:bg-green-400"}):l.jsx("span",{children:Y.icon}),l.jsx("span",{children:Y.text})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Slots Purchased"}),l.jsx("div",{className:"font-semibold text-base",children:o.ticketsPurchased})]}),l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Winning Slots"}),l.jsxs("div",{className:"font-semibold text-base text-green-600 flex items-center gap-2",children:[o.winningTickets,F&&l.jsx("a",{href:X0(F,n.chainId,!0),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center",title:"View winner selection transaction on block explorer",children:l.jsx("img",{src:"/images/etherscan logos/etherscan-logo-circle.svg",alt:"Etherscan",width:"16",height:"16",className:"opacity-80 hover:opacity-100 transition-opacity"})})]})]}),l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Losing Slots"}),l.jsx("div",{className:"font-semibold text-base text-red-600",children:o.losingTickets})]}),l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Win Rate"}),l.jsx("div",{className:"font-semibold text-base",children:o.ticketsPurchased>0?`${(o.winningTickets/o.ticketsPurchased*100).toFixed(1)}%`:"0%"})]})]})]}):l.jsxs("div",{className:"text-center py-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary mx-auto mb-2"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading participation details..."})]})})]})})},wme=ke.memo(({raffle:t,isMintableERC721:e,isEscrowedPrize:n,isMobile:r,onWinnerCountChange:i,onWinnersSelectedChange:s})=>{var C;const{getContractInstance:o,executeTransaction:a}=jn(),{address:c}=_n();Or();const[d,f]=k.useState([]),[p,g]=k.useState(!1),[m,v]=k.useState(null),[x,T]=k.useState({}),[_,j]=k.useState(null),[w,F]=k.useState({}),[z,B]=k.useState(null),[H,Y]=k.useState(null),[W,q]=k.useState((t==null?void 0:t.winnersSelected)||0),X=k.useCallback(async()=>{if(console.log("fetchWinnerSelectionTx called:",{raffle:!!t,winnerSelectionTx:_,stateNum:t==null?void 0:t.stateNum}),!t||_)return;const I=t.stateNum===4||t.stateNum===6;if(console.log("Is raffle completed?",I),!!I)try{const E=o&&o(t.address,"pool");if(console.log("Pool contract:",!!E),!E)return;console.log("Fetching from block explorer...");const N=await E.provider.getBlockNumber(),O=Math.max(0,N-1e4);console.log(`Searching blocks ${O} to ${N}`);const Z=E.filters.WinnersSelected(),$=await E.queryFilter(Z,O,N);if(console.log("Events found:",($==null?void 0:$.length)||0),$&&$.length>0){const K={};for(const J of $)J.args&&J.args.winners&&J.args.winners.forEach(ee=>{const ae=ee.toLowerCase();K[ae]||(K[ae]=J.transactionHash)});F(K);const G=$[$.length-1];console.log("Historical WinnersSelected event:",G),console.log("Transaction hash:",G.transactionHash),console.log("Winner-to-Tx mapping:",K),j(G.transactionHash)}else{console.log("No WinnersSelected events found in last 10000 blocks");try{const K=E.filters.StateChanged(3,4),G=await E.queryFilter(K,O,N);if(G&&G.length>0){const J=G[G.length-1];console.log("Using state change transaction:",J.transactionHash),j(J.transactionHash)}}catch(K){console.warn("Fallback also failed:",K)}}}catch(E){console.warn("Failed to fetch historical WinnersSelected event:",E);try{const N=(t.chainId||84532)===84532?"https://api-sepolia.basescan.org/api":"https://api.etherscan.io/api",O=await fetch(`${N}?module=logs&action=getLogs&address=${t.address}&topic0=0x${Au("WinnersSelected(address[])").slice(2)}&apikey=YourApiKeyToken`);if(O.ok){const Z=await O.json();if(Z.status==="1"&&Z.result.length>0){const $=Z.result[0].transactionHash;console.log("Found transaction via explorer API:",$),j($)}}}catch(P){console.warn("Explorer API fallback failed:",P)}}},[t,_,o]),V=(t==null?void 0:t.stateNum)===4||(t==null?void 0:t.stateNum)===6,R=!!t&&!V,{isListening:b}=fz(t==null?void 0:t.address,{onWinnersSelected:(I,E)=>{var P,N;console.log("WinnersSelected event:",E),console.log("Event transactionHash:",E==null?void 0:E.transactionHash),console.log("Event log:",E==null?void 0:E.log),console.log("Event log transactionHash:",(P=E==null?void 0:E.log)==null?void 0:P.transactionHash),j((E==null?void 0:E.transactionHash)||((N=E==null?void 0:E.log)==null?void 0:N.transactionHash)),Y(Date.now()),A(),setTimeout(()=>{A()},5e3)},onStateChange:(I,E)=>{(I===4||I===6)&&(Y(Date.now()),setTimeout(()=>{A()},1e3),setTimeout(()=>{A()},6e3))},onPrizeClaimed:(I,E,P)=>{setTimeout(()=>{A()},1e3)},onRpcError:I=>{console.warn("WinnersSection RPC error:",I)},enablePolling:!0,pollingInterval:(t==null?void 0:t.stateNum)===3?8e3:12e3,autoStart:R,raffleState:(t==null?void 0:t.stateNum)||null,enableStateConditionalListening:!0,stopOnCompletion:!0});k.useEffect(()=>{j(null)},[t]),k.useEffect(()=>{(async()=>{if(!t||!t.prizeCollection||t.prizeCollection===$e){B(null);return}try{const P=await o(t.prizeCollection,t.standard===0?"erc721Prize":"erc1155Prize").name();B(P)}catch{B(null)}})()},[t,o]);const A=k.useCallback(async()=>{if(!t){f([]),i==null||i(0);return}if(![3,4,6].includes(t.stateNum)){f([]),i==null||i(0);return}g(!0);try{const E=o&&o(t.address,"pool");if(!E){f([]),i==null||i(0),g(!1);return}const P=await E.winnersCount(),N=P.toNumber?P.toNumber():Number(P);if(N===0){f([]),i==null||i(0),g(!1);return}const O=[];for(let Z=0;Z<N;Z++)try{const $=await E.winners(Z);if($===$e||$==="0x0000000000000000000000000000000000000000")continue;const K=await E.claimedWins($),G=await E.prizeClaimed($);O.push({address:$,index:Z,claimedWins:K.toNumber?K.toNumber():Number(K),prizeClaimed:G&&(G.toNumber?G.toNumber()>0:Number(G)>0),batchTxHash:w[$.toLowerCase()]||_})}catch{continue}f(O),i==null||i(O.length)}catch{f([]),i==null||i(0)}finally{g(!1)}},[t,o]);k.useEffect(()=>{Object.keys(w).length>0&&d.length>0&&f(I=>I.map(E=>({...E,batchTxHash:w[E.address.toLowerCase()]||_})))},[w,_,d.length]),k.useEffect(()=>{A()},[A,H]),k.useEffect(()=>{X()},[X]),k.useEffect(()=>{(t==null?void 0:t.winnersSelected)!==void 0&&q(t.winnersSelected)},[t==null?void 0:t.winnersSelected]),k.useEffect(()=>{if(!t||t.stateNum!==3)return;console.log(" WinnersSection: Starting winner polling for Drawing state");let I=W;const E=setInterval(async()=>{try{const P=o&&o(t.address,"pool");if(!P)return;const N=await P.winnersSelected(),O=N.toNumber?N.toNumber():Number(N);console.log(` Polling: ${O} winners on-chain, ${I} in local state`),O>I&&(console.log(" New winners detected! Fetching updated list..."),q(O),s==null||s(O),await A(),I=O)}catch(P){console.warn("Winner polling error:",P)}},15e3);return()=>{console.log(" WinnersSection: Stopping winner polling"),clearInterval(E)}},[t,t==null?void 0:t.stateNum,W,o,A,s]);const D=()=>{switch(hS[t.stateNum]||"Unknown"){case"Pending":return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Sm,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-2",children:"Raffle Pending"}),l.jsx("p",{className:"text-muted-foreground",children:"Winners will be announced after the raffle ends and drawing is complete."})]});case"Active":return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Yu,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-2",children:"Raffle Active"}),l.jsx("p",{className:"text-muted-foreground",children:"Raffle is currently active. Winners will be announced after it ends."})]});case"Ended":return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Sm,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-2",children:"Raffle Ended"}),l.jsx("p",{className:"text-muted-foreground",children:"Raffle has ended. Waiting for winner selection to begin."})]});case"Drawing":return l.jsx("div",{className:"space-y-4",children:p?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-2",children:"Drawing in Progress"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading winners..."})]}):d.length>0?l.jsx(l.Fragment,{children:l.jsx("div",{className:"max-h-96 overflow-y-auto pr-2",children:l.jsx("div",{className:"space-y-3 pb-4",children:d.map((E,P)=>l.jsx(vM,{winner:E,index:P,raffle:t,connectedAddress:c,onToggleExpand:M,isExpanded:m===P,stats:x[E.address],onLoadStats:M,collectionName:z,isEscrowedPrize:n,winnerSelectionTx:_},E.index))})})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-2",children:"Drawing in Progress"}),l.jsx("p",{className:"text-muted-foreground",children:"Winners are being selected. Please wait..."})]})});case"Completed":case"Prizes Claimed":case"AllPrizesClaimed":return l.jsx("div",{className:"space-y-4",children:p?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading winners..."})]}):d.length>0?l.jsx(l.Fragment,{children:l.jsx("div",{className:"max-h-96 overflow-y-auto pr-2",children:l.jsx("div",{className:"space-y-3 pb-4",children:d.map((E,P)=>l.jsx(vM,{winner:E,index:P,raffle:t,connectedAddress:c,onToggleExpand:M,isExpanded:m===P,stats:x[E.address],onLoadStats:M,collectionName:z,isEscrowedPrize:n,winnerSelectionTx:_},E.index))})})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(og,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No winners data available."})]})});case"Deleted":return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(k2,{className:"h-12 w-12 text-foreground/60 mx-auto mb-4"}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-2",children:"Raffle Deleted"}),l.jsx("p",{className:"text-muted-foreground",children:"This raffle has been deleted and is no longer active."})]});case"Activation Failed":return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(un,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-2",children:"Activation Failed"}),l.jsx("p",{className:"text-muted-foreground",children:"Raffle activation failed. Please contact support or try again."})]});case"Unengaged":return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(un,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-2",children:"Unengaged Raffle"}),l.jsx("p",{className:"text-muted-foreground",children:"This raffle had fewer participants than the required number of winners before its duration elapsed."})]});default:return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(un,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Unknown raffle state."})]})}},M=async(I,E)=>{if(m===E){v(null);return}if(v(E),!x[I.address])try{const P=o(t.address,"pool"),N=await P.slotsPurchased(I.address),O=await P.winsPerAddress(I.address),Z=await P.prizeClaimed(I.address),$=N.toNumber?N.toNumber():Number(N),K=O.toNumber?O.toNumber():Number(O),G=Z.toNumber?Z.toNumber():Number(Z);T(J=>({...J,[I.address]:{ticketsPurchased:$,winningTickets:K,losingTickets:$-K,prizeClaimed:G>0}}))}catch{T(N=>({...N,[I.address]:{error:"Failed to fetch stats"}}))}};return l.jsxs("div",{className:"detail-beige-card bg-card/80 text-foreground backdrop-blur-sm border border-border rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx("div",{className:"mb-4",children:l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsxs("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold flex items-center gap-2",children:["Winner Slot",(t.winnersCount!==1,""),b&&((C=t==null?void 0:t.state)==null?void 0:C.toLowerCase())!=="pending"&&l.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ml-2 ${d.length>0?"bg-green-500":"bg-orange-500"}`,title:d.length>0?"Real-time updates active - Winners displayed":"Real-time updates active - Waiting for winners"})]}),(t==null?void 0:t.stateNum)===3&&d.length>0&&l.jsxs("div",{className:"flex items-center gap-2 flex-1 max-w-md ml-auto",children:[l.jsx("div",{className:"flex-1",children:l.jsx("div",{className:"relative w-full h-2 bg-muted rounded-full overflow-hidden",children:l.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-blue-600 transition-all duration-500 ease-out rounded-full",style:{width:`${Math.min(W/t.winnersCount*100,100)}%`},children:l.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})})}),l.jsxs("div",{className:"text-xs font-semibold text-foreground whitespace-nowrap",children:[W,"/",t.winnersCount]})]}),((t==null?void 0:t.stateNum)===4||(t==null?void 0:t.stateNum)===6)&&d.length>0&&l.jsxs("div",{className:"flex items-center gap-2 flex-1 max-w-md ml-auto",children:[l.jsx("div",{className:"flex-1",children:l.jsx("div",{className:"relative w-full h-2 bg-muted rounded-full overflow-hidden",children:l.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-green-500 to-green-600 transition-all duration-500 ease-out rounded-full",style:{width:"100%"},children:l.jsx("div",{className:"absolute inset-0 bg-white/20"})})})}),l.jsxs("div",{className:"text-xs font-semibold text-green-600 dark:text-green-400 whitespace-nowrap flex items-center gap-1",children:[l.jsx(Nn,{className:"h-3 w-3"}),t.winnersCount,"/",t.winnersCount]})]})]})}),l.jsx("div",{className:"overflow-y-auto",children:D()})]})});function kme({token:t,amount:e}){const[n,r]=ke.useState("TOKEN");return ke.useEffect(()=>{let i=!0;async function s(){try{if(window.__erc20SymbolCache||(window.__erc20SymbolCache={}),window.__erc20SymbolCache[t]){r(window.__erc20SymbolCache[t]);return}const o=window.ethereum?new Ea(window.ethereum):tc(),a=["function symbol() view returns (string)"],d=await new Vt(t,a,o).symbol();i&&(r(d),window.__erc20SymbolCache[t]=d)}catch{i&&r("TOKEN")}}return s(),()=>{i=!1}},[t]),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-foreground/80 dark:text-foreground",children:"Prize Amount:"}),l.jsxs("span",{children:[Ia(e,18)," ",n]})]})}function Tme(t){return t?t.state==="Deleted"?{label:"All Slots Refundable",refundable:!0,reason:"Raffle was deleted before ending. All slots are refundable."}:t.usesCustomFee?t.isPrized&&t.winnersCount===1&&t.standard!==void 0&&(t.standard===0||t.standard===1)?{label:"Slots Refundable if Deleted",refundable:!1,reason:"Single-winner NFT raffles are not refundable unless deleted before ending."}:{label:"Non-winning Slots Refundable",refundable:!0,reason:"This raffle supports refunds for non-winning slots."}:{label:"Slot Fees Refundable",refundable:!0,reason:"This raffle uses the global slot fee. All participants can claim 80% refunds after completion."}:{label:"Non-Refundable",refundable:!1,reason:"Unknown"}}function X0(t,e,n=!1){let r=1;typeof e=="number"?r=e:window.ethereum&&window.ethereum.chainId&&(r=parseInt(window.ethereum.chainId,16));const i={1:"https://etherscan.io",5:"https://goerli.etherscan.io",11155111:"https://sepolia.etherscan.io",137:"https://polygonscan.com",80001:"https://mumbai.polygonscan.com",10:"https://optimistic.etherscan.io",420:"https://goerli-optimism.etherscan.io",42161:"https://arbiscan.io",56:"https://bscscan.com",97:"https://testnet.bscscan.com",43114:"https://snowtrace.io",43113:"https://testnet.snowtrace.io",8453:"https://basescan.org",84531:"https://goerli.basescan.org",84532:"https://sepolia.basescan.org",11155420:"https://sepolia-optimism.etherscan.io"};return`${i[r]||i[1]}/${n?"tx":"address"}/${t}`}const bM=()=>{const{raffleAddress:t}=LN(),n=LN().chainSlug,r=$a(),{connected:i,address:s,provider:o,isInitialized:a,isReconnecting:c}=_n(),{getContractInstance:d,executeTransaction:f,isContractsReady:p,contracts:g}=jn(),{isMobile:m}=gr(),{formatPrizeAmount:v}=Or(),x=k.useCallback(()=>{var Ce;const ve=(Ce=o==null?void 0:o.network)==null?void 0:Ce.chainId,ge=ve&&Gt[ve]?Gt[ve].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):ve||"";return`${ge?`/${ge}`:""}/raffle/${t}`},[o,t]),{refreshTrigger:T,triggerRefresh:_}=Kue(),{handleError:j}=F5(),[w,F]=k.useState(null),[z,B]=k.useState(!0),[H,Y]=k.useState(null),[W,q]=k.useState(""),[X,V]=k.useState(!1),[R,b]=k.useState(!1),[A,D]=k.useState(null),[M,C]=k.useState(null),[I,E]=k.useState(!1),[P,N]=k.useState(!1),[O,Z]=k.useState(!1),[$,K]=k.useState(!1),[G,J]=k.useState(!1),[ee,ae]=k.useState(null),[se,pe]=k.useState(0),[he,ue]=k.useState(!1),[be,Ne]=k.useState(!1),[ie,De]=k.useState(!1),[gt,Je]=k.useState(!1),[Fe,Dt]=k.useState(!1),[ot,ct]=k.useState(!1),[bt]=k.useState(!1),[ne,ce]=k.useState(null),[we,Se]=k.useState(!1),[Ae,Ot]=k.useState(null),[Ye,mt]=k.useState(!1);k.useEffect(()=>{async function ve(){var Ce;if(!n)return;const ge=u0(n);if(ge&&!(!i||!window.ethereum))try{if(((Ce=o==null?void 0:o.network)==null?void 0:Ce.chainId)!==ge)try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${ge.toString(16)}`}]})}catch(rt){if((rt==null?void 0:rt.code)===4902&&Gt[ge]){const ht=Gt[ge];await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${ge.toString(16)}`,chainName:ht.name,rpcUrls:[ht.rpcUrl],blockExplorerUrls:[ht.explorer],nativeCurrency:ht.nativeCurrency||{name:"ETH",symbol:"ETH",decimals:18}}]}),await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${ge.toString(16)}`}]})}}}catch(rt){console.warn("Network switch via URL failed (non-fatal):",rt)}}ve()},[n,i,o]);const Kt=k.useMemo(()=>i,[i]),jt=k.useMemo(()=>s,[s]),Qe=k.useMemo(()=>t,[t]),bn=k.useRef(null),Ct=k.useCallback(async()=>{try{const ve=d(Qe||t,"pool");if(!ve)return;const ge=await ve.getActualPoolDuration(),Ce=ge!=null&&ge.toNumber?ge.toNumber():Number(ge);Ce&&Ce>0&&F(rt=>rt&&{...rt,actualDuration:Ce})}catch{}},[d,Qe,t]),qe=(w==null?void 0:w.stateNum)===4||(w==null?void 0:w.stateNum)===6,Yn=!!w&&!qe;fz(t,{onWinnersSelected:(ve,ge)=>{re.success(`Winners have been selected! ${ve.length} winner${ve.length!==1?"s":""} chosen.`),pe(0),ae(null),_(),setTimeout(()=>{_()},5e3)},onStateChange:(ve,ge)=>{ve!==3&&(pe(0),ae(null)),[2,3,4,5,6,7,8].includes(ve)&&(bn.current&&clearTimeout(bn.current),bn.current=setTimeout(()=>{Ct()},600)),_()},onPrizeClaimed:(ve,ge,Ce)=>{re.success(`Prize claimed by ${ve.slice(0,6)}...${ve.slice(-4)}!`),_()},onTicketsPurchased:(ve,ge,Ce)=>{ve.toLowerCase()!==(s==null?void 0:s.toLowerCase())&&re.info(`${ge.toString()} slot${ge.toString()!=="1"?"s":""} purchased by ${ve.slice(0,6)}...${ve.slice(-4)}`),_()},onRpcError:ve=>{console.warn("RPC error detected:",ve)},enablePolling:!0,pollingInterval:(w==null?void 0:w.stateNum)===3?1e4:15e3,autoStart:Yn,raffleState:(w==null?void 0:w.stateNum)||null,enableStateConditionalListening:!0,stopOnCompletion:!0});const At=k.useCallback(async()=>{var ve,ge,Ce,rt,ht,qn,ti,Vr,Mi,fi;B(!0),Y(null);try{if(!Qe)throw new Error("No raffle address provided");if(!a||c)throw new Error("Wallet is initializing, please wait...");if(!d)throw new Error("Contract context not ready");const hi=OS(),zc=DS(),Wt=d(Qe,"pool");if(!Wt)throw new Error("Failed to create contract instance - no signer/provider available");const El=u0(n)||((ve=o==null?void 0:o.network)==null?void 0:ve.chainId),Xn=d((Ce=(ge=Gt[El])==null?void 0:ge.contractAddresses)==null?void 0:Ce.socialEngagementManager,"socialEngagementManager"),oa=await ax(()=>Wt.name(),"name",{timeout:hi.timeout,retries:hi.retries,required:!0});if(!oa.success)throw new Error(`Contract connectivity test failed: ${oa.error}`);const Bc=[{method:()=>Wt.name(),name:"name",required:!0,fallback:"Unknown Pool"},{method:()=>Wt.creator(),name:"creator",required:!0,fallback:$e},{method:()=>Wt.startTime(),name:"startTime",required:!0,fallback:de.from(0)},{method:()=>Wt.duration(),name:"duration",required:!0,fallback:de.from(0)},{method:()=>Wt.slotFee(),name:"slotFee",required:!0,fallback:de.from(0)},{method:()=>Wt.slotLimit(),name:"slotLimit",required:!0,fallback:de.from(0)},{method:()=>Wt.winnersCount(),name:"winnersCount",required:!0,fallback:de.from(0)},{method:()=>Wt.winnersSelected(),name:"winnersSelected",required:!0,fallback:de.from(0)},{method:()=>Wt.maxSlotsPerParticipant(),name:"maxSlotsPerParticipant",required:!0,fallback:de.from(0)},{method:()=>Wt.isPrized(),name:"isPrized",required:!0,fallback:!1},{method:()=>Wt.prizeCollection(),name:"prizeCollection",required:!0,fallback:$e},{method:()=>Wt.prizeTokenId(),name:"prizeTokenId",required:!0,fallback:de.from(0)},{method:()=>Wt.standard(),name:"standard",required:!0,fallback:de.from(0)},{method:()=>Wt.state(),name:"state",required:!0,fallback:de.from(0)},{method:ao(Wt,"erc20PrizeToken",$e),name:"erc20PrizeToken",required:!1,fallback:$e},{method:ao(Wt,"erc20PrizeAmount",de.from(0)),name:"erc20PrizeAmount",required:!1,fallback:de.from(0)},{method:ao(Wt,"nativePrizeAmount",de.from(0)),name:"nativePrizeAmount",required:!1,fallback:de.from(0)},{method:ao(Wt,"usesCustomFee",!1),name:"usesCustomFee",required:!1,fallback:!1},{method:()=>s?Wt.hasClaimedFeeRefund(s):!1,name:"hasClaimedFeeRefund",required:!1,fallback:!1},{method:ao(Wt,"isRefundable",!1),name:"isRefundable",required:!1,fallback:!1},{method:ao(Wt,"isCollabPool",!1),name:"isCollabPool",required:!1,fallback:!1},{method:ao(Wt,"isEscrowedPrize",!0),name:"isEscrowedPrize",required:!1,fallback:!0},{method:ao(Wt,"amountPerWinner",de.from(1)),name:"amountPerWinner",required:!1,fallback:de.from(1)},{method:async()=>{try{const Jn=await Wt.state();if(typeof Jn=="number"?Jn>=2:Jn.toNumber?Jn.toNumber()>=2:Number(Jn)>=2)return await Wt.getActualPoolDuration()}catch{}return de.from(0)},name:"actualDuration",required:!1,fallback:de.from(0)},{method:ao(Wt,"socialEngagementRequired",!1),name:"socialEngagementRequired",required:!1,fallback:!1},{method:async()=>{try{if(Xn)return await Xn.tasks(Qe)||""}catch(Jn){console.error("Error fetching socialTaskDescription:",Jn)}return""},name:"socialTaskDescription",required:!1,fallback:""},{method:ao(Wt,"holderTokenAddress",$e),name:"holderTokenAddress",required:!1,fallback:$e},{method:ao(Wt,"holderTokenStandard",0),name:"holderTokenStandard",required:!1,fallback:0},{method:ao(Wt,"minHolderTokenBalance",0),name:"minHolderTokenBalance",required:!1,fallback:0}],[qv,Eh,En,vg,bg,Nh,wg,kg,$c,bd,Uc,aa,la,Zs,Vc,Wc,ca,Hv,Gv,qc,Tg,Sg,Ha,Hc,Kv,Gc,Kc,Ao,wd]=await GW(Bc,{timeout:hi.timeout,useSequential:hi.useSequential,batchSize:hi.batchSize,delayBetweenCalls:hi.delayBetweenCalls});let kd=0;try{kd=(await Wt.getParticipantsCount()).toNumber()}catch{let Ji=0;for(;;)try{await Wt.participants(Ji),kd++,Ji++}catch{break}}let Td=0,Sd=$c.toNumber();if(i&&s)try{Td=(await Wt.slotsPurchased(s)).toNumber(),Sd=Math.max(0,$c.toNumber()-Td)}catch{let Ji=0;for(;Ji<kd;)try{(await Wt.participants(Ji)).toLowerCase()===s.toLowerCase()&&Td++,Ji++}catch{break}Sd=Math.max(0,$c.toNumber()-Td)}const Ah=!!bd,_g=[2,3,4,5,6,7,8].includes(Zs)&&Hc?Hc.toNumber?Hc.toNumber():Number(Hc):void 0,ni={address:t,name:qv,creator:Eh,startTime:En.toNumber(),duration:vg.toNumber(),actualDuration:_g,slotFee:bg,slotLimit:Nh.toNumber(),slotsSold:kd,winnersCount:wg.toNumber(),winnersSelected:kg.toNumber(),maxSlotsPerParticipant:$c.toNumber(),isPrized:bd,prizeCollection:Uc,prizeTokenId:aa,standard:la,stateNum:Zs,state:hS[Zs]||"Unknown",erc20PrizeToken:Vc,erc20PrizeAmount:Wc,nativePrizeAmount:ca,usesCustomFee:Hv,isEscrowedPrize:Sg,amountPerWinner:Ha?Ha.toNumber?Ha.toNumber():Number(Ha):1,socialEngagementRequired:!!Kv,socialTaskDescription:Gc||"",holderTokenAddress:Kc,holderTokenStandard:Ao?Ao.toNumber?Ao.toNumber():Number(Ao):0,minHolderTokenBalance:wd};console.log("[VRF Debug] Checking isVRFConsumer",{chainSlug:n,providerChainId:(rt=o==null?void 0:o.network)==null?void 0:rt.chainId,resolvedChainId:u0(n)||((ht=o==null?void 0:o.network)==null?void 0:ht.chainId),raffleAddress:t});let Di=!1;try{const Jn=u0(n)||((qn=o==null?void 0:o.network)==null?void 0:qn.chainId),Ji=Jn?(Vr=(ti=Gt[Jn])==null?void 0:ti.contractAddresses)==null?void 0:Vr.protocolManager:void 0;if(Ji){const ua=d(Ji,"protocolManager");console.log("[VRF Debug] Built manager contract?",{hasContract:!!ua}),ua&&ua.isVRFConsumer&&(Di=await ua.isVRFConsumer(t),console.log("[VRF Debug] manager.isVRFConsumer result",{isVrfConsumer:Di}))}}catch{}console.log("[VRF Debug] Setting raffle.isVrfConsumer",{isVrfConsumer:!!Di}),ni.isVrfConsumer=!!Di,F(ni);try{if(!Di&&((Mi=g==null?void 0:g.protocolManager)!=null&&Mi.isVRFConsumer)){try{!Di&&((fi=g==null?void 0:g.protocolManager)!=null&&fi.isVRFConsumer)&&(console.log("[VRF Debug] Using context manager to check isVRFConsumer",{manager:g.protocolManager.address,raffleAddress:t}),Di=await g.protocolManager.isVRFConsumer(t),console.log("[VRF Debug] Context manager isVRFConsumer result",{isVrfConsumer:Di}),ni.isVrfConsumer=!!Di)}catch(Jn){console.warn("[VRF Debug] Context manager isVRFConsumer check failed",Jn)}F(ni),console.log("[VRF Debug] Final isVrfConsumer for raffle",{raffleAddress:t,isVrfConsumer:ni.isVrfConsumer}),console.log("[VRF Debug] Final isVrfConsumer for raffle (post-set)",{raffleAddress:t,isVrfConsumer:ni.isVrfConsumer}),Di=await g.protocolManager.isVRFConsumer(t),ni.isVrfConsumer=!!Di}}catch{}ce(qc),Se(Tg);let Yc=Uc;if(Tg)try{Yc=await Wt.prizeCollection()}catch{}F({...ni,prizeCollection:Yc})}catch(hi){const zc=j(hi,{context:{operation:"fetchRaffleData",isReadOnly:!0},fallbackMessage:"Failed to load raffle data"});Y(zc)}finally{B(!1)}},[Qe,d,Kt,jt,a,c,T]),_t=k.useCallback(async()=>{if(!i||!s||!(w!=null&&w.address)||!d){J(!1);return}try{const ve=d(w.address,"pool");if(!ve){J(!1);return}const ge=await ve.hasCompletedSocialEngagement(s);J(!!ge)}catch(ve){console.error("Error checking social engagement status:",ve),J(!1)}},[i,s,w==null?void 0:w.address,d]);k.useEffect(()=>{w!=null&&w.socialEngagementRequired&&i&&s&&_t()},[w==null?void 0:w.socialEngagementRequired,i,s,_t]),k.useEffect(()=>{Qe&&d&&a&&!c&&At()},[At,Qe,d,a,c,T]),k.useEffect(()=>{(async()=>{if(!w||!w.prizeCollection||w.prizeCollection===$e){D(null);return}try{const Ce=await d(w.prizeCollection,w.standard===0?"erc721Prize":"erc1155Prize").name();D(Ce)}catch{D(null)}})()},[w,d]),k.useEffect(()=>{(async()=>{if(!w||!w.holderTokenAddress||w.holderTokenAddress===$e){C(null);return}if(w.holderTokenStandard===1){C(null);return}try{let ge=null;if(w.holderTokenStandard===0){const Ce=window.ethereum?new Ea(window.ethereum):tc(),rt=["function name() view returns (string)","function symbol() view returns (string)"],ht=new Vt(w.holderTokenAddress,rt,Ce);try{ge=await ht.symbol()}catch{try{ge=await ht.name()}catch{ge=null}}}else if(w.holderTokenStandard===2){const Ce=window.ethereum?new Ea(window.ethereum):tc(),rt=["function symbol() view returns (string)","function name() view returns (string)"],ht=new Vt(w.holderTokenAddress,rt,Ce);try{ge=await ht.symbol()}catch{try{ge=await ht.name()}catch{ge=null}}}C(ge)}catch(ge){console.warn("Failed to fetch gating token name:",ge),C(null)}})()},[w]);const pn=k.useCallback(ve=>{const ge=Math.floor(ve/86400),Ce=Math.floor(ve%86400/3600),rt=Math.floor(ve%3600/60),ht=ve%60;let qn="";return ge>0&&(qn+=`${ge}d `),(Ce>0||ge>0)&&(qn+=`${Ce}h `),(rt>0||Ce>0||ge>0)&&(qn+=`${rt}m `),qn+=`${ht}s`,qn.trim()},[]),$t=k.useCallback(ve=>{const ge=Math.floor(ve/86400),Ce=Math.floor(ve%86400/3600),rt=Math.floor(ve%3600/60);let ht="";return ge>0&&(ht+=`${ge}d `),(Ce>0||ge>0)&&(ht+=`${Ce}h `),(rt>0||Ce>0||ge>0)&&(ht+=`${rt}m`),ht||(ht="0m"),ht.trim()},[]),ze=k.useCallback(()=>{if(!w)return;const ve=Math.floor(Date.now()/1e3);let ge="",Ce=0;if([2,3,4,5,6,7,8].includes(w.stateNum)){ge="Duration";const rt=w.actualDuration&&(w.actualDuration.toNumber?w.actualDuration.toNumber():Number(w.actualDuration)),ht=w.duration,qn=rt&&rt>0?rt>ht?ht:rt:ht;He(ge),Be($t(qn));return}ve<w.startTime?(ge="Starts In",Ce=w.startTime-ve):(ge="Remaining",Ce=w.startTime+w.duration-ve),He(ge),Be(Ce>0?pn(Ce):"Ended")},[w,pn,$t]);k.useEffect(()=>{if(!w)return;ze();const ve=setInterval(ze,1e3);return()=>clearInterval(ve)},[ze]),k.useEffect(()=>{async function ve(){if(t&&d)try{const ge=d(t,"pool");if(ge){const Ce=await ge.isEscrowedPrize();V(Ce)}}catch{V(!1)}}ve()},[t,d]),k.useEffect(()=>{(async()=>{if(!t||!(g!=null&&g.poolDeployer)){Ot(null);return}mt(!0);try{const ge=await kfe(t,g.poolDeployer);Ot(ge)}catch(ge){console.error("Error fetching pool metadata:",ge),Ot(null)}finally{mt(!1)}})()},[t,g==null?void 0:g.poolDeployer]),k.useEffect(()=>{(async()=>{if(w&&w.standard===1&&w.prizeCollection&&s&&s.toLowerCase()===w.creator.toLowerCase()){Z(!0);try{const Ce=(window.ethereum?new Ea(window.ethereum):tc()).getSigner(),ht=await new Vt(w.prizeCollection,Ut.erc1155Prize,Ce).isApprovedForAll(s,w.address);N(ht)}catch{N(!1)}finally{Z(!1)}}})()},[w,s]),k.useEffect(()=>{(async()=>{if(w&&w.erc20PrizeToken&&w.erc20PrizeToken!==$e&&w.erc20PrizeAmount&&s&&s.toLowerCase()===w.creator.toLowerCase()){De(!0);try{const Ce=(window.ethereum?new Ea(window.ethereum):tc()).getSigner(),ht=await new Vt(w.erc20PrizeToken,Ut.erc20,Ce).allowance(s,w.address);Ne(ht.gte(w.erc20PrizeAmount))}catch{Ne(!1)}finally{De(!1)}}})()},[w,s]),k.useEffect(()=>{(async()=>{if(w&&w.standard===0&&w.prizeCollection&&typeof w.prizeTokenId<"u"&&s&&s.toLowerCase()===w.creator.toLowerCase()){ct(!0);try{const Ce=(window.ethereum?new Ea(window.ethereum):tc()).getSigner(),rt=new Vt(w.prizeCollection,Ut.erc721Prize,Ce),ht=await rt.getApproved(w.prizeTokenId);if(ht&&ht.toLowerCase()===w.address.toLowerCase())Dt(!0);else{const qn=await rt.isApprovedForAll(s,w.address);Dt(qn)}}catch{Dt(!1)}finally{ct(!1)}}})()},[w,s]);const Et=async(ve,ge=[])=>{var zc,Wt,El;if(console.log(" handlePurchaseTickets START:",{quantity:ve,selectedTokenIds:ge,selectedTokenIdsType:typeof ge,selectedTokenIdsLength:ge==null?void 0:ge.length,minHolderTokenBalance:(zc=w.minHolderTokenBalance)==null?void 0:zc.toString(),minHolderTokenBalanceFormatted:w.minHolderTokenBalance?Ia(w.minHolderTokenBalance,18):"N/A",holderTokenAddress:w.holderTokenAddress,holderTokenStandard:w.holderTokenStandard,userAddress:s}),!i||!w)throw new Error("Wallet not connected or raffle not loaded");const Ce=d(w.address,"pool");if(!Ce)throw new Error("Failed to get pool contract");const ht=SB(w.slotFee).mul(ve);let qn=null,ti=0,Vr=0,Mi="0x";if(w.socialEngagementRequired)try{console.log("Generating signature for social engagement required pool...");const Xn=await hme.generatePurchaseSignature(s,w.address,ve);if(Xn.success)qn=Xn.signature,ti=Xn.nonce,Vr=Xn.deadline,Mi=qn,console.log("Signature generated successfully with nonce:",ti,"deadline:",Vr);else throw new Error(Xn.error||"Failed to generate signature")}catch(Xn){throw console.error("Signature generation failed:",Xn),G?new Error("Failed to generate signature. Please try again."):new Error("Please complete all social media tasks before purchasing slots")}console.log("Purchase Debug:",{quantity:ve,nonce:ti,deadline:Vr,signatureLength:Mi.length,selectedTokenIds:ge,selectedTokenIdsLength:ge.length,selectedTokenIdsTypes:ge.map(Xn=>typeof Xn),convertedTokenIds:ge.map(Xn=>Xn.toString()),numericTokenIds:ge.map(Xn=>Number(Xn)),totalCost:ht.toString(),holderTokenStandard:w.holderTokenStandard,holderTokenAddress:w.holderTokenAddress,minHolderTokenBalance:(Wt=w.minHolderTokenBalance)==null?void 0:Wt.toString(),userAddress:s,validationChecks:{hasTokenIds:ge.length>0,tokenIdsValid:ge.every(Xn=>!isNaN(Number(Xn))),holderAddressValid:w.holderTokenAddress!==$e,userAddressValid:!!s}});const fi=ge.map(Xn=>{const oa=Number(Xn);if(isNaN(oa)||oa<0)throw new Error(`Invalid token ID: ${Xn}`);return oa});console.log("Final Contract Call Args:",{numericTokenIds:fi,numericTokenIdsLength:fi.length,expectedMinBalance:(El=w.minHolderTokenBalance)==null?void 0:El.toString(),contractAddress:w.address}),await(await Ce.purchaseSlots(ve,ti,Vr,Mi,fi,{value:ht})).wait(),re.success(`Successfully purchased ${ve} slot${ve>1?"s":""}!`),_()},at=async()=>{if(!(!w||!d)){E(!0);try{const ve=d(w.address,"pool");if(!ve)throw new Error("Contract instance not available");try{await ve.callStatic.deletePool()}catch(Ce){throw sn(Ce,{action:"deletePool",phase:"preflight"}),Ce}await(await ve.deletePool()).wait(),re.success("Raffle deleted successfully!"),r("/")}catch(ve){qu(ve,"delete raffle"),Du(ve,"Delete Raffle"),sn(ve)}finally{E(!1)}}},Le=()=>{const ve=Math.floor(Date.now()/1e3),ge=w.startTime+w.duration;return i&&(s==null?void 0:s.toLowerCase())===(w==null?void 0:w.creator.toLowerCase())&&((w==null?void 0:w.state)==="Pending"||(w==null?void 0:w.state)==="Active")&&ve<ge&&(w==null?void 0:w.usesCustomFee)===!0},Ve=()=>{var qn;if(!w)return null;const ve=Math.floor(Date.now()/1e3),rt=((qn=w.state)==null?void 0:qn.toLowerCase())==="pending"&&w.startTime&&ve>=w.startTime&&w.slotsSold===0?"Live":(ti=>ti===6?Ii===1?"Prize Claimed":"Prizes Claimed":hS[ti]||"Unknown")(w.stateNum),ht={Pending:"bg-yellow-100 text-yellow-800",Live:"bg-blue-100 text-blue-800",Active:"bg-green-100 text-green-800",Ended:"bg-red-100 text-red-800",Drawing:"bg-purple-100 text-purple-800",Completed:"bg-blue-100 text-blue-800",Deleted:"bg-gray-200 text-gray-800","Activation Failed":"bg-red-200 text-red-900","Prizes Claimed":"bg-blue-200 text-blue-900","Prize Claimed":"bg-blue-200 text-blue-900",Unengaged:"bg-gray-100 text-gray-800",Unknown:"bg-gray-100 text-gray-800"};return l.jsx("span",{className:`inline-flex max-w-[60vw] items-center px-2 py-0.5 sm:px-3 sm:py-1 rounded-full text-xs sm:text-sm font-medium whitespace-nowrap ${ht[rt]||ht.Unknown}`,children:rt})},We=Math.floor(Date.now()/1e3);w&&w.startTime&&We>=w.startTime;const[Te,He]=k.useState(""),[Ie,Be]=k.useState(""),[wn,Xe]=k.useState(!1),[yt,Pn]=k.useState(!1),[wt,ft]=k.useState(!1),[Lt,Ft]=k.useState(!1),[xt,Wn]=k.useState(!1),[Mn,mn]=k.useState(null),[dn,Tn]=k.useState(null),[Ii,Js]=k.useState(0);k.useEffect(()=>{(async()=>{if(!w||!s||![3,4,6].includes(w.stateNum)){ft(!1),Tn(null);return}try{const ge=d&&d(w.address,"pool");if(!ge)return;const Ce=await ge.winnersCount(),rt=Ce.toNumber?Ce.toNumber():Number(Ce);let ht=!1,qn=null;for(let ti=0;ti<rt;ti++)try{const Vr=await ge.winners(ti);if(Vr.toLowerCase()===s.toLowerCase()){const Mi=await ge.claimedWins(Vr),fi=await ge.prizeClaimed(Vr),hi=fi.toNumber?fi.toNumber():Number(fi);ht=!0,qn={address:Vr,index:ti,claimedWins:Mi.toNumber?Mi.toNumber():Number(Mi),prizeClaimed:hi>0};break}}catch{continue}ft(ht),Tn(qn)}catch{ft(!1),Tn(null)}})()},[w,d,s]),k.useEffect(()=>{(async()=>{if(!w||!s||![4,5,6,7].includes(w.stateNum)){Ft(!1),mn(null);return}try{const ge=d&&d(w.address,"pool");if(!ge)return;try{const Ce=await ge.getRefundableAmount(s);console.log("Debug - Refund info:",{address:s,stateNum:w.stateNum,usesCustomFee:w.usesCustomFee,refundableAmount:Ce==null?void 0:Ce.toString(),refundableGt:Ce&&Ce.gt&&Ce.gt(0)}),mn(Ce),Ft(Ce&&Ce.gt&&Ce.gt(0))}catch(Ce){console.log("Debug - getRefundableAmount error:",Ce),mn(null),Ft(!1)}}catch{Ft(!1),mn(null)}})()},[w,d,s]);const zt=k.useCallback(ve=>{F(ge=>ge&&{...ge,winnersSelected:ve})},[]);k.useEffect(()=>{w&&(w.stateNum===3?ee||(ae(Date.now()),console.log(" Raffle entered Drawing state - starting auto-refresh monitoring")):ee&&(ae(null),pe(0),console.log(" Raffle left Drawing state - stopping auto-refresh monitoring")))},[w==null?void 0:w.stateNum,ee]),k.useEffect(()=>{if(!ee||(w==null?void 0:w.stateNum)!==3)return;console.log(" Drawing state active - visual indicator enabled");const ve=setInterval(async()=>{ue(!0),pe(ge=>ge+1),console.log(` Drawing state monitoring active (${se+1})`);try{const ge=d&&d(w.address,"pool");if(ge){const Ce=await ge.state(),rt=Ce.toNumber?Ce.toNumber():Number(Ce);rt!==3&&(console.log(` State changed from Drawing to ${rt}, triggering refresh`),_())}}catch(ge){console.warn("State polling error:",ge)}setTimeout(()=>{ue(!1)},3e3)},15e3);return()=>{console.log(" Drawing state monitoring stopped"),clearInterval(ve)}},[ee,w==null?void 0:w.stateNum,w==null?void 0:w.address,se,d,_]);const Dn=!!dn&&((w==null?void 0:w.isPrized)&&((w==null?void 0:w.stateNum)===4||(w==null?void 0:w.stateNum)===6)||(w==null?void 0:w.isPrized)===!1&&(we===!0||(w==null?void 0:w.isCollabPool)===!0)&&(w==null?void 0:w.stateNum)===4),Sr=dn&&dn.prizeClaimed,Qs=(!(w!=null&&w.usesCustomFee)||(w==null?void 0:w.isPrized)||(w==null?void 0:w.isCollabPool))&&[4,5,6,7].includes(w==null?void 0:w.stateNum)&&Lt&&Mn&&Mn.gt&&Mn.gt(0),xs=async()=>{if(!s||!w||!d){re.error("Please connect your wallet to claim your prize");return}if(!wt||!dn){re.error("You are not a winner of this raffle");return}if(dn.prizeClaimed){re.error("You have already claimed your prize");return}Xe(!0);try{const ve=d(w.address,"pool");if(!ve)throw new Error("Failed to get pool contract");const ge=w.isPrized&&!w.isEscrowedPrize,Ce=ge?"mint":"claimPrize";try{ge?await ve.callStatic.mint():await ve.callStatic.claimPrize()}catch(ht){throw sn(ht,{action:Ce,phase:"preflight"}),ht}const rt=await f(ge?ve.mint:ve.claimPrize);if(rt.success){let ht="prize";w.nativePrizeAmount&&w.nativePrizeAmount.gt&&w.nativePrizeAmount.gt(0)?ht=v(w.nativePrizeAmount):w.erc20PrizeToken&&w.erc20PrizeToken!==$e&&w.erc20PrizeAmount&&w.erc20PrizeAmount.gt&&w.erc20PrizeAmount.gt(0)?ht=`${Ia(w.erc20PrizeAmount,18)} ERC20 tokens`:w.prizeCollection&&w.prizeCollection!==$e&&(ht=w.standard===0?"ERC721 NFT":"ERC1155 NFT");const qn=ge?"minted":"claimed";re.success(`Successfully ${qn} your ${ht}!`),window.location.reload()}else throw new Error(rt.error)}catch(ve){Du(ve,"claim prize",{raffleAddress:w.address,userAddress:s,prizeType:w.standard,isMintable:w.isPrized&&!w.isEscrowedPrize}),sn(ve,{action:w.isPrized&&!w.isEscrowedPrize?"mint":"claimPrize"})}finally{Xe(!1)}},vs=async()=>{if(!s||!w||!d){re.error("Please connect your wallet to claim your refund");return}Pn(!0);try{const ve=d(w.address,"pool");if(!ve)throw new Error("Failed to get pool contract");try{await ve.callStatic.claimRefund()}catch(Ce){throw sn(Ce,{action:"claimRefund",phase:"preflight"}),Ce}const ge=await f(ve.claimRefund);if(ge.success)re.success("Successfully claimed your refund!"),_();else throw new Error(ge.error)}catch(ve){qu(ve,"claim refund"),Du(ve,"Claim Refund"),sn(ve)}finally{Pn(!1)}};if(z||c)return l.jsx(pl,{className:"max-w-[85rem]",children:l.jsx(hz,{message:c?"Reconnecting wallet...":"Loading raffle details...",isMobile:m})});if(H&&!z&&!c){const ve=H.toLowerCase().includes("wallet")||H.toLowerCase().includes("signer")||H.toLowerCase().includes("initializing");return l.jsx(pl,{variant:"wide",className:"max-w-[85rem] pt-8 pb-4",children:l.jsxs("div",{className:"text-center py-16",children:[l.jsx(un,{className:"h-16 w-16 text-destructive mx-auto mb-4"}),l.jsx("h2",{className:"font-display text-[length:var(--text-3xl)] font-bold mb-4 leading-tight",children:ve?"Wallet Connection Issue":"Failed to Load Raffle"}),l.jsx("p",{className:"text-muted-foreground mb-4 max-w-md mx-auto",children:ve?"Please ensure your wallet is connected and try again.":H}),l.jsxs("div",{className:"flex gap-4 justify-center",children:[l.jsx(Ee,{onClick:At,variant:"primary",size:"md",children:"Try Again"}),l.jsx(Ee,{onClick:()=>r("/"),variant:"secondary",size:"md",children:"Back to Home"})]})]})})}if(!w)return l.jsx(pl,{variant:"wide",className:"max-w-[85rem] pt-8 pb-4",children:l.jsxs("div",{className:"text-center py-16",children:[l.jsx(un,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),l.jsx("h2",{className:"font-display text-[length:var(--text-3xl)] font-bold mb-4 leading-tight",children:"Raffle Not Found"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"The raffle you're looking for doesn't exist or has been removed."}),l.jsx(Ee,{onClick:()=>r("/"),variant:"primary",size:"md",children:"Back to Home"})]})});const yr=w&&w.prizeCollection&&w.prizeCollection!==$e&&w.standard===0&&w.isCollabPool===!0;return l.jsxs(pl,{variant:"wide",className:"max-w-[85rem] pt-8 pb-4",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs(Ee,{onClick:()=>r("/app"),variant:"tertiary",size:"md",className:"flex items-center gap-2 mb-4",children:[l.jsx(GY,{className:"h-4 w-4"}),"Back to Raffles"]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h1",{className:"font-display text-[length:var(--text-3xl)] font-bold mb-2 leading-tight",children:w.name}),l.jsx(Ee,{onClick:()=>{const ve=`${window.location.origin}${x()}`;navigator.clipboard.writeText(ve).then(()=>{re.success("Share link copied to clipboard")}).catch(()=>{re.error("Failed to copy link")})},title:"Copy share link",variant:"tertiary",size:"icon",className:"ml-2",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:l.jsx("path",{d:"M3.9 12a5 5 0 0 1 5-5h2v2h-2a3 3 0 0 0 0 6h2v2h-2a5 5 0 0 1-5-5zm7-1h2v2h-2v-2zm4.1-4a5 5 0 0 1 0 10h-2v-2h2a3 3 0 0 0 0-6h-2V7h2z"})})})]}),Ae&&Tfe(Ae)&&l.jsx("div",{className:"mt-3",children:l.jsx(sme,{metadata:Ae,loading:Ye})})]}),l.jsxs("div",{className:"flex flex-col items-start sm:flex-row sm:items-center sm:gap-3 gap-2 w-full sm:w-auto",children:[l.jsx("div",{className:"self-start sm:self-auto",children:Ve()}),(he||(w==null?void 0:w.stateNum)===3&&ee)&&l.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-sm",children:[l.jsx("div",{className:"animate-spin h-3 w-3 border border-blue-500 border-t-transparent rounded-full"}),m?"Checking for winners...":"Checking for winner selection..."]}),Le()&&l.jsxs(Ee,{onClick:at,variant:"primary",size:"md",className:"flex items-center gap-2 text-sm font-medium",title:w.slotsSold>0?"Delete pool (refunds will be processed automatically)":"Delete this pool",disabled:I,children:[l.jsx(k2,{className:"h-4 w-4"}),I?"Deleting...":"Delete Pool"]}),[4,5,6,7,8].includes(w.stateNum)&&(w==null?void 0:w.isVrfConsumer)===!0&&l.jsx(Ee,{onClick:async()=>{try{b(!0);const ve=d(w.address,"pool");if(!ve)throw new Error("Failed to get raffle contract");const ge=await f(ve.removeFromVRFSubscription);if(ge!=null&&ge.success)re.success("VRF status updated successfully"),F(Ce=>Ce&&{...Ce,isVrfConsumer:!1}),_==null||_();else if(ge!=null&&ge.error)throw new Error(ge.error)}catch(ve){qu(ve,"update VRF status"),Du(ve,"Update VRF Status"),sn(ve)}finally{b(!1)}},disabled:R,variant:"primary",size:"md",className:"flex items-center justify-center gap-2",children:R?"Updating...":"Deregister Consumer"})]})]}),Le()&&w.slotsSold>0&&l.jsx("div",{className:"mt-4 p-4 bg-blue-50/80 dark:bg-blue-900/20 backdrop-blur-sm border border-blue-200/50 dark:border-blue-700/50 rounded-lg",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[" As the pool creator, you can delete this pool. Deletion will automatically process refunds for all ",w.slotsSold," sold slots."]})})]}),l.jsx("div",{className:"detail-beige-card mb-8 p-4 bg-card/80 text-foreground backdrop-blur-sm border border-border rounded-xl shadow-lg",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-3 text-center items-center text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-body text-[length:var(--text-base)] font-medium mb-1",children:w.slotsSold}),l.jsx("p",{className:"text-xs text-foreground/70 dark:text-foreground/80",children:"Slots Sold"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-body text-[length:var(--text-base)] font-medium mb-1",children:w.slotLimit}),l.jsx("p",{className:"text-xs text-foreground/70 dark:text-foreground/80",children:"Total Slots"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-body text-[length:var(--text-base)] font-medium mb-1",children:w.winnersCount}),l.jsxs("p",{className:"text-xs text-foreground/70 dark:text-foreground/80",children:["Winner Slot",w.winnersCount!==1?"s":""]})]}),l.jsxs("div",{children:[l.jsx("p",{className:`font-medium mb-1 ${m?"text-base":"text-lg"}`,children:Ie}),l.jsx("p",{className:"text-xs text-foreground/70 dark:text-foreground/80",children:Te})]}),l.jsx("div",{className:"flex justify-center lg:justify-end items-center h-full w-full",children:(ne||!(w!=null&&w.usesCustomFee))&&w&&(()=>{const{refundable:ve,reason:ge,label:Ce}=Tme(w);return l.jsxs("span",{className:`px-3 py-1 rounded-full font-semibold ${ve?"bg-green-100 text-green-800":"bg-gray-200 text-gray-800"} text-xs`,title:ge,style:{whiteSpace:"nowrap"},children:[Ce,l.jsx(on,{className:"inline-block ml-1 h-4 w-4 text-gray-400 align-middle",title:ge})]})})()})]})}),(w==null?void 0:w.socialEngagementRequired)&&l.jsx("div",{className:"mb-8",children:l.jsx(ime,{raffle:w,userAddress:s,socialEngagementRequired:w.socialEngagementRequired,hasCompletedSocialEngagement:G,onVerificationComplete:()=>{_()}})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx(vme,{raffle:w,onPurchase:Et,timeRemaining:W,winners:[],shouldShowClaimPrize:Dn,prizeAlreadyClaimed:Sr,claimingPrize:wn,handleClaimPrize:xs,shouldShowClaimRefund:Qs,claimingRefund:yt,handleClaimRefund:vs,refundableAmount:Mn,isMintableERC721:yr,isEscrowedPrize:X,isCollabPool:we,isPrized:w.isPrized,isMobile:m,onStateChange:_,socialEngagementRequired:w==null?void 0:w.socialEngagementRequired,hasCompletedSocialEngagement:G}),l.jsx(wme,{raffle:w,isMintableERC721:yr,isEscrowedPrize:X,isMobile:m,onWinnerCountChange:Js,onWinnersSelectedChange:zt})]}),l.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"detail-beige-card bg-card/80 text-foreground backdrop-blur-sm border border-border rounded-xl p-6 shadow-lg h-full",children:[l.jsx("h3",{className:`font-semibold mb-4 ${m?"text-base":"text-lg"}`,children:"Raffle Details"}),l.jsxs("div",{className:"space-y-3 text-sm",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:"Creator:"}),l.jsx("span",{className:"font-mono text-foreground",title:w.creator,children:m?`${w.creator.slice(0,12)}...`:`${w.creator.slice(0,16)}...`})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:"Pool Contract:"}),l.jsx("a",{href:X0(w.address,w.chainId),target:"_blank",rel:"noopener noreferrer",className:"font-mono text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",title:w.address,children:m?`${w.address.slice(0,12)}...`:`${w.address.slice(0,16)}...`})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:"Start Time:"}),l.jsx("span",{children:new Date(w.startTime*1e3).toLocaleString()})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:["Raffle Duration",l.jsxs(yn,{children:[l.jsx(xn,{asChild:!0,children:l.jsx("span",{className:"inline-flex items-center cursor-help","aria-label":"Raffle Duration info",children:l.jsx(on,{className:"h-3.5 w-3.5 opacity-70"})})}),l.jsx(vn,{side:"top",align:"center",children:"Shows the default duration until the raffle ends, then shows the actual duration taken."})]})]}),l.jsx("span",{children:(()=>{const ve=[2,3,4,5,6,7,8].includes(w.stateNum),ge=(w==null?void 0:w.actualDuration)&&(w.actualDuration.toNumber?w.actualDuration.toNumber():Number(w.actualDuration)),Ce=w==null?void 0:w.duration,rt=ve&&ge&&ge>0?ge>Ce?Ce:ge:Ce;return $t(rt)})()})]}),w.holderTokenAddress&&w.holderTokenAddress!==$e&&w.holderTokenStandard!==void 0&&l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:"Gating Requirement:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-foreground",children:(()=>{let ve=1;try{const Ce=w.minHolderTokenBalance;Ce&&(Ce.toString?Ce.toString().length>10?ve=parseFloat(Ia(Ce,18)):ve=Ce.toNumber?Ce.toNumber():Number(Ce):ve=Number(Ce))}catch(Ce){console.warn("Could not format minHolderTokenBalance:",Ce),ve=1}let ge="";return w.holderTokenStandard===1?ge=`${w.holderTokenAddress.slice(0,8)}...${w.holderTokenAddress.slice(-6)}`:ge=M||`${w.holderTokenAddress.slice(0,8)}...${w.holderTokenAddress.slice(-6)}`,`${ve} ${ge}`})()}),l.jsx("a",{href:X0(w.holderTokenAddress,w.chainId),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",title:w.holderTokenAddress,children:l.jsx(on,{className:"h-3.5 w-3.5 opacity-70"})})]})]}),w.nativePrizeAmount&&w.nativePrizeAmount.gt&&w.nativePrizeAmount.gt(0)&&l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:"Prize Amount:"}),l.jsx("span",{children:v(w.nativePrizeAmount)})]}),w.erc20PrizeToken&&w.erc20PrizeToken!==$e&&w.erc20PrizeAmount&&w.erc20PrizeAmount.gt&&w.erc20PrizeAmount.gt(0)&&l.jsx(kme,{token:w.erc20PrizeToken,amount:w.erc20PrizeAmount}),w.prizeCollection&&w.prizeCollection!==$e&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Prize Collection:"}),l.jsx("a",{href:X0(w.prizeCollection,w.chainId),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-200",title:w.prizeCollection,children:A||`${w.prizeCollection.slice(0,10)}...${w.prizeCollection.slice(-8)}`})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-foreground/80 dark:text-foreground",children:X?"Prize Type:":"Collection Type:"}),l.jsx("span",{className:"font-semibold",children:(()=>{if(typeof X=="boolean"&&typeof w.standard<"u"){if(!X&&w.standard===0)return"Mintable ERC721";if(!X&&w.standard===1)return"Mintable ERC1155";if(X&&w.standard===0)return"Escrowed ERC721";if(X&&w.standard===1)return"Escrowed ERC1155"}return"Unknown"})()})]}),X&&w.prizeTokenId!==void 0&&w.prizeTokenId!==null&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-foreground/80 dark:text-foreground",children:"Prize Token ID:"}),l.jsx("span",{className:"font-mono font-semibold",children:w.prizeTokenId.toString?w.prizeTokenId.toString():w.prizeTokenId})]})]})]})]}),l.jsx(bme,{raffle:w,isMintableERC721:yr,isEscrowedPrize:X})]})]})]})};function xk(){const[t]=EU(),e=$a(),[n,r]=k.useState("processing"),[i,s]=k.useState("Processing authentication...");k.useEffect(()=>{o()},[]);const o=async()=>{try{const a=t.get("code"),c=t.get("state"),d=t.get("error"),f=t.get("error_description");if(d){r("error"),s(`Authentication failed: ${f||d}`),Wi.error(`Authentication failed: ${f||d}`),setTimeout(()=>{window.close(),e("/")},3e3);return}if(!a||!c){r("error"),s("Missing authorization code or state parameter"),Wi.error("Invalid callback parameters"),setTimeout(()=>{window.close(),e("/")},3e3);return}let p;try{p=JSON.parse(atob(c))}catch{r("error"),s("Invalid state parameter"),Wi.error("Invalid authentication state"),setTimeout(()=>{window.close(),e("/")},3e3);return}const{wallet_address:g}=p;if(!g){r("error"),s("Missing wallet address in state"),Wi.error("Invalid authentication state"),setTimeout(()=>{window.close(),e("/")},3e3);return}const m=window.location.pathname;let v="twitter";m.includes("/discord")?v="discord":m.includes("/telegram")&&(v="telegram"),s(`Completing ${v} authentication...`);let x;switch(v){case"twitter":x=await $s.handleTwitterCallback(a,c,g);break;case"discord":x=await $s.handleDiscordCallback(a,c,g);break;default:throw new Error(`Unsupported platform: ${v}`)}x.success?(r("success"),s(`${v.charAt(0).toUpperCase()+v.slice(1)} account connected successfully!`),Wi.success(`${v.charAt(0).toUpperCase()+v.slice(1)} account connected!`),localStorage.setItem("oauth_success",JSON.stringify({platform:v,timestamp:Date.now()})),setTimeout(()=>{window.close()},2e3)):(r("error"),s(x.error||"Authentication failed"),Wi.error(x.error||"Authentication failed"),setTimeout(()=>{window.close(),e("/")},3e3))}catch(a){console.error("Callback error:",a),r("error"),s(a.message||"An unexpected error occurred"),Wi.error("Authentication failed"),setTimeout(()=>{window.close(),e("/")},3e3)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsx("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-8",children:l.jsxs("div",{className:"text-center",children:[n==="processing"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Processing..."}),l.jsx("p",{className:"text-gray-600",children:i})]}),n==="success"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-green-600 mb-4",children:l.jsx("svg",{className:"h-16 w-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Success!"}),l.jsx("p",{className:"text-gray-600",children:i}),l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"This window will close automatically..."})]}),n==="error"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-red-600 mb-4",children:l.jsx("svg",{className:"h-16 w-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error"}),l.jsx("p",{className:"text-gray-600",children:i}),l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"This window will close automatically..."})]})]})})})}function Sme(t,e){return k.useReducer((n,r)=>e[n][r]??n,t)}var c_="ScrollArea",[_B,mge]=Xs(c_),[Cme,No]=_B(c_),EB=k.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[a,c]=k.useState(null),[d,f]=k.useState(null),[p,g]=k.useState(null),[m,v]=k.useState(null),[x,T]=k.useState(null),[_,j]=k.useState(0),[w,F]=k.useState(0),[z,B]=k.useState(!1),[H,Y]=k.useState(!1),W=Zt(e,X=>c(X)),q=yh(i);return l.jsx(Cme,{scope:n,type:r,dir:q,scrollHideDelay:s,scrollArea:a,viewport:d,onViewportChange:f,content:p,onContentChange:g,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:z,onScrollbarXEnabledChange:B,scrollbarY:x,onScrollbarYChange:T,scrollbarYEnabled:H,onScrollbarYEnabledChange:Y,onCornerWidthChange:j,onCornerHeightChange:F,children:l.jsx(vt.div,{dir:q,...o,ref:W,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});EB.displayName=c_;var NB="ScrollAreaViewport",AB=k.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,o=No(NB,n),a=k.useRef(null),c=Zt(e,a,o.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),l.jsx(vt.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:l.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});AB.displayName=NB;var qa="ScrollAreaScrollbar",jB=k.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=No(qa,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return k.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?l.jsx(_me,{...r,ref:e,forceMount:n}):i.type==="scroll"?l.jsx(Eme,{...r,ref:e,forceMount:n}):i.type==="auto"?l.jsx(PB,{...r,ref:e,forceMount:n}):i.type==="always"?l.jsx(u_,{...r,ref:e}):null});jB.displayName=qa;var _me=k.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=No(qa,t.__scopeScrollArea),[s,o]=k.useState(!1);return k.useEffect(()=>{const a=i.scrollArea;let c=0;if(a){const d=()=>{window.clearTimeout(c),o(!0)},f=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",d),a.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",d),a.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),l.jsx(Pi,{present:n||s,children:l.jsx(PB,{"data-state":s?"visible":"hidden",...r,ref:e})})}),Eme=k.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=No(qa,t.__scopeScrollArea),s=t.orientation==="horizontal",o=Wv(()=>c("SCROLL_END"),100),[a,c]=Sme("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return k.useEffect(()=>{if(a==="idle"){const d=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[a,i.scrollHideDelay,c]),k.useEffect(()=>{const d=i.viewport,f=s?"scrollLeft":"scrollTop";if(d){let p=d[f];const g=()=>{const m=d[f];p!==m&&(c("SCROLL"),o()),p=m};return d.addEventListener("scroll",g),()=>d.removeEventListener("scroll",g)}},[i.viewport,s,c,o]),l.jsx(Pi,{present:n||a!=="hidden",children:l.jsx(u_,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ue(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ue(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),PB=k.forwardRef((t,e)=>{const n=No(qa,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=k.useState(!1),a=t.orientation==="horizontal",c=Wv(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?d:f)}},10);return uh(n.viewport,c),uh(n.content,c),l.jsx(Pi,{present:r||s,children:l.jsx(u_,{"data-state":s?"visible":"hidden",...i,ref:e})})}),u_=k.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=No(qa,t.__scopeScrollArea),s=k.useRef(null),o=k.useRef(0),[a,c]=k.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=OB(a.viewport,a.content),f={...r,sizes:a,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:g=>s.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g};function p(g,m){return Ime(g,o.current,a,m)}return n==="horizontal"?l.jsx(Nme,{...f,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const g=i.viewport.scrollLeft,m=wM(g,a,i.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollLeft=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollLeft=p(g,i.dir))}}):n==="vertical"?l.jsx(Ame,{...f,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const g=i.viewport.scrollTop,m=wM(g,a);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollTop=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollTop=p(g))}}):null}),Nme=k.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=No(qa,t.__scopeScrollArea),[o,a]=k.useState(),c=k.useRef(null),d=Zt(e,c,s.onScrollbarXChange);return k.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(IB,{"data-orientation":"horizontal",...i,ref:d,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Vv(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,p)=>{if(s.viewport){const g=s.viewport.scrollLeft+f.deltaX;t.onWheelScroll(g),FB(g,p)&&f.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:qx(o.paddingLeft),paddingEnd:qx(o.paddingRight)}})}})}),Ame=k.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=No(qa,t.__scopeScrollArea),[o,a]=k.useState(),c=k.useRef(null),d=Zt(e,c,s.onScrollbarYChange);return k.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(IB,{"data-orientation":"vertical",...i,ref:d,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Vv(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,p)=>{if(s.viewport){const g=s.viewport.scrollTop+f.deltaY;t.onWheelScroll(g),FB(g,p)&&f.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:qx(o.paddingTop),paddingEnd:qx(o.paddingBottom)}})}})}),[jme,RB]=_B(qa),IB=k.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:f,onResize:p,...g}=t,m=No(qa,n),[v,x]=k.useState(null),T=Zt(e,W=>x(W)),_=k.useRef(null),j=k.useRef(""),w=m.viewport,F=r.content-r.viewport,z=ai(f),B=ai(c),H=Wv(p,10);function Y(W){if(_.current){const q=W.clientX-_.current.left,X=W.clientY-_.current.top;d({x:q,y:X})}}return k.useEffect(()=>{const W=q=>{const X=q.target;(v==null?void 0:v.contains(X))&&z(q,F)};return document.addEventListener("wheel",W,{passive:!1}),()=>document.removeEventListener("wheel",W,{passive:!1})},[w,v,F,z]),k.useEffect(B,[r,B]),uh(v,H),uh(m.content,H),l.jsx(jme,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:ai(s),onThumbPointerUp:ai(o),onThumbPositionChange:B,onThumbPointerDown:ai(a),children:l.jsx(vt.div,{...g,ref:T,style:{position:"absolute",...g.style},onPointerDown:Ue(t.onPointerDown,W=>{W.button===0&&(W.target.setPointerCapture(W.pointerId),_.current=v.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),Y(W))}),onPointerMove:Ue(t.onPointerMove,Y),onPointerUp:Ue(t.onPointerUp,W=>{const q=W.target;q.hasPointerCapture(W.pointerId)&&q.releasePointerCapture(W.pointerId),document.body.style.webkitUserSelect=j.current,m.viewport&&(m.viewport.style.scrollBehavior=""),_.current=null})})})}),Wx="ScrollAreaThumb",MB=k.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=RB(Wx,t.__scopeScrollArea);return l.jsx(Pi,{present:n||i.hasThumb,children:l.jsx(Pme,{ref:e,...r})})}),Pme=k.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=No(Wx,n),o=RB(Wx,n),{onThumbPositionChange:a}=o,c=Zt(e,p=>o.onThumbChange(p)),d=k.useRef(void 0),f=Wv(()=>{d.current&&(d.current(),d.current=void 0)},100);return k.useEffect(()=>{const p=s.viewport;if(p){const g=()=>{if(f(),!d.current){const m=Mme(p,a);d.current=m,a()}};return a(),p.addEventListener("scroll",g),()=>p.removeEventListener("scroll",g)}},[s.viewport,f,a]),l.jsx(vt.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ue(t.onPointerDownCapture,p=>{const m=p.target.getBoundingClientRect(),v=p.clientX-m.left,x=p.clientY-m.top;o.onThumbPointerDown({x:v,y:x})}),onPointerUp:Ue(t.onPointerUp,o.onThumbPointerUp)})});MB.displayName=Wx;var d_="ScrollAreaCorner",DB=k.forwardRef((t,e)=>{const n=No(d_,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(Rme,{...t,ref:e}):null});DB.displayName=d_;var Rme=k.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=No(d_,n),[s,o]=k.useState(0),[a,c]=k.useState(0),d=!!(s&&a);return uh(i.scrollbarX,()=>{var p;const f=((p=i.scrollbarX)==null?void 0:p.offsetHeight)||0;i.onCornerHeightChange(f),c(f)}),uh(i.scrollbarY,()=>{var p;const f=((p=i.scrollbarY)==null?void 0:p.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),d?l.jsx(vt.div,{...r,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function qx(t){return t?parseInt(t,10):0}function OB(t,e){const n=t/e;return isNaN(n)?0:n}function Vv(t){const e=OB(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Ime(t,e,n,r="ltr"){const i=Vv(n),s=i/2,o=e||s,a=i-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-a,f=n.content-n.viewport,p=r==="ltr"?[0,f]:[f*-1,0];return LB([c,d],p)(t)}function wM(t,e,n="ltr"){const r=Vv(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,c=n==="ltr"?[0,o]:[o*-1,0],d=eT(t,c);return LB([0,o],[0,a])(d)}function LB(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function FB(t,e){return t>0&&t<e}var Mme=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Wv(t,e){const n=ai(t),r=k.useRef(0);return k.useEffect(()=>()=>window.clearTimeout(r.current),[]),k.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function uh(t,e){const n=ai(e);Qr(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var Dme=EB,Ome=AB,Lme=DB;function Fme({className:t,children:e,...n}){return l.jsxs(Dme,{"data-slot":"scroll-area",className:nt("relative",t),...n,children:[l.jsx(Ome,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),l.jsx(zme,{}),l.jsx(Lme,{})]})}function zme({className:t,orientation:e="vertical",...n}){return l.jsx(jB,{"data-slot":"scroll-area-scrollbar",orientation:e,className:nt("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:l.jsx(MB,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var Bme="Separator",kM="horizontal",$me=["horizontal","vertical"],zB=k.forwardRef((t,e)=>{const{decorative:n,orientation:r=kM,...i}=t,s=Ume(r)?r:kM,a=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return l.jsx(vt.div,{"data-orientation":s,...a,...i,ref:e})});zB.displayName=Bme;function Ume(t){return $me.includes(t)}var Vme=zB;function Wme({className:t,orientation:e="horizontal",decorative:n=!0,...r}){return l.jsx(Vme,{"data-slot":"separator-root",decorative:n,orientation:e,className:nt("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...r})}const BB={sections:[{id:"getting-started",title:"Getting Started",icon:"Zap",subsections:[{id:"what-is-dropr",title:"What is Dropr?",content:[{type:"text",content:"Dropr is a provably fair asset distribution platform built on blockchain technology. It enables creators, project teams, and KOLs to distribute digital assets transparently and fairly."},{type:"text",content:"Using Chainlink VRF (Verifiable Random Function), Dropr ensures that all distribution events are truly random and verifiable on-chain, eliminating any possibility of manipulation."},{type:"image",src:"/images/docs/dropr-overview.png",alt:"Dropr Platform Overview",caption:"The Dropr platform interface showing active distribution events"},{type:"heading",level:3,content:"Key Features"},{type:"list",items:["Provably fair distribution using Chainlink VRF","Support for NFTs, tokens, and digital assets","Social media integration for community engagement","Transparent on-chain verification","Flexible distribution parameters"]}]},{id:"creating-first-distribution",title:"Creating Your First Distribution",content:[{type:"text",content:"Creating your first distribution event on Dropr is straightforward. Follow these steps to launch a provably fair distribution:"},{type:"heading",level:3,content:"Step 1: Connect Your Wallet"},{type:"text",content:"First, connect your Web3 wallet to the Dropr platform. Supported wallets include MetaMask, WalletConnect, and others."},{type:"image",src:"/images/docs/connect-wallet.png",alt:"Connect Wallet Interface",caption:'Click "Connect Wallet" in the top right corner'},{type:"heading",level:3,content:"Step 2: Configure Distribution Parameters"},{type:"text",content:"Set up your distribution parameters including prize details, ticket price, maximum participants, and duration."}]}]},{id:"guides",title:"Guides",icon:"BookOpen",subsections:[{id:"nft-distributions",title:"NFT Distribution Events",content:[{type:"text",content:"NFT distribution events are perfect for launching new collections, rewarding community members, or conducting fair mints."},{type:"heading",level:3,content:"Setting Up NFT Distribution"},{type:"text",content:"When creating an NFT distribution, you can configure:"},{type:"list",items:["Single NFT or collection distribution","Tiered rewards based on participation","Guaranteed mint for specific criteria","Random selection from qualified participants"]},{type:"image",src:"/images/docs/nft-setup.png",alt:"NFT Distribution Setup",caption:"Configure your NFT distribution parameters"}]},{id:"token-gating",title:"Token Gating",content:[{type:"text",content:"Token gating allows you to restrict participation to holders of specific tokens or NFTs."},{type:"heading",level:3,content:"Implementing Token Gates"},{type:"text",content:"To set up token gating:"},{type:"ordered-list",items:["Select the token contract address","Specify minimum holding requirements","Configure snapshot timing","Set up verification rules"]}]}]},{id:"developers",title:"Developers",icon:"Code",subsections:[{id:"smart-contracts",title:"Smart Contract Architecture",content:[{type:"text",content:"The Dropr protocol consists of several interconnected smart contracts that ensure fair and transparent distributions."},{type:"heading",level:3,content:"Core Contracts"},{type:"text",content:"The protocol includes the following main contracts:"},{type:"list",items:["ProtocolManager - Registry for all distribution events","Pool - Individual distribution contract","RevenueManager - Handles fee distribution","NFTFactory - Creates prize NFT contracts","SocialEngagementManager - Manages social tasks"]},{type:"image",src:"/images/docs/contract-architecture.png",alt:"Smart Contract Architecture",caption:"Overview of the Dropr smart contract system"}]},{id:"api-reference",title:"API Reference",content:[{type:"text",content:"The Dropr API provides programmatic access to platform features and data."},{type:"heading",level:3,content:"Authentication"},{type:"code",language:"javascript",code:`const API_KEY = 'your-api-key';
const headers = {
  'Authorization': \`Bearer \${API_KEY}\`,
  'Content-Type': 'application/json'
};`},{type:"heading",level:3,content:"Endpoints"},{type:"text",content:"Main API endpoints include:"},{type:"list",items:["GET /api/distributions - List all distributions","POST /api/distributions - Create new distribution","GET /api/distributions/{id} - Get distribution details","POST /api/distributions/{id}/enter - Enter distribution"]}]}]},{id:"security",title:"Security",icon:"Shield",subsections:[{id:"security-overview",title:"Security Overview",content:[{type:"text",content:"Security is paramount in the Dropr protocol. Multiple layers ensure the integrity and fairness of all distributions."},{type:"heading",level:3,content:"VRF Implementation"},{type:"text",content:"Chainlink VRF provides cryptographically provable randomness:"},{type:"ordered-list",items:["Request random number from Chainlink","Verify VRF proof on-chain","Use verified random number for selection","Log all steps for transparency"]},{type:"image",src:"/images/docs/vrf-flow.png",alt:"VRF Verification Flow",caption:"How Chainlink VRF ensures fair selection"}]},{id:"best-practices",title:"Best Practices",content:[{type:"text",content:"Follow these security best practices when creating distributions:"},{type:"heading",level:3,content:"For Creators"},{type:"list",items:["Never share your private keys","Use hardware wallets for large distributions","Verify all parameters before deployment","Test with small amounts first"]},{type:"heading",level:3,content:"For Participants"},{type:"list",items:["Only interact with official dropr.fun URLs","Verify distribution addresses on-chain","Be wary of phishing attempts","Keep your wallet secure"]}]}]}]},qme=(t,e)=>{const n=BB.sections.find(r=>r.id===t);return n?e?n.subsections.find(i=>i.id===e)||null:n:null},Hme={Zap:px,BookOpen:Kf,Code:ZY,Shield:Jo},Gme=()=>{const[t,e]=k.useState(""),[n,r]=k.useState(["getting-started"]),[i,s]=k.useState("getting-started"),[o,a]=k.useState("what-is-dropr"),[c,d]=k.useState(null),[f,p]=k.useState(!1),g=BB.sections.map(_=>({..._,subsections:_.subsections.filter(j=>j.title.toLowerCase().includes(t.toLowerCase())||j.content.some(w=>w.type==="text"&&w.content.toLowerCase().includes(t.toLowerCase())))})).filter(_=>_.subsections.length>0||t===""),m=_=>{r(j=>j.includes(_)?j.filter(w=>w!==_):[...j,_])},v=(_,j)=>{s(_),a(j),p(!1)},x=qme(i,o),T=({content:_})=>l.jsx("div",{className:"space-y-6",children:_.map((j,w)=>{switch(j.type){case"text":return l.jsx("p",{className:"text-foreground leading-relaxed",children:j.content},w);case"heading":const F=`h${j.level||2}`;return l.jsx(F,{className:nt("font-semibold mt-8 mb-4",j.level===2&&"text-2xl",j.level===3&&"text-xl",j.level===4&&"text-lg"),children:j.content},w);case"list":return l.jsx("ul",{className:"list-disc list-inside space-y-2 ml-4",children:j.items.map((z,B)=>l.jsx("li",{className:"text-foreground",children:z},B))},w);case"ordered-list":return l.jsx("ol",{className:"list-decimal list-inside space-y-2 ml-4",children:j.items.map((z,B)=>l.jsx("li",{className:"text-foreground",children:z},B))},w);case"image":return l.jsxs("div",{className:"my-8",children:[l.jsx("img",{src:j.src,alt:j.alt,className:"rounded-lg border border-border w-full max-w-3xl"}),j.caption&&l.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center italic",children:j.caption})]},w);case"code":return l.jsxs("div",{className:"relative",children:[l.jsx("pre",{className:"bg-muted border border-border rounded-lg p-4 overflow-x-auto text-sm",children:l.jsx("code",{className:j.language&&`language-${j.language}`,children:j.code})}),l.jsx(Ee,{variant:"ghost",size:"sm",className:"absolute top-2 right-2",onClick:()=>copyToClipboard(j.code,w),children:c===w?l.jsx(b6,{className:"h-4 w-4 text-green-500"}):l.jsx(eX,{className:"h-4 w-4"})})]},w);default:return null}})});return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("section",{className:"relative bg-gradient-to-b from-primary/5 via-background/50 to-background",children:l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs(ar.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center max-w-3xl mx-auto",children:[l.jsx(Qo,{className:"mb-3 bg-primary/10 text-primary border-primary/20",children:"Documentation"}),l.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-3 leading-tight bg-gradient-to-r from-foreground to-primary/60 bg-clip-text text-transparent",style:{lineHeight:"1.2"},children:"Dropr Documentation"}),l.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Comprehensive guides to help you build provably fair distributions"})]})})}),l.jsx("section",{className:"py-0",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"flex gap-8 lg:gap-12",children:[l.jsx("div",{className:"lg:hidden w-full mb-4",children:l.jsxs(Ee,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>p(!f),children:[f?l.jsx(bi,{className:"h-4 w-4"}):l.jsx(k6,{className:"h-4 w-4"}),f?"Hide Navigation":"Show Navigation"]})}),l.jsx(Wk,{children:(f||window.innerWidth>=1024)&&l.jsx(ar.aside,{initial:{x:-300,opacity:0},animate:{x:0,opacity:1},exit:{x:-300,opacity:0},transition:{duration:.3},className:nt("w-72 lg:w-80 flex-shrink-0","lg:block lg:relative lg:top-0","fixed left-4 right-4 top-20 bottom-4 z-40 lg:top-0 lg:bottom-auto",f?"block":"hidden lg:block"),children:l.jsxs(Xt,{className:"h-full lg:h-[calc(100vh-8rem)]",children:[l.jsx(ds,{className:"pb-3",children:l.jsxs("div",{className:"relative",children:[l.jsx(Na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Qf,{placeholder:"Search docs...",value:t,onChange:_=>e(_.target.value),className:"pl-10"})]})}),l.jsx(Jt,{className:"p-0",children:l.jsx(Fme,{className:"h-[calc(100%-4rem)] lg:h-[calc(100%-4rem)]",children:l.jsx("nav",{className:"p-3 space-y-1",children:g.map(_=>l.jsxs("div",{children:[l.jsxs(Ee,{variant:"ghost",className:"w-full justify-between p-2 h-auto font-semibold text-sm",onClick:()=>m(_.id),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[ke.createElement(Hme[_.icon],{className:"h-4 w-4"}),_.title]}),n.includes(_.id)?l.jsx(ra,{className:"h-4 w-4"}):l.jsx(QY,{className:"h-4 w-4"})]}),n.includes(_.id)&&l.jsx("div",{className:"ml-6 mt-1 space-y-1",children:_.subsections.map(j=>l.jsx(Ee,{variant:"ghost",className:nt("w-full justify-start p-2 h-auto text-xs",i===_.id&&o===j.id&&"bg-primary/10 text-primary font-medium"),onClick:()=>v(_.id,j.id),children:j.title},j.id))}),l.jsx(Wme,{className:"my-2"})]},_.id))})})})]})})}),l.jsx("div",{className:"flex-1 min-w-0 pl-4 lg:pl-6",children:x?l.jsxs(ar.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-4xl",children:[l.jsx("div",{className:"mb-8",children:l.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:x.title})}),l.jsx(T,{content:x.content})]}):l.jsx("div",{className:"flex items-center justify-center h-64 text-muted-foreground",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Kf,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Select a section from the sidebar to view documentation"})]})})})]})})})]})},Kme=()=>{const{isMobile:t,isInitialized:e}=gr(),{component:n}=Fne();return k.useEffect(()=>{Bne();const r=Une();return()=>{$ne(),r&&r()}},[]),e?l.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[l.jsx(mne,{}),l.jsx("main",{className:"flex-1 min-h-0 pt-20 pb-8",children:l.jsxs(mU,{children:[l.jsx(Fo,{path:"/",element:l.jsx(Gue,{})}),l.jsx(Fo,{path:"/app",element:l.jsx(ade,{})}),l.jsx(Fo,{path:"/docs",element:l.jsx(Gme,{})}),l.jsx(Fo,{path:"/profile",element:l.jsx(Ide,{})}),l.jsx(Fo,{path:"/create-raffle",element:l.jsx(pfe,{})}),l.jsx(Fo,{path:"/raffle/:raffleAddress",element:l.jsx(bM,{})}),l.jsx(Fo,{path:"/:chainSlug/raffle/:raffleAddress",element:l.jsx(bM,{})}),l.jsx(Fo,{path:"/auth/callback/twitter",element:l.jsx(xk,{})}),l.jsx(Fo,{path:"/auth/callback/discord",element:l.jsx(xk,{})}),l.jsx(Fo,{path:"/auth/callback/telegram",element:l.jsx(xk,{})})]})}),l.jsx(Dne,{}),l.jsx(HW,{}),n]}):l.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold mb-2",style:{fontFamily:"Orbitron, monospace"},children:"Dropr"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading..."})]})})};function Yme(){return l.jsx(One,{children:l.jsx(cq,{children:l.jsx(Q9,{children:l.jsx(lq,{children:l.jsx(uq,{children:l.jsx(TU,{children:l.jsx(Kme,{})})})})})})})}const Xme=console.error;console.error=(...t)=>{const e=t.join(" ");e.includes("Invalid Sentry Dsn")||e.includes("Sentry")||Xme.apply(console,t)};console.log("main.jsx is executing...");const pS=document.getElementById("root");console.log("Root element found:",pS);if(pS){const t=S$.createRoot(pS);console.log("React root created"),t.render(l.jsx(Yme,{})),console.log("React app rendered")}else console.error("Root element not found!");

var O8=Object.defineProperty;var L8=(t,e,r)=>e in t?O8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var _y=(t,e,r)=>L8(t,typeof e!="symbol"?e+"":e,r);function lM(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var F8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function El(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function aC(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var hw={exports:{}},op={},pw={exports:{}},Qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uN;function z8(){if(uN)return Qt;uN=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(D){return D===null||typeof D!="object"?null:(D=p&&D[p]||D["@@iterator"],typeof D=="function"?D:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,x={};function w(D,E,M){this.props=D,this.context=E,this.refs=x,this.updater=M||m}w.prototype.isReactComponent={},w.prototype.setState=function(D,E){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,E,"setState")},w.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function T(){}T.prototype=w.prototype;function j(D,E,M){this.props=D,this.context=E,this.refs=x,this.updater=M||m}var P=j.prototype=new T;P.constructor=j,v(P,w.prototype),P.isPureReactComponent=!0;var S=Array.isArray,B=Object.prototype.hasOwnProperty,$={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function G(D,E,M){var Z,z={},K=null,Y=null;if(E!=null)for(Z in E.ref!==void 0&&(Y=E.ref),E.key!==void 0&&(K=""+E.key),E)B.call(E,Z)&&!W.hasOwnProperty(Z)&&(z[Z]=E[Z]);var Q=arguments.length-2;if(Q===1)z.children=M;else if(1<Q){for(var ee=Array(Q),ae=0;ae<Q;ae++)ee[ae]=arguments[ae+2];z.children=ee}if(D&&D.defaultProps)for(Z in Q=D.defaultProps,Q)z[Z]===void 0&&(z[Z]=Q[Z]);return{$$typeof:t,type:D,key:K,ref:Y,props:z,_owner:$.current}}function q(D,E){return{$$typeof:t,type:D.type,key:E,ref:D.ref,props:D.props,_owner:D._owner}}function H(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function J(D){var E={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(M){return E[M]})}var V=/\/+/g;function F(D,E){return typeof D=="object"&&D!==null&&D.key!=null?J(""+D.key):E.toString(36)}function b(D,E,M,Z,z){var K=typeof D;(K==="undefined"||K==="boolean")&&(D=null);var Y=!1;if(D===null)Y=!0;else switch(K){case"string":case"number":Y=!0;break;case"object":switch(D.$$typeof){case t:case e:Y=!0}}if(Y)return Y=D,z=z(Y),D=Z===""?"."+F(Y,0):Z,S(z)?(M="",D!=null&&(M=D.replace(V,"$&/")+"/"),b(z,E,M,"",function(ae){return ae})):z!=null&&(H(z)&&(z=q(z,M+(!z.key||Y&&Y.key===z.key?"":(""+z.key).replace(V,"$&/")+"/")+D)),E.push(z)),1;if(Y=0,Z=Z===""?".":Z+":",S(D))for(var Q=0;Q<D.length;Q++){K=D[Q];var ee=Z+F(K,Q);Y+=b(K,E,M,ee,z)}else if(ee=g(D),typeof ee=="function")for(D=ee.call(D),Q=0;!(K=D.next()).done;)K=K.value,ee=Z+F(K,Q++),Y+=b(K,E,M,ee,z);else if(K==="object")throw E=String(D),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.");return Y}function A(D,E,M){if(D==null)return D;var Z=[],z=0;return b(D,Z,"","",function(K){return E.call(M,K,z++)}),Z}function O(D){if(D._status===-1){var E=D._result;E=E(),E.then(function(M){(D._status===0||D._status===-1)&&(D._status=1,D._result=M)},function(M){(D._status===0||D._status===-1)&&(D._status=2,D._result=M)}),D._status===-1&&(D._status=0,D._result=E)}if(D._status===1)return D._result.default;throw D._result}var R={current:null},k={transition:null},I={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:k,ReactCurrentOwner:$};function N(){throw Error("act(...) is not supported in production builds of React.")}return Qt.Children={map:A,forEach:function(D,E,M){A(D,function(){E.apply(this,arguments)},M)},count:function(D){var E=0;return A(D,function(){E++}),E},toArray:function(D){return A(D,function(E){return E})||[]},only:function(D){if(!H(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Qt.Component=w,Qt.Fragment=r,Qt.Profiler=i,Qt.PureComponent=j,Qt.StrictMode=n,Qt.Suspense=c,Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,Qt.act=N,Qt.cloneElement=function(D,E,M){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var Z=v({},D.props),z=D.key,K=D.ref,Y=D._owner;if(E!=null){if(E.ref!==void 0&&(K=E.ref,Y=$.current),E.key!==void 0&&(z=""+E.key),D.type&&D.type.defaultProps)var Q=D.type.defaultProps;for(ee in E)B.call(E,ee)&&!W.hasOwnProperty(ee)&&(Z[ee]=E[ee]===void 0&&Q!==void 0?Q[ee]:E[ee])}var ee=arguments.length-2;if(ee===1)Z.children=M;else if(1<ee){Q=Array(ee);for(var ae=0;ae<ee;ae++)Q[ae]=arguments[ae+2];Z.children=Q}return{$$typeof:t,type:D.type,key:z,ref:K,props:Z,_owner:Y}},Qt.createContext=function(D){return D={$$typeof:o,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:s,_context:D},D.Consumer=D},Qt.createElement=G,Qt.createFactory=function(D){var E=G.bind(null,D);return E.type=D,E},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(D){return{$$typeof:a,render:D}},Qt.isValidElement=H,Qt.lazy=function(D){return{$$typeof:f,_payload:{_status:-1,_result:D},_init:O}},Qt.memo=function(D,E){return{$$typeof:d,type:D,compare:E===void 0?null:E}},Qt.startTransition=function(D){var E=k.transition;k.transition={};try{D()}finally{k.transition=E}},Qt.unstable_act=N,Qt.useCallback=function(D,E){return R.current.useCallback(D,E)},Qt.useContext=function(D){return R.current.useContext(D)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(D){return R.current.useDeferredValue(D)},Qt.useEffect=function(D,E){return R.current.useEffect(D,E)},Qt.useId=function(){return R.current.useId()},Qt.useImperativeHandle=function(D,E,M){return R.current.useImperativeHandle(D,E,M)},Qt.useInsertionEffect=function(D,E){return R.current.useInsertionEffect(D,E)},Qt.useLayoutEffect=function(D,E){return R.current.useLayoutEffect(D,E)},Qt.useMemo=function(D,E){return R.current.useMemo(D,E)},Qt.useReducer=function(D,E,M){return R.current.useReducer(D,E,M)},Qt.useRef=function(D){return R.current.useRef(D)},Qt.useState=function(D){return R.current.useState(D)},Qt.useSyncExternalStore=function(D,E,M){return R.current.useSyncExternalStore(D,E,M)},Qt.useTransition=function(){return R.current.useTransition()},Qt.version="18.3.1",Qt}var dN;function lC(){return dN||(dN=1,pw.exports=z8()),pw.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fN;function B8(){if(fN)return op;fN=1;var t=lC(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,d){var f,p={},g=null,m=null;d!==void 0&&(g=""+d),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(m=c.ref);for(f in c)n.call(c,f)&&!s.hasOwnProperty(f)&&(p[f]=c[f]);if(a&&a.defaultProps)for(f in c=a.defaultProps,c)p[f]===void 0&&(p[f]=c[f]);return{$$typeof:e,type:a,key:g,ref:m,props:p,_owner:i.current}}return op.Fragment=r,op.jsx=o,op.jsxs=o,op}var hN;function $8(){return hN||(hN=1,hw.exports=B8()),hw.exports}var l=$8(),C=lC();const ve=El(C),cC=lM({__proto__:null,default:ve},[C]);var Cy={},mw={exports:{}},os={},gw={exports:{}},yw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pN;function U8(){return pN||(pN=1,function(t){function e(k,I){var N=k.length;k.push(I);e:for(;0<N;){var D=N-1>>>1,E=k[D];if(0<i(E,I))k[D]=I,k[N]=E,N=D;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var I=k[0],N=k.pop();if(N!==I){k[0]=N;e:for(var D=0,E=k.length,M=E>>>1;D<M;){var Z=2*(D+1)-1,z=k[Z],K=Z+1,Y=k[K];if(0>i(z,N))K<E&&0>i(Y,z)?(k[D]=Y,k[K]=N,D=K):(k[D]=z,k[Z]=N,D=Z);else if(K<E&&0>i(Y,N))k[D]=Y,k[K]=N,D=K;else break e}}return I}function i(k,I){var N=k.sortIndex-I.sortIndex;return N!==0?N:k.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],f=1,p=null,g=3,m=!1,v=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(k){for(var I=r(d);I!==null;){if(I.callback===null)n(d);else if(I.startTime<=k)n(d),I.sortIndex=I.expirationTime,e(c,I);else break;I=r(d)}}function S(k){if(x=!1,P(k),!v)if(r(c)!==null)v=!0,O(B);else{var I=r(d);I!==null&&R(S,I.startTime-k)}}function B(k,I){v=!1,x&&(x=!1,T(G),G=-1),m=!0;var N=g;try{for(P(I),p=r(c);p!==null&&(!(p.expirationTime>I)||k&&!J());){var D=p.callback;if(typeof D=="function"){p.callback=null,g=p.priorityLevel;var E=D(p.expirationTime<=I);I=t.unstable_now(),typeof E=="function"?p.callback=E:p===r(c)&&n(c),P(I)}else n(c);p=r(c)}if(p!==null)var M=!0;else{var Z=r(d);Z!==null&&R(S,Z.startTime-I),M=!1}return M}finally{p=null,g=N,m=!1}}var $=!1,W=null,G=-1,q=5,H=-1;function J(){return!(t.unstable_now()-H<q)}function V(){if(W!==null){var k=t.unstable_now();H=k;var I=!0;try{I=W(!0,k)}finally{I?F():($=!1,W=null)}}else $=!1}var F;if(typeof j=="function")F=function(){j(V)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,A=b.port2;b.port1.onmessage=V,F=function(){A.postMessage(null)}}else F=function(){w(V,0)};function O(k){W=k,$||($=!0,F())}function R(k,I){G=w(function(){k(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,O(B))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(k){switch(g){case 1:case 2:case 3:var I=3;break;default:I=g}var N=g;g=I;try{return k()}finally{g=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,I){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var N=g;g=k;try{return I()}finally{g=N}},t.unstable_scheduleCallback=function(k,I,N){var D=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?D+N:D):N=D,k){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=N+E,k={id:f++,callback:I,priorityLevel:k,startTime:N,expirationTime:E,sortIndex:-1},N>D?(k.sortIndex=N,e(d,k),r(c)===null&&k===r(d)&&(x?(T(G),G=-1):x=!0,R(S,N-D))):(k.sortIndex=E,e(c,k),v||m||(v=!0,O(B))),k},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(k){var I=g;return function(){var N=g;g=I;try{return k.apply(this,arguments)}finally{g=N}}}}(yw)),yw}var mN;function V8(){return mN||(mN=1,gw.exports=U8()),gw.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gN;function W8(){if(gN)return os;gN=1;var t=lC(),e=V8();function r(u){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+u,y=1;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(u,h){o(u,h),o(u+"Capture",h)}function o(u,h){for(i[u]=h,u=0;u<h.length;u++)n.add(h[u])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(u){return c.call(p,u)?!0:c.call(f,u)?!1:d.test(u)?p[u]=!0:(f[u]=!0,!1)}function m(u,h,y,_){if(y!==null&&y.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return _?!1:y!==null?!y.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function v(u,h,y,_){if(h===null||typeof h>"u"||m(u,h,y,_))return!0;if(_)return!1;if(y!==null)switch(y.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function x(u,h,y,_,L,U,X){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=_,this.attributeNamespace=L,this.mustUseProperty=y,this.propertyName=u,this.type=h,this.sanitizeURL=U,this.removeEmptyString=X}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){w[u]=new x(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var h=u[0];w[h]=new x(h,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){w[u]=new x(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){w[u]=new x(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){w[u]=new x(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){w[u]=new x(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){w[u]=new x(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){w[u]=new x(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){w[u]=new x(u,5,!1,u.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function j(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var h=u.replace(T,j);w[h]=new x(h,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var h=u.replace(T,j);w[h]=new x(h,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var h=u.replace(T,j);w[h]=new x(h,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){w[u]=new x(u,1,!1,u.toLowerCase(),null,!1,!1)}),w.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){w[u]=new x(u,1,!1,u.toLowerCase(),null,!0,!0)});function P(u,h,y,_){var L=w.hasOwnProperty(h)?w[h]:null;(L!==null?L.type!==0:_||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(v(h,y,L,_)&&(y=null),_||L===null?g(h)&&(y===null?u.removeAttribute(h):u.setAttribute(h,""+y)):L.mustUseProperty?u[L.propertyName]=y===null?L.type===3?!1:"":y:(h=L.attributeName,_=L.attributeNamespace,y===null?u.removeAttribute(h):(L=L.type,y=L===3||L===4&&y===!0?"":""+y,_?u.setAttributeNS(_,h,y):u.setAttribute(h,y))))}var S=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),$=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),J=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),k=Symbol.iterator;function I(u){return u===null||typeof u!="object"?null:(u=k&&u[k]||u["@@iterator"],typeof u=="function"?u:null)}var N=Object.assign,D;function E(u){if(D===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);D=h&&h[1]||""}return`
`+D+u}var M=!1;function Z(u,h){if(!u||M)return"";M=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(ge){var _=ge}Reflect.construct(u,[],h)}else{try{h.call()}catch(ge){_=ge}u.call(h.prototype)}else{try{throw Error()}catch(ge){_=ge}u()}}catch(ge){if(ge&&_&&typeof ge.stack=="string"){for(var L=ge.stack.split(`
`),U=_.stack.split(`
`),X=L.length-1,re=U.length-1;1<=X&&0<=re&&L[X]!==U[re];)re--;for(;1<=X&&0<=re;X--,re--)if(L[X]!==U[re]){if(X!==1||re!==1)do if(X--,re--,0>re||L[X]!==U[re]){var ie=`
`+L[X].replace(" at new "," at ");return u.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",u.displayName)),ie}while(1<=X&&0<=re);break}}}finally{M=!1,Error.prepareStackTrace=y}return(u=u?u.displayName||u.name:"")?E(u):""}function z(u){switch(u.tag){case 5:return E(u.type);case 16:return E("Lazy");case 13:return E("Suspense");case 19:return E("SuspenseList");case 0:case 2:case 15:return u=Z(u.type,!1),u;case 11:return u=Z(u.type.render,!1),u;case 1:return u=Z(u.type,!0),u;default:return""}}function K(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case W:return"Fragment";case $:return"Portal";case q:return"Profiler";case G:return"StrictMode";case F:return"Suspense";case b:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case J:return(u.displayName||"Context")+".Consumer";case H:return(u._context.displayName||"Context")+".Provider";case V:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case A:return h=u.displayName||null,h!==null?h:K(u.type)||"Memo";case O:h=u._payload,u=u._init;try{return K(u(h))}catch{}}return null}function Y(u){var h=u.type;switch(u.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=h.render,u=u.displayName||u.name||"",h.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K(h);case 8:return h===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function Q(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function ee(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function ae(u){var h=ee(u)?"checked":"value",y=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),_=""+u[h];if(!u.hasOwnProperty(h)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var L=y.get,U=y.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return L.call(this)},set:function(X){_=""+X,U.call(this,X)}}),Object.defineProperty(u,h,{enumerable:y.enumerable}),{getValue:function(){return _},setValue:function(X){_=""+X},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function ne(u){u._valueTracker||(u._valueTracker=ae(u))}function de(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var y=h.getValue(),_="";return u&&(_=ee(u)?u.checked?"true":"false":u.value),u=_,u!==y?(h.setValue(u),!0):!1}function xe(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function me(u,h){var y=h.checked;return N({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??u._wrapperState.initialChecked})}function _e(u,h){var y=h.defaultValue==null?"":h.defaultValue,_=h.checked!=null?h.checked:h.defaultChecked;y=Q(h.value!=null?h.value:y),u._wrapperState={initialChecked:_,initialValue:y,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function Xe(u,h){h=h.checked,h!=null&&P(u,"checked",h,!1)}function le(u,h){Xe(u,h);var y=Q(h.value),_=h.type;if(y!=null)_==="number"?(y===0&&u.value===""||u.value!=y)&&(u.value=""+y):u.value!==""+y&&(u.value=""+y);else if(_==="submit"||_==="reset"){u.removeAttribute("value");return}h.hasOwnProperty("value")?jt(u,h.type,y):h.hasOwnProperty("defaultValue")&&jt(u,h.type,Q(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(u.defaultChecked=!!h.defaultChecked)}function Ye(u,h,y){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var _=h.type;if(!(_!=="submit"&&_!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+u._wrapperState.initialValue,y||h===u.value||(u.value=h),u.defaultValue=h}y=u.name,y!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,y!==""&&(u.name=y)}function jt(u,h,y){(h!=="number"||xe(u.ownerDocument)!==u)&&(y==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+y&&(u.defaultValue=""+y))}var st=Array.isArray;function De(u,h,y,_){if(u=u.options,h){h={};for(var L=0;L<y.length;L++)h["$"+y[L]]=!0;for(y=0;y<u.length;y++)L=h.hasOwnProperty("$"+u[y].value),u[y].selected!==L&&(u[y].selected=L),L&&_&&(u[y].defaultSelected=!0)}else{for(y=""+Q(y),h=null,L=0;L<u.length;L++){if(u[L].value===y){u[L].selected=!0,_&&(u[L].defaultSelected=!0);return}h!==null||u[L].disabled||(h=u[L])}h!==null&&(h.selected=!0)}}function Jt(u,h){if(h.dangerouslySetInnerHTML!=null)throw Error(r(91));return N({},h,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function ot(u,h){var y=h.value;if(y==null){if(y=h.children,h=h.defaultValue,y!=null){if(h!=null)throw Error(r(92));if(st(y)){if(1<y.length)throw Error(r(93));y=y[0]}h=y}h==null&&(h=""),y=h}u._wrapperState={initialValue:Q(y)}}function ht(u,h){var y=Q(h.value),_=Q(h.defaultValue);y!=null&&(y=""+y,y!==u.value&&(u.value=y),h.defaultValue==null&&u.defaultValue!==y&&(u.defaultValue=y)),_!=null&&(u.defaultValue=""+_)}function Ie(u){var h=u.textContent;h===u._wrapperState.initialValue&&h!==""&&h!==null&&(u.value=h)}function se(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(u,h){return u==null||u==="http://www.w3.org/1999/xhtml"?se(h):u==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var Le,Ae=function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,y,_,L){MSApp.execUnsafeLocalFunction(function(){return u(h,y,_,L)})}:u}(function(u,h){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=h;else{for(Le=Le||document.createElement("div"),Le.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Le.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;h.firstChild;)u.appendChild(h.firstChild)}});function Me(u,h){if(h){var y=u.firstChild;if(y&&y===u.lastChild&&y.nodeType===3){y.nodeValue=h;return}}u.textContent=h}var Gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qe=["Webkit","ms","Moz","O"];Object.keys(Gt).forEach(function(u){Qe.forEach(function(h){h=h+u.charAt(0).toUpperCase()+u.substring(1),Gt[h]=Gt[u]})});function _t(u,h,y){return h==null||typeof h=="boolean"||h===""?"":y||typeof h!="number"||h===0||Gt.hasOwnProperty(u)&&Gt[u]?(""+h).trim():h+"px"}function Wt(u,h){u=u.style;for(var y in h)if(h.hasOwnProperty(y)){var _=y.indexOf("--")===0,L=_t(y,h[y],_);y==="float"&&(y="cssFloat"),_?u.setProperty(y,L):u[y]=L}}var Ct=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nt(u,h){if(h){if(Ct[u]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(r(137,u));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(r(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(r(61))}if(h.style!=null&&typeof h.style!="object")throw Error(r(62))}}function Xt(u,h){if(u.indexOf("-")===-1)return typeof h.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=null;function Fe(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Vr=null,Tt=null,St=null;function pr(u){if(u=qh(u)){if(typeof Vr!="function")throw Error(r(280));var h=u.stateNode;h&&(h=Fg(h),Vr(u.stateNode,u.type,h))}}function qt(u){Tt?St?St.push(u):St=[u]:Tt=u}function Pe(){if(Tt){var u=Tt,h=St;if(St=Tt=null,pr(u),h)for(u=0;u<h.length;u++)pr(h[u])}}function yt(u,h){return u(h)}function at(){}var Re=!1;function Be(u,h,y){if(Re)return u(h,y);Re=!0;try{return yt(u,h,y)}finally{Re=!1,(Tt!==null||St!==null)&&(at(),Pe())}}function ze(u,h){var y=u.stateNode;if(y===null)return null;var _=Fg(y);if(_===null)return null;y=_[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(u=u.type,_=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!_;break e;default:u=!1}if(u)return null;if(y&&typeof y!="function")throw Error(r(231,h,typeof y));return y}var we=!1;if(a)try{var Ue={};Object.defineProperty(Ue,"passive",{get:function(){we=!0}}),window.addEventListener("test",Ue,Ue),window.removeEventListener("test",Ue,Ue)}catch{we=!1}function Te(u,h,y,_,L,U,X,re,ie){var ge=Array.prototype.slice.call(arguments,3);try{h.apply(y,ge)}catch(Se){this.onError(Se)}}var Oe=!1,mr=null,Ge=!1,pt=null,Nr={onError:function(u){Oe=!0,mr=u}};function vt(u,h,y,_,L,U,X,re,ie){Oe=!1,mr=null,Te.apply(Nr,arguments)}function mt(u,h,y,_,L,U,X,re,ie){if(vt.apply(this,arguments),Oe){if(Oe){var ge=mr;Oe=!1,mr=null}else throw Error(r(198));Ge||(Ge=!0,pt=ge)}}function Ot(u){var h=u,y=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(y=h.return),u=h.return;while(u)}return h.tag===3?y:null}function zt(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function gt(u){if(Ot(u)!==u)throw Error(r(188))}function Mr(u){var h=u.alternate;if(!h){if(h=Ot(u),h===null)throw Error(r(188));return h!==u?null:u}for(var y=u,_=h;;){var L=y.return;if(L===null)break;var U=L.alternate;if(U===null){if(_=L.return,_!==null){y=_;continue}break}if(L.child===U.child){for(U=L.child;U;){if(U===y)return gt(L),u;if(U===_)return gt(L),h;U=U.sibling}throw Error(r(188))}if(y.return!==_.return)y=L,_=U;else{for(var X=!1,re=L.child;re;){if(re===y){X=!0,y=L,_=U;break}if(re===_){X=!0,_=L,y=U;break}re=re.sibling}if(!X){for(re=U.child;re;){if(re===y){X=!0,y=U,_=L;break}if(re===_){X=!0,_=U,y=L;break}re=re.sibling}if(!X)throw Error(r(189))}}if(y.alternate!==_)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?u:h}function Gr(u){return u=Mr(u),u!==null?vr(u):null}function vr(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var h=vr(u);if(h!==null)return h;u=u.sibling}return null}var kr=e.unstable_scheduleCallback,_r=e.unstable_cancelCallback,Di=e.unstable_shouldYield,Qi=e.unstable_requestPaint,Lt=e.unstable_now,Er=e.unstable_getCurrentPriorityLevel,zn=e.unstable_ImmediatePriority,To=e.unstable_UserBlockingPriority,hi=e.unstable_NormalPriority,pi=e.unstable_LowPriority,Zr=e.unstable_IdlePriority,Hn=null,mn=null;function mi(u){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Hn,u,void 0,(u.current.flags&128)===128)}catch{}}var ri=Math.clz32?Math.clz32:Bv,Vc=Math.log,zv=Math.LN2;function Bv(u){return u>>>=0,u===0?32:31-(Vc(u)/zv|0)|0}var wd=64,kd=4194304;function aa(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Wc(u,h){var y=u.pendingLanes;if(y===0)return 0;var _=0,L=u.suspendedLanes,U=u.pingedLanes,X=y&268435455;if(X!==0){var re=X&~L;re!==0?_=aa(re):(U&=X,U!==0&&(_=aa(U)))}else X=y&~L,X!==0?_=aa(X):U!==0&&(_=aa(U));if(_===0)return 0;if(h!==0&&h!==_&&(h&L)===0&&(L=_&-_,U=h&-h,L>=U||L===16&&(U&4194240)!==0))return h;if((_&4)!==0&&(_|=y&16),h=u.entangledLanes,h!==0)for(u=u.entanglements,h&=_;0<h;)y=31-ri(h),L=1<<y,_|=u[y],h&=~L;return _}function Cg(u,h){switch(u){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sg(u,h){for(var y=u.suspendedLanes,_=u.pingedLanes,L=u.expirationTimes,U=u.pendingLanes;0<U;){var X=31-ri(U),re=1<<X,ie=L[X];ie===-1?((re&y)===0||(re&_)!==0)&&(L[X]=Cg(re,h)):ie<=h&&(u.expiredLanes|=re),U&=~re}}function _d(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function be(){var u=wd;return wd<<=1,(wd&4194240)===0&&(wd=64),u}function ye(u){for(var h=[],y=0;31>y;y++)h.push(u);return h}function Ve(u,h,y){u.pendingLanes|=h,h!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,h=31-ri(h),u[h]=y}function Bt(u,h){var y=u.pendingLanes&~h;u.pendingLanes=h,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=h,u.mutableReadLanes&=h,u.entangledLanes&=h,h=u.entanglements;var _=u.eventTimes;for(u=u.expirationTimes;0<y;){var L=31-ri(y),U=1<<L;h[L]=0,_[L]=-1,u[L]=-1,y&=~U}}function or(u,h){var y=u.entangledLanes|=h;for(u=u.entanglements;y;){var _=31-ri(y),L=1<<_;L&h|u[_]&h&&(u[_]|=h),y&=~L}}var Nt=0;function En(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var Zi,No,ni,bs,jh,ar=!1,Cd=[],Ao=null,jo=null,la=null,qc=new Map,Hc=new Map,ca=[],$v="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Eg(u,h){switch(u){case"focusin":case"focusout":Ao=null;break;case"dragenter":case"dragleave":jo=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":qc.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hc.delete(h.pointerId)}}function Gc(u,h,y,_,L,U){return u===null||u.nativeEvent!==U?(u={blockedOn:h,domEventName:y,eventSystemFlags:_,nativeEvent:U,targetContainers:[L]},h!==null&&(h=qh(h),h!==null&&No(h)),u):(u.eventSystemFlags|=_,h=u.targetContainers,L!==null&&h.indexOf(L)===-1&&h.push(L),u)}function Uv(u,h,y,_,L){switch(h){case"focusin":return Ao=Gc(Ao,u,h,y,_,L),!0;case"dragenter":return jo=Gc(jo,u,h,y,_,L),!0;case"mouseover":return la=Gc(la,u,h,y,_,L),!0;case"pointerover":var U=L.pointerId;return qc.set(U,Gc(qc.get(U)||null,u,h,y,_,L)),!0;case"gotpointercapture":return U=L.pointerId,Hc.set(U,Gc(Hc.get(U)||null,u,h,y,_,L)),!0}return!1}function Tg(u){var h=Zc(u.target);if(h!==null){var y=Ot(h);if(y!==null){if(h=y.tag,h===13){if(h=zt(y),h!==null){u.blockedOn=h,jh(u.priority,function(){ni(y)});return}}else if(h===3&&y.stateNode.current.memoizedState.isDehydrated){u.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Ha(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var y=Mh(u.domEventName,u.eventSystemFlags,h[0],u.nativeEvent);if(y===null){y=u.nativeEvent;var _=new y.constructor(y.type,y);xt=_,y.target.dispatchEvent(_),xt=null}else return h=qh(y),h!==null&&No(h),u.blockedOn=y,!1;h.shift()}return!0}function Ph(u,h,y){Ha(u)&&y.delete(h)}function Ng(){ar=!1,Ao!==null&&Ha(Ao)&&(Ao=null),jo!==null&&Ha(jo)&&(jo=null),la!==null&&Ha(la)&&(la=null),qc.forEach(Ph),Hc.forEach(Ph)}function Kc(u,h){u.blockedOn===h&&(u.blockedOn=null,ar||(ar=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ng)))}function Yc(u){function h(L){return Kc(L,u)}if(0<Cd.length){Kc(Cd[0],u);for(var y=1;y<Cd.length;y++){var _=Cd[y];_.blockedOn===u&&(_.blockedOn=null)}}for(Ao!==null&&Kc(Ao,u),jo!==null&&Kc(jo,u),la!==null&&Kc(la,u),qc.forEach(h),Hc.forEach(h),y=0;y<ca.length;y++)_=ca[y],_.blockedOn===u&&(_.blockedOn=null);for(;0<ca.length&&(y=ca[0],y.blockedOn===null);)Tg(y),y.blockedOn===null&&ca.shift()}var ua=S.ReactCurrentBatchConfig,Sd=!0;function Vv(u,h,y,_){var L=Nt,U=ua.transition;ua.transition=null;try{Nt=1,Rh(u,h,y,_)}finally{Nt=L,ua.transition=U}}function Wv(u,h,y,_){var L=Nt,U=ua.transition;ua.transition=null;try{Nt=4,Rh(u,h,y,_)}finally{Nt=L,ua.transition=U}}function Rh(u,h,y,_){if(Sd){var L=Mh(u,h,y,_);if(L===null)nb(u,h,_,Ih,y),Eg(u,_);else if(Uv(L,u,h,y,_))_.stopPropagation();else if(Eg(u,_),h&4&&-1<$v.indexOf(u)){for(;L!==null;){var U=qh(L);if(U!==null&&Zi(U),U=Mh(u,h,y,_),U===null&&nb(u,h,_,Ih,y),U===L)break;L=U}L!==null&&_.stopPropagation()}else nb(u,h,_,null,y)}}var Ih=null;function Mh(u,h,y,_){if(Ih=null,u=Fe(_),u=Zc(u),u!==null)if(h=Ot(u),h===null)u=null;else if(y=h.tag,y===13){if(u=zt(h),u!==null)return u;u=null}else if(y===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null);return Ih=u,null}function Dh(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Er()){case zn:return 1;case To:return 4;case hi:case pi:return 16;case Zr:return 536870912;default:return 16}default:return 16}}var ws=null,Dl=null,da=null;function Ag(){if(da)return da;var u,h=Dl,y=h.length,_,L="value"in ws?ws.value:ws.textContent,U=L.length;for(u=0;u<y&&h[u]===L[u];u++);var X=y-u;for(_=1;_<=X&&h[y-_]===L[U-_];_++);return da=L.slice(u,1<_?1-_:void 0)}function Ed(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function Ga(){return!0}function Jc(){return!1}function gi(u){function h(y,_,L,U,X){this._reactName=y,this._targetInst=L,this.type=_,this.nativeEvent=U,this.target=X,this.currentTarget=null;for(var re in u)u.hasOwnProperty(re)&&(y=u[re],this[re]=y?y(U):U[re]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?Ga:Jc,this.isPropagationStopped=Jc,this}return N(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Ga)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Ga)},persist:function(){},isPersistent:Ga}),h}var Xc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jg=gi(Xc),Qc=N({},Xc,{view:0,detail:0}),fa=gi(Qc),Oi,Td,Dr,es=N({},Qc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hv,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Dr&&(Dr&&u.type==="mousemove"?(Oi=u.screenX-Dr.screenX,Td=u.screenY-Dr.screenY):Td=Oi=0,Dr=u),Oi)},movementY:function(u){return"movementY"in u?u.movementY:Td}}),Ol=gi(es),uB=N({},es,{dataTransfer:0}),dB=gi(uB),fB=N({},Qc,{relatedTarget:0}),qv=gi(fB),hB=N({},Xc,{animationName:0,elapsedTime:0,pseudoElement:0}),pB=gi(hB),mB=N({},Xc,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),gB=gi(mB),yB=N({},Xc,{data:0}),eE=gi(yB),xB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wB(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=bB[u])?!!h[u]:!1}function Hv(){return wB}var kB=N({},Qc,{key:function(u){if(u.key){var h=xB[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=Ed(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?vB[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hv,charCode:function(u){return u.type==="keypress"?Ed(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Ed(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),_B=gi(kB),CB=N({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tE=gi(CB),SB=N({},Qc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hv}),EB=gi(SB),TB=N({},Xc,{propertyName:0,elapsedTime:0,pseudoElement:0}),NB=gi(TB),AB=N({},es,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),jB=gi(AB),PB=[9,13,27,32],Gv=a&&"CompositionEvent"in window,Oh=null;a&&"documentMode"in document&&(Oh=document.documentMode);var RB=a&&"TextEvent"in window&&!Oh,rE=a&&(!Gv||Oh&&8<Oh&&11>=Oh),nE=" ",iE=!1;function sE(u,h){switch(u){case"keyup":return PB.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oE(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Nd=!1;function IB(u,h){switch(u){case"compositionend":return oE(h);case"keypress":return h.which!==32?null:(iE=!0,nE);case"textInput":return u=h.data,u===nE&&iE?null:u;default:return null}}function MB(u,h){if(Nd)return u==="compositionend"||!Gv&&sE(u,h)?(u=Ag(),da=Dl=ws=null,Nd=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return rE&&h.locale!=="ko"?null:h.data;default:return null}}var DB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aE(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!DB[u.type]:h==="textarea"}function lE(u,h,y,_){qt(_),h=Dg(h,"onChange"),0<h.length&&(y=new jg("onChange","change",null,y,_),u.push({event:y,listeners:h}))}var Lh=null,Fh=null;function OB(u){EE(u,0)}function Pg(u){var h=Id(u);if(de(h))return u}function LB(u,h){if(u==="change")return h}var cE=!1;if(a){var Kv;if(a){var Yv="oninput"in document;if(!Yv){var uE=document.createElement("div");uE.setAttribute("oninput","return;"),Yv=typeof uE.oninput=="function"}Kv=Yv}else Kv=!1;cE=Kv&&(!document.documentMode||9<document.documentMode)}function dE(){Lh&&(Lh.detachEvent("onpropertychange",fE),Fh=Lh=null)}function fE(u){if(u.propertyName==="value"&&Pg(Fh)){var h=[];lE(h,Fh,u,Fe(u)),Be(OB,h)}}function FB(u,h,y){u==="focusin"?(dE(),Lh=h,Fh=y,Lh.attachEvent("onpropertychange",fE)):u==="focusout"&&dE()}function zB(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Pg(Fh)}function BB(u,h){if(u==="click")return Pg(h)}function $B(u,h){if(u==="input"||u==="change")return Pg(h)}function UB(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var Po=typeof Object.is=="function"?Object.is:UB;function zh(u,h){if(Po(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var y=Object.keys(u),_=Object.keys(h);if(y.length!==_.length)return!1;for(_=0;_<y.length;_++){var L=y[_];if(!c.call(h,L)||!Po(u[L],h[L]))return!1}return!0}function hE(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function pE(u,h){var y=hE(u);u=0;for(var _;y;){if(y.nodeType===3){if(_=u+y.textContent.length,u<=h&&_>=h)return{node:y,offset:h-u};u=_}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=hE(y)}}function mE(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?mE(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function gE(){for(var u=window,h=xe();h instanceof u.HTMLIFrameElement;){try{var y=typeof h.contentWindow.location.href=="string"}catch{y=!1}if(y)u=h.contentWindow;else break;h=xe(u.document)}return h}function Jv(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}function VB(u){var h=gE(),y=u.focusedElem,_=u.selectionRange;if(h!==y&&y&&y.ownerDocument&&mE(y.ownerDocument.documentElement,y)){if(_!==null&&Jv(y)){if(h=_.start,u=_.end,u===void 0&&(u=h),"selectionStart"in y)y.selectionStart=h,y.selectionEnd=Math.min(u,y.value.length);else if(u=(h=y.ownerDocument||document)&&h.defaultView||window,u.getSelection){u=u.getSelection();var L=y.textContent.length,U=Math.min(_.start,L);_=_.end===void 0?U:Math.min(_.end,L),!u.extend&&U>_&&(L=_,_=U,U=L),L=pE(y,U);var X=pE(y,_);L&&X&&(u.rangeCount!==1||u.anchorNode!==L.node||u.anchorOffset!==L.offset||u.focusNode!==X.node||u.focusOffset!==X.offset)&&(h=h.createRange(),h.setStart(L.node,L.offset),u.removeAllRanges(),U>_?(u.addRange(h),u.extend(X.node,X.offset)):(h.setEnd(X.node,X.offset),u.addRange(h)))}}for(h=[],u=y;u=u.parentNode;)u.nodeType===1&&h.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<h.length;y++)u=h[y],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var WB=a&&"documentMode"in document&&11>=document.documentMode,Ad=null,Xv=null,Bh=null,Qv=!1;function yE(u,h,y){var _=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;Qv||Ad==null||Ad!==xe(_)||(_=Ad,"selectionStart"in _&&Jv(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Bh&&zh(Bh,_)||(Bh=_,_=Dg(Xv,"onSelect"),0<_.length&&(h=new jg("onSelect","select",null,h,y),u.push({event:h,listeners:_}),h.target=Ad)))}function Rg(u,h){var y={};return y[u.toLowerCase()]=h.toLowerCase(),y["Webkit"+u]="webkit"+h,y["Moz"+u]="moz"+h,y}var jd={animationend:Rg("Animation","AnimationEnd"),animationiteration:Rg("Animation","AnimationIteration"),animationstart:Rg("Animation","AnimationStart"),transitionend:Rg("Transition","TransitionEnd")},Zv={},xE={};a&&(xE=document.createElement("div").style,"AnimationEvent"in window||(delete jd.animationend.animation,delete jd.animationiteration.animation,delete jd.animationstart.animation),"TransitionEvent"in window||delete jd.transitionend.transition);function Ig(u){if(Zv[u])return Zv[u];if(!jd[u])return u;var h=jd[u],y;for(y in h)if(h.hasOwnProperty(y)&&y in xE)return Zv[u]=h[y];return u}var vE=Ig("animationend"),bE=Ig("animationiteration"),wE=Ig("animationstart"),kE=Ig("transitionend"),_E=new Map,CE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ll(u,h){_E.set(u,h),s(h,[u])}for(var eb=0;eb<CE.length;eb++){var tb=CE[eb],qB=tb.toLowerCase(),HB=tb[0].toUpperCase()+tb.slice(1);Ll(qB,"on"+HB)}Ll(vE,"onAnimationEnd"),Ll(bE,"onAnimationIteration"),Ll(wE,"onAnimationStart"),Ll("dblclick","onDoubleClick"),Ll("focusin","onFocus"),Ll("focusout","onBlur"),Ll(kE,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $h="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GB=new Set("cancel close invalid load scroll toggle".split(" ").concat($h));function SE(u,h,y){var _=u.type||"unknown-event";u.currentTarget=y,mt(_,h,void 0,u),u.currentTarget=null}function EE(u,h){h=(h&4)!==0;for(var y=0;y<u.length;y++){var _=u[y],L=_.event;_=_.listeners;e:{var U=void 0;if(h)for(var X=_.length-1;0<=X;X--){var re=_[X],ie=re.instance,ge=re.currentTarget;if(re=re.listener,ie!==U&&L.isPropagationStopped())break e;SE(L,re,ge),U=ie}else for(X=0;X<_.length;X++){if(re=_[X],ie=re.instance,ge=re.currentTarget,re=re.listener,ie!==U&&L.isPropagationStopped())break e;SE(L,re,ge),U=ie}}}if(Ge)throw u=pt,Ge=!1,pt=null,u}function Wr(u,h){var y=h[cb];y===void 0&&(y=h[cb]=new Set);var _=u+"__bubble";y.has(_)||(TE(h,u,2,!1),y.add(_))}function rb(u,h,y){var _=0;h&&(_|=4),TE(y,u,_,h)}var Mg="_reactListening"+Math.random().toString(36).slice(2);function Uh(u){if(!u[Mg]){u[Mg]=!0,n.forEach(function(y){y!=="selectionchange"&&(GB.has(y)||rb(y,!1,u),rb(y,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[Mg]||(h[Mg]=!0,rb("selectionchange",!1,h))}}function TE(u,h,y,_){switch(Dh(h)){case 1:var L=Vv;break;case 4:L=Wv;break;default:L=Rh}y=L.bind(null,h,y,u),L=void 0,!we||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(L=!0),_?L!==void 0?u.addEventListener(h,y,{capture:!0,passive:L}):u.addEventListener(h,y,!0):L!==void 0?u.addEventListener(h,y,{passive:L}):u.addEventListener(h,y,!1)}function nb(u,h,y,_,L){var U=_;if((h&1)===0&&(h&2)===0&&_!==null)e:for(;;){if(_===null)return;var X=_.tag;if(X===3||X===4){var re=_.stateNode.containerInfo;if(re===L||re.nodeType===8&&re.parentNode===L)break;if(X===4)for(X=_.return;X!==null;){var ie=X.tag;if((ie===3||ie===4)&&(ie=X.stateNode.containerInfo,ie===L||ie.nodeType===8&&ie.parentNode===L))return;X=X.return}for(;re!==null;){if(X=Zc(re),X===null)return;if(ie=X.tag,ie===5||ie===6){_=U=X;continue e}re=re.parentNode}}_=_.return}Be(function(){var ge=U,Se=Fe(y),Ee=[];e:{var Ce=_E.get(u);if(Ce!==void 0){var We=jg,et=u;switch(u){case"keypress":if(Ed(y)===0)break e;case"keydown":case"keyup":We=_B;break;case"focusin":et="focus",We=qv;break;case"focusout":et="blur",We=qv;break;case"beforeblur":case"afterblur":We=qv;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=dB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=EB;break;case vE:case bE:case wE:We=pB;break;case kE:We=NB;break;case"scroll":We=fa;break;case"wheel":We=jB;break;case"copy":case"cut":case"paste":We=gB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=tE}var it=(h&4)!==0,gn=!it&&u==="scroll",fe=it?Ce!==null?Ce+"Capture":null:Ce;it=[];for(var ce=ge,pe;ce!==null;){pe=ce;var je=pe.stateNode;if(pe.tag===5&&je!==null&&(pe=je,fe!==null&&(je=ze(ce,fe),je!=null&&it.push(Vh(ce,je,pe)))),gn)break;ce=ce.return}0<it.length&&(Ce=new We(Ce,et,null,y,Se),Ee.push({event:Ce,listeners:it}))}}if((h&7)===0){e:{if(Ce=u==="mouseover"||u==="pointerover",We=u==="mouseout"||u==="pointerout",Ce&&y!==xt&&(et=y.relatedTarget||y.fromElement)&&(Zc(et)||et[Ka]))break e;if((We||Ce)&&(Ce=Se.window===Se?Se:(Ce=Se.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,We?(et=y.relatedTarget||y.toElement,We=ge,et=et?Zc(et):null,et!==null&&(gn=Ot(et),et!==gn||et.tag!==5&&et.tag!==6)&&(et=null)):(We=null,et=ge),We!==et)){if(it=Ol,je="onMouseLeave",fe="onMouseEnter",ce="mouse",(u==="pointerout"||u==="pointerover")&&(it=tE,je="onPointerLeave",fe="onPointerEnter",ce="pointer"),gn=We==null?Ce:Id(We),pe=et==null?Ce:Id(et),Ce=new it(je,ce+"leave",We,y,Se),Ce.target=gn,Ce.relatedTarget=pe,je=null,Zc(Se)===ge&&(it=new it(fe,ce+"enter",et,y,Se),it.target=pe,it.relatedTarget=gn,je=it),gn=je,We&&et)t:{for(it=We,fe=et,ce=0,pe=it;pe;pe=Pd(pe))ce++;for(pe=0,je=fe;je;je=Pd(je))pe++;for(;0<ce-pe;)it=Pd(it),ce--;for(;0<pe-ce;)fe=Pd(fe),pe--;for(;ce--;){if(it===fe||fe!==null&&it===fe.alternate)break t;it=Pd(it),fe=Pd(fe)}it=null}else it=null;We!==null&&NE(Ee,Ce,We,it,!1),et!==null&&gn!==null&&NE(Ee,gn,et,it,!0)}}e:{if(Ce=ge?Id(ge):window,We=Ce.nodeName&&Ce.nodeName.toLowerCase(),We==="select"||We==="input"&&Ce.type==="file")var ct=LB;else if(aE(Ce))if(cE)ct=$B;else{ct=zB;var bt=FB}else(We=Ce.nodeName)&&We.toLowerCase()==="input"&&(Ce.type==="checkbox"||Ce.type==="radio")&&(ct=BB);if(ct&&(ct=ct(u,ge))){lE(Ee,ct,y,Se);break e}bt&&bt(u,Ce,ge),u==="focusout"&&(bt=Ce._wrapperState)&&bt.controlled&&Ce.type==="number"&&jt(Ce,"number",Ce.value)}switch(bt=ge?Id(ge):window,u){case"focusin":(aE(bt)||bt.contentEditable==="true")&&(Ad=bt,Xv=ge,Bh=null);break;case"focusout":Bh=Xv=Ad=null;break;case"mousedown":Qv=!0;break;case"contextmenu":case"mouseup":case"dragend":Qv=!1,yE(Ee,y,Se);break;case"selectionchange":if(WB)break;case"keydown":case"keyup":yE(Ee,y,Se)}var wt;if(Gv)e:{switch(u){case"compositionstart":var It="onCompositionStart";break e;case"compositionend":It="onCompositionEnd";break e;case"compositionupdate":It="onCompositionUpdate";break e}It=void 0}else Nd?sE(u,y)&&(It="onCompositionEnd"):u==="keydown"&&y.keyCode===229&&(It="onCompositionStart");It&&(rE&&y.locale!=="ko"&&(Nd||It!=="onCompositionStart"?It==="onCompositionEnd"&&Nd&&(wt=Ag()):(ws=Se,Dl="value"in ws?ws.value:ws.textContent,Nd=!0)),bt=Dg(ge,It),0<bt.length&&(It=new eE(It,u,null,y,Se),Ee.push({event:It,listeners:bt}),wt?It.data=wt:(wt=oE(y),wt!==null&&(It.data=wt)))),(wt=RB?IB(u,y):MB(u,y))&&(ge=Dg(ge,"onBeforeInput"),0<ge.length&&(Se=new eE("onBeforeInput","beforeinput",null,y,Se),Ee.push({event:Se,listeners:ge}),Se.data=wt))}EE(Ee,h)})}function Vh(u,h,y){return{instance:u,listener:h,currentTarget:y}}function Dg(u,h){for(var y=h+"Capture",_=[];u!==null;){var L=u,U=L.stateNode;L.tag===5&&U!==null&&(L=U,U=ze(u,y),U!=null&&_.unshift(Vh(u,U,L)),U=ze(u,h),U!=null&&_.push(Vh(u,U,L))),u=u.return}return _}function Pd(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function NE(u,h,y,_,L){for(var U=h._reactName,X=[];y!==null&&y!==_;){var re=y,ie=re.alternate,ge=re.stateNode;if(ie!==null&&ie===_)break;re.tag===5&&ge!==null&&(re=ge,L?(ie=ze(y,U),ie!=null&&X.unshift(Vh(y,ie,re))):L||(ie=ze(y,U),ie!=null&&X.push(Vh(y,ie,re)))),y=y.return}X.length!==0&&u.push({event:h,listeners:X})}var KB=/\r\n?/g,YB=/\u0000|\uFFFD/g;function AE(u){return(typeof u=="string"?u:""+u).replace(KB,`
`).replace(YB,"")}function Og(u,h,y){if(h=AE(h),AE(u)!==h&&y)throw Error(r(425))}function Lg(){}var ib=null,sb=null;function ob(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var ab=typeof setTimeout=="function"?setTimeout:void 0,JB=typeof clearTimeout=="function"?clearTimeout:void 0,jE=typeof Promise=="function"?Promise:void 0,XB=typeof queueMicrotask=="function"?queueMicrotask:typeof jE<"u"?function(u){return jE.resolve(null).then(u).catch(QB)}:ab;function QB(u){setTimeout(function(){throw u})}function lb(u,h){var y=h,_=0;do{var L=y.nextSibling;if(u.removeChild(y),L&&L.nodeType===8)if(y=L.data,y==="/$"){if(_===0){u.removeChild(L),Yc(h);return}_--}else y!=="$"&&y!=="$?"&&y!=="$!"||_++;y=L}while(y);Yc(h)}function Fl(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return u}function PE(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var y=u.data;if(y==="$"||y==="$!"||y==="$?"){if(h===0)return u;h--}else y==="/$"&&h++}u=u.previousSibling}return null}var Rd=Math.random().toString(36).slice(2),ha="__reactFiber$"+Rd,Wh="__reactProps$"+Rd,Ka="__reactContainer$"+Rd,cb="__reactEvents$"+Rd,ZB="__reactListeners$"+Rd,e8="__reactHandles$"+Rd;function Zc(u){var h=u[ha];if(h)return h;for(var y=u.parentNode;y;){if(h=y[Ka]||y[ha]){if(y=h.alternate,h.child!==null||y!==null&&y.child!==null)for(u=PE(u);u!==null;){if(y=u[ha])return y;u=PE(u)}return h}u=y,y=u.parentNode}return null}function qh(u){return u=u[ha]||u[Ka],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Id(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(r(33))}function Fg(u){return u[Wh]||null}var ub=[],Md=-1;function zl(u){return{current:u}}function qr(u){0>Md||(u.current=ub[Md],ub[Md]=null,Md--)}function zr(u,h){Md++,ub[Md]=u.current,u.current=h}var Bl={},yi=zl(Bl),ts=zl(!1),eu=Bl;function Dd(u,h){var y=u.type.contextTypes;if(!y)return Bl;var _=u.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===h)return _.__reactInternalMemoizedMaskedChildContext;var L={},U;for(U in y)L[U]=h[U];return _&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=h,u.__reactInternalMemoizedMaskedChildContext=L),L}function rs(u){return u=u.childContextTypes,u!=null}function zg(){qr(ts),qr(yi)}function RE(u,h,y){if(yi.current!==Bl)throw Error(r(168));zr(yi,h),zr(ts,y)}function IE(u,h,y){var _=u.stateNode;if(h=h.childContextTypes,typeof _.getChildContext!="function")return y;_=_.getChildContext();for(var L in _)if(!(L in h))throw Error(r(108,Y(u)||"Unknown",L));return N({},y,_)}function Bg(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Bl,eu=yi.current,zr(yi,u),zr(ts,ts.current),!0}function ME(u,h,y){var _=u.stateNode;if(!_)throw Error(r(169));y?(u=IE(u,h,eu),_.__reactInternalMemoizedMergedChildContext=u,qr(ts),qr(yi),zr(yi,u)):qr(ts),zr(ts,y)}var Ya=null,$g=!1,db=!1;function DE(u){Ya===null?Ya=[u]:Ya.push(u)}function t8(u){$g=!0,DE(u)}function $l(){if(!db&&Ya!==null){db=!0;var u=0,h=Nt;try{var y=Ya;for(Nt=1;u<y.length;u++){var _=y[u];do _=_(!0);while(_!==null)}Ya=null,$g=!1}catch(L){throw Ya!==null&&(Ya=Ya.slice(u+1)),kr(zn,$l),L}finally{Nt=h,db=!1}}return null}var Od=[],Ld=0,Ug=null,Vg=0,Qs=[],Zs=0,tu=null,Ja=1,Xa="";function ru(u,h){Od[Ld++]=Vg,Od[Ld++]=Ug,Ug=u,Vg=h}function OE(u,h,y){Qs[Zs++]=Ja,Qs[Zs++]=Xa,Qs[Zs++]=tu,tu=u;var _=Ja;u=Xa;var L=32-ri(_)-1;_&=~(1<<L),y+=1;var U=32-ri(h)+L;if(30<U){var X=L-L%5;U=(_&(1<<X)-1).toString(32),_>>=X,L-=X,Ja=1<<32-ri(h)+L|y<<L|_,Xa=U+u}else Ja=1<<U|y<<L|_,Xa=u}function fb(u){u.return!==null&&(ru(u,1),OE(u,1,0))}function hb(u){for(;u===Ug;)Ug=Od[--Ld],Od[Ld]=null,Vg=Od[--Ld],Od[Ld]=null;for(;u===tu;)tu=Qs[--Zs],Qs[Zs]=null,Xa=Qs[--Zs],Qs[Zs]=null,Ja=Qs[--Zs],Qs[Zs]=null}var ks=null,_s=null,Kr=!1,Ro=null;function LE(u,h){var y=no(5,null,null,0);y.elementType="DELETED",y.stateNode=h,y.return=u,h=u.deletions,h===null?(u.deletions=[y],u.flags|=16):h.push(y)}function FE(u,h){switch(u.tag){case 5:var y=u.type;return h=h.nodeType!==1||y.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(u.stateNode=h,ks=u,_s=Fl(h.firstChild),!0):!1;case 6:return h=u.pendingProps===""||h.nodeType!==3?null:h,h!==null?(u.stateNode=h,ks=u,_s=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(y=tu!==null?{id:Ja,overflow:Xa}:null,u.memoizedState={dehydrated:h,treeContext:y,retryLane:1073741824},y=no(18,null,null,0),y.stateNode=h,y.return=u,u.child=y,ks=u,_s=null,!0):!1;default:return!1}}function pb(u){return(u.mode&1)!==0&&(u.flags&128)===0}function mb(u){if(Kr){var h=_s;if(h){var y=h;if(!FE(u,h)){if(pb(u))throw Error(r(418));h=Fl(y.nextSibling);var _=ks;h&&FE(u,h)?LE(_,y):(u.flags=u.flags&-4097|2,Kr=!1,ks=u)}}else{if(pb(u))throw Error(r(418));u.flags=u.flags&-4097|2,Kr=!1,ks=u}}}function zE(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;ks=u}function Wg(u){if(u!==ks)return!1;if(!Kr)return zE(u),Kr=!0,!1;var h;if((h=u.tag!==3)&&!(h=u.tag!==5)&&(h=u.type,h=h!=="head"&&h!=="body"&&!ob(u.type,u.memoizedProps)),h&&(h=_s)){if(pb(u))throw BE(),Error(r(418));for(;h;)LE(u,h),h=Fl(h.nextSibling)}if(zE(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8){var y=u.data;if(y==="/$"){if(h===0){_s=Fl(u.nextSibling);break e}h--}else y!=="$"&&y!=="$!"&&y!=="$?"||h++}u=u.nextSibling}_s=null}}else _s=ks?Fl(u.stateNode.nextSibling):null;return!0}function BE(){for(var u=_s;u;)u=Fl(u.nextSibling)}function Fd(){_s=ks=null,Kr=!1}function gb(u){Ro===null?Ro=[u]:Ro.push(u)}var r8=S.ReactCurrentBatchConfig;function Hh(u,h,y){if(u=y.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(r(309));var _=y.stateNode}if(!_)throw Error(r(147,u));var L=_,U=""+u;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===U?h.ref:(h=function(X){var re=L.refs;X===null?delete re[U]:re[U]=X},h._stringRef=U,h)}if(typeof u!="string")throw Error(r(284));if(!y._owner)throw Error(r(290,u))}return u}function qg(u,h){throw u=Object.prototype.toString.call(h),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u))}function $E(u){var h=u._init;return h(u._payload)}function UE(u){function h(fe,ce){if(u){var pe=fe.deletions;pe===null?(fe.deletions=[ce],fe.flags|=16):pe.push(ce)}}function y(fe,ce){if(!u)return null;for(;ce!==null;)h(fe,ce),ce=ce.sibling;return null}function _(fe,ce){for(fe=new Map;ce!==null;)ce.key!==null?fe.set(ce.key,ce):fe.set(ce.index,ce),ce=ce.sibling;return fe}function L(fe,ce){return fe=Yl(fe,ce),fe.index=0,fe.sibling=null,fe}function U(fe,ce,pe){return fe.index=pe,u?(pe=fe.alternate,pe!==null?(pe=pe.index,pe<ce?(fe.flags|=2,ce):pe):(fe.flags|=2,ce)):(fe.flags|=1048576,ce)}function X(fe){return u&&fe.alternate===null&&(fe.flags|=2),fe}function re(fe,ce,pe,je){return ce===null||ce.tag!==6?(ce=aw(pe,fe.mode,je),ce.return=fe,ce):(ce=L(ce,pe),ce.return=fe,ce)}function ie(fe,ce,pe,je){var ct=pe.type;return ct===W?Se(fe,ce,pe.props.children,je,pe.key):ce!==null&&(ce.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===O&&$E(ct)===ce.type)?(je=L(ce,pe.props),je.ref=Hh(fe,ce,pe),je.return=fe,je):(je=my(pe.type,pe.key,pe.props,null,fe.mode,je),je.ref=Hh(fe,ce,pe),je.return=fe,je)}function ge(fe,ce,pe,je){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==pe.containerInfo||ce.stateNode.implementation!==pe.implementation?(ce=lw(pe,fe.mode,je),ce.return=fe,ce):(ce=L(ce,pe.children||[]),ce.return=fe,ce)}function Se(fe,ce,pe,je,ct){return ce===null||ce.tag!==7?(ce=uu(pe,fe.mode,je,ct),ce.return=fe,ce):(ce=L(ce,pe),ce.return=fe,ce)}function Ee(fe,ce,pe){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return ce=aw(""+ce,fe.mode,pe),ce.return=fe,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case B:return pe=my(ce.type,ce.key,ce.props,null,fe.mode,pe),pe.ref=Hh(fe,null,ce),pe.return=fe,pe;case $:return ce=lw(ce,fe.mode,pe),ce.return=fe,ce;case O:var je=ce._init;return Ee(fe,je(ce._payload),pe)}if(st(ce)||I(ce))return ce=uu(ce,fe.mode,pe,null),ce.return=fe,ce;qg(fe,ce)}return null}function Ce(fe,ce,pe,je){var ct=ce!==null?ce.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number")return ct!==null?null:re(fe,ce,""+pe,je);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case B:return pe.key===ct?ie(fe,ce,pe,je):null;case $:return pe.key===ct?ge(fe,ce,pe,je):null;case O:return ct=pe._init,Ce(fe,ce,ct(pe._payload),je)}if(st(pe)||I(pe))return ct!==null?null:Se(fe,ce,pe,je,null);qg(fe,pe)}return null}function We(fe,ce,pe,je,ct){if(typeof je=="string"&&je!==""||typeof je=="number")return fe=fe.get(pe)||null,re(ce,fe,""+je,ct);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case B:return fe=fe.get(je.key===null?pe:je.key)||null,ie(ce,fe,je,ct);case $:return fe=fe.get(je.key===null?pe:je.key)||null,ge(ce,fe,je,ct);case O:var bt=je._init;return We(fe,ce,pe,bt(je._payload),ct)}if(st(je)||I(je))return fe=fe.get(pe)||null,Se(ce,fe,je,ct,null);qg(ce,je)}return null}function et(fe,ce,pe,je){for(var ct=null,bt=null,wt=ce,It=ce=0,Yn=null;wt!==null&&It<pe.length;It++){wt.index>It?(Yn=wt,wt=null):Yn=wt.sibling;var br=Ce(fe,wt,pe[It],je);if(br===null){wt===null&&(wt=Yn);break}u&&wt&&br.alternate===null&&h(fe,wt),ce=U(br,ce,It),bt===null?ct=br:bt.sibling=br,bt=br,wt=Yn}if(It===pe.length)return y(fe,wt),Kr&&ru(fe,It),ct;if(wt===null){for(;It<pe.length;It++)wt=Ee(fe,pe[It],je),wt!==null&&(ce=U(wt,ce,It),bt===null?ct=wt:bt.sibling=wt,bt=wt);return Kr&&ru(fe,It),ct}for(wt=_(fe,wt);It<pe.length;It++)Yn=We(wt,fe,It,pe[It],je),Yn!==null&&(u&&Yn.alternate!==null&&wt.delete(Yn.key===null?It:Yn.key),ce=U(Yn,ce,It),bt===null?ct=Yn:bt.sibling=Yn,bt=Yn);return u&&wt.forEach(function(Jl){return h(fe,Jl)}),Kr&&ru(fe,It),ct}function it(fe,ce,pe,je){var ct=I(pe);if(typeof ct!="function")throw Error(r(150));if(pe=ct.call(pe),pe==null)throw Error(r(151));for(var bt=ct=null,wt=ce,It=ce=0,Yn=null,br=pe.next();wt!==null&&!br.done;It++,br=pe.next()){wt.index>It?(Yn=wt,wt=null):Yn=wt.sibling;var Jl=Ce(fe,wt,br.value,je);if(Jl===null){wt===null&&(wt=Yn);break}u&&wt&&Jl.alternate===null&&h(fe,wt),ce=U(Jl,ce,It),bt===null?ct=Jl:bt.sibling=Jl,bt=Jl,wt=Yn}if(br.done)return y(fe,wt),Kr&&ru(fe,It),ct;if(wt===null){for(;!br.done;It++,br=pe.next())br=Ee(fe,br.value,je),br!==null&&(ce=U(br,ce,It),bt===null?ct=br:bt.sibling=br,bt=br);return Kr&&ru(fe,It),ct}for(wt=_(fe,wt);!br.done;It++,br=pe.next())br=We(wt,fe,It,br.value,je),br!==null&&(u&&br.alternate!==null&&wt.delete(br.key===null?It:br.key),ce=U(br,ce,It),bt===null?ct=br:bt.sibling=br,bt=br);return u&&wt.forEach(function(D8){return h(fe,D8)}),Kr&&ru(fe,It),ct}function gn(fe,ce,pe,je){if(typeof pe=="object"&&pe!==null&&pe.type===W&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case B:e:{for(var ct=pe.key,bt=ce;bt!==null;){if(bt.key===ct){if(ct=pe.type,ct===W){if(bt.tag===7){y(fe,bt.sibling),ce=L(bt,pe.props.children),ce.return=fe,fe=ce;break e}}else if(bt.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===O&&$E(ct)===bt.type){y(fe,bt.sibling),ce=L(bt,pe.props),ce.ref=Hh(fe,bt,pe),ce.return=fe,fe=ce;break e}y(fe,bt);break}else h(fe,bt);bt=bt.sibling}pe.type===W?(ce=uu(pe.props.children,fe.mode,je,pe.key),ce.return=fe,fe=ce):(je=my(pe.type,pe.key,pe.props,null,fe.mode,je),je.ref=Hh(fe,ce,pe),je.return=fe,fe=je)}return X(fe);case $:e:{for(bt=pe.key;ce!==null;){if(ce.key===bt)if(ce.tag===4&&ce.stateNode.containerInfo===pe.containerInfo&&ce.stateNode.implementation===pe.implementation){y(fe,ce.sibling),ce=L(ce,pe.children||[]),ce.return=fe,fe=ce;break e}else{y(fe,ce);break}else h(fe,ce);ce=ce.sibling}ce=lw(pe,fe.mode,je),ce.return=fe,fe=ce}return X(fe);case O:return bt=pe._init,gn(fe,ce,bt(pe._payload),je)}if(st(pe))return et(fe,ce,pe,je);if(I(pe))return it(fe,ce,pe,je);qg(fe,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"?(pe=""+pe,ce!==null&&ce.tag===6?(y(fe,ce.sibling),ce=L(ce,pe),ce.return=fe,fe=ce):(y(fe,ce),ce=aw(pe,fe.mode,je),ce.return=fe,fe=ce),X(fe)):y(fe,ce)}return gn}var zd=UE(!0),VE=UE(!1),Hg=zl(null),Gg=null,Bd=null,yb=null;function xb(){yb=Bd=Gg=null}function vb(u){var h=Hg.current;qr(Hg),u._currentValue=h}function bb(u,h,y){for(;u!==null;){var _=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,_!==null&&(_.childLanes|=h)):_!==null&&(_.childLanes&h)!==h&&(_.childLanes|=h),u===y)break;u=u.return}}function $d(u,h){Gg=u,yb=Bd=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&h)!==0&&(ns=!0),u.firstContext=null)}function eo(u){var h=u._currentValue;if(yb!==u)if(u={context:u,memoizedValue:h,next:null},Bd===null){if(Gg===null)throw Error(r(308));Bd=u,Gg.dependencies={lanes:0,firstContext:u}}else Bd=Bd.next=u;return h}var nu=null;function wb(u){nu===null?nu=[u]:nu.push(u)}function WE(u,h,y,_){var L=h.interleaved;return L===null?(y.next=y,wb(h)):(y.next=L.next,L.next=y),h.interleaved=y,Qa(u,_)}function Qa(u,h){u.lanes|=h;var y=u.alternate;for(y!==null&&(y.lanes|=h),y=u,u=u.return;u!==null;)u.childLanes|=h,y=u.alternate,y!==null&&(y.childLanes|=h),y=u,u=u.return;return y.tag===3?y.stateNode:null}var Ul=!1;function kb(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qE(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Za(u,h){return{eventTime:u,lane:h,tag:0,payload:null,callback:null,next:null}}function Vl(u,h,y){var _=u.updateQueue;if(_===null)return null;if(_=_.shared,(gr&2)!==0){var L=_.pending;return L===null?h.next=h:(h.next=L.next,L.next=h),_.pending=h,Qa(u,y)}return L=_.interleaved,L===null?(h.next=h,wb(_)):(h.next=L.next,L.next=h),_.interleaved=h,Qa(u,y)}function Kg(u,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194240)!==0)){var _=h.lanes;_&=u.pendingLanes,y|=_,h.lanes=y,or(u,y)}}function HE(u,h){var y=u.updateQueue,_=u.alternate;if(_!==null&&(_=_.updateQueue,y===_)){var L=null,U=null;if(y=y.firstBaseUpdate,y!==null){do{var X={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};U===null?L=U=X:U=U.next=X,y=y.next}while(y!==null);U===null?L=U=h:U=U.next=h}else L=U=h;y={baseState:_.baseState,firstBaseUpdate:L,lastBaseUpdate:U,shared:_.shared,effects:_.effects},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=h:u.next=h,y.lastBaseUpdate=h}function Yg(u,h,y,_){var L=u.updateQueue;Ul=!1;var U=L.firstBaseUpdate,X=L.lastBaseUpdate,re=L.shared.pending;if(re!==null){L.shared.pending=null;var ie=re,ge=ie.next;ie.next=null,X===null?U=ge:X.next=ge,X=ie;var Se=u.alternate;Se!==null&&(Se=Se.updateQueue,re=Se.lastBaseUpdate,re!==X&&(re===null?Se.firstBaseUpdate=ge:re.next=ge,Se.lastBaseUpdate=ie))}if(U!==null){var Ee=L.baseState;X=0,Se=ge=ie=null,re=U;do{var Ce=re.lane,We=re.eventTime;if((_&Ce)===Ce){Se!==null&&(Se=Se.next={eventTime:We,lane:0,tag:re.tag,payload:re.payload,callback:re.callback,next:null});e:{var et=u,it=re;switch(Ce=h,We=y,it.tag){case 1:if(et=it.payload,typeof et=="function"){Ee=et.call(We,Ee,Ce);break e}Ee=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=it.payload,Ce=typeof et=="function"?et.call(We,Ee,Ce):et,Ce==null)break e;Ee=N({},Ee,Ce);break e;case 2:Ul=!0}}re.callback!==null&&re.lane!==0&&(u.flags|=64,Ce=L.effects,Ce===null?L.effects=[re]:Ce.push(re))}else We={eventTime:We,lane:Ce,tag:re.tag,payload:re.payload,callback:re.callback,next:null},Se===null?(ge=Se=We,ie=Ee):Se=Se.next=We,X|=Ce;if(re=re.next,re===null){if(re=L.shared.pending,re===null)break;Ce=re,re=Ce.next,Ce.next=null,L.lastBaseUpdate=Ce,L.shared.pending=null}}while(!0);if(Se===null&&(ie=Ee),L.baseState=ie,L.firstBaseUpdate=ge,L.lastBaseUpdate=Se,h=L.shared.interleaved,h!==null){L=h;do X|=L.lane,L=L.next;while(L!==h)}else U===null&&(L.shared.lanes=0);ou|=X,u.lanes=X,u.memoizedState=Ee}}function GE(u,h,y){if(u=h.effects,h.effects=null,u!==null)for(h=0;h<u.length;h++){var _=u[h],L=_.callback;if(L!==null){if(_.callback=null,_=y,typeof L!="function")throw Error(r(191,L));L.call(_)}}}var Gh={},pa=zl(Gh),Kh=zl(Gh),Yh=zl(Gh);function iu(u){if(u===Gh)throw Error(r(174));return u}function _b(u,h){switch(zr(Yh,h),zr(Kh,u),zr(pa,Gh),u=h.nodeType,u){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:he(null,"");break;default:u=u===8?h.parentNode:h,h=u.namespaceURI||null,u=u.tagName,h=he(h,u)}qr(pa),zr(pa,h)}function Ud(){qr(pa),qr(Kh),qr(Yh)}function KE(u){iu(Yh.current);var h=iu(pa.current),y=he(h,u.type);h!==y&&(zr(Kh,u),zr(pa,y))}function Cb(u){Kh.current===u&&(qr(pa),qr(Kh))}var en=zl(0);function Jg(u){for(var h=u;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Sb=[];function Eb(){for(var u=0;u<Sb.length;u++)Sb[u]._workInProgressVersionPrimary=null;Sb.length=0}var Xg=S.ReactCurrentDispatcher,Tb=S.ReactCurrentBatchConfig,su=0,tn=null,Bn=null,Gn=null,Qg=!1,Jh=!1,Xh=0,n8=0;function xi(){throw Error(r(321))}function Nb(u,h){if(h===null)return!1;for(var y=0;y<h.length&&y<u.length;y++)if(!Po(u[y],h[y]))return!1;return!0}function Ab(u,h,y,_,L,U){if(su=U,tn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Xg.current=u===null||u.memoizedState===null?a8:l8,u=y(_,L),Jh){U=0;do{if(Jh=!1,Xh=0,25<=U)throw Error(r(301));U+=1,Gn=Bn=null,h.updateQueue=null,Xg.current=c8,u=y(_,L)}while(Jh)}if(Xg.current=ty,h=Bn!==null&&Bn.next!==null,su=0,Gn=Bn=tn=null,Qg=!1,h)throw Error(r(300));return u}function jb(){var u=Xh!==0;return Xh=0,u}function ma(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?tn.memoizedState=Gn=u:Gn=Gn.next=u,Gn}function to(){if(Bn===null){var u=tn.alternate;u=u!==null?u.memoizedState:null}else u=Bn.next;var h=Gn===null?tn.memoizedState:Gn.next;if(h!==null)Gn=h,Bn=u;else{if(u===null)throw Error(r(310));Bn=u,u={memoizedState:Bn.memoizedState,baseState:Bn.baseState,baseQueue:Bn.baseQueue,queue:Bn.queue,next:null},Gn===null?tn.memoizedState=Gn=u:Gn=Gn.next=u}return Gn}function Qh(u,h){return typeof h=="function"?h(u):h}function Pb(u){var h=to(),y=h.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=u;var _=Bn,L=_.baseQueue,U=y.pending;if(U!==null){if(L!==null){var X=L.next;L.next=U.next,U.next=X}_.baseQueue=L=U,y.pending=null}if(L!==null){U=L.next,_=_.baseState;var re=X=null,ie=null,ge=U;do{var Se=ge.lane;if((su&Se)===Se)ie!==null&&(ie=ie.next={lane:0,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),_=ge.hasEagerState?ge.eagerState:u(_,ge.action);else{var Ee={lane:Se,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null};ie===null?(re=ie=Ee,X=_):ie=ie.next=Ee,tn.lanes|=Se,ou|=Se}ge=ge.next}while(ge!==null&&ge!==U);ie===null?X=_:ie.next=re,Po(_,h.memoizedState)||(ns=!0),h.memoizedState=_,h.baseState=X,h.baseQueue=ie,y.lastRenderedState=_}if(u=y.interleaved,u!==null){L=u;do U=L.lane,tn.lanes|=U,ou|=U,L=L.next;while(L!==u)}else L===null&&(y.lanes=0);return[h.memoizedState,y.dispatch]}function Rb(u){var h=to(),y=h.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=u;var _=y.dispatch,L=y.pending,U=h.memoizedState;if(L!==null){y.pending=null;var X=L=L.next;do U=u(U,X.action),X=X.next;while(X!==L);Po(U,h.memoizedState)||(ns=!0),h.memoizedState=U,h.baseQueue===null&&(h.baseState=U),y.lastRenderedState=U}return[U,_]}function YE(){}function JE(u,h){var y=tn,_=to(),L=h(),U=!Po(_.memoizedState,L);if(U&&(_.memoizedState=L,ns=!0),_=_.queue,Ib(ZE.bind(null,y,_,u),[u]),_.getSnapshot!==h||U||Gn!==null&&Gn.memoizedState.tag&1){if(y.flags|=2048,Zh(9,QE.bind(null,y,_,L,h),void 0,null),Kn===null)throw Error(r(349));(su&30)!==0||XE(y,h,L)}return L}function XE(u,h,y){u.flags|=16384,u={getSnapshot:h,value:y},h=tn.updateQueue,h===null?(h={lastEffect:null,stores:null},tn.updateQueue=h,h.stores=[u]):(y=h.stores,y===null?h.stores=[u]:y.push(u))}function QE(u,h,y,_){h.value=y,h.getSnapshot=_,eT(h)&&tT(u)}function ZE(u,h,y){return y(function(){eT(h)&&tT(u)})}function eT(u){var h=u.getSnapshot;u=u.value;try{var y=h();return!Po(u,y)}catch{return!0}}function tT(u){var h=Qa(u,1);h!==null&&Oo(h,u,1,-1)}function rT(u){var h=ma();return typeof u=="function"&&(u=u()),h.memoizedState=h.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qh,lastRenderedState:u},h.queue=u,u=u.dispatch=o8.bind(null,tn,u),[h.memoizedState,u]}function Zh(u,h,y,_){return u={tag:u,create:h,destroy:y,deps:_,next:null},h=tn.updateQueue,h===null?(h={lastEffect:null,stores:null},tn.updateQueue=h,h.lastEffect=u.next=u):(y=h.lastEffect,y===null?h.lastEffect=u.next=u:(_=y.next,y.next=u,u.next=_,h.lastEffect=u)),u}function nT(){return to().memoizedState}function Zg(u,h,y,_){var L=ma();tn.flags|=u,L.memoizedState=Zh(1|h,y,void 0,_===void 0?null:_)}function ey(u,h,y,_){var L=to();_=_===void 0?null:_;var U=void 0;if(Bn!==null){var X=Bn.memoizedState;if(U=X.destroy,_!==null&&Nb(_,X.deps)){L.memoizedState=Zh(h,y,U,_);return}}tn.flags|=u,L.memoizedState=Zh(1|h,y,U,_)}function iT(u,h){return Zg(8390656,8,u,h)}function Ib(u,h){return ey(2048,8,u,h)}function sT(u,h){return ey(4,2,u,h)}function oT(u,h){return ey(4,4,u,h)}function aT(u,h){if(typeof h=="function")return u=u(),h(u),function(){h(null)};if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function lT(u,h,y){return y=y!=null?y.concat([u]):null,ey(4,4,aT.bind(null,h,u),y)}function Mb(){}function cT(u,h){var y=to();h=h===void 0?null:h;var _=y.memoizedState;return _!==null&&h!==null&&Nb(h,_[1])?_[0]:(y.memoizedState=[u,h],u)}function uT(u,h){var y=to();h=h===void 0?null:h;var _=y.memoizedState;return _!==null&&h!==null&&Nb(h,_[1])?_[0]:(u=u(),y.memoizedState=[u,h],u)}function dT(u,h,y){return(su&21)===0?(u.baseState&&(u.baseState=!1,ns=!0),u.memoizedState=y):(Po(y,h)||(y=be(),tn.lanes|=y,ou|=y,u.baseState=!0),h)}function i8(u,h){var y=Nt;Nt=y!==0&&4>y?y:4,u(!0);var _=Tb.transition;Tb.transition={};try{u(!1),h()}finally{Nt=y,Tb.transition=_}}function fT(){return to().memoizedState}function s8(u,h,y){var _=Gl(u);if(y={lane:_,action:y,hasEagerState:!1,eagerState:null,next:null},hT(u))pT(h,y);else if(y=WE(u,h,y,_),y!==null){var L=Fi();Oo(y,u,_,L),mT(y,h,_)}}function o8(u,h,y){var _=Gl(u),L={lane:_,action:y,hasEagerState:!1,eagerState:null,next:null};if(hT(u))pT(h,L);else{var U=u.alternate;if(u.lanes===0&&(U===null||U.lanes===0)&&(U=h.lastRenderedReducer,U!==null))try{var X=h.lastRenderedState,re=U(X,y);if(L.hasEagerState=!0,L.eagerState=re,Po(re,X)){var ie=h.interleaved;ie===null?(L.next=L,wb(h)):(L.next=ie.next,ie.next=L),h.interleaved=L;return}}catch{}finally{}y=WE(u,h,L,_),y!==null&&(L=Fi(),Oo(y,u,_,L),mT(y,h,_))}}function hT(u){var h=u.alternate;return u===tn||h!==null&&h===tn}function pT(u,h){Jh=Qg=!0;var y=u.pending;y===null?h.next=h:(h.next=y.next,y.next=h),u.pending=h}function mT(u,h,y){if((y&4194240)!==0){var _=h.lanes;_&=u.pendingLanes,y|=_,h.lanes=y,or(u,y)}}var ty={readContext:eo,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useInsertionEffect:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useMutableSource:xi,useSyncExternalStore:xi,useId:xi,unstable_isNewReconciler:!1},a8={readContext:eo,useCallback:function(u,h){return ma().memoizedState=[u,h===void 0?null:h],u},useContext:eo,useEffect:iT,useImperativeHandle:function(u,h,y){return y=y!=null?y.concat([u]):null,Zg(4194308,4,aT.bind(null,h,u),y)},useLayoutEffect:function(u,h){return Zg(4194308,4,u,h)},useInsertionEffect:function(u,h){return Zg(4,2,u,h)},useMemo:function(u,h){var y=ma();return h=h===void 0?null:h,u=u(),y.memoizedState=[u,h],u},useReducer:function(u,h,y){var _=ma();return h=y!==void 0?y(h):h,_.memoizedState=_.baseState=h,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:h},_.queue=u,u=u.dispatch=s8.bind(null,tn,u),[_.memoizedState,u]},useRef:function(u){var h=ma();return u={current:u},h.memoizedState=u},useState:rT,useDebugValue:Mb,useDeferredValue:function(u){return ma().memoizedState=u},useTransition:function(){var u=rT(!1),h=u[0];return u=i8.bind(null,u[1]),ma().memoizedState=u,[h,u]},useMutableSource:function(){},useSyncExternalStore:function(u,h,y){var _=tn,L=ma();if(Kr){if(y===void 0)throw Error(r(407));y=y()}else{if(y=h(),Kn===null)throw Error(r(349));(su&30)!==0||XE(_,h,y)}L.memoizedState=y;var U={value:y,getSnapshot:h};return L.queue=U,iT(ZE.bind(null,_,U,u),[u]),_.flags|=2048,Zh(9,QE.bind(null,_,U,y,h),void 0,null),y},useId:function(){var u=ma(),h=Kn.identifierPrefix;if(Kr){var y=Xa,_=Ja;y=(_&~(1<<32-ri(_)-1)).toString(32)+y,h=":"+h+"R"+y,y=Xh++,0<y&&(h+="H"+y.toString(32)),h+=":"}else y=n8++,h=":"+h+"r"+y.toString(32)+":";return u.memoizedState=h},unstable_isNewReconciler:!1},l8={readContext:eo,useCallback:cT,useContext:eo,useEffect:Ib,useImperativeHandle:lT,useInsertionEffect:sT,useLayoutEffect:oT,useMemo:uT,useReducer:Pb,useRef:nT,useState:function(){return Pb(Qh)},useDebugValue:Mb,useDeferredValue:function(u){var h=to();return dT(h,Bn.memoizedState,u)},useTransition:function(){var u=Pb(Qh)[0],h=to().memoizedState;return[u,h]},useMutableSource:YE,useSyncExternalStore:JE,useId:fT,unstable_isNewReconciler:!1},c8={readContext:eo,useCallback:cT,useContext:eo,useEffect:Ib,useImperativeHandle:lT,useInsertionEffect:sT,useLayoutEffect:oT,useMemo:uT,useReducer:Rb,useRef:nT,useState:function(){return Rb(Qh)},useDebugValue:Mb,useDeferredValue:function(u){var h=to();return Bn===null?h.memoizedState=u:dT(h,Bn.memoizedState,u)},useTransition:function(){var u=Rb(Qh)[0],h=to().memoizedState;return[u,h]},useMutableSource:YE,useSyncExternalStore:JE,useId:fT,unstable_isNewReconciler:!1};function Io(u,h){if(u&&u.defaultProps){h=N({},h),u=u.defaultProps;for(var y in u)h[y]===void 0&&(h[y]=u[y]);return h}return h}function Db(u,h,y,_){h=u.memoizedState,y=y(_,h),y=y==null?h:N({},h,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}var ry={isMounted:function(u){return(u=u._reactInternals)?Ot(u)===u:!1},enqueueSetState:function(u,h,y){u=u._reactInternals;var _=Fi(),L=Gl(u),U=Za(_,L);U.payload=h,y!=null&&(U.callback=y),h=Vl(u,U,L),h!==null&&(Oo(h,u,L,_),Kg(h,u,L))},enqueueReplaceState:function(u,h,y){u=u._reactInternals;var _=Fi(),L=Gl(u),U=Za(_,L);U.tag=1,U.payload=h,y!=null&&(U.callback=y),h=Vl(u,U,L),h!==null&&(Oo(h,u,L,_),Kg(h,u,L))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var y=Fi(),_=Gl(u),L=Za(y,_);L.tag=2,h!=null&&(L.callback=h),h=Vl(u,L,_),h!==null&&(Oo(h,u,_,y),Kg(h,u,_))}};function gT(u,h,y,_,L,U,X){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(_,U,X):h.prototype&&h.prototype.isPureReactComponent?!zh(y,_)||!zh(L,U):!0}function yT(u,h,y){var _=!1,L=Bl,U=h.contextType;return typeof U=="object"&&U!==null?U=eo(U):(L=rs(h)?eu:yi.current,_=h.contextTypes,U=(_=_!=null)?Dd(u,L):Bl),h=new h(y,U),u.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=ry,u.stateNode=h,h._reactInternals=u,_&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=L,u.__reactInternalMemoizedMaskedChildContext=U),h}function xT(u,h,y,_){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,_),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,_),h.state!==u&&ry.enqueueReplaceState(h,h.state,null)}function Ob(u,h,y,_){var L=u.stateNode;L.props=y,L.state=u.memoizedState,L.refs={},kb(u);var U=h.contextType;typeof U=="object"&&U!==null?L.context=eo(U):(U=rs(h)?eu:yi.current,L.context=Dd(u,U)),L.state=u.memoizedState,U=h.getDerivedStateFromProps,typeof U=="function"&&(Db(u,h,U,y),L.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(h=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),h!==L.state&&ry.enqueueReplaceState(L,L.state,null),Yg(u,y,L,_),L.state=u.memoizedState),typeof L.componentDidMount=="function"&&(u.flags|=4194308)}function Vd(u,h){try{var y="",_=h;do y+=z(_),_=_.return;while(_);var L=y}catch(U){L=`
Error generating stack: `+U.message+`
`+U.stack}return{value:u,source:h,stack:L,digest:null}}function Lb(u,h,y){return{value:u,source:null,stack:y??null,digest:h??null}}function Fb(u,h){try{console.error(h.value)}catch(y){setTimeout(function(){throw y})}}var u8=typeof WeakMap=="function"?WeakMap:Map;function vT(u,h,y){y=Za(-1,y),y.tag=3,y.payload={element:null};var _=h.value;return y.callback=function(){cy||(cy=!0,Zb=_),Fb(u,h)},y}function bT(u,h,y){y=Za(-1,y),y.tag=3;var _=u.type.getDerivedStateFromError;if(typeof _=="function"){var L=h.value;y.payload=function(){return _(L)},y.callback=function(){Fb(u,h)}}var U=u.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(y.callback=function(){Fb(u,h),typeof _!="function"&&(ql===null?ql=new Set([this]):ql.add(this));var X=h.stack;this.componentDidCatch(h.value,{componentStack:X!==null?X:""})}),y}function wT(u,h,y){var _=u.pingCache;if(_===null){_=u.pingCache=new u8;var L=new Set;_.set(h,L)}else L=_.get(h),L===void 0&&(L=new Set,_.set(h,L));L.has(y)||(L.add(y),u=C8.bind(null,u,h,y),h.then(u,u))}function kT(u){do{var h;if((h=u.tag===13)&&(h=u.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return u;u=u.return}while(u!==null);return null}function _T(u,h,y,_,L){return(u.mode&1)===0?(u===h?u.flags|=65536:(u.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(h=Za(-1,1),h.tag=2,Vl(y,h,1))),y.lanes|=1),u):(u.flags|=65536,u.lanes=L,u)}var d8=S.ReactCurrentOwner,ns=!1;function Li(u,h,y,_){h.child=u===null?VE(h,null,y,_):zd(h,u.child,y,_)}function CT(u,h,y,_,L){y=y.render;var U=h.ref;return $d(h,L),_=Ab(u,h,y,_,U,L),y=jb(),u!==null&&!ns?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~L,el(u,h,L)):(Kr&&y&&fb(h),h.flags|=1,Li(u,h,_,L),h.child)}function ST(u,h,y,_,L){if(u===null){var U=y.type;return typeof U=="function"&&!ow(U)&&U.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(h.tag=15,h.type=U,ET(u,h,U,_,L)):(u=my(y.type,null,_,h,h.mode,L),u.ref=h.ref,u.return=h,h.child=u)}if(U=u.child,(u.lanes&L)===0){var X=U.memoizedProps;if(y=y.compare,y=y!==null?y:zh,y(X,_)&&u.ref===h.ref)return el(u,h,L)}return h.flags|=1,u=Yl(U,_),u.ref=h.ref,u.return=h,h.child=u}function ET(u,h,y,_,L){if(u!==null){var U=u.memoizedProps;if(zh(U,_)&&u.ref===h.ref)if(ns=!1,h.pendingProps=_=U,(u.lanes&L)!==0)(u.flags&131072)!==0&&(ns=!0);else return h.lanes=u.lanes,el(u,h,L)}return zb(u,h,y,_,L)}function TT(u,h,y){var _=h.pendingProps,L=_.children,U=u!==null?u.memoizedState:null;if(_.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},zr(qd,Cs),Cs|=y;else{if((y&1073741824)===0)return u=U!==null?U.baseLanes|y:y,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:u,cachePool:null,transitions:null},h.updateQueue=null,zr(qd,Cs),Cs|=u,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=U!==null?U.baseLanes:y,zr(qd,Cs),Cs|=_}else U!==null?(_=U.baseLanes|y,h.memoizedState=null):_=y,zr(qd,Cs),Cs|=_;return Li(u,h,L,y),h.child}function NT(u,h){var y=h.ref;(u===null&&y!==null||u!==null&&u.ref!==y)&&(h.flags|=512,h.flags|=2097152)}function zb(u,h,y,_,L){var U=rs(y)?eu:yi.current;return U=Dd(h,U),$d(h,L),y=Ab(u,h,y,_,U,L),_=jb(),u!==null&&!ns?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~L,el(u,h,L)):(Kr&&_&&fb(h),h.flags|=1,Li(u,h,y,L),h.child)}function AT(u,h,y,_,L){if(rs(y)){var U=!0;Bg(h)}else U=!1;if($d(h,L),h.stateNode===null)iy(u,h),yT(h,y,_),Ob(h,y,_,L),_=!0;else if(u===null){var X=h.stateNode,re=h.memoizedProps;X.props=re;var ie=X.context,ge=y.contextType;typeof ge=="object"&&ge!==null?ge=eo(ge):(ge=rs(y)?eu:yi.current,ge=Dd(h,ge));var Se=y.getDerivedStateFromProps,Ee=typeof Se=="function"||typeof X.getSnapshotBeforeUpdate=="function";Ee||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(re!==_||ie!==ge)&&xT(h,X,_,ge),Ul=!1;var Ce=h.memoizedState;X.state=Ce,Yg(h,_,X,L),ie=h.memoizedState,re!==_||Ce!==ie||ts.current||Ul?(typeof Se=="function"&&(Db(h,y,Se,_),ie=h.memoizedState),(re=Ul||gT(h,y,re,_,Ce,ie,ge))?(Ee||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(h.flags|=4194308)):(typeof X.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=_,h.memoizedState=ie),X.props=_,X.state=ie,X.context=ge,_=re):(typeof X.componentDidMount=="function"&&(h.flags|=4194308),_=!1)}else{X=h.stateNode,qE(u,h),re=h.memoizedProps,ge=h.type===h.elementType?re:Io(h.type,re),X.props=ge,Ee=h.pendingProps,Ce=X.context,ie=y.contextType,typeof ie=="object"&&ie!==null?ie=eo(ie):(ie=rs(y)?eu:yi.current,ie=Dd(h,ie));var We=y.getDerivedStateFromProps;(Se=typeof We=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(re!==Ee||Ce!==ie)&&xT(h,X,_,ie),Ul=!1,Ce=h.memoizedState,X.state=Ce,Yg(h,_,X,L);var et=h.memoizedState;re!==Ee||Ce!==et||ts.current||Ul?(typeof We=="function"&&(Db(h,y,We,_),et=h.memoizedState),(ge=Ul||gT(h,y,ge,_,Ce,et,ie)||!1)?(Se||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(_,et,ie),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(_,et,ie)),typeof X.componentDidUpdate=="function"&&(h.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof X.componentDidUpdate!="function"||re===u.memoizedProps&&Ce===u.memoizedState||(h.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||re===u.memoizedProps&&Ce===u.memoizedState||(h.flags|=1024),h.memoizedProps=_,h.memoizedState=et),X.props=_,X.state=et,X.context=ie,_=ge):(typeof X.componentDidUpdate!="function"||re===u.memoizedProps&&Ce===u.memoizedState||(h.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||re===u.memoizedProps&&Ce===u.memoizedState||(h.flags|=1024),_=!1)}return Bb(u,h,y,_,U,L)}function Bb(u,h,y,_,L,U){NT(u,h);var X=(h.flags&128)!==0;if(!_&&!X)return L&&ME(h,y,!1),el(u,h,U);_=h.stateNode,d8.current=h;var re=X&&typeof y.getDerivedStateFromError!="function"?null:_.render();return h.flags|=1,u!==null&&X?(h.child=zd(h,u.child,null,U),h.child=zd(h,null,re,U)):Li(u,h,re,U),h.memoizedState=_.state,L&&ME(h,y,!0),h.child}function jT(u){var h=u.stateNode;h.pendingContext?RE(u,h.pendingContext,h.pendingContext!==h.context):h.context&&RE(u,h.context,!1),_b(u,h.containerInfo)}function PT(u,h,y,_,L){return Fd(),gb(L),h.flags|=256,Li(u,h,y,_),h.child}var $b={dehydrated:null,treeContext:null,retryLane:0};function Ub(u){return{baseLanes:u,cachePool:null,transitions:null}}function RT(u,h,y){var _=h.pendingProps,L=en.current,U=!1,X=(h.flags&128)!==0,re;if((re=X)||(re=u!==null&&u.memoizedState===null?!1:(L&2)!==0),re?(U=!0,h.flags&=-129):(u===null||u.memoizedState!==null)&&(L|=1),zr(en,L&1),u===null)return mb(h),u=h.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((h.mode&1)===0?h.lanes=1:u.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(X=_.children,u=_.fallback,U?(_=h.mode,U=h.child,X={mode:"hidden",children:X},(_&1)===0&&U!==null?(U.childLanes=0,U.pendingProps=X):U=gy(X,_,0,null),u=uu(u,_,y,null),U.return=h,u.return=h,U.sibling=u,h.child=U,h.child.memoizedState=Ub(y),h.memoizedState=$b,u):Vb(h,X));if(L=u.memoizedState,L!==null&&(re=L.dehydrated,re!==null))return f8(u,h,X,_,re,L,y);if(U){U=_.fallback,X=h.mode,L=u.child,re=L.sibling;var ie={mode:"hidden",children:_.children};return(X&1)===0&&h.child!==L?(_=h.child,_.childLanes=0,_.pendingProps=ie,h.deletions=null):(_=Yl(L,ie),_.subtreeFlags=L.subtreeFlags&14680064),re!==null?U=Yl(re,U):(U=uu(U,X,y,null),U.flags|=2),U.return=h,_.return=h,_.sibling=U,h.child=_,_=U,U=h.child,X=u.child.memoizedState,X=X===null?Ub(y):{baseLanes:X.baseLanes|y,cachePool:null,transitions:X.transitions},U.memoizedState=X,U.childLanes=u.childLanes&~y,h.memoizedState=$b,_}return U=u.child,u=U.sibling,_=Yl(U,{mode:"visible",children:_.children}),(h.mode&1)===0&&(_.lanes=y),_.return=h,_.sibling=null,u!==null&&(y=h.deletions,y===null?(h.deletions=[u],h.flags|=16):y.push(u)),h.child=_,h.memoizedState=null,_}function Vb(u,h){return h=gy({mode:"visible",children:h},u.mode,0,null),h.return=u,u.child=h}function ny(u,h,y,_){return _!==null&&gb(_),zd(h,u.child,null,y),u=Vb(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function f8(u,h,y,_,L,U,X){if(y)return h.flags&256?(h.flags&=-257,_=Lb(Error(r(422))),ny(u,h,X,_)):h.memoizedState!==null?(h.child=u.child,h.flags|=128,null):(U=_.fallback,L=h.mode,_=gy({mode:"visible",children:_.children},L,0,null),U=uu(U,L,X,null),U.flags|=2,_.return=h,U.return=h,_.sibling=U,h.child=_,(h.mode&1)!==0&&zd(h,u.child,null,X),h.child.memoizedState=Ub(X),h.memoizedState=$b,U);if((h.mode&1)===0)return ny(u,h,X,null);if(L.data==="$!"){if(_=L.nextSibling&&L.nextSibling.dataset,_)var re=_.dgst;return _=re,U=Error(r(419)),_=Lb(U,_,void 0),ny(u,h,X,_)}if(re=(X&u.childLanes)!==0,ns||re){if(_=Kn,_!==null){switch(X&-X){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}L=(L&(_.suspendedLanes|X))!==0?0:L,L!==0&&L!==U.retryLane&&(U.retryLane=L,Qa(u,L),Oo(_,u,L,-1))}return sw(),_=Lb(Error(r(421))),ny(u,h,X,_)}return L.data==="$?"?(h.flags|=128,h.child=u.child,h=S8.bind(null,u),L._reactRetry=h,null):(u=U.treeContext,_s=Fl(L.nextSibling),ks=h,Kr=!0,Ro=null,u!==null&&(Qs[Zs++]=Ja,Qs[Zs++]=Xa,Qs[Zs++]=tu,Ja=u.id,Xa=u.overflow,tu=h),h=Vb(h,_.children),h.flags|=4096,h)}function IT(u,h,y){u.lanes|=h;var _=u.alternate;_!==null&&(_.lanes|=h),bb(u.return,h,y)}function Wb(u,h,y,_,L){var U=u.memoizedState;U===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:_,tail:y,tailMode:L}:(U.isBackwards=h,U.rendering=null,U.renderingStartTime=0,U.last=_,U.tail=y,U.tailMode=L)}function MT(u,h,y){var _=h.pendingProps,L=_.revealOrder,U=_.tail;if(Li(u,h,_.children,y),_=en.current,(_&2)!==0)_=_&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&IT(u,y,h);else if(u.tag===19)IT(u,y,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}_&=1}if(zr(en,_),(h.mode&1)===0)h.memoizedState=null;else switch(L){case"forwards":for(y=h.child,L=null;y!==null;)u=y.alternate,u!==null&&Jg(u)===null&&(L=y),y=y.sibling;y=L,y===null?(L=h.child,h.child=null):(L=y.sibling,y.sibling=null),Wb(h,!1,L,y,U);break;case"backwards":for(y=null,L=h.child,h.child=null;L!==null;){if(u=L.alternate,u!==null&&Jg(u)===null){h.child=L;break}u=L.sibling,L.sibling=y,y=L,L=u}Wb(h,!0,y,null,U);break;case"together":Wb(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function iy(u,h){(h.mode&1)===0&&u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2)}function el(u,h,y){if(u!==null&&(h.dependencies=u.dependencies),ou|=h.lanes,(y&h.childLanes)===0)return null;if(u!==null&&h.child!==u.child)throw Error(r(153));if(h.child!==null){for(u=h.child,y=Yl(u,u.pendingProps),h.child=y,y.return=h;u.sibling!==null;)u=u.sibling,y=y.sibling=Yl(u,u.pendingProps),y.return=h;y.sibling=null}return h.child}function h8(u,h,y){switch(h.tag){case 3:jT(h),Fd();break;case 5:KE(h);break;case 1:rs(h.type)&&Bg(h);break;case 4:_b(h,h.stateNode.containerInfo);break;case 10:var _=h.type._context,L=h.memoizedProps.value;zr(Hg,_._currentValue),_._currentValue=L;break;case 13:if(_=h.memoizedState,_!==null)return _.dehydrated!==null?(zr(en,en.current&1),h.flags|=128,null):(y&h.child.childLanes)!==0?RT(u,h,y):(zr(en,en.current&1),u=el(u,h,y),u!==null?u.sibling:null);zr(en,en.current&1);break;case 19:if(_=(y&h.childLanes)!==0,(u.flags&128)!==0){if(_)return MT(u,h,y);h.flags|=128}if(L=h.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),zr(en,en.current),_)break;return null;case 22:case 23:return h.lanes=0,TT(u,h,y)}return el(u,h,y)}var DT,qb,OT,LT;DT=function(u,h){for(var y=h.child;y!==null;){if(y.tag===5||y.tag===6)u.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===h)break;for(;y.sibling===null;){if(y.return===null||y.return===h)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},qb=function(){},OT=function(u,h,y,_){var L=u.memoizedProps;if(L!==_){u=h.stateNode,iu(pa.current);var U=null;switch(y){case"input":L=me(u,L),_=me(u,_),U=[];break;case"select":L=N({},L,{value:void 0}),_=N({},_,{value:void 0}),U=[];break;case"textarea":L=Jt(u,L),_=Jt(u,_),U=[];break;default:typeof L.onClick!="function"&&typeof _.onClick=="function"&&(u.onclick=Lg)}nt(y,_);var X;y=null;for(ge in L)if(!_.hasOwnProperty(ge)&&L.hasOwnProperty(ge)&&L[ge]!=null)if(ge==="style"){var re=L[ge];for(X in re)re.hasOwnProperty(X)&&(y||(y={}),y[X]="")}else ge!=="dangerouslySetInnerHTML"&&ge!=="children"&&ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&ge!=="autoFocus"&&(i.hasOwnProperty(ge)?U||(U=[]):(U=U||[]).push(ge,null));for(ge in _){var ie=_[ge];if(re=L!=null?L[ge]:void 0,_.hasOwnProperty(ge)&&ie!==re&&(ie!=null||re!=null))if(ge==="style")if(re){for(X in re)!re.hasOwnProperty(X)||ie&&ie.hasOwnProperty(X)||(y||(y={}),y[X]="");for(X in ie)ie.hasOwnProperty(X)&&re[X]!==ie[X]&&(y||(y={}),y[X]=ie[X])}else y||(U||(U=[]),U.push(ge,y)),y=ie;else ge==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,re=re?re.__html:void 0,ie!=null&&re!==ie&&(U=U||[]).push(ge,ie)):ge==="children"?typeof ie!="string"&&typeof ie!="number"||(U=U||[]).push(ge,""+ie):ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&(i.hasOwnProperty(ge)?(ie!=null&&ge==="onScroll"&&Wr("scroll",u),U||re===ie||(U=[])):(U=U||[]).push(ge,ie))}y&&(U=U||[]).push("style",y);var ge=U;(h.updateQueue=ge)&&(h.flags|=4)}},LT=function(u,h,y,_){y!==_&&(h.flags|=4)};function ep(u,h){if(!Kr)switch(u.tailMode){case"hidden":h=u.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var _=null;y!==null;)y.alternate!==null&&(_=y),y=y.sibling;_===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:_.sibling=null}}function vi(u){var h=u.alternate!==null&&u.alternate.child===u.child,y=0,_=0;if(h)for(var L=u.child;L!==null;)y|=L.lanes|L.childLanes,_|=L.subtreeFlags&14680064,_|=L.flags&14680064,L.return=u,L=L.sibling;else for(L=u.child;L!==null;)y|=L.lanes|L.childLanes,_|=L.subtreeFlags,_|=L.flags,L.return=u,L=L.sibling;return u.subtreeFlags|=_,u.childLanes=y,h}function p8(u,h,y){var _=h.pendingProps;switch(hb(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vi(h),null;case 1:return rs(h.type)&&zg(),vi(h),null;case 3:return _=h.stateNode,Ud(),qr(ts),qr(yi),Eb(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(u===null||u.child===null)&&(Wg(h)?h.flags|=4:u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Ro!==null&&(rw(Ro),Ro=null))),qb(u,h),vi(h),null;case 5:Cb(h);var L=iu(Yh.current);if(y=h.type,u!==null&&h.stateNode!=null)OT(u,h,y,_,L),u.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!_){if(h.stateNode===null)throw Error(r(166));return vi(h),null}if(u=iu(pa.current),Wg(h)){_=h.stateNode,y=h.type;var U=h.memoizedProps;switch(_[ha]=h,_[Wh]=U,u=(h.mode&1)!==0,y){case"dialog":Wr("cancel",_),Wr("close",_);break;case"iframe":case"object":case"embed":Wr("load",_);break;case"video":case"audio":for(L=0;L<$h.length;L++)Wr($h[L],_);break;case"source":Wr("error",_);break;case"img":case"image":case"link":Wr("error",_),Wr("load",_);break;case"details":Wr("toggle",_);break;case"input":_e(_,U),Wr("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!U.multiple},Wr("invalid",_);break;case"textarea":ot(_,U),Wr("invalid",_)}nt(y,U),L=null;for(var X in U)if(U.hasOwnProperty(X)){var re=U[X];X==="children"?typeof re=="string"?_.textContent!==re&&(U.suppressHydrationWarning!==!0&&Og(_.textContent,re,u),L=["children",re]):typeof re=="number"&&_.textContent!==""+re&&(U.suppressHydrationWarning!==!0&&Og(_.textContent,re,u),L=["children",""+re]):i.hasOwnProperty(X)&&re!=null&&X==="onScroll"&&Wr("scroll",_)}switch(y){case"input":ne(_),Ye(_,U,!0);break;case"textarea":ne(_),Ie(_);break;case"select":case"option":break;default:typeof U.onClick=="function"&&(_.onclick=Lg)}_=L,h.updateQueue=_,_!==null&&(h.flags|=4)}else{X=L.nodeType===9?L:L.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=se(y)),u==="http://www.w3.org/1999/xhtml"?y==="script"?(u=X.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof _.is=="string"?u=X.createElement(y,{is:_.is}):(u=X.createElement(y),y==="select"&&(X=u,_.multiple?X.multiple=!0:_.size&&(X.size=_.size))):u=X.createElementNS(u,y),u[ha]=h,u[Wh]=_,DT(u,h,!1,!1),h.stateNode=u;e:{switch(X=Xt(y,_),y){case"dialog":Wr("cancel",u),Wr("close",u),L=_;break;case"iframe":case"object":case"embed":Wr("load",u),L=_;break;case"video":case"audio":for(L=0;L<$h.length;L++)Wr($h[L],u);L=_;break;case"source":Wr("error",u),L=_;break;case"img":case"image":case"link":Wr("error",u),Wr("load",u),L=_;break;case"details":Wr("toggle",u),L=_;break;case"input":_e(u,_),L=me(u,_),Wr("invalid",u);break;case"option":L=_;break;case"select":u._wrapperState={wasMultiple:!!_.multiple},L=N({},_,{value:void 0}),Wr("invalid",u);break;case"textarea":ot(u,_),L=Jt(u,_),Wr("invalid",u);break;default:L=_}nt(y,L),re=L;for(U in re)if(re.hasOwnProperty(U)){var ie=re[U];U==="style"?Wt(u,ie):U==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,ie!=null&&Ae(u,ie)):U==="children"?typeof ie=="string"?(y!=="textarea"||ie!=="")&&Me(u,ie):typeof ie=="number"&&Me(u,""+ie):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(i.hasOwnProperty(U)?ie!=null&&U==="onScroll"&&Wr("scroll",u):ie!=null&&P(u,U,ie,X))}switch(y){case"input":ne(u),Ye(u,_,!1);break;case"textarea":ne(u),Ie(u);break;case"option":_.value!=null&&u.setAttribute("value",""+Q(_.value));break;case"select":u.multiple=!!_.multiple,U=_.value,U!=null?De(u,!!_.multiple,U,!1):_.defaultValue!=null&&De(u,!!_.multiple,_.defaultValue,!0);break;default:typeof L.onClick=="function"&&(u.onclick=Lg)}switch(y){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return vi(h),null;case 6:if(u&&h.stateNode!=null)LT(u,h,u.memoizedProps,_);else{if(typeof _!="string"&&h.stateNode===null)throw Error(r(166));if(y=iu(Yh.current),iu(pa.current),Wg(h)){if(_=h.stateNode,y=h.memoizedProps,_[ha]=h,(U=_.nodeValue!==y)&&(u=ks,u!==null))switch(u.tag){case 3:Og(_.nodeValue,y,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&Og(_.nodeValue,y,(u.mode&1)!==0)}U&&(h.flags|=4)}else _=(y.nodeType===9?y:y.ownerDocument).createTextNode(_),_[ha]=h,h.stateNode=_}return vi(h),null;case 13:if(qr(en),_=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Kr&&_s!==null&&(h.mode&1)!==0&&(h.flags&128)===0)BE(),Fd(),h.flags|=98560,U=!1;else if(U=Wg(h),_!==null&&_.dehydrated!==null){if(u===null){if(!U)throw Error(r(318));if(U=h.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(r(317));U[ha]=h}else Fd(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;vi(h),U=!1}else Ro!==null&&(rw(Ro),Ro=null),U=!0;if(!U)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=y,h):(_=_!==null,_!==(u!==null&&u.memoizedState!==null)&&_&&(h.child.flags|=8192,(h.mode&1)!==0&&(u===null||(en.current&1)!==0?$n===0&&($n=3):sw())),h.updateQueue!==null&&(h.flags|=4),vi(h),null);case 4:return Ud(),qb(u,h),u===null&&Uh(h.stateNode.containerInfo),vi(h),null;case 10:return vb(h.type._context),vi(h),null;case 17:return rs(h.type)&&zg(),vi(h),null;case 19:if(qr(en),U=h.memoizedState,U===null)return vi(h),null;if(_=(h.flags&128)!==0,X=U.rendering,X===null)if(_)ep(U,!1);else{if($n!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(X=Jg(u),X!==null){for(h.flags|=128,ep(U,!1),_=X.updateQueue,_!==null&&(h.updateQueue=_,h.flags|=4),h.subtreeFlags=0,_=y,y=h.child;y!==null;)U=y,u=_,U.flags&=14680066,X=U.alternate,X===null?(U.childLanes=0,U.lanes=u,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null):(U.childLanes=X.childLanes,U.lanes=X.lanes,U.child=X.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=X.memoizedProps,U.memoizedState=X.memoizedState,U.updateQueue=X.updateQueue,U.type=X.type,u=X.dependencies,U.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),y=y.sibling;return zr(en,en.current&1|2),h.child}u=u.sibling}U.tail!==null&&Lt()>Hd&&(h.flags|=128,_=!0,ep(U,!1),h.lanes=4194304)}else{if(!_)if(u=Jg(X),u!==null){if(h.flags|=128,_=!0,y=u.updateQueue,y!==null&&(h.updateQueue=y,h.flags|=4),ep(U,!0),U.tail===null&&U.tailMode==="hidden"&&!X.alternate&&!Kr)return vi(h),null}else 2*Lt()-U.renderingStartTime>Hd&&y!==1073741824&&(h.flags|=128,_=!0,ep(U,!1),h.lanes=4194304);U.isBackwards?(X.sibling=h.child,h.child=X):(y=U.last,y!==null?y.sibling=X:h.child=X,U.last=X)}return U.tail!==null?(h=U.tail,U.rendering=h,U.tail=h.sibling,U.renderingStartTime=Lt(),h.sibling=null,y=en.current,zr(en,_?y&1|2:y&1),h):(vi(h),null);case 22:case 23:return iw(),_=h.memoizedState!==null,u!==null&&u.memoizedState!==null!==_&&(h.flags|=8192),_&&(h.mode&1)!==0?(Cs&1073741824)!==0&&(vi(h),h.subtreeFlags&6&&(h.flags|=8192)):vi(h),null;case 24:return null;case 25:return null}throw Error(r(156,h.tag))}function m8(u,h){switch(hb(h),h.tag){case 1:return rs(h.type)&&zg(),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return Ud(),qr(ts),qr(yi),Eb(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 5:return Cb(h),null;case 13:if(qr(en),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(r(340));Fd()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return qr(en),null;case 4:return Ud(),null;case 10:return vb(h.type._context),null;case 22:case 23:return iw(),null;case 24:return null;default:return null}}var sy=!1,bi=!1,g8=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Wd(u,h){var y=u.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(_){cn(u,h,_)}else y.current=null}function Hb(u,h,y){try{y()}catch(_){cn(u,h,_)}}var FT=!1;function y8(u,h){if(ib=Sd,u=gE(),Jv(u)){if("selectionStart"in u)var y={start:u.selectionStart,end:u.selectionEnd};else e:{y=(y=u.ownerDocument)&&y.defaultView||window;var _=y.getSelection&&y.getSelection();if(_&&_.rangeCount!==0){y=_.anchorNode;var L=_.anchorOffset,U=_.focusNode;_=_.focusOffset;try{y.nodeType,U.nodeType}catch{y=null;break e}var X=0,re=-1,ie=-1,ge=0,Se=0,Ee=u,Ce=null;t:for(;;){for(var We;Ee!==y||L!==0&&Ee.nodeType!==3||(re=X+L),Ee!==U||_!==0&&Ee.nodeType!==3||(ie=X+_),Ee.nodeType===3&&(X+=Ee.nodeValue.length),(We=Ee.firstChild)!==null;)Ce=Ee,Ee=We;for(;;){if(Ee===u)break t;if(Ce===y&&++ge===L&&(re=X),Ce===U&&++Se===_&&(ie=X),(We=Ee.nextSibling)!==null)break;Ee=Ce,Ce=Ee.parentNode}Ee=We}y=re===-1||ie===-1?null:{start:re,end:ie}}else y=null}y=y||{start:0,end:0}}else y=null;for(sb={focusedElem:u,selectionRange:y},Sd=!1,Je=h;Je!==null;)if(h=Je,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,Je=u;else for(;Je!==null;){h=Je;try{var et=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(et!==null){var it=et.memoizedProps,gn=et.memoizedState,fe=h.stateNode,ce=fe.getSnapshotBeforeUpdate(h.elementType===h.type?it:Io(h.type,it),gn);fe.__reactInternalSnapshotBeforeUpdate=ce}break;case 3:var pe=h.stateNode.containerInfo;pe.nodeType===1?pe.textContent="":pe.nodeType===9&&pe.documentElement&&pe.removeChild(pe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(je){cn(h,h.return,je)}if(u=h.sibling,u!==null){u.return=h.return,Je=u;break}Je=h.return}return et=FT,FT=!1,et}function tp(u,h,y){var _=h.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var L=_=_.next;do{if((L.tag&u)===u){var U=L.destroy;L.destroy=void 0,U!==void 0&&Hb(h,y,U)}L=L.next}while(L!==_)}}function oy(u,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var y=h=h.next;do{if((y.tag&u)===u){var _=y.create;y.destroy=_()}y=y.next}while(y!==h)}}function Gb(u){var h=u.ref;if(h!==null){var y=u.stateNode;switch(u.tag){case 5:u=y;break;default:u=y}typeof h=="function"?h(u):h.current=u}}function zT(u){var h=u.alternate;h!==null&&(u.alternate=null,zT(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&(delete h[ha],delete h[Wh],delete h[cb],delete h[ZB],delete h[e8])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function BT(u){return u.tag===5||u.tag===3||u.tag===4}function $T(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||BT(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Kb(u,h,y){var _=u.tag;if(_===5||_===6)u=u.stateNode,h?y.nodeType===8?y.parentNode.insertBefore(u,h):y.insertBefore(u,h):(y.nodeType===8?(h=y.parentNode,h.insertBefore(u,y)):(h=y,h.appendChild(u)),y=y._reactRootContainer,y!=null||h.onclick!==null||(h.onclick=Lg));else if(_!==4&&(u=u.child,u!==null))for(Kb(u,h,y),u=u.sibling;u!==null;)Kb(u,h,y),u=u.sibling}function Yb(u,h,y){var _=u.tag;if(_===5||_===6)u=u.stateNode,h?y.insertBefore(u,h):y.appendChild(u);else if(_!==4&&(u=u.child,u!==null))for(Yb(u,h,y),u=u.sibling;u!==null;)Yb(u,h,y),u=u.sibling}var ii=null,Mo=!1;function Wl(u,h,y){for(y=y.child;y!==null;)UT(u,h,y),y=y.sibling}function UT(u,h,y){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Hn,y)}catch{}switch(y.tag){case 5:bi||Wd(y,h);case 6:var _=ii,L=Mo;ii=null,Wl(u,h,y),ii=_,Mo=L,ii!==null&&(Mo?(u=ii,y=y.stateNode,u.nodeType===8?u.parentNode.removeChild(y):u.removeChild(y)):ii.removeChild(y.stateNode));break;case 18:ii!==null&&(Mo?(u=ii,y=y.stateNode,u.nodeType===8?lb(u.parentNode,y):u.nodeType===1&&lb(u,y),Yc(u)):lb(ii,y.stateNode));break;case 4:_=ii,L=Mo,ii=y.stateNode.containerInfo,Mo=!0,Wl(u,h,y),ii=_,Mo=L;break;case 0:case 11:case 14:case 15:if(!bi&&(_=y.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){L=_=_.next;do{var U=L,X=U.destroy;U=U.tag,X!==void 0&&((U&2)!==0||(U&4)!==0)&&Hb(y,h,X),L=L.next}while(L!==_)}Wl(u,h,y);break;case 1:if(!bi&&(Wd(y,h),_=y.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=y.memoizedProps,_.state=y.memoizedState,_.componentWillUnmount()}catch(re){cn(y,h,re)}Wl(u,h,y);break;case 21:Wl(u,h,y);break;case 22:y.mode&1?(bi=(_=bi)||y.memoizedState!==null,Wl(u,h,y),bi=_):Wl(u,h,y);break;default:Wl(u,h,y)}}function VT(u){var h=u.updateQueue;if(h!==null){u.updateQueue=null;var y=u.stateNode;y===null&&(y=u.stateNode=new g8),h.forEach(function(_){var L=E8.bind(null,u,_);y.has(_)||(y.add(_),_.then(L,L))})}}function Do(u,h){var y=h.deletions;if(y!==null)for(var _=0;_<y.length;_++){var L=y[_];try{var U=u,X=h,re=X;e:for(;re!==null;){switch(re.tag){case 5:ii=re.stateNode,Mo=!1;break e;case 3:ii=re.stateNode.containerInfo,Mo=!0;break e;case 4:ii=re.stateNode.containerInfo,Mo=!0;break e}re=re.return}if(ii===null)throw Error(r(160));UT(U,X,L),ii=null,Mo=!1;var ie=L.alternate;ie!==null&&(ie.return=null),L.return=null}catch(ge){cn(L,h,ge)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)WT(h,u),h=h.sibling}function WT(u,h){var y=u.alternate,_=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Do(h,u),ga(u),_&4){try{tp(3,u,u.return),oy(3,u)}catch(it){cn(u,u.return,it)}try{tp(5,u,u.return)}catch(it){cn(u,u.return,it)}}break;case 1:Do(h,u),ga(u),_&512&&y!==null&&Wd(y,y.return);break;case 5:if(Do(h,u),ga(u),_&512&&y!==null&&Wd(y,y.return),u.flags&32){var L=u.stateNode;try{Me(L,"")}catch(it){cn(u,u.return,it)}}if(_&4&&(L=u.stateNode,L!=null)){var U=u.memoizedProps,X=y!==null?y.memoizedProps:U,re=u.type,ie=u.updateQueue;if(u.updateQueue=null,ie!==null)try{re==="input"&&U.type==="radio"&&U.name!=null&&Xe(L,U),Xt(re,X);var ge=Xt(re,U);for(X=0;X<ie.length;X+=2){var Se=ie[X],Ee=ie[X+1];Se==="style"?Wt(L,Ee):Se==="dangerouslySetInnerHTML"?Ae(L,Ee):Se==="children"?Me(L,Ee):P(L,Se,Ee,ge)}switch(re){case"input":le(L,U);break;case"textarea":ht(L,U);break;case"select":var Ce=L._wrapperState.wasMultiple;L._wrapperState.wasMultiple=!!U.multiple;var We=U.value;We!=null?De(L,!!U.multiple,We,!1):Ce!==!!U.multiple&&(U.defaultValue!=null?De(L,!!U.multiple,U.defaultValue,!0):De(L,!!U.multiple,U.multiple?[]:"",!1))}L[Wh]=U}catch(it){cn(u,u.return,it)}}break;case 6:if(Do(h,u),ga(u),_&4){if(u.stateNode===null)throw Error(r(162));L=u.stateNode,U=u.memoizedProps;try{L.nodeValue=U}catch(it){cn(u,u.return,it)}}break;case 3:if(Do(h,u),ga(u),_&4&&y!==null&&y.memoizedState.isDehydrated)try{Yc(h.containerInfo)}catch(it){cn(u,u.return,it)}break;case 4:Do(h,u),ga(u);break;case 13:Do(h,u),ga(u),L=u.child,L.flags&8192&&(U=L.memoizedState!==null,L.stateNode.isHidden=U,!U||L.alternate!==null&&L.alternate.memoizedState!==null||(Qb=Lt())),_&4&&VT(u);break;case 22:if(Se=y!==null&&y.memoizedState!==null,u.mode&1?(bi=(ge=bi)||Se,Do(h,u),bi=ge):Do(h,u),ga(u),_&8192){if(ge=u.memoizedState!==null,(u.stateNode.isHidden=ge)&&!Se&&(u.mode&1)!==0)for(Je=u,Se=u.child;Se!==null;){for(Ee=Je=Se;Je!==null;){switch(Ce=Je,We=Ce.child,Ce.tag){case 0:case 11:case 14:case 15:tp(4,Ce,Ce.return);break;case 1:Wd(Ce,Ce.return);var et=Ce.stateNode;if(typeof et.componentWillUnmount=="function"){_=Ce,y=Ce.return;try{h=_,et.props=h.memoizedProps,et.state=h.memoizedState,et.componentWillUnmount()}catch(it){cn(_,y,it)}}break;case 5:Wd(Ce,Ce.return);break;case 22:if(Ce.memoizedState!==null){GT(Ee);continue}}We!==null?(We.return=Ce,Je=We):GT(Ee)}Se=Se.sibling}e:for(Se=null,Ee=u;;){if(Ee.tag===5){if(Se===null){Se=Ee;try{L=Ee.stateNode,ge?(U=L.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none"):(re=Ee.stateNode,ie=Ee.memoizedProps.style,X=ie!=null&&ie.hasOwnProperty("display")?ie.display:null,re.style.display=_t("display",X))}catch(it){cn(u,u.return,it)}}}else if(Ee.tag===6){if(Se===null)try{Ee.stateNode.nodeValue=ge?"":Ee.memoizedProps}catch(it){cn(u,u.return,it)}}else if((Ee.tag!==22&&Ee.tag!==23||Ee.memoizedState===null||Ee===u)&&Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===u)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===u)break e;Se===Ee&&(Se=null),Ee=Ee.return}Se===Ee&&(Se=null),Ee.sibling.return=Ee.return,Ee=Ee.sibling}}break;case 19:Do(h,u),ga(u),_&4&&VT(u);break;case 21:break;default:Do(h,u),ga(u)}}function ga(u){var h=u.flags;if(h&2){try{e:{for(var y=u.return;y!==null;){if(BT(y)){var _=y;break e}y=y.return}throw Error(r(160))}switch(_.tag){case 5:var L=_.stateNode;_.flags&32&&(Me(L,""),_.flags&=-33);var U=$T(u);Yb(u,U,L);break;case 3:case 4:var X=_.stateNode.containerInfo,re=$T(u);Kb(u,re,X);break;default:throw Error(r(161))}}catch(ie){cn(u,u.return,ie)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function x8(u,h,y){Je=u,qT(u)}function qT(u,h,y){for(var _=(u.mode&1)!==0;Je!==null;){var L=Je,U=L.child;if(L.tag===22&&_){var X=L.memoizedState!==null||sy;if(!X){var re=L.alternate,ie=re!==null&&re.memoizedState!==null||bi;re=sy;var ge=bi;if(sy=X,(bi=ie)&&!ge)for(Je=L;Je!==null;)X=Je,ie=X.child,X.tag===22&&X.memoizedState!==null?KT(L):ie!==null?(ie.return=X,Je=ie):KT(L);for(;U!==null;)Je=U,qT(U),U=U.sibling;Je=L,sy=re,bi=ge}HT(u)}else(L.subtreeFlags&8772)!==0&&U!==null?(U.return=L,Je=U):HT(u)}}function HT(u){for(;Je!==null;){var h=Je;if((h.flags&8772)!==0){var y=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:bi||oy(5,h);break;case 1:var _=h.stateNode;if(h.flags&4&&!bi)if(y===null)_.componentDidMount();else{var L=h.elementType===h.type?y.memoizedProps:Io(h.type,y.memoizedProps);_.componentDidUpdate(L,y.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var U=h.updateQueue;U!==null&&GE(h,U,_);break;case 3:var X=h.updateQueue;if(X!==null){if(y=null,h.child!==null)switch(h.child.tag){case 5:y=h.child.stateNode;break;case 1:y=h.child.stateNode}GE(h,X,y)}break;case 5:var re=h.stateNode;if(y===null&&h.flags&4){y=re;var ie=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":ie.autoFocus&&y.focus();break;case"img":ie.src&&(y.src=ie.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var ge=h.alternate;if(ge!==null){var Se=ge.memoizedState;if(Se!==null){var Ee=Se.dehydrated;Ee!==null&&Yc(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}bi||h.flags&512&&Gb(h)}catch(Ce){cn(h,h.return,Ce)}}if(h===u){Je=null;break}if(y=h.sibling,y!==null){y.return=h.return,Je=y;break}Je=h.return}}function GT(u){for(;Je!==null;){var h=Je;if(h===u){Je=null;break}var y=h.sibling;if(y!==null){y.return=h.return,Je=y;break}Je=h.return}}function KT(u){for(;Je!==null;){var h=Je;try{switch(h.tag){case 0:case 11:case 15:var y=h.return;try{oy(4,h)}catch(ie){cn(h,y,ie)}break;case 1:var _=h.stateNode;if(typeof _.componentDidMount=="function"){var L=h.return;try{_.componentDidMount()}catch(ie){cn(h,L,ie)}}var U=h.return;try{Gb(h)}catch(ie){cn(h,U,ie)}break;case 5:var X=h.return;try{Gb(h)}catch(ie){cn(h,X,ie)}}}catch(ie){cn(h,h.return,ie)}if(h===u){Je=null;break}var re=h.sibling;if(re!==null){re.return=h.return,Je=re;break}Je=h.return}}var v8=Math.ceil,ay=S.ReactCurrentDispatcher,Jb=S.ReactCurrentOwner,ro=S.ReactCurrentBatchConfig,gr=0,Kn=null,Tn=null,si=0,Cs=0,qd=zl(0),$n=0,rp=null,ou=0,ly=0,Xb=0,np=null,is=null,Qb=0,Hd=1/0,tl=null,cy=!1,Zb=null,ql=null,uy=!1,Hl=null,dy=0,ip=0,ew=null,fy=-1,hy=0;function Fi(){return(gr&6)!==0?Lt():fy!==-1?fy:fy=Lt()}function Gl(u){return(u.mode&1)===0?1:(gr&2)!==0&&si!==0?si&-si:r8.transition!==null?(hy===0&&(hy=be()),hy):(u=Nt,u!==0||(u=window.event,u=u===void 0?16:Dh(u.type)),u)}function Oo(u,h,y,_){if(50<ip)throw ip=0,ew=null,Error(r(185));Ve(u,y,_),((gr&2)===0||u!==Kn)&&(u===Kn&&((gr&2)===0&&(ly|=y),$n===4&&Kl(u,si)),ss(u,_),y===1&&gr===0&&(h.mode&1)===0&&(Hd=Lt()+500,$g&&$l()))}function ss(u,h){var y=u.callbackNode;Sg(u,h);var _=Wc(u,u===Kn?si:0);if(_===0)y!==null&&_r(y),u.callbackNode=null,u.callbackPriority=0;else if(h=_&-_,u.callbackPriority!==h){if(y!=null&&_r(y),h===1)u.tag===0?t8(JT.bind(null,u)):DE(JT.bind(null,u)),XB(function(){(gr&6)===0&&$l()}),y=null;else{switch(En(_)){case 1:y=zn;break;case 4:y=To;break;case 16:y=hi;break;case 536870912:y=Zr;break;default:y=hi}y=iN(y,YT.bind(null,u))}u.callbackPriority=h,u.callbackNode=y}}function YT(u,h){if(fy=-1,hy=0,(gr&6)!==0)throw Error(r(327));var y=u.callbackNode;if(Gd()&&u.callbackNode!==y)return null;var _=Wc(u,u===Kn?si:0);if(_===0)return null;if((_&30)!==0||(_&u.expiredLanes)!==0||h)h=py(u,_);else{h=_;var L=gr;gr|=2;var U=QT();(Kn!==u||si!==h)&&(tl=null,Hd=Lt()+500,lu(u,h));do try{k8();break}catch(re){XT(u,re)}while(!0);xb(),ay.current=U,gr=L,Tn!==null?h=0:(Kn=null,si=0,h=$n)}if(h!==0){if(h===2&&(L=_d(u),L!==0&&(_=L,h=tw(u,L))),h===1)throw y=rp,lu(u,0),Kl(u,_),ss(u,Lt()),y;if(h===6)Kl(u,_);else{if(L=u.current.alternate,(_&30)===0&&!b8(L)&&(h=py(u,_),h===2&&(U=_d(u),U!==0&&(_=U,h=tw(u,U))),h===1))throw y=rp,lu(u,0),Kl(u,_),ss(u,Lt()),y;switch(u.finishedWork=L,u.finishedLanes=_,h){case 0:case 1:throw Error(r(345));case 2:cu(u,is,tl);break;case 3:if(Kl(u,_),(_&130023424)===_&&(h=Qb+500-Lt(),10<h)){if(Wc(u,0)!==0)break;if(L=u.suspendedLanes,(L&_)!==_){Fi(),u.pingedLanes|=u.suspendedLanes&L;break}u.timeoutHandle=ab(cu.bind(null,u,is,tl),h);break}cu(u,is,tl);break;case 4:if(Kl(u,_),(_&4194240)===_)break;for(h=u.eventTimes,L=-1;0<_;){var X=31-ri(_);U=1<<X,X=h[X],X>L&&(L=X),_&=~U}if(_=L,_=Lt()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*v8(_/1960))-_,10<_){u.timeoutHandle=ab(cu.bind(null,u,is,tl),_);break}cu(u,is,tl);break;case 5:cu(u,is,tl);break;default:throw Error(r(329))}}}return ss(u,Lt()),u.callbackNode===y?YT.bind(null,u):null}function tw(u,h){var y=np;return u.current.memoizedState.isDehydrated&&(lu(u,h).flags|=256),u=py(u,h),u!==2&&(h=is,is=y,h!==null&&rw(h)),u}function rw(u){is===null?is=u:is.push.apply(is,u)}function b8(u){for(var h=u;;){if(h.flags&16384){var y=h.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var _=0;_<y.length;_++){var L=y[_],U=L.getSnapshot;L=L.value;try{if(!Po(U(),L))return!1}catch{return!1}}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Kl(u,h){for(h&=~Xb,h&=~ly,u.suspendedLanes|=h,u.pingedLanes&=~h,u=u.expirationTimes;0<h;){var y=31-ri(h),_=1<<y;u[y]=-1,h&=~_}}function JT(u){if((gr&6)!==0)throw Error(r(327));Gd();var h=Wc(u,0);if((h&1)===0)return ss(u,Lt()),null;var y=py(u,h);if(u.tag!==0&&y===2){var _=_d(u);_!==0&&(h=_,y=tw(u,_))}if(y===1)throw y=rp,lu(u,0),Kl(u,h),ss(u,Lt()),y;if(y===6)throw Error(r(345));return u.finishedWork=u.current.alternate,u.finishedLanes=h,cu(u,is,tl),ss(u,Lt()),null}function nw(u,h){var y=gr;gr|=1;try{return u(h)}finally{gr=y,gr===0&&(Hd=Lt()+500,$g&&$l())}}function au(u){Hl!==null&&Hl.tag===0&&(gr&6)===0&&Gd();var h=gr;gr|=1;var y=ro.transition,_=Nt;try{if(ro.transition=null,Nt=1,u)return u()}finally{Nt=_,ro.transition=y,gr=h,(gr&6)===0&&$l()}}function iw(){Cs=qd.current,qr(qd)}function lu(u,h){u.finishedWork=null,u.finishedLanes=0;var y=u.timeoutHandle;if(y!==-1&&(u.timeoutHandle=-1,JB(y)),Tn!==null)for(y=Tn.return;y!==null;){var _=y;switch(hb(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&zg();break;case 3:Ud(),qr(ts),qr(yi),Eb();break;case 5:Cb(_);break;case 4:Ud();break;case 13:qr(en);break;case 19:qr(en);break;case 10:vb(_.type._context);break;case 22:case 23:iw()}y=y.return}if(Kn=u,Tn=u=Yl(u.current,null),si=Cs=h,$n=0,rp=null,Xb=ly=ou=0,is=np=null,nu!==null){for(h=0;h<nu.length;h++)if(y=nu[h],_=y.interleaved,_!==null){y.interleaved=null;var L=_.next,U=y.pending;if(U!==null){var X=U.next;U.next=L,_.next=X}y.pending=_}nu=null}return u}function XT(u,h){do{var y=Tn;try{if(xb(),Xg.current=ty,Qg){for(var _=tn.memoizedState;_!==null;){var L=_.queue;L!==null&&(L.pending=null),_=_.next}Qg=!1}if(su=0,Gn=Bn=tn=null,Jh=!1,Xh=0,Jb.current=null,y===null||y.return===null){$n=1,rp=h,Tn=null;break}e:{var U=u,X=y.return,re=y,ie=h;if(h=si,re.flags|=32768,ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var ge=ie,Se=re,Ee=Se.tag;if((Se.mode&1)===0&&(Ee===0||Ee===11||Ee===15)){var Ce=Se.alternate;Ce?(Se.updateQueue=Ce.updateQueue,Se.memoizedState=Ce.memoizedState,Se.lanes=Ce.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var We=kT(X);if(We!==null){We.flags&=-257,_T(We,X,re,U,h),We.mode&1&&wT(U,ge,h),h=We,ie=ge;var et=h.updateQueue;if(et===null){var it=new Set;it.add(ie),h.updateQueue=it}else et.add(ie);break e}else{if((h&1)===0){wT(U,ge,h),sw();break e}ie=Error(r(426))}}else if(Kr&&re.mode&1){var gn=kT(X);if(gn!==null){(gn.flags&65536)===0&&(gn.flags|=256),_T(gn,X,re,U,h),gb(Vd(ie,re));break e}}U=ie=Vd(ie,re),$n!==4&&($n=2),np===null?np=[U]:np.push(U),U=X;do{switch(U.tag){case 3:U.flags|=65536,h&=-h,U.lanes|=h;var fe=vT(U,ie,h);HE(U,fe);break e;case 1:re=ie;var ce=U.type,pe=U.stateNode;if((U.flags&128)===0&&(typeof ce.getDerivedStateFromError=="function"||pe!==null&&typeof pe.componentDidCatch=="function"&&(ql===null||!ql.has(pe)))){U.flags|=65536,h&=-h,U.lanes|=h;var je=bT(U,re,h);HE(U,je);break e}}U=U.return}while(U!==null)}eN(y)}catch(ct){h=ct,Tn===y&&y!==null&&(Tn=y=y.return);continue}break}while(!0)}function QT(){var u=ay.current;return ay.current=ty,u===null?ty:u}function sw(){($n===0||$n===3||$n===2)&&($n=4),Kn===null||(ou&268435455)===0&&(ly&268435455)===0||Kl(Kn,si)}function py(u,h){var y=gr;gr|=2;var _=QT();(Kn!==u||si!==h)&&(tl=null,lu(u,h));do try{w8();break}catch(L){XT(u,L)}while(!0);if(xb(),gr=y,ay.current=_,Tn!==null)throw Error(r(261));return Kn=null,si=0,$n}function w8(){for(;Tn!==null;)ZT(Tn)}function k8(){for(;Tn!==null&&!Di();)ZT(Tn)}function ZT(u){var h=nN(u.alternate,u,Cs);u.memoizedProps=u.pendingProps,h===null?eN(u):Tn=h,Jb.current=null}function eN(u){var h=u;do{var y=h.alternate;if(u=h.return,(h.flags&32768)===0){if(y=p8(y,h,Cs),y!==null){Tn=y;return}}else{if(y=m8(y,h),y!==null){y.flags&=32767,Tn=y;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{$n=6,Tn=null;return}}if(h=h.sibling,h!==null){Tn=h;return}Tn=h=u}while(h!==null);$n===0&&($n=5)}function cu(u,h,y){var _=Nt,L=ro.transition;try{ro.transition=null,Nt=1,_8(u,h,y,_)}finally{ro.transition=L,Nt=_}return null}function _8(u,h,y,_){do Gd();while(Hl!==null);if((gr&6)!==0)throw Error(r(327));y=u.finishedWork;var L=u.finishedLanes;if(y===null)return null;if(u.finishedWork=null,u.finishedLanes=0,y===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0;var U=y.lanes|y.childLanes;if(Bt(u,U),u===Kn&&(Tn=Kn=null,si=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||uy||(uy=!0,iN(hi,function(){return Gd(),null})),U=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||U){U=ro.transition,ro.transition=null;var X=Nt;Nt=1;var re=gr;gr|=4,Jb.current=null,y8(u,y),WT(y,u),VB(sb),Sd=!!ib,sb=ib=null,u.current=y,x8(y),Qi(),gr=re,Nt=X,ro.transition=U}else u.current=y;if(uy&&(uy=!1,Hl=u,dy=L),U=u.pendingLanes,U===0&&(ql=null),mi(y.stateNode),ss(u,Lt()),h!==null)for(_=u.onRecoverableError,y=0;y<h.length;y++)L=h[y],_(L.value,{componentStack:L.stack,digest:L.digest});if(cy)throw cy=!1,u=Zb,Zb=null,u;return(dy&1)!==0&&u.tag!==0&&Gd(),U=u.pendingLanes,(U&1)!==0?u===ew?ip++:(ip=0,ew=u):ip=0,$l(),null}function Gd(){if(Hl!==null){var u=En(dy),h=ro.transition,y=Nt;try{if(ro.transition=null,Nt=16>u?16:u,Hl===null)var _=!1;else{if(u=Hl,Hl=null,dy=0,(gr&6)!==0)throw Error(r(331));var L=gr;for(gr|=4,Je=u.current;Je!==null;){var U=Je,X=U.child;if((Je.flags&16)!==0){var re=U.deletions;if(re!==null){for(var ie=0;ie<re.length;ie++){var ge=re[ie];for(Je=ge;Je!==null;){var Se=Je;switch(Se.tag){case 0:case 11:case 15:tp(8,Se,U)}var Ee=Se.child;if(Ee!==null)Ee.return=Se,Je=Ee;else for(;Je!==null;){Se=Je;var Ce=Se.sibling,We=Se.return;if(zT(Se),Se===ge){Je=null;break}if(Ce!==null){Ce.return=We,Je=Ce;break}Je=We}}}var et=U.alternate;if(et!==null){var it=et.child;if(it!==null){et.child=null;do{var gn=it.sibling;it.sibling=null,it=gn}while(it!==null)}}Je=U}}if((U.subtreeFlags&2064)!==0&&X!==null)X.return=U,Je=X;else e:for(;Je!==null;){if(U=Je,(U.flags&2048)!==0)switch(U.tag){case 0:case 11:case 15:tp(9,U,U.return)}var fe=U.sibling;if(fe!==null){fe.return=U.return,Je=fe;break e}Je=U.return}}var ce=u.current;for(Je=ce;Je!==null;){X=Je;var pe=X.child;if((X.subtreeFlags&2064)!==0&&pe!==null)pe.return=X,Je=pe;else e:for(X=ce;Je!==null;){if(re=Je,(re.flags&2048)!==0)try{switch(re.tag){case 0:case 11:case 15:oy(9,re)}}catch(ct){cn(re,re.return,ct)}if(re===X){Je=null;break e}var je=re.sibling;if(je!==null){je.return=re.return,Je=je;break e}Je=re.return}}if(gr=L,$l(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Hn,u)}catch{}_=!0}return _}finally{Nt=y,ro.transition=h}}return!1}function tN(u,h,y){h=Vd(y,h),h=vT(u,h,1),u=Vl(u,h,1),h=Fi(),u!==null&&(Ve(u,1,h),ss(u,h))}function cn(u,h,y){if(u.tag===3)tN(u,u,y);else for(;h!==null;){if(h.tag===3){tN(h,u,y);break}else if(h.tag===1){var _=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(ql===null||!ql.has(_))){u=Vd(y,u),u=bT(h,u,1),h=Vl(h,u,1),u=Fi(),h!==null&&(Ve(h,1,u),ss(h,u));break}}h=h.return}}function C8(u,h,y){var _=u.pingCache;_!==null&&_.delete(h),h=Fi(),u.pingedLanes|=u.suspendedLanes&y,Kn===u&&(si&y)===y&&($n===4||$n===3&&(si&130023424)===si&&500>Lt()-Qb?lu(u,0):Xb|=y),ss(u,h)}function rN(u,h){h===0&&((u.mode&1)===0?h=1:(h=kd,kd<<=1,(kd&130023424)===0&&(kd=4194304)));var y=Fi();u=Qa(u,h),u!==null&&(Ve(u,h,y),ss(u,y))}function S8(u){var h=u.memoizedState,y=0;h!==null&&(y=h.retryLane),rN(u,y)}function E8(u,h){var y=0;switch(u.tag){case 13:var _=u.stateNode,L=u.memoizedState;L!==null&&(y=L.retryLane);break;case 19:_=u.stateNode;break;default:throw Error(r(314))}_!==null&&_.delete(h),rN(u,y)}var nN;nN=function(u,h,y){if(u!==null)if(u.memoizedProps!==h.pendingProps||ts.current)ns=!0;else{if((u.lanes&y)===0&&(h.flags&128)===0)return ns=!1,h8(u,h,y);ns=(u.flags&131072)!==0}else ns=!1,Kr&&(h.flags&1048576)!==0&&OE(h,Vg,h.index);switch(h.lanes=0,h.tag){case 2:var _=h.type;iy(u,h),u=h.pendingProps;var L=Dd(h,yi.current);$d(h,y),L=Ab(null,h,_,u,L,y);var U=jb();return h.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,rs(_)?(U=!0,Bg(h)):U=!1,h.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,kb(h),L.updater=ry,h.stateNode=L,L._reactInternals=h,Ob(h,_,u,y),h=Bb(null,h,_,!0,U,y)):(h.tag=0,Kr&&U&&fb(h),Li(null,h,L,y),h=h.child),h;case 16:_=h.elementType;e:{switch(iy(u,h),u=h.pendingProps,L=_._init,_=L(_._payload),h.type=_,L=h.tag=N8(_),u=Io(_,u),L){case 0:h=zb(null,h,_,u,y);break e;case 1:h=AT(null,h,_,u,y);break e;case 11:h=CT(null,h,_,u,y);break e;case 14:h=ST(null,h,_,Io(_.type,u),y);break e}throw Error(r(306,_,""))}return h;case 0:return _=h.type,L=h.pendingProps,L=h.elementType===_?L:Io(_,L),zb(u,h,_,L,y);case 1:return _=h.type,L=h.pendingProps,L=h.elementType===_?L:Io(_,L),AT(u,h,_,L,y);case 3:e:{if(jT(h),u===null)throw Error(r(387));_=h.pendingProps,U=h.memoizedState,L=U.element,qE(u,h),Yg(h,_,null,y);var X=h.memoizedState;if(_=X.element,U.isDehydrated)if(U={element:_,isDehydrated:!1,cache:X.cache,pendingSuspenseBoundaries:X.pendingSuspenseBoundaries,transitions:X.transitions},h.updateQueue.baseState=U,h.memoizedState=U,h.flags&256){L=Vd(Error(r(423)),h),h=PT(u,h,_,y,L);break e}else if(_!==L){L=Vd(Error(r(424)),h),h=PT(u,h,_,y,L);break e}else for(_s=Fl(h.stateNode.containerInfo.firstChild),ks=h,Kr=!0,Ro=null,y=VE(h,null,_,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Fd(),_===L){h=el(u,h,y);break e}Li(u,h,_,y)}h=h.child}return h;case 5:return KE(h),u===null&&mb(h),_=h.type,L=h.pendingProps,U=u!==null?u.memoizedProps:null,X=L.children,ob(_,L)?X=null:U!==null&&ob(_,U)&&(h.flags|=32),NT(u,h),Li(u,h,X,y),h.child;case 6:return u===null&&mb(h),null;case 13:return RT(u,h,y);case 4:return _b(h,h.stateNode.containerInfo),_=h.pendingProps,u===null?h.child=zd(h,null,_,y):Li(u,h,_,y),h.child;case 11:return _=h.type,L=h.pendingProps,L=h.elementType===_?L:Io(_,L),CT(u,h,_,L,y);case 7:return Li(u,h,h.pendingProps,y),h.child;case 8:return Li(u,h,h.pendingProps.children,y),h.child;case 12:return Li(u,h,h.pendingProps.children,y),h.child;case 10:e:{if(_=h.type._context,L=h.pendingProps,U=h.memoizedProps,X=L.value,zr(Hg,_._currentValue),_._currentValue=X,U!==null)if(Po(U.value,X)){if(U.children===L.children&&!ts.current){h=el(u,h,y);break e}}else for(U=h.child,U!==null&&(U.return=h);U!==null;){var re=U.dependencies;if(re!==null){X=U.child;for(var ie=re.firstContext;ie!==null;){if(ie.context===_){if(U.tag===1){ie=Za(-1,y&-y),ie.tag=2;var ge=U.updateQueue;if(ge!==null){ge=ge.shared;var Se=ge.pending;Se===null?ie.next=ie:(ie.next=Se.next,Se.next=ie),ge.pending=ie}}U.lanes|=y,ie=U.alternate,ie!==null&&(ie.lanes|=y),bb(U.return,y,h),re.lanes|=y;break}ie=ie.next}}else if(U.tag===10)X=U.type===h.type?null:U.child;else if(U.tag===18){if(X=U.return,X===null)throw Error(r(341));X.lanes|=y,re=X.alternate,re!==null&&(re.lanes|=y),bb(X,y,h),X=U.sibling}else X=U.child;if(X!==null)X.return=U;else for(X=U;X!==null;){if(X===h){X=null;break}if(U=X.sibling,U!==null){U.return=X.return,X=U;break}X=X.return}U=X}Li(u,h,L.children,y),h=h.child}return h;case 9:return L=h.type,_=h.pendingProps.children,$d(h,y),L=eo(L),_=_(L),h.flags|=1,Li(u,h,_,y),h.child;case 14:return _=h.type,L=Io(_,h.pendingProps),L=Io(_.type,L),ST(u,h,_,L,y);case 15:return ET(u,h,h.type,h.pendingProps,y);case 17:return _=h.type,L=h.pendingProps,L=h.elementType===_?L:Io(_,L),iy(u,h),h.tag=1,rs(_)?(u=!0,Bg(h)):u=!1,$d(h,y),yT(h,_,L),Ob(h,_,L,y),Bb(null,h,_,!0,u,y);case 19:return MT(u,h,y);case 22:return TT(u,h,y)}throw Error(r(156,h.tag))};function iN(u,h){return kr(u,h)}function T8(u,h,y,_){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function no(u,h,y,_){return new T8(u,h,y,_)}function ow(u){return u=u.prototype,!(!u||!u.isReactComponent)}function N8(u){if(typeof u=="function")return ow(u)?1:0;if(u!=null){if(u=u.$$typeof,u===V)return 11;if(u===A)return 14}return 2}function Yl(u,h){var y=u.alternate;return y===null?(y=no(u.tag,h,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=h,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&14680064,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,h=u.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y}function my(u,h,y,_,L,U){var X=2;if(_=u,typeof u=="function")ow(u)&&(X=1);else if(typeof u=="string")X=5;else e:switch(u){case W:return uu(y.children,L,U,h);case G:X=8,L|=8;break;case q:return u=no(12,y,h,L|2),u.elementType=q,u.lanes=U,u;case F:return u=no(13,y,h,L),u.elementType=F,u.lanes=U,u;case b:return u=no(19,y,h,L),u.elementType=b,u.lanes=U,u;case R:return gy(y,L,U,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case H:X=10;break e;case J:X=9;break e;case V:X=11;break e;case A:X=14;break e;case O:X=16,_=null;break e}throw Error(r(130,u==null?u:typeof u,""))}return h=no(X,y,h,L),h.elementType=u,h.type=_,h.lanes=U,h}function uu(u,h,y,_){return u=no(7,u,_,h),u.lanes=y,u}function gy(u,h,y,_){return u=no(22,u,_,h),u.elementType=R,u.lanes=y,u.stateNode={isHidden:!1},u}function aw(u,h,y){return u=no(6,u,null,h),u.lanes=y,u}function lw(u,h,y){return h=no(4,u.children!==null?u.children:[],u.key,h),h.lanes=y,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function A8(u,h,y,_,L){this.tag=h,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ye(0),this.expirationTimes=ye(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ye(0),this.identifierPrefix=_,this.onRecoverableError=L,this.mutableSourceEagerHydrationData=null}function cw(u,h,y,_,L,U,X,re,ie){return u=new A8(u,h,y,re,ie),h===1?(h=1,U===!0&&(h|=8)):h=0,U=no(3,null,null,h),u.current=U,U.stateNode=u,U.memoizedState={element:_,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},kb(U),u}function j8(u,h,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:_==null?null:""+_,children:u,containerInfo:h,implementation:y}}function sN(u){if(!u)return Bl;u=u._reactInternals;e:{if(Ot(u)!==u||u.tag!==1)throw Error(r(170));var h=u;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(rs(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(r(171))}if(u.tag===1){var y=u.type;if(rs(y))return IE(u,y,h)}return h}function oN(u,h,y,_,L,U,X,re,ie){return u=cw(y,_,!0,u,L,U,X,re,ie),u.context=sN(null),y=u.current,_=Fi(),L=Gl(y),U=Za(_,L),U.callback=h??null,Vl(y,U,L),u.current.lanes=L,Ve(u,L,_),ss(u,_),u}function yy(u,h,y,_){var L=h.current,U=Fi(),X=Gl(L);return y=sN(y),h.context===null?h.context=y:h.pendingContext=y,h=Za(U,X),h.payload={element:u},_=_===void 0?null:_,_!==null&&(h.callback=_),u=Vl(L,h,X),u!==null&&(Oo(u,L,X,U),Kg(u,L,X)),X}function xy(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function aN(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<h?y:h}}function uw(u,h){aN(u,h),(u=u.alternate)&&aN(u,h)}function P8(){return null}var lN=typeof reportError=="function"?reportError:function(u){console.error(u)};function dw(u){this._internalRoot=u}vy.prototype.render=dw.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(r(409));yy(u,h,null,null)},vy.prototype.unmount=dw.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;au(function(){yy(null,u,null,null)}),h[Ka]=null}};function vy(u){this._internalRoot=u}vy.prototype.unstable_scheduleHydration=function(u){if(u){var h=bs();u={blockedOn:null,target:u,priority:h};for(var y=0;y<ca.length&&h!==0&&h<ca[y].priority;y++);ca.splice(y,0,u),y===0&&Tg(u)}};function fw(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function by(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function cN(){}function R8(u,h,y,_,L){if(L){if(typeof _=="function"){var U=_;_=function(){var ge=xy(X);U.call(ge)}}var X=oN(h,_,u,0,null,!1,!1,"",cN);return u._reactRootContainer=X,u[Ka]=X.current,Uh(u.nodeType===8?u.parentNode:u),au(),X}for(;L=u.lastChild;)u.removeChild(L);if(typeof _=="function"){var re=_;_=function(){var ge=xy(ie);re.call(ge)}}var ie=cw(u,0,!1,null,null,!1,!1,"",cN);return u._reactRootContainer=ie,u[Ka]=ie.current,Uh(u.nodeType===8?u.parentNode:u),au(function(){yy(h,ie,y,_)}),ie}function wy(u,h,y,_,L){var U=y._reactRootContainer;if(U){var X=U;if(typeof L=="function"){var re=L;L=function(){var ie=xy(X);re.call(ie)}}yy(h,X,u,L)}else X=R8(y,h,u,L,_);return xy(X)}Zi=function(u){switch(u.tag){case 3:var h=u.stateNode;if(h.current.memoizedState.isDehydrated){var y=aa(h.pendingLanes);y!==0&&(or(h,y|1),ss(h,Lt()),(gr&6)===0&&(Hd=Lt()+500,$l()))}break;case 13:au(function(){var _=Qa(u,1);if(_!==null){var L=Fi();Oo(_,u,1,L)}}),uw(u,1)}},No=function(u){if(u.tag===13){var h=Qa(u,134217728);if(h!==null){var y=Fi();Oo(h,u,134217728,y)}uw(u,134217728)}},ni=function(u){if(u.tag===13){var h=Gl(u),y=Qa(u,h);if(y!==null){var _=Fi();Oo(y,u,h,_)}uw(u,h)}},bs=function(){return Nt},jh=function(u,h){var y=Nt;try{return Nt=u,h()}finally{Nt=y}},Vr=function(u,h,y){switch(h){case"input":if(le(u,y),h=y.name,y.type==="radio"&&h!=null){for(y=u;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<y.length;h++){var _=y[h];if(_!==u&&_.form===u.form){var L=Fg(_);if(!L)throw Error(r(90));de(_),le(_,L)}}}break;case"textarea":ht(u,y);break;case"select":h=y.value,h!=null&&De(u,!!y.multiple,h,!1)}},yt=nw,at=au;var I8={usingClientEntryPoint:!1,Events:[qh,Id,Fg,qt,Pe,nw]},sp={findFiberByHostInstance:Zc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M8={bundleType:sp.bundleType,version:sp.version,rendererPackageName:sp.rendererPackageName,rendererConfig:sp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Gr(u),u===null?null:u.stateNode},findFiberByHostInstance:sp.findFiberByHostInstance||P8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ky=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ky.isDisabled&&ky.supportsFiber)try{Hn=ky.inject(M8),mn=ky}catch{}}return os.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I8,os.createPortal=function(u,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fw(h))throw Error(r(200));return j8(u,h,null,y)},os.createRoot=function(u,h){if(!fw(u))throw Error(r(299));var y=!1,_="",L=lN;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onRecoverableError!==void 0&&(L=h.onRecoverableError)),h=cw(u,1,!1,null,null,y,!1,_,L),u[Ka]=h.current,Uh(u.nodeType===8?u.parentNode:u),new dw(h)},os.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=Gr(h),u=u===null?null:u.stateNode,u},os.flushSync=function(u){return au(u)},os.hydrate=function(u,h,y){if(!by(h))throw Error(r(200));return wy(null,u,h,!0,y)},os.hydrateRoot=function(u,h,y){if(!fw(u))throw Error(r(405));var _=y!=null&&y.hydratedSources||null,L=!1,U="",X=lN;if(y!=null&&(y.unstable_strictMode===!0&&(L=!0),y.identifierPrefix!==void 0&&(U=y.identifierPrefix),y.onRecoverableError!==void 0&&(X=y.onRecoverableError)),h=oN(h,null,u,1,y??null,L,!1,U,X),u[Ka]=h.current,Uh(u),_)for(u=0;u<_.length;u++)y=_[u],L=y._getVersion,L=L(y._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[y,L]:h.mutableSourceEagerHydrationData.push(y,L);return new vy(h)},os.render=function(u,h,y){if(!by(h))throw Error(r(200));return wy(null,u,h,!1,y)},os.unmountComponentAtNode=function(u){if(!by(u))throw Error(r(40));return u._reactRootContainer?(au(function(){wy(null,null,u,!1,function(){u._reactRootContainer=null,u[Ka]=null})}),!0):!1},os.unstable_batchedUpdates=nw,os.unstable_renderSubtreeIntoContainer=function(u,h,y,_){if(!by(y))throw Error(r(200));if(u==null||u._reactInternals===void 0)throw Error(r(38));return wy(u,h,y,!1,_)},os.version="18.3.1-next-f1338f8080-20240426",os}var yN;function cM(){if(yN)return mw.exports;yN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mw.exports=W8(),mw.exports}var xN;function q8(){if(xN)return Cy;xN=1;var t=cM();return Cy.createRoot=t.createRoot,Cy.hydrateRoot=t.hydrateRoot,Cy}var H8=q8(),Qm=cM();const uM=El(Qm);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function um(){return um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},um.apply(this,arguments)}var dc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(dc||(dc={}));const vN="popstate";function G8(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return hk("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:X0(i)}return Y8(e,r,null,t)}function Fn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dM(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function K8(){return Math.random().toString(36).substr(2,8)}function bN(t,e){return{usr:t.state,key:t.key,idx:e}}function hk(t,e,r,n){return r===void 0&&(r=null),um({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?hh(e):e,{state:r,key:e&&e.key||n||K8()})}function X0(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function hh(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Y8(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=dc.Pop,c=null,d=f();d==null&&(d=0,o.replaceState(um({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function p(){a=dc.Pop;let w=f(),T=w==null?null:w-d;d=w,c&&c({action:a,location:x.location,delta:T})}function g(w,T){a=dc.Push;let j=hk(x.location,w,T);d=f()+1;let P=bN(j,d),S=x.createHref(j);try{o.pushState(P,"",S)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(S)}s&&c&&c({action:a,location:x.location,delta:1})}function m(w,T){a=dc.Replace;let j=hk(x.location,w,T);d=f();let P=bN(j,d),S=x.createHref(j);o.replaceState(P,"",S),s&&c&&c({action:a,location:x.location,delta:0})}function v(w){let T=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof w=="string"?w:X0(w);return j=j.replace(/ $/,"%20"),Fn(T,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,T)}let x={get action(){return a},get location(){return t(i,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(vN,p),c=w,()=>{i.removeEventListener(vN,p),c=null}},createHref(w){return e(i,w)},createURL:v,encodeLocation(w){let T=v(w);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:g,replace:m,go(w){return o.go(w)}};return x}var wN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wN||(wN={}));function J8(t,e,r){return r===void 0&&(r="/"),X8(t,e,r)}function X8(t,e,r,n){let i=typeof e=="string"?hh(e):e,s=uC(i.pathname||"/",r);if(s==null)return null;let o=fM(t);Q8(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=u$(s);a=a$(o[c],d)}return a}function fM(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Fn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=vc([n,c.relativePath]),f=r.concat(c);s.children&&s.children.length>0&&(Fn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),fM(s.children,e,f,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:s$(d,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of hM(s.path))i(s,o,c)}),e}function hM(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=hM(n.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function Q8(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:o$(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Z8=/^:[\w-]+$/,e$=3,t$=2,r$=1,n$=10,i$=-2,kN=t=>t==="*";function s$(t,e){let r=t.split("/"),n=r.length;return r.some(kN)&&(n+=i$),e&&(n+=t$),r.filter(i=>!kN(i)).reduce((i,s)=>i+(Z8.test(s)?e$:s===""?r$:n$),n)}function o$(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function a$(t,e,r){let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let c=n[a],d=a===n.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=l$({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),g=c.route;if(!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:vc([s,p.pathname]),pathnameBase:p$(vc([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=vc([s,p.pathnameBase]))}return o}function l$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=c$(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((d,f,p)=>{let{paramName:g,isOptional:m}=f;if(g==="*"){let x=a[p]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const v=a[p];return m&&!v?d[g]=void 0:d[g]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function c$(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),dM(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function u$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dM(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function uC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function d$(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?hh(t):t;return{pathname:r?r.startsWith("/")?r:f$(r,e):e,search:m$(n),hash:g$(i)}}function f$(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function xw(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function h$(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function pM(t,e){let r=h$(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function mM(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=hh(t):(i=um({},t),Fn(!i.pathname||!i.pathname.includes("?"),xw("?","pathname","search",i)),Fn(!i.pathname||!i.pathname.includes("#"),xw("#","pathname","hash",i)),Fn(!i.search||!i.search.includes("#"),xw("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let p=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}a=p>=0?e[p]:"/"}let c=d$(i,a),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const vc=t=>t.join("/").replace(/\/\/+/g,"/"),p$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),m$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,g$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function y$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const gM=["post","put","patch","delete"];new Set(gM);const x$=["get",...gM];new Set(x$);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dm.apply(this,arguments)}const dC=C.createContext(null),v$=C.createContext(null),fd=C.createContext(null),Vx=C.createContext(null),Ic=C.createContext({outlet:null,matches:[],isDataRoute:!1}),yM=C.createContext(null);function b$(t,e){let{relative:r}=e===void 0?{}:e;Zm()||Fn(!1);let{basename:n,navigator:i}=C.useContext(fd),{hash:s,pathname:o,search:a}=vM(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:vc([n,o])),i.createHref({pathname:c,search:a,hash:s})}function Zm(){return C.useContext(Vx)!=null}function hd(){return Zm()||Fn(!1),C.useContext(Vx).location}function xM(t){C.useContext(fd).static||C.useLayoutEffect(t)}function Ua(){let{isDataRoute:t}=C.useContext(Ic);return t?I$():w$()}function w$(){Zm()||Fn(!1);let t=C.useContext(dC),{basename:e,future:r,navigator:n}=C.useContext(fd),{matches:i}=C.useContext(Ic),{pathname:s}=hd(),o=JSON.stringify(pM(i,r.v7_relativeSplatPath)),a=C.useRef(!1);return xM(()=>{a.current=!0}),C.useCallback(function(d,f){if(f===void 0&&(f={}),!a.current)return;if(typeof d=="number"){n.go(d);return}let p=mM(d,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:vc([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,o,s,t])}function _N(){let{matches:t}=C.useContext(Ic),e=t[t.length-1];return e?e.params:{}}function vM(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=C.useContext(fd),{matches:i}=C.useContext(Ic),{pathname:s}=hd(),o=JSON.stringify(pM(i,n.v7_relativeSplatPath));return C.useMemo(()=>mM(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function k$(t,e){return _$(t,e)}function _$(t,e,r,n){Zm()||Fn(!1);let{navigator:i}=C.useContext(fd),{matches:s}=C.useContext(Ic),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=hd(),f;if(e){var p;let w=typeof e=="string"?hh(e):e;c==="/"||(p=w.pathname)!=null&&p.startsWith(c)||Fn(!1),f=w}else f=d;let g=f.pathname||"/",m=g;if(c!=="/"){let w=c.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=J8(t,{pathname:m}),x=N$(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:vc([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:vc([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,r,n);return e&&x?C.createElement(Vx.Provider,{value:{location:dm({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:dc.Pop}},x):x}function C$(){let t=R$(),e=y$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),r?C.createElement("pre",{style:i},r):null,null)}const S$=C.createElement(C$,null);class E$ extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?C.createElement(Ic.Provider,{value:this.props.routeContext},C.createElement(yM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function T$(t){let{routeContext:e,match:r,children:n}=t,i=C.useContext(dC);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(Ic.Provider,{value:e},n)}function N$(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(i=r)==null?void 0:i.errors;if(a!=null){let f=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);f>=0||Fn(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:m}=r,v=p.route.loader&&g[p.route.id]===void 0&&(!m||m[p.route.id]===void 0);if(p.route.lazy||v){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,g)=>{let m,v=!1,x=null,w=null;r&&(m=a&&p.route.id?a[p.route.id]:void 0,x=p.route.errorElement||S$,c&&(d<0&&g===0?(M$("route-fallback"),v=!0,w=null):d===g&&(v=!0,w=p.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,g+1)),j=()=>{let P;return m?P=x:v?P=w:p.route.Component?P=C.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=f,C.createElement(T$,{match:p,routeContext:{outlet:f,matches:T,isDataRoute:r!=null},children:P})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?C.createElement(E$,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:j(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):j()},null)}var bM=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(bM||{}),wM=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(wM||{});function A$(t){let e=C.useContext(dC);return e||Fn(!1),e}function j$(t){let e=C.useContext(v$);return e||Fn(!1),e}function P$(t){let e=C.useContext(Ic);return e||Fn(!1),e}function kM(t){let e=P$(),r=e.matches[e.matches.length-1];return r.route.id||Fn(!1),r.route.id}function R$(){var t;let e=C.useContext(yM),r=j$(),n=kM();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function I$(){let{router:t}=A$(bM.UseNavigateStable),e=kM(wM.UseNavigateStable),r=C.useRef(!1);return xM(()=>{r.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,dm({fromRouteId:e},s)))},[t,e])}const CN={};function M$(t,e,r){CN[t]||(CN[t]=!0)}function D$(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function va(t){Fn(!1)}function O$(t){let{basename:e="/",children:r=null,location:n,navigationType:i=dc.Pop,navigator:s,static:o=!1,future:a}=t;Zm()&&Fn(!1);let c=e.replace(/^\/*/,"/"),d=C.useMemo(()=>({basename:c,navigator:s,static:o,future:dm({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof n=="string"&&(n=hh(n));let{pathname:f="/",search:p="",hash:g="",state:m=null,key:v="default"}=n,x=C.useMemo(()=>{let w=uC(f,c);return w==null?null:{location:{pathname:w,search:p,hash:g,state:m,key:v},navigationType:i}},[c,f,p,g,m,v,i]);return x==null?null:C.createElement(fd.Provider,{value:d},C.createElement(Vx.Provider,{children:r,value:x}))}function L$(t){let{children:e,location:r}=t;return k$(pk(e),r)}new Promise(()=>{});function pk(t,e){e===void 0&&(e=[]);let r=[];return C.Children.forEach(t,(n,i)=>{if(!C.isValidElement(n))return;let s=[...e,i];if(n.type===C.Fragment){r.push.apply(r,pk(n.props.children,s));return}n.type!==va&&Fn(!1),!n.props.index||!n.props.children||Fn(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=pk(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mk(){return mk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mk.apply(this,arguments)}function F$(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function z$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function B$(t,e){return t.button===0&&(!e||e==="_self")&&!z$(t)}function gk(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function $$(t,e){let r=gk(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const U$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],V$="6";try{window.__reactRouterVersion=V$}catch{}const W$="startTransition",SN=cC[W$];function q$(t){let{basename:e,children:r,future:n,window:i}=t,s=C.useRef();s.current==null&&(s.current=G8({window:i,v5Compat:!0}));let o=s.current,[a,c]=C.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},f=C.useCallback(p=>{d&&SN?SN(()=>c(p)):c(p)},[c,d]);return C.useLayoutEffect(()=>o.listen(f),[o,f]),C.useEffect(()=>D$(n),[n]),C.createElement(O$,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const H$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gf=C.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:c,to:d,preventScrollReset:f,viewTransition:p}=e,g=F$(e,U$),{basename:m}=C.useContext(fd),v,x=!1;if(typeof d=="string"&&G$.test(d)&&(v=d,H$))try{let P=new URL(window.location.href),S=d.startsWith("//")?new URL(P.protocol+d):new URL(d),B=uC(S.pathname,m);S.origin===P.origin&&B!=null?d=B+S.search+S.hash:x=!0}catch{}let w=b$(d,{relative:i}),T=K$(d,{replace:o,state:a,target:c,preventScrollReset:f,relative:i,viewTransition:p});function j(P){n&&n(P),P.defaultPrevented||T(P)}return C.createElement("a",mk({},g,{href:v||w,onClick:x||s?n:j,ref:r,target:c}))});var EN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(EN||(EN={}));var TN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(TN||(TN={}));function K$(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,c=Ua(),d=hd(),f=vM(t,{relative:o});return C.useCallback(p=>{if(B$(p,r)){p.preventDefault();let g=n!==void 0?n:X0(d)===X0(f);c(t,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[d,c,f,n,i,r,t,s,o,a])}function Y$(t){let e=C.useRef(gk(t)),r=C.useRef(!1),n=hd(),i=C.useMemo(()=>$$(n.search,r.current?null:e.current),[n.search]),s=Ua(),o=C.useCallback((a,c)=>{const d=gk(typeof a=="function"?a(i):a);r.current=!0,s("?"+d,c)},[s,i]);return[i,o]}var k0={exports:{}};const J$={},X$=Object.freeze(Object.defineProperty({__proto__:null,default:J$},Symbol.toStringTag,{value:"Module"})),Q$=aC(X$);var Z$=k0.exports,NN;function eU(){return NN||(NN=1,function(t){(function(e,r){function n(F,b){if(!F)throw new Error(b||"Assertion failed")}function i(F,b){F.super_=b;var A=function(){};A.prototype=b.prototype,F.prototype=new A,F.prototype.constructor=F}function s(F,b,A){if(s.isBN(F))return F;this.negative=0,this.words=null,this.length=0,this.red=null,F!==null&&((b==="le"||b==="be")&&(A=b,b=10),this._init(F||0,b||10,A||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Q$.Buffer}catch{}s.isBN=function(b){return b instanceof s?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===s.wordSize&&Array.isArray(b.words)},s.max=function(b,A){return b.cmp(A)>0?b:A},s.min=function(b,A){return b.cmp(A)<0?b:A},s.prototype._init=function(b,A,O){if(typeof b=="number")return this._initNumber(b,A,O);if(typeof b=="object")return this._initArray(b,A,O);A==="hex"&&(A=16),n(A===(A|0)&&A>=2&&A<=36),b=b.toString().replace(/\s+/g,"");var R=0;b[0]==="-"&&(R++,this.negative=1),R<b.length&&(A===16?this._parseHex(b,R,O):(this._parseBase(b,A,R),O==="le"&&this._initArray(this.toArray(),A,O)))},s.prototype._initNumber=function(b,A,O){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(n(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),O==="le"&&this._initArray(this.toArray(),A,O)},s.prototype._initArray=function(b,A,O){if(n(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var k,I,N=0;if(O==="be")for(R=b.length-1,k=0;R>=0;R-=3)I=b[R]|b[R-1]<<8|b[R-2]<<16,this.words[k]|=I<<N&67108863,this.words[k+1]=I>>>26-N&67108863,N+=24,N>=26&&(N-=26,k++);else if(O==="le")for(R=0,k=0;R<b.length;R+=3)I=b[R]|b[R+1]<<8|b[R+2]<<16,this.words[k]|=I<<N&67108863,this.words[k+1]=I>>>26-N&67108863,N+=24,N>=26&&(N-=26,k++);return this._strip()};function a(F,b){var A=F.charCodeAt(b);if(A>=48&&A<=57)return A-48;if(A>=65&&A<=70)return A-55;if(A>=97&&A<=102)return A-87;n(!1,"Invalid character in "+F)}function c(F,b,A){var O=a(F,A);return A-1>=b&&(O|=a(F,A-1)<<4),O}s.prototype._parseHex=function(b,A,O){this.length=Math.ceil((b.length-A)/6),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var k=0,I=0,N;if(O==="be")for(R=b.length-1;R>=A;R-=2)N=c(b,A,R)<<k,this.words[I]|=N&67108863,k>=18?(k-=18,I+=1,this.words[I]|=N>>>26):k+=8;else{var D=b.length-A;for(R=D%2===0?A+1:A;R<b.length;R+=2)N=c(b,A,R)<<k,this.words[I]|=N&67108863,k>=18?(k-=18,I+=1,this.words[I]|=N>>>26):k+=8}this._strip()};function d(F,b,A,O){for(var R=0,k=0,I=Math.min(F.length,A),N=b;N<I;N++){var D=F.charCodeAt(N)-48;R*=O,D>=49?k=D-49+10:D>=17?k=D-17+10:k=D,n(D>=0&&k<O,"Invalid character"),R+=k}return R}s.prototype._parseBase=function(b,A,O){this.words=[0],this.length=1;for(var R=0,k=1;k<=67108863;k*=A)R++;R--,k=k/A|0;for(var I=b.length-O,N=I%R,D=Math.min(I,I-N)+O,E=0,M=O;M<D;M+=R)E=d(b,M,M+R,A),this.imuln(k),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E);if(N!==0){var Z=1;for(E=d(b,M,b.length,A),M=0;M<N;M++)Z*=A;this.imuln(Z),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E)}this._strip()},s.prototype.copy=function(b){b.words=new Array(this.length);for(var A=0;A<this.length;A++)b.words[A]=this.words[A];b.length=this.length,b.negative=this.negative,b.red=this.red};function f(F,b){F.words=b.words,F.length=b.length,F.negative=b.negative,F.red=b.red}if(s.prototype._move=function(b){f(b,this)},s.prototype.clone=function(){var b=new s(null);return this.copy(b),b},s.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{s.prototype.inspect=p}else s.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(b,A){b=b||10,A=A|0||1;var O;if(b===16||b==="hex"){O="";for(var R=0,k=0,I=0;I<this.length;I++){var N=this.words[I],D=((N<<R|k)&16777215).toString(16);k=N>>>24-R&16777215,R+=2,R>=26&&(R-=26,I--),k!==0||I!==this.length-1?O=g[6-D.length]+D+O:O=D+O}for(k!==0&&(O=k.toString(16)+O);O.length%A!==0;)O="0"+O;return this.negative!==0&&(O="-"+O),O}if(b===(b|0)&&b>=2&&b<=36){var E=m[b],M=v[b];O="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var z=Z.modrn(M).toString(b);Z=Z.idivn(M),Z.isZero()?O=z+O:O=g[E-z.length]+z+O}for(this.isZero()&&(O="0"+O);O.length%A!==0;)O="0"+O;return this.negative!==0&&(O="-"+O),O}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(b,A){return this.toArrayLike(o,b,A)}),s.prototype.toArray=function(b,A){return this.toArrayLike(Array,b,A)};var x=function(b,A){return b.allocUnsafe?b.allocUnsafe(A):new b(A)};s.prototype.toArrayLike=function(b,A,O){this._strip();var R=this.byteLength(),k=O||Math.max(1,R);n(R<=k,"byte array longer than desired length"),n(k>0,"Requested array length <= 0");var I=x(b,k),N=A==="le"?"LE":"BE";return this["_toArrayLike"+N](I,R),I},s.prototype._toArrayLikeLE=function(b,A){for(var O=0,R=0,k=0,I=0;k<this.length;k++){var N=this.words[k]<<I|R;b[O++]=N&255,O<b.length&&(b[O++]=N>>8&255),O<b.length&&(b[O++]=N>>16&255),I===6?(O<b.length&&(b[O++]=N>>24&255),R=0,I=0):(R=N>>>24,I+=2)}if(O<b.length)for(b[O++]=R;O<b.length;)b[O++]=0},s.prototype._toArrayLikeBE=function(b,A){for(var O=b.length-1,R=0,k=0,I=0;k<this.length;k++){var N=this.words[k]<<I|R;b[O--]=N&255,O>=0&&(b[O--]=N>>8&255),O>=0&&(b[O--]=N>>16&255),I===6?(O>=0&&(b[O--]=N>>24&255),R=0,I=0):(R=N>>>24,I+=2)}if(O>=0)for(b[O--]=R;O>=0;)b[O--]=0},Math.clz32?s.prototype._countBits=function(b){return 32-Math.clz32(b)}:s.prototype._countBits=function(b){var A=b,O=0;return A>=4096&&(O+=13,A>>>=13),A>=64&&(O+=7,A>>>=7),A>=8&&(O+=4,A>>>=4),A>=2&&(O+=2,A>>>=2),O+A},s.prototype._zeroBits=function(b){if(b===0)return 26;var A=b,O=0;return(A&8191)===0&&(O+=13,A>>>=13),(A&127)===0&&(O+=7,A>>>=7),(A&15)===0&&(O+=4,A>>>=4),(A&3)===0&&(O+=2,A>>>=2),(A&1)===0&&O++,O},s.prototype.bitLength=function(){var b=this.words[this.length-1],A=this._countBits(b);return(this.length-1)*26+A};function w(F){for(var b=new Array(F.bitLength()),A=0;A<b.length;A++){var O=A/26|0,R=A%26;b[A]=F.words[O]>>>R&1}return b}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,A=0;A<this.length;A++){var O=this._zeroBits(this.words[A]);if(b+=O,O!==26)break}return b},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},s.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var A=0;A<b.length;A++)this.words[A]=this.words[A]|b.words[A];return this._strip()},s.prototype.ior=function(b){return n((this.negative|b.negative)===0),this.iuor(b)},s.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},s.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},s.prototype.iuand=function(b){var A;this.length>b.length?A=b:A=this;for(var O=0;O<A.length;O++)this.words[O]=this.words[O]&b.words[O];return this.length=A.length,this._strip()},s.prototype.iand=function(b){return n((this.negative|b.negative)===0),this.iuand(b)},s.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},s.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},s.prototype.iuxor=function(b){var A,O;this.length>b.length?(A=this,O=b):(A=b,O=this);for(var R=0;R<O.length;R++)this.words[R]=A.words[R]^O.words[R];if(this!==A)for(;R<A.length;R++)this.words[R]=A.words[R];return this.length=A.length,this._strip()},s.prototype.ixor=function(b){return n((this.negative|b.negative)===0),this.iuxor(b)},s.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},s.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},s.prototype.inotn=function(b){n(typeof b=="number"&&b>=0);var A=Math.ceil(b/26)|0,O=b%26;this._expand(A),O>0&&A--;for(var R=0;R<A;R++)this.words[R]=~this.words[R]&67108863;return O>0&&(this.words[R]=~this.words[R]&67108863>>26-O),this._strip()},s.prototype.notn=function(b){return this.clone().inotn(b)},s.prototype.setn=function(b,A){n(typeof b=="number"&&b>=0);var O=b/26|0,R=b%26;return this._expand(O+1),A?this.words[O]=this.words[O]|1<<R:this.words[O]=this.words[O]&~(1<<R),this._strip()},s.prototype.iadd=function(b){var A;if(this.negative!==0&&b.negative===0)return this.negative=0,A=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,A=this.isub(b),b.negative=1,A._normSign();var O,R;this.length>b.length?(O=this,R=b):(O=b,R=this);for(var k=0,I=0;I<R.length;I++)A=(O.words[I]|0)+(R.words[I]|0)+k,this.words[I]=A&67108863,k=A>>>26;for(;k!==0&&I<O.length;I++)A=(O.words[I]|0)+k,this.words[I]=A&67108863,k=A>>>26;if(this.length=O.length,k!==0)this.words[this.length]=k,this.length++;else if(O!==this)for(;I<O.length;I++)this.words[I]=O.words[I];return this},s.prototype.add=function(b){var A;return b.negative!==0&&this.negative===0?(b.negative=0,A=this.sub(b),b.negative^=1,A):b.negative===0&&this.negative!==0?(this.negative=0,A=b.sub(this),this.negative=1,A):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},s.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var A=this.iadd(b);return b.negative=1,A._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var O=this.cmp(b);if(O===0)return this.negative=0,this.length=1,this.words[0]=0,this;var R,k;O>0?(R=this,k=b):(R=b,k=this);for(var I=0,N=0;N<k.length;N++)A=(R.words[N]|0)-(k.words[N]|0)+I,I=A>>26,this.words[N]=A&67108863;for(;I!==0&&N<R.length;N++)A=(R.words[N]|0)+I,I=A>>26,this.words[N]=A&67108863;if(I===0&&N<R.length&&R!==this)for(;N<R.length;N++)this.words[N]=R.words[N];return this.length=Math.max(this.length,N),R!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(b){return this.clone().isub(b)};function T(F,b,A){A.negative=b.negative^F.negative;var O=F.length+b.length|0;A.length=O,O=O-1|0;var R=F.words[0]|0,k=b.words[0]|0,I=R*k,N=I&67108863,D=I/67108864|0;A.words[0]=N;for(var E=1;E<O;E++){for(var M=D>>>26,Z=D&67108863,z=Math.min(E,b.length-1),K=Math.max(0,E-F.length+1);K<=z;K++){var Y=E-K|0;R=F.words[Y]|0,k=b.words[K]|0,I=R*k+Z,M+=I/67108864|0,Z=I&67108863}A.words[E]=Z|0,D=M|0}return D!==0?A.words[E]=D|0:A.length--,A._strip()}var j=function(b,A,O){var R=b.words,k=A.words,I=O.words,N=0,D,E,M,Z=R[0]|0,z=Z&8191,K=Z>>>13,Y=R[1]|0,Q=Y&8191,ee=Y>>>13,ae=R[2]|0,ne=ae&8191,de=ae>>>13,xe=R[3]|0,me=xe&8191,_e=xe>>>13,Xe=R[4]|0,le=Xe&8191,Ye=Xe>>>13,jt=R[5]|0,st=jt&8191,De=jt>>>13,Jt=R[6]|0,ot=Jt&8191,ht=Jt>>>13,Ie=R[7]|0,se=Ie&8191,he=Ie>>>13,Le=R[8]|0,Ae=Le&8191,Me=Le>>>13,Gt=R[9]|0,Qe=Gt&8191,_t=Gt>>>13,Wt=k[0]|0,Ct=Wt&8191,nt=Wt>>>13,Xt=k[1]|0,xt=Xt&8191,Fe=Xt>>>13,Vr=k[2]|0,Tt=Vr&8191,St=Vr>>>13,pr=k[3]|0,qt=pr&8191,Pe=pr>>>13,yt=k[4]|0,at=yt&8191,Re=yt>>>13,Be=k[5]|0,ze=Be&8191,we=Be>>>13,Ue=k[6]|0,Te=Ue&8191,Oe=Ue>>>13,mr=k[7]|0,Ge=mr&8191,pt=mr>>>13,Nr=k[8]|0,vt=Nr&8191,mt=Nr>>>13,Ot=k[9]|0,zt=Ot&8191,gt=Ot>>>13;O.negative=b.negative^A.negative,O.length=19,D=Math.imul(z,Ct),E=Math.imul(z,nt),E=E+Math.imul(K,Ct)|0,M=Math.imul(K,nt);var Mr=(N+D|0)+((E&8191)<<13)|0;N=(M+(E>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,D=Math.imul(Q,Ct),E=Math.imul(Q,nt),E=E+Math.imul(ee,Ct)|0,M=Math.imul(ee,nt),D=D+Math.imul(z,xt)|0,E=E+Math.imul(z,Fe)|0,E=E+Math.imul(K,xt)|0,M=M+Math.imul(K,Fe)|0;var Gr=(N+D|0)+((E&8191)<<13)|0;N=(M+(E>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,D=Math.imul(ne,Ct),E=Math.imul(ne,nt),E=E+Math.imul(de,Ct)|0,M=Math.imul(de,nt),D=D+Math.imul(Q,xt)|0,E=E+Math.imul(Q,Fe)|0,E=E+Math.imul(ee,xt)|0,M=M+Math.imul(ee,Fe)|0,D=D+Math.imul(z,Tt)|0,E=E+Math.imul(z,St)|0,E=E+Math.imul(K,Tt)|0,M=M+Math.imul(K,St)|0;var vr=(N+D|0)+((E&8191)<<13)|0;N=(M+(E>>>13)|0)+(vr>>>26)|0,vr&=67108863,D=Math.imul(me,Ct),E=Math.imul(me,nt),E=E+Math.imul(_e,Ct)|0,M=Math.imul(_e,nt),D=D+Math.imul(ne,xt)|0,E=E+Math.imul(ne,Fe)|0,E=E+Math.imul(de,xt)|0,M=M+Math.imul(de,Fe)|0,D=D+Math.imul(Q,Tt)|0,E=E+Math.imul(Q,St)|0,E=E+Math.imul(ee,Tt)|0,M=M+Math.imul(ee,St)|0,D=D+Math.imul(z,qt)|0,E=E+Math.imul(z,Pe)|0,E=E+Math.imul(K,qt)|0,M=M+Math.imul(K,Pe)|0;var kr=(N+D|0)+((E&8191)<<13)|0;N=(M+(E>>>13)|0)+(kr>>>26)|0,kr&=67108863,D=Math.imul(le,Ct),E=Math.imul(le,nt),E=E+Math.imul(Ye,Ct)|0,M=Math.imul(Ye,nt),D=D+Math.imul(me,xt)|0,E=E+Math.imul(me,Fe)|0,E=E+Math.imul(_e,xt)|0,M=M+Math.imul(_e,Fe)|0,D=D+Math.imul(ne,Tt)|0,E=E+Math.imul(ne,St)|0,E=E+Math.imul(de,Tt)|0,M=M+Math.imul(de,St)|0,D=D+Math.imul(Q,qt)|0,E=E+Math.imul(Q,Pe)|0,E=E+Math.imul(ee,qt)|0,M=M+Math.imul(ee,Pe)|0,D=D+Math.imul(z,at)|0,E=E+Math.imul(z,Re)|0,E=E+Math.imul(K,at)|0,M=M+Math.imul(K,Re)|0;var _r=(N+D|0)+((E&8191)<<13)|0;N=(M+(E>>>13)|0)+(_r>>>26)|0,_r&=67108863,D=Math.imul(st,Ct),E=Math.imul(st,nt),E=E+Math.imul(De,Ct)|0,M=Math.imul(De,nt),D=D+Math.imul(le,xt)|0,E=E+Math.imul(le,Fe)|0,E=E+Math.imul(Ye,xt)|0,M=M+Math.imul(Ye,Fe)|0,D=D+Math.imul(me,Tt)|0,E=E+Math.imul(me,St)|0,E=E+Math.imul(_e,Tt)|0,M=M+Math.imul(_e,St)|0,D=D+Math.imul(ne,qt)|0,E=E+Math.imul(ne,Pe)|0,E=E+Math.imul(de,qt)|0,M=M+Math.imul(de,Pe)|0,D=D+Math.imul(Q,at)|0,E=E+Math.imul(Q,Re)|0,E=E+Math.imul(ee,at)|0,M=M+Math.imul(ee,Re)|0,D=D+Math.imul(z,ze)|0,E=E+Math.imul(z,we)|0,E=E+Math.imul(K,ze)|0,M=M+Math.imul(K,we)|0;var Di=(N+D|0)+((E&8191)<<13)|0;N=(M+(E>>>13)|0)+(Di>>>26)|0,Di&=67108863,D=Math.imul(ot,Ct),E=Math.imul(ot,nt),E=E+Math.imul(ht,Ct)|0,M=Math.imul(ht,nt),D=D+Math.imul(st,xt)|0,E=E+Math.imul(st,Fe)|0,E=E+Math.imul(De,xt)|0,M=M+Math.imul(De,Fe)|0,D=D+Math.imul(le,Tt)|0,E=E+Math.imul(le,St)|0,E=E+Math.imul(Ye,Tt)|0,M=M+Math.imul(Ye,St)|0,D=D+Math.imul(me,qt)|0,E=E+Math.imul(me,Pe)|0,E=E+Math.imul(_e,qt)|0,M=M+Math.imul(_e,Pe)|0,D=D+Math.imul(ne,at)|0,E=E+Math.imul(ne,Re)|0,E=E+Math.imul(de,at)|0,M=M+Math.imul(de,Re)|0,D=D+Math.imul(Q,ze)|0,E=E+Math.imul(Q,we)|0,E=E+Math.imul(ee,ze)|0,M=M+Math.imul(ee,we)|0,D=D+Math.imul(z,Te)|0,E=E+Math.imul(z,Oe)|0,E=E+Math.imul(K,Te)|0,M=M+Math.imul(K,Oe)|0;var Qi=(N+D|0)+((E&8191)<<13)|0;N=(M+(E>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,D=Math.imul(se,Ct),E=Math.imul(se,nt),E=E+Math.imul(he,Ct)|0,M=Math.imul(he,nt),D=D+Math.imul(ot,xt)|0,E=E+Math.imul(ot,Fe)|0,E=E+Math.imul(ht,xt)|0,M=M+Math.imul(ht,Fe)|0,D=D+Math.imul(st,Tt)|0,E=E+Math.imul(st,St)|0,E=E+Math.imul(De,Tt)|0,M=M+Math.imul(De,St)|0,D=D+Math.imul(le,qt)|0,E=E+Math.imul(le,Pe)|0,E=E+Math.imul(Ye,qt)|0,M=M+Math.imul(Ye,Pe)|0,D=D+Math.imul(me,at)|0,E=E+Math.imul(me,Re)|0,E=E+Math.imul(_e,at)|0,M=M+Math.imul(_e,Re)|0,D=D+Math.imul(ne,ze)|0,E=E+Math.imul(ne,we)|0,E=E+Math.imul(de,ze)|0,M=M+Math.imul(de,we)|0,D=D+Math.imul(Q,Te)|0,E=E+Math.imul(Q,Oe)|0,E=E+Math.imul(ee,Te)|0,M=M+Math.imul(ee,Oe)|0,D=D+Math.imul(z,Ge)|0,E=E+Math.imul(z,pt)|0,E=E+Math.imul(K,Ge)|0,M=M+Math.imul(K,pt)|0;var Lt=(N+D|0)+((E&8191)<<13)|0;N=(M+(E>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,D=Math.imul(Ae,Ct),E=Math.imul(Ae,nt),E=E+Math.imul(Me,Ct)|0,M=Math.imul(Me,nt),D=D+Math.imul(se,xt)|0,E=E+Math.imul(se,Fe)|0,E=E+Math.imul(he,xt)|0,M=M+Math.imul(he,Fe)|0,D=D+Math.imul(ot,Tt)|0,E=E+Math.imul(ot,St)|0,E=E+Math.imul(ht,Tt)|0,M=M+Math.imul(ht,St)|0,D=D+Math.imul(st,qt)|0,E=E+Math.imul(st,Pe)|0,E=E+Math.imul(De,qt)|0,M=M+Math.imul(De,Pe)|0,D=D+Math.imul(le,at)|0,E=E+Math.imul(le,Re)|0,E=E+Math.imul(Ye,at)|0,M=M+Math.imul(Ye,Re)|0,D=D+Math.imul(me,ze)|0,E=E+Math.imul(me,we)|0,E=E+Math.imul(_e,ze)|0,M=M+Math.imul(_e,we)|0,D=D+Math.imul(ne,Te)|0,E=E+Math.imul(ne,Oe)|0,E=E+Math.imul(de,Te)|0,M=M+Math.imul(de,Oe)|0,D=D+Math.imul(Q,Ge)|0,E=E+Math.imul(Q,pt)|0,E=E+Math.imul(ee,Ge)|0,M=M+Math.imul(ee,pt)|0,D=D+Math.imul(z,vt)|0,E=E+Math.imul(z,mt)|0,E=E+Math.imul(K,vt)|0,M=M+Math.imul(K,mt)|0;var Er=(N+D|0)+((E&8191)<<13)|0;N=(M+(E>>>13)|0)+(Er>>>26)|0,Er&=67108863,D=Math.imul(Qe,Ct),E=Math.imul(Qe,nt),E=E+Math.imul(_t,Ct)|0,M=Math.imul(_t,nt),D=D+Math.imul(Ae,xt)|0,E=E+Math.imul(Ae,Fe)|0,E=E+Math.imul(Me,xt)|0,M=M+Math.imul(Me,Fe)|0,D=D+Math.imul(se,Tt)|0,E=E+Math.imul(se,St)|0,E=E+Math.imul(he,Tt)|0,M=M+Math.imul(he,St)|0,D=D+Math.imul(ot,qt)|0,E=E+Math.imul(ot,Pe)|0,E=E+Math.imul(ht,qt)|0,M=M+Math.imul(ht,Pe)|0,D=D+Math.imul(st,at)|0,E=E+Math.imul(st,Re)|0,E=E+Math.imul(De,at)|0,M=M+Math.imul(De,Re)|0,D=D+Math.imul(le,ze)|0,E=E+Math.imul(le,we)|0,E=E+Math.imul(Ye,ze)|0,M=M+Math.imul(Ye,we)|0,D=D+Math.imul(me,Te)|0,E=E+Math.imul(me,Oe)|0,E=E+Math.imul(_e,Te)|0,M=M+Math.imul(_e,Oe)|0,D=D+Math.imul(ne,Ge)|0,E=E+Math.imul(ne,pt)|0,E=E+Math.imul(de,Ge)|0,M=M+Math.imul(de,pt)|0,D=D+Math.imul(Q,vt)|0,E=E+Math.imul(Q,mt)|0,E=E+Math.imul(ee,vt)|0,M=M+Math.imul(ee,mt)|0,D=D+Math.imul(z,zt)|0,E=E+Math.imul(z,gt)|0,E=E+Math.imul(K,zt)|0,M=M+Math.imul(K,gt)|0;var zn=(N+D|0)+((E&8191)<<13)|0;N=(M+(E>>>13)|0)+(zn>>>26)|0,zn&=67108863,D=Math.imul(Qe,xt),E=Math.imul(Qe,Fe),E=E+Math.imul(_t,xt)|0,M=Math.imul(_t,Fe),D=D+Math.imul(Ae,Tt)|0,E=E+Math.imul(Ae,St)|0,E=E+Math.imul(Me,Tt)|0,M=M+Math.imul(Me,St)|0,D=D+Math.imul(se,qt)|0,E=E+Math.imul(se,Pe)|0,E=E+Math.imul(he,qt)|0,M=M+Math.imul(he,Pe)|0,D=D+Math.imul(ot,at)|0,E=E+Math.imul(ot,Re)|0,E=E+Math.imul(ht,at)|0,M=M+Math.imul(ht,Re)|0,D=D+Math.imul(st,ze)|0,E=E+Math.imul(st,we)|0,E=E+Math.imul(De,ze)|0,M=M+Math.imul(De,we)|0,D=D+Math.imul(le,Te)|0,E=E+Math.imul(le,Oe)|0,E=E+Math.imul(Ye,Te)|0,M=M+Math.imul(Ye,Oe)|0,D=D+Math.imul(me,Ge)|0,E=E+Math.imul(me,pt)|0,E=E+Math.imul(_e,Ge)|0,M=M+Math.imul(_e,pt)|0,D=D+Math.imul(ne,vt)|0,E=E+Math.imul(ne,mt)|0,E=E+Math.imul(de,vt)|0,M=M+Math.imul(de,mt)|0,D=D+Math.imul(Q,zt)|0,E=E+Math.imul(Q,gt)|0,E=E+Math.imul(ee,zt)|0,M=M+Math.imul(ee,gt)|0;var To=(N+D|0)+((E&8191)<<13)|0;N=(M+(E>>>13)|0)+(To>>>26)|0,To&=67108863,D=Math.imul(Qe,Tt),E=Math.imul(Qe,St),E=E+Math.imul(_t,Tt)|0,M=Math.imul(_t,St),D=D+Math.imul(Ae,qt)|0,E=E+Math.imul(Ae,Pe)|0,E=E+Math.imul(Me,qt)|0,M=M+Math.imul(Me,Pe)|0,D=D+Math.imul(se,at)|0,E=E+Math.imul(se,Re)|0,E=E+Math.imul(he,at)|0,M=M+Math.imul(he,Re)|0,D=D+Math.imul(ot,ze)|0,E=E+Math.imul(ot,we)|0,E=E+Math.imul(ht,ze)|0,M=M+Math.imul(ht,we)|0,D=D+Math.imul(st,Te)|0,E=E+Math.imul(st,Oe)|0,E=E+Math.imul(De,Te)|0,M=M+Math.imul(De,Oe)|0,D=D+Math.imul(le,Ge)|0,E=E+Math.imul(le,pt)|0,E=E+Math.imul(Ye,Ge)|0,M=M+Math.imul(Ye,pt)|0,D=D+Math.imul(me,vt)|0,E=E+Math.imul(me,mt)|0,E=E+Math.imul(_e,vt)|0,M=M+Math.imul(_e,mt)|0,D=D+Math.imul(ne,zt)|0,E=E+Math.imul(ne,gt)|0,E=E+Math.imul(de,zt)|0,M=M+Math.imul(de,gt)|0;var hi=(N+D|0)+((E&8191)<<13)|0;N=(M+(E>>>13)|0)+(hi>>>26)|0,hi&=67108863,D=Math.imul(Qe,qt),E=Math.imul(Qe,Pe),E=E+Math.imul(_t,qt)|0,M=Math.imul(_t,Pe),D=D+Math.imul(Ae,at)|0,E=E+Math.imul(Ae,Re)|0,E=E+Math.imul(Me,at)|0,M=M+Math.imul(Me,Re)|0,D=D+Math.imul(se,ze)|0,E=E+Math.imul(se,we)|0,E=E+Math.imul(he,ze)|0,M=M+Math.imul(he,we)|0,D=D+Math.imul(ot,Te)|0,E=E+Math.imul(ot,Oe)|0,E=E+Math.imul(ht,Te)|0,M=M+Math.imul(ht,Oe)|0,D=D+Math.imul(st,Ge)|0,E=E+Math.imul(st,pt)|0,E=E+Math.imul(De,Ge)|0,M=M+Math.imul(De,pt)|0,D=D+Math.imul(le,vt)|0,E=E+Math.imul(le,mt)|0,E=E+Math.imul(Ye,vt)|0,M=M+Math.imul(Ye,mt)|0,D=D+Math.imul(me,zt)|0,E=E+Math.imul(me,gt)|0,E=E+Math.imul(_e,zt)|0,M=M+Math.imul(_e,gt)|0;var pi=(N+D|0)+((E&8191)<<13)|0;N=(M+(E>>>13)|0)+(pi>>>26)|0,pi&=67108863,D=Math.imul(Qe,at),E=Math.imul(Qe,Re),E=E+Math.imul(_t,at)|0,M=Math.imul(_t,Re),D=D+Math.imul(Ae,ze)|0,E=E+Math.imul(Ae,we)|0,E=E+Math.imul(Me,ze)|0,M=M+Math.imul(Me,we)|0,D=D+Math.imul(se,Te)|0,E=E+Math.imul(se,Oe)|0,E=E+Math.imul(he,Te)|0,M=M+Math.imul(he,Oe)|0,D=D+Math.imul(ot,Ge)|0,E=E+Math.imul(ot,pt)|0,E=E+Math.imul(ht,Ge)|0,M=M+Math.imul(ht,pt)|0,D=D+Math.imul(st,vt)|0,E=E+Math.imul(st,mt)|0,E=E+Math.imul(De,vt)|0,M=M+Math.imul(De,mt)|0,D=D+Math.imul(le,zt)|0,E=E+Math.imul(le,gt)|0,E=E+Math.imul(Ye,zt)|0,M=M+Math.imul(Ye,gt)|0;var Zr=(N+D|0)+((E&8191)<<13)|0;N=(M+(E>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,D=Math.imul(Qe,ze),E=Math.imul(Qe,we),E=E+Math.imul(_t,ze)|0,M=Math.imul(_t,we),D=D+Math.imul(Ae,Te)|0,E=E+Math.imul(Ae,Oe)|0,E=E+Math.imul(Me,Te)|0,M=M+Math.imul(Me,Oe)|0,D=D+Math.imul(se,Ge)|0,E=E+Math.imul(se,pt)|0,E=E+Math.imul(he,Ge)|0,M=M+Math.imul(he,pt)|0,D=D+Math.imul(ot,vt)|0,E=E+Math.imul(ot,mt)|0,E=E+Math.imul(ht,vt)|0,M=M+Math.imul(ht,mt)|0,D=D+Math.imul(st,zt)|0,E=E+Math.imul(st,gt)|0,E=E+Math.imul(De,zt)|0,M=M+Math.imul(De,gt)|0;var Hn=(N+D|0)+((E&8191)<<13)|0;N=(M+(E>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,D=Math.imul(Qe,Te),E=Math.imul(Qe,Oe),E=E+Math.imul(_t,Te)|0,M=Math.imul(_t,Oe),D=D+Math.imul(Ae,Ge)|0,E=E+Math.imul(Ae,pt)|0,E=E+Math.imul(Me,Ge)|0,M=M+Math.imul(Me,pt)|0,D=D+Math.imul(se,vt)|0,E=E+Math.imul(se,mt)|0,E=E+Math.imul(he,vt)|0,M=M+Math.imul(he,mt)|0,D=D+Math.imul(ot,zt)|0,E=E+Math.imul(ot,gt)|0,E=E+Math.imul(ht,zt)|0,M=M+Math.imul(ht,gt)|0;var mn=(N+D|0)+((E&8191)<<13)|0;N=(M+(E>>>13)|0)+(mn>>>26)|0,mn&=67108863,D=Math.imul(Qe,Ge),E=Math.imul(Qe,pt),E=E+Math.imul(_t,Ge)|0,M=Math.imul(_t,pt),D=D+Math.imul(Ae,vt)|0,E=E+Math.imul(Ae,mt)|0,E=E+Math.imul(Me,vt)|0,M=M+Math.imul(Me,mt)|0,D=D+Math.imul(se,zt)|0,E=E+Math.imul(se,gt)|0,E=E+Math.imul(he,zt)|0,M=M+Math.imul(he,gt)|0;var mi=(N+D|0)+((E&8191)<<13)|0;N=(M+(E>>>13)|0)+(mi>>>26)|0,mi&=67108863,D=Math.imul(Qe,vt),E=Math.imul(Qe,mt),E=E+Math.imul(_t,vt)|0,M=Math.imul(_t,mt),D=D+Math.imul(Ae,zt)|0,E=E+Math.imul(Ae,gt)|0,E=E+Math.imul(Me,zt)|0,M=M+Math.imul(Me,gt)|0;var ri=(N+D|0)+((E&8191)<<13)|0;N=(M+(E>>>13)|0)+(ri>>>26)|0,ri&=67108863,D=Math.imul(Qe,zt),E=Math.imul(Qe,gt),E=E+Math.imul(_t,zt)|0,M=Math.imul(_t,gt);var Vc=(N+D|0)+((E&8191)<<13)|0;return N=(M+(E>>>13)|0)+(Vc>>>26)|0,Vc&=67108863,I[0]=Mr,I[1]=Gr,I[2]=vr,I[3]=kr,I[4]=_r,I[5]=Di,I[6]=Qi,I[7]=Lt,I[8]=Er,I[9]=zn,I[10]=To,I[11]=hi,I[12]=pi,I[13]=Zr,I[14]=Hn,I[15]=mn,I[16]=mi,I[17]=ri,I[18]=Vc,N!==0&&(I[19]=N,O.length++),O};Math.imul||(j=T);function P(F,b,A){A.negative=b.negative^F.negative,A.length=F.length+b.length;for(var O=0,R=0,k=0;k<A.length-1;k++){var I=R;R=0;for(var N=O&67108863,D=Math.min(k,b.length-1),E=Math.max(0,k-F.length+1);E<=D;E++){var M=k-E,Z=F.words[M]|0,z=b.words[E]|0,K=Z*z,Y=K&67108863;I=I+(K/67108864|0)|0,Y=Y+N|0,N=Y&67108863,I=I+(Y>>>26)|0,R+=I>>>26,I&=67108863}A.words[k]=N,O=I,I=R}return O!==0?A.words[k]=O:A.length--,A._strip()}function S(F,b,A){return P(F,b,A)}s.prototype.mulTo=function(b,A){var O,R=this.length+b.length;return this.length===10&&b.length===10?O=j(this,b,A):R<63?O=T(this,b,A):R<1024?O=P(this,b,A):O=S(this,b,A),O},s.prototype.mul=function(b){var A=new s(null);return A.words=new Array(this.length+b.length),this.mulTo(b,A)},s.prototype.mulf=function(b){var A=new s(null);return A.words=new Array(this.length+b.length),S(this,b,A)},s.prototype.imul=function(b){return this.clone().mulTo(b,this)},s.prototype.imuln=function(b){var A=b<0;A&&(b=-b),n(typeof b=="number"),n(b<67108864);for(var O=0,R=0;R<this.length;R++){var k=(this.words[R]|0)*b,I=(k&67108863)+(O&67108863);O>>=26,O+=k/67108864|0,O+=I>>>26,this.words[R]=I&67108863}return O!==0&&(this.words[R]=O,this.length++),this.length=b===0?1:this.length,A?this.ineg():this},s.prototype.muln=function(b){return this.clone().imuln(b)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(b){var A=w(b);if(A.length===0)return new s(1);for(var O=this,R=0;R<A.length&&A[R]===0;R++,O=O.sqr());if(++R<A.length)for(var k=O.sqr();R<A.length;R++,k=k.sqr())A[R]!==0&&(O=O.mul(k));return O},s.prototype.iushln=function(b){n(typeof b=="number"&&b>=0);var A=b%26,O=(b-A)/26,R=67108863>>>26-A<<26-A,k;if(A!==0){var I=0;for(k=0;k<this.length;k++){var N=this.words[k]&R,D=(this.words[k]|0)-N<<A;this.words[k]=D|I,I=N>>>26-A}I&&(this.words[k]=I,this.length++)}if(O!==0){for(k=this.length-1;k>=0;k--)this.words[k+O]=this.words[k];for(k=0;k<O;k++)this.words[k]=0;this.length+=O}return this._strip()},s.prototype.ishln=function(b){return n(this.negative===0),this.iushln(b)},s.prototype.iushrn=function(b,A,O){n(typeof b=="number"&&b>=0);var R;A?R=(A-A%26)/26:R=0;var k=b%26,I=Math.min((b-k)/26,this.length),N=67108863^67108863>>>k<<k,D=O;if(R-=I,R=Math.max(0,R),D){for(var E=0;E<I;E++)D.words[E]=this.words[E];D.length=I}if(I!==0)if(this.length>I)for(this.length-=I,E=0;E<this.length;E++)this.words[E]=this.words[E+I];else this.words[0]=0,this.length=1;var M=0;for(E=this.length-1;E>=0&&(M!==0||E>=R);E--){var Z=this.words[E]|0;this.words[E]=M<<26-k|Z>>>k,M=Z&N}return D&&M!==0&&(D.words[D.length++]=M),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(b,A,O){return n(this.negative===0),this.iushrn(b,A,O)},s.prototype.shln=function(b){return this.clone().ishln(b)},s.prototype.ushln=function(b){return this.clone().iushln(b)},s.prototype.shrn=function(b){return this.clone().ishrn(b)},s.prototype.ushrn=function(b){return this.clone().iushrn(b)},s.prototype.testn=function(b){n(typeof b=="number"&&b>=0);var A=b%26,O=(b-A)/26,R=1<<A;if(this.length<=O)return!1;var k=this.words[O];return!!(k&R)},s.prototype.imaskn=function(b){n(typeof b=="number"&&b>=0);var A=b%26,O=(b-A)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=O)return this;if(A!==0&&O++,this.length=Math.min(O,this.length),A!==0){var R=67108863^67108863>>>A<<A;this.words[this.length-1]&=R}return this._strip()},s.prototype.maskn=function(b){return this.clone().imaskn(b)},s.prototype.iaddn=function(b){return n(typeof b=="number"),n(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<=b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},s.prototype._iaddn=function(b){this.words[0]+=b;for(var A=0;A<this.length&&this.words[A]>=67108864;A++)this.words[A]-=67108864,A===this.length-1?this.words[A+1]=1:this.words[A+1]++;return this.length=Math.max(this.length,A+1),this},s.prototype.isubn=function(b){if(n(typeof b=="number"),n(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var A=0;A<this.length&&this.words[A]<0;A++)this.words[A]+=67108864,this.words[A+1]-=1;return this._strip()},s.prototype.addn=function(b){return this.clone().iaddn(b)},s.prototype.subn=function(b){return this.clone().isubn(b)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(b,A,O){var R=b.length+O,k;this._expand(R);var I,N=0;for(k=0;k<b.length;k++){I=(this.words[k+O]|0)+N;var D=(b.words[k]|0)*A;I-=D&67108863,N=(I>>26)-(D/67108864|0),this.words[k+O]=I&67108863}for(;k<this.length-O;k++)I=(this.words[k+O]|0)+N,N=I>>26,this.words[k+O]=I&67108863;if(N===0)return this._strip();for(n(N===-1),N=0,k=0;k<this.length;k++)I=-(this.words[k]|0)+N,N=I>>26,this.words[k]=I&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(b,A){var O=this.length-b.length,R=this.clone(),k=b,I=k.words[k.length-1]|0,N=this._countBits(I);O=26-N,O!==0&&(k=k.ushln(O),R.iushln(O),I=k.words[k.length-1]|0);var D=R.length-k.length,E;if(A!=="mod"){E=new s(null),E.length=D+1,E.words=new Array(E.length);for(var M=0;M<E.length;M++)E.words[M]=0}var Z=R.clone()._ishlnsubmul(k,1,D);Z.negative===0&&(R=Z,E&&(E.words[D]=1));for(var z=D-1;z>=0;z--){var K=(R.words[k.length+z]|0)*67108864+(R.words[k.length+z-1]|0);for(K=Math.min(K/I|0,67108863),R._ishlnsubmul(k,K,z);R.negative!==0;)K--,R.negative=0,R._ishlnsubmul(k,1,z),R.isZero()||(R.negative^=1);E&&(E.words[z]=K)}return E&&E._strip(),R._strip(),A!=="div"&&O!==0&&R.iushrn(O),{div:E||null,mod:R}},s.prototype.divmod=function(b,A,O){if(n(!b.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var R,k,I;return this.negative!==0&&b.negative===0?(I=this.neg().divmod(b,A),A!=="mod"&&(R=I.div.neg()),A!=="div"&&(k=I.mod.neg(),O&&k.negative!==0&&k.iadd(b)),{div:R,mod:k}):this.negative===0&&b.negative!==0?(I=this.divmod(b.neg(),A),A!=="mod"&&(R=I.div.neg()),{div:R,mod:I.mod}):(this.negative&b.negative)!==0?(I=this.neg().divmod(b.neg(),A),A!=="div"&&(k=I.mod.neg(),O&&k.negative!==0&&k.isub(b)),{div:I.div,mod:k}):b.length>this.length||this.cmp(b)<0?{div:new s(0),mod:this}:b.length===1?A==="div"?{div:this.divn(b.words[0]),mod:null}:A==="mod"?{div:null,mod:new s(this.modrn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new s(this.modrn(b.words[0]))}:this._wordDiv(b,A)},s.prototype.div=function(b){return this.divmod(b,"div",!1).div},s.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},s.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},s.prototype.divRound=function(b){var A=this.divmod(b);if(A.mod.isZero())return A.div;var O=A.div.negative!==0?A.mod.isub(b):A.mod,R=b.ushrn(1),k=b.andln(1),I=O.cmp(R);return I<0||k===1&&I===0?A.div:A.div.negative!==0?A.div.isubn(1):A.div.iaddn(1)},s.prototype.modrn=function(b){var A=b<0;A&&(b=-b),n(b<=67108863);for(var O=(1<<26)%b,R=0,k=this.length-1;k>=0;k--)R=(O*R+(this.words[k]|0))%b;return A?-R:R},s.prototype.modn=function(b){return this.modrn(b)},s.prototype.idivn=function(b){var A=b<0;A&&(b=-b),n(b<=67108863);for(var O=0,R=this.length-1;R>=0;R--){var k=(this.words[R]|0)+O*67108864;this.words[R]=k/b|0,O=k%b}return this._strip(),A?this.ineg():this},s.prototype.divn=function(b){return this.clone().idivn(b)},s.prototype.egcd=function(b){n(b.negative===0),n(!b.isZero());var A=this,O=b.clone();A.negative!==0?A=A.umod(b):A=A.clone();for(var R=new s(1),k=new s(0),I=new s(0),N=new s(1),D=0;A.isEven()&&O.isEven();)A.iushrn(1),O.iushrn(1),++D;for(var E=O.clone(),M=A.clone();!A.isZero();){for(var Z=0,z=1;(A.words[0]&z)===0&&Z<26;++Z,z<<=1);if(Z>0)for(A.iushrn(Z);Z-- >0;)(R.isOdd()||k.isOdd())&&(R.iadd(E),k.isub(M)),R.iushrn(1),k.iushrn(1);for(var K=0,Y=1;(O.words[0]&Y)===0&&K<26;++K,Y<<=1);if(K>0)for(O.iushrn(K);K-- >0;)(I.isOdd()||N.isOdd())&&(I.iadd(E),N.isub(M)),I.iushrn(1),N.iushrn(1);A.cmp(O)>=0?(A.isub(O),R.isub(I),k.isub(N)):(O.isub(A),I.isub(R),N.isub(k))}return{a:I,b:N,gcd:O.iushln(D)}},s.prototype._invmp=function(b){n(b.negative===0),n(!b.isZero());var A=this,O=b.clone();A.negative!==0?A=A.umod(b):A=A.clone();for(var R=new s(1),k=new s(0),I=O.clone();A.cmpn(1)>0&&O.cmpn(1)>0;){for(var N=0,D=1;(A.words[0]&D)===0&&N<26;++N,D<<=1);if(N>0)for(A.iushrn(N);N-- >0;)R.isOdd()&&R.iadd(I),R.iushrn(1);for(var E=0,M=1;(O.words[0]&M)===0&&E<26;++E,M<<=1);if(E>0)for(O.iushrn(E);E-- >0;)k.isOdd()&&k.iadd(I),k.iushrn(1);A.cmp(O)>=0?(A.isub(O),R.isub(k)):(O.isub(A),k.isub(R))}var Z;return A.cmpn(1)===0?Z=R:Z=k,Z.cmpn(0)<0&&Z.iadd(b),Z},s.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var A=this.clone(),O=b.clone();A.negative=0,O.negative=0;for(var R=0;A.isEven()&&O.isEven();R++)A.iushrn(1),O.iushrn(1);do{for(;A.isEven();)A.iushrn(1);for(;O.isEven();)O.iushrn(1);var k=A.cmp(O);if(k<0){var I=A;A=O,O=I}else if(k===0||O.cmpn(1)===0)break;A.isub(O)}while(!0);return O.iushln(R)},s.prototype.invm=function(b){return this.egcd(b).a.umod(b)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(b){return this.words[0]&b},s.prototype.bincn=function(b){n(typeof b=="number");var A=b%26,O=(b-A)/26,R=1<<A;if(this.length<=O)return this._expand(O+1),this.words[O]|=R,this;for(var k=R,I=O;k!==0&&I<this.length;I++){var N=this.words[I]|0;N+=k,k=N>>>26,N&=67108863,this.words[I]=N}return k!==0&&(this.words[I]=k,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(b){var A=b<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;this._strip();var O;if(this.length>1)O=1;else{A&&(b=-b),n(b<=67108863,"Number is too big");var R=this.words[0]|0;O=R===b?0:R<b?-1:1}return this.negative!==0?-O|0:O},s.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var A=this.ucmp(b);return this.negative!==0?-A|0:A},s.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var A=0,O=this.length-1;O>=0;O--){var R=this.words[O]|0,k=b.words[O]|0;if(R!==k){R<k?A=-1:R>k&&(A=1);break}}return A},s.prototype.gtn=function(b){return this.cmpn(b)===1},s.prototype.gt=function(b){return this.cmp(b)===1},s.prototype.gten=function(b){return this.cmpn(b)>=0},s.prototype.gte=function(b){return this.cmp(b)>=0},s.prototype.ltn=function(b){return this.cmpn(b)===-1},s.prototype.lt=function(b){return this.cmp(b)===-1},s.prototype.lten=function(b){return this.cmpn(b)<=0},s.prototype.lte=function(b){return this.cmp(b)<=0},s.prototype.eqn=function(b){return this.cmpn(b)===0},s.prototype.eq=function(b){return this.cmp(b)===0},s.red=function(b){return new J(b)},s.prototype.toRed=function(b){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(b){return this.red=b,this},s.prototype.forceRed=function(b){return n(!this.red,"Already a number in reduction context"),this._forceRed(b)},s.prototype.redAdd=function(b){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},s.prototype.redIAdd=function(b){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},s.prototype.redSub=function(b){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},s.prototype.redISub=function(b){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},s.prototype.redShl=function(b){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},s.prototype.redMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},s.prototype.redIMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(b){return n(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var B={k256:null,p224:null,p192:null,p25519:null};function $(F,b){this.name=F,this.p=new s(b,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var b=new s(null);return b.words=new Array(Math.ceil(this.n/13)),b},$.prototype.ireduce=function(b){var A=b,O;do this.split(A,this.tmp),A=this.imulK(A),A=A.iadd(this.tmp),O=A.bitLength();while(O>this.n);var R=O<this.n?-1:A.ucmp(this.p);return R===0?(A.words[0]=0,A.length=1):R>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},$.prototype.split=function(b,A){b.iushrn(this.n,0,A)},$.prototype.imulK=function(b){return b.imul(this.k)};function W(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(W,$),W.prototype.split=function(b,A){for(var O=4194303,R=Math.min(b.length,9),k=0;k<R;k++)A.words[k]=b.words[k];if(A.length=R,b.length<=9){b.words[0]=0,b.length=1;return}var I=b.words[9];for(A.words[A.length++]=I&O,k=10;k<b.length;k++){var N=b.words[k]|0;b.words[k-10]=(N&O)<<4|I>>>22,I=N}I>>>=22,b.words[k-10]=I,I===0&&b.length>10?b.length-=10:b.length-=9},W.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var A=0,O=0;O<b.length;O++){var R=b.words[O]|0;A+=R*977,b.words[O]=A&67108863,A=R*64+(A/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function G(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(G,$);function q(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(q,$);function H(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(H,$),H.prototype.imulK=function(b){for(var A=0,O=0;O<b.length;O++){var R=(b.words[O]|0)*19+A,k=R&67108863;R>>>=26,b.words[O]=k,A=R}return A!==0&&(b.words[b.length++]=A),b},s._prime=function(b){if(B[b])return B[b];var A;if(b==="k256")A=new W;else if(b==="p224")A=new G;else if(b==="p192")A=new q;else if(b==="p25519")A=new H;else throw new Error("Unknown prime "+b);return B[b]=A,A};function J(F){if(typeof F=="string"){var b=s._prime(F);this.m=b.p,this.prime=b}else n(F.gtn(1),"modulus must be greater than 1"),this.m=F,this.prime=null}J.prototype._verify1=function(b){n(b.negative===0,"red works only with positives"),n(b.red,"red works only with red numbers")},J.prototype._verify2=function(b,A){n((b.negative|A.negative)===0,"red works only with positives"),n(b.red&&b.red===A.red,"red works only with red numbers")},J.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):(f(b,b.umod(this.m)._forceRed(this)),b)},J.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},J.prototype.add=function(b,A){this._verify2(b,A);var O=b.add(A);return O.cmp(this.m)>=0&&O.isub(this.m),O._forceRed(this)},J.prototype.iadd=function(b,A){this._verify2(b,A);var O=b.iadd(A);return O.cmp(this.m)>=0&&O.isub(this.m),O},J.prototype.sub=function(b,A){this._verify2(b,A);var O=b.sub(A);return O.cmpn(0)<0&&O.iadd(this.m),O._forceRed(this)},J.prototype.isub=function(b,A){this._verify2(b,A);var O=b.isub(A);return O.cmpn(0)<0&&O.iadd(this.m),O},J.prototype.shl=function(b,A){return this._verify1(b),this.imod(b.ushln(A))},J.prototype.imul=function(b,A){return this._verify2(b,A),this.imod(b.imul(A))},J.prototype.mul=function(b,A){return this._verify2(b,A),this.imod(b.mul(A))},J.prototype.isqr=function(b){return this.imul(b,b.clone())},J.prototype.sqr=function(b){return this.mul(b,b)},J.prototype.sqrt=function(b){if(b.isZero())return b.clone();var A=this.m.andln(3);if(n(A%2===1),A===3){var O=this.m.add(new s(1)).iushrn(2);return this.pow(b,O)}for(var R=this.m.subn(1),k=0;!R.isZero()&&R.andln(1)===0;)k++,R.iushrn(1);n(!R.isZero());var I=new s(1).toRed(this),N=I.redNeg(),D=this.m.subn(1).iushrn(1),E=this.m.bitLength();for(E=new s(2*E*E).toRed(this);this.pow(E,D).cmp(N)!==0;)E.redIAdd(N);for(var M=this.pow(E,R),Z=this.pow(b,R.addn(1).iushrn(1)),z=this.pow(b,R),K=k;z.cmp(I)!==0;){for(var Y=z,Q=0;Y.cmp(I)!==0;Q++)Y=Y.redSqr();n(Q<K);var ee=this.pow(M,new s(1).iushln(K-Q-1));Z=Z.redMul(ee),M=ee.redSqr(),z=z.redMul(M),K=Q}return Z},J.prototype.invm=function(b){var A=b._invmp(this.m);return A.negative!==0?(A.negative=0,this.imod(A).redNeg()):this.imod(A)},J.prototype.pow=function(b,A){if(A.isZero())return new s(1).toRed(this);if(A.cmpn(1)===0)return b.clone();var O=4,R=new Array(1<<O);R[0]=new s(1).toRed(this),R[1]=b;for(var k=2;k<R.length;k++)R[k]=this.mul(R[k-1],b);var I=R[0],N=0,D=0,E=A.bitLength()%26;for(E===0&&(E=26),k=A.length-1;k>=0;k--){for(var M=A.words[k],Z=E-1;Z>=0;Z--){var z=M>>Z&1;if(I!==R[0]&&(I=this.sqr(I)),z===0&&N===0){D=0;continue}N<<=1,N|=z,D++,!(D!==O&&(k!==0||Z!==0))&&(I=this.mul(I,R[N]),D=0,N=0)}E=26}return I},J.prototype.convertTo=function(b){var A=b.umod(this.m);return A===b?A.clone():A},J.prototype.convertFrom=function(b){var A=b.clone();return A.red=null,A},s.mont=function(b){return new V(b)};function V(F){J.call(this,F),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(V,J),V.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},V.prototype.convertFrom=function(b){var A=this.imod(b.mul(this.rinv));return A.red=null,A},V.prototype.imul=function(b,A){if(b.isZero()||A.isZero())return b.words[0]=0,b.length=1,b;var O=b.imul(A),R=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=O.isub(R).iushrn(this.shift),I=k;return k.cmp(this.m)>=0?I=k.isub(this.m):k.cmpn(0)<0&&(I=k.iadd(this.m)),I._forceRed(this)},V.prototype.mul=function(b,A){if(b.isZero()||A.isZero())return new s(0)._forceRed(this);var O=b.mul(A),R=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=O.isub(R).iushrn(this.shift),I=k;return k.cmp(this.m)>=0?I=k.isub(this.m):k.cmpn(0)<0&&(I=k.iadd(this.m)),I._forceRed(this)},V.prototype.invm=function(b){var A=this.imod(b._invmp(this.m).mul(this.r2));return A._forceRed(this)}})(t,Z$)}(k0)),k0.exports}var tU=eU();const Mt=El(tU),rU="logger/5.8.0";let AN=!1,jN=!1;const _0={debug:1,default:2,info:2,warning:3,error:4,off:5};let PN=_0.default,vw=null;function nU(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const RN=nU();var yk;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(yk||(yk={}));var qo;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(qo||(qo={}));const IN="0123456789abcdef";class oe{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();_0[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(PN>_0[n])&&console.log.apply(console,r)}debug(...e){this._log(oe.levels.DEBUG,e)}info(...e){this._log(oe.levels.INFO,e)}warn(...e){this._log(oe.levels.WARNING,e)}makeError(e,r,n){if(jN)return this.makeError("censored error",r,{});r||(r=oe.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const d=n[c];try{if(d instanceof Uint8Array){let f="";for(let p=0;p<d.length;p++)f+=IN[d[p]>>4],f+=IN[d[p]&15];i.push(c+"=Uint8Array(0x"+f+")")}else i.push(c+"="+JSON.stringify(d))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case qo.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case qo.CALL_EXCEPTION:case qo.INSUFFICIENT_FUNDS:case qo.MISSING_NEW:case qo.NONCE_EXPIRED:case qo.REPLACEMENT_UNDERPRICED:case qo.TRANSACTION_REPLACED:case qo.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,oe.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){RN&&this.throwError("platform missing String.prototype.normalize",oe.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:RN})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,oe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,oe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,oe.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,oe.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",oe.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",oe.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",oe.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return vw||(vw=new oe(rU)),vw}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",oe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),AN){if(!e)return;this.globalLogger().throwError("error censorship permanent",oe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}jN=!!e,AN=!!r}static setLogLevel(e){const r=_0[e.toLowerCase()];if(r==null){oe.globalLogger().warn("invalid log level - "+e);return}PN=r}static from(e){return new oe(e)}}oe.errors=qo;oe.levels=yk;const iU="bytes/5.8.0",un=new oe(iU);function _M(t){return!!t.toHexString}function jf(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return jf(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function fC(t){return Yt(t)&&!(t.length%2)||ph(t)}function MN(t){return typeof t=="number"&&t==t&&t%1===0}function ph(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!MN(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!MN(r)||r<0||r>=256)return!1}return!0}function Et(t,e){if(e||(e={}),typeof t=="number"){un.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),jf(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),_M(t)&&(t=t.toHexString()),Yt(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":un.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return jf(new Uint8Array(n))}return ph(t)?jf(new Uint8Array(t)):un.throwArgumentError("invalid arrayify value","value",t)}function Bs(t){const e=t.map(i=>Et(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),jf(n)}function Kf(t){let e=Et(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function sU(t,e){t=Et(t),t.length>e&&un.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),jf(r)}function Yt(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const bw="0123456789abcdef";function ut(t,e){if(e||(e={}),typeof t=="number"){un.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=bw[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),_M(t))return t.toHexString();if(Yt(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":un.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(ph(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=bw[(i&240)>>4]+bw[i&15]}return r}return un.throwArgumentError("invalid hexlify value","value",t)}function Ku(t){if(typeof t!="string")t=ut(t);else if(!Yt(t)||t.length%2)return null;return(t.length-2)/2}function Ci(t,e,r){return typeof t!="string"?t=ut(t):(!Yt(t)||t.length%2)&&un.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function fs(t){let e="0x";return t.forEach(r=>{e+=ut(r).substring(2)}),e}function Wx(t){const e=oU(ut(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function oU(t){typeof t!="string"&&(t=ut(t)),Yt(t)||un.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function Qr(t,e){for(typeof t!="string"?t=ut(t):Yt(t)||un.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&un.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function qx(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(fC(t)){let r=Et(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=ut(r.slice(0,32)),e.s=ut(r.slice(32,64))):r.length===65?(e.r=ut(r.slice(0,32)),e.s=ut(r.slice(32,64)),e.v=r[64]):un.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:un.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=ut(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=sU(Et(e._vs),32);e._vs=ut(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&un.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=ut(i);e.s==null?e.s=o:e.s!==o&&un.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?un.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&un.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Yt(e.r)?un.throwArgumentError("signature missing or invalid r","signature",t):e.r=Qr(e.r,32),e.s==null||!Yt(e.s)?un.throwArgumentError("signature missing or invalid s","signature",t):e.s=Qr(e.s,32);const r=Et(e.s);r[0]>=128&&un.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=ut(r);e._vs&&(Yt(e._vs)||un.throwArgumentError("signature invalid _vs","signature",t),e._vs=Qr(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&un.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const CM="bignumber/5.8.0";var Q0=Mt.BN;const sl=new oe(CM),ww={},DN=9007199254740991;function aU(t){return t!=null&&(ue.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||Yt(t)||typeof t=="bigint"||ph(t))}let ON=!1;class ue{constructor(e,r){e!==ww&&sl.throwError("cannot call constructor directly; use BigNumber.from",oe.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return as(cr(this).fromTwos(e))}toTwos(e){return as(cr(this).toTwos(e))}abs(){return this._hex[0]==="-"?ue.from(this._hex.substring(1)):this}add(e){return as(cr(this).add(cr(e)))}sub(e){return as(cr(this).sub(cr(e)))}div(e){return ue.from(e).isZero()&&io("division-by-zero","div"),as(cr(this).div(cr(e)))}mul(e){return as(cr(this).mul(cr(e)))}mod(e){const r=cr(e);return r.isNeg()&&io("division-by-zero","mod"),as(cr(this).umod(r))}pow(e){const r=cr(e);return r.isNeg()&&io("negative-power","pow"),as(cr(this).pow(r))}and(e){const r=cr(e);return(this.isNegative()||r.isNeg())&&io("unbound-bitwise-result","and"),as(cr(this).and(r))}or(e){const r=cr(e);return(this.isNegative()||r.isNeg())&&io("unbound-bitwise-result","or"),as(cr(this).or(r))}xor(e){const r=cr(e);return(this.isNegative()||r.isNeg())&&io("unbound-bitwise-result","xor"),as(cr(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&io("negative-width","mask"),as(cr(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&io("negative-width","shl"),as(cr(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&io("negative-width","shr"),as(cr(this).shrn(e))}eq(e){return cr(this).eq(cr(e))}lt(e){return cr(this).lt(cr(e))}lte(e){return cr(this).lte(cr(e))}gt(e){return cr(this).gt(cr(e))}gte(e){return cr(this).gte(cr(e))}isNegative(){return this._hex[0]==="-"}isZero(){return cr(this).isZero()}toNumber(){try{return cr(this).toNumber()}catch{io("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return sl.throwError("this platform does not support BigInt",oe.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?ON||(ON=!0,sl.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?sl.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",oe.errors.UNEXPECTED_ARGUMENT,{}):sl.throwError("BigNumber.toString does not accept parameters",oe.errors.UNEXPECTED_ARGUMENT,{})),cr(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof ue)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new ue(ww,fm(e)):e.match(/^-?[0-9]+$/)?new ue(ww,fm(new Q0(e))):sl.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&io("underflow","BigNumber.from",e),(e>=DN||e<=-DN)&&io("overflow","BigNumber.from",e),ue.from(String(e));const r=e;if(typeof r=="bigint")return ue.from(r.toString());if(ph(r))return ue.from(ut(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return ue.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Yt(n)||n[0]==="-"&&Yt(n.substring(1))))return ue.from(n)}return sl.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function fm(t){if(typeof t!="string")return fm(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&sl.throwArgumentError("invalid hex","value",t),t=fm(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function as(t){return ue.from(fm(t))}function cr(t){const e=ue.from(t).toHexString();return e[0]==="-"?new Q0("-"+e.substring(3),16):new Q0(e.substring(2),16)}function io(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),sl.throwError(t,oe.errors.NUMERIC_FAULT,n)}function lU(t){return new Q0(t,36).toString(16)}const Hi=new oe(CM),Op={},SM=ue.from(0),EM=ue.from(-1);function TM(t,e,r,n){const i={fault:e,operation:r};return n!==void 0&&(i.value=n),Hi.throwError(t,oe.errors.NUMERIC_FAULT,i)}let Lp="0";for(;Lp.length<256;)Lp+=Lp;function hC(t){if(typeof t!="number")try{t=ue.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+Lp.substring(0,t):Hi.throwArgumentError("invalid decimal size","decimals",t)}function C0(t,e){e==null&&(e=0);const r=hC(e);t=ue.from(t);const n=t.lt(SM);n&&(t=t.mul(EM));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return r.length===1?t=s:t=s+"."+i,n&&(t="-"+t),t}function ba(t,e){e==null&&(e=0);const r=hC(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&Hi.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&Hi.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&Hi.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>r.length-1&&TM("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<r.length-1;)o+="0";const a=ue.from(s),c=ue.from(o);let d=a.mul(r).add(c);return n&&(d=d.mul(EM)),d}class Pf{constructor(e,r,n,i){e!==Op&&Hi.throwError("cannot use FixedFormat constructor; use FixedFormat.from",oe.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=hC(i),Object.freeze(this)}static from(e){if(e instanceof Pf)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Hi.throwArgumentError("invalid fixed format","format",e),r=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,c)=>e[o]==null?c:(typeof e[o]!==a&&Hi.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);r=s("signed","boolean",r),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&Hi.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&Hi.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Pf(Op,r,n,i)}}class oi{constructor(e,r,n,i){e!==Op&&Hi.throwError("cannot use FixedNumber constructor; use FixedNumber.from",oe.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Hi.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=ba(this._value,this.format.decimals),n=ba(e._value,e.format.decimals);return oi.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=ba(this._value,this.format.decimals),n=ba(e._value,e.format.decimals);return oi.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=ba(this._value,this.format.decimals),n=ba(e._value,e.format.decimals);return oi.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=ba(this._value,this.format.decimals),n=ba(e._value,e.format.decimals);return oi.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=oi.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(LN.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=oi.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(LN.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&Hi.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=oi.from("1"+Lp.substring(0,e),this.format),i=cU.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Hi.throwArgumentError("invalid byte width","width",e);const r=ue.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Qr(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return oi.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!aU(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),oi.fromString(C0(e,r),Pf.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=Pf.from(r),i=ba(e,n.decimals);!n.signed&&i.lt(SM)&&TM("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=Qr(s,n.width/8));const o=C0(i,n.decimals);return new oi(Op,s,o,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=Pf.from(r);if(Et(e).length>n.width/8)throw new Error("overflow");let i=ue.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=C0(i,n.decimals);return new oi(Op,s,o,n)}static from(e,r){if(typeof e=="string")return oi.fromString(e,r);if(ph(e))return oi.fromBytes(e,r);try{return oi.fromValue(e,0,r)}catch(n){if(n.code!==oe.errors.INVALID_ARGUMENT)throw n}return Hi.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const LN=oi.from(1),cU=oi.from("0.5"),uU="properties/5.8.0";var dU=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const Z0=new oe(uU);function ke(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function $s(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Rn(t){return dU(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function fU(t,e){(!t||typeof t!="object")&&Z0.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||Z0.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function Jr(t){const e={};for(const r in t)e[r]=t[r];return e}const hU={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function NM(t){if(t==null||hU[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!NM(n))return!1}return!0}return Z0.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function pU(t){if(NM(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Ws(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&ke(e,r,Ws(n))}return e}return Z0.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Ws(t){return pU(t)}class eg{constructor(e){for(const r in e)this[r]=Ws(e[r])}}const tg="abi/5.8.0",ur=new oe(tg),Yu={};let FN={calldata:!0,memory:!0,storage:!0},mU={calldata:!0,memory:!0};function Sy(t,e){if(t==="bytes"||t==="string"){if(FN[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&mU[e])return!0;return(FN[e]||e==="payable")&&ur.throwArgumentError("invalid modifier","name",e),!1}function gU(t,e){let r=t;function n(a){ur.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<t.length;a++){let c=t[a];switch(c){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=cf(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),Sy(o.type,o.name)&&(o.name=""),o.type=cf(o.type);let d=o;o=o.parent,o||n(a),delete d.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),Sy(o.type,o.name)&&(o.name=""),o.type=cf(o.type);let f=i(o.parent);o.parent.components.push(f),delete o.parent,o=f;break;case" ":o.state.allowType&&o.type!==""&&(o.type=cf(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):Sy(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=c,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=c,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=c,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=c,delete o.state.allowArray):o.state.readArray?o.type+=c:n(a)}}return o.parent&&ur.throwArgumentError("unexpected eof","param",t),delete s.state,o.name==="indexed"?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):Sy(o.type,o.name)&&(o.name=""),s.type=cf(s.type),s}function S0(t,e){for(let r in e)ke(t,r,e[r])}const wr=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),yU=new RegExp(/^(.*)\[([0-9]*)\]$/);class Qn{constructor(e,r){e!==Yu&&ur.throwError("use fromString",oe.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),S0(this,r);let n=this.type.match(yU);n?S0(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Qn.fromObject({type:n[1],components:this.components}),baseType:"array"}):S0(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=wr.sighash),wr[e]||ur.throwArgumentError("invalid format type","format",e),e===wr.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==wr.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===wr.full?", ":",")+")"):r+=this.type,e!==wr.sighash&&(this.indexed===!0&&(r+=" indexed"),e===wr.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?Qn.fromString(e,r):Qn.fromObject(e)}static fromObject(e){return Qn.isParamType(e)?e:new Qn(Yu,{name:e.name||null,type:cf(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Qn.fromObject):null})}static fromString(e,r){function n(i){return Qn.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(gU(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function hm(t,e){return vU(t).map(r=>Qn.fromString(r,e))}class pl{constructor(e,r){e!==Yu&&ur.throwError("use a static from method",oe.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),S0(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return pl.isFragment(e)?e:typeof e=="string"?pl.fromString(e):pl.fromObject(e)}static fromObject(e){if(pl.isFragment(e))return e;switch(e.type){case"function":return Aa.fromObject(e);case"event":return fl.fromObject(e);case"constructor":return Na.fromObject(e);case"error":return ac.fromObject(e);case"fallback":case"receive":return null}return ur.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?fl.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?Aa.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?Na.fromString(e.trim()):e.split(" ")[0]==="error"?ac.fromString(e.substring(5).trim()):ur.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class fl extends pl{format(e){if(e||(e=wr.sighash),wr[e]||ur.throwArgumentError("invalid format type","format",e),e===wr.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==wr.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===wr.full?", ":",")+") ",e!==wr.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?fl.fromString(e):fl.fromObject(e)}static fromObject(e){if(fl.isEventFragment(e))return e;e.type!=="event"&&ur.throwArgumentError("invalid event object","value",e);const r={name:pm(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Qn.fromObject):[],type:"event"};return new fl(Yu,r)}static fromString(e){let r=e.match(mm);r||ur.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:ur.warn("unknown modifier: "+i)}}),fl.fromObject({name:r[1].trim(),anonymous:n,inputs:hm(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function AM(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&ur.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||ur.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=ue.from(r[1]),r[0]):t}function jM(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function PM(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&ur.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&ur.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&ur.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&ur.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&ur.throwArgumentError("unable to determine stateMutability","value",t),e}class Na extends pl{format(e){if(e||(e=wr.sighash),wr[e]||ur.throwArgumentError("invalid format type","format",e),e===wr.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===wr.sighash&&ur.throwError("cannot format a constructor for sighash",oe.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===wr.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?Na.fromString(e):Na.fromObject(e)}static fromObject(e){if(Na.isConstructorFragment(e))return e;e.type!=="constructor"&&ur.throwArgumentError("invalid constructor object","value",e);let r=PM(e);r.constant&&ur.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Qn.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ue.from(e.gas):null};return new Na(Yu,n)}static fromString(e){let r={type:"constructor"};e=AM(e,r);let n=e.match(mm);return(!n||n[1].trim()!=="constructor")&&ur.throwArgumentError("invalid constructor string","value",e),r.inputs=hm(n[2].trim(),!1),jM(n[3].trim(),r),Na.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class Aa extends Na{format(e){if(e||(e=wr.sighash),wr[e]||ur.throwArgumentError("invalid format type","format",e),e===wr.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==wr.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===wr.full?", ":",")+") ",e!==wr.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?Aa.fromString(e):Aa.fromObject(e)}static fromObject(e){if(Aa.isFunctionFragment(e))return e;e.type!=="function"&&ur.throwArgumentError("invalid function object","value",e);let r=PM(e);const n={type:e.type,name:pm(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(Qn.fromObject):[],outputs:e.outputs?e.outputs.map(Qn.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ue.from(e.gas):null};return new Aa(Yu,n)}static fromString(e){let r={type:"function"};e=AM(e,r);let n=e.split(" returns ");n.length>2&&ur.throwArgumentError("invalid function string","value",e);let i=n[0].match(mm);if(i||ur.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&pm(r.name),r.inputs=hm(i[2],!1),jM(i[3].trim(),r),n.length>1){let s=n[1].match(mm);(s[1].trim()!=""||s[3].trim()!="")&&ur.throwArgumentError("unexpected tokens","value",e),r.outputs=hm(s[2],!1)}else r.outputs=[];return Aa.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function zN(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&ur.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class ac extends pl{format(e){if(e||(e=wr.sighash),wr[e]||ur.throwArgumentError("invalid format type","format",e),e===wr.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==wr.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===wr.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?ac.fromString(e):ac.fromObject(e)}static fromObject(e){if(ac.isErrorFragment(e))return e;e.type!=="error"&&ur.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:pm(e.name),inputs:e.inputs?e.inputs.map(Qn.fromObject):[]};return zN(new ac(Yu,r))}static fromString(e){let r={type:"error"},n=e.match(mm);return n||ur.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&pm(r.name),r.inputs=hm(n[2],!1),zN(ac.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function cf(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const xU=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function pm(t){return(!t||!t.match(xU))&&ur.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const mm=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function vU(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&n===0?(e.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&ur.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const pC=new oe(tg);function bU(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{r(o,i[s])}catch(a){e.push({path:o,error:a})}}};return r([],t),e}class Tl{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){pC.throwArgumentError(e,this.localName,r)}}class xk{constructor(e){ke(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return fs(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Bs(e._data))}writeBytes(e){let r=Et(e);const n=r.length%this.wordSize;return n&&(r=Bs([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=Et(ue.from(e));return r.length>this.wordSize&&pC.throwError("value out-of-bounds",oe.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Bs([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class ex{constructor(e,r,n,i){ke(this,"_data",Et(e)),ke(this,"wordSize",r||32),ke(this,"_coerceFunc",n),ke(this,"allowLoose",i),this._offset=0}get data(){return ut(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):ex.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:pC.throwError("data out-of-bounds",oe.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new ex(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return ue.from(this.readBytes(this.wordSize))}}var kw={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */var BN;function wU(){return BN||(BN=1,function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=F8:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",d="0123456789abcdef".split(""),f=[31,7936,2031616,520093696],p=[4,1024,262144,67108864],g=[1,256,65536,16777216],m=[6,1536,393216,100663296],v=[0,8,16,24],x=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],w=[224,256,384,512],T=[128,256],j=["hex","buffer","arrayBuffer","array","digest"],P={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(z){return Object.prototype.toString.call(z)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(z){return typeof z=="object"&&z.buffer&&z.buffer.constructor===ArrayBuffer});for(var S=function(z,K,Y){return function(Q){return new E(z,K,z).update(Q)[Y]()}},B=function(z,K,Y){return function(Q,ee){return new E(z,K,ee).update(Q)[Y]()}},$=function(z,K,Y){return function(Q,ee,ae,ne){return b["cshake"+z].update(Q,ee,ae,ne)[Y]()}},W=function(z,K,Y){return function(Q,ee,ae,ne){return b["kmac"+z].update(Q,ee,ae,ne)[Y]()}},G=function(z,K,Y,Q){for(var ee=0;ee<j.length;++ee){var ae=j[ee];z[ae]=K(Y,Q,ae)}return z},q=function(z,K){var Y=S(z,K,"hex");return Y.create=function(){return new E(z,K,z)},Y.update=function(Q){return Y.create().update(Q)},G(Y,S,z,K)},H=function(z,K){var Y=B(z,K,"hex");return Y.create=function(Q){return new E(z,K,Q)},Y.update=function(Q,ee){return Y.create(ee).update(Q)},G(Y,B,z,K)},J=function(z,K){var Y=P[z],Q=$(z,K,"hex");return Q.create=function(ee,ae,ne){return!ae&&!ne?b["shake"+z].create(ee):new E(z,K,ee).bytepad([ae,ne],Y)},Q.update=function(ee,ae,ne,de){return Q.create(ae,ne,de).update(ee)},G(Q,$,z,K)},V=function(z,K){var Y=P[z],Q=W(z,K,"hex");return Q.create=function(ee,ae,ne){return new M(z,K,ae).bytepad(["KMAC",ne],Y).bytepad([ee],Y)},Q.update=function(ee,ae,ne,de){return Q.create(ee,ne,de).update(ae)},G(Q,W,z,K)},F=[{name:"keccak",padding:g,bits:w,createMethod:q},{name:"sha3",padding:m,bits:w,createMethod:q},{name:"shake",padding:f,bits:T,createMethod:H},{name:"cshake",padding:p,bits:T,createMethod:J},{name:"kmac",padding:p,bits:T,createMethod:V}],b={},A=[],O=0;O<F.length;++O)for(var R=F[O],k=R.bits,I=0;I<k.length;++I){var N=R.name+"_"+k[I];if(A.push(N),b[N]=R.createMethod(k[I],R.padding),R.name!=="sha3"){var D=R.name+k[I];A.push(D),b[D]=b[N]}}function E(z,K,Y){this.blocks=[],this.s=[],this.padding=K,this.outputBits=Y,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(z<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Y>>5,this.extraBytes=(Y&31)>>3;for(var Q=0;Q<50;++Q)this.s[Q]=0}E.prototype.update=function(z){if(this.finalized)throw new Error(r);var K,Y=typeof z;if(Y!=="string"){if(Y==="object"){if(z===null)throw new Error(e);if(c&&z.constructor===ArrayBuffer)z=new Uint8Array(z);else if(!Array.isArray(z)&&(!c||!ArrayBuffer.isView(z)))throw new Error(e)}else throw new Error(e);K=!0}for(var Q=this.blocks,ee=this.byteCount,ae=z.length,ne=this.blockCount,de=0,xe=this.s,me,_e;de<ae;){if(this.reset)for(this.reset=!1,Q[0]=this.block,me=1;me<ne+1;++me)Q[me]=0;if(K)for(me=this.start;de<ae&&me<ee;++de)Q[me>>2]|=z[de]<<v[me++&3];else for(me=this.start;de<ae&&me<ee;++de)_e=z.charCodeAt(de),_e<128?Q[me>>2]|=_e<<v[me++&3]:_e<2048?(Q[me>>2]|=(192|_e>>6)<<v[me++&3],Q[me>>2]|=(128|_e&63)<<v[me++&3]):_e<55296||_e>=57344?(Q[me>>2]|=(224|_e>>12)<<v[me++&3],Q[me>>2]|=(128|_e>>6&63)<<v[me++&3],Q[me>>2]|=(128|_e&63)<<v[me++&3]):(_e=65536+((_e&1023)<<10|z.charCodeAt(++de)&1023),Q[me>>2]|=(240|_e>>18)<<v[me++&3],Q[me>>2]|=(128|_e>>12&63)<<v[me++&3],Q[me>>2]|=(128|_e>>6&63)<<v[me++&3],Q[me>>2]|=(128|_e&63)<<v[me++&3]);if(this.lastByteIndex=me,me>=ee){for(this.start=me-ee,this.block=Q[ne],me=0;me<ne;++me)xe[me]^=Q[me];Z(xe),this.reset=!0}else this.start=me}return this},E.prototype.encode=function(z,K){var Y=z&255,Q=1,ee=[Y];for(z=z>>8,Y=z&255;Y>0;)ee.unshift(Y),z=z>>8,Y=z&255,++Q;return K?ee.push(Q):ee.unshift(Q),this.update(ee),ee.length},E.prototype.encodeString=function(z){var K,Y=typeof z;if(Y!=="string"){if(Y==="object"){if(z===null)throw new Error(e);if(c&&z.constructor===ArrayBuffer)z=new Uint8Array(z);else if(!Array.isArray(z)&&(!c||!ArrayBuffer.isView(z)))throw new Error(e)}else throw new Error(e);K=!0}var Q=0,ee=z.length;if(K)Q=ee;else for(var ae=0;ae<z.length;++ae){var ne=z.charCodeAt(ae);ne<128?Q+=1:ne<2048?Q+=2:ne<55296||ne>=57344?Q+=3:(ne=65536+((ne&1023)<<10|z.charCodeAt(++ae)&1023),Q+=4)}return Q+=this.encode(Q*8),this.update(z),Q},E.prototype.bytepad=function(z,K){for(var Y=this.encode(K),Q=0;Q<z.length;++Q)Y+=this.encodeString(z[Q]);var ee=K-Y%K,ae=[];return ae.length=ee,this.update(ae),this},E.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var z=this.blocks,K=this.lastByteIndex,Y=this.blockCount,Q=this.s;if(z[K>>2]|=this.padding[K&3],this.lastByteIndex===this.byteCount)for(z[0]=z[Y],K=1;K<Y+1;++K)z[K]=0;for(z[Y-1]|=2147483648,K=0;K<Y;++K)Q[K]^=z[K];Z(Q)}},E.prototype.toString=E.prototype.hex=function(){this.finalize();for(var z=this.blockCount,K=this.s,Y=this.outputBlocks,Q=this.extraBytes,ee=0,ae=0,ne="",de;ae<Y;){for(ee=0;ee<z&&ae<Y;++ee,++ae)de=K[ee],ne+=d[de>>4&15]+d[de&15]+d[de>>12&15]+d[de>>8&15]+d[de>>20&15]+d[de>>16&15]+d[de>>28&15]+d[de>>24&15];ae%z===0&&(Z(K),ee=0)}return Q&&(de=K[ee],ne+=d[de>>4&15]+d[de&15],Q>1&&(ne+=d[de>>12&15]+d[de>>8&15]),Q>2&&(ne+=d[de>>20&15]+d[de>>16&15])),ne},E.prototype.arrayBuffer=function(){this.finalize();var z=this.blockCount,K=this.s,Y=this.outputBlocks,Q=this.extraBytes,ee=0,ae=0,ne=this.outputBits>>3,de;Q?de=new ArrayBuffer(Y+1<<2):de=new ArrayBuffer(ne);for(var xe=new Uint32Array(de);ae<Y;){for(ee=0;ee<z&&ae<Y;++ee,++ae)xe[ae]=K[ee];ae%z===0&&Z(K)}return Q&&(xe[ee]=K[ee],de=de.slice(0,ne)),de},E.prototype.buffer=E.prototype.arrayBuffer,E.prototype.digest=E.prototype.array=function(){this.finalize();for(var z=this.blockCount,K=this.s,Y=this.outputBlocks,Q=this.extraBytes,ee=0,ae=0,ne=[],de,xe;ae<Y;){for(ee=0;ee<z&&ae<Y;++ee,++ae)de=ae<<2,xe=K[ee],ne[de]=xe&255,ne[de+1]=xe>>8&255,ne[de+2]=xe>>16&255,ne[de+3]=xe>>24&255;ae%z===0&&Z(K)}return Q&&(de=ae<<2,xe=K[ee],ne[de]=xe&255,Q>1&&(ne[de+1]=xe>>8&255),Q>2&&(ne[de+2]=xe>>16&255)),ne};function M(z,K,Y){E.call(this,z,K,Y)}M.prototype=new E,M.prototype.finalize=function(){return this.encode(this.outputBits,!0),E.prototype.finalize.call(this)};var Z=function(z){var K,Y,Q,ee,ae,ne,de,xe,me,_e,Xe,le,Ye,jt,st,De,Jt,ot,ht,Ie,se,he,Le,Ae,Me,Gt,Qe,_t,Wt,Ct,nt,Xt,xt,Fe,Vr,Tt,St,pr,qt,Pe,yt,at,Re,Be,ze,we,Ue,Te,Oe,mr,Ge,pt,Nr,vt,mt,Ot,zt,gt,Mr,Gr,vr,kr,_r;for(Q=0;Q<48;Q+=2)ee=z[0]^z[10]^z[20]^z[30]^z[40],ae=z[1]^z[11]^z[21]^z[31]^z[41],ne=z[2]^z[12]^z[22]^z[32]^z[42],de=z[3]^z[13]^z[23]^z[33]^z[43],xe=z[4]^z[14]^z[24]^z[34]^z[44],me=z[5]^z[15]^z[25]^z[35]^z[45],_e=z[6]^z[16]^z[26]^z[36]^z[46],Xe=z[7]^z[17]^z[27]^z[37]^z[47],le=z[8]^z[18]^z[28]^z[38]^z[48],Ye=z[9]^z[19]^z[29]^z[39]^z[49],K=le^(ne<<1|de>>>31),Y=Ye^(de<<1|ne>>>31),z[0]^=K,z[1]^=Y,z[10]^=K,z[11]^=Y,z[20]^=K,z[21]^=Y,z[30]^=K,z[31]^=Y,z[40]^=K,z[41]^=Y,K=ee^(xe<<1|me>>>31),Y=ae^(me<<1|xe>>>31),z[2]^=K,z[3]^=Y,z[12]^=K,z[13]^=Y,z[22]^=K,z[23]^=Y,z[32]^=K,z[33]^=Y,z[42]^=K,z[43]^=Y,K=ne^(_e<<1|Xe>>>31),Y=de^(Xe<<1|_e>>>31),z[4]^=K,z[5]^=Y,z[14]^=K,z[15]^=Y,z[24]^=K,z[25]^=Y,z[34]^=K,z[35]^=Y,z[44]^=K,z[45]^=Y,K=xe^(le<<1|Ye>>>31),Y=me^(Ye<<1|le>>>31),z[6]^=K,z[7]^=Y,z[16]^=K,z[17]^=Y,z[26]^=K,z[27]^=Y,z[36]^=K,z[37]^=Y,z[46]^=K,z[47]^=Y,K=_e^(ee<<1|ae>>>31),Y=Xe^(ae<<1|ee>>>31),z[8]^=K,z[9]^=Y,z[18]^=K,z[19]^=Y,z[28]^=K,z[29]^=Y,z[38]^=K,z[39]^=Y,z[48]^=K,z[49]^=Y,jt=z[0],st=z[1],we=z[11]<<4|z[10]>>>28,Ue=z[10]<<4|z[11]>>>28,_t=z[20]<<3|z[21]>>>29,Wt=z[21]<<3|z[20]>>>29,Gr=z[31]<<9|z[30]>>>23,vr=z[30]<<9|z[31]>>>23,at=z[40]<<18|z[41]>>>14,Re=z[41]<<18|z[40]>>>14,Fe=z[2]<<1|z[3]>>>31,Vr=z[3]<<1|z[2]>>>31,De=z[13]<<12|z[12]>>>20,Jt=z[12]<<12|z[13]>>>20,Te=z[22]<<10|z[23]>>>22,Oe=z[23]<<10|z[22]>>>22,Ct=z[33]<<13|z[32]>>>19,nt=z[32]<<13|z[33]>>>19,kr=z[42]<<2|z[43]>>>30,_r=z[43]<<2|z[42]>>>30,vt=z[5]<<30|z[4]>>>2,mt=z[4]<<30|z[5]>>>2,Tt=z[14]<<6|z[15]>>>26,St=z[15]<<6|z[14]>>>26,ot=z[25]<<11|z[24]>>>21,ht=z[24]<<11|z[25]>>>21,mr=z[34]<<15|z[35]>>>17,Ge=z[35]<<15|z[34]>>>17,Xt=z[45]<<29|z[44]>>>3,xt=z[44]<<29|z[45]>>>3,Ae=z[6]<<28|z[7]>>>4,Me=z[7]<<28|z[6]>>>4,Ot=z[17]<<23|z[16]>>>9,zt=z[16]<<23|z[17]>>>9,pr=z[26]<<25|z[27]>>>7,qt=z[27]<<25|z[26]>>>7,Ie=z[36]<<21|z[37]>>>11,se=z[37]<<21|z[36]>>>11,pt=z[47]<<24|z[46]>>>8,Nr=z[46]<<24|z[47]>>>8,Be=z[8]<<27|z[9]>>>5,ze=z[9]<<27|z[8]>>>5,Gt=z[18]<<20|z[19]>>>12,Qe=z[19]<<20|z[18]>>>12,gt=z[29]<<7|z[28]>>>25,Mr=z[28]<<7|z[29]>>>25,Pe=z[38]<<8|z[39]>>>24,yt=z[39]<<8|z[38]>>>24,he=z[48]<<14|z[49]>>>18,Le=z[49]<<14|z[48]>>>18,z[0]=jt^~De&ot,z[1]=st^~Jt&ht,z[10]=Ae^~Gt&_t,z[11]=Me^~Qe&Wt,z[20]=Fe^~Tt&pr,z[21]=Vr^~St&qt,z[30]=Be^~we&Te,z[31]=ze^~Ue&Oe,z[40]=vt^~Ot&gt,z[41]=mt^~zt&Mr,z[2]=De^~ot&Ie,z[3]=Jt^~ht&se,z[12]=Gt^~_t&Ct,z[13]=Qe^~Wt&nt,z[22]=Tt^~pr&Pe,z[23]=St^~qt&yt,z[32]=we^~Te&mr,z[33]=Ue^~Oe&Ge,z[42]=Ot^~gt&Gr,z[43]=zt^~Mr&vr,z[4]=ot^~Ie&he,z[5]=ht^~se&Le,z[14]=_t^~Ct&Xt,z[15]=Wt^~nt&xt,z[24]=pr^~Pe&at,z[25]=qt^~yt&Re,z[34]=Te^~mr&pt,z[35]=Oe^~Ge&Nr,z[44]=gt^~Gr&kr,z[45]=Mr^~vr&_r,z[6]=Ie^~he&jt,z[7]=se^~Le&st,z[16]=Ct^~Xt&Ae,z[17]=nt^~xt&Me,z[26]=Pe^~at&Fe,z[27]=yt^~Re&Vr,z[36]=mr^~pt&Be,z[37]=Ge^~Nr&ze,z[46]=Gr^~kr&vt,z[47]=vr^~_r&mt,z[8]=he^~jt&De,z[9]=Le^~st&Jt,z[18]=Xt^~Ae&Gt,z[19]=xt^~Me&Qe,z[28]=at^~Fe&Tt,z[29]=Re^~Vr&St,z[38]=pt^~Be&we,z[39]=Nr^~ze&Ue,z[48]=kr^~vt&Ot,z[49]=_r^~mt&zt,z[0]^=x[Q],z[1]^=x[Q+1]};if(a)t.exports=b;else for(O=0;O<A.length;++O)i[A[O]]=b[A[O]]})()}(kw)),kw.exports}var kU=wU();const _U=El(kU);function qn(t){return"0x"+_U.keccak_256(Et(t))}const CU="rlp/5.8.0",_a=new oe(CU);function $N(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function UN(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function RM(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(RM(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=$N(n.length);return i.unshift(247+i.length),i.concat(n)}fC(t)||_a.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Et(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=$N(e.length);return r.unshift(183+r.length),r.concat(e)}function Hx(t){return ut(RM(t))}function VN(t,e,r,n){const i=[];for(;r<e+1+n;){const s=IM(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&_a.throwError("child data too short",oe.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function IM(t,e){if(t.length===0&&_a.throwError("data too short",oe.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&_a.throwError("data short segment too short",oe.errors.BUFFER_OVERRUN,{});const n=UN(t,e+1,r);return e+1+r+n>t.length&&_a.throwError("data long segment too short",oe.errors.BUFFER_OVERRUN,{}),VN(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&_a.throwError("data array too short",oe.errors.BUFFER_OVERRUN,{}),VN(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&_a.throwError("data array too short",oe.errors.BUFFER_OVERRUN,{});const n=UN(t,e+1,r);e+1+r+n>t.length&&_a.throwError("data array too short",oe.errors.BUFFER_OVERRUN,{});const i=ut(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&_a.throwError("data too short",oe.errors.BUFFER_OVERRUN,{});const n=ut(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:ut(t[e])}}function mC(t){const e=Et(t),r=IM(e,0);return r.consumed!==e.length&&_a.throwArgumentError("invalid rlp data","data",t),r.result}const SU="address/5.8.0",gf=new oe(SU);function WN(t){Yt(t,20)||gf.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Et(qn(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const EU=9007199254740991;function TU(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const gC={};for(let t=0;t<10;t++)gC[String(t)]=String(t);for(let t=0;t<26;t++)gC[String.fromCharCode(65+t)]=String(10+t);const qN=Math.floor(TU(EU));function NU(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>gC[n]).join("");for(;e.length>=qN;){let n=e.substring(0,qN);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Zn(t){let e=null;if(typeof t!="string"&&gf.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=WN(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&gf.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==NU(t)&&gf.throwArgumentError("bad icap checksum","address",t),e=lU(t.substring(4));e.length<40;)e="0"+e;e=WN("0x"+e)}else gf.throwArgumentError("invalid address","address",t);return e}function Cr(t){try{return Zn(t),!0}catch{}return!1}function MM(t){let e=null;try{e=Zn(t.from)}catch{gf.throwArgumentError("missing from address","transaction",t)}const r=Kf(Et(ue.from(t.nonce).toHexString()));return Zn(Ci(qn(Hx([e,r])),12))}class AU extends Tl{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Zn(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Zn(Qr(e.readValue().toHexString(),20))}}class jU extends Tl{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const yf=new oe(tg);function DM(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(d=>{const f=d.localName;return f||yf.throwError("cannot encode object for signature with missing names",oe.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:r}),c[f]&&yf.throwError("cannot encode object for signature with duplicate names",oe.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:r}),c[f]=!0,r[f]})}else yf.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&yf.throwArgumentError("types/value length mismatch","tuple",r);let i=new xk(t.wordSize),s=new xk(t.wordSize),o=[];e.forEach((c,d)=>{let f=n[d];if(c.dynamic){let p=s.length;c.encode(s,f);let g=i.writeUpdatableValue();o.push(m=>{g(m+p)})}else c.encode(i,f)}),o.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function OM(t,e){let r=[],n=t.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readValue(),c=n.subReader(a.toNumber());try{o=s.decode(c)}catch(d){if(d.code===oe.errors.BUFFER_OVERRUN)throw d;o=d,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(a.code===oe.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&r.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;const c=r[o];c instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw c}}):r[a]=c});for(let s=0;s<r.length;s++){const o=r[s];o instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}class PU extends Tl{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",s=r===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),yf.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return DM(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&yf.throwError("insufficient data length",oe.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new jU(this.coder));return e.coerce(this.name,OM(e,n))}}class RU extends Tl{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class LM extends Tl{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=Et(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class IU extends LM{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,ut(super.decode(e)))}}class MU extends Tl{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=Et(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,ut(e.readBytes(this.size)))}}class DU extends Tl{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const He="0x0000000000000000000000000000000000000000",OU=ue.from(-1),FM=ue.from(0),LU=ue.from(1),FU=ue.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),zU="0x0000000000000000000000000000000000000000000000000000000000000000";class BU extends Tl{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=ue.from(r),i=FU.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(LU).mul(OU)))&&this._throwError("value out-of-bounds",r)}else(n.lt(FM)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}const $U="strings/5.8.0",zM=new oe($U);var gm;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(gm||(gm={}));var As;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(As||(As={}));function UU(t,e,r,n,i){return zM.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function BM(t,e,r,n,i){if(t===As.BAD_PREFIX||t===As.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===As.OVERRUN?r.length-e-1:0}function VU(t,e,r,n,i){return t===As.OVERLONG?(n.push(i),0):(n.push(65533),BM(t,e,r))}const WU=Object.freeze({error:UU,ignore:BM,replace:VU});function $M(t,e){e==null&&(e=WU.error),t=Et(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(As.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(As.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(As.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let d=t[n];if((d&192)!=128){n+=e(As.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|d&63,n++}if(a!==null){if(a>1114111){n+=e(As.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(As.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(As.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function Fa(t,e=gm.current){e!=gm.current&&(zM.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Et(r)}function qU(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function rg(t,e){return qU($M(t,e))}function HU(t,e=gm.current){return $M(Fa(t,e))}class GU extends LM{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Fa(r))}decode(e){return rg(super.decode(e))}}class Ey extends Tl{constructor(e,r){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,r){return DM(e,this.coders,r)}decode(e){return e.coerce(this.name,OM(e,this.coders))}}const Ty=new oe(tg),KU=new RegExp(/^bytes([0-9]*)$/),YU=new RegExp(/^(u?int)([0-9]*)$/);class JU{constructor(e){ke(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new AU(e.name);case"bool":return new RU(e.name);case"string":return new GU(e.name);case"bytes":return new IU(e.name);case"array":return new PU(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Ey((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new DU(e.name)}let r=e.type.match(YU);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&Ty.throwArgumentError("invalid "+r[1]+" bit length","param",e),new BU(n/8,r[1]==="int",e.name)}if(r=e.type.match(KU),r){let n=parseInt(r[1]);return(n===0||n>32)&&Ty.throwArgumentError("invalid bytes length","param",e),new MU(n,e.name)}return Ty.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new ex(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new xk(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(Qn.from(i)));return new Ey(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&Ty.throwError("types/values length mismatch",oe.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(o=>this._getCoder(Qn.from(o))),i=new Ey(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>this._getCoder(Qn.from(o)));return new Ey(i,"_").decode(this._getReader(Et(r),n))}}const XU=new JU;function xf(t){return qn(Fa(t))}const UM="hash/5.8.0";function VM(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Et(e)}function WM(t){t=Et(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function qM(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(t,e),r}function QU(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function ZU(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let B=1;B<n;B++)s.push(i+=r());let o=r(),a=e;e+=o;let c=0,d=0;function f(){return c==0&&(d=d<<8|t[e++],c=8),d>>--c&1}const p=31,g=Math.pow(2,p),m=g>>>1,v=m>>1,x=g-1;let w=0;for(let B=0;B<p;B++)w=w<<1|f();let T=[],j=0,P=g;for(;;){let B=Math.floor(((w-j+1)*i-1)/P),$=0,W=n;for(;W-$>1;){let H=$+W>>>1;B<s[H]?W=H:$=H}if($==0)break;T.push($);let G=j+Math.floor(P*s[$]/i),q=j+Math.floor(P*s[$+1]/i)-1;for(;((G^q)&m)==0;)w=w<<1&x|f(),G=G<<1&x,q=q<<1&x|1;for(;G&~q&v;)w=w&m|w<<1&x>>>1|f(),G=G<<1^m,q=(q^m)<<1|m|1;j=G,P=1+q-G}let S=n-4;return T.map(B=>{switch(B-S){case 3:return S+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return S+256+(t[a++]<<8|t[a++]);case 1:return S+t[a++];default:return B-1}})}function e7(t){let e=0;return()=>t[e++]}function t7(t){return e7(ZU(t))}function r7(t){return t&1?~t>>1:t>>1}function n7(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function HN(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function i7(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=r7(e());return r}function tx(t,e){let r=HN(t(),t),n=t(),i=HN(n,t),s=n7(n,t);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return e?r.map(o=>e[o]):r}function s7(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(a7(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(l7(r,t))}return QU(qM(e))}function o7(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function HM(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)i7(t,r).forEach((s,o)=>n[o].push(s));return n}function a7(t,e){let r=1+e(),n=e(),i=o7(e),s=HM(i.length,1+t,e);return qM(s.map((o,a)=>{const c=o[0],d=o.slice(1);return Array(i[a]).fill(void 0).map((f,p)=>{let g=p*n;return[c+p*r,d.map(m=>m+g)]})}))}function l7(t,e){let r=1+e();return HM(r,1+t,e).map(i=>[i[0],i.slice(1)])}function c7(t){let e=tx(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let d=tx(t,e);if(d.length==0)break;n.push({set:new Set(d),node:r()})}n.sort((d,f)=>f.set.size-d.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:c}}}function u7(){return t7(VM("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Gx=u7(),d7=new Set(tx(Gx)),f7=new Set(tx(Gx)),h7=s7(Gx),p7=c7(Gx),GN=45,KN=95;function GM(t){return HU(t)}function m7(t){return t.filter(e=>e!=65039)}function KM(t){for(let e of t.split(".")){let r=GM(e);try{for(let n=r.lastIndexOf(KN)-1;n>=0;n--)if(r[n]!==KN)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===GN&&r[3]===GN)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function g7(t){return KM(y7(t,m7))}function y7(t,e){let r=GM(t).reverse(),n=[];for(;r.length;){let i=v7(r);if(i){n.push(...e(i));continue}let s=r.pop();if(d7.has(s)){n.push(s);continue}if(f7.has(s))continue;let o=h7[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return KM(x7(String.fromCodePoint(...n)))}function x7(t){return t.normalize("NFC")}function v7(t,e){var r;let n=p7,i,s,o=[],a=t.length;for(;a;){let c=t[--a];if(n=(r=n.branches.find(d=>d.set.has(c)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=c;else if(n.check&&c===s)break;o.push(c),n.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),t.length=a)}return i}const b7=new oe(UM),YM=new Uint8Array(32);YM.fill(0);function YN(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function JM(t){const e=Fa(g7(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(YN(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(YN(e.slice(n))),r}function E0(t){typeof t!="string"&&b7.throwArgumentError("invalid ENS name; not a string","name",t);let e=YM;const r=JM(t);for(;r.length;)e=qn(Bs([e,qn(r.pop())]));return ut(e)}function w7(t){return ut(Bs(JM(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}var k7=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const nn=new oe(UM),XM=new Uint8Array(32);XM.fill(0);const _7=ue.from(-1),QM=ue.from(0),ZM=ue.from(1),C7=ue.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function S7(t){const e=Et(t),r=e.length%32;return r?fs([e,XM.slice(r)]):ut(e)}const E7=Qr(ZM.toHexString(),32),T7=Qr(QM.toHexString(),32),JN={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},_w=["name","version","chainId","verifyingContract","salt"];function XN(t){return function(e){return typeof e!="string"&&nn.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const N7={name:XN("name"),version:XN("version"),chainId:function(t){try{return ue.from(t).toString()}catch{}return nn.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Zn(t).toLowerCase()}catch{}return nn.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Et(t);if(e.length!==32)throw new Error("bad length");return ut(e)}catch{}return nn.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function Cw(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&nn.throwArgumentError("invalid numeric width","type",t);const i=C7.mask(r?n-1:n),s=r?i.add(ZM).mul(_7):QM;return function(o){const a=ue.from(o);return(a.lt(s)||a.gt(i))&&nn.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),Qr(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&nn.throwArgumentError("invalid bytes width","type",t),function(n){return Et(n).length!==r&&nn.throwArgumentError(`invalid length for ${t}`,"value",n),S7(n)}}}switch(t){case"address":return function(e){return Qr(Zn(e),32)};case"bool":return function(e){return e?E7:T7};case"bytes":return function(e){return qn(e)};case"string":return function(e){return xf(e)}}return null}function QN(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class Es{constructor(e){ke(this,"types",Object.freeze(Ws(e))),ke(this,"_encoderCache",{}),ke(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(d=>{c[d.name]&&nn.throwArgumentError(`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(a)}`,"types",e),c[d.name]=!0;const f=d.type.match(/^([^\x5b]*)(\x5b|$)/)[1];f===a&&nn.throwArgumentError(`circular type reference to ${JSON.stringify(f)}`,"types",e),!Cw(f)&&(n[f]||nn.throwArgumentError(`unknown type ${JSON.stringify(f)}`,"types",e),n[f].push(a),r[a][f]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?nn.throwArgumentError("missing primary type","types",e):s.length>1&&nn.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),ke(this,"primaryType",s[0]);function o(a,c){c[a]&&nn.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(r[a]).forEach(d=>{n[d]&&(o(d,c),Object.keys(c).forEach(f=>{i[f][d]=!0}))}),delete c[a]}o(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=QN(a,e[a])+c.map(d=>QN(d,e[d])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=Cw(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return a=>{o>=0&&a.length!==o&&nn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(s);return this._types[i]&&(c=c.map(qn)),qn(fs(c))}}const n=this.types[e];if(n){const i=xf(this._types[e]);return s=>{const o=n.map(({name:a,type:c})=>{const d=this.getEncoder(c)(s[a]);return this._types[c]?qn(d):d});return o.unshift(i),fs(o)}}return nn.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||nn.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return qn(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(Cw(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&nn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(c=>this._visit(o,c,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,r[a],n),o),{}):nn.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Es(e)}static getPrimaryType(e){return Es.from(e).primaryType}static hashStruct(e,r,n){return Es.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=JN[n];i||nn.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>_w.indexOf(n.name)-_w.indexOf(i.name)),Es.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return fs(["0x1901",Es.hashDomain(e),Es.from(r).hash(n)])}static hash(e,r,n){return qn(Es.encode(e,r,n))}static resolveNames(e,r,n,i){return k7(this,void 0,void 0,function*(){e=Jr(e);const s={};e.verifyingContract&&!Yt(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Es.from(r);o.visit(n,(a,c)=>(a==="address"&&!Yt(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:n}})}static getPayload(e,r,n){Es.hashDomain(e);const i={},s=[];_w.forEach(c=>{const d=e[c];d!=null&&(i[c]=N7[c](d),s.push({name:c,type:JN[c]}))});const o=Es.from(r),a=Jr(r);return a.EIP712Domain?nn.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(c,d)=>{if(c.match(/^bytes(\d*)/))return ut(Et(d));if(c.match(/^u?int/))return ue.from(d).toString();switch(c){case"address":return d.toLowerCase();case"bool":return!!d;case"string":return typeof d!="string"&&nn.throwArgumentError("invalid string","value",d),d}return nn.throwArgumentError("unsupported type","type",c)})}}}const rn=new oe(tg);class A7 extends eg{}class j7 extends eg{}class P7 extends eg{}class vk extends eg{static isIndexed(e){return!!(e&&e._isIndexed)}}const R7={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function ZN(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class bk{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,ke(this,"fragments",r.map(n=>pl.from(n)).filter(n=>n!=null)),ke(this,"_abiCoder",$s(new.target,"getAbiCoder")()),ke(this,"functions",{}),ke(this,"errors",{}),ke(this,"events",{}),ke(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){rn.warn("duplicate definition - constructor");return}ke(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){rn.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||ke(this,"deploy",Na.from({payable:!1,type:"constructor"})),ke(this,"_isInterface",!0)}format(e){e||(e=wr.full),e===wr.sighash&&rn.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===wr.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return XU}static getAddress(e){return Zn(e)}static getSighash(e){return Ci(xf(e.format()),0,4)}static getEventTopic(e){return xf(e.format())}getFunction(e){if(Yt(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];rn.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?rn.throwArgumentError("no matching function","name",n):i.length>1&&rn.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[Aa.fromString(e).format()];return r||rn.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(Yt(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];rn.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?rn.throwArgumentError("no matching event","name",n):i.length>1&&rn.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[fl.fromString(e).format()];return r||rn.throwArgumentError("no matching event","signature",e),r}getError(e){if(Yt(e)){const n=$s(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}rn.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?rn.throwArgumentError("no matching error","name",n):i.length>1&&rn.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[Aa.fromString(e).format()];return r||rn.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return $s(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),$s(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=Et(r);return ut(n.slice(0,4))!==this.getSighash(e)&&rn.throwArgumentError(`data signature does not match error ${e.name}.`,"data",ut(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),ut(Bs([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=Et(r);return ut(n.slice(0,4))!==this.getSighash(e)&&rn.throwArgumentError(`data signature does not match function ${e.name}.`,"data",ut(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),ut(Bs([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=Et(r),i=null,s="",o=null,a=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const d=ut(n.slice(0,4)),f=R7[d];if(f)o=this._abiCoder.decode(f.inputs,n.slice(4)),a=f.name,c=f.signature,f.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const p=this.getError(d);o=this._abiCoder.decode(p.inputs,n.slice(4)),a=p.name,c=p.format()}catch{}break}}return rn.throwError("call revert exception"+s,oe.errors.CALL_EXCEPTION,{method:e.format(),data:ut(r),errorArgs:o,errorName:a,errorSignature:c,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),ut(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&rn.throwError("too many arguments for "+e.format(),oe.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?xf(o):s.type==="bytes"?qn(ut(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=ue.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),Qr(ut(o),32));for(r.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&rn.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?rn.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(c=>i(a,c))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&rn.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const c=r[a];if(o.indexed)if(o.type==="string")n.push(xf(c));else if(o.type==="bytes")n.push(qn(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let g=this.getEventTopic(e);(!Yt(n[0],32)||n[0].toLowerCase()!==g)&&rn.throwError("fragment/topic mismatch",oe.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:g,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((g,m)=>{g.indexed?g.type==="string"||g.type==="bytes"||g.baseType==="tuple"||g.baseType==="array"?(i.push(Qn.fromObject({type:"bytes32",name:g.name})),o.push(!0)):(i.push(g),o.push(!1)):(s.push(g),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,Bs(n)):null,c=this._abiCoder.decode(s,r,!0),d=[],f=0,p=0;e.inputs.forEach((g,m)=>{if(g.indexed)if(a==null)d[m]=new vk({_isIndexed:!0,hash:null});else if(o[m])d[m]=new vk({_isIndexed:!0,hash:a[p++]});else try{d[m]=a[p++]}catch(v){d[m]=v}else try{d[m]=c[f++]}catch(v){d[m]=v}if(g.name&&d[g.name]==null){const v=d[m];v instanceof Error?Object.defineProperty(d,g.name,{enumerable:!0,get:()=>{throw ZN(`property ${JSON.stringify(g.name)}`,v)}}):d[g.name]=v}});for(let g=0;g<d.length;g++){const m=d[g];m instanceof Error&&Object.defineProperty(d,g,{enumerable:!0,get:()=>{throw ZN(`index ${g}`,m)}})}return Object.freeze(d)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new j7({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:ue.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new A7({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=ut(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new P7({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const I7="abstract-provider/5.8.0";var M7=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const D7=new oe(I7);class O7 extends eg{static isForkEvent(e){return!!(e&&e._isForkEvent)}}let yC=class e4{constructor(){D7.checkAbstract(new.target,e4),ke(this,"_isProvider",!0)}getFeeData(){return M7(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield Rn({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=ue.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}};const L7="abstract-signer/5.8.0";var Lo=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const oo=new oe(L7),F7=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],z7=[oe.errors.INSUFFICIENT_FUNDS,oe.errors.NONCE_EXPIRED,oe.errors.REPLACEMENT_UNDERPRICED];class ng{constructor(){oo.checkAbstract(new.target,ng),ke(this,"_isSigner",!0)}getBalance(e){return Lo(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Lo(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Lo(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield Rn(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return Lo(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield Rn(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return Lo(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Lo(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Lo(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Lo(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Lo(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)F7.indexOf(n)===-1&&oo.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=Jr(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&oo.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return Lo(this,void 0,void 0,function*(){const r=yield Rn(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>Lo(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&oo.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?oo.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&oo.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&oo.throwError("network does not support EIP-1559",oe.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):oo.throwError("failed to get consistent fee data",oe.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(z7.indexOf(i.code)>=0)throw i;return oo.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",oe.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&oo.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield Rn(r)})}_checkProvider(e){this.provider||oo.throwError("missing provider",oe.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class xC extends ng{constructor(e,r){super(),ke(this,"address",e),ke(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{oo.throwError(e,oe.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new xC(this.address,e)}}var Sw={},Ar={},Ew,eA;function ig(){if(eA)return Ew;eA=1,Ew=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},Ew}var Ny={exports:{}},tA;function B7(){return tA||(tA=1,typeof Object.create=="function"?Ny.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Ny.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),Ny.exports}var rA;function Va(){if(rA)return Ar;rA=1;var t=ig(),e=B7();Ar.inherits=e;function r(V,F){return(V.charCodeAt(F)&64512)!==55296||F<0||F+1>=V.length?!1:(V.charCodeAt(F+1)&64512)===56320}function n(V,F){if(Array.isArray(V))return V.slice();if(!V)return[];var b=[];if(typeof V=="string")if(F){if(F==="hex")for(V=V.replace(/[^a-z0-9]+/ig,""),V.length%2!==0&&(V="0"+V),O=0;O<V.length;O+=2)b.push(parseInt(V[O]+V[O+1],16))}else for(var A=0,O=0;O<V.length;O++){var R=V.charCodeAt(O);R<128?b[A++]=R:R<2048?(b[A++]=R>>6|192,b[A++]=R&63|128):r(V,O)?(R=65536+((R&1023)<<10)+(V.charCodeAt(++O)&1023),b[A++]=R>>18|240,b[A++]=R>>12&63|128,b[A++]=R>>6&63|128,b[A++]=R&63|128):(b[A++]=R>>12|224,b[A++]=R>>6&63|128,b[A++]=R&63|128)}else for(O=0;O<V.length;O++)b[O]=V[O]|0;return b}Ar.toArray=n;function i(V){for(var F="",b=0;b<V.length;b++)F+=a(V[b].toString(16));return F}Ar.toHex=i;function s(V){var F=V>>>24|V>>>8&65280|V<<8&16711680|(V&255)<<24;return F>>>0}Ar.htonl=s;function o(V,F){for(var b="",A=0;A<V.length;A++){var O=V[A];F==="little"&&(O=s(O)),b+=c(O.toString(16))}return b}Ar.toHex32=o;function a(V){return V.length===1?"0"+V:V}Ar.zero2=a;function c(V){return V.length===7?"0"+V:V.length===6?"00"+V:V.length===5?"000"+V:V.length===4?"0000"+V:V.length===3?"00000"+V:V.length===2?"000000"+V:V.length===1?"0000000"+V:V}Ar.zero8=c;function d(V,F,b,A){var O=b-F;t(O%4===0);for(var R=new Array(O/4),k=0,I=F;k<R.length;k++,I+=4){var N;A==="big"?N=V[I]<<24|V[I+1]<<16|V[I+2]<<8|V[I+3]:N=V[I+3]<<24|V[I+2]<<16|V[I+1]<<8|V[I],R[k]=N>>>0}return R}Ar.join32=d;function f(V,F){for(var b=new Array(V.length*4),A=0,O=0;A<V.length;A++,O+=4){var R=V[A];F==="big"?(b[O]=R>>>24,b[O+1]=R>>>16&255,b[O+2]=R>>>8&255,b[O+3]=R&255):(b[O+3]=R>>>24,b[O+2]=R>>>16&255,b[O+1]=R>>>8&255,b[O]=R&255)}return b}Ar.split32=f;function p(V,F){return V>>>F|V<<32-F}Ar.rotr32=p;function g(V,F){return V<<F|V>>>32-F}Ar.rotl32=g;function m(V,F){return V+F>>>0}Ar.sum32=m;function v(V,F,b){return V+F+b>>>0}Ar.sum32_3=v;function x(V,F,b,A){return V+F+b+A>>>0}Ar.sum32_4=x;function w(V,F,b,A,O){return V+F+b+A+O>>>0}Ar.sum32_5=w;function T(V,F,b,A){var O=V[F],R=V[F+1],k=A+R>>>0,I=(k<A?1:0)+b+O;V[F]=I>>>0,V[F+1]=k}Ar.sum64=T;function j(V,F,b,A){var O=F+A>>>0,R=(O<F?1:0)+V+b;return R>>>0}Ar.sum64_hi=j;function P(V,F,b,A){var O=F+A;return O>>>0}Ar.sum64_lo=P;function S(V,F,b,A,O,R,k,I){var N=0,D=F;D=D+A>>>0,N+=D<F?1:0,D=D+R>>>0,N+=D<R?1:0,D=D+I>>>0,N+=D<I?1:0;var E=V+b+O+k+N;return E>>>0}Ar.sum64_4_hi=S;function B(V,F,b,A,O,R,k,I){var N=F+A+R+I;return N>>>0}Ar.sum64_4_lo=B;function $(V,F,b,A,O,R,k,I,N,D){var E=0,M=F;M=M+A>>>0,E+=M<F?1:0,M=M+R>>>0,E+=M<R?1:0,M=M+I>>>0,E+=M<I?1:0,M=M+D>>>0,E+=M<D?1:0;var Z=V+b+O+k+N+E;return Z>>>0}Ar.sum64_5_hi=$;function W(V,F,b,A,O,R,k,I,N,D){var E=F+A+R+I+D;return E>>>0}Ar.sum64_5_lo=W;function G(V,F,b){var A=F<<32-b|V>>>b;return A>>>0}Ar.rotr64_hi=G;function q(V,F,b){var A=V<<32-b|F>>>b;return A>>>0}Ar.rotr64_lo=q;function H(V,F,b){return V>>>b}Ar.shr64_hi=H;function J(V,F,b){var A=V<<32-b|F>>>b;return A>>>0}return Ar.shr64_lo=J,Ar}var Tw={},nA;function sg(){if(nA)return Tw;nA=1;var t=Va(),e=ig();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return Tw.BlockHash=r,r.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-o,this.endian);for(var a=0;a<i.length;a+=this._delta32)this._update(i,a,a+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,a=new Array(o+this.padLength);a[0]=128;for(var c=1;c<o;c++)a[c]=0;if(i<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)a[c++]=0;a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=i>>>24&255,a[c++]=i>>>16&255,a[c++]=i>>>8&255,a[c++]=i&255}else for(a[c++]=i&255,a[c++]=i>>>8&255,a[c++]=i>>>16&255,a[c++]=i>>>24&255,a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=0,d=8;d<this.padLength;d++)a[c++]=0;return a},Tw}var du={},ya={},iA;function t4(){if(iA)return ya;iA=1;var t=Va(),e=t.rotr32;function r(f,p,g,m){if(f===0)return n(p,g,m);if(f===1||f===3)return s(p,g,m);if(f===2)return i(p,g,m)}ya.ft_1=r;function n(f,p,g){return f&p^~f&g}ya.ch32=n;function i(f,p,g){return f&p^f&g^p&g}ya.maj32=i;function s(f,p,g){return f^p^g}ya.p32=s;function o(f){return e(f,2)^e(f,13)^e(f,22)}ya.s0_256=o;function a(f){return e(f,6)^e(f,11)^e(f,25)}ya.s1_256=a;function c(f){return e(f,7)^e(f,18)^f>>>3}ya.g0_256=c;function d(f){return e(f,17)^e(f,19)^f>>>10}return ya.g1_256=d,ya}var Nw,sA;function $7(){if(sA)return Nw;sA=1;var t=Va(),e=sg(),r=t4(),n=t.rotl32,i=t.sum32,s=t.sum32_5,o=r.ft_1,a=e.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(d,a),Nw=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(p,g){for(var m=this.W,v=0;v<16;v++)m[v]=p[g+v];for(;v<m.length;v++)m[v]=n(m[v-3]^m[v-8]^m[v-14]^m[v-16],1);var x=this.h[0],w=this.h[1],T=this.h[2],j=this.h[3],P=this.h[4];for(v=0;v<m.length;v++){var S=~~(v/20),B=s(n(x,5),o(S,w,T,j),P,m[v],c[S]);P=j,j=T,T=n(w,30),w=x,x=B}this.h[0]=i(this.h[0],x),this.h[1]=i(this.h[1],w),this.h[2]=i(this.h[2],T),this.h[3]=i(this.h[3],j),this.h[4]=i(this.h[4],P)},d.prototype._digest=function(p){return p==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},Nw}var Aw,oA;function r4(){if(oA)return Aw;oA=1;var t=Va(),e=sg(),r=t4(),n=ig(),i=t.sum32,s=t.sum32_4,o=t.sum32_5,a=r.ch32,c=r.maj32,d=r.s0_256,f=r.s1_256,p=r.g0_256,g=r.g1_256,m=e.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function x(){if(!(this instanceof x))return new x;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}return t.inherits(x,m),Aw=x,x.blockSize=512,x.outSize=256,x.hmacStrength=192,x.padLength=64,x.prototype._update=function(T,j){for(var P=this.W,S=0;S<16;S++)P[S]=T[j+S];for(;S<P.length;S++)P[S]=s(g(P[S-2]),P[S-7],p(P[S-15]),P[S-16]);var B=this.h[0],$=this.h[1],W=this.h[2],G=this.h[3],q=this.h[4],H=this.h[5],J=this.h[6],V=this.h[7];for(n(this.k.length===P.length),S=0;S<P.length;S++){var F=o(V,f(q),a(q,H,J),this.k[S],P[S]),b=i(d(B),c(B,$,W));V=J,J=H,H=q,q=i(G,F),G=W,W=$,$=B,B=i(F,b)}this.h[0]=i(this.h[0],B),this.h[1]=i(this.h[1],$),this.h[2]=i(this.h[2],W),this.h[3]=i(this.h[3],G),this.h[4]=i(this.h[4],q),this.h[5]=i(this.h[5],H),this.h[6]=i(this.h[6],J),this.h[7]=i(this.h[7],V)},x.prototype._digest=function(T){return T==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},Aw}var jw,aA;function U7(){if(aA)return jw;aA=1;var t=Va(),e=r4();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),jw=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},jw}var Pw,lA;function n4(){if(lA)return Pw;lA=1;var t=Va(),e=sg(),r=ig(),n=t.rotr64_hi,i=t.rotr64_lo,s=t.shr64_hi,o=t.shr64_lo,a=t.sum64,c=t.sum64_hi,d=t.sum64_lo,f=t.sum64_4_hi,p=t.sum64_4_lo,g=t.sum64_5_hi,m=t.sum64_5_lo,v=e.BlockHash,x=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function w(){if(!(this instanceof w))return new w;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=x,this.W=new Array(160)}t.inherits(w,v),Pw=w,w.blockSize=1024,w.outSize=512,w.hmacStrength=192,w.padLength=128,w.prototype._prepareBlock=function(b,A){for(var O=this.W,R=0;R<32;R++)O[R]=b[A+R];for(;R<O.length;R+=2){var k=J(O[R-4],O[R-3]),I=V(O[R-4],O[R-3]),N=O[R-14],D=O[R-13],E=q(O[R-30],O[R-29]),M=H(O[R-30],O[R-29]),Z=O[R-32],z=O[R-31];O[R]=f(k,I,N,D,E,M,Z,z),O[R+1]=p(k,I,N,D,E,M,Z,z)}},w.prototype._update=function(b,A){this._prepareBlock(b,A);var O=this.W,R=this.h[0],k=this.h[1],I=this.h[2],N=this.h[3],D=this.h[4],E=this.h[5],M=this.h[6],Z=this.h[7],z=this.h[8],K=this.h[9],Y=this.h[10],Q=this.h[11],ee=this.h[12],ae=this.h[13],ne=this.h[14],de=this.h[15];r(this.k.length===O.length);for(var xe=0;xe<O.length;xe+=2){var me=ne,_e=de,Xe=W(z,K),le=G(z,K),Ye=T(z,K,Y,Q,ee),jt=j(z,K,Y,Q,ee,ae),st=this.k[xe],De=this.k[xe+1],Jt=O[xe],ot=O[xe+1],ht=g(me,_e,Xe,le,Ye,jt,st,De,Jt,ot),Ie=m(me,_e,Xe,le,Ye,jt,st,De,Jt,ot);me=B(R,k),_e=$(R,k),Xe=P(R,k,I,N,D),le=S(R,k,I,N,D,E);var se=c(me,_e,Xe,le),he=d(me,_e,Xe,le);ne=ee,de=ae,ee=Y,ae=Q,Y=z,Q=K,z=c(M,Z,ht,Ie),K=d(Z,Z,ht,Ie),M=D,Z=E,D=I,E=N,I=R,N=k,R=c(ht,Ie,se,he),k=d(ht,Ie,se,he)}a(this.h,0,R,k),a(this.h,2,I,N),a(this.h,4,D,E),a(this.h,6,M,Z),a(this.h,8,z,K),a(this.h,10,Y,Q),a(this.h,12,ee,ae),a(this.h,14,ne,de)},w.prototype._digest=function(b){return b==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function T(F,b,A,O,R){var k=F&A^~F&R;return k<0&&(k+=4294967296),k}function j(F,b,A,O,R,k){var I=b&O^~b&k;return I<0&&(I+=4294967296),I}function P(F,b,A,O,R){var k=F&A^F&R^A&R;return k<0&&(k+=4294967296),k}function S(F,b,A,O,R,k){var I=b&O^b&k^O&k;return I<0&&(I+=4294967296),I}function B(F,b){var A=n(F,b,28),O=n(b,F,2),R=n(b,F,7),k=A^O^R;return k<0&&(k+=4294967296),k}function $(F,b){var A=i(F,b,28),O=i(b,F,2),R=i(b,F,7),k=A^O^R;return k<0&&(k+=4294967296),k}function W(F,b){var A=n(F,b,14),O=n(F,b,18),R=n(b,F,9),k=A^O^R;return k<0&&(k+=4294967296),k}function G(F,b){var A=i(F,b,14),O=i(F,b,18),R=i(b,F,9),k=A^O^R;return k<0&&(k+=4294967296),k}function q(F,b){var A=n(F,b,1),O=n(F,b,8),R=s(F,b,7),k=A^O^R;return k<0&&(k+=4294967296),k}function H(F,b){var A=i(F,b,1),O=i(F,b,8),R=o(F,b,7),k=A^O^R;return k<0&&(k+=4294967296),k}function J(F,b){var A=n(F,b,19),O=n(b,F,29),R=s(F,b,6),k=A^O^R;return k<0&&(k+=4294967296),k}function V(F,b){var A=i(F,b,19),O=i(b,F,29),R=o(F,b,6),k=A^O^R;return k<0&&(k+=4294967296),k}return Pw}var Rw,cA;function V7(){if(cA)return Rw;cA=1;var t=Va(),e=n4();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),Rw=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},Rw}var uA;function W7(){return uA||(uA=1,du.sha1=$7(),du.sha224=U7(),du.sha256=r4(),du.sha384=V7(),du.sha512=n4()),du}var Iw={},dA;function q7(){if(dA)return Iw;dA=1;var t=Va(),e=sg(),r=t.rotl32,n=t.sum32,i=t.sum32_3,s=t.sum32_4,o=e.BlockHash;function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(a,o),Iw.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(w,T){for(var j=this.h[0],P=this.h[1],S=this.h[2],B=this.h[3],$=this.h[4],W=j,G=P,q=S,H=B,J=$,V=0;V<80;V++){var F=n(r(s(j,c(V,P,S,B),w[p[V]+T],d(V)),m[V]),$);j=$,$=B,B=r(S,10),S=P,P=F,F=n(r(s(W,c(79-V,G,q,H),w[g[V]+T],f(V)),v[V]),J),W=J,J=H,H=r(q,10),q=G,G=F}F=i(this.h[1],S,H),this.h[1]=i(this.h[2],B,J),this.h[2]=i(this.h[3],$,W),this.h[3]=i(this.h[4],j,G),this.h[4]=i(this.h[0],P,q),this.h[0]=F},a.prototype._digest=function(w){return w==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function c(x,w,T,j){return x<=15?w^T^j:x<=31?w&T|~w&j:x<=47?(w|~T)^j:x<=63?w&j|T&~j:w^(T|~j)}function d(x){return x<=15?0:x<=31?1518500249:x<=47?1859775393:x<=63?2400959708:2840853838}function f(x){return x<=15?1352829926:x<=31?1548603684:x<=47?1836072691:x<=63?2053994217:0}var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return Iw}var Mw,fA;function H7(){if(fA)return Mw;fA=1;var t=Va(),e=ig();function r(n,i,s){if(!(this instanceof r))return new r(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,s))}return Mw=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,s){return this.inner.update(i,s),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},Mw}var hA;function G7(){return hA||(hA=1,function(t){var e=t;e.utils=Va(),e.common=sg(),e.sha=W7(),e.ripemd=q7(),e.hmac=H7(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(Sw)),Sw}var K7=G7();const wa=El(K7);function mh(t,e,r){return r={path:e,exports:{},require:function(n,i){return Y7(n,i??r.path)}},t(r,r.exports),r.exports}function Y7(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var vC=i4;function i4(t,e){if(!t)throw new Error(e||"Assertion failed")}i4.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Qo=mh(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var d=0;d<o.length;d++)c[d]=o[d]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var d=0;d<o.length;d+=2)c.push(parseInt(o[d]+o[d+1],16))}else for(var d=0;d<o.length;d++){var f=o.charCodeAt(d),p=f>>8,g=f&255;p?c.push(p,g):c.push(g)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),Xs=mh(function(t,e){var r=e;r.assert=vC,r.toArray=Qo.toArray,r.zero2=Qo.zero2,r.toHex=Qo.toHex,r.encode=Qo.encode;function n(c,d,f){var p=new Array(Math.max(c.bitLength(),f)+1),g;for(g=0;g<p.length;g+=1)p[g]=0;var m=1<<d+1,v=c.clone();for(g=0;g<p.length;g++){var x,w=v.andln(m-1);v.isOdd()?(w>(m>>1)-1?x=(m>>1)-w:x=w,v.isubn(x)):x=0,p[g]=x,v.iushrn(1)}return p}r.getNAF=n;function i(c,d){var f=[[],[]];c=c.clone(),d=d.clone();for(var p=0,g=0,m;c.cmpn(-p)>0||d.cmpn(-g)>0;){var v=c.andln(3)+p&3,x=d.andln(3)+g&3;v===3&&(v=-1),x===3&&(x=-1);var w;(v&1)===0?w=0:(m=c.andln(7)+p&7,(m===3||m===5)&&x===2?w=-v:w=v),f[0].push(w);var T;(x&1)===0?T=0:(m=d.andln(7)+g&7,(m===3||m===5)&&v===2?T=-x:T=x),f[1].push(T),2*p===w+1&&(p=1-p),2*g===T+1&&(g=1-g),c.iushrn(1),d.iushrn(1)}return f}r.getJSF=i;function s(c,d,f){var p="_"+d;c.prototype[d]=function(){return this[p]!==void 0?this[p]:this[p]=f.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new Mt(c,"hex","le")}r.intFromLE=a}),rx=Xs.getNAF,J7=Xs.getJSF,nx=Xs.assert;function Mc(t,e){this.type=t,this.p=new Mt(e.p,16),this.red=e.prime?Mt.red(e.prime):Mt.mont(this.p),this.zero=new Mt(0).toRed(this.red),this.one=new Mt(1).toRed(this.red),this.two=new Mt(2).toRed(this.red),this.n=e.n&&new Mt(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var pd=Mc;Mc.prototype.point=function(){throw new Error("Not implemented")};Mc.prototype.validate=function(){throw new Error("Not implemented")};Mc.prototype._fixedNafMul=function(e,r){nx(e.precomputed);var n=e._getDoubles(),i=rx(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var d=a+n.step-1;d>=a;d--)c=(c<<1)+i[d];o.push(c)}for(var f=this.jpoint(null,null,null),p=this.jpoint(null,null,null),g=s;g>0;g--){for(a=0;a<o.length;a++)c=o[a],c===g?p=p.mixedAdd(n.points[a]):c===-g&&(p=p.mixedAdd(n.points[a].neg()));f=f.add(p)}return f.toP()};Mc.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=rx(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var d=0;c>=0&&o[c]===0;c--)d++;if(c>=0&&d++,a=a.dblp(d),c<0)break;var f=o[c];nx(f!==0),e.type==="affine"?f>0?a=a.mixedAdd(s[f-1>>1]):a=a.mixedAdd(s[-f-1>>1].neg()):f>0?a=a.add(s[f-1>>1]):a=a.add(s[-f-1>>1].neg())}return e.type==="affine"?a.toP():a};Mc.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,d=0,f,p,g;for(f=0;f<i;f++){g=r[f];var m=g._getNAFPoints(e);o[f]=m.wnd,a[f]=m.points}for(f=i-1;f>=1;f-=2){var v=f-1,x=f;if(o[v]!==1||o[x]!==1){c[v]=rx(n[v],o[v],this._bitLength),c[x]=rx(n[x],o[x],this._bitLength),d=Math.max(c[v].length,d),d=Math.max(c[x].length,d);continue}var w=[r[v],null,null,r[x]];r[v].y.cmp(r[x].y)===0?(w[1]=r[v].add(r[x]),w[2]=r[v].toJ().mixedAdd(r[x].neg())):r[v].y.cmp(r[x].y.redNeg())===0?(w[1]=r[v].toJ().mixedAdd(r[x]),w[2]=r[v].add(r[x].neg())):(w[1]=r[v].toJ().mixedAdd(r[x]),w[2]=r[v].toJ().mixedAdd(r[x].neg()));var T=[-3,-1,-5,-7,0,7,5,1,3],j=J7(n[v],n[x]);for(d=Math.max(j[0].length,d),c[v]=new Array(d),c[x]=new Array(d),p=0;p<d;p++){var P=j[0][p]|0,S=j[1][p]|0;c[v][p]=T[(P+1)*3+(S+1)],c[x][p]=0,a[v]=w}}var B=this.jpoint(null,null,null),$=this._wnafT4;for(f=d;f>=0;f--){for(var W=0;f>=0;){var G=!0;for(p=0;p<i;p++)$[p]=c[p][f]|0,$[p]!==0&&(G=!1);if(!G)break;W++,f--}if(f>=0&&W++,B=B.dblp(W),f<0)break;for(p=0;p<i;p++){var q=$[p];q!==0&&(q>0?g=a[p][q-1>>1]:q<0&&(g=a[p][-q-1>>1].neg()),g.type==="affine"?B=B.mixedAdd(g):B=B.add(g))}}for(f=0;f<i;f++)a[f]=null;return s?B:B.toP()};function _o(t,e){this.curve=t,this.type=e,this.precomputed=null}Mc.BasePoint=_o;_o.prototype.eq=function(){throw new Error("Not implemented")};_o.prototype.validate=function(){return this.curve.validate(this)};Mc.prototype.decodePoint=function(e,r){e=Xs.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?nx(e[e.length-1]%2===0):e[0]===7&&nx(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};_o.prototype.encodeCompressed=function(e){return this.encode(e,!0)};_o.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};_o.prototype.encode=function(e,r){return Xs.encode(this._encode(r),e)};_o.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};_o.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};_o.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};_o.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};_o.prototype._getBeta=function(){return null};_o.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var bC=mh(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),X7=Xs.assert;function Co(t){pd.call(this,"short",t),this.a=new Mt(t.a,16).toRed(this.red),this.b=new Mt(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}bC(Co,pd);var Q7=Co;Co.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Mt(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Mt(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],X7(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new Mt(a.a,16),b:new Mt(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Co.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Mt.mont(e),n=new Mt(2).toRed(r).redInvm(),i=n.redNeg(),s=new Mt(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Co.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new Mt(1),o=new Mt(0),a=new Mt(0),c=new Mt(1),d,f,p,g,m,v,x,w=0,T,j;n.cmpn(0)!==0;){var P=i.div(n);T=i.sub(P.mul(n)),j=a.sub(P.mul(s));var S=c.sub(P.mul(o));if(!p&&T.cmp(r)<0)d=x.neg(),f=s,p=T.neg(),g=j;else if(p&&++w===2)break;x=T,i=n,n=T,a=s,s=j,c=o,o=S}m=T.neg(),v=j;var B=p.sqr().add(g.sqr()),$=m.sqr().add(v.sqr());return $.cmp(B)>=0&&(m=d,v=f),p.negative&&(p=p.neg(),g=g.neg()),m.negative&&(m=m.neg(),v=v.neg()),[{a:p,b:g},{a:m,b:v}]};Co.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),d=s.mul(n.b),f=o.mul(i.b),p=e.sub(a).sub(c),g=d.add(f).neg();return{k1:p,k2:g}};Co.prototype.pointFromX=function(e,r){e=new Mt(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Co.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Co.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],d=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),d=d.neg(!0)),i[o*2]=c,i[o*2+1]=d,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var f=this._wnafMulAdd(1,i,s,o*2,n),p=0;p<o*2;p++)i[p]=null,s[p]=null;return f};function ti(t,e,r,n){pd.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Mt(e,16),this.y=new Mt(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}bC(ti,pd.BasePoint);Co.prototype.point=function(e,r,n){return new ti(this,e,r,n)};Co.prototype.pointFromJSON=function(e,r){return ti.fromJSON(this,e,r)};ti.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};ti.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ti.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};ti.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ti.prototype.isInfinity=function(){return this.inf};ti.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};ti.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};ti.prototype.getX=function(){return this.x.fromRed()};ti.prototype.getY=function(){return this.y.fromRed()};ti.prototype.mul=function(e){return e=new Mt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ti.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};ti.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};ti.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ti.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};ti.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function di(t,e,r,n){pd.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Mt(0)):(this.x=new Mt(e,16),this.y=new Mt(r,16),this.z=new Mt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}bC(di,pd.BasePoint);Co.prototype.jpoint=function(e,r,n){return new di(this,e,r,n)};di.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};di.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};di.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),d=o.redSub(a);if(c.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=c.redSqr(),p=f.redMul(c),g=i.redMul(f),m=d.redSqr().redIAdd(p).redISub(g).redISub(g),v=d.redMul(g.redISub(m)).redISub(o.redMul(p)),x=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(m,v,x)};di.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=a.redSqr(),f=d.redMul(a),p=n.redMul(d),g=c.redSqr().redIAdd(f).redISub(p).redISub(p),m=c.redMul(p.redISub(g)).redISub(s.redMul(f)),v=this.z.redMul(a);return this.curve.jpoint(g,m,v)};di.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,d=c.redSqr().redSqr(),f=a.redAdd(a);for(r=0;r<e;r++){var p=o.redSqr(),g=f.redSqr(),m=g.redSqr(),v=p.redAdd(p).redIAdd(p).redIAdd(i.redMul(d)),x=o.redMul(g),w=v.redSqr().redISub(x.redAdd(x)),T=x.redISub(w),j=v.redMul(T);j=j.redIAdd(j).redISub(m);var P=f.redMul(c);r+1<e&&(d=d.redMul(m)),o=w,c=P,f=j}return this.curve.jpoint(o,f.redMul(s),c)};di.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};di.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),d=c.redSqr().redISub(a).redISub(a),f=o.redIAdd(o);f=f.redIAdd(f),f=f.redIAdd(f),e=d,r=c.redMul(a.redISub(d)).redISub(f),n=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),g=this.y.redSqr(),m=g.redSqr(),v=this.x.redAdd(g).redSqr().redISub(p).redISub(m);v=v.redIAdd(v);var x=p.redAdd(p).redIAdd(p),w=x.redSqr(),T=m.redIAdd(m);T=T.redIAdd(T),T=T.redIAdd(T),e=w.redISub(v).redISub(v),r=x.redMul(v.redISub(e)).redISub(T),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};di.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),d=c.redSqr().redISub(a).redISub(a);e=d;var f=o.redIAdd(o);f=f.redIAdd(f),f=f.redIAdd(f),r=c.redMul(a.redISub(d)).redISub(f),n=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),g=this.y.redSqr(),m=this.x.redMul(g),v=this.x.redSub(p).redMul(this.x.redAdd(p));v=v.redAdd(v).redIAdd(v);var x=m.redIAdd(m);x=x.redIAdd(x);var w=x.redAdd(x);e=v.redSqr().redISub(w),n=this.y.redAdd(this.z).redSqr().redISub(g).redISub(p);var T=g.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T),r=v.redMul(x.redISub(e)).redISub(T)}return this.curve.jpoint(e,r,n)};di.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),d=r.redAdd(r);d=d.redIAdd(d);var f=d.redMul(a),p=c.redSqr().redISub(f.redAdd(f)),g=f.redISub(p),m=a.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var v=c.redMul(g).redISub(m),x=n.redAdd(n).redMul(i);return this.curve.jpoint(p,v,x)};di.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),d=i.redIAdd(i);d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var f=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(d),p=r.redMul(f);p=p.redIAdd(p),p=p.redIAdd(p);var g=this.x.redMul(c).redISub(p);g=g.redIAdd(g),g=g.redIAdd(g);var m=this.y.redMul(f.redMul(d.redISub(f)).redISub(a.redMul(c)));m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var v=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(g,m,v)};di.prototype.mul=function(e,r){return e=new Mt(e,r),this.curve._wnafMul(this,e)};di.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};di.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};di.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};di.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var T0=mh(function(t,e){var r=e;r.base=pd,r.short=Q7,r.mont=null,r.edwards=null}),N0=mh(function(t,e){var r=e,n=Xs.assert;function i(a){a.type==="short"?this.curve=new T0.short(a):a.type==="edwards"?this.curve=new T0.edwards(a):this.curve=new T0.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var d=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:d}),d}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:wa.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:wa.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:wa.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:wa.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:wa.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:wa.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:wa.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:wa.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function Cc(t){if(!(this instanceof Cc))return new Cc(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Qo.toArray(t.entropy,t.entropyEnc||"hex"),r=Qo.toArray(t.nonce,t.nonceEnc||"hex"),n=Qo.toArray(t.pers,t.persEnc||"hex");vC(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var s4=Cc;Cc.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Cc.prototype._hmac=function(){return new wa.hmac(this.hash,this.K)};Cc.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Cc.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Qo.toArray(e,r),n=Qo.toArray(n,i),vC(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Cc.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Qo.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,Qo.encode(o,r)};var wk=Xs.assert;function Ri(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var wC=Ri;Ri.fromPublic=function(e,r,n){return r instanceof Ri?r:new Ri(e,{pub:r,pubEnc:n})};Ri.fromPrivate=function(e,r,n){return r instanceof Ri?r:new Ri(e,{priv:r,privEnc:n})};Ri.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ri.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Ri.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ri.prototype._importPrivate=function(e,r){this.priv=new Mt(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Ri.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?wk(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&wk(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Ri.prototype.derive=function(e){return e.validate()||wk(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ri.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Ri.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};Ri.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Z7=Xs.assert;function Kx(t,e){if(t instanceof Kx)return t;this._importDER(t,e)||(Z7(t.r&&t.s,"Signature without r or s"),this.r=new Mt(t.r,16),this.s=new Mt(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Yx=Kx;function e9(){this.place=0}function Dw(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function pA(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Kx.prototype._importDER=function(e,r){e=Xs.toArray(e,r);var n=new e9;if(e[n.place++]!==48)return!1;var i=Dw(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=Dw(e,n);if(s===!1||(e[n.place]&128)!==0)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=Dw(e,n);if(a===!1||e.length!==a+n.place||(e[n.place]&128)!==0)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new Mt(o),this.s=new Mt(c),this.recoveryParam=null,!0};function Ow(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Kx.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=pA(r),n=pA(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Ow(i,r.length),i=i.concat(r),i.push(2),Ow(i,n.length);var s=i.concat(n),o=[48];return Ow(o,s.length),o=o.concat(s),Xs.encode(o,e)};var t9=function(){throw new Error("unsupported")},Nu=Xs.assert;function wo(t){if(!(this instanceof wo))return new wo(t);typeof t=="string"&&(Nu(Object.prototype.hasOwnProperty.call(N0,t),"Unknown curve "+t),t=N0[t]),t instanceof N0.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var r9=wo;wo.prototype.keyPair=function(e){return new wC(this,e)};wo.prototype.keyFromPrivate=function(e,r){return wC.fromPrivate(this,e,r)};wo.prototype.keyFromPublic=function(e,r){return wC.fromPublic(this,e,r)};wo.prototype.genKeyPair=function(e){e||(e={});for(var r=new s4({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||t9(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Mt(2));;){var s=new Mt(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};wo.prototype._truncateToN=function(e,r,n){var i;if(Mt.isBN(e)||typeof e=="number")e=new Mt(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new Mt(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new Mt(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};wo.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!Mt.isBN(e)){Nu(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Nu(e.length>>>0===e.length);for(var s=0;s<e.length;s++)Nu((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),Nu(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),c=e.toArray("be",o);Nu(new Mt(c).eq(e),"Can not sign message");for(var d=new s4({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),f=this.n.sub(new Mt(1)),p=0;;p++){var g=i.k?i.k(p):new Mt(d.generate(this.n.byteLength()));if(g=this._truncateToN(g,!0),!(g.cmpn(1)<=0||g.cmp(f)>=0)){var m=this.g.mul(g);if(!m.isInfinity()){var v=m.getX(),x=v.umod(this.n);if(x.cmpn(0)!==0){var w=g.invm(this.n).mul(x.mul(r.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var T=(m.getY().isOdd()?1:0)|(v.cmp(x)!==0?2:0);return i.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),T^=1),new Yx({r:x,s:w,recoveryParam:T})}}}}}};wo.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new Yx(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),d=c.mul(e).umod(this.n),f=c.mul(o).umod(this.n),p;return this.curve._maxwellTrick?(p=this.g.jmulAdd(d,n.getPublic(),f),p.isInfinity()?!1:p.eqXToP(o)):(p=this.g.mulAdd(d,n.getPublic(),f),p.isInfinity()?!1:p.getX().umod(this.n).cmp(o)===0)};wo.prototype.recoverPubKey=function(t,e,r,n){Nu((3&r)===r,"The recovery param is more than two bits"),e=new Yx(e,n);var i=this.n,s=new Mt(t),o=e.r,a=e.s,c=r&1,d=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");d?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var f=e.r.invm(i),p=i.sub(s).mul(f).umod(i),g=a.mul(f).umod(i);return this.g.mulAdd(p,o,g)};wo.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Yx(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var n9=mh(function(t,e){var r=e;r.version="6.6.1",r.utils=Xs,r.rand=function(){throw new Error("unsupported")},r.curve=T0,r.curves=N0,r.ec=r9,r.eddsa=null}),i9=n9.ec;const s9="signing-key/5.8.0",kk=new oe(s9);let Lw=null;function oc(){return Lw||(Lw=new i9("secp256k1")),Lw}class o9{constructor(e){ke(this,"curve","secp256k1"),ke(this,"privateKey",ut(e)),Ku(this.privateKey)!==32&&kk.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=oc().keyFromPrivate(Et(this.privateKey));ke(this,"publicKey","0x"+r.getPublic(!1,"hex")),ke(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),ke(this,"_isSigningKey",!0)}_addPoint(e){const r=oc().keyFromPublic(Et(this.publicKey)),n=oc().keyFromPublic(Et(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=oc().keyFromPrivate(Et(this.privateKey)),n=Et(e);n.length!==32&&kk.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return qx({recoveryParam:i.recoveryParam,r:Qr("0x"+i.r.toString(16),32),s:Qr("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=oc().keyFromPrivate(Et(this.privateKey)),n=oc().keyFromPublic(Et(o4(e)));return Qr("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function a9(t,e){const r=qx(e),n={r:Et(r.r),s:Et(r.s)};return"0x"+oc().recoverPubKey(Et(t),n,r.recoveryParam).encode("hex",!1)}function o4(t,e){const r=Et(t);return r.length===32?new o9(r).publicKey:r.length===33?"0x"+oc().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?ut(r):kk.throwArgumentError("invalid public or private key","key","[REDACTED]")}const l9="transactions/5.8.0",Nl=new oe(l9);var mA;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(mA||(mA={}));function kC(t){return t==="0x"?null:Zn(t)}function Si(t){return t==="0x"?FM:ue.from(t)}function c9(t){const e=o4(t);return Zn(Ci(qn(Ci(e,1)),12))}function a4(t,e){return c9(a9(Et(t),e))}function js(t,e){const r=Kf(ue.from(t).toHexString());return r.length>32&&Nl.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function Fw(t,e){return{address:Zn(t),storageKeys:(e||[]).map((r,n)=>(Ku(r)!==32&&Nl.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function md(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&Nl.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),Fw(r[0],r[1])):Fw(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return Fw(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function l4(t){return md(t).map(e=>[e.address,e.storageKeys])}function u9(t,e){if(t.gasPrice!=null){const n=ue.from(t.gasPrice),i=ue.from(t.maxFeePerGas||0);n.eq(i)||Nl.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[js(t.chainId||0,"chainId"),js(t.nonce||0,"nonce"),js(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),js(t.maxFeePerGas||0,"maxFeePerGas"),js(t.gasLimit||0,"gasLimit"),t.to!=null?Zn(t.to):"0x",js(t.value||0,"value"),t.data||"0x",l4(t.accessList||[])];if(e){const n=qx(e);r.push(js(n.recoveryParam,"recoveryParam")),r.push(Kf(n.r)),r.push(Kf(n.s))}return fs(["0x02",Hx(r)])}function d9(t,e){const r=[js(t.chainId||0,"chainId"),js(t.nonce||0,"nonce"),js(t.gasPrice||0,"gasPrice"),js(t.gasLimit||0,"gasLimit"),t.to!=null?Zn(t.to):"0x",js(t.value||0,"value"),t.data||"0x",l4(t.accessList||[])];if(e){const n=qx(e);r.push(js(n.recoveryParam,"recoveryParam")),r.push(Kf(n.r)),r.push(Kf(n.s))}return fs(["0x01",Hx(r)])}function c4(t,e,r){try{const n=Si(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{Nl.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Qr(e[1],32),t.s=Qr(e[2],32);try{const n=qn(r(t));t.from=a4(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function f9(t){const e=mC(t.slice(1));e.length!==9&&e.length!==12&&Nl.throwArgumentError("invalid component count for transaction type: 2","payload",ut(t));const r=Si(e[2]),n=Si(e[3]),i={type:2,chainId:Si(e[0]).toNumber(),nonce:Si(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Si(e[4]),to:kC(e[5]),value:Si(e[6]),data:e[7],accessList:md(e[8])};return e.length===9||(i.hash=qn(t),c4(i,e.slice(9),u9)),i}function h9(t){const e=mC(t.slice(1));e.length!==8&&e.length!==11&&Nl.throwArgumentError("invalid component count for transaction type: 1","payload",ut(t));const r={type:1,chainId:Si(e[0]).toNumber(),nonce:Si(e[1]).toNumber(),gasPrice:Si(e[2]),gasLimit:Si(e[3]),to:kC(e[4]),value:Si(e[5]),data:e[6],accessList:md(e[7])};return e.length===8||(r.hash=qn(t),c4(r,e.slice(8),d9)),r}function p9(t){const e=mC(t);e.length!==9&&e.length!==6&&Nl.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Si(e[0]).toNumber(),gasPrice:Si(e[1]),gasLimit:Si(e[2]),to:kC(e[3]),value:Si(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=ue.from(e[6]).toNumber()}catch{return r}if(r.r=Qr(e[7],32),r.s=Qr(e[8],32),ue.from(r.r).isZero()&&ue.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(ut(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=qn(Hx(i));try{r.from=a4(s,{r:ut(r.r),s:ut(r.s),recoveryParam:n})}catch{}r.hash=qn(t)}return r.type=null,r}function m9(t){const e=Et(t);if(e[0]>127)return p9(e);switch(e[0]){case 1:return h9(e);case 2:return f9(e)}return Nl.throwError(`unsupported transaction type: ${e[0]}`,oe.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const g9="contracts/5.8.0";var Ju=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const vn=new oe(g9);function ix(t,e){return Ju(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&vn.throwArgumentError("invalid address or ENS name","name",r);try{return Zn(r)}catch{}t||vn.throwError("a provider or signer is needed to resolve ENS names",oe.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&vn.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function A0(t,e,r){return Ju(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>A0(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield ix(t,e):r.type==="tuple"?yield A0(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>A0(t,n,r.arrayChildren))):Promise.reject(vn.makeError("invalid value for array",oe.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function Jx(t,e,r){return Ju(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=Jr(r.pop())),vn.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=Rn({override:ix(t.signer,n.from),signer:t.signer.getAddress()}).then(d=>Ju(this,void 0,void 0,function*(){return Zn(d.signer)!==d.override&&vn.throwError("Contract with a Signer cannot override from",oe.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),d.override})):n.from=t.signer.getAddress():n.from&&(n.from=ix(t.provider,n.from));const i=yield Rn({args:A0(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:Rn(n)||{}}),s=t.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(a.nonce!=null&&(o.nonce=ue.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=ue.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=ue.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=ue.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=ue.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=md(a.accessList)),o.gasLimit==null&&e.gas!=null){let d=21e3;const f=Et(s);for(let p=0;p<f.length;p++)d+=4,f[p]&&(d+=64);o.gasLimit=ue.from(e.gas).add(d)}if(a.value){const d=ue.from(a.value);!d.isZero()&&!e.payable&&vn.throwError("non-payable method cannot override value",oe.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=d}a.customData&&(o.customData=Jr(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const c=Object.keys(n).filter(d=>n[d]!=null);return c.length&&vn.throwError(`cannot override ${c.map(d=>JSON.stringify(d)).join(",")}`,oe.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),o})}function y9(t,e){return function(...r){return Jx(t,e,r)}}function x9(t,e){const r=t.signer||t.provider;return function(...n){return Ju(this,void 0,void 0,function*(){r||vn.throwError("estimate require a provider or signer",oe.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield Jx(t,e,n);return yield r.estimateGas(i)})}}function v9(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(s=>{let o=Ws(s),a=null;try{a=t.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(c,d)=>t.interface.decodeEventLog(a.eventFragment,c,d),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>t.provider,o.getBlock=()=>t.provider.getBlock(i.blockHash),o.getTransaction=()=>t.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function u4(t,e,r){const n=t.signer||t.provider;return function(...i){return Ju(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const c=Jr(i.pop());c.blockTag!=null&&(s=yield c.blockTag),delete c.blockTag,i.push(c)}t.deployTransaction!=null&&(yield t._deployed(s));const o=yield Jx(t,e,i),a=yield n.call(o,s);try{let c=t.interface.decodeFunctionResult(e,a);return r&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===oe.errors.CALL_EXCEPTION&&(c.address=t.address,c.args=i,c.transaction=o),c}})}}function b9(t,e){return function(...r){return Ju(this,void 0,void 0,function*(){t.signer||vn.throwError("sending a transaction requires a signer",oe.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield Jx(t,e,r),i=yield t.signer.sendTransaction(n);return v9(t,i),i})}}function gA(t,e,r){return e.constant?u4(t,e,r):b9(t,e)}function d4(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class ym{constructor(e,r){ke(this,"tag",e),ke(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class w9 extends ym{constructor(){super("error",null)}}class yA extends ym{constructor(e,r,n,i){const s={address:e};let o=r.getEventTopic(n);i?(o!==i[0]&&vn.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(d4(s),s),ke(this,"address",e),ke(this,"interface",r),ke(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=bU(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class xA extends ym{constructor(e,r){super("*",{address:e}),ke(this,"address",e),ke(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class k9{constructor(e,r,n){ke(this,"interface",$s(new.target,"getInterface")(r)),n==null?(ke(this,"provider",null),ke(this,"signer",null)):ng.isSigner(n)?(ke(this,"provider",n.provider||null),ke(this,"signer",n)):yC.isProvider(n)?(ke(this,"provider",n),ke(this,"signer",null)):vn.throwArgumentError("invalid signer or provider","signerOrProvider",n),ke(this,"callStatic",{}),ke(this,"estimateGas",{}),ke(this,"functions",{}),ke(this,"populateTransaction",{}),ke(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const c=this.interface.events[a];ke(this.filters,a,(...d)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,d)})),o[c.name]||(o[c.name]=[]),o[c.name].push(a)}),Object.keys(o).forEach(a=>{const c=o[a];c.length===1?ke(this.filters,a,this.filters[c[0]]):vn.warn(`Duplicate definition of ${a} (${c.join(", ")})`)})}if(ke(this,"_runningEvents",{}),ke(this,"_wrappedEmits",{}),e==null&&vn.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ke(this,"address",e),this.provider)ke(this,"resolvedAddress",ix(this.provider,e));else try{ke(this,"resolvedAddress",Promise.resolve(Zn(e)))}catch{vn.throwError("provider is required to use ENS name as contract address",oe.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){vn.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const c=a.name;i[`%${c}`]||(i[`%${c}`]=[]),i[`%${c}`].push(o)}this[o]==null&&ke(this,o,gA(this,a,!0)),this.functions[o]==null&&ke(this.functions,o,gA(this,a,!1)),this.callStatic[o]==null&&ke(this.callStatic,o,u4(this,a,!0)),this.populateTransaction[o]==null&&ke(this.populateTransaction,o,y9(this,a)),this.estimateGas[o]==null&&ke(this.estimateGas,o,x9(this,a))}),Object.keys(i).forEach(o=>{const a=i[o];if(a.length>1)return;o=o.substring(1);const c=a[0];try{this[o]==null&&ke(this,o,this[c])}catch{}this.functions[o]==null&&ke(this.functions,o,this.functions[c]),this.callStatic[o]==null&&ke(this.callStatic,o,this.callStatic[c]),this.populateTransaction[o]==null&&ke(this.populateTransaction,o,this.populateTransaction[c]),this.estimateGas[o]==null&&ke(this.estimateGas,o,this.estimateGas[c])})}static getContractAddress(e){return MM(e)}static getInterface(e){return bk.isInterface(e)?e:new bk(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&vn.throwError("contract not deployed",oe.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||vn.throwError("sending a transactions require a signer",oe.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=Jr(e||{});return["from","to"].forEach(function(n){r[n]!=null&&vn.throwError("cannot override "+n,oe.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new xC(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ke(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return vk.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new w9);if(e==="event")return this._normalizeRunningEvent(new ym("event",null));if(e==="*")return this._normalizeRunningEvent(new xA(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new yA(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new yA(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new ym(d4(r),r))}return this._normalizeRunningEvent(new xA(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=Ws(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||vn.throwError("events require a provider or a signer with a provider",oe.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let o=this._wrapEvent(e,s,r);if(o.decodeError==null)try{const a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),s=Jr(i.filter);return typeof r=="string"&&Yt(r,32)?(n!=null&&vn.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=r):(s.fromBlock=r??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(i,a,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class At extends k9{}class f4{constructor(e){ke(this,"alphabet",e),ke(this,"base",e.length),ke(this,"_alphabetMap",{}),ke(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=Et(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return Et(new Uint8Array(r.reverse()))}}new f4("abcdefghijklmnopqrstuvwxyz234567");const _k=new f4("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function vA(t){return"0x"+wa.sha256().update(Et(t)).digest("hex")}function _9(t){t=t.slice();for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}const C9="networks/5.8.0",bA=new oe(C9);function S9(t){return t&&typeof t.renetwork=="function"}function Ho(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new r.PocketProvider(t,n.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],o=new r.AnkrProvider(t,n.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(r.QuickNodeProvider&&n.quicknode!=="-")try{i.push(new r.QuickNodeProvider(t,n.quicknode))}catch{}if(i.length===0)return null;if(r.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:t==="homestead"&&(s=2),new r.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(r){return Ho(r)},e}function sx(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return sx(t,n)},r}const wA={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Ho("homestead")},kA={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Ho("ropsten")},_A={chainId:63,name:"classicMordor",_defaultProvider:sx("https://www.ethercluster.com/mordor","classicMordor")},Ay={unspecified:{chainId:0,name:"unspecified"},homestead:wA,mainnet:wA,morden:{chainId:2,name:"morden"},ropsten:kA,testnet:kA,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Ho("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Ho("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Ho("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:Ho("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:Ho("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:sx("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:_A,classicTestnet:_A,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:sx("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Ho("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:Ho("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:Ho("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function h4(t){if(t==null)return null;if(typeof t=="number"){for(const n in Ay){const i=Ay[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=Ay[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=Ay[t.name];if(!e)return typeof t.chainId!="number"&&bA.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&bA.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(S9(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}const E9="web/5.8.0";var T9=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};function N9(t,e){return T9(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:Et(new Uint8Array(i))}})}var A9=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const zo=new oe(E9);function CA(t){return new Promise(e=>{setTimeout(e,t)})}function Xl(t,e){if(t==null)return null;if(typeof t=="string")return t;if(fC(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return rg(t)}catch{}return ut(t)}return t}function j9(t){return Fa(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function P9(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;zo.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;zo.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let c=null;const d={method:"GET"};let f=!1,p=120*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&zo.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(p=t.timeout),t.headers)for(const T in t.headers)a[T.toLowerCase()]={key:T,value:String(t.headers[T])},["if-none-match","if-modified-since"].indexOf(T.toLowerCase())>=0&&(f=!0);if(d.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&zo.throwError("basic authentication requires a secure https url",oe.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const T=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+WM(Fa(T))}}t.skipFetchSetup!=null&&(d.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(d.fetchOptions=Jr(t.fetchOptions))}const g=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),m=c?c.match(g):null;if(m)try{const T={statusCode:200,statusMessage:"OK",headers:{"content-type":m[1]||"text/plain"},body:m[2]?VM(m[3]):j9(m[3])};let j=T.body;return r&&(j=r(T.body,T)),Promise.resolve(j)}catch(T){zo.throwError("processing response error",oe.errors.SERVER_ERROR,{body:Xl(m[1],m[2]),error:T,requestBody:null,requestMethod:"GET",url:c})}e&&(d.method="POST",d.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const v={};Object.keys(a).forEach(T=>{const j=a[T];v[j.key]=j.value}),d.headers=v;const x=function(){let T=null;return{promise:new Promise(function(S,B){p&&(T=setTimeout(()=>{T!=null&&(T=null,B(zo.makeError("timeout",oe.errors.TIMEOUT,{requestBody:Xl(d.body,v["content-type"]),requestMethod:d.method,timeout:p,url:c})))},p))}),cancel:function(){T!=null&&(clearTimeout(T),T=null)}}}(),w=function(){return A9(this,void 0,void 0,function*(){for(let T=0;T<n;T++){let j=null;try{if(j=yield N9(c,d),T<n){if(j.statusCode===301||j.statusCode===302){const S=j.headers.location||"";if(d.method==="GET"&&S.match(/^https:/)){c=j.headers.location;continue}}else if(j.statusCode===429){let S=!0;if(i&&(S=yield i(T,c)),S){let B=0;const $=j.headers["retry-after"];typeof $=="string"&&$.match(/^[1-9][0-9]*$/)?B=parseInt($)*1e3:B=s*parseInt(String(Math.random()*Math.pow(2,T))),yield CA(B);continue}}}}catch(S){j=S.response,j==null&&(x.cancel(),zo.throwError("missing response",oe.errors.SERVER_ERROR,{requestBody:Xl(d.body,v["content-type"]),requestMethod:d.method,serverError:S,url:c}))}let P=j.body;if(f&&j.statusCode===304?P=null:!o&&(j.statusCode<200||j.statusCode>=300)&&(x.cancel(),zo.throwError("bad response",oe.errors.SERVER_ERROR,{status:j.statusCode,headers:j.headers,body:Xl(P,j.headers?j.headers["content-type"]:null),requestBody:Xl(d.body,v["content-type"]),requestMethod:d.method,url:c})),r)try{const S=yield r(P,j);return x.cancel(),S}catch(S){if(S.throttleRetry&&T<n){let B=!0;if(i&&(B=yield i(T,c)),B){const $=s*parseInt(String(Math.random()*Math.pow(2,T)));yield CA($);continue}}x.cancel(),zo.throwError("processing response error",oe.errors.SERVER_ERROR,{body:Xl(P,j.headers?j.headers["content-type"]:null),error:S,requestBody:Xl(d.body,v["content-type"]),requestMethod:d.method,url:c})}return x.cancel(),P}return zo.throwError("failed response",oe.errors.SERVER_ERROR,{requestBody:Xl(d.body,v["content-type"]),requestMethod:d.method,url:c})})}();return Promise.race([x.promise,w])}function Xx(t,e,r){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(rg(s))}catch(c){zo.throwError("invalid JSON",oe.errors.SERVER_ERROR,{body:s,error:c})}return r&&(a=r(a,o)),a},i=null;if(e!=null){i=Fa(e);const s=typeof t=="string"?{url:t}:Jr(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=Jr(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return P9(t,i,n)}function vf(t,e){return e||(e={}),e=Jr(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function d(){return t().then(function(f){if(f!==void 0)o()&&r(f);else if(e.oncePoll)e.oncePoll.once("poll",d);else if(e.onceBlock)e.onceBlock.once("block",d);else if(!s){if(c++,c>a){o()&&n(new Error("retry limit reached"));return}let p=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));p<e.floor&&(p=e.floor),p>e.ceiling&&(p=e.ceiling),setTimeout(d,p)}return null},function(f){o()&&n(f)})}d()})}var zw,SA;function R9(){if(SA)return zw;SA=1;for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",e={},r=0;r<t.length;r++){var n=t.charAt(r);if(e[n]!==void 0)throw new TypeError(n+" is ambiguous");e[n]=r}function i(x){var w=x>>25;return(x&33554431)<<5^-(w>>0&1)&996825010^-(w>>1&1)&642813549^-(w>>2&1)&513874426^-(w>>3&1)&1027748829^-(w>>4&1)&705979059}function s(x){for(var w=1,T=0;T<x.length;++T){var j=x.charCodeAt(T);if(j<33||j>126)return"Invalid prefix ("+x+")";w=i(w)^j>>5}for(w=i(w),T=0;T<x.length;++T){var P=x.charCodeAt(T);w=i(w)^P&31}return w}function o(x,w,T){if(T=T||90,x.length+7+w.length>T)throw new TypeError("Exceeds length limit");x=x.toLowerCase();var j=s(x);if(typeof j=="string")throw new Error(j);for(var P=x+"1",S=0;S<w.length;++S){var B=w[S];if(B>>5!==0)throw new Error("Non 5-bit word");j=i(j)^B,P+=t.charAt(B)}for(S=0;S<6;++S)j=i(j);for(j^=1,S=0;S<6;++S){var $=j>>(5-S)*5&31;P+=t.charAt($)}return P}function a(x,w){if(w=w||90,x.length<8)return x+" too short";if(x.length>w)return"Exceeds length limit";var T=x.toLowerCase(),j=x.toUpperCase();if(x!==T&&x!==j)return"Mixed-case string "+x;x=T;var P=x.lastIndexOf("1");if(P===-1)return"No separator character for "+x;if(P===0)return"Missing prefix for "+x;var S=x.slice(0,P),B=x.slice(P+1);if(B.length<6)return"Data too short";var $=s(S);if(typeof $=="string")return $;for(var W=[],G=0;G<B.length;++G){var q=B.charAt(G),H=e[q];if(H===void 0)return"Unknown character "+q;$=i($)^H,!(G+6>=B.length)&&W.push(H)}return $!==1?"Invalid checksum for "+x:{prefix:S,words:W}}function c(){var x=a.apply(null,arguments);if(typeof x=="object")return x}function d(x){var w=a.apply(null,arguments);if(typeof w=="object")return w;throw new Error(w)}function f(x,w,T,j){for(var P=0,S=0,B=(1<<T)-1,$=[],W=0;W<x.length;++W)for(P=P<<w|x[W],S+=w;S>=T;)S-=T,$.push(P>>S&B);if(j)S>0&&$.push(P<<T-S&B);else{if(S>=w)return"Excess padding";if(P<<T-S&B)return"Non-zero padding"}return $}function p(x){var w=f(x,8,5,!0);if(Array.isArray(w))return w}function g(x){var w=f(x,8,5,!0);if(Array.isArray(w))return w;throw new Error(w)}function m(x){var w=f(x,5,8,!1);if(Array.isArray(w))return w}function v(x){var w=f(x,5,8,!1);if(Array.isArray(w))return w;throw new Error(w)}return zw={decodeUnsafe:c,decode:d,encode:o,toWordsUnsafe:p,toWords:g,fromWordsUnsafe:m,fromWords:v},zw}var I9=R9();const EA=El(I9),fi="providers/5.8.0",ap=new oe(fi);class rt{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),d=this.type.bind(this),f=p=>this.data(p,!0);return e.transaction={hash:o,type:d,accessList:rt.allowNull(this.accessList.bind(this),null),blockHash:rt.allowNull(o,null),blockNumber:rt.allowNull(c,null),transactionIndex:rt.allowNull(c,null),confirmations:rt.allowNull(c,null),from:r,gasPrice:rt.allowNull(n),maxPriorityFeePerGas:rt.allowNull(n),maxFeePerGas:rt.allowNull(n),gasLimit:n,to:rt.allowNull(r,null),value:n,nonce:c,data:s,r:rt.allowNull(this.uint256),s:rt.allowNull(this.uint256),v:rt.allowNull(c),creates:rt.allowNull(r,null),raw:rt.allowNull(s)},e.transactionRequest={from:rt.allowNull(r),nonce:rt.allowNull(c),gasLimit:rt.allowNull(n),gasPrice:rt.allowNull(n),maxPriorityFeePerGas:rt.allowNull(n),maxFeePerGas:rt.allowNull(n),to:rt.allowNull(r),value:rt.allowNull(n),data:rt.allowNull(f),type:rt.allowNull(c),accessList:rt.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:o,address:r,topics:rt.arrayOf(o),data:s,logIndex:c,blockHash:o},e.receipt={to:rt.allowNull(this.address,null),from:rt.allowNull(this.address,null),contractAddress:rt.allowNull(r,null),transactionIndex:c,root:rt.allowNull(a),gasUsed:n,logsBloom:rt.allowNull(s),blockHash:o,transactionHash:o,logs:rt.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:rt.allowNull(c,null),cumulativeGasUsed:n,effectiveGasPrice:rt.allowNull(n),status:rt.allowNull(c),type:d},e.block={hash:rt.allowNull(o),parentHash:o,number:c,timestamp:c,nonce:rt.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:rt.allowNull(r),extraData:s,transactions:rt.allowNull(rt.arrayOf(o)),baseFeePerGas:rt.allowNull(n)},e.blockWithTransactions=Jr(e.block),e.blockWithTransactions.transactions=rt.allowNull(rt.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:rt.allowNull(i,void 0),toBlock:rt.allowNull(i,void 0),blockHash:rt.allowNull(o,void 0),address:rt.allowNull(r,void 0),topics:rt.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:rt.allowNull(c),blockHash:rt.allowNull(o),transactionIndex:c,removed:rt.allowNull(this.boolean.bind(this)),address:r,data:rt.allowFalsish(s,"0x"),topics:rt.arrayOf(o),transactionHash:o,logIndex:c},e}accessList(e){return md(e||[])}number(e){return e==="0x"?0:ue.from(e).toNumber()}type(e){return e==="0x"||e==null?0:ue.from(e).toNumber()}bigNumber(e){return ue.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),Yt(e))?e.toLowerCase():ap.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Zn(e)}callAddress(e){if(!Yt(e,32))return null;const r=Zn(Ci(e,12));return r===He?null:r}contractAddress(e){return MM(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Yt(e))return Wx(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return Ku(n)!==32?ap.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=ue.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!Yt(e))throw new Error("invalid uint256");return Qr(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=rt.check(r,e);return i._difficulty=n==null?null:ue.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return rt.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&ue.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=rt.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;Yt(n)&&(n=ue.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),Yt(n)&&(n=ue.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return m9(e)}receiptLog(e){return rt.check(this.formats.receiptLog,e)}receipt(e){const r=rt.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=ue.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&ap.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):ap.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&ap.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return rt.check(this.formats.filter,e)}filterLog(e){return rt.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const s=e[i](r[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=r[i],s}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n}}}function M9(t){return t&&typeof t.isCommunityResource=="function"}function TA(t){return M9(t)&&t.isCommunityResource()}let NA=!1;function Qx(){NA||(NA=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var Ft=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const Zt=new oe(fi),D9=10;function AA(t){return t==null?"null":(Ku(t)!==32&&Zt.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function jA(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[AA(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return AA(e)}).join("&")}function O9(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function Kd(t){if(typeof t=="string"){if(t=t.toLowerCase(),Ku(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+jA(t);if(O7.isForkEvent(t))throw Zt.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+jA(t.topics||[])}throw new Error("invalid event - "+t)}function lp(){return new Date().getTime()}function PA(t){return new Promise(e=>{setTimeout(e,t)})}const L9=["block","network","pending","poll"];let F9=class{constructor(e,r,n){ke(this,"tag",e),ke(this,"listener",r),ke(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=O9(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||L9.indexOf(this.tag)>=0}};const z9={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Bw(t){return Qr(ue.from(t).toHexString(),32)}function RA(t){return _k.encode(Bs([t,Ci(vA(vA(t)),0,4)]))}const p4=new RegExp("^(ipfs)://(.*)$","i"),IA=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),p4,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function j0(t,e){try{return rg(xm(t,e))}catch{}return null}function xm(t,e){if(t==="0x")return null;const r=ue.from(Ci(t,e,e+32)).toNumber(),n=ue.from(Ci(t,r,r+32)).toNumber();return Ci(t,r+32,r+32+n)}function $w(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Zt.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function MA(t){const e=Et(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function B9(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function m4(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=Et(t[n]);e[n]=MA(r),e.push(MA(i.length)),e.push(B9(i)),r+=32+Math.ceil(i.length/32)*32}return fs(e)}class DA{constructor(e,r,n,i){ke(this,"provider",e),ke(this,"name",n),ke(this,"address",e.formatter.address(r)),ke(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>ue.from(e).eq(1)).catch(e=>{if(e.code===oe.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return Ft(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:fs([e,E0(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=fs(["0x9061b923",m4([w7(this.name),n.data])]));try{let s=yield this.provider.call(n);return Et(s).length%32===4&&Zt.throwError("resolver threw error",oe.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=xm(s,0)),s}catch(s){if(s.code===oe.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,r){return Ft(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?xm(n,0):null})}_getAddress(e,r){const n=z9[String(e)];if(n==null&&Zt.throwError(`unsupported coin type: ${e}`,oe.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=Et(r);if(n.p2pkh!=null){const s=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return RA(Bs([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return RA(Bs([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=EA.toWords(i.slice(2));return a.unshift(o),EA.encode(n.prefix,a)}}return null}getAddress(e){return Ft(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===zU?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===oe.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",Bw(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&Zt.throwError("invalid or unsupported coin data",oe.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return Ft(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<IA.length;n++){const i=r.match(IA[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:$w(r)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:r});const a=this._resolvedAddress||(yield this.getAddress()),c=(i[2]||"").split("/");if(c.length!==2)return null;const d=yield this.provider.formatter.address(c[0]),f=Qr(ue.from(c[1]).toHexString(),32);if(s==="erc721"){const x=this.provider.formatter.callAddress(yield this.provider.call({to:d,data:fs(["0x6352211e",f])}));if(a!==x)return null;e.push({type:"owner",content:x})}else if(s==="erc1155"){const x=ue.from(yield this.provider.call({to:d,data:fs(["0x00fdd58e",Qr(a,32),f])}));if(x.isZero())return null;e.push({type:"balance",content:x.toString()})}const p={to:this.provider.formatter.address(c[0]),data:fs([o,f])};let g=j0(yield this.provider.call(p),0);if(g==null)return null;e.push({type:"metadata-url-base",content:g}),s==="erc1155"&&(g=g.replace("{id}",f.substring(2)),e.push({type:"metadata-url-expanded",content:g})),g.match(/^ipfs:/i)&&(g=$w(g)),e.push({type:"metadata-url",content:g});const m=yield Xx(g);if(!m)return null;e.push({type:"metadata",content:JSON.stringify(m)});let v=m.image;if(typeof v!="string")return null;if(!v.match(/^(https:\/\/|data:)/i)){if(v.match(p4)==null)return null;e.push({type:"url-ipfs",content:v}),v=$w(v)}return e.push({type:"url",content:v}),{linkage:e,url:v}}}}}catch{}return null})}getContentHash(){return Ft(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipfs://"+_k.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+_k.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===64)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===68){const o={"=":"","+":"-","/":"_"};return"sia://"+WM("0x"+s[1]).replace(/[=+\/]/g,c=>o[c])}return Zt.throwError("invalid or unsupported content hash data",oe.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Ft(this,void 0,void 0,function*(){let r=Fa(e);r=Bs([Bw(64),Bw(r.length),r]),r.length%32!==0&&(r=Bs([r,Qr("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",ut(r));return n==null||n==="0x"?null:rg(n)})}}let Uw=null,$9=1;class _C extends yC{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),ke(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=$s(new.target,"getNetwork")(e);r?(ke(this,"_network",r),this.emit("network",r,null)):Zt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Ft(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Zt.throwError("no network detected",oe.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:ke(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return vf(()=>this._ready().then(e=>e,e=>{if(!(e.code===oe.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return Uw==null&&(Uw=new rt),Uw}static getNetwork(e){return h4(e??"homestead")}ccipReadFetch(e,r,n){return Ft(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const c=n[a],d=c.replace("{sender}",i).replace("{data}",s),f=c.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),p=yield Xx({url:d,errorPassThrough:!0},f,(m,v)=>(m.status=v.statusCode,m));if(p.data)return p.data;const g=p.message||"unknown error";if(p.status>=400&&p.status<500)return Zt.throwError(`response not found during CCIP fetch: ${g}`,oe.errors.SERVER_ERROR,{url:c,errorMessage:g});o.push(g)}return Zt.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,oe.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return Ft(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(lp()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=lp(),n=Rn({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=lp();return i=ue.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return Ft(this,void 0,void 0,function*(){const e=$9++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)Zt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",Zt.makeError("network block skew detected",oe.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});r.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(c=>{i._inflight=!1,c.length!==0&&c.forEach(d=>{d.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=d.blockNumber),this._emitted["b:"+d.blockHash]=d.blockNumber,this._emitted["t:"+d.transactionHash]=d.blockNumber,this.emit(s,d)})}).catch(c=>{this.emit("error",c),i._inflight=!1});r.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Ft(this,void 0,void 0,function*(){return Zt.throwError("provider does not support network detection",oe.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Ft(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield PA(0),this._network;const n=Zt.makeError("underlying network changed",oe.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=lp();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=lp(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return Ft(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return Ft(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=r?s:new Promise((o,a)=>{const c=[];let d=!1;const f=function(){return d?!0:(d=!0,c.forEach(g=>{g()}),!1)},p=g=>{g.confirmations<r||f()||o(g)};if(this.on(e,p),c.push(()=>{this.removeListener(e,p)}),i){let g=i.startBlock,m=null;const v=x=>Ft(this,void 0,void 0,function*(){d||(yield PA(1e3),this.getTransactionCount(i.from).then(w=>Ft(this,void 0,void 0,function*(){if(!d){if(w<=i.nonce)g=x;else{{const T=yield this.getTransaction(e);if(T&&T.blockNumber!=null)return}for(m==null&&(m=g-3,m<i.startBlock&&(m=i.startBlock));m<=x;){if(d)return;const T=yield this.getBlockWithTransactions(m);for(let j=0;j<T.transactions.length;j++){const P=T.transactions[j];if(P.hash===e)return;if(P.from===i.from&&P.nonce===i.nonce){if(d)return;const S=yield this.waitForTransaction(P.hash,r);if(f())return;let B="replaced";P.data===i.data&&P.to===i.to&&P.value.eq(i.value)?B="repriced":P.data==="0x"&&P.from===P.to&&P.value.isZero()&&(B="cancelled"),a(Zt.makeError("transaction was replaced",oe.errors.TRANSACTION_REPLACED,{cancelled:B==="replaced"||B==="cancelled",reason:B,replacement:this._wrapTransaction(P),hash:e,receipt:S}));return}}m++}}d||this.once("block",v)}}),w=>{d||this.once("block",v)}))});if(d)return;this.once("block",v),c.push(()=>{this.removeListener("block",v)})}if(typeof n=="number"&&n>0){const g=setTimeout(()=>{f()||a(Zt.makeError("timeout exceeded",oe.errors.TIMEOUT,{timeout:n}))},n);g.unref&&g.unref(),c.push(()=>{clearTimeout(g)})}})})}getBlockNumber(){return Ft(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Ft(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return ue.from(e)}catch(r){return Zt.throwError("bad result from backend",oe.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return Ft(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Rn({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return ue.from(i)}catch(s){return Zt.throwError("bad result from backend",oe.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,r){return Ft(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Rn({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return ue.from(i).toNumber()}catch(s){return Zt.throwError("bad result from backend",oe.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,r){return Ft(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Rn({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return ut(i)}catch(s){return Zt.throwError("bad result from backend",oe.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,r,n){return Ft(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Rn({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(o=>Wx(o))}),s=yield this.perform("getStorageAt",i);try{return ut(s)}catch(o){return Zt.throwError("bad result from backend",oe.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,r,n){if(r!=null&&Ku(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&Zt.throwError("Transaction hash mismatch from Provider.sendTransaction.",oe.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(s,o)=>Ft(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const c=yield this._waitForTransaction(e.hash,s,o,a);return c==null&&s===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&Zt.throwError("transaction failed",oe.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return Ft(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(s=>ut(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return Ft(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?ue.from(s):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?ut(s):null))}),this.formatter.transactionRequest(yield Rn(n))})}_getFilter(e){return Ft(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield Rn(r))})}_call(e,r,n){return Ft(this,void 0,void 0,function*(){n>=D9&&Zt.throwError("CCIP read exceeded maximum redirections",oe.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&Ku(s)%32===4)try{const o=Ci(s,4),a=Ci(o,0,32);ue.from(a).eq(i)||Zt.throwError("CCIP Read sender did not match",oe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const c=[],d=ue.from(Ci(o,32,64)).toNumber(),f=ue.from(Ci(o,d,d+32)).toNumber(),p=Ci(o,d+32);for(let T=0;T<f;T++){const j=j0(p,T*32);j==null&&Zt.throwError("CCIP Read contained corrupt URL string",oe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),c.push(j)}const g=xm(o,64);ue.from(Ci(o,100,128)).isZero()||Zt.throwError("CCIP Read callback selector included junk",oe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const m=Ci(o,96,100),v=xm(o,128),x=yield this.ccipReadFetch(e,g,c);x==null&&Zt.throwError("CCIP Read disabled or provided no URLs",oe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const w={to:i,data:fs([m,m4([x,v])])};return this._call(w,r,n+1)}catch(o){if(o.code===oe.errors.SERVER_ERROR)throw o}try{return ut(s)}catch(o){return Zt.throwError("bad result from backend",oe.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:s,error:o})}})}call(e,r){return Ft(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Rn({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return Ft(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Rn({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return ue.from(n)}catch(i){return Zt.throwError("bad result from backend",oe.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return Ft(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Zt.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&Zt.throwError("ENS name not configured",oe.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return Ft(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(Yt(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),Yt(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{Zt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return vf(()=>Ft(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let o=null;for(let c=0;c<s.transactions.length;c++){const d=s.transactions[c];if(d.blockNumber==null)d.confirmations=0;else if(d.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let f=o-d.blockNumber+1;f<=0&&(f=1),d.confirmations=f}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(c=>this._wrapTransaction(c)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Ft(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return vf(()=>Ft(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return Ft(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return vf(()=>Ft(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return Ft(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Rn({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),rt.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return Ft(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Ft(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Zt.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return Ft(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new DA(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return Ft(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||Zt.throwError("network does not support ENS",oe.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+E0(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return Ft(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(Yt(e))throw n}typeof e!="string"&&Zt.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return Ft(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=j0(yield this.call({to:n,data:"0x691f3431"+E0(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return Ft(this,void 0,void 0,function*(){let r=null;if(Yt(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;r=new DA(this,o,s);try{const a=yield r.getAvatar();if(a)return a.url}catch(a){if(a.code!==oe.errors.CALL_EXCEPTION)throw a}try{const a=j0(yield this.call({to:o,data:"0x691f3431"+E0(s).substring(2)}),0);r=yield this.getResolver(a)}catch(a){if(a.code!==oe.errors.CALL_EXCEPTION)throw a;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return Zt.throwError(e+" not implemented",oe.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new F9(Kd(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],s=Kd(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,r)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let r=Kd(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=Kd(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,s=Kd(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=r||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=Kd(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var ol=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const In=new oe(fi),U9=["call","estimateGas"];function Fp(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=Yt(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=Fp(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return Fp(JSON.parse(t),e)}catch{}return null}function g4(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const s=Fp(e,!0);if(s)return s.data;In.throwError("missing revert data in call exception; Transaction reverted without a reason string",oe.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let s=Fp(e.body,!1);s==null&&(s=Fp(e,!1)),s&&In.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",oe.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===oe.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&In.throwError("insufficient funds for intrinsic transaction cost",oe.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&In.throwError("nonce has already been used",oe.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&In.throwError("replacement fee too low",oe.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&In.throwError("legacy pre-eip-155 transactions not supported",oe.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),U9.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&In.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",oe.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function OA(t){return new Promise(function(e){setTimeout(e,t)})}function V9(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function cp(t){return t&&t.toLowerCase()}const Ck={};class y4 extends ng{constructor(e,r,n){if(super(),e!==Ck)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");ke(this,"provider",r),n==null&&(n=0),typeof n=="string"?(ke(this,"_address",this.provider.formatter.address(n)),ke(this,"_index",null)):typeof n=="number"?(ke(this,"_index",n),ke(this,"_address",null)):In.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return In.throwError("cannot alter JSON-RPC Signer connection",oe.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new W9(Ck,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&In.throwError("unknown account #"+this._index,oe.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Jr(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Jr(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>ol(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&In.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),Rn({tx:Rn(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&In.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&In.throwError("user rejected transaction",oe.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),g4("sendTransaction",o,s)))})}signTransaction(e){return In.throwError("signing transactions is unsupported",oe.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return ol(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield vf(()=>ol(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return ol(this,void 0,void 0,function*(){const r=typeof e=="string"?Fa(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[ut(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&In.throwError("user rejected signing",oe.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return ol(this,void 0,void 0,function*(){const r=typeof e=="string"?Fa(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),ut(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&In.throwError("user rejected signing",oe.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return ol(this,void 0,void 0,function*(){const i=yield Es.resolveNames(e,r,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(Es.getPayload(i.domain,r,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&In.throwError("user rejected signing",oe.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:r,value:i.value}}),o}})}unlock(e){return ol(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class W9 extends y4{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const q9={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Yf extends _C{constructor(e,r){let n=r;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(n),e||(e=$s(this.constructor,"defaultUrl")()),typeof e=="string"?ke(this,"connection",Object.freeze({url:e})):ke(this,"connection",Object.freeze(Jr(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return ol(this,void 0,void 0,function*(){yield OA(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=$s(this.constructor,"getNetwork");try{return r(ue.from(e).toNumber())}catch(n){return In.throwError("could not detect network",oe.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return In.throwError("could not detect network",oe.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new y4(Ck,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Ws(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=Xx(this.connection,JSON.stringify(n),V9).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[cp(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[cp(r.address),r.blockTag]];case"getCode":return["eth_getCode",[cp(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[cp(r.address),Qr(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[$s(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[$s(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=cp(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return ol(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&ue.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=Jr(r),r.transaction=Jr(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&In.throwError(e+" not implemented",oe.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return g4(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=r)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(c){return e.emit("pending",c),null})})}),o.then(function(){return OA(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=Jr(q9);if(r)for(const s in r)r[s]&&(n[s]=!0);fU(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=Wx(ue.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=ut(e[s]))}),e.accessList&&(i.accessList=md(e.accessList)),i}}let zp=null;try{if(zp=WebSocket,zp==null)throw new Error("inject please")}catch{const e=new oe(fi);zp=function(){e.throwError("WebSockets not supported in this environment",oe.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var Vw=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const jy=new oe(fi);let H9=1;class CC extends Yf{constructor(e,r){r==="any"&&jy.throwError("WebSocketProvider does not support 'any' network yet",oe.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,r):super("_websocket",r),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?ke(this,"_websocket",new zp(this.connection.url)):ke(this,"_websocket",e),ke(this,"_requests",{}),ke(this,"_subs",{}),ke(this,"_subIds",{}),ke(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(i=>{this.websocket.send(this._requests[i].payload)})},this.websocket.onmessage=i=>{const s=i.data,o=JSON.parse(s);if(o.id!=null){const a=String(o.id),c=this._requests[a];if(delete this._requests[a],o.result!==void 0)c.callback(null,o.result),this.emit("debug",{action:"response",request:JSON.parse(c.payload),response:o.result,provider:this});else{let d=null;o.error?(d=new Error(o.error.message||"unknown error"),ke(d,"code",o.error.code||null),ke(d,"response",s)):d=new Error("unknown error"),c.callback(d,void 0),this.emit("debug",{action:"response",error:d,request:JSON.parse(c.payload),provider:this})}}else if(o.method==="eth_subscription"){const a=this._subs[o.params.subscription];a&&a.processFunc(o.params.result)}else console.warn("this should not happen")};const n=setInterval(()=>{this.emit("poll")},1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){jy.throwError("cannot reset events block on WebSocketProvider",oe.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){jy.throwError("cannot set polling interval on WebSocketProvider",oe.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return Vw(this,void 0,void 0,function*(){return null})}set polling(e){e&&jy.throwError("cannot set polling on WebSocketProvider",oe.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,r){const n=H9++;return new Promise((i,s)=>{function o(c,d){return c?s(c):i(d)}const a=JSON.stringify({method:e,params:r,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(a),provider:this}),this._requests[String(n)]={callback:o,payload:a},this._wsReady&&this.websocket.send(a)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,r,n){return Vw(this,void 0,void 0,function*(){let i=this._subIds[e];i==null&&(i=Promise.all(r).then(o=>this.send("eth_subscribe",o)),this._subIds[e]=i);const s=yield i;this._subs[s]={tag:e,processFunc:n}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],r=>{const n=ue.from(r.number).toNumber();this._emitted.block=n,this.emit("block",n)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],r=>{this.emit("pending",r)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],r=>{r.removed==null&&(r.removed=!1),this.emit(e.filter,this.formatter.filterLog(r))});break;case"tx":{const r=n=>{const i=n.hash;this.getTransactionReceipt(i).then(s=>{s&&this.emit(i,s)})};r(e),this._subscribe("tx",["newHeads"],n=>{this._events.filter(i=>i.type==="tx").forEach(r)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let r=e.tag;if(e.type==="tx"){if(this._events.filter(i=>i.type==="tx").length)return;r="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[r];n&&(delete this._subIds[r],n.then(i=>{this._subs[i]&&(delete this._subs[i],this.send("eth_unsubscribe",[i]))}))}destroy(){return Vw(this,void 0,void 0,function*(){this.websocket.readyState===zp.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var G9=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const _p=new oe(fi);class K9 extends Yf{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return G9(this,void 0,void 0,function*(){let r=this.network;return r==null&&(r=yield e.detectNetwork.call(this),r||_p.throwError("no network detected",oe.errors.UNKNOWN_ERROR,{}),this._network==null&&(ke(this,"_network",r),this.emit("network",r,null))),r})}}class Al extends K9{constructor(e,r){_p.checkAbstract(new.target,Al),e=$s(new.target,"getNetwork")(e),r=$s(new.target,"getApiKey")(r);const n=$s(new.target,"getUrl")(e,r);super(n,e),typeof r=="string"?ke(this,"apiKey",r):r!=null&&Object.keys(r).forEach(i=>{ke(this,i,r[i])})}_startPending(){_p.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return _p.throwError("API provider does not support signing",oe.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,r){return _p.throwError("not implemented; sub-classes must override getUrl",oe.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const LA=new oe(fi),P0="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class Y9 extends CC{constructor(e,r){const n=new x4(e,r),i=n.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(i,n.network),ke(this,"apiKey",n.apiKey)}isCommunityResource(){return this.apiKey===P0}}class x4 extends Al{static getWebSocketProvider(e,r){return new Y9(e,r)}static getApiKey(e){return e==null?P0:(e&&typeof e!="string"&&LA.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,r){let n=null;switch(e.name){case"homestead":n="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":n="eth-goerli.g.alchemy.com/v2/";break;case"sepolia":n="eth-sepolia.g.alchemy.com/v2/";break;case"matic":n="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":n="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":n="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":n="arb-goerli.g.alchemy.com/v2/";break;case"arbitrum-sepolia":n="arb-sepolia.g.alchemy.com/v2/";break;case"optimism":n="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":n="opt-goerli.g.alchemy.com/v2/";break;case"optimism-sepolia":n="opt-sepolia.g.alchemy.com/v2/";break;default:LA.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+n+r,throttleCallback:(i,s)=>(r===P0&&Qx(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===P0}}const J9=new oe(fi),Py="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function X9(t){switch(t){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"sepolia":return"rpc.ankr.com/eth_sepolia/";case"matic":return"rpc.ankr.com/polygon/";case"maticmum":return"rpc.ankr.com/polygon_mumbai/";case"optimism":return"rpc.ankr.com/optimism/";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet/";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return J9.throwArgumentError("unsupported network","name",t)}class Q9 extends Al{isCommunityResource(){return this.apiKey===Py}static getApiKey(e){return e??Py}static getUrl(e,r){r==null&&(r=Py);const n={allowGzip:!0,url:"https://"+X9(e.name)+r,throttleCallback:(i,s)=>(r.apiKey===Py&&Qx(),Promise.resolve(!0))};return r.projectSecret!=null&&(n.user="",n.password=r.projectSecret),n}}var Z9=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const FA=new oe(fi);class eV extends Al{static getApiKey(e){return e!=null&&FA.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,r){let n=null;switch(e.name){case"homestead":n="https://cloudflare-eth.com/";break;default:FA.throwArgumentError("unsupported network","network",arguments[0])}return n}perform(e,r){const n=Object.create(null,{perform:{get:()=>super.perform}});return Z9(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield n.perform.call(this,"getBlock",{blockTag:"latest"})).number:n.perform.call(this,e,r)})}}var Ry=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const lc=new oe(fi);function zA(t){const e={};for(let r in t){if(t[r]==null)continue;let n=t[r];r==="type"&&n===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?n=Wx(ut(n)):r==="accessList"?n="["+md(n).map(i=>`{address:"${i.address}",storageKeys:["${i.storageKeys.join('","')}"]}`).join(",")+"]":n=ut(n),e[r]=n)}return e}function tV(t){if(t.status==0&&(t.message==="No records found"||t.message==="No transactions found"))return t.result;if(t.status!=1||typeof t.message!="string"||!t.message.match(/^OK/)){const e=new Error("invalid response");throw e.result=JSON.stringify(t),(t.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return t.result}function BA(t){if(t&&t.status==0&&t.message=="NOTOK"&&(t.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(t),e.throttleRetry=!0,e}if(t.jsonrpc!="2.0"){const e=new Error("invalid response");throw e.result=JSON.stringify(t),e}if(t.error){const e=new Error(t.error.message||"unknown error");throw t.error.code&&(e.code=t.error.code),t.error.data&&(e.data=t.error.data),e}return t.result}function $A(t){if(t==="pending")throw new Error("pending not supported");return t==="latest"?t:parseInt(t.substring(2),16)}function Ww(t,e,r){if(t==="call"&&e.code===oe.errors.SERVER_ERROR){const i=e.error;if(i&&(i.message.match(/reverted/i)||i.message.match(/VM execution error/i))){let s=i.data;if(s&&(s="0x"+s.replace(/^.*0x/i,"")),Yt(s))return s;lc.throwError("missing revert data in call exception",oe.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let n=e.message;throw e.code===oe.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?n=e.error.message:typeof e.body=="string"?n=e.body:typeof e.responseText=="string"&&(n=e.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&lc.throwError("insufficient funds for intrinsic transaction cost",oe.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&lc.throwError("nonce has already been used",oe.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),n.match(/another transaction with same nonce/)&&lc.throwError("replacement fee too low",oe.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),n.match(/execution failed due to an exception|execution reverted/)&&lc.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",oe.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}class rV extends _C{constructor(e,r){super(e),ke(this,"baseUrl",this.getBaseUrl()),ke(this,"apiKey",r||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return lc.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,r){const n=Object.keys(r).reduce((s,o)=>{const a=r[o];return a!=null&&(s+=`&${o}=${a}`),s},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${n}${i}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,r){return r.module=e,r.apikey=this.apiKey,r}fetch(e,r,n){return Ry(this,void 0,void 0,function*(){const i=n?this.getPostUrl():this.getUrl(e,r),s=n?this.getPostData(e,r):null,o=e==="proxy"?BA:tV;this.emit("debug",{action:"request",request:i,provider:this});const a={url:i,throttleSlotInterval:1e3,throttleCallback:(f,p)=>(this.isCommunityResource()&&Qx(),Promise.resolve(!0))};let c=null;s&&(a.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},c=Object.keys(s).map(f=>`${f}=${s[f]}`).join("&"));const d=yield Xx(a,c,o||BA);return this.emit("debug",{action:"response",request:i,response:Ws(d),provider:this}),d})}detectNetwork(){return Ry(this,void 0,void 0,function*(){return this.network})}perform(e,r){const n=Object.create(null,{perform:{get:()=>super.perform}});return Ry(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:r.address,tag:r.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:r.address,tag:r.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:r.address,tag:r.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:r.address,position:r.position,tag:r.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:r.signedTransaction},!0).catch(i=>Ww("sendTransaction",i,r.signedTransaction));case"getBlock":if(r.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:r.blockTag,boolean:r.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:r.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:r.transactionHash});case"call":{if(r.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const i=zA(r.transaction);i.module="proxy",i.action="eth_call";try{return yield this.fetch("proxy",i,!0)}catch(s){return Ww("call",s,r.transaction)}}case"estimateGas":{const i=zA(r.transaction);i.module="proxy",i.action="eth_estimateGas";try{return yield this.fetch("proxy",i,!0)}catch(s){return Ww("estimateGas",s,r.transaction)}}case"getLogs":{const i={action:"getLogs"};if(r.filter.fromBlock&&(i.fromBlock=$A(r.filter.fromBlock)),r.filter.toBlock&&(i.toBlock=$A(r.filter.toBlock)),r.filter.address&&(i.address=r.filter.address),r.filter.topics&&r.filter.topics.length>0&&(r.filter.topics.length>1&&lc.throwError("unsupported topic count",oe.errors.UNSUPPORTED_OPERATION,{topics:r.filter.topics}),r.filter.topics.length===1)){const a=r.filter.topics[0];(typeof a!="string"||a.length!==66)&&lc.throwError("unsupported topic format",oe.errors.UNSUPPORTED_OPERATION,{topic0:a}),i.topic0=a}const s=yield this.fetch("logs",i);let o={};for(let a=0;a<s.length;a++){const c=s[a];if(c.blockHash==null){if(o[c.blockNumber]==null){const d=yield this.getBlock(c.blockNumber);d&&(o[c.blockNumber]=d.hash)}c.blockHash=o[c.blockNumber]}}return s}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return n.perform.call(this,e,r)})}getHistory(e,r,n){return Ry(this,void 0,void 0,function*(){const i={action:"txlist",address:yield this.resolveName(e),startblock:r??0,endblock:n??99999999,sort:"asc"};return(yield this.fetch("account",i)).map(o=>{["contractAddress","to"].forEach(function(c){o[c]==""&&delete o[c]}),o.creates==null&&o.contractAddress!=null&&(o.creates=o.contractAddress);const a=this.formatter.transactionResponse(o);return o.timeStamp&&(a.timestamp=parseInt(o.timeStamp)),a})})}isCommunityResource(){return this.apiKey==null}}var ox=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const Au=new oe(fi);function Iy(){return new Date().getTime()}function UA(t){let e=null;for(let r=0;r<t.length;r++){const n=t[r];if(n==null)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||e.ensAddress==null&&n.ensAddress==null)||Au.throwArgumentError("provider mismatch","networks",t):e=n}return e}function VA(t,e){t=t.slice().sort();const r=Math.floor(t.length/2);if(t.length%2)return t[r];const n=t[r-1],i=t[r];return e!=null&&Math.abs(n-i)>e?null:(n+i)/2}function bf(t){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return JSON.stringify(t);if(typeof t=="string")return t;if(ue.isBigNumber(t))return t.toString();if(Array.isArray(t))return JSON.stringify(t.map(e=>bf(e)));if(typeof t=="object"){const e=Object.keys(t);return e.sort(),"{"+e.map(r=>{let n=t[r];return typeof n=="function"?n="[function]":n=bf(n),JSON.stringify(r)+":"+n}).join(",")+"}"}throw new Error("unknown value type: "+typeof t)}let nV=1;function WA(t){let e=null,r=null,n=new Promise(o=>{e=function(){r&&(clearTimeout(r),r=null),o()},r=setTimeout(e,t)});const i=o=>(n=n.then(o),n);function s(){return n}return{cancel:e,getPromise:s,wait:i}}const iV=[oe.errors.CALL_EXCEPTION,oe.errors.INSUFFICIENT_FUNDS,oe.errors.NONCE_EXPIRED,oe.errors.REPLACEMENT_UNDERPRICED,oe.errors.UNPREDICTABLE_GAS_LIMIT],sV=["address","args","errorArgs","errorSignature","method","transaction"];function My(t,e){const r={weight:t.weight};return Object.defineProperty(r,"provider",{get:()=>t.provider}),t.start&&(r.start=t.start),e&&(r.duration=e-t.start),t.done&&(t.error?r.error=t.error:r.result=t.result||null),r}function oV(t,e){return function(r){const n={};r.forEach(s=>{const o=t(s.result);n[o]||(n[o]={count:0,result:s.result}),n[o].count++});const i=Object.keys(n);for(let s=0;s<i.length;s++){const o=n[i[s]];if(o.count>=e)return o.result}}}function aV(t,e,r){let n=bf;switch(e){case"getBlockNumber":return function(i){const s=i.map(a=>a.result);let o=VA(i.map(a=>a.result),2);if(o!=null)return o=Math.ceil(o),s.indexOf(o+1)>=0&&o++,o>=t._highestBlockNumber&&(t._highestBlockNumber=o),t._highestBlockNumber};case"getGasPrice":return function(i){const s=i.map(o=>o.result);return s.sort(),s[Math.floor(s.length/2)]};case"getEtherPrice":return function(i){return VA(i.map(s=>s.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(i){return i==null?null:(i=Jr(i),i.confirmations=-1,bf(i))};break;case"getBlock":r.includeTransactions?n=function(i){return i==null?null:(i=Jr(i),i.transactions=i.transactions.map(s=>(s=Jr(s),s.confirmations=-1,s)),bf(i))}:n=function(i){return i==null?null:bf(i)};break;default:throw new Error("unknown method: "+e)}return oV(n,t.quorum)}function up(t,e){return ox(this,void 0,void 0,function*(){const r=t.provider;return r.blockNumber!=null&&r.blockNumber>=e||e===-1?r:vf(()=>new Promise((n,i)=>{setTimeout(function(){return r.blockNumber>=e?n(r):t.cancelled?n(null):n(void 0)},0)}),{oncePoll:r})})}function lV(t,e,r,n){return ox(this,void 0,void 0,function*(){let i=t.provider;switch(r){case"getBlockNumber":case"getGasPrice":return i[r]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&Yt(n.blockTag)&&(i=yield up(t,e)),i[r](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&Yt(n.blockTag)&&(i=yield up(t,e)),i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&Yt(n.blockTag)&&(i=yield up(t,e)),i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&Yt(n.blockTag)&&(i=yield up(t,e)),r==="call"&&n.blockTag?i[r](n.transaction,n.blockTag):i[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[r](n.transactionHash);case"getLogs":{let s=n.filter;return(s.fromBlock&&Yt(s.fromBlock)||s.toBlock&&Yt(s.toBlock))&&(i=yield up(t,e)),i.getLogs(s)}}return Au.throwError("unknown method error",oe.errors.UNKNOWN_ERROR,{method:r,params:n})})}class cV extends _C{constructor(e,r){e.length===0&&Au.throwArgumentError("missing providers","providers",e);const n=e.map((o,a)=>{if(yC.isProvider(o)){const f=TA(o)?2e3:750;return Object.freeze({provider:o,weight:1,stallTimeout:f,priority:1})}const c=Jr(o);c.priority==null&&(c.priority=1),c.stallTimeout==null&&(c.stallTimeout=TA(o)?2e3:750),c.weight==null&&(c.weight=1);const d=c.weight;return(d%1||d>512||d<1)&&Au.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${a}].weight`,d),Object.freeze(c)}),i=n.reduce((o,a)=>o+a.weight,0);r==null?r=i/2:r>i&&Au.throwArgumentError("quorum will always fail; larger than total weight","quorum",r);let s=UA(n.map(o=>o.provider.network));s==null&&(s=new Promise((o,a)=>{setTimeout(()=>{this.detectNetwork().then(o,a)},0)})),super(s),ke(this,"providerConfigs",Object.freeze(n)),ke(this,"quorum",r),this._highestBlockNumber=-1}detectNetwork(){return ox(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(r=>r.provider.getNetwork()));return UA(e)})}perform(e,r){return ox(this,void 0,void 0,function*(){if(e==="sendTransaction"){const c=yield Promise.all(this.providerConfigs.map(d=>d.provider.sendTransaction(r.signedTransaction).then(f=>f.hash,f=>f)));for(let d=0;d<c.length;d++){const f=c[d];if(typeof f=="string")return f}throw c[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const n=aV(this,e,r),i=_9(this.providerConfigs.map(Jr));i.sort((c,d)=>c.priority-d.priority);const s=this._highestBlockNumber;let o=0,a=!0;for(;;){const c=Iy();let d=i.filter(m=>m.runner&&c-m.start<m.stallTimeout).reduce((m,v)=>m+v.weight,0);for(;d<this.quorum&&o<i.length;){const m=i[o++],v=nV++;m.start=Iy(),m.staller=WA(m.stallTimeout),m.staller.wait(()=>{m.staller=null}),m.runner=lV(m,s,e,r).then(x=>{m.done=!0,m.result=x,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:v,backend:My(m,Iy()),request:{method:e,params:Ws(r)},provider:this})},x=>{m.done=!0,m.error=x,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:v,backend:My(m,Iy()),request:{method:e,params:Ws(r)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:v,backend:My(m,null),request:{method:e,params:Ws(r)},provider:this}),d+=m.weight}const f=[];i.forEach(m=>{m.done||!m.runner||(f.push(m.runner),m.staller&&f.push(m.staller.getPromise()))}),f.length&&(yield Promise.race(f));const p=i.filter(m=>m.done&&m.error==null);if(p.length>=this.quorum){const m=n(p);if(m!==void 0)return i.forEach(v=>{v.staller&&v.staller.cancel(),v.cancelled=!0}),m;a||(yield WA(100).getPromise()),a=!1}const g=i.reduce((m,v)=>{if(!v.done||v.error==null)return m;const x=v.error.code;return iV.indexOf(x)>=0&&(m[x]||(m[x]={error:v.error,weight:0}),m[x].weight+=v.weight),m},{});if(Object.keys(g).forEach(m=>{const v=g[m];if(v.weight<this.quorum)return;i.forEach(T=>{T.staller&&T.staller.cancel(),T.cancelled=!0});const x=v.error,w={};sV.forEach(T=>{x[T]!=null&&(w[T]=x[T])}),Au.throwError(x.reason||x.message,m,w)}),i.filter(m=>!m.done).length===0)break}return i.forEach(c=>{c.staller&&c.staller.cancel(),c.cancelled=!0}),Au.throwError("failed to meet quorum",oe.errors.SERVER_ERROR,{method:e,params:r,results:i.map(c=>My(c)),provider:this})})}}const uV=null,R0=new oe(fi),Cp="84842078b09946638c03157f83405213";class dV extends CC{constructor(e,r){const n=new v4(e,r),i=n.connection;i.password&&R0.throwError("INFURA WebSocket project secrets unsupported",oe.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const s=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(s,e),ke(this,"apiKey",n.projectId),ke(this,"projectId",n.projectId),ke(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===Cp}}class v4 extends Al{static getWebSocketProvider(e,r){return new dV(e,r)}static getApiKey(e){const r={apiKey:Cp,projectId:Cp,projectSecret:null};return e==null||(typeof e=="string"?r.projectId=e:e.projectSecret!=null?(R0.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),R0.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),r.projectId=e.projectId,r.projectSecret=e.projectSecret):e.projectId&&(r.projectId=e.projectId),r.apiKey=r.projectId),r}static getUrl(e,r){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"goerli":n="goerli.infura.io";break;case"sepolia":n="sepolia.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-goerli":n="optimism-goerli.infura.io";break;case"optimism-sepolia":n="optimism-sepolia.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":n="arbitrum-goerli.infura.io";break;case"arbitrum-sepolia":n="arbitrum-sepolia.infura.io";break;default:R0.throwError("unsupported network",oe.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i={allowGzip:!0,url:"https://"+n+"/v3/"+r.projectId,throttleCallback:(s,o)=>(r.projectId===Cp&&Qx(),Promise.resolve(!0))};return r.projectSecret!=null&&(i.user="",i.password=r.projectSecret),i}isCommunityResource(){return this.projectId===Cp}}const qw=new oe(fi),fV="ETHERS_JS_SHARED";class hV extends Al{static getApiKey(e){return e&&typeof e!="string"&&qw.throwArgumentError("invalid apiKey","apiKey",e),e||fV}static getUrl(e,r){qw.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let n=null;switch(e.name){case"homestead":n="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":n="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":n="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":n="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":n="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:qw.throwArgumentError("unsupported network","network",arguments[0])}return n+"?apiKey="+r}}const qA=new oe(fi),HA="62e1ad51b37b8e00394bda3b";class pV extends Al{static getApiKey(e){const r={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return e==null?r.applicationId=HA:typeof e=="string"?r.applicationId=e:e.applicationSecretKey!=null?(r.applicationId=e.applicationId,r.applicationSecretKey=e.applicationSecretKey):e.applicationId?r.applicationId=e.applicationId:qA.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),r}static getUrl(e,r){let n=null;switch(e?e.name:"unknown"){case"goerli":n="eth-goerli.gateway.pokt.network";break;case"homestead":n="eth-mainnet.gateway.pokt.network";break;case"kovan":n="poa-kovan.gateway.pokt.network";break;case"matic":n="poly-mainnet.gateway.pokt.network";break;case"maticmum":n="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":n="eth-rinkeby.gateway.pokt.network";break;case"ropsten":n="eth-ropsten.gateway.pokt.network";break;default:qA.throwError("unsupported network",oe.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i=`https://${n}/v1/lb/${r.applicationId}`,s={headers:{},url:i};return r.applicationSecretKey!=null&&(s.user="",s.password=r.applicationSecretKey),s}isCommunityResource(){return this.applicationId===HA}}const GA=new oe(fi),mV="919b412a057b5e9c9b6dce193c5a60242d6efadb";class gV extends Al{static getApiKey(e){return e&&typeof e!="string"&&GA.throwArgumentError("invalid apiKey","apiKey",e),e||mV}static getUrl(e,r){let n=null;switch(e.name){case"homestead":n="ethers.quiknode.pro";break;case"goerli":n="ethers.ethereum-goerli.quiknode.pro";break;case"sepolia":n="ethers.ethereum-sepolia.quiknode.pro";break;case"holesky":n="ethers.ethereum-holesky.quiknode.pro";break;case"arbitrum":n="ethers.arbitrum-mainnet.quiknode.pro";break;case"arbitrum-goerli":n="ethers.arbitrum-goerli.quiknode.pro";break;case"arbitrum-sepolia":n="ethers.arbitrum-sepolia.quiknode.pro";break;case"base":n="ethers.base-mainnet.quiknode.pro";break;case"base-goerli":n="ethers.base-goerli.quiknode.pro";break;case"base-spolia":n="ethers.base-sepolia.quiknode.pro";break;case"bnb":n="ethers.bsc.quiknode.pro";break;case"bnbt":n="ethers.bsc-testnet.quiknode.pro";break;case"matic":n="ethers.matic.quiknode.pro";break;case"maticmum":n="ethers.matic-testnet.quiknode.pro";break;case"optimism":n="ethers.optimism.quiknode.pro";break;case"optimism-goerli":n="ethers.optimism-goerli.quiknode.pro";break;case"optimism-sepolia":n="ethers.optimism-sepolia.quiknode.pro";break;case"xdai":n="ethers.xdai.quiknode.pro";break;default:GA.throwArgumentError("unsupported network","network",arguments[0])}return"https://"+n+"/"+r}}const KA=new oe(fi);let yV=1;function YA(t,e){const r="Web3LegacyFetcher";return function(n,i){const s={method:n,params:i,id:yV++,jsonrpc:"2.0"};return new Promise((o,a)=>{this.emit("debug",{action:"request",fetcher:r,request:Ws(s),provider:this}),e(s,(c,d)=>{if(c)return this.emit("debug",{action:"response",fetcher:r,error:c,request:s,provider:this}),a(c);if(this.emit("debug",{action:"response",fetcher:r,request:s,response:d,provider:this}),d.error){const f=new Error(d.error.message);return f.code=d.error.code,f.data=d.error.data,a(f)}o(d.result)})})}}function xV(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Ws(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class bc extends Yf{constructor(e,r){e==null&&KA.throwArgumentError("missing provider","provider",e);let n=null,i=null,s=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),s=e,e.request?(n===""&&(n="eip-1193:"),i=xV(e)):e.sendAsync?i=YA(e,e.sendAsync.bind(e)):e.send?i=YA(e,e.send.bind(e)):KA.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),ke(this,"jsonRpcFetchFunc",i),ke(this,"provider",s)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}const JA=new oe(fi);function Rf(t,e){if(t==null&&(t="homestead"),typeof t=="string"){const n=t.match(/^(ws|http)s?:/i);if(n)switch(n[1].toLowerCase()){case"http":case"https":return new Yf(t);case"ws":case"wss":return new CC(t);default:JA.throwArgumentError("unsupported URL scheme","network",t)}}const r=h4(t);return(!r||!r._defaultProvider)&&JA.throwError("unsupported getDefaultProvider network",oe.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:t}),r._defaultProvider({FallbackProvider:cV,AlchemyProvider:x4,AnkrProvider:Q9,CloudflareProvider:eV,EtherscanProvider:rV,InfuraProvider:v4,JsonRpcProvider:Yf,NodesmithProvider:hV,PocketProvider:pV,QuickNodeProvider:gV,Web3Provider:bc,IpcProvider:uV},e)}const vV="units/5.8.0",bV=new oe(vV),wV=["wei","kwei","mwei","gwei","szabo","finney","ether"];function og(t,e){return C0(t,e)}function Cn(t,e){if(typeof t!="string"&&bV.throwArgumentError("value must be a string","value",t),typeof e=="string"){const r=wV.indexOf(e);r!==-1&&(e=3*r)}return ba(t,e??18)}function Ir(t){return og(t,18)}function Dc(t){return Cn(t,18)}const Ht={1:{name:"Ethereum Mainnet",rpcUrl:"https://ethereum-rpc.publicnode.com",explorer:"https://etherscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},10:{name:"OP Mainnet",rpcUrl:"https://mainnet.optimism.io",explorer:"https://optimistic.etherscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},56:{name:"BNB Smart Chain",rpcUrl:"https://bsc.blockrazor.xyz",explorer:"https://bscscan.com",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},97:{name:"BNB Smart Chain Testnet",rpcUrl:"https://bsc-testnet-rpc.publicnode.com",explorer:"https://testnet.bscscan.com",nativeCurrency:{name:"Test BNB",symbol:"tBNB",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},43113:{name:"Avalanche Fuji Testnet",rpcUrl:"https://avalanche-fuji.drpc.org",explorer:"https://testnet.snowscan.xyz",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},43114:{name:"Avalanche C-Chain",rpcUrl:"https://avalanche.drpc.org",explorer:"https://snowscan.xyz",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},8453:{name:"Base Mainnet",rpcUrl:"https://base.drpc.org",explorer:"https://basescan.org",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},84532:{name:"Base Sepolia",rpcUrl:"https://base-sepolia-rpc.publicnode.com",explorer:"https://sepolia.basescan.org",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x0b2418eA4c3c8dab2648d30e82283caA6E7C4419",poolDeployer:"0x0B79101Ef130342DDCaC9ac213A405E4B3f869e4",revenueManager:"0x98a7d02B4BDf0593fbEe6F99B55F14a6c13B62D2",nftFactory:"0x8c07B8dA7BBAf26439B3b1d77Ea72adD60617F26",socialEngagementManager:"0x33a15DF0415130bE215f45159991D2e853e6a03F"}},11155111:{name:"Ethereum Sepolia",rpcUrl:"https://sepolia.infura.io",explorer:"https://sepolia.etherscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},11155420:{name:"OP Sepolia Testnet",rpcUrl:"https://sepolia.optimism.io",explorer:"https://sepolia-optimism.etherscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},2020:{name:"Ronin Mainnet",rpcUrl:"https://ronin.drpc.org",explorer:"https://app.roninchain.com/",nativeCurrency:{name:"Ronin",symbol:"RON",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},2021:{name:"Ronin Saigon Testnet",rpcUrl:"https://saigon-testnet.roninchain.com/rpc",explorer:"https://saigon-app.roninchain.com/explorer",nativeCurrency:{name:"Ronin",symbol:"RON",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},42161:{name:"Arbitrum One",rpcUrl:"https://arbitrum.drpc.org",explorer:"https://arbiscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},421614:{name:"Arbitrum Sepolia",rpcUrl:"https://endpoints.omniatech.io/v1/arbitrum/sepolia/public",explorer:"https://sepolia.arbiscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}}},b4=C.createContext(),xr=()=>{const t=C.useContext(b4);if(!t)throw new Error("useWallet must be used within a WalletProvider");return t},kV=({children:t})=>{const[e,r]=C.useState(null),[n,i]=C.useState(null),[s,o]=C.useState(""),[a,c]=C.useState(!1),[d,f]=C.useState(null),[p,g]=C.useState(!1),[m,v]=C.useState(null),[x,w]=C.useState(!1),[T,j]=C.useState(!1);C.useEffect(()=>{P()},[]),C.useEffect(()=>{if(window.ethereum)return window.ethereum.on("accountsChanged",S),window.ethereum.on("chainChanged",B),()=>{window.ethereum.removeListener("accountsChanged",S),window.ethereum.removeListener("chainChanged",B)}},[]),C.useEffect(()=>{d&&Ht[d]?v(Ht[d]):v(null)},[d]);const P=async()=>{if(window.ethereum)try{(await window.ethereum.request({method:"eth_accounts"})).length>0?await $("metamask"):w(!0)}catch(F){console.error("Error checking connection:",F),w(!0)}else w(!0)},S=F=>{F.length===0?W():o(F[0])},B=F=>{console.log("Chain changed to:",F),j(!0),f(parseInt(F,16)),setTimeout(async()=>{try{window.ethereum&&(await window.ethereum.request({method:"eth_accounts"})).length>0&&await $("metamask")}catch(b){console.error("Error reconnecting after chain change:",b)}finally{setTimeout(()=>{j(!1)},500)}},1500)},$=async F=>{g(!0);try{let b;switch(F){case"metamask":if(!window.ethereum)throw new Error("MetaMask is not installed");await window.ethereum.request({method:"eth_requestAccounts"}),b=new bc(window.ethereum);break;default:throw new Error("Unsupported wallet type")}const A=b.getSigner(),O=await A.getAddress(),R=await b.getNetwork();r(b),i(A),o(O),f(R.chainId),c(!0),w(!0),localStorage.setItem("walletConnected",F)}catch(b){throw console.error("Error connecting wallet:",b),b}finally{g(!1)}},W=()=>{r(null),i(null),o(""),c(!1),f(null),w(!0),localStorage.removeItem("walletConnected")},G=async F=>{if(!window.ethereum)throw new Error("MetaMask is not installed");try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${F.toString(16)}`}]})}catch(b){throw b.code===4902?new Error("Please add this network to your wallet first"):b}},q=d&&Ht[d],V={provider:e,signer:n,address:s,connected:a,chainId:d,loading:p,isInitialized:x,isReconnecting:T,connectWallet:$,disconnect:W,switchNetwork:G,addNetwork:async F=>{if(!window.ethereum)throw new Error("MetaMask is not installed");const b=Ht[F];if(!b)throw new Error("Network config not found");try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${F.toString(16)}`,chainName:b.name,rpcUrls:[b.rpcUrl],blockExplorerUrls:[b.explorer],nativeCurrency:b.nativeCurrency||{name:"ETH",symbol:"ETH",decimals:18}}]})}catch(A){throw A}},formatAddress:F=>F?`${F.slice(0,6)}...${F.slice(-4)}`:"",networkInfo:m,isSupportedNetwork:q};return l.jsx(b4.Provider,{value:V,children:t})},_V=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"}],name:"PoolRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"bool",name:"whitelisted",type:"bool"}],name:"ERC20PrizeWhitelisted",type:"event"},{inputs:[],name:"getAllPools",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"creator",type:"address"}],name:"getPoolsByCreator",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"pool",type:"address"}],name:"getPoolCreator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"poolCreationTimestamps",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"addERC20Prize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAllSlotLimits",outputs:[{internalType:"uint256",name:"minPrized",type:"uint256"},{internalType:"uint256",name:"minNonPrized",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDurationLimits",outputs:[{internalType:"uint256",name:"min",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMaxSlotsPerParticipant",outputs:[{internalType:"uint256",name:"max",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minSlotLimitNonPrized",outputs:[{internalType:"uint256",name:"min",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxSlotsPerParticipant",outputs:[{internalType:"uint256",name:"max",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"isERC20PrizeWhitelisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"collection",type:"address"}],name:"isInternalCollection",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isVRFConsumer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_collection",type:"address"}],name:"isCollectionApproved",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"socialEngagementFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRevenueManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],CV=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"},{indexed:!0,internalType:"address",name:"creator",type:"address"}],name:"PoolCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collection",type:"address"}],name:"PrizeCollectionCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"},{indexed:!1,internalType:"string",name:"description",type:"string"},{indexed:!1,internalType:"string",name:"twitterLink",type:"string"},{indexed:!1,internalType:"string",name:"discordLink",type:"string"},{indexed:!1,internalType:"string",name:"telegramLink",type:"string"}],name:"PoolMetadataSet",type:"event"},{inputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"uint256",name:"slotLimit",type:"uint256"},{internalType:"uint256",name:"winnersCount",type:"uint256"},{internalType:"uint256",name:"maxSlotsPerParticipant",type:"uint256"},{internalType:"bool",name:"isPrized",type:"bool"},{internalType:"uint256",name:"customSlotFee",type:"uint256"},{internalType:"bool",name:"erc721Drop",type:"bool"},{internalType:"bool",name:"erc1155Drop",type:"bool"},{internalType:"address",name:"prizeCollection",type:"address"},{internalType:"uint8",name:"standard",type:"uint8"},{internalType:"uint256",name:"prizeTokenId",type:"uint256"},{internalType:"uint256",name:"amountPerWinner",type:"uint256"},{internalType:"string",name:"collectionName",type:"string"},{internalType:"string",name:"collectionSymbol",type:"string"},{internalType:"string",name:"collectionBaseURI",type:"string"},{internalType:"address",name:"creator",type:"address"},{internalType:"uint256",name:"royaltyPercentage",type:"uint256"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"address",name:"erc20PrizeToken",type:"address"},{internalType:"uint256",name:"erc20PrizeAmount",type:"uint256"},{internalType:"uint256",name:"nativePrizeAmount",type:"uint256"},{internalType:"uint8",name:"revealType",type:"uint8"},{internalType:"string",name:"unrevealedBaseURI",type:"string"},{internalType:"uint256",name:"revealTime",type:"uint256"},{internalType:"address",name:"holderTokenAddress",type:"address"},{internalType:"uint8",name:"holderTokenStandard",type:"uint8"},{internalType:"uint256",name:"minHolderTokenBalance",type:"uint256"},{internalType:"uint256",name:"holderTokenBalance",type:"uint256"},{internalType:"uint256",name:"holderTokenId",type:"uint256"},{internalType:"bool",name:"socialEngagementRequired",type:"bool"},{internalType:"string",name:"socialTaskDescription",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"twitterLink",type:"string"},{internalType:"string",name:"discordLink",type:"string"},{internalType:"string",name:"telegramLink",type:"string"}],internalType:"struct PoolDeployer.PoolParams",name:"p",type:"tuple"}],name:"createPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"}],SV=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AdminDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AdminWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"adminRevenue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"depositAdmin",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],EV=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collection",type:"address"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"uint8",name:"standard",type:"uint8"}],name:"PrizeCollectionCreated",type:"event"},{inputs:[{internalType:"uint8",name:"standard",type:"uint8"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"string",name:"baseURI",type:"string"},{internalType:"address",name:"initialOwner",type:"address"},{internalType:"uint256",name:"royaltyPercentage",type:"uint256"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"address",name:"poolAddress",type:"address"}],name:"createPrizeCollection",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"erc1155Implementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"erc721Implementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocolManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"collection",type:"address"},{internalType:"bytes32",name:"signature",type:"bytes32"}],name:"validateSignature",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],TV=[{inputs:[],name:"UnauthorizedMinter",type:"error"},{inputs:[],name:"ZeroQuantity",type:"error"},{inputs:[],name:"ExceedsMaxSupply",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"winner",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"PrizeMinted",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"salePrice",type:"uint256"}],name:"royaltyInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"royaltyPercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"royaltyRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_royaltyPercentage",type:"uint256"},{internalType:"address",name:"_royaltyRecipient",type:"address"}],name:"setRoyalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isRoyaltyEnforcementExempt",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bool",name:"exempt",type:"bool"}],name:"setRoyaltyEnforcementExemption",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"minterLocked",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"minter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_minter",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lockMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"reveal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unrevealedBaseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"}],name:"creatorMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"creatorMintedCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"isRevealed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_kol",type:"address"},{internalType:"uint256",name:"_poolLimit",type:"uint256"},{internalType:"uint256",name:"_enforcedSlotFee",type:"uint256"},{internalType:"uint256",name:"_enforcedWinnerCount",type:"uint256"}],name:"approveKOL",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_kol",type:"address"}],name:"getKOLApprovalDetails",outputs:[{internalType:"bool",name:"approved",type:"bool"},{internalType:"uint256",name:"poolLimit",type:"uint256"},{internalType:"uint256",name:"enforcedSlotFee",type:"uint256"},{internalType:"uint256",name:"enforcedWinnerCount",type:"uint256"},{internalType:"uint256",name:"poolCount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_kol",type:"address"}],name:"revokeKOL",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"cliffEnd",type:"uint256"},{internalType:"uint256",name:"numberOfUnlocks",type:"uint256"},{internalType:"uint256",name:"durationBetweenUnlocks",type:"uint256"}],name:"configureCreatorVesting",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"creationTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"creatorClaimedCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAvailableCreatorMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getUnlockedAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"vestingConfig",outputs:[{internalType:"uint256",name:"cliffEnd",type:"uint256"},{internalType:"uint256",name:"numberOfUnlocks",type:"uint256"},{internalType:"uint256",name:"durationBetweenUnlocks",type:"uint256"},{internalType:"uint256",name:"amountPerUnlock",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"vestingConfigured",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],NV=JSON.parse('[{"inputs":[],"name":"UnauthorizedMinter","type":"error"},{"inputs":[],"name":"SupplyNotSet","type":"error"},{"inputs":[],"name":"ExceedsMaxSupply","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"minter","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"PrizeMinted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"values","type":"uint256[]"}],"name":"TransferBatch","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"TransferSingle","type":"event"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"accounts","type":"address[]"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"}],"name":"balanceOfBatch","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"salePrice","type":"uint256"}],"name":"royaltyInfo","outputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"royaltyPercentage","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"royaltyRecipient","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeBatchTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_royaltyPercentage","type":"uint256"},{"internalType":"address","name":"_royaltyRecipient","type":"address"}],"name":"setRoyalty","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"isRoyaltyEnforcementExempt","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"bool","name":"exempt","type":"bool"}],"name":"setRoyaltyEnforcementExemption","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"name":"uri","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_minter","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setMinterApproval","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"lockMinterApproval","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unlockMinterApproval","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"reveal","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"uint256","name":"_maxSupply","type":"uint256"}],"name":"createNewToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"string","name":"_uri","type":"string"}],"name":"setURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unrevealedURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"creatorMint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"creatorMintedCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isRevealed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_kol","type":"address"},{"internalType":"uint256","name":"_poolLimit","type":"uint256"},{"internalType":"uint256","name":"_enforcedSlotFee","type":"uint256"},{"internalType":"uint256","name":"_enforcedWinnerCount","type":"uint256"}],"name":"approveKOL","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_kol","type":"address"}],"name":"getKOLApprovalDetails","outputs":[{"internalType":"bool","name":"approved","type":"bool"},{"internalType":"uint256","name":"poolLimit","type":"uint256"},{"internalType":"uint256","name":"enforcedSlotFee","type":"uint256"},{"internalType":"uint256","name":"enforcedWinnerCount","type":"uint256"},{"internalType":"uint256","name":"poolCount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_kol","type":"address"}],"name":"revokeKOL","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"cliffEnd","type":"uint256"},{"internalType":"uint256","name":"numberOfUnlocks","type":"uint256"},{"internalType":"uint256","name":"durationBetweenUnlocks","type":"uint256"}],"name":"configureCreatorVesting","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"tokenCreationTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"creatorClaimedCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getAvailableCreatorMint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getUnlockedAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"vestingConfig","outputs":[{"internalType":"uint256","name":"cliffEnd","type":"uint256"},{"internalType":"uint256","name":"numberOfUnlocks","type":"uint256"},{"internalType":"uint256","name":"durationBetweenUnlocks","type":"uint256"},{"internalType":"uint256","name":"amountPerUnlock","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"vestingConfigured","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"maxSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]'),AV=JSON.parse('[{"inputs":[{"internalType":"address","name":"_factory","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"ContractsCannotPurchase","type":"error"},{"inputs":[],"name":"CreatorNotAllowed","type":"error"},{"inputs":[],"name":"ExceedsMaxSlots","type":"error"},{"inputs":[],"name":"ExceedsSlotLimit","type":"error"},{"inputs":[],"name":"IncorrectPayment","type":"error"},{"inputs":[],"name":"InvalidNonPrizedPurchase","type":"error"},{"inputs":[],"name":"InvalidState","type":"error"},{"inputs":[],"name":"OnlyOperator","type":"error"},{"inputs":[],"name":"PoolDurationElapsed","type":"error"},{"inputs":[],"name":"ProtocolAdminNotAllowed","type":"error"},{"inputs":[],"name":"SocialEngagementNotConfigured","type":"error"},{"inputs":[],"name":"ZeroAddress","type":"error"},{"inputs":[],"name":"ZeroQuantity","type":"error"},{"inputs":[],"name":"ZeroSlotFee","type":"error"},{"inputs":[],"name":"NotAWinner","type":"error"},{"inputs":[],"name":"NoPrizesToClaim","type":"error"},{"inputs":[],"name":"InvalidPrizeAmount","type":"error"},{"inputs":[],"name":"PrizeTransferFailed","type":"error"},{"inputs":[],"name":"InvalidPrizeCollection","type":"error"},{"inputs":[],"name":"InvalidPoolState","type":"error"},{"inputs":[],"name":"UnauthorizedCaller","type":"error"},{"inputs":[],"name":"ExceedsWinnersCount","type":"error"},{"inputs":[],"name":"MintingNotSupported","type":"error"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"reason","type":"string"}],"name":"BatchProcessingFailed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes","name":"lowLevelData","type":"bytes"}],"name":"BatchProcessingFailedBytes","type":"event"},{"anonymous":false,"inputs":[],"name":"FullRefundEnabledForDeletion","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"participant","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"FullRefundForDeletion","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[],"name":"PoolActivated","type":"event"},{"anonymous":false,"inputs":[],"name":"PoolDeleted","type":"event"},{"anonymous":false,"inputs":[],"name":"PoolEnded","type":"event"},{"anonymous":false,"inputs":[],"name":"PoolUnengaged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"winner","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"PrizeClaimed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"requestId","type":"uint256"}],"name":"RandomRequested","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"participant","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RefundClaimed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"recipient","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RevenueWithdrawn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"participant","type":"address"},{"indexed":false,"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"SlotsPurchased","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"reason","type":"string"}],"name":"VRFRequestFailed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes","name":"lowLevelData","type":"bytes"}],"name":"VRFRequestFailedBytes","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address[]","name":"winners","type":"address[]"}],"name":"WinnersSelected","type":"event"},{"inputs":[{"internalType":"uint256","name":"batchRandomSeed","type":"uint256"}],"name":"_processBatchWithRandomness","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"activate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"amountPerWinner","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"claimPrize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"claimRefund","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"claimedWins","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"creationFeePercentage","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"creator","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"currentBatchSize","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"deletePool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"duration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"endPool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"endTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"erc20PrizeAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"erc20PrizeToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"erc721EscrowClaimed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getActualPoolDuration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getParticipantsCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"participant","type":"address"}],"name":"getRefundableAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSlotLimit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"participant","type":"address"}],"name":"getSlotsPurchased","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getUniqueParticipantsCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"globalFeeProtocolRevenue","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"globalFeeRefundablePool","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"hasClaimedGlobalFeeRefund","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"hasCompletedSocialEngagement","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"holderTokenAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"holderTokenId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"holderTokenStandard","outputs":[{"internalType":"enum PrizeTypes.Standard","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"i_vrfCoordinator","outputs":[{"internalType":"contract VRFCoordinatorV2PlusInterface","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_manager","type":"address"},{"internalType":"string","name":"_name","type":"string"},{"internalType":"bool","name":"_isPrized","type":"bool"},{"internalType":"uint256","name":"_startTime","type":"uint256"},{"internalType":"uint256","name":"_duration","type":"uint256"},{"internalType":"uint256","name":"_winnersCount","type":"uint256"},{"internalType":"bool","name":"_isEscrowedPrize","type":"bool"},{"internalType":"address","name":"_prizeCollection","type":"address"},{"internalType":"address","name":"_creator","type":"address"},{"internalType":"uint256","name":"_slotLimit","type":"uint256"},{"internalType":"uint256","name":"_slotFee","type":"uint256"},{"internalType":"uint256","name":"_maxSlotsPerParticipant","type":"uint256"},{"internalType":"enum PrizeTypes.Standard","name":"_standard","type":"uint8"},{"internalType":"uint256","name":"_prizeTokenId","type":"uint256"},{"internalType":"uint256","name":"_amountPerWinner","type":"uint256"},{"internalType":"address","name":"_erc20PrizeToken","type":"address"},{"internalType":"uint256","name":"_erc20PrizeAmount","type":"uint256"},{"internalType":"uint256","name":"_nativePrizeAmount","type":"uint256"},{"internalType":"bool","name":"_usesCustomFee","type":"bool"},{"internalType":"address","name":"_holderTokenAddress","type":"address"},{"internalType":"enum PrizeTypes.Standard","name":"_holderTokenStandard","type":"uint8"},{"internalType":"uint256","name":"_minHolderTokenBalance","type":"uint256"},{"internalType":"uint256","name":"_holderTokenId","type":"uint256"},{"internalType":"address","name":"_revenueRecipient","type":"address"},{"internalType":"bool","name":"_socialEngagementRequired","type":"bool"},{"internalType":"bool","name":"_isCollabPool","type":"bool"}],"name":"initialize","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"isCollabPool","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isEscrowedPrize","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isPrized","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isRefundable","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isUniqueParticipant","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxSlotsPerParticipant","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minHolderTokenBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"winner","type":"address"}],"name":"mintToWinner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nativePrizeAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256[]","name":"","type":"uint256[]"},{"internalType":"uint256[]","name":"","type":"uint256[]"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"onERC1155BatchReceived","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"onERC1155Received","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"onERC721Received","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"participants","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pendingProtocolFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"participant","type":"address"}],"name":"prizeClaimed","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"prizeCollection","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"prizeTokenId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"prizesClaimedCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"protocolFeePercentage","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"protocolFeeTaken","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"quantity","type":"uint256"},{"internalType":"uint256","name":"_nonce","type":"uint256"},{"internalType":"uint256","name":"_deadline","type":"uint256"},{"internalType":"bytes","name":"_signature","type":"bytes"}],"name":"purchaseSlots","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"randomRequested","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"randomSeed","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"randomnessUsed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"requestId","type":"uint256"},{"internalType":"uint256[]","name":"randomWords","type":"uint256[]"}],"name":"rawFulfillRandomWords","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"refundableAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"refundedNonWinningSlots","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"removeFromVRFSubscription","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"requestRandomWords","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"revenueRecipient","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"s_vrf_callbackGasLimit","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"s_vrf_keyHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"s_vrf_lastRequestId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"s_vrf_requestConfirmations","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"s_vrf_subscriptionId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"shuffleStartIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"slotFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"slotLimit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"slotsPurchased","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"socialEngagementRequired","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"standard","outputs":[{"internalType":"enum PrizeTypes.Standard","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"startTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"state","outputs":[{"internalType":"enum IPool.PoolState","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalCreatorRevenue","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalGlobalFeeRevenue","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalRefundableAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"uniqueParticipantsCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"usesCustomFee","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"wasDeletedForFullRefund","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"winners","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"winnersCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"winnersSelected","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"winsPerAddress","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"withdrawCreatorRevenue","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawEscrowedPrize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawProtocolRevenue","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),jV=[{inputs:[{internalType:"address",name:"",type:"address"}],name:"tasks",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"},{internalType:"address",name:"_pool",type:"address"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"verify",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"signer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"usedSignatures",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],PV=["function allowance(address owner, address spender) view returns (uint256)","function approve(address spender, uint256 amount) returns (bool)","function decimals() view returns (uint8)"],ft={protocolManager:_V,poolDeployer:CV,revenueManager:SV,nftFactory:EV,erc721Prize:TV,erc1155Prize:NV,socialEngagementManager:jV,pool:AV,erc20:PV};var RV=t=>{switch(t){case"success":return DV;case"info":return LV;case"warning":return OV;case"error":return FV;default:return null}},IV=Array(12).fill(0),MV=({visible:t,className:e})=>ve.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ve.createElement("div",{className:"sonner-spinner"},IV.map((r,n)=>ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),DV=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),OV=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),LV=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),FV=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),zV=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),BV=()=>{let[t,e]=ve.useState(document.hidden);return ve.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Sk=1,$V=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Sk++,s=this.toasts.find(a=>a.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:r}),{...a,...t,id:i,dismissible:o,title:r}):a):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0,s,o=n.then(async c=>{if(s=["resolve",c],ve.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(VV(c)&&!c.ok){i=!1;let d=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,f=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:r,type:"error",message:d,description:f})}else if(e.success!==void 0){i=!1;let d=typeof e.success=="function"?await e.success(c):e.success,f=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"success",message:d,description:f})}}).catch(async c=>{if(s=["reject",c],e.error!==void 0){i=!1;let d=typeof e.error=="function"?await e.error(c):e.error,f=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"error",message:d,description:f})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=e.finally)==null||c.call(e)}),a=()=>new Promise((c,d)=>o.then(()=>s[0]==="reject"?d(s[1]):c(s[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||Sk++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},cs=new $V,UV=(t,e)=>{let r=(e==null?void 0:e.id)||Sk++;return cs.addToast({title:t,...e,id:r}),r},VV=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",WV=UV,qV=()=>cs.toasts,HV=()=>cs.getActiveToasts(),qi=Object.assign(WV,{success:cs.success,info:cs.info,warning:cs.warning,error:cs.error,custom:cs.custom,message:cs.message,promise:cs.promise,dismiss:cs.dismiss,loading:cs.loading},{getHistory:qV,getToasts:HV});function GV(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}GV(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Dy(t){return t.label!==void 0}var KV=3,YV="32px",JV="16px",XA=4e3,XV=356,QV=14,ZV=20,eW=200;function Fo(...t){return t.filter(Boolean).join(" ")}function tW(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var rW=t=>{var e,r,n,i,s,o,a,c,d,f,p;let{invert:g,toast:m,unstyled:v,interacting:x,setHeights:w,visibleToasts:T,heights:j,index:P,toasts:S,expanded:B,removeToast:$,defaultRichColors:W,closeButton:G,style:q,cancelButtonStyle:H,actionButtonStyle:J,className:V="",descriptionClassName:F="",duration:b,position:A,gap:O,loadingIcon:R,expandByDefault:k,classNames:I,icons:N,closeButtonAriaLabel:D="Close toast",pauseWhenPageIsHidden:E}=t,[M,Z]=ve.useState(null),[z,K]=ve.useState(null),[Y,Q]=ve.useState(!1),[ee,ae]=ve.useState(!1),[ne,de]=ve.useState(!1),[xe,me]=ve.useState(!1),[_e,Xe]=ve.useState(!1),[le,Ye]=ve.useState(0),[jt,st]=ve.useState(0),De=ve.useRef(m.duration||b||XA),Jt=ve.useRef(null),ot=ve.useRef(null),ht=P===0,Ie=P+1<=T,se=m.type,he=m.dismissible!==!1,Le=m.className||"",Ae=m.descriptionClassName||"",Me=ve.useMemo(()=>j.findIndex(Pe=>Pe.toastId===m.id)||0,[j,m.id]),Gt=ve.useMemo(()=>{var Pe;return(Pe=m.closeButton)!=null?Pe:G},[m.closeButton,G]),Qe=ve.useMemo(()=>m.duration||b||XA,[m.duration,b]),_t=ve.useRef(0),Wt=ve.useRef(0),Ct=ve.useRef(0),nt=ve.useRef(null),[Xt,xt]=A.split("-"),Fe=ve.useMemo(()=>j.reduce((Pe,yt,at)=>at>=Me?Pe:Pe+yt.height,0),[j,Me]),Vr=BV(),Tt=m.invert||g,St=se==="loading";Wt.current=ve.useMemo(()=>Me*O+Fe,[Me,Fe]),ve.useEffect(()=>{De.current=Qe},[Qe]),ve.useEffect(()=>{Q(!0)},[]),ve.useEffect(()=>{let Pe=ot.current;if(Pe){let yt=Pe.getBoundingClientRect().height;return st(yt),w(at=>[{toastId:m.id,height:yt,position:m.position},...at]),()=>w(at=>at.filter(Re=>Re.toastId!==m.id))}},[w,m.id]),ve.useLayoutEffect(()=>{if(!Y)return;let Pe=ot.current,yt=Pe.style.height;Pe.style.height="auto";let at=Pe.getBoundingClientRect().height;Pe.style.height=yt,st(at),w(Re=>Re.find(Be=>Be.toastId===m.id)?Re.map(Be=>Be.toastId===m.id?{...Be,height:at}:Be):[{toastId:m.id,height:at,position:m.position},...Re])},[Y,m.title,m.description,w,m.id]);let pr=ve.useCallback(()=>{ae(!0),Ye(Wt.current),w(Pe=>Pe.filter(yt=>yt.toastId!==m.id)),setTimeout(()=>{$(m)},eW)},[m,$,w,Wt]);ve.useEffect(()=>{if(m.promise&&se==="loading"||m.duration===1/0||m.type==="loading")return;let Pe;return B||x||E&&Vr?(()=>{if(Ct.current<_t.current){let yt=new Date().getTime()-_t.current;De.current=De.current-yt}Ct.current=new Date().getTime()})():De.current!==1/0&&(_t.current=new Date().getTime(),Pe=setTimeout(()=>{var yt;(yt=m.onAutoClose)==null||yt.call(m,m),pr()},De.current)),()=>clearTimeout(Pe)},[B,x,m,se,E,Vr,pr]),ve.useEffect(()=>{m.delete&&pr()},[pr,m.delete]);function qt(){var Pe,yt,at;return N!=null&&N.loading?ve.createElement("div",{className:Fo(I==null?void 0:I.loader,(Pe=m==null?void 0:m.classNames)==null?void 0:Pe.loader,"sonner-loader"),"data-visible":se==="loading"},N.loading):R?ve.createElement("div",{className:Fo(I==null?void 0:I.loader,(yt=m==null?void 0:m.classNames)==null?void 0:yt.loader,"sonner-loader"),"data-visible":se==="loading"},R):ve.createElement(MV,{className:Fo(I==null?void 0:I.loader,(at=m==null?void 0:m.classNames)==null?void 0:at.loader),visible:se==="loading"})}return ve.createElement("li",{tabIndex:0,ref:ot,className:Fo(V,Le,I==null?void 0:I.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,I==null?void 0:I.default,I==null?void 0:I[se],(r=m==null?void 0:m.classNames)==null?void 0:r[se]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:W,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":Y,"data-promise":!!m.promise,"data-swiped":_e,"data-removed":ee,"data-visible":Ie,"data-y-position":Xt,"data-x-position":xt,"data-index":P,"data-front":ht,"data-swiping":ne,"data-dismissible":he,"data-type":se,"data-invert":Tt,"data-swipe-out":xe,"data-swipe-direction":z,"data-expanded":!!(B||k&&Y),style:{"--index":P,"--toasts-before":P,"--z-index":S.length-P,"--offset":`${ee?le:Wt.current}px`,"--initial-height":k?"auto":`${jt}px`,...q,...m.style},onDragEnd:()=>{de(!1),Z(null),nt.current=null},onPointerDown:Pe=>{St||!he||(Jt.current=new Date,Ye(Wt.current),Pe.target.setPointerCapture(Pe.pointerId),Pe.target.tagName!=="BUTTON"&&(de(!0),nt.current={x:Pe.clientX,y:Pe.clientY}))},onPointerUp:()=>{var Pe,yt,at,Re;if(xe||!he)return;nt.current=null;let Be=Number(((Pe=ot.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ze=Number(((yt=ot.current)==null?void 0:yt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),we=new Date().getTime()-((at=Jt.current)==null?void 0:at.getTime()),Ue=M==="x"?Be:ze,Te=Math.abs(Ue)/we;if(Math.abs(Ue)>=ZV||Te>.11){Ye(Wt.current),(Re=m.onDismiss)==null||Re.call(m,m),K(M==="x"?Be>0?"right":"left":ze>0?"down":"up"),pr(),me(!0),Xe(!1);return}de(!1),Z(null)},onPointerMove:Pe=>{var yt,at,Re,Be;if(!nt.current||!he||((yt=window.getSelection())==null?void 0:yt.toString().length)>0)return;let ze=Pe.clientY-nt.current.y,we=Pe.clientX-nt.current.x,Ue=(at=t.swipeDirections)!=null?at:tW(A);!M&&(Math.abs(we)>1||Math.abs(ze)>1)&&Z(Math.abs(we)>Math.abs(ze)?"x":"y");let Te={x:0,y:0};M==="y"?(Ue.includes("top")||Ue.includes("bottom"))&&(Ue.includes("top")&&ze<0||Ue.includes("bottom")&&ze>0)&&(Te.y=ze):M==="x"&&(Ue.includes("left")||Ue.includes("right"))&&(Ue.includes("left")&&we<0||Ue.includes("right")&&we>0)&&(Te.x=we),(Math.abs(Te.x)>0||Math.abs(Te.y)>0)&&Xe(!0),(Re=ot.current)==null||Re.style.setProperty("--swipe-amount-x",`${Te.x}px`),(Be=ot.current)==null||Be.style.setProperty("--swipe-amount-y",`${Te.y}px`)}},Gt&&!m.jsx?ve.createElement("button",{"aria-label":D,"data-disabled":St,"data-close-button":!0,onClick:St||!he?()=>{}:()=>{var Pe;pr(),(Pe=m.onDismiss)==null||Pe.call(m,m)},className:Fo(I==null?void 0:I.closeButton,(i=m==null?void 0:m.classNames)==null?void 0:i.closeButton)},(s=N==null?void 0:N.close)!=null?s:zV):null,m.jsx||C.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:ve.createElement(ve.Fragment,null,se||m.icon||m.promise?ve.createElement("div",{"data-icon":"",className:Fo(I==null?void 0:I.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||qt():null,m.type!=="loading"?m.icon||(N==null?void 0:N[se])||RV(se):null):null,ve.createElement("div",{"data-content":"",className:Fo(I==null?void 0:I.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},ve.createElement("div",{"data-title":"",className:Fo(I==null?void 0:I.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?ve.createElement("div",{"data-description":"",className:Fo(F,Ae,I==null?void 0:I.description,(d=m==null?void 0:m.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),C.isValidElement(m.cancel)?m.cancel:m.cancel&&Dy(m.cancel)?ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||H,onClick:Pe=>{var yt,at;Dy(m.cancel)&&he&&((at=(yt=m.cancel).onClick)==null||at.call(yt,Pe),pr())},className:Fo(I==null?void 0:I.cancelButton,(f=m==null?void 0:m.classNames)==null?void 0:f.cancelButton)},m.cancel.label):null,C.isValidElement(m.action)?m.action:m.action&&Dy(m.action)?ve.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||J,onClick:Pe=>{var yt,at;Dy(m.action)&&((at=(yt=m.action).onClick)==null||at.call(yt,Pe),!Pe.defaultPrevented&&pr())},className:Fo(I==null?void 0:I.actionButton,(p=m==null?void 0:m.classNames)==null?void 0:p.actionButton)},m.action.label):null))};function QA(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function nW(t,e){let r={};return[t,e].forEach((n,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",a=s?JV:YV;function c(d){["top","right","bottom","left"].forEach(f=>{r[`${o}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${o}-${d}`]=a:r[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(a)}),r}var iW=C.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:c,mobileOffset:d,theme:f="light",richColors:p,duration:g,style:m,visibleToasts:v=KV,toastOptions:x,dir:w=QA(),gap:T=QV,loadingIcon:j,icons:P,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:B}=t,[$,W]=ve.useState([]),G=ve.useMemo(()=>Array.from(new Set([n].concat($.filter(E=>E.position).map(E=>E.position)))),[$,n]),[q,H]=ve.useState([]),[J,V]=ve.useState(!1),[F,b]=ve.useState(!1),[A,O]=ve.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=ve.useRef(null),k=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=ve.useRef(null),N=ve.useRef(!1),D=ve.useCallback(E=>{W(M=>{var Z;return(Z=M.find(z=>z.id===E.id))!=null&&Z.delete||cs.dismiss(E.id),M.filter(({id:z})=>z!==E.id)})},[]);return ve.useEffect(()=>cs.subscribe(E=>{if(E.dismiss){W(M=>M.map(Z=>Z.id===E.id?{...Z,delete:!0}:Z));return}setTimeout(()=>{uM.flushSync(()=>{W(M=>{let Z=M.findIndex(z=>z.id===E.id);return Z!==-1?[...M.slice(0,Z),{...M[Z],...E},...M.slice(Z+1)]:[E,...M]})})})}),[]),ve.useEffect(()=>{if(f!=="system"){O(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?O("dark"):O("light")),typeof window>"u")return;let E=window.matchMedia("(prefers-color-scheme: dark)");try{E.addEventListener("change",({matches:M})=>{O(M?"dark":"light")})}catch{E.addListener(({matches:Z})=>{try{O(Z?"dark":"light")}catch(z){console.error(z)}})}},[f]),ve.useEffect(()=>{$.length<=1&&V(!1)},[$]),ve.useEffect(()=>{let E=M=>{var Z,z;i.every(K=>M[K]||M.code===K)&&(V(!0),(Z=R.current)==null||Z.focus()),M.code==="Escape"&&(document.activeElement===R.current||(z=R.current)!=null&&z.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[i]),ve.useEffect(()=>{if(R.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,N.current=!1)}},[R.current]),ve.createElement("section",{ref:e,"aria-label":`${S} ${k}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},G.map((E,M)=>{var Z;let[z,K]=E.split("-");return $.length?ve.createElement("ol",{key:E,dir:w==="auto"?QA():w,tabIndex:-1,ref:R,className:a,"data-sonner-toaster":!0,"data-theme":A,"data-y-position":z,"data-lifted":J&&$.length>1&&!s,"data-x-position":K,style:{"--front-toast-height":`${((Z=q[0])==null?void 0:Z.height)||0}px`,"--width":`${XV}px`,"--gap":`${T}px`,...m,...nW(c,d)},onBlur:Y=>{N.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(N.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||N.current||(N.current=!0,I.current=Y.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{F||V(!1)},onDragEnd:()=>V(!1),onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||b(!0)},onPointerUp:()=>b(!1)},$.filter(Y=>!Y.position&&M===0||Y.position===E).map((Y,Q)=>{var ee,ae;return ve.createElement(rW,{key:Y.id,icons:P,index:Q,toast:Y,defaultRichColors:p,duration:(ee=x==null?void 0:x.duration)!=null?ee:g,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:r,visibleToasts:v,closeButton:(ae=x==null?void 0:x.closeButton)!=null?ae:o,interacting:F,position:E,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:D,toasts:$.filter(ne=>ne.position==Y.position),heights:q.filter(ne=>ne.position==Y.position),setHeights:H,expandByDefault:s,gap:T,loadingIcon:j,expanded:J,pauseWhenPageIsHidden:B,swipeDirections:t.swipeDirections})})):null}))});class sW{constructor(){this.recentToasts=new Map,this.cleanupInterval=5e3,this.maxDuplicateWindow=3e3,setInterval(()=>{const e=Date.now();for(const[r,n]of this.recentToasts.entries())e-n>this.cleanupInterval&&this.recentToasts.delete(r)},this.cleanupInterval)}generateToastKey(e,r="default"){const n=String(e).toLowerCase().replace(/\s+/g," ").trim().replace(/0x[a-f0-9]{40,}/gi,"[address]").replace(/transaction:\s*0x[a-f0-9]+/gi,"[transaction]").replace(/\d+(\.\d+)?\s*(eth|matic|avax|bnb)/gi,"[amount]").replace(/attempt\s+\d+\/\d+/gi,"[attempt]");return`${r}:${n}`}isDuplicate(e,r="default"){const n=this.generateToastKey(e,r),i=Date.now(),s=this.recentToasts.get(n);return s&&i-s<this.maxDuplicateWindow?!0:(this.recentToasts.set(n,i),!1)}error(e,r={}){if(this.isDuplicate(e,"error")){console.log("Duplicate error toast prevented:",e);return}const n=this.processErrorMessage(e);return qi.error(n,{duration:4e3,...r})}success(e,r={}){if(this.isDuplicate(e,"success")){console.log("Duplicate success toast prevented:",e);return}return qi.success(e,{duration:3e3,...r})}info(e,r={}){if(this.isDuplicate(e,"info")){console.log("Duplicate info toast prevented:",e);return}return qi.info(e,{duration:3e3,...r})}warning(e,r={}){if(this.isDuplicate(e,"warning")){console.log("Duplicate warning toast prevented:",e);return}return qi.warning(e,{duration:4e3,...r})}processErrorMessage(e){if(!e)return"An unknown error occurred";let r=typeof e=="string"?e:e.message||e.toString();return r=r.replace(/^Error:\s*/i,"").replace(/^execution reverted:\s*/i,"").replace(/^call exception:\s*/i,"").replace(/^missing revert data in call exception;\s*/i,"").replace(/user rejected transaction/i,"Transaction was cancelled").replace(/insufficient funds/i,"Insufficient funds for transaction").replace(/gas required exceeds allowance/i,"Transaction requires more gas than available").replace(/nonce too low/i,"Transaction nonce error - please try again").replace(/replacement transaction underpriced/i,"Transaction fee too low - please increase gas price").replace(/network error/i,"Network connection error").replace(/timeout/i,"Request timed out").replace(/rate limit/i,"Too many requests - please wait a moment").replace(/contract not deployed/i,"Smart contract not found on this network").replace(/method not found/i,"Contract method not available").replace(/^./,n=>n.toUpperCase()),r.length>150&&(r=r.substring(0,147)+"..."),r}forceError(e,r={}){const n=this.processErrorMessage(e);return qi.error(n,{duration:4e3,...r})}clearHistory(){this.recentToasts.clear()}loading(e,r={}){return qi.loading(e,r)}dismiss(e){return qi.dismiss(e)}promise(e,r={}){return qi.promise(e,r)}}const te=new sW,oW=({...t})=>l.jsx(iW,{theme:"dark",className:"toaster group",position:"bottom-right",expand:!0,richColors:!1,closeButton:!0,...t}),SC=()=>{if(typeof window>"u")return{name:"unknown",version:"unknown"};const t=navigator.userAgent,e={chrome:/Chrome\/(\d+)/.test(t),firefox:/Firefox\/(\d+)/.test(t),safari:/Safari\/(\d+)/.test(t)&&!/Chrome/.test(t),edge:/Edg\/(\d+)/.test(t),opera:/OPR\/(\d+)/.test(t),brave:navigator.brave&&navigator.brave.isBrave},r=Object.keys(e).find(s=>e[s])||"unknown",n=t.match(new RegExp(`${r==="edge"?"Edg":r}\\/(\\d+)`,"i")),i=n?n[1]:"unknown";return{name:r,version:i,userAgent:t,isMetaMaskBrowser:t.includes("MetaMask"),isMobile:/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)}},EC=()=>{const t=SC(),e=t.isMobile||window.innerWidth<768,r={firefox:{timeout:15e3,retries:3,batchSize:3,useSequential:!0,delayBetweenCalls:200},safari:{timeout:2e4,retries:4,batchSize:2,useSequential:!0,delayBetweenCalls:300},edge:{timeout:12e3,retries:3,batchSize:4,useSequential:!1,delayBetweenCalls:100},chrome:{timeout:1e4,retries:3,batchSize:6,useSequential:!1,delayBetweenCalls:50},default:{timeout:12e3,retries:3,batchSize:4,useSequential:e,delayBetweenCalls:100}},n=r[t.name]||r.default;return e&&(n.timeout*=1.5,n.retries=Math.min(n.retries+1,5),n.batchSize=Math.min(n.batchSize,3),n.useSequential=!0,n.delayBetweenCalls*=2),{...n,browserInfo:t,isMobile:e}},ax=async(t,e,r={})=>{const{timeout:n=1e4,retries:i=3,fallbackValue:s=null,required:o=!1}=r;for(let a=1;a<=i;a++)try{const c=new Promise((f,p)=>setTimeout(()=>p(new Error(`Timeout calling ${e}`)),n));return{success:!0,result:await Promise.race([t(),c]),error:null}}catch(c){if(console.warn(`Attempt ${a}/${i} failed for ${e}:`,c.message),(c.message.includes("missing revert data")||c.message.includes("call exception")||c.code==="CALL_EXCEPTION")&&a<i){await new Promise(f=>setTimeout(f,1e3*a));continue}if(a===i){if(o)throw new Error(`Failed to call ${e} after ${i} attempts: ${c.message}`);return{success:!1,result:s,error:c.message}}}},aW=async(t,e={})=>{const r=EC(),{useSequential:n=r.useSequential,batchSize:i=r.batchSize,delayBetweenCalls:s=r.delayBetweenCalls,timeout:o=r.timeout}=e;if(console.log(` Batch contract calls - Browser: ${r.browserInfo.name}, Sequential: ${n}, Batch size: ${i}`),n){const a=[];for(let c=0;c<t.length;c++){const d=t[c];try{s>0&&c>0&&await new Promise(p=>setTimeout(p,s));const f=await ax(d.method,d.name,{timeout:o,fallbackValue:d.fallback,required:d.required});a.push(f.success?f.result:d.fallback)}catch(f){if(console.error(`Sequential call failed for ${d.name}:`,f),d.required)throw f;a.push(d.fallback)}}return a}else{const a=[];for(let c=0;c<t.length;c+=i){const d=t.slice(c,c+i);try{const f=d.map(g=>ax(g.method,g.name,{timeout:o,fallbackValue:g.fallback,required:g.required}).then(m=>m.success?m.result:g.fallback).catch(m=>{if(console.error(`Batch call failed for ${g.name}:`,m),g.required)throw m;return g.fallback})),p=await Promise.all(f);a.push(...p),c+i<t.length&&s>0&&await new Promise(g=>setTimeout(g,s))}catch(f){console.error("Batch execution failed:",f),d.forEach(p=>{if(p.required)throw f;a.push(p.fallback)})}}return a}},lW=(t,e)=>{try{return typeof t[e]=="function"}catch{return!1}},rl=(t,e,r=null)=>lW(t,e)?(...n)=>t[e](...n):(console.warn(`Method ${e} not found on contract`),()=>Promise.resolve(r)),w4=async t=>{if(!t)return 0;try{return(await t.getParticipantsCount()).toNumber()}catch(e){console.warn("getParticipantsCount failed, using fallback method:",e.message);let r=0,n=0;for(;;)try{await t.participants(n),r++,n++}catch{break}return r}},Ei=t=>{var r;if(!t)return"Unknown error occurred";let e="";return typeof t=="string"?e=t:t.reason?e=t.reason:(r=t.data)!=null&&r.message?e=t.data.message:t.message?e=t.message:e=t.toString(),e=e.replace(/^Error:\s*/i,"").replace(/^execution reverted:\s*/i,"").replace(/^call exception:\s*/i,"").replace(/^missing revert data in call exception;\s*/i,"").replace(/Transaction reverted without a reason string/i,"Transaction failed").trim(),e||"Unknown error occurred"},Zx=(t,e={})=>{const r=Ei(t).toLowerCase();return!(r.includes("user rejected")||r.includes("user denied")||(t==null?void 0:t.code)===4001||e.isReadOnly&&(r.includes("not found")||r.includes("does not exist")||r.includes("no tickets")||r.includes("unavailable")||r.includes("400")||r.includes("non-200 status code")||r.includes("failed to load")||r.includes("no data")||r.includes("empty result")||r.includes("no records"))||r.includes("network")||r.includes("timeout")||r.includes("connection")||r.includes("rate limit"))},Bp=(t,e={})=>{const{context:r={},showToast:n=!0,logError:i=!0,fallbackMessage:s="An error occurred"}=e;i&&console.error("Error handled:",t,r);const o=Ei(t);return n&&Zx(t,r)&&te.error(o||s),o},cW=(t,e={})=>{const{operation:r="transaction",showToast:n=!0}=e,i=Ei(t);return console.error(`Transaction error in ${r}:`,t),n&&Zx(t,{})&&te.error(i),i},uW=(t,e,r={})=>{const{showToast:n=!1,isRequired:i=!1}=r,s=Ei(t);return console.warn(`Contract call failed for ${e}:`,s),n&&(i||Zx(t,{isReadOnly:!0}))&&te.error(`${e} failed: ${s}`),s},k4=()=>({handleError:(n,i={})=>Bp(n,i),handleTransactionError:(n,i={})=>cW(n,i),handleContractCallError:(n,i,s={})=>uW(n,i,s),extractRevertReason:Ei,shouldShowErrorToast:Zx}),_4=C.createContext(),Sr=()=>{const t=C.useContext(_4);if(!t)throw new Error("useContract must be used within a ContractProvider");return t},dW=({children:t})=>{const{signer:e,provider:r,connected:n,chainId:i,isInitialized:s,isReconnecting:o}=xr(),[a,c]=C.useState({}),[d,f]=C.useState(!1);C.useEffect(()=>{if(n&&e&&s&&!o){f(!1);const P=setTimeout(()=>{p(),setTimeout(()=>{f(!0)},200)},100);return()=>clearTimeout(P)}else c({}),f(!1)},[n,e,s,o,i]);const p=()=>{var S,B,$,W,G,q,H,J,V,F,b,A,O,R,k,I;const P={};try{(B=(S=Ht[i])==null?void 0:S.contractAddresses)!=null&&B.protocolManager&&(P.protocolManager=new At((W=($=Ht[i])==null?void 0:$.contractAddresses)==null?void 0:W.protocolManager,ft.protocolManager,e)),(q=(G=Ht[i])==null?void 0:G.contractAddresses)!=null&&q.poolDeployer&&(P.poolDeployer=new At((J=(H=Ht[i])==null?void 0:H.contractAddresses)==null?void 0:J.poolDeployer,ft.poolDeployer,e)),(F=(V=Ht[i])==null?void 0:V.contractAddresses)!=null&&F.revenueManager&&(P.revenueManager=new At((A=(b=Ht[i])==null?void 0:b.contractAddresses)==null?void 0:A.revenueManager,ft.revenueManager,e)),(R=(O=Ht[i])==null?void 0:O.contractAddresses)!=null&&R.nftFactory&&(P.nftFactory=new At((I=(k=Ht[i])==null?void 0:k.contractAddresses)==null?void 0:I.nftFactory,ft.nftFactory,e)),c(P)}catch(N){console.error("Error initializing contracts:",N)}},g=(P,S)=>{if(!P)return console.warn("No address provided for contract instance"),null;if(!e&&!r)return console.warn("No signer or provider available for contract instance"),null;if(!ft[S])return console.error(`ABI not found for type: ${S}`),null;try{const B=e||r;return new At(P,ft[S],B)}catch(B){return console.error(`Error creating contract instance for ${S}:`,B),null}},m=async(P,S,B={})=>{var $;try{let W;return S===void 0?W=Object.keys(B).length>0?await P(B):await P():W=await P(S,B),{success:!0,receipt:await W.wait(),hash:W.hash}}catch(W){let G="Transaction failed";return W!=null&&W.reason?G=W.reason:($=W==null?void 0:W.data)!=null&&$.message?G=W.data.message:W!=null&&W.message&&(G=W.message),console.error("Contract transaction failed:",G),{success:!1,error:G}}},v=async(P,S="unknown",...B)=>{var W;const $=EC();try{const G=await ax(()=>P(...B),S,{timeout:$.timeout,retries:$.retries,required:!1});if(G.success)return{success:!0,result:G.result};throw new Error(G.error)}catch(G){let q="Contract call failed";return G.message.includes("missing revert data")||G.message.includes("call exception")||G.code==="CALL_EXCEPTION"?q="Network connectivity issue - please try again":G!=null&&G.reason?q=G.reason:(W=G==null?void 0:G.data)!=null&&W.message?q=G.data.message:G!=null&&G.message&&(q=G.message),Bp(G,{context:{operation:S,isReadOnly:!0,isContractCall:!0},fallbackMessage:`${S} failed`}),{success:!1,error:q}}},x=ve.useRef({}),w=(P,S)=>(x.current[P]||(x.current[P]=[]),x.current[P].push(S),()=>{x.current[P]=x.current[P].filter(B=>B!==S)}),T=(P,...S)=>{x.current[P]&&x.current[P].forEach(B=>B(...S))};C.useEffect(()=>{if(!n||!e||!a.poolDeployer)return;const P=(S,B)=>{T("PoolCreated",{pool:S,creator:B})};if(a.poolDeployer.on("PoolCreated",P),a.pool){const S=$=>{T("WinnersSelected",{winners:$})};a.pool.on("WinnersSelected",S);const B=($,W)=>{T("PrizeClaimed",{winner:$,tokenId:W})};return a.pool.on("PrizeClaimed",B),()=>{a.pool.off("WinnersSelected",S),a.pool.off("PrizeClaimed",B)}}return()=>{a.poolDeployer.off("PoolCreated",P)}},[n,e,a.poolDeployer,a.pool]);const j={contracts:a,getContractInstance:g,executeTransaction:m,executeCall:v,onContractEvent:w,isContractsReady:d};return l.jsx(_4.Provider,{value:j,children:t})},C4=C.createContext(),TC=()=>{const t=C.useContext(C4);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},Ql=[{id:"light",name:"Light",icon:"Sun"},{id:"dark",name:"Dark",icon:"Moon"},{id:"dim-blue",name:"Dim Blue",icon:"Monitor"}],fW=({children:t})=>{const[e,r]=C.useState(()=>{const o=localStorage.getItem("theme");return o&&Ql.some(a=>a.id===o)?o:(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,"dark")});C.useEffect(()=>{const o=document.documentElement;Ql.forEach(a=>{o.classList.remove(a.id)}),o.classList.add(e),localStorage.setItem("theme",e)},[e]);const s={theme:e,setTheme:r,cycleTheme:()=>{const a=(Ql.findIndex(c=>c.id===e)+1)%Ql.length;r(Ql[a].id)},getCurrentTheme:()=>Ql.find(o=>o.id===e)||Ql[1],availableThemes:Ql,isDark:e==="dark",isLight:e==="light",isDimBlue:e==="dim-blue"};return l.jsx(C4.Provider,{value:s,children:t})},S4=C.createContext(),NC=()=>{const t=C.useContext(S4);if(!t)throw new Error("useCollabDetection must be used within a CollabDetectionProvider");return t},hW=({children:t})=>{const[e,r]=C.useState({}),[n,i]=C.useState({}),s=C.useCallback((m,v)=>{r(x=>({...x,[m]:v})),i(x=>{const w={...x};return delete w[m],w})},[]),o=C.useCallback((m,v)=>{i(x=>({...x,[m]:v}))},[]),a=C.useCallback(m=>e[m],[e]),c=C.useCallback(m=>n[m]||!1,[n]),d=C.useCallback(m=>{const v=e[m.address];return v==="nft_collab"||v==="whitelist_collab"?v:v===void 0&&n[m.address]&&m.isCollabPool||(v==="not_collab"||v===void 0)&&m.isCollabPool?"nft_collab":m.isPrized?"prized":"non_prized"},[e,n]),f=C.useCallback(m=>{const v={non_prized:0,prized:0,nft_collab:0,whitelist_collab:0};return m.forEach(x=>{const w=d(x);v[w]=(v[w]||0)+1}),v},[d]),p=C.useCallback((m,v)=>!v||v.length===0?m:m.filter(x=>{const w=d(x);return v.includes(w)}),[d]),g={collabResults:e,loadingStates:n,updateCollabStatus:s,setCollabLoading:o,getCollabStatus:a,isCollabLoading:c,getEnhancedRaffleType:d,countEnhancedRaffleTypes:f,filterByEnhancedType:p};return l.jsx(S4.Provider,{value:g,children:t})},AC=C.createContext({});function jC(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const PC=typeof window<"u",E4=PC?C.useLayoutEffect:C.useEffect,ev=C.createContext(null);function RC(t,e){t.indexOf(e)===-1&&t.push(e)}function IC(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const bl=(t,e,r)=>r>e?e:r<t?t:r;let MC=()=>{};const wl={},T4=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function N4(t){return typeof t=="object"&&t!==null}const A4=t=>/^0[^.\s]+$/u.test(t);function DC(t){let e;return()=>(e===void 0&&(e=t()),e)}const xo=t=>t,pW=(t,e)=>r=>e(t(r)),ag=(...t)=>t.reduce(pW),vm=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class OC{constructor(){this.subscriptions=[]}add(e){return RC(this.subscriptions,e),()=>IC(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ma=t=>t*1e3,po=t=>t/1e3;function j4(t,e){return e?t*(1e3/e):0}const P4=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,mW=1e-7,gW=12;function yW(t,e,r,n,i){let s,o,a=0;do o=e+(r-e)/2,s=P4(o,n,i)-t,s>0?r=o:e=o;while(Math.abs(s)>mW&&++a<gW);return o}function lg(t,e,r,n){if(t===e&&r===n)return xo;const i=s=>yW(s,0,1,t,r);return s=>s===0||s===1?s:P4(i(s),e,n)}const R4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,I4=t=>e=>1-t(1-e),M4=lg(.33,1.53,.69,.99),LC=I4(M4),D4=R4(LC),O4=t=>(t*=2)<1?.5*LC(t):.5*(2-Math.pow(2,-10*(t-1))),FC=t=>1-Math.sin(Math.acos(t)),L4=I4(FC),F4=R4(FC),xW=lg(.42,0,1,1),vW=lg(0,0,.58,1),z4=lg(.42,0,.58,1),bW=t=>Array.isArray(t)&&typeof t[0]!="number",B4=t=>Array.isArray(t)&&typeof t[0]=="number",wW={linear:xo,easeIn:xW,easeInOut:z4,easeOut:vW,circIn:FC,circInOut:F4,circOut:L4,backIn:LC,backInOut:D4,backOut:M4,anticipate:O4},kW=t=>typeof t=="string",ZA=t=>{if(B4(t)){MC(t.length===4);const[e,r,n,i]=t;return lg(e,r,n,i)}else if(kW(t))return wW[t];return t},Oy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function _W(t,e){let r=new Set,n=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(f){o.has(f)&&(d.schedule(f),t()),f(a)}const d={schedule:(f,p=!1,g=!1)=>{const v=g&&i?r:n;return p&&o.add(f),v.has(f)||v.add(f),f},cancel:f=>{n.delete(f),o.delete(f)},process:f=>{if(a=f,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(c),r.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const CW=40;function $4(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=Oy.reduce((P,S)=>(P[S]=_W(s),P),{}),{setup:a,read:c,resolveKeyframes:d,preUpdate:f,update:p,preRender:g,render:m,postRender:v}=o,x=()=>{const P=wl.useManualTiming?i.timestamp:performance.now();r=!1,wl.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(P-i.timestamp,CW),1)),i.timestamp=P,i.isProcessing=!0,a.process(i),c.process(i),d.process(i),f.process(i),p.process(i),g.process(i),m.process(i),v.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(x))},w=()=>{r=!0,n=!0,i.isProcessing||t(x)};return{schedule:Oy.reduce((P,S)=>{const B=o[S];return P[S]=($,W=!1,G=!1)=>(r||w(),B.schedule($,W,G)),P},{}),cancel:P=>{for(let S=0;S<Oy.length;S++)o[Oy[S]].cancel(P)},state:i,steps:o}}const{schedule:Xr,cancel:Sc,state:ai,steps:Hw}=$4(typeof requestAnimationFrame<"u"?requestAnimationFrame:xo,!0);let I0;function SW(){I0=void 0}const hs={now:()=>(I0===void 0&&hs.set(ai.isProcessing||wl.useManualTiming?ai.timestamp:performance.now()),I0),set:t=>{I0=t,queueMicrotask(SW)}},U4=t=>e=>typeof e=="string"&&e.startsWith(t),zC=U4("--"),EW=U4("var(--"),BC=t=>EW(t)?TW.test(t.split("/*")[0].trim()):!1,TW=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,gh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},bm={...gh,transform:t=>bl(0,1,t)},Ly={...gh,default:1},$p=t=>Math.round(t*1e5)/1e5,$C=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function NW(t){return t==null}const AW=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,UC=(t,e)=>r=>!!(typeof r=="string"&&AW.test(r)&&r.startsWith(t)||e&&!NW(r)&&Object.prototype.hasOwnProperty.call(r,e)),V4=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,o,a]=n.match($C);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},jW=t=>bl(0,255,t),Gw={...gh,transform:t=>Math.round(jW(t))},Ru={test:UC("rgb","red"),parse:V4("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Gw.transform(t)+", "+Gw.transform(e)+", "+Gw.transform(r)+", "+$p(bm.transform(n))+")"};function PW(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Ek={test:UC("#"),parse:PW,transform:Ru.transform},cg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),nc=cg("deg"),Da=cg("%"),Rt=cg("px"),RW=cg("vh"),IW=cg("vw"),ej={...Da,parse:t=>Da.parse(t)/100,transform:t=>Da.transform(t*100)},wf={test:UC("hsl","hue"),parse:V4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Da.transform($p(e))+", "+Da.transform($p(r))+", "+$p(bm.transform(n))+")"},Mn={test:t=>Ru.test(t)||Ek.test(t)||wf.test(t),parse:t=>Ru.test(t)?Ru.parse(t):wf.test(t)?wf.parse(t):Ek.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ru.transform(t):wf.transform(t),getAnimatableNone:t=>{const e=Mn.parse(t);return e.alpha=0,Mn.transform(e)}},MW=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function DW(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match($C))==null?void 0:e.length)||0)+(((r=t.match(MW))==null?void 0:r.length)||0)>0}const W4="number",q4="color",OW="var",LW="var(",tj="${}",FW=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wm(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(FW,c=>(Mn.test(c)?(n.color.push(s),i.push(q4),r.push(Mn.parse(c))):c.startsWith(LW)?(n.var.push(s),i.push(OW),r.push(c)):(n.number.push(s),i.push(W4),r.push(parseFloat(c))),++s,tj)).split(tj);return{values:r,split:a,indexes:n,types:i}}function H4(t){return wm(t).values}function G4(t){const{split:e,types:r}=wm(t),n=e.length;return i=>{let s="";for(let o=0;o<n;o++)if(s+=e[o],i[o]!==void 0){const a=r[o];a===W4?s+=$p(i[o]):a===q4?s+=Mn.transform(i[o]):s+=i[o]}return s}}const zW=t=>typeof t=="number"?0:Mn.test(t)?Mn.getAnimatableNone(t):t;function BW(t){const e=H4(t);return G4(t)(e.map(zW))}const Ec={test:DW,parse:H4,createTransformer:G4,getAnimatableNone:BW};function Kw(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function $W({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,o=0;if(!e)i=s=o=r;else{const a=r<.5?r*(1+e):r+e-r*e,c=2*r-a;i=Kw(c,a,t+1/3),s=Kw(c,a,t),o=Kw(c,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function lx(t,e){return r=>r>0?e:t}const an=(t,e,r)=>t+(e-t)*r,Yw=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},UW=[Ek,Ru,wf],VW=t=>UW.find(e=>e.test(t));function rj(t){const e=VW(t);if(!e)return!1;let r=e.parse(t);return e===wf&&(r=$W(r)),r}const nj=(t,e)=>{const r=rj(t),n=rj(e);if(!r||!n)return lx(t,e);const i={...r};return s=>(i.red=Yw(r.red,n.red,s),i.green=Yw(r.green,n.green,s),i.blue=Yw(r.blue,n.blue,s),i.alpha=an(r.alpha,n.alpha,s),Ru.transform(i))},Tk=new Set(["none","hidden"]);function WW(t,e){return Tk.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function qW(t,e){return r=>an(t,e,r)}function VC(t){return typeof t=="number"?qW:typeof t=="string"?BC(t)?lx:Mn.test(t)?nj:KW:Array.isArray(t)?K4:typeof t=="object"?Mn.test(t)?nj:HW:lx}function K4(t,e){const r=[...t],n=r.length,i=t.map((s,o)=>VC(s)(s,e[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}}function HW(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=VC(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function GW(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][n[s]],a=t.values[o]??0;r[i]=a,n[s]++}return r}const KW=(t,e)=>{const r=Ec.createTransformer(e),n=wm(t),i=wm(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Tk.has(t)&&!i.values.length||Tk.has(e)&&!n.values.length?WW(t,e):ag(K4(GW(n,i),i.values),r):lx(t,e)};function Y4(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?an(t,e,r):VC(t)(t,e)}const YW=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Xr.update(e,r),stop:()=>Sc(e),now:()=>ai.isProcessing?ai.timestamp:hs.now()}},J4=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},cx=2e4;function WC(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<cx;)e+=r,n=t.next(e);return e>=cx?1/0:e}function JW(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(WC(n),cx);return{type:"keyframes",ease:s=>n.next(i*s).value/e,duration:po(i)}}const XW=5;function X4(t,e,r){const n=Math.max(e-XW,0);return j4(r-t(n),e-n)}const dn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Jw=.001;function QW({duration:t=dn.duration,bounce:e=dn.bounce,velocity:r=dn.velocity,mass:n=dn.mass}){let i,s,o=1-e;o=bl(dn.minDamping,dn.maxDamping,o),t=bl(dn.minDuration,dn.maxDuration,po(t)),o<1?(i=d=>{const f=d*o,p=f*t,g=f-r,m=Nk(d,o),v=Math.exp(-p);return Jw-g/m*v},s=d=>{const p=d*o*t,g=p*r+r,m=Math.pow(o,2)*Math.pow(d,2)*t,v=Math.exp(-p),x=Nk(Math.pow(d,2),o);return(-i(d)+Jw>0?-1:1)*((g-m)*v)/x}):(i=d=>{const f=Math.exp(-d*t),p=(d-r)*t+1;return-Jw+f*p},s=d=>{const f=Math.exp(-d*t),p=(r-d)*(t*t);return f*p});const a=5/t,c=eq(i,s,a);if(t=Ma(t),isNaN(c))return{stiffness:dn.stiffness,damping:dn.damping,duration:t};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:t}}}const ZW=12;function eq(t,e,r){let n=r;for(let i=1;i<ZW;i++)n=n-t(n)/e(n);return n}function Nk(t,e){return t*Math.sqrt(1-e*e)}const tq=["duration","bounce"],rq=["stiffness","damping","mass"];function ij(t,e){return e.some(r=>t[r]!==void 0)}function nq(t){let e={velocity:dn.velocity,stiffness:dn.stiffness,damping:dn.damping,mass:dn.mass,isResolvedFromDuration:!1,...t};if(!ij(t,rq)&&ij(t,tq))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*bl(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:dn.mass,stiffness:i,damping:s}}else{const r=QW(t);e={...e,...r,mass:dn.mass},e.isResolvedFromDuration=!0}return e}function ux(t=dn.visualDuration,e=dn.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],a={done:!1,value:s},{stiffness:c,damping:d,mass:f,duration:p,velocity:g,isResolvedFromDuration:m}=nq({...r,velocity:-po(r.velocity||0)}),v=g||0,x=d/(2*Math.sqrt(c*f)),w=o-s,T=po(Math.sqrt(c/f)),j=Math.abs(w)<5;n||(n=j?dn.restSpeed.granular:dn.restSpeed.default),i||(i=j?dn.restDelta.granular:dn.restDelta.default);let P;if(x<1){const B=Nk(T,x);P=$=>{const W=Math.exp(-x*T*$);return o-W*((v+x*T*w)/B*Math.sin(B*$)+w*Math.cos(B*$))}}else if(x===1)P=B=>o-Math.exp(-T*B)*(w+(v+T*w)*B);else{const B=T*Math.sqrt(x*x-1);P=$=>{const W=Math.exp(-x*T*$),G=Math.min(B*$,300);return o-W*((v+x*T*w)*Math.sinh(G)+B*w*Math.cosh(G))/B}}const S={calculatedDuration:m&&p||null,next:B=>{const $=P(B);if(m)a.done=B>=p;else{let W=B===0?v:0;x<1&&(W=B===0?Ma(v):X4(P,B,$));const G=Math.abs(W)<=n,q=Math.abs(o-$)<=i;a.done=G&&q}return a.value=a.done?o:$,a},toString:()=>{const B=Math.min(WC(S),cx),$=J4(W=>S.next(B*W).value,B,30);return B+"ms "+$},toTransition:()=>{}};return S}ux.applyToOptions=t=>{const e=JW(t,100,ux);return t.ease=e.ease,t.duration=Ma(e.duration),t.type="keyframes",t};function Ak({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:d=.5,restSpeed:f}){const p=t[0],g={done:!1,value:p},m=G=>a!==void 0&&G<a||c!==void 0&&G>c,v=G=>a===void 0?c:c===void 0||Math.abs(a-G)<Math.abs(c-G)?a:c;let x=r*e;const w=p+x,T=o===void 0?w:o(w);T!==w&&(x=T-p);const j=G=>-x*Math.exp(-G/n),P=G=>T+j(G),S=G=>{const q=j(G),H=P(G);g.done=Math.abs(q)<=d,g.value=g.done?T:H};let B,$;const W=G=>{m(g.value)&&(B=G,$=ux({keyframes:[g.value,v(g.value)],velocity:X4(P,G,g.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return W(0),{calculatedDuration:null,next:G=>{let q=!1;return!$&&B===void 0&&(q=!0,S(G),W(G)),B!==void 0&&G>=B?$.next(G-B):(!q&&S(G),g)}}}function iq(t,e,r){const n=[],i=r||wl.mix||Y4,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||xo:e;a=ag(c,a)}n.push(a)}return n}function sq(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(MC(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=iq(e,n,i),c=a.length,d=f=>{if(o&&f<t[0])return e[0];let p=0;if(c>1)for(;p<t.length-2&&!(f<t[p+1]);p++);const g=vm(t[p],t[p+1],f);return a[p](g)};return r?f=>d(bl(t[0],t[s-1],f)):d}function oq(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=vm(0,e,n);t.push(an(r,1,i))}}function aq(t){const e=[0];return oq(e,t.length-1),e}function lq(t,e){return t.map(r=>r*e)}function cq(t,e){return t.map(()=>e||z4).splice(0,t.length-1)}function Up({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=bW(n)?n.map(ZA):ZA(n),s={done:!1,value:e[0]},o=lq(r&&r.length===e.length?r:aq(e),t),a=sq(o,e,{ease:Array.isArray(i)?i:cq(e,i)});return{calculatedDuration:t,next:c=>(s.value=a(c),s.done=c>=t,s)}}const uq=t=>t!==null;function qC(t,{repeat:e,repeatType:r="loop"},n,i=1){const s=t.filter(uq),a=i<0||e&&r!=="loop"&&e%2===1?0:s.length-1;return!a||n===void 0?s[a]:n}const dq={decay:Ak,inertia:Ak,tween:Up,keyframes:Up,spring:ux};function Q4(t){typeof t.type=="string"&&(t.type=dq[t.type])}class HC{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const fq=t=>t/100;class GC extends HC{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==hs.now()&&this.tick(hs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Q4(e);const{type:r=Up,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const c=r||Up;c!==Up&&typeof a[0]!="number"&&(this.mixKeyframes=ag(fq,Y4(a[0],a[1])),a=[0,100]);const d=c({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...a].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=WC(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=d}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:f,repeat:p,repeatType:g,repeatDelay:m,type:v,onUpdate:x,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const T=this.currentTime-d*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?T<0:T>i;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let P=this.currentTime,S=n;if(p){const G=Math.min(this.currentTime,i)/a;let q=Math.floor(G),H=G%1;!H&&G>=1&&(H=1),H===1&&q--,q=Math.min(q,p+1),!!(q%2)&&(g==="reverse"?(H=1-H,m&&(H-=m/a)):g==="mirror"&&(S=o)),P=bl(0,1,H)*a}const B=j?{done:!1,value:f[0]}:S.next(P);s&&(B.value=s(B.value));let{done:$}=B;!j&&c!==null&&($=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const W=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return W&&v!==Ak&&(B.value=qC(f,this.options,w,this.speed)),x&&x(B.value),W&&this.finish(),B}then(e,r){return this.finished.then(e,r)}get duration(){return po(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+po(e)}get time(){return po(this.currentTime)}set time(e){var r;e=Ma(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(hs.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=po(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=YW,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function hq(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Iu=t=>t*180/Math.PI,jk=t=>{const e=Iu(Math.atan2(t[1],t[0]));return Pk(e)},pq={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:jk,rotateZ:jk,skewX:t=>Iu(Math.atan(t[1])),skewY:t=>Iu(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Pk=t=>(t=t%360,t<0&&(t+=360),t),sj=jk,oj=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),aj=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),mq={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:oj,scaleY:aj,scale:t=>(oj(t)+aj(t))/2,rotateX:t=>Pk(Iu(Math.atan2(t[6],t[5]))),rotateY:t=>Pk(Iu(Math.atan2(-t[2],t[0]))),rotateZ:sj,rotate:sj,skewX:t=>Iu(Math.atan(t[4])),skewY:t=>Iu(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Rk(t){return t.includes("scale")?1:0}function Ik(t,e){if(!t||t==="none")return Rk(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=mq,i=r;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=pq,i=a}if(!i)return Rk(e);const s=n[e],o=i[1].split(",").map(yq);return typeof s=="function"?s(o):o[s]}const gq=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return Ik(r,e)};function yq(t){return parseFloat(t.trim())}const yh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xh=new Set(yh),lj=t=>t===gh||t===Rt,xq=new Set(["x","y","z"]),vq=yh.filter(t=>!xq.has(t));function bq(t){const e=[];return vq.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Lu={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ik(e,"x"),y:(t,{transform:e})=>Ik(e,"y")};Lu.translateX=Lu.x;Lu.translateY=Lu.y;const Fu=new Set;let Mk=!1,Dk=!1,Ok=!1;function Z4(){if(Dk){const t=Array.from(Fu).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=bq(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,o])=>{var a;(a=n.getValue(s))==null||a.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Dk=!1,Mk=!1,Fu.forEach(t=>t.complete(Ok)),Fu.clear()}function e5(){Fu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Dk=!0)})}function wq(){Ok=!0,e5(),Z4(),Ok=!1}class KC{constructor(e,r,n,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Fu.add(this),Mk||(Mk=!0,Xr.read(e5),Xr.resolveKeyframes(Z4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&r){const a=n.readValue(r,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}hq(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Fu.delete(this)}cancel(){this.state==="scheduled"&&(Fu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const kq=t=>t.startsWith("--");function _q(t,e,r){kq(e)?t.style.setProperty(e,r):t.style[e]=r}const Cq=DC(()=>window.ScrollTimeline!==void 0),Sq={};function Eq(t,e){const r=DC(t);return()=>Sq[e]??r()}const t5=Eq(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Sp=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,cj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sp([0,.65,.55,1]),circOut:Sp([.55,0,1,.45]),backIn:Sp([.31,.01,.66,-.59]),backOut:Sp([.33,1.53,.69,.99])};function r5(t,e){if(t)return typeof t=="function"?t5()?J4(t,e):"ease-out":B4(t)?Sp(t):Array.isArray(t)?t.map(r=>r5(r,e)||cj.easeOut):cj[t]}function Tq(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:c}={},d=void 0){const f={[e]:r};c&&(f.offset=c);const p=r5(a,i);Array.isArray(p)&&(f.easing=p);const g={delay:n,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return d&&(g.pseudoElement=d),t.animate(f,g)}function n5(t){return typeof t=="function"&&"applyToOptions"in t}function Nq({type:t,...e}){return n5(t)&&t5()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Aq extends HC{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,MC(typeof e.type!="string");const d=Nq(e);this.animation=Tq(r,n,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=qC(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(f):_q(r,n,f),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return po(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+po(e)}get time(){return po(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ma(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Cq()?(this.animation.timeline=e,xo):r(this)}}const i5={anticipate:O4,backInOut:D4,circInOut:F4};function jq(t){return t in i5}function Pq(t){typeof t.ease=="string"&&jq(t.ease)&&(t.ease=i5[t.ease])}const uj=10;class Rq extends Aq{constructor(e){Pq(e),Q4(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const a=new GC({...o,autoplay:!1}),c=Ma(this.finishedTime??this.time);r.setWithVelocity(a.sample(c-uj).value,a.sample(c).value,uj),a.stop()}}const dj=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ec.test(t)||t==="0")&&!t.startsWith("url("));function Iq(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function Mq(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=dj(i,e),a=dj(s,e);return!o||!a?!1:Iq(t)||(r==="spring"||n5(r))&&n}function Lk(t){t.duration=0,t.type="keyframes"}const Dq=new Set(["opacity","clipPath","filter","transform"]),Oq=DC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Lq(t){var f;const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:s,type:o}=t;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return Oq()&&r&&Dq.has(r)&&(r!=="transform"||!d)&&!c&&!n&&i!=="mirror"&&s!==0&&o!=="inertia"}const Fq=40;class zq extends HC{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:c,motionValue:d,element:f,...p}){var v;super(),this.stop=()=>{var x,w;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=hs.now();const g={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:d,element:f,...p},m=(f==null?void 0:f.KeyframeResolver)||KC;this.keyframeResolver=new m(a,(x,w,T)=>this.onKeyframesResolved(x,w,g,!T),c,d,f),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:c,isHandoff:d,onUpdate:f}=n;this.resolvedAt=hs.now(),Mq(e,s,o,a)||((wl.instantAnimations||!c)&&(f==null||f(qC(e,n,r))),e[0]=e[e.length-1],Lk(n),n.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Fq?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},m=!d&&Lq(g)?new Rq({...g,element:g.motionValue.owner.current}):new GC(g);m.finished.then(()=>this.notifyFinished()).catch(xo),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),wq()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Bq=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $q(t){const e=Bq.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function s5(t,e,r=1){const[n,i]=$q(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return T4(o)?parseFloat(o):o}return BC(i)?s5(i,e,r+1):i}function YC(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const o5=new Set(["width","height","top","left","right","bottom",...yh]),Uq={test:t=>t==="auto",parse:t=>t},a5=t=>e=>e.test(t),l5=[gh,Rt,Da,nc,IW,RW,Uq],fj=t=>l5.find(a5(t));function Vq(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||A4(t):!0}const Wq=new Set(["brightness","contrast","saturate","opacity"]);function qq(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match($C)||[];if(!n)return t;const i=r.replace(n,"");let s=Wq.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const Hq=/\b([a-z-]*)\(.*?\)/gu,Fk={...Ec,getAnimatableNone:t=>{const e=t.match(Hq);return e?e.map(qq).join(" "):t}},hj={...gh,transform:Math.round},Gq={rotate:nc,rotateX:nc,rotateY:nc,rotateZ:nc,scale:Ly,scaleX:Ly,scaleY:Ly,scaleZ:Ly,skew:nc,skewX:nc,skewY:nc,distance:Rt,translateX:Rt,translateY:Rt,translateZ:Rt,x:Rt,y:Rt,z:Rt,perspective:Rt,transformPerspective:Rt,opacity:bm,originX:ej,originY:ej,originZ:Rt},JC={borderWidth:Rt,borderTopWidth:Rt,borderRightWidth:Rt,borderBottomWidth:Rt,borderLeftWidth:Rt,borderRadius:Rt,radius:Rt,borderTopLeftRadius:Rt,borderTopRightRadius:Rt,borderBottomRightRadius:Rt,borderBottomLeftRadius:Rt,width:Rt,maxWidth:Rt,height:Rt,maxHeight:Rt,top:Rt,right:Rt,bottom:Rt,left:Rt,padding:Rt,paddingTop:Rt,paddingRight:Rt,paddingBottom:Rt,paddingLeft:Rt,margin:Rt,marginTop:Rt,marginRight:Rt,marginBottom:Rt,marginLeft:Rt,backgroundPositionX:Rt,backgroundPositionY:Rt,...Gq,zIndex:hj,fillOpacity:bm,strokeOpacity:bm,numOctaves:hj},Kq={...JC,color:Mn,backgroundColor:Mn,outlineColor:Mn,fill:Mn,stroke:Mn,borderColor:Mn,borderTopColor:Mn,borderRightColor:Mn,borderBottomColor:Mn,borderLeftColor:Mn,filter:Fk,WebkitFilter:Fk},c5=t=>Kq[t];function u5(t,e){let r=c5(t);return r!==Fk&&(r=Ec),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Yq=new Set(["auto","none","0"]);function Jq(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!Yq.has(s)&&wm(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=u5(r,i)}class Xq extends KC{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),BC(d))){const f=s5(d,r.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!o5.has(n)||e.length!==2)return;const[i,s]=e,o=fj(i),a=fj(s);if(o!==a)if(lj(o)&&lj(a))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Lu[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||Vq(e[i]))&&n.push(i);n.length&&Jq(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lu[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,o=n[s];n[s]=Lu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function Qq(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=(r==null?void 0:r[t])??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const d5=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function f5(t){return N4(t)&&"offsetHeight"in t}const pj=30,Zq=t=>!isNaN(parseFloat(t));class eH{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=hs.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=hs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Zq(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new OC);const n=this.events[e].add(r);return e==="change"?()=>{n(),Xr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=hs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pj)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,pj);return j4(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jf(t,e){return new eH(t,e)}const{schedule:XC}=$4(queueMicrotask,!1),Vo={x:!1,y:!1};function h5(){return Vo.x||Vo.y}function tH(t){return t==="x"||t==="y"?Vo[t]?null:(Vo[t]=!0,()=>{Vo[t]=!1}):Vo.x||Vo.y?null:(Vo.x=Vo.y=!0,()=>{Vo.x=Vo.y=!1})}function p5(t,e){const r=Qq(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function mj(t){return!(t.pointerType==="touch"||h5())}function rH(t,e,r={}){const[n,i,s]=p5(t,r),o=a=>{if(!mj(a))return;const{target:c}=a,d=e(c,a);if(typeof d!="function"||!c)return;const f=p=>{mj(p)&&(d(p),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,i)};return n.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const m5=(t,e)=>e?t===e?!0:m5(t,e.parentElement):!1,QC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,nH=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iH(t){return nH.has(t.tagName)||t.tabIndex!==-1}const M0=new WeakSet;function gj(t){return e=>{e.key==="Enter"&&t(e)}}function Xw(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const sH=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=gj(()=>{if(M0.has(r))return;Xw(r,"down");const i=gj(()=>{Xw(r,"up")}),s=()=>Xw(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function yj(t){return QC(t)&&!h5()}function oH(t,e,r={}){const[n,i,s]=p5(t,r),o=a=>{const c=a.currentTarget;if(!yj(a))return;M0.add(c);const d=e(c,a),f=(m,v)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),M0.has(c)&&M0.delete(c),yj(m)&&typeof d=="function"&&d(m,{success:v})},p=m=>{f(m,c===window||c===document||r.useGlobalTarget||m5(c,m.target))},g=m=>{f(m,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return n.forEach(a=>{(r.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),f5(a)&&(a.addEventListener("focus",d=>sH(d,i)),!iH(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function g5(t){return N4(t)&&"ownerSVGElement"in t}function aH(t){return g5(t)&&t.tagName==="svg"}const Ai=t=>!!(t&&t.getVelocity),lH=[...l5,Mn,Ec],cH=t=>lH.find(a5(t)),ZC=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function xj(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function uH(...t){return e=>{let r=!1;const n=t.map(i=>{const s=xj(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():xj(t[i],null)}}}}function dH(...t){return C.useCallback(uH(...t),t)}class fH extends C.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=f5(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function hH({children:t,isPresent:e,anchorX:r,root:n}){const i=C.useId(),s=C.useRef(null),o=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=C.useContext(ZC),c=dH(s,t==null?void 0:t.ref);return C.useInsertionEffect(()=>{const{width:d,height:f,top:p,left:g,right:m}=o.current;if(e||!s.current||!d||!f)return;const v=r==="left"?`left: ${g}`:`right: ${m}`;s.current.dataset.motionPopId=i;const x=document.createElement("style");a&&(x.nonce=a);const w=n??document.head;return w.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${v}px !important;
            top: ${p}px !important;
          }
        `),()=>{w.contains(x)&&w.removeChild(x)}},[e]),l.jsx(fH,{isPresent:e,childRef:s,sizeRef:o,children:C.cloneElement(t,{ref:c})})}const pH=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:c})=>{const d=jC(mH),f=C.useId();let p=!0,g=C.useMemo(()=>(p=!1,{id:f,initial:e,isPresent:r,custom:i,onExitComplete:m=>{d.set(m,!0);for(const v of d.values())if(!v)return;n&&n()},register:m=>(d.set(m,!1),()=>d.delete(m))}),[r,d,n]);return s&&p&&(g={...g}),C.useMemo(()=>{d.forEach((m,v)=>d.set(v,!1))},[r]),C.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),o==="popLayout"&&(t=l.jsx(hH,{isPresent:r,anchorX:a,root:c,children:t})),l.jsx(ev.Provider,{value:g,children:t})};function mH(){return new Map}function y5(t=!0){const e=C.useContext(ev);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=C.useId();C.useEffect(()=>{if(t)return i(s)},[t]);const o=C.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,o]:[!0]}const Fy=t=>t.key||"";function vj(t){const e=[];return C.Children.forEach(t,r=>{C.isValidElement(r)&&e.push(r)}),e}const bj=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:c})=>{const[d,f]=y5(o),p=C.useMemo(()=>vj(t),[t]),g=o&&!d?[]:p.map(Fy),m=C.useRef(!0),v=C.useRef(p),x=jC(()=>new Map),[w,T]=C.useState(p),[j,P]=C.useState(p);E4(()=>{m.current=!1,v.current=p;for(let $=0;$<j.length;$++){const W=Fy(j[$]);g.includes(W)?x.delete(W):x.get(W)!==!0&&x.set(W,!1)}},[j,g.length,g.join("-")]);const S=[];if(p!==w){let $=[...p];for(let W=0;W<j.length;W++){const G=j[W],q=Fy(G);g.includes(q)||($.splice(W,0,G),S.push(G))}return s==="wait"&&S.length&&($=S),P(vj($)),T(p),null}const{forceRender:B}=C.useContext(AC);return l.jsx(l.Fragment,{children:j.map($=>{const W=Fy($),G=o&&!d?!1:p===j||g.includes(W),q=()=>{if(x.has(W))x.set(W,!0);else return;let H=!0;x.forEach(J=>{J||(H=!1)}),H&&(B==null||B(),P(v.current),o&&(f==null||f()),n&&n())};return l.jsx(pH,{isPresent:G,initial:!m.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:G?void 0:q,anchorX:a,children:$},W)})})},x5=C.createContext({strict:!1}),wj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xf={};for(const t in wj)Xf[t]={isEnabled:e=>wj[t].some(r=>!!e[r])};function gH(t){for(const e in t)Xf[e]={...Xf[e],...t[e]}}const yH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||yH.has(t)}let v5=t=>!dx(t);function xH(t){typeof t=="function"&&(v5=e=>e.startsWith("on")?!dx(e):t(e))}try{xH(require("@emotion/is-prop-valid").default)}catch{}function vH(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(v5(i)||r===!0&&dx(i)||!e&&!dx(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const tv=C.createContext({});function rv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function km(t){return typeof t=="string"||Array.isArray(t)}const eS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tS=["initial",...eS];function nv(t){return rv(t.animate)||tS.some(e=>km(t[e]))}function b5(t){return!!(nv(t)||t.variants)}function bH(t,e){if(nv(t)){const{initial:r,animate:n}=t;return{initial:r===!1||km(r)?r:void 0,animate:km(n)?n:void 0}}return t.inherit!==!1?e:{}}function wH(t){const{initial:e,animate:r}=bH(t,C.useContext(tv));return C.useMemo(()=>({initial:e,animate:r}),[kj(e),kj(r)])}function kj(t){return Array.isArray(t)?t.join(" "):t}const _m={};function kH(t){for(const e in t)_m[e]=t[e],zC(e)&&(_m[e].isCSSVariable=!0)}function w5(t,{layout:e,layoutId:r}){return xh.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!_m[t]||t==="opacity")}const _H={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CH=yh.length;function SH(t,e,r){let n="",i=!0;for(let s=0;s<CH;s++){const o=yh[s],a=t[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||r){const d=d5(a,JC[o]);if(!c){i=!1;const f=_H[o]||o;n+=`${f}(${d}) `}r&&(e[o]=d)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function rS(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const c in e){const d=e[c];if(xh.has(c)){o=!0;continue}else if(zC(c)){i[c]=d;continue}else{const f=d5(d,JC[c]);c.startsWith("origin")?(a=!0,s[c]=f):n[c]=f}}if(e.transform||(o||r?n.transform=SH(e,t.transform,r):n.transform&&(n.transform="none")),a){const{originX:c="50%",originY:d="50%",originZ:f=0}=s;n.transformOrigin=`${c} ${d} ${f}`}}const nS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function k5(t,e,r){for(const n in e)!Ai(e[n])&&!w5(n,r)&&(t[n]=e[n])}function EH({transformTemplate:t},e){return C.useMemo(()=>{const r=nS();return rS(r,e,t),Object.assign({},r.vars,r.style)},[e])}function TH(t,e){const r=t.style||{},n={};return k5(n,r,t),Object.assign(n,EH(t,e)),n}function NH(t,e){const r={},n=TH(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const AH={offset:"stroke-dashoffset",array:"stroke-dasharray"},jH={offset:"strokeDashoffset",array:"strokeDasharray"};function PH(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?AH:jH;t[s.offset]=Rt.transform(-n);const o=Rt.transform(e),a=Rt.transform(r);t[s.array]=`${o} ${a}`}function _5(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},c,d,f){if(rS(t,a,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),i!==void 0&&PH(p,i,s,o,!1)}const C5=()=>({...nS(),attrs:{}}),S5=t=>typeof t=="string"&&t.toLowerCase()==="svg";function RH(t,e,r,n){const i=C.useMemo(()=>{const s=C5();return _5(s,e,S5(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};k5(s,t.style,t),i.style={...s,...i.style}}return i}const IH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iS(t){return typeof t!="string"||t.includes("-")?!1:!!(IH.indexOf(t)>-1||/[A-Z]/u.test(t))}function MH(t,e,r,{latestValues:n},i,s=!1){const a=(iS(t)?RH:NH)(e,n,i,t),c=vH(e,typeof t=="string",s),d=t!==C.Fragment?{...c,...a,ref:r}:{},{children:f}=e,p=C.useMemo(()=>Ai(f)?f.get():f,[f]);return C.createElement(t,{...d,children:p})}function _j(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function sS(t,e,r,n){if(typeof e=="function"){const[i,s]=_j(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=_j(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function D0(t){return Ai(t)?t.get():t}function DH({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:OH(r,n,i,t),renderState:e()}}function OH(t,e,r,n){const i={},s=n(t,{});for(const g in s)i[g]=D0(s[g]);let{initial:o,animate:a}=t;const c=nv(t),d=b5(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const p=f?a:o;if(p&&typeof p!="boolean"&&!rv(p)){const g=Array.isArray(p)?p:[p];for(let m=0;m<g.length;m++){const v=sS(t,g[m]);if(v){const{transitionEnd:x,transition:w,...T}=v;for(const j in T){let P=T[j];if(Array.isArray(P)){const S=f?P.length-1:0;P=P[S]}P!==null&&(i[j]=P)}for(const j in x)i[j]=x[j]}}}return i}const E5=t=>(e,r)=>{const n=C.useContext(tv),i=C.useContext(ev),s=()=>DH(t,e,n,i);return r?s():jC(s)};function oS(t,e,r){var s;const{style:n}=t,i={};for(const o in n)(Ai(n[o])||e.style&&Ai(e.style[o])||w5(o,t)||((s=r==null?void 0:r.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=n[o]);return i}const LH=E5({scrapeMotionValuesFromProps:oS,createRenderState:nS});function T5(t,e,r){const n=oS(t,e,r);for(const i in t)if(Ai(t[i])||Ai(e[i])){const s=yh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}const FH=E5({scrapeMotionValuesFromProps:T5,createRenderState:C5}),zH=Symbol.for("motionComponentSymbol");function kf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function BH(t,e,r){return C.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):kf(r)&&(r.current=n))},[e])}const aS=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$H="framerAppearId",N5="data-"+aS($H),A5=C.createContext({});function UH(t,e,r,n,i){var x,w;const{visualElement:s}=C.useContext(tv),o=C.useContext(x5),a=C.useContext(ev),c=C.useContext(ZC).reducedMotion,d=C.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(t,{visualState:e,parent:s,props:r,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const f=d.current,p=C.useContext(A5);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&VH(d.current,r,i,p);const g=C.useRef(!1);C.useInsertionEffect(()=>{f&&g.current&&f.update(r,a)});const m=r[N5],v=C.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,m)));return E4(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),v.current&&f.animationState&&f.animationState.animateChanges())}),C.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)==null||T.call(window,m)}),v.current=!1),f.enteringChildren=void 0)}),f}function VH(t,e,r,n){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:d,layoutCrossfade:f}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:j5(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&kf(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:c,layoutRoot:d})}function j5(t){if(t)return t.options.allowProjection!==!1?t.projection:j5(t.parent)}function Qw(t,{forwardMotionProps:e=!1}={},r,n){r&&gH(r);const i=iS(t)?FH:LH;function s(a,c){let d;const f={...C.useContext(ZC),...a,layoutId:WH(a)},{isStatic:p}=f,g=wH(a),m=i(a,p);if(!p&&PC){qH();const v=HH(f);d=v.MeasureLayout,g.visualElement=UH(t,m,f,n,v.ProjectionNode)}return l.jsxs(tv.Provider,{value:g,children:[d&&g.visualElement?l.jsx(d,{visualElement:g.visualElement,...f}):null,MH(t,a,BH(m,g.visualElement,c),m,p,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=C.forwardRef(s);return o[zH]=t,o}function WH({layoutId:t}){const e=C.useContext(AC).id;return e&&t!==void 0?e+"-"+t:t}function qH(t,e){C.useContext(x5).strict}function HH(t){const{drag:e,layout:r}=Xf;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function GH(t,e){if(typeof Proxy>"u")return Qw;const r=new Map,n=(s,o)=>Qw(s,o,t,e),i=(s,o)=>n(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?n:(r.has(o)||r.set(o,Qw(o,void 0,t,e)),r.get(o))})}function P5({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function KH({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function YH(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Zw(t){return t===void 0||t===1}function zk({scale:t,scaleX:e,scaleY:r}){return!Zw(t)||!Zw(e)||!Zw(r)}function ku(t){return zk(t)||R5(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function R5(t){return Cj(t.x)||Cj(t.y)}function Cj(t){return t&&t!=="0%"}function fx(t,e,r){const n=t-r,i=e*n;return r+i}function Sj(t,e,r,n,i){return i!==void 0&&(t=fx(t,i,n)),fx(t,r,n)+e}function Bk(t,e=0,r=1,n,i){t.min=Sj(t.min,e,r,n,i),t.max=Sj(t.max,e,r,n,i)}function I5(t,{x:e,y:r}){Bk(t.x,e.translate,e.scale,e.originPoint),Bk(t.y,r.translate,r.scale,r.originPoint)}const Ej=.999999999999,Tj=1.0000000000001;function JH(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=r[a],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Cf(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,I5(t,o)),n&&ku(s.latestValues)&&Cf(t,s.latestValues))}e.x<Tj&&e.x>Ej&&(e.x=1),e.y<Tj&&e.y>Ej&&(e.y=1)}function _f(t,e){t.min=t.min+e,t.max=t.max+e}function Nj(t,e,r,n,i=.5){const s=an(t.min,t.max,i);Bk(t,e,r,s,n)}function Cf(t,e){Nj(t.x,e.x,e.scaleX,e.scale,e.originX),Nj(t.y,e.y,e.scaleY,e.scale,e.originY)}function M5(t,e){return P5(YH(t.getBoundingClientRect(),e))}function XH(t,e,r){const n=M5(t,r),{scroll:i}=e;return i&&(_f(n.x,i.offset.x),_f(n.y,i.offset.y)),n}const Aj=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sf=()=>({x:Aj(),y:Aj()}),jj=()=>({min:0,max:0}),yn=()=>({x:jj(),y:jj()}),$k={current:null},D5={current:!1};function QH(){if(D5.current=!0,!!PC)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$k.current=t.matches;t.addEventListener("change",e),e()}else $k.current=!1}const ZH=new WeakMap;function eG(t,e,r){for(const n in e){const i=e[n],s=r[n];if(Ai(i))t.addValue(n,i);else if(Ai(s))t.addValue(n,Jf(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(n);t.addValue(n,Jf(o!==void 0?o:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const Pj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class tG{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=hs.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Xr.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=nv(r),this.isVariantNode=b5(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in p){const m=p[g];c[g]!==void 0&&Ai(m)&&m.set(c[g])}}mount(e){var r;this.current=e,ZH.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),D5.current||QH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$k.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Sc(this.notifyUpdate),Sc(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=xh.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Xr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Xf){const r=Xf[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Pj.length;n++){const i=Pj[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=eG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Jf(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(T4(n)||A4(n))?n=parseFloat(n):!cH(n)&&Ec.test(r)&&(n=u5(e,r)),this.setBaseTarget(e,Ai(n)?n.get():n)),Ai(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=sS(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ai(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new OC),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){XC.render(this.render)}}class O5 extends tG{constructor(){super(...arguments),this.KeyframeResolver=Xq}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ai(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function L5(t,{style:e,vars:r},n,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,n);for(o in r)s.setProperty(o,r[o])}function rG(t){return window.getComputedStyle(t)}class nG extends O5{constructor(){super(...arguments),this.type="html",this.renderInstance=L5}readValueFromInstance(e,r){var n;if(xh.has(r))return(n=this.projection)!=null&&n.isProjecting?Rk(r):gq(e,r);{const i=rG(e),s=(zC(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return M5(e,r)}build(e,r,n){rS(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return oS(e,r,n)}}const F5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iG(t,e,r,n){L5(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(F5.has(i)?i:aS(i),e.attrs[i])}class sG extends O5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yn}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(xh.has(r)){const n=c5(r);return n&&n.default||0}return r=F5.has(r)?r:aS(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return T5(e,r,n)}build(e,r,n){_5(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){iG(e,r,n,i)}mount(e){this.isSVGTag=S5(e.tagName),super.mount(e)}}const oG=(t,e)=>iS(t)?new sG(e):new nG(e,{allowProjection:t!==C.Fragment});function If(t,e,r){const n=t.getProps();return sS(n,e,r!==void 0?r:n.custom,t)}const Uk=t=>Array.isArray(t);function aG(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Jf(r))}function lG(t){return Uk(t)?t[t.length-1]||0:t}function cG(t,e){const r=If(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const o in s){const a=lG(s[o]);aG(t,o,a)}}function uG(t){return!!(Ai(t)&&t.add)}function Vk(t,e){const r=t.getValue("willChange");if(uG(r))return r.add(e);if(!r&&wl.WillChange){const n=new wl.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function z5(t){return t.props[N5]}const dG=t=>t!==null;function fG(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(dG),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[s]}const hG={type:"spring",stiffness:500,damping:25,restSpeed:10},pG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),mG={type:"keyframes",duration:.8},gG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yG=(t,{keyframes:e})=>e.length>2?mG:xh.has(t)?t.startsWith("scale")?pG(e[1]):hG:gG;function xG({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:d,...f}){return!!Object.keys(f).length}const lS=(t,e,r,n={},i,s)=>o=>{const a=YC(n,t)||{},c=a.delay||n.delay||0;let{elapsed:d=0}=n;d=d-Ma(c);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-d,onUpdate:g=>{e.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};xG(a)||Object.assign(f,yG(t,f)),f.duration&&(f.duration=Ma(f.duration)),f.repeatDelay&&(f.repeatDelay=Ma(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(Lk(f),f.delay===0&&(p=!0)),(wl.instantAnimations||wl.skipAnimations)&&(p=!0,Lk(f),f.delay=0),f.allowFlatten=!a.type&&!a.ease,p&&!s&&e.get()!==void 0){const g=fG(f.keyframes,a);if(g!==void 0){Xr.update(()=>{f.onUpdate(g),f.onComplete()});return}}return a.isSync?new GC(f):new zq(f)};function vG({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function B5(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;n&&(s=n);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const p=t.getValue(f,t.latestValues[f]??null),g=a[f];if(g===void 0||d&&vG(d,f))continue;const m={delay:r,...YC(s||{},f)},v=p.get();if(v!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===v&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const T=z5(t);if(T){const j=window.MotionHandoffAnimation(T,f,Xr);j!==null&&(m.startTime=j,x=!0)}}Vk(t,f),p.start(lS(f,p,g,t.shouldReduceMotion&&o5.has(f)?{type:!1}:m,t,x));const w=p.animation;w&&c.push(w)}return o&&Promise.all(c).then(()=>{Xr.update(()=>{o&&cG(t,o)})}),c}function $5(t,e,r,n=0,i=1){const s=Array.from(t).sort((d,f)=>d.sortNodePosition(f)).indexOf(e),o=t.size,a=(o-1)*n;return typeof r=="function"?r(s,o):i===1?s*n:a-s*n}function Wk(t,e,r={}){var c;const n=If(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(B5(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=i;return bG(t,e,d,f,p,g,r)}:()=>Promise.resolve(),{when:a}=i;if(a){const[d,f]=a==="beforeChildren"?[s,o]:[o,s];return d().then(()=>f())}else return Promise.all([s(),o(r.delay)])}function bG(t,e,r=0,n=0,i=0,s=1,o){const a=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),a.push(Wk(c,e,{...o,delay:r+(typeof n=="function"?0:n)+$5(t.variantChildren,c,n,i,s)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(a)}function wG(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>Wk(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=Wk(t,e,r);else{const i=typeof e=="function"?If(t,e,r.custom):e;n=Promise.all(B5(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function U5(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const kG=tS.length;function V5(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?V5(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<kG;r++){const n=tS[r],i=t.props[n];(km(i)||i===!1)&&(e[n]=i)}return e}const _G=[...eS].reverse(),CG=eS.length;function SG(t){return e=>Promise.all(e.map(({animation:r,options:n})=>wG(t,r,n)))}function EG(t){let e=SG(t),r=Rj(),n=!0;const i=c=>(d,f)=>{var g;const p=If(t,f,c==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(p){const{transition:m,transitionEnd:v,...x}=p;d={...d,...x,...v}}return d};function s(c){e=c(t)}function o(c){const{props:d}=t,f=V5(t.parent)||{},p=[],g=new Set;let m={},v=1/0;for(let w=0;w<CG;w++){const T=_G[w],j=r[T],P=d[T]!==void 0?d[T]:f[T],S=km(P),B=T===c?j.isActive:null;B===!1&&(v=w);let $=P===f[T]&&P!==d[T]&&S;if($&&n&&t.manuallyAnimateOnMount&&($=!1),j.protectedKeys={...m},!j.isActive&&B===null||!P&&!j.prevProp||rv(P)||typeof P=="boolean")continue;const W=TG(j.prevProp,P);let G=W||T===c&&j.isActive&&!$&&S||w>v&&S,q=!1;const H=Array.isArray(P)?P:[P];let J=H.reduce(i(T),{});B===!1&&(J={});const{prevResolvedValues:V={}}=j,F={...V,...J},b=R=>{G=!0,g.has(R)&&(q=!0,g.delete(R)),j.needsAnimating[R]=!0;const k=t.getValue(R);k&&(k.liveStyle=!1)};for(const R in F){const k=J[R],I=V[R];if(m.hasOwnProperty(R))continue;let N=!1;Uk(k)&&Uk(I)?N=!U5(k,I):N=k!==I,N?k!=null?b(R):g.add(R):k!==void 0&&g.has(R)?b(R):j.protectedKeys[R]=!0}j.prevProp=P,j.prevResolvedValues=J,j.isActive&&(m={...m,...J}),n&&t.blockInitialAnimation&&(G=!1);const A=$&&W;G&&(!A||q)&&p.push(...H.map(R=>{const k={type:T};if(typeof R=="string"&&n&&!A&&t.manuallyAnimateOnMount&&t.parent){const{parent:I}=t,N=If(I,R);if(I.enteringChildren&&N){const{delayChildren:D}=N.transition||{};k.delay=$5(I.enteringChildren,t,D)}}return{animation:R,options:k}}))}if(g.size){const w={};if(typeof d.initial!="boolean"){const T=If(t,Array.isArray(d.initial)?d.initial[0]:d.initial);T&&T.transition&&(w.transition=T.transition)}g.forEach(T=>{const j=t.getBaseTarget(T),P=t.getValue(T);P&&(P.liveStyle=!0),w[T]=j??null}),p.push({animation:w})}let x=!!p.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(x=!1),n=!1,x?e(p):Promise.resolve()}function a(c,d){var p;if(r[c].isActive===d)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(g=>{var m;return(m=g.animationState)==null?void 0:m.setActive(c,d)}),r[c].isActive=d;const f=o(c);for(const g in r)r[g].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>r,reset:()=>{r=Rj(),n=!0}}}function TG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!U5(e,t):!1}function fu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Rj(){return{animate:fu(!0),whileInView:fu(),whileHover:fu(),whileTap:fu(),whileDrag:fu(),whileFocus:fu(),exit:fu()}}class Oc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class NG extends Oc{constructor(e){super(e),e.animationState||(e.animationState=EG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let AG=0;class jG extends Oc{constructor(){super(...arguments),this.id=AG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const PG={animation:{Feature:NG},exit:{Feature:jG}};function Cm(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function ug(t){return{point:{x:t.pageX,y:t.pageY}}}const RG=t=>e=>QC(e)&&t(e,ug(e));function Vp(t,e,r,n){return Cm(t,e,RG(r),n)}const W5=1e-4,IG=1-W5,MG=1+W5,q5=.01,DG=0-q5,OG=0+q5;function Ji(t){return t.max-t.min}function LG(t,e,r){return Math.abs(t-e)<=r}function Ij(t,e,r,n=.5){t.origin=n,t.originPoint=an(e.min,e.max,t.origin),t.scale=Ji(r)/Ji(e),t.translate=an(r.min,r.max,t.origin)-t.originPoint,(t.scale>=IG&&t.scale<=MG||isNaN(t.scale))&&(t.scale=1),(t.translate>=DG&&t.translate<=OG||isNaN(t.translate))&&(t.translate=0)}function Wp(t,e,r,n){Ij(t.x,e.x,r.x,n?n.originX:void 0),Ij(t.y,e.y,r.y,n?n.originY:void 0)}function Mj(t,e,r){t.min=r.min+e.min,t.max=t.min+Ji(e)}function FG(t,e,r){Mj(t.x,e.x,r.x),Mj(t.y,e.y,r.y)}function Dj(t,e,r){t.min=e.min-r.min,t.max=t.min+Ji(e)}function qp(t,e,r){Dj(t.x,e.x,r.x),Dj(t.y,e.y,r.y)}function ao(t){return[t("x"),t("y")]}const H5=({current:t})=>t?t.ownerDocument.defaultView:null,Oj=(t,e)=>Math.abs(t-e);function zG(t,e){const r=Oj(t.x,e.x),n=Oj(t.y,e.y);return Math.sqrt(r**2+n**2)}class G5{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=t1(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=zG(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!v)return;const{point:x}=g,{timestamp:w}=ai;this.history.push({...x,timestamp:w});const{onStart:T,onMove:j}=this.handlers;m||(T&&T(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,g)},this.handlePointerMove=(g,m)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=e1(m,this.transformPagePoint),Xr.update(this.updatePoint,!0)},this.handlePointerUp=(g,m)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=t1(g.type==="pointercancel"?this.lastMoveEventInfo:e1(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,T),x&&x(g,T)},!QC(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=i||window;const a=ug(e),c=e1(a,this.transformPagePoint),{point:d}=c,{timestamp:f}=ai;this.history=[{...d,timestamp:f}];const{onSessionStart:p}=r;p&&p(e,t1(c,this.history)),this.removeListeners=ag(Vp(this.contextWindow,"pointermove",this.handlePointerMove),Vp(this.contextWindow,"pointerup",this.handlePointerUp),Vp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Sc(this.updatePoint)}}function e1(t,e){return e?{point:e(t.point)}:t}function Lj(t,e){return{x:t.x-e.x,y:t.y-e.y}}function t1({point:t},e){return{point:t,delta:Lj(t,K5(e)),offset:Lj(t,BG(e)),velocity:$G(e,.1)}}function BG(t){return t[0]}function K5(t){return t[t.length-1]}function $G(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=K5(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Ma(e)));)r--;if(!n)return{x:0,y:0};const s=po(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function UG(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?an(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?an(r,t,n.max):Math.min(t,r)),t}function Fj(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function VG(t,{top:e,left:r,bottom:n,right:i}){return{x:Fj(t.x,r,i),y:Fj(t.y,e,n)}}function zj(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function WG(t,e){return{x:zj(t.x,e.x),y:zj(t.y,e.y)}}function qG(t,e){let r=.5;const n=Ji(t),i=Ji(e);return i>n?r=vm(e.min,e.max-n,t.min):n>i&&(r=vm(t.min,t.max-i,e.min)),bl(0,1,r)}function HG(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const qk=.35;function GG(t=qk){return t===!1?t=0:t===!0&&(t=qk),{x:Bj(t,"left","right"),y:Bj(t,"top","bottom")}}function Bj(t,e,r){return{min:$j(t,e),max:$j(t,r)}}function $j(t,e){return typeof t=="number"?t:t[e]||0}const KG=new WeakMap;class YG{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ug(p).point)},o=(p,g)=>{const{drag:m,dragPropagation:v,onDragStart:x}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tH(m),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ao(T=>{let j=this.getAxisMotionValue(T).get()||0;if(Da.test(j)){const{projection:P}=this.visualElement;if(P&&P.layout){const S=P.layout.layoutBox[T];S&&(j=Ji(S)*(parseFloat(j)/100))}}this.originPoint[T]=j}),x&&Xr.postRender(()=>x(p,g)),Vk(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:x,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:T}=g;if(v&&this.currentDirection===null){this.currentDirection=JG(T),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",g.point,T),this.updateAxis("y",g.point,T),this.visualElement.render(),w&&w(p,g)},c=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>ao(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new G5(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:n,contextWindow:H5(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Xr.postRender(()=>a(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!zy(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=UG(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&kf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=VG(n.layoutBox,e):this.constraints=!1,this.elastic=GG(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ao(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=HG(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!kf(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=XH(n,i.root,this.visualElement.getTransformPagePoint());let o=WG(i.layout.layoutBox,s);if(r){const a=r(KH(o));this.hasMutatedConstraints=!!a,a&&(o=P5(a))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},d=ao(f=>{if(!zy(f,r,this.currentDirection))return;let p=c&&c[f]||{};o&&(p={min:0,max:0});const g=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:n?e[f]:0,bounceStiffness:g,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,v)});return Promise.all(d).then(a)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return Vk(this.visualElement,e),n.start(lS(e,n,0,r,this.visualElement,!1))}stopAnimation(){ao(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ao(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ao(r=>{const{drag:n}=this.getProps();if(!zy(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[r];s.set(e[r]-an(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!kf(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ao(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();i[o]=qG({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ao(o=>{if(!zy(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];a.set(an(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;KG.set(this.visualElement,this);const e=this.visualElement.current,r=Vp(e,"pointerdown",c=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();kf(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Xr.read(n);const o=Cm(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ao(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=c[f].translate,p.set(p.get()+c[f].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=qk,dragMomentum:a=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function zy(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function JG(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class XG extends Oc{constructor(e){super(e),this.removeGroupControls=xo,this.removeListeners=xo,this.controls=new YG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xo}unmount(){this.removeGroupControls(),this.removeListeners()}}const Uj=t=>(e,r)=>{t&&Xr.postRender(()=>t(e,r))};class QG extends Oc{constructor(){super(...arguments),this.removePointerDownListener=xo}onPointerDown(e){this.session=new G5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:H5(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:Uj(e),onStart:Uj(r),onMove:n,onEnd:(s,o)=>{delete this.session,i&&Xr.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Vp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const O0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Vj(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const dp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Rt.test(t))t=parseFloat(t);else return t;const r=Vj(t,e.target.x),n=Vj(t,e.target.y);return`${r}% ${n}%`}},ZG={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=Ec.parse(t);if(i.length>5)return n;const s=Ec.createTransformer(t),o=typeof i[0]!="number"?1:0,a=r.x.scale*e.x,c=r.y.scale*e.y;i[0+o]/=a,i[1+o]/=c;const d=an(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};let r1=!1;class eK extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;kH(tK),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),r1&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),O0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:o}=n;return o&&(o.isPresent=s,r1=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Xr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),XC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;r1=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Y5(t){const[e,r]=y5(),n=C.useContext(AC);return l.jsx(eK,{...t,layoutGroup:n,switchLayoutGroup:C.useContext(A5),isPresent:e,safeToRemove:r})}const tK={borderRadius:{...dp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dp,borderTopRightRadius:dp,borderBottomLeftRadius:dp,borderBottomRightRadius:dp,boxShadow:ZG};function rK(t,e,r){const n=Ai(t)?t:Jf(t);return n.start(lS("",n,e,r)),n.animation}const nK=(t,e)=>t.depth-e.depth;class iK{constructor(){this.children=[],this.isDirty=!1}add(e){RC(this.children,e),this.isDirty=!0}remove(e){IC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(nK),this.isDirty=!1,this.children.forEach(e)}}function sK(t,e){const r=hs.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(Sc(n),t(s-e))};return Xr.setup(n,!0),()=>Sc(n)}const J5=["TopLeft","TopRight","BottomLeft","BottomRight"],oK=J5.length,Wj=t=>typeof t=="string"?parseFloat(t):t,qj=t=>typeof t=="number"||Rt.test(t);function aK(t,e,r,n,i,s){i?(t.opacity=an(0,r.opacity??1,lK(n)),t.opacityExit=an(e.opacity??1,0,cK(n))):s&&(t.opacity=an(e.opacity??1,r.opacity??1,n));for(let o=0;o<oK;o++){const a=`border${J5[o]}Radius`;let c=Hj(e,a),d=Hj(r,a);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||qj(c)===qj(d)?(t[a]=Math.max(an(Wj(c),Wj(d),n),0),(Da.test(d)||Da.test(c))&&(t[a]+="%")):t[a]=d}(e.rotate||r.rotate)&&(t.rotate=an(e.rotate||0,r.rotate||0,n))}function Hj(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const lK=X5(0,.5,L4),cK=X5(.5,.95,xo);function X5(t,e,r){return n=>n<t?0:n>e?1:r(vm(t,e,n))}function Gj(t,e){t.min=e.min,t.max=e.max}function so(t,e){Gj(t.x,e.x),Gj(t.y,e.y)}function Kj(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Yj(t,e,r,n,i){return t-=e,t=fx(t,1/r,n),i!==void 0&&(t=fx(t,1/i,n)),t}function uK(t,e=0,r=1,n=.5,i,s=t,o=t){if(Da.test(e)&&(e=parseFloat(e),e=an(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=an(s.min,s.max,n);t===s&&(a-=e),t.min=Yj(t.min,e,r,a,i),t.max=Yj(t.max,e,r,a,i)}function Jj(t,e,[r,n,i],s,o){uK(t,e[r],e[n],e[i],e.scale,s,o)}const dK=["x","scaleX","originX"],fK=["y","scaleY","originY"];function Xj(t,e,r,n){Jj(t.x,e,dK,r?r.x:void 0,n?n.x:void 0),Jj(t.y,e,fK,r?r.y:void 0,n?n.y:void 0)}function Qj(t){return t.translate===0&&t.scale===1}function Q5(t){return Qj(t.x)&&Qj(t.y)}function Zj(t,e){return t.min===e.min&&t.max===e.max}function hK(t,e){return Zj(t.x,e.x)&&Zj(t.y,e.y)}function eP(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Z5(t,e){return eP(t.x,e.x)&&eP(t.y,e.y)}function tP(t){return Ji(t.x)/Ji(t.y)}function rP(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class pK{constructor(){this.members=[]}add(e){RC(this.members,e),e.scheduleRender()}remove(e){if(IC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mK(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((i||s||o)&&(n=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:g,skewX:m,skewY:v}=r;d&&(n=`perspective(${d}px) ${n}`),f&&(n+=`rotate(${f}deg) `),p&&(n+=`rotateX(${p}deg) `),g&&(n+=`rotateY(${g}deg) `),m&&(n+=`skewX(${m}deg) `),v&&(n+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,c=t.y.scale*e.y;return(a!==1||c!==1)&&(n+=`scale(${a}, ${c})`),n||"none"}const n1=["","X","Y","Z"],gK=1e3;let yK=0;function i1(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function e3(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=z5(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Xr,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&e3(n)}function t3({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=yK++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(bK),this.nodes.forEach(CK),this.nodes.forEach(SK),this.nodes.forEach(wK)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new iK)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new OC),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=g5(o)&&!aH(o),this.instance=o;const{layoutId:a,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),t){let f,p=0;const g=()=>this.root.updateBlockedByResize=!1;Xr.read(()=>{p=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==p&&(p=m,this.root.updateBlockedByResize=!0,f&&f(),f=sK(g,250),O0.hasAnimatedSinceResize&&(O0.hasAnimatedSinceResize=!1,this.nodes.forEach(sP)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&d&&(a||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||jK,{onLayoutAnimationStart:x,onLayoutAnimationComplete:w}=d.getProps(),T=!this.targetLayout||!Z5(this.targetLayout,m),j=!p&&g;if(this.options.layoutRoot||this.resumeFrom||j||p&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...YC(v,"layout"),onPlay:x,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(f,j)}else p||sP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Sc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(EK),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&e3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nP);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(iP);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(_K),this.nodes.forEach(xK),this.nodes.forEach(vK)):this.nodes.forEach(iP),this.clearAllSnapshots();const a=hs.now();ai.delta=bl(0,1e3/60,a-ai.timestamp),ai.timestamp=a,ai.isProcessing=!0,Hw.update.process(ai),Hw.preRender.process(ai),Hw.render.process(ai),ai.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,XC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kK),this.sharedNodes.forEach(TK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ji(this.snapshot.measuredBox.x)&&!Ji(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Q5(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&this.instance&&(a||ku(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),PK(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return yn();const a=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(RK))){const{scroll:f}=this.root;f&&(_f(a.x,f.offset.x),_f(a.y,f.offset.y))}return a}removeElementScroll(o){var c;const a=yn();if(so(a,o),(c=this.scroll)!=null&&c.wasRoot)return a;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&so(a,o),_f(a.x,p.offset.x),_f(a.y,p.offset.y))}return a}applyTransform(o,a=!1){const c=yn();so(c,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Cf(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),ku(f.latestValues)&&Cf(c,f.latestValues)}return ku(this.latestValues)&&Cf(c,this.latestValues),c}removeTransform(o){const a=yn();so(a,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!ku(d.latestValues))continue;zk(d.latestValues)&&d.updateSnapshot();const f=yn(),p=d.measurePageBox();so(f,p),Xj(a,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return ku(this.latestValues)&&Xj(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ai.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=ai.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),qp(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),so(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=yn(),this.targetWithTransforms=yn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):so(this.target,this.layout.layoutBox),I5(this.target,this.targetDelta)):so(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),qp(this.relativeTargetOrigin,this.target,m.target),so(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||zk(this.parent.latestValues)||R5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ai.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;so(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;JH(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=yn());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Kj(this.prevProjectionDelta.x,this.projectionDelta.x),Kj(this.prevProjectionDelta.y,this.projectionDelta.y)),Wp(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!rP(this.projectionDelta.x,this.prevProjectionDelta.x)||!rP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sf(),this.projectionDelta=Sf(),this.projectionDeltaWithTransform=Sf()}setAnimationOrigin(o,a=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},p=Sf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=yn(),m=c?c.source:void 0,v=this.layout?this.layout.source:void 0,x=m!==v,w=this.getStack(),T=!w||w.members.length<=1,j=!!(x&&!T&&this.options.crossfade===!0&&!this.path.some(AK));this.animationProgress=0;let P;this.mixTargetDelta=S=>{const B=S/1e3;oP(p.x,o.x,B),oP(p.y,o.y,B),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qp(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),NK(this.relativeTarget,this.relativeTargetOrigin,g,B),P&&hK(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=yn()),so(P,this.relativeTarget)),x&&(this.animationValues=f,aK(f,d,this.latestValues,B,j,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,c,d;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Sc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xr.update(()=>{O0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Jf(0)),this.currentAnimation=rK(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gK),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:d,latestValues:f}=o;if(!(!a||!c||!d)){if(this!==o&&this.layout&&d&&r3(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||yn();const p=Ji(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+p;const g=Ji(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}so(a,c),Cf(a,f),Wp(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new pK),this.sharedNodes.get(o).add(a);const d=a.options.initialPromotionConfig;a.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const d={};c.z&&i1("z",o,d,this.animationValues);for(let f=0;f<n1.length;f++)i1(`rotate${n1[f]}`,o,d,this.animationValues),i1(`skew${n1[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=D0(a==null?void 0:a.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=D0(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ku(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let p=mK(this.projectionDeltaWithTransform,this.treeScale,f);c&&(p=c(f,p)),o.transform=p;const{x:g,y:m}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${m.origin*100}% 0`,d.animationValues?o.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in _m){if(f[v]===void 0)continue;const{correct:x,applyTo:w,isCSSVariable:T}=_m[v],j=p==="none"?f[v]:x(f[v],d);if(w){const P=w.length;for(let S=0;S<P;S++)o[w[S]]=j}else T?this.options.visualElement.renderState.vars[v]=j:o[v]=j}this.options.layoutId&&(o.pointerEvents=d===this?D0(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(nP),this.root.sharedNodes.clear()}}}function xK(t){t.updateLayout()}function vK(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?ao(p=>{const g=o?e.measuredBox[p]:e.layoutBox[p],m=Ji(g);g.min=n[p].min,g.max=g.min+m}):r3(s,e.layoutBox,n)&&ao(p=>{const g=o?e.measuredBox[p]:e.layoutBox[p],m=Ji(n[p]);g.max=g.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+m)});const a=Sf();Wp(a,n,e.layoutBox);const c=Sf();o?Wp(c,t.applyTransform(i,!0),e.measuredBox):Wp(c,n,e.layoutBox);const d=!Q5(a);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:m}=p;if(g&&m){const v=yn();qp(v,e.layoutBox,g.layoutBox);const x=yn();qp(x,n,m.layoutBox),Z5(v,x)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=v,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function bK(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function wK(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function kK(t){t.clearSnapshot()}function nP(t){t.clearMeasurements()}function iP(t){t.isLayoutDirty=!1}function _K(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function sP(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function CK(t){t.resolveTargetDelta()}function SK(t){t.calcProjection()}function EK(t){t.resetSkewAndRotation()}function TK(t){t.removeLeadSnapshot()}function oP(t,e,r){t.translate=an(e.translate,0,r),t.scale=an(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function aP(t,e,r,n){t.min=an(e.min,r.min,n),t.max=an(e.max,r.max,n)}function NK(t,e,r,n){aP(t.x,e.x,r.x,n),aP(t.y,e.y,r.y,n)}function AK(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const jK={duration:.45,ease:[.4,0,.1,1]},lP=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),cP=lP("applewebkit/")&&!lP("chrome/")?Math.round:xo;function uP(t){t.min=cP(t.min),t.max=cP(t.max)}function PK(t){uP(t.x),uP(t.y)}function r3(t,e,r){return t==="position"||t==="preserve-aspect"&&!LG(tP(e),tP(r),.2)}function RK(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const IK=t3({attachResizeListener:(t,e)=>Cm(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),s1={current:void 0},n3=t3({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!s1.current){const t=new IK({});t.mount(window),t.setOptions({layoutScroll:!0}),s1.current=t}return s1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),MK={pan:{Feature:QG},drag:{Feature:XG,ProjectionNode:n3,MeasureLayout:Y5}};function dP(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&Xr.postRender(()=>s(e,ug(e)))}class DK extends Oc{mount(){const{current:e}=this.node;e&&(this.unmount=rH(e,(r,n)=>(dP(this.node,n,"Start"),i=>dP(this.node,i,"End"))))}unmount(){}}class OK extends Oc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ag(Cm(this.node.current,"focus",()=>this.onFocus()),Cm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function fP(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&Xr.postRender(()=>s(e,ug(e)))}class LK extends Oc{mount(){const{current:e}=this.node;e&&(this.unmount=oH(e,(r,n)=>(fP(this.node,n,"Start"),(i,{success:s})=>fP(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Hk=new WeakMap,o1=new WeakMap,FK=t=>{const e=Hk.get(t.target);e&&e(t)},zK=t=>{t.forEach(FK)};function BK({root:t,...e}){const r=t||document;o1.has(r)||o1.set(r,{});const n=o1.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(zK,{root:t,...e})),n[i]}function $K(t,e,r){const n=BK(e);return Hk.set(t,r),n.observe(t),()=>{Hk.delete(t),n.unobserve(t)}}const UK={some:0,all:1};class VK extends Oc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:UK[i]},a=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=d?f:p;g&&g(c)};return $K(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(WK(e,r))&&this.startObserver()}unmount(){}}function WK({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const qK={inView:{Feature:VK},tap:{Feature:LK},focus:{Feature:OK},hover:{Feature:DK}},HK={layout:{ProjectionNode:n3,MeasureLayout:Y5}},GK={...PG,...qK,...MK,...HK},An=GH(GK,oG);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),$e=(t,e)=>{const r=C.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:c,...d},f)=>C.createElement("svg",{ref:f,...KK,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${YK(t)}`,a].join(" "),...d},[...e.map(([p,g])=>C.createElement(p,g)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=$e("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=$e("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=$e("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=$e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=$e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=$e("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=$e("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=$e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=$e("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=$e("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=$e("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=$e("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=$e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=$e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=$e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=$e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=$e("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=$e("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=$e("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=$e("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=$e("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=$e("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=$e("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=$e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=$e("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=$e("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=$e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=$e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=$e("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=$e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=$e("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=$e("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=$e("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=$e("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=$e("LockKeyhole",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=$e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=$e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=$e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=$e("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=$e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=$e("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=$e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=$e("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=$e("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=$e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=$e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=$e("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=$e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=$e("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=$e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=$e("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=$e("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=$e("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=$e("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=$e("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=$e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=$e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=$e("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=$e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=$e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=$e("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=$e("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=$e("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=$e("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=$e("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=$e("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=$e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=$e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=$e("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=$e("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=$e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=$e("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=$e("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function SP(t,[e,r]){return Math.min(r,Math.max(e,t))}function Ke(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function yY(t,e){const r=C.createContext(e),n=s=>{const{children:o,...a}=s,c=C.useMemo(()=>a,Object.values(a));return l.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function i(s){const o=C.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function So(t,e=[]){let r=[];function n(s,o){const a=C.createContext(o),c=r.length;r=[...r,o];const d=p=>{var T;const{scope:g,children:m,...v}=p,x=((T=g==null?void 0:g[t])==null?void 0:T[c])||a,w=C.useMemo(()=>v,Object.values(v));return l.jsx(x.Provider,{value:w,children:m})};d.displayName=s+"Provider";function f(p,g){var x;const m=((x=g==null?void 0:g[t])==null?void 0:x[c])||a,v=C.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[d,f]}const i=()=>{const s=r.map(o=>C.createContext(o));return function(a){const c=(a==null?void 0:a[t])||s;return C.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[n,xY(i,...e)]}function xY(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((a,{useScope:c,scopeName:d})=>{const p=c(s)[`__scope${d}`];return{...a,...p}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function EP(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function sv(...t){return e=>{let r=!1;const n=t.map(i=>{const s=EP(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():EP(t[i],null)}}}}function yr(...t){return C.useCallback(sv(...t),t)}function Qu(t){const e=vY(t),r=C.forwardRef((n,i)=>{const{children:s,...o}=n,a=C.Children.toArray(s),c=a.find(wY);if(c){const d=c.props.children,f=a.map(p=>p===c?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:p);return l.jsx(e,{...o,ref:i,children:C.isValidElement(d)?C.cloneElement(d,void 0,f):null})}return l.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var l3=Qu("Slot");function vY(t){const e=C.forwardRef((r,n)=>{const{children:i,...s}=r;if(C.isValidElement(i)){const o=_Y(i),a=kY(s,i.props);return i.type!==C.Fragment&&(a.ref=n?sv(n,o):o),C.cloneElement(i,a)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var c3=Symbol("radix.slottable");function bY(t){const e=({children:r})=>l.jsx(l.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=c3,e}function wY(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===c3}function kY(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function _Y(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function ov(t){const e=t+"CollectionProvider",[r,n]=So(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:w,children:T}=x,j=ve.useRef(null),P=ve.useRef(new Map).current;return l.jsx(i,{scope:w,itemMap:P,collectionRef:j,children:T})};o.displayName=e;const a=t+"CollectionSlot",c=Qu(a),d=ve.forwardRef((x,w)=>{const{scope:T,children:j}=x,P=s(a,T),S=yr(w,P.collectionRef);return l.jsx(c,{ref:S,children:j})});d.displayName=a;const f=t+"CollectionItemSlot",p="data-radix-collection-item",g=Qu(f),m=ve.forwardRef((x,w)=>{const{scope:T,children:j,...P}=x,S=ve.useRef(null),B=yr(w,S),$=s(f,T);return ve.useEffect(()=>($.itemMap.set(S,{ref:S,...P}),()=>void $.itemMap.delete(S))),l.jsx(g,{[p]:"",ref:B,children:j})});m.displayName=f;function v(x){const w=s(t+"CollectionConsumer",x);return ve.useCallback(()=>{const j=w.collectionRef.current;if(!j)return[];const P=Array.from(j.querySelectorAll(`[${p}]`));return Array.from(w.itemMap.values()).sort(($,W)=>P.indexOf($.ref.current)-P.indexOf(W.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:m},v,n]}var CY=C.createContext(void 0);function dg(t){const e=C.useContext(CY);return t||e||"ltr"}var SY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Dt=SY.reduce((t,e)=>{const r=Qu(`Primitive.${e}`),n=C.forwardRef((i,s)=>{const{asChild:o,...a}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function u3(t,e){t&&Qm.flushSync(()=>t.dispatchEvent(e))}function za(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function EY(t,e=globalThis==null?void 0:globalThis.document){const r=za(t);C.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var TY="DismissableLayer",Gk="dismissableLayer.update",NY="dismissableLayer.pointerDownOutside",AY="dismissableLayer.focusOutside",TP,d3=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fg=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...c}=t,d=C.useContext(d3),[f,p]=C.useState(null),g=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=C.useState({}),v=yr(e,W=>p(W)),x=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),T=x.indexOf(w),j=f?x.indexOf(f):-1,P=d.layersWithOutsidePointerEventsDisabled.size>0,S=j>=T,B=RY(W=>{const G=W.target,q=[...d.branches].some(H=>H.contains(G));!S||q||(i==null||i(W),o==null||o(W),W.defaultPrevented||a==null||a())},g),$=IY(W=>{const G=W.target;[...d.branches].some(H=>H.contains(G))||(s==null||s(W),o==null||o(W),W.defaultPrevented||a==null||a())},g);return EY(W=>{j===d.layers.size-1&&(n==null||n(W),!W.defaultPrevented&&a&&(W.preventDefault(),a()))},g),C.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(TP=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),NP(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=TP)}},[f,g,r,d]),C.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),NP())},[f,d]),C.useEffect(()=>{const W=()=>m({});return document.addEventListener(Gk,W),()=>document.removeEventListener(Gk,W)},[]),l.jsx(Dt.div,{...c,ref:v,style:{pointerEvents:P?S?"auto":"none":void 0,...t.style},onFocusCapture:Ke(t.onFocusCapture,$.onFocusCapture),onBlurCapture:Ke(t.onBlurCapture,$.onBlurCapture),onPointerDownCapture:Ke(t.onPointerDownCapture,B.onPointerDownCapture)})});fg.displayName=TY;var jY="DismissableLayerBranch",PY=C.forwardRef((t,e)=>{const r=C.useContext(d3),n=C.useRef(null),i=yr(e,n);return C.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),l.jsx(Dt.div,{...t,ref:i})});PY.displayName=jY;function RY(t,e=globalThis==null?void 0:globalThis.document){const r=za(t),n=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const s=a=>{if(a.target&&!n.current){let c=function(){f3(NY,r,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function IY(t,e=globalThis==null?void 0:globalThis.document){const r=za(t),n=C.useRef(!1);return C.useEffect(()=>{const i=s=>{s.target&&!n.current&&f3(AY,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function NP(){const t=new CustomEvent(Gk);document.dispatchEvent(t)}function f3(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?u3(i,s):i.dispatchEvent(s)}var l1=0;function hS(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??AP()),document.body.insertAdjacentElement("beforeend",t[1]??AP()),l1++,()=>{l1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),l1--}},[])}function AP(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var c1="focusScope.autoFocusOnMount",u1="focusScope.autoFocusOnUnmount",jP={bubbles:!1,cancelable:!0},MY="FocusScope",av=C.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,c]=C.useState(null),d=za(i),f=za(s),p=C.useRef(null),g=yr(e,x=>c(x)),m=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(n){let x=function(P){if(m.paused||!a)return;const S=P.target;a.contains(S)?p.current=S:ic(p.current,{select:!0})},w=function(P){if(m.paused||!a)return;const S=P.relatedTarget;S!==null&&(a.contains(S)||ic(p.current,{select:!0}))},T=function(P){if(document.activeElement===document.body)for(const B of P)B.removedNodes.length>0&&ic(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const j=new MutationObserver(T);return a&&j.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),j.disconnect()}}},[n,a,m.paused]),C.useEffect(()=>{if(a){RP.add(m);const x=document.activeElement;if(!a.contains(x)){const T=new CustomEvent(c1,jP);a.addEventListener(c1,d),a.dispatchEvent(T),T.defaultPrevented||(DY(BY(h3(a)),{select:!0}),document.activeElement===x&&ic(a))}return()=>{a.removeEventListener(c1,d),setTimeout(()=>{const T=new CustomEvent(u1,jP);a.addEventListener(u1,f),a.dispatchEvent(T),T.defaultPrevented||ic(x??document.body,{select:!0}),a.removeEventListener(u1,f),RP.remove(m)},0)}}},[a,d,f,m]);const v=C.useCallback(x=>{if(!r&&!n||m.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,T=document.activeElement;if(w&&T){const j=x.currentTarget,[P,S]=OY(j);P&&S?!x.shiftKey&&T===S?(x.preventDefault(),r&&ic(P,{select:!0})):x.shiftKey&&T===P&&(x.preventDefault(),r&&ic(S,{select:!0})):T===j&&x.preventDefault()}},[r,n,m.paused]);return l.jsx(Dt.div,{tabIndex:-1,...o,ref:g,onKeyDown:v})});av.displayName=MY;function DY(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(ic(n,{select:e}),document.activeElement!==r)return}function OY(t){const e=h3(t),r=PP(e,t),n=PP(e.reverse(),t);return[r,n]}function h3(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function PP(t,e){for(const r of t)if(!LY(r,{upTo:e}))return r}function LY(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function FY(t){return t instanceof HTMLInputElement&&"select"in t}function ic(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&FY(t)&&e&&t.select()}}var RP=zY();function zY(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=IP(t,e),t.unshift(e)},remove(e){var r;t=IP(t,e),(r=t[0])==null||r.resume()}}}function IP(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function BY(t){return t.filter(e=>e.tagName!=="A")}var ui=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},$Y=cC[" useId ".trim().toString()]||(()=>{}),UY=0;function qs(t){const[e,r]=C.useState($Y());return ui(()=>{r(n=>n??String(UY++))},[t]),e?`radix-${e}`:""}const VY=["top","right","bottom","left"],Nc=Math.min,Ms=Math.max,px=Math.round,By=Math.floor,Oa=t=>({x:t,y:t}),WY={left:"right",right:"left",bottom:"top",top:"bottom"},qY={start:"end",end:"start"};function Kk(t,e,r){return Ms(t,Nc(e,r))}function kl(t,e){return typeof t=="function"?t(e):t}function _l(t){return t.split("-")[0]}function bh(t){return t.split("-")[1]}function pS(t){return t==="x"?"y":"x"}function mS(t){return t==="y"?"height":"width"}const HY=new Set(["top","bottom"]);function Pa(t){return HY.has(_l(t))?"y":"x"}function gS(t){return pS(Pa(t))}function GY(t,e,r){r===void 0&&(r=!1);const n=bh(t),i=gS(t),s=mS(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=mx(o)),[o,mx(o)]}function KY(t){const e=mx(t);return[Yk(t),e,Yk(e)]}function Yk(t){return t.replace(/start|end/g,e=>qY[e])}const MP=["left","right"],DP=["right","left"],YY=["top","bottom"],JY=["bottom","top"];function XY(t,e,r){switch(t){case"top":case"bottom":return r?e?DP:MP:e?MP:DP;case"left":case"right":return e?YY:JY;default:return[]}}function QY(t,e,r,n){const i=bh(t);let s=XY(_l(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Yk)))),s}function mx(t){return t.replace(/left|right|bottom|top/g,e=>WY[e])}function ZY(t){return{top:0,right:0,bottom:0,left:0,...t}}function p3(t){return typeof t!="number"?ZY(t):{top:t,right:t,bottom:t,left:t}}function gx(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function OP(t,e,r){let{reference:n,floating:i}=t;const s=Pa(e),o=gS(e),a=mS(o),c=_l(e),d=s==="y",f=n.x+n.width/2-i.width/2,p=n.y+n.height/2-i.height/2,g=n[a]/2-i[a]/2;let m;switch(c){case"top":m={x:f,y:n.y-i.height};break;case"bottom":m={x:f,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:p};break;case"left":m={x:n.x-i.width,y:p};break;default:m={x:n.x,y:n.y}}switch(bh(e)){case"start":m[o]-=g*(r&&d?-1:1);break;case"end":m[o]+=g*(r&&d?-1:1);break}return m}const eJ=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:p}=OP(d,n,c),g=n,m={},v=0;for(let x=0;x<a.length;x++){const{name:w,fn:T}=a[x],{x:j,y:P,data:S,reset:B}=await T({x:f,y:p,initialPlacement:n,placement:g,strategy:i,middlewareData:m,rects:d,platform:o,elements:{reference:t,floating:e}});f=j??f,p=P??p,m={...m,[w]:{...m[w],...S}},B&&v<=50&&(v++,typeof B=="object"&&(B.placement&&(g=B.placement),B.rects&&(d=B.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):B.rects),{x:f,y:p}=OP(d,g,c)),x=-1)}return{x:f,y:p,placement:g,strategy:i,middlewareData:m}};async function Rm(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:a,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:m=0}=kl(e,t),v=p3(m),w=a[g?p==="floating"?"reference":"floating":p],T=gx(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(w)))==null||r?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:d,rootBoundary:f,strategy:c})),j=p==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(P))?await(s.getScale==null?void 0:s.getScale(P))||{x:1,y:1}:{x:1,y:1},B=gx(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:j,offsetParent:P,strategy:c}):j);return{top:(T.top-B.top+v.top)/S.y,bottom:(B.bottom-T.bottom+v.bottom)/S.y,left:(T.left-B.left+v.left)/S.x,right:(B.right-T.right+v.right)/S.x}}const tJ=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=e,{element:d,padding:f=0}=kl(t,e)||{};if(d==null)return{};const p=p3(f),g={x:r,y:n},m=gS(i),v=mS(m),x=await o.getDimensions(d),w=m==="y",T=w?"top":"left",j=w?"bottom":"right",P=w?"clientHeight":"clientWidth",S=s.reference[v]+s.reference[m]-g[m]-s.floating[v],B=g[m]-s.reference[m],$=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let W=$?$[P]:0;(!W||!await(o.isElement==null?void 0:o.isElement($)))&&(W=a.floating[P]||s.floating[v]);const G=S/2-B/2,q=W/2-x[v]/2-1,H=Nc(p[T],q),J=Nc(p[j],q),V=H,F=W-x[v]-J,b=W/2-x[v]/2+G,A=Kk(V,b,F),O=!c.arrow&&bh(i)!=null&&b!==A&&s.reference[v]/2-(b<V?H:J)-x[v]/2<0,R=O?b<V?b-V:b-F:0;return{[m]:g[m]+R,data:{[m]:A,centerOffset:b-A-R,...O&&{alignmentOffset:R}},reset:O}}}),rJ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...w}=kl(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const T=_l(i),j=Pa(a),P=_l(a)===a,S=await(c.isRTL==null?void 0:c.isRTL(d.floating)),B=g||(P||!x?[mx(a)]:KY(a)),$=v!=="none";!g&&$&&B.push(...QY(a,x,v,S));const W=[a,...B],G=await Rm(e,w),q=[];let H=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&q.push(G[T]),p){const b=GY(i,o,S);q.push(G[b[0]],G[b[1]])}if(H=[...H,{placement:i,overflows:q}],!q.every(b=>b<=0)){var J,V;const b=(((J=s.flip)==null?void 0:J.index)||0)+1,A=W[b];if(A&&(!(p==="alignment"?j!==Pa(A):!1)||H.every(k=>k.overflows[0]>0&&Pa(k.placement)===j)))return{data:{index:b,overflows:H},reset:{placement:A}};let O=(V=H.filter(R=>R.overflows[0]<=0).sort((R,k)=>R.overflows[1]-k.overflows[1])[0])==null?void 0:V.placement;if(!O)switch(m){case"bestFit":{var F;const R=(F=H.filter(k=>{if($){const I=Pa(k.placement);return I===j||I==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(I=>I>0).reduce((I,N)=>I+N,0)]).sort((k,I)=>k[1]-I[1])[0])==null?void 0:F[0];R&&(O=R);break}case"initialPlacement":O=a;break}if(i!==O)return{reset:{placement:O}}}return{}}}};function LP(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function FP(t){return VY.some(e=>t[e]>=0)}const nJ=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=kl(t,e);switch(n){case"referenceHidden":{const s=await Rm(e,{...i,elementContext:"reference"}),o=LP(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:FP(o)}}}case"escaped":{const s=await Rm(e,{...i,altBoundary:!0}),o=LP(s,r.floating);return{data:{escapedOffsets:o,escaped:FP(o)}}}default:return{}}}}},m3=new Set(["left","top"]);async function iJ(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=_l(r),a=bh(r),c=Pa(r)==="y",d=m3.has(o)?-1:1,f=s&&c?-1:1,p=kl(e,t);let{mainAxis:g,crossAxis:m,alignmentAxis:v}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),c?{x:m*f,y:g*d}:{x:g*d,y:m*f}}const sJ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await iJ(e,t);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},oJ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:T,y:j}=w;return{x:T,y:j}}},...c}=kl(t,e),d={x:r,y:n},f=await Rm(e,c),p=Pa(_l(i)),g=pS(p);let m=d[g],v=d[p];if(s){const w=g==="y"?"top":"left",T=g==="y"?"bottom":"right",j=m+f[w],P=m-f[T];m=Kk(j,m,P)}if(o){const w=p==="y"?"top":"left",T=p==="y"?"bottom":"right",j=v+f[w],P=v-f[T];v=Kk(j,v,P)}const x=a.fn({...e,[g]:m,[p]:v});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[g]:s,[p]:o}}}}}},aJ=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:d=!0}=kl(t,e),f={x:r,y:n},p=Pa(i),g=pS(p);let m=f[g],v=f[p];const x=kl(a,e),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const P=g==="y"?"height":"width",S=s.reference[g]-s.floating[P]+w.mainAxis,B=s.reference[g]+s.reference[P]-w.mainAxis;m<S?m=S:m>B&&(m=B)}if(d){var T,j;const P=g==="y"?"width":"height",S=m3.has(_l(i)),B=s.reference[p]-s.floating[P]+(S&&((T=o.offset)==null?void 0:T[p])||0)+(S?0:w.crossAxis),$=s.reference[p]+s.reference[P]+(S?0:((j=o.offset)==null?void 0:j[p])||0)-(S?w.crossAxis:0);v<B?v=B:v>$&&(v=$)}return{[g]:m,[p]:v}}}},lJ=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:c=()=>{},...d}=kl(t,e),f=await Rm(e,d),p=_l(i),g=bh(i),m=Pa(i)==="y",{width:v,height:x}=s.floating;let w,T;p==="top"||p==="bottom"?(w=p,T=g===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(T=p,w=g==="end"?"top":"bottom");const j=x-f.top-f.bottom,P=v-f.left-f.right,S=Nc(x-f[w],j),B=Nc(v-f[T],P),$=!e.middlewareData.shift;let W=S,G=B;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(G=P),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(W=j),$&&!g){const H=Ms(f.left,0),J=Ms(f.right,0),V=Ms(f.top,0),F=Ms(f.bottom,0);m?G=v-2*(H!==0||J!==0?H+J:Ms(f.left,f.right)):W=x-2*(V!==0||F!==0?V+F:Ms(f.top,f.bottom))}await c({...e,availableWidth:G,availableHeight:W});const q=await o.getDimensions(a.floating);return v!==q.width||x!==q.height?{reset:{rects:!0}}:{}}}};function lv(){return typeof window<"u"}function wh(t){return g3(t)?(t.nodeName||"").toLowerCase():"#document"}function Hs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Wa(t){var e;return(e=(g3(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function g3(t){return lv()?t instanceof Node||t instanceof Hs(t).Node:!1}function ra(t){return lv()?t instanceof Element||t instanceof Hs(t).Element:!1}function Ba(t){return lv()?t instanceof HTMLElement||t instanceof Hs(t).HTMLElement:!1}function zP(t){return!lv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Hs(t).ShadowRoot}const cJ=new Set(["inline","contents"]);function hg(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=na(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!cJ.has(i)}const uJ=new Set(["table","td","th"]);function dJ(t){return uJ.has(wh(t))}const fJ=[":popover-open",":modal"];function cv(t){return fJ.some(e=>{try{return t.matches(e)}catch{return!1}})}const hJ=["transform","translate","scale","rotate","perspective"],pJ=["transform","translate","scale","rotate","perspective","filter"],mJ=["paint","layout","strict","content"];function yS(t){const e=xS(),r=ra(t)?na(t):t;return hJ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||pJ.some(n=>(r.willChange||"").includes(n))||mJ.some(n=>(r.contain||"").includes(n))}function gJ(t){let e=Ac(t);for(;Ba(e)&&!eh(e);){if(yS(e))return e;if(cv(e))return null;e=Ac(e)}return null}function xS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const yJ=new Set(["html","body","#document"]);function eh(t){return yJ.has(wh(t))}function na(t){return Hs(t).getComputedStyle(t)}function uv(t){return ra(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ac(t){if(wh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||zP(t)&&t.host||Wa(t);return zP(e)?e.host:e}function y3(t){const e=Ac(t);return eh(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ba(e)&&hg(e)?e:y3(e)}function Im(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=y3(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=Hs(i);if(s){const a=Jk(o);return e.concat(o,o.visualViewport||[],hg(i)?i:[],a&&r?Im(a):[])}return e.concat(i,Im(i,[],r))}function Jk(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function x3(t){const e=na(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Ba(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,a=px(r)!==s||px(n)!==o;return a&&(r=s,n=o),{width:r,height:n,$:a}}function vS(t){return ra(t)?t:t.contextElement}function Of(t){const e=vS(t);if(!Ba(e))return Oa(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=x3(e);let o=(s?px(r.width):r.width)/n,a=(s?px(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const xJ=Oa(0);function v3(t){const e=Hs(t);return!xS()||!e.visualViewport?xJ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function vJ(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Hs(t)?!1:e}function Zu(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=vS(t);let o=Oa(1);e&&(n?ra(n)&&(o=Of(n)):o=Of(t));const a=vJ(s,r,n)?v3(s):Oa(0);let c=(i.left+a.x)/o.x,d=(i.top+a.y)/o.y,f=i.width/o.x,p=i.height/o.y;if(s){const g=Hs(s),m=n&&ra(n)?Hs(n):n;let v=g,x=Jk(v);for(;x&&n&&m!==v;){const w=Of(x),T=x.getBoundingClientRect(),j=na(x),P=T.left+(x.clientLeft+parseFloat(j.paddingLeft))*w.x,S=T.top+(x.clientTop+parseFloat(j.paddingTop))*w.y;c*=w.x,d*=w.y,f*=w.x,p*=w.y,c+=P,d+=S,v=Hs(x),x=Jk(v)}}return gx({width:f,height:p,x:c,y:d})}function bS(t,e){const r=uv(t).scrollLeft;return e?e.left+r:Zu(Wa(t)).left+r}function b3(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:bS(t,n)),s=n.top+e.scrollTop;return{x:i,y:s}}function bJ(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=Wa(n),a=e?cv(e.floating):!1;if(n===o||a&&s)return r;let c={scrollLeft:0,scrollTop:0},d=Oa(1);const f=Oa(0),p=Ba(n);if((p||!p&&!s)&&((wh(n)!=="body"||hg(o))&&(c=uv(n)),Ba(n))){const m=Zu(n);d=Of(n),f.x=m.x+n.clientLeft,f.y=m.y+n.clientTop}const g=o&&!p&&!s?b3(o,c,!0):Oa(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+f.x+g.x,y:r.y*d.y-c.scrollTop*d.y+f.y+g.y}}function wJ(t){return Array.from(t.getClientRects())}function kJ(t){const e=Wa(t),r=uv(t),n=t.ownerDocument.body,i=Ms(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Ms(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+bS(t);const a=-r.scrollTop;return na(n).direction==="rtl"&&(o+=Ms(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:a}}function _J(t,e){const r=Hs(t),n=Wa(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const d=xS();(!d||d&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}const CJ=new Set(["absolute","fixed"]);function SJ(t,e){const r=Zu(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=Ba(t)?Of(t):Oa(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,c=i*s.x,d=n*s.y;return{width:o,height:a,x:c,y:d}}function BP(t,e,r){let n;if(e==="viewport")n=_J(t,r);else if(e==="document")n=kJ(Wa(t));else if(ra(e))n=SJ(e,r);else{const i=v3(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return gx(n)}function w3(t,e){const r=Ac(t);return r===e||!ra(r)||eh(r)?!1:na(r).position==="fixed"||w3(r,e)}function EJ(t,e){const r=e.get(t);if(r)return r;let n=Im(t,[],!1).filter(a=>ra(a)&&wh(a)!=="body"),i=null;const s=na(t).position==="fixed";let o=s?Ac(t):t;for(;ra(o)&&!eh(o);){const a=na(o),c=yS(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&CJ.has(i.position)||hg(o)&&!c&&w3(t,o))?n=n.filter(f=>f!==o):i=a,o=Ac(o)}return e.set(t,n),n}function TJ(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?cv(e)?[]:EJ(e,this._c):[].concat(r),n],a=o[0],c=o.reduce((d,f)=>{const p=BP(e,f,i);return d.top=Ms(p.top,d.top),d.right=Nc(p.right,d.right),d.bottom=Nc(p.bottom,d.bottom),d.left=Ms(p.left,d.left),d},BP(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function NJ(t){const{width:e,height:r}=x3(t);return{width:e,height:r}}function AJ(t,e,r){const n=Ba(e),i=Wa(e),s=r==="fixed",o=Zu(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=Oa(0);function d(){c.x=bS(i)}if(n||!n&&!s)if((wh(e)!=="body"||hg(i))&&(a=uv(e)),n){const m=Zu(e,!0,s,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else i&&d();s&&!n&&i&&d();const f=i&&!n&&!s?b3(i,a):Oa(0),p=o.left+a.scrollLeft-c.x-f.x,g=o.top+a.scrollTop-c.y-f.y;return{x:p,y:g,width:o.width,height:o.height}}function d1(t){return na(t).position==="static"}function $P(t,e){if(!Ba(t)||na(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Wa(t)===r&&(r=r.ownerDocument.body),r}function k3(t,e){const r=Hs(t);if(cv(t))return r;if(!Ba(t)){let i=Ac(t);for(;i&&!eh(i);){if(ra(i)&&!d1(i))return i;i=Ac(i)}return r}let n=$P(t,e);for(;n&&dJ(n)&&d1(n);)n=$P(n,e);return n&&eh(n)&&d1(n)&&!yS(n)?r:n||gJ(t)||r}const jJ=async function(t){const e=this.getOffsetParent||k3,r=this.getDimensions,n=await r(t.floating);return{reference:AJ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function PJ(t){return na(t).direction==="rtl"}const RJ={convertOffsetParentRelativeRectToViewportRelativeRect:bJ,getDocumentElement:Wa,getClippingRect:TJ,getOffsetParent:k3,getElementRects:jJ,getClientRects:wJ,getDimensions:NJ,getScale:Of,isElement:ra,isRTL:PJ};function _3(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function IJ(t,e){let r=null,n;const i=Wa(t);function s(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const d=t.getBoundingClientRect(),{left:f,top:p,width:g,height:m}=d;if(a||e(),!g||!m)return;const v=By(p),x=By(i.clientWidth-(f+g)),w=By(i.clientHeight-(p+m)),T=By(f),P={rootMargin:-v+"px "+-x+"px "+-w+"px "+-T+"px",threshold:Ms(0,Nc(1,c))||1};let S=!0;function B($){const W=$[0].intersectionRatio;if(W!==c){if(!S)return o();W?o(!1,W):n=setTimeout(()=>{o(!1,1e-7)},1e3)}W===1&&!_3(d,t.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(B,{...P,root:i.ownerDocument})}catch{r=new IntersectionObserver(B,P)}r.observe(t)}return o(!0),s}function MJ(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=vS(t),f=i||s?[...d?Im(d):[],...Im(e)]:[];f.forEach(T=>{i&&T.addEventListener("scroll",r,{passive:!0}),s&&T.addEventListener("resize",r)});const p=d&&a?IJ(d,r):null;let g=-1,m=null;o&&(m=new ResizeObserver(T=>{let[j]=T;j&&j.target===d&&m&&(m.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var P;(P=m)==null||P.observe(e)})),r()}),d&&!c&&m.observe(d),m.observe(e));let v,x=c?Zu(t):null;c&&w();function w(){const T=Zu(t);x&&!_3(x,T)&&r(),x=T,v=requestAnimationFrame(w)}return r(),()=>{var T;f.forEach(j=>{i&&j.removeEventListener("scroll",r),s&&j.removeEventListener("resize",r)}),p==null||p(),(T=m)==null||T.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const DJ=sJ,OJ=oJ,LJ=rJ,FJ=lJ,zJ=nJ,UP=tJ,BJ=aJ,$J=(t,e,r)=>{const n=new Map,i={platform:RJ,...r},s={...i.platform,_c:n};return eJ(t,e,{...i,platform:s})};var UJ=typeof document<"u",VJ=function(){},F0=UJ?C.useLayoutEffect:VJ;function yx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!yx(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!yx(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function C3(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function VP(t,e){const r=C3(t);return Math.round(e*r)/r}function f1(t){const e=C.useRef(t);return F0(()=>{e.current=t}),e}function WJ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:d}=t,[f,p]=C.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,m]=C.useState(n);yx(g,n)||m(n);const[v,x]=C.useState(null),[w,T]=C.useState(null),j=C.useCallback(k=>{k!==$.current&&($.current=k,x(k))},[]),P=C.useCallback(k=>{k!==W.current&&(W.current=k,T(k))},[]),S=s||v,B=o||w,$=C.useRef(null),W=C.useRef(null),G=C.useRef(f),q=c!=null,H=f1(c),J=f1(i),V=f1(d),F=C.useCallback(()=>{if(!$.current||!W.current)return;const k={placement:e,strategy:r,middleware:g};J.current&&(k.platform=J.current),$J($.current,W.current,k).then(I=>{const N={...I,isPositioned:V.current!==!1};b.current&&!yx(G.current,N)&&(G.current=N,Qm.flushSync(()=>{p(N)}))})},[g,e,r,J,V]);F0(()=>{d===!1&&G.current.isPositioned&&(G.current.isPositioned=!1,p(k=>({...k,isPositioned:!1})))},[d]);const b=C.useRef(!1);F0(()=>(b.current=!0,()=>{b.current=!1}),[]),F0(()=>{if(S&&($.current=S),B&&(W.current=B),S&&B){if(H.current)return H.current(S,B,F);F()}},[S,B,F,H,q]);const A=C.useMemo(()=>({reference:$,floating:W,setReference:j,setFloating:P}),[j,P]),O=C.useMemo(()=>({reference:S,floating:B}),[S,B]),R=C.useMemo(()=>{const k={position:r,left:0,top:0};if(!O.floating)return k;const I=VP(O.floating,f.x),N=VP(O.floating,f.y);return a?{...k,transform:"translate("+I+"px, "+N+"px)",...C3(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:N}},[r,a,O.floating,f.x,f.y]);return C.useMemo(()=>({...f,update:F,refs:A,elements:O,floatingStyles:R}),[f,F,A,O,R])}const qJ=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?UP({element:n.current,padding:i}).fn(r):{}:n?UP({element:n,padding:i}).fn(r):{}}}},HJ=(t,e)=>({...DJ(t),options:[t,e]}),GJ=(t,e)=>({...OJ(t),options:[t,e]}),KJ=(t,e)=>({...BJ(t),options:[t,e]}),YJ=(t,e)=>({...LJ(t),options:[t,e]}),JJ=(t,e)=>({...FJ(t),options:[t,e]}),XJ=(t,e)=>({...zJ(t),options:[t,e]}),QJ=(t,e)=>({...qJ(t),options:[t,e]});var ZJ="Arrow",S3=C.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return l.jsx(Dt.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});S3.displayName=ZJ;var eX=S3;function E3(t){const[e,r]=C.useState(void 0);return ui(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const c=s.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;r({width:o,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var wS="Popper",[T3,kh]=So(wS),[tX,N3]=T3(wS),A3=t=>{const{__scopePopper:e,children:r}=t,[n,i]=C.useState(null);return l.jsx(tX,{scope:e,anchor:n,onAnchorChange:i,children:r})};A3.displayName=wS;var j3="PopperAnchor",P3=C.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=N3(j3,r),o=C.useRef(null),a=yr(e,o);return C.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:l.jsx(Dt.div,{...i,ref:a})});P3.displayName=j3;var kS="PopperContent",[rX,nX]=T3(kS),R3=C.forwardRef((t,e)=>{var Y,Q,ee,ae,ne,de;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:m="optimized",onPlaced:v,...x}=t,w=N3(kS,r),[T,j]=C.useState(null),P=yr(e,xe=>j(xe)),[S,B]=C.useState(null),$=E3(S),W=($==null?void 0:$.width)??0,G=($==null?void 0:$.height)??0,q=n+(s!=="center"?"-"+s:""),H=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},J=Array.isArray(d)?d:[d],V=J.length>0,F={padding:H,boundary:J.filter(sX),altBoundary:V},{refs:b,floatingStyles:A,placement:O,isPositioned:R,middlewareData:k}=WJ({strategy:"fixed",placement:q,whileElementsMounted:(...xe)=>MJ(...xe,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[HJ({mainAxis:i+G,alignmentAxis:o}),c&&GJ({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?KJ():void 0,...F}),c&&YJ({...F}),JJ({...F,apply:({elements:xe,rects:me,availableWidth:_e,availableHeight:Xe})=>{const{width:le,height:Ye}=me.reference,jt=xe.floating.style;jt.setProperty("--radix-popper-available-width",`${_e}px`),jt.setProperty("--radix-popper-available-height",`${Xe}px`),jt.setProperty("--radix-popper-anchor-width",`${le}px`),jt.setProperty("--radix-popper-anchor-height",`${Ye}px`)}}),S&&QJ({element:S,padding:a}),oX({arrowWidth:W,arrowHeight:G}),g&&XJ({strategy:"referenceHidden",...F})]}),[I,N]=D3(O),D=za(v);ui(()=>{R&&(D==null||D())},[R,D]);const E=(Y=k.arrow)==null?void 0:Y.x,M=(Q=k.arrow)==null?void 0:Q.y,Z=((ee=k.arrow)==null?void 0:ee.centerOffset)!==0,[z,K]=C.useState();return ui(()=>{T&&K(window.getComputedStyle(T).zIndex)},[T]),l.jsx("div",{ref:b.setFloating,"data-radix-popper-content-wrapper":"",style:{...A,transform:R?A.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:z,"--radix-popper-transform-origin":[(ae=k.transformOrigin)==null?void 0:ae.x,(ne=k.transformOrigin)==null?void 0:ne.y].join(" "),...((de=k.hide)==null?void 0:de.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(rX,{scope:r,placedSide:I,onArrowChange:B,arrowX:E,arrowY:M,shouldHideArrow:Z,children:l.jsx(Dt.div,{"data-side":I,"data-align":N,...x,ref:P,style:{...x.style,animation:R?void 0:"none"}})})})});R3.displayName=kS;var I3="PopperArrow",iX={top:"bottom",right:"left",bottom:"top",left:"right"},M3=C.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=nX(I3,n),o=iX[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(eX,{...i,ref:r,style:{...i.style,display:"block"}})})});M3.displayName=I3;function sX(t){return t!==null}var oX=t=>({name:"transformOrigin",options:t,fn(e){var w,T,j;const{placement:r,rects:n,middlewareData:i}=e,o=((w=i.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,f]=D3(r),p={start:"0%",center:"50%",end:"100%"}[f],g=(((T=i.arrow)==null?void 0:T.x)??0)+a/2,m=(((j=i.arrow)==null?void 0:j.y)??0)+c/2;let v="",x="";return d==="bottom"?(v=o?p:`${g}px`,x=`${-c}px`):d==="top"?(v=o?p:`${g}px`,x=`${n.floating.height+c}px`):d==="right"?(v=`${-c}px`,x=o?p:`${m}px`):d==="left"&&(v=`${n.floating.width+c}px`,x=o?p:`${m}px`),{data:{x:v,y:x}}}});function D3(t){const[e,r="center"]=t.split("-");return[e,r]}var _S=A3,CS=P3,SS=R3,ES=M3,aX="Portal",pg=C.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[i,s]=C.useState(!1);ui(()=>s(!0),[]);const o=r||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?uM.createPortal(l.jsx(Dt.div,{...n,ref:e}),o):null});pg.displayName=aX;var lX=cC[" useInsertionEffect ".trim().toString()]||ui;function ia({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,s,o]=cX({defaultProp:e,onChange:r}),a=t!==void 0,c=a?t:i;{const f=C.useRef(t!==void 0);C.useEffect(()=>{const p=f.current;p!==a&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,n])}const d=C.useCallback(f=>{var p;if(a){const g=uX(f)?f(t):f;g!==t&&((p=o.current)==null||p.call(o,g))}else s(f)},[a,t,s,o]);return[c,d]}function cX({defaultProp:t,onChange:e}){const[r,n]=C.useState(t),i=C.useRef(r),s=C.useRef(e);return lX(()=>{s.current=e},[e]),C.useEffect(()=>{var o;i.current!==r&&((o=s.current)==null||o.call(s,r),i.current=r)},[r,i]),[r,n,s]}function uX(t){return typeof t=="function"}function O3(t){const e=C.useRef({value:t,previous:t});return C.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var L3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),dX="VisuallyHidden",F3=C.forwardRef((t,e)=>l.jsx(Dt.span,{...t,ref:e,style:{...L3,...t.style}}));F3.displayName=dX;var fX=F3,hX=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Yd=new WeakMap,$y=new WeakMap,Uy={},h1=0,z3=function(t){return t&&(t.host||z3(t.parentNode))},pX=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=z3(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},mX=function(t,e,r,n){var i=pX(e,Array.isArray(t)?t:[t]);Uy[r]||(Uy[r]=new WeakMap);var s=Uy[r],o=[],a=new Set,c=new Set(i),d=function(p){!p||a.has(p)||(a.add(p),d(p.parentNode))};i.forEach(d);var f=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(g){if(a.has(g))f(g);else try{var m=g.getAttribute(n),v=m!==null&&m!=="false",x=(Yd.get(g)||0)+1,w=(s.get(g)||0)+1;Yd.set(g,x),s.set(g,w),o.push(g),x===1&&v&&$y.set(g,!0),w===1&&g.setAttribute(r,"true"),v||g.setAttribute(n,"true")}catch(T){console.error("aria-hidden: cannot operate on ",g,T)}})};return f(e),a.clear(),h1++,function(){o.forEach(function(p){var g=Yd.get(p)-1,m=s.get(p)-1;Yd.set(p,g),s.set(p,m),g||($y.has(p)||p.removeAttribute(n),$y.delete(p)),m||p.removeAttribute(r)}),h1--,h1||(Yd=new WeakMap,Yd=new WeakMap,$y=new WeakMap,Uy={})}},TS=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=hX(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),mX(n,i,r,"aria-hidden")):function(){return null}},Xk=function(t,e){return Xk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Xk(t,e)};function B3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Xk(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ho=function(){return ho=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ho.apply(this,arguments)};function Lc(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function $3(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function U3(t,e){return function(r,n){e(r,n,t)}}function V3(t,e,r,n,i,s){function o(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",d=!e&&t?n.static?t:t.prototype:null,f=e||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),p,g=!1,m=r.length-1;m>=0;m--){var v={};for(var x in n)v[x]=x==="access"?{}:n[x];for(var x in n.access)v.access[x]=n.access[x];v.addInitializer=function(T){if(g)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(T||null))};var w=(0,r[m])(a==="accessor"?{get:f.get,set:f.set}:f[c],v);if(a==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(p=o(w.get))&&(f.get=p),(p=o(w.set))&&(f.set=p),(p=o(w.init))&&i.unshift(p)}else(p=o(w))&&(a==="field"?i.unshift(p):f[c]=p)}d&&Object.defineProperty(d,n.name,f),g=!0}function W3(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function q3(t){return typeof t=="symbol"?t:"".concat(t)}function H3(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function G3(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function lt(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})}function K3(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(d){return function(f){return c([d,f])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(f){d=[6,f],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var dv=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function Y3(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&dv(e,t,r)}function xx(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function NS(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function J3(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(NS(arguments[e]));return t}function X3(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function AS(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function th(t){return this instanceof th?(this.v=t,this):new th(t)}function Q3(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(v){return Promise.resolve(v).then(m,p)}}function a(m,v){n[m]&&(i[m]=function(x){return new Promise(function(w,T){s.push([m,x,w,T])>1||c(m,x)})},v&&(i[m]=v(i[m])))}function c(m,v){try{d(n[m](v))}catch(x){g(s[0][3],x)}}function d(m){m.value instanceof th?Promise.resolve(m.value.v).then(f,p):g(s[0][2],m)}function f(m){c("next",m)}function p(m){c("throw",m)}function g(m,v){m(v),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Z3(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:th(t[i](o)),done:!1}:s?s(o):o}:s}}function eD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof xx=="function"?xx(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(d){s({value:d,done:a})},o)}}function tD(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var gX=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Qk=function(t){return Qk=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Qk(t)};function rD(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Qk(t),n=0;n<r.length;n++)r[n]!=="default"&&dv(e,t,r[n]);return gX(e,t),e}function nD(t){return t&&t.__esModule?t:{default:t}}function iD(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function sD(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function oD(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function aD(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var yX=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function lD(t){function e(s){t.error=t.hasError?new yX(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(o){return e(o),i()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function cD(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,o){return n?e?".jsx":".js":i&&(!s||!o)?r:i+s+"."+o.toLowerCase()+"js"}):t}const xX={__extends:B3,__assign:ho,__rest:Lc,__decorate:$3,__param:U3,__esDecorate:V3,__runInitializers:W3,__propKey:q3,__setFunctionName:H3,__metadata:G3,__awaiter:lt,__generator:K3,__createBinding:dv,__exportStar:Y3,__values:xx,__read:NS,__spread:J3,__spreadArrays:X3,__spreadArray:AS,__await:th,__asyncGenerator:Q3,__asyncDelegator:Z3,__asyncValues:eD,__makeTemplateObject:tD,__importStar:rD,__importDefault:nD,__classPrivateFieldGet:iD,__classPrivateFieldSet:sD,__classPrivateFieldIn:oD,__addDisposableResource:aD,__disposeResources:lD,__rewriteRelativeImportExtension:cD},vX=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:aD,get __assign(){return ho},__asyncDelegator:Z3,__asyncGenerator:Q3,__asyncValues:eD,__await:th,__awaiter:lt,__classPrivateFieldGet:iD,__classPrivateFieldIn:oD,__classPrivateFieldSet:sD,__createBinding:dv,__decorate:$3,__disposeResources:lD,__esDecorate:V3,__exportStar:Y3,__extends:B3,__generator:K3,__importDefault:nD,__importStar:rD,__makeTemplateObject:tD,__metadata:G3,__param:U3,__propKey:q3,__read:NS,__rest:Lc,__rewriteRelativeImportExtension:cD,__runInitializers:W3,__setFunctionName:H3,__spread:J3,__spreadArray:AS,__spreadArrays:X3,__values:xx,default:xX},Symbol.toStringTag,{value:"Module"}));var z0="right-scroll-bar-position",B0="width-before-scroll-bar",bX="with-scroll-bars-hidden",wX="--removed-body-scroll-bar-size";function p1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function kX(t,e){var r=C.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var _X=typeof window<"u"?C.useLayoutEffect:C.useEffect,WP=new WeakMap;function CX(t,e){var r=kX(null,function(n){return t.forEach(function(i){return p1(i,n)})});return _X(function(){var n=WP.get(r);if(n){var i=new Set(n),s=new Set(t),o=r.current;i.forEach(function(a){s.has(a)||p1(a,null)}),s.forEach(function(a){i.has(a)||p1(a,o)})}WP.set(r,t)},[t]),r}function SX(t){return t}function EX(t,e){e===void 0&&(e=SX);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(a){return s(a)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(s),o=r}var c=function(){var f=o;o=[],f.forEach(s)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),r}}}};return i}function TX(t){t===void 0&&(t={});var e=EX(null);return e.options=ho({async:!0,ssr:!1},t),e}var uD=function(t){var e=t.sideCar,r=Lc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return C.createElement(n,ho({},r))};uD.isSideCarExport=!0;function NX(t,e){return t.useMedium(e),uD}var dD=TX(),m1=function(){},fv=C.forwardRef(function(t,e){var r=C.useRef(null),n=C.useState({onScrollCapture:m1,onWheelCapture:m1,onTouchMoveCapture:m1}),i=n[0],s=n[1],o=t.forwardProps,a=t.children,c=t.className,d=t.removeScrollBar,f=t.enabled,p=t.shards,g=t.sideCar,m=t.noRelative,v=t.noIsolation,x=t.inert,w=t.allowPinchZoom,T=t.as,j=T===void 0?"div":T,P=t.gapMode,S=Lc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=g,$=CX([r,e]),W=ho(ho({},S),i);return C.createElement(C.Fragment,null,f&&C.createElement(B,{sideCar:dD,removeScrollBar:d,shards:p,noRelative:m,noIsolation:v,inert:x,setCallbacks:s,allowPinchZoom:!!w,lockRef:r,gapMode:P}),o?C.cloneElement(C.Children.only(a),ho(ho({},W),{ref:$})):C.createElement(j,ho({},W,{className:c,ref:$}),a))});fv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fv.classNames={fullWidth:B0,zeroRight:z0};var AX=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jX(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=AX();return e&&t.setAttribute("nonce",e),t}function PX(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function RX(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var IX=function(){var t=0,e=null;return{add:function(r){t==0&&(e=jX())&&(PX(e,r),RX(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},MX=function(){var t=IX();return function(e,r){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},fD=function(){var t=MX(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},DX={left:0,top:0,right:0,gap:0},g1=function(t){return parseInt(t||"",10)||0},OX=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[g1(r),g1(n),g1(i)]},LX=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return DX;var e=OX(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},FX=fD(),Lf="data-scroll-locked",zX=function(t,e,r,n){var i=t.left,s=t.top,o=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(bX,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Lf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(z0,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(B0,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(z0," .").concat(z0,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(B0," .").concat(B0,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Lf,`] {
    `).concat(wX,": ").concat(a,`px;
  }
`)},qP=function(){var t=parseInt(document.body.getAttribute(Lf)||"0",10);return isFinite(t)?t:0},BX=function(){C.useEffect(function(){return document.body.setAttribute(Lf,(qP()+1).toString()),function(){var t=qP()-1;t<=0?document.body.removeAttribute(Lf):document.body.setAttribute(Lf,t.toString())}},[])},$X=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;BX();var s=C.useMemo(function(){return LX(i)},[i]);return C.createElement(FX,{styles:zX(s,!e,i,r?"":"!important")})},Zk=!1;if(typeof window<"u")try{var Vy=Object.defineProperty({},"passive",{get:function(){return Zk=!0,!0}});window.addEventListener("test",Vy,Vy),window.removeEventListener("test",Vy,Vy)}catch{Zk=!1}var Jd=Zk?{passive:!1}:!1,UX=function(t){return t.tagName==="TEXTAREA"},hD=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!UX(t)&&r[e]==="visible")},VX=function(t){return hD(t,"overflowY")},WX=function(t){return hD(t,"overflowX")},HP=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=pD(t,n);if(i){var s=mD(t,n),o=s[1],a=s[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},qX=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},HX=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},pD=function(t,e){return t==="v"?VX(e):WX(e)},mD=function(t,e){return t==="v"?qX(e):HX(e)},GX=function(t,e){return t==="h"&&e==="rtl"?-1:1},KX=function(t,e,r,n,i){var s=GX(t,window.getComputedStyle(e).direction),o=s*n,a=r.target,c=e.contains(a),d=!1,f=o>0,p=0,g=0;do{if(!a)break;var m=mD(t,a),v=m[0],x=m[1],w=m[2],T=x-w-s*v;(v||T)&&pD(t,a)&&(p+=T,g+=v);var j=a.parentNode;a=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(f&&Math.abs(p)<1||!f&&Math.abs(g)<1)&&(d=!0),d},Wy=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},GP=function(t){return[t.deltaX,t.deltaY]},KP=function(t){return t&&"current"in t?t.current:t},YX=function(t,e){return t[0]===e[0]&&t[1]===e[1]},JX=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},XX=0,Xd=[];function QX(t){var e=C.useRef([]),r=C.useRef([0,0]),n=C.useRef(),i=C.useState(XX++)[0],s=C.useState(fD)[0],o=C.useRef(t);C.useEffect(function(){o.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=AS([t.lockRef.current],(t.shards||[]).map(KP),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=C.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var T=Wy(x),j=r.current,P="deltaX"in x?x.deltaX:j[0]-T[0],S="deltaY"in x?x.deltaY:j[1]-T[1],B,$=x.target,W=Math.abs(P)>Math.abs(S)?"h":"v";if("touches"in x&&W==="h"&&$.type==="range")return!1;var G=HP(W,$);if(!G)return!0;if(G?B=W:(B=W==="v"?"h":"v",G=HP(W,$)),!G)return!1;if(!n.current&&"changedTouches"in x&&(P||S)&&(n.current=B),!B)return!0;var q=n.current||B;return KX(q,w,x,q==="h"?P:S)},[]),c=C.useCallback(function(x){var w=x;if(!(!Xd.length||Xd[Xd.length-1]!==s)){var T="deltaY"in w?GP(w):Wy(w),j=e.current.filter(function(B){return B.name===w.type&&(B.target===w.target||w.target===B.shadowParent)&&YX(B.delta,T)})[0];if(j&&j.should){w.cancelable&&w.preventDefault();return}if(!j){var P=(o.current.shards||[]).map(KP).filter(Boolean).filter(function(B){return B.contains(w.target)}),S=P.length>0?a(w,P[0]):!o.current.noIsolation;S&&w.cancelable&&w.preventDefault()}}},[]),d=C.useCallback(function(x,w,T,j){var P={name:x,delta:w,target:T,should:j,shadowParent:ZX(T)};e.current.push(P),setTimeout(function(){e.current=e.current.filter(function(S){return S!==P})},1)},[]),f=C.useCallback(function(x){r.current=Wy(x),n.current=void 0},[]),p=C.useCallback(function(x){d(x.type,GP(x),x.target,a(x,t.lockRef.current))},[]),g=C.useCallback(function(x){d(x.type,Wy(x),x.target,a(x,t.lockRef.current))},[]);C.useEffect(function(){return Xd.push(s),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Jd),document.addEventListener("touchmove",c,Jd),document.addEventListener("touchstart",f,Jd),function(){Xd=Xd.filter(function(x){return x!==s}),document.removeEventListener("wheel",c,Jd),document.removeEventListener("touchmove",c,Jd),document.removeEventListener("touchstart",f,Jd)}},[]);var m=t.removeScrollBar,v=t.inert;return C.createElement(C.Fragment,null,v?C.createElement(s,{styles:JX(i)}):null,m?C.createElement($X,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function ZX(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const eQ=NX(dD,QX);var hv=C.forwardRef(function(t,e){return C.createElement(fv,ho({},t,{ref:e,sideCar:eQ}))});hv.classNames=fv.classNames;var tQ=[" ","Enter","ArrowUp","ArrowDown"],rQ=[" ","Enter"],ed="Select",[pv,mv,nQ]=ov(ed),[_h,Lpe]=So(ed,[nQ,kh]),gv=kh(),[iQ,Fc]=_h(ed),[sQ,oQ]=_h(ed),gD=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:c,dir:d,name:f,autoComplete:p,disabled:g,required:m,form:v}=t,x=gv(e),[w,T]=C.useState(null),[j,P]=C.useState(null),[S,B]=C.useState(!1),$=dg(d),[W,G]=ia({prop:n,defaultProp:i??!1,onChange:s,caller:ed}),[q,H]=ia({prop:o,defaultProp:a,onChange:c,caller:ed}),J=C.useRef(null),V=w?v||!!w.closest("form"):!0,[F,b]=C.useState(new Set),A=Array.from(F).map(O=>O.props.value).join(";");return l.jsx(_S,{...x,children:l.jsxs(iQ,{required:m,scope:e,trigger:w,onTriggerChange:T,valueNode:j,onValueNodeChange:P,valueNodeHasChildren:S,onValueNodeHasChildrenChange:B,contentId:qs(),value:q,onValueChange:H,open:W,onOpenChange:G,dir:$,triggerPointerDownPosRef:J,disabled:g,children:[l.jsx(pv.Provider,{scope:e,children:l.jsx(sQ,{scope:t.__scopeSelect,onNativeOptionAdd:C.useCallback(O=>{b(R=>new Set(R).add(O))},[]),onNativeOptionRemove:C.useCallback(O=>{b(R=>{const k=new Set(R);return k.delete(O),k})},[]),children:r})}),V?l.jsxs(FD,{"aria-hidden":!0,required:m,tabIndex:-1,name:f,autoComplete:p,value:q,onChange:O=>H(O.target.value),disabled:g,form:v,children:[q===void 0?l.jsx("option",{value:""}):null,Array.from(F)]},A):null]})})};gD.displayName=ed;var yD="SelectTrigger",xD=C.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=gv(r),o=Fc(yD,r),a=o.disabled||n,c=yr(e,o.onTriggerChange),d=mv(r),f=C.useRef("touch"),[p,g,m]=BD(x=>{const w=d().filter(P=>!P.disabled),T=w.find(P=>P.value===o.value),j=$D(w,x,T);j!==void 0&&o.onValueChange(j.value)}),v=x=>{a||(o.onOpenChange(!0),m()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return l.jsx(CS,{asChild:!0,...s,children:l.jsx(Dt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":zD(o.value)?"":void 0,...i,ref:c,onClick:Ke(i.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&v(x)}),onPointerDown:Ke(i.onPointerDown,x=>{f.current=x.pointerType;const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(v(x),x.preventDefault())}),onKeyDown:Ke(i.onKeyDown,x=>{const w=p.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&g(x.key),!(w&&x.key===" ")&&tQ.includes(x.key)&&(v(),x.preventDefault())})})})});xD.displayName=yD;var vD="SelectValue",bD=C.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...a}=t,c=Fc(vD,r),{onValueNodeHasChildrenChange:d}=c,f=s!==void 0,p=yr(e,c.onValueNodeChange);return ui(()=>{d(f)},[d,f]),l.jsx(Dt.span,{...a,ref:p,style:{pointerEvents:"none"},children:zD(c.value)?l.jsx(l.Fragment,{children:o}):s})});bD.displayName=vD;var aQ="SelectIcon",wD=C.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return l.jsx(Dt.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});wD.displayName=aQ;var lQ="SelectPortal",kD=t=>l.jsx(pg,{asChild:!0,...t});kD.displayName=lQ;var td="SelectContent",_D=C.forwardRef((t,e)=>{const r=Fc(td,t.__scopeSelect),[n,i]=C.useState();if(ui(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Qm.createPortal(l.jsx(CD,{scope:t.__scopeSelect,children:l.jsx(pv.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),s):null}return l.jsx(SD,{...t,ref:e})});_D.displayName=td;var Wo=10,[CD,zc]=_h(td),cQ="SelectContentImpl",uQ=Qu("SelectContent.RemoveScroll"),SD=C.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:c,align:d,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:m,sticky:v,hideWhenDetached:x,avoidCollisions:w,...T}=t,j=Fc(td,r),[P,S]=C.useState(null),[B,$]=C.useState(null),W=yr(e,Y=>S(Y)),[G,q]=C.useState(null),[H,J]=C.useState(null),V=mv(r),[F,b]=C.useState(!1),A=C.useRef(!1);C.useEffect(()=>{if(P)return TS(P)},[P]),hS();const O=C.useCallback(Y=>{const[Q,...ee]=V().map(de=>de.ref.current),[ae]=ee.slice(-1),ne=document.activeElement;for(const de of Y)if(de===ne||(de==null||de.scrollIntoView({block:"nearest"}),de===Q&&B&&(B.scrollTop=0),de===ae&&B&&(B.scrollTop=B.scrollHeight),de==null||de.focus(),document.activeElement!==ne))return},[V,B]),R=C.useCallback(()=>O([G,P]),[O,G,P]);C.useEffect(()=>{F&&R()},[F,R]);const{onOpenChange:k,triggerPointerDownPosRef:I}=j;C.useEffect(()=>{if(P){let Y={x:0,y:0};const Q=ae=>{var ne,de;Y={x:Math.abs(Math.round(ae.pageX)-(((ne=I.current)==null?void 0:ne.x)??0)),y:Math.abs(Math.round(ae.pageY)-(((de=I.current)==null?void 0:de.y)??0))}},ee=ae=>{Y.x<=10&&Y.y<=10?ae.preventDefault():P.contains(ae.target)||k(!1),document.removeEventListener("pointermove",Q),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",Q),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",ee,{capture:!0})}}},[P,k,I]),C.useEffect(()=>{const Y=()=>k(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[k]);const[N,D]=BD(Y=>{const Q=V().filter(ne=>!ne.disabled),ee=Q.find(ne=>ne.ref.current===document.activeElement),ae=$D(Q,Y,ee);ae&&setTimeout(()=>ae.ref.current.focus())}),E=C.useCallback((Y,Q,ee)=>{const ae=!A.current&&!ee;(j.value!==void 0&&j.value===Q||ae)&&(q(Y),ae&&(A.current=!0))},[j.value]),M=C.useCallback(()=>P==null?void 0:P.focus(),[P]),Z=C.useCallback((Y,Q,ee)=>{const ae=!A.current&&!ee;(j.value!==void 0&&j.value===Q||ae)&&J(Y)},[j.value]),z=n==="popper"?e_:ED,K=z===e_?{side:a,sideOffset:c,align:d,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:m,sticky:v,hideWhenDetached:x,avoidCollisions:w}:{};return l.jsx(CD,{scope:r,content:P,viewport:B,onViewportChange:$,itemRefCallback:E,selectedItem:G,onItemLeave:M,itemTextRefCallback:Z,focusSelectedItem:R,selectedItemText:H,position:n,isPositioned:F,searchRef:N,children:l.jsx(hv,{as:uQ,allowPinchZoom:!0,children:l.jsx(av,{asChild:!0,trapped:j.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:Ke(i,Y=>{var Q;(Q=j.trigger)==null||Q.focus({preventScroll:!0}),Y.preventDefault()}),children:l.jsx(fg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:l.jsx(z,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:Y=>Y.preventDefault(),...T,...K,onPlaced:()=>b(!0),ref:W,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:Ke(T.onKeyDown,Y=>{const Q=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!Q&&Y.key.length===1&&D(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let ae=V().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const ne=Y.target,de=ae.indexOf(ne);ae=ae.slice(de+1)}setTimeout(()=>O(ae)),Y.preventDefault()}})})})})})})});SD.displayName=cQ;var dQ="SelectItemAlignedPosition",ED=C.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=Fc(td,r),o=zc(td,r),[a,c]=C.useState(null),[d,f]=C.useState(null),p=yr(e,W=>f(W)),g=mv(r),m=C.useRef(!1),v=C.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:T,focusSelectedItem:j}=o,P=C.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&d&&x&&w&&T){const W=s.trigger.getBoundingClientRect(),G=d.getBoundingClientRect(),q=s.valueNode.getBoundingClientRect(),H=T.getBoundingClientRect();if(s.dir!=="rtl"){const ne=H.left-G.left,de=q.left-ne,xe=W.left-de,me=W.width+xe,_e=Math.max(me,G.width),Xe=window.innerWidth-Wo,le=SP(de,[Wo,Math.max(Wo,Xe-_e)]);a.style.minWidth=me+"px",a.style.left=le+"px"}else{const ne=G.right-H.right,de=window.innerWidth-q.right-ne,xe=window.innerWidth-W.right-de,me=W.width+xe,_e=Math.max(me,G.width),Xe=window.innerWidth-Wo,le=SP(de,[Wo,Math.max(Wo,Xe-_e)]);a.style.minWidth=me+"px",a.style.right=le+"px"}const J=g(),V=window.innerHeight-Wo*2,F=x.scrollHeight,b=window.getComputedStyle(d),A=parseInt(b.borderTopWidth,10),O=parseInt(b.paddingTop,10),R=parseInt(b.borderBottomWidth,10),k=parseInt(b.paddingBottom,10),I=A+O+F+k+R,N=Math.min(w.offsetHeight*5,I),D=window.getComputedStyle(x),E=parseInt(D.paddingTop,10),M=parseInt(D.paddingBottom,10),Z=W.top+W.height/2-Wo,z=V-Z,K=w.offsetHeight/2,Y=w.offsetTop+K,Q=A+O+Y,ee=I-Q;if(Q<=Z){const ne=J.length>0&&w===J[J.length-1].ref.current;a.style.bottom="0px";const de=d.clientHeight-x.offsetTop-x.offsetHeight,xe=Math.max(z,K+(ne?M:0)+de+R),me=Q+xe;a.style.height=me+"px"}else{const ne=J.length>0&&w===J[0].ref.current;a.style.top="0px";const xe=Math.max(Z,A+x.offsetTop+(ne?E:0)+K)+ee;a.style.height=xe+"px",x.scrollTop=Q-Z+x.offsetTop}a.style.margin=`${Wo}px 0`,a.style.minHeight=N+"px",a.style.maxHeight=V+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[g,s.trigger,s.valueNode,a,d,x,w,T,s.dir,n]);ui(()=>P(),[P]);const[S,B]=C.useState();ui(()=>{d&&B(window.getComputedStyle(d).zIndex)},[d]);const $=C.useCallback(W=>{W&&v.current===!0&&(P(),j==null||j(),v.current=!1)},[P,j]);return l.jsx(hQ,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:$,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(Dt.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});ED.displayName=dQ;var fQ="SelectPopperPosition",e_=C.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Wo,...s}=t,o=gv(r);return l.jsx(SS,{...o,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});e_.displayName=fQ;var[hQ,jS]=_h(td,{}),t_="SelectViewport",TD=C.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=zc(t_,r),o=jS(t_,r),a=yr(e,s.onViewportChange),c=C.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(pv.Slot,{scope:r,children:l.jsx(Dt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ke(i.onScroll,d=>{const f=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&p){const m=Math.abs(c.current-f.scrollTop);if(m>0){const v=window.innerHeight-Wo*2,x=parseFloat(p.style.minHeight),w=parseFloat(p.style.height),T=Math.max(x,w);if(T<v){const j=T+m,P=Math.min(v,j),S=j-P;p.style.height=P+"px",p.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,p.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});TD.displayName=t_;var ND="SelectGroup",[pQ,mQ]=_h(ND),gQ=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=qs();return l.jsx(pQ,{scope:r,id:i,children:l.jsx(Dt.div,{role:"group","aria-labelledby":i,...n,ref:e})})});gQ.displayName=ND;var AD="SelectLabel",yQ=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=mQ(AD,r);return l.jsx(Dt.div,{id:i.id,...n,ref:e})});yQ.displayName=AD;var vx="SelectItem",[xQ,jD]=_h(vx),PD=C.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=t,a=Fc(vx,r),c=zc(vx,r),d=a.value===n,[f,p]=C.useState(s??""),[g,m]=C.useState(!1),v=yr(e,j=>{var P;return(P=c.itemRefCallback)==null?void 0:P.call(c,j,n,i)}),x=qs(),w=C.useRef("touch"),T=()=>{i||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(xQ,{scope:r,value:n,disabled:i,textId:x,isSelected:d,onItemTextChange:C.useCallback(j=>{p(P=>P||((j==null?void 0:j.textContent)??"").trim())},[]),children:l.jsx(pv.ItemSlot,{scope:r,value:n,disabled:i,textValue:f,children:l.jsx(Dt.div,{role:"option","aria-labelledby":x,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:Ke(o.onFocus,()=>m(!0)),onBlur:Ke(o.onBlur,()=>m(!1)),onClick:Ke(o.onClick,()=>{w.current!=="mouse"&&T()}),onPointerUp:Ke(o.onPointerUp,()=>{w.current==="mouse"&&T()}),onPointerDown:Ke(o.onPointerDown,j=>{w.current=j.pointerType}),onPointerMove:Ke(o.onPointerMove,j=>{var P;w.current=j.pointerType,i?(P=c.onItemLeave)==null||P.call(c):w.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ke(o.onPointerLeave,j=>{var P;j.currentTarget===document.activeElement&&((P=c.onItemLeave)==null||P.call(c))}),onKeyDown:Ke(o.onKeyDown,j=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&j.key===" "||(rQ.includes(j.key)&&T(),j.key===" "&&j.preventDefault())})})})})});PD.displayName=vx;var Ep="SelectItemText",RD=C.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,o=Fc(Ep,r),a=zc(Ep,r),c=jD(Ep,r),d=oQ(Ep,r),[f,p]=C.useState(null),g=yr(e,T=>p(T),c.onItemTextChange,T=>{var j;return(j=a.itemTextRefCallback)==null?void 0:j.call(a,T,c.value,c.disabled)}),m=f==null?void 0:f.textContent,v=C.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=d;return ui(()=>(x(v),()=>w(v)),[x,w,v]),l.jsxs(l.Fragment,{children:[l.jsx(Dt.span,{id:c.textId,...s,ref:g}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Qm.createPortal(s.children,o.valueNode):null]})});RD.displayName=Ep;var ID="SelectItemIndicator",MD=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return jD(ID,r).isSelected?l.jsx(Dt.span,{"aria-hidden":!0,...n,ref:e}):null});MD.displayName=ID;var r_="SelectScrollUpButton",DD=C.forwardRef((t,e)=>{const r=zc(r_,t.__scopeSelect),n=jS(r_,t.__scopeSelect),[i,s]=C.useState(!1),o=yr(e,n.onScrollButtonChange);return ui(()=>{if(r.viewport&&r.isPositioned){let a=function(){const d=c.scrollTop>0;s(d)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),i?l.jsx(LD,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});DD.displayName=r_;var n_="SelectScrollDownButton",OD=C.forwardRef((t,e)=>{const r=zc(n_,t.__scopeSelect),n=jS(n_,t.__scopeSelect),[i,s]=C.useState(!1),o=yr(e,n.onScrollButtonChange);return ui(()=>{if(r.viewport&&r.isPositioned){let a=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;s(f)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),i?l.jsx(LD,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});OD.displayName=n_;var LD=C.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=zc("SelectScrollButton",r),o=C.useRef(null),a=mv(r),c=C.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return C.useEffect(()=>()=>c(),[c]),ui(()=>{var f;const d=a().find(p=>p.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),l.jsx(Dt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ke(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ke(i.onPointerMove,()=>{var d;(d=s.onItemLeave)==null||d.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ke(i.onPointerLeave,()=>{c()})})}),vQ="SelectSeparator",bQ=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return l.jsx(Dt.div,{"aria-hidden":!0,...n,ref:e})});bQ.displayName=vQ;var i_="SelectArrow",wQ=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=gv(r),s=Fc(i_,r),o=zc(i_,r);return s.open&&o.position==="popper"?l.jsx(ES,{...i,...n,ref:e}):null});wQ.displayName=i_;var kQ="SelectBubbleInput",FD=C.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=C.useRef(null),s=yr(n,i),o=O3(e);return C.useEffect(()=>{const a=i.current;if(!a)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&f){const p=new Event("change",{bubbles:!0});f.call(a,e),a.dispatchEvent(p)}},[o,e]),l.jsx(Dt.select,{...r,style:{...L3,...r.style},ref:s,defaultValue:e})});FD.displayName=kQ;function zD(t){return t===""||t===void 0}function BD(t){const e=za(t),r=C.useRef(""),n=C.useRef(0),i=C.useCallback(o=>{const a=r.current+o;e(a),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),s=C.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function $D(t,e,r){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=_Q(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function _Q(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var CQ=gD,SQ=xD,EQ=bD,TQ=wD,NQ=kD,AQ=_D,jQ=TD,PQ=PD,RQ=RD,IQ=MD,MQ=DD,DQ=OD;function UD(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=UD(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function VD(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=UD(t))&&(n&&(n+=" "),n+=e);return n}const PS="-",OQ=t=>{const e=FQ(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const a=o.split(PS);return a[0]===""&&a.length!==1&&a.shift(),WD(a,e)||LQ(o)},getConflictingClassGroupIds:(o,a)=>{const c=r[o]||[];return a&&n[o]?[...c,...n[o]]:c}}},WD=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?WD(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(PS);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},YP=/^\[(.+)\]$/,LQ=t=>{if(YP.test(t)){const e=YP.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},FQ=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return BQ(Object.entries(t.classGroups),r).forEach(([s,o])=>{s_(o,n,s,e)}),n},s_=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:JP(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(zQ(i)){s_(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{s_(o,JP(e,s),r,n)})})},JP=(t,e)=>{let r=t;return e.split(PS).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},zQ=t=>t.isThemeGetter,BQ=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[r,i]}):t,$Q=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},qD="!",UQ=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,o=a=>{const c=[];let d=0,f=0,p;for(let w=0;w<a.length;w++){let T=a[w];if(d===0){if(T===i&&(n||a.slice(w,w+s)===e)){c.push(a.slice(f,w)),f=w+s;continue}if(T==="/"){p=w;continue}}T==="["?d++:T==="]"&&d--}const g=c.length===0?a:a.substring(f),m=g.startsWith(qD),v=m?g.substring(1):g,x=p&&p>f?p-f:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:x}};return r?a=>r({className:a,parseClassName:o}):o},VQ=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},WQ=t=>({cache:$Q(t.cacheSize),parseClassName:UQ(t),...OQ(t)}),qQ=/\s+/,HQ=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(qQ);let a="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:f,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}=r(d);let v=!!m,x=n(v?g.substring(0,m):g);if(!x){if(!v){a=d+(a.length>0?" "+a:a);continue}if(x=n(g),!x){a=d+(a.length>0?" "+a:a);continue}v=!1}const w=VQ(f).join(":"),T=p?w+qD:w,j=T+x;if(s.includes(j))continue;s.push(j);const P=i(x,v);for(let S=0;S<P.length;++S){const B=P[S];s.push(T+B)}a=d+(a.length>0?" "+a:a)}return a};function GQ(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=HD(e))&&(n&&(n+=" "),n+=r);return n}const HD=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=HD(t[n]))&&(r&&(r+=" "),r+=e);return r};function KQ(t,...e){let r,n,i,s=o;function o(c){const d=e.reduce((f,p)=>p(f),t());return r=WQ(d),n=r.cache.get,i=r.cache.set,s=a,a(c)}function a(c){const d=n(c);if(d)return d;const f=HQ(c,r);return i(c,f),f}return function(){return s(GQ.apply(null,arguments))}}const Hr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},GD=/^\[(?:([a-z-]+):)?(.+)\]$/i,YQ=/^\d+\/\d+$/,JQ=new Set(["px","full","screen"]),XQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,eZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nl=t=>Ff(t)||JQ.has(t)||YQ.test(t),Zl=t=>Ch(t,"length",cZ),Ff=t=>!!t&&!Number.isNaN(Number(t)),y1=t=>Ch(t,"number",Ff),hp=t=>!!t&&Number.isInteger(Number(t)),rZ=t=>t.endsWith("%")&&Ff(t.slice(0,-1)),$t=t=>GD.test(t),ec=t=>XQ.test(t),nZ=new Set(["length","size","percentage"]),iZ=t=>Ch(t,nZ,KD),sZ=t=>Ch(t,"position",KD),oZ=new Set(["image","url"]),aZ=t=>Ch(t,oZ,dZ),lZ=t=>Ch(t,"",uZ),pp=()=>!0,Ch=(t,e,r)=>{const n=GD.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},cZ=t=>QQ.test(t)&&!ZQ.test(t),KD=()=>!1,uZ=t=>eZ.test(t),dZ=t=>tZ.test(t),fZ=()=>{const t=Hr("colors"),e=Hr("spacing"),r=Hr("blur"),n=Hr("brightness"),i=Hr("borderColor"),s=Hr("borderRadius"),o=Hr("borderSpacing"),a=Hr("borderWidth"),c=Hr("contrast"),d=Hr("grayscale"),f=Hr("hueRotate"),p=Hr("invert"),g=Hr("gap"),m=Hr("gradientColorStops"),v=Hr("gradientColorStopPositions"),x=Hr("inset"),w=Hr("margin"),T=Hr("opacity"),j=Hr("padding"),P=Hr("saturate"),S=Hr("scale"),B=Hr("sepia"),$=Hr("skew"),W=Hr("space"),G=Hr("translate"),q=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],J=()=>["auto",$t,e],V=()=>[$t,e],F=()=>["",nl,Zl],b=()=>["auto",Ff,$t],A=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],R=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",$t],N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[Ff,$t];return{cacheSize:500,separator:":",theme:{colors:[pp],spacing:[nl,Zl],blur:["none","",ec,$t],brightness:D(),borderColor:[t],borderRadius:["none","","full",ec,$t],borderSpacing:V(),borderWidth:F(),contrast:D(),grayscale:I(),hueRotate:D(),invert:I(),gap:V(),gradientColorStops:[t],gradientColorStopPositions:[rZ,Zl],inset:J(),margin:J(),opacity:D(),padding:V(),saturate:D(),scale:D(),sepia:I(),skew:D(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",$t]}],container:["container"],columns:[{columns:[ec]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...A(),$t]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hp,$t]}],basis:[{basis:J()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$t]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",hp,$t]}],"grid-cols":[{"grid-cols":[pp]}],"col-start-end":[{col:["auto",{span:["full",hp,$t]},$t]}],"col-start":[{"col-start":b()}],"col-end":[{"col-end":b()}],"grid-rows":[{"grid-rows":[pp]}],"row-start-end":[{row:["auto",{span:[hp,$t]},$t]}],"row-start":[{"row-start":b()}],"row-end":[{"row-end":b()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$t]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$t]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[W]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[W]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$t,e]}],"min-w":[{"min-w":[$t,e,"min","max","fit"]}],"max-w":[{"max-w":[$t,e,"none","full","min","max","fit","prose",{screen:[ec]},ec]}],h:[{h:[$t,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$t,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$t,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$t,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ec,Zl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",y1]}],"font-family":[{font:[pp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$t]}],"line-clamp":[{"line-clamp":["none",Ff,y1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",nl,$t]}],"list-image":[{"list-image":["none",$t]}],"list-style-type":[{list:["none","disc","decimal",$t]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",nl,Zl]}],"underline-offset":[{"underline-offset":["auto",nl,$t]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$t]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$t]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...A(),sZ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",iZ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},aZ]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:O()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[nl,$t]}],"outline-w":[{outline:[nl,Zl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[nl,Zl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ec,lZ]}],"shadow-color":[{shadow:[pp]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...R(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ec,$t]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[P]}],sepia:[{sepia:[B]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[B]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$t]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",$t]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",$t]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[hp,$t]}],"translate-x":[{"translate-x":[G]}],"translate-y":[{"translate-y":[G]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$t]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$t]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$t]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[nl,Zl,y1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hZ=KQ(fZ);function tt(...t){return hZ(VD(t))}function rd({...t}){return l.jsx(CQ,{"data-slot":"select",...t})}function nd({...t}){return l.jsx(EQ,{"data-slot":"select-value",...t})}function id({className:t,size:e="default",children:r,...n}){return l.jsxs(SQ,{"data-slot":"select-trigger","data-size":e,className:tt("border-[#614E41] data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-[#614E41] focus-visible:ring-[#614E41]/40 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,l.jsx(TQ,{asChild:!0,children:l.jsx(ko,{className:"size-4 opacity-70 text-foreground"})})]})}function sd({className:t,children:e,position:r="popper",...n}){return l.jsx(NQ,{children:l.jsxs(AQ,{"data-slot":"select-content",className:tt("bg-popover/90 backdrop-blur-md text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-xl border border-[#614E41] shadow-xl",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[l.jsx(pZ,{}),l.jsx(jQ,{className:tt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),l.jsx(mZ,{})]})})}function ji({className:t,children:e,...r}){return l.jsxs(PQ,{"data-slot":"select-item",className:tt("focus:bg-accent focus:text-accent-foreground data-[state=checked]:bg-[#614E41]/15 hover:bg-[#614E41]/10 active:bg-[#614E41]/20 [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[l.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:l.jsx(IQ,{children:l.jsx(eY,{className:"size-4"})})}),l.jsx(RQ,{children:e})]})}function pZ({className:t,...e}){return l.jsx(MQ,{"data-slot":"select-scroll-up-button",className:tt("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(Xu,{className:"size-4"})})}function mZ({className:t,...e}){return l.jsx(DQ,{"data-slot":"select-scroll-down-button",className:tt("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(ko,{className:"size-4"})})}const qy=t=>{if(!t)return"";if(typeof t=="string")return t;if(typeof t.message=="string")return t.message;try{return JSON.stringify(t)}catch{return String(t)}},XP=()=>{const{chainId:t,switchNetwork:e,addNetwork:r,isSupportedNetwork:n}=xr(),[i,s]=ve.useState(!1),o=()=>Object.entries(Ht).filter(([d,f])=>{const p=f.contractAddresses;return(p==null?void 0:p.protocolManager)&&p.protocolManager!=="0x..."&&(p==null?void 0:p.poolDeployer)&&p.poolDeployer!=="0x..."}),a=o(),c=async d=>{var p;const f=parseInt(d,10);s(!0);try{await e(f)}catch(g){const m=qy(g).toLowerCase();if(g&&g.code===4902||m.includes("add this network")||m.includes("unrecognized chain id")||g&&g.code===-32603)try{await r(f),setTimeout(async()=>{try{await e(f)}catch(v){setTimeout(()=>{window.ethereum&&window.ethereum.chainId&&parseInt(window.ethereum.chainId,16)!==f&&te.error("Failed to switch to the new network after adding: "+qy(v))},1e3)}},500)}catch(v){setTimeout(()=>{window.ethereum&&window.ethereum.chainId&&parseInt(window.ethereum.chainId,16)!==f&&te.error("Failed to add network: "+qy(v))},1e3)}else!((p=g.message)!=null&&p.includes("User rejected"))&&g.code!==4001&&setTimeout(()=>{window.ethereum&&window.ethereum.chainId&&parseInt(window.ethereum.chainId,16)!==f&&te.error("Failed to switch network: "+qy(g))},1e3)}finally{s(!1)}};return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(rd,{value:t?String(t):"",onValueChange:c,disabled:i,children:[l.jsx(id,{className:"min-w-[160px] sm:min-w-[180px] header-accent-surface text-foreground",children:l.jsx(nd,{placeholder:"Select Network"})}),l.jsx(sd,{className:"border-border",children:o().map(([d,f])=>l.jsx(ji,{value:d,children:f.name},d))})]}),a.length===0&&l.jsx("span",{className:"text-xs text-red-500 ml-2",children:"Contracts Not Available"}),t&&n&&a.length>0&&!a.some(([d])=>parseInt(d)===t)&&l.jsx("span",{className:"text-xs text-red-500 ml-2",children:"Unsupported Network"})]})},hu=({className:t="",size:e="md",showIcon:r=!1,alt:n="Rafflehub",...i})=>{const{getCurrentTheme:s}=TC(),a={xs:"h-4 w-auto",sm:"h-5 w-auto",md:"h-6 w-auto",lg:"h-8 w-auto",xl:"h-12 w-auto"}[e]||e,c=()=>r?"/images/logo/logo-icon.png":s().id==="light"?"/images/logo/logo-light.svg":"/images/logo/logo-dark.svg";return l.jsx("img",{src:c(),alt:n,className:`${a} transition-opacity duration-200 ${t}`,...i})},pn=()=>{const t=()=>{if(typeof window>"u")return{isMobile:!1,isTablet:!1,isDesktop:!0,isTouchDevice:!1,screenWidth:1024,isInitialized:!1};const n=window.innerWidth;return{isMobile:n<768,isTablet:n>=768&&n<1024,isDesktop:n>=1024,isTouchDevice:"ontouchstart"in window||navigator.maxTouchPoints>0,screenWidth:n,isInitialized:!0}},[e,r]=C.useState(t);return C.useEffect(()=>{const n=()=>{const o=window.innerWidth,a=window.innerHeight,c=e.isMobile&&Math.abs(o-e.screenWidth)<50&&Math.abs(a-window.screen.height)>200;if(c){console.log("Skipping breakpoint update - likely keyboard resize");return}const d={isMobile:o<768,isTablet:o>=768&&o<1024,isDesktop:o>=1024,isTouchDevice:"ontouchstart"in window||navigator.maxTouchPoints>0,screenWidth:o,isInitialized:!0};o<768&&console.log("Mobile detected:",{width:o,height:a,userAgent:navigator.userAgent,touchDevice:d.isTouchDevice,isKeyboardResize:c}),r(d)};n();let i;const s=()=>{clearTimeout(i),i=setTimeout(n,150)};return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s),clearTimeout(i)}},[e.isMobile,e.screenWidth]),e},QP=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ZP=VD,RS=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return ZP(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(d=>{const f=r==null?void 0:r[d],p=s==null?void 0:s[d];if(f===null)return null;const g=QP(f)||QP(p);return i[d][g]}),a=r&&Object.entries(r).reduce((d,f)=>{let[p,g]=f;return g===void 0||(d[p]=g),d},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,f)=>{let{class:p,className:g,...m}=f;return Object.entries(m).every(v=>{let[x,w]=v;return Array.isArray(w)?w.includes({...s,...a}[x]):{...s,...a}[x]===w})?[...d,p,g]:d},[]);return ZP(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},gZ=RS("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md font-medium transition-all duration-200 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90 focus-visible:ring-primary/20",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90 focus-visible:ring-destructive/20",outline:"border border-border bg-background shadow-sm hover:bg-muted hover:text-muted-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-muted hover:text-muted-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-success text-success-foreground shadow-sm hover:bg-success/90 focus-visible:ring-success/20",warning:"bg-warning text-warning-foreground shadow-sm hover:bg-warning/90 focus-visible:ring-warning/20",accent:"bg-accent text-accent-foreground shadow-sm hover:bg-accent/90 focus-visible:ring-accent/20"},size:{default:"h-10 px-4 py-2 text-[length:var(--text-base)] has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 py-2 text-[length:var(--text-sm)] has-[>svg]:px-2.5",lg:"h-12 rounded-md px-6 py-3 text-[length:var(--text-base)] has-[>svg]:px-4",xl:"h-14 rounded-lg px-8 py-3 text-[length:var(--text-lg)] has-[>svg]:px-5",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}}),qe=C.forwardRef(function({className:e,variant:r,size:n,asChild:i=!1,...s},o){const a=i?l3:"button";return l.jsx(a,{ref:o,"data-slot":"button",className:tt(gZ({variant:r,size:n,className:e})),...s})});qe.displayName="Button";function yZ(t,e){return C.useReducer((r,n)=>e[r][n]??r,t)}var Eo=t=>{const{present:e,children:r}=t,n=xZ(e),i=typeof r=="function"?r({present:n.isPresent}):C.Children.only(r),s=yr(n.ref,vZ(i));return typeof r=="function"||n.isPresent?C.cloneElement(i,{ref:s}):null};Eo.displayName="Presence";function xZ(t){const[e,r]=C.useState(),n=C.useRef(null),i=C.useRef(t),s=C.useRef("none"),o=t?"mounted":"unmounted",[a,c]=yZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const d=Hy(n.current);s.current=a==="mounted"?d:"none"},[a]),ui(()=>{const d=n.current,f=i.current;if(f!==t){const g=s.current,m=Hy(d);t?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&g!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),ui(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,p=m=>{const x=Hy(n.current).includes(m.animationName);if(m.target===e&&x&&(c("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},g=m=>{m.target===e&&(s.current=Hy(n.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:C.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Hy(t){return(t==null?void 0:t.animationName)||"none"}function vZ(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var x1="rovingFocusGroup.onEntryFocus",bZ={bubbles:!1,cancelable:!0},mg="RovingFocusGroup",[o_,YD,wZ]=ov(mg),[kZ,yv]=So(mg,[wZ]),[_Z,CZ]=kZ(mg),JD=C.forwardRef((t,e)=>l.jsx(o_.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(o_.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(SZ,{...t,ref:e})})}));JD.displayName=mg;var SZ=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...p}=t,g=C.useRef(null),m=yr(e,g),v=dg(s),[x,w]=ia({prop:o,defaultProp:a??null,onChange:c,caller:mg}),[T,j]=C.useState(!1),P=za(d),S=YD(r),B=C.useRef(!1),[$,W]=C.useState(0);return C.useEffect(()=>{const G=g.current;if(G)return G.addEventListener(x1,P),()=>G.removeEventListener(x1,P)},[P]),l.jsx(_Z,{scope:r,orientation:n,dir:v,loop:i,currentTabStopId:x,onItemFocus:C.useCallback(G=>w(G),[w]),onItemShiftTab:C.useCallback(()=>j(!0),[]),onFocusableItemAdd:C.useCallback(()=>W(G=>G+1),[]),onFocusableItemRemove:C.useCallback(()=>W(G=>G-1),[]),children:l.jsx(Dt.div,{tabIndex:T||$===0?-1:0,"data-orientation":n,...p,ref:m,style:{outline:"none",...t.style},onMouseDown:Ke(t.onMouseDown,()=>{B.current=!0}),onFocus:Ke(t.onFocus,G=>{const q=!B.current;if(G.target===G.currentTarget&&q&&!T){const H=new CustomEvent(x1,bZ);if(G.currentTarget.dispatchEvent(H),!H.defaultPrevented){const J=S().filter(O=>O.focusable),V=J.find(O=>O.active),F=J.find(O=>O.id===x),A=[V,F,...J].filter(Boolean).map(O=>O.ref.current);ZD(A,f)}}B.current=!1}),onBlur:Ke(t.onBlur,()=>j(!1))})})}),XD="RovingFocusGroupItem",QD=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:o,...a}=t,c=qs(),d=s||c,f=CZ(XD,r),p=f.currentTabStopId===d,g=YD(r),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:x}=f;return C.useEffect(()=>{if(n)return m(),()=>v()},[n,m,v]),l.jsx(o_.ItemSlot,{scope:r,id:d,focusable:n,active:i,children:l.jsx(Dt.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...a,ref:e,onMouseDown:Ke(t.onMouseDown,w=>{n?f.onItemFocus(d):w.preventDefault()}),onFocus:Ke(t.onFocus,()=>f.onItemFocus(d)),onKeyDown:Ke(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const T=NZ(w,f.orientation,f.dir);if(T!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let P=g().filter(S=>S.focusable).map(S=>S.ref.current);if(T==="last")P.reverse();else if(T==="prev"||T==="next"){T==="prev"&&P.reverse();const S=P.indexOf(w.currentTarget);P=f.loop?AZ(P,S+1):P.slice(S+1)}setTimeout(()=>ZD(P))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:x!=null}):o})})});QD.displayName=XD;var EZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function TZ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function NZ(t,e,r){const n=TZ(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return EZ[n]}function ZD(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function AZ(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var eO=JD,tO=QD,a_=["Enter"," "],jZ=["ArrowDown","PageUp","Home"],rO=["ArrowUp","PageDown","End"],PZ=[...jZ,...rO],RZ={ltr:[...a_,"ArrowRight"],rtl:[...a_,"ArrowLeft"]},IZ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},gg="Menu",[Mm,MZ,DZ]=ov(gg),[gd,nO]=So(gg,[DZ,kh,yv]),xv=kh(),iO=yv(),[OZ,yd]=gd(gg),[LZ,yg]=gd(gg),sO=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:s,modal:o=!0}=t,a=xv(e),[c,d]=C.useState(null),f=C.useRef(!1),p=za(s),g=dg(i);return C.useEffect(()=>{const m=()=>{f.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>f.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),l.jsx(_S,{...a,children:l.jsx(OZ,{scope:e,open:r,onOpenChange:p,content:c,onContentChange:d,children:l.jsx(LZ,{scope:e,onClose:C.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:g,modal:o,children:n})})})};sO.displayName=gg;var FZ="MenuAnchor",IS=C.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=xv(r);return l.jsx(CS,{...i,...n,ref:e})});IS.displayName=FZ;var MS="MenuPortal",[zZ,oO]=gd(MS,{forceMount:void 0}),aO=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,s=yd(MS,e);return l.jsx(zZ,{scope:e,forceMount:r,children:l.jsx(Eo,{present:r||s.open,children:l.jsx(pg,{asChild:!0,container:i,children:n})})})};aO.displayName=MS;var vo="MenuContent",[BZ,DS]=gd(vo),lO=C.forwardRef((t,e)=>{const r=oO(vo,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=yd(vo,t.__scopeMenu),o=yg(vo,t.__scopeMenu);return l.jsx(Mm.Provider,{scope:t.__scopeMenu,children:l.jsx(Eo,{present:n||s.open,children:l.jsx(Mm.Slot,{scope:t.__scopeMenu,children:o.modal?l.jsx($Z,{...i,ref:e}):l.jsx(UZ,{...i,ref:e})})})})}),$Z=C.forwardRef((t,e)=>{const r=yd(vo,t.__scopeMenu),n=C.useRef(null),i=yr(e,n);return C.useEffect(()=>{const s=n.current;if(s)return TS(s)},[]),l.jsx(OS,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ke(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),UZ=C.forwardRef((t,e)=>{const r=yd(vo,t.__scopeMenu);return l.jsx(OS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),VZ=Qu("MenuContent.ScrollLock"),OS=C.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:m,disableOutsideScroll:v,...x}=t,w=yd(vo,r),T=yg(vo,r),j=xv(r),P=iO(r),S=MZ(r),[B,$]=C.useState(null),W=C.useRef(null),G=yr(e,W,w.onContentChange),q=C.useRef(0),H=C.useRef(""),J=C.useRef(0),V=C.useRef(null),F=C.useRef("right"),b=C.useRef(0),A=v?hv:C.Fragment,O=v?{as:VZ,allowPinchZoom:!0}:void 0,R=I=>{var Y,Q;const N=H.current+I,D=S().filter(ee=>!ee.disabled),E=document.activeElement,M=(Y=D.find(ee=>ee.ref.current===E))==null?void 0:Y.textValue,Z=D.map(ee=>ee.textValue),z=tee(Z,N,M),K=(Q=D.find(ee=>ee.textValue===z))==null?void 0:Q.ref.current;(function ee(ae){H.current=ae,window.clearTimeout(q.current),ae!==""&&(q.current=window.setTimeout(()=>ee(""),1e3))})(N),K&&setTimeout(()=>K.focus())};C.useEffect(()=>()=>window.clearTimeout(q.current),[]),hS();const k=C.useCallback(I=>{var D,E;return F.current===((D=V.current)==null?void 0:D.side)&&nee(I,(E=V.current)==null?void 0:E.area)},[]);return l.jsx(BZ,{scope:r,searchRef:H,onItemEnter:C.useCallback(I=>{k(I)&&I.preventDefault()},[k]),onItemLeave:C.useCallback(I=>{var N;k(I)||((N=W.current)==null||N.focus(),$(null))},[k]),onTriggerLeave:C.useCallback(I=>{k(I)&&I.preventDefault()},[k]),pointerGraceTimerRef:J,onPointerGraceIntentChange:C.useCallback(I=>{V.current=I},[]),children:l.jsx(A,{...O,children:l.jsx(av,{asChild:!0,trapped:i,onMountAutoFocus:Ke(s,I=>{var N;I.preventDefault(),(N=W.current)==null||N.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(fg,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:m,children:l.jsx(eO,{asChild:!0,...P,dir:T.dir,orientation:"vertical",loop:n,currentTabStopId:B,onCurrentTabStopIdChange:$,onEntryFocus:Ke(c,I=>{T.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(SS,{role:"menu","aria-orientation":"vertical","data-state":CO(w.open),"data-radix-menu-content":"",dir:T.dir,...j,...x,ref:G,style:{outline:"none",...x.style},onKeyDown:Ke(x.onKeyDown,I=>{const D=I.target.closest("[data-radix-menu-content]")===I.currentTarget,E=I.ctrlKey||I.altKey||I.metaKey,M=I.key.length===1;D&&(I.key==="Tab"&&I.preventDefault(),!E&&M&&R(I.key));const Z=W.current;if(I.target!==Z||!PZ.includes(I.key))return;I.preventDefault();const K=S().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);rO.includes(I.key)&&K.reverse(),ZZ(K)}),onBlur:Ke(t.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(q.current),H.current="")}),onPointerMove:Ke(t.onPointerMove,Dm(I=>{const N=I.target,D=b.current!==I.clientX;if(I.currentTarget.contains(N)&&D){const E=I.clientX>b.current?"right":"left";F.current=E,b.current=I.clientX}}))})})})})})})});lO.displayName=vo;var WZ="MenuGroup",LS=C.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return l.jsx(Dt.div,{role:"group",...n,ref:e})});LS.displayName=WZ;var qZ="MenuLabel",cO=C.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return l.jsx(Dt.div,{...n,ref:e})});cO.displayName=qZ;var bx="MenuItem",eR="menu.itemSelect",vv=C.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,s=C.useRef(null),o=yg(bx,t.__scopeMenu),a=DS(bx,t.__scopeMenu),c=yr(e,s),d=C.useRef(!1),f=()=>{const p=s.current;if(!r&&p){const g=new CustomEvent(eR,{bubbles:!0,cancelable:!0});p.addEventListener(eR,m=>n==null?void 0:n(m),{once:!0}),u3(p,g),g.defaultPrevented?d.current=!1:o.onClose()}};return l.jsx(uO,{...i,ref:c,disabled:r,onClick:Ke(t.onClick,f),onPointerDown:p=>{var g;(g=t.onPointerDown)==null||g.call(t,p),d.current=!0},onPointerUp:Ke(t.onPointerUp,p=>{var g;d.current||(g=p.currentTarget)==null||g.click()}),onKeyDown:Ke(t.onKeyDown,p=>{const g=a.searchRef.current!=="";r||g&&p.key===" "||a_.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});vv.displayName=bx;var uO=C.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=t,o=DS(bx,r),a=iO(r),c=C.useRef(null),d=yr(e,c),[f,p]=C.useState(!1),[g,m]=C.useState("");return C.useEffect(()=>{const v=c.current;v&&m((v.textContent??"").trim())},[s.children]),l.jsx(Mm.ItemSlot,{scope:r,disabled:n,textValue:i??g,children:l.jsx(tO,{asChild:!0,...a,focusable:!n,children:l.jsx(Dt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:d,onPointerMove:Ke(t.onPointerMove,Dm(v=>{n?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ke(t.onPointerLeave,Dm(v=>o.onItemLeave(v))),onFocus:Ke(t.onFocus,()=>p(!0)),onBlur:Ke(t.onBlur,()=>p(!1))})})})}),HZ="MenuCheckboxItem",dO=C.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return l.jsx(gO,{scope:t.__scopeMenu,checked:r,children:l.jsx(vv,{role:"menuitemcheckbox","aria-checked":wx(r)?"mixed":r,...i,ref:e,"data-state":zS(r),onSelect:Ke(i.onSelect,()=>n==null?void 0:n(wx(r)?!0:!r),{checkForDefaultPrevented:!1})})})});dO.displayName=HZ;var fO="MenuRadioGroup",[GZ,KZ]=gd(fO,{value:void 0,onValueChange:()=>{}}),hO=C.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,s=za(n);return l.jsx(GZ,{scope:t.__scopeMenu,value:r,onValueChange:s,children:l.jsx(LS,{...i,ref:e})})});hO.displayName=fO;var pO="MenuRadioItem",mO=C.forwardRef((t,e)=>{const{value:r,...n}=t,i=KZ(pO,t.__scopeMenu),s=r===i.value;return l.jsx(gO,{scope:t.__scopeMenu,checked:s,children:l.jsx(vv,{role:"menuitemradio","aria-checked":s,...n,ref:e,"data-state":zS(s),onSelect:Ke(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,r)},{checkForDefaultPrevented:!1})})})});mO.displayName=pO;var FS="MenuItemIndicator",[gO,YZ]=gd(FS,{checked:!1}),yO=C.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,s=YZ(FS,r);return l.jsx(Eo,{present:n||wx(s.checked)||s.checked===!0,children:l.jsx(Dt.span,{...i,ref:e,"data-state":zS(s.checked)})})});yO.displayName=FS;var JZ="MenuSeparator",xO=C.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return l.jsx(Dt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});xO.displayName=JZ;var XZ="MenuArrow",vO=C.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=xv(r);return l.jsx(ES,{...i,...n,ref:e})});vO.displayName=XZ;var QZ="MenuSub",[Fpe,bO]=gd(QZ),Tp="MenuSubTrigger",wO=C.forwardRef((t,e)=>{const r=yd(Tp,t.__scopeMenu),n=yg(Tp,t.__scopeMenu),i=bO(Tp,t.__scopeMenu),s=DS(Tp,t.__scopeMenu),o=C.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=s,d={__scopeMenu:t.__scopeMenu},f=C.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return C.useEffect(()=>f,[f]),C.useEffect(()=>{const p=a.current;return()=>{window.clearTimeout(p),c(null)}},[a,c]),l.jsx(IS,{asChild:!0,...d,children:l.jsx(uO,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":CO(r.open),...t,ref:sv(e,i.onTriggerChange),onClick:p=>{var g;(g=t.onClick)==null||g.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ke(t.onPointerMove,Dm(p=>{s.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:Ke(t.onPointerLeave,Dm(p=>{var m,v;f();const g=(m=r.content)==null?void 0:m.getBoundingClientRect();if(g){const x=(v=r.content)==null?void 0:v.dataset.side,w=x==="right",T=w?-5:5,j=g[w?"left":"right"],P=g[w?"right":"left"];s.onPointerGraceIntentChange({area:[{x:p.clientX+T,y:p.clientY},{x:j,y:g.top},{x:P,y:g.top},{x:P,y:g.bottom},{x:j,y:g.bottom}],side:x}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(p),p.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ke(t.onKeyDown,p=>{var m;const g=s.searchRef.current!=="";t.disabled||g&&p.key===" "||RZ[n.dir].includes(p.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),p.preventDefault())})})})});wO.displayName=Tp;var kO="MenuSubContent",_O=C.forwardRef((t,e)=>{const r=oO(vo,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=yd(vo,t.__scopeMenu),o=yg(vo,t.__scopeMenu),a=bO(kO,t.__scopeMenu),c=C.useRef(null),d=yr(e,c);return l.jsx(Mm.Provider,{scope:t.__scopeMenu,children:l.jsx(Eo,{present:n||s.open,children:l.jsx(Mm.Slot,{scope:t.__scopeMenu,children:l.jsx(OS,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var p;o.isUsingKeyboardRef.current&&((p=c.current)==null||p.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ke(t.onFocusOutside,f=>{f.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ke(t.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Ke(t.onKeyDown,f=>{var m;const p=f.currentTarget.contains(f.target),g=IZ[o.dir].includes(f.key);p&&g&&(s.onOpenChange(!1),(m=a.trigger)==null||m.focus(),f.preventDefault())})})})})})});_O.displayName=kO;function CO(t){return t?"open":"closed"}function wx(t){return t==="indeterminate"}function zS(t){return wx(t)?"indeterminate":t?"checked":"unchecked"}function ZZ(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function eee(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function tee(t,e,r){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=eee(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function ree(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],c=e[o],d=a.x,f=a.y,p=c.x,g=c.y;f>n!=g>n&&r<(p-d)*(n-f)/(g-f)+d&&(i=!i)}return i}function nee(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return ree(r,e)}function Dm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var iee=sO,see=IS,oee=aO,aee=lO,lee=LS,cee=cO,uee=vv,dee=dO,fee=hO,hee=mO,pee=yO,mee=xO,gee=vO,yee=wO,xee=_O,bv="DropdownMenu",[vee,zpe]=So(bv,[nO]),Xi=nO(),[bee,SO]=vee(bv),EO=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,c=Xi(e),d=C.useRef(null),[f,p]=ia({prop:i,defaultProp:s??!1,onChange:o,caller:bv});return l.jsx(bee,{scope:e,triggerId:qs(),triggerRef:d,contentId:qs(),open:f,onOpenChange:p,onOpenToggle:C.useCallback(()=>p(g=>!g),[p]),modal:a,children:l.jsx(iee,{...c,open:f,onOpenChange:p,dir:n,modal:a,children:r})})};EO.displayName=bv;var TO="DropdownMenuTrigger",NO=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,s=SO(TO,r),o=Xi(r);return l.jsx(see,{asChild:!0,...o,children:l.jsx(Dt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:sv(e,s.triggerRef),onPointerDown:Ke(t.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Ke(t.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});NO.displayName=TO;var wee="DropdownMenuPortal",AO=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Xi(e);return l.jsx(oee,{...n,...r})};AO.displayName=wee;var jO="DropdownMenuContent",PO=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=SO(jO,r),s=Xi(r),o=C.useRef(!1);return l.jsx(aee,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:e,onCloseAutoFocus:Ke(t.onCloseAutoFocus,a=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Ke(t.onInteractOutside,a=>{const c=a.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;(!i.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});PO.displayName=jO;var kee="DropdownMenuGroup",_ee=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Xi(r);return l.jsx(lee,{...i,...n,ref:e})});_ee.displayName=kee;var Cee="DropdownMenuLabel",See=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Xi(r);return l.jsx(cee,{...i,...n,ref:e})});See.displayName=Cee;var Eee="DropdownMenuItem",RO=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Xi(r);return l.jsx(uee,{...i,...n,ref:e})});RO.displayName=Eee;var Tee="DropdownMenuCheckboxItem",Nee=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Xi(r);return l.jsx(dee,{...i,...n,ref:e})});Nee.displayName=Tee;var Aee="DropdownMenuRadioGroup",jee=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Xi(r);return l.jsx(fee,{...i,...n,ref:e})});jee.displayName=Aee;var Pee="DropdownMenuRadioItem",Ree=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Xi(r);return l.jsx(hee,{...i,...n,ref:e})});Ree.displayName=Pee;var Iee="DropdownMenuItemIndicator",Mee=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Xi(r);return l.jsx(pee,{...i,...n,ref:e})});Mee.displayName=Iee;var Dee="DropdownMenuSeparator",Oee=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Xi(r);return l.jsx(mee,{...i,...n,ref:e})});Oee.displayName=Dee;var Lee="DropdownMenuArrow",Fee=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Xi(r);return l.jsx(gee,{...i,...n,ref:e})});Fee.displayName=Lee;var zee="DropdownMenuSubTrigger",Bee=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Xi(r);return l.jsx(yee,{...i,...n,ref:e})});Bee.displayName=zee;var $ee="DropdownMenuSubContent",Uee=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Xi(r);return l.jsx(xee,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Uee.displayName=$ee;var Vee=EO,Wee=NO,qee=AO,Hee=PO,Gee=RO;function Kee({...t}){return l.jsx(Vee,{"data-slot":"dropdown-menu",...t})}function Yee({...t}){return l.jsx(Wee,{"data-slot":"dropdown-menu-trigger",...t})}function Jee({className:t,align:e="center",sideOffset:r=4,collisionPadding:n=8,avoidCollisions:i=!0,...s}){return l.jsx(qee,{children:l.jsx(Hee,{"data-slot":"dropdown-menu-content",align:e,sideOffset:r,collisionPadding:n,avoidCollisions:i,className:tt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...s})})}function v1({className:t,inset:e,variant:r="default",...n}){return l.jsx(Gee,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":r,className:tt("focus:bg-accent focus:text-accent-foreground data-[variant=default]:hover:bg-[#614E41]/10 data-[variant=default]:focus:bg-[#614E41]/15 data-[variant=default]:active:bg-[#614E41]/20 data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}var wv="Dialog",[IO,Bpe]=So(wv),[Xee,sa]=IO(wv),MO=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=C.useRef(null),c=C.useRef(null),[d,f]=ia({prop:n,defaultProp:i??!1,onChange:s,caller:wv});return l.jsx(Xee,{scope:e,triggerRef:a,contentRef:c,contentId:qs(),titleId:qs(),descriptionId:qs(),open:d,onOpenChange:f,onOpenToggle:C.useCallback(()=>f(p=>!p),[f]),modal:o,children:r})};MO.displayName=wv;var DO="DialogTrigger",OO=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=sa(DO,r),s=yr(e,i.triggerRef);return l.jsx(Dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":US(i.open),...n,ref:s,onClick:Ke(t.onClick,i.onOpenToggle)})});OO.displayName=DO;var BS="DialogPortal",[Qee,LO]=IO(BS,{forceMount:void 0}),FO=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=sa(BS,e);return l.jsx(Qee,{scope:e,forceMount:r,children:C.Children.map(n,o=>l.jsx(Eo,{present:r||s.open,children:l.jsx(pg,{asChild:!0,container:i,children:o})}))})};FO.displayName=BS;var kx="DialogOverlay",zO=C.forwardRef((t,e)=>{const r=LO(kx,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=sa(kx,t.__scopeDialog);return s.modal?l.jsx(Eo,{present:n||s.open,children:l.jsx(ete,{...i,ref:e})}):null});zO.displayName=kx;var Zee=Qu("DialogOverlay.RemoveScroll"),ete=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=sa(kx,r);return l.jsx(hv,{as:Zee,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(Dt.div,{"data-state":US(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),od="DialogContent",BO=C.forwardRef((t,e)=>{const r=LO(od,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=sa(od,t.__scopeDialog);return l.jsx(Eo,{present:n||s.open,children:s.modal?l.jsx(tte,{...i,ref:e}):l.jsx(rte,{...i,ref:e})})});BO.displayName=od;var tte=C.forwardRef((t,e)=>{const r=sa(od,t.__scopeDialog),n=C.useRef(null),i=yr(e,r.contentRef,n);return C.useEffect(()=>{const s=n.current;if(s)return TS(s)},[]),l.jsx($O,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ke(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Ke(t.onFocusOutside,s=>s.preventDefault())})}),rte=C.forwardRef((t,e)=>{const r=sa(od,t.__scopeDialog),n=C.useRef(!1),i=C.useRef(!1);return l.jsx($O,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),$O=C.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=sa(od,r),c=C.useRef(null),d=yr(e,c);return hS(),l.jsxs(l.Fragment,{children:[l.jsx(av,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(fg,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":US(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(ite,{titleId:a.titleId}),l.jsx(ote,{contentRef:c,descriptionId:a.descriptionId})]})]})}),$S="DialogTitle",UO=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=sa($S,r);return l.jsx(Dt.h2,{id:i.titleId,...n,ref:e})});UO.displayName=$S;var VO="DialogDescription",nte=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=sa(VO,r);return l.jsx(Dt.p,{id:i.descriptionId,...n,ref:e})});nte.displayName=VO;var WO="DialogClose",qO=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=sa(WO,r);return l.jsx(Dt.button,{type:"button",...n,ref:e,onClick:Ke(t.onClick,()=>i.onOpenChange(!1))})});qO.displayName=WO;function US(t){return t?"open":"closed"}var HO="DialogTitleWarning",[$pe,GO]=yY(HO,{contentName:od,titleName:$S,docsSlug:"dialog"}),ite=({titleId:t})=>{const e=GO(HO),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},ste="DialogDescriptionWarning",ote=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${GO(ste).contentName}}.`;return C.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},KO=MO,YO=OO,JO=FO,XO=zO,QO=BO,ZO=UO,ate=qO;function lte({...t}){return l.jsx(KO,{"data-slot":"sheet",...t})}function cte({...t}){return l.jsx(YO,{"data-slot":"sheet-trigger",...t})}function ute({...t}){return l.jsx(JO,{"data-slot":"sheet-portal",...t})}const dte=C.forwardRef(({className:t,...e},r)=>l.jsx(XO,{ref:r,"data-slot":"sheet-overlay",className:tt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})),fte=C.forwardRef(({className:t,children:e,side:r="right",...n},i)=>l.jsxs(ute,{children:[l.jsx(dte,{}),l.jsx(QO,{ref:i,"data-slot":"sheet-content",className:tt("bg-background text-foreground data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l border-border sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r border-border sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b border-border",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t border-border",t),...n,children:e})]}));function hte({className:t,...e}){return l.jsx("div",{"data-slot":"sheet-header",className:tt("flex flex-col gap-1.5 p-4",t),...e})}function pte({className:t,...e}){return l.jsx(ZO,{"data-slot":"sheet-title",className:tt("text-foreground font-semibold text-lg",t),...e})}const Om=C.forwardRef(({className:t,type:e,...r},n)=>l.jsx("input",{type:e,ref:n,"data-slot":"input",className:tt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r}));Om.displayName="Input";const mte=RS("inline-flex items-center justify-center rounded-full border px-2 py-1 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20",outline:"text-foreground [a&]:hover:bg-muted"}},defaultVariants:{variant:"default"}});function ea({className:t,variant:e,asChild:r=!1,...n}){const i=r?l3:"span";return l.jsx(i,{"data-slot":"badge",className:tt(mte({variant:e}),t),...n})}const gte=()=>{const{connected:t,address:e,formatAddress:r,disconnect:n,connectWallet:i,provider:s,chainId:o}=xr(),{contracts:a,getContractInstance:c}=Sr(),{theme:d,cycleTheme:f,getCurrentTheme:p}=TC(),{isMobile:g,isTablet:m,isInitialized:v}=pn(),x=Ua(),w=hd(),[T,j]=C.useState(!1),[P,S]=C.useState(""),[B,$]=C.useState([]),[W,G]=C.useState(!1),[q,H]=C.useState([]),[J,V]=C.useState(!1),[F,b]=C.useState(!1),A=C.useRef(null),O=C.useRef(null),R=C.useRef(!1),k=w.pathname==="/";w.pathname,C.useEffect(()=>{const K=()=>{V(window.scrollY>20)};return window.addEventListener("scroll",K),()=>window.removeEventListener("scroll",K)},[]),C.useEffect(()=>{if(!s||!o||R.current)return;(async()=>{var Y,Q;try{const ee=(Q=(Y=Ht[o])==null?void 0:Y.contractAddresses)==null?void 0:Q.protocolManager;if(!ee){H([]),R.current=!0;return}const ne=await new At(ee,ft.protocolManager,s).getAllPools();if(!ne||ne.length===0){H([]),R.current=!0;return}const de=ne.map(async _e=>{try{const le=await new At(_e,ft.pool,s).name();return{address:_e,name:le}}catch{return null}}),me=(await Promise.all(de)).filter(_e=>_e);H(me),R.current=!0}catch(ee){console.error("Error fetching pools:",ee),H([]),R.current=!0}})()},[s,o]),C.useEffect(()=>{if(!T||!(P!=null&&P.trim())){$([]);return}G(!0);const K=setTimeout(()=>{const Y=P.trim().toLowerCase(),Q=q.filter(ee=>(ee.name||"").trim().toLowerCase().includes(Y)||(ee.address||"").trim().toLowerCase()===Y||(ee.address||"").trim().toLowerCase().includes(Y));$(Q),G(!1)},300);return()=>clearTimeout(K)},[P,T,q]);const I=K=>{const Y=o&&Ht[o]?Ht[o].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):o||"",Q=Y?`/${Y}/raffle/${K}`:`/raffle/${K}`;x(Q),j(!1),S(""),$([])},N=async()=>{try{await i("metamask")}catch(K){console.error("Failed to connect wallet:",K)}},D=()=>{j(!T),T?(S(""),$([])):setTimeout(()=>{var K;return(K=A.current)==null?void 0:K.focus()},100)};C.useEffect(()=>{const K=Y=>{O.current&&!O.current.contains(Y.target)&&(j(!1),S(""),$([]))};return T&&document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[T]);const E=[],M=[{label:"Create Raffle Pool",href:"/create-raffle",icon:Is},{label:"Profile",href:"/profile",icon:CP}],Z={initial:{y:-100,opacity:0},animate:{y:0,opacity:1,transition:{type:"spring",stiffness:100,damping:20,staggerChildren:.1}},scrolled:{backgroundColor:J?"hsl(var(--background) / 0.95)":"hsl(var(--background) / 0.8)",backdropFilter:J?"blur(12px)":"blur(8px)",borderBottom:J?"1px solid hsl(var(--border))":"1px solid transparent",transition:{duration:.3}}},z={initial:{y:-20,opacity:0},animate:{y:0,opacity:1}};return v?g||m?l.jsxs(An.header,{variants:Z,initial:"initial",animate:"animate",whileInView:"scrolled",className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border",children:[l.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[l.jsx(An.div,{variants:z,children:k?l.jsx(hu,{size:"sm"}):t?l.jsx(Gf,{to:"/app",children:l.jsx(hu,{size:"sm",className:"hover:opacity-80 transition-opacity"})}):l.jsx(hu,{size:"sm"})}),l.jsxs("div",{className:"flex items-center gap-2",children:[!k&&l.jsx(An.div,{variants:z,children:l.jsx(qe,{variant:"ghost",size:"icon",onClick:D,className:"relative",children:l.jsx(Jo,{className:"h-4 w-4"})})}),l.jsx(An.div,{variants:z,children:l.jsxs(qe,{variant:"ghost",size:"icon",onClick:f,title:`Current: ${p().name}`,children:[p().icon==="Sun"&&l.jsx(wP,{className:"h-4 w-4"}),p().icon==="Moon"&&l.jsx(vP,{className:"h-4 w-4"}),p().icon==="Monitor"&&l.jsx(xP,{className:"h-4 w-4"})]})}),l.jsx(An.div,{variants:z,children:l.jsxs(lte,{open:F,onOpenChange:b,children:[l.jsx(cte,{asChild:!0,children:l.jsx(qe,{variant:"ghost",size:"icon",children:l.jsx(cY,{className:"h-4 w-4"})})}),l.jsxs(fte,{side:"right",className:"w-[300px] sm:w-[400px]",children:[l.jsx(hte,{children:l.jsx(pte,{children:"Menu"})}),l.jsxs("div",{className:"flex flex-col gap-4 mt-6",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider px-3",children:"Navigation"}),l.jsx("nav",{className:"flex flex-col gap-1 px-2",children:M.map(K=>l.jsxs(qe,{variant:"ghost",className:"justify-start gap-3 h-10",onClick:()=>{x(K.href),b(!1)},children:[l.jsx(K.icon,{className:"h-4 w-4"}),K.label]},K.href))})]}),l.jsx("div",{className:"border-t border-border"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider px-3",children:"Wallet"}),l.jsx("div",{className:"px-2 space-y-2",children:t?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[l.jsx(a1,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm font-mono flex-1",children:r(e)})]}),l.jsxs(qe,{variant:"outline",className:"w-full justify-start gap-2 h-10",onClick:()=>{n(),b(!1)},children:[l.jsx(yP,{className:"h-4 w-4"}),"Disconnect"]})]}):l.jsxs(qe,{className:"w-full gap-2 h-10",onClick:()=>{N(),b(!1)},children:[l.jsx(a1,{className:"h-4 w-4"}),"Connect Wallet"]})})]}),l.jsx("div",{className:"border-t border-border"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider px-3",children:"Network"}),l.jsx("div",{className:"px-2",children:l.jsx(XP,{})})]})]})]})]})})]})]}),l.jsx(bj,{children:T&&l.jsx(An.div,{ref:O,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-border bg-background",children:l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Jo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Om,{ref:A,placeholder:"Search raffles...",value:P,onChange:K=>S(K.target.value),className:"pl-10 pr-10 focus:ring-0 focus:border-border focus-visible:ring-0 focus-visible:border-border"}),l.jsx(qe,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8",onClick:()=>{j(!1),S("")},children:l.jsx(Pm,{className:"h-4 w-4"})})]}),B.length>0&&l.jsx("div",{className:"mt-4 space-y-2 max-h-64 overflow-y-auto",children:B.map(K=>l.jsx(qe,{variant:"ghost",className:"w-full justify-start h-auto p-3",onClick:()=>I(K.address),children:l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium",children:K.name}),l.jsxs("div",{className:"text-xs text-muted-foreground font-mono",children:[K.address.slice(0,10),"...",K.address.slice(-8)]})]})},K.address))})]})})})]}):l.jsx(An.header,{variants:Z,initial:"initial",animate:"animate",whileInView:"scrolled",className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border transition-all duration-300",children:l.jsx("div",{className:"max-w-7xl mx-auto px-6",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs(An.div,{variants:z,className:"flex items-center gap-8",children:[k?l.jsxs("div",{className:"flex items-center gap-3 cursor-default select-none",children:[l.jsx(hu,{size:"md"}),l.jsxs(ea,{variant:"secondary",className:"hidden xl:inline-flex items-center gap-1",children:[l.jsx(a3,{className:"h-3 w-3"}),"New"]})]}):t?l.jsx(Gf,{to:"/app",className:"flex items-center gap-3 outline-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",children:l.jsx(hu,{size:"md",className:"hover:opacity-80 transition-opacity"})}):l.jsx("div",{className:"flex items-center gap-3 cursor-default select-none",children:l.jsx(hu,{size:"md"})}),!k&&l.jsx("nav",{className:"hidden lg:flex items-center gap-6",children:E.map(K=>l.jsx(An.div,{variants:z,children:l.jsxs(qe,{variant:"ghost",className:"gap-2 hover:bg-muted/50",onClick:()=>x(K.href),children:[K.label==="Create"?null:l.jsx(K.icon,{className:"h-4 w-4"}),K.label]})},K.href))})]}),l.jsxs(An.div,{variants:z,className:"flex items-center gap-3",children:[!k&&l.jsx("div",{className:"relative",ref:O,children:l.jsx(bj,{children:T?l.jsxs(An.div,{initial:{width:40,opacity:0},animate:{width:300,opacity:1},exit:{width:40,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"relative",children:[l.jsx(Jo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Om,{ref:A,placeholder:"Search raffles...",value:P,onChange:K=>S(K.target.value),className:"pl-10 pr-10 bg-background/50 backdrop-blur-sm focus:ring-0 focus:border-border focus-visible:ring-0 focus-visible:border-border"}),l.jsx(qe,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8",onClick:D,children:l.jsx(Pm,{className:"h-4 w-4"})}),B.length>0&&l.jsx(An.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-2 bg-popover border border-border rounded-lg shadow-lg max-h-80 overflow-y-auto z-50",children:B.map(K=>l.jsx(qe,{variant:"ghost",className:"w-full justify-start h-auto p-4 rounded-none border-b border-border last:border-b-0",onClick:()=>I(K.address),children:l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium",children:K.name}),l.jsxs("div",{className:"text-xs text-muted-foreground font-mono",children:[K.address.slice(0,10),"...",K.address.slice(-8)]})]})},K.address))})]}):l.jsx(qe,{variant:"ghost",size:"icon",onClick:D,className:"hover:bg-muted/50",children:l.jsx(Jo,{className:"h-4 w-4"})})})}),!k&&l.jsx(XP,{}),!k&&(t?l.jsxs(Kee,{children:[l.jsx(Yee,{asChild:!0,children:l.jsxs(qe,{variant:"outline",className:"gap-2 hover:bg-muted/50",children:[l.jsx(a1,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:r(e)}),l.jsx(ko,{className:"h-4 w-4"})]})}),l.jsxs(Jee,{align:"end",className:"w-56",children:[l.jsxs(v1,{onClick:()=>x("/profile"),children:[l.jsx(CP,{className:"mr-2 h-4 w-4"}),"Profile"]}),l.jsxs(v1,{onClick:()=>x("/create-raffle"),children:[l.jsx(Is,{className:"mr-2 h-4 w-4"}),"Create Raffle Pool"]}),l.jsxs(v1,{onClick:n,children:[l.jsx(yP,{className:"mr-2 h-4 w-4"}),"Disconnect"]})]})]}):l.jsx(qe,{onClick:N,className:"bg-primary text-primary-foreground hover:bg-primary/90",children:"Connect Wallet"})),l.jsxs(qe,{variant:"ghost",size:"icon",onClick:f,title:`Current: ${p().name}`,className:"hover:bg-muted/50",children:[p().icon==="Sun"&&l.jsx(wP,{className:"h-4 w-4"}),p().icon==="Moon"&&l.jsx(vP,{className:"h-4 w-4"}),p().icon==="Monitor"&&l.jsx(xP,{className:"h-4 w-4"})]}),!k&&l.jsx(qe,{variant:"ghost",size:"icon",className:"hover:bg-muted/50 relative",children:l.jsx(QK,{className:"h-4 w-4"})})]})]})})}):l.jsx(An.header,{initial:{y:-100},animate:{y:0},className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md border-b border-border",children:l.jsx("div",{className:"flex items-center justify-between h-16 px-4",children:l.jsx(hu,{size:"sm"})})})};var kv="Collapsible",[yte,eL]=So(kv),[xte,VS]=yte(kv),tL=C.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:s,onOpenChange:o,...a}=t,[c,d]=ia({prop:n,defaultProp:i??!1,onChange:o,caller:kv});return l.jsx(xte,{scope:r,disabled:s,contentId:qs(),open:c,onOpenToggle:C.useCallback(()=>d(f=>!f),[d]),children:l.jsx(Dt.div,{"data-state":qS(c),"data-disabled":s?"":void 0,...a,ref:e})})});tL.displayName=kv;var rL="CollapsibleTrigger",nL=C.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,i=VS(rL,r);return l.jsx(Dt.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":qS(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:Ke(t.onClick,i.onOpenToggle)})});nL.displayName=rL;var WS="CollapsibleContent",iL=C.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=VS(WS,t.__scopeCollapsible);return l.jsx(Eo,{present:r||i.open,children:({present:s})=>l.jsx(vte,{...n,ref:e,present:s})})});iL.displayName=WS;var vte=C.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:i,...s}=t,o=VS(WS,r),[a,c]=C.useState(n),d=C.useRef(null),f=yr(e,d),p=C.useRef(0),g=p.current,m=C.useRef(0),v=m.current,x=o.open||a,w=C.useRef(x),T=C.useRef(void 0);return C.useEffect(()=>{const j=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(j)},[]),ui(()=>{const j=d.current;if(j){T.current=T.current||{transitionDuration:j.style.transitionDuration,animationName:j.style.animationName},j.style.transitionDuration="0s",j.style.animationName="none";const P=j.getBoundingClientRect();p.current=P.height,m.current=P.width,w.current||(j.style.transitionDuration=T.current.transitionDuration,j.style.animationName=T.current.animationName),c(n)}},[o.open,n]),l.jsx(Dt.div,{"data-state":qS(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...s,ref:f,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:x&&i})});function qS(t){return t?"open":"closed"}var bte=tL,wte=nL,kte=iL,oa="Accordion",_te=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[HS,Cte,Ste]=ov(oa),[_v,Upe]=So(oa,[Ste,eL]),GS=eL(),sL=ve.forwardRef((t,e)=>{const{type:r,...n}=t,i=n,s=n;return l.jsx(HS.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?l.jsx(Ate,{...s,ref:e}):l.jsx(Nte,{...i,ref:e})})});sL.displayName=oa;var[oL,Ete]=_v(oa),[aL,Tte]=_v(oa,{collapsible:!1}),Nte=ve.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:s=!1,...o}=t,[a,c]=ia({prop:r,defaultProp:n??"",onChange:i,caller:oa});return l.jsx(oL,{scope:t.__scopeAccordion,value:ve.useMemo(()=>a?[a]:[],[a]),onItemOpen:c,onItemClose:ve.useCallback(()=>s&&c(""),[s,c]),children:l.jsx(aL,{scope:t.__scopeAccordion,collapsible:s,children:l.jsx(lL,{...o,ref:e})})})}),Ate=ve.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...s}=t,[o,a]=ia({prop:r,defaultProp:n??[],onChange:i,caller:oa}),c=ve.useCallback(f=>a((p=[])=>[...p,f]),[a]),d=ve.useCallback(f=>a((p=[])=>p.filter(g=>g!==f)),[a]);return l.jsx(oL,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:l.jsx(aL,{scope:t.__scopeAccordion,collapsible:!0,children:l.jsx(lL,{...s,ref:e})})})}),[jte,Cv]=_v(oa),lL=ve.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:s="vertical",...o}=t,a=ve.useRef(null),c=yr(a,e),d=Cte(r),p=dg(i)==="ltr",g=Ke(t.onKeyDown,m=>{var G;if(!_te.includes(m.key))return;const v=m.target,x=d().filter(q=>{var H;return!((H=q.ref.current)!=null&&H.disabled)}),w=x.findIndex(q=>q.ref.current===v),T=x.length;if(w===-1)return;m.preventDefault();let j=w;const P=0,S=T-1,B=()=>{j=w+1,j>S&&(j=P)},$=()=>{j=w-1,j<P&&(j=S)};switch(m.key){case"Home":j=P;break;case"End":j=S;break;case"ArrowRight":s==="horizontal"&&(p?B():$());break;case"ArrowDown":s==="vertical"&&B();break;case"ArrowLeft":s==="horizontal"&&(p?$():B());break;case"ArrowUp":s==="vertical"&&$();break}const W=j%T;(G=x[W].ref.current)==null||G.focus()});return l.jsx(jte,{scope:r,disabled:n,direction:i,orientation:s,children:l.jsx(HS.Slot,{scope:r,children:l.jsx(Dt.div,{...o,"data-orientation":s,ref:c,onKeyDown:n?void 0:g})})})}),_x="AccordionItem",[Pte,KS]=_v(_x),cL=ve.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...i}=t,s=Cv(_x,r),o=Ete(_x,r),a=GS(r),c=qs(),d=n&&o.value.includes(n)||!1,f=s.disabled||t.disabled;return l.jsx(Pte,{scope:r,open:d,disabled:f,triggerId:c,children:l.jsx(bte,{"data-orientation":s.orientation,"data-state":mL(d),...a,...i,ref:e,disabled:f,open:d,onOpenChange:p=>{p?o.onItemOpen(n):o.onItemClose(n)}})})});cL.displayName=_x;var uL="AccordionHeader",dL=ve.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=Cv(oa,r),s=KS(uL,r);return l.jsx(Dt.h3,{"data-orientation":i.orientation,"data-state":mL(s.open),"data-disabled":s.disabled?"":void 0,...n,ref:e})});dL.displayName=uL;var l_="AccordionTrigger",fL=ve.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=Cv(oa,r),s=KS(l_,r),o=Tte(l_,r),a=GS(r);return l.jsx(HS.ItemSlot,{scope:r,children:l.jsx(wte,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...a,...n,ref:e})})});fL.displayName=l_;var hL="AccordionContent",pL=ve.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=Cv(oa,r),s=KS(hL,r),o=GS(r);return l.jsx(kte,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});pL.displayName=hL;function mL(t){return t?"open":"closed"}var gL=sL,yL=cL,xL=dL,vL=fL,bL=pL;function Rte({...t}){return l.jsx(gL,{"data-slot":"accordion",...t})}function Ite({className:t,...e}){return l.jsx(yL,{"data-slot":"accordion-item",className:tt("border-b last:border-b-0",t),...e})}function Mte({className:t,children:e,...r}){return l.jsx(xL,{className:"flex",children:l.jsxs(vL,{"data-slot":"accordion-trigger",className:tt("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,l.jsx(ko,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function Dte({className:t,children:e,...r}){return l.jsx(bL,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...r,children:l.jsx("div",{className:tt("pt-0 pb-4",t),children:e})})}const Ote=()=>{const[t,e]=C.useState(""),[r,n]=C.useState(!1),[i,s]=C.useState([]),o=hd(),a=new Date().getFullYear(),c=o.pathname==="/",d=[{title:"Product",items:[{label:"Explore Raffles",href:"/app",icon:Tm},{label:"Create Raffle",href:"/create-raffle",icon:hx}]},{title:"Resources",items:[{label:"Documentation",href:"/docs",icon:fp},{label:"Blog",href:"#",icon:fp},{label:"Tutorials",href:"#",icon:fp}]},{title:"Company",items:[{label:"About Us",href:"#",icon:Tc},{label:"Careers",href:"#",icon:fp},{label:"Press Kit",href:"#",icon:fp}]},{title:"Legal",items:[{label:"Terms of Service",href:"#",icon:ml},{label:"Privacy Policy",href:"#",icon:ml},{label:"Cookie Policy",href:"#",icon:ml},{label:"Compliance",href:"#",icon:ml}]}],f=[{name:"Twitter",href:"https://twitter.com/droprdotfun",icon:jm,color:"hover:text-blue-400"},{name:"Discord",href:"#",icon:Df,color:"hover:text-indigo-400"},{name:"Telegram",href:"#",icon:Am,color:"hover:text-blue-500"},{name:"GitHub",href:"#",icon:iY,color:"hover:text-gray-400"},{name:"Medium",href:"https://medium.com/@rafflhub",icon:Tm,color:"hover:text-green-400"}],p=v=>{v.preventDefault(),t.trim()&&(n(!0),setTimeout(()=>{n(!1),e("")},3e3))},g={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},m={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return l.jsxs("footer",{className:"relative bg-background border-t border-border/50 overflow-hidden",children:[c&&l.jsx("div",{className:"relative border-b border-border/30 bg-muted/30",children:l.jsx("div",{className:"max-w-7xl mx-auto px-6 py-10",children:l.jsxs(An.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"max-w-4xl mx-auto text-center",children:[l.jsx(ea,{className:"mb-4 bg-primary text-primary-foreground border-0",children:"Stay Updated"}),l.jsx("h2",{className:"text-3xl font-bold mb-4 font-display",children:"Get the Latest Raffle Updates"}),l.jsx("p",{className:"text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Join our community to receive exclusive raffle announcements, platform updates, and special offers."}),l.jsxs("form",{onSubmit:p,className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[l.jsx(Om,{type:"email",placeholder:"Enter your email",value:t,onChange:v=>e(v.target.value),required:!0,className:"flex-1 h-12 bg-background/50 backdrop-blur-sm border-border/50"}),l.jsx(qe,{type:"submit",className:"h-12 px-8 bg-primary hover:bg-primary/90 text-primary-foreground",children:r?"Subscribed!":"Subscribe"})]}),r&&l.jsx(An.p,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mt-4 text-success text-sm",children:" Successfully subscribed to newsletter!"})]})})}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:l.jsxs(An.div,{variants:g,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[l.jsx(An.div,{variants:m,className:"lg:col-span-1",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"text-xl font-bold font-display text-foreground",children:"Dropr"}),l.jsx(ea,{variant:"secondary",className:"text-xs",children:"Beta"})]}),l.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"The premier Web3 on-chain raffle platform for teams, creators, and communities. Create, participate, and win amazing prizes."}),l.jsx("div",{className:"flex items-center gap-3",children:f.map(v=>l.jsx(qe,{variant:"ghost",size:"icon",asChild:v.href!=="#",className:tt("h-9 w-9 rounded-full transition-all duration-200 hover:scale-110",v.color),children:v.href==="#"?l.jsx("div",{title:v.name,className:"flex items-center justify-center h-full w-full",children:l.jsx(v.icon,{className:"h-4 w-4"})}):l.jsx("a",{href:v.href,target:"_blank",rel:"noopener noreferrer",title:v.name,children:l.jsx(v.icon,{className:"h-4 w-4"})})},v.name))})]})}),d.map((v,x)=>l.jsxs(An.div,{variants:m,className:"hidden lg:block",children:[l.jsx("h4",{className:"font-semibold mb-4 font-display",children:v.title}),l.jsx("ul",{className:"space-y-3",children:v.items.map(w=>l.jsx("li",{children:w.href==="#"?l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors duration-200 group cursor-pointer",children:[l.jsx(w.icon,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),l.jsx("span",{className:"group-hover:translate-x-1 transition-transform duration-200",children:w.label})]}):l.jsxs(Gf,{to:w.href,className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors duration-200 group",children:[l.jsx(w.icon,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),l.jsx("span",{className:"group-hover:translate-x-1 transition-transform duration-200",children:w.label})]})},w.label))})]},v.title)),l.jsx(An.div,{variants:m,className:"lg:hidden col-span-1 md:col-span-2",children:l.jsx(Rte,{type:"multiple",value:i,onValueChange:s,children:d.map(v=>l.jsxs(Ite,{value:v.title,className:"border-b border-border/30",children:[l.jsx(Mte,{className:"text-left font-semibold font-display",children:v.title}),l.jsx(Dte,{children:l.jsx("ul",{className:"space-y-3 pt-2",children:v.items.map(x=>l.jsx("li",{children:x.href==="#"?l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors duration-200 group cursor-pointer",children:[l.jsx(x.icon,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),l.jsx("span",{children:x.label})]}):l.jsxs(Gf,{to:x.href,className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors duration-200 group",children:[l.jsx(x.icon,{className:"h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),l.jsx("span",{children:x.label})]})},x.label))})})]},v.title))})})]})}),l.jsx("div",{className:"border-t border-border/30",children:l.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:l.jsx(An.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"flex flex-col md:flex-row items-center justify-between gap-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsxs("span",{children:[" ",a," Dropr. All rights reserved."]}),l.jsx("span",{className:"hidden md:inline",children:""}),l.jsxs("span",{className:"hidden md:inline-flex items-center gap-1",children:["Made with ",l.jsx(s3,{className:"h-3 w-3 text-red-500 fill-current"})," for Web3"]})]})})})})]})]})};function Pr({className:t,...e}){return l.jsx("div",{"data-slot":"card",className:tt("bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex flex-col gap-6 hover:border-border/80",t),...e})}function wn({className:t,...e}){return l.jsx("div",{"data-slot":"card-header",className:tt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 py-4 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function kn({className:t,...e}){return l.jsx("div",{"data-slot":"card-title",className:tt("leading-none font-semibold",t),...e})}function Zo({className:t,...e}){return l.jsx("div",{"data-slot":"card-description",className:tt("text-muted-foreground text-sm",t),...e})}function Rr({className:t,...e}){return l.jsx("div",{"data-slot":"card-content",className:tt("px-6 py-6",t),...e})}class Lte extends ve.Component{constructor(r){super(r);_y(this,"handleRetry",()=>{this.setState(r=>({hasError:!1,error:null,errorInfo:null,retryCount:r.retryCount+1}))});_y(this,"handleGoHome",()=>{window.location.href="/"});_y(this,"getBrowserSpecificErrorInfo",()=>{const{error:r,browserInfo:n}=this.state,i=(r==null?void 0:r.message)||(r==null?void 0:r.toString())||"Unknown error";if(i.includes("missing revert data")||i.includes("call exception")||i.includes("CALL_EXCEPTION"))return{title:"Network Connection Issue",message:`Your browser (${(n==null?void 0:n.name)||"unknown"}) is experiencing connectivity issues with the blockchain network.`,suggestions:["Check your internet connection","Try refreshing the page","Switch to a different network and back",(n==null?void 0:n.name)==="firefox"?"Firefox may need extra time - please be patient":"Try using Chrome for better compatibility"]};if(i.includes("MetaMask")||i.includes("wallet"))return{title:"Wallet Connection Issue",message:"There was a problem connecting to your wallet.",suggestions:["Make sure MetaMask is installed and unlocked","Try disconnecting and reconnecting your wallet","Refresh the page and try again"]};const s=["Refresh the page and try again"];return(n==null?void 0:n.name)==="firefox"?s.push("Firefox users may experience slower loading - please be patient"):(n==null?void 0:n.name)==="safari"?s.push("Safari users should ensure they have the latest version"):(n==null?void 0:n.name)==="edge"&&s.push("Edge users may need to clear browser cache"),n!=null&&n.isMobile&&s.push("Mobile users: ensure stable internet connection"),{title:"Something went wrong",message:"An unexpected error occurred while loading the application.",suggestions:s}});this.state={hasError:!1,error:null,errorInfo:null,retryCount:0,browserInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){const i=SC();this.setState({error:r,errorInfo:n,browserInfo:i}),console.group(" Error Boundary Caught Error"),console.log("Browser:",i),console.log("Error:",r),console.log("Error Info:",n),console.groupEnd(),window.gtag&&window.gtag("event","exception",{description:r.toString(),fatal:!1,custom_parameters:{browser:i.name,browser_version:i.version,is_mobile:i.isMobile}})}render(){if(this.state.hasError){const{isMobile:r=!1,fallbackComponent:n}=this.props,{error:i,retryCount:s,browserInfo:o}=this.state,a=this.getBrowserSpecificErrorInfo();return n?n(i,this.handleRetry,this.handleGoHome):r?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:l.jsxs(Pr,{className:"w-full max-w-md",children:[l.jsxs(wn,{className:"text-center",children:[l.jsx(hP,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),l.jsx(kn,{className:"text-lg",children:a.title})]}),l.jsxs(Rr,{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground text-center",children:a.message}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-semibold text-sm",children:"Try these solutions:"}),l.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:a.suggestions.map((c,d)=>l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"mr-2",children:""}),l.jsx("span",{children:c})]},d))})]}),s<3&&l.jsxs(qe,{onClick:this.handleRetry,className:"w-full",variant:"default",children:[l.jsx(Qf,{className:"h-4 w-4 mr-2"}),"Try Again"]}),l.jsxs(qe,{onClick:this.handleGoHome,variant:"outline",className:"w-full",children:[l.jsx(gP,{className:"h-4 w-4 mr-2"}),"Go Home"]}),!1]})]})}):l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:l.jsxs(Pr,{className:"w-full max-w-2xl",children:[l.jsxs(wn,{className:"text-center",children:[l.jsx(hP,{className:"h-16 w-16 text-destructive mx-auto mb-6"}),l.jsx(kn,{className:"text-2xl",children:"Oops! Something went wrong"})]}),l.jsxs(Rr,{className:"space-y-6",children:[l.jsx("p",{className:"text-muted-foreground text-center",children:"The application encountered an unexpected error. This could be due to:"}),l.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 max-w-md mx-auto",children:[l.jsx("li",{children:" Network connectivity issues"}),l.jsx("li",{children:" Blockchain RPC provider problems"}),l.jsx("li",{children:" Temporary service disruption"}),l.jsx("li",{children:" Browser compatibility issues"})]}),l.jsxs("div",{className:"flex gap-4 justify-center",children:[s<3&&l.jsxs(qe,{onClick:this.handleRetry,variant:"default",children:[l.jsx(Qf,{className:"h-4 w-4 mr-2"}),"Try Again"]}),l.jsxs(qe,{onClick:this.handleGoHome,variant:"outline",children:[l.jsx(gP,{className:"h-4 w-4 mr-2"}),"Return Home"]})]}),!1]})]})})}return this.props.children}}class Fte{constructor(){this.cache=new Map,this.cacheTimeout=300*1e3,this.retryAttempts=3,this.retryDelay=1e3,this.performanceMetrics=new Map,this.errorMetrics=new Map}initialize(e,r){this.walletContext=e,this.contractContext=r}getPlatformConfig(e=!1){const r=typeof window<"u"&&(/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768),n=e||r;return{maxRafflesToFetch:n?25:30,timeout:n?2e4:12e3,concurrency:n?2:4,batchDelay:n?200:100,retryDelay:n?2e3:1e3,maxRetries:n?2:3,useCache:!0,retryOnFailure:!0,progressiveLoading:n,prioritizeRecent:n}}createContractInstance(e,r,n=!1){var i,s,o;try{if(!e||e===He)throw new Error(`Invalid contract address for ${r}`);const a=ft[r];if(!a)throw new Error(`ABI not found for ${r}`);const c=n?(i=this.walletContext)==null?void 0:i.provider:((s=this.walletContext)==null?void 0:s.signer)||((o=this.walletContext)==null?void 0:o.provider);if(!c)throw new Error("No signer or provider available");return new At(e,a,c)}catch(a){return console.error(`Error creating contract instance for ${r}:`,a),null}}areContractsAvailable(){const{chainId:e}=this.walletContext||{};if(!e||!Ht[e])return console.log(" Chain not supported or chainId missing:",{chainId:e}),!1;const r=Ht[e].contractAddresses,n=(r==null?void 0:r.protocolManager)&&r.protocolManager!=="0x..."&&(r==null?void 0:r.poolDeployer)&&r.poolDeployer!=="0x...";return console.log(" Contract availability check:",{chainId:e,isAvailable:n,protocolManager:r==null?void 0:r.protocolManager,poolDeployer:r==null?void 0:r.poolDeployer}),n}getProtocolManagerContract(){var r,n,i,s;const{chainId:e}=this.walletContext||{};if(!this.areContractsAvailable())return null;if((n=(r=this.contractContext)==null?void 0:r.contracts)!=null&&n.protocolManager)return this.contractContext.contracts.protocolManager;if(e&&((s=(i=Ht[e])==null?void 0:i.contractAddresses)!=null&&s.protocolManager)){const o=Ht[e].contractAddresses.protocolManager;return this.createContractInstance(o,"protocolManager",!0)}return null}async withRetry(e,r="",n={}){var d;const i=this.getPlatformConfig(n.isMobile),s=n.maxRetries||i.maxRetries,o=n.retryDelay||i.retryDelay,a=n.timeout||i.timeout;let c;(d=this.walletContext)==null||d.chainId;for(let f=1;f<=s;f++)try{return await Promise.race([e(),new Promise((p,g)=>setTimeout(()=>g(new Error("Operation timeout")),a))])}catch(p){if(c=p,console.warn(`${r} attempt ${f}/${s} failed:`,p.message),p.message.includes("user rejected")||p.message.includes("User denied")||p.code===4001||p.message.includes("Invalid contract address"))throw p;if(n.isMobile&&(p.message.includes("Network Error")||p.message.includes("CONNECTION ERROR")||p.code==="NETWORK_ERROR"))throw console.warn(`Mobile network error detected, skipping retries for ${r}`),p;if(f<s){const g=o*f;console.log(`Retrying ${r} in ${g}ms...`),await new Promise(m=>setTimeout(m,g))}}throw c}async getAllRaffleAddresses(){var o;const e=`raffleAddresses_${(o=this.walletContext)==null?void 0:o.chainId}`,r=this.cache.get(e);if(r&&Date.now()-r.timestamp<this.cacheTimeout)return r.data;if(!this.areContractsAvailable())throw new Error("CONTRACTS_NOT_AVAILABLE");const n=this.getProtocolManagerContract();if(!n)throw new Error("CONTRACTS_NOT_AVAILABLE");const s=(await this.withRetry(()=>n.getAllPools(),"getAllPools")||[]).slice().reverse();return this.cache.set(e,{data:s,timestamp:Date.now()}),s}async fetchRaffleDetails(e,r={}){var n,i,s,o,a,c,d,f,p,g,m,v,x,w,T,j,P,S,B,$,W,G;try{const q=this.createContractInstance(e,"pool",!0);if(!q)return console.error(`Failed to create raffle contract for ${e}`),null;let H,J,V,F,b,A,O,R,k,I,N,D,E,M,Z,z,K,Y,Q;r.isMobile?(H=await this.withRetry(()=>q.name(),`name-${e}`,r),J=await this.withRetry(()=>q.creator(),`creator-${e}`,r),V=await this.withRetry(()=>q.startTime(),`startTime-${e}`,r),F=await this.withRetry(()=>q.duration(),`duration-${e}`,r),b=await this.withRetry(()=>q.slotFee(),`slotFee-${e}`,r),A=await this.withRetry(()=>q.slotLimit(),`slotLimit-${e}`,r),O=await this.withRetry(()=>q.winnersCount(),`winnersCount-${e}`,r),R=await this.withRetry(()=>q.maxSlotsPerParticipant(),`maxSlots-${e}`,r),k=await this.withRetry(()=>q.state(),`state-${e}`,r),I=await((n=q.isPrized)==null?void 0:n.call(q).catch(()=>!1)),N=await((i=q.prizeCollection)==null?void 0:i.call(q).catch(()=>He)),D=await((s=q.prizeTokenId)==null?void 0:s.call(q).catch(()=>ue.from(0))),E=await((o=q.erc20PrizeToken)==null?void 0:o.call(q).catch(()=>He)),M=await((a=q.erc20PrizeAmount)==null?void 0:a.call(q).catch(()=>ue.from(0))),Z=await((c=q.nativePrizeAmount)==null?void 0:c.call(q).catch(()=>ue.from(0))),z=await((d=q.isCollabPool)==null?void 0:d.call(q).catch(ne=>(console.warn(`isCollabPool failed for ${e}:`,ne.message),!1))),K=await((f=q.standard)==null?void 0:f.call(q).catch(ne=>{console.warn(`[RaffleService] standard failed for ${e}:`,ne.message)})),Y=await((p=q.usesCustomFee)==null?void 0:p.call(q).catch(ne=>(console.warn(`[RaffleService] usesCustomFee failed for ${e}:`,ne.message),!1))),Q=await((g=q.isEscrowedPrize)==null?void 0:g.call(q).catch(ne=>(console.warn(`[RaffleService] isEscrowedPrize failed for ${e}:`,ne.message),!1)))):[H,J,V,F,b,A,O,R,k,I,N,D,E,M,Z,z,K,Y,Q]=await Promise.all([this.withRetry(()=>q.name(),`name-${e}`,r),this.withRetry(()=>q.creator(),`creator-${e}`,r),this.withRetry(()=>q.startTime(),`startTime-${e}`,r),this.withRetry(()=>q.duration(),`duration-${e}`,r),this.withRetry(()=>q.slotFee(),`slotFee-${e}`,r),this.withRetry(()=>q.slotLimit(),`slotLimit-${e}`,r),this.withRetry(()=>q.winnersCount(),`winnersCount-${e}`,r),this.withRetry(()=>q.maxSlotsPerParticipant(),`maxSlots-${e}`,r),this.withRetry(()=>q.state(),`state-${e}`,r),(m=q.isPrized)==null?void 0:m.call(q).catch(()=>!1),(v=q.prizeCollection)==null?void 0:v.call(q).catch(()=>He),(x=q.prizeTokenId)==null?void 0:x.call(q).catch(()=>ue.from(0)),(w=q.erc20PrizeToken)==null?void 0:w.call(q).catch(()=>He),(T=q.erc20PrizeAmount)==null?void 0:T.call(q).catch(()=>ue.from(0)),(j=q.nativePrizeAmount)==null?void 0:j.call(q).catch(()=>ue.from(0)),(P=q.isCollabPool)==null?void 0:P.call(q).catch(ne=>(console.warn(`[RaffleService] isCollabPool failed for ${e}:`,ne.message),!1)),(S=q.standard)==null?void 0:S.call(q).catch(ne=>{console.warn(`[RaffleService] standard failed for ${e}:`,ne.message)}),(B=q.usesCustomFee)==null?void 0:B.call(q).catch(ne=>(console.warn(`[RaffleService] usesCustomFee failed for ${e}:`,ne.message),!1)),($=q.isEscrowedPrize)==null?void 0:$.call(q).catch(ne=>(console.warn(`[RaffleService] isEscrowedPrize failed for ${e}:`,ne.message),!1))]);let ee;switch(k){case 0:ee="pending";break;case 1:ee="active";break;case 2:ee="drawing";break;case 3:ee="completed";break;case 4:ee="completed";break;case 5:ee="ended";break;default:ee="ended"}let ae;if([2,3,4,5,6,7,8].includes(k))try{const ne=await((W=q.getActualPoolDuration)==null?void 0:W.call(q));ne&&(ae=ne.toNumber?ne.toNumber():Number(ne))}catch{}return{id:e,name:H,address:e,chainId:(G=this.walletContext)==null?void 0:G.chainId,creator:J,startTime:V.toNumber(),duration:F.toNumber(),actualDuration:ae,slotFee:b,ticketLimit:A.toNumber(),slotLimit:A.toNumber(),ticketsSold:0,winnersCount:O.toNumber(),maxTicketsPerParticipant:R.toNumber(),isPrized:!!I,prizeCollection:N,prizeTokenId:D?D.toNumber?D.toNumber():Number(D):0,stateNum:k,state:ee,erc20PrizeToken:E,erc20PrizeAmount:M,nativePrizeAmount:Z,isCollabPool:z,standard:K!=null?K.toNumber?K.toNumber():Number(K):void 0,usesCustomFee:Y,isEscrowedPrize:Q}}catch(q){return console.error(`Error fetching raffle details for ${e}:`,q),null}}async processBatch(e,r={}){const n=this.getPlatformConfig(r.isMobile),i=r.batchSize||n.concurrency,s=r.batchDelay||n.batchDelay,o=r.onProgress,a=[],c=Math.ceil(e.length/i);console.log(`Processing ${e.length} raffles in ${c} batches (${i} per batch)`);for(let d=0;d<e.length;d+=i){const f=Math.floor(d/i)+1,p=e.slice(d,d+i);console.log(`Processing batch ${f}/${c} (${p.length} raffles)`);try{if(r.isMobile&&n.progressiveLoading)for(const g of p)try{const m=await this.fetchRaffleDetails(g,{isMobile:!0});m&&(a.push(m),o&&o(a.length,e.length)),await new Promise(v=>setTimeout(v,50))}catch(m){console.warn(`Failed to fetch raffle ${g}:`,m.message)}else{const g=p.map(x=>this.fetchRaffleDetails(x,{isMobile:r.isMobile})),v=(await Promise.allSettled(g)).filter(x=>x.status==="fulfilled"&&x.value!==null).map(x=>x.value);a.push(...v),o&&o(a.length,e.length)}d+i<e.length&&(console.log(`Waiting ${s}ms before next batch...`),await new Promise(g=>setTimeout(g,s)))}catch(g){console.error(`Error processing batch ${f}:`,g)}}return console.log(`Successfully processed ${a.length}/${e.length} raffles`),a}async fetchAllRaffles(e={}){var c,d,f;const{isMobile:r=!1,useCache:n=!0,maxRaffles:i=null}=e,s=this.getPlatformConfig(r),o=`allRaffles_${(c=this.walletContext)==null?void 0:c.chainId}_${r}`,a=this.startTimer("fetchAllRaffles",{isMobile:r,chainId:(d=this.walletContext)==null?void 0:d.chainId});if(n){const p=this.cache.get(o);if(p&&Date.now()-p.timestamp<this.cacheTimeout)return this.endTimer(a,{fromCache:!0,rafflCount:p.data.length}),p.data}try{const p=this.startTimer("getAllRaffleAddresses",{isMobile:r}),g=await this.getAllRaffleAddresses();if(this.endTimer(p,{addressCount:(g==null?void 0:g.length)||0}),!g||g.length===0)return this.endTimer(a,{rafflCount:0,fromCache:!1}),[];const m=i||s.maxRafflesToFetch,v=g.slice(0,m),x=this.startTimer("processBatch",{isMobile:r,totalAddresses:v.length,batchSize:s.concurrency}),w=await this.processBatch(v,{...s,isMobile:r,onProgress:(T,j)=>{console.log(`[RaffleService] Progress: ${T}/${j} raffles processed (${(T/j*100).toFixed(1)}%)`)}});return this.endTimer(x,{successfulRaffles:w.length,failedRaffles:v.length-w.length}),n&&this.cache.set(o,{data:w,timestamp:Date.now()}),this.endTimer(a,{rafflCount:w.length,fromCache:!1,totalAddresses:g.length,processedAddresses:v.length}),w}catch(p){throw this.trackError("fetchAllRaffles",p,{isMobile:r,chainId:(f=this.walletContext)==null?void 0:f.chainId}),this.endTimer(a,{error:!0,errorMessage:p.message}),p}}async searchRaffles(e,r={}){const n=await this.fetchAllRaffles(r),i=e.trim().toLowerCase();return n.filter(s=>(s.name||"").toLowerCase().includes(i)||(s.address||"").toLowerCase().includes(i)||(s.address||"").toLowerCase()===i)}clearCache(){this.cache.clear()}startTimer(e,r={}){const n=`${e}_${Date.now()}_${Math.random()}`;return this.performanceMetrics.set(n,{operation:e,context:r,startTime:performance.now(),platform:r.isMobile?"mobile":"desktop"}),n}endTimer(e,r={}){const n=this.performanceMetrics.get(e);if(!n)return;const i=performance.now(),s=i-n.startTime,o={...n,endTime:i,duration:s,...r};if(console.log(`[RaffleService] ${n.operation} completed in ${s.toFixed(2)}ms`,{platform:n.platform,context:n.context,...r}),this.performanceMetrics.set(e,o),this.performanceMetrics.size>100){const a=this.performanceMetrics.keys().next().value;this.performanceMetrics.delete(a)}return o}trackError(e,r,n={}){const i=`${e}_${n.isMobile?"mobile":"desktop"}`,s=this.errorMetrics.get(i)||{count:0,errors:[]};s.count++,s.errors.push({timestamp:Date.now(),message:r.message,stack:r.stack,context:n}),s.errors.length>10&&(s.errors=s.errors.slice(-10)),this.errorMetrics.set(i,s),console.error(`[RaffleService] Error in ${e} (${n.isMobile?"mobile":"desktop"}):`,r)}getPerformanceStats(){const e={mobile:{operations:{},totalOperations:0,avgDuration:0},desktop:{operations:{},totalOperations:0,avgDuration:0}};let r=0,n=0;for(const i of this.performanceMetrics.values()){if(!i.duration)continue;const s=i.platform,o=i.operation;e[s].operations[o]||(e[s].operations[o]={count:0,totalDuration:0,avgDuration:0,minDuration:1/0,maxDuration:0});const a=e[s].operations[o];a.count++,a.totalDuration+=i.duration,a.avgDuration=a.totalDuration/a.count,a.minDuration=Math.min(a.minDuration,i.duration),a.maxDuration=Math.max(a.maxDuration,i.duration),e[s].totalOperations++,s==="mobile"?r+=i.duration:n+=i.duration}return e.mobile.avgDuration=e.mobile.totalOperations>0?r/e.mobile.totalOperations:0,e.desktop.avgDuration=e.desktop.totalOperations>0?n/e.desktop.totalOperations:0,e}getErrorStats(){const e={};for(const[r,n]of this.errorMetrics.entries())e[r]={count:n.count,lastError:n.errors[n.errors.length-1],recentErrors:n.errors.slice(-3)};return e}getCacheStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys()),performance:this.getPerformanceStats(),errors:this.getErrorStats()}}}const xa=new Fte,zte=()=>{const[t,e]=C.useState(!1);return C.useEffect(()=>{},[!1]),{component:null}},Bte=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),wL=()=>{Bte&&console.log("Mobile keyboard fix initialized (simplified version)")},kL=()=>{console.log("Mobile keyboard fix cleanup (simplified version)")},$te=wL,Ute=kL;let b1=null;function Vte(){if(typeof window>"u"||typeof document>"u")return()=>{};const t={capture:!0},e=r=>{const n=r.target;if(!n||!(n instanceof Element))return;const i=n.closest('input[type="number"]');i&&(i.disabled||i.readOnly||i.dataset&&i.dataset.wheelAllowed==="true"||i.blur())};return document.addEventListener("wheel",e,t),b1=()=>{document.removeEventListener("wheel",e,t),b1=null},b1}function al(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _L(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Gs={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},rh={duration:.5,overwrite:!1,delay:0},YS,ci,Yr,mo=1e8,Lr=1/mo,c_=Math.PI*2,Wte=c_/4,qte=0,CL=Math.sqrt,Hte=Math.cos,Gte=Math.sin,ei=function(e){return typeof e=="string"},hn=function(e){return typeof e=="function"},Cl=function(e){return typeof e=="number"},JS=function(e){return typeof e>"u"},$a=function(e){return typeof e=="object"},ps=function(e){return e!==!1},XS=function(){return typeof window<"u"},Gy=function(e){return hn(e)||ei(e)},SL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ii=Array.isArray,u_=/(?:-?\.?\d|\.)+/gi,EL=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Tf=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,w1=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,TL=/[+-]=-?[.\d]+/,NL=/[^,'"\[\]\s]+/gi,Kte=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,on,Ca,d_,QS,Ys={},Cx={},AL,jL=function(e){return(Cx=nh(e,Ys))&&xs},ZS=function(e,r){return console.warn("Invalid property",e,"set to",r,"Missing plugin? gsap.registerPlugin()")},Lm=function(e,r){return!r&&console.warn(e)},PL=function(e,r){return e&&(Ys[e]=r)&&Cx&&(Cx[e]=r)||Ys},Fm=function(){return 0},Yte={suppressEvents:!0,isStart:!0,kill:!1},$0={suppressEvents:!0,kill:!1},Jte={suppressEvents:!0},e2={},wc=[],f_={},RL,Ps={},k1={},tR=30,U0=[],t2="",r2=function(e){var r=e[0],n,i;if($a(r)||hn(r)||(e=[e]),!(n=(r._gsap||{}).harness)){for(i=U0.length;i--&&!U0[i].targetTest(r););n=U0[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new r6(e[i],n)))||e.splice(i,1);return e},$u=function(e){return e._gsap||r2(go(e))[0]._gsap},IL=function(e,r,n){return(n=e[r])&&hn(n)?e[r]():JS(n)&&e.getAttribute&&e.getAttribute(r)||n},ms=function(e,r){return(e=e.split(",")).forEach(r)||e},bn=function(e){return Math.round(e*1e5)/1e5||0},On=function(e){return Math.round(e*1e7)/1e7||0},zf=function(e,r){var n=r.charAt(0),i=parseFloat(r.substr(2));return e=parseFloat(e),n==="+"?e+i:n==="-"?e-i:n==="*"?e*i:e/i},Xte=function(e,r){for(var n=r.length,i=0;e.indexOf(r[i])<0&&++i<n;);return i<n},Sx=function(){var e=wc.length,r=wc.slice(0),n,i;for(f_={},wc.length=0,n=0;n<e;n++)i=r[n],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},n2=function(e){return!!(e._initted||e._startAt||e.add)},ML=function(e,r,n,i){wc.length&&!ci&&Sx(),e.render(r,n,!!(ci&&r<0&&n2(e))),wc.length&&!ci&&Sx()},DL=function(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match(NL).length<2?r:ei(e)?e.trim():e},OL=function(e){return e},Js=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},Qte=function(e){return function(r,n){for(var i in n)i in r||i==="duration"&&e||i==="ease"||(r[i]=n[i])}},nh=function(e,r){for(var n in r)e[n]=r[n];return e},rR=function t(e,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=$a(r[n])?t(e[n]||(e[n]={}),r[n]):r[n]);return e},Ex=function(e,r){var n={},i;for(i in e)i in r||(n[i]=e[i]);return n},Hp=function(e){var r=e.parent||on,n=e.keyframes?Qte(Ii(e.keyframes)):Js;if(ps(e.inherit))for(;r;)n(e,r.vars.defaults),r=r.parent||r._dp;return e},Zte=function(e,r){for(var n=e.length,i=n===r.length;i&&n--&&e[n]===r[n];);return n<0},LL=function(e,r,n,i,s){var o=e[i],a;if(s)for(a=r[s];o&&o[s]>a;)o=o._prev;return o?(r._next=o._next,o._next=r):(r._next=e[n],e[n]=r),r._next?r._next._prev=r:e[i]=r,r._prev=o,r.parent=r._dp=e,r},Sv=function(e,r,n,i){n===void 0&&(n="_first"),i===void 0&&(i="_last");var s=r._prev,o=r._next;s?s._next=o:e[n]===r&&(e[n]=o),o?o._prev=s:e[i]===r&&(e[i]=s),r._next=r._prev=r.parent=null},jc=function(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Uu=function(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},ere=function(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},h_=function(e,r,n,i){return e._startAt&&(ci?e._startAt.revert($0):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,i))},tre=function t(e){return!e||e._ts&&t(e.parent)},nR=function(e){return e._repeat?ih(e._tTime,e=e.duration()+e._rDelay)*e:0},ih=function(e,r){var n=Math.floor(e=On(e/r));return e&&n===e?n-1:n},Tx=function(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},Ev=function(e){return e._end=On(e._start+(e._tDur/Math.abs(e._ts||e._rts||Lr)||0))},Tv=function(e,r){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=On(n._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),Ev(e),n._dirty||Uu(n,e)),e},FL=function(e,r){var n;if((r._time||!r._dur&&r._initted||r._start<e._time&&(r._dur||!r.add))&&(n=Tx(e.rawTime(),r),(!r._dur||xg(0,r.totalDuration(),n)-r._tTime>Lr)&&r.render(n,!0)),Uu(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-Lr}},ja=function(e,r,n,i){return r.parent&&jc(r),r._start=On((Cl(n)?n:n||e!==on?lo(e,n,r):e._time)+r._delay),r._end=On(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),LL(e,r,"_first","_last",e._sort?"_start":0),p_(r)||(e._recent=r),i||FL(e,r),e._ts<0&&Tv(e,e._tTime),e},zL=function(e,r){return(Ys.ScrollTrigger||ZS("scrollTrigger",r))&&Ys.ScrollTrigger.create(r,e)},BL=function(e,r,n,i,s){if(s2(e,r,s),!e._initted)return 1;if(!n&&e._pt&&!ci&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&RL!==Os.frame)return wc.push(e),e._lazy=[s,i],1},rre=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},p_=function(e){var r=e.data;return r==="isFromStart"||r==="isStart"},nre=function(e,r,n,i){var s=e.ratio,o=r<0||!r&&(!e._start&&rre(e)&&!(!e._initted&&p_(e))||(e._ts<0||e._dp._ts<0)&&!p_(e))?0:1,a=e._rDelay,c=0,d,f,p;if(a&&e._repeat&&(c=xg(0,e._tDur,r),f=ih(c,a),e._yoyo&&f&1&&(o=1-o),f!==ih(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||ci||i||e._zTime===Lr||!r&&e._zTime){if(!e._initted&&BL(e,r,i,n,c))return;for(p=e._zTime,e._zTime=r||(n?Lr:0),n||(n=r&&!p),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=c,d=e._pt;d;)d.r(o,d.d),d=d._next;r<0&&h_(e,r,n,!0),e._onUpdate&&!n&&Us(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&Us(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===o&&(o&&jc(e,1),!n&&!ci&&(Us(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},ire=function(e,r,n){var i;if(n>r)for(i=e._first;i&&i._start<=n;){if(i.data==="isPause"&&i._start>r)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if(i.data==="isPause"&&i._start<r)return i;i=i._prev}},sh=function(e,r,n,i){var s=e._repeat,o=On(r)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:On(o*(s+1)+e._rDelay*s):o,a>0&&!i&&Tv(e,e._tTime=e._tDur*a),e.parent&&Ev(e),n||Uu(e.parent,e),e},iR=function(e){return e instanceof Gi?Uu(e):sh(e,e._dur)},sre={_start:0,endTime:Fm,totalDuration:Fm},lo=function t(e,r,n){var i=e.labels,s=e._recent||sre,o=e.duration()>=mo?s.endTime(!1):e._dur,a,c,d;return ei(r)&&(isNaN(r)||r in i)?(c=r.charAt(0),d=r.substr(-1)==="%",a=r.indexOf("="),c==="<"||c===">"?(a>=0&&(r=r.replace(/=/,"")),(c==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(r.substr(1))||0)*(d?(a<0?s:n).totalDuration()/100:1)):a<0?(r in i||(i[r]=o),i[r]):(c=parseFloat(r.charAt(a-1)+r.substr(a+1)),d&&n&&(c=c/100*(Ii(n)?n[0]:n).totalDuration()),a>1?t(e,r.substr(0,a-1),n)+c:o+c)):r==null?o:+r},Gp=function(e,r,n){var i=Cl(r[1]),s=(i?2:1)+(e<2?0:1),o=r[s],a,c;if(i&&(o.duration=r[1]),o.parent=n,e){for(a=o,c=n;c&&!("immediateRender"in a);)a=c.vars.defaults||{},c=ps(c.vars.inherit)&&c.parent;o.immediateRender=ps(a.immediateRender),e<2?o.runBackwards=1:o.startAt=r[s-1]}return new Dn(r[0],o,r[s+1])},Bc=function(e,r){return e||e===0?r(e):r},xg=function(e,r,n){return n<e?e:n>r?r:n},Ti=function(e,r){return!ei(e)||!(r=Kte.exec(e))?"":r[1]},ore=function(e,r,n){return Bc(n,function(i){return xg(e,r,i)})},m_=[].slice,$L=function(e,r){return e&&$a(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&$a(e[0]))&&!e.nodeType&&e!==Ca},are=function(e,r,n){return n===void 0&&(n=[]),e.forEach(function(i){var s;return ei(i)&&!r||$L(i,1)?(s=n).push.apply(s,go(i)):n.push(i)})||n},go=function(e,r,n){return Yr&&!r&&Yr.selector?Yr.selector(e):ei(e)&&!n&&(d_||!oh())?m_.call((r||QS).querySelectorAll(e),0):Ii(e)?are(e,n):$L(e)?m_.call(e,0):e?[e]:[]},g_=function(e){return e=go(e)[0]||Lm("Invalid scope")||{},function(r){var n=e.current||e.nativeElement||e;return go(r,n.querySelectorAll?n:n===e?Lm("Invalid scope")||QS.createElement("div"):e)}},UL=function(e){return e.sort(function(){return .5-Math.random()})},VL=function(e){if(hn(e))return e;var r=$a(e)?e:{each:e},n=Vu(r.ease),i=r.from||0,s=parseFloat(r.base)||0,o={},a=i>0&&i<1,c=isNaN(i)||a,d=r.axis,f=i,p=i;return ei(i)?f=p={center:.5,edges:.5,end:1}[i]||0:!a&&c&&(f=i[0],p=i[1]),function(g,m,v){var x=(v||r).length,w=o[x],T,j,P,S,B,$,W,G,q;if(!w){if(q=r.grid==="auto"?0:(r.grid||[1,mo])[1],!q){for(W=-mo;W<(W=v[q++].getBoundingClientRect().left)&&q<x;);q<x&&q--}for(w=o[x]=[],T=c?Math.min(q,x)*f-.5:i%q,j=q===mo?0:c?x*p/q-.5:i/q|0,W=0,G=mo,$=0;$<x;$++)P=$%q-T,S=j-($/q|0),w[$]=B=d?Math.abs(d==="y"?S:P):CL(P*P+S*S),B>W&&(W=B),B<G&&(G=B);i==="random"&&UL(w),w.max=W-G,w.min=G,w.v=x=(parseFloat(r.amount)||parseFloat(r.each)*(q>x?x-1:d?d==="y"?x/q:q:Math.max(q,x/q))||0)*(i==="edges"?-1:1),w.b=x<0?s-x:s,w.u=Ti(r.amount||r.each)||0,n=n&&x<0?ZL(n):n}return x=(w[g]-w.min)/w.max||0,On(w.b+(n?n(x):x)*w.v)+w.u}},y_=function(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var i=On(Math.round(parseFloat(n)/e)*e*r);return(i-i%1)/r+(Cl(n)?0:Ti(n))}},WL=function(e,r){var n=Ii(e),i,s;return!n&&$a(e)&&(i=n=e.radius||mo,e.values?(e=go(e.values),(s=!Cl(e[0]))&&(i*=i)):e=y_(e.increment)),Bc(r,n?hn(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),c=parseFloat(s?o.y:0),d=mo,f=0,p=e.length,g,m;p--;)s?(g=e[p].x-a,m=e[p].y-c,g=g*g+m*m):g=Math.abs(e[p]-a),g<d&&(d=g,f=p);return f=!i||d<=i?e[f]:o,s||f===o||Cl(o)?f:f+Ti(o)}:y_(e))},qL=function(e,r,n,i){return Bc(Ii(e)?!r:n===!0?!!(n=0):!i,function(){return Ii(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(r-e+n*.99))/n)*n*i)/i})},lre=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(i){return r.reduce(function(s,o){return o(s)},i)}},cre=function(e,r){return function(n){return e(parseFloat(n))+(r||Ti(n))}},ure=function(e,r,n){return GL(e,r,0,1,n)},HL=function(e,r,n){return Bc(n,function(i){return e[~~r(i)]})},dre=function t(e,r,n){var i=r-e;return Ii(e)?HL(e,t(0,e.length),r):Bc(n,function(s){return(i+(s-e)%i)%i+e})},fre=function t(e,r,n){var i=r-e,s=i*2;return Ii(e)?HL(e,t(0,e.length-1),r):Bc(n,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},zm=function(e){for(var r=0,n="",i,s,o,a;~(i=e.indexOf("random(",r));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?NL:u_),n+=e.substr(r,i-r)+qL(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),r=o+1;return n+e.substr(r,e.length-r)},GL=function(e,r,n,i,s){var o=r-e,a=i-n;return Bc(s,function(c){return n+((c-e)/o*a||0)})},hre=function t(e,r,n,i){var s=isNaN(e+r)?0:function(m){return(1-m)*e+m*r};if(!s){var o=ei(e),a={},c,d,f,p,g;if(n===!0&&(i=1)&&(n=null),o)e={p:e},r={p:r};else if(Ii(e)&&!Ii(r)){for(f=[],p=e.length,g=p-2,d=1;d<p;d++)f.push(t(e[d-1],e[d]));p--,s=function(v){v*=p;var x=Math.min(g,~~v);return f[x](v-x)},n=r}else i||(e=nh(Ii(e)?[]:{},e));if(!f){for(c in r)i2.call(a,e,c,"get",r[c]);s=function(v){return l2(v,a)||(o?e.p:e)}}}return Bc(n,s)},sR=function(e,r,n){var i=e.labels,s=mo,o,a,c;for(o in i)a=i[o]-r,a<0==!!n&&a&&s>(a=Math.abs(a))&&(c=o,s=a);return c},Us=function(e,r,n){var i=e.vars,s=i[r],o=Yr,a=e._ctx,c,d,f;if(s)return c=i[r+"Params"],d=i.callbackScope||e,n&&wc.length&&Sx(),a&&(Yr=a),f=c?s.apply(d,c):s.call(d),Yr=o,f},Np=function(e){return jc(e),e.scrollTrigger&&e.scrollTrigger.kill(!!ci),e.progress()<1&&Us(e,"onInterrupt"),e},Nf,KL=[],YL=function(e){if(e)if(e=!e.name&&e.default||e,XS()||e.headless){var r=e.name,n=hn(e),i=r&&!n&&e.init?function(){this._props=[]}:e,s={init:Fm,render:l2,add:i2,kill:Are,modifier:Nre,rawVars:0},o={targetTest:0,get:0,getSetter:a2,aliases:{},register:0};if(oh(),e!==i){if(Ps[r])return;Js(i,Js(Ex(e,s),o)),nh(i.prototype,nh(s,Ex(e,o))),Ps[i.prop=r]=i,e.targetTest&&(U0.push(i),e2[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}PL(r,i),e.register&&e.register(xs,i,gs)}else KL.push(e)},Or=255,Ap={aqua:[0,Or,Or],lime:[0,Or,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Or],navy:[0,0,128],white:[Or,Or,Or],olive:[128,128,0],yellow:[Or,Or,0],orange:[Or,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Or,0,0],pink:[Or,192,203],cyan:[0,Or,Or],transparent:[Or,Or,Or,0]},_1=function(e,r,n){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(n-r)*e*6:e<.5?n:e*3<2?r+(n-r)*(2/3-e)*6:r)*Or+.5|0},JL=function(e,r,n){var i=e?Cl(e)?[e>>16,e>>8&Or,e&Or]:0:Ap.black,s,o,a,c,d,f,p,g,m,v;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Ap[e])i=Ap[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&Or,i&Or,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&Or,e&Or]}else if(e.substr(0,3)==="hsl"){if(i=v=e.match(u_),!r)c=+i[0]%360/360,d=+i[1]/100,f=+i[2]/100,o=f<=.5?f*(d+1):f+d-f*d,s=f*2-o,i.length>3&&(i[3]*=1),i[0]=_1(c+1/3,s,o),i[1]=_1(c,s,o),i[2]=_1(c-1/3,s,o);else if(~e.indexOf("="))return i=e.match(EL),n&&i.length<4&&(i[3]=1),i}else i=e.match(u_)||Ap.transparent;i=i.map(Number)}return r&&!v&&(s=i[0]/Or,o=i[1]/Or,a=i[2]/Or,p=Math.max(s,o,a),g=Math.min(s,o,a),f=(p+g)/2,p===g?c=d=0:(m=p-g,d=f>.5?m/(2-p-g):m/(p+g),c=p===s?(o-a)/m+(o<a?6:0):p===o?(a-s)/m+2:(s-o)/m+4,c*=60),i[0]=~~(c+.5),i[1]=~~(d*100+.5),i[2]=~~(f*100+.5)),n&&i.length<4&&(i[3]=1),i},XL=function(e){var r=[],n=[],i=-1;return e.split(kc).forEach(function(s){var o=s.match(Tf)||[];r.push.apply(r,o),n.push(i+=o.length+1)}),r.c=n,r},oR=function(e,r,n){var i="",s=(e+i).match(kc),o=r?"hsla(":"rgba(",a=0,c,d,f,p;if(!s)return e;if(s=s.map(function(g){return(g=JL(g,r,1))&&o+(r?g[0]+","+g[1]+"%,"+g[2]+"%,"+g[3]:g.join(","))+")"}),n&&(f=XL(e),c=n.c,c.join(i)!==f.c.join(i)))for(d=e.replace(kc,"1").split(Tf),p=d.length-1;a<p;a++)i+=d[a]+(~c.indexOf(a)?s.shift()||o+"0,0,0,0)":(f.length?f:s.length?s:n).shift());if(!d)for(d=e.split(kc),p=d.length-1;a<p;a++)i+=d[a]+s[a];return i+d[p]},kc=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Ap)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),pre=/hsl[a]?\(/,QL=function(e){var r=e.join(" "),n;if(kc.lastIndex=0,kc.test(r))return n=pre.test(r),e[1]=oR(e[1],n),e[0]=oR(e[0],n,XL(e[1])),!0},Bm,Os=function(){var t=Date.now,e=500,r=33,n=t(),i=n,s=1e3/240,o=s,a=[],c,d,f,p,g,m,v=function x(w){var T=t()-i,j=w===!0,P,S,B,$;if((T>e||T<0)&&(n+=T-r),i+=T,B=i-n,P=B-o,(P>0||j)&&($=++p.frame,g=B-p.time*1e3,p.time=B=B/1e3,o+=P+(P>=s?4:s-P),S=1),j||(c=d(x)),S)for(m=0;m<a.length;m++)a[m](B,g,$,w)};return p={time:0,frame:0,tick:function(){v(!0)},deltaRatio:function(w){return g/(1e3/(w||60))},wake:function(){AL&&(!d_&&XS()&&(Ca=d_=window,QS=Ca.document||{},Ys.gsap=xs,(Ca.gsapVersions||(Ca.gsapVersions=[])).push(xs.version),jL(Cx||Ca.GreenSockGlobals||!Ca.gsap&&Ca||{}),KL.forEach(YL)),f=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&p.sleep(),d=f||function(w){return setTimeout(w,o-p.time*1e3+1|0)},Bm=1,v(2))},sleep:function(){(f?cancelAnimationFrame:clearTimeout)(c),Bm=0,d=Fm},lagSmoothing:function(w,T){e=w||1/0,r=Math.min(T||33,e)},fps:function(w){s=1e3/(w||240),o=p.time*1e3+s},add:function(w,T,j){var P=T?function(S,B,$,W){w(S,B,$,W),p.remove(P)}:w;return p.remove(w),a[j?"unshift":"push"](P),oh(),P},remove:function(w,T){~(T=a.indexOf(w))&&a.splice(T,1)&&m>=T&&m--},_listeners:a},p}(),oh=function(){return!Bm&&Os.wake()},fr={},mre=/^[\d.\-M][\d.\-,\s]/,gre=/["']/g,yre=function(e){for(var r={},n=e.substr(1,e.length-3).split(":"),i=n[0],s=1,o=n.length,a,c,d;s<o;s++)c=n[s],a=s!==o-1?c.lastIndexOf(","):c.length,d=c.substr(0,a),r[i]=isNaN(d)?d.replace(gre,"").trim():+d,i=c.substr(a+1).trim();return r},xre=function(e){var r=e.indexOf("(")+1,n=e.indexOf(")"),i=e.indexOf("(",r);return e.substring(r,~i&&i<n?e.indexOf(")",n+1):n)},vre=function(e){var r=(e+"").split("("),n=fr[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[yre(r[1])]:xre(e).split(",").map(DL)):fr._CE&&mre.test(e)?fr._CE("",e):n},ZL=function(e){return function(r){return 1-e(1-r)}},e6=function t(e,r){for(var n=e._first,i;n;)n instanceof Gi?t(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?t(n.timeline,r):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=r)),n=n._next},Vu=function(e,r){return e&&(hn(e)?e:fr[e]||vre(e))||r},xd=function(e,r,n,i){n===void 0&&(n=function(c){return 1-r(1-c)}),i===void 0&&(i=function(c){return c<.5?r(c*2)/2:1-r((1-c)*2)/2});var s={easeIn:r,easeOut:n,easeInOut:i},o;return ms(e,function(a){fr[a]=Ys[a]=s,fr[o=a.toLowerCase()]=n;for(var c in s)fr[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=fr[a+"."+c]=s[c]}),s},t6=function(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},C1=function t(e,r,n){var i=r>=1?r:1,s=(n||(e?.3:.45))/(r<1?r:1),o=s/c_*(Math.asin(1/i)||0),a=function(f){return f===1?1:i*Math.pow(2,-10*f)*Gte((f-o)*s)+1},c=e==="out"?a:e==="in"?function(d){return 1-a(1-d)}:t6(a);return s=c_/s,c.config=function(d,f){return t(e,d,f)},c},S1=function t(e,r){r===void 0&&(r=1.70158);var n=function(o){return o?--o*o*((r+1)*o+r)+1:0},i=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:t6(n);return i.config=function(s){return t(e,s)},i};ms("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;xd(t+",Power"+(r-1),e?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})});fr.Linear.easeNone=fr.none=fr.Linear.easeIn;xd("Elastic",C1("in"),C1("out"),C1());(function(t,e){var r=1/e,n=2*r,i=2.5*r,s=function(a){return a<r?t*a*a:a<n?t*Math.pow(a-1.5/e,2)+.75:a<i?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};xd("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);xd("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});xd("Circ",function(t){return-(CL(1-t*t)-1)});xd("Sine",function(t){return t===1?1:-Hte(t*Wte)+1});xd("Back",S1("in"),S1("out"),S1());fr.SteppedEase=fr.steps=Ys.SteppedEase={config:function(e,r){e===void 0&&(e=1);var n=1/e,i=e+(r?0:1),s=r?1:0,o=1-Lr;return function(a){return((i*xg(0,o,a)|0)+s)*n}}};rh.ease=fr["quad.out"];ms("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return t2+=t+","+t+"Params,"});var r6=function(e,r){this.id=qte++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:IL,this.set=r?r.getSetter:a2},$m=function(){function t(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,sh(this,+r.duration,1,1),this.data=r.data,Yr&&(this._ctx=Yr,Yr.data.push(this)),Bm||Os.wake()}var e=t.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,sh(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,i){if(oh(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Tv(this,n),!s._dp||s.parent||FL(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&ja(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Lr||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),ML(this,n,i)),this},e.time=function(n,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+nR(this))%(this._dur+this._rDelay)||(n?this._dur:0),i):this._time},e.totalProgress=function(n,i){return arguments.length?this.totalTime(this.totalDuration()*n,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+nR(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,i):this._repeat?ih(this._tTime,s)+1:1},e.timeScale=function(n,i){if(!arguments.length)return this._rts===-Lr?0:this._rts;if(this._rts===n)return this;var s=this.parent&&this._ts?Tx(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-Lr?0:this._rts,this.totalTime(xg(-Math.abs(this._delay),this.totalDuration(),s),i!==!1),Ev(this),ere(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(oh(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Lr&&(this._tTime-=Lr)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&ja(i,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(ps(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var i=this.parent||this._dp;return i?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Tx(i.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=Jte);var i=ci;return ci=n,n2(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),ci=i,this},e.globalTime=function(n){for(var i=this,s=arguments.length?n:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(n):s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,iR(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var i=this._time;return this._rDelay=n,iR(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,i){return this.totalTime(lo(this,n),ps(i))},e.restart=function(n,i){return this.play().totalTime(n?-this._delay:0,ps(i)),this._dur||(this._zTime=-Lr),this},e.play=function(n,i){return n!=null&&this.seek(n,i),this.reversed(!1).paused(!1)},e.reverse=function(n,i){return n!=null&&this.seek(n||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(n,i){return n!=null&&this.seek(n,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-Lr:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Lr,this},e.isActive=function(){var n=this.parent||this._dp,i=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=i&&s<this.endTime(!0)-Lr)},e.eventCallback=function(n,i,s){var o=this.vars;return arguments.length>1?(i?(o[n]=i,s&&(o[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=i)):delete o[n],this):o[n]},e.then=function(n){var i=this;return new Promise(function(s){var o=hn(n)?n:OL,a=function(){var d=i.then;i.then=null,hn(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=d),s(o),i.then=d};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){Np(this)},t}();Js($m.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Lr,_prom:0,_ps:!1,_rts:1});var Gi=function(t){_L(e,t);function e(n,i){var s;return n===void 0&&(n={}),s=t.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=ps(n.sortChildren),on&&ja(n.parent||on,al(s),i),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&zL(al(s),n.scrollTrigger),s}var r=e.prototype;return r.to=function(i,s,o){return Gp(0,arguments,this),this},r.from=function(i,s,o){return Gp(1,arguments,this),this},r.fromTo=function(i,s,o,a){return Gp(2,arguments,this),this},r.set=function(i,s,o){return s.duration=0,s.parent=this,Hp(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Dn(i,s,lo(this,o),1),this},r.call=function(i,s,o){return ja(this,Dn.delayedCall(0,i,s),o)},r.staggerTo=function(i,s,o,a,c,d,f){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=d,o.onCompleteParams=f,o.parent=this,new Dn(i,o,lo(this,c)),this},r.staggerFrom=function(i,s,o,a,c,d,f){return o.runBackwards=1,Hp(o).immediateRender=ps(o.immediateRender),this.staggerTo(i,s,o,a,c,d,f)},r.staggerFromTo=function(i,s,o,a,c,d,f,p){return a.startAt=o,Hp(a).immediateRender=ps(a.immediateRender),this.staggerTo(i,s,a,c,d,f,p)},r.render=function(i,s,o){var a=this._time,c=this._dirty?this.totalDuration():this._tDur,d=this._dur,f=i<=0?0:On(i),p=this._zTime<0!=i<0&&(this._initted||!d),g,m,v,x,w,T,j,P,S,B,$,W;if(this!==on&&f>c&&i>=0&&(f=c),f!==this._tTime||o||p){if(a!==this._time&&d&&(f+=this._time-a,i+=this._time-a),g=f,S=this._start,P=this._ts,T=!P,p&&(d||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if($=this._yoyo,w=d+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(w*100+i,s,o);if(g=On(f%w),f===c?(x=this._repeat,g=d):(B=On(f/w),x=~~B,x&&x===B&&(g=d,x--),g>d&&(g=d)),B=ih(this._tTime,w),!a&&this._tTime&&B!==x&&this._tTime-B*w-this._dur<=0&&(B=x),$&&x&1&&(g=d-g,W=1),x!==B&&!this._lock){var G=$&&B&1,q=G===($&&x&1);if(x<B&&(G=!G),a=G?0:f%d?d:f,this._lock=1,this.render(a||(W?0:On(x*w)),s,!d)._lock=0,this._tTime=f,!s&&this.parent&&Us(this,"onRepeat"),this.vars.repeatRefresh&&!W&&(this.invalidate()._lock=1),a&&a!==this._time||T!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,c=this._tDur,q&&(this._lock=2,a=G?d:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!W&&this.invalidate()),this._lock=0,!this._ts&&!T)return this;e6(this,W)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(j=ire(this,On(a),On(g)),j&&(f-=g-(g=j._start))),this._tTime=f,this._time=g,this._act=!P,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&f&&!s&&!B&&(Us(this,"onStart"),this._tTime!==f))return this;if(g>=a&&i>=0)for(m=this._first;m;){if(v=m._next,(m._act||g>=m._start)&&m._ts&&j!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(g-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(g-m._start)*m._ts,s,o),g!==this._time||!this._ts&&!T){j=0,v&&(f+=this._zTime=-Lr);break}}m=v}else{m=this._last;for(var H=i<0?i:g;m;){if(v=m._prev,(m._act||H<=m._end)&&m._ts&&j!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(H-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(H-m._start)*m._ts,s,o||ci&&n2(m)),g!==this._time||!this._ts&&!T){j=0,v&&(f+=this._zTime=H?-Lr:Lr);break}}m=v}}if(j&&!s&&(this.pause(),j.render(g>=a?0:-Lr)._zTime=g>=a?1:-1,this._ts))return this._start=S,Ev(this),this.render(i,s,o);this._onUpdate&&!s&&Us(this,"onUpdate",!0),(f===c&&this._tTime>=this.totalDuration()||!f&&a)&&(S===this._start||Math.abs(P)!==Math.abs(this._ts))&&(this._lock||((i||!d)&&(f===c&&this._ts>0||!f&&this._ts<0)&&jc(this,1),!s&&!(i<0&&!a)&&(f||a||!c)&&(Us(this,f===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(i,s){var o=this;if(Cl(s)||(s=lo(this,s,i)),!(i instanceof $m)){if(Ii(i))return i.forEach(function(a){return o.add(a,s)}),this;if(ei(i))return this.addLabel(i,s);if(hn(i))i=Dn.delayedCall(0,i);else return this}return this!==i?ja(this,i,s):this},r.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-mo);for(var c=[],d=this._first;d;)d._start>=a&&(d instanceof Dn?s&&c.push(d):(o&&c.push(d),i&&c.push.apply(c,d.getChildren(!0,s,o)))),d=d._next;return c},r.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},r.remove=function(i){return ei(i)?this.removeLabel(i):hn(i)?this.killTweensOf(i):(i.parent===this&&Sv(this,i),i===this._recent&&(this._recent=this._last),Uu(this))},r.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=On(Os.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},r.addLabel=function(i,s){return this.labels[i]=lo(this,s),this},r.removeLabel=function(i){return delete this.labels[i],this},r.addPause=function(i,s,o){var a=Dn.delayedCall(0,s||Fm,o);return a.data="isPause",this._hasPause=1,ja(this,a,lo(this,i))},r.removePause=function(i){var s=this._first;for(i=lo(this,i);s;)s._start===i&&s.data==="isPause"&&jc(s),s=s._next},r.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),c=a.length;c--;)fc!==a[c]&&a[c].kill(i,s);return this},r.getTweensOf=function(i,s){for(var o=[],a=go(i),c=this._first,d=Cl(s),f;c;)c instanceof Dn?Xte(c._targets,a)&&(d?(!fc||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&o.push(c):(f=c.getTweensOf(a,s)).length&&o.push.apply(o,f),c=c._next;return o},r.tweenTo=function(i,s){s=s||{};var o=this,a=lo(o,i),c=s,d=c.startAt,f=c.onStart,p=c.onStartParams,g=c.immediateRender,m,v=Dn.to(o,Js({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(d&&"time"in d?d.time:o._time))/o.timeScale())||Lr,onStart:function(){if(o.pause(),!m){var w=s.duration||Math.abs((a-(d&&"time"in d?d.time:o._time))/o.timeScale());v._dur!==w&&sh(v,w,0,1).render(v._time,!0,!0),m=1}f&&f.apply(v,p||[])}},s));return g?v.render(0):v},r.tweenFromTo=function(i,s,o){return this.tweenTo(s,Js({startAt:{time:lo(this,i)}},o))},r.recent=function(){return this._recent},r.nextLabel=function(i){return i===void 0&&(i=this._time),sR(this,lo(this,i))},r.previousLabel=function(i){return i===void 0&&(i=this._time),sR(this,lo(this,i),1)},r.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Lr)},r.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,c=this.labels,d;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(d in c)c[d]>=o&&(c[d]+=i);return Uu(this)},r.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return t.prototype.invalidate.call(this,i)},r.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Uu(this)},r.totalDuration=function(i){var s=0,o=this,a=o._last,c=mo,d,f,p;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(p=o.parent;a;)d=a._prev,a._dirty&&a.totalDuration(),f=a._start,f>c&&o._sort&&a._ts&&!o._lock?(o._lock=1,ja(o,a,f-a._delay,1)._lock=0):c=f,f<0&&a._ts&&(s-=f,(!p&&!o._dp||p&&p.smoothChildTiming)&&(o._start+=f/o._ts,o._time-=f,o._tTime-=f),o.shiftChildren(-f,!1,-1/0),c=0),a._end>s&&a._ts&&(s=a._end),a=d;sh(o,o===on&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(on._ts&&(ML(on,Tx(i,on)),RL=Os.frame),Os.frame>=tR){tR+=Gs.autoSleep||120;var s=on._first;if((!s||!s._ts)&&Gs.autoSleep&&Os._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Os.sleep()}}},e}($m);Js(Gi.prototype,{_lock:0,_hasPause:0,_forcing:0});var bre=function(e,r,n,i,s,o,a){var c=new gs(this._pt,e,r,0,1,l6,null,s),d=0,f=0,p,g,m,v,x,w,T,j;for(c.b=n,c.e=i,n+="",i+="",(T=~i.indexOf("random("))&&(i=zm(i)),o&&(j=[n,i],o(j,e,r),n=j[0],i=j[1]),g=n.match(w1)||[];p=w1.exec(i);)v=p[0],x=i.substring(d,p.index),m?m=(m+1)%5:x.substr(-5)==="rgba("&&(m=1),v!==g[f++]&&(w=parseFloat(g[f-1])||0,c._pt={_next:c._pt,p:x||f===1?x:",",s:w,c:v.charAt(1)==="="?zf(w,v)-w:parseFloat(v)-w,m:m&&m<4?Math.round:0},d=w1.lastIndex);return c.c=d<i.length?i.substring(d,i.length):"",c.fp=a,(TL.test(i)||T)&&(c.e=0),this._pt=c,c},i2=function(e,r,n,i,s,o,a,c,d,f){hn(i)&&(i=i(s||0,e,o));var p=e[r],g=n!=="get"?n:hn(p)?d?e[r.indexOf("set")||!hn(e["get"+r.substr(3)])?r:"get"+r.substr(3)](d):e[r]():p,m=hn(p)?d?Sre:o6:o2,v;if(ei(i)&&(~i.indexOf("random(")&&(i=zm(i)),i.charAt(1)==="="&&(v=zf(g,i)+(Ti(g)||0),(v||v===0)&&(i=v))),!f||g!==i||x_)return!isNaN(g*i)&&i!==""?(v=new gs(this._pt,e,r,+g||0,i-(g||0),typeof p=="boolean"?Tre:a6,0,m),d&&(v.fp=d),a&&v.modifier(a,this,e),this._pt=v):(!p&&!(r in e)&&ZS(r,i),bre.call(this,e,r,g,i,m,c||Gs.stringFilter,d))},wre=function(e,r,n,i,s){if(hn(e)&&(e=Kp(e,s,r,n,i)),!$a(e)||e.style&&e.nodeType||Ii(e)||SL(e))return ei(e)?Kp(e,s,r,n,i):e;var o={},a;for(a in e)o[a]=Kp(e[a],s,r,n,i);return o},n6=function(e,r,n,i,s,o){var a,c,d,f;if(Ps[e]&&(a=new Ps[e]).init(s,a.rawVars?r[e]:wre(r[e],i,s,o,n),n,i,o)!==!1&&(n._pt=c=new gs(n._pt,s,e,0,1,a.render,a,0,a.priority),n!==Nf))for(d=n._ptLookup[n._targets.indexOf(s)],f=a._props.length;f--;)d[a._props[f]]=c;return a},fc,x_,s2=function t(e,r,n){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,c=i.lazy,d=i.onUpdate,f=i.runBackwards,p=i.yoyoEase,g=i.keyframes,m=i.autoRevert,v=e._dur,x=e._startAt,w=e._targets,T=e.parent,j=T&&T.data==="nested"?T.vars.targets:w,P=e._overwrite==="auto"&&!YS,S=e.timeline,B,$,W,G,q,H,J,V,F,b,A,O,R;if(S&&(!g||!s)&&(s="none"),e._ease=Vu(s,rh.ease),e._yEase=p?ZL(Vu(p===!0?s:p,rh.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!S&&!!i.runBackwards,!S||g&&!i.stagger){if(V=w[0]?$u(w[0]).harness:0,O=V&&i[V.prop],B=Ex(i,e2),x&&(x._zTime<0&&x.progress(1),r<0&&f&&a&&!m?x.render(-1,!0):x.revert(f&&v?$0:Yte),x._lazy=0),o){if(jc(e._startAt=Dn.set(w,Js({data:"isStart",overwrite:!1,parent:T,immediateRender:!0,lazy:!x&&ps(c),startAt:null,delay:0,onUpdate:d&&function(){return Us(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(ci||!a&&!m)&&e._startAt.revert($0),a&&v&&r<=0&&n<=0){r&&(e._zTime=r);return}}else if(f&&v&&!x){if(r&&(a=!1),W=Js({overwrite:!1,data:"isFromStart",lazy:a&&!x&&ps(c),immediateRender:a,stagger:0,parent:T},B),O&&(W[V.prop]=O),jc(e._startAt=Dn.set(w,W)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(ci?e._startAt.revert($0):e._startAt.render(-1,!0)),e._zTime=r,!a)t(e._startAt,Lr,Lr);else if(!r)return}for(e._pt=e._ptCache=0,c=v&&ps(c)||c&&!v,$=0;$<w.length;$++){if(q=w[$],J=q._gsap||r2(w)[$]._gsap,e._ptLookup[$]=b={},f_[J.id]&&wc.length&&Sx(),A=j===w?$:j.indexOf(q),V&&(F=new V).init(q,O||B,e,A,j)!==!1&&(e._pt=G=new gs(e._pt,q,F.name,0,1,F.render,F,0,F.priority),F._props.forEach(function(k){b[k]=G}),F.priority&&(H=1)),!V||O)for(W in B)Ps[W]&&(F=n6(W,B,e,A,q,j))?F.priority&&(H=1):b[W]=G=i2.call(e,q,W,"get",B[W],A,j,0,i.stringFilter);e._op&&e._op[$]&&e.kill(q,e._op[$]),P&&e._pt&&(fc=e,on.killTweensOf(q,b,e.globalTime(r)),R=!e.parent,fc=0),e._pt&&c&&(f_[J.id]=1)}H&&c6(e),e._onInit&&e._onInit(e)}e._onUpdate=d,e._initted=(!e._op||e._pt)&&!R,g&&r<=0&&S.render(mo,!0,!0)},kre=function(e,r,n,i,s,o,a,c){var d=(e._pt&&e._ptCache||(e._ptCache={}))[r],f,p,g,m;if(!d)for(d=e._ptCache[r]=[],g=e._ptLookup,m=e._targets.length;m--;){if(f=g[m][r],f&&f.d&&f.d._pt)for(f=f.d._pt;f&&f.p!==r&&f.fp!==r;)f=f._next;if(!f)return x_=1,e.vars[r]="+=0",s2(e,a),x_=0,c?Lm(r+" not eligible for reset"):1;d.push(f)}for(m=d.length;m--;)p=d[m],f=p._pt||p,f.s=(i||i===0)&&!s?i:f.s+(i||0)+o*f.c,f.c=n-f.s,p.e&&(p.e=bn(n)+Ti(p.e)),p.b&&(p.b=f.s+Ti(p.b))},_re=function(e,r){var n=e[0]?$u(e[0]).harness:0,i=n&&n.aliases,s,o,a,c;if(!i)return r;s=nh({},r);for(o in i)if(o in s)for(c=i[o].split(","),a=c.length;a--;)s[c[a]]=s[o];return s},Cre=function(e,r,n,i){var s=r.ease||i||"power1.inOut",o,a;if(Ii(r))a=n[e]||(n[e]=[]),r.forEach(function(c,d){return a.push({t:d/(r.length-1)*100,v:c,e:s})});else for(o in r)a=n[o]||(n[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:r[o],e:s})},Kp=function(e,r,n,i,s){return hn(e)?e.call(r,n,i,s):ei(e)&&~e.indexOf("random(")?zm(e):e},i6=t2+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",s6={};ms(i6+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return s6[t]=1});var Dn=function(t){_L(e,t);function e(n,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=t.call(this,o?i:Hp(i))||this;var c=a.vars,d=c.duration,f=c.delay,p=c.immediateRender,g=c.stagger,m=c.overwrite,v=c.keyframes,x=c.defaults,w=c.scrollTrigger,T=c.yoyoEase,j=i.parent||on,P=(Ii(n)||SL(n)?Cl(n[0]):"length"in i)?[n]:go(n),S,B,$,W,G,q,H,J;if(a._targets=P.length?r2(P):Lm("GSAP target "+n+" not found. https://gsap.com",!Gs.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=m,v||g||Gy(d)||Gy(f)){if(i=a.vars,S=a.timeline=new Gi({data:"nested",defaults:x||{},targets:j&&j.data==="nested"?j.vars.targets:P}),S.kill(),S.parent=S._dp=al(a),S._start=0,g||Gy(d)||Gy(f)){if(W=P.length,H=g&&VL(g),$a(g))for(G in g)~i6.indexOf(G)&&(J||(J={}),J[G]=g[G]);for(B=0;B<W;B++)$=Ex(i,s6),$.stagger=0,T&&($.yoyoEase=T),J&&nh($,J),q=P[B],$.duration=+Kp(d,al(a),B,q,P),$.delay=(+Kp(f,al(a),B,q,P)||0)-a._delay,!g&&W===1&&$.delay&&(a._delay=f=$.delay,a._start+=f,$.delay=0),S.to(q,$,H?H(B,q,P):0),S._ease=fr.none;S.duration()?d=f=0:a.timeline=0}else if(v){Hp(Js(S.vars.defaults,{ease:"none"})),S._ease=Vu(v.ease||i.ease||"none");var V=0,F,b,A;if(Ii(v))v.forEach(function(O){return S.to(P,O,">")}),S.duration();else{$={};for(G in v)G==="ease"||G==="easeEach"||Cre(G,v[G],$,v.easeEach);for(G in $)for(F=$[G].sort(function(O,R){return O.t-R.t}),V=0,B=0;B<F.length;B++)b=F[B],A={ease:b.e,duration:(b.t-(B?F[B-1].t:0))/100*d},A[G]=b.v,S.to(P,A,V),V+=A.duration;S.duration()<d&&S.to({},{duration:d-S.duration()})}}d||a.duration(d=S.duration())}else a.timeline=0;return m===!0&&!YS&&(fc=al(a),on.killTweensOf(P),fc=0),ja(j,al(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(p||!d&&!v&&a._start===On(j._time)&&ps(p)&&tre(al(a))&&j.data!=="nested")&&(a._tTime=-Lr,a.render(Math.max(0,-f)||0)),w&&zL(al(a),w),a}var r=e.prototype;return r.render=function(i,s,o){var a=this._time,c=this._tDur,d=this._dur,f=i<0,p=i>c-Lr&&!f?c:i<Lr?0:i,g,m,v,x,w,T,j,P,S;if(!d)nre(this,i,s,o);else if(p!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f||this._lazy){if(g=p,P=this.timeline,this._repeat){if(x=d+this._rDelay,this._repeat<-1&&f)return this.totalTime(x*100+i,s,o);if(g=On(p%x),p===c?(v=this._repeat,g=d):(w=On(p/x),v=~~w,v&&v===w?(g=d,v--):g>d&&(g=d)),T=this._yoyo&&v&1,T&&(S=this._yEase,g=d-g),w=ih(this._tTime,x),g===a&&!o&&this._initted&&v===w)return this._tTime=p,this;v!==w&&(P&&this._yEase&&e6(P,T),this.vars.repeatRefresh&&!T&&!this._lock&&g!==x&&this._initted&&(this._lock=o=1,this.render(On(x*v),!0).invalidate()._lock=0))}if(!this._initted){if(BL(this,f?i:g,o,s,p))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&v!==w))return this;if(d!==this._dur)return this.render(i,s,o)}if(this._tTime=p,this._time=g,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=j=(S||this._ease)(g/d),this._from&&(this.ratio=j=1-j),!a&&p&&!s&&!w&&(Us(this,"onStart"),this._tTime!==p))return this;for(m=this._pt;m;)m.r(j,m.d),m=m._next;P&&P.render(i<0?i:P._dur*P._ease(g/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(f&&h_(this,i,s,o),Us(this,"onUpdate")),this._repeat&&v!==w&&this.vars.onRepeat&&!s&&this.parent&&Us(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(f&&!this._onUpdate&&h_(this,i,!0,!0),(i||!d)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&jc(this,1),!s&&!(f&&!a)&&(p||a||T)&&(Us(this,p===c?"onComplete":"onReverseComplete",!0),this._prom&&!(p<c&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},r.resetTo=function(i,s,o,a,c){Bm||Os.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),f;return this._initted||s2(this,d),f=this._ease(d/this._dur),kre(this,i,s,o,a,f,d,c)?this.resetTo(i,s,o,a,1):(Tv(this,0),this.parent||LL(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Np(this):this.scrollTrigger&&this.scrollTrigger.kill(!!ci),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,fc&&fc.vars.overwrite!==!0)._first||Np(this),this.parent&&o!==this.timeline.totalDuration()&&sh(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,c=i?go(i):a,d=this._ptLookup,f=this._pt,p,g,m,v,x,w,T;if((!s||s==="all")&&Zte(a,c))return s==="all"&&(this._pt=0),Np(this);for(p=this._op=this._op||[],s!=="all"&&(ei(s)&&(x={},ms(s,function(j){return x[j]=1}),s=x),s=_re(a,s)),T=a.length;T--;)if(~c.indexOf(a[T])){g=d[T],s==="all"?(p[T]=s,v=g,m={}):(m=p[T]=p[T]||{},v=s);for(x in v)w=g&&g[x],w&&((!("kill"in w.d)||w.d.kill(x)===!0)&&Sv(this,w,"_pt"),delete g[x]),m!=="all"&&(m[x]=1)}return this._initted&&!this._pt&&f&&Np(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return Gp(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return Gp(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return on.killTweensOf(i,s,o)},e}($m);Js(Dn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});ms("staggerTo,staggerFrom,staggerFromTo",function(t){Dn[t]=function(){var e=new Gi,r=m_.call(arguments,0);return r.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,r)}});var o2=function(e,r,n){return e[r]=n},o6=function(e,r,n){return e[r](n)},Sre=function(e,r,n,i){return e[r](i.fp,n)},Ere=function(e,r,n){return e.setAttribute(r,n)},a2=function(e,r){return hn(e[r])?o6:JS(e[r])&&e.setAttribute?Ere:o2},a6=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},Tre=function(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},l6=function(e,r){var n=r._pt,i="";if(!e&&r.b)i=r.b;else if(e===1&&r.e)i=r.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+i,n=n._next;i+=r.c}r.set(r.t,r.p,i,r)},l2=function(e,r){for(var n=r._pt;n;)n.r(e,n.d),n=n._next},Nre=function(e,r,n,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,r,n),s=o},Are=function(e){for(var r=this._pt,n,i;r;)i=r._next,r.p===e&&!r.op||r.op===e?Sv(this,r,"_pt"):r.dep||(n=1),r=i;return!n},jre=function(e,r,n,i){i.mSet(e,r,i.m.call(i.tween,n,i.mt),i)},c6=function(e){for(var r=e._pt,n,i,s,o;r;){for(n=r._next,i=s;i&&i.pr>r.pr;)i=i._next;(r._prev=i?i._prev:o)?r._prev._next=r:s=r,(r._next=i)?i._prev=r:o=r,r=n}e._pt=s},gs=function(){function t(r,n,i,s,o,a,c,d,f){this.t=n,this.s=s,this.c=o,this.p=i,this.r=a||a6,this.d=c||this,this.set=d||o2,this.pr=f||0,this._next=r,r&&(r._prev=this)}var e=t.prototype;return e.modifier=function(n,i,s){this.mSet=this.mSet||this.set,this.set=jre,this.m=n,this.mt=s,this.tween=i},t}();ms(t2+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return e2[t]=1});Ys.TweenMax=Ys.TweenLite=Dn;Ys.TimelineLite=Ys.TimelineMax=Gi;on=new Gi({sortChildren:!1,defaults:rh,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Gs.stringFilter=QL;var Wu=[],V0={},Pre=[],aR=0,Rre=0,E1=function(e){return(V0[e]||Pre).map(function(r){return r()})},v_=function(){var e=Date.now(),r=[];e-aR>2&&(E1("matchMediaInit"),Wu.forEach(function(n){var i=n.queries,s=n.conditions,o,a,c,d;for(a in i)o=Ca.matchMedia(i[a]).matches,o&&(c=1),o!==s[a]&&(s[a]=o,d=1);d&&(n.revert(),c&&r.push(n))}),E1("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n,function(i){return n.add(null,i)})}),aR=e,E1("matchMedia"))},u6=function(){function t(r,n){this.selector=n&&g_(n),this.data=[],this._r=[],this.isReverted=!1,this.id=Rre++,r&&this.add(r)}var e=t.prototype;return e.add=function(n,i,s){hn(n)&&(s=i,i=n,n=hn);var o=this,a=function(){var d=Yr,f=o.selector,p;return d&&d!==o&&d.data.push(o),s&&(o.selector=g_(s)),Yr=o,p=i.apply(o,arguments),hn(p)&&o._r.push(p),Yr=d,o.selector=f,o.isReverted=!1,p};return o.last=a,n===hn?a(o,function(c){return o.add(null,c)}):n?o[n]=a:a},e.ignore=function(n){var i=Yr;Yr=null,n(this),Yr=i},e.getTweens=function(){var n=[];return this.data.forEach(function(i){return i instanceof t?n.push.apply(n,i.getTweens()):i instanceof Dn&&!(i.parent&&i.parent.data==="nested")&&n.push(i)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,i){var s=this;if(n?function(){for(var a=s.getTweens(),c=s.data.length,d;c--;)d=s.data[c],d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(f){return a.splice(a.indexOf(f),1)}));for(a.map(function(f){return{g:f._dur||f._delay||f._sat&&!f._sat.vars.immediateRender?f.globalTime(0):-1/0,t:f}}).sort(function(f,p){return p.g-f.g||-1/0}).forEach(function(f){return f.t.revert(n)}),c=s.data.length;c--;)d=s.data[c],d instanceof Gi?d.data!=="nested"&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof Dn)&&d.revert&&d.revert(n);s._r.forEach(function(f){return f(n,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=Wu.length;o--;)Wu[o].id===this.id&&Wu.splice(o,1)},e.revert=function(n){this.kill(n||{})},t}(),Ire=function(){function t(r){this.contexts=[],this.scope=r,Yr&&Yr.data.push(this)}var e=t.prototype;return e.add=function(n,i,s){$a(n)||(n={matches:n});var o=new u6(0,s||this.scope),a=o.conditions={},c,d,f;Yr&&!o.selector&&(o.selector=Yr.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=n;for(d in n)d==="all"?f=1:(c=Ca.matchMedia(n[d]),c&&(Wu.indexOf(o)<0&&Wu.push(o),(a[d]=c.matches)&&(f=1),c.addListener?c.addListener(v_):c.addEventListener("change",v_)));return f&&i(o,function(p){return o.add(null,p)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(i){return i.kill(n,!0)})},t}(),Nx={registerPlugin:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(function(i){return YL(i)})},timeline:function(e){return new Gi(e)},getTweensOf:function(e,r){return on.getTweensOf(e,r)},getProperty:function(e,r,n,i){ei(e)&&(e=go(e)[0]);var s=$u(e||{}).get,o=n?OL:DL;return n==="native"&&(n=""),e&&(r?o((Ps[r]&&Ps[r].get||s)(e,r,n,i)):function(a,c,d){return o((Ps[a]&&Ps[a].get||s)(e,a,c,d))})},quickSetter:function(e,r,n){if(e=go(e),e.length>1){var i=e.map(function(f){return xs.quickSetter(f,r,n)}),s=i.length;return function(f){for(var p=s;p--;)i[p](f)}}e=e[0]||{};var o=Ps[r],a=$u(e),c=a.harness&&(a.harness.aliases||{})[r]||r,d=o?function(f){var p=new o;Nf._pt=0,p.init(e,n?f+n:f,Nf,0,[e]),p.render(1,p),Nf._pt&&l2(1,Nf)}:a.set(e,c);return o?d:function(f){return d(e,c,n?f+n:f,a,1)}},quickTo:function(e,r,n){var i,s=xs.to(e,Js((i={},i[r]="+=0.1",i.paused=!0,i.stagger=0,i),n||{})),o=function(c,d,f){return s.resetTo(r,c,d,f)};return o.tween=s,o},isTweening:function(e){return on.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Vu(e.ease,rh.ease)),rR(rh,e||{})},config:function(e){return rR(Gs,e||{})},registerEffect:function(e){var r=e.name,n=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!Ps[a]&&!Ys[a]&&Lm(r+" effect requires "+a+" plugin.")}),k1[r]=function(a,c,d){return n(go(a),Js(c||{},s),d)},o&&(Gi.prototype[r]=function(a,c,d){return this.add(k1[r](a,$a(c)?c:(d=c)&&{},this),d)})},registerEase:function(e,r){fr[e]=Vu(r)},parseEase:function(e,r){return arguments.length?Vu(e,r):fr},getById:function(e){return on.getById(e)},exportRoot:function(e,r){e===void 0&&(e={});var n=new Gi(e),i,s;for(n.smoothChildTiming=ps(e.smoothChildTiming),on.remove(n),n._dp=0,n._time=n._tTime=on._time,i=on._first;i;)s=i._next,(r||!(!i._dur&&i instanceof Dn&&i.vars.onComplete===i._targets[0]))&&ja(n,i,i._start-i._delay),i=s;return ja(on,n,0),n},context:function(e,r){return e?new u6(e,r):Yr},matchMedia:function(e){return new Ire(e)},matchMediaRefresh:function(){return Wu.forEach(function(e){var r=e.conditions,n,i;for(i in r)r[i]&&(r[i]=!1,n=1);n&&e.revert()})||v_()},addEventListener:function(e,r){var n=V0[e]||(V0[e]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function(e,r){var n=V0[e],i=n&&n.indexOf(r);i>=0&&n.splice(i,1)},utils:{wrap:dre,wrapYoyo:fre,distribute:VL,random:qL,snap:WL,normalize:ure,getUnit:Ti,clamp:ore,splitColor:JL,toArray:go,selector:g_,mapRange:GL,pipe:lre,unitize:cre,interpolate:hre,shuffle:UL},install:jL,effects:k1,ticker:Os,updateRoot:Gi.updateRoot,plugins:Ps,globalTimeline:on,core:{PropTween:gs,globals:PL,Tween:Dn,Timeline:Gi,Animation:$m,getCache:$u,_removeLinkedListItem:Sv,reverting:function(){return ci},context:function(e){return e&&Yr&&(Yr.data.push(e),e._ctx=Yr),Yr},suppressOverwrites:function(e){return YS=e}}};ms("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Nx[t]=Dn[t]});Os.add(Gi.updateRoot);Nf=Nx.to({},{duration:0});var Mre=function(e,r){for(var n=e._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},Dre=function(e,r){var n=e._targets,i,s,o;for(i in r)for(s=n.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=Mre(o,i)),o&&o.modifier&&o.modifier(r[i],e,n[s],i))},T1=function(e,r){return{name:e,headless:1,rawVars:1,init:function(i,s,o){o._onInit=function(a){var c,d;if(ei(s)&&(c={},ms(s,function(f){return c[f]=1}),s=c),r){c={};for(d in s)c[d]=r(s[d]);s=c}Dre(a,s)}}}},xs=Nx.registerPlugin({name:"attr",init:function(e,r,n,i,s){var o,a,c;this.tween=n;for(o in r)c=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(c||0)+"",r[o],i,s,0,0,o),a.op=o,a.b=c,this._props.push(o)},render:function(e,r){for(var n=r._pt;n;)ci?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,r){for(var n=r.length;n--;)this.add(e,n,e[n]||0,r[n],0,0,0,0,0,1)}},T1("roundProps",y_),T1("modifiers"),T1("snap",WL))||Nx;Dn.version=Gi.version=xs.version="3.13.0";AL=1;XS()&&oh();fr.Power0;fr.Power1;fr.Power2;fr.Power3;fr.Power4;fr.Linear;fr.Quad;fr.Cubic;fr.Quart;fr.Quint;fr.Strong;fr.Elastic;fr.Back;fr.SteppedEase;fr.Bounce;fr.Sine;fr.Expo;fr.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var lR,hc,Bf,c2,Mu,cR,u2,Ore=function(){return typeof window<"u"},Sl={},_u=180/Math.PI,$f=Math.PI/180,Qd=Math.atan2,uR=1e8,d2=/([A-Z])/g,Lre=/(left|right|width|margin|padding|x)/i,Fre=/[\s,\(]\S/,Ra={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},b_=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},zre=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},Bre=function(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},$re=function(e,r){var n=r.s+r.c*e;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},d6=function(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},f6=function(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},Ure=function(e,r,n){return e.style[r]=n},Vre=function(e,r,n){return e.style.setProperty(r,n)},Wre=function(e,r,n){return e._gsap[r]=n},qre=function(e,r,n){return e._gsap.scaleX=e._gsap.scaleY=n},Hre=function(e,r,n,i,s){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(s,o)},Gre=function(e,r,n,i,s){var o=e._gsap;o[r]=n,o.renderTransform(s,o)},ln="transform",ys=ln+"Origin",Kre=function t(e,r){var n=this,i=this.target,s=i.style,o=i._gsap;if(e in Sl&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Ra[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return n.tfm[a]=cl(i,a)}):this.tfm[e]=o.x?o[e]:cl(i,e),e===ys&&(this.tfm.zOrigin=o.zOrigin);else return Ra.transform.split(",").forEach(function(a){return t.call(n,a,r)});if(this.props.indexOf(ln)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(ys,r,"")),e=ln}(s||r)&&this.props.push(e,r,s[e])},h6=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Yre=function(){var e=this.props,r=this.target,n=r.style,i=r._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?r[e[s]](e[s+2]):r[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(d2,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),s=u2(),(!s||!s.isStart)&&!n[ln]&&(h6(n),i.zOrigin&&n[ys]&&(n[ys]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},p6=function(e,r){var n={target:e,props:[],revert:Yre,save:Kre};return e._gsap||xs.core.getCache(e),r&&e.style&&e.nodeType&&r.split(",").forEach(function(i){return n.save(i)}),n},m6,w_=function(e,r){var n=hc.createElementNS?hc.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):hc.createElement(e);return n&&n.style?n:hc.createElement(e)},yo=function t(e,r,n){var i=getComputedStyle(e);return i[r]||i.getPropertyValue(r.replace(d2,"-$1").toLowerCase())||i.getPropertyValue(r)||!n&&t(e,ah(r)||r,1)||""},dR="O,Moz,ms,Ms,Webkit".split(","),ah=function(e,r,n){var i=r||Mu,s=i.style,o=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(dR[o]+e in s););return o<0?null:(o===3?"ms":o>=0?dR[o]:"")+e},k_=function(){Ore()&&window.document&&(lR=window,hc=lR.document,Bf=hc.documentElement,Mu=w_("div")||{style:{}},w_("div"),ln=ah(ln),ys=ln+"Origin",Mu.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",m6=!!ah("perspective"),u2=xs.core.reverting,c2=1)},fR=function(e){var r=e.ownerSVGElement,n=w_("svg",r&&r.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),s;i.style.display="block",n.appendChild(i),Bf.appendChild(n);try{s=i.getBBox()}catch{}return n.removeChild(i),Bf.removeChild(n),s},hR=function(e,r){for(var n=r.length;n--;)if(e.hasAttribute(r[n]))return e.getAttribute(r[n])},g6=function(e){var r,n;try{r=e.getBBox()}catch{r=fR(e),n=1}return r&&(r.width||r.height)||n||(r=fR(e)),r&&!r.width&&!r.x&&!r.y?{x:+hR(e,["x","cx","x1"])||0,y:+hR(e,["y","cy","y1"])||0,width:0,height:0}:r},y6=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&g6(e))},ad=function(e,r){if(r){var n=e.style,i;r in Sl&&r!==ys&&(r=ln),n.removeProperty?(i=r.substr(0,2),(i==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(i==="--"?r:r.replace(d2,"-$1").toLowerCase())):n.removeAttribute(r)}},pc=function(e,r,n,i,s,o){var a=new gs(e._pt,r,n,0,1,o?f6:d6);return e._pt=a,a.b=i,a.e=s,e._props.push(n),a},pR={deg:1,rad:1,turn:1},Jre={grid:1,flex:1},Pc=function t(e,r,n,i){var s=parseFloat(n)||0,o=(n+"").trim().substr((s+"").length)||"px",a=Mu.style,c=Lre.test(r),d=e.tagName.toLowerCase()==="svg",f=(d?"client":"offset")+(c?"Width":"Height"),p=100,g=i==="px",m=i==="%",v,x,w,T;if(i===o||!s||pR[i]||pR[o])return s;if(o!=="px"&&!g&&(s=t(e,r,n,"px")),T=e.getCTM&&y6(e),(m||o==="%")&&(Sl[r]||~r.indexOf("adius")))return v=T?e.getBBox()[c?"width":"height"]:e[f],bn(m?s/v*p:s/100*v);if(a[c?"width":"height"]=p+(g?o:i),x=i!=="rem"&&~r.indexOf("adius")||i==="em"&&e.appendChild&&!d?e:e.parentNode,T&&(x=(e.ownerSVGElement||{}).parentNode),(!x||x===hc||!x.appendChild)&&(x=hc.body),w=x._gsap,w&&m&&w.width&&c&&w.time===Os.time&&!w.uncache)return bn(s/w.width*p);if(m&&(r==="height"||r==="width")){var j=e.style[r];e.style[r]=p+i,v=e[f],j?e.style[r]=j:ad(e,r)}else(m||o==="%")&&!Jre[yo(x,"display")]&&(a.position=yo(e,"position")),x===e&&(a.position="static"),x.appendChild(Mu),v=Mu[f],x.removeChild(Mu),a.position="absolute";return c&&m&&(w=$u(x),w.time=Os.time,w.width=x[f]),bn(g?v*s/p:v&&s?p/v*s:0)},cl=function(e,r,n,i){var s;return c2||k_(),r in Ra&&r!=="transform"&&(r=Ra[r],~r.indexOf(",")&&(r=r.split(",")[0])),Sl[r]&&r!=="transform"?(s=Vm(e,i),s=r!=="transformOrigin"?s[r]:s.svg?s.origin:jx(yo(e,ys))+" "+s.zOrigin+"px"):(s=e.style[r],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=Ax[r]&&Ax[r](e,r,n)||yo(e,r)||IL(e,r)||(r==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?Pc(e,r,s,n)+n:s},Xre=function(e,r,n,i){if(!n||n==="none"){var s=ah(r,e,1),o=s&&yo(e,s,1);o&&o!==n?(r=s,n=o):r==="borderColor"&&(n=yo(e,"borderTopColor"))}var a=new gs(this._pt,e.style,r,0,1,l6),c=0,d=0,f,p,g,m,v,x,w,T,j,P,S,B;if(a.b=n,a.e=i,n+="",i+="",i.substring(0,6)==="var(--"&&(i=yo(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(x=e.style[r],e.style[r]=i,i=yo(e,r)||i,x?e.style[r]=x:ad(e,r)),f=[n,i],QL(f),n=f[0],i=f[1],g=n.match(Tf)||[],B=i.match(Tf)||[],B.length){for(;p=Tf.exec(i);)w=p[0],j=i.substring(c,p.index),v?v=(v+1)%5:(j.substr(-5)==="rgba("||j.substr(-5)==="hsla(")&&(v=1),w!==(x=g[d++]||"")&&(m=parseFloat(x)||0,S=x.substr((m+"").length),w.charAt(1)==="="&&(w=zf(m,w)+S),T=parseFloat(w),P=w.substr((T+"").length),c=Tf.lastIndex-P.length,P||(P=P||Gs.units[r]||S,c===i.length&&(i+=P,a.e+=P)),S!==P&&(m=Pc(e,r,x,P)||0),a._pt={_next:a._pt,p:j||d===1?j:",",s:m,c:T-m,m:v&&v<4||r==="zIndex"?Math.round:0});a.c=c<i.length?i.substring(c,i.length):""}else a.r=r==="display"&&i==="none"?f6:d6;return TL.test(i)&&(a.e=0),this._pt=a,a},mR={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Qre=function(e){var r=e.split(" "),n=r[0],i=r[1]||"50%";return(n==="top"||n==="bottom"||i==="left"||i==="right")&&(e=n,n=i,i=e),r[0]=mR[n]||n,r[1]=mR[i]||i,r.join(" ")},Zre=function(e,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,i=n.style,s=r.u,o=n._gsap,a,c,d;if(s==="all"||s===!0)i.cssText="",c=1;else for(s=s.split(","),d=s.length;--d>-1;)a=s[d],Sl[a]&&(c=1,a=a==="transformOrigin"?ys:ln),ad(n,a);c&&(ad(n,ln),o&&(o.svg&&n.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",Vm(n,1),o.uncache=1,h6(i)))}},Ax={clearProps:function(e,r,n,i,s){if(s.data!=="isFromStart"){var o=e._pt=new gs(e._pt,r,n,0,0,Zre);return o.u=i,o.pr=-10,o.tween=s,e._props.push(n),1}}},Um=[1,0,0,1,0,0],x6={},v6=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},gR=function(e){var r=yo(e,ln);return v6(r)?Um:r.substr(7).match(EL).map(bn)},f2=function(e,r){var n=e._gsap||$u(e),i=e.style,s=gR(e),o,a,c,d;return n.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,s=[c.a,c.b,c.c,c.d,c.e,c.f],s.join(",")==="1,0,0,1,0,0"?Um:s):(s===Um&&!e.offsetParent&&e!==Bf&&!n.svg&&(c=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(d=1,a=e.nextElementSibling,Bf.appendChild(e)),s=gR(e),c?i.display=c:ad(e,"display"),d&&(a?o.insertBefore(e,a):o?o.appendChild(e):Bf.removeChild(e))),r&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},__=function(e,r,n,i,s,o){var a=e._gsap,c=s||f2(e,!0),d=a.xOrigin||0,f=a.yOrigin||0,p=a.xOffset||0,g=a.yOffset||0,m=c[0],v=c[1],x=c[2],w=c[3],T=c[4],j=c[5],P=r.split(" "),S=parseFloat(P[0])||0,B=parseFloat(P[1])||0,$,W,G,q;n?c!==Um&&(W=m*w-v*x)&&(G=S*(w/W)+B*(-x/W)+(x*j-w*T)/W,q=S*(-v/W)+B*(m/W)-(m*j-v*T)/W,S=G,B=q):($=g6(e),S=$.x+(~P[0].indexOf("%")?S/100*$.width:S),B=$.y+(~(P[1]||P[0]).indexOf("%")?B/100*$.height:B)),i||i!==!1&&a.smooth?(T=S-d,j=B-f,a.xOffset=p+(T*m+j*x)-T,a.yOffset=g+(T*v+j*w)-j):a.xOffset=a.yOffset=0,a.xOrigin=S,a.yOrigin=B,a.smooth=!!i,a.origin=r,a.originIsAbsolute=!!n,e.style[ys]="0px 0px",o&&(pc(o,a,"xOrigin",d,S),pc(o,a,"yOrigin",f,B),pc(o,a,"xOffset",p,a.xOffset),pc(o,a,"yOffset",g,a.yOffset)),e.setAttribute("data-svg-origin",S+" "+B)},Vm=function(e,r){var n=e._gsap||new r6(e);if("x"in n&&!r&&!n.uncache)return n;var i=e.style,s=n.scaleX<0,o="px",a="deg",c=getComputedStyle(e),d=yo(e,ys)||"0",f,p,g,m,v,x,w,T,j,P,S,B,$,W,G,q,H,J,V,F,b,A,O,R,k,I,N,D,E,M,Z,z;return f=p=g=x=w=T=j=P=S=0,m=v=1,n.svg=!!(e.getCTM&&y6(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[ln]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[ln]!=="none"?c[ln]:"")),i.scale=i.rotate=i.translate="none"),W=f2(e,n.svg),n.svg&&(n.uncache?(k=e.getBBox(),d=n.xOrigin-k.x+"px "+(n.yOrigin-k.y)+"px",R=""):R=!r&&e.getAttribute("data-svg-origin"),__(e,R||d,!!R||n.originIsAbsolute,n.smooth!==!1,W)),B=n.xOrigin||0,$=n.yOrigin||0,W!==Um&&(J=W[0],V=W[1],F=W[2],b=W[3],f=A=W[4],p=O=W[5],W.length===6?(m=Math.sqrt(J*J+V*V),v=Math.sqrt(b*b+F*F),x=J||V?Qd(V,J)*_u:0,j=F||b?Qd(F,b)*_u+x:0,j&&(v*=Math.abs(Math.cos(j*$f))),n.svg&&(f-=B-(B*J+$*F),p-=$-(B*V+$*b))):(z=W[6],M=W[7],N=W[8],D=W[9],E=W[10],Z=W[11],f=W[12],p=W[13],g=W[14],G=Qd(z,E),w=G*_u,G&&(q=Math.cos(-G),H=Math.sin(-G),R=A*q+N*H,k=O*q+D*H,I=z*q+E*H,N=A*-H+N*q,D=O*-H+D*q,E=z*-H+E*q,Z=M*-H+Z*q,A=R,O=k,z=I),G=Qd(-F,E),T=G*_u,G&&(q=Math.cos(-G),H=Math.sin(-G),R=J*q-N*H,k=V*q-D*H,I=F*q-E*H,Z=b*H+Z*q,J=R,V=k,F=I),G=Qd(V,J),x=G*_u,G&&(q=Math.cos(G),H=Math.sin(G),R=J*q+V*H,k=A*q+O*H,V=V*q-J*H,O=O*q-A*H,J=R,A=k),w&&Math.abs(w)+Math.abs(x)>359.9&&(w=x=0,T=180-T),m=bn(Math.sqrt(J*J+V*V+F*F)),v=bn(Math.sqrt(O*O+z*z)),G=Qd(A,O),j=Math.abs(G)>2e-4?G*_u:0,S=Z?1/(Z<0?-Z:Z):0),n.svg&&(R=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!v6(yo(e,ln)),R&&e.setAttribute("transform",R))),Math.abs(j)>90&&Math.abs(j)<270&&(s?(m*=-1,j+=x<=0?180:-180,x+=x<=0?180:-180):(v*=-1,j+=j<=0?180:-180)),r=r||n.uncache,n.x=f-((n.xPercent=f&&(!r&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-f)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=p-((n.yPercent=p&&(!r&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-p)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=g+o,n.scaleX=bn(m),n.scaleY=bn(v),n.rotation=bn(x)+a,n.rotationX=bn(w)+a,n.rotationY=bn(T)+a,n.skewX=j+a,n.skewY=P+a,n.transformPerspective=S+o,(n.zOrigin=parseFloat(d.split(" ")[2])||!r&&n.zOrigin||0)&&(i[ys]=jx(d)),n.xOffset=n.yOffset=0,n.force3D=Gs.force3D,n.renderTransform=n.svg?tne:m6?b6:ene,n.uncache=0,n},jx=function(e){return(e=e.split(" "))[0]+" "+e[1]},N1=function(e,r,n){var i=Ti(r);return bn(parseFloat(r)+parseFloat(Pc(e,"x",n+"px",i)))+i},ene=function(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,b6(e,r)},pu="0deg",mp="0px",mu=") ",b6=function(e,r){var n=r||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,c=n.z,d=n.rotation,f=n.rotationY,p=n.rotationX,g=n.skewX,m=n.skewY,v=n.scaleX,x=n.scaleY,w=n.transformPerspective,T=n.force3D,j=n.target,P=n.zOrigin,S="",B=T==="auto"&&e&&e!==1||T===!0;if(P&&(p!==pu||f!==pu)){var $=parseFloat(f)*$f,W=Math.sin($),G=Math.cos($),q;$=parseFloat(p)*$f,q=Math.cos($),o=N1(j,o,W*q*-P),a=N1(j,a,-Math.sin($)*-P),c=N1(j,c,G*q*-P+P)}w!==mp&&(S+="perspective("+w+mu),(i||s)&&(S+="translate("+i+"%, "+s+"%) "),(B||o!==mp||a!==mp||c!==mp)&&(S+=c!==mp||B?"translate3d("+o+", "+a+", "+c+") ":"translate("+o+", "+a+mu),d!==pu&&(S+="rotate("+d+mu),f!==pu&&(S+="rotateY("+f+mu),p!==pu&&(S+="rotateX("+p+mu),(g!==pu||m!==pu)&&(S+="skew("+g+", "+m+mu),(v!==1||x!==1)&&(S+="scale("+v+", "+x+mu),j.style[ln]=S||"translate(0, 0)"},tne=function(e,r){var n=r||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,c=n.rotation,d=n.skewX,f=n.skewY,p=n.scaleX,g=n.scaleY,m=n.target,v=n.xOrigin,x=n.yOrigin,w=n.xOffset,T=n.yOffset,j=n.forceCSS,P=parseFloat(o),S=parseFloat(a),B,$,W,G,q;c=parseFloat(c),d=parseFloat(d),f=parseFloat(f),f&&(f=parseFloat(f),d+=f,c+=f),c||d?(c*=$f,d*=$f,B=Math.cos(c)*p,$=Math.sin(c)*p,W=Math.sin(c-d)*-g,G=Math.cos(c-d)*g,d&&(f*=$f,q=Math.tan(d-f),q=Math.sqrt(1+q*q),W*=q,G*=q,f&&(q=Math.tan(f),q=Math.sqrt(1+q*q),B*=q,$*=q)),B=bn(B),$=bn($),W=bn(W),G=bn(G)):(B=p,G=g,$=W=0),(P&&!~(o+"").indexOf("px")||S&&!~(a+"").indexOf("px"))&&(P=Pc(m,"x",o,"px"),S=Pc(m,"y",a,"px")),(v||x||w||T)&&(P=bn(P+v-(v*B+x*W)+w),S=bn(S+x-(v*$+x*G)+T)),(i||s)&&(q=m.getBBox(),P=bn(P+i/100*q.width),S=bn(S+s/100*q.height)),q="matrix("+B+","+$+","+W+","+G+","+P+","+S+")",m.setAttribute("transform",q),j&&(m.style[ln]=q)},rne=function(e,r,n,i,s){var o=360,a=ei(s),c=parseFloat(s)*(a&&~s.indexOf("rad")?_u:1),d=c-i,f=i+d+"deg",p,g;return a&&(p=s.split("_")[1],p==="short"&&(d%=o,d!==d%(o/2)&&(d+=d<0?o:-o)),p==="cw"&&d<0?d=(d+o*uR)%o-~~(d/o)*o:p==="ccw"&&d>0&&(d=(d-o*uR)%o-~~(d/o)*o)),e._pt=g=new gs(e._pt,r,n,i,d,zre),g.e=f,g.u="deg",e._props.push(n),g},yR=function(e,r){for(var n in r)e[n]=r[n];return e},nne=function(e,r,n){var i=yR({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=n.style,a,c,d,f,p,g,m,v;i.svg?(d=n.getAttribute("transform"),n.setAttribute("transform",""),o[ln]=r,a=Vm(n,1),ad(n,ln),n.setAttribute("transform",d)):(d=getComputedStyle(n)[ln],o[ln]=r,a=Vm(n,1),o[ln]=d);for(c in Sl)d=i[c],f=a[c],d!==f&&s.indexOf(c)<0&&(m=Ti(d),v=Ti(f),p=m!==v?Pc(n,c,d,v):parseFloat(d),g=parseFloat(f),e._pt=new gs(e._pt,a,c,p,g-p,b_),e._pt.u=v||0,e._props.push(c));yR(a,i)};ms("padding,margin,Width,Radius",function(t,e){var r="Top",n="Right",i="Bottom",s="Left",o=(e<3?[r,n,i,s]:[r+s,r+n,i+n,i+s]).map(function(a){return e<2?t+a:"border"+a+t});Ax[e>1?"border"+t:t]=function(a,c,d,f,p){var g,m;if(arguments.length<4)return g=o.map(function(v){return cl(a,v,d)}),m=g.join(" "),m.split(g[0]).length===5?g[0]:m;g=(f+"").split(" "),m={},o.forEach(function(v,x){return m[v]=g[x]=g[x]||g[(x-1)/2|0]}),a.init(c,m,p)}});var w6={name:"css",register:k_,targetTest:function(e){return e.style&&e.nodeType},init:function(e,r,n,i,s){var o=this._props,a=e.style,c=n.vars.startAt,d,f,p,g,m,v,x,w,T,j,P,S,B,$,W,G;c2||k_(),this.styles=this.styles||p6(e),G=this.styles.props,this.tween=n;for(x in r)if(x!=="autoRound"&&(f=r[x],!(Ps[x]&&n6(x,r,n,i,e,s)))){if(m=typeof f,v=Ax[x],m==="function"&&(f=f.call(n,i,e,s),m=typeof f),m==="string"&&~f.indexOf("random(")&&(f=zm(f)),v)v(this,e,x,f,n)&&(W=1);else if(x.substr(0,2)==="--")d=(getComputedStyle(e).getPropertyValue(x)+"").trim(),f+="",kc.lastIndex=0,kc.test(d)||(w=Ti(d),T=Ti(f)),T?w!==T&&(d=Pc(e,x,d,T)+T):w&&(f+=w),this.add(a,"setProperty",d,f,i,s,0,0,x),o.push(x),G.push(x,0,a[x]);else if(m!=="undefined"){if(c&&x in c?(d=typeof c[x]=="function"?c[x].call(n,i,e,s):c[x],ei(d)&&~d.indexOf("random(")&&(d=zm(d)),Ti(d+"")||d==="auto"||(d+=Gs.units[x]||Ti(cl(e,x))||""),(d+"").charAt(1)==="="&&(d=cl(e,x))):d=cl(e,x),g=parseFloat(d),j=m==="string"&&f.charAt(1)==="="&&f.substr(0,2),j&&(f=f.substr(2)),p=parseFloat(f),x in Ra&&(x==="autoAlpha"&&(g===1&&cl(e,"visibility")==="hidden"&&p&&(g=0),G.push("visibility",0,a.visibility),pc(this,a,"visibility",g?"inherit":"hidden",p?"inherit":"hidden",!p)),x!=="scale"&&x!=="transform"&&(x=Ra[x],~x.indexOf(",")&&(x=x.split(",")[0]))),P=x in Sl,P){if(this.styles.save(x),m==="string"&&f.substring(0,6)==="var(--"&&(f=yo(e,f.substring(4,f.indexOf(")"))),p=parseFloat(f)),S||(B=e._gsap,B.renderTransform&&!r.parseTransform||Vm(e,r.parseTransform),$=r.smoothOrigin!==!1&&B.smooth,S=this._pt=new gs(this._pt,a,ln,0,1,B.renderTransform,B,0,-1),S.dep=1),x==="scale")this._pt=new gs(this._pt,B,"scaleY",B.scaleY,(j?zf(B.scaleY,j+p):p)-B.scaleY||0,b_),this._pt.u=0,o.push("scaleY",x),x+="X";else if(x==="transformOrigin"){G.push(ys,0,a[ys]),f=Qre(f),B.svg?__(e,f,0,$,0,this):(T=parseFloat(f.split(" ")[2])||0,T!==B.zOrigin&&pc(this,B,"zOrigin",B.zOrigin,T),pc(this,a,x,jx(d),jx(f)));continue}else if(x==="svgOrigin"){__(e,f,1,$,0,this);continue}else if(x in x6){rne(this,B,x,g,j?zf(g,j+f):f);continue}else if(x==="smoothOrigin"){pc(this,B,"smooth",B.smooth,f);continue}else if(x==="force3D"){B[x]=f;continue}else if(x==="transform"){nne(this,f,e);continue}}else x in a||(x=ah(x)||x);if(P||(p||p===0)&&(g||g===0)&&!Fre.test(f)&&x in a)w=(d+"").substr((g+"").length),p||(p=0),T=Ti(f)||(x in Gs.units?Gs.units[x]:w),w!==T&&(g=Pc(e,x,d,T)),this._pt=new gs(this._pt,P?B:a,x,g,(j?zf(g,j+p):p)-g,!P&&(T==="px"||x==="zIndex")&&r.autoRound!==!1?$re:b_),this._pt.u=T||0,w!==T&&T!=="%"&&(this._pt.b=d,this._pt.r=Bre);else if(x in a)Xre.call(this,e,x,d,j?j+f:f);else if(x in e)this.add(e,x,d||e[x],j?j+f:f,i,s);else if(x!=="parseTransform"){ZS(x,f);continue}P||(x in a?G.push(x,0,a[x]):typeof e[x]=="function"?G.push(x,2,e[x]()):G.push(x,1,d||e[x])),o.push(x)}}W&&c6(this)},render:function(e,r){if(r.tween._time||!u2())for(var n=r._pt;n;)n.r(e,n.d),n=n._next;else r.styles.revert()},get:cl,aliases:Ra,getSetter:function(e,r,n){var i=Ra[r];return i&&i.indexOf(",")<0&&(r=i),r in Sl&&r!==ys&&(e._gsap.x||cl(e,"x"))?n&&cR===n?r==="scale"?qre:Wre:(cR=n||{})&&(r==="scale"?Hre:Gre):e.style&&!JS(e.style[r])?Ure:~r.indexOf("-")?Vre:a2(e,r)},core:{_removeProperty:ad,_getMatrix:f2}};xs.utils.checkPrefix=ah;xs.core.getStyleSaver=p6;(function(t,e,r,n){var i=ms(t+","+e+","+r,function(s){Sl[s]=1});ms(e,function(s){Gs.units[s]="deg",x6[s]=1}),Ra[i[13]]=t+","+e,ms(n,function(s){var o=s.split(":");Ra[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");ms("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Gs.units[t]="px"});xs.registerPlugin(w6);var ul=xs.registerPlugin(w6)||xs;ul.core.Tween;function ine(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function sne(t,e,r){return e&&ine(t.prototype,e),t}/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var li,W0,Ls,mc,gc,Uf,k6,Cu,Yp,_6,gl,Bo,C6,S6=function(){return li||typeof window<"u"&&(li=window.gsap)&&li.registerPlugin&&li},E6=1,Af=[],tr=[],La=[],Jp=Date.now,C_=function(e,r){return r},one=function(){var e=Yp.core,r=e.bridge||{},n=e._scrollers,i=e._proxies;n.push.apply(n,tr),i.push.apply(i,La),tr=n,La=i,C_=function(o,a){return r[o](a)}},_c=function(e,r){return~La.indexOf(e)&&La[La.indexOf(e)+1][r]},Xp=function(e){return!!~_6.indexOf(e)},Bi=function(e,r,n,i,s){return e.addEventListener(r,n,{passive:i!==!1,capture:!!s})},zi=function(e,r,n,i){return e.removeEventListener(r,n,!!i)},Ky="scrollLeft",Yy="scrollTop",S_=function(){return gl&&gl.isPressed||tr.cache++},Px=function(e,r){var n=function i(s){if(s||s===0){E6&&(Ls.history.scrollRestoration="manual");var o=gl&&gl.isPressed;s=i.v=Math.round(s)||(gl&&gl.iOS?1:0),e(s),i.cacheID=tr.cache,o&&C_("ss",s)}else(r||tr.cache!==i.cacheID||C_("ref"))&&(i.cacheID=tr.cache,i.v=e());return i.v+i.offset};return n.offset=0,e&&n},Ki={s:Ky,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Px(function(t){return arguments.length?Ls.scrollTo(t,Wn.sc()):Ls.pageXOffset||mc[Ky]||gc[Ky]||Uf[Ky]||0})},Wn={s:Yy,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Ki,sc:Px(function(t){return arguments.length?Ls.scrollTo(Ki.sc(),t):Ls.pageYOffset||mc[Yy]||gc[Yy]||Uf[Yy]||0})},us=function(e,r){return(r&&r._ctx&&r._ctx.selector||li.utils.toArray)(e)[0]||(typeof e=="string"&&li.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},ane=function(e,r){for(var n=r.length;n--;)if(r[n]===e||r[n].contains(e))return!0;return!1},Rc=function(e,r){var n=r.s,i=r.sc;Xp(e)&&(e=mc.scrollingElement||gc);var s=tr.indexOf(e),o=i===Wn.sc?1:2;!~s&&(s=tr.push(e)-1),tr[s+o]||Bi(e,"scroll",S_);var a=tr[s+o],c=a||(tr[s+o]=Px(_c(e,n),!0)||(Xp(e)?i:Px(function(d){return arguments.length?e[n]=d:e[n]})));return c.target=e,a||(c.smooth=li.getProperty(e,"scrollBehavior")==="smooth"),c},E_=function(e,r,n){var i=e,s=e,o=Jp(),a=o,c=r||50,d=Math.max(500,c*3),f=function(v,x){var w=Jp();x||w-o>c?(s=i,i=v,a=o,o=w):n?i+=v:i=s+(v-s)/(w-a)*(o-a)},p=function(){s=i=n?0:i,a=o=0},g=function(v){var x=a,w=s,T=Jp();return(v||v===0)&&v!==i&&f(v),o===a||T-a>d?0:(i+(n?w:-w))/((n?T:o)-x)*1e3};return{update:f,reset:p,getVelocity:g}},gp=function(e,r){return r&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},xR=function(e){var r=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(r)>=Math.abs(n)?r:n},T6=function(){Yp=li.core.globals().ScrollTrigger,Yp&&Yp.core&&one()},N6=function(e){return li=e||S6(),!W0&&li&&typeof document<"u"&&document.body&&(Ls=window,mc=document,gc=mc.documentElement,Uf=mc.body,_6=[Ls,mc,gc,Uf],li.utils.clamp,C6=li.core.context||function(){},Cu="onpointerenter"in Uf?"pointer":"mouse",k6=_n.isTouch=Ls.matchMedia&&Ls.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Ls||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Bo=_n.eventTypes=("ontouchstart"in gc?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in gc?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return E6=0},500),T6(),W0=1),W0};Ki.op=Wn;tr.cache=0;var _n=function(){function t(r){this.init(r)}var e=t.prototype;return e.init=function(n){W0||N6(li)||console.warn("Please gsap.registerPlugin(Observer)"),Yp||T6();var i=n.tolerance,s=n.dragMinimum,o=n.type,a=n.target,c=n.lineHeight,d=n.debounce,f=n.preventDefault,p=n.onStop,g=n.onStopDelay,m=n.ignore,v=n.wheelSpeed,x=n.event,w=n.onDragStart,T=n.onDragEnd,j=n.onDrag,P=n.onPress,S=n.onRelease,B=n.onRight,$=n.onLeft,W=n.onUp,G=n.onDown,q=n.onChangeX,H=n.onChangeY,J=n.onChange,V=n.onToggleX,F=n.onToggleY,b=n.onHover,A=n.onHoverEnd,O=n.onMove,R=n.ignoreCheck,k=n.isNormalizer,I=n.onGestureStart,N=n.onGestureEnd,D=n.onWheel,E=n.onEnable,M=n.onDisable,Z=n.onClick,z=n.scrollSpeed,K=n.capture,Y=n.allowClicks,Q=n.lockAxis,ee=n.onLockAxis;this.target=a=us(a)||gc,this.vars=n,m&&(m=li.utils.toArray(m)),i=i||1e-9,s=s||0,v=v||1,z=z||1,o=o||"wheel,touch,pointer",d=d!==!1,c||(c=parseFloat(Ls.getComputedStyle(Uf).lineHeight)||22);var ae,ne,de,xe,me,_e,Xe,le=this,Ye=0,jt=0,st=n.passive||!f&&n.passive!==!1,De=Rc(a,Ki),Jt=Rc(a,Wn),ot=De(),ht=Jt(),Ie=~o.indexOf("touch")&&!~o.indexOf("pointer")&&Bo[0]==="pointerdown",se=Xp(a),he=a.ownerDocument||mc,Le=[0,0,0],Ae=[0,0,0],Me=0,Gt=function(){return Me=Jp()},Qe=function(Be,ze){return(le.event=Be)&&m&&ane(Be.target,m)||ze&&Ie&&Be.pointerType!=="touch"||R&&R(Be,ze)},_t=function(){le._vx.reset(),le._vy.reset(),ne.pause(),p&&p(le)},Wt=function(){var Be=le.deltaX=xR(Le),ze=le.deltaY=xR(Ae),we=Math.abs(Be)>=i,Ue=Math.abs(ze)>=i;J&&(we||Ue)&&J(le,Be,ze,Le,Ae),we&&(B&&le.deltaX>0&&B(le),$&&le.deltaX<0&&$(le),q&&q(le),V&&le.deltaX<0!=Ye<0&&V(le),Ye=le.deltaX,Le[0]=Le[1]=Le[2]=0),Ue&&(G&&le.deltaY>0&&G(le),W&&le.deltaY<0&&W(le),H&&H(le),F&&le.deltaY<0!=jt<0&&F(le),jt=le.deltaY,Ae[0]=Ae[1]=Ae[2]=0),(xe||de)&&(O&&O(le),de&&(w&&de===1&&w(le),j&&j(le),de=0),xe=!1),_e&&!(_e=!1)&&ee&&ee(le),me&&(D(le),me=!1),ae=0},Ct=function(Be,ze,we){Le[we]+=Be,Ae[we]+=ze,le._vx.update(Be),le._vy.update(ze),d?ae||(ae=requestAnimationFrame(Wt)):Wt()},nt=function(Be,ze){Q&&!Xe&&(le.axis=Xe=Math.abs(Be)>Math.abs(ze)?"x":"y",_e=!0),Xe!=="y"&&(Le[2]+=Be,le._vx.update(Be,!0)),Xe!=="x"&&(Ae[2]+=ze,le._vy.update(ze,!0)),d?ae||(ae=requestAnimationFrame(Wt)):Wt()},Xt=function(Be){if(!Qe(Be,1)){Be=gp(Be,f);var ze=Be.clientX,we=Be.clientY,Ue=ze-le.x,Te=we-le.y,Oe=le.isDragging;le.x=ze,le.y=we,(Oe||(Ue||Te)&&(Math.abs(le.startX-ze)>=s||Math.abs(le.startY-we)>=s))&&(de=Oe?2:1,Oe||(le.isDragging=!0),nt(Ue,Te))}},xt=le.onPress=function(Re){Qe(Re,1)||Re&&Re.button||(le.axis=Xe=null,ne.pause(),le.isPressed=!0,Re=gp(Re),Ye=jt=0,le.startX=le.x=Re.clientX,le.startY=le.y=Re.clientY,le._vx.reset(),le._vy.reset(),Bi(k?a:he,Bo[1],Xt,st,!0),le.deltaX=le.deltaY=0,P&&P(le))},Fe=le.onRelease=function(Re){if(!Qe(Re,1)){zi(k?a:he,Bo[1],Xt,!0);var Be=!isNaN(le.y-le.startY),ze=le.isDragging,we=ze&&(Math.abs(le.x-le.startX)>3||Math.abs(le.y-le.startY)>3),Ue=gp(Re);!we&&Be&&(le._vx.reset(),le._vy.reset(),f&&Y&&li.delayedCall(.08,function(){if(Jp()-Me>300&&!Re.defaultPrevented){if(Re.target.click)Re.target.click();else if(he.createEvent){var Te=he.createEvent("MouseEvents");Te.initMouseEvent("click",!0,!0,Ls,1,Ue.screenX,Ue.screenY,Ue.clientX,Ue.clientY,!1,!1,!1,!1,0,null),Re.target.dispatchEvent(Te)}}})),le.isDragging=le.isGesturing=le.isPressed=!1,p&&ze&&!k&&ne.restart(!0),de&&Wt(),T&&ze&&T(le),S&&S(le,we)}},Vr=function(Be){return Be.touches&&Be.touches.length>1&&(le.isGesturing=!0)&&I(Be,le.isDragging)},Tt=function(){return(le.isGesturing=!1)||N(le)},St=function(Be){if(!Qe(Be)){var ze=De(),we=Jt();Ct((ze-ot)*z,(we-ht)*z,1),ot=ze,ht=we,p&&ne.restart(!0)}},pr=function(Be){if(!Qe(Be)){Be=gp(Be,f),D&&(me=!0);var ze=(Be.deltaMode===1?c:Be.deltaMode===2?Ls.innerHeight:1)*v;Ct(Be.deltaX*ze,Be.deltaY*ze,0),p&&!k&&ne.restart(!0)}},qt=function(Be){if(!Qe(Be)){var ze=Be.clientX,we=Be.clientY,Ue=ze-le.x,Te=we-le.y;le.x=ze,le.y=we,xe=!0,p&&ne.restart(!0),(Ue||Te)&&nt(Ue,Te)}},Pe=function(Be){le.event=Be,b(le)},yt=function(Be){le.event=Be,A(le)},at=function(Be){return Qe(Be)||gp(Be,f)&&Z(le)};ne=le._dc=li.delayedCall(g||.25,_t).pause(),le.deltaX=le.deltaY=0,le._vx=E_(0,50,!0),le._vy=E_(0,50,!0),le.scrollX=De,le.scrollY=Jt,le.isDragging=le.isGesturing=le.isPressed=!1,C6(this),le.enable=function(Re){return le.isEnabled||(Bi(se?he:a,"scroll",S_),o.indexOf("scroll")>=0&&Bi(se?he:a,"scroll",St,st,K),o.indexOf("wheel")>=0&&Bi(a,"wheel",pr,st,K),(o.indexOf("touch")>=0&&k6||o.indexOf("pointer")>=0)&&(Bi(a,Bo[0],xt,st,K),Bi(he,Bo[2],Fe),Bi(he,Bo[3],Fe),Y&&Bi(a,"click",Gt,!0,!0),Z&&Bi(a,"click",at),I&&Bi(he,"gesturestart",Vr),N&&Bi(he,"gestureend",Tt),b&&Bi(a,Cu+"enter",Pe),A&&Bi(a,Cu+"leave",yt),O&&Bi(a,Cu+"move",qt)),le.isEnabled=!0,le.isDragging=le.isGesturing=le.isPressed=xe=de=!1,le._vx.reset(),le._vy.reset(),ot=De(),ht=Jt(),Re&&Re.type&&xt(Re),E&&E(le)),le},le.disable=function(){le.isEnabled&&(Af.filter(function(Re){return Re!==le&&Xp(Re.target)}).length||zi(se?he:a,"scroll",S_),le.isPressed&&(le._vx.reset(),le._vy.reset(),zi(k?a:he,Bo[1],Xt,!0)),zi(se?he:a,"scroll",St,K),zi(a,"wheel",pr,K),zi(a,Bo[0],xt,K),zi(he,Bo[2],Fe),zi(he,Bo[3],Fe),zi(a,"click",Gt,!0),zi(a,"click",at),zi(he,"gesturestart",Vr),zi(he,"gestureend",Tt),zi(a,Cu+"enter",Pe),zi(a,Cu+"leave",yt),zi(a,Cu+"move",qt),le.isEnabled=le.isPressed=le.isDragging=!1,M&&M(le))},le.kill=le.revert=function(){le.disable();var Re=Af.indexOf(le);Re>=0&&Af.splice(Re,1),gl===le&&(gl=0)},Af.push(le),k&&Xp(a)&&(gl=le),le.enable(x)},sne(t,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),t}();_n.version="3.13.0";_n.create=function(t){return new _n(t)};_n.register=N6;_n.getAll=function(){return Af.slice()};_n.getById=function(t){return Af.filter(function(e){return e.vars.id===t})[0]};S6()&&li.registerPlugin(_n);/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Ze,df,er,$r,Ds,Tr,h2,Rx,Wm,Qp,jp,Jy,ki,Nv,T_,Vi,vR,bR,ff,A6,A1,j6,Ui,N_,P6,R6,sc,A_,p2,Vf,m2,Ix,j_,j1,Xy=1,_i=Date.now,P1=_i(),bo=0,Pp=0,wR=function(e,r,n){var i=Ns(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return n["_"+r+"Clamp"]=i,i?e.substr(6,e.length-7):e},kR=function(e,r){return r&&(!Ns(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},lne=function t(){return Pp&&requestAnimationFrame(t)},_R=function(){return Nv=1},CR=function(){return Nv=0},Sa=function(e){return e},Rp=function(e){return Math.round(e*1e5)/1e5||0},I6=function(){return typeof window<"u"},M6=function(){return Ze||I6()&&(Ze=window.gsap)&&Ze.registerPlugin&&Ze},ld=function(e){return!!~h2.indexOf(e)},D6=function(e){return(e==="Height"?m2:er["inner"+e])||Ds["client"+e]||Tr["client"+e]},O6=function(e){return _c(e,"getBoundingClientRect")||(ld(e)?function(){return Y0.width=er.innerWidth,Y0.height=m2,Y0}:function(){return hl(e)})},cne=function(e,r,n){var i=n.d,s=n.d2,o=n.a;return(o=_c(e,"getBoundingClientRect"))?function(){return o()[i]}:function(){return(r?D6(s):e["client"+s])||0}},une=function(e,r){return!r||~La.indexOf(e)?O6(e):function(){return Y0}},Ia=function(e,r){var n=r.s,i=r.d2,s=r.d,o=r.a;return Math.max(0,(n="scroll"+i)&&(o=_c(e,n))?o()-O6(e)()[s]:ld(e)?(Ds[n]||Tr[n])-D6(i):e[n]-e["offset"+i])},Qy=function(e,r){for(var n=0;n<ff.length;n+=3)(!r||~r.indexOf(ff[n+1]))&&e(ff[n],ff[n+1],ff[n+2])},Ns=function(e){return typeof e=="string"},Ni=function(e){return typeof e=="function"},Ip=function(e){return typeof e=="number"},Su=function(e){return typeof e=="object"},yp=function(e,r,n){return e&&e.progress(r?0:1)&&n&&e.pause()},R1=function(e,r){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return r(e)}):r(e);n&&n.totalTime&&(e.callbackAnimation=n)}},Zd=Math.abs,L6="left",F6="top",g2="right",y2="bottom",qu="width",Hu="height",Zp="Right",em="Left",tm="Top",rm="Bottom",Pn="padding",co="margin",lh="Width",x2="Height",Vn="px",uo=function(e){return er.getComputedStyle(e)},dne=function(e){var r=uo(e).position;e.style.position=r==="absolute"||r==="fixed"?r:"relative"},SR=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},hl=function(e,r){var n=r&&uo(e)[T_]!=="matrix(1, 0, 0, 1, 0, 0)"&&Ze.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return n&&n.progress(0).kill(),i},Mx=function(e,r){var n=r.d2;return e["offset"+n]||e["client"+n]||0},z6=function(e){var r=[],n=e.labels,i=e.duration(),s;for(s in n)r.push(n[s]/i);return r},fne=function(e){return function(r){return Ze.utils.snap(z6(e),r)}},v2=function(e){var r=Ze.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(i,s){return i-s});return n?function(i,s,o){o===void 0&&(o=.001);var a;if(!s)return r(i);if(s>0){for(i-=o,a=0;a<n.length;a++)if(n[a]>=i)return n[a];return n[a-1]}else for(a=n.length,i+=o;a--;)if(n[a]<=i)return n[a];return n[0]}:function(i,s,o){o===void 0&&(o=.001);var a=r(i);return!s||Math.abs(a-i)<o||a-i<0==s<0?a:r(s<0?i-e:i+e)}},hne=function(e){return function(r,n){return v2(z6(e))(r,n.direction)}},Zy=function(e,r,n,i){return n.split(",").forEach(function(s){return e(r,s,i)})},Xn=function(e,r,n,i,s){return e.addEventListener(r,n,{passive:!i,capture:!!s})},Jn=function(e,r,n,i){return e.removeEventListener(r,n,!!i)},e0=function(e,r,n){n=n&&n.wheelHandler,n&&(e(r,"wheel",n),e(r,"touchmove",n))},ER={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},t0={toggleActions:"play",anticipatePin:0},Dx={top:0,left:0,center:.5,bottom:1,right:1},q0=function(e,r){if(Ns(e)){var n=e.indexOf("="),i=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(i*=r/100),e=e.substr(0,n-1)),e=i+(e in Dx?Dx[e]*r:~e.indexOf("%")?parseFloat(e)*r/100:parseFloat(e)||0)}return e},r0=function(e,r,n,i,s,o,a,c){var d=s.startColor,f=s.endColor,p=s.fontSize,g=s.indent,m=s.fontWeight,v=$r.createElement("div"),x=ld(n)||_c(n,"pinType")==="fixed",w=e.indexOf("scroller")!==-1,T=x?Tr:n,j=e.indexOf("start")!==-1,P=j?d:f,S="border-color:"+P+";font-size:"+p+";color:"+P+";font-weight:"+m+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return S+="position:"+((w||c)&&x?"fixed;":"absolute;"),(w||c||!x)&&(S+=(i===Wn?g2:y2)+":"+(o+parseFloat(g))+"px;"),a&&(S+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),v._isStart=j,v.setAttribute("class","gsap-marker-"+e+(r?" marker-"+r:"")),v.style.cssText=S,v.innerText=r||r===0?e+"-"+r:e,T.children[0]?T.insertBefore(v,T.children[0]):T.appendChild(v),v._offset=v["offset"+i.op.d2],H0(v,0,i,j),v},H0=function(e,r,n,i){var s={display:"block"},o=n[i?"os2":"p2"],a=n[i?"p2":"os2"];e._isFlipped=i,s[n.a+"Percent"]=i?-100:0,s[n.a]=i?"1px":0,s["border"+o+lh]=1,s["border"+a+lh]=0,s[n.p]=r+"px",Ze.set(e,s)},Kt=[],P_={},qm,TR=function(){return _i()-bo>34&&(qm||(qm=requestAnimationFrame(vl)))},ef=function(){(!Ui||!Ui.isPressed||Ui.startX>Tr.clientWidth)&&(tr.cache++,Ui?qm||(qm=requestAnimationFrame(vl)):vl(),bo||ud("scrollStart"),bo=_i())},I1=function(){R6=er.innerWidth,P6=er.innerHeight},Mp=function(e){tr.cache++,(e===!0||!ki&&!j6&&!$r.fullscreenElement&&!$r.webkitFullscreenElement&&(!N_||R6!==er.innerWidth||Math.abs(er.innerHeight-P6)>er.innerHeight*.25))&&Rx.restart(!0)},cd={},pne=[],B6=function t(){return Jn(rr,"scrollEnd",t)||Du(!0)},ud=function(e){return cd[e]&&cd[e].map(function(r){return r()})||pne},Ts=[],$6=function(e){for(var r=0;r<Ts.length;r+=5)(!e||Ts[r+4]&&Ts[r+4].query===e)&&(Ts[r].style.cssText=Ts[r+1],Ts[r].getBBox&&Ts[r].setAttribute("transform",Ts[r+2]||""),Ts[r+3].uncache=1)},b2=function(e,r){var n;for(Vi=0;Vi<Kt.length;Vi++)n=Kt[Vi],n&&(!r||n._ctx===r)&&(e?n.kill(1):n.revert(!0,!0));Ix=!0,r&&$6(r),r||ud("revert")},U6=function(e,r){tr.cache++,(r||!Wi)&&tr.forEach(function(n){return Ni(n)&&n.cacheID++&&(n.rec=0)}),Ns(e)&&(er.history.scrollRestoration=p2=e)},Wi,Gu=0,NR,mne=function(){if(NR!==Gu){var e=NR=Gu;requestAnimationFrame(function(){return e===Gu&&Du(!0)})}},V6=function(){Tr.appendChild(Vf),m2=!Ui&&Vf.offsetHeight||er.innerHeight,Tr.removeChild(Vf)},AR=function(e){return Wm(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(r){return r.style.display=e?"none":"block"})},Du=function(e,r){if(Ds=$r.documentElement,Tr=$r.body,h2=[er,$r,Ds,Tr],bo&&!e&&!Ix){Xn(rr,"scrollEnd",B6);return}V6(),Wi=rr.isRefreshing=!0,tr.forEach(function(i){return Ni(i)&&++i.cacheID&&(i.rec=i())});var n=ud("refreshInit");A6&&rr.sort(),r||b2(),tr.forEach(function(i){Ni(i)&&(i.smooth&&(i.target.style.scrollBehavior="auto"),i(0))}),Kt.slice(0).forEach(function(i){return i.refresh()}),Ix=!1,Kt.forEach(function(i){if(i._subPinOffset&&i.pin){var s=i.vars.horizontal?"offsetWidth":"offsetHeight",o=i.pin[s];i.revert(!0,1),i.adjustPinSpacing(i.pin[s]-o),i.refresh()}}),j_=1,AR(!0),Kt.forEach(function(i){var s=Ia(i.scroller,i._dir),o=i.vars.end==="max"||i._endClamp&&i.end>s,a=i._startClamp&&i.start>=s;(o||a)&&i.setPositions(a?s-1:i.start,o?Math.max(a?s:i.start+1,s):i.end,!0)}),AR(!1),j_=0,n.forEach(function(i){return i&&i.render&&i.render(-1)}),tr.forEach(function(i){Ni(i)&&(i.smooth&&requestAnimationFrame(function(){return i.target.style.scrollBehavior="smooth"}),i.rec&&i(i.rec))}),U6(p2,1),Rx.pause(),Gu++,Wi=2,vl(2),Kt.forEach(function(i){return Ni(i.vars.onRefresh)&&i.vars.onRefresh(i)}),Wi=rr.isRefreshing=!1,ud("refresh")},R_=0,G0=1,nm,vl=function(e){if(e===2||!Wi&&!Ix){rr.isUpdating=!0,nm&&nm.update(0);var r=Kt.length,n=_i(),i=n-P1>=50,s=r&&Kt[0].scroll();if(G0=R_>s?-1:1,Wi||(R_=s),i&&(bo&&!Nv&&n-bo>200&&(bo=0,ud("scrollEnd")),jp=P1,P1=n),G0<0){for(Vi=r;Vi-- >0;)Kt[Vi]&&Kt[Vi].update(0,i);G0=1}else for(Vi=0;Vi<r;Vi++)Kt[Vi]&&Kt[Vi].update(0,i);rr.isUpdating=!1}qm=0},I_=[L6,F6,y2,g2,co+rm,co+Zp,co+tm,co+em,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],K0=I_.concat([qu,Hu,"boxSizing","max"+lh,"max"+x2,"position",co,Pn,Pn+tm,Pn+Zp,Pn+rm,Pn+em]),gne=function(e,r,n){Wf(n);var i=e._gsap;if(i.spacerIsNative)Wf(i.spacerState);else if(e._gsap.swappedIn){var s=r.parentNode;s&&(s.insertBefore(e,r),s.removeChild(r))}e._gsap.swappedIn=!1},M1=function(e,r,n,i){if(!e._gsap.swappedIn){for(var s=I_.length,o=r.style,a=e.style,c;s--;)c=I_[s],o[c]=n[c];o.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(o.display="inline-block"),a[y2]=a[g2]="auto",o.flexBasis=n.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[qu]=Mx(e,Ki)+Vn,o[Hu]=Mx(e,Wn)+Vn,o[Pn]=a[co]=a[F6]=a[L6]="0",Wf(i),a[qu]=a["max"+lh]=n[qu],a[Hu]=a["max"+x2]=n[Hu],a[Pn]=n[Pn],e.parentNode!==r&&(e.parentNode.insertBefore(r,e),r.appendChild(e)),e._gsap.swappedIn=!0}},yne=/([A-Z])/g,Wf=function(e){if(e){var r=e.t.style,n=e.length,i=0,s,o;for((e.t._gsap||Ze.core.getCache(e.t)).uncache=1;i<n;i+=2)o=e[i+1],s=e[i],o?r[s]=o:r[s]&&r.removeProperty(s.replace(yne,"-$1").toLowerCase())}},n0=function(e){for(var r=K0.length,n=e.style,i=[],s=0;s<r;s++)i.push(K0[s],n[K0[s]]);return i.t=e,i},xne=function(e,r,n){for(var i=[],s=e.length,o=n?8:0,a;o<s;o+=2)a=e[o],i.push(a,a in r?r[a]:e[o+1]);return i.t=e.t,i},Y0={left:0,top:0},jR=function(e,r,n,i,s,o,a,c,d,f,p,g,m,v){Ni(e)&&(e=e(c)),Ns(e)&&e.substr(0,3)==="max"&&(e=g+(e.charAt(4)==="="?q0("0"+e.substr(3),n):0));var x=m?m.time():0,w,T,j;if(m&&m.seek(0),isNaN(e)||(e=+e),Ip(e))m&&(e=Ze.utils.mapRange(m.scrollTrigger.start,m.scrollTrigger.end,0,g,e)),a&&H0(a,n,i,!0);else{Ni(r)&&(r=r(c));var P=(e||"0").split(" "),S,B,$,W;j=us(r,c)||Tr,S=hl(j)||{},(!S||!S.left&&!S.top)&&uo(j).display==="none"&&(W=j.style.display,j.style.display="block",S=hl(j),W?j.style.display=W:j.style.removeProperty("display")),B=q0(P[0],S[i.d]),$=q0(P[1]||"0",n),e=S[i.p]-d[i.p]-f+B+s-$,a&&H0(a,$,i,n-$<20||a._isStart&&$>20),n-=n-$}if(v&&(c[v]=e||-.001,e<0&&(e=0)),o){var G=e+n,q=o._isStart;w="scroll"+i.d2,H0(o,G,i,q&&G>20||!q&&(p?Math.max(Tr[w],Ds[w]):o.parentNode[w])<=G+1),p&&(d=hl(a),p&&(o.style[i.op.p]=d[i.op.p]-i.op.m-o._offset+Vn))}return m&&j&&(w=hl(j),m.seek(g),T=hl(j),m._caScrollDist=w[i.p]-T[i.p],e=e/m._caScrollDist*g),m&&m.seek(x),m?e:Math.round(e)},vne=/(webkit|moz|length|cssText|inset)/i,PR=function(e,r,n,i){if(e.parentNode!==r){var s=e.style,o,a;if(r===Tr){e._stOrig=s.cssText,a=uo(e);for(o in a)!+o&&!vne.test(o)&&a[o]&&typeof s[o]=="string"&&o!=="0"&&(s[o]=a[o]);s.top=n,s.left=i}else s.cssText=e._stOrig;Ze.core.getCache(e).uncache=1,r.appendChild(e)}},W6=function(e,r,n){var i=r,s=i;return function(o){var a=Math.round(e());return a!==i&&a!==s&&Math.abs(a-i)>3&&Math.abs(a-s)>3&&(o=a,n&&n()),s=i,i=Math.round(o),i}},i0=function(e,r,n){var i={};i[r.p]="+="+n,Ze.set(e,i)},RR=function(e,r){var n=Rc(e,r),i="_scroll"+r.p2,s=function o(a,c,d,f,p){var g=o.tween,m=c.onComplete,v={};d=d||n();var x=W6(n,d,function(){g.kill(),o.tween=0});return p=f&&p||0,f=f||a-d,g&&g.kill(),c[i]=a,c.inherit=!1,c.modifiers=v,v[i]=function(){return x(d+f*g.ratio+p*g.ratio*g.ratio)},c.onUpdate=function(){tr.cache++,o.tween&&vl()},c.onComplete=function(){o.tween=0,m&&m.call(g)},g=o.tween=Ze.to(e,c),g};return e[i]=n,n.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},Xn(e,"wheel",n.wheelHandler),rr.isTouch&&Xn(e,"touchmove",n.wheelHandler),s},rr=function(){function t(r,n){df||t.register(Ze)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),A_(this),this.init(r,n)}var e=t.prototype;return e.init=function(n,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Pp){this.update=this.refresh=this.kill=Sa;return}n=SR(Ns(n)||Ip(n)||n.nodeType?{trigger:n}:n,t0);var s=n,o=s.onUpdate,a=s.toggleClass,c=s.id,d=s.onToggle,f=s.onRefresh,p=s.scrub,g=s.trigger,m=s.pin,v=s.pinSpacing,x=s.invalidateOnRefresh,w=s.anticipatePin,T=s.onScrubComplete,j=s.onSnapComplete,P=s.once,S=s.snap,B=s.pinReparent,$=s.pinSpacer,W=s.containerAnimation,G=s.fastScrollEnd,q=s.preventOverlaps,H=n.horizontal||n.containerAnimation&&n.horizontal!==!1?Ki:Wn,J=!p&&p!==0,V=us(n.scroller||er),F=Ze.core.getCache(V),b=ld(V),A=("pinType"in n?n.pinType:_c(V,"pinType")||b&&"fixed")==="fixed",O=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],R=J&&n.toggleActions.split(" "),k="markers"in n?n.markers:t0.markers,I=b?0:parseFloat(uo(V)["border"+H.p2+lh])||0,N=this,D=n.onRefreshInit&&function(){return n.onRefreshInit(N)},E=cne(V,b,H),M=une(V,b),Z=0,z=0,K=0,Y=Rc(V,H),Q,ee,ae,ne,de,xe,me,_e,Xe,le,Ye,jt,st,De,Jt,ot,ht,Ie,se,he,Le,Ae,Me,Gt,Qe,_t,Wt,Ct,nt,Xt,xt,Fe,Vr,Tt,St,pr,qt,Pe,yt;if(N._startClamp=N._endClamp=!1,N._dir=H,w*=45,N.scroller=V,N.scroll=W?W.time.bind(W):Y,ne=Y(),N.vars=n,i=i||n.animation,"refreshPriority"in n&&(A6=1,n.refreshPriority===-9999&&(nm=N)),F.tweenScroll=F.tweenScroll||{top:RR(V,Wn),left:RR(V,Ki)},N.tweenTo=Q=F.tweenScroll[H.p],N.scrubDuration=function(we){Vr=Ip(we)&&we,Vr?Fe?Fe.duration(we):Fe=Ze.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Vr,paused:!0,onComplete:function(){return T&&T(N)}}):(Fe&&Fe.progress(1).kill(),Fe=0)},i&&(i.vars.lazy=!1,i._initted&&!N.isReverted||i.vars.immediateRender!==!1&&n.immediateRender!==!1&&i.duration()&&i.render(0,!0,!0),N.animation=i.pause(),i.scrollTrigger=N,N.scrubDuration(p),Xt=0,c||(c=i.vars.id)),S&&((!Su(S)||S.push)&&(S={snapTo:S}),"scrollBehavior"in Tr.style&&Ze.set(b?[Tr,Ds]:V,{scrollBehavior:"auto"}),tr.forEach(function(we){return Ni(we)&&we.target===(b?$r.scrollingElement||Ds:V)&&(we.smooth=!1)}),ae=Ni(S.snapTo)?S.snapTo:S.snapTo==="labels"?fne(i):S.snapTo==="labelsDirectional"?hne(i):S.directional!==!1?function(we,Ue){return v2(S.snapTo)(we,_i()-z<500?0:Ue.direction)}:Ze.utils.snap(S.snapTo),Tt=S.duration||{min:.1,max:2},Tt=Su(Tt)?Qp(Tt.min,Tt.max):Qp(Tt,Tt),St=Ze.delayedCall(S.delay||Vr/2||.1,function(){var we=Y(),Ue=_i()-z<500,Te=Q.tween;if((Ue||Math.abs(N.getVelocity())<10)&&!Te&&!Nv&&Z!==we){var Oe=(we-xe)/De,mr=i&&!J?i.totalProgress():Oe,Ge=Ue?0:(mr-xt)/(_i()-jp)*1e3||0,pt=Ze.utils.clamp(-Oe,1-Oe,Zd(Ge/2)*Ge/.185),Nr=Oe+(S.inertia===!1?0:pt),vt,mt,Ot=S,zt=Ot.onStart,gt=Ot.onInterrupt,Mr=Ot.onComplete;if(vt=ae(Nr,N),Ip(vt)||(vt=Nr),mt=Math.max(0,Math.round(xe+vt*De)),we<=me&&we>=xe&&mt!==we){if(Te&&!Te._initted&&Te.data<=Zd(mt-we))return;S.inertia===!1&&(pt=vt-Oe),Q(mt,{duration:Tt(Zd(Math.max(Zd(Nr-mr),Zd(vt-mr))*.185/Ge/.05||0)),ease:S.ease||"power3",data:Zd(mt-we),onInterrupt:function(){return St.restart(!0)&&gt&&gt(N)},onComplete:function(){N.update(),Z=Y(),i&&!J&&(Fe?Fe.resetTo("totalProgress",vt,i._tTime/i._tDur):i.progress(vt)),Xt=xt=i&&!J?i.totalProgress():N.progress,j&&j(N),Mr&&Mr(N)}},we,pt*De,mt-we-pt*De),zt&&zt(N,Q.tween)}}else N.isActive&&Z!==we&&St.restart(!0)}).pause()),c&&(P_[c]=N),g=N.trigger=us(g||m!==!0&&m),yt=g&&g._gsap&&g._gsap.stRevert,yt&&(yt=yt(N)),m=m===!0?g:us(m),Ns(a)&&(a={targets:g,className:a}),m&&(v===!1||v===co||(v=!v&&m.parentNode&&m.parentNode.style&&uo(m.parentNode).display==="flex"?!1:Pn),N.pin=m,ee=Ze.core.getCache(m),ee.spacer?Jt=ee.pinState:($&&($=us($),$&&!$.nodeType&&($=$.current||$.nativeElement),ee.spacerIsNative=!!$,$&&(ee.spacerState=n0($))),ee.spacer=Ie=$||$r.createElement("div"),Ie.classList.add("pin-spacer"),c&&Ie.classList.add("pin-spacer-"+c),ee.pinState=Jt=n0(m)),n.force3D!==!1&&Ze.set(m,{force3D:!0}),N.spacer=Ie=ee.spacer,nt=uo(m),Gt=nt[v+H.os2],he=Ze.getProperty(m),Le=Ze.quickSetter(m,H.a,Vn),M1(m,Ie,nt),ht=n0(m)),k){jt=Su(k)?SR(k,ER):ER,le=r0("scroller-start",c,V,H,jt,0),Ye=r0("scroller-end",c,V,H,jt,0,le),se=le["offset"+H.op.d2];var at=us(_c(V,"content")||V);_e=this.markerStart=r0("start",c,at,H,jt,se,0,W),Xe=this.markerEnd=r0("end",c,at,H,jt,se,0,W),W&&(Pe=Ze.quickSetter([_e,Xe],H.a,Vn)),!A&&!(La.length&&_c(V,"fixedMarkers")===!0)&&(dne(b?Tr:V),Ze.set([le,Ye],{force3D:!0}),_t=Ze.quickSetter(le,H.a,Vn),Ct=Ze.quickSetter(Ye,H.a,Vn))}if(W){var Re=W.vars.onUpdate,Be=W.vars.onUpdateParams;W.eventCallback("onUpdate",function(){N.update(0,0,1),Re&&Re.apply(W,Be||[])})}if(N.previous=function(){return Kt[Kt.indexOf(N)-1]},N.next=function(){return Kt[Kt.indexOf(N)+1]},N.revert=function(we,Ue){if(!Ue)return N.kill(!0);var Te=we!==!1||!N.enabled,Oe=ki;Te!==N.isReverted&&(Te&&(pr=Math.max(Y(),N.scroll.rec||0),K=N.progress,qt=i&&i.progress()),_e&&[_e,Xe,le,Ye].forEach(function(mr){return mr.style.display=Te?"none":"block"}),Te&&(ki=N,N.update(Te)),m&&(!B||!N.isActive)&&(Te?gne(m,Ie,Jt):M1(m,Ie,uo(m),Qe)),Te||N.update(Te),ki=Oe,N.isReverted=Te)},N.refresh=function(we,Ue,Te,Oe){if(!((ki||!N.enabled)&&!Ue)){if(m&&we&&bo){Xn(t,"scrollEnd",B6);return}!Wi&&D&&D(N),ki=N,Q.tween&&!Te&&(Q.tween.kill(),Q.tween=0),Fe&&Fe.pause(),x&&i&&(i.revert({kill:!1}).invalidate(),i.getChildren&&i.getChildren(!0,!0,!1).forEach(function(mi){return mi.vars.immediateRender&&mi.render(0,!0,!0)})),N.isReverted||N.revert(!0,!0),N._subPinOffset=!1;var mr=E(),Ge=M(),pt=W?W.duration():Ia(V,H),Nr=De<=.01||!De,vt=0,mt=Oe||0,Ot=Su(Te)?Te.end:n.end,zt=n.endTrigger||g,gt=Su(Te)?Te.start:n.start||(n.start===0||!g?0:m?"0 0":"0 100%"),Mr=N.pinnedContainer=n.pinnedContainer&&us(n.pinnedContainer,N),Gr=g&&Math.max(0,Kt.indexOf(N))||0,vr=Gr,kr,_r,Di,Qi,Lt,Er,zn,To,hi,pi,Zr,Hn,mn;for(k&&Su(Te)&&(Hn=Ze.getProperty(le,H.p),mn=Ze.getProperty(Ye,H.p));vr-- >0;)Er=Kt[vr],Er.end||Er.refresh(0,1)||(ki=N),zn=Er.pin,zn&&(zn===g||zn===m||zn===Mr)&&!Er.isReverted&&(pi||(pi=[]),pi.unshift(Er),Er.revert(!0,!0)),Er!==Kt[vr]&&(Gr--,vr--);for(Ni(gt)&&(gt=gt(N)),gt=wR(gt,"start",N),xe=jR(gt,g,mr,H,Y(),_e,le,N,Ge,I,A,pt,W,N._startClamp&&"_startClamp")||(m?-.001:0),Ni(Ot)&&(Ot=Ot(N)),Ns(Ot)&&!Ot.indexOf("+=")&&(~Ot.indexOf(" ")?Ot=(Ns(gt)?gt.split(" ")[0]:"")+Ot:(vt=q0(Ot.substr(2),mr),Ot=Ns(gt)?gt:(W?Ze.utils.mapRange(0,W.duration(),W.scrollTrigger.start,W.scrollTrigger.end,xe):xe)+vt,zt=g)),Ot=wR(Ot,"end",N),me=Math.max(xe,jR(Ot||(zt?"100% 0":pt),zt,mr,H,Y()+vt,Xe,Ye,N,Ge,I,A,pt,W,N._endClamp&&"_endClamp"))||-.001,vt=0,vr=Gr;vr--;)Er=Kt[vr],zn=Er.pin,zn&&Er.start-Er._pinPush<=xe&&!W&&Er.end>0&&(kr=Er.end-(N._startClamp?Math.max(0,Er.start):Er.start),(zn===g&&Er.start-Er._pinPush<xe||zn===Mr)&&isNaN(gt)&&(vt+=kr*(1-Er.progress)),zn===m&&(mt+=kr));if(xe+=vt,me+=vt,N._startClamp&&(N._startClamp+=vt),N._endClamp&&!Wi&&(N._endClamp=me||-.001,me=Math.min(me,Ia(V,H))),De=me-xe||(xe-=.01)&&.001,Nr&&(K=Ze.utils.clamp(0,1,Ze.utils.normalize(xe,me,pr))),N._pinPush=mt,_e&&vt&&(kr={},kr[H.a]="+="+vt,Mr&&(kr[H.p]="-="+Y()),Ze.set([_e,Xe],kr)),m&&!(j_&&N.end>=Ia(V,H)))kr=uo(m),Qi=H===Wn,Di=Y(),Ae=parseFloat(he(H.a))+mt,!pt&&me>1&&(Zr=(b?$r.scrollingElement||Ds:V).style,Zr={style:Zr,value:Zr["overflow"+H.a.toUpperCase()]},b&&uo(Tr)["overflow"+H.a.toUpperCase()]!=="scroll"&&(Zr.style["overflow"+H.a.toUpperCase()]="scroll")),M1(m,Ie,kr),ht=n0(m),_r=hl(m,!0),To=A&&Rc(V,Qi?Ki:Wn)(),v?(Qe=[v+H.os2,De+mt+Vn],Qe.t=Ie,vr=v===Pn?Mx(m,H)+De+mt:0,vr&&(Qe.push(H.d,vr+Vn),Ie.style.flexBasis!=="auto"&&(Ie.style.flexBasis=vr+Vn)),Wf(Qe),Mr&&Kt.forEach(function(mi){mi.pin===Mr&&mi.vars.pinSpacing!==!1&&(mi._subPinOffset=!0)}),A&&Y(pr)):(vr=Mx(m,H),vr&&Ie.style.flexBasis!=="auto"&&(Ie.style.flexBasis=vr+Vn)),A&&(Lt={top:_r.top+(Qi?Di-xe:To)+Vn,left:_r.left+(Qi?To:Di-xe)+Vn,boxSizing:"border-box",position:"fixed"},Lt[qu]=Lt["max"+lh]=Math.ceil(_r.width)+Vn,Lt[Hu]=Lt["max"+x2]=Math.ceil(_r.height)+Vn,Lt[co]=Lt[co+tm]=Lt[co+Zp]=Lt[co+rm]=Lt[co+em]="0",Lt[Pn]=kr[Pn],Lt[Pn+tm]=kr[Pn+tm],Lt[Pn+Zp]=kr[Pn+Zp],Lt[Pn+rm]=kr[Pn+rm],Lt[Pn+em]=kr[Pn+em],ot=xne(Jt,Lt,B),Wi&&Y(0)),i?(hi=i._initted,A1(1),i.render(i.duration(),!0,!0),Me=he(H.a)-Ae+De+mt,Wt=Math.abs(De-Me)>1,A&&Wt&&ot.splice(ot.length-2,2),i.render(0,!0,!0),hi||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),A1(0)):Me=De,Zr&&(Zr.value?Zr.style["overflow"+H.a.toUpperCase()]=Zr.value:Zr.style.removeProperty("overflow-"+H.a));else if(g&&Y()&&!W)for(_r=g.parentNode;_r&&_r!==Tr;)_r._pinOffset&&(xe-=_r._pinOffset,me-=_r._pinOffset),_r=_r.parentNode;pi&&pi.forEach(function(mi){return mi.revert(!1,!0)}),N.start=xe,N.end=me,ne=de=Wi?pr:Y(),!W&&!Wi&&(ne<pr&&Y(pr),N.scroll.rec=0),N.revert(!1,!0),z=_i(),St&&(Z=-1,St.restart(!0)),ki=0,i&&J&&(i._initted||qt)&&i.progress()!==qt&&i.progress(qt||0,!0).render(i.time(),!0,!0),(Nr||K!==N.progress||W||x||i&&!i._initted)&&(i&&!J&&(i._initted||K||i.vars.immediateRender!==!1)&&i.totalProgress(W&&xe<-.001&&!K?Ze.utils.normalize(xe,me,0):K,!0),N.progress=Nr||(ne-xe)/De===K?0:K),m&&v&&(Ie._pinOffset=Math.round(N.progress*Me)),Fe&&Fe.invalidate(),isNaN(Hn)||(Hn-=Ze.getProperty(le,H.p),mn-=Ze.getProperty(Ye,H.p),i0(le,H,Hn),i0(_e,H,Hn-(Oe||0)),i0(Ye,H,mn),i0(Xe,H,mn-(Oe||0))),Nr&&!Wi&&N.update(),f&&!Wi&&!st&&(st=!0,f(N),st=!1)}},N.getVelocity=function(){return(Y()-de)/(_i()-jp)*1e3||0},N.endAnimation=function(){yp(N.callbackAnimation),i&&(Fe?Fe.progress(1):i.paused()?J||yp(i,N.direction<0,1):yp(i,i.reversed()))},N.labelToScroll=function(we){return i&&i.labels&&(xe||N.refresh()||xe)+i.labels[we]/i.duration()*De||0},N.getTrailing=function(we){var Ue=Kt.indexOf(N),Te=N.direction>0?Kt.slice(0,Ue).reverse():Kt.slice(Ue+1);return(Ns(we)?Te.filter(function(Oe){return Oe.vars.preventOverlaps===we}):Te).filter(function(Oe){return N.direction>0?Oe.end<=xe:Oe.start>=me})},N.update=function(we,Ue,Te){if(!(W&&!Te&&!we)){var Oe=Wi===!0?pr:N.scroll(),mr=we?0:(Oe-xe)/De,Ge=mr<0?0:mr>1?1:mr||0,pt=N.progress,Nr,vt,mt,Ot,zt,gt,Mr,Gr;if(Ue&&(de=ne,ne=W?Y():Oe,S&&(xt=Xt,Xt=i&&!J?i.totalProgress():Ge)),w&&m&&!ki&&!Xy&&bo&&(!Ge&&xe<Oe+(Oe-de)/(_i()-jp)*w?Ge=1e-4:Ge===1&&me>Oe+(Oe-de)/(_i()-jp)*w&&(Ge=.9999)),Ge!==pt&&N.enabled){if(Nr=N.isActive=!!Ge&&Ge<1,vt=!!pt&&pt<1,gt=Nr!==vt,zt=gt||!!Ge!=!!pt,N.direction=Ge>pt?1:-1,N.progress=Ge,zt&&!ki&&(mt=Ge&&!pt?0:Ge===1?1:pt===1?2:3,J&&(Ot=!gt&&R[mt+1]!=="none"&&R[mt+1]||R[mt],Gr=i&&(Ot==="complete"||Ot==="reset"||Ot in i))),q&&(gt||Gr)&&(Gr||p||!i)&&(Ni(q)?q(N):N.getTrailing(q).forEach(function(Di){return Di.endAnimation()})),J||(Fe&&!ki&&!Xy?(Fe._dp._time-Fe._start!==Fe._time&&Fe.render(Fe._dp._time-Fe._start),Fe.resetTo?Fe.resetTo("totalProgress",Ge,i._tTime/i._tDur):(Fe.vars.totalProgress=Ge,Fe.invalidate().restart())):i&&i.totalProgress(Ge,!!(ki&&(z||we)))),m){if(we&&v&&(Ie.style[v+H.os2]=Gt),!A)Le(Rp(Ae+Me*Ge));else if(zt){if(Mr=!we&&Ge>pt&&me+1>Oe&&Oe+1>=Ia(V,H),B)if(!we&&(Nr||Mr)){var vr=hl(m,!0),kr=Oe-xe;PR(m,Tr,vr.top+(H===Wn?kr:0)+Vn,vr.left+(H===Wn?0:kr)+Vn)}else PR(m,Ie);Wf(Nr||Mr?ot:ht),Wt&&Ge<1&&Nr||Le(Ae+(Ge===1&&!Mr?Me:0))}}S&&!Q.tween&&!ki&&!Xy&&St.restart(!0),a&&(gt||P&&Ge&&(Ge<1||!j1))&&Wm(a.targets).forEach(function(Di){return Di.classList[Nr||P?"add":"remove"](a.className)}),o&&!J&&!we&&o(N),zt&&!ki?(J&&(Gr&&(Ot==="complete"?i.pause().totalProgress(1):Ot==="reset"?i.restart(!0).pause():Ot==="restart"?i.restart(!0):i[Ot]()),o&&o(N)),(gt||!j1)&&(d&&gt&&R1(N,d),O[mt]&&R1(N,O[mt]),P&&(Ge===1?N.kill(!1,1):O[mt]=0),gt||(mt=Ge===1?1:3,O[mt]&&R1(N,O[mt]))),G&&!Nr&&Math.abs(N.getVelocity())>(Ip(G)?G:2500)&&(yp(N.callbackAnimation),Fe?Fe.progress(1):yp(i,Ot==="reverse"?1:!Ge,1))):J&&o&&!ki&&o(N)}if(Ct){var _r=W?Oe/W.duration()*(W._caScrollDist||0):Oe;_t(_r+(le._isFlipped?1:0)),Ct(_r)}Pe&&Pe(-Oe/W.duration()*(W._caScrollDist||0))}},N.enable=function(we,Ue){N.enabled||(N.enabled=!0,Xn(V,"resize",Mp),b||Xn(V,"scroll",ef),D&&Xn(t,"refreshInit",D),we!==!1&&(N.progress=K=0,ne=de=Z=Y()),Ue!==!1&&N.refresh())},N.getTween=function(we){return we&&Q?Q.tween:Fe},N.setPositions=function(we,Ue,Te,Oe){if(W){var mr=W.scrollTrigger,Ge=W.duration(),pt=mr.end-mr.start;we=mr.start+pt*we/Ge,Ue=mr.start+pt*Ue/Ge}N.refresh(!1,!1,{start:kR(we,Te&&!!N._startClamp),end:kR(Ue,Te&&!!N._endClamp)},Oe),N.update()},N.adjustPinSpacing=function(we){if(Qe&&we){var Ue=Qe.indexOf(H.d)+1;Qe[Ue]=parseFloat(Qe[Ue])+we+Vn,Qe[1]=parseFloat(Qe[1])+we+Vn,Wf(Qe)}},N.disable=function(we,Ue){if(N.enabled&&(we!==!1&&N.revert(!0,!0),N.enabled=N.isActive=!1,Ue||Fe&&Fe.pause(),pr=0,ee&&(ee.uncache=1),D&&Jn(t,"refreshInit",D),St&&(St.pause(),Q.tween&&Q.tween.kill()&&(Q.tween=0)),!b)){for(var Te=Kt.length;Te--;)if(Kt[Te].scroller===V&&Kt[Te]!==N)return;Jn(V,"resize",Mp),b||Jn(V,"scroll",ef)}},N.kill=function(we,Ue){N.disable(we,Ue),Fe&&!Ue&&Fe.kill(),c&&delete P_[c];var Te=Kt.indexOf(N);Te>=0&&Kt.splice(Te,1),Te===Vi&&G0>0&&Vi--,Te=0,Kt.forEach(function(Oe){return Oe.scroller===N.scroller&&(Te=1)}),Te||Wi||(N.scroll.rec=0),i&&(i.scrollTrigger=null,we&&i.revert({kill:!1}),Ue||i.kill()),_e&&[_e,Xe,le,Ye].forEach(function(Oe){return Oe.parentNode&&Oe.parentNode.removeChild(Oe)}),nm===N&&(nm=0),m&&(ee&&(ee.uncache=1),Te=0,Kt.forEach(function(Oe){return Oe.pin===m&&Te++}),Te||(ee.spacer=0)),n.onKill&&n.onKill(N)},Kt.push(N),N.enable(!1,!1),yt&&yt(N),i&&i.add&&!De){var ze=N.update;N.update=function(){N.update=ze,tr.cache++,xe||me||N.refresh()},Ze.delayedCall(.01,N.update),De=.01,xe=me=0}else N.refresh();m&&mne()},t.register=function(n){return df||(Ze=n||M6(),I6()&&window.document&&t.enable(),df=Pp),df},t.defaults=function(n){if(n)for(var i in n)t0[i]=n[i];return t0},t.disable=function(n,i){Pp=0,Kt.forEach(function(o){return o[i?"kill":"disable"](n)}),Jn(er,"wheel",ef),Jn($r,"scroll",ef),clearInterval(Jy),Jn($r,"touchcancel",Sa),Jn(Tr,"touchstart",Sa),Zy(Jn,$r,"pointerdown,touchstart,mousedown",_R),Zy(Jn,$r,"pointerup,touchend,mouseup",CR),Rx.kill(),Qy(Jn);for(var s=0;s<tr.length;s+=3)e0(Jn,tr[s],tr[s+1]),e0(Jn,tr[s],tr[s+2])},t.enable=function(){if(er=window,$r=document,Ds=$r.documentElement,Tr=$r.body,Ze&&(Wm=Ze.utils.toArray,Qp=Ze.utils.clamp,A_=Ze.core.context||Sa,A1=Ze.core.suppressOverwrites||Sa,p2=er.history.scrollRestoration||"auto",R_=er.pageYOffset||0,Ze.core.globals("ScrollTrigger",t),Tr)){Pp=1,Vf=document.createElement("div"),Vf.style.height="100vh",Vf.style.position="absolute",V6(),lne(),_n.register(Ze),t.isTouch=_n.isTouch,sc=_n.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),N_=_n.isTouch===1,Xn(er,"wheel",ef),h2=[er,$r,Ds,Tr],Ze.matchMedia?(t.matchMedia=function(d){var f=Ze.matchMedia(),p;for(p in d)f.add(p,d[p]);return f},Ze.addEventListener("matchMediaInit",function(){return b2()}),Ze.addEventListener("matchMediaRevert",function(){return $6()}),Ze.addEventListener("matchMedia",function(){Du(0,1),ud("matchMedia")}),Ze.matchMedia().add("(orientation: portrait)",function(){return I1(),I1})):console.warn("Requires GSAP 3.11.0 or later"),I1(),Xn($r,"scroll",ef);var n=Tr.hasAttribute("style"),i=Tr.style,s=i.borderTopStyle,o=Ze.core.Animation.prototype,a,c;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",a=hl(Tr),Wn.m=Math.round(a.top+Wn.sc())||0,Ki.m=Math.round(a.left+Ki.sc())||0,s?i.borderTopStyle=s:i.removeProperty("border-top-style"),n||(Tr.setAttribute("style",""),Tr.removeAttribute("style")),Jy=setInterval(TR,250),Ze.delayedCall(.5,function(){return Xy=0}),Xn($r,"touchcancel",Sa),Xn(Tr,"touchstart",Sa),Zy(Xn,$r,"pointerdown,touchstart,mousedown",_R),Zy(Xn,$r,"pointerup,touchend,mouseup",CR),T_=Ze.utils.checkPrefix("transform"),K0.push(T_),df=_i(),Rx=Ze.delayedCall(.2,Du).pause(),ff=[$r,"visibilitychange",function(){var d=er.innerWidth,f=er.innerHeight;$r.hidden?(vR=d,bR=f):(vR!==d||bR!==f)&&Mp()},$r,"DOMContentLoaded",Du,er,"load",Du,er,"resize",Mp],Qy(Xn),Kt.forEach(function(d){return d.enable(0,1)}),c=0;c<tr.length;c+=3)e0(Jn,tr[c],tr[c+1]),e0(Jn,tr[c],tr[c+2])}},t.config=function(n){"limitCallbacks"in n&&(j1=!!n.limitCallbacks);var i=n.syncInterval;i&&clearInterval(Jy)||(Jy=i)&&setInterval(TR,i),"ignoreMobileResize"in n&&(N_=t.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(Qy(Jn)||Qy(Xn,n.autoRefreshEvents||"none"),j6=(n.autoRefreshEvents+"").indexOf("resize")===-1)},t.scrollerProxy=function(n,i){var s=us(n),o=tr.indexOf(s),a=ld(s);~o&&tr.splice(o,a?6:2),i&&(a?La.unshift(er,i,Tr,i,Ds,i):La.unshift(s,i))},t.clearMatchMedia=function(n){Kt.forEach(function(i){return i._ctx&&i._ctx.query===n&&i._ctx.kill(!0,!0)})},t.isInViewport=function(n,i,s){var o=(Ns(n)?us(n):n).getBoundingClientRect(),a=o[s?qu:Hu]*i||0;return s?o.right-a>0&&o.left+a<er.innerWidth:o.bottom-a>0&&o.top+a<er.innerHeight},t.positionInViewport=function(n,i,s){Ns(n)&&(n=us(n));var o=n.getBoundingClientRect(),a=o[s?qu:Hu],c=i==null?a/2:i in Dx?Dx[i]*a:~i.indexOf("%")?parseFloat(i)*a/100:parseFloat(i)||0;return s?(o.left+c)/er.innerWidth:(o.top+c)/er.innerHeight},t.killAll=function(n){if(Kt.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),n!==!0){var i=cd.killAll||[];cd={},i.forEach(function(s){return s()})}},t}();rr.version="3.13.0";rr.saveStyles=function(t){return t?Wm(t).forEach(function(e){if(e&&e.style){var r=Ts.indexOf(e);r>=0&&Ts.splice(r,5),Ts.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Ze.core.getCache(e),A_())}}):Ts};rr.revert=function(t,e){return b2(!t,e)};rr.create=function(t,e){return new rr(t,e)};rr.refresh=function(t){return t?Mp(!0):(df||rr.register())&&Du(!0)};rr.update=function(t){return++tr.cache&&vl(t===!0?2:0)};rr.clearScrollMemory=U6;rr.maxScroll=function(t,e){return Ia(t,e?Ki:Wn)};rr.getScrollFunc=function(t,e){return Rc(us(t),e?Ki:Wn)};rr.getById=function(t){return P_[t]};rr.getAll=function(){return Kt.filter(function(t){return t.vars.id!=="ScrollSmoother"})};rr.isScrolling=function(){return!!bo};rr.snapDirectional=v2;rr.addEventListener=function(t,e){var r=cd[t]||(cd[t]=[]);~r.indexOf(e)||r.push(e)};rr.removeEventListener=function(t,e){var r=cd[t],n=r&&r.indexOf(e);n>=0&&r.splice(n,1)};rr.batch=function(t,e){var r=[],n={},i=e.interval||.016,s=e.batchMax||1e9,o=function(d,f){var p=[],g=[],m=Ze.delayedCall(i,function(){f(p,g),p=[],g=[]}).pause();return function(v){p.length||m.restart(!0),p.push(v.trigger),g.push(v),s<=p.length&&m.progress(1)}},a;for(a in e)n[a]=a.substr(0,2)==="on"&&Ni(e[a])&&a!=="onRefreshInit"?o(a,e[a]):e[a];return Ni(s)&&(s=s(),Xn(rr,"refresh",function(){return s=e.batchMax()})),Wm(t).forEach(function(c){var d={};for(a in n)d[a]=n[a];d.trigger=c,r.push(rr.create(d))}),r};var IR=function(e,r,n,i){return r>i?e(i):r<0&&e(0),n>i?(i-r)/(n-r):n<0?r/(r-n):1},D1=function t(e,r){r===!0?e.style.removeProperty("touch-action"):e.style.touchAction=r===!0?"auto":r?"pan-"+r+(_n.isTouch?" pinch-zoom":""):"none",e===Ds&&t(Tr,r)},s0={auto:1,scroll:1},bne=function(e){var r=e.event,n=e.target,i=e.axis,s=(r.changedTouches?r.changedTouches[0]:r).target,o=s._gsap||Ze.core.getCache(s),a=_i(),c;if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s!==Tr&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(s0[(c=uo(s)).overflowY]||s0[c.overflowX]));)s=s.parentNode;o._isScroll=s&&s!==n&&!ld(s)&&(s0[(c=uo(s)).overflowY]||s0[c.overflowX]),o._isScrollT=a}(o._isScroll||i==="x")&&(r.stopPropagation(),r._gsapAllow=!0)},q6=function(e,r,n,i){return _n.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:i=i&&bne,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return n&&Xn($r,_n.eventTypes[0],DR,!1,!0)},onDisable:function(){return Jn($r,_n.eventTypes[0],DR,!0)}})},wne=/(input|label|select|textarea)/i,MR,DR=function(e){var r=wne.test(e.target.tagName);(r||MR)&&(e._gsapAllow=!0,MR=r)},kne=function(e){Su(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var r=e,n=r.normalizeScrollX,i=r.momentum,s=r.allowNestedScroll,o=r.onRelease,a,c,d=us(e.target)||Ds,f=Ze.core.globals().ScrollSmoother,p=f&&f.get(),g=sc&&(e.content&&us(e.content)||p&&e.content!==!1&&!p.smooth()&&p.content()),m=Rc(d,Wn),v=Rc(d,Ki),x=1,w=(_n.isTouch&&er.visualViewport?er.visualViewport.scale*er.visualViewport.width:er.outerWidth)/er.innerWidth,T=0,j=Ni(i)?function(){return i(a)}:function(){return i||2.8},P,S,B=q6(d,e.type,!0,s),$=function(){return S=!1},W=Sa,G=Sa,q=function(){c=Ia(d,Wn),G=Qp(sc?1:0,c),n&&(W=Qp(0,Ia(d,Ki))),P=Gu},H=function(){g._gsap.y=Rp(parseFloat(g._gsap.y)+m.offset)+"px",g.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(g._gsap.y)+", 0, 1)",m.offset=m.cacheID=0},J=function(){if(S){requestAnimationFrame($);var k=Rp(a.deltaY/2),I=G(m.v-k);if(g&&I!==m.v+m.offset){m.offset=I-m.v;var N=Rp((parseFloat(g&&g._gsap.y)||0)-m.offset);g.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+N+", 0, 1)",g._gsap.y=N+"px",m.cacheID=tr.cache,vl()}return!0}m.offset&&H(),S=!0},V,F,b,A,O=function(){q(),V.isActive()&&V.vars.scrollY>c&&(m()>c?V.progress(1)&&m(c):V.resetTo("scrollY",c))};return g&&Ze.set(g,{y:"+=0"}),e.ignoreCheck=function(R){return sc&&R.type==="touchmove"&&J()||x>1.05&&R.type!=="touchstart"||a.isGesturing||R.touches&&R.touches.length>1},e.onPress=function(){S=!1;var R=x;x=Rp((er.visualViewport&&er.visualViewport.scale||1)/w),V.pause(),R!==x&&D1(d,x>1.01?!0:n?!1:"x"),F=v(),b=m(),q(),P=Gu},e.onRelease=e.onGestureStart=function(R,k){if(m.offset&&H(),!k)A.restart(!0);else{tr.cache++;var I=j(),N,D;n&&(N=v(),D=N+I*.05*-R.velocityX/.227,I*=IR(v,N,D,Ia(d,Ki)),V.vars.scrollX=W(D)),N=m(),D=N+I*.05*-R.velocityY/.227,I*=IR(m,N,D,Ia(d,Wn)),V.vars.scrollY=G(D),V.invalidate().duration(I).play(.01),(sc&&V.vars.scrollY>=c||N>=c-1)&&Ze.to({},{onUpdate:O,duration:I})}o&&o(R)},e.onWheel=function(){V._ts&&V.pause(),_i()-T>1e3&&(P=0,T=_i())},e.onChange=function(R,k,I,N,D){if(Gu!==P&&q(),k&&n&&v(W(N[2]===k?F+(R.startX-R.x):v()+k-N[1])),I){m.offset&&H();var E=D[2]===I,M=E?b+R.startY-R.y:m()+I-D[1],Z=G(M);E&&M!==Z&&(b+=Z-M),m(Z)}(I||k)&&vl()},e.onEnable=function(){D1(d,n?!1:"x"),rr.addEventListener("refresh",O),Xn(er,"resize",O),m.smooth&&(m.target.style.scrollBehavior="auto",m.smooth=v.smooth=!1),B.enable()},e.onDisable=function(){D1(d,!0),Jn(er,"resize",O),rr.removeEventListener("refresh",O),B.kill()},e.lockAxis=e.lockAxis!==!1,a=new _n(e),a.iOS=sc,sc&&!m()&&m(1),sc&&Ze.ticker.add(Sa),A=a._dc,V=Ze.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:W6(m,m(),function(){return V.pause()})},onUpdate:vl,onComplete:A.vars.onComplete}),a};rr.sort=function(t){if(Ni(t))return Kt.sort(t);var e=er.pageYOffset||0;return rr.getAll().forEach(function(r){return r._sortY=r.trigger?e+r.trigger.getBoundingClientRect().top:r.start+er.innerHeight}),Kt.sort(t||function(r,n){return(r.vars.refreshPriority||0)*-1e6+(r.vars.containerAnimation?1e6:r._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};rr.observe=function(t){return new _n(t)};rr.normalizeScroll=function(t){if(typeof t>"u")return Ui;if(t===!0&&Ui)return Ui.enable();if(t===!1){Ui&&Ui.kill(),Ui=t;return}var e=t instanceof _n?t:kne(t);return Ui&&Ui.target===e.target&&Ui.kill(),ld(e.target)&&(Ui=e),e};rr.core={_getVelocityProp:E_,_inputObserver:q6,_scrollers:tr,_proxies:La,bridge:{ss:function(){bo||ud("scrollStart"),bo=_i()},ref:function(){return ki}}};M6()&&Ze.registerPlugin(rr);function _ne(t,e){const r={};return(t[t.length-1]===""?[...t,""]:t).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const Cne=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Sne=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Ene={};function OR(t,e){return(Ene.jsx?Sne:Cne).test(t)}const Tne=/[ \t\n\f\r]/g;function Nne(t){return typeof t=="object"?t.type==="text"?LR(t.value):!1:LR(t)}function LR(t){return t.replace(Tne,"")===""}class vg{constructor(e,r,n){this.normal=r,this.property=e,n&&(this.space=n)}}vg.prototype.normal={};vg.prototype.property={};vg.prototype.space=void 0;function H6(t,e){const r={},n={};for(const i of t)Object.assign(r,i.property),Object.assign(n,i.normal);return new vg(r,n,e)}function M_(t){return t.toLowerCase()}class vs{constructor(e,r){this.attribute=r,this.property=e}}vs.prototype.attribute="";vs.prototype.booleanish=!1;vs.prototype.boolean=!1;vs.prototype.commaOrSpaceSeparated=!1;vs.prototype.commaSeparated=!1;vs.prototype.defined=!1;vs.prototype.mustUseProperty=!1;vs.prototype.number=!1;vs.prototype.overloadedBoolean=!1;vs.prototype.property="";vs.prototype.spaceSeparated=!1;vs.prototype.space=void 0;let Ane=0;const Ut=vd(),Nn=vd(),D_=vd(),Ne=vd(),Ur=vd(),qf=vd(),Ss=vd();function vd(){return 2**++Ane}const O_=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ut,booleanish:Nn,commaOrSpaceSeparated:Ss,commaSeparated:qf,number:Ne,overloadedBoolean:D_,spaceSeparated:Ur},Symbol.toStringTag,{value:"Module"})),O1=Object.keys(O_);class w2 extends vs{constructor(e,r,n,i){let s=-1;if(super(e,r),FR(this,"space",i),typeof n=="number")for(;++s<O1.length;){const o=O1[s];FR(this,O1[s],(n&O_[o])===O_[o])}}}w2.prototype.defined=!0;function FR(t,e,r){r&&(t[e]=r)}function Sh(t){const e={},r={};for(const[n,i]of Object.entries(t.properties)){const s=new w2(n,t.transform(t.attributes||{},n),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(n)&&(s.mustUseProperty=!0),e[n]=s,r[M_(n)]=n,r[M_(s.attribute)]=n}return new vg(e,r,t.space)}const G6=Sh({properties:{ariaActiveDescendant:null,ariaAtomic:Nn,ariaAutoComplete:null,ariaBusy:Nn,ariaChecked:Nn,ariaColCount:Ne,ariaColIndex:Ne,ariaColSpan:Ne,ariaControls:Ur,ariaCurrent:null,ariaDescribedBy:Ur,ariaDetails:null,ariaDisabled:Nn,ariaDropEffect:Ur,ariaErrorMessage:null,ariaExpanded:Nn,ariaFlowTo:Ur,ariaGrabbed:Nn,ariaHasPopup:null,ariaHidden:Nn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ur,ariaLevel:Ne,ariaLive:null,ariaModal:Nn,ariaMultiLine:Nn,ariaMultiSelectable:Nn,ariaOrientation:null,ariaOwns:Ur,ariaPlaceholder:null,ariaPosInSet:Ne,ariaPressed:Nn,ariaReadOnly:Nn,ariaRelevant:null,ariaRequired:Nn,ariaRoleDescription:Ur,ariaRowCount:Ne,ariaRowIndex:Ne,ariaRowSpan:Ne,ariaSelected:Nn,ariaSetSize:Ne,ariaSort:null,ariaValueMax:Ne,ariaValueMin:Ne,ariaValueNow:Ne,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function K6(t,e){return e in t?t[e]:e}function Y6(t,e){return K6(t,e.toLowerCase())}const jne=Sh({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:qf,acceptCharset:Ur,accessKey:Ur,action:null,allow:null,allowFullScreen:Ut,allowPaymentRequest:Ut,allowUserMedia:Ut,alt:null,as:null,async:Ut,autoCapitalize:null,autoComplete:Ur,autoFocus:Ut,autoPlay:Ut,blocking:Ur,capture:null,charSet:null,checked:Ut,cite:null,className:Ur,cols:Ne,colSpan:null,content:null,contentEditable:Nn,controls:Ut,controlsList:Ur,coords:Ne|qf,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ut,defer:Ut,dir:null,dirName:null,disabled:Ut,download:D_,draggable:Nn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ut,formTarget:null,headers:Ur,height:Ne,hidden:D_,high:Ne,href:null,hrefLang:null,htmlFor:Ur,httpEquiv:Ur,id:null,imageSizes:null,imageSrcSet:null,inert:Ut,inputMode:null,integrity:null,is:null,isMap:Ut,itemId:null,itemProp:Ur,itemRef:Ur,itemScope:Ut,itemType:Ur,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ut,low:Ne,manifest:null,max:null,maxLength:Ne,media:null,method:null,min:null,minLength:Ne,multiple:Ut,muted:Ut,name:null,nonce:null,noModule:Ut,noValidate:Ut,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ut,optimum:Ne,pattern:null,ping:Ur,placeholder:null,playsInline:Ut,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ut,referrerPolicy:null,rel:Ur,required:Ut,reversed:Ut,rows:Ne,rowSpan:Ne,sandbox:Ur,scope:null,scoped:Ut,seamless:Ut,selected:Ut,shadowRootClonable:Ut,shadowRootDelegatesFocus:Ut,shadowRootMode:null,shape:null,size:Ne,sizes:null,slot:null,span:Ne,spellCheck:Nn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ne,step:null,style:null,tabIndex:Ne,target:null,title:null,translate:null,type:null,typeMustMatch:Ut,useMap:null,value:Nn,width:Ne,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ur,axis:null,background:null,bgColor:null,border:Ne,borderColor:null,bottomMargin:Ne,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ut,declare:Ut,event:null,face:null,frame:null,frameBorder:null,hSpace:Ne,leftMargin:Ne,link:null,longDesc:null,lowSrc:null,marginHeight:Ne,marginWidth:Ne,noResize:Ut,noHref:Ut,noShade:Ut,noWrap:Ut,object:null,profile:null,prompt:null,rev:null,rightMargin:Ne,rules:null,scheme:null,scrolling:Nn,standby:null,summary:null,text:null,topMargin:Ne,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ne,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ut,disableRemotePlayback:Ut,prefix:null,property:null,results:Ne,security:null,unselectable:null},space:"html",transform:Y6}),Pne=Sh({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ss,accentHeight:Ne,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ne,amplitude:Ne,arabicForm:null,ascent:Ne,attributeName:null,attributeType:null,azimuth:Ne,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ne,by:null,calcMode:null,capHeight:Ne,className:Ur,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ne,diffuseConstant:Ne,direction:null,display:null,dur:null,divisor:Ne,dominantBaseline:null,download:Ut,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ne,enableBackground:null,end:null,event:null,exponent:Ne,externalResourcesRequired:null,fill:null,fillOpacity:Ne,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:qf,g2:qf,glyphName:qf,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ne,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ne,horizOriginX:Ne,horizOriginY:Ne,id:null,ideographic:Ne,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ne,k:Ne,k1:Ne,k2:Ne,k3:Ne,k4:Ne,kernelMatrix:Ss,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ne,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ne,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ne,overlineThickness:Ne,paintOrder:null,panose1:null,path:null,pathLength:Ne,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ur,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ne,pointsAtY:Ne,pointsAtZ:Ne,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ss,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ss,rev:Ss,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ss,requiredFeatures:Ss,requiredFonts:Ss,requiredFormats:Ss,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ne,specularExponent:Ne,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ne,strikethroughThickness:Ne,string:null,stroke:null,strokeDashArray:Ss,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ne,strokeOpacity:Ne,strokeWidth:null,style:null,surfaceScale:Ne,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ss,tabIndex:Ne,tableValues:null,target:null,targetX:Ne,targetY:Ne,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ss,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ne,underlineThickness:Ne,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ne,values:null,vAlphabetic:Ne,vMathematical:Ne,vectorEffect:null,vHanging:Ne,vIdeographic:Ne,version:null,vertAdvY:Ne,vertOriginX:Ne,vertOriginY:Ne,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ne,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:K6}),J6=Sh({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),X6=Sh({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Y6}),Q6=Sh({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Rne={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Ine=/[A-Z]/g,zR=/-[a-z]/g,Mne=/^data[-\w.:]+$/i;function Dne(t,e){const r=M_(e);let n=e,i=vs;if(r in t.normal)return t.property[t.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&Mne.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(zR,Lne);n="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!zR.test(s)){let o=s.replace(Ine,One);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=w2}return new i(n,e)}function One(t){return"-"+t.toLowerCase()}function Lne(t){return t.charAt(1).toUpperCase()}const Fne=H6([G6,jne,J6,X6,Q6],"html"),k2=H6([G6,Pne,J6,X6,Q6],"svg");function zne(t){return t.join(" ").trim()}var tf={},L1,BR;function Bne(){if(BR)return L1;BR=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,c=`
`,d="/",f="*",p="",g="comment",m="declaration";L1=function(x,w){if(typeof x!="string")throw new TypeError("First argument must be a string");if(!x)return[];w=w||{};var T=1,j=1;function P(F){var b=F.match(e);b&&(T+=b.length);var A=F.lastIndexOf(c);j=~A?F.length-A:j+F.length}function S(){var F={line:T,column:j};return function(b){return b.position=new B(F),G(),b}}function B(F){this.start=F,this.end={line:T,column:j},this.source=w.source}B.prototype.content=x;function $(F){var b=new Error(w.source+":"+T+":"+j+": "+F);if(b.reason=F,b.filename=w.source,b.line=T,b.column=j,b.source=x,!w.silent)throw b}function W(F){var b=F.exec(x);if(b){var A=b[0];return P(A),x=x.slice(A.length),b}}function G(){W(r)}function q(F){var b;for(F=F||[];b=H();)b!==!1&&F.push(b);return F}function H(){var F=S();if(!(d!=x.charAt(0)||f!=x.charAt(1))){for(var b=2;p!=x.charAt(b)&&(f!=x.charAt(b)||d!=x.charAt(b+1));)++b;if(b+=2,p===x.charAt(b-1))return $("End of comment missing");var A=x.slice(2,b-2);return j+=2,P(A),x=x.slice(b),j+=2,F({type:g,comment:A})}}function J(){var F=S(),b=W(n);if(b){if(H(),!W(i))return $("property missing ':'");var A=W(s),O=F({type:m,property:v(b[0].replace(t,p)),value:A?v(A[0].replace(t,p)):p});return W(o),O}}function V(){var F=[];q(F);for(var b;b=J();)b!==!1&&(F.push(b),q(F));return F}return G(),V()};function v(x){return x?x.replace(a,p):p}return L1}var $R;function $ne(){if($R)return tf;$R=1;var t=tf&&tf.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(tf,"__esModule",{value:!0}),tf.default=r;var e=t(Bne());function r(n,i){var s=null;if(!n||typeof n!="string")return s;var o=(0,e.default)(n),a=typeof i=="function";return o.forEach(function(c){if(c.type==="declaration"){var d=c.property,f=c.value;a?i(d,f,c):f&&(s=s||{},s[d]=f)}}),s}return tf}var xp={},UR;function Une(){if(UR)return xp;UR=1,Object.defineProperty(xp,"__esModule",{value:!0}),xp.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,r=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(d){return!d||r.test(d)||t.test(d)},o=function(d,f){return f.toUpperCase()},a=function(d,f){return"".concat(f,"-")},c=function(d,f){return f===void 0&&(f={}),s(d)?d:(d=d.toLowerCase(),f.reactCompat?d=d.replace(i,a):d=d.replace(n,a),d.replace(e,o))};return xp.camelCase=c,xp}var vp,VR;function Vne(){if(VR)return vp;VR=1;var t=vp&&vp.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t($ne()),r=Une();function n(i,s){var o={};return!i||typeof i!="string"||(0,e.default)(i,function(a,c){a&&c&&(o[(0,r.camelCase)(a,s)]=c)}),o}return n.default=n,vp=n,vp}var Wne=Vne();const qne=El(Wne),Z6=eF("end"),_2=eF("start");function eF(t){return e;function e(r){const n=r&&r.position&&r.position[t]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function Hne(t){const e=_2(t),r=Z6(t);if(e&&r)return{start:e,end:r}}function im(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?WR(t.position):"start"in t||"end"in t?WR(t):"line"in t||"column"in t?L_(t):""}function L_(t){return qR(t&&t.line)+":"+qR(t&&t.column)}function WR(t){return L_(t&&t.start)+"-"+L_(t&&t.end)}function qR(t){return t&&typeof t=="number"?t:1}class Mi extends Error{constructor(e,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",s={},o=!1;if(r&&("line"in r&&"column"in r?s={place:r}:"start"in r&&"end"in r?s={place:r}:"type"in r?s={ancestors:[r],place:r.position}:s={...r}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof n=="string"){const c=n.indexOf(":");c===-1?s.ruleId=n:(s.source=n.slice(0,c),s.ruleId=n.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=im(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Mi.prototype.file="";Mi.prototype.name="";Mi.prototype.reason="";Mi.prototype.message="";Mi.prototype.stack="";Mi.prototype.column=void 0;Mi.prototype.line=void 0;Mi.prototype.ancestors=void 0;Mi.prototype.cause=void 0;Mi.prototype.fatal=void 0;Mi.prototype.place=void 0;Mi.prototype.ruleId=void 0;Mi.prototype.source=void 0;const C2={}.hasOwnProperty,Gne=new Map,Kne=/[A-Z]/g,Yne=new Set(["table","tbody","thead","tfoot","tr"]),Jne=new Set(["td","th"]),tF="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Xne(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=e.filePath||void 0;let n;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=sie(r,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=iie(r,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:n,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?k2:Fne,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=rF(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function rF(t,e,r){if(e.type==="element")return Qne(t,e,r);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Zne(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return tie(t,e,r);if(e.type==="mdxjsEsm")return eie(t,e);if(e.type==="root")return rie(t,e,r);if(e.type==="text")return nie(t,e)}function Qne(t,e,r){const n=t.schema;let i=n;e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=k2,t.schema=i),t.ancestors.push(e);const s=iF(t,e.tagName,!1),o=oie(t,e);let a=E2(t,e);return Yne.has(e.tagName)&&(a=a.filter(function(c){return typeof c=="string"?!Nne(c):!0})),nF(t,o,s,e),S2(o,a),t.ancestors.pop(),t.schema=n,t.create(e,s,o,r)}function Zne(t,e){if(e.data&&e.data.estree&&t.evaluater){const n=e.data.estree.body[0];return n.type,t.evaluater.evaluateExpression(n.expression)}Hm(t,e.position)}function eie(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Hm(t,e.position)}function tie(t,e,r){const n=t.schema;let i=n;e.name==="svg"&&n.space==="html"&&(i=k2,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:iF(t,e.name,!0),o=aie(t,e),a=E2(t,e);return nF(t,o,s,e),S2(o,a),t.ancestors.pop(),t.schema=n,t.create(e,s,o,r)}function rie(t,e,r){const n={};return S2(n,E2(t,e)),t.create(e,t.Fragment,n,r)}function nie(t,e){return e.value}function nF(t,e,r,n){typeof r!="string"&&r!==t.Fragment&&t.passNode&&(e.node=n)}function S2(t,e){if(e.length>0){const r=e.length>1?e:e[0];r&&(t.children=r)}}function iie(t,e,r){return n;function n(i,s,o,a){const d=Array.isArray(o.children)?r:e;return a?d(s,o,a):d(s,o)}}function sie(t,e){return r;function r(n,i,s,o){const a=Array.isArray(s.children),c=_2(n);return e(i,s,o,a,{columnNumber:c?c.column-1:void 0,fileName:t,lineNumber:c?c.line:void 0},void 0)}}function oie(t,e){const r={};let n,i;for(i in e.properties)if(i!=="children"&&C2.call(e.properties,i)){const s=lie(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&Jne.has(e.tagName)?n=a:r[o]=a}}if(n){const s=r.style||(r.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function aie(t,e){const r={};for(const n of e.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&t.evaluater){const s=n.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(r,t.evaluater.evaluateExpression(a.argument))}else Hm(t,e.position);else{const i=n.name;let s;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&t.evaluater){const a=n.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else Hm(t,e.position);else s=n.value===null?!0:n.value;r[i]=s}return r}function E2(t,e){const r=[];let n=-1;const i=t.passKeys?new Map:Gne;for(;++n<e.children.length;){const s=e.children[n];let o;if(t.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const d=i.get(c)||0;o=c+"-"+d,i.set(c,d+1)}}const a=rF(t,s,o);a!==void 0&&r.push(a)}return r}function lie(t,e,r){const n=Dne(t.schema,e);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?_ne(r):zne(r)),n.property==="style"){let i=typeof r=="object"?r:cie(t,String(r));return t.stylePropertyNameCase==="css"&&(i=uie(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&n.space?Rne[n.property]||n.property:n.attribute,r]}}function cie(t,e){try{return qne(e,{reactCompat:!0})}catch(r){if(t.ignoreInvalidStyle)return{};const n=r,i=new Mi("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=tF+"#cannot-parse-style-attribute",i}}function iF(t,e,r){let n;if(!r)n={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=OR(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}n=o}else n=OR(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(n.type==="Literal"){const i=n.value;return C2.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(n);Hm(t)}function Hm(t,e){const r=new Mi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=t.filePath||void 0,r.url=tF+"#cannot-handle-mdx-estrees-without-createevaluater",r}function uie(t){const e={};let r;for(r in t)C2.call(t,r)&&(e[die(r)]=t[r]);return e}function die(t){let e=t.replace(Kne,fie);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function fie(t){return"-"+t.toLowerCase()}const F1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},hie={};function T2(t,e){const r=hie,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return sF(t,n,i)}function sF(t,e,r){if(pie(t)){if("value"in t)return t.type==="html"&&!r?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return HR(t.children,e,r)}return Array.isArray(t)?HR(t,e,r):""}function HR(t,e,r){const n=[];let i=-1;for(;++i<t.length;)n[i]=sF(t[i],e,r);return n.join("")}function pie(t){return!!(t&&typeof t=="object")}const GR=document.createElement("i");function N2(t){const e="&"+t+";";GR.innerHTML=e;const r=GR.textContent;return r.charCodeAt(r.length-1)===59&&t!=="semi"||r===e?!1:r}function Ks(t,e,r,n){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,r=r>0?r:0,n.length<1e4)o=Array.from(n),o.unshift(e,r),t.splice(...o);else for(r&&t.splice(e,r);s<n.length;)o=n.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function fo(t,e){return t.length>0?(Ks(t,t.length,0,e),t):e}const KR={}.hasOwnProperty;function oF(t){const e={};let r=-1;for(;++r<t.length;)mie(e,t[r]);return e}function mie(t,e){let r;for(r in e){const i=(KR.call(t,r)?t[r]:void 0)||(t[r]={}),s=e[r];let o;if(s)for(o in s){KR.call(i,o)||(i[o]=[]);const a=s[o];gie(i[o],Array.isArray(a)?a:a?[a]:[])}}}function gie(t,e){let r=-1;const n=[];for(;++r<e.length;)(e[r].add==="after"?t:n).push(e[r]);Ks(t,0,0,n)}function aF(t,e){const r=Number.parseInt(t,e);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function ta(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Yi=$c(/[A-Za-z]/),Pi=$c(/[\dA-Za-z]/),yie=$c(/[#-'*+\--9=?A-Z^-~]/);function Ox(t){return t!==null&&(t<32||t===127)}const F_=$c(/\d/),xie=$c(/[\dA-Fa-f]/),vie=$c(/[!-/:-@[-`{-~]/);function kt(t){return t!==null&&t<-2}function Fr(t){return t!==null&&(t<0||t===32)}function lr(t){return t===-2||t===-1||t===32}const Av=$c(new RegExp("\\p{P}|\\p{S}","u")),dd=$c(/\s/);function $c(t){return e;function e(r){return r!==null&&r>-1&&t.test(String.fromCharCode(r))}}function Eh(t){const e=[];let r=-1,n=0,i=0;for(;++r<t.length;){const s=t.charCodeAt(r);let o="";if(s===37&&Pi(t.charCodeAt(r+1))&&Pi(t.charCodeAt(r+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(r+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(n,r),encodeURIComponent(o)),n=r+i+1,o=""),i&&(r+=i,i=0)}return e.join("")+t.slice(n)}function hr(t,e,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(c){return lr(c)?(t.enter(r),a(c)):e(c)}function a(c){return lr(c)&&s++<i?(t.consume(c),a):(t.exit(r),e(c))}}const bie={tokenize:wie};function wie(t){const e=t.attempt(this.parser.constructs.contentInitial,n,i);let r;return e;function n(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),hr(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const c=t.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=c),r=c,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return kt(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const kie={tokenize:_ie},YR={tokenize:Cie};function _ie(t){const e=this,r=[];let n=0,i,s,o;return a;function a(P){if(n<r.length){const S=r[n];return e.containerState=S[1],t.attempt(S[0].continuation,c,d)(P)}return d(P)}function c(P){if(n++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&j();const S=e.events.length;let B=S,$;for(;B--;)if(e.events[B][0]==="exit"&&e.events[B][1].type==="chunkFlow"){$=e.events[B][1].end;break}T(n);let W=S;for(;W<e.events.length;)e.events[W][1].end={...$},W++;return Ks(e.events,B+1,0,e.events.slice(S)),e.events.length=W,d(P)}return a(P)}function d(P){if(n===r.length){if(!i)return g(P);if(i.currentConstruct&&i.currentConstruct.concrete)return v(P);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(YR,f,p)(P)}function f(P){return i&&j(),T(n),g(P)}function p(P){return e.parser.lazy[e.now().line]=n!==r.length,o=e.now().offset,v(P)}function g(P){return e.containerState={},t.attempt(YR,m,v)(P)}function m(P){return n++,r.push([e.currentConstruct,e.containerState]),g(P)}function v(P){if(P===null){i&&j(),T(0),t.consume(P);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),x(P)}function x(P){if(P===null){w(t.exit("chunkFlow"),!0),T(0),t.consume(P);return}return kt(P)?(t.consume(P),w(t.exit("chunkFlow")),n=0,e.interrupt=void 0,a):(t.consume(P),x)}function w(P,S){const B=e.sliceStream(P);if(S&&B.push(null),P.previous=s,s&&(s.next=P),s=P,i.defineSkip(P.start),i.write(B),e.parser.lazy[P.start.line]){let $=i.events.length;for(;$--;)if(i.events[$][1].start.offset<o&&(!i.events[$][1].end||i.events[$][1].end.offset>o))return;const W=e.events.length;let G=W,q,H;for(;G--;)if(e.events[G][0]==="exit"&&e.events[G][1].type==="chunkFlow"){if(q){H=e.events[G][1].end;break}q=!0}for(T(n),$=W;$<e.events.length;)e.events[$][1].end={...H},$++;Ks(e.events,G+1,0,e.events.slice(W)),e.events.length=$}}function T(P){let S=r.length;for(;S-- >P;){const B=r[S];e.containerState=B[1],B[0].exit.call(e,t)}r.length=P}function j(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Cie(t,e,r){return hr(t,t.attempt(this.parser.constructs.document,e,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ch(t){if(t===null||Fr(t)||dd(t))return 1;if(Av(t))return 2}function jv(t,e,r){const n=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!n.includes(s)&&(e=s(e,r),n.push(s))}return e}const z_={name:"attention",resolveAll:Sie,tokenize:Eie};function Sie(t,e){let r=-1,n,i,s,o,a,c,d,f;for(;++r<t.length;)if(t[r][0]==="enter"&&t[r][1].type==="attentionSequence"&&t[r][1]._close){for(n=r;n--;)if(t[n][0]==="exit"&&t[n][1].type==="attentionSequence"&&t[n][1]._open&&e.sliceSerialize(t[n][1]).charCodeAt(0)===e.sliceSerialize(t[r][1]).charCodeAt(0)){if((t[n][1]._close||t[r][1]._open)&&(t[r][1].end.offset-t[r][1].start.offset)%3&&!((t[n][1].end.offset-t[n][1].start.offset+t[r][1].end.offset-t[r][1].start.offset)%3))continue;c=t[n][1].end.offset-t[n][1].start.offset>1&&t[r][1].end.offset-t[r][1].start.offset>1?2:1;const p={...t[n][1].end},g={...t[r][1].start};JR(p,-c),JR(g,c),o={type:c>1?"strongSequence":"emphasisSequence",start:p,end:{...t[n][1].end}},a={type:c>1?"strongSequence":"emphasisSequence",start:{...t[r][1].start},end:g},s={type:c>1?"strongText":"emphasisText",start:{...t[n][1].end},end:{...t[r][1].start}},i={type:c>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[n][1].end={...o.start},t[r][1].start={...a.end},d=[],t[n][1].end.offset-t[n][1].start.offset&&(d=fo(d,[["enter",t[n][1],e],["exit",t[n][1],e]])),d=fo(d,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),d=fo(d,jv(e.parser.constructs.insideSpan.null,t.slice(n+1,r),e)),d=fo(d,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[r][1].end.offset-t[r][1].start.offset?(f=2,d=fo(d,[["enter",t[r][1],e],["exit",t[r][1],e]])):f=0,Ks(t,n-1,r-n+3,d),r=n+d.length-f-2;break}}for(r=-1;++r<t.length;)t[r][1].type==="attentionSequence"&&(t[r][1].type="data");return t}function Eie(t,e){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=ch(n);let s;return o;function o(c){return s=c,t.enter("attentionSequence"),a(c)}function a(c){if(c===s)return t.consume(c),a;const d=t.exit("attentionSequence"),f=ch(c),p=!f||f===2&&i||r.includes(c),g=!i||i===2&&f||r.includes(n);return d._open=!!(s===42?p:p&&(i||!g)),d._close=!!(s===42?g:g&&(f||!p)),e(c)}}function JR(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Tie={name:"autolink",tokenize:Nie};function Nie(t,e,r){let n=0;return i;function i(m){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(m){return Yi(m)?(t.consume(m),o):m===64?r(m):d(m)}function o(m){return m===43||m===45||m===46||Pi(m)?(n=1,a(m)):d(m)}function a(m){return m===58?(t.consume(m),n=0,c):(m===43||m===45||m===46||Pi(m))&&n++<32?(t.consume(m),a):(n=0,d(m))}function c(m){return m===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):m===null||m===32||m===60||Ox(m)?r(m):(t.consume(m),c)}function d(m){return m===64?(t.consume(m),f):yie(m)?(t.consume(m),d):r(m)}function f(m){return Pi(m)?p(m):r(m)}function p(m){return m===46?(t.consume(m),n=0,f):m===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):g(m)}function g(m){if((m===45||Pi(m))&&n++<63){const v=m===45?g:p;return t.consume(m),v}return r(m)}}const bg={partial:!0,tokenize:Aie};function Aie(t,e,r){return n;function n(s){return lr(s)?hr(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||kt(s)?e(s):r(s)}}const lF={continuation:{tokenize:Pie},exit:Rie,name:"blockQuote",tokenize:jie};function jie(t,e,r){const n=this;return i;function i(o){if(o===62){const a=n.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return r(o)}function s(o){return lr(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function Pie(t,e,r){const n=this;return i;function i(o){return lr(o)?hr(t,s,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(lF,e,r)(o)}}function Rie(t){t.exit("blockQuote")}const cF={name:"characterEscape",tokenize:Iie};function Iie(t,e,r){return n;function n(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return vie(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):r(s)}}const uF={name:"characterReference",tokenize:Mie};function Mie(t,e,r){const n=this;let i=0,s,o;return a;function a(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),c}function c(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),s=31,o=Pi,f(p))}function d(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=xie,f):(t.enter("characterReferenceValue"),s=7,o=F_,f(p))}function f(p){if(p===59&&i){const g=t.exit("characterReferenceValue");return o===Pi&&!N2(n.sliceSerialize(g))?r(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(p)&&i++<s?(t.consume(p),f):r(p)}}const XR={partial:!0,tokenize:Oie},QR={concrete:!0,name:"codeFenced",tokenize:Die};function Die(t,e,r){const n=this,i={partial:!0,tokenize:B};let s=0,o=0,a;return c;function c($){return d($)}function d($){const W=n.events[n.events.length-1];return s=W&&W[1].type==="linePrefix"?W[2].sliceSerialize(W[1],!0).length:0,a=$,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),f($)}function f($){return $===a?(o++,t.consume($),f):o<3?r($):(t.exit("codeFencedFenceSequence"),lr($)?hr(t,p,"whitespace")($):p($))}function p($){return $===null||kt($)?(t.exit("codeFencedFence"),n.interrupt?e($):t.check(XR,x,S)($)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),g($))}function g($){return $===null||kt($)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p($)):lr($)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),hr(t,m,"whitespace")($)):$===96&&$===a?r($):(t.consume($),g)}function m($){return $===null||kt($)?p($):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),v($))}function v($){return $===null||kt($)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p($)):$===96&&$===a?r($):(t.consume($),v)}function x($){return t.attempt(i,S,w)($)}function w($){return t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),T}function T($){return s>0&&lr($)?hr(t,j,"linePrefix",s+1)($):j($)}function j($){return $===null||kt($)?t.check(XR,x,S)($):(t.enter("codeFlowValue"),P($))}function P($){return $===null||kt($)?(t.exit("codeFlowValue"),j($)):(t.consume($),P)}function S($){return t.exit("codeFenced"),e($)}function B($,W,G){let q=0;return H;function H(A){return $.enter("lineEnding"),$.consume(A),$.exit("lineEnding"),J}function J(A){return $.enter("codeFencedFence"),lr(A)?hr($,V,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):V(A)}function V(A){return A===a?($.enter("codeFencedFenceSequence"),F(A)):G(A)}function F(A){return A===a?(q++,$.consume(A),F):q>=o?($.exit("codeFencedFenceSequence"),lr(A)?hr($,b,"whitespace")(A):b(A)):G(A)}function b(A){return A===null||kt(A)?($.exit("codeFencedFence"),W(A)):G(A)}}}function Oie(t,e,r){const n=this;return i;function i(o){return o===null?r(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return n.parser.lazy[n.now().line]?r(o):e(o)}}const z1={name:"codeIndented",tokenize:Fie},Lie={partial:!0,tokenize:zie};function Fie(t,e,r){const n=this;return i;function i(d){return t.enter("codeIndented"),hr(t,s,"linePrefix",5)(d)}function s(d){const f=n.events[n.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(d):r(d)}function o(d){return d===null?c(d):kt(d)?t.attempt(Lie,o,c)(d):(t.enter("codeFlowValue"),a(d))}function a(d){return d===null||kt(d)?(t.exit("codeFlowValue"),o(d)):(t.consume(d),a)}function c(d){return t.exit("codeIndented"),e(d)}}function zie(t,e,r){const n=this;return i;function i(o){return n.parser.lazy[n.now().line]?r(o):kt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):hr(t,s,"linePrefix",5)(o)}function s(o){const a=n.events[n.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):kt(o)?i(o):r(o)}}const Bie={name:"codeText",previous:Uie,resolve:$ie,tokenize:Vie};function $ie(t){let e=t.length-4,r=3,n,i;if((t[r][1].type==="lineEnding"||t[r][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(n=r;++n<e;)if(t[n][1].type==="codeTextData"){t[r][1].type="codeTextPadding",t[e][1].type="codeTextPadding",r+=2,e-=2;break}}for(n=r-1,e++;++n<=e;)i===void 0?n!==e&&t[n][1].type!=="lineEnding"&&(i=n):(n===e||t[n][1].type==="lineEnding")&&(t[i][1].type="codeTextData",n!==i+2&&(t[i][1].end=t[n-1][1].end,t.splice(i+2,n-i-2),e-=n-i-2,n=i+2),i=void 0);return t}function Uie(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Vie(t,e,r){let n=0,i,s;return o;function o(p){return t.enter("codeText"),t.enter("codeTextSequence"),a(p)}function a(p){return p===96?(t.consume(p),n++,a):(t.exit("codeTextSequence"),c(p))}function c(p){return p===null?r(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),c):p===96?(s=t.enter("codeTextSequence"),i=0,f(p)):kt(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),c):(t.enter("codeTextData"),d(p))}function d(p){return p===null||p===32||p===96||kt(p)?(t.exit("codeTextData"),c(p)):(t.consume(p),d)}function f(p){return p===96?(t.consume(p),i++,f):i===n?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(s.type="codeTextData",d(p))}}class Wie{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,r,n){const i=r||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&bp(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),bp(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),bp(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const r=this.left.splice(e,Number.POSITIVE_INFINITY);bp(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);bp(this.left,r.reverse())}}}function bp(t,e){let r=0;if(e.length<1e4)t.push(...e);else for(;r<e.length;)t.push(...e.slice(r,r+1e4)),r+=1e4}function dF(t){const e={};let r=-1,n,i,s,o,a,c,d;const f=new Wie(t);for(;++r<f.length;){for(;r in e;)r=e[r];if(n=f.get(r),r&&n[1].type==="chunkFlow"&&f.get(r-1)[1].type==="listItemPrefix"&&(c=n[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(n[0]==="enter")n[1].contentType&&(Object.assign(e,qie(f,r)),r=e[r],d=!0);else if(n[1]._container){for(s=r,i=void 0;s--;)if(o=f.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(n[1].end={...f.get(i)[1].start},a=f.slice(i,r),a.unshift(n),f.splice(i,r-i+1,a))}}return Ks(t,0,Number.POSITIVE_INFINITY,f.slice(0)),!d}function qie(t,e){const r=t.get(e)[1],n=t.get(e)[2];let i=e-1;const s=[];let o=r._tokenizer;o||(o=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,c=[],d={};let f,p,g=-1,m=r,v=0,x=0;const w=[x];for(;m;){for(;t.get(++i)[1]!==m;);s.push(i),m._tokenizer||(f=n.sliceStream(m),m.next||f.push(null),p&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),p=m,m=m.next}for(m=r;++g<a.length;)a[g][0]==="exit"&&a[g-1][0]==="enter"&&a[g][1].type===a[g-1][1].type&&a[g][1].start.line!==a[g][1].end.line&&(x=g+1,w.push(x),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):w.pop(),g=w.length;g--;){const T=a.slice(w[g],w[g+1]),j=s.pop();c.push([j,j+T.length-1]),t.splice(j,2,T)}for(c.reverse(),g=-1;++g<c.length;)d[v+c[g][0]]=v+c[g][1],v+=c[g][1]-c[g][0]-1;return d}const Hie={resolve:Kie,tokenize:Yie},Gie={partial:!0,tokenize:Jie};function Kie(t){return dF(t),t}function Yie(t,e){let r;return n;function n(a){return t.enter("content"),r=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):kt(a)?t.check(Gie,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),r.next=t.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function Jie(t,e,r){const n=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),hr(t,s,"linePrefix")}function s(o){if(o===null||kt(o))return r(o);const a=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(n.parser.constructs.flow,r,e)(o)}}function fF(t,e,r,n,i,s,o,a,c){const d=c||Number.POSITIVE_INFINITY;let f=0;return p;function p(T){return T===60?(t.enter(n),t.enter(i),t.enter(s),t.consume(T),t.exit(s),g):T===null||T===32||T===41||Ox(T)?r(T):(t.enter(n),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),x(T))}function g(T){return T===62?(t.enter(s),t.consume(T),t.exit(s),t.exit(i),t.exit(n),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),m(T))}function m(T){return T===62?(t.exit("chunkString"),t.exit(a),g(T)):T===null||T===60||kt(T)?r(T):(t.consume(T),T===92?v:m)}function v(T){return T===60||T===62||T===92?(t.consume(T),m):m(T)}function x(T){return!f&&(T===null||T===41||Fr(T))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(n),e(T)):f<d&&T===40?(t.consume(T),f++,x):T===41?(t.consume(T),f--,x):T===null||T===32||T===40||Ox(T)?r(T):(t.consume(T),T===92?w:x)}function w(T){return T===40||T===41||T===92?(t.consume(T),x):x(T)}}function hF(t,e,r,n,i,s){const o=this;let a=0,c;return d;function d(m){return t.enter(n),t.enter(i),t.consume(m),t.exit(i),t.enter(s),f}function f(m){return a>999||m===null||m===91||m===93&&!c||m===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?r(m):m===93?(t.exit(s),t.enter(i),t.consume(m),t.exit(i),t.exit(n),e):kt(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),f):(t.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===null||m===91||m===93||kt(m)||a++>999?(t.exit("chunkString"),f(m)):(t.consume(m),c||(c=!lr(m)),m===92?g:p)}function g(m){return m===91||m===92||m===93?(t.consume(m),a++,p):p(m)}}function pF(t,e,r,n,i,s){let o;return a;function a(g){return g===34||g===39||g===40?(t.enter(n),t.enter(i),t.consume(g),t.exit(i),o=g===40?41:g,c):r(g)}function c(g){return g===o?(t.enter(i),t.consume(g),t.exit(i),t.exit(n),e):(t.enter(s),d(g))}function d(g){return g===o?(t.exit(s),c(o)):g===null?r(g):kt(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),hr(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===o||g===null||kt(g)?(t.exit("chunkString"),d(g)):(t.consume(g),g===92?p:f)}function p(g){return g===o||g===92?(t.consume(g),f):f(g)}}function sm(t,e){let r;return n;function n(i){return kt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),r=!0,n):lr(i)?hr(t,n,r?"linePrefix":"lineSuffix")(i):e(i)}}const Xie={name:"definition",tokenize:Zie},Qie={partial:!0,tokenize:ese};function Zie(t,e,r){const n=this;let i;return s;function s(m){return t.enter("definition"),o(m)}function o(m){return hF.call(n,t,a,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return i=ta(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),c):r(m)}function c(m){return Fr(m)?sm(t,d)(m):d(m)}function d(m){return fF(t,f,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function f(m){return t.attempt(Qie,p,p)(m)}function p(m){return lr(m)?hr(t,g,"whitespace")(m):g(m)}function g(m){return m===null||kt(m)?(t.exit("definition"),n.parser.defined.push(i),e(m)):r(m)}}function ese(t,e,r){return n;function n(a){return Fr(a)?sm(t,i)(a):r(a)}function i(a){return pF(t,s,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return lr(a)?hr(t,o,"whitespace")(a):o(a)}function o(a){return a===null||kt(a)?e(a):r(a)}}const tse={name:"hardBreakEscape",tokenize:rse};function rse(t,e,r){return n;function n(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return kt(s)?(t.exit("hardBreakEscape"),e(s)):r(s)}}const nse={name:"headingAtx",resolve:ise,tokenize:sse};function ise(t,e){let r=t.length-2,n=3,i,s;return t[n][1].type==="whitespace"&&(n+=2),r-2>n&&t[r][1].type==="whitespace"&&(r-=2),t[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&t[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:t[n][1].start,end:t[r][1].end},s={type:"chunkText",start:t[n][1].start,end:t[r][1].end,contentType:"text"},Ks(t,n,r-n+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function sse(t,e,r){let n=0;return i;function i(f){return t.enter("atxHeading"),s(f)}function s(f){return t.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&n++<6?(t.consume(f),o):f===null||Fr(f)?(t.exit("atxHeadingSequence"),a(f)):r(f)}function a(f){return f===35?(t.enter("atxHeadingSequence"),c(f)):f===null||kt(f)?(t.exit("atxHeading"),e(f)):lr(f)?hr(t,a,"whitespace")(f):(t.enter("atxHeadingText"),d(f))}function c(f){return f===35?(t.consume(f),c):(t.exit("atxHeadingSequence"),a(f))}function d(f){return f===null||f===35||Fr(f)?(t.exit("atxHeadingText"),a(f)):(t.consume(f),d)}}const ose=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ZR=["pre","script","style","textarea"],ase={concrete:!0,name:"htmlFlow",resolveTo:use,tokenize:dse},lse={partial:!0,tokenize:hse},cse={partial:!0,tokenize:fse};function use(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function dse(t,e,r){const n=this;let i,s,o,a,c;return d;function d(M){return f(M)}function f(M){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(M),p}function p(M){return M===33?(t.consume(M),g):M===47?(t.consume(M),s=!0,x):M===63?(t.consume(M),i=3,n.interrupt?e:N):Yi(M)?(t.consume(M),o=String.fromCharCode(M),w):r(M)}function g(M){return M===45?(t.consume(M),i=2,m):M===91?(t.consume(M),i=5,a=0,v):Yi(M)?(t.consume(M),i=4,n.interrupt?e:N):r(M)}function m(M){return M===45?(t.consume(M),n.interrupt?e:N):r(M)}function v(M){const Z="CDATA[";return M===Z.charCodeAt(a++)?(t.consume(M),a===Z.length?n.interrupt?e:V:v):r(M)}function x(M){return Yi(M)?(t.consume(M),o=String.fromCharCode(M),w):r(M)}function w(M){if(M===null||M===47||M===62||Fr(M)){const Z=M===47,z=o.toLowerCase();return!Z&&!s&&ZR.includes(z)?(i=1,n.interrupt?e(M):V(M)):ose.includes(o.toLowerCase())?(i=6,Z?(t.consume(M),T):n.interrupt?e(M):V(M)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(M):s?j(M):P(M))}return M===45||Pi(M)?(t.consume(M),o+=String.fromCharCode(M),w):r(M)}function T(M){return M===62?(t.consume(M),n.interrupt?e:V):r(M)}function j(M){return lr(M)?(t.consume(M),j):H(M)}function P(M){return M===47?(t.consume(M),H):M===58||M===95||Yi(M)?(t.consume(M),S):lr(M)?(t.consume(M),P):H(M)}function S(M){return M===45||M===46||M===58||M===95||Pi(M)?(t.consume(M),S):B(M)}function B(M){return M===61?(t.consume(M),$):lr(M)?(t.consume(M),B):P(M)}function $(M){return M===null||M===60||M===61||M===62||M===96?r(M):M===34||M===39?(t.consume(M),c=M,W):lr(M)?(t.consume(M),$):G(M)}function W(M){return M===c?(t.consume(M),c=null,q):M===null||kt(M)?r(M):(t.consume(M),W)}function G(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||Fr(M)?B(M):(t.consume(M),G)}function q(M){return M===47||M===62||lr(M)?P(M):r(M)}function H(M){return M===62?(t.consume(M),J):r(M)}function J(M){return M===null||kt(M)?V(M):lr(M)?(t.consume(M),J):r(M)}function V(M){return M===45&&i===2?(t.consume(M),O):M===60&&i===1?(t.consume(M),R):M===62&&i===4?(t.consume(M),D):M===63&&i===3?(t.consume(M),N):M===93&&i===5?(t.consume(M),I):kt(M)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(lse,E,F)(M)):M===null||kt(M)?(t.exit("htmlFlowData"),F(M)):(t.consume(M),V)}function F(M){return t.check(cse,b,E)(M)}function b(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),A}function A(M){return M===null||kt(M)?F(M):(t.enter("htmlFlowData"),V(M))}function O(M){return M===45?(t.consume(M),N):V(M)}function R(M){return M===47?(t.consume(M),o="",k):V(M)}function k(M){if(M===62){const Z=o.toLowerCase();return ZR.includes(Z)?(t.consume(M),D):V(M)}return Yi(M)&&o.length<8?(t.consume(M),o+=String.fromCharCode(M),k):V(M)}function I(M){return M===93?(t.consume(M),N):V(M)}function N(M){return M===62?(t.consume(M),D):M===45&&i===2?(t.consume(M),N):V(M)}function D(M){return M===null||kt(M)?(t.exit("htmlFlowData"),E(M)):(t.consume(M),D)}function E(M){return t.exit("htmlFlow"),e(M)}}function fse(t,e,r){const n=this;return i;function i(o){return kt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):r(o)}function s(o){return n.parser.lazy[n.now().line]?r(o):e(o)}}function hse(t,e,r){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(bg,e,r)}}const pse={name:"htmlText",tokenize:mse};function mse(t,e,r){const n=this;let i,s,o;return a;function a(N){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(N),c}function c(N){return N===33?(t.consume(N),d):N===47?(t.consume(N),B):N===63?(t.consume(N),P):Yi(N)?(t.consume(N),G):r(N)}function d(N){return N===45?(t.consume(N),f):N===91?(t.consume(N),s=0,v):Yi(N)?(t.consume(N),j):r(N)}function f(N){return N===45?(t.consume(N),m):r(N)}function p(N){return N===null?r(N):N===45?(t.consume(N),g):kt(N)?(o=p,R(N)):(t.consume(N),p)}function g(N){return N===45?(t.consume(N),m):p(N)}function m(N){return N===62?O(N):N===45?g(N):p(N)}function v(N){const D="CDATA[";return N===D.charCodeAt(s++)?(t.consume(N),s===D.length?x:v):r(N)}function x(N){return N===null?r(N):N===93?(t.consume(N),w):kt(N)?(o=x,R(N)):(t.consume(N),x)}function w(N){return N===93?(t.consume(N),T):x(N)}function T(N){return N===62?O(N):N===93?(t.consume(N),T):x(N)}function j(N){return N===null||N===62?O(N):kt(N)?(o=j,R(N)):(t.consume(N),j)}function P(N){return N===null?r(N):N===63?(t.consume(N),S):kt(N)?(o=P,R(N)):(t.consume(N),P)}function S(N){return N===62?O(N):P(N)}function B(N){return Yi(N)?(t.consume(N),$):r(N)}function $(N){return N===45||Pi(N)?(t.consume(N),$):W(N)}function W(N){return kt(N)?(o=W,R(N)):lr(N)?(t.consume(N),W):O(N)}function G(N){return N===45||Pi(N)?(t.consume(N),G):N===47||N===62||Fr(N)?q(N):r(N)}function q(N){return N===47?(t.consume(N),O):N===58||N===95||Yi(N)?(t.consume(N),H):kt(N)?(o=q,R(N)):lr(N)?(t.consume(N),q):O(N)}function H(N){return N===45||N===46||N===58||N===95||Pi(N)?(t.consume(N),H):J(N)}function J(N){return N===61?(t.consume(N),V):kt(N)?(o=J,R(N)):lr(N)?(t.consume(N),J):q(N)}function V(N){return N===null||N===60||N===61||N===62||N===96?r(N):N===34||N===39?(t.consume(N),i=N,F):kt(N)?(o=V,R(N)):lr(N)?(t.consume(N),V):(t.consume(N),b)}function F(N){return N===i?(t.consume(N),i=void 0,A):N===null?r(N):kt(N)?(o=F,R(N)):(t.consume(N),F)}function b(N){return N===null||N===34||N===39||N===60||N===61||N===96?r(N):N===47||N===62||Fr(N)?q(N):(t.consume(N),b)}function A(N){return N===47||N===62||Fr(N)?q(N):r(N)}function O(N){return N===62?(t.consume(N),t.exit("htmlTextData"),t.exit("htmlText"),e):r(N)}function R(N){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),k}function k(N){return lr(N)?hr(t,I,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):I(N)}function I(N){return t.enter("htmlTextData"),o(N)}}const A2={name:"labelEnd",resolveAll:vse,resolveTo:bse,tokenize:wse},gse={tokenize:kse},yse={tokenize:_se},xse={tokenize:Cse};function vse(t){let e=-1;const r=[];for(;++e<t.length;){const n=t[e][1];if(r.push(t[e]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",e+=i}}return t.length!==r.length&&Ks(t,0,t.length,r),t}function bse(t,e){let r=t.length,n=0,i,s,o,a;for(;r--;)if(i=t[r][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(o=r);const c={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},f={type:"labelText",start:{...t[s+n+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",c,e],["enter",d,e]],a=fo(a,t.slice(s+1,s+n+3)),a=fo(a,[["enter",f,e]]),a=fo(a,jv(e.parser.constructs.insideSpan.null,t.slice(s+n+4,o-3),e)),a=fo(a,[["exit",f,e],t[o-2],t[o-1],["exit",d,e]]),a=fo(a,t.slice(o+1)),a=fo(a,[["exit",c,e]]),Ks(t,s,t.length,a),t}function wse(t,e,r){const n=this;let i=n.events.length,s,o;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){s=n.events[i][1];break}return a;function a(g){return s?s._inactive?p(g):(o=n.parser.defined.includes(ta(n.sliceSerialize({start:s.end,end:n.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelEnd"),c):r(g)}function c(g){return g===40?t.attempt(gse,f,o?f:p)(g):g===91?t.attempt(yse,f,o?d:p)(g):o?f(g):p(g)}function d(g){return t.attempt(xse,f,p)(g)}function f(g){return e(g)}function p(g){return s._balanced=!0,r(g)}}function kse(t,e,r){return n;function n(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),i}function i(p){return Fr(p)?sm(t,s)(p):s(p)}function s(p){return p===41?f(p):fF(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function o(p){return Fr(p)?sm(t,c)(p):f(p)}function a(p){return r(p)}function c(p){return p===34||p===39||p===40?pF(t,d,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function d(p){return Fr(p)?sm(t,f)(p):f(p)}function f(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):r(p)}}function _se(t,e,r){const n=this;return i;function i(a){return hF.call(n,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return n.parser.defined.includes(ta(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?e(a):r(a)}function o(a){return r(a)}}function Cse(t,e,r){return n;function n(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):r(s)}}const Sse={name:"labelStartImage",resolveAll:A2.resolveAll,tokenize:Ese};function Ese(t,e,r){const n=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):r(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(a):e(a)}}const Tse={name:"labelStartLink",resolveAll:A2.resolveAll,tokenize:Nse};function Nse(t,e,r){const n=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):e(o)}}const B1={name:"lineEnding",tokenize:Ase};function Ase(t,e){return r;function r(n){return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),hr(t,e,"linePrefix")}}const J0={name:"thematicBreak",tokenize:jse};function jse(t,e,r){let n=0,i;return s;function s(d){return t.enter("thematicBreak"),o(d)}function o(d){return i=d,a(d)}function a(d){return d===i?(t.enter("thematicBreakSequence"),c(d)):n>=3&&(d===null||kt(d))?(t.exit("thematicBreak"),e(d)):r(d)}function c(d){return d===i?(t.consume(d),n++,c):(t.exit("thematicBreakSequence"),lr(d)?hr(t,a,"whitespace")(d):a(d))}}const ls={continuation:{tokenize:Mse},exit:Ose,name:"list",tokenize:Ise},Pse={partial:!0,tokenize:Lse},Rse={partial:!0,tokenize:Dse};function Ise(t,e,r){const n=this,i=n.events[n.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(m){const v=n.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!n.containerState.marker||m===n.containerState.marker:F_(m)){if(n.containerState.type||(n.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(J0,r,d)(m):d(m);if(!n.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(m)}return r(m)}function c(m){return F_(m)&&++o<10?(t.consume(m),c):(!n.interrupt||o<2)&&(n.containerState.marker?m===n.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),d(m)):r(m)}function d(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||m,t.check(bg,n.interrupt?r:f,t.attempt(Pse,g,p))}function f(m){return n.containerState.initialBlankLine=!0,s++,g(m)}function p(m){return lr(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),g):r(m)}function g(m){return n.containerState.size=s+n.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function Mse(t,e,r){const n=this;return n.containerState._closeFlow=void 0,t.check(bg,i,s);function i(a){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,hr(t,e,"listItemIndent",n.containerState.size+1)(a)}function s(a){return n.containerState.furtherBlankLines||!lr(a)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,o(a)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,t.attempt(Rse,e,o)(a))}function o(a){return n.containerState._closeFlow=!0,n.interrupt=void 0,hr(t,t.attempt(ls,e,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Dse(t,e,r){const n=this;return hr(t,i,"listItemIndent",n.containerState.size+1);function i(s){const o=n.events[n.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===n.containerState.size?e(s):r(s)}}function Ose(t){t.exit(this.containerState.type)}function Lse(t,e,r){const n=this;return hr(t,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=n.events[n.events.length-1];return!lr(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):r(s)}}const eI={name:"setextUnderline",resolveTo:Fse,tokenize:zse};function Fse(t,e){let r=t.length,n,i,s;for(;r--;)if(t[r][0]==="enter"){if(t[r][1].type==="content"){n=r;break}t[r][1].type==="paragraph"&&(i=r)}else t[r][1].type==="content"&&t.splice(r,1),!s&&t[r][1].type==="definition"&&(s=r);const o={type:"setextHeading",start:{...t[n][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[n][1],e]),t[n][1].end={...t[s][1].end}):t[n][1]=o,t.push(["exit",o,e]),t}function zse(t,e,r){const n=this;let i;return s;function s(d){let f=n.events.length,p;for(;f--;)if(n.events[f][1].type!=="lineEnding"&&n.events[f][1].type!=="linePrefix"&&n.events[f][1].type!=="content"){p=n.events[f][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||p)?(t.enter("setextHeadingLine"),i=d,o(d)):r(d)}function o(d){return t.enter("setextHeadingLineSequence"),a(d)}function a(d){return d===i?(t.consume(d),a):(t.exit("setextHeadingLineSequence"),lr(d)?hr(t,c,"lineSuffix")(d):c(d))}function c(d){return d===null||kt(d)?(t.exit("setextHeadingLine"),e(d)):r(d)}}const Bse={tokenize:$se};function $se(t){const e=this,r=t.attempt(bg,n,t.attempt(this.parser.constructs.flowInitial,i,hr(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Hie,i)),"linePrefix")));return r;function n(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,r}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,r}}const Use={resolveAll:gF()},Vse=mF("string"),Wse=mF("text");function mF(t){return{resolveAll:gF(t==="text"?qse:void 0),tokenize:e};function e(r){const n=this,i=this.parser.constructs[t],s=r.attempt(i,o,a);return o;function o(f){return d(f)?s(f):a(f)}function a(f){if(f===null){r.consume(f);return}return r.enter("data"),r.consume(f),c}function c(f){return d(f)?(r.exit("data"),s(f)):(r.consume(f),c)}function d(f){if(f===null)return!0;const p=i[f];let g=-1;if(p)for(;++g<p.length;){const m=p[g];if(!m.previous||m.previous.call(n,n.previous))return!0}return!1}}}function gF(t){return e;function e(r,n){let i=-1,s;for(;++i<=r.length;)s===void 0?r[i]&&r[i][1].type==="data"&&(s=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==s+2&&(r[s][1].end=r[i-1][1].end,r.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(r,n):r}}function qse(t,e){let r=0;for(;++r<=t.length;)if((r===t.length||t[r][1].type==="lineEnding")&&t[r-1][1].type==="data"){const n=t[r-1][1],i=e.sliceStream(n);let s=i.length,o=-1,a=0,c;for(;s--;){const d=i[s];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(d===-2)c=!0,a++;else if(d!==-1){s++;break}}if(e._contentTypeTextTrailing&&r===t.length&&(a=0),a){const d={type:r===t.length||c||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:n.start._bufferIndex+o,_index:n.start._index+s,line:n.end.line,column:n.end.column-a,offset:n.end.offset-a},end:{...n.end}};n.end={...d.start},n.start.offset===n.end.offset?Object.assign(n,d):(t.splice(r,0,["enter",d,e],["exit",d,e]),r+=2)}r++}return t}const Hse={42:ls,43:ls,45:ls,48:ls,49:ls,50:ls,51:ls,52:ls,53:ls,54:ls,55:ls,56:ls,57:ls,62:lF},Gse={91:Xie},Kse={[-2]:z1,[-1]:z1,32:z1},Yse={35:nse,42:J0,45:[eI,J0],60:ase,61:eI,95:J0,96:QR,126:QR},Jse={38:uF,92:cF},Xse={[-5]:B1,[-4]:B1,[-3]:B1,33:Sse,38:uF,42:z_,60:[Tie,pse],91:Tse,92:[tse,cF],93:A2,95:z_,96:Bie},Qse={null:[z_,Use]},Zse={null:[42,95]},eoe={null:[]},toe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Zse,contentInitial:Gse,disable:eoe,document:Hse,flow:Yse,flowInitial:Kse,insideSpan:Qse,string:Jse,text:Xse},Symbol.toStringTag,{value:"Module"}));function roe(t,e,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},s=[];let o=[],a=[];const c={attempt:W(B),check:W($),consume:j,enter:P,exit:S,interrupt:W($,{interrupt:!0})},d={code:null,containerState:{},defineSkip:x,events:[],now:v,parser:t,previous:null,sliceSerialize:g,sliceStream:m,write:p};let f=e.tokenize.call(d,c);return e.resolveAll&&s.push(e),d;function p(J){return o=fo(o,J),w(),o[o.length-1]!==null?[]:(G(e,0),d.events=jv(s,d.events,d),d.events)}function g(J,V){return ioe(m(J),V)}function m(J){return noe(o,J)}function v(){const{_bufferIndex:J,_index:V,line:F,column:b,offset:A}=n;return{_bufferIndex:J,_index:V,line:F,column:b,offset:A}}function x(J){i[J.line]=J.column,H()}function w(){let J;for(;n._index<o.length;){const V=o[n._index];if(typeof V=="string")for(J=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===J&&n._bufferIndex<V.length;)T(V.charCodeAt(n._bufferIndex));else T(V)}}function T(J){f=f(J)}function j(J){kt(J)?(n.line++,n.column=1,n.offset+=J===-3?2:1,H()):J!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===o[n._index].length&&(n._bufferIndex=-1,n._index++)),d.previous=J}function P(J,V){const F=V||{};return F.type=J,F.start=v(),d.events.push(["enter",F,d]),a.push(F),F}function S(J){const V=a.pop();return V.end=v(),d.events.push(["exit",V,d]),V}function B(J,V){G(J,V.from)}function $(J,V){V.restore()}function W(J,V){return F;function F(b,A,O){let R,k,I,N;return Array.isArray(b)?E(b):"tokenize"in b?E([b]):D(b);function D(K){return Y;function Y(Q){const ee=Q!==null&&K[Q],ae=Q!==null&&K.null,ne=[...Array.isArray(ee)?ee:ee?[ee]:[],...Array.isArray(ae)?ae:ae?[ae]:[]];return E(ne)(Q)}}function E(K){return R=K,k=0,K.length===0?O:M(K[k])}function M(K){return Y;function Y(Q){return N=q(),I=K,K.partial||(d.currentConstruct=K),K.name&&d.parser.constructs.disable.null.includes(K.name)?z():K.tokenize.call(V?Object.assign(Object.create(d),V):d,c,Z,z)(Q)}}function Z(K){return J(I,N),A}function z(K){return N.restore(),++k<R.length?M(R[k]):O}}}function G(J,V){J.resolveAll&&!s.includes(J)&&s.push(J),J.resolve&&Ks(d.events,V,d.events.length-V,J.resolve(d.events.slice(V),d)),J.resolveTo&&(d.events=J.resolveTo(d.events,d))}function q(){const J=v(),V=d.previous,F=d.currentConstruct,b=d.events.length,A=Array.from(a);return{from:b,restore:O};function O(){n=J,d.previous=V,d.currentConstruct=F,d.events.length=b,a=A,H()}}function H(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function noe(t,e){const r=e.start._index,n=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(r===i)o=[t[r].slice(n,s)];else{if(o=t.slice(r,i),n>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(n):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function ioe(t,e){let r=-1;const n=[];let i;for(;++r<t.length;){const s=t[r];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,n.push(o)}return n.join("")}function soe(t){const n={constructs:oF([toe,...(t||{}).extensions||[]]),content:i(bie),defined:[],document:i(kie),flow:i(Bse),lazy:{},string:i(Vse),text:i(Wse)};return n;function i(s){return o;function o(a){return roe(n,s,a)}}}function ooe(t){for(;!dF(t););return t}const tI=/[\0\t\n\r]/g;function aoe(){let t=1,e="",r=!0,n;return i;function i(s,o,a){const c=[];let d,f,p,g,m;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),p=0,e="",r&&(s.charCodeAt(0)===65279&&p++,r=void 0);p<s.length;){if(tI.lastIndex=p,d=tI.exec(s),g=d&&d.index!==void 0?d.index:s.length,m=s.charCodeAt(g),!d){e=s.slice(p);break}if(m===10&&p===g&&n)c.push(-3),n=void 0;else switch(n&&(c.push(-5),n=void 0),p<g&&(c.push(s.slice(p,g)),t+=g-p),m){case 0:{c.push(65533),t++;break}case 9:{for(f=Math.ceil(t/4)*4,c.push(-2);t++<f;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:n=!0,t=1}p=g+1}return a&&(n&&c.push(-5),e&&c.push(e),c.push(null)),c}}const loe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function coe(t){return t.replace(loe,uoe)}function uoe(t,e,r){if(e)return e;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),s=i===120||i===88;return aF(r.slice(s?2:1),s?16:10)}return N2(r)||t}const yF={}.hasOwnProperty;function doe(t,e,r){return typeof e!="string"&&(r=e,e=void 0),foe(r)(ooe(soe(r).document().write(aoe()(t,e,!0))))}function foe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(jt),autolinkProtocol:q,autolinkEmail:q,atxHeading:s(_e),blockQuote:s(ae),characterEscape:q,characterReference:q,codeFenced:s(ne),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ne,o),codeText:s(de,o),codeTextData:q,data:q,codeFlowValue:q,definition:s(xe),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(me),hardBreakEscape:s(Xe),hardBreakTrailing:s(Xe),htmlFlow:s(le,o),htmlFlowData:q,htmlText:s(le,o),htmlTextData:q,image:s(Ye),label:o,link:s(jt),listItem:s(De),listItemValue:g,listOrdered:s(st,p),listUnordered:s(st),paragraph:s(Jt),reference:M,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(_e),strong:s(ot),thematicBreak:s(Ie)},exit:{atxHeading:c(),atxHeadingSequence:B,autolink:c(),autolinkEmail:ee,autolinkProtocol:Q,blockQuote:c(),characterEscapeValue:H,characterReferenceMarkerHexadecimal:z,characterReferenceMarkerNumeric:z,characterReferenceValue:K,characterReference:Y,codeFenced:c(w),codeFencedFence:x,codeFencedFenceInfo:m,codeFencedFenceMeta:v,codeFlowValue:H,codeIndented:c(T),codeText:c(A),codeTextData:H,data:H,definition:c(),definitionDestinationString:S,definitionLabelString:j,definitionTitleString:P,emphasis:c(),hardBreakEscape:c(V),hardBreakTrailing:c(V),htmlFlow:c(F),htmlFlowData:H,htmlText:c(b),htmlTextData:H,image:c(R),label:I,labelText:k,lineEnding:J,link:c(O),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Z,resourceDestinationString:N,resourceTitleString:D,resource:E,setextHeading:c(G),setextHeadingLineSequence:W,setextHeadingText:$,strong:c(),thematicBreak:c()}};xF(e,(t||{}).mdastExtensions||[]);const r={};return n;function n(se){let he={type:"root",children:[]};const Le={stack:[he],tokenStack:[],config:e,enter:a,exit:d,buffer:o,resume:f,data:r},Ae=[];let Me=-1;for(;++Me<se.length;)if(se[Me][1].type==="listOrdered"||se[Me][1].type==="listUnordered")if(se[Me][0]==="enter")Ae.push(Me);else{const Gt=Ae.pop();Me=i(se,Gt,Me)}for(Me=-1;++Me<se.length;){const Gt=e[se[Me][0]];yF.call(Gt,se[Me][1].type)&&Gt[se[Me][1].type].call(Object.assign({sliceSerialize:se[Me][2].sliceSerialize},Le),se[Me][1])}if(Le.tokenStack.length>0){const Gt=Le.tokenStack[Le.tokenStack.length-1];(Gt[1]||rI).call(Le,void 0,Gt[0])}for(he.position={start:tc(se.length>0?se[0][1].start:{line:1,column:1,offset:0}),end:tc(se.length>0?se[se.length-2][1].end:{line:1,column:1,offset:0})},Me=-1;++Me<e.transforms.length;)he=e.transforms[Me](he)||he;return he}function i(se,he,Le){let Ae=he-1,Me=-1,Gt=!1,Qe,_t,Wt,Ct;for(;++Ae<=Le;){const nt=se[Ae];switch(nt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{nt[0]==="enter"?Me++:Me--,Ct=void 0;break}case"lineEndingBlank":{nt[0]==="enter"&&(Qe&&!Ct&&!Me&&!Wt&&(Wt=Ae),Ct=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ct=void 0}if(!Me&&nt[0]==="enter"&&nt[1].type==="listItemPrefix"||Me===-1&&nt[0]==="exit"&&(nt[1].type==="listUnordered"||nt[1].type==="listOrdered")){if(Qe){let Xt=Ae;for(_t=void 0;Xt--;){const xt=se[Xt];if(xt[1].type==="lineEnding"||xt[1].type==="lineEndingBlank"){if(xt[0]==="exit")continue;_t&&(se[_t][1].type="lineEndingBlank",Gt=!0),xt[1].type="lineEnding",_t=Xt}else if(!(xt[1].type==="linePrefix"||xt[1].type==="blockQuotePrefix"||xt[1].type==="blockQuotePrefixWhitespace"||xt[1].type==="blockQuoteMarker"||xt[1].type==="listItemIndent"))break}Wt&&(!_t||Wt<_t)&&(Qe._spread=!0),Qe.end=Object.assign({},_t?se[_t][1].start:nt[1].end),se.splice(_t||Ae,0,["exit",Qe,nt[2]]),Ae++,Le++}if(nt[1].type==="listItemPrefix"){const Xt={type:"listItem",_spread:!1,start:Object.assign({},nt[1].start),end:void 0};Qe=Xt,se.splice(Ae,0,["enter",Xt,nt[2]]),Ae++,Le++,Wt=void 0,Ct=!0}}}return se[he][1]._spread=Gt,Le}function s(se,he){return Le;function Le(Ae){a.call(this,se(Ae),Ae),he&&he.call(this,Ae)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(se,he,Le){this.stack[this.stack.length-1].children.push(se),this.stack.push(se),this.tokenStack.push([he,Le||void 0]),se.position={start:tc(he.start),end:void 0}}function c(se){return he;function he(Le){se&&se.call(this,Le),d.call(this,Le)}}function d(se,he){const Le=this.stack.pop(),Ae=this.tokenStack.pop();if(Ae)Ae[0].type!==se.type&&(he?he.call(this,se,Ae[0]):(Ae[1]||rI).call(this,se,Ae[0]));else throw new Error("Cannot close `"+se.type+"` ("+im({start:se.start,end:se.end})+"): its not open");Le.position.end=tc(se.end)}function f(){return T2(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(se){if(this.data.expectingFirstListItemValue){const he=this.stack[this.stack.length-2];he.start=Number.parseInt(this.sliceSerialize(se),10),this.data.expectingFirstListItemValue=void 0}}function m(){const se=this.resume(),he=this.stack[this.stack.length-1];he.lang=se}function v(){const se=this.resume(),he=this.stack[this.stack.length-1];he.meta=se}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const se=this.resume(),he=this.stack[this.stack.length-1];he.value=se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function T(){const se=this.resume(),he=this.stack[this.stack.length-1];he.value=se.replace(/(\r?\n|\r)$/g,"")}function j(se){const he=this.resume(),Le=this.stack[this.stack.length-1];Le.label=he,Le.identifier=ta(this.sliceSerialize(se)).toLowerCase()}function P(){const se=this.resume(),he=this.stack[this.stack.length-1];he.title=se}function S(){const se=this.resume(),he=this.stack[this.stack.length-1];he.url=se}function B(se){const he=this.stack[this.stack.length-1];if(!he.depth){const Le=this.sliceSerialize(se).length;he.depth=Le}}function $(){this.data.setextHeadingSlurpLineEnding=!0}function W(se){const he=this.stack[this.stack.length-1];he.depth=this.sliceSerialize(se).codePointAt(0)===61?1:2}function G(){this.data.setextHeadingSlurpLineEnding=void 0}function q(se){const Le=this.stack[this.stack.length-1].children;let Ae=Le[Le.length-1];(!Ae||Ae.type!=="text")&&(Ae=ht(),Ae.position={start:tc(se.start),end:void 0},Le.push(Ae)),this.stack.push(Ae)}function H(se){const he=this.stack.pop();he.value+=this.sliceSerialize(se),he.position.end=tc(se.end)}function J(se){const he=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Le=he.children[he.children.length-1];Le.position.end=tc(se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(he.type)&&(q.call(this,se),H.call(this,se))}function V(){this.data.atHardBreak=!0}function F(){const se=this.resume(),he=this.stack[this.stack.length-1];he.value=se}function b(){const se=this.resume(),he=this.stack[this.stack.length-1];he.value=se}function A(){const se=this.resume(),he=this.stack[this.stack.length-1];he.value=se}function O(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=he,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function R(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=he,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function k(se){const he=this.sliceSerialize(se),Le=this.stack[this.stack.length-2];Le.label=coe(he),Le.identifier=ta(he).toLowerCase()}function I(){const se=this.stack[this.stack.length-1],he=this.resume(),Le=this.stack[this.stack.length-1];if(this.data.inReference=!0,Le.type==="link"){const Ae=se.children;Le.children=Ae}else Le.alt=he}function N(){const se=this.resume(),he=this.stack[this.stack.length-1];he.url=se}function D(){const se=this.resume(),he=this.stack[this.stack.length-1];he.title=se}function E(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function Z(se){const he=this.resume(),Le=this.stack[this.stack.length-1];Le.label=he,Le.identifier=ta(this.sliceSerialize(se)).toLowerCase(),this.data.referenceType="full"}function z(se){this.data.characterReferenceType=se.type}function K(se){const he=this.sliceSerialize(se),Le=this.data.characterReferenceType;let Ae;Le?(Ae=aF(he,Le==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ae=N2(he);const Me=this.stack[this.stack.length-1];Me.value+=Ae}function Y(se){const he=this.stack.pop();he.position.end=tc(se.end)}function Q(se){H.call(this,se);const he=this.stack[this.stack.length-1];he.url=this.sliceSerialize(se)}function ee(se){H.call(this,se);const he=this.stack[this.stack.length-1];he.url="mailto:"+this.sliceSerialize(se)}function ae(){return{type:"blockquote",children:[]}}function ne(){return{type:"code",lang:null,meta:null,value:""}}function de(){return{type:"inlineCode",value:""}}function xe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function me(){return{type:"emphasis",children:[]}}function _e(){return{type:"heading",depth:0,children:[]}}function Xe(){return{type:"break"}}function le(){return{type:"html",value:""}}function Ye(){return{type:"image",title:null,url:"",alt:null}}function jt(){return{type:"link",title:null,url:"",children:[]}}function st(se){return{type:"list",ordered:se.type==="listOrdered",start:null,spread:se._spread,children:[]}}function De(se){return{type:"listItem",spread:se._spread,checked:null,children:[]}}function Jt(){return{type:"paragraph",children:[]}}function ot(){return{type:"strong",children:[]}}function ht(){return{type:"text",value:""}}function Ie(){return{type:"thematicBreak"}}}function tc(t){return{line:t.line,column:t.column,offset:t.offset}}function xF(t,e){let r=-1;for(;++r<e.length;){const n=e[r];Array.isArray(n)?xF(t,n):hoe(t,n)}}function hoe(t,e){let r;for(r in e)if(yF.call(e,r))switch(r){case"canContainEols":{const n=e[r];n&&t[r].push(...n);break}case"transforms":{const n=e[r];n&&t[r].push(...n);break}case"enter":case"exit":{const n=e[r];n&&Object.assign(t[r],n);break}}}function rI(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+im({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+im({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+im({start:e.start,end:e.end})+") is still open")}function poe(t){const e=this;e.parser=r;function r(n){return doe(n,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function moe(t,e){const r={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,r),t.applyData(e,r)}function goe(t,e){const r={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,r),[t.applyData(e,r),{type:"text",value:`
`}]}function yoe(t,e){const r=e.value?e.value+`
`:"",n={};e.lang&&(n.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function xoe(t,e){const r={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function voe(t,e){const r={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function boe(t,e){const r=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=String(e.identifier).toUpperCase(),i=Eh(n.toLowerCase()),s=t.footnoteOrder.indexOf(n);let o,a=t.footnoteCounts.get(n);a===void 0?(a=0,t.footnoteOrder.push(n),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(n,a);const c={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,c);const d={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(e,d),t.applyData(e,d)}function woe(t,e){const r={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function koe(t,e){if(t.options.allowDangerousHtml){const r={type:"raw",value:e.value};return t.patch(e,r),t.applyData(e,r)}}function vF(t,e){const r=e.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+n}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=n:i.push({type:"text",value:n}),i}function _oe(t,e){const r=String(e.identifier).toUpperCase(),n=t.definitionById.get(r);if(!n)return vF(t,e);const i={src:Eh(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function Coe(t,e){const r={src:Eh(e.url)};e.alt!==null&&e.alt!==void 0&&(r.alt=e.alt),e.title!==null&&e.title!==void 0&&(r.title=e.title);const n={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,n),t.applyData(e,n)}function Soe(t,e){const r={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return t.patch(e,n),t.applyData(e,n)}function Eoe(t,e){const r=String(e.identifier).toUpperCase(),n=t.definitionById.get(r);if(!n)return vF(t,e);const i={href:Eh(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function Toe(t,e){const r={href:Eh(e.url)};e.title!==null&&e.title!==void 0&&(r.title=e.title);const n={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Noe(t,e,r){const n=t.all(e),i=r?Aoe(r):bF(e),s={},o=[];if(typeof e.checked=="boolean"){const f=n[0];let p;f&&f.type==="element"&&f.tagName==="p"?p=f:(p={type:"element",tagName:"p",properties:{},children:[]},n.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<n.length;){const f=n[a];(i||a!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?o.push(...f.children):o.push(f)}const c=n[n.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,d),t.applyData(e,d)}function Aoe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const r=t.children;let n=-1;for(;!e&&++n<r.length;)e=bF(r[n])}return e}function bF(t){const e=t.spread;return e??t.children.length>1}function joe(t,e){const r={},n=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(r.start=e.start);++i<n.length;){const o=n[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:r,children:t.wrap(n,!0)};return t.patch(e,s),t.applyData(e,s)}function Poe(t,e){const r={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Roe(t,e){const r={type:"root",children:t.wrap(t.all(e))};return t.patch(e,r),t.applyData(e,r)}function Ioe(t,e){const r={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Moe(t,e){const r=t.all(e),n=r.shift(),i=[];if(n){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([n],!0)};t.patch(e.children[0],o),i.push(o)}if(r.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(r,!0)},a=_2(e.children[1]),c=Z6(e.children[e.children.length-1]);a&&c&&(o.position={start:a,end:c}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function Doe(t,e,r){const n=r?r.children:void 0,s=(n?n.indexOf(e):1)===0?"th":"td",o=r&&r.type==="table"?r.align:void 0,a=o?o.length:e.children.length;let c=-1;const d=[];for(;++c<a;){const p=e.children[c],g={},m=o?o[c]:void 0;m&&(g.align=m);let v={type:"element",tagName:s,properties:g,children:[]};p&&(v.children=t.all(p),t.patch(p,v),v=t.applyData(p,v)),d.push(v)}const f={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,f),t.applyData(e,f)}function Ooe(t,e){const r={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}const nI=9,iI=32;function Loe(t){const e=String(t),r=/\r?\n|\r/g;let n=r.exec(e),i=0;const s=[];for(;n;)s.push(sI(e.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(e);return s.push(sI(e.slice(i),i>0,!1)),s.join("")}function sI(t,e,r){let n=0,i=t.length;if(e){let s=t.codePointAt(n);for(;s===nI||s===iI;)n++,s=t.codePointAt(n)}if(r){let s=t.codePointAt(i-1);for(;s===nI||s===iI;)i--,s=t.codePointAt(i-1)}return i>n?t.slice(n,i):""}function Foe(t,e){const r={type:"text",value:Loe(String(e.value))};return t.patch(e,r),t.applyData(e,r)}function zoe(t,e){const r={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,r),t.applyData(e,r)}const Boe={blockquote:moe,break:goe,code:yoe,delete:xoe,emphasis:voe,footnoteReference:boe,heading:woe,html:koe,imageReference:_oe,image:Coe,inlineCode:Soe,linkReference:Eoe,link:Toe,listItem:Noe,list:joe,paragraph:Poe,root:Roe,strong:Ioe,table:Moe,tableCell:Ooe,tableRow:Doe,text:Foe,thematicBreak:zoe,toml:o0,yaml:o0,definition:o0,footnoteDefinition:o0};function o0(){}const wF=-1,Pv=0,om=1,Lx=2,j2=3,P2=4,R2=5,I2=6,kF=7,_F=8,oI=typeof self=="object"?self:globalThis,$oe=(t,e)=>{const r=(i,s)=>(t.set(s,i),i),n=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case Pv:case wF:return r(o,i);case om:{const a=r([],i);for(const c of o)a.push(n(c));return a}case Lx:{const a=r({},i);for(const[c,d]of o)a[n(c)]=n(d);return a}case j2:return r(new Date(o),i);case P2:{const{source:a,flags:c}=o;return r(new RegExp(a,c),i)}case R2:{const a=r(new Map,i);for(const[c,d]of o)a.set(n(c),n(d));return a}case I2:{const a=r(new Set,i);for(const c of o)a.add(n(c));return a}case kF:{const{name:a,message:c}=o;return r(new oI[a](c),i)}case _F:return r(BigInt(o),i);case"BigInt":return r(Object(BigInt(o)),i);case"ArrayBuffer":return r(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return r(new DataView(a),o)}}return r(new oI[s](o),i)};return n},aI=t=>$oe(new Map,t)(0),rf="",{toString:Uoe}={},{keys:Voe}=Object,wp=t=>{const e=typeof t;if(e!=="object"||!t)return[Pv,e];const r=Uoe.call(t).slice(8,-1);switch(r){case"Array":return[om,rf];case"Object":return[Lx,rf];case"Date":return[j2,rf];case"RegExp":return[P2,rf];case"Map":return[R2,rf];case"Set":return[I2,rf];case"DataView":return[om,r]}return r.includes("Array")?[om,r]:r.includes("Error")?[kF,r]:[Lx,r]},a0=([t,e])=>t===Pv&&(e==="function"||e==="symbol"),Woe=(t,e,r,n)=>{const i=(o,a)=>{const c=n.push(o)-1;return r.set(a,c),c},s=o=>{if(r.has(o))return r.get(o);let[a,c]=wp(o);switch(a){case Pv:{let f=o;switch(c){case"bigint":a=_F,f=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+c);f=null;break;case"undefined":return i([wF],o)}return i([a,f],o)}case om:{if(c){let g=o;return c==="DataView"?g=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(g=new Uint8Array(o)),i([c,[...g]],o)}const f=[],p=i([a,f],o);for(const g of o)f.push(s(g));return p}case Lx:{if(c)switch(c){case"BigInt":return i([c,o.toString()],o);case"Boolean":case"Number":case"String":return i([c,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const f=[],p=i([a,f],o);for(const g of Voe(o))(t||!a0(wp(o[g])))&&f.push([s(g),s(o[g])]);return p}case j2:return i([a,o.toISOString()],o);case P2:{const{source:f,flags:p}=o;return i([a,{source:f,flags:p}],o)}case R2:{const f=[],p=i([a,f],o);for(const[g,m]of o)(t||!(a0(wp(g))||a0(wp(m))))&&f.push([s(g),s(m)]);return p}case I2:{const f=[],p=i([a,f],o);for(const g of o)(t||!a0(wp(g)))&&f.push(s(g));return p}}const{message:d}=o;return i([a,{name:c,message:d}],o)};return s},lI=(t,{json:e,lossy:r}={})=>{const n=[];return Woe(!(e||r),!!e,new Map,n)(t),n},Fx=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?aI(lI(t,e)):structuredClone(t):(t,e)=>aI(lI(t,e));function qoe(t,e){const r=[{type:"text",value:""}];return e>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),r}function Hoe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Goe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=t.options.footnoteBackContent||qoe,n=t.options.footnoteBackLabel||Hoe,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let c=-1;for(;++c<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[c]);if(!d)continue;const f=t.all(d),p=String(d.identifier).toUpperCase(),g=Eh(p.toLowerCase());let m=0;const v=[],x=t.footnoteCounts.get(p);for(;x!==void 0&&++m<=x;){v.length>0&&v.push({type:"text",value:" "});let j=typeof r=="string"?r:r(c,m);typeof j=="string"&&(j={type:"text",value:j}),v.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(c,m),className:["data-footnote-backref"]},children:Array.isArray(j)?j:[j]})}const w=f[f.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const j=w.children[w.children.length-1];j&&j.type==="text"?j.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...v)}else f.push(...v);const T={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:t.wrap(f,!0)};t.patch(d,T),a.push(T)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Fx(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const Rv=function(t){if(t==null)return Xoe;if(typeof t=="function")return Iv(t);if(typeof t=="object")return Array.isArray(t)?Koe(t):Yoe(t);if(typeof t=="string")return Joe(t);throw new Error("Expected function, string, or object as test")};function Koe(t){const e=[];let r=-1;for(;++r<t.length;)e[r]=Rv(t[r]);return Iv(n);function n(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function Yoe(t){const e=t;return Iv(r);function r(n){const i=n;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function Joe(t){return Iv(e);function e(r){return r&&r.type===t}}function Iv(t){return e;function e(r,n,i){return!!(Qoe(r)&&t.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function Xoe(){return!0}function Qoe(t){return t!==null&&typeof t=="object"&&"type"in t}const CF=[],Zoe=!0,B_=!1,eae="skip";function SF(t,e,r,n){let i;typeof e=="function"&&typeof r!="function"?(n=r,r=e):i=e;const s=Rv(i),o=n?-1:1;a(t,void 0,[])();function a(c,d,f){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const m=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(c.type+(m?"<"+m+">":""))+")"})}return g;function g(){let m=CF,v,x,w;if((!e||s(c,d,f[f.length-1]||void 0))&&(m=tae(r(c,f)),m[0]===B_))return m;if("children"in c&&c.children){const T=c;if(T.children&&m[0]!==eae)for(x=(n?T.children.length:-1)+o,w=f.concat(T);x>-1&&x<T.children.length;){const j=T.children[x];if(v=a(j,x,w)(),v[0]===B_)return v;x=typeof v[1]=="number"?v[1]:x+o}}return m}}}function tae(t){return Array.isArray(t)?t:typeof t=="number"?[Zoe,t]:t==null?CF:[t]}function M2(t,e,r,n){let i,s,o;typeof e=="function"&&typeof r!="function"?(s=void 0,o=e,i=r):(s=e,o=r,i=n),SF(t,s,a,i);function a(c,d){const f=d[d.length-1],p=f?f.children.indexOf(c):void 0;return o(c,p,f)}}const $_={}.hasOwnProperty,rae={};function nae(t,e){const r=e||rae,n=new Map,i=new Map,s=new Map,o={...Boe,...r.handlers},a={all:d,applyData:sae,definitionById:n,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:c,options:r,patch:iae,wrap:aae};return M2(t,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const p=f.type==="definition"?n:i,g=String(f.identifier).toUpperCase();p.has(g)||p.set(g,f)}}),a;function c(f,p){const g=f.type,m=a.handlers[g];if($_.call(a.handlers,g)&&m)return m(a,f,p);if(a.options.passThrough&&a.options.passThrough.includes(g)){if("children"in f){const{children:x,...w}=f,T=Fx(w);return T.children=a.all(f),T}return Fx(f)}return(a.options.unknownHandler||oae)(a,f,p)}function d(f){const p=[];if("children"in f){const g=f.children;let m=-1;for(;++m<g.length;){const v=a.one(g[m],f);if(v){if(m&&g[m-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=cI(v.value)),!Array.isArray(v)&&v.type==="element")){const x=v.children[0];x&&x.type==="text"&&(x.value=cI(x.value))}Array.isArray(v)?p.push(...v):p.push(v)}}}return p}}function iae(t,e){t.position&&(e.position=Hne(t))}function sae(t,e){let r=e;if(t&&t.data){const n=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const o="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:o}}r.type==="element"&&s&&Object.assign(r.properties,Fx(s)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function oae(t,e){const r=e.data||{},n="value"in e&&!($_.call(r,"hProperties")||$_.call(r,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function aae(t,e){const r=[];let n=-1;for(e&&r.push({type:"text",value:`
`});++n<t.length;)n&&r.push({type:"text",value:`
`}),r.push(t[n]);return e&&t.length>0&&r.push({type:"text",value:`
`}),r}function cI(t){let e=0,r=t.charCodeAt(e);for(;r===9||r===32;)e++,r=t.charCodeAt(e);return t.slice(e)}function uI(t,e){const r=nae(t,e),n=r.one(t,void 0),i=Goe(r),s=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function lae(t,e){return t&&"run"in t?async function(r,n){const i=uI(r,{file:n,...e});await t.run(i,n)}:function(r,n){return uI(r,{file:n,...t||e})}}function dI(t){if(t)throw t}var $1,fI;function cae(){if(fI)return $1;fI=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},s=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var f=t.call(d,"constructor"),p=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!f&&!p)return!1;var g;for(g in d);return typeof g>"u"||t.call(d,g)},o=function(d,f){r&&f.name==="__proto__"?r(d,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):d[f.name]=f.newValue},a=function(d,f){if(f==="__proto__")if(t.call(d,f)){if(n)return n(d,f).value}else return;return d[f]};return $1=function c(){var d,f,p,g,m,v,x=arguments[0],w=1,T=arguments.length,j=!1;for(typeof x=="boolean"&&(j=x,x=arguments[1]||{},w=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});w<T;++w)if(d=arguments[w],d!=null)for(f in d)p=a(x,f),g=a(d,f),x!==g&&(j&&g&&(s(g)||(m=i(g)))?(m?(m=!1,v=p&&i(p)?p:[]):v=p&&s(p)?p:{},o(x,{name:f,newValue:c(j,v,g)})):typeof g<"u"&&o(x,{name:f,newValue:g}));return x},$1}var uae=cae();const U1=El(uae);function U_(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function dae(){const t=[],e={run:r,use:n};return e;function r(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(c,...d){const f=t[++s];let p=-1;if(c){o(c);return}for(;++p<i.length;)(d[p]===null||d[p]===void 0)&&(d[p]=i[p]);i=d,f?fae(f,a)(...d):o(null,...d)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function fae(t,e){let r;return n;function n(...o){const a=t.length>o.length;let c;a&&o.push(i);try{c=t.apply(this,o)}catch(d){const f=d;if(a&&r)throw f;return i(f)}a||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(o,...a){r||(r=!0,e(o,...a))}function s(o){i(null,o)}}const ka={basename:hae,dirname:pae,extname:mae,join:gae,sep:"/"};function hae(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');wg(t);let r=0,n=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){r=i+1;break}}else n<0&&(s=!0,n=i+1);return n<0?"":t.slice(r,n)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){r=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(n=i):(a=-1,n=o));return r===n?n=o:n<0&&(n=t.length),t.slice(r,n)}function pae(t){if(wg(t),t.length===0)return".";let e=-1,r=t.length,n;for(;--r;)if(t.codePointAt(r)===47){if(n){e=r;break}}else n||(n=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function mae(t){wg(t);let e=t.length,r=-1,n=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){n=e+1;break}continue}r<0&&(o=!0,r=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||r<0||s===0||s===1&&i===r-1&&i===n+1?"":t.slice(i,r)}function gae(...t){let e=-1,r;for(;++e<t.length;)wg(t[e]),t[e]&&(r=r===void 0?t[e]:r+"/"+t[e]);return r===void 0?".":yae(r)}function yae(t){wg(t);const e=t.codePointAt(0)===47;let r=xae(t,!e);return r.length===0&&!e&&(r="."),r.length>0&&t.codePointAt(t.length-1)===47&&(r+="/"),e?"/"+r:r}function xae(t,e){let r="",n=0,i=-1,s=0,o=-1,a,c;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(c=r.lastIndexOf("/"),c!==r.length-1){c<0?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=o,s=0;continue}}else if(r.length>0){r="",n=0,i=o,s=0;continue}}e&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+t.slice(i+1,o):r=t.slice(i+1,o),n=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return r}function wg(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const vae={cwd:bae};function bae(){return"/"}function V_(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function wae(t){if(typeof t=="string")t=new URL(t);else if(!V_(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return kae(t)}function kae(t){if(t.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const e=t.pathname;let r=-1;for(;++r<e.length;)if(e.codePointAt(r)===37&&e.codePointAt(r+1)===50){const n=e.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const V1=["history","path","basename","stem","extname","dirname"];class EF{constructor(e){let r;e?V_(e)?r={path:e}:typeof e=="string"||_ae(e)?r={value:e}:r=e:r={},this.cwd="cwd"in r?"":vae.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<V1.length;){const s=V1[n];s in r&&r[s]!==void 0&&r[s]!==null&&(this[s]=s==="history"?[...r[s]]:r[s])}let i;for(i in r)V1.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?ka.basename(this.path):void 0}set basename(e){q1(e,"basename"),W1(e,"basename"),this.path=ka.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ka.dirname(this.path):void 0}set dirname(e){hI(this.basename,"dirname"),this.path=ka.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ka.extname(this.path):void 0}set extname(e){if(W1(e,"extname"),hI(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ka.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){V_(e)&&(e=wae(e)),q1(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ka.basename(this.path,this.extname):void 0}set stem(e){q1(e,"stem"),W1(e,"stem"),this.path=ka.join(this.dirname||"",e+(this.extname||""))}fail(e,r,n){const i=this.message(e,r,n);throw i.fatal=!0,i}info(e,r,n){const i=this.message(e,r,n);return i.fatal=void 0,i}message(e,r,n){const i=new Mi(e,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function W1(t,e){if(t&&t.includes(ka.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ka.sep+"`")}function q1(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function hI(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function _ae(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Cae=function(t){const n=this.constructor.prototype,i=n[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,n),s},Sae={}.hasOwnProperty;class D2 extends Cae{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=dae()}copy(){const e=new D2;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];e.use(...n)}return e.data(U1(!0,{},this.namespace)),e}data(e,r){return typeof e=="string"?arguments.length===2?(K1("data",this.frozen),this.namespace[e]=r,this):Sae.call(this.namespace,e)&&this.namespace[e]||void 0:e?(K1("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(e,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const r=l0(e),n=this.parser||this.Parser;return H1("parse",n),n(String(r),r)}process(e,r){const n=this;return this.freeze(),H1("process",this.parser||this.Parser),G1("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(s,o){const a=l0(e),c=n.parse(a);n.run(c,a,function(f,p,g){if(f||!p||!g)return d(f);const m=p,v=n.stringify(m,g);Nae(v)?g.value=v:g.result=v,d(f,g)});function d(f,p){f||!p?o(f):s?s(p):r(void 0,p)}}}processSync(e){let r=!1,n;return this.freeze(),H1("processSync",this.parser||this.Parser),G1("processSync",this.compiler||this.Compiler),this.process(e,i),mI("processSync","process",r),n;function i(s,o){r=!0,dI(s),n=o}}run(e,r,n){pI(e),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?s(void 0,n):new Promise(s);function s(o,a){const c=l0(r);i.run(e,c,d);function d(f,p,g){const m=p||e;f?a(f):o?o(m):n(void 0,m,g)}}}runSync(e,r){let n=!1,i;return this.run(e,r,s),mI("runSync","run",n),i;function s(o,a){dI(o),i=a,n=!0}}stringify(e,r){this.freeze();const n=l0(r),i=this.compiler||this.Compiler;return G1("stringify",i),pI(e),i(e,n)}use(e,...r){const n=this.attachers,i=this.namespace;if(K1("use",this.frozen),e!=null)if(typeof e=="function")c(e,r);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(d){if(typeof d=="function")c(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[f,...p]=d;c(f,p)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(d.plugins),d.settings&&(i.settings=U1(!0,i.settings,d.settings))}function a(d){let f=-1;if(d!=null)if(Array.isArray(d))for(;++f<d.length;){const p=d[f];s(p)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function c(d,f){let p=-1,g=-1;for(;++p<n.length;)if(n[p][0]===d){g=p;break}if(g===-1)n.push([d,...f]);else if(f.length>0){let[m,...v]=f;const x=n[g][1];U_(x)&&U_(m)&&(m=U1(!0,x,m)),n[g]=[d,m,...v]}}}}const Eae=new D2().freeze();function H1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function G1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function K1(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function pI(t){if(!U_(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function mI(t,e,r){if(!r)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function l0(t){return Tae(t)?t:new EF(t)}function Tae(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Nae(t){return typeof t=="string"||Aae(t)}function Aae(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const jae="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",gI=[],yI={allowDangerousHtml:!0},Pae=/^(https?|ircs?|mailto|xmpp)$/i,Rae=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Iae(t){const e=Mae(t),r=Dae(t);return Oae(e.runSync(e.parse(r),r),t)}function Mae(t){const e=t.rehypePlugins||gI,r=t.remarkPlugins||gI,n=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...yI}:yI;return Eae().use(poe).use(r).use(lae,n).use(e)}function Dae(t){const e=t.children||"",r=new EF;return typeof e=="string"&&(r.value=e),r}function Oae(t,e){const r=e.allowedElements,n=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,c=e.urlTransform||Lae;for(const f of Rae)Object.hasOwn(e,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+jae+f.id,void 0);return M2(t,d),Xne(t,{Fragment:l.Fragment,components:i,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function d(f,p,g){if(f.type==="raw"&&g&&typeof p=="number")return o?g.children.splice(p,1):g.children[p]={type:"text",value:f.value},p;if(f.type==="element"){let m;for(m in F1)if(Object.hasOwn(F1,m)&&Object.hasOwn(f.properties,m)){const v=f.properties[m],x=F1[m];(x===null||x.includes(f.tagName))&&(f.properties[m]=c(String(v||""),m,f))}}if(f.type==="element"){let m=r?!r.includes(f.tagName):s?s.includes(f.tagName):!1;if(!m&&n&&typeof p=="number"&&(m=!n(f,p,g)),m&&g&&typeof p=="number")return a&&f.children?g.children.splice(p,1,...f.children):g.children.splice(p,1),p}}}function Lae(t){const e=t.indexOf(":"),r=t.indexOf("?"),n=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||r!==-1&&e>r||n!==-1&&e>n||Pae.test(t.slice(0,e))?t:""}function xI(t,e){const r=String(t);if(typeof e!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(e);for(;i!==-1;)n++,i=r.indexOf(e,i+e.length);return n}function Fae(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function zae(t,e,r){const i=Rv((r||{}).ignore||[]),s=Bae(e);let o=-1;for(;++o<s.length;)SF(t,"text",a);function a(d,f){let p=-1,g;for(;++p<f.length;){const m=f[p],v=g?g.children:void 0;if(i(m,v?v.indexOf(m):void 0,g))return;g=m}if(g)return c(d,f)}function c(d,f){const p=f[f.length-1],g=s[o][0],m=s[o][1];let v=0;const w=p.children.indexOf(d);let T=!1,j=[];g.lastIndex=0;let P=g.exec(d.value);for(;P;){const S=P.index,B={index:P.index,input:P.input,stack:[...f,d]};let $=m(...P,B);if(typeof $=="string"&&($=$.length>0?{type:"text",value:$}:void 0),$===!1?g.lastIndex=S+1:(v!==S&&j.push({type:"text",value:d.value.slice(v,S)}),Array.isArray($)?j.push(...$):$&&j.push($),v=S+P[0].length,T=!0),!g.global)break;P=g.exec(d.value)}return T?(v<d.value.length&&j.push({type:"text",value:d.value.slice(v)}),p.children.splice(w,1,...j)):j=[d],w+j.length}}function Bae(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!t[0]||Array.isArray(t[0])?t:[t];let n=-1;for(;++n<r.length;){const i=r[n];e.push([$ae(i[0]),Uae(i[1])])}return e}function $ae(t){return typeof t=="string"?new RegExp(Fae(t),"g"):t}function Uae(t){return typeof t=="function"?t:function(){return t}}const Y1="phrasing",J1=["autolink","link","image","label"];function Vae(){return{transforms:[Jae],enter:{literalAutolink:qae,literalAutolinkEmail:X1,literalAutolinkHttp:X1,literalAutolinkWww:X1},exit:{literalAutolink:Yae,literalAutolinkEmail:Kae,literalAutolinkHttp:Hae,literalAutolinkWww:Gae}}}function Wae(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Y1,notInConstruct:J1},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Y1,notInConstruct:J1},{character:":",before:"[ps]",after:"\\/",inConstruct:Y1,notInConstruct:J1}]}}function qae(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function X1(t){this.config.enter.autolinkProtocol.call(this,t)}function Hae(t){this.config.exit.autolinkProtocol.call(this,t)}function Gae(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function Kae(t){this.config.exit.autolinkEmail.call(this,t)}function Yae(t){this.exit(t)}function Jae(t){zae(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Xae],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Qae]],{ignore:["link","linkReference"]})}function Xae(t,e,r,n,i){let s="";if(!TF(i)||(/^w/i.test(e)&&(r=e+r,e="",s="http://"),!Zae(r)))return!1;const o=ele(r+n);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function Qae(t,e,r,n){return!TF(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+r,children:[{type:"text",value:e+"@"+r}]}}function Zae(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function ele(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let r=e[0],n=r.indexOf(")");const i=xI(t,"(");let s=xI(t,")");for(;n!==-1&&i>s;)t+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),s++;return[t,r]}function TF(t,e){const r=t.input.charCodeAt(t.index-1);return(t.index===0||dd(r)||Av(r))&&(!e||r!==47)}NF.peek=cle;function tle(){this.buffer()}function rle(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function nle(){this.buffer()}function ile(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function sle(t){const e=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=ta(this.sliceSerialize(t)).toLowerCase(),r.label=e}function ole(t){this.exit(t)}function ale(t){const e=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=ta(this.sliceSerialize(t)).toLowerCase(),r.label=e}function lle(t){this.exit(t)}function cle(){return"["}function NF(t,e,r,n){const i=r.createTracker(n);let s=i.move("[^");const o=r.enter("footnoteReference"),a=r.enter("reference");return s+=i.move(r.safe(r.associationId(t),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function ule(){return{enter:{gfmFootnoteCallString:tle,gfmFootnoteCall:rle,gfmFootnoteDefinitionLabelString:nle,gfmFootnoteDefinition:ile},exit:{gfmFootnoteCallString:sle,gfmFootnoteCall:ole,gfmFootnoteDefinitionLabelString:ale,gfmFootnoteDefinition:lle}}}function dle(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:r,footnoteReference:NF},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,i,s,o){const a=s.createTracker(o);let c=a.move("[^");const d=s.enter("footnoteDefinition"),f=s.enter("label");return c+=a.move(s.safe(s.associationId(n),{before:c,after:"]"})),f(),c+=a.move("]:"),n.children&&n.children.length>0&&(a.shift(4),c+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(n,a.current()),e?AF:fle))),d(),c}}function fle(t,e,r){return e===0?t:AF(t,e,r)}function AF(t,e,r){return(r?"":"    ")+t}const hle=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];jF.peek=xle;function ple(){return{canContainEols:["delete"],enter:{strikethrough:gle},exit:{strikethrough:yle}}}function mle(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:hle}],handlers:{delete:jF}}}function gle(t){this.enter({type:"delete",children:[]},t)}function yle(t){this.exit(t)}function jF(t,e,r,n){const i=r.createTracker(n),s=r.enter("strikethrough");let o=i.move("~~");return o+=r.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function xle(){return"~"}function vle(t){return t.length}function ble(t,e){const r=e||{},n=(r.align||[]).concat(),i=r.stringLength||vle,s=[],o=[],a=[],c=[];let d=0,f=-1;for(;++f<t.length;){const x=[],w=[];let T=-1;for(t[f].length>d&&(d=t[f].length);++T<t[f].length;){const j=wle(t[f][T]);if(r.alignDelimiters!==!1){const P=i(j);w[T]=P,(c[T]===void 0||P>c[T])&&(c[T]=P)}x.push(j)}o[f]=x,a[f]=w}let p=-1;if(typeof n=="object"&&"length"in n)for(;++p<d;)s[p]=vI(n[p]);else{const x=vI(n);for(;++p<d;)s[p]=x}p=-1;const g=[],m=[];for(;++p<d;){const x=s[p];let w="",T="";x===99?(w=":",T=":"):x===108?w=":":x===114&&(T=":");let j=r.alignDelimiters===!1?1:Math.max(1,c[p]-w.length-T.length);const P=w+"-".repeat(j)+T;r.alignDelimiters!==!1&&(j=w.length+j+T.length,j>c[p]&&(c[p]=j),m[p]=j),g[p]=P}o.splice(1,0,g),a.splice(1,0,m),f=-1;const v=[];for(;++f<o.length;){const x=o[f],w=a[f];p=-1;const T=[];for(;++p<d;){const j=x[p]||"";let P="",S="";if(r.alignDelimiters!==!1){const B=c[p]-(w[p]||0),$=s[p];$===114?P=" ".repeat(B):$===99?B%2?(P=" ".repeat(B/2+.5),S=" ".repeat(B/2-.5)):(P=" ".repeat(B/2),S=P):S=" ".repeat(B)}r.delimiterStart!==!1&&!p&&T.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&j==="")&&(r.delimiterStart!==!1||p)&&T.push(" "),r.alignDelimiters!==!1&&T.push(P),T.push(j),r.alignDelimiters!==!1&&T.push(S),r.padding!==!1&&T.push(" "),(r.delimiterEnd!==!1||p!==d-1)&&T.push("|")}v.push(r.delimiterEnd===!1?T.join("").replace(/ +$/,""):T.join(""))}return v.join(`
`)}function wle(t){return t==null?"":String(t)}function vI(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function kle(t,e,r,n){const i=r.enter("blockquote"),s=r.createTracker(n);s.move("> "),s.shift(2);const o=r.indentLines(r.containerFlow(t,s.current()),_le);return i(),o}function _le(t,e,r){return">"+(r?"":" ")+t}function Cle(t,e){return bI(t,e.inConstruct,!0)&&!bI(t,e.notInConstruct,!1)}function bI(t,e,r){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return r;let n=-1;for(;++n<e.length;)if(t.includes(e[n]))return!0;return!1}function wI(t,e,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&Cle(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function Sle(t,e){const r=String(t);let n=r.indexOf(e),i=n,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++s>o&&(o=s):s=1,i=n+e.length,n=r.indexOf(e,i);return o}function Ele(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Tle(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Nle(t,e,r,n){const i=Tle(r),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(Ele(t,r)){const p=r.enter("codeIndented"),g=r.indentLines(s,Ale);return p(),g}const a=r.createTracker(n),c=i.repeat(Math.max(Sle(s,i)+1,3)),d=r.enter("codeFenced");let f=a.move(c);if(t.lang){const p=r.enter(`codeFencedLang${o}`);f+=a.move(r.safe(t.lang,{before:f,after:" ",encode:["`"],...a.current()})),p()}if(t.lang&&t.meta){const p=r.enter(`codeFencedMeta${o}`);f+=a.move(" "),f+=a.move(r.safe(t.meta,{before:f,after:`
`,encode:["`"],...a.current()})),p()}return f+=a.move(`
`),s&&(f+=a.move(s+`
`)),f+=a.move(c),d(),f}function Ale(t,e,r){return(r?"":"    ")+t}function O2(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function jle(t,e,r,n){const i=O2(r),s=i==='"'?"Quote":"Apostrophe",o=r.enter("definition");let a=r.enter("label");const c=r.createTracker(n);let d=c.move("[");return d+=c.move(r.safe(r.associationId(t),{before:d,after:"]",...c.current()})),d+=c.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=r.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(r.safe(t.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(a=r.enter("destinationRaw"),d+=c.move(r.safe(t.url,{before:d,after:t.title?" ":`
`,...c.current()}))),a(),t.title&&(a=r.enter(`title${s}`),d+=c.move(" "+i),d+=c.move(r.safe(t.title,{before:d,after:i,...c.current()})),d+=c.move(i),a()),o(),d}function Ple(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Gm(t){return"&#x"+t.toString(16).toUpperCase()+";"}function zx(t,e,r){const n=ch(t),i=ch(e);return n===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}PF.peek=Rle;function PF(t,e,r,n){const i=Ple(r),s=r.enter("emphasis"),o=r.createTracker(n),a=o.move(i);let c=o.move(r.containerPhrasing(t,{after:i,before:a,...o.current()}));const d=c.charCodeAt(0),f=zx(n.before.charCodeAt(n.before.length-1),d,i);f.inside&&(c=Gm(d)+c.slice(1));const p=c.charCodeAt(c.length-1),g=zx(n.after.charCodeAt(0),p,i);g.inside&&(c=c.slice(0,-1)+Gm(p));const m=o.move(i);return s(),r.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},a+c+m}function Rle(t,e,r){return r.options.emphasis||"*"}function Ile(t,e){let r=!1;return M2(t,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,B_}),!!((!t.depth||t.depth<3)&&T2(t)&&(e.options.setext||r))}function Mle(t,e,r,n){const i=Math.max(Math.min(6,t.depth||1),1),s=r.createTracker(n);if(Ile(t,r)){const f=r.enter("headingSetext"),p=r.enter("phrasing"),g=r.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return p(),f(),g+`
`+(i===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=r.enter("headingAtx"),c=r.enter("phrasing");s.move(o+" ");let d=r.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(d)&&(d=Gm(d.charCodeAt(0))+d.slice(1)),d=d?o+" "+d:o,r.options.closeAtx&&(d+=" "+o),c(),a(),d}RF.peek=Dle;function RF(t){return t.value||""}function Dle(){return"<"}IF.peek=Ole;function IF(t,e,r,n){const i=O2(r),s=i==='"'?"Quote":"Apostrophe",o=r.enter("image");let a=r.enter("label");const c=r.createTracker(n);let d=c.move("![");return d+=c.move(r.safe(t.alt,{before:d,after:"]",...c.current()})),d+=c.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=r.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(r.safe(t.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(a=r.enter("destinationRaw"),d+=c.move(r.safe(t.url,{before:d,after:t.title?" ":")",...c.current()}))),a(),t.title&&(a=r.enter(`title${s}`),d+=c.move(" "+i),d+=c.move(r.safe(t.title,{before:d,after:i,...c.current()})),d+=c.move(i),a()),d+=c.move(")"),o(),d}function Ole(){return"!"}MF.peek=Lle;function MF(t,e,r,n){const i=t.referenceType,s=r.enter("imageReference");let o=r.enter("label");const a=r.createTracker(n);let c=a.move("![");const d=r.safe(t.alt,{before:c,after:"]",...a.current()});c+=a.move(d+"]["),o();const f=r.stack;r.stack=[],o=r.enter("reference");const p=r.safe(r.associationId(t),{before:c,after:"]",...a.current()});return o(),r.stack=f,s(),i==="full"||!d||d!==p?c+=a.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=a.move("]"),c}function Lle(){return"!"}DF.peek=Fle;function DF(t,e,r){let n=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++s<r.unsafe.length;){const o=r.unsafe[s],a=r.compilePattern(o);let c;if(o.atBreak)for(;c=a.exec(n);){let d=c.index;n.charCodeAt(d)===10&&n.charCodeAt(d-1)===13&&d--,n=n.slice(0,d)+" "+n.slice(c.index+1)}}return i+n+i}function Fle(){return"`"}function OF(t,e){const r=T2(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(r===t.url||"mailto:"+r===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}LF.peek=zle;function LF(t,e,r,n){const i=O2(r),s=i==='"'?"Quote":"Apostrophe",o=r.createTracker(n);let a,c;if(OF(t,r)){const f=r.stack;r.stack=[],a=r.enter("autolink");let p=o.move("<");return p+=o.move(r.containerPhrasing(t,{before:p,after:">",...o.current()})),p+=o.move(">"),a(),r.stack=f,p}a=r.enter("link"),c=r.enter("label");let d=o.move("[");return d+=o.move(r.containerPhrasing(t,{before:d,after:"](",...o.current()})),d+=o.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=r.enter("destinationLiteral"),d+=o.move("<"),d+=o.move(r.safe(t.url,{before:d,after:">",...o.current()})),d+=o.move(">")):(c=r.enter("destinationRaw"),d+=o.move(r.safe(t.url,{before:d,after:t.title?" ":")",...o.current()}))),c(),t.title&&(c=r.enter(`title${s}`),d+=o.move(" "+i),d+=o.move(r.safe(t.title,{before:d,after:i,...o.current()})),d+=o.move(i),c()),d+=o.move(")"),a(),d}function zle(t,e,r){return OF(t,r)?"<":"["}FF.peek=Ble;function FF(t,e,r,n){const i=t.referenceType,s=r.enter("linkReference");let o=r.enter("label");const a=r.createTracker(n);let c=a.move("[");const d=r.containerPhrasing(t,{before:c,after:"]",...a.current()});c+=a.move(d+"]["),o();const f=r.stack;r.stack=[],o=r.enter("reference");const p=r.safe(r.associationId(t),{before:c,after:"]",...a.current()});return o(),r.stack=f,s(),i==="full"||!d||d!==p?c+=a.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=a.move("]"),c}function Ble(){return"["}function L2(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function $le(t){const e=L2(t),r=t.options.bulletOther;if(!r)return e==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+r+"`) to be different");return r}function Ule(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function zF(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function Vle(t,e,r,n){const i=r.enter("list"),s=r.bulletCurrent;let o=t.ordered?Ule(r):L2(r);const a=t.ordered?o==="."?")":".":$le(r);let c=e&&r.bulletLastUsed?o===r.bulletLastUsed:!1;if(!t.ordered){const f=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(c=!0),zF(r)===o&&f){let p=-1;for(;++p<t.children.length;){const g=t.children[p];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(o=a),r.bulletCurrent=o;const d=r.containerFlow(t,n);return r.bulletLastUsed=o,r.bulletCurrent=s,i(),d}function Wle(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function qle(t,e,r,n){const i=Wle(r);let s=r.bulletCurrent||L2(r);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(r.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=r.createTracker(n);a.move(s+" ".repeat(o-s.length)),a.shift(o);const c=r.enter("listItem"),d=r.indentLines(r.containerFlow(t,a.current()),f);return c(),d;function f(p,g,m){return g?(m?"":" ".repeat(o))+p:(m?s:s+" ".repeat(o-s.length))+p}}function Hle(t,e,r,n){const i=r.enter("paragraph"),s=r.enter("phrasing"),o=r.containerPhrasing(t,n);return s(),i(),o}const Gle=Rv(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Kle(t,e,r,n){return(t.children.some(function(o){return Gle(o)})?r.containerPhrasing:r.containerFlow).call(r,t,n)}function Yle(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}BF.peek=Jle;function BF(t,e,r,n){const i=Yle(r),s=r.enter("strong"),o=r.createTracker(n),a=o.move(i+i);let c=o.move(r.containerPhrasing(t,{after:i,before:a,...o.current()}));const d=c.charCodeAt(0),f=zx(n.before.charCodeAt(n.before.length-1),d,i);f.inside&&(c=Gm(d)+c.slice(1));const p=c.charCodeAt(c.length-1),g=zx(n.after.charCodeAt(0),p,i);g.inside&&(c=c.slice(0,-1)+Gm(p));const m=o.move(i+i);return s(),r.attentionEncodeSurroundingInfo={after:g.outside,before:f.outside},a+c+m}function Jle(t,e,r){return r.options.strong||"*"}function Xle(t,e,r,n){return r.safe(t.value,n)}function Qle(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function Zle(t,e,r){const n=(zF(r)+(r.options.ruleSpaces?" ":"")).repeat(Qle(r));return r.options.ruleSpaces?n.slice(0,-1):n}const $F={blockquote:kle,break:wI,code:Nle,definition:jle,emphasis:PF,hardBreak:wI,heading:Mle,html:RF,image:IF,imageReference:MF,inlineCode:DF,link:LF,linkReference:FF,list:Vle,listItem:qle,paragraph:Hle,root:Kle,strong:BF,text:Xle,thematicBreak:Zle};function ece(){return{enter:{table:tce,tableData:kI,tableHeader:kI,tableRow:nce},exit:{codeText:ice,table:rce,tableData:Q1,tableHeader:Q1,tableRow:Q1}}}function tce(t){const e=t._align;this.enter({type:"table",align:e.map(function(r){return r==="none"?null:r}),children:[]},t),this.data.inTable=!0}function rce(t){this.exit(t),this.data.inTable=void 0}function nce(t){this.enter({type:"tableRow",children:[]},t)}function Q1(t){this.exit(t)}function kI(t){this.enter({type:"tableCell",children:[]},t)}function ice(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,sce));const r=this.stack[this.stack.length-1];r.type,r.value=e,this.exit(t)}function sce(t,e){return e==="|"?e:t}function oce(t){const e=t||{},r=e.tableCellPadding,n=e.tablePipeAlign,i=e.stringLength,s=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:o,tableCell:c,tableRow:a}};function o(m,v,x,w){return d(f(m,x,w),m.align)}function a(m,v,x,w){const T=p(m,x,w),j=d([T]);return j.slice(0,j.indexOf(`
`))}function c(m,v,x,w){const T=x.enter("tableCell"),j=x.enter("phrasing"),P=x.containerPhrasing(m,{...w,before:s,after:s});return j(),T(),P}function d(m,v){return ble(m,{align:v,alignDelimiters:n,padding:r,stringLength:i})}function f(m,v,x){const w=m.children;let T=-1;const j=[],P=v.enter("table");for(;++T<w.length;)j[T]=p(w[T],v,x);return P(),j}function p(m,v,x){const w=m.children;let T=-1;const j=[],P=v.enter("tableRow");for(;++T<w.length;)j[T]=c(w[T],m,v,x);return P(),j}function g(m,v,x){let w=$F.inlineCode(m,v,x);return x.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function ace(){return{exit:{taskListCheckValueChecked:_I,taskListCheckValueUnchecked:_I,paragraph:cce}}}function lce(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:uce}}}function _I(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function cce(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(t)}function uce(t,e,r,n){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=r.createTracker(n);s&&a.move(o);let c=$F.listItem(t,e,r,{...n,...a.current()});return s&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),c;function d(f){return f+o}}function dce(){return[Vae(),ule(),ple(),ece(),ace()]}function fce(t){return{extensions:[Wae(),dle(t),mle(),oce(t),lce()]}}const hce={tokenize:vce,partial:!0},UF={tokenize:bce,partial:!0},VF={tokenize:wce,partial:!0},WF={tokenize:kce,partial:!0},pce={tokenize:_ce,partial:!0},qF={name:"wwwAutolink",tokenize:yce,previous:GF},HF={name:"protocolAutolink",tokenize:xce,previous:KF},jl={name:"emailAutolink",tokenize:gce,previous:YF},qa={};function mce(){return{text:qa}}let gu=48;for(;gu<123;)qa[gu]=jl,gu++,gu===58?gu=65:gu===91&&(gu=97);qa[43]=jl;qa[45]=jl;qa[46]=jl;qa[95]=jl;qa[72]=[jl,HF];qa[104]=[jl,HF];qa[87]=[jl,qF];qa[119]=[jl,qF];function gce(t,e,r){const n=this;let i,s;return o;function o(p){return!W_(p)||!YF.call(n,n.previous)||F2(n.events)?r(p):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(p))}function a(p){return W_(p)?(t.consume(p),a):p===64?(t.consume(p),c):r(p)}function c(p){return p===46?t.check(pce,f,d)(p):p===45||p===95||Pi(p)?(s=!0,t.consume(p),c):f(p)}function d(p){return t.consume(p),i=!0,c}function f(p){return s&&i&&Yi(n.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(p)):r(p)}}function yce(t,e,r){const n=this;return i;function i(o){return o!==87&&o!==119||!GF.call(n,n.previous)||F2(n.events)?r(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(hce,t.attempt(UF,t.attempt(VF,s),r),r)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function xce(t,e,r){const n=this;let i="",s=!1;return o;function o(p){return(p===72||p===104)&&KF.call(n,n.previous)&&!F2(n.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),t.consume(p),a):r(p)}function a(p){if(Yi(p)&&i.length<5)return i+=String.fromCodePoint(p),t.consume(p),a;if(p===58){const g=i.toLowerCase();if(g==="http"||g==="https")return t.consume(p),c}return r(p)}function c(p){return p===47?(t.consume(p),s?d:(s=!0,c)):r(p)}function d(p){return p===null||Ox(p)||Fr(p)||dd(p)||Av(p)?r(p):t.attempt(UF,t.attempt(VF,f),r)(p)}function f(p){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(p)}}function vce(t,e,r){let n=0;return i;function i(o){return(o===87||o===119)&&n<3?(n++,t.consume(o),i):o===46&&n===3?(t.consume(o),s):r(o)}function s(o){return o===null?r(o):e(o)}}function bce(t,e,r){let n,i,s;return o;function o(d){return d===46||d===95?t.check(WF,c,a)(d):d===null||Fr(d)||dd(d)||d!==45&&Av(d)?c(d):(s=!0,t.consume(d),o)}function a(d){return d===95?n=!0:(i=n,n=void 0),t.consume(d),o}function c(d){return i||n||!s?r(d):e(d)}}function wce(t,e){let r=0,n=0;return i;function i(o){return o===40?(r++,t.consume(o),i):o===41&&n<r?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(WF,e,s)(o):o===null||Fr(o)||dd(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&n++,t.consume(o),i}}function kce(t,e,r){return n;function n(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),n):a===38?(t.consume(a),s):a===93?(t.consume(a),i):a===60||a===null||Fr(a)||dd(a)?e(a):r(a)}function i(a){return a===null||a===40||a===91||Fr(a)||dd(a)?e(a):n(a)}function s(a){return Yi(a)?o(a):r(a)}function o(a){return a===59?(t.consume(a),n):Yi(a)?(t.consume(a),o):r(a)}}function _ce(t,e,r){return n;function n(s){return t.consume(s),i}function i(s){return Pi(s)?r(s):e(s)}}function GF(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Fr(t)}function KF(t){return!Yi(t)}function YF(t){return!(t===47||W_(t))}function W_(t){return t===43||t===45||t===46||t===95||Pi(t)}function F2(t){let e=t.length,r=!1;for(;e--;){const n=t[e][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return t.length>0&&!r&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const Cce={tokenize:Rce,partial:!0};function Sce(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Ace,continuation:{tokenize:jce},exit:Pce}},text:{91:{name:"gfmFootnoteCall",tokenize:Nce},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Ece,resolveTo:Tce}}}}function Ece(t,e,r){const n=this;let i=n.events.length;const s=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let o;for(;i--;){const c=n.events[i][1];if(c.type==="labelImage"){o=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return a;function a(c){if(!o||!o._balanced)return r(c);const d=ta(n.sliceSerialize({start:o.end,end:n.now()}));return d.codePointAt(0)!==94||!s.includes(d.slice(1))?r(c):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(c),t.exit("gfmFootnoteCallLabelMarker"),e(c))}}function Tce(t,e){let r=t.length;for(;r--;)if(t[r][1].type==="labelImage"&&t[r][0]==="enter"){t[r][1];break}t[r+1][1].type="data",t[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},t[r+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[r+3][1].end),end:Object.assign({},t[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[r+1],t[r+2],["enter",n,e],t[r+3],t[r+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",n,e]];return t.splice(r,t.length-r+1,...a),t}function Nce(t,e,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s=0,o;return a;function a(p){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(p),t.exit("gfmFootnoteCallLabelMarker"),c}function c(p){return p!==94?r(p):(t.enter("gfmFootnoteCallMarker"),t.consume(p),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",d)}function d(p){if(s>999||p===93&&!o||p===null||p===91||Fr(p))return r(p);if(p===93){t.exit("chunkString");const g=t.exit("gfmFootnoteCallString");return i.includes(ta(n.sliceSerialize(g)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(p),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):r(p)}return Fr(p)||(o=!0),s++,t.consume(p),p===92?f:d}function f(p){return p===91||p===92||p===93?(t.consume(p),s++,d):d(p)}}function Ace(t,e,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s,o=0,a;return c;function c(v){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(v){return v===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",f):r(v)}function f(v){if(o>999||v===93&&!a||v===null||v===91||Fr(v))return r(v);if(v===93){t.exit("chunkString");const x=t.exit("gfmFootnoteDefinitionLabelString");return s=ta(n.sliceSerialize(x)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),g}return Fr(v)||(a=!0),o++,t.consume(v),v===92?p:f}function p(v){return v===91||v===92||v===93?(t.consume(v),o++,f):f(v)}function g(v){return v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),i.includes(s)||i.push(s),hr(t,m,"gfmFootnoteDefinitionWhitespace")):r(v)}function m(v){return e(v)}}function jce(t,e,r){return t.check(bg,e,t.attempt(Cce,e,r))}function Pce(t){t.exit("gfmFootnoteDefinition")}function Rce(t,e,r){const n=this;return hr(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=n.events[n.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):r(s)}}function Ice(t){let r=(t||{}).singleTilde;const n={name:"strikethrough",tokenize:s,resolveAll:i};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(o,a){let c=-1;for(;++c<o.length;)if(o[c][0]==="enter"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._close){let d=c;for(;d--;)if(o[d][0]==="exit"&&o[d][1].type==="strikethroughSequenceTemporary"&&o[d][1]._open&&o[c][1].end.offset-o[c][1].start.offset===o[d][1].end.offset-o[d][1].start.offset){o[c][1].type="strikethroughSequence",o[d][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},o[d][1].start),end:Object.assign({},o[c][1].end)},p={type:"strikethroughText",start:Object.assign({},o[d][1].end),end:Object.assign({},o[c][1].start)},g=[["enter",f,a],["enter",o[d][1],a],["exit",o[d][1],a],["enter",p,a]],m=a.parser.constructs.insideSpan.null;m&&Ks(g,g.length,0,jv(m,o.slice(d+1,c),a)),Ks(g,g.length,0,[["exit",p,a],["enter",o[c][1],a],["exit",o[c][1],a],["exit",f,a]]),Ks(o,d-1,c-d+3,g),c=d+g.length-2;break}}for(c=-1;++c<o.length;)o[c][1].type==="strikethroughSequenceTemporary"&&(o[c][1].type="data");return o}function s(o,a,c){const d=this.previous,f=this.events;let p=0;return g;function g(v){return d===126&&f[f.length-1][1].type!=="characterEscape"?c(v):(o.enter("strikethroughSequenceTemporary"),m(v))}function m(v){const x=ch(d);if(v===126)return p>1?c(v):(o.consume(v),p++,m);if(p<2&&!r)return c(v);const w=o.exit("strikethroughSequenceTemporary"),T=ch(v);return w._open=!T||T===2&&!!x,w._close=!x||x===2&&!!T,a(v)}}}class Mce{constructor(){this.map=[]}add(e,r,n){Dce(this,e,r,n)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(e.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),e.length=this.map[r][0];n.push(e.slice()),e.length=0;let i=n.pop();for(;i;){for(const s of i)e.push(s);i=n.pop()}this.map.length=0}}function Dce(t,e,r,n){let i=0;if(!(r===0&&n.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=r,t.map[i][2].push(...n);return}i+=1}t.map.push([e,r,n])}}function Oce(t,e){let r=!1;const n=[];for(;e<t.length;){const i=t[e];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=n.length-1;n[s]=n[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);e+=1}return n}function Lce(){return{flow:{null:{name:"table",tokenize:Fce,resolveAll:zce}}}}function Fce(t,e,r){const n=this;let i=0,s=0,o;return a;function a(H){let J=n.events.length-1;for(;J>-1;){const b=n.events[J][1].type;if(b==="lineEnding"||b==="linePrefix")J--;else break}const V=J>-1?n.events[J][1].type:null,F=V==="tableHead"||V==="tableRow"?$:c;return F===$&&n.parser.lazy[n.now().line]?r(H):F(H)}function c(H){return t.enter("tableHead"),t.enter("tableRow"),d(H)}function d(H){return H===124||(o=!0,s+=1),f(H)}function f(H){return H===null?r(H):kt(H)?s>1?(s=0,n.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(H),t.exit("lineEnding"),m):r(H):lr(H)?hr(t,f,"whitespace")(H):(s+=1,o&&(o=!1,i+=1),H===124?(t.enter("tableCellDivider"),t.consume(H),t.exit("tableCellDivider"),o=!0,f):(t.enter("data"),p(H)))}function p(H){return H===null||H===124||Fr(H)?(t.exit("data"),f(H)):(t.consume(H),H===92?g:p)}function g(H){return H===92||H===124?(t.consume(H),p):p(H)}function m(H){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(H):(t.enter("tableDelimiterRow"),o=!1,lr(H)?hr(t,v,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(H):v(H))}function v(H){return H===45||H===58?w(H):H===124?(o=!0,t.enter("tableCellDivider"),t.consume(H),t.exit("tableCellDivider"),x):B(H)}function x(H){return lr(H)?hr(t,w,"whitespace")(H):w(H)}function w(H){return H===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(H),t.exit("tableDelimiterMarker"),T):H===45?(s+=1,T(H)):H===null||kt(H)?S(H):B(H)}function T(H){return H===45?(t.enter("tableDelimiterFiller"),j(H)):B(H)}function j(H){return H===45?(t.consume(H),j):H===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(H),t.exit("tableDelimiterMarker"),P):(t.exit("tableDelimiterFiller"),P(H))}function P(H){return lr(H)?hr(t,S,"whitespace")(H):S(H)}function S(H){return H===124?v(H):H===null||kt(H)?!o||i!==s?B(H):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(H)):B(H)}function B(H){return r(H)}function $(H){return t.enter("tableRow"),W(H)}function W(H){return H===124?(t.enter("tableCellDivider"),t.consume(H),t.exit("tableCellDivider"),W):H===null||kt(H)?(t.exit("tableRow"),e(H)):lr(H)?hr(t,W,"whitespace")(H):(t.enter("data"),G(H))}function G(H){return H===null||H===124||Fr(H)?(t.exit("data"),W(H)):(t.consume(H),H===92?q:G)}function q(H){return H===92||H===124?(t.consume(H),G):G(H)}}function zce(t,e){let r=-1,n=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,c=0,d,f,p;const g=new Mce;for(;++r<t.length;){const m=t[r],v=m[1];m[0]==="enter"?v.type==="tableHead"?(a=!1,c!==0&&(CI(g,e,c,d,f),f=void 0,c=0),d={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},g.add(r,0,[["enter",d,e]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(n=!0,p=void 0,s=[0,0,0,0],o=[0,r+1,0,0],a&&(a=!1,f={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},g.add(r,0,[["enter",f,e]])),i=v.type==="tableDelimiterRow"?2:f?3:1):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(n=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],p=c0(g,e,s,i,void 0,p),s=[0,0,0,0]),o[2]=r)):v.type==="tableCellDivider"&&(n?n=!1:(s[1]!==0&&(o[0]=o[1],p=c0(g,e,s,i,void 0,p)),s=o,o=[s[1],r,0,0])):v.type==="tableHead"?(a=!0,c=r):v.type==="tableRow"||v.type==="tableDelimiterRow"?(c=r,s[1]!==0?(o[0]=o[1],p=c0(g,e,s,i,r,p)):o[1]!==0&&(p=c0(g,e,o,i,r,p)),i=0):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(o[3]=r)}for(c!==0&&CI(g,e,c,d,f),g.consume(e.events),r=-1;++r<e.events.length;){const m=e.events[r];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Oce(e.events,r))}return t}function c0(t,e,r,n,i,s){const o=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",a="tableContent";r[0]!==0&&(s.end=Object.assign({},hf(e.events,r[0])),t.add(r[0],0,[["exit",s,e]]));const c=hf(e.events,r[1]);if(s={type:o,start:Object.assign({},c),end:Object.assign({},c)},t.add(r[1],0,[["enter",s,e]]),r[2]!==0){const d=hf(e.events,r[2]),f=hf(e.events,r[3]),p={type:a,start:Object.assign({},d),end:Object.assign({},f)};if(t.add(r[2],0,[["enter",p,e]]),n!==2){const g=e.events[r[2]],m=e.events[r[3]];if(g[1].end=Object.assign({},m[1].end),g[1].type="chunkText",g[1].contentType="text",r[3]>r[2]+1){const v=r[2]+1,x=r[3]-r[2]-1;t.add(v,x,[])}}t.add(r[3]+1,0,[["exit",p,e]])}return i!==void 0&&(s.end=Object.assign({},hf(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function CI(t,e,r,n,i){const s=[],o=hf(e.events,r);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),n.end=Object.assign({},o),s.push(["exit",n,e]),t.add(r+1,0,s)}function hf(t,e){const r=t[e],n=r[0]==="enter"?"start":"end";return r[1][n]}const Bce={name:"tasklistCheck",tokenize:Uce};function $ce(){return{text:{91:Bce}}}function Uce(t,e,r){const n=this;return i;function i(c){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(c):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(c),t.exit("taskListCheckMarker"),s)}function s(c){return Fr(c)?(t.enter("taskListCheckValueUnchecked"),t.consume(c),t.exit("taskListCheckValueUnchecked"),o):c===88||c===120?(t.enter("taskListCheckValueChecked"),t.consume(c),t.exit("taskListCheckValueChecked"),o):r(c)}function o(c){return c===93?(t.enter("taskListCheckMarker"),t.consume(c),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):r(c)}function a(c){return kt(c)?e(c):lr(c)?t.check({tokenize:Vce},e,r)(c):r(c)}}function Vce(t,e,r){return hr(t,n,"whitespace");function n(i){return i===null?r(i):e(i)}}function Wce(t){return oF([mce(),Sce(),Ice(t),Lce(),$ce()])}const qce={};function Hce(t){const e=this,r=t||qce,n=e.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),s=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),o=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(Wce(r)),s.push(dce()),o.push(fce(r))}ul.registerPlugin(rr);const yu=({id:t,className:e="",containerClassName:r="",children:n})=>l.jsx("section",{id:t,className:`w-full ${e}`,children:l.jsx("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 ${r}`,children:n})}),kp=({eyebrow:t,title:e,subtitle:r,className:n=""})=>l.jsxs("div",{className:`text-center mb-8 sm:mb-10 lg:mb-14 ${n}`,children:[t&&l.jsx("div",{className:"font-display text-[length:var(--text-sm)] tracking-wider uppercase text-primary mb-2 font-semibold",children:t}),l.jsx("h2",{className:"font-display text-[length:var(--text-4xl)] font-bold mb-3 text-foreground leading-tight tracking-tighter",children:e}),r&&l.jsx("p",{className:"font-body text-[length:var(--text-lg)] text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:r})]}),Gce=()=>{const t=C.useRef(null);return C.useEffect(()=>{const e=t.current;if(!e)return;const r=[];for(let n=0;n<6;n++){const i=document.createElement("div");i.className=`absolute rounded-full animate-pulse
        bg-primary/20 dark:bg-primary/30 dim-blue:bg-primary/25
        border border-primary/30 dark:border-primary/40 dim-blue:border-primary/35
        shadow-lg dark:shadow-primary/20 dim-blue:shadow-primary/25`,i.style.width=`${Math.random()*200+100}px`,i.style.height=i.style.width,i.style.left=`${Math.random()*100}%`,i.style.top=`${Math.random()*100}%`,e.appendChild(i),r.push(i),ul.to(i,{x:Math.random()*100-50,y:Math.random()*100-50,duration:Math.random()*10+10,repeat:-1,yoyo:!0,ease:"sine.inOut"})}return()=>{r.forEach(n=>n.remove())}},[]),l.jsx("div",{ref:t,className:"absolute inset-0 overflow-hidden pointer-events-none"})};function Kce(t){if(!t)return[];const e=t.split(`
`).map(i=>i.replace(/\r$/,""));let r=0;for(;r<e.length&&(e[r].trim()===""||e[r].trim().startsWith("##"));)r++;const n=[];for(;r<e.length;){if(!e[r].trim().startsWith("**Q:")){r++;continue}const i=e[r].trim().replace(/^\*\*Q:\s*/,"").replace(/\*\*$/,"").trim();for(r++;r<e.length&&e[r].trim()==="";)r++;const s=[];for(r<e.length&&e[r].trim().startsWith("A:")&&(s.push(e[r].trim().replace(/^A:\s*/,"")),r++);r<e.length&&!e[r].trim().startsWith("**Q:");)s.push(e[r]),r++;n.push({q:i,aMd:s.join(`
`).trim()})}return n}function Yce(){const[t,e]=C.useState("");C.useRef(null),C.useRef(null),C.useRef(null),C.useEffect(()=>(ul.timeline().from(".hero-headline",{opacity:0,y:50,duration:1,ease:"power3.out"}).from(".hero-subtext",{opacity:0,y:30,duration:.8,ease:"power3.out"},"-=0.5").from(".hero-cta",{opacity:0,y:20,duration:.6,stagger:.1,ease:"power3.out"},"-=0.3"),ul.utils.toArray(".reveal").forEach(i=>{ul.fromTo(i,{opacity:0,y:50},{opacity:1,y:0,duration:.8,ease:"power3.out",scrollTrigger:{trigger:i,start:"top 80%",end:"bottom 20%",toggleActions:"play none none reverse"}})}),ul.utils.toArray(".card-grid").forEach(i=>{const s=i.querySelectorAll(".card-item");ul.fromTo(s,{opacity:0,y:30},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power3.out",scrollTrigger:{trigger:i,start:"top 80%",toggleActions:"play none none reverse"}})}),ul.to(".pulse-btn",{scale:1.05,duration:1,repeat:-1,yoyo:!0,ease:"power2.inOut"}),()=>{rr.getAll().forEach(i=>i.kill())}),[]),C.useEffect(()=>{let n=!0;return fetch("/FAQ.md").then(i=>i.text()).then(i=>{n&&e(i)}).catch(()=>{n&&e(`## FAQ
Content unavailable.`)}),()=>{n=!1}},[]);const r=Kce(t);return l.jsxs("div",{className:"bg-background text-foreground overflow-x-hidden -mb-8",children:[l.jsxs(yu,{id:"hero",className:"min-h-[90vh] sm:min-h-[100vh] flex items-center justify-center relative bg-gradient-to-br from-background via-card to-muted pt-16 sm:pt-0",children:[l.jsx(Gce,{}),l.jsx("div",{className:"relative z-10 w-full py-12 sm:py-20",children:l.jsxs("div",{className:"text-center max-w-6xl mx-auto",children:[l.jsxs("h1",{className:"hero-headline font-display text-[length:var(--text-5xl)] font-bold mb-4 sm:mb-6 text-foreground leading-tight tracking-tighter",children:["Explore New Strategies to Distribute"," ",l.jsx("span",{className:"bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"NFTs"})," ","and"," ",l.jsx("span",{className:"bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Community Rewards"})]}),l.jsx("p",{className:"hero-subtext font-body text-[length:var(--text-lg)] text-muted-foreground mb-6 sm:mb-8 max-w-4xl mx-auto leading-relaxed",children:"Transparent whitelist allocations  Inter-community collaboration  Disincentivize mint bots  Earn community trust"}),l.jsxs("div",{className:"hero-cta flex flex-col items-center gap-6 mb-6 sm:mb-12",children:[l.jsx(Gf,{to:"/app",target:"_blank",rel:"noopener noreferrer",className:"pulse-btn inline-flex items-center justify-center px-8 py-4 rounded-xl bg-primary text-primary-foreground hover:bg-primary/90 transition-all duration-300 shadow-lg hover:shadow-xl font-semibold text-[length:var(--text-lg)]",children:"Launch Dapp"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[l.jsxs("button",{onClick:()=>document.getElementById("video-demo").scrollIntoView({behavior:"smooth"}),className:"hero-cta inline-flex items-center justify-center px-8 py-4 rounded-xl border-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground transition-all duration-300 font-semibold text-[length:var(--text-lg)]",children:[l.jsx(bP,{className:"mr-2 h-5 w-5"}),"Watch Demo"]}),l.jsxs("a",{href:"https://docs.rafflhub.com",target:"_blank",rel:"noopener noreferrer",className:"hero-cta inline-flex items-center justify-center px-8 py-4 rounded-xl border border-muted-foreground text-muted-foreground hover:border-primary hover:text-primary transition-all duration-300 font-semibold text-[length:var(--text-base)]",children:[l.jsx(pP,{className:"mr-2 h-5 w-5"}),"Read Documentation"]})]})]}),l.jsxs("div",{className:"hero-cta flex flex-wrap justify-center items-center gap-6 font-body text-[length:var(--text-sm)] text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ml,{className:"h-4 w-4 text-primary"}),l.jsx("span",{children:"Chainlink VRF Powered"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(jr,{className:"h-4 w-4 text-primary"}),l.jsx("span",{children:"Fairness Guaranteed"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(rY,{className:"h-4 w-4 text-primary"}),l.jsx("span",{children:"Fully Transparent"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(lY,{className:"h-4 w-4 text-primary"}),l.jsx("span",{children:"Trustless"})]})]})]})})]}),l.jsxs(yu,{id:"problem",className:"py-20 bg-card",children:[l.jsx("div",{className:"reveal",children:l.jsx(kp,{title:"The End of Opaque Whitelist Allocations, Botted Mints, and Rigged Giveaways",subtitle:"Traditional Web3 distribution methods are broken. Dropr fixes them with innovative raffle-based technology."})}),l.jsxs("div",{className:"card-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-16",children:[l.jsxs("div",{className:"card-item bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(ml,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-bold mb-3 text-foreground leading-snug",children:"No More Insider Favoritism"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground leading-relaxed",children:"Cryptographically secure randomness ensures every participant has an equal chance"})]}),l.jsxs("div",{className:"card-item bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(tY,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-bold mb-3 text-foreground leading-snug",children:"Discourage Bot Attacks"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground leading-relaxed",children:"The Winner selection algorithm largely disincentivizes bot manipulation during NFT Drops"})]}),l.jsxs("div",{className:"card-item bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Tc,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-bold mb-3 text-foreground leading-snug",children:"Build Community Trust"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground leading-relaxed",children:"Transparent, verifiable processes that communities can audit and trust"})]}),l.jsxs("div",{className:"card-item bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(hx,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-bold mb-3 text-foreground leading-snug",children:"Trustless Prize Distribution"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground leading-relaxed",children:"Smart contracts handle prize distribution without need for manual intervention"})]})]})]}),l.jsxs(yu,{id:"how-it-works",className:"py-20 bg-card",children:[l.jsx("div",{className:"reveal",children:l.jsx(kp,{title:"How It Works",subtitle:"Three simple steps to create provably fair raffles that your community can trust"})}),l.jsxs("div",{className:"card-grid grid grid-cols-1 lg:grid-cols-3 gap-8 lg:gap-12 mt-16",children:[l.jsx("div",{className:"card-item relative",children:l.jsxs("div",{className:"bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-6 relative z-10",children:l.jsx("span",{className:"text-2xl font-bold text-primary-foreground",children:"1"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-2xl)] font-bold mb-4 text-foreground leading-snug",children:"Create Raffle"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground mb-4 leading-relaxed",children:"Set raffle parameters - participation limits, start time, duration, number of winners, and prizes."}),l.jsxs("div",{className:"flex items-center justify-center gap-2 font-body text-[length:var(--text-sm)] text-primary",children:[l.jsx(pY,{className:"h-4 w-4"}),l.jsx("span",{children:"Flexible Configuration"})]})]})}),l.jsx("div",{className:"card-item relative",children:l.jsxs("div",{className:"bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-6 relative z-10",children:l.jsx("span",{className:"text-2xl font-bold text-primary-foreground",children:"2"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-2xl)] font-bold mb-4 text-foreground leading-snug",children:"Chainlink VRF"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground mb-4 leading-relaxed",children:"Participants request randomness ensuring fair winner selection. Every draw is cryptographically secure and auditable."}),l.jsxs("div",{className:"flex items-center justify-center gap-2 font-body text-[length:var(--text-sm)] text-primary",children:[l.jsx(fY,{className:"h-4 w-4"}),l.jsx("span",{children:"Provably Fair"})]})]})}),l.jsx("div",{className:"card-item relative",children:l.jsxs("div",{className:"bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-6 relative z-10",children:l.jsx("span",{className:"text-2xl font-bold text-primary-foreground",children:"3"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-2xl)] font-bold mb-4 text-foreground leading-snug",children:"Prize Distribution"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground mb-4 leading-relaxed",children:"Prize availability guaranteed. Winners can always claim prizes from raffle contracts."}),l.jsxs("div",{className:"flex items-center justify-center gap-2 font-body text-[length:var(--text-sm)] text-primary",children:[l.jsx(i3,{className:"h-4 w-4"}),l.jsx("span",{children:"Instant Claims"})]})]})})]})]}),l.jsxs(yu,{id:"video-demo",className:"py-20 bg-background",children:[l.jsx("div",{className:"reveal",children:l.jsx(kp,{title:"Watch Dropr in Action"})}),l.jsx("div",{className:"reveal mt-12",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx("div",{className:"relative aspect-[16/9] sm:aspect-video rounded-2xl overflow-hidden shadow-2xl bg-primary/5 border border-border",children:l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-primary/10 to-primary/5",children:l.jsxs("div",{className:"text-center px-4",children:[l.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 bg-primary rounded-full flex items-center justify-center mx-auto mb-4 hover:scale-110 transition-transform cursor-pointer",children:l.jsx(bP,{className:"h-8 w-8 sm:h-12 sm:w-12 text-primary-foreground ml-1"})}),l.jsx("p",{className:"text-foreground font-semibold font-body text-[length:var(--text-base)]",children:"Video Coming Soon"}),l.jsx("p",{className:"text-muted-foreground font-body text-[length:var(--text-sm)] mt-2",children:"Complete walkthrough of the Dropr platform"})]})})})})})]}),l.jsxs(yu,{id:"use-cases",className:"py-20 bg-background",children:[l.jsx("div",{className:"reveal",children:l.jsx(kp,{title:"Built for Web3",subtitle:"Launch NFT drops, grow and reward communities, build genuine engagement"})}),l.jsxs("div",{className:"card-grid grid grid-cols-1 lg:grid-cols-3 gap-8 mt-16",children:[l.jsxs("div",{className:"card-item bg-card rounded-2xl p-8 hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-6",children:l.jsx(a3,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-2xl)] font-bold mb-4 text-foreground leading-snug",children:"Projects"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground mb-6 leading-relaxed",children:"Fairly distribute whitelist spots for new mints. Eliminate gas wars and ensure equal opportunity for all community members."}),l.jsxs("ul",{className:"space-y-2 font-body text-[length:var(--text-sm)] text-muted-foreground",children:[l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(jr,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Supports ERC721 & ERC1155 standards"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(jr,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Flexible launch strategies"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(jr,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Inter-community collabs simplified"})]})]})]}),l.jsxs("div",{className:"card-item bg-card rounded-2xl p-8 hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-6",children:l.jsx(fS,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-2xl)] font-bold mb-4 text-foreground whitespace-nowrap leading-snug",children:"KOLs & Influencers"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground mb-6 leading-relaxed",children:"Host trustless giveaways that protect your reputation. Build authentic engagement with your community using provably fair raffling mechanics."}),l.jsxs("ul",{className:"space-y-2 font-body text-[length:var(--text-sm)] text-muted-foreground",children:[l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(jr,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Build reputation and trust"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(jr,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Flexible prize options for community rewards"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(jr,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Project collabs made easy"})]})]})]}),l.jsxs("div",{className:"card-item bg-card rounded-2xl p-8 hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-6",children:l.jsx(Tm,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"font-display text-[length:var(--text-2xl)] font-bold mb-4 text-foreground leading-snug",children:"Creators"}),l.jsx("p",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground mb-6 leading-relaxed",children:"Grow your community and holder base by transparently distributing rewards to holders of creator tokens."}),l.jsxs("ul",{className:"space-y-2 font-body text-[length:var(--text-sm)] text-muted-foreground",children:[l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(jr,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Token-gated raffles for holder rewards"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(jr,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Flexible prize options for holder rewards"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(jr,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"font-body text-[length:var(--text-sm)] text-muted-foreground",children:"Easy collabs with projects and other creators"})]})]})]})]})]}),l.jsxs(yu,{id:"faq",className:"py-20 bg-background",children:[l.jsx("div",{className:"reveal",children:l.jsx(kp,{title:"Frequently Asked Questions"})}),l.jsx("div",{className:"reveal max-w-4xl mx-auto mt-12",children:l.jsx(gL,{type:"single",collapsible:!0,className:"space-y-4",children:r.map((n,i)=>l.jsxs(yL,{value:`item-${i}`,className:"rounded-2xl border border-border bg-card overflow-hidden",children:[l.jsx(xL,{children:l.jsxs(vL,{className:"w-full p-4 sm:p-6 flex items-center justify-between text-left font-semibold hover:bg-primary/5 transition-colors group",children:[l.jsx("span",{className:"pr-4 text-base sm:text-lg text-foreground group-hover:text-primary leading-relaxed",children:n.q}),l.jsx(ko,{className:"h-5 w-5 shrink-0 transition-transform duration-200 data-[state=open]:rotate-180 text-primary"})]})}),l.jsx(bL,{className:"px-4 sm:px-6 pb-4 sm:pb-6 pt-2 border-t border-border overflow-hidden data-[state=open]:animate-slideDown data-[state=closed]:animate-slideUp",children:l.jsx(Iae,{remarkPlugins:[Hce],components:{p:s=>l.jsx("p",{className:"text-sm text-muted-foreground",...s}),li:s=>l.jsx("li",{className:"list-disc ml-5 text-sm text-muted-foreground",...s}),strong:s=>l.jsx("strong",{className:"text-primary font-semibold",...s}),a:s=>l.jsx("a",{className:"text-primary underline hover:text-primary/80",...s})},children:n.aMd})})]},i))})})]}),l.jsx(yu,{id:"final-cta",className:"py-16 sm:py-20 bg-gradient-to-br from-primary to-primary/80 text-primary-foreground",children:l.jsxs("div",{className:"reveal text-center",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 sm:mb-6",children:"Ready to Build Trust with Your Community?"}),l.jsx("p",{className:"text-lg sm:text-xl md:text-2xl mb-6 sm:mb-8 opacity-90 max-w-3xl mx-auto",children:"Deploy Your First Raffle - No Code Required"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[l.jsx(Gf,{to:"/app",target:"_blank",rel:"noopener noreferrer",className:"pulse-btn inline-flex items-center justify-center px-8 sm:px-10 py-4 sm:py-5 rounded-xl bg-background text-foreground hover:bg-card transition-all duration-300 shadow-lg hover:shadow-xl font-bold text-lg sm:text-xl",children:"Launch Your Raffle Now"}),l.jsxs("a",{href:"https://rafflhub.gitbook.io/rafflhub",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center px-8 sm:px-10 py-4 sm:py-5 rounded-xl border-2 border-primary-foreground text-primary-foreground hover:bg-primary-foreground hover:text-primary transition-all duration-300 font-bold text-lg sm:text-xl",children:[l.jsx(pP,{className:"mr-3 h-5 w-5 sm:h-6 sm:w-6"}),"Read Documentation"]})]}),l.jsxs("div",{className:"mt-8 flex flex-wrap justify-center items-center gap-6 text-sm opacity-75",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(hY,{className:"h-4 w-4"}),l.jsx("span",{children:"Permissionless"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ml,{className:"h-4 w-4"}),l.jsx("span",{children:"Secure"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(hx,{className:"h-4 w-4"}),l.jsx("span",{children:"Deploy in minutes"})]})]})]})})]})}const Jce=()=>{const[t,e]=C.useState(0),r=C.useCallback(()=>{e(n=>n+1)},[]);return{refreshTrigger:t,triggerRefresh:r}},Xce=(t={})=>{const{autoFetch:e=!0,enablePolling:r=!1,pollingInterval:n=12e4,maxRaffles:i=null,useCache:s=!0}=t,o=xr(),a=Sr(),{isMobile:c}=pn(),[d,f]=C.useState([]),[p,g]=C.useState(!1),[m,v]=C.useState(!1),[x,w]=C.useState(null),[T,j]=C.useState(null),P=C.useRef(null),S=C.useRef(!0);C.useEffect(()=>{o&&a&&xa.initialize(o,a)},[o,a]),C.useEffect(()=>{o!=null&&o.chainId&&(console.log(" Network changed, clearing cache and resetting state"),xa.clearCache(),f([]),w(null),j(null))},[o==null?void 0:o.chainId]),C.useEffect(()=>()=>{S.current=!1,P.current&&clearInterval(P.current)},[]);const B=C.useCallback(async(J=!1)=>{var V,F,b,A,O,R,k;if(console.log(" fetchRaffles called:",{connected:o==null?void 0:o.connected,chainId:o==null?void 0:o.chainId,isBackground:J,environment:"production",userAgent:typeof window<"u"?window.navigator.userAgent:"N/A",isMobile:c,maxRaffles:i}),!(o!=null&&o.connected)){console.log(" Wallet not connected"),f([]),w("Please connect your wallet to view raffles");return}if(!(o!=null&&o.chainId)){console.log(" ChainId not yet available, skipping fetch");return}if(o!=null&&o.isReconnecting){console.log(" Wallet is reconnecting, skipping fetch");return}if(!(a!=null&&a.isContractsReady)){console.log(" Contracts not ready yet, skipping fetch");return}if(!xa.areContractsAvailable()){console.log(" Contracts not available for current network, skipping fetch"),J||(w("CONTRACTS_NOT_AVAILABLE"),f([]));return}if(!S.current){console.log(" Component unmounted");return}try{J?v(!0):(g(!0),w(null));const I={isMobile:c,useCache:s,maxRaffles:i};console.log(" Calling raffleService.fetchAllRaffles with options:",I);const N=await xa.fetchAllRaffles(I);if(console.log(" fetchAllRaffles completed:",{count:(N==null?void 0:N.length)||0,firstRaffle:((V=N==null?void 0:N[0])==null?void 0:V.name)||"N/A"}),!S.current)return;f(N),j(new Date),N.length===0?(console.log(" No raffles found"),w("NO_RAFFLES_FOUND")):(console.log(" Raffles set successfully"),w(null))}catch(I){if(!S.current)return;console.error(" Error fetching raffles:",{error:I.message,stack:I.stack,environment:"production",chainId:o==null?void 0:o.chainId});let N="NETWORK_ERROR";(F=I.message)!=null&&F.includes("CONTRACTS_NOT_AVAILABLE")?N="CONTRACTS_NOT_AVAILABLE":(b=I.message)!=null&&b.includes("Too Many Requests")?N="RATE_LIMIT":(A=I.message)!=null&&A.includes("timeout")?N="TIMEOUT":(O=I.message)!=null&&O.includes("network")?N="NETWORK_ERROR":((R=I.message)!=null&&R.includes("not available")||(k=I.message)!=null&&k.includes("ProtocolManager contract not available"))&&(N="CONTRACTS_NOT_AVAILABLE"),w(N),J||f([])}finally{if(!S.current)return;console.log(" fetchRaffles completed, setting loading states"),J?v(!1):g(!1)}},[o==null?void 0:o.connected,o==null?void 0:o.chainId,o==null?void 0:o.isReconnecting,a==null?void 0:a.isContractsReady,c,s,i]),$=C.useCallback(async J=>{if(!(J!=null&&J.trim()))return[];try{const V={isMobile:c,useCache:!0,maxRaffles:null};return await xa.searchRaffles(J,V)}catch(V){return console.error("Error searching raffles:",V),[]}},[c]),W=C.useCallback(async()=>{xa.clearCache(),await B(!1)},[B]),G=C.useCallback(async J=>{try{return await xa.fetchRaffleDetails(J)}catch(V){return console.error(`Error fetching raffle details for ${J}:`,V),null}},[]);C.useEffect(()=>{if(console.log(" Auto-fetch effect triggered:",{autoFetch:e,connected:o==null?void 0:o.connected,chainId:o==null?void 0:o.chainId,isReconnecting:o==null?void 0:o.isReconnecting,isContractsReady:a==null?void 0:a.isContractsReady,environment:"production"}),e&&(o!=null&&o.connected)&&(o!=null&&o.chainId)&&!(o!=null&&o.isReconnecting)&&(a!=null&&a.isContractsReady)){const J=setTimeout(()=>{console.log(" Triggering auto-fetch with full context ready"),B()},500);return()=>clearTimeout(J)}else console.log(" Auto-fetch conditions not met:",{autoFetch:e,connected:o==null?void 0:o.connected,chainId:o==null?void 0:o.chainId,isReconnecting:o==null?void 0:o.isReconnecting,isContractsReady:a==null?void 0:a.isContractsReady})},[e,o==null?void 0:o.connected,o==null?void 0:o.chainId,o==null?void 0:o.isReconnecting,a==null?void 0:a.isContractsReady,B]),C.useEffect(()=>{if(r&&(o!=null&&o.connected)&&n>0)return P.current=setInterval(()=>{xa.fetchAllRaffles({isMobile:c,useCache:!1,maxRaffles:i}).then(J=>{S.current&&(f(J),j(new Date))}).catch(()=>{})},n),()=>{P.current&&(clearInterval(P.current),P.current=null)}},[r,o==null?void 0:o.connected,n,B]);const q=C.useCallback(()=>{const J=Math.floor(Date.now()/1e3);return d.reduce((V,F)=>{const b=F.startTime,A=b+F.duration;return F.stateNum===0||J<b?V.pending.push(F):F.stateNum===1&&J>=b&&J<A?V.active.push(F):F.stateNum===2?V.ended.push(F):F.stateNum===3?V.drawing.push(F):F.stateNum===4?V.completed.push(F):F.stateNum===5?V.ended.push(F):F.stateNum===6?V.completed.push(F):(F.stateNum,V.ended.push(F)),V},{pending:[],active:[],drawing:[],completed:[],ended:[]})},[d]),H=C.useCallback(()=>xa.getCacheStats(),[]);return{raffles:d,categorizedRaffles:q(),loading:p,backgroundLoading:m,error:x,lastFetch:T,fetchRaffles:B,refreshRaffles:W,searchRaffles:$,getRaffleDetails:G,getCacheStats:H,service:xa}},JF=(t,e={})=>{const{onWinnersSelected:r,onStateChange:n,onPrizeClaimed:i,onTicketsPurchased:s,onRpcError:o,enablePolling:a=!0,pollingInterval:c=1e4,autoStart:d=!0,raffleState:f=null,enableStateConditionalListening:p=!0,stopOnCompletion:g=!1}=e,{getContractInstance:m,provider:v}=Sr(),{connected:x}=xr(),[w,T]=C.useState(!1),[j,P]=C.useState(null),[S,B]=C.useState([]),[$,W]=C.useState(f),G=C.useRef(null),q=C.useRef([]),H=C.useRef(null),J=C.useRef(!0),V=C.useRef(f);C.useEffect(()=>{t&&m?G.current=m(t,"pool"):G.current=null},[t,m]),C.useEffect(()=>{f!==V.current&&(console.log(` Raffle state updated: ${V.current}  ${f}`),W(f),V.current=f)},[f]);const F=C.useCallback(()=>{if(!p)return!0;if(g&&($===4||$===7))return console.log(` Stopping winner selection listening - raffle completed (state=${$})`),!1;const E=$===null||[1,3,4,7].includes($);return console.log(` Should listen check: state=${$}, shouldListen=${E}, stopOnCompletion=${g}`),E},[$,p,g]),b=C.useCallback((D,E)=>(...M)=>{var Z;try{if(J.current&&E){console.log(` Raffle Event [${D}]:`,M);const z={eventName:D,args:M,timestamp:Date.now(),blockNumber:((Z=M[M.length-1])==null?void 0:Z.blockNumber)||null};B(K=>[...K.slice(-9),z]),D==="WinnersSelected"?(console.log(" WinnersSelected event - triggering immediate callback with RPC resilience"),setTimeout(()=>{try{E(...M),setTimeout(()=>{J.current&&G.current&&(console.log(" Additional state poll after WinnersSelected event"),(async()=>{try{const Y=await G.current.state(),Q=Y.toNumber?Y.toNumber():Number(Y);n&&n(Q,null)}catch(Y){console.warn("Error in additional state poll:",Y)}})())},3e3)}catch(K){console.error("Error in WinnersSelected callback:",K)}},1e3)):E(...M)}}catch(z){console.error(`Error handling ${D} event:`,z)}},[]),A=C.useCallback(()=>{if(!(!G.current||!x)){if(!F()){console.log(` Skipping event listeners setup - raffle state ${$} doesn't require listening`);return}try{console.log(` Setting up event listeners for raffle: ${t} (state: ${$})`),q.current.forEach(({contract:E,event:M,handler:Z})=>{E.off(M,Z)}),q.current=[];const D=G.current;if(r){const E=b("WinnersSelected",(M,Z)=>{r(M,Z)});D.on("WinnersSelected",E),q.current.push({contract:D,event:"WinnersSelected",handler:E})}if(i){const E=b("PrizeClaimed",(M,Z,z)=>{i(M,Z,z)});D.on("PrizeClaimed",E),q.current.push({contract:D,event:"PrizeClaimed",handler:E})}if(s){const E=b("SlotsPurchased",(M,Z,z)=>{s(M,Z,z)});D.on("SlotsPurchased",E),q.current.push({contract:D,event:"SlotsPurchased",handler:E})}T(!0),console.log(` Event listeners active for ${q.current.length} events`)}catch(D){console.error("Error setting up event listeners:",D),T(!1)}}},[t,x,r,i,s,b]),O=C.useCallback(()=>{console.log(` Cleaning up event listeners for raffle: ${t}`),q.current.forEach(({contract:D,event:E,handler:M})=>{try{D.off(E,M)}catch(Z){console.warn(`Error removing ${E} listener:`,Z)}}),q.current=[],T(!1)},[t]),R=C.useCallback(()=>{if(!a||!G.current||!n)return;if(g&&($===4||$===7)){console.log(` Stopping state polling - raffle completed (state=${$})`);return}const D=async()=>{let E=0;const M=3,Z=2e3;await(async()=>{try{if(!J.current||!G.current)return;const K=await(v==null?void 0:v.getBlockNumber().catch(async Y=>{var Q;if((Q=Y.message)!=null&&Q.includes("500")&&E<M)return console.warn(`RPC 500 error on getBlockNumber, retrying (${E+1}/${M})...`),E===0&&o&&o(Y),E++,await new Promise(ee=>setTimeout(ee,Z)),v==null?void 0:v.getBlockNumber();throw Y}));if(K&&K!==j){P(K);const Y=await G.current.state().catch(async ee=>{var ae;if((ae=ee.message)!=null&&ae.includes("500")&&E<M)return console.warn(`RPC 500 error on state(), retrying (${E+1}/${M})...`),E===0&&o&&o(ee),E++,await new Promise(ne=>setTimeout(ne,Z)),G.current.state();throw ee}),Q=Y.toNumber?Y.toNumber():Number(Y);n&&n(Q,K)}}catch(K){const Y=K.message||K.toString();Y.includes("500")||Y.includes("Non-200 status code")?(console.warn("RPC server error during state polling, will retry on next cycle:",Y),o&&o(K)):console.warn("Error during state polling:",K)}})()};D(),H.current=setInterval(D,c),console.log(` State polling enabled (${c}ms interval)`)},[a,n,v,j,c,g,$]),k=C.useCallback(()=>{H.current&&(clearInterval(H.current),H.current=null,console.log(" State polling disabled"))},[]),I=C.useCallback(()=>{if(!t||!G.current){console.warn("Cannot start listening: missing raffle address or contract");return}A(),R()},[t,A,R]),N=C.useCallback(()=>{O(),k()},[O,k]);return C.useEffect(()=>(d&&t&&G.current&&x&&(console.log(` Auto-starting listeners due to dependency change (state: ${$})`),I()),()=>{N()}),[d,t,x,$,I,N]),C.useEffect(()=>()=>{J.current=!1,N()},[N]),{isListening:w,eventHistory:S,lastBlockNumber:j,startListening:I,stopListening:N,clearEventHistory:()=>B([])}};class Vpe extends ve.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Mobile component error:",e,r)}render(){return this.state.hasError?l.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md border-b border-border/50",children:l.jsxs("div",{className:"flex items-center justify-between h-14 px-4",children:[l.jsx("div",{className:"text-lg font-bold text-foreground",style:{fontFamily:"Orbitron, monospace"},children:"Dropr"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Mobile Menu"})]})}):this.props.children}}const yl=({children:t,variant:e="default",className:r=""})=>{const{isMobile:n}=pn(),s=(()=>{switch(e){case"narrow":return"mx-auto px-4 sm:px-6 md:px-8 lg:px-12 xl:px-20 2xl:px-32";case"wide":return"container mx-auto px-4 sm:px-6 md:px-8 lg:px-12 xl:px-16 2xl:px-20";case"profile":return n?"mx-auto px-4":"mx-auto px-2 sm:px-3 md:px-4 lg:px-6 xl:px-8 2xl:px-10";case"default":default:return n?"mx-auto px-4":"mx-auto px-2 sm:px-3 md:px-4 lg:px-6 xl:px-8 2xl:px-10"}})();return l.jsx("div",{className:`${s} ${r}`,children:t})},Sn=()=>{const{chainId:t,networkInfo:e}=xr(),r=C.useMemo(()=>(e==null?void 0:e.nativeCurrency)||{symbol:"ETH",name:"Ether",decimals:18},[e]),n=C.useMemo(()=>(g,m={})=>{const{showSymbol:v=!0,decimals:x=4,fallbackSymbol:w=r.symbol}=m;if(g==null||g==="")return v?`0 ${r.symbol}`:"0";try{let T;ue.isBigNumber(g)?T=Ir(g):typeof g=="string"?/^0x/i.test(g)||/^[0-9]+$/.test(g)?T=Ir(g):T=g:typeof g=="number"?T=g.toString():T=Ir(g);const j=parseFloat(T);let P;if(!isFinite(j)||isNaN(j))P="0";else if(j===0)P="0";else if(j<Math.pow(10,-x)){const S=Math.max(x,8);P=j.toFixed(S),P=P.replace(/\.?0+$/,""),(P==="0"||P==="")&&(P=j.toFixed(S))}else P=j.toFixed(x),j>=.01&&(P=P.replace(/\.?0+$/,""));return v?`${P} ${r.symbol}`:P}catch(T){return console.warn("Error formatting amount:",T),v?`0 ${w}`:"0"}},[r.symbol]),i=C.useMemo(()=>g=>n(g,{decimals:8}),[n]),s=C.useMemo(()=>g=>n(g,{decimals:6}),[n]),o=C.useMemo(()=>g=>n(g,{decimals:6}),[n]),a=C.useMemo(()=>()=>r.symbol,[r.symbol]),c=C.useMemo(()=>()=>r,[r]),d=C.useMemo(()=>r.symbol==="ETH",[r.symbol]),f=C.useMemo(()=>r.symbol==="AVAX",[r.symbol]),p=C.useMemo(()=>(g="general")=>{switch(g){case"ticket":return`Slot Fee (${r.symbol})`;case"prize":return`Prize Amount (${r.symbol})`;case"revenue":return`Revenue (${r.symbol})`;case"amount":return`Amount (${r.symbol})`;default:return r.symbol}},[r.symbol]);return{nativeCurrency:r,getCurrencyInfo:c,getCurrencySymbol:a,getCurrencyLabel:p,formatAmount:n,formatSlotFee:i,formatPrizeAmount:s,formatRevenueAmount:o,isEthNetwork:d,isAvaxNetwork:f,chainId:t,networkName:(e==null?void 0:e.name)||"Unknown Network"}},uh=({size:t="default",className:e="",text:r="",showText:n=!0})=>{const i={sm:"h-4 w-4",default:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"};return l.jsx("div",{className:tt("flex items-center justify-center",e),children:l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(Mf,{className:tt("animate-spin text-primary",i[t])}),n&&r&&l.jsx("p",{className:"text-sm text-muted-foreground",children:r})]})})},XF=({message:t="Loading...",isMobile:e=!1,showProgress:r=!1,progress:n=0,maxProgress:i=100})=>l.jsx("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center bg-background",children:l.jsxs("div",{className:"text-center space-y-4 px-4",children:[l.jsx(uh,{size:e?"lg":"xl",text:t,showText:!0}),r&&l.jsxs("div",{className:"w-64 max-w-full mx-auto",children:[l.jsx("div",{className:"bg-muted rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${n/i*100}%`}})}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[n," / ",i]})]})]})}),z2=({error:t,onRetry:e,isMobile:r=!1,showCreateButton:n=!0})=>{const i=Ua(),s=d=>{switch(d){case"CONTRACTS_NOT_AVAILABLE":return{title:"Network Not Supported",message:"Dropr is not available on this network. Check back soon!",icon:l.jsx(dr,{className:"h-8 w-8 text-orange-500"}),showRetry:!1,showCreate:!1};case"NO_RAFFLES_FOUND":return{title:"No Pools Found",message:"No Pools are found on this network! Be the first user to create a Pool.",icon:l.jsx(dr,{className:"h-8 w-8 text-blue-500"}),showRetry:!0,showCreate:!0};case"RATE_LIMIT":return{title:"Rate Limit Exceeded",message:"Too many requests. Please wait a moment and try again.",icon:l.jsx(dr,{className:"h-8 w-8 text-yellow-500"}),showRetry:!0,showCreate:!1};case"TIMEOUT":return{title:"Request Timeout",message:"Request timed out. Please check your connection and try again.",icon:l.jsx(dr,{className:"h-8 w-8 text-red-500"}),showRetry:!0,showCreate:!1};case"NETWORK_ERROR":default:return{title:"Network Error",message:"Unable to connect to the blockchain. Please check your connection and try again.",icon:l.jsx(dr,{className:"h-8 w-8 text-red-500"}),showRetry:!0,showCreate:!1}}},o=()=>{i("/create-raffle")},a=typeof t=="string"?t:(t==null?void 0:t.message)||"NETWORK_ERROR",c=s(a);return l.jsx("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:l.jsxs("div",{className:"text-center max-w-md mx-auto",children:[l.jsx("div",{className:"flex justify-center mb-4",children:c.icon}),l.jsx("h3",{className:`font-semibold mb-3 ${r?"text-lg":"text-xl"}`,children:c.title}),l.jsx("p",{className:`text-muted-foreground mb-6 ${r?"text-sm":"text-base"}`,children:c.message}),l.jsxs("div",{className:`flex gap-3 ${r?"flex-col":"flex-row justify-center"}`,children:[c.showRetry&&e&&l.jsxs(qe,{onClick:e,variant:"outline",className:`${r?"w-full":""}`,children:[l.jsx(Qf,{className:"h-4 w-4 mr-2"}),"Try Again"]}),c.showCreate&&n&&l.jsx(qe,{onClick:o,className:`${r?"w-full":""}`,children:"Create Pool"})]})]})})},QF=t=>({0:"pending",1:"active",2:"ended",3:"drawing",4:"completed",5:"deleted",6:"activation_failed",7:"all_prizes_claimed",8:"unengaged"})[t]||"ended",ZF=t=>t.isCollabPool?"nft_collab":t.isPrized?"prized":"non_prized",ez=t=>t.isPrized?t.nativePrizeAmount&&t.nativePrizeAmount.gt&&t.nativePrizeAmount.gt(0)?"native":t.erc20PrizeToken&&t.erc20PrizeToken!==He&&t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0)?"erc20":t.prizeCollection&&t.prizeCollection!==He?"nft":"token_giveaway":null,tz=t=>{if(!t.isPrized)return[];const e=[];return t.nativePrizeAmount&&t.nativePrizeAmount.gt&&t.nativePrizeAmount.gt(0)&&e.push("native"),t.erc20PrizeToken&&t.erc20PrizeToken!==He&&t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0)&&e.push("erc20"),t.prizeCollection&&t.prizeCollection!==He&&(t.standard===0?e.push("erc721"):t.standard===1&&e.push("erc1155")),e},Qce=(t,e)=>!t||t.length===0?[]:t.filter(n=>{if(e.raffleState&&e.raffleState.length>0){const i=QF(n.stateNum);if(!e.raffleState.includes(i))return!1}if(e.raffleType&&e.raffleType.length>0){const i=ZF(n);if(!e.raffleType.includes(i))return!1}if(e.prizeType&&e.prizeType.length>0){if(!n.isPrized)return!1;const i=ez(n);if(!e.prizeType.includes(i))return!1}if(e.prizeStandard&&e.prizeStandard.length>0){if(!n.isPrized)return!1;const i=tz(n);if(!e.prizeStandard.some(o=>i.includes(o)))return!1}return!0}),Zce=t=>{if(!t||t.length===0)return{raffleState:{},raffleType:{},prizeType:{},prizeStandard:{}};const e={raffleState:{},raffleType:{},prizeType:{},prizeStandard:{}};return t.forEach(r=>{const n=QF(r.stateNum);e.raffleState[n]=(e.raffleState[n]||0)+1;const i=ZF(r);if(e.raffleType[i]=(e.raffleType[i]||0)+1,r.isPrized){const s=ez(r);s&&(e.prizeType[s]=(e.prizeType[s]||0)+1),tz(r).forEach(a=>{e.prizeStandard[a]=(e.prizeStandard[a]||0)+1})}}),e},SI=()=>({raffleState:[],raffleType:[],prizeType:[],prizeStandard:[]}),Z1=t=>Object.values(t).every(e=>!e||e.length===0),eue=({onFilterChange:t,hasActiveFilters:e=!1,className:r=""})=>{const n=[{label:"Active",icon:Em,filters:{raffleState:["active"]},description:"Currently running raffles"},{label:"Pending",icon:Tc,filters:{raffleState:["pending"]},description:"Raffles starting soon"},{label:"NFT Prizes",icon:Bu,filters:{raffleType:["prized"],prizeType:["nft"]},description:"Raffles with NFT prizes"},{label:"Whitelist",icon:Zf,filters:{raffleType:["non_prized"]},description:"Whitelist/Allowlist raffles"}],i=o=>{t(o)},s=()=>{t({raffleState:[],raffleType:[],prizeType:[],prizeStandard:[]})};return l.jsxs("div",{className:`space-y-2 sm:space-y-3 ${r}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Quick Filters"}),e&&l.jsx(qe,{variant:"ghost",size:"sm",onClick:s,className:"text-xs h-5 sm:h-6 px-1.5 sm:px-2",children:"Clear"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-1.5 sm:gap-2",children:n.map(o=>{const a=o.icon,c=["Active","Pending","NFT Prizes","Whitelist"].includes(o.label);return l.jsxs(qe,{variant:"outline",size:"sm",onClick:()=>i(o.filters),className:`flex items-center justify-start gap-1.5 sm:gap-2 h-auto p-2 sm:p-3 text-left ${c?"border border-[#614E41] hover:bg-transparent":""}`,title:o.description,children:[l.jsx(a,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),l.jsx("span",{className:"text-xs font-medium",children:o.label})]},o.label)})})]})},tue=`
  @media (max-width: 640px) {
    .mobile-checkbox-radio {
      width: 12px !important;
      height: 12px !important;
      min-width: 12px !important;
      min-height: 12px !important;
      max-width: 12px !important;
      max-height: 12px !important;
    }
  }
`,rue=()=>{const[t,e]=C.useState({top:56,height:56});return C.useEffect(()=>{const r=document.querySelector("header"),n=r?r.getBoundingClientRect().height:56,i=()=>window.matchMedia&&window.matchMedia("(max-width: 640px)").matches,s=()=>{const o=window.scrollY||window.pageYOffset||0;i()?e({top:n,height:window.innerHeight-n}):o>=n?e({top:0,height:window.innerHeight}):e({top:n-o,height:window.innerHeight-(n-o)})};return s(),window.addEventListener("scroll",s,{passive:!0}),window.addEventListener("resize",s),()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}},[]),t},nue=({isOpen:t,onToggle:e,filters:r,onFiltersChange:n,raffleCount:i=0,allRaffles:s=[],className:o=""})=>{const{countEnhancedRaffleTypes:a}=NC(),{getCurrencySymbol:c}=Sn(),d=rue(),[f,p]=C.useState({raffleState:!0,raffleType:!0,prizeType:!0,prizeStandard:!0}),g=C.useMemo(()=>{const P=Zce(s),S=a(s);return{...P,raffleType:S}},[s,a]),m=C.useMemo(()=>({raffleState:[{value:"pending",label:"Pending",count:g.raffleState.pending||0},{value:"active",label:"Active",count:g.raffleState.active||0},{value:"ended",label:"Ended",count:g.raffleState.ended||0},{value:"drawing",label:"Drawing",count:g.raffleState.drawing||0},{value:"completed",label:"Completed",count:g.raffleState.completed||0},{value:"deleted",label:"Deleted",count:g.raffleState.deleted||0},{value:"activation_failed",label:"Activation Failed",count:g.raffleState.activation_failed||0},{value:"all_prizes_claimed",label:"Prizes Claimed",count:g.raffleState.all_prizes_claimed||0},{value:"unengaged",label:"Unengaged",count:g.raffleState.unengaged||0}],raffleType:[{value:"non_prized",label:"Whitelist",count:g.raffleType.non_prized||0},{value:"prized",label:"Prized",count:g.raffleType.prized||0},{value:"nft_collab",label:"NFT Collab",count:g.raffleType.nft_collab||0},{value:"whitelist_collab",label:"Whitelist Collab",count:g.raffleType.whitelist_collab||0}],prizeType:[{value:"nft",label:"NFT",count:g.prizeType.nft||0},{value:"erc20",label:"ERC20 Token",count:g.prizeType.erc20||0},{value:"native",label:c(),count:g.prizeType.native||0},{value:"token_giveaway",label:"Token Giveaway",count:g.prizeType.token_giveaway||0}],prizeStandard:[{value:"erc721",label:"ERC721",count:g.prizeStandard.erc721||0},{value:"erc1155",label:"ERC1155",count:g.prizeStandard.erc1155||0},{value:"erc20",label:"ERC20",count:g.prizeStandard.erc20||0},{value:"native",label:c(),count:g.prizeStandard.native||0}]}),[g,c]),v=C.useCallback(P=>{p(S=>({...S,[P]:!S[P]}))},[]),x=C.useCallback((P,S,B)=>{const $={...r};P==="raffleType"?$[P]=B?[S]:[]:($[P]||($[P]=[]),B?$[P]=[...$[P],S]:$[P]=$[P].filter(W=>W!==S)),n($)},[r,n]),w=C.useCallback(()=>{n({raffleState:[],raffleType:[],prizeType:[],prizeStandard:[]})},[n]),T=C.useMemo(()=>Object.values(r).some(P=>P.length>0),[r]),j=C.useCallback((P,S,B)=>{var H;const $=f[S],W=S==="raffleType",q=(S==="prizeType"||S==="prizeStandard")&&!((H=r.raffleType)!=null&&H.includes("prized"));return l.jsxs("div",{className:"border-b border-border/30 last:border-b-0",children:[l.jsxs("button",{onClick:()=>v(S),className:"w-full flex items-center justify-between p-3 sm:p-4 text-left hover:bg-muted/50 transition-colors",disabled:q,style:S==="raffleState"||S==="raffleType"||S==="prizeType"||S==="prizeStandard"?{border:"1px solid #614E41"}:void 0,children:[l.jsx("span",{className:`text-sm sm:text-base font-medium ${q?"text-muted-foreground":""}`,children:P}),$?l.jsx(Xu,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"}):l.jsx(ko,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"})]}),$&&!q&&l.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4 space-y-1 sm:space-y-2",children:B.map(J=>{var F;const V=((F=r[S])==null?void 0:F.includes(J.value))||!1;return l.jsxs("label",{className:"flex items-center space-x-2 sm:space-x-3 cursor-pointer hover:bg-muted/30 p-1.5 sm:p-2 rounded-md transition-colors",children:[l.jsx("input",{type:W?"radio":"checkbox",name:W?S:void 0,checked:V,onChange:b=>x(S,J.value,b.target.checked),className:`mobile-checkbox-radio ${W?"h-3 w-3 sm:h-4 sm:w-4 text-primary bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-full focus:ring-0 focus:outline-none checked:bg-primary checked:border-primary appearance-none relative"+(V?' after:content-[""] after:absolute after:top-1/2 after:left-1/2 after:transform after:-translate-x-1/2 after:-translate-y-1/2 after:w-1 after:h-1 sm:after:w-1.5 sm:after:h-1.5 after:bg-white after:rounded-full':""):"h-3 w-3 sm:h-4 sm:w-4 text-primary accent-primary bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded focus:ring-1 focus:ring-primary focus:ring-offset-0 checked:bg-primary checked:border-primary"}`,style:W?{minHeight:"12px",minWidth:"12px",maxHeight:"12px",maxWidth:"12px"}:{minHeight:"12px",minWidth:"12px",maxHeight:"12px",maxWidth:"12px"}}),l.jsx("span",{className:"flex-1 text-xs sm:text-sm leading-tight",children:J.label}),J.count>0&&l.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full",children:J.count})]},J.value)})})]},S)},[f,r,x,v]);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:tue}}),t&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-30",onClick:e}),l.jsxs("div",{style:{top:d.top,height:d.height},className:`
        fixed left-0
        w-72 sm:w-80 md:w-96
        bg-background border-r border-border
        transform transition-transform duration-300 ease-in-out
        z-40
        flex flex-col
        ${t?"translate-x-0":"-translate-x-full"}
        ${o}
      `,children:[l.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between p-3 sm:p-4 border-b border-border bg-muted/80 backdrop-blur supports-[backdrop-filter]:bg-muted/60",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(uS,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),l.jsx("h2",{className:"font-semibold text-base sm:text-lg",children:"Filter Raffles"})]}),l.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[T&&l.jsx(qe,{variant:"ghost",size:"sm",onClick:w,className:"text-xs px-2 sm:px-3 h-7 sm:h-8 hover:bg-destructive/10 hover:text-destructive",children:"Clear All"}),l.jsx(qe,{variant:"ghost",size:"sm",onClick:e,className:"hover:bg-muted h-7 w-7 sm:h-8 sm:w-8 p-0",title:"Close filters",children:l.jsx(Pm,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})]})]}),l.jsx("div",{className:"p-3 sm:p-4 bg-muted/30",children:l.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["Showing ",l.jsx("span",{className:"font-medium text-foreground",children:i})," raffles"]})}),l.jsx("div",{className:"p-3 sm:p-4 border-b border-border/30",children:l.jsx(eue,{onFilterChange:n,hasActiveFilters:T})}),l.jsxs("div",{className:"flex-1 overflow-y-auto",children:[j("Raffle State","raffleState",m.raffleState),j("Raffle Type","raffleType",m.raffleType),j("Prize Type","prizeType",m.prizeType),j("Prize Standard","prizeStandard",m.prizeStandard)]})]})]})},iue=({onClick:t,hasActiveFilters:e=!1,className:r="",variant:n="outline",size:i="default"})=>{const{isLight:s,isDark:o,isDimBlue:a}=TC(),c=s?"bg-[#614E41] text-white hover:bg-[#4a3a30]":o||a?"bg-[#F5E9DC] text-[#0A0A0A] hover:bg-[#e7d8c7]":"";return l.jsxs(qe,{variant:e?"default":n,size:i,onClick:t,className:`
        relative flex items-center gap-2 border-0
        ${e?"bg-primary text-primary-foreground hover:bg-primary/90":""}
        ${c}
        ${r}
      `,children:[l.jsx(uS,{className:"h-4 w-4"}),l.jsx("span",{className:"font-medium",children:e?"Filters Applied":"Filter Raffles"}),e&&l.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs bg-primary-foreground/20 rounded-full",children:"Active"})]})},sue=({raffles:t=[],loading:e=!1,error:r=null,RaffleCardComponent:n,emptyMessage:i="No raffles found matching your filters.",className:s="",totalCount:o,showCount:a=!0})=>e?l.jsx("div",{className:`space-y-6 ${s}`,children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((c,d)=>l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-6 shadow-lg animate-pulse",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-muted rounded w-1/2"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"h-3 bg-muted rounded"}),l.jsx("div",{className:"h-3 bg-muted rounded w-5/6"})]}),l.jsx("div",{className:"h-10 bg-muted rounded"})]})},d))})}):r?l.jsx("div",{className:s,children:l.jsx(z2,{error:r,onRetry:null,showCreateButton:!0})}):!t||t.length===0?l.jsx("div",{className:`flex flex-col items-center justify-center py-12 ${s}`,children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"w-16 h-16 mx-auto bg-muted/20 rounded-full flex items-center justify-center",children:l.jsx(Bu,{className:"w-8 h-8 text-muted-foreground"})}),l.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"No Raffles Found"}),l.jsx("p",{className:"text-muted-foreground max-w-md",children:i})]})}):l.jsxs("div",{className:`space-y-6 ${s}`,children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h2",{className:"text-xl font-semibold",children:a?`${typeof o=="number"?o:t.length} ${(typeof o=="number"?o:t.length)===1?"Raffle":"Raffles"} Found`:"Raffles Found"})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(c=>l.jsx(n,{raffle:c},c.id||c.address))})]}),oue=(t=[])=>{const{filterByEnhancedType:e}=NC(),[r,n]=C.useState(SI()),[i,s]=C.useState(!1),o=C.useMemo(()=>{if(Z1(r))return t;let T=t;r.raffleType&&r.raffleType.length>0&&(T=e(T,r.raffleType));const j={...r,raffleType:[]};return Z1(j)||(T=Qce(T,j)),T},[t,r,e]),a=C.useMemo(()=>!Z1(r),[r]),c=C.useCallback(T=>{n(T)},[]),d=C.useCallback(()=>{n(SI())},[]),f=C.useCallback(()=>{s(T=>!T)},[]),p=C.useCallback(()=>{s(!0)},[]),g=C.useCallback(()=>{s(!1)},[]),m=C.useCallback(T=>{n(j=>({...j,raffleState:Array.isArray(T)?T:[T]}))},[]),v=C.useCallback(T=>{n(j=>({...j,raffleType:[T]}))},[]),x=C.useCallback(T=>{n(j=>({...j,prizeType:Array.isArray(T)?T:[T]}))},[]),w=C.useCallback(T=>{n(j=>({...j,prizeStandard:Array.isArray(T)?T:[T]}))},[]);return{filters:r,filteredRaffles:o,isFilterOpen:i,hasActiveFilters:a,updateFilters:c,clearFilters:d,toggleFilter:f,openFilter:p,closeFilter:g,filterByState:m,filterByType:v,filterByPrizeType:x,filterByPrizeStandard:w,totalRaffles:t.length,filteredCount:o.length}},aue=({initialCount:t=12,cacheTTLms:e=120*1e3,useCache:r=!0}={})=>{const{chainId:n,provider:i}=xr(),[s,o]=C.useState([]),[a,c]=C.useState(!1),[d,f]=C.useState(null),[p,g]=C.useState(null),m=C.useRef(!0),v=C.useMemo(()=>n?`raffle_summaries_${n}`:null,[n]),x=C.useMemo(()=>{var F;if(i)return i;if(n&&((F=Ht[n])!=null&&F.rpcUrl))try{return new Yf(Ht[n].rpcUrl)}catch{}return null},[i,n]),w=C.useCallback(()=>{var F,b;return n&&((b=(F=Ht[n])==null?void 0:F.contractAddresses)==null?void 0:b.protocolManager)},[n]),T=C.useCallback(()=>{if(!r||!v)return null;try{const F=localStorage.getItem(v);if(!F)return null;const b=JSON.parse(F);return!(b!=null&&b.timestamp)||!Array.isArray(b==null?void 0:b.summaries)||Date.now()-b.timestamp>e?null:b.summaries}catch{return null}},[v,e,r]),j=C.useCallback(F=>{if(!(!r||!v))try{localStorage.setItem(v,JSON.stringify({timestamp:Date.now(),summaries:F}))}catch{}},[v,r]),P=C.useCallback(async()=>{const F=w();if(!F||!x)throw new Error("ProtocolManager not available");const O=(await new At(F,ft.protocolManager,x).getAllPools()||[]).slice().reverse();return m.current&&g(O.length),O},[w,x]),S=(F,b)=>{let A;return Promise.race([F.finally(()=>clearTimeout(A)),new Promise((O,R)=>A=setTimeout(()=>R(new Error("timeout")),b))])},B=C.useCallback((F,{name:b,startTime:A,duration:O,slotFee:R,ticketLimit:k,winnersCount:I,stateNum:N})=>({id:F,address:F,chainId:n,name:b,startTime:A!=null&&A.toNumber?A.toNumber():Number(A||0),duration:O!=null&&O.toNumber?O.toNumber():Number(O||0),slotFee:R,ticketLimit:k!=null&&k.toNumber?k.toNumber():Number(k||0),winnersCount:I!=null&&I.toNumber?I.toNumber():Number(I||0),stateNum:(()=>{if(N!=null&&N.toNumber)return N.toNumber();if(N===0)return 0;if(typeof N=="number")return N;if(N==null)return 5;const D=Number(N);return Number.isFinite(D)?D:5})(),isSummary:!0}),[n]),$="0xca11bde05977b3631167028862be2a173976ca11",W=[{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bool",name:"allowFailure",type:"bool"},{internalType:"bytes",name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"}],G=C.useCallback(async()=>{if(!x)return!1;try{const F=await x.getCode($);return F&&F!=="0x"}catch{return!1}},[x]),q=C.useCallback(async F=>{const b=new bk(ft.pool),A=[];for(const N of F)A.push({target:N,allowFailure:!0,callData:b.encodeFunctionData("name",[])},{target:N,allowFailure:!0,callData:b.encodeFunctionData("startTime",[])},{target:N,allowFailure:!0,callData:b.encodeFunctionData("duration",[])},{target:N,allowFailure:!0,callData:b.encodeFunctionData("slotFee",[])},{target:N,allowFailure:!0,callData:b.encodeFunctionData("ticketLimit",[])},{target:N,allowFailure:!0,callData:b.encodeFunctionData("winnersCount",[])},{target:N,allowFailure:!0,callData:b.encodeFunctionData("state",[])});const R=await new At($,W,x).callStatic.aggregate3(A,{value:0}),k=7,I=[];for(let N=0;N<F.length;N++){const D=N*k,E=(ne,de)=>{const xe=R[D+ne];if(!xe||!xe.success)return null;try{return b.decodeFunctionResult(de,xe.returnData)[0]}catch{return null}},M=E(0,"name")||"Raffle",Z=E(1,"startTime")||ue.from(0),z=E(2,"duration")||ue.from(0),K=E(3,"slotFee")||ue.from(0),Y=E(4,"ticketLimit")||ue.from(0),Q=E(5,"winnersCount")||ue.from(0);let ee=E(6,"state");ee==null&&(ee=ue.from(5));const ae=B(F[N],{name:M,startTime:Z,duration:z,slotFee:K,ticketLimit:Y,winnersCount:Q,stateNum:ee});I.push(ae)}return I},[x,B]),H=C.useCallback(async(F,b=8e3)=>{const A=new At(F,ft.pool,x),[O,R,k,I,N,D,E]=await Promise.all([S(A.name(),b).catch(()=>"Raffle"),S(A.startTime(),b).catch(()=>ue.from(0)),S(A.duration(),b).catch(()=>ue.from(0)),S(A.slotFee(),b).catch(()=>ue.from(0)),S(A.ticketLimit(),b).catch(()=>ue.from(0)),S(A.winnersCount(),b).catch(()=>ue.from(0)),S(A.state(),b).catch(()=>ue.from(5))]);return B(F,{name:O,startTime:R,duration:k,slotFee:I,ticketLimit:N,winnersCount:D,stateNum:E})},[x,B]),J=C.useCallback(async()=>{if(!(!n||!x)){c(!0),f(null);try{const b=(await P()).slice(0,Math.max(1,t));let A=[];try{await G()&&(A=await q(b))}catch{}if(!A||A.length===0){const O=[];let k=0;async function I(){if(k>=b.length)return;const D=k++;try{const E=await H(b[D]);E&&O.push(E)}catch{}await I()}const N=Array.from({length:Math.min(3,b.length)},()=>I());await Promise.all(N),A=O}A.sort((O,R)=>b.indexOf(O.address)-b.indexOf(R.address)),m.current&&(o(A),j(A))}catch(F){m.current&&f(F.message||"Failed to load summaries")}finally{m.current&&c(!1)}}},[n,x,t,P,G,q,H,j]),V=C.useCallback(()=>{J()},[J]);return C.useEffect(()=>(m.current=!0,()=>{m.current=!1}),[]),C.useEffect(()=>{if(!n)return;const F=T();F&&F.length&&o(F),J()},[n,T,J]),{summaries:s,loading:a,error:d,refresh:V,totalAvailable:p}},rz=(t,e)=>{const[r,n]=C.useState(0),[i,s]=C.useState(!1),{getContractInstance:o}=Sr();return C.useEffect(()=>{(async()=>{if(!t||e!==4&&e!==7){n(0);return}s(!0);try{const c=o(t,"pool");if(!c){n(0);return}const d=await c.winnersCount(),f=d.toNumber?d.toNumber():Number(d);n(f)}catch(c){console.warn("Failed to fetch winner count for",t,c),n(0)}finally{s(!1)}})()},[t,e,o]),{winnerCount:r,loading:i}},nz=(t,e)=>t===6?e===1?"Prize Claimed":"Prizes Claimed":null,iz=["Pending","Active","Ended","Drawing","Completed","Deleted","AllPrizesClaimed","Unengaged"],lue=({raffle:t})=>{var b;const e=Ua(),{chainId:r}=xr(),[n,i]=C.useState(""),[s,o]=C.useState(""),[a,c]=C.useState(""),{getContractInstance:d}=Sr(),{updateCollabStatus:f,setCollabLoading:p,getCollabStatus:g}=NC(),{formatSlotFee:m,formatPrizeAmount:v,getCurrencySymbol:x}=Sn(),[w,T]=C.useState(null),{winnerCount:j}=rz(t.address,t.stateNum),[P,S]=C.useState(null),[B,$]=C.useState(null),[W,G]=C.useState(null);C.useEffect(()=>{let A;function O(){const I=Math.floor(Date.now()/1e3);let N="",D=0;if(t.stateNum===2||t.stateNum===3||t.stateNum===4||t.stateNum===5||t.stateNum===6||t.stateNum===7){N="Duration";const E=t.actualDuration&&(t.actualDuration.toNumber?t.actualDuration.toNumber():Number(t.actualDuration));D=E&&E>0?E:t.duration,i(N),o(k(D));return}I<t.startTime?(N="Starts In",D=t.startTime-I):(N="Ends In",D=t.startTime+t.duration-I),i(N),o(D>0?R(D):"Ended")}function R(I){const N=Math.floor(I/86400),D=Math.floor(I%86400/3600),E=Math.floor(I%3600/60),M=I%60;let Z="";return N>0&&(Z+=`${N}d `),(D>0||N>0)&&(Z+=`${D}h `),(E>0||D>0||N>0)&&(Z+=`${E}m `),Z+=`${M}s`,Z.trim()}function k(I){const N=Math.floor(I/86400),D=Math.floor(I%86400/3600),E=Math.floor(I%3600/60);let M="";return N>0&&(M+=`${N}d `),(D>0||N>0)&&(M+=`${D}h `),(E>0||D>0||N>0)&&(M+=`${E}m`),M||(M="0m"),M.trim()}return O(),A=setInterval(O,1e3),()=>clearInterval(A)},[t]),C.useEffect(()=>{let A=!0;return(async()=>{if(t.erc20PrizeToken&&t.erc20PrizeToken!==He){if(window.__erc20SymbolCache||(window.__erc20SymbolCache={}),window.__erc20SymbolCache[t.erc20PrizeToken]){c(window.__erc20SymbolCache[t.erc20PrizeToken]);return}await new Promise(R=>setTimeout(R,100));try{const R=window.ethereum?new bc(window.ethereum):Rf(),k=["function symbol() view returns (string)"],N=await new At(t.erc20PrizeToken,k,R).symbol();A&&(c(N),window.__erc20SymbolCache[t.erc20PrizeToken]=N)}catch{A&&c("TOKEN")}}})(),()=>{A=!1}},[t.erc20PrizeToken]),C.useEffect(()=>{let A=!0;async function O(){try{const R=d&&d(t.address,"pool");if(!R){A&&T(null);return}const k=await w4(R);A&&T(k)}catch{T(null)}}O()},[t.address,d]),C.useEffect(()=>{async function A(){if(!(!t.prizeCollection||t.prizeCollection===He))try{const O=d(t.address,"pool");if(!O)return;const[R,k,I]=await Promise.all([O.isCollabPool().catch(()=>null),O.usesCustomFee().catch(()=>null),O.isEscrowedPrize().catch(()=>null)]);G({isCollabPool:R,usesCustomFee:k,isEscrowedPrize:I})}catch{}}A()},[t.address,t.prizeCollection,d]),C.useEffect(()=>{(async()=>{if(!t||!t.prizeCollection||t.prizeCollection===He){S(null),$(null);return}try{let O=null,R=null,k=null;if(typeof t.standard<"u"){const I=t.standard===0?"erc721Prize":"erc1155Prize";if(O=d(t.prizeCollection,I),O){try{typeof O.name=="function"&&(R=await O.name())}catch{R=null}try{typeof O.symbol=="function"&&(k=await O.symbol())}catch{k=null}}}else try{if(O=d(t.prizeCollection,"erc721Prize"),O){try{typeof O.name=="function"&&(R=await O.name())}catch{R=null}try{typeof O.symbol=="function"&&(k=await O.symbol())}catch{k=null}}}catch{try{if(O=d(t.prizeCollection,"erc1155Prize"),O){try{typeof O.name=="function"&&(R=await O.name())}catch{R=null}try{typeof O.symbol=="function"&&(k=await O.symbol())}catch{k=null}}}catch{}}S(R),$(k)}catch{S(null),$(null)}})()},[t,d]),C.useEffect(()=>{let A=!0;const O=async()=>{if(g(t.address)!==void 0)return;p(t.address,!0);let k=!1,I=0;const N=3;for(;I<N&&A;)try{const E=d(t.address,"pool");if(!E)throw new Error("Failed to get contract instance");const M=await E.holderTokenAddress();k=M&&M!==He;break}catch{I++,I>=N?k=!1:await new Promise(M=>setTimeout(M,1e3*I))}if(!A)return;let D;t.isCollabPool?D="nft_collab":k?D="whitelist_collab":D="not_collab",f(t.address,D)};return t.address&&d?O():f(t.address,"not_collab"),()=>{A=!1}},[t,d,g,p,f]);const q=()=>{const O=(k=>{const I=nz(k,j);return I||iz[k]||"Unknown"})(t.stateNum),R={Pending:"bg-yellow-100 text-yellow-800",Active:"bg-green-100 text-green-800",Ended:"bg-red-100 text-red-800",Drawing:"bg-purple-100 text-purple-800",Completed:"bg-blue-100 text-blue-800",Deleted:"bg-gray-200 text-gray-800","Activation Failed":"bg-red-200 text-red-900","Prizes Claimed":"bg-blue-200 text-blue-900","Prize Claimed":"bg-blue-200 text-blue-900",Unengaged:"bg-gray-100 text-gray-800",Unknown:"bg-gray-100 text-gray-800"};return l.jsx("span",{className:`px-2 py-1 rounded-full font-body text-[length:var(--text-xs)] font-medium ${R[O]||R.Unknown}`,children:O})},H=()=>{if(!t.prizeCollection||t.prizeCollection===He)return null;W&&W.isCollabPool!==null?W.isCollabPool:t.isCollabPool;const A=W&&W.usesCustomFee!==null?W.usesCustomFee===!0:t.usesCustomFee===!0,O=W&&W.isEscrowedPrize!==null?W.isEscrowedPrize===!0:t.isEscrowedPrize===!0,R=!O;return O&&A?"Lucky NFT Sale":O&&!A?"NFT Giveaway":R&&!A?"NFT Drop (Free Mint)":R&&A?"NFT Drop (Paid Mint)":"NFT Prize"},J=()=>{if(t.isCollabPool)return"NFT Collab";const A=g(t.address);if(A==="nft_collab")return"NFT Collab";if(A==="whitelist_collab")return"Whitelist Collab";if(A===void 0)return"Checking...";if(t.nativePrizeAmount&&t.nativePrizeAmount.gt&&t.nativePrizeAmount.gt(0))return`${x()} Giveaway`;if(t.erc20PrizeToken&&t.erc20PrizeToken!==He&&t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0))return"Token Giveaway";const O=H();return O||(t.isPrized?"Token Giveaway":"Whitelist")},V=()=>t.nativePrizeAmount&&t.nativePrizeAmount.gt&&t.nativePrizeAmount.gt(0)?v(t.nativePrizeAmount):t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0)?`${og(t.erc20PrizeAmount,18)} ${a||"TOKEN"}`:null,F=()=>{const A=t.chainId||r,O=A&&Ht[A]?Ht[A].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):A||"",R=O?`/${O}/raffle/${t.address}`:`/raffle/${t.address}`;e(R)};return l.jsxs("div",{className:"landing-raffle-card bg-card/80 text-foreground backdrop-blur-sm border border-border/50 rounded-xl p-4 sm:p-6 shadow-lg hover:shadow-xl hover:border-border/80 transition-all duration-300 flex flex-col h-full group w-full max-w-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 min-w-0",children:[l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold truncate flex-1 mr-2 min-w-0 cursor-pointer hover:text-[#614E41] transition-colors duration-200",onClick:F,children:t.name}),l.jsx("div",{className:"flex-shrink-0",children:q()})]}),l.jsxs("div",{className:"space-y-2 mb-4 min-w-0",children:[l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Creator:"}),l.jsxs("span",{className:"font-mono truncate ml-2",children:[(b=t.creator)==null?void 0:b.slice(0,10),"..."]})]}),l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Slot Fee:"}),l.jsx("span",{className:"truncate ml-2",children:m(t.slotFee||"0")})]}),l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Slots Sold:"}),l.jsx("span",{className:"truncate ml-2",children:w!==null?`${w} / ${t.slotLimit}`:"Loading..."})]}),l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Winners:"}),l.jsx("span",{className:"truncate ml-2",children:t.winnersCount})]}),l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsxs("span",{className:"text-muted-foreground flex-shrink-0",children:[n,":"]}),l.jsx("span",{className:"truncate ml-2",children:s})]}),!t.isSummary&&l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Type:"}),l.jsx("span",{className:"px-2 py-1 rounded-full font-body text-[length:var(--text-sm)] bg-muted/20 truncate ml-2",children:J()})]}),(()=>{var k,I,N;if(J(),!(t.prizeCollection&&t.prizeCollection!==He))return null;const O=W&&W.isEscrowedPrize!==null?W.isEscrowedPrize===!0:t.isEscrowedPrize===!0,R=!O;if(O){const D=t.prizeTokenId!==void 0&&t.prizeTokenId!==null?`#${t.prizeTokenId}`:"#Unknown",E=B?`${B} ${D}`:P?`${P} ${D}`:`${(k=t.prizeCollection)==null?void 0:k.slice(0,10)}... ${D}`;return l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Prize Token ID:"}),l.jsx("span",{className:`truncate ml-2 ${B||P?"":"font-mono"}`,children:E})]})}else if(R){const D=P&&P.trim()!=="";t.standard===0||t.standard;const E=t.standard===1,M=E?`${(I=t.prizeCollection)==null?void 0:I.slice(0,10)}...`:D?P:`${(N=t.prizeCollection)==null?void 0:N.slice(0,10)}...`;return l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Prize Collection:"}),l.jsx("span",{className:`truncate ml-2 ${D&&!E?"":"font-mono"}`,children:M})]})}return null})(),(()=>{const A=J();return t.prizeCollection&&t.prizeCollection!==He&&t.isCollabPool===!1?null:A==="Token Giveaway"||A.includes("Giveaway")?l.jsxs("div",{className:"flex justify-between items-center font-body text-[length:var(--text-sm)] min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Prize Amount:"}),l.jsx("span",{className:"truncate ml-2",children:V()})]}):null})()]})]})},cue=()=>{const{connected:t}=xr(),{isMobile:e}=pn();Sn();const[r,n]=C.useState(1),{raffles:i,loading:s,error:o,refreshRaffles:a}=Xce({autoFetch:!0,enablePolling:!0,pollingInterval:12e4,maxRaffles:null}),{summaries:c,totalAvailable:d}=aue({initialCount:12}),{filters:f,filteredRaffles:p,isFilterOpen:g,hasActiveFilters:m,updateFilters:v,clearFilters:x,toggleFilter:w,filteredCount:T}=oue(i);if(C.useEffect(()=>{n(1)},[e,s,i==null?void 0:i.length,p==null?void 0:p.length,c==null?void 0:c.length,m]),!t)return l.jsxs(yl,{className:"pt-8 pb-4",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"font-display text-[length:var(--text-4xl)] font-bold mb-4 leading-tight tracking-tighter",children:"Fairness and Transparency, On-Chain"}),l.jsx("p",{className:"font-body text-[length:var(--text-lg)] text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Dropr is a permissionless platform built to host decentralized, on-chain raffles. All draws are public, auditable, and powered by Chainlink's VRF."})]}),l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Bu,{className:"text-muted-foreground mx-auto mb-4 h-16 w-16"}),l.jsx("h3",{className:"font-display text-[length:var(--text-3xl)] font-bold mb-4 leading-tight",children:"Connect Your Wallet"}),l.jsx("p",{className:"font-body text-[length:var(--text-base)] text-muted-foreground mb-6",children:"Please connect your wallet to view and interact with raffles on the blockchain."})]})]});const j=e&&(c==null?void 0:c.length)>0&&(!i||i.length===0||s);let P=null;if(j)if(!f||!f.raffleState||f.raffleState.length===0)P=c;else{const B=new Set(f.raffleState.map($=>$.toLowerCase()));P=c.filter($=>{var G;const W=(G=iz[$.stateNum])==null?void 0:G.toLowerCase();return B.has(W)})}return!j&&s?l.jsx(yl,{children:l.jsx(XF,{message:"Loading raffles from blockchain...",isMobile:e})}):!j&&o?l.jsxs(yl,{className:"pt-8 pb-4",children:[l.jsxs("div",{className:"mb-8 text-center",children:[l.jsx("h1",{className:"font-display text-[length:var(--text-4xl)] font-bold mb-4 leading-tight tracking-tighter",children:"Fairness and Transparency, On-Chain"}),l.jsx("p",{className:"font-body text-[length:var(--text-lg)] text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Dropr is a permissionless platform built to host decentralized, on-chain raffles. All draws are public, auditable, and powered by Chainlink's VRF."})]}),l.jsx(z2,{error:o,onRetry:a,isMobile:e,showCreateButton:!0})]}):l.jsxs(l.Fragment,{children:[l.jsx(nue,{isOpen:g,onToggle:w,filters:f,onFiltersChange:v,raffleCount:T,allRaffles:i}),l.jsx("div",{className:"min-h-screen",style:{position:"relative",zIndex:1},children:l.jsxs(yl,{className:"pt-8 pb-4",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"font-display text-[length:var(--text-4xl)] font-bold mb-4 leading-tight tracking-tighter",children:"Fairness and Transparency, On-Chain"}),l.jsx("p",{className:"font-body text-[length:var(--text-lg)] text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Dropr is a permissionless platform built to host decentralized, on-chain raffles. All draws are public, auditable, and powered by Chainlink's VRF."})]}),l.jsxs("div",{className:"mb-6 flex items-center",children:[l.jsx(iue,{onClick:w,hasActiveFilters:m}),l.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[m&&l.jsx(qe,{variant:"ghost",size:"sm",onClick:x,className:"font-body text-muted-foreground hover:text-foreground",children:"Clear All Filters"}),!e&&(()=>{const W=Math.max(1,Math.ceil((p||[]).length/24));if(W<=1)return null;const G=Math.min(r,W),q=()=>n(A=>Math.max(1,A-1)),H=()=>n(A=>Math.min(W,A+1)),J=2,V=Math.max(1,G-J),F=Math.min(W,G+J),b=[];V>1&&(b.push(1),V>2&&b.push("..."));for(let A=V;A<=F;A++)b.push(A);return F<W&&(F<W-1&&b.push("..."),b.push(W)),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:q,disabled:G===1,className:"px-3 py-2 rounded-md border border-border bg-background text-sm disabled:opacity-50","aria-label":"Previous page",children:"Prev"}),b.map((A,O)=>A==="..."?l.jsx("span",{className:"px-1 font-body text-muted-foreground",children:""},`ellipsis-top-${O}`):l.jsx("button",{onClick:()=>n(A),className:`px-1 font-body text-[length:var(--text-sm)] leading-none ${G===A?"font-semibold text-foreground":"text-foreground/80"} bg-transparent`,"aria-label":`Go to page ${A}`,children:A},`page-top-${A}`)),l.jsx("button",{onClick:H,disabled:G===W,className:"px-3 py-2 rounded-md border border-border bg-background text-sm disabled:opacity-50","aria-label":"Next page",children:"Next"})]})})()]})]}),(()=>{const B=e?12:24,$=!!j,W=e&&$&&typeof d=="number"?d:null,G=$?P||[]:p||[],q=G.length,H=Math.max(1,Math.ceil(q/B)),J=Math.min(r,H),V=(J-1)*B,F=V+B,b=G.slice(V,F),A=H>1||e&&$&&G.length>=B,O=(()=>{const N=H,D=J,E=e?1:2,M=[],Z=Math.max(1,D-E),z=Math.min(N,D+E);Z>1&&(M.push(1),Z>2&&M.push("..."));for(let K=Z;K<=z;K++)M.push(K);return z<N&&(z<N-1&&M.push("..."),M.push(N)),M})(),R=()=>n(N=>Math.max(1,N-1)),k=()=>n(N=>Math.min(H,N+1)),I=!(e&&$&&(s||!i||i.length===0));return l.jsxs("div",{children:[l.jsx(sue,{raffles:b,loading:$?!1:s,error:$?null:o,RaffleCardComponent:lue,emptyMessage:m?"No raffles match your current filters. Try adjusting your filter criteria.":"There are currently no raffles available on the blockchain. Check back later or create your own!",totalCount:W??q,showCount:I}),A&&l.jsxs("div",{className:"mt-6 flex flex-col items-center gap-3",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1",children:[l.jsx("button",{onClick:R,disabled:J===1,className:"px-3 py-2 rounded-md border border-border bg-background text-sm disabled:opacity-50","aria-label":"Previous page",children:"Prev"}),O.map((N,D)=>N==="..."?l.jsx("span",{className:"px-1 text-muted-foreground",children:""},`ellipsis-bottom-${D}`):l.jsx("button",{onClick:()=>n(N),className:`px-1 text-sm leading-none ${J===N?"font-semibold text-foreground":"text-foreground/80"} bg-transparent`,"aria-label":`Go to page ${N}`,children:N},`page-bottom-${N}`)),l.jsx("button",{onClick:k,disabled:J===H,className:"px-3 py-2 rounded-md border border-border bg-background text-sm disabled:opacity-50","aria-label":"Next page",children:"Next"})]}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",J," of ",Math.max(1,H)]})]})]},$?"summaries":"full")})()]})})]})},B2=ve.forwardRef(({type:t="text",value:e,onChange:r,placeholder:n,className:i,disabled:s=!1,required:o=!1,min:a,max:c,step:d,onFocus:f,onBlur:p,...g},m)=>{const{isMobile:v}=pn(),x=C.useRef(null),w=C.useCallback(j=>{v&&(x.current=j.target,j.target.style.transform="translateZ(0)"),f&&f(j)},[v,f]),T=C.useCallback(j=>{v&&x.current&&(j.target.style.transform=""),p&&p(j)},[v,p]);return l.jsx("input",{ref:m,type:t,value:e,onChange:r,placeholder:n,disabled:s,required:o,min:a,max:c,step:d,className:tt("w-full px-3 py-2 border border-[#614E41] rounded-md bg-background","text-foreground placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-[#614E41]/30 focus:border-[#614E41]","disabled:opacity-50 disabled:cursor-not-allowed","transition-colors duration-200",v&&["text-[length:var(--text-base)]","min-h-[44px]","touch-manipulation"],!v&&["text-[length:var(--text-base)]","min-h-[40px]"],i),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onFocus:w,onBlur:T,style:{fontSize:v?"16px":void 0,...g.style},...g})});B2.displayName="ResponsiveInput";const uue=ve.forwardRef(({value:t,onChange:e,placeholder:r,className:n,rows:i=3,disabled:s=!1,required:o=!1,...a},c)=>{const{isMobile:d}=pn();return l.jsx("textarea",{ref:c,value:t,onChange:e,placeholder:r,disabled:s,required:o,rows:i,className:tt("w-full px-3 py-2 border border-[#614E41] rounded-md bg-background","text-foreground placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-[#614E41]/30 focus:border-[#614E41]","disabled:opacity-50 disabled:cursor-not-allowed","transition-colors duration-200 resize-vertical",d&&["text-[length:var(--text-base)]","min-h-[44px]","touch-manipulation"],!d&&["text-[length:var(--text-base)]"],n),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,style:{fontSize:d?"16px":void 0,...a.style},...a})});uue.displayName="ResponsiveTextarea";const ds=ve.forwardRef(({value:t,onChange:e,placeholder:r,className:n,min:i,max:s,step:o="any",disabled:a=!1,required:c=!1,...d},f)=>{const{isMobile:p}=pn();return l.jsx(B2,{ref:f,type:"number",value:t,onChange:e,placeholder:r,min:i,max:s,step:o,disabled:a,required:c,className:tt("[appearance:textfield]","[&::-webkit-outer-spin-button]:appearance-none","[&::-webkit-inner-spin-button]:appearance-none",n),inputMode:p?"decimal":void 0,pattern:p?"[0-9]*":void 0,...d})});ds.displayName="ResponsiveNumberInput";const fn=ve.forwardRef(({value:t,onChange:e,placeholder:r="0x...",className:n,disabled:i=!1,required:s=!1,...o},a)=>l.jsx(B2,{ref:a,type:"text",value:t,onChange:e,placeholder:r,disabled:i,required:s,className:tt("font-mono","tracking-tight",n),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,...o}));fn.displayName="ResponsiveAddressInput";const due=()=>{const{connected:t,address:e}=xr(),{getContractInstance:r,executeTransaction:n}=Sr(),[i,s]=C.useState(!1),[o,a]=C.useState({address:"",type:null,royaltyPercentage:"",royaltyRecipient:""}),[c,d]=C.useState(null),[f,p]=C.useState(!1),[g,m]=C.useState(null),[v,x]=C.useState(!1),w=(B,$)=>{a(W=>({...W,[B]:$}))};C.useEffect(()=>{const B=o.address;if(!B||!t||!Cr(B))return;const $=setTimeout(()=>{j()},450);return()=>clearTimeout($)},[o.address,t]);const T=async B=>{try{if(!B)return;const $=await B.isRevealed();m(!!$)}catch($){console.log("Could not fetch reveal status:",$.message),m(null)}},j=async()=>{if(!o.address||!t){te.error("Please enter a collection address and connect your wallet");return}p(!0);try{let B=null,$=null;try{const b=r(o.address,"erc721Prize");if(b)try{await b.supportsInterface("0x80ac58cd")&&(B=b,$="erc721")}catch{try{await b.totalSupply(),B=b,$="erc721"}catch{}}}catch{}if(!B)try{const b=r(o.address,"erc1155Prize");if(b)try{await b.supportsInterface("0xd9b67a26")&&(B=b,$="erc1155")}catch{try{await b.uri(0),B=b,$="erc1155"}catch{}}}catch{}if(!B||!$)throw new Error("Invalid collection address or unsupported contract type");a(b=>({...b,type:$}));let W="Unknown Collection",G="Unknown",q="Unknown";try{typeof B.name=="function"&&(W=await B.name())}catch{}try{typeof B.symbol=="function"&&(G=await B.symbol())}catch{}try{typeof B.owner=="function"&&(q=await B.owner())}catch{}const H=q!=="Unknown"&&q.toLowerCase()===e.toLowerCase(),J=await B.royaltyInfo(1,1e4),V=await B.royaltyPercentage(),F=await B.royaltyRecipient();d({address:o.address,name:W,symbol:G,owner:q,type:$,isOwner:H,currentRoyaltyPercentage:V.toString(),currentRoyaltyRecipient:F,royaltyAmount:J[1].toString()}),a(b=>({...b,royaltyPercentage:(V.toNumber()/100).toString(),royaltyRecipient:F})),await T(B)}catch(B){console.error("Error loading collection info:",B),te.error("Error loading collection info: "+B.message),d(null),m(null)}finally{p(!1)}},P=async()=>{if(!t||!c){te.error("Please connect your wallet and load collection info first");return}if(!c.isOwner){te.error("You are not the owner of this collection");return}const B=parseFloat(o.royaltyPercentage);if(isNaN(B)||B<0){te.error("Please enter a valid royalty percentage (minimum 0%)");return}if(!o.royaltyRecipient){te.error("Please enter a royalty recipient address");return}s(!0);try{const $=o.type==="erc721"?"erc721Prize":"erc1155Prize",W=r(o.address,$);if(!W)throw new Error("Failed to create contract instance");const G=Math.floor(B*100),q=await n(W.setRoyalty,G,o.royaltyRecipient);if(q.success)te.success(`Royalty updated successfully! Transaction: ${q.hash}`),await j();else throw new Error(q.error)}catch($){console.error("Error updating royalty:",$),te.error("Error updating royalty: "+$.message)}finally{s(!1)}},S=async()=>{if(!t||!c){te.error("Please connect your wallet and load collection info first");return}x(!0);try{const B=o.type==="erc721"?"erc721Prize":"erc1155Prize",$=r(o.address,B);if(!$)throw new Error("Failed to create contract instance");const W=await n($.reveal);if(W.success)te.success("Collection revealed successfully!"),await j();else throw new Error(W.error)}catch(B){te.error("Error revealing collection: "+(B.message||B))}finally{x(!1)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Address"}),l.jsxs("div",{className:"relative",children:[l.jsx(fn,{value:o.address,onChange:B=>w("address",B.target.value),placeholder:"0x..."}),f&&l.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:l.jsx(uh,{size:"sm",showText:!1})})]})]})}),c&&l.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[l.jsx("h4",{className:"font-semibold mb-3",children:"Collection Information"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[c.type==="erc721"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Name:"})," ",c.name]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Symbol:"})," ",c.symbol]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Type:"})," ",c.type.toUpperCase()]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Owner:"})," ",c.isOwner?"You":"Other"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Current Royalty:"})," ",(parseInt(c.currentRoyaltyPercentage)/100).toFixed(2),"%"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Revealed:"})," ",g===null?"Unknown":g?"Yes":"No"]})]}),l.jsxs("div",{className:"mt-3 pt-3 border-t border-border",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"mb-1",children:l.jsx("span",{className:"font-medium",children:"Address:"})}),l.jsx("div",{className:"font-mono text-xs break-all bg-background p-2 rounded border",children:c.address})]}),l.jsxs("div",{className:"text-sm mt-2",children:[l.jsx("div",{className:"mb-1",children:l.jsx("span",{className:"font-medium",children:"Royalty Recipient:"})}),l.jsx("div",{className:"font-mono text-xs break-all bg-background p-2 rounded border",children:c.currentRoyaltyRecipient})]})]}),l.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"text-sm font-medium",children:"Reveal Status:"}),l.jsx("span",{className:"text-sm font-semibold",children:g===null?"Unknown":g?"Revealed":"Not Revealed"}),l.jsx("button",{onClick:S,disabled:v||g||!c.isOwner,className:"px-4 py-2 h-10 bg-[#614E41] text-white rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm text-sm",title:c.isOwner?g?"Collection already revealed":"Reveal collection":"Only collection owner can reveal",children:v?"Revealing...":"Reveal Collection"})]})}),!c.isOwner&&l.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(dr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot modify royalties."})]})]}),c&&c.isOwner&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold",children:"Update Royalty Settings"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Royalty Percentage (%)"}),l.jsx(ds,{min:"0",step:"0.01",value:o.royaltyPercentage,onChange:B=>w("royaltyPercentage",B.target.value),placeholder:"2.5"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Royalty Recipient"}),l.jsx(fn,{value:o.royaltyRecipient,onChange:B=>w("royaltyRecipient",B.target.value),placeholder:"0x..."})]})]}),l.jsxs("button",{onClick:P,disabled:i||!t||!c||!c.isOwner,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",title:t?c?c.isOwner?!o.royaltyPercentage||!o.royaltyRecipient?"Please fill in all required fields":"Update royalty settings":"Only collection owner can update royalties":"Please load collection info first":"Please connect your wallet",children:[l.jsx(uf,{className:"h-4 w-4"}),i?"Updating...":"Update Royalty Settings"]})]}),!t&&l.jsx("div",{className:"text-center p-4 bg-muted rounded-lg",children:l.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to manage collection royalties."})})]})};var fue="Label",sz=C.forwardRef((t,e)=>l.jsx(Dt.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));sz.displayName=fue;var hue=sz;function Rs({className:t,...e}){return l.jsx(hue,{"data-slot":"label",className:tt("flex items-center gap-2 text-[length:var(--text-base)] leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const pue=RS("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-red-600 dark:text-red-500 bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-red-600/90"}},defaultVariants:{variant:"default"}});function yc({className:t,variant:e,...r}){return l.jsx("div",{"data-slot":"alert",role:"alert",className:tt(pue({variant:e}),t),...r})}function xc({className:t,...e}){return l.jsx("div",{"data-slot":"alert-description",className:tt("text-gray-500 dark:text-gray-400 col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}const mue=()=>{const{address:t,connected:e,provider:r}=xr(),{getContractInstance:n}=Sr(),[i,s]=C.useState(!1),[o,a]=C.useState(""),[c,d]=C.useState(""),[f,p]=C.useState(""),[g,m]=C.useState(!1),[v,x]=C.useState(!1),[w,T]=C.useState(""),[j,P]=C.useState(""),[S,B]=C.useState(""),[$,W]=C.useState(""),[G,q]=C.useState(""),[H,J]=C.useState(null),V=k=>{if(!k)return"";const I=String(k).trim().replace(/\u200B|\u200C|\u200D|\u2060|\uFEFF/g,"");return I.startsWith("0X")?"0x"+I.slice(2):I},F=async()=>{P(""),B(""),d(""),x(!1),T(""),m(!1),W(""),q(""),J(null);const k=V(o);if(!Cr(k)){P("Please enter a valid Ethereum contract address.");return}if(!r){P("Provider not available.");return}try{s(!0);let I=new At(k,ft.erc721Prize,r),N=!1;try{const D=await I.minterLocked();x(D);const E=await I.minter();T(E),J("erc721"),N=!0}catch{I=new At(k,ft.erc1155Prize,r);try{const E=await I.minterLocked();x(E);const M=await I.minter();T(M),J("erc1155")}catch(E){P("Failed to fetch collection: "+E.message),J(null);return}}if(N){try{if(typeof I.name=="function"){const D=await I.name();W(D)}else W("N/A")}catch{W("N/A")}try{if(typeof I.symbol=="function"){const D=await I.symbol();q(D)}else q("N/A")}catch{q("N/A")}}else W("ERC1155 Collection"),q("N/A");d(k)}catch(I){P("Failed to fetch collection: "+I.message)}finally{s(!1)}};C.useEffect(()=>{c&&f&&Cr(f)&&r&&b()},[f,c]),C.useEffect(()=>{const k=V(o);if(!e||!k||!Cr(k))return;const I=setTimeout(()=>{i||F()},350);return()=>clearTimeout(I)},[o,e]);const b=async()=>{try{s(!0),P("");const k=H==="erc1155"?ft.erc1155Prize:ft.erc721Prize,N=await new At(c,k,r).minter(),D=V(f);m(N.toLowerCase()===D.toLowerCase()),T(N)}catch(k){P("Failed to load collection details: "+k.message)}finally{s(!1)}},A=async k=>{if(!c||!f||!r){te.error("Please fetch a collection and enter a valid minter address");return}const I=V(f);if(!Cr(I)){te.error("Please enter a valid Ethereum address");return}try{s(!0),P(""),B("");const N=r.getSigner();let D;H==="erc721"?D=new At(c,ft.erc721Prize,N):H==="erc1155"&&(D=new At(c,ft.erc1155Prize,N));let E;H==="erc721"?E=await D.setMinterApproval(I,k):H==="erc1155"&&(E=await D.setMinterApproval(I,k)),await E.wait(),te.success(`Minter ${k?"set":"removed"} successfully!`),m(k),p("")}catch(N){te.error(`Failed to set minter approval: ${Ei(N)}`)}finally{s(!1)}},O=async()=>{if(!c||!r){te.error("Please fetch a collection first");return}try{s(!0),P(""),B("");const k=r.getSigner();let I;H==="erc721"?I=new At(c,ft.erc721Prize,k):H==="erc1155"&&(I=new At(c,ft.erc1155Prize,k));let N;try{if(typeof I.owner=="function")N=await I.owner();else{te.error("Contract does not support owner functionality");return}}catch{te.error("Failed to get contract owner");return}const D=await k.getAddress();if(N.toLowerCase()!==D.toLowerCase()){te.error("Only the contract owner can lock/unlock minter approval");return}let E;H==="erc721"?v?(console.log("Attempting to unlock minter approval..."),E=await I.unlockMinterApproval()):(console.log("Attempting to lock minter approval..."),E=await I.lockMinterApproval()):H==="erc1155"&&(v?(console.log("Attempting to unlock minter approval..."),E=await I.unlockMinterApproval()):(console.log("Attempting to lock minter approval..."),E=await I.lockMinterApproval())),console.log("Transaction sent:",E.hash),await E.wait(),te.success(`Minter approval ${v?"unlocked":"locked"} successfully!`),x(!v)}catch(k){console.error("Error in toggleMinterApprovalLock:",k),te.error(`Failed to ${v?"unlock":"lock"} minter approval: ${Ei(k)}`)}finally{s(!1)}},R=k=>Cr(k);return e?l.jsxs(Pr,{children:[l.jsxs(wn,{children:[l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx(Xo,{className:"h-5 w-5"}),"Minter Approval & Royalty Enforcement Exemption"]}),l.jsx(Zo,{children:"Manage minter approvals and royalty enforcement exemptions for collections"})]}),l.jsxs(Rr,{className:"space-y-6",children:[!e&&l.jsxs(yc,{variant:"destructive",children:[l.jsx(dr,{className:"h-4 w-4"}),l.jsx(xc,{children:"Please connect your wallet to load collection info and manage minter approvals."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rs,{htmlFor:"collection-address",children:"Collection Contract Address"}),l.jsx(fn,{id:"collection-address",placeholder:"0x...",value:o,onChange:k=>a(k.target.value),disabled:i||!e,rightElement:i&&l.jsx(uh,{size:"sm"})})]}),c&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rs,{children:"Collection Info"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"font-semibold",children:$}),l.jsxs("span",{className:"text-muted-foreground",children:["(",G,")"]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rs,{children:"Collection Status"}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(ea,{variant:v?"destructive":"default",children:v?l.jsxs(l.Fragment,{children:[l.jsx(Nm,{className:"h-3 w-3 mr-1"}),"Minter Approval Locked"]}):l.jsxs(l.Fragment,{children:[l.jsx(kP,{className:"h-3 w-3 mr-1"}),"Minter Approval Unlocked"]})})}),w&&l.jsxs("div",{className:"mt-2",children:[l.jsx(Rs,{className:"text-sm",children:"Current Minter"}),l.jsx("p",{className:"text-sm font-mono bg-muted p-2 rounded",children:w})]}),l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rs,{htmlFor:"exempt-address",children:"Royalty Enforcement Exemption Address"}),l.jsx(fn,{id:"exempt-address",placeholder:"0x... (address to exempt/enforce)",value:f,onChange:k=>p(k.target.value),disabled:i}),f&&!Cr(V(f))&&l.jsx("p",{className:"text-sm text-red-600",children:"Invalid Ethereum address"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(qe,{variant:"outline",disabled:!c||!Cr(V(f))||i,onClick:async()=>{try{s(!0),P("");const I=await new At(c,H==="erc721"?ft.erc721Prize:ft.erc1155Prize,r).isRoyaltyEnforcementExempt(V(f));te.success(I?"Address is exempt from royalty enforcement":"Address is NOT exempt")}catch(k){te.error(`Failed to check exemption: ${Ei(k)}`)}finally{s(!1)}},children:"Check exemption"}),l.jsx(qe,{className:"bg-[#614E41] text-white hover:bg-[#4a3a30]",disabled:!c||!Cr(V(f))||i,onClick:async()=>{try{s(!0),P("");const k=r.getSigner();await(await new At(c,H==="erc721"?ft.erc721Prize:ft.erc1155Prize,k).setRoyaltyEnforcementExemption(V(f),!0)).wait(),te.success("Exemption granted successfully")}catch(k){te.error(`Failed to grant exemption: ${Ei(k)}`)}finally{s(!1)}},children:"Grant Exemption"}),l.jsx(qe,{variant:"destructive",disabled:!c||!Cr(V(f))||i,onClick:async()=>{try{s(!0),P("");const k=r.getSigner();await(await new At(c,H==="erc721"?ft.erc721Prize:ft.erc1155Prize,k).setRoyaltyEnforcementExemption(V(f),!1)).wait(),te.success("Exemption revoked successfully")}catch(k){te.error(`Failed to revoke exemption: ${Ei(k)}`)}finally{s(!1)}},children:"Revoke Exemption"})]})]})]}),l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rs,{htmlFor:"minter",children:"Minter Address"}),l.jsx(fn,{id:"minter",placeholder:"0x...",value:f,onChange:k=>p(k.target.value),disabled:i}),f&&!R(f)&&l.jsx("p",{className:"text-sm text-red-600",children:"Invalid Ethereum address"})]}),f&&R(V(f))&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rs,{children:"Current Status"}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(ea,{variant:g?"default":"secondary",children:g?l.jsxs(l.Fragment,{children:[l.jsx(jr,{className:"h-3 w-3 mr-1"}),"Is Current Minter"]}):l.jsxs(l.Fragment,{children:[l.jsx(dr,{className:"h-3 w-3 mr-1"}),"Not Current Minter"]})})}),g&&l.jsx("p",{className:"text-sm text-green-600",children:"This address is currently the minter for this collection."})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[l.jsxs(qe,{onClick:()=>A(!0),disabled:i||g||v,className:"flex-1 bg-[#614E41] text-white hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:f?R(V(f))?g?"Address is already the minter":v?"Minter approval is locked":"Set as minter":"Please enter a valid address":"Please enter a minter address",children:[i?l.jsx(Mf,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(Xo,{className:"h-4 w-4 mr-2"}),"Set Minter"]}),l.jsxs(qe,{onClick:()=>A(!1),disabled:i||!g||v,className:"flex-1 bg-[#614E41] text-white hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:f?R(V(f))?g?v?"Minter approval is locked":"Remove minter":"Address is not currently the minter":"Please enter a valid address":"Please enter a minter address",children:[i?l.jsx(Mf,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(mY,{className:"h-4 w-4 mr-2"}),"Remove Minter"]})]}),l.jsxs(qe,{onClick:O,disabled:i,variant:v?"default":"outline",className:`w-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${v?"bg-[#614E41] text-white hover:bg-[#4a3a30]":"border-[#614E41] text-[#614E41] hover:bg-[#614E41]/10"}`,title:v?"Unlock minter approval to allow changes":"Lock minter approval to prevent changes",children:[i?l.jsx(Mf,{className:"h-4 w-4 mr-2 animate-spin"}):v?l.jsx(kP,{className:"h-4 w-4 mr-2"}):l.jsx(Nm,{className:"h-4 w-4 mr-2"}),v?"Unlock Minter Approval":"Lock Minter Approval"]})]})]}),j&&l.jsxs(yc,{variant:"destructive",children:[l.jsx(dr,{className:"h-4 w-4"}),l.jsx(xc,{children:j})]}),S&&l.jsxs(yc,{children:[l.jsx(jr,{className:"h-4 w-4"}),l.jsx(xc,{children:S})]})]})]}):l.jsxs(Pr,{children:[l.jsxs(wn,{children:[l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx(Xo,{className:"h-5 w-5"}),"Minter Approval & Royalty Enforcement Exemption"]}),l.jsx(Zo,{children:"Please connect your wallet to manage minter approvals and royalty enforcement exemptions."})]}),l.jsx(Rr,{children:l.jsxs(yc,{children:[l.jsx(dr,{className:"h-4 w-4"}),l.jsx(xc,{children:"Please connect your wallet to manage minter approvals."})]})})]})};var Mv="Tabs",[gue,Wpe]=So(Mv,[yv]),oz=yv(),[yue,$2]=gue(Mv),az=C.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:c="automatic",...d}=t,f=dg(a),[p,g]=ia({prop:n,onChange:i,defaultProp:s??"",caller:Mv});return l.jsx(yue,{scope:r,baseId:qs(),value:p,onValueChange:g,orientation:o,dir:f,activationMode:c,children:l.jsx(Dt.div,{dir:f,"data-orientation":o,...d,ref:e})})});az.displayName=Mv;var lz="TabsList",cz=C.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=$2(lz,r),o=oz(r);return l.jsx(eO,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:l.jsx(Dt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});cz.displayName=lz;var uz="TabsTrigger",dz=C.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,o=$2(uz,r),a=oz(r),c=pz(o.baseId,n),d=mz(o.baseId,n),f=n===o.value;return l.jsx(tO,{asChild:!0,...a,focusable:!i,active:f,children:l.jsx(Dt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:Ke(t.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?o.onValueChange(n):p.preventDefault()}),onKeyDown:Ke(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(n)}),onFocus:Ke(t.onFocus,()=>{const p=o.activationMode!=="manual";!f&&!i&&p&&o.onValueChange(n)})})})});dz.displayName=uz;var fz="TabsContent",hz=C.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=t,a=$2(fz,r),c=pz(a.baseId,n),d=mz(a.baseId,n),f=n===a.value,p=C.useRef(f);return C.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),l.jsx(Eo,{present:i||f,children:({present:g})=>l.jsx(Dt.div,{"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:g&&s})})});hz.displayName=fz;function pz(t,e){return`${t}-trigger-${e}`}function mz(t,e){return`${t}-content-${e}`}var xue=az,vue=cz,bue=dz,wue=hz;function kue({className:t,...e}){return l.jsx(xue,{"data-slot":"tabs",className:tt("flex flex-col gap-2",t),...e})}function _ue({className:t,...e}){return l.jsx(vue,{"data-slot":"tabs-list",className:tt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...e})}function u0({className:t,...e}){return l.jsx(bue,{"data-slot":"tabs-trigger",className:tt("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function d0({className:t,...e}){return l.jsx(wue,{"data-slot":"tabs-content",className:tt("flex-1 outline-none",t),...e})}function Cue({...t}){return l.jsx(KO,{"data-slot":"dialog",...t})}function Sue({...t}){return l.jsx(YO,{"data-slot":"dialog-trigger",...t})}function Eue({...t}){return l.jsx(JO,{"data-slot":"dialog-portal",...t})}function Tue({className:t,...e}){return l.jsx(XO,{"data-slot":"dialog-overlay",className:tt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function Nue({className:t,children:e,...r}){return l.jsxs(Eue,{"data-slot":"dialog-portal",children:[l.jsx(Tue,{}),l.jsxs(QO,{"data-slot":"dialog-content",className:tt("bg-card/90 backdrop-blur-md text-card-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-xl border border-border/50 p-6 shadow-2xl duration-200 sm:max-w-lg",t),...r,children:[e,l.jsxs(ate,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none text-muted-foreground hover:text-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[l.jsx(Pm,{}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Aue({className:t,...e}){return l.jsx("div",{"data-slot":"dialog-header",className:tt("flex flex-col gap-2 text-center sm:text-left",t),...e})}function jue({className:t,...e}){return l.jsx(ZO,{"data-slot":"dialog-title",className:tt("text-lg leading-none font-semibold text-foreground",t),...e})}const Pue=({title:t,description:e,icon:r,component:n,defaultExpanded:i=!1,className:s="",dialogContentClassName:o,isExpanded:a,onToggle:c,...d})=>{const[f,p]=C.useState(i),g=a!==void 0?a:f,{isMobile:m,isTablet:v,isDesktop:x}=pn(),[w,T]=C.useState(!1),j=()=>{c?c():p(!f)},P=()=>{T(!0)};return l.jsxs(Pr,{"data-dashboard-card":"true",className:tt("relative transition-all duration-300 ease-in-out",m&&"w-full",v&&"w-full",g&&["ring-2 ring-primary/20","shadow-lg",m&&"mb-4"],s),children:[l.jsxs(wn,{className:tt("pb-3",m&&"pb-2"),children:[l.jsxs(kn,{className:tt("flex items-center gap-2",m?"text-base":"text-lg"),children:[l.jsx("span",{className:"flex-1",children:t}),l.jsx(qe,{variant:"ghost",size:"sm",onClick:j,className:tt("ml-auto p-1 h-auto",m&&"p-2"),"aria-label":g?`Collapse ${t}`:`Expand ${t}`,children:g?l.jsx(Xu,{className:tt(m?"h-5 w-5":"h-4 w-4")}):l.jsx(ko,{className:tt(m?"h-5 w-5":"h-4 w-4")})})]}),l.jsx(Zo,{className:tt("text-muted-foreground","text-sm"),children:e})]}),l.jsxs(Rr,{className:tt("pt-0",m&&"px-4 pb-4"),children:[x&&l.jsxs(Cue,{open:w,onOpenChange:T,children:[l.jsx(Sue,{asChild:!0,children:l.jsxs(qe,{onClick:P,className:tt("w-full bg-[#614E41] text-white","hover:bg-[#4a3a30] transition-all duration-200","shadow-sm hover:shadow-md h-10 text-sm"),children:[l.jsx(zu,{className:"mr-2 h-4 w-4"}),"Open ",t]})}),l.jsxs(Nue,{className:tt("max-w-4xl max-h-[90vh] overflow-y-auto overflow-x-hidden",o),children:[l.jsx(Aue,{children:l.jsx(jue,{className:"text-xl font-semibold",children:t})}),l.jsx("div",{className:"mt-4",children:n&&l.jsx(n,{})})]})]}),!x&&l.jsxs(l.Fragment,{children:[l.jsx(qe,{onClick:j,className:tt("w-full bg-[#614E41] text-white","hover:bg-[#4a3a30] transition-all duration-200","shadow-sm hover:shadow-md",m?"h-12 text-base":"h-10 text-sm",g&&"mb-4"),children:g?l.jsxs(l.Fragment,{children:[l.jsx(Xu,{className:tt("mr-2",m?"h-5 w-5":"h-4 w-4")}),"Close ",t]}):l.jsxs(l.Fragment,{children:[l.jsx(ko,{className:tt("mr-2",m?"h-5 w-5":"h-4 w-4")}),"Open ",t]})}),g&&l.jsx("div",{className:tt("transition-all duration-300 ease-in-out",m?"mobile-component-container":"desktop-component-container"),children:l.jsx("div",{className:tt("border border-border rounded-lg p-4 bg-muted/30",m&&"p-3"),children:n&&l.jsx(n,{})})})]})]})]})},Rue=()=>{const{connected:t,address:e}=xr(),{getContractInstance:r,executeTransaction:n}=Sr(),{isMobile:i}=pn(),[s,o]=C.useState(!1),[a,c]=C.useState({address:""}),[d,f]=C.useState({tokenId:"",maxSupply:""}),[p,g]=C.useState({tokenId:"",tokenURI:""}),[m,v]=C.useState(null),[x,w]=C.useState(!1);C.useEffect(()=>{if(!t||!a.address||!Cr(a.address))return;const G=setTimeout(()=>{x||B()},400);return()=>clearTimeout(G)},[a.address,t]);const T=(G,q)=>{c(H=>({...H,[G]:q}))},j=(G,q)=>{f(H=>({...H,[G]:q}))},P=(G,q)=>{g(H=>({...H,[G]:q}))},S=async G=>{try{const q=r(G,"erc1155Prize");if(q)try{if(await q.supportsInterface("0xd9b67a26"))return{type:"erc1155",contract:q}}catch{try{return await q.balanceOf(G,0),{type:"erc1155",contract:q}}catch{}}const H=r(G,"erc721Prize");if(H)try{if(await H.supportsInterface("0x80ac58cd"))return{type:"erc721",contract:H}}catch{try{return await H.balanceOf(G),{type:"erc721",contract:H}}catch{}}throw new Error("Contract does not support ERC721 or ERC1155 interfaces")}catch(q){throw console.error("Contract type detection error:",q),new Error("Unable to determine contract type. Please verify the contract address.")}},B=async()=>{if(!a.address||!t){te.error("Please enter a collection address and connect your wallet");return}w(!0);try{const{type:G,contract:q}=await S(a.address);if(G!=="erc1155"){te.error(" This component is only for ERC1155 collections. The provided address appears to be an ERC721 collection. Please use the appropriate component for ERC721 collections."),v({address:a.address,isOwner:!1,owner:"N/A",type:"erc721",isBlocked:!0}),w(!1);return}const H=await q.owner(),J=H.toLowerCase()===e.toLowerCase();v({address:a.address,isOwner:J,owner:H,type:"erc1155"}),J?te.success("ERC1155 collection loaded successfully"):te.error("You are not the owner of this collection")}catch(G){console.error("Error loading collection info:",G),te.error("Failed to load collection info. Please verify the address is a valid ERC1155 collection."),v(null)}finally{w(!1)}},$=async()=>{if(!t||!e){te.error("Please connect your wallet");return}if(!m||!m.isOwner||m.isBlocked){m!=null&&m.isBlocked?te.error("This component only works with ERC1155 collections. The provided address is an ERC721 collection."):te.error("Please load collection info first and ensure you are the owner");return}if(!d.tokenId||!d.maxSupply){te.error("Please fill in all required fields");return}const G=parseInt(d.tokenId),q=parseInt(d.maxSupply);if(isNaN(G)||G<0){te.error("Please enter a valid token ID (non-negative integer)");return}if(isNaN(q)||q<=0){te.error("Please enter a valid max supply (positive integer)");return}o(!0);try{const H=r(a.address,"erc1155Prize"),J=await n(H.createNewToken,G,q);if(J.success)te.success(`Token ID ${G} created successfully with max supply of ${q}!`),f({tokenId:"",maxSupply:""});else throw new Error(J.error)}catch(H){console.error("Error creating new token:",H),te.error(`Failed to create new token: ${H.message}`)}finally{o(!1)}},W=async()=>{if(!t||!e){te.error("Please connect your wallet");return}if(!m||!m.isOwner||m.isBlocked){m!=null&&m.isBlocked?te.error("This component only works with ERC1155 collections. The provided address is an ERC721 collection."):te.error("Please load collection info first and ensure you are the owner");return}if(!p.tokenId||!p.tokenURI){te.error("Please fill in all required fields");return}const G=parseInt(p.tokenId);if(isNaN(G)||G<0){te.error("Please enter a valid token ID (non-negative integer)");return}o(!0);try{const q=r(a.address,"erc1155Prize"),H=await n(q.setURI,G,p.tokenURI.trim());if(H.success)te.success(`URI set successfully for token ID ${G}!`),g({tokenId:"",tokenURI:""});else throw new Error(H.error)}catch(q){console.error("Error setting URI:",q),te.error(`Failed to set URI: ${q.message}`)}finally{o(!1)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Collection Address"}),l.jsx(fn,{value:a.address,onChange:G=>T("address",G.target.value),placeholder:"0x...",rightElement:x&&l.jsx(uh,{size:"sm"})})]})}),m&&l.jsxs("div",{className:`p-4 rounded-lg border ${m.isBlocked?"bg-destructive/10 border-destructive/20":"bg-muted/50"}`,children:[m.isBlocked&&l.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(dr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"This component only works with ERC1155 collections. The provided address is an ERC721 collection. Please use the appropriate component for ERC721 collections."})]}),!m.isBlocked&&!m.isOwner&&l.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(dr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot create new tokens."})]})]}),m&&m.isOwner&&!m.isBlocked&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-sm text-muted-foreground",children:"Create New Token ID"}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Token ID"}),l.jsx(ds,{min:"0",value:d.tokenId,onChange:G=>j("tokenId",G.target.value),placeholder:"0"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Unique identifier for the new token"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Max Supply"}),l.jsx(ds,{min:"1",value:d.maxSupply,onChange:G=>j("maxSupply",G.target.value),placeholder:"100"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Maximum number of tokens that can be minted"})]})]}),l.jsx("button",{onClick:$,disabled:s||!t||!m.isOwner||m.isBlocked||!d.tokenId||!d.maxSupply,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",title:t?m.isOwner?!d.tokenId||!d.maxSupply?"Please fill in all required fields":"Create new token ID":"Only collection owner can create new tokens":"Please connect your wallet",children:s?"Creating...":"Create New Token ID"})]}),m&&m.isOwner&&!m.isBlocked&&l.jsxs("div",{className:"space-y-4 border-t border-border pt-6",children:[l.jsx("h4",{className:"text-sm text-muted-foreground",children:"Set Token URI"}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Token ID"}),l.jsx(ds,{min:"0",value:p.tokenId,onChange:G=>P("tokenId",G.target.value),placeholder:"0"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Token ID to set URI for"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Token URI"}),l.jsx("input",{type:"text",value:p.tokenURI,onChange:G=>P("tokenURI",G.target.value),placeholder:"https://example.com/metadata/{id}.json",className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-colors text-sm",style:i?{fontSize:"16px"}:{}}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Metadata URI for the token"})]})]}),l.jsx("button",{onClick:W,disabled:s||!t||!m.isOwner||m.isBlocked||!p.tokenId||!p.tokenURI,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",title:t?m.isOwner?!p.tokenId||!p.tokenURI?"Please fill in all required fields":"Set token URI":"Only collection owner can set URIs":"Please connect your wallet",children:s?"Setting...":"Set Token URI"})]})]})},Iue=()=>{const{connected:t,address:e}=xr(),{getContractInstance:r,executeTransaction:n}=Sr(),{formatRevenueAmount:i}=Sn(),[s,o]=C.useState(!1),[a,c]=C.useState({address:"",revenueAmount:"0",isOwner:!1,raffleState:"unknown"}),[d,f]=C.useState(!1),[p,g]=C.useState([]),[m,v]=C.useState(!1),[x,w]=C.useState({collectionAddress:"",collectionType:"erc721",recipient:"",quantity:"",tokenId:""}),[T,j]=C.useState(!1),[P,S]=C.useState(null),[B,$]=C.useState(!1),W=(R,k)=>{c(I=>({...I,[R]:k}))},G=(R,k)=>{w(I=>({...I,[R]:k}))},q=async()=>{if(!x.collectionAddress||!t){te.error("Please enter a collection address and connect your wallet");return}$(!0);try{let R=null,k=null;try{const M=r(x.collectionAddress,"erc721Prize");if(M)try{await M.supportsInterface("0x80ac58cd")&&(R=M,k="erc721")}catch{try{await M.totalSupply(),R=M,k="erc721"}catch{}}}catch{}if(!R)try{const M=r(x.collectionAddress,"erc1155Prize");if(M)try{await M.supportsInterface("0xd9b67a26")&&(R=M,k="erc1155")}catch{try{await M.uri(0),R=M,k="erc1155"}catch{}}}catch{}if(!R||!k)throw new Error("Invalid collection address or unsupported contract type");w(M=>({...M,collectionType:k}));let I="Unknown Collection",N="Unknown",D="Unknown";try{typeof R.name=="function"&&(I=await R.name())}catch{}try{typeof R.symbol=="function"&&(N=await R.symbol())}catch{}try{typeof R.owner=="function"&&(D=await R.owner())}catch{}const E=D!=="Unknown"&&D.toLowerCase()===e.toLowerCase();S({name:I,symbol:N,owner:D,type:k,isOwner:E}),k==="erc1155"?te.success("Collection loaded"):te.success(`Collection loaded: ${I} (${k.toUpperCase()})`)}catch(R){console.error("Error loading collection info:",R),te.error("Failed to load collection information: "+R.message),S(null)}finally{$(!1)}},H=async()=>{if(!t||!P){te.error("Please connect your wallet and load collection info first");return}if(!P.isOwner){te.error("You are not the owner of this collection");return}if(!x.recipient||!x.quantity){te.error("Please fill in recipient address and quantity");return}if(x.collectionType==="erc1155"&&!x.tokenId){te.error("Please specify token ID for ERC1155 minting");return}const R=parseInt(x.quantity);if(isNaN(R)||R<=0){te.error("Please enter a valid quantity");return}j(!0);try{const k=x.collectionType==="erc721"?"erc721Prize":"erc1155Prize",I=r(x.collectionAddress,k);if(!I)throw new Error("Failed to create contract instance");let N;if(x.collectionType==="erc721")N=await n(I.creatorMint,x.recipient,R);else{const D=parseInt(x.tokenId);if(isNaN(D))throw new Error("Invalid token ID");N=await n(I.creatorMint,x.recipient,D,R)}if(N.success)te.success(`Successfully minted ${R} token(s)! Transaction: ${N.hash}`),w(D=>({...D,recipient:"",quantity:"",tokenId:""}));else throw new Error(N.error)}catch(k){console.error("Error minting tokens:",k),te.error("Error minting tokens: "+k.message)}finally{j(!1)}},J=async R=>{if(!R||!t){te.error("Please enter a raffle address and connect your wallet");return}f(!0);try{const k=r(R,"pool");if(!k)throw new Error("Failed to create raffle contract instance");const[I,N,D,E]=await Promise.all([k.creator(),k.revenueRecipient(),k.totalCreatorRevenue(),k.state()]),M=I.toLowerCase()===e.toLowerCase(),Z=N.toLowerCase()===e.toLowerCase(),z=M&&Z,Y=["Pending","Active","Ended","Drawing","Completed","Deleted","AllPrizesClaimed","Unengaged"][E]||"Unknown";c({address:R,revenueAmount:Ir(D),isCreator:M,isRevenueRecipient:Z,isBothCreatorAndRecipient:z,raffleState:Y,totalRevenue:D})}catch(k){console.error("Error loading raffle info:",k),te.error("Error loading raffle info: "+k.message),c({address:R,revenueAmount:"0",isCreator:!1,raffleState:"error"})}finally{f(!1)}},V=async()=>{if(t){v(!0);try{g([])}catch(R){console.error("Error loading created raffles:",R)}finally{v(!1)}}},F=async()=>{if(!t||!a.address){te.error("Please connect your wallet and load raffle info first");return}if(!a.isRevenueRecipient){te.error("You are not the revenue recipient of this raffle");return}if(parseFloat(a.revenueAmount)<=0){te.info("No revenue available for withdrawal");return}if(!["Completed","AllPrizesClaimed","Ended"].includes(a.raffleState)){te.info(`Revenue can only be withdrawn from completed raffles. Current state: ${a.raffleState}`);return}o(!0);try{const k=r(a.address,"pool");if(!k)throw new Error("Failed to create raffle contract instance");const I=await n(k.withdrawCreatorRevenue);if(I.success)te.success(`Revenue withdrawn successfully! Transaction: ${I.hash}`),await J(a.address);else throw new Error(I.error)}catch(k){console.error("Error withdrawing revenue:",k),te.error("Error withdrawing revenue: "+k.message)}finally{o(!1)}};C.useEffect(()=>{t&&V()},[t]),C.useEffect(()=>{const R=a.address;if(!t||!R||!Cr(R))return;const k=setTimeout(()=>{d||J(R)},400);return()=>clearTimeout(k)},[a.address,t]),C.useEffect(()=>{const R=x.collectionAddress;if(!t||!R||!Cr(R))return;const k=setTimeout(()=>{B||q()},400);return()=>clearTimeout(k)},[x.collectionAddress,t]);const b=R=>{switch(R){case"Completed":case"AllPrizesClaimed":return"text-green-600";case"Ended":return"text-red-600";case"Active":return"text-blue-600";case"Pending":return"text-yellow-600";case"Drawing":return"text-purple-600";default:return"text-muted-foreground"}},A=a.totalRevenue&&ue.isBigNumber(a.totalRevenue)?!a.totalRevenue.isZero():parseFloat(a.revenueAmount)>0,O=a.isRevenueRecipient&&A&&["Completed","AllPrizesClaimed","Ended"].includes(a.raffleState);return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Raffle Contract Address"}),l.jsx(fn,{value:a.address,onChange:R=>W("address",R.target.value),placeholder:"0x...",rightElement:d&&l.jsx(uh,{size:"sm"})})]})}),a.address&&a.raffleState!=="unknown"&&l.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[l.jsx("h4",{className:"font-semibold mb-3",children:"Raffle Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Address:"}),l.jsx("div",{className:"font-mono break-all",children:a.address})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"State:"}),l.jsx("div",{className:`font-semibold ${b(a.raffleState)}`,children:a.raffleState})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Creator Revenue:"}),l.jsx("div",{className:"font-semibold",children:i(a.totalRevenue||a.revenueAmount)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Your Role:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[a.isBothCreatorAndRecipient&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:[l.jsx(jr,{className:"h-3 w-3"}),"Creator"]}),a.isRevenueRecipient&&!a.isBothCreatorAndRecipient&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs",children:[l.jsx(jr,{className:"h-3 w-3"}),"Revenue Recipient"]}),a.isOwner&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:[l.jsx(jr,{className:"h-3 w-3"}),"Owner"]}),!a.isCreator&&!a.isRevenueRecipient&&!a.isOwner&&l.jsx("span",{className:"text-muted-foreground text-xs",children:"No special role"})]})]})]}),!a.isRevenueRecipient&&l.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(dr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"You are not the revenue recipient of this raffle"})]}),a.isRevenueRecipient&&!A&&l.jsxs("div",{className:"mt-3 p-3 bg-yellow-50/80 dark:bg-yellow-900/20 backdrop-blur-sm border border-yellow-200/50 dark:border-yellow-700/50 rounded-lg flex items-center gap-2",children:[l.jsx(dr,{className:"h-4 w-4 text-yellow-600"}),l.jsx("span",{className:"text-sm text-yellow-800",children:"No revenue available for withdrawal"})]}),a.isRevenueRecipient&&!["Completed","AllPrizesClaimed","Ended"].includes(a.raffleState)&&l.jsxs("div",{className:"mt-3 p-3 bg-blue-50/80 dark:bg-blue-900/20 backdrop-blur-sm border border-blue-200/50 dark:border-blue-700/50 rounded-lg flex items-center gap-2",children:[l.jsx(dr,{className:"h-4 w-4 text-blue-600"}),l.jsx("span",{className:"text-sm text-blue-800",children:"Revenue can only be withdrawn from completed raffles."})]}),O&&l.jsxs("div",{className:"mt-3 p-3 bg-green-50/80 dark:bg-green-900/20 backdrop-blur-sm border border-green-200/50 dark:border-green-700/50 rounded-lg flex items-center gap-2",children:[l.jsx(jr,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{className:"text-sm text-green-800",children:"Revenue is available for withdrawal!"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("button",{onClick:F,disabled:s||!t||!O,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",title:t?a.address?a.raffleState==="unknown"?"Raffle state unknown":a.isRevenueRecipient?O?`Withdraw ${i(a.totalRevenue||a.revenueAmount)}`:"Withdrawal not available - check raffle state and revenue amount":"Only revenue recipient can withdraw revenue":"Please load raffle info first":"Please connect your wallet",children:[l.jsx(Yo,{className:"h-4 w-4"}),s?"Withdrawing...":a.address&&(a.totalRevenue||a.revenueAmount)?`Withdraw ${i(a.totalRevenue||a.revenueAmount)}`:"Withdraw Revenue"]}),!O&&a.isRevenueRecipient&&a.address&&l.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Withdrawal is not available at this time. Check the raffle state and revenue amount."})]}),!t&&l.jsx("div",{className:"text-center p-4 bg-muted rounded-lg",children:l.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to withdraw creator revenue."})}),l.jsxs("div",{className:"space-y-4 border-t border-border pt-6",children:[l.jsx("div",{className:"mb-4",children:l.jsx("h3",{className:"text-lg font-semibold",children:"Creator Mint"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Contract Address"}),l.jsx(fn,{value:x.collectionAddress,onChange:R=>G("collectionAddress",R.target.value),placeholder:"0x...",rightElement:B&&l.jsx(uh,{size:"sm"})})]}),P&&l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[P.type==="erc721"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Name:"})," ",P.name]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Symbol:"})," ",P.symbol]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Type:"})," ",P.type.toUpperCase()]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Owner:"})," ",P.isOwner?"You":"Other"]})]}),!P.isOwner&&l.jsxs("div",{className:"mt-2 p-2 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(dr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot mint tokens."})]})]}),P&&P.isOwner&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Recipient Address"}),l.jsx(fn,{value:x.recipient,onChange:R=>G("recipient",R.target.value),placeholder:"0x..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity"}),l.jsx("input",{type:"number",value:x.quantity,onChange:R=>G("quantity",R.target.value),placeholder:"1",min:"1",className:"w-full px-3 py-2 border border-border rounded-md bg-background"})]})]}),P.type==="erc1155"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token ID"}),l.jsx("input",{type:"number",value:x.tokenId,onChange:R=>G("tokenId",R.target.value),placeholder:"1",min:"0",className:"w-full px-3 py-2 border border-border rounded-md bg-background"})]}),l.jsxs("button",{onClick:H,disabled:T||!t||!P.isOwner||!x.recipient||!x.quantity||P.type==="erc1155"&&!x.tokenId,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm",children:[l.jsx(hx,{className:"h-4 w-4"}),T?"Minting...":`Mint ${P.type.toUpperCase()} Token(s)`]})]})]})]})]})},gz=()=>{const{address:t,connected:e,provider:r}=xr(),{getContractInstance:n}=Sr(),[i,s]=C.useState(!1),[o,a]=C.useState(""),[c,d]=C.useState(""),[f,p]=C.useState(""),[g,m]=C.useState(""),[v,x]=C.useState(""),[w,T]=C.useState(""),[j,P]=C.useState(""),[S,B]=C.useState(""),[$,W]=C.useState(""),[G,q]=C.useState(""),[H,J]=C.useState(null),[V,F]=C.useState(null),[b,A]=C.useState(!1),[O,R]=C.useState(!1),k=async()=>{if(P(""),B(""),d(""),W(""),q(""),J(null),F(null),R(!1),!o||!Cr(o)){P("Please enter a valid collection address");return}if(!e){P("Please connect your wallet");return}s(!0);try{try{const M=new At(o,ft.erc721Prize,r),Z=await M.name(),z=await M.symbol();W(Z),q(z),J("erc721"),d(o),B(`ERC721 Collection found: ${Z} (${z})`);try{const Y=(await M.owner()).toLowerCase()===t.toLowerCase();R(Y)}catch{R(!1)}return}catch{console.log("Not an ERC721 collection, trying ERC1155...")}try{const M=new At(o,ft.erc1155Prize,r);try{const Z=await M.uri(0);W("ERC1155 Collection"),q("ERC1155")}catch{W("ERC1155 Collection"),q("ERC1155")}J("erc1155"),d(o),B("ERC1155 Collection found");try{const z=(await M.owner()).toLowerCase()===t.toLowerCase();R(z)}catch{R(!1)}return}catch{console.log("Not an ERC1155 collection either")}P("Collection not found or not a supported type (ERC721/ERC1155)")}catch(M){console.error("Error fetching collection:",M),P(`Failed to fetch collection: ${Ei(M)}`)}finally{s(!1)}};C.useEffect(()=>{const M=o&&Cr(o);if(!e||!M)return;const Z=setTimeout(()=>{i||k()},300);return()=>clearTimeout(Z)},[o,e]);const I=async()=>{try{if(!c||!H||!r||!Cr(f))return;A(!0);const Z=await new At(c,H==="erc721"?ft.erc721Prize:ft.erc1155Prize,r).getKOLApprovalDetails(f),z={approved:Z.approved,poolLimit:Z.poolLimit?Number(Z.poolLimit):0,enforcedSlotFee:Z.enforcedSlotFee?Z.enforcedSlotFee:ue.from(0),enforcedWinnerCount:Z.enforcedWinnerCount?Number(Z.enforcedWinnerCount):0,poolCount:Z.poolCount?Number(Z.poolCount):0};F(z)}catch(M){console.error("Error fetching KOL details:",M),P(`Failed to fetch KOL details: ${Ei(M)}`),F(null)}finally{A(!1)}};C.useEffect(()=>{if(!(f&&Cr(f))||!c||!H)return;const Z=setTimeout(()=>{I()},250);return()=>clearTimeout(Z)},[f,c,H]);const N=async()=>{if(!c||!r){te.error("Please fetch a collection first");return}if(!Cr(f)){te.error("Please enter a valid KOL address");return}if(!g||isNaN(g)||parseInt(g)<=0){te.error("Please enter a valid pool limit");return}if(!v||isNaN(v)||parseFloat(v)<0){te.error("Please enter a valid enforced slot fee");return}if(!w||isNaN(w)||parseInt(w)<=0){te.error("Please enter a valid enforced winner count");return}try{s(!0),P(""),B("");const M=r.getSigner();let Z;H==="erc721"?Z=new At(c,ft.erc721Prize,M):H==="erc1155"&&(Z=new At(c,ft.erc1155Prize,M));let z;try{if(typeof Z.owner=="function")z=await Z.owner();else{te.error("Contract does not support owner functionality");return}}catch{te.error("Failed to get contract owner");return}const K=await M.getAddress();if(z.toLowerCase()!==K.toLowerCase()){te.error("Only the contract owner can approve KOLs");return}const Y=Dc(v.toString());await(await Z.approveKOL(f,parseInt(g),Y,parseInt(w))).wait(),te.success("KOL approved successfully!"),B(`KOL ${f} approved with pool limit ${g}, slot fee ${v} ETH, and ${w} winners`),p(""),m(""),x(""),T(""),await I()}catch(M){console.error("Error approving KOL:",M),te.error(`Failed to approve KOL: ${Ei(M)}`),P(`Failed to approve KOL: ${Ei(M)}`)}finally{s(!1)}},D=async()=>{if(!c||!r){te.error("Please fetch a collection first");return}if(!Cr(f)){te.error("Please enter a valid KOL address");return}try{s(!0),P(""),B("");const M=r.getSigner(),Z=new At(c,H==="erc721"?ft.erc721Prize:ft.erc1155Prize,M);let z;try{typeof Z.owner=="function"&&(z=await Z.owner())}catch{}const K=await M.getAddress();if(!z||z.toLowerCase()!==K.toLowerCase()){te.error("Only the contract owner can revoke KOLs");return}await(await Z.revokeKOL(f)).wait(),te.success("KOL revoked successfully!"),B(`KOL ${f} revoked`),await I()}catch(M){console.error("Error revoking KOL:",M),te.error(`Failed to revoke KOL: ${Ei(M)}`),P(`Failed to revoke KOL: ${Ei(M)}`)}finally{s(!1)}},E=M=>Cr(M);return e?l.jsxs(Pr,{children:[l.jsxs(wn,{children:[l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx(Tc,{className:"h-5 w-5"}),"KOL Approval Management"]}),l.jsx(Zo,{children:"Approve Key Opinion Leaders (KOLs) for collections with specific pool limits and slot fees"})]}),l.jsxs(Rr,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Jo,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Collection Lookup"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rs,{htmlFor:"collection",children:"Collection Address"}),l.jsx(fn,{id:"collection",placeholder:"0x...",value:o,onChange:M=>a(M.target.value),disabled:i}),o&&!Cr(o)&&l.jsx("p",{className:"text-sm text-red-600",children:"Invalid Ethereum address"})]}),c&&l.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(jr,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{className:"text-sm font-medium text-green-800",children:"Collection Found"})]}),l.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Name:"})," ",$]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Symbol:"})," ",G]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Type:"})," ",H==null?void 0:H.toUpperCase()]}),l.jsxs("div",{className:"mt-2",children:[l.jsx(Rs,{className:"text-sm",children:"Address"}),l.jsx("p",{className:"text-sm font-mono bg-green-100 text-green-800 p-2 rounded break-words",children:c})]})]})]})]}),c&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(_P,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"KOL Approval"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rs,{htmlFor:"kol",children:"KOL Address"}),l.jsx(fn,{id:"kol",placeholder:"0x...",value:f,onChange:M=>p(M.target.value),disabled:i}),f&&!Cr(f)&&l.jsx("p",{className:"text-sm text-red-600",children:"Invalid Ethereum address"})]}),b&&l.jsx("div",{className:"p-3 bg-muted border rounded-lg text-sm",children:"Loading KOL details..."}),V&&l.jsxs("div",{className:"p-3 bg-muted border rounded-lg space-y-1 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ea,{variant:V.approved?"default":"secondary",children:V.approved?"Approved":"Not Approved"}),l.jsx("span",{className:"text-muted-foreground",children:"Current approval status"})]}),l.jsxs("div",{children:["Pool Limit: ",l.jsx("strong",{children:V.poolLimit})]}),l.jsxs("div",{children:["Enforced Slot Fee: ",l.jsxs("strong",{children:[Ir(V.enforcedSlotFee)," ETH"]})]}),l.jsxs("div",{children:["Enforced Winner Count: ",l.jsx("strong",{children:V.enforcedWinnerCount})]}),l.jsxs("div",{children:["Pool Count: ",l.jsx("strong",{children:V.poolCount})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rs,{htmlFor:"poolLimit",children:"Pool Limit"}),l.jsx(ds,{id:"poolLimit",placeholder:"Enter pool limit (e.g., 100)",value:g,onChange:M=>m(M.target.value),disabled:i}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum number of participants allowed in the KOL's pool"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rs,{htmlFor:"enforcedSlotFee",children:"Enforced Slot Fee (ETH)"}),l.jsx(ds,{id:"enforcedSlotFee",placeholder:"Enter slot fee in ETH (e.g., 0.01)",value:v,onChange:M=>x(M.target.value),disabled:i,step:"0.001"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Fixed slot fee that participants must pay to join the KOL's pool"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rs,{htmlFor:"enforcedWinnerCount",children:"Enforced Winner Count"}),l.jsx(ds,{id:"enforcedWinnerCount",placeholder:"Enter winner count (e.g., 5)",value:w,onChange:M=>T(M.target.value),disabled:i}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Fixed number of winners that the KOL must use when creating pools"})]}),l.jsxs(qe,{onClick:N,disabled:!c||!E(f)||!g||!v||!w||i,className:"w-full bg-[#614E41] text-white hover:bg-[#4a3a30]",children:[i?l.jsx(Mf,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(_P,{className:"h-4 w-4 mr-2"}),"Approve KOL"]}),l.jsxs(qe,{onClick:D,disabled:!c||!E(f)||i,variant:"destructive",className:"w-full",children:[i?l.jsx(Mf,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(dr,{className:"h-4 w-4 mr-2"}),"Revoke KOL"]})]})]}),j&&l.jsxs(yc,{variant:"destructive",children:[l.jsx(dr,{className:"h-4 w-4"}),l.jsx(xc,{children:j})]}),S&&l.jsxs(yc,{children:[l.jsx(jr,{className:"h-4 w-4"}),l.jsx(xc,{children:S})]}),c&&O&&l.jsxs(yc,{children:[l.jsx(Vt,{className:"h-4 w-4"}),l.jsxs(xc,{children:[l.jsx("strong",{children:"Note:"})," Only the collection owner can approve KOLs. KOL approval allows the approved address to create pools using this collection as prize."]})]})]})]}):l.jsxs(Pr,{children:[l.jsxs(wn,{children:[l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx(Tc,{className:"h-5 w-5"}),"KOL Approval Management"]}),l.jsx(Zo,{children:"Please connect your wallet to manage KOL approvals for collections."})]}),l.jsx(Rr,{children:l.jsxs(yc,{children:[l.jsx(dr,{className:"h-4 w-4"}),l.jsx(xc,{children:"Please connect your wallet to manage KOL approvals."})]})})]})},yz=()=>{const{address:t,provider:e}=xr(),{getContractInstance:r,executeTransaction:n}=Sr(),[i,s]=C.useState(""),[o,a]=C.useState(null),[c,d]=C.useState(null),[f,p]=C.useState(!1),[g,m]=C.useState(7),[v,x]=C.useState(2),[w,T]=C.useState(7),[j,P]=C.useState(1),[S,B]=C.useState(null),[$,W]=C.useState(null),[G,q]=C.useState(!1),H=async b=>{if(!b||!Cr(b)){a(null),B(null),W(null),d(null);return}p(!0);try{let A=r(b,"erc721Prize"),O=!1;try{await A.supportsInterface("0x80ac58cd")&&(O=!0)}catch{A=r(b,"erc1155Prize")}if((await A.owner()).toLowerCase()!==t.toLowerCase()){te.error("You are not the owner of this collection"),p(!1);return}if(d(O),a(A),O){const[k,I,N,D]=await Promise.all([A.maxSupply(),A.creationTime(),A.vestingConfigured(),A.creatorClaimedCount()]),E=k.div(5),M={maxSupply:k.toString(),creatorAllocation:E.toString(),creationTime:I.toString(),vestingConfigured:N,creatorClaimedCount:D.toString(),isERC721:!0};if(B(M),N){const[Z,z,K]=await Promise.all([A.vestingConfig(),A.getAvailableCreatorMint(),A.getUnlockedAmount()]);W({cliffEnd:Z.cliffEnd.toString(),numberOfUnlocks:Z.numberOfUnlocks.toString(),durationBetweenUnlocks:Z.durationBetweenUnlocks.toString(),amountPerUnlock:Z.amountPerUnlock.toString(),availableToMint:z.toString(),unlockedAmount:K.toString()})}}else{const[k,I,N,D]=await Promise.all([A.maxSupply(j),A.tokenCreationTime(j),A.vestingConfigured(j),A.creatorClaimedCount(j)]),E=k.div(5),M={maxSupply:k.toString(),creatorAllocation:E.toString(),creationTime:I.toString(),vestingConfigured:N,creatorClaimedCount:D.toString(),isERC721:!1,tokenId:j};if(B(M),N){const[Z,z,K]=await Promise.all([A.vestingConfig(j),A.getAvailableCreatorMint(j),A.getUnlockedAmount(j)]);W({cliffEnd:Z.cliffEnd.toString(),numberOfUnlocks:Z.numberOfUnlocks.toString(),durationBetweenUnlocks:Z.durationBetweenUnlocks.toString(),amountPerUnlock:Z.amountPerUnlock.toString(),availableToMint:z.toString(),unlockedAmount:K.toString()})}}te.success("Collection details fetched successfully")}catch(A){console.error("Error fetching collection:",A),te.error(`Failed to fetch collection: ${A.message}`),a(null),B(null),W(null)}finally{p(!1)}};C.useEffect(()=>{const b=setTimeout(()=>{i&&Cr(i)?H(i):i===""&&(a(null),B(null),W(null),d(null))},500);return()=>clearTimeout(b)},[i,t]),C.useEffect(()=>{i&&Cr(i)&&!c&&o&&H(i)},[j]);const J=async()=>{if(!o||!S){te.error("Please enter a valid collection address");return}if(S.vestingConfigured){te.error("Vesting is already configured for this collection/token");return}if(g<7){te.error("Cliff period must be at least 7 days");return}if(w<7){te.error("Unlock interval must be at least 7 days");return}const b=parseInt(S.creatorAllocation);let A=2;if(b>=2e3||b>=1e3?A=8:b>=500&&(A=4),v<A){te.error(`For an allocation of ${b} tokens, minimum ${A} unlocks required`);return}q(!0);try{const O=Math.floor(Date.now()/1e3)+g*86400,R=w*86400;let k;c?k=await n(()=>o.configureCreatorVesting(O,v,R)):k=await n(()=>o.configureCreatorVesting(j,O,v,R)),k&&(te.success("Vesting configured successfully!"),await H())}catch(O){console.error("Error configuring vesting:",O),te.error(`Failed to configure vesting: ${O.message}`)}finally{q(!1)}},V=b=>!b||b==="0"?"Not set":new Date(parseInt(b)*1e3).toLocaleString(),F=b=>{if(!b||b==="0")return"N/A";const A=Math.floor(Date.now()/1e3),O=parseInt(b);if(A>=O)return"Ended";const R=O-A,k=Math.floor(R/86400),I=Math.floor(R%86400/3600);return`${k}d ${I}h`};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(Pr,{children:[l.jsxs(wn,{children:[l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx(Nm,{className:"h-5 w-5"}),"Collection Details"]}),l.jsx(Zo,{children:"Enter your collection address to view and configure vesting"})]}),l.jsxs(Rr,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Collection Address"}),l.jsx("input",{type:"text",placeholder:"0x...",value:i,onChange:b=>s(b.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background"}),f&&l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[l.jsx("span",{className:"animate-spin",children:""})," Fetching collection details..."]})]}),!c&&o&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Token ID (ERC1155 only)"}),l.jsx("input",{type:"number",placeholder:"1",value:j,onChange:b=>P(parseInt(b.target.value)||1),className:"w-full px-3 py-2 border border-border rounded-md bg-background",min:"1"})]})]})]}),S&&l.jsxs(Pr,{children:[l.jsx(wn,{children:l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx(dr,{className:"h-5 w-5"}),"Collection Information"]})}),l.jsx(Rr,{className:"space-y-3",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Type:"}),l.jsx("p",{className:"font-semibold",children:S.isERC721?"ERC721":`ERC1155 (Token ${S.tokenId})`})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Max Supply:"}),l.jsx("p",{className:"font-semibold",children:S.maxSupply})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Creator Allocation (20%):"}),l.jsxs("p",{className:"font-semibold",children:[S.creatorAllocation," tokens"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Already Claimed:"}),l.jsxs("p",{className:"font-semibold",children:[S.creatorClaimedCount," tokens"]})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-muted-foreground",children:"Creation Time:"}),l.jsx("p",{className:"font-semibold",children:V(S.creationTime)})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-muted-foreground",children:"Vesting Status:"}),l.jsx("p",{className:`font-semibold flex items-center gap-2 ${S.vestingConfigured?"text-green-600":"text-yellow-600"}`,children:S.vestingConfigured?l.jsxs(l.Fragment,{children:[l.jsx(mP,{className:"h-4 w-4"})," Configured"]}):l.jsxs(l.Fragment,{children:[l.jsx(dr,{className:"h-4 w-4"})," Not Configured"]})})]})]})})]}),$&&l.jsxs(Pr,{className:"border-green-500/50",children:[l.jsx(wn,{children:l.jsxs(kn,{className:"flex items-center gap-2 text-green-600",children:[l.jsx(mP,{className:"h-5 w-5"}),"Vesting Schedule"]})}),l.jsx(Rr,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Cliff Ends:"}),l.jsx("p",{className:"font-semibold",children:V($.cliffEnd)}),l.jsx("p",{className:"text-xs text-muted-foreground",children:F($.cliffEnd)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Total Unlocks:"}),l.jsx("p",{className:"font-semibold",children:$.numberOfUnlocks})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Unlock Interval:"}),l.jsxs("p",{className:"font-semibold",children:[parseInt($.durationBetweenUnlocks)/86400," days"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Tokens per Unlock:"}),l.jsx("p",{className:"font-semibold",children:$.amountPerUnlock})]}),l.jsxs("div",{className:"col-span-2 pt-2 border-t",children:[l.jsx("span",{className:"text-muted-foreground",children:"Currently Unlocked:"}),l.jsxs("p",{className:"font-semibold text-lg text-blue-600",children:[$.unlockedAmount," tokens"]})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-muted-foreground",children:"Available to Mint:"}),l.jsxs("p",{className:"font-semibold text-lg text-green-600",children:[$.availableToMint," tokens"]})]})]})})]}),S&&!S.vestingConfigured&&l.jsxs(Pr,{children:[l.jsxs(wn,{children:[l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx(ZK,{className:"h-5 w-5"}),"Configure Vesting Schedule"]}),l.jsx(Zo,{children:"Set up the vesting schedule for your creator allocation"})]}),l.jsxs(Rr,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Cliff Period (days)"}),l.jsx("input",{type:"number",placeholder:"7",value:g,onChange:b=>m(parseInt(b.target.value)||7),className:"w-full px-3 py-2 border border-border rounded-md bg-background",min:"7"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum 7 days. No tokens can be minted before cliff ends."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Number of Unlocks"}),l.jsx("input",{type:"number",placeholder:"2",value:v,onChange:b=>x(parseInt(b.target.value)||2),className:"w-full px-3 py-2 border border-border rounded-md bg-background",min:"2"}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[S.creatorAllocation<500&&"Minimum 2 unlocks for allocation < 500",S.creatorAllocation>=500&&S.creatorAllocation<1e3&&"Minimum 4 unlocks for allocation 500-999",S.creatorAllocation>=1e3&&S.creatorAllocation<2e3&&"Minimum 8 unlocks for allocation 1000-1999",S.creatorAllocation>=2e3&&"Minimum 8 unlocks for allocation  2000"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Days Between Unlocks"}),l.jsx("input",{type:"number",placeholder:"7",value:w,onChange:b=>T(parseInt(b.target.value)||7),className:"w-full px-3 py-2 border border-border rounded-md bg-background",min:"7"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum 7 days between each unlock period."})]}),l.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-2",children:[l.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[l.jsx(fS,{className:"h-4 w-4"}),"Preview"]}),l.jsxs("div",{className:"text-sm space-y-1",children:[l.jsxs("p",{children:[" Cliff ends in ",l.jsxs("strong",{children:[g," days"]})]}),l.jsxs("p",{children:[" ",l.jsx("strong",{children:v})," unlock periods"]}),l.jsxs("p",{children:[" ",l.jsx("strong",{children:Math.ceil(parseInt(S.creatorAllocation)/v)})," tokens per unlock"]}),l.jsxs("p",{children:[" New unlock every ",l.jsxs("strong",{children:[w," days"]})]}),l.jsxs("p",{children:[" Full allocation available in ",l.jsxs("strong",{children:[g+(v-1)*w," days"]})]})]})]}),l.jsx(qe,{onClick:J,disabled:G,className:"w-full",children:G?"Configuring...":"Configure Vesting"})]})]}),l.jsxs(Pr,{className:"bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-800",children:[l.jsx(wn,{children:l.jsxs(kn,{className:"text-sm flex items-center gap-2 text-blue-700 dark:text-blue-400",children:[l.jsx(dr,{className:"h-4 w-4"}),"About Vesting"]})}),l.jsxs(Rr,{className:"text-xs text-blue-700 dark:text-blue-300 space-y-2",children:[l.jsx("p",{children:"Vesting prevents creators from immediately minting and selling their entire 20% allocation, protecting holders from rug pulls."}),l.jsxs("p",{children:[l.jsx("strong",{children:"Cliff Period:"})," No tokens can be minted until the cliff period ends."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Unlocks:"})," After the cliff, tokens become available in batches at regular intervals."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Important:"})," Vesting can only be configured once and cannot be changed later."]})]})]})]})},Mue=({className:t="",showStats:e=!0,...r})=>{const{isMobile:n,isTablet:i,isDesktop:s}=pn(),[o,a]=C.useState(null),c=C.useRef(o);c.current=o;const d=[{id:"royalty",title:"Royalty & Reveal",description:"Reveal your collection and manage royalties",component:due,priority:1},{id:"vesting",title:"Creator Token Vesting",description:"Configure vesting schedules for creator token allocations to prevent rug pulls",component:yz,priority:2},{id:"minter",title:"Minter Approval & Royalty Enforcement Exemption",description:"Manage minter approvals and royalty enforcement exemptions for collections",component:mue,priority:3},{id:"kol",title:"KOL Approval Management",description:"Approve Key Opinion Leaders (KOLs) for collections with specific pool limits and slot fees",component:gz,priority:4},{id:"tokenCreator",title:"Create New Token ID & Set Token URI",description:"Add new token IDs to existing ERC1155 collections and set metadata URIs",component:Rue,priority:5},{id:"revenue",title:"Creator Mint & Revenue Withdrawal",description:"Mint tokens to winners and withdraw revenue from your raffles",component:Iue,priority:6}],f=m=>{a(o===m?null:m)},g=n?1:2;return l.jsxs("div",{className:tt("w-full space-y-6",t),...r,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:tt("font-semibold text-foreground",n?"text-lg":"text-xl"),children:"Creator Dashboard"}),l.jsx("p",{className:tt("text-muted-foreground",n?"text-sm":"text-base"),children:"Manage your collections, royalties, and revenue"})]}),l.jsx("div",{className:tt("grid gap-4 w-full",g===1&&"grid-cols-1",g===2&&"grid-cols-1 md:grid-cols-2",n&&"gap-3"),children:d.map(m=>l.jsx(Pue,{title:m.title,description:m.description,component:m.component,isExpanded:o===m.id,onToggle:()=>f(m.id),className:tt(n&&["w-full",o===m.id&&"mb-2"],!n&&"h-fit"),dialogContentClassName:m.id==="minter"?"max-w-4xl xl:max-w-4xl":void 0},m.id))}),n&&l.jsx("div",{className:"mt-6 p-3 bg-muted/50 rounded-lg border border-border/50",children:l.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Tap any card above to expand and access its functionality. Only one card can be open at a time on mobile."})})]})},Due=["Pending","Active","Ended","Drawing","Completed","Deleted","Activation Failed","Prizes Claimed","Unengaged"],Oue=t=>{try{if(!t)return"Unknown";let e;return t instanceof Date?e=t:typeof t=="number"?e=new Date(t<1e12?t*1e3:t):e=new Date(t),isNaN(e.getTime())?"Unknown":e.toLocaleString()}catch{return"Unknown"}},Lue=({raffle:t,onRaffleClick:e,formatRevenueAmount:r,getCurrencySymbol:n})=>{const{winnerCount:i}=rz(t.address,t.stateNum),s=()=>{const a=(d=>{const f=nz(d,i);return f||Due[d]||"Unknown"})(t.stateNum),c={Pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",Active:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",Ended:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",Drawing:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",Completed:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",Deleted:"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-300","Activation Failed":"bg-red-200 text-red-900 dark:bg-red-900/40 dark:text-red-300","Prizes Claimed":"bg-blue-200 text-blue-900 dark:bg-blue-900/40 dark:text-blue-300","Prize Claimed":"bg-blue-200 text-blue-900 dark:bg-blue-900/40 dark:text-blue-300",Unengaged:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",Unknown:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};return l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c[a]||c.Unknown}`,children:a})};return l.jsxs("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 shadow-xl transition-all duration-300 min-h-[160px] flex flex-col",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsx("div",{className:"flex-1 min-w-0",children:l.jsx("h3",{className:"font-semibold text-sm mb-1 truncate cursor-pointer hover:text-[#614E41] transition-colors duration-200",onClick:()=>e(t.address),children:t.name})}),s()]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs mb-2",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Slots Sold"}),l.jsxs("p",{className:"font-semibold",children:[t.ticketsSold||0,"/",t.maxTickets]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Revenue"}),l.jsx("p",{className:"font-semibold text-green-600",children:r(t.revenue||0)})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-muted-foreground",children:"Created"}),l.jsx("p",{className:"font-semibold",children:t.createdAt?new Date(t.createdAt<1e12?t.createdAt*1e3:t.createdAt).toLocaleString():"Unknown"})]})]})]})},Fue=({activities:t,createdRaffles:e,purchasedTickets:r,creatorStats:n,onDeleteRaffle:i,onViewRevenue:s,onClaimPrize:o,onClaimRefund:a})=>{const c=Ua(),{chainId:d}=xr(),[f,p]=C.useState("activity"),{isMobile:g}=pn(),{formatRevenueAmount:m,getCurrencySymbol:v}=Sn();C.useEffect(()=>(wL(),()=>kL()),[]);const[x,w]=C.useState({royalty:!1,minter:!1,tokenCreator:!1,revenue:!1});C.useEffect(()=>{if(g&&Object.values(x).some(Boolean))return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[x,g]),C.useEffect(()=>()=>{g&&(document.body.style.overflow="unset")},[g]);const T=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Recent Activity"}),l.jsxs(ea,{variant:"outline",children:[t.length," activities"]})]}),t.length===0?l.jsx(Pr,{children:l.jsxs(Rr,{className:"text-center py-8",children:[l.jsx(Sm,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No activity yet"})]})}):l.jsx("div",{className:"space-y-2",children:t.slice(0,10).map((B,$)=>l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-3 shadow-xl transition-all duration-300",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("div",{className:"mt-0.5",children:B.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-sm text-foreground",children:B.title}),l.jsx("p",{className:"text-xs text-muted-foreground",children:B.description}),l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:B.timestamp})]})]})},$))})]}),j=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"My Raffles"}),l.jsxs(ea,{variant:"outline",children:[e.length," raffles"]})]}),e.length===0?l.jsx(Pr,{children:l.jsxs(Rr,{className:"text-center py-8",children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:"You haven't created any raffles yet"}),l.jsx(qe,{onClick:()=>c("/create-raffle"),className:"bg-[#614E41] text-white hover:bg-[#4a3a30] transition-colors",children:"Create Your First Raffle"})]})}):l.jsx("div",{className:"grid gap-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:e.map(B=>l.jsx(Lue,{raffle:B,onRaffleClick:$=>{const W=d&&Ht[d]?Ht[d].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):d||"",G=W?`/${W}/raffle/${$}`:`/raffle/${$}`;c(G)},formatRevenueAmount:m,getCurrencySymbol:v},B.address))})]}),P=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"My Slots"}),l.jsxs(ea,{variant:"outline",children:[r.length," slots"]})]}),r.length===0?l.jsx(Pr,{children:l.jsxs(Rr,{className:"text-center py-8",children:[l.jsx(Zf,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"You haven't purchased any slots yet"}),l.jsx(qe,{onClick:()=>c("/"),className:"bg-[#614E41] text-white hover:bg-[#4a3a30] transition-colors",children:"Browse Raffles"})]})}):l.jsx("div",{className:"space-y-3",children:r.map(B=>l.jsx(Pr,{className:"hover:shadow-md transition-shadow",children:l.jsxs(Rr,{className:"p-4",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx(Zf,{className:"h-4 w-4 text-blue-500"})}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("h4",{className:"font-medium text-foreground text-sm",children:["Purchased ",B.ticketCount," ",B.raffleName||B.name," slot",B.ticketCount>1?"s":""]}),l.jsxs("p",{className:"text-muted-foreground text-sm mt-1",children:[B.totalSpent," ",v()]})]}),l.jsx("span",{className:"text-sm text-muted-foreground flex-shrink-0",children:Oue(B.purchaseTime)})]})})]}),l.jsx("div",{className:"flex gap-2",children:B.canClaimPrize&&l.jsxs(qe,{size:"sm",onClick:()=>o(B),className:"flex-1 bg-[#614E41] text-white hover:bg-[#4a3a30] transition-colors",children:[l.jsx(i3,{className:"h-4 w-4 mr-1"}),"Claim Prize"]})})]})},B.id))})]}),S=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:`grid gap-4 ${g?"grid-cols-1":"md:grid-cols-2 lg:grid-cols-4"}`,children:[l.jsxs(Pr,{children:[l.jsxs(wn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(kn,{className:"text-sm font-medium",children:"Total Raffles"}),l.jsx(Is,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Rr,{children:[l.jsx("div",{className:"text-2xl font-bold",children:Number(n.totalRaffles||0).toLocaleString()}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[Number(n.activeRaffles||0).toLocaleString()," currently active"]})]})]}),l.jsxs(Pr,{children:[l.jsxs(wn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(kn,{className:"text-sm font-medium",children:"Withdrawable Revenue"}),l.jsx(Yo,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Rr,{children:[l.jsx("div",{className:"text-2xl font-bold",children:m(n.withdrawableRevenue||"0")}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Available to withdraw across all raffles"})]})]}),l.jsxs(Pr,{children:[l.jsxs(wn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(kn,{className:"text-sm font-medium",children:"Total Slots Sold"}),l.jsx(Tc,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Rr,{children:[l.jsx("div",{className:"text-2xl font-bold",children:Number(n.totalParticipants||0).toLocaleString()}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[Number(n.uniqueParticipants||0).toLocaleString()," slots across all your raffles"]})]})]}),l.jsxs(Pr,{children:[l.jsxs(wn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(kn,{className:"text-sm font-medium",children:"Success Rate"}),l.jsx(fS,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Rr,{children:[l.jsxs("div",{className:"text-2xl font-bold",children:[n.successRate,"%"]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed raffles"})]})]})]}),l.jsx(Mue,{})]});return l.jsx(l.Fragment,{children:l.jsxs(kue,{value:f,onValueChange:p,className:"w-full","data-profile-tab":"true",children:[g?l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[l.jsx("button",{onClick:()=>p("activity"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${f==="activity"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"Activity"})}),l.jsx("button",{onClick:()=>p("created"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${f==="created"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"Created"})}),l.jsx("button",{onClick:()=>p("purchased"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${f==="purchased"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"My Slots"})}),l.jsx("button",{onClick:()=>p("dashboard"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${f==="dashboard"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})})]}):l.jsxs(_ue,{className:"grid w-full grid-cols-4",children:[l.jsx(u0,{value:"activity",children:"Activity"}),l.jsx(u0,{value:"created",children:"My Raffles"}),l.jsx(u0,{value:"purchased",children:"My Slots"}),l.jsx(u0,{value:"dashboard",children:"Dashboard"})]}),l.jsx(d0,{value:"activity",className:g?"mt-4":"mt-6",children:l.jsx(T,{})}),l.jsx(d0,{value:"created",className:g?"mt-4":"mt-6",children:l.jsx(j,{})}),l.jsx(d0,{value:"purchased",className:g?"mt-4":"mt-6",children:l.jsx(P,{})}),l.jsx(d0,{value:"dashboard",className:g?"mt-4":"mt-6",children:l.jsx(S,{})})]})})};function EI(t){switch(t){case 0:return"pending";case 1:return"active";case 2:return"ended";case 3:return"drawing";case 4:return"completed";case 5:return"deleted";case 6:return"activationFailed";case 7:return"allPrizesClaimed";case 8:return"unengaged";default:return"unknown"}}const xz=()=>{const{connected:t,address:e,provider:r,chainId:n}=xr(),{contracts:i,getContractInstance:s,executeTransaction:o,executeCall:a}=Sr(),c=C.useMemo(()=>t,[t]),d=C.useMemo(()=>e,[e]),f=C.useMemo(()=>i,[i]),[p,g]=C.useState(!0),[m,v]=C.useState([]),[x,w]=C.useState([]),[T,j]=C.useState([]),[P,S]=C.useState([]),[B,$]=C.useState({totalTicketsPurchased:0,totalRafflesCreated:0,totalPrizesWon:0,totalClaimableRefunds:0,withdrawableRevenue:"0"}),[W,G]=C.useState(!1),[q,H]=C.useState(null),J=C.useCallback(K=>{var Y;if(K!=null&&K.reason)return K.reason;if((Y=K==null?void 0:K.data)!=null&&Y.message)return K.data.message;if(K!=null&&K.message){const Q=K.message.match(/revert (.+)/);return Q?Q[1]:K.message}return"Transaction failed"},[]),V=C.useCallback(K=>{switch(K&&typeof K=="object"&&typeof K.toNumber=="function"?K.toNumber():Number(K)){case 0:return"pending";case 1:return"active";case 2:return"ended";case 3:return"drawing";case 4:return"completed";case 5:return"deleted";case 6:return"activationFailed";case 7:return"allPrizesClaimed";case 8:return"unengaged";default:return"unknown"}},[]);C.useRef(new Map);const F=C.useCallback(K=>{try{const Y=localStorage.getItem(K);if(!Y)return null;const Q=JSON.parse(Y);return!Q||!Q.data||!Q.ts||!Q.ttl||Date.now()-Q.ts>Q.ttl?null:Q.data}catch{return null}},[]),b=C.useCallback((K,Y,Q)=>{try{localStorage.setItem(K,JSON.stringify({data:Y,ts:Date.now(),ttl:Q}))}catch{}},[]),A=900*1e3,O="v2",R=C.useCallback(async()=>{if(!f.protocolManager)return[];const K=`raffles:all:${O}:${n}`,Y=F(K);if(Y)return Y;try{const Q=await a(f.protocolManager.getAllPools,"getAllPools"),ee=Q.success&&Array.isArray(Q.result)?Q.result:[];return Array.isArray(ee)&&ee.length>0&&b(K,ee,A),ee}catch{return[]}},[f.protocolManager,n,a,F,b]),k=C.useCallback(async()=>{const K=await R();return K&&K.length>0||!f.protocolManager?K:(await new Promise(Q=>setTimeout(Q,1200)),await R())},[R,f.protocolManager]),I=C.useCallback(async K=>{if(!f.protocolManager||!K)return[];const Y=`raffles:byCreator:${O}:${n}:${K.toLowerCase()}`,Q=F(Y);if(Q)return Q;try{const ee=await a(f.protocolManager.getPoolsByCreator,"getPoolsByCreator",K),ae=ee.success&&Array.isArray(ee.result)?ee.result:[];return b(Y,ae,A),ae}catch{return[]}},[f.protocolManager,n,a,F,b]),N=C.useCallback(async K=>{var Q;const Y=await I(K);if(Y&&Y.length>0||!f.protocolManager)return Y;await new Promise(ee=>setTimeout(ee,1200));try{const ee=await a(f.protocolManager.getPoolsByCreator,"getPoolsByCreator",K),ae=ee.success&&Array.isArray(ee.result)?ee.result:[];if(Array.isArray(ae)&&ae.length>0){const ne=`raffles:byCreator:${O}:${n}:${(Q=K==null?void 0:K.toLowerCase)==null?void 0:Q.call(K)}`;b(ne,ae,A)}return ae}catch{return Y||[]}},[I,f.protocolManager,a,b,n]),D=C.useCallback(async()=>{if(!c||!d||!r){console.log("Missing requirements for fetchCreatedRaffles:",{stableConnected:c,stableAddress:!!d,provider:!!r});return}try{const K=[],Y=[];let Q=ue.from(0);const ee=await N(d);console.log("Profile: Found",ee.length,"created raffles for",d);for(const ae of ee)try{const ne=s(ae,"pool");if(!ne)continue;const[de,xe,me,_e,Xe,le,Ye,jt,st,De]=await Promise.all([a(ne.name,"name"),a(ne.slotFee,"slotFee"),a(ne.slotLimit,"slotLimit"),a(ne.startTime,"startTime"),a(ne.duration,"duration"),a(ne.state,"state"),a(ne.winnersCount,"winnersCount"),a(ne.usesCustomFee,"usesCustomFee"),a(ne.totalCreatorRevenue,"totalCreatorRevenue"),f.protocolManager?a(f.protocolManager.poolCreationTimestamps,"poolCreationTimestamps",ae):Promise.resolve({success:!1})]),Jt=de.success?de.result:`Raffle ${ae.slice(0,8)}...`,ot=xe.success?xe.result:ue.from(0),ht=me.success?me.result:ue.from(0),Ie=_e.success?_e.result:ue.from(0),se=Xe.success?Xe.result:ue.from(0),he=le.success?le.result:0,Le=Ye.success?Ye.result:ue.from(0),Ae=jt.success?!!jt.result:!1,Me=st.success?st.result:ue.from(0),Gt=await w4(ne),Qe=ue.from(Gt),_t=new Date(Ie.add(se).toNumber()*1e3);let Wt=ue.from(0);Q=Q.add?Q.add(Me):ue.from(Q).add(Me),Ae?Wt=Me:Wt=ue.from(0);const Ct=De&&De.success&&De.result?De.result.toNumber?De.result.toNumber():Number(De.result):Ie.toNumber?Ie.toNumber():Math.floor(Date.now()/1e3);K.push({address:ae,chainId:n,name:Jt,slotFee:Ir(ot),maxTickets:ht.toString(),ticketsSold:Qe.toString(),endTime:_t,createdAt:Ct*1e3,state:V(he),stateNum:he,revenue:Ir(Wt),usesCustomFee:Ae}),Y.push({id:`getter-created-${ae}`,type:"raffle_created",raffleAddress:ae,raffleName:Jt,timestamp:Ct*1e3})}catch(ne){console.error(`Error processing created raffle ${ae}:`,ne)}w(K),$(ae=>({...ae,withdrawableRevenue:Ir(Q)})),Y.length>0&&v(ae=>{const ne=new Set(ae.map(xe=>xe.id)),de=[...ae];for(const xe of Y)ne.has(xe.id)||de.push(xe);return de.sort((xe,me)=>(me.timestamp||0)-(xe.timestamp||0)),de}),$(ae=>({...ae,totalRafflesCreated:K.length}))}catch(K){const Y=(K.message||K.toString()||"").toLowerCase(),Q=K.data?(K.data.message||K.data.toString()||"").toLowerCase():"",ee=`${Y} ${Q}`;if(ee.includes("block range")||ee.includes("too large")||ee.includes("exceed")||ee.includes("limit")||ee.includes("range too large")||ee.includes("maximum")||ee.includes("query returned more than")||ee.includes("block range limit")||ee.includes("too many blocks")||ee.includes("range exceeded")||Y.includes("10000")||Y.includes("5000")||Y.includes("50000")){console.warn("Mobile: Block range error in fetchCreatedRaffles (enhanced detection), suppressing toast:",Y);return}Bp(K,{context:{operation:"fetchCreatedRaffles",isReadOnly:!0},fallbackMessage:"Failed to load created raffles"})}},[c,d,r,f.poolDeployer,a,s,V]),E=C.useCallback(async()=>{if(!c||!d||!r){console.log("Missing requirements for fetchPurchasedTickets:",{stableConnected:c,stableAddress:!!d,provider:!!r});return}try{const K=[],Y=[],Q=[];if(f.protocolManager){const ee=await k();console.log("Profile: Checking",ee.length,"pools for purchased slots via getSlotsPurchased");for(const ae of ee)try{const ne=s(ae,"pool");if(!ne)continue;const[de,xe,me,_e,Xe,le]=await Promise.all([a(ne.getSlotsPurchased,"getSlotsPurchased",d),a(ne.name,"name"),a(ne.slotFee,"slotFee"),a(ne.state,"state"),a(ne.startTime,"startTime"),a(ne.duration,"duration")]),Ye=de.success?de.result:ue.from(0),jt=Ye.toNumber?Ye.toNumber():Number(Ye);if(jt<=0)continue;const st=xe.success?xe.result:`Pool ${ae.slice(0,8)}...`,De=me.success?me.result:ue.from(0),Jt=De.mul?De.mul(Ye):ue.from(0),ot=_e.success?_e.result:0,ht=Xe.success?Xe.result:ue.from(0),Ie=le.success?le.result:ue.from(0),se=new Date(ht.add(Ie).toNumber()*1e3),he=ht.toNumber?ht.toNumber():Math.floor(Date.now()/1e3),Le={id:ae,address:ae,poolName:st,name:st,slotCount:jt,slotFee:Ir(De),totalSpent:Ir(Jt),state:EI(ot),endTime:se,purchaseTime:he,canClaimPrize:!1,canClaimRefund:!1,slots:Array.from({length:jt},(Ae,Me)=>Me.toString())};Y.push(Le),Q.push({id:`getter-slot-${ae}-${he}`,type:"ticket_purchase",poolAddress:ae,poolName:st,raffleName:st,quantity:jt,ticketCount:jt,amount:Ir(Jt),timestamp:he*1e3,raffleAddress:ae})}catch(ne){console.error(`Error processing getSlotsPurchased for pool ${ae}:`,ne)}}else console.log("protocolManager contract not available");console.log("Setting purchased slots:",Y.length,"pools with slots using getters"),S(Y),j(Y),Q.length>0&&v(ee=>{const ae=new Set(ee.map(de=>de.id)),ne=[...ee];for(const de of Q)ae.has(de.id)||ne.push(de);return ne.sort((de,xe)=>(xe.timestamp||0)-(de.timestamp||0)),ne})}catch(K){Bp(K,{context:{operation:"fetchPurchasedSlots",isReadOnly:!0},fallbackMessage:"Failed to load purchased slots"})}},[c,d,r,f.protocolManager,a,s,EI,R]),M=C.useCallback(async()=>{if(!(!c||!d||!r||!f.protocolManager))try{const K=await k();let Y=0,Q=0,ee=ue.from(0);for(const ae of K)try{const ne=s(ae,"pool");if(!ne)continue;const[de,xe,me]=await Promise.all([a(ne.getSlotsPurchased,"getSlotsPurchased",d),a(ne.winsPerAddress,"winsPerAddress",d),a(ne.getRefundableAmount,"getRefundableAmount",d)]),_e=de.success?de.result:ue.from(0),Xe=xe.success?xe.result:ue.from(0),le=me.success?me.result:ue.from(0);Y+=_e.toNumber?_e.toNumber():Number(_e),Q+=Xe.toNumber?Xe.toNumber():Number(Xe),ee=ee.add?ee.add(le):ue.from(ee).add(le)}catch(ne){console.warn("Skipping pool for totals due to error:",ae,(ne==null?void 0:ne.message)||ne)}$(ae=>({...ae,totalSlotsPurchased:Y,totalPrizesWon:Q,totalClaimableRefunds:ee}))}catch(K){Bp(K,{context:{operation:"fetchDirectTotals",isReadOnly:!0},fallbackMessage:"Failed to compute profile totals"})}},[c,d,r,f.protocolManager,R,s,a]);C.useEffect(()=>{c&&d&&f.protocolManager?(v([]),w([]),j([]),$(Y=>({...Y,totalTicketsPurchased:0,totalRafflesCreated:0,totalPrizesWon:0,totalClaimableRefunds:0,withdrawableRevenue:"0"})),(async()=>{g(!0);try{await Promise.all([D(),E(),M()])}catch(Y){console.error("Error loading profile data:",Y)}finally{g(!1)}})()):(!c||!d)&&(v([]),w([]),j([]),g(!1),G(!1),H(null),$({totalTicketsPurchased:0,totalRafflesCreated:0,totalPrizesWon:0,totalClaimableRefunds:0,withdrawableRevenue:"0"}))},[c,d,f.protocolManager,D,E,M]);const Z=C.useCallback(async K=>{if(!K||!c){te.error("Please connect your wallet");return}try{const Y=s(K,"pool");if(!Y){te.error("Invalid raffle contract");return}await o(Y,"withdrawRevenue",[]),te.success("Revenue withdrawn successfully!"),D(),G(!1),H(null)}catch(Y){console.error("Error withdrawing revenue:",Y),te.error(J(Y))}},[c,s,o,D,J]),z=C.useCallback(async K=>{if(!K||!c){te.error("Please connect your wallet");return}try{const Y=s(K,"pool");if(!Y){te.error("Invalid raffle contract");return}await o(Y,"claimRefund",[]),te.success("Refund claimed successfully!"),E(),M()}catch(Y){console.error("Error claiming refund:",Y),te.error(J(Y))}},[c,s,o,E,M,J]);return{userActivity:m,createdRaffles:x,purchasedTickets:T,purchasedSlots:P,activityStats:B,loading:p,showRevenueModal:W,setShowRevenueModal:G,selectedRaffle:q,setSelectedRaffle:H,fetchCreatedRaffles:D,fetchPurchasedTickets:E,withdrawRevenue:Z,claimRefund:z,extractRevertReason:J,mapRaffleState:V,creatorStats:{totalRaffles:x.length,activeRaffles:x.filter(K=>K.state==="active").length,withdrawableRevenue:B.withdrawableRevenue||"0.0000",totalParticipants:x.reduce((K,Y)=>K+parseInt(Y.ticketsSold||0),0),uniqueParticipants:x.reduce((K,Y)=>K+parseInt(Y.ticketsSold||0),0),successRate:x.length>0?Math.round(x.filter(K=>K.state==="completed"||K.state==="allPrizesClaimed").length/x.length*100):0}}},zue=()=>{const{connected:t,address:e,provider:r}=xr(),{getContractInstance:n,executeTransaction:i}=Sr(),s=Ua(),[o,a]=C.useState("activity"),[c,d]=C.useState(null),{getCurrencySymbol:f,formatRevenueAmount:p}=Sn(),{userActivity:g,createdRaffles:m,purchasedTickets:v,activityStats:x,loading:w,claimRefund:T}=xz(),j=(R,k={})=>{const{stateNum:I,winnerCount:N}=k,D=["Pending","Active","Ended","Drawing","Completed","Deleted","AllPrizesClaimed","Unengaged"];let E="Unknown";if(Number.isFinite(I))E=I===6&&typeof N=="number"?N===1?"Prize Claimed":"Prizes Claimed":D[I]||"Unknown";else if(typeof R=="string"){const Z=R.toLowerCase().replace(/[^a-z]/g,"");E={pending:"Pending",active:"Active",ended:"Ended",drawing:"Drawing",completed:"Completed",deleted:"Deleted",allprizesclaimed:"AllPrizesClaimed",all_prizes_claimed:"AllPrizesClaimed",unengaged:"Unengaged",unknown:"Unknown"}[Z]||R.charAt(0).toUpperCase()+R.slice(1)}const M={Pending:"bg-yellow-100 text-yellow-800",Active:"bg-green-100 text-green-800",Ended:"bg-red-100 text-red-800",Drawing:"bg-purple-100 text-purple-800",Completed:"bg-blue-100 text-blue-800",Deleted:"bg-gray-200 text-gray-800",AllPrizesClaimed:"bg-blue-200 text-blue-900","Prize Claimed":"bg-blue-200 text-blue-900",Unengaged:"bg-gray-100 text-gray-800",Unknown:"bg-gray-100 text-gray-800"};return l.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs font-medium ${M[E]||M.Unknown}`,children:E})},[P,S]=C.useState({royalty:{loading:!1,collectionData:{address:"",type:null,royaltyPercentage:"",royaltyRecipient:""},collectionInfo:null,loadingInfo:!1,isRevealed:null,revealing:!1},minter:{loading:!1,collectionAddress:"",minterAddress:"",isApproved:!1,isLocked:!1,currentMinter:"",collectionName:"",collectionSymbol:"",collectionType:null,fetchedCollection:"",error:"",success:""},kol:{loading:!1,collectionAddress:"",kolAddress:"",poolLimit:"",enforcedSlotFee:"",enforcedWinnerCount:"",error:"",success:"",collectionName:"",collectionSymbol:"",collectionType:null,kolDetails:null,kolDetailsLoading:!1},tokenCreator:{loading:!1,collectionData:{address:"",type:null},collectionInfo:null,loadingInfo:!1,tokenCreationData:{tokenId:"",maxSupply:""},uriData:{tokenId:"",tokenURI:""}},revenue:{loading:!1,raffleData:{address:"",isCreator:!1,revenueAmount:"0",raffleState:"unknown"},createdRaffles:[],mintData:{collectionAddress:"",collectionType:"erc721",recipient:"",quantity:"",tokenId:""},mintLoading:!1}});if(!t)return l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Connect Your Wallet"}),l.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to view your profile and activity."})]})});const B=()=>{const R=E=>{switch(E){case"ticket_purchase":return l.jsx(L0,{className:"h-4 w-4 text-blue-500"});case"raffle_created":return l.jsx(Is,{className:"h-4 w-4 text-green-500"});case"raffle_deleted":return l.jsx(Sm,{className:"h-4 w-4 text-red-500"});case"prize_won":return l.jsx(Ef,{className:"h-4 w-4 text-yellow-500"});case"prize_claimed":return l.jsx(Ef,{className:"h-4 w-4 text-yellow-500"});case"refund_claimed":return l.jsx(Qf,{className:"h-4 w-4 text-orange-500"});case"revenue_withdrawn":return l.jsx(Yo,{className:"h-4 w-4 text-green-500"});case"admin_withdrawn":return l.jsx(Yo,{className:"h-4 w-4 text-purple-500"});default:return l.jsx(Sm,{className:"h-4 w-4 text-gray-500"})}},k=E=>{var z;const M=E.raffleName||E.name||`Raffle ${(z=E.raffleAddress)==null?void 0:z.slice(0,8)}...`,Z=E.quantity||E.ticketCount||1;switch(E.type){case"ticket_purchase":return`Purchased ${Z} ${M} slot${Z>1?"s":""}`;case"raffle_created":return`Created raffle "${M}"`;case"raffle_deleted":return`Deleted raffle "${M}"`;case"prize_won":return`Won prize in "${M}"`;case"prize_claimed":return`Claimed prize from "${M}"`;case"refund_claimed":return`Claimed refund from "${M}"`;case"revenue_withdrawn":return`Withdrew revenue from "${M}"`;case"admin_withdrawn":return`Admin withdrawal: ${E.amount} ${f()}`;default:return E.description||"Activity"}},I=E=>{var Z;const M=E.raffleName||E.name||`Raffle ${(Z=E.raffleAddress)==null?void 0:Z.slice(0,8)}...`;switch(E.type){case"ticket_purchase":return E.amount?`${E.amount} ${f()}`:"";case"prize_won":return`${M}  Congratulations!`;case"prize_claimed":const z=E.prizeType||"Prize",K=E.amount?` (${E.amount} ${E.prizeType==="Native Currency"?f():E.prizeType==="ERC20 Token"?"tokens":""})`:E.tokenId?` (Token ID: ${E.tokenId})`:"";return`${z}${K}`;case"refund_claimed":return E.amount?`${M}  ${E.amount} ${f()}`:M;case"revenue_withdrawn":return E.amount?`${E.amount} ${f()}`:"";default:return E.description||""}},N=E=>{try{if(!E&&E!==0)return"Unknown";let M;if(E instanceof Date)M=E.getTime();else if(typeof E=="number")M=E<1e12?E*1e3:E;else{const ee=new Date(E);M=isNaN(ee.getTime())?null:ee.getTime()}if(M==null)return"Unknown";const Z=Date.now();let z=Math.floor((Z-M)/1e3);if(z<0&&(z=0),z<60)return z<=1?"Just now":`${z}s ago`;const K=Math.floor(z/60);if(K<60)return`${K}m ago`;const Y=Math.floor(K/60);return Y<24?`${Y}h ago`:`${Math.floor(Y/24)}d ago`}catch{return"Unknown"}},D=E=>{const M=typeof window<"u"&&window.ethereum&&window.ethereum.chainId?parseInt(window.ethereum.chainId,16):null,Z=M&&Ht[M]?Ht[M].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):M||"",z=Z?`/${Z}/raffle/${E}`:`/raffle/${E}`;s(z)};return!g||g.length===0?l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Em,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Activity Yet"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Activity will appear here once you participate in raffles."})]})}):l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Recent Activity"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[g.length," activities"]})]}),g.slice(0,10).map((E,M)=>l.jsx("div",{className:"bg-card beige-surface border border-[#614E41] rounded-lg p-4 hover:bg-muted/30 transition-colors",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:R(E.type)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-medium text-foreground text-sm",children:k(E)}),l.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:I(E)})]}),l.jsx("span",{className:"text-sm text-muted-foreground flex-shrink-0",children:N(E.timestamp)})]}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[l.jsx("button",{onClick:()=>D(E.raffleAddress),className:"text-sm bg-[#614E41] text-white px-3 py-1.5 rounded-md hover:bg-[#4a3a30] transition-colors",children:"View Pool"}),E.type==="ticket_purchase"&&E.state==="ended"&&l.jsx("button",{onClick:()=>T(E.raffleAddress),className:"text-sm bg-green-500/10 text-green-600 px-3 py-1.5 rounded-md hover:bg-green-500/20 transition-colors",children:"Claim Refund"})]})]})]})},E.id||M))]})},$=()=>c?l.jsx("div",{className:"fixed inset-0 bg-background z-50 overflow-y-auto",children:W(c)}):l.jsxs("div",{className:"p-4 space-y-4 mobile-component-container",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h3",{className:"text-lg font-semibold",children:"Creator Dashboard"})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-card beige-surface border border-[#614E41] rounded-lg p-4",children:[l.jsx("div",{className:"text-2xl font-bold",children:m.length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Raffles"})]}),l.jsxs("div",{className:"bg-card beige-surface border border-[#614E41] rounded-lg p-4",children:[l.jsx("div",{className:"text-2xl font-bold",children:m.filter(R=>R.state==="active").length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Raffles"})]}),l.jsxs("div",{className:"bg-card beige-surface border border-[#614E41] rounded-lg p-4",children:[l.jsx("div",{className:"text-2xl font-bold",children:p(x.withdrawableRevenue||"0")}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Revenue"})]}),l.jsxs("div",{className:"bg-card beige-surface border border-[#614E41] rounded-lg p-4",children:[l.jsxs("div",{className:"text-2xl font-bold",children:[m.length>0?Math.round(m.filter(R=>R.state==="completed").length/m.length*100):0,"%"]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Success Rate"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Creator Tools"}),l.jsx("button",{onClick:()=>d("royalty"),"data-dashboard-card":!0,className:"w-full bg-card beige-surface border border-[#614E41] rounded-lg p-4 text-left hover:bg-muted/30 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(uf,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Royalty & Reveal"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Manage royalties and reveal collections"})]})]})}),l.jsx("button",{onClick:()=>d("vesting"),"data-dashboard-card":!0,className:"w-full bg-card beige-surface border border-[#614E41] rounded-lg p-4 text-left hover:bg-muted/30 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Nm,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Creator Token Vesting"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Configure vesting schedules for creator token allocations"})]})]})}),l.jsx("button",{onClick:()=>d("minter"),"data-dashboard-card":!0,className:"w-full bg-card beige-surface border border-[#614E41] rounded-lg p-4 text-left hover:bg-muted/30 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Xo,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Minter Approval"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Manage minter approvals for collections"})]})]})}),l.jsx("button",{onClick:()=>d("kol"),"data-dashboard-card":!0,className:"w-full bg-card beige-surface border border-[#614E41] rounded-lg p-4 text-left hover:bg-muted/30 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Tc,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"KOL Approval Management"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Approve Key Opinion Leaders (KOLs) for collections with specific pool limits and slot fees"})]})]})}),l.jsx("button",{onClick:()=>d("tokenCreator"),"data-dashboard-card":!0,className:"w-full bg-card beige-surface border border-[#614E41] rounded-lg p-4 text-left hover:bg-muted/30 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Is,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Create New Token ID & Set Token URI"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Add new token IDs to ERC1155 collections and set metadata URIs"})]})]})}),l.jsx("button",{onClick:()=>d("revenue"),"data-dashboard-card":!0,className:"w-full bg-card beige-surface border border-[#614E41] rounded-lg p-4 text-left hover:bg-muted/30 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Yo,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Creator Mint & Revenue Withdrawal"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Withdraw revenue from completed raffles"})]})]})})]})]}),W=R=>{const k=()=>d(null);switch(R){case"royalty":return G(k);case"vesting":return q(k);case"minter":return H(k);case"kol":return J(k);case"tokenCreator":return V(k);case"revenue":return F(k);default:return $()}},G=R=>{var Z;const k=P.royalty,I=z=>{S(K=>({...K,royalty:{...K.royalty,...z}}))},N=(z,K)=>{I({collectionData:{...k.collectionData,[z]:K}}),z==="address"&&K&&Cr(K)&&t&&!k.loadingInfo&&setTimeout(()=>{k.loadingInfo||D()},450)},D=async()=>{if(!k.collectionData.address||!t){te.error("Please enter a collection address and connect your wallet");return}I({loadingInfo:!0});try{let z=null,K=null;try{const me=n(k.collectionData.address,"erc721Prize");if(me)try{await me.supportsInterface("0x80ac58cd")&&(z=me,K="erc721")}catch{try{await me.balanceOf(k.collectionData.address),z=me,K="erc721"}catch{}}}catch{}if(!z)try{const me=n(k.collectionData.address,"erc1155Prize");if(me)try{await me.supportsInterface("0xd9b67a26")&&(z=me,K="erc1155")}catch{try{await me.uri(0),z=me,K="erc1155"}catch{}}}catch{}if(!z||!K)throw new Error("Invalid collection address or unsupported contract type");I({collectionData:{...k.collectionData,type:K}});let Y="Unknown Collection",Q="Unknown",ee="Unknown";try{typeof z.name=="function"&&(Y=await z.name())}catch{}try{typeof z.symbol=="function"&&(Q=await z.symbol())}catch{}try{typeof z.owner=="function"&&(ee=await z.owner())}catch{}const ae=ee!=="Unknown"&&ee.toLowerCase()===e.toLowerCase(),ne=await z.royaltyInfo(1,1e4),de=await z.royaltyPercentage(),xe=await z.royaltyRecipient();I({collectionInfo:{address:k.collectionData.address,name:Y,symbol:Q,owner:ee,type:K,isOwner:ae,currentRoyaltyPercentage:de.toString(),currentRoyaltyRecipient:xe,royaltyAmount:ne[1].toString()},collectionData:{...k.collectionData,type:K,royaltyPercentage:(de.toNumber()/100).toString(),royaltyRecipient:xe}});try{const me=await z.isRevealed();I({isRevealed:!!me})}catch(me){console.log("Could not fetch reveal status:",me.message),I({isRevealed:null})}te.success("Collection loaded successfully!")}catch(z){console.error("Error loading collection info:",z),te.error("Error loading collection info: "+z.message),I({collectionInfo:null,isRevealed:null})}finally{I({loadingInfo:!1})}},E=async()=>{if(!t||!k.collectionInfo){te.error("Please connect your wallet and load collection info first");return}if(!k.collectionInfo.isOwner){te.error("You are not the owner of this collection");return}const z=parseFloat(k.collectionData.royaltyPercentage);if(isNaN(z)||z<0){te.error("Please enter a valid royalty percentage (minimum 0%)");return}if(!k.collectionData.royaltyRecipient){te.error("Please enter a royalty recipient address");return}I({loading:!0});try{const K=k.collectionData.type==="erc721"?"erc721Prize":"erc1155Prize",Y=n(k.collectionData.address,K);if(!Y)throw new Error("Failed to create contract instance");const Q=Math.floor(z*100),ee=await i(Y.setRoyalty,Q,k.collectionData.royaltyRecipient);if(ee.success)te.success(`Royalty updated successfully! Transaction: ${ee.hash}`),await D();else throw new Error(ee.error)}catch(K){console.error("Error updating royalty:",K),te.error("Error updating royalty: "+K.message)}finally{I({loading:!1})}},M=async()=>{if(!t||!k.collectionInfo){te.error("Please connect your wallet and load collection info first");return}I({revealing:!0});try{const z=k.collectionData.type==="erc721"?"erc721Prize":"erc1155Prize",K=n(k.collectionData.address,z);if(!K)throw new Error("Failed to create contract instance");const Y=await i(K.reveal);if(Y.success)te.success("Collection revealed successfully!"),await D();else throw new Error(Y.error)}catch(z){te.error("Error revealing collection: "+(z.message||z))}finally{I({revealing:!1})}};return l.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("button",{onClick:R,className:"text-primary hover:text-primary/80",children:" Back"}),l.jsx("h3",{className:"text-lg font-semibold",children:"Royalty & Reveal"})]}),l.jsxs(Pr,{children:[l.jsxs(wn,{children:[l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx(uf,{className:"h-5 w-5"}),"Royalty & Reveal Management"]}),l.jsx(Zo,{children:"Manage royalties and reveal collections for your NFT contracts"})]}),l.jsxs(Rr,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Jo,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Collection Lookup"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Address"}),l.jsx(fn,{value:k.collectionData.address,onChange:z=>N("address",z.target.value),placeholder:"0x...",className:"flex-1"})]})]}),k.collectionInfo&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(uf,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Collection Information"})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"break-words",children:[l.jsx("span",{className:"font-medium",children:"Name:"})," ",k.collectionInfo.name]}),k.collectionInfo.symbol&&l.jsxs("div",{className:"break-words",children:[l.jsx("span",{className:"font-medium",children:"Symbol:"})," ",k.collectionInfo.symbol]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Type:"})," ",(Z=k.collectionInfo.type)==null?void 0:Z.toUpperCase()]}),l.jsxs("div",{className:"break-all",children:[l.jsx("span",{className:"font-medium",children:"Owner:"}),l.jsx("span",{className:"ml-1 font-mono text-xs",children:k.collectionInfo.owner})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Current Royalty:"})," ",(parseFloat(k.collectionInfo.currentRoyaltyPercentage)/100).toFixed(2),"%"]}),l.jsxs("div",{className:"break-all",children:[l.jsx("span",{className:"font-medium",children:"Royalty Recipient:"}),l.jsx("span",{className:"ml-1 font-mono text-xs",children:k.collectionInfo.currentRoyaltyRecipient})]}),k.isRevealed!==null&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Revealed:"})," ",k.isRevealed?"Yes":"No"]})]}),k.collectionInfo.isOwner&&k.isRevealed===!1&&l.jsx("button",{onClick:M,disabled:k.revealing||!t,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:k.revealing?"Revealing...":"Reveal Collection"})]}),k.collectionInfo&&k.collectionInfo.isOwner&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(uf,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Update Royalty Settings"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Royalty Percentage (%)"}),l.jsx(ds,{min:"0",step:"0.01",value:k.collectionData.royaltyPercentage,onChange:z=>N("royaltyPercentage",z.target.value),placeholder:"2.5"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Royalty Recipient"}),l.jsx(fn,{value:k.collectionData.royaltyRecipient,onChange:z=>N("royaltyRecipient",z.target.value),placeholder:"0x..."})]})]}),l.jsxs("button",{onClick:E,disabled:k.loading||!t||!k.collectionInfo||!k.collectionInfo.isOwner,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",children:[l.jsx(uf,{className:"h-4 w-4"}),k.loading?"Updating...":"Update Royalty Settings"]})]})]})]})]})},q=R=>l.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("button",{onClick:R,className:"text-primary hover:text-primary/80",children:" Back"}),l.jsx("h2",{className:"text-xl font-semibold",children:"Creator Token Vesting"})]}),l.jsx(yz,{})]}),H=R=>{var K;const k=P.minter,I=Y=>{S(Q=>({...Q,minter:{...Q.minter,...Y}}))},N=Y=>{if(!Y)return"";const Q=String(Y).trim().replace(/\u200B|\u200C|\u200D|\u2060|\uFEFF/g,"");return Q.startsWith("0X")?"0x"+Q.slice(2):Q},D=Y=>{const Q=N(Y);return Cr(Q)},E=Y=>{if(Y!=null&&Y.reason)return Y.reason;if(Y!=null&&Y.message){const Q=Y.message.match(/reason="([^"]+)"/);return Q?Q[1]:Y.message}return"Transaction failed"},M=async()=>{const Y=++TI.current;I({error:"",success:"",fetchedCollection:"",isLocked:!1,currentMinter:"",isApproved:!1,collectionName:"",collectionSymbol:"",collectionType:null});const Q=N(k.collectionAddress);if(!D(Q)){I({error:"Please enter a valid Ethereum contract address."});return}if(!r){I({error:"Provider not available."});return}try{I({loading:!0});const ee=await r.getCode(Q);if(!ee||ee==="0x"){I({error:"The provided address is not a contract.",loading:!1});return}let ae=new At(Q,ft.erc721Prize,r),ne=!1,de="",xe="";try{const _e=await ae.minterLocked(),Xe=await ae.minter();I({isLocked:_e,currentMinter:Xe,collectionType:"erc721"}),ne=!0}catch{ae=new At(Q,ft.erc1155Prize,r);try{const Xe=await ae.minterLocked(),le=await ae.minter();I({isLocked:Xe,currentMinter:le,collectionType:"erc1155"})}catch(Xe){I({error:"Failed to fetch collection: "+Xe.message,collectionType:null,loading:!1});return}}if(ne){try{typeof ae.name=="function"?de=await ae.name():de="N/A"}catch{de="N/A"}try{typeof ae.symbol=="function"?xe=await ae.symbol():xe="N/A"}catch{xe="N/A"}}else de="ERC1155 Collection",xe="N/A";Y===TI.current&&N(P.minter.collectionAddress)===Q&&I({fetchedCollection:Q,collectionName:de,collectionSymbol:xe,success:"Collection loaded successfully!",loading:!1})}catch(ee){console.error("Error fetching collection:",ee),I({error:"Failed to fetch collection: "+ee.message,loading:!1})}},Z=async Y=>{if(!k.fetchedCollection||!r){te.error("Please fetch a collection and enter a valid minter address");return}const Q=N(k.minterAddress);if(!Q||!D(Q)){te.error("Please enter a valid Ethereum address");return}try{I({loading:!0,error:"",success:""});const ee=r.getSigner();let ae;k.collectionType==="erc721"?ae=new At(k.fetchedCollection,ft.erc721Prize,ee):k.collectionType==="erc1155"&&(ae=new At(k.fetchedCollection,ft.erc1155Prize,ee)),await(await ae.setMinterApproval(Q,Y)).wait(),te.success(`Minter ${Y?"set":"removed"} successfully!`),I({isApproved:Y,minterAddress:""})}catch(ee){te.error(`Failed to set minter approval: ${E(ee)}`)}finally{I({loading:!1})}},z=async()=>{if(!k.fetchedCollection||!r){te.error("Please fetch a collection first");return}try{I({loading:!0,error:"",success:""});const Y=r.getSigner();let Q;k.collectionType==="erc721"?Q=new At(k.fetchedCollection,ft.erc721Prize,Y):k.collectionType==="erc1155"&&(Q=new At(k.fetchedCollection,ft.erc1155Prize,Y));let ee;try{if(typeof Q.owner=="function")ee=await Q.owner();else{te.error("Contract does not support owner functionality"),I({loading:!1});return}}catch{te.error("Failed to get contract owner"),I({loading:!1});return}const ae=await Y.getAddress();if(ee.toLowerCase()!==ae.toLowerCase()){te.error("Only the contract owner can lock/unlock minter approval"),I({loading:!1});return}let ne;k.collectionType==="erc721"?k.isLocked?(console.log("Attempting to unlock minter approval..."),ne=await Q.unlockMinterApproval()):(console.log("Attempting to lock minter approval..."),ne=await Q.lockMinterApproval()):k.collectionType==="erc1155"&&(k.isLocked?(console.log("Attempting to unlock minter approval..."),ne=await Q.unlockMinterApproval()):(console.log("Attempting to lock minter approval..."),ne=await Q.lockMinterApproval())),console.log("Transaction sent:",ne.hash),await ne.wait(),te.success(`Minter approval ${k.isLocked?"unlocked":"locked"} successfully!`),I({isLocked:!k.isLocked})}catch(Y){console.error("Error in toggleMinterApprovalLock:",Y),te.error(`Failed to ${k.isLocked?"unlock":"lock"} minter approval: ${E(Y)}`)}finally{I({loading:!1})}};return l.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("button",{onClick:R,className:"text-primary hover:text-primary/80",children:" Back"}),l.jsx("h3",{className:"text-lg font-semibold",children:"Minter Approval Management"})]}),l.jsxs(Pr,{children:[l.jsxs(wn,{children:[l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx(Xo,{className:"h-5 w-5"}),"Minter Approval Management"]}),l.jsx(Zo,{children:"Manage minter approvals for collections and control royalty enforcement exemptions"})]}),l.jsxs(Rr,{className:"space-y-6",children:[k.error&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(dr,{className:"h-4 w-4 text-red-600"}),l.jsx("span",{className:"text-sm text-red-800",children:k.error})]})}),k.success&&l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:l.jsx("div",{className:"text-sm text-green-800",children:k.success})}),l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Jo,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Collection Lookup"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Address"}),l.jsx(fn,{value:k.collectionAddress,onChange:Y=>{const Q=Y.target.value,ee=N(Q);I({collectionAddress:ee}),ee&&Cr(ee)&&t&&!k.loading&&setTimeout(()=>{k.loading||M()},350)},placeholder:"0x...",className:"flex-1"})]})]}),k.fetchedCollection&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Xo,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Collection Information"})]}),l.jsxs("div",{className:"text-sm space-y-2",children:[l.jsxs("div",{className:"break-all",children:[l.jsx("span",{className:"font-medium",children:"Address:"}),l.jsx("span",{className:"ml-1 font-mono text-xs",children:k.fetchedCollection})]}),l.jsxs("div",{className:"break-words",children:[l.jsx("span",{className:"font-medium",children:"Name:"})," ",k.collectionName]}),k.collectionSymbol&&l.jsxs("div",{className:"break-words",children:[l.jsx("span",{className:"font-medium",children:"Symbol:"})," ",k.collectionSymbol]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Type:"})," ",(K=k.collectionType)==null?void 0:K.toUpperCase()]}),l.jsxs("div",{className:"break-all",children:[l.jsx("span",{className:"font-medium",children:"Current Minter:"}),l.jsx("span",{className:"ml-1 font-mono text-xs",children:k.currentMinter||"None"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Minter Locked:"})," ",k.isLocked?"Yes":"No"]})]}),l.jsx("div",{className:"pt-2 border-t border-border",children:l.jsx("button",{onClick:z,disabled:k.loading||!t,className:"w-full bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:k.loading?"Processing...":k.isLocked?"Unlock Minter Approval":"Lock Minter Approval"})})]}),k.fetchedCollection&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Xo,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Minter Management"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Minter Address"}),l.jsx(fn,{value:k.minterAddress,onChange:Y=>I({minterAddress:Y.target.value}),placeholder:"0x..."}),k.minterAddress&&k.isApproved&&l.jsx("p",{className:"text-sm text-green-600 mt-1",children:" This address is currently the minter"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("button",{onClick:()=>Z(!0),disabled:k.loading||k.isApproved||k.isLocked||!k.minterAddress||!D(k.minterAddress),className:"w-full bg-[#614E41] text-white px-4 py-2 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",title:k.minterAddress?D(k.minterAddress)?k.isApproved?"Address is already the minter":k.isLocked?"Minter approval is locked":"Set as minter":"Please enter a valid address":"Please enter a minter address",children:[k.loading?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):l.jsx(Xo,{className:"h-4 w-4"}),"Set Minter"]}),l.jsxs("button",{onClick:()=>Z(!1),disabled:k.loading||!k.isApproved||k.isLocked||!k.minterAddress||!D(k.minterAddress),className:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",title:k.minterAddress?D(k.minterAddress)?k.isApproved?k.isLocked?"Minter approval is locked":"Remove minter":"Address is not currently the minter":"Please enter a valid address":"Please enter a minter address",children:[k.loading?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):l.jsx(Xo,{className:"h-4 w-4"}),"Remove Minter"]})]}),l.jsxs("div",{className:"space-y-3 pt-3 border-t border-border",children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Royalty Enforcement Exemption Address"}),l.jsx(fn,{value:k.minterAddress,onChange:Y=>I({minterAddress:Y.target.value}),placeholder:"0x..."}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("button",{onClick:async()=>{try{I({loading:!0,error:""});const Q=await new At(k.fetchedCollection,k.collectionType==="erc721"?ft.erc721Prize:ft.erc1155Prize,r).isRoyaltyEnforcementExempt(k.minterAddress);te.success(Q?"Address is exempt from royalty enforcement":"Address is NOT exempt")}catch(Y){te.error(`Failed to check exemption: ${E(Y)}`)}finally{I({loading:!1})}},disabled:!k.fetchedCollection||!k.minterAddress||!D(k.minterAddress)||k.loading,className:"w-full bg-gray-100 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Check exemption"}),l.jsx("button",{onClick:async()=>{try{I({loading:!0,error:""});const Y=r.getSigner();await(await new At(k.fetchedCollection,k.collectionType==="erc721"?ft.erc721Prize:ft.erc1155Prize,Y).setRoyaltyEnforcementExemption(k.minterAddress,!0)).wait(),te.success("Exemption granted successfully")}catch(Y){te.error(`Failed to grant exemption: ${E(Y)}`)}finally{I({loading:!1})}},disabled:!k.fetchedCollection||!k.minterAddress||!D(k.minterAddress)||k.loading,className:"w-full bg-[#614E41] text-white px-4 py-2 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Grant Exemption"}),l.jsx("button",{onClick:async()=>{try{I({loading:!0,error:""});const Y=r.getSigner();await(await new At(k.fetchedCollection,k.collectionType==="erc721"?ft.erc721Prize:ft.erc1155Prize,Y).setRoyaltyEnforcementExemption(k.minterAddress,!1)).wait(),te.success("Exemption revoked successfully")}catch(Y){te.error(`Failed to revoke exemption: ${E(Y)}`)}finally{I({loading:!1})}},disabled:!k.fetchedCollection||!k.minterAddress||!D(k.minterAddress)||k.loading,className:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Revoke Exemption"})]})]})]}),k.isLocked&&k.fetchedCollection&&l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(dr,{className:"h-4 w-4 text-yellow-600"}),l.jsx("span",{className:"text-sm text-yellow-800",children:"Minter approval is locked for this collection. Use the unlock button above to enable changes."})]})})]})]})]})},J=R=>l.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("button",{onClick:R,className:"text-primary hover:text-primary/80",children:" Back"}),l.jsx("h3",{className:"text-lg font-semibold",children:"KOL Approval Management"})]}),l.jsx("div",{className:"w-full",children:l.jsx(gz,{})})]}),V=R=>{const k=P.tokenCreator,I=Z=>{S(z=>({...z,tokenCreator:{...z.tokenCreator,...Z}}))},N=async Z=>{try{const z=n(Z,"erc1155Prize");if(z)try{if(await z.supportsInterface("0xd9b67a26"))return{type:"erc1155",contract:z}}catch{try{return await z.balanceOf(Z,0),{type:"erc1155",contract:z}}catch{}}const K=n(Z,"erc721Prize");if(K)try{if(await K.supportsInterface("0x80ac58cd"))return{type:"erc721",contract:K}}catch{try{return await K.balanceOf(Z),{type:"erc721",contract:K}}catch{}}throw new Error("Contract is neither ERC721 nor ERC1155 compatible")}catch(z){throw new Error(`Failed to detect contract type: ${z.message}`)}},D=async()=>{if(!k.collectionData.address||!t){te.error("Please enter a collection address");return}I({loadingInfo:!0});try{const{type:Z,contract:z}=await N(k.collectionData.address);if(Z!=="erc1155"){te.error(" This component is only for ERC1155 collections. The provided address appears to be an ERC721 collection. Please use the appropriate component for ERC721 collections."),I({collectionInfo:{address:k.collectionData.address,isOwner:!1,owner:"N/A",type:"erc721",isBlocked:!0},loadingInfo:!1});return}const K=await z.owner(),Y=K.toLowerCase()===e.toLowerCase();I({collectionInfo:{address:k.collectionData.address,isOwner:Y,owner:K,type:"erc1155"},collectionData:{...k.collectionData,type:"erc1155"}}),Y?te.success("ERC1155 collection loaded successfully"):te.error("You are not the owner of this collection")}catch(Z){console.error("Error loading collection info:",Z),te.error("Failed to load collection info. Please verify the address is a valid ERC1155 collection."),I({collectionInfo:null})}finally{I({loadingInfo:!1})}},E=async()=>{if(!t||!k.collectionInfo){te.error("Please connect your wallet and load collection info first");return}const Z=parseInt(k.tokenCreationData.tokenId),z=parseInt(k.tokenCreationData.maxSupply);if(isNaN(Z)||Z<0){te.error("Please enter a valid token ID");return}if(isNaN(z)||z<=0){te.error("Please enter a valid max supply");return}I({loading:!0});try{const K=n(k.collectionData.address,"erc1155Prize"),Y=await i(K.createNewToken,Z,z);if(Y.success)te.success(`Token ID ${Z} created successfully with max supply of ${z}!`),I({tokenCreationData:{tokenId:"",maxSupply:""}});else throw new Error(Y.error)}catch(K){console.error("Error creating new token:",K),te.error(`Failed to create new token: ${K.message}`)}finally{I({loading:!1})}},M=async()=>{if(!t||!k.collectionInfo){te.error("Please connect your wallet and load collection info first");return}const Z=parseInt(k.uriData.tokenId);if(isNaN(Z)||Z<0){te.error("Please enter a valid token ID");return}if(!k.uriData.tokenURI){te.error("Please enter a token URI");return}I({loading:!0});try{const z=n(k.collectionData.address,"erc1155Prize"),K=await i(z.setURI,Z,k.uriData.tokenURI);if(K.success)te.success(`Token URI set successfully for token ID ${Z}!`),I({uriData:{tokenId:"",tokenURI:""}});else throw new Error(K.error)}catch(z){console.error("Error setting token URI:",z),te.error(`Failed to set token URI: ${z.message}`)}finally{I({loading:!1})}};return l.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("button",{onClick:R,className:"text-primary hover:text-primary/80",children:" Back"}),l.jsx("h3",{className:"text-lg font-semibold",children:"Create New Token ID & Set Token URI"})]}),l.jsxs(Pr,{children:[l.jsxs(wn,{children:[l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx(Is,{className:"h-5 w-5"}),"Token Creator"]}),l.jsx(Zo,{children:"Add new token IDs to ERC1155 collections and set metadata URIs"})]}),l.jsxs(Rr,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Jo,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Collection Lookup"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"ERC1155 Collection Address"}),l.jsx(fn,{value:k.collectionData.address,onChange:Z=>{I({collectionData:{...k.collectionData,address:Z.target.value}});const z=Z.target.value;z&&Cr(z)&&t&&!k.loadingInfo&&setTimeout(()=>{k.loadingInfo||D()},400)},placeholder:"0x...",className:"flex-1"})]})]}),k.collectionInfo&&l.jsxs("div",{className:`space-y-4 p-4 border border-border rounded-lg ${k.collectionInfo.isBlocked?"bg-destructive/10 border-destructive/20":"bg-muted/50"}`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(dr,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Collection Information"})]}),l.jsxs("div",{className:"space-y-1 text-sm",children:[l.jsxs("p",{className:"break-all",children:[l.jsx("span",{className:"font-medium",children:"Address:"})," ",k.collectionInfo.address]}),l.jsxs("p",{className:"break-all",children:[l.jsx("span",{className:"font-medium",children:"Owner:"})," ",k.collectionInfo.owner]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"You are owner:"})," ",k.collectionInfo.isOwner?" Yes":" No"]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Type:"})," ",k.collectionInfo.type==="erc721"?" ERC721 Collection (Incompatible)":" ERC1155 Collection"]})]}),k.collectionInfo.isBlocked&&l.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(dr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"This component only works with ERC1155 collections. The provided address is an ERC721 collection. Please use the appropriate component for ERC721 collections."})]}),!k.collectionInfo.isBlocked&&!k.collectionInfo.isOwner&&l.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(dr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot create new tokens."})]})]}),k.collectionInfo&&k.collectionInfo.isOwner&&!k.collectionInfo.isBlocked&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Is,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Create New Token ID"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token ID"}),l.jsx(ds,{min:"0",value:k.tokenCreationData.tokenId,onChange:Z=>I({tokenCreationData:{...k.tokenCreationData,tokenId:Z.target.value}}),placeholder:"1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Supply"}),l.jsx(ds,{min:"1",value:k.tokenCreationData.maxSupply,onChange:Z=>I({tokenCreationData:{...k.tokenCreationData,maxSupply:Z.target.value}}),placeholder:"100"})]})]}),l.jsxs("button",{onClick:E,disabled:k.loading||!t||!k.collectionInfo.isOwner||k.collectionInfo.isBlocked||!k.tokenCreationData.tokenId||!k.tokenCreationData.maxSupply,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",children:[l.jsx(Is,{className:"h-4 w-4"}),k.loading?"Creating...":"Create New Token ID"]})]}),k.collectionInfo&&k.collectionInfo.isOwner&&!k.collectionInfo.isBlocked&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Jo,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Set Token URI"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token ID"}),l.jsx(ds,{min:"0",value:k.uriData.tokenId,onChange:Z=>I({uriData:{...k.uriData,tokenId:Z.target.value}}),placeholder:"1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token URI"}),l.jsx(fn,{value:k.uriData.tokenURI,onChange:Z=>I({uriData:{...k.uriData,tokenURI:Z.target.value}}),placeholder:"https://..."})]})]}),l.jsxs("button",{onClick:M,disabled:k.loading||!t||!k.collectionInfo.isOwner||k.collectionInfo.isBlocked||!k.uriData.tokenId||!k.uriData.tokenURI,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",children:[l.jsx(Jo,{className:"h-4 w-4"}),k.loading?"Setting...":"Set Token URI"]})]})]})]})]})},F=R=>{const k=P.revenue,I=z=>{S(K=>({...K,revenue:{...K.revenue,...z}}))},N=async z=>{if(!z||!t){te.error("Please enter a raffle address and connect your wallet");return}I({loading:!0});try{const K=n(z,"pool");if(!K)throw new Error("Failed to create raffle contract instance");const[Y,Q,ee]=await Promise.all([K.creator(),K.totalCreatorRevenue(),K.state()]),ae=Y.toLowerCase()===e.toLowerCase(),ne=["Pending","Active","Ended","Drawing","Completed","Deleted","AllPrizesClaimed","Unengaged"],de=ee&&typeof ee=="object"&&typeof ee.toNumber=="function"?ee.toNumber():Number(ee),xe=Number.isFinite(de)&&de>=0&&de<ne.length?ne[de]:"Unknown";I({raffleData:{address:z,revenueAmount:Ir(Q),isCreator:ae,raffleState:xe,totalRevenue:Q}})}catch(K){console.error("Error loading raffle info:",K),te.error("Error loading raffle info: "+K.message),I({raffleData:{address:z,revenueAmount:"0",isCreator:!1,raffleState:"error"}})}finally{I({loading:!1})}},D=async()=>{if(!t||!k.raffleData.address){te.error("Please connect your wallet and load raffle info first");return}if(!k.raffleData.isCreator){te.error("You are not the creator of this raffle");return}if(parseFloat(k.raffleData.revenueAmount)<=0){te.info("No revenue available for withdrawal");return}if(!["Completed","AllPrizesClaimed","Ended"].includes(k.raffleData.raffleState)){te.info(`Revenue can only be withdrawn from completed raffles. Current state: ${k.raffleData.raffleState}`);return}I({loading:!0});try{const K=n(k.raffleData.address,"pool");if(!K)throw new Error("Failed to create raffle contract instance");const Y=await i(K.withdrawCreatorRevenue);if(Y.success)te.success(`Revenue withdrawn successfully! Transaction: ${Y.hash}`),await N(k.raffleData.address);else throw new Error(Y.error)}catch(K){console.error("Error withdrawing revenue:",K),te.error("Error withdrawing revenue: "+K.message)}finally{I({loading:!1})}},E=(z,K)=>{I({mintData:{...k.mintData,[z]:K}})},M=async()=>{if(!t||!e){te.error("Please connect your wallet");return}if(!k.mintData.collectionAddress||!k.mintData.recipient||!k.mintData.quantity){te.error("Please fill in all required fields");return}if(!Cr(k.mintData.recipient)){te.error("Please enter a valid recipient address");return}const z=parseInt(k.mintData.quantity);if(isNaN(z)||z<=0){te.error("Please enter a valid quantity");return}if(k.mintData.collectionType==="erc1155"){const K=parseInt(k.mintData.tokenId);if(isNaN(K)||K<0){te.error("Please enter a valid token ID for ERC1155");return}}I({mintLoading:!0});try{const K=k.mintData.collectionType==="erc721"?"erc721Prize":"erc1155Prize",Y=n(k.mintData.collectionAddress,K);if(!Y)throw new Error("Failed to create contract instance");let Q;if(k.mintData.collectionType==="erc721")Q=await i(()=>Y.creatorMint(k.mintData.recipient,z));else{const ee=parseInt(k.mintData.tokenId);Q=await i(()=>Y.creatorMint(k.mintData.recipient,ee,z))}if(Q.success)te.success(`Successfully minted ${z} token(s)! Transaction: ${Q.hash}`),I({mintData:{...k.mintData,recipient:"",quantity:"",tokenId:""}});else throw new Error(Q.error)}catch(K){console.error("Error minting tokens:",K),te.error("Error minting tokens: "+K.message)}finally{I({mintLoading:!1})}},Z=k.raffleData.isCreator&&parseFloat(k.raffleData.revenueAmount)>0&&["Completed","AllPrizesClaimed","Ended"].includes(k.raffleData.raffleState);return l.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("button",{onClick:R,className:"text-primary hover:text-primary/80",children:" Back"}),l.jsx("h3",{className:"text-lg font-semibold",children:"Creator Mint & Revenue Withdrawal"})]}),l.jsxs(Pr,{children:[l.jsxs(wn,{children:[l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx(Yo,{className:"h-5 w-5"}),"Creator Mint & Revenue Withdrawal"]}),l.jsx(Zo,{children:"Withdraw revenue from completed raffles and mint creator tokens"})]}),l.jsxs(Rr,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Jo,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Raffle Lookup"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Raffle Address"}),l.jsx(fn,{value:k.raffleData.address,onChange:z=>{I({raffleData:{...k.raffleData,address:z.target.value}});const K=z.target.value;K&&Cr(K)&&t&&!k.loading&&setTimeout(()=>{k.loading||N(K)},400)},placeholder:"0x...",className:"flex-1"})]})]}),m.length>0&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(L0,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Your Created Raffles"})]}),l.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:m.slice(0,5).map(z=>l.jsxs("button",{onClick:()=>N(z.address),className:"w-full text-left bg-muted/30 beige-surface border border-[#614E41] rounded-lg p-3 hover:bg-muted/50 transition-colors",children:[l.jsx("div",{className:"text-sm font-medium",children:z.name||`Raffle ${z.address.slice(0,8)}...`}),l.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:["State: ",j(z.state,{stateNum:z.stateNum})]})]},z.address))})]}),k.raffleData.address&&k.raffleData.raffleState!=="unknown"&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Yo,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Raffle Information"})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"break-all",children:[l.jsx("span",{className:"font-medium",children:"Address:"}),l.jsx("span",{className:"ml-1 font-mono text-xs",children:k.raffleData.address})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium",children:"State:"})," ",j(k.raffleData.raffleState,{stateNum:k.raffleData.stateNum,winnerCount:k.raffleData.winnerCount})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"You are creator:"})," ",k.raffleData.isCreator?"Yes":"No"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Available Revenue:"})," ",k.raffleData.revenueAmount," ",f()]})]}),k.raffleData.isCreator&&l.jsx("div",{className:"mt-4",children:Z?l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:l.jsx("div",{className:"text-sm text-green-800",children:" Revenue withdrawal is available"})}):l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:l.jsx("div",{className:"text-sm text-yellow-800",children:parseFloat(k.raffleData.revenueAmount)<=0?"No revenue available for withdrawal":`Revenue withdrawal not available - raffle state: ${k.raffleData.raffleState}`})})})]}),k.raffleData.isCreator&&l.jsxs("button",{onClick:D,disabled:k.loading||!t||!Z,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",children:[l.jsx(Yo,{className:"h-4 w-4"}),k.loading?"Withdrawing...":`Withdraw ${k.raffleData.revenueAmount} ${f()}`]}),l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Ef,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Creator Mint"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Mint tokens directly to winners or any address"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Type"}),l.jsxs(rd,{value:k.mintData.collectionType,onValueChange:z=>E("collectionType",z),children:[l.jsx(id,{children:l.jsx(nd,{placeholder:"Select collection type"})}),l.jsxs(sd,{children:[l.jsx(ji,{value:"erc721",children:"ERC721"}),l.jsx(ji,{value:"erc1155",children:"ERC1155"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Address"}),l.jsx(fn,{value:k.mintData.collectionAddress,onChange:z=>E("collectionAddress",z.target.value),placeholder:"0x..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Recipient Address"}),l.jsx(fn,{value:k.mintData.recipient,onChange:z=>E("recipient",z.target.value),placeholder:"0x..."})]}),k.mintData.collectionType==="erc1155"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token ID"}),l.jsx(ds,{min:"0",value:k.mintData.tokenId,onChange:z=>E("tokenId",z.target.value),placeholder:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity"}),l.jsx(ds,{min:"1",value:k.mintData.quantity,onChange:z=>E("quantity",z.target.value),placeholder:"1"})]}),l.jsxs("button",{onClick:M,disabled:k.mintLoading||!t||!k.mintData.collectionAddress||!k.mintData.recipient||!k.mintData.quantity||k.mintData.collectionType==="erc1155"&&!k.mintData.tokenId,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",children:[l.jsx(Is,{className:"h-4 w-4"}),k.mintLoading?"Minting...":`Mint ${k.mintData.quantity||"1"} Token(s)`]}),!t&&l.jsx("div",{className:"text-center p-4 bg-muted rounded-lg",children:l.jsx("p",{className:"text-muted-foreground text-sm",children:"Please connect your wallet to use creator mint functionality."})})]})]})]})]})},b=()=>{const R=k=>{const I=typeof window<"u"&&window.ethereum&&window.ethereum.chainId?parseInt(window.ethereum.chainId,16):null,N=I&&Ht[I]?Ht[I].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):I||"",D=N?`/${N}/raffle/${k}`:`/raffle/${k}`;s(D)};return!m||m.length===0?l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ef,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Raffles Created Yet"}),l.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"You haven't created any raffles yet. Start by creating your first raffle!"}),l.jsx("button",{onClick:()=>s("/create-raffle"),className:"bg-[#614E41] text-white px-6 py-2 rounded-lg hover:bg-[#4a3a30] transition-colors",children:"Create Your First Raffle"})]})}):l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"My Raffles"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[m.length," raffles"]})]}),m.map(k=>l.jsxs("div",{className:"bg-card beige-surface border border-[#614E41] rounded-lg p-4 hover:bg-muted/30 transition-colors",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-medium text-foreground text-sm mb-1",children:k.name||`Raffle ${k.address.slice(0,8)}...`}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Slots Sold:"})," ",k.ticketsSold||0," / ",k.maxTickets||"Unlimited"]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Revenue:"})," ",p(k.revenue||"0")]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Created:"})," ",k.createdAt?new Date(k.createdAt<1e12?k.createdAt*1e3:k.createdAt).toLocaleString():"Unknown"]})]})]}),l.jsx("div",{className:"flex flex-col gap-2",children:l.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${k.state==="active"?"bg-green-100 text-green-800":k.state==="completed"?"bg-blue-100 text-blue-800":k.state==="ended"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:k.state})})]}),l.jsx("div",{className:"flex gap-2 mt-3",children:l.jsx("button",{onClick:()=>R(k.address),className:"text-sm bg-primary/10 text-primary px-3 py-1.5 rounded-md hover:bg-primary/20 transition-colors",children:"View Details"})})]},k.address))]})},A=()=>!v||v.length===0?l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(L0,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Slots Purchased Yet"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"You haven't purchased any pool slots yet. Browse active pools to get started!"})]})}):l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Purchased Slots"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[v.length," slots"]})]}),v.map((R,k)=>{var I;return l.jsxs("div",{className:"bg-card beige-surface border border-[#614E41] rounded-lg p-4 hover:bg-muted/30 transition-colors",children:[l.jsx("div",{className:"flex items-start justify-between gap-3",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-medium text-foreground text-sm mb-1",children:R.raffleName||R.poolName||R.name||`Raffle ${(I=R.raffleAddress)==null?void 0:I.slice(0,8)}...`}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Slots:"})," ",R.quantity||R.ticketCount||1]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Amount Paid:"})," ",(()=>{const N=R.totalSpent??R.amount;if(N==null||N===""){const D=R.quantity||R.ticketCount||0,E=R.slotFee;if(E){const M=(parseFloat(E)||0)*D;return p(M.toString())}return p("0")}return p(N)})()]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Purchased:"})," ",R.purchaseTime?new Date(R.purchaseTime<1e12?R.purchaseTime*1e3:R.purchaseTime).toLocaleString():"Unknown"]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"State:"})," ",j(R.state,{stateNum:R.stateNum})]})]})]})}),l.jsx("div",{className:"flex gap-2 mt-3",children:R.state==="ended"&&l.jsx("button",{onClick:()=>T(R.raffleAddress),className:"text-sm bg-green-500/10 text-green-600 px-3 py-1.5 rounded-md hover:bg-green-500/20 transition-colors",children:"Claim Refund"})})]},R.id||k)})]}),O=()=>o==="activity"?B():o==="created"?b():o==="purchased"?A():o==="dashboard"?$():B();return l.jsxs("div",{className:"min-h-screen bg-background overflow-x-hidden",children:[l.jsxs("div",{className:"bg-card beige-surface border-b border-[#614E41] p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Profile"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Track activities and manage your raffles"}),l.jsxs("div",{className:"bg-muted/50 beige-surface border border-[#614E41] rounded-lg p-3",children:[l.jsx("p",{className:"text-sm font-medium",children:"Connected Account:"}),l.jsx("p",{className:"text-xs font-mono break-all",children:e})]})]}),l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[l.jsx("button",{onClick:()=>a("activity"),"data-profile-tab":!0,className:`p-4 rounded-lg border transition-colors ${o==="activity"?"border-primary bg-primary/10 text-primary":"border-[#614E41] bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"Activity"})}),l.jsx("button",{onClick:()=>a("created"),"data-profile-tab":!0,className:`p-4 rounded-lg border transition-colors ${o==="created"?"border-primary bg-primary/10 text-primary":"border-[#614E41] bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"My Raffles"})}),l.jsx("button",{onClick:()=>a("purchased"),"data-profile-tab":!0,className:`p-4 rounded-lg border transition-colors ${o==="purchased"?"border-primary bg-primary/10 text-primary":"border-[#614E41] bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"Slots"})}),l.jsx("button",{onClick:()=>a("dashboard"),"data-profile-tab":!0,className:`p-4 rounded-lg border transition-colors ${o==="dashboard"?"border-primary bg-primary/10 text-primary":"border-[#614E41] bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})})]})}),l.jsx("div",{className:"pb-8",children:O()}),w&&l.jsxs("div",{className:"text-center py-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto mb-2"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Loading on-chain data"})]})]})},TI=ve.useRef(0),Bue=()=>{const{isMobile:t,isInitialized:e}=pn();return e?t?l.jsx(zue,{}):l.jsx($ue,{}):l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold mb-2",style:{fontFamily:"Orbitron, monospace"},children:"Dropr"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading..."})]})})},$ue=()=>{const{connected:t,address:e,provider:r,chainId:n}=xr(),{contracts:i,getContractInstance:s,executeTransaction:o,executeCall:a}=Sr();Ua();const{isMobile:c}=pn(),{getCurrencySymbol:d}=Sn(),{userActivity:f,createdRaffles:p,purchasedTickets:g,activityStats:m,creatorStats:v,loading:x,showRevenueModal:w,selectedRaffle:T,setSelectedRaffle:j,fetchCreatedRaffles:P,fetchPurchasedTickets:S}=xz(),[B,$]=C.useState("activity"),W=C.useMemo(()=>f.map(F=>{const b=()=>{var I;const R=F.raffleName||F.name||`Raffle ${(I=F.raffleAddress)==null?void 0:I.slice(0,8)}...`,k=F.quantity||F.ticketCount||1;switch(F.type){case"ticket_purchase":return`Purchased ${k} ${R} slot${k>1?"s":""}`;case"raffle_created":return`Created raffle "${R}"`;case"raffle_deleted":return`Deleted raffle "${R}"`;case"prize_won":return`Won prize in "${R}"`;case"prize_claimed":return`Claimed prize from "${R}"`;case"refund_claimed":return`Claimed refund from "${R}"`;case"revenue_withdrawn":return`Withdrew revenue from "${R}"`;case"admin_withdrawn":return`Admin withdrawal: ${F.amount} ${d()}`;default:return F.description||"Activity"}},A=()=>{switch(F.type){case"ticket_purchase":return F.amount?`${F.amount} ${d()}`:"";case"refund_claimed":return F.amount?`${F.amount} ${d()}`:"";default:return F.description||""}},O=()=>{switch(F.type){case"ticket_purchase":return l.jsx(L0,{className:"h-4 w-4 text-blue-500"});case"raffle_created":return l.jsx(Is,{className:"h-4 w-4 text-green-500"});case"raffle_deleted":return l.jsx(Sm,{className:"h-4 w-4 text-red-500"});case"prize_won":return l.jsx(Ef,{className:"h-4 w-4 text-yellow-500"});case"prize_claimed":return l.jsx(Ef,{className:"h-4 w-4 text-yellow-500"});case"refund_claimed":return l.jsx(Qf,{className:"h-4 w-4 text-orange-500"});case"revenue_withdrawn":return l.jsx(Yo,{className:"h-4 w-4 text-green-500"});case"admin_withdrawn":return l.jsx(Yo,{className:"h-4 w-4 text-purple-500"});default:return l.jsx(Sm,{className:"h-4 w-4 text-gray-500"})}};return{...F,title:b(),description:A(),icon:O(),timestamp:F.timestamp?new Date(F.timestamp<1e12?F.timestamp*1e3:F.timestamp).toLocaleString():"Unknown date"}}),[f]);function G(F){var O,R;if(F!=null&&F.reason)return F.reason;if((O=F==null?void 0:F.data)!=null&&O.message)return F.data.message;const b=(F==null?void 0:F.message)||((R=F==null?void 0:F.data)==null?void 0:R.message)||(F==null?void 0:F.toString())||"",A=b.match(/execution reverted:?\s*([^\n]*)/i);return A&&A[1]?A[1].trim():b}const q=async F=>{let b=`Are you sure you want to delete "${F.name}"?`;if(F.ticketsSold>0&&(b+=`

This raffle has ${F.ticketsSold} sold tickets. Deletion will automatically process refunds for all participants.`),!!window.confirm(b))try{const A=s(F.address,"pool");if(!A)throw new Error("Failed to get raffle contract");const O=await o(A.deleteRaffle);if(O.success){const R=F.ticketsSold>0?`Raffle deleted successfully! Refunds have been processed automatically for ${F.ticketsSold} sold tickets.`:"Raffle deleted successfully!";te.success(R),setLoading(!0),await Promise.all([P(),S()]),setLoading(!1)}else throw new Error(O.error)}catch(A){te.error(G(A))}},H=F=>{j(F),setShowRevenueModal(!0)},J=async F=>{try{const b=s(F.raffleAddress,"pool");if(!b)throw new Error("Failed to get pool contract");let A;if(F.prizeAmount>1?A=await o(b.claimPrizes,F.prizeAmount):A=await o(b.claimPrize),A.success)te.success("Prize claimed successfully!"),setLoading(!0),await Promise.all([P(),S()]),setLoading(!1);else throw new Error(A.error)}catch(b){te.error(G(b))}},V=async F=>{try{const b=s(F.raffleAddress,"pool");if(!b)throw new Error("Failed to get pool contract");const A=await b.refundedNonWinningTickets(e),O=A&&A.gt&&A.gt(0),R=await o(b.claimRefund);if(R.success)te.success("Refund claimed successfully!"),setLoading(!0),await Promise.all([P(),S()]),setLoading(!1);else throw new Error(R.error)}catch(b){te.error(G(b))}};return t?l.jsxs(yl,{variant:"profile",className:"pt-8 pb-4",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:`${c?"mb-4":"flex items-center justify-between mb-4"}`,children:l.jsxs("div",{children:[l.jsx("h1",{className:`text-3xl font-bold mb-4 font-display ${c?"text-2xl mb-2":""}`,children:"Profile"}),l.jsx("p",{className:`text-muted-foreground ${c?"text-sm":"text-base"}`,children:"Track activities, manage your raffles, revenue and collections"})]})}),l.jsxs("div",{className:`mt-4 bg-muted/50 backdrop-blur-sm border border-border/30 rounded-lg ${c?"p-3":"p-4"}`,children:[l.jsx("p",{className:"text-sm font-medium",children:"Connected Account:"}),l.jsx("p",{className:`font-mono ${c?"text-xs break-all":"text-sm"}`,children:e})]})]}),!c&&l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:`font-semibold mb-4 ${c?"text-lg":"text-xl"}`,children:"Activity Overview"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-3 shadow-xl transition-all duration-300",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Zf,{className:"h-6 w-6 text-blue-500"}),l.jsxs("div",{children:[l.jsx("p",{className:`font-bold ${c?"text-lg":"text-xl"}`,children:Number(m.totalSlotsPurchased||0).toLocaleString()}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Slots Purchased"})]})]})}),l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-3 shadow-xl transition-all duration-300",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Is,{className:"h-6 w-6 text-green-500"}),l.jsxs("div",{children:[l.jsx("p",{className:`font-bold ${c?"text-lg":"text-xl"}`,children:Number(m.totalRafflesCreated||0).toLocaleString()}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Raffles Created"})]})]})}),l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-3 shadow-xl transition-all duration-300",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Bu,{className:"h-6 w-6 text-yellow-500"}),l.jsxs("div",{children:[l.jsx("p",{className:`font-bold ${c?"text-lg":"text-xl"}`,children:Number(m.totalPrizesWon||0).toLocaleString()}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Wins"})]})]})}),l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-3 shadow-xl transition-all duration-300",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Yo,{className:"h-6 w-6 text-orange-500"}),l.jsxs("div",{children:[l.jsx("p",{className:`font-bold ${c?"text-lg":"text-xl"}`,children:(()=>{const F=m.totalClaimableRefunds,b=d();if(!F||!F.toString)return`0 ${b}`;try{const R=parseFloat(Ir(F)).toFixed(8).replace(/\.0+$/,"").replace(/(\.\d*[1-9])0+$/,"$1");return`${R===""||R==="."?"0":R} ${b}`}catch{return`0 ${b}`}})()}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Claimable Refunds"})]})]})})]})]}),x&&l.jsxs("div",{className:"text-center py-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Loading on-chain data"})]}),l.jsx(Fue,{activities:W,createdRaffles:p,purchasedTickets:g,creatorStats:v,onDeleteRaffle:q,onViewRevenue:H,onClaimPrize:J,onClaimRefund:V}),w&&T&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-card/90 backdrop-blur-md border border-border/50 rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revenue Details"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Raffle:"}),l.jsx("span",{className:"font-medium",children:T.name})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Total Revenue:"}),l.jsxs("span",{className:"font-medium",children:[Ir(T.totalRevenue)," ETH"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Tickets Sold:"}),l.jsx("span",{className:"font-medium",children:T.ticketsSold})]})]}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:()=>setShowRevenueModal(!1),className:"flex-1 bg-[#614E41] text-white px-4 py-2 rounded-md hover:bg-[#4a3a30] transition-colors",children:"Close"}),l.jsx("button",{onClick:()=>{setShowRevenueModal(!1)},className:"flex-1 bg-[#614E41] text-white px-4 py-2 rounded-md hover:bg-[#4a3a30] transition-colors",children:"Withdraw"})]})]})})]}):l.jsx("div",{className:"container mx-auto px-4 pt-8 pb-4",children:l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4 font-display",children:"Connect Your Wallet"}),l.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to view your profile and activity."})]})})};var Dv="Switch",[Uue,qpe]=So(Dv),[Vue,Wue]=Uue(Dv),vz=C.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:o,disabled:a,value:c="on",onCheckedChange:d,form:f,...p}=t,[g,m]=C.useState(null),v=yr(e,P=>m(P)),x=C.useRef(!1),w=g?f||!!g.closest("form"):!0,[T,j]=ia({prop:i,defaultProp:s??!1,onChange:d,caller:Dv});return l.jsxs(Vue,{scope:r,checked:T,disabled:a,children:[l.jsx(Dt.button,{type:"button",role:"switch","aria-checked":T,"aria-required":o,"data-state":_z(T),"data-disabled":a?"":void 0,disabled:a,value:c,...p,ref:v,onClick:Ke(t.onClick,P=>{j(S=>!S),w&&(x.current=P.isPropagationStopped(),x.current||P.stopPropagation())})}),w&&l.jsx(kz,{control:g,bubbles:!x.current,name:n,value:c,checked:T,required:o,disabled:a,form:f,style:{transform:"translateX(-100%)"}})]})});vz.displayName=Dv;var bz="SwitchThumb",wz=C.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=Wue(bz,r);return l.jsx(Dt.span,{"data-state":_z(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});wz.displayName=bz;var que="SwitchBubbleInput",kz=C.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},s)=>{const o=C.useRef(null),a=yr(o,s),c=O3(r),d=E3(e);return C.useEffect(()=>{const f=o.current;if(!f)return;const p=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==r&&m){const v=new Event("click",{bubbles:n});m.call(f,r),f.dispatchEvent(v)}},[c,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});kz.displayName=que;function _z(t){return t?"checked":"unchecked"}var Hue=vz,Gue=wz;function Cz({className:t,size:e="default",...r}){const n={default:{root:"h-5 w-9 rounded-full",thumb:"h-4 w-4 rounded-full data-[state=checked]:translate-x-4"},mobile:{root:"h-7 w-12 rounded-full",thumb:"h-5 w-5 rounded-full data-[state=checked]:translate-x-5"},large:{root:"h-8 w-14 rounded-full",thumb:"h-7 w-7 rounded-full data-[state=checked]:translate-x-6"}},i=n[e]||n.default;return l.jsx(Hue,{"data-slot":"switch",className:tt("peer inline-flex shrink-0 cursor-pointer items-center border-2 border-transparent transition-all duration-200 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-muted hover:data-[state=unchecked]:bg-muted/80 active:scale-95",i.root,t),...r,children:l.jsx(Gue,{"data-slot":"switch-thumb",className:tt("pointer-events-none block bg-background shadow-lg ring-0 transition-all duration-200 ease-in-out data-[state=unchecked]:translate-x-0 data-[state=checked]:shadow-xl",i.thumb)})})}const Pl=({tokenGatedEnabled:t,onTokenGatedChange:e,formData:r,handleChange:n,required:i=!1,useFormDataEnabled:s=!1})=>{const{isMobile:o}=pn(),a=s?r.tokenGatedEnabled:t,c=s?d=>n("tokenGatedEnabled",d):e;return l.jsxs(l.Fragment,{children:[o?l.jsx("div",{className:"p-4 bg-card/50 rounded-xl border border-border/50 mb-4 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between gap-4 cursor-pointer select-none transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 hover:bg-muted/10 active:bg-muted/20 rounded-lg p-1 -m-1",onClick:()=>c(!a),onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),c(!a))},tabIndex:0,role:"button","aria-label":`${a?"Disable":"Enable"} token-gated access`,children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"font-medium block cursor-pointer text-base mb-1",children:"Enable Token-Gated Access"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Restrict raffle participation to token holders"})]}),l.jsx(jr,{className:`h-6 w-6 transition-colors duration-200 ${a?"text-green-600":"text-muted-foreground/40"}`})]})}):l.jsx("div",{className:"mb-2",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Cz,{checked:a,onCheckedChange:c,size:"default"}),l.jsx("div",{className:"flex-1 cursor-pointer select-none transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 hover:text-foreground/80 active:text-foreground",onClick:()=>c(!a),onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),c(!a))},tabIndex:0,role:"button","aria-label":`${a?"Disable":"Enable"} token-gated access`,children:l.jsx("label",{className:"font-medium block cursor-pointer text-sm",children:"Enable Token-Gated Access"})})]})}),a&&l.jsx("div",{className:"p-4 border rounded-lg bg-muted/10 mb-4",children:l.jsxs("div",{className:`${o?"space-y-4":"grid grid-cols-1 md:grid-cols-2 gap-4"}`,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-base",children:"Token Address"}),l.jsx("input",{type:"text",value:r.holderTokenAddress||"",onChange:d=>n("holderTokenAddress",d.target.value),className:`w-full border border-border rounded-lg bg-background font-mono ${o?"px-4 py-3 text-base":"px-3 py-2.5 text-base"}`,placeholder:"0x...",required:i&&a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-base",children:"Token Standard"}),l.jsxs(rd,{value:r.holderTokenStandard||"0",onValueChange:d=>n("holderTokenStandard",d),required:i&&a,children:[l.jsx(id,{className:`w-full border border-border rounded-lg bg-background ${o?"px-4 py-3 text-base h-12":"px-3 py-2.5 text-base"}`,children:l.jsx(nd,{placeholder:"Select Token Standard"})}),l.jsxs(sd,{children:[l.jsx(ji,{value:"0",children:"ERC721"}),l.jsx(ji,{value:"1",children:"ERC1155"}),l.jsx(ji,{value:"2",children:"ERC20"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-base",children:"Minimum Holder Balance"}),l.jsx("input",{type:"number",value:r.minHolderTokenBalance||"",onChange:d=>n("minHolderTokenBalance",d.target.value),className:`w-full border border-border rounded-lg bg-background ${o?"px-4 py-3 text-base":"px-3 py-2.5 text-base"}`,placeholder:"Minimum balance required to enter",required:i&&a})]}),r.holderTokenStandard==="1"&&l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-base",children:"Token ID"}),l.jsx("input",{type:"number",value:r.holderTokenId||"",onChange:d=>n("holderTokenId",d.target.value),className:`w-full border border-border rounded-lg bg-background ${o?"px-4 py-3 text-base":"px-3 py-2.5 text-base"}`,placeholder:"Token ID (for ERC1155)",required:i&&a})]})]})})]})},Eu={MAX_TASKS:3,MAX_DESCRIPTION_LENGTH:1e3,TASK_SEPARATOR:"|"},xu=Eu.MAX_TASKS,Rl=({socialEngagementEnabled:t,onSocialEngagementChange:e,setSocialEngagementEnabled:r,formData:n,handleChange:i,required:s=!1,useFormDataEnabled:o=!1})=>{const{isMobile:a}=pn(),{getCurrencySymbol:c}=Sn(),{contracts:d}=Sr(),[f,p]=C.useState(null),[g,m]=C.useState(!0);C.useEffect(()=>{(async()=>{if(!(d!=null&&d.protocolManager)){m(!1);return}try{const q=await d.protocolManager.socialEngagementFee();p(q)}catch(q){console.error("Error fetching social engagement fee:",q),p(null)}finally{m(!1)}})()},[d]);const v=o?n.socialEngagementEnabled:t,x=o?G=>i("socialEngagementEnabled",G):e||r||(()=>{console.warn("No toggle change handler provided to SocialMediaTaskSection")}),w=n.socialTasks||[],T=()=>{if(w.length>=xu){console.warn(`Maximum of ${xu} social media tasks allowed`);return}const G=[...w,{id:Date.now(),platform:"twitter",action:"follow",target:"",description:""}];i("socialTasks",G)},j=G=>{const q=w.filter(H=>H.id!==G);i("socialTasks",q)},P=(G,q,H)=>{const J=w.map(V=>V.id===G?{...V,[q]:H}:V);i("socialTasks",J)},S=G=>{switch(G){case"twitter":return l.jsx(jm,{className:"h-4 w-4"});case"discord":return l.jsx(Df,{className:"h-4 w-4"});case"telegram":return l.jsx(Am,{className:"h-4 w-4"});default:return l.jsx(Df,{className:"h-4 w-4"})}},B=G=>{switch(G){case"twitter":return[{value:"follow",label:"Follow Account"},{value:"like",label:"Like Tweet"},{value:"retweet",label:"Retweet"},{value:"comment",label:"Comment on Tweet"},{value:"quote",label:"Quote Tweet"}];case"discord":return[{value:"join",label:"Join Server"},{value:"react",label:"React to Message"}];case"telegram":return[{value:"join",label:"Join Channel/Group"},{value:"follow",label:"Follow Channel"}];default:return[]}},$=()=>w.length===0?"":w.map(q=>{var J;const H=((J=B(q.platform).find(V=>V.value===q.action))==null?void 0:J.label)||q.action;return`${q.platform.toUpperCase()}: ${H} - ${q.target}`}).join(Eu.TASK_SEPARATOR),W=G=>{if(!G)return!0;if(G.length>Eu.MAX_DESCRIPTION_LENGTH)return console.warn(`Task description too long (max ${Eu.MAX_DESCRIPTION_LENGTH} characters)`),!1;const q=G.split(Eu.TASK_SEPARATOR).length;return q>Eu.MAX_TASKS?(console.warn(`Too many tasks (${q}/${Eu.MAX_TASKS})`),!1):!0};return ve.useEffect(()=>{if(v){const G=$();W(G)?i("socialTaskDescription",G):console.warn("Generated task description failed validation")}else i("socialTaskDescription","")},[w,v]),l.jsxs(l.Fragment,{children:[a?l.jsx("div",{className:"p-4 bg-card/50 rounded-xl border border-border/50 mb-4 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between gap-4 cursor-pointer select-none transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 hover:bg-muted/10 active:bg-muted/20 rounded-lg p-1 -m-1",onClick:()=>x(!v),onKeyDown:G=>{(G.key==="Enter"||G.key===" ")&&(G.preventDefault(),x(!v))},tabIndex:0,role:"button","aria-label":`${v?"Disable":"Enable"} social media tasks`,children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("label",{className:"font-medium block cursor-pointer text-base mb-1",children:["Enable Social Media Tasks",!g&&f&&l.jsxs("span",{className:"ml-2 text-base font-medium",children:["(Costs ",Ir(f)," ",c(),")"]})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Require participants to complete social media engagement tasks"})]}),l.jsx(jr,{className:`h-6 w-6 transition-colors duration-200 ${v?"text-green-600":"text-muted-foreground/40"}`})]})}):l.jsx("div",{className:"mb-2",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Cz,{checked:v,onCheckedChange:x,size:"default"}),l.jsx("div",{className:"flex-1 cursor-pointer select-none transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 hover:text-foreground/80 active:text-foreground",onClick:()=>x(!v),onKeyDown:G=>{(G.key==="Enter"||G.key===" ")&&(G.preventDefault(),x(!v))},tabIndex:0,role:"button","aria-label":`${v?"Disable":"Enable"} social media tasks`,children:l.jsxs("label",{className:"font-medium block cursor-pointer text-sm",children:["Enable Social Media Tasks",!g&&f&&l.jsxs("span",{className:"ml-2 text-sm font-medium",children:["(Costs ",Ir(f)," ",c(),")"]})]})})]})}),v&&l.jsx("div",{className:"p-4 border rounded-lg bg-muted/10 mb-4",children:l.jsxs("div",{className:"space-y-4",children:[w.map((G,q)=>l.jsxs("div",{className:"p-3 border rounded-lg bg-background/50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[S(G.platform),l.jsxs("span",{className:"font-medium text-sm",children:["Task ",q+1]})]}),l.jsx("button",{type:"button",onClick:()=>j(G.id),className:"text-red-500 hover:text-red-700 transition-colors",children:l.jsx(dS,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:`${a?"space-y-3":"grid grid-cols-1 md:grid-cols-3 gap-3"}`,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-sm",children:"Platform"}),l.jsxs(rd,{value:G.platform,onValueChange:H=>P(G.id,"platform",H),children:[l.jsx(id,{className:`w-full border border-border rounded-lg bg-background ${a?"px-3 py-2 text-base h-10":"px-3 py-2 text-sm"}`,children:l.jsx(nd,{})}),l.jsxs(sd,{children:[l.jsx(ji,{value:"twitter",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(jm,{className:"h-4 w-4"}),"Twitter"]})}),l.jsx(ji,{value:"discord",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Df,{className:"h-4 w-4"}),"Discord"]})}),l.jsx(ji,{value:"telegram",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Am,{className:"h-4 w-4"}),"Telegram"]})})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-sm",children:"Action"}),l.jsxs(rd,{value:G.action,onValueChange:H=>P(G.id,"action",H),children:[l.jsx(id,{className:`w-full border border-border rounded-lg bg-background ${a?"px-3 py-2 text-base h-10":"px-3 py-2 text-sm"}`,children:l.jsx(nd,{})}),l.jsx(sd,{children:B(G.platform).map(H=>l.jsx(ji,{value:H.value,children:H.label},H.value))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-sm",children:"Target"}),l.jsx("input",{type:"text",value:G.target,onChange:H=>P(G.id,"target",H.target.value),className:`w-full border border-border rounded-lg bg-background ${a?"px-3 py-2 text-base":"px-3 py-2 text-sm"}`,placeholder:G.platform==="twitter"?"@username or tweet URL":G.platform==="discord"?"Server invite or message URL":"Channel username or URL",required:s&&v})]})]}),l.jsxs("div",{className:"mt-3",children:[l.jsx("label",{className:"block font-medium mb-1 text-sm",children:"Description (Optional)"}),l.jsx("input",{type:"text",value:G.description,onChange:H=>P(G.id,"description",H.target.value),className:`w-full border border-border rounded-lg bg-background ${a?"px-3 py-2 text-base":"px-3 py-2 text-sm"}`,placeholder:"Additional instructions for participants"})]})]},G.id)),l.jsxs("button",{type:"button",onClick:T,disabled:w.length>=xu,className:`w-full p-3 border-2 border-dashed rounded-lg flex items-center justify-center gap-2 transition-colors ${w.length>=xu?"border-border/50 bg-muted/10 text-muted-foreground/50 cursor-not-allowed":"border-border hover:border-primary/50 hover:bg-muted/20 text-muted-foreground hover:text-foreground cursor-pointer"}`,children:[l.jsx(Is,{className:"h-4 w-4"}),w.length>=xu?`Maximum ${xu} tasks reached`:`Add Social Media Task (${w.length}/${xu})`]}),w.length>0&&l.jsxs("div",{className:"mt-4 p-3 bg-muted/20 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-sm mb-2",children:"Task Summary:"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:$()||"No tasks configured"})]})]})})]})},Il=({formData:t,handleChange:e,isMobile:r=!1})=>{const[n,i]=C.useState(!1),s=c=>{const{name:d,value:f}=c.target;e(d,f)},o=`w-full px-4 py-3 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-background text-foreground ${r?"text-base":""}`,a="block text-base font-medium text-foreground mb-2";return l.jsxs("div",{className:"bg-card rounded-lg border border-border overflow-hidden",children:[l.jsxs("button",{type:"button",onClick:()=>i(!n),className:"w-full flex items-center justify-between px-4 py-3 hover:bg-muted/50 transition-colors",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("h3",{className:"font-semibold text-base text-foreground",children:"Pool Information (Optional)"})}),n?l.jsx(Xu,{className:"h-5 w-5 text-muted-foreground"}):l.jsx(ko,{className:"h-5 w-5 text-muted-foreground"})]}),l.jsx("div",{className:`transition-all duration-300 ease-in-out ${n?"max-h-[1000px] opacity-100":"max-h-0 opacity-0"} overflow-hidden`,children:l.jsxs("div",{className:"px-6 pb-6 space-y-6 border-t border-border pt-6",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"description",className:a,children:["Description",l.jsx("span",{className:"text-muted-foreground text-xs ml-2",children:"(Max 1000 characters)"})]}),l.jsx("textarea",{id:"description",name:"description",value:t.description||"",onChange:s,placeholder:"Describe your raffle, prizes, or any special details...",maxLength:1e3,rows:4,className:`${o} resize-none`}),l.jsxs("div",{className:"text-xs text-muted-foreground mt-1 text-right",children:[(t.description||"").length," / 1000"]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-sm font-medium text-foreground",children:"Social Media Links"}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"twitterLink",className:a,children:["Twitter / X",l.jsx("span",{className:"text-muted-foreground text-xs ml-2",children:"(Max 200 characters)"})]}),l.jsx("input",{type:"url",id:"twitterLink",name:"twitterLink",value:t.twitterLink||"",onChange:s,placeholder:"https://twitter.com/yourhandle or https://x.com/yourhandle",maxLength:200,className:o})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"discordLink",className:a,children:["Discord",l.jsx("span",{className:"text-muted-foreground text-xs ml-2",children:"(Max 200 characters)"})]}),l.jsx("input",{type:"url",id:"discordLink",name:"discordLink",value:t.discordLink||"",onChange:s,placeholder:"https://discord.gg/yourinvite",maxLength:200,className:o})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"telegramLink",className:a,children:["Telegram",l.jsx("span",{className:"text-muted-foreground text-xs ml-2",children:"(Max 200 characters)"})]}),l.jsx("input",{type:"url",id:"telegramLink",name:"telegramLink",value:t.telegramLink||"",onChange:s,placeholder:"https://t.me/yourchannel",maxLength:200,className:o})]})]}),l.jsxs("div",{className:"text-xs text-muted-foreground bg-muted p-3 rounded-lg",children:[l.jsx(Vt,{className:"h-3 w-3 inline mr-1"}),"These fields are optional but recommended. They help participants learn more about your project and connect with your community."]})]})})]})},Kue=({isOpen:t,onToggle:e,raffleType:r,setRaffleType:n,nftStandard:i,setNftStandard:s,erc721Source:o,setErc721Source:a,erc1155Source:c,setErc1155Source:d,className:f=""})=>{const{isMobile:p}=pn(),{getCurrencySymbol:g}=Sn(),v=(()=>{const[J,V]=C.useState({top:56,height:56});return C.useEffect(()=>{const F=document.querySelector("header"),b=F?F.getBoundingClientRect().height:56,A=()=>window.matchMedia&&window.matchMedia("(max-width: 640px)").matches,O=()=>{const R=window.scrollY||window.pageYOffset||0;A()?V({top:b,height:window.innerHeight-b}):R>=b?V({top:0,height:window.innerHeight}):V({top:b-R,height:window.innerHeight-(b-R)})};return O(),window.addEventListener("scroll",O,{passive:!0}),window.addEventListener("resize",O),()=>{window.removeEventListener("scroll",O),window.removeEventListener("resize",O)}},[]),J})(),[x,w]=C.useState({raffleType:!0,nftConfiguration:!0,collectionSource:!0}),T=C.useMemo(()=>{const J=g();return[{value:"Whitelist/Allowlist",label:"Whitelist/Allowlist",description:"Whitelist Campaigns"},{value:"NFTDrop",label:"NFT Drop",description:"Raffles with Mintable NFT Prizes"},{value:"Lucky Sale/NFT Pool",label:"Lucky Sale/NFT Giveaway",description:"Discounted NFT sales/NFT Giveaways"},{value:"Native Token Pool",label:`${J} Giveaway`,description:"Native Coin Giveaways"},{value:"ERC20 Token Pool",label:"ERC20 Token Giveaway",description:"Token Giveaways"}]},[g]),j=[{value:"ERC721",label:"ERC721"},{value:"ERC1155",label:"ERC1155"}],P=[{value:"New ERC721 Collection",label:"New ERC721 Collection",description:"Deploy new collection"},{value:"Existing ERC721 Collection",label:"Existing ERC721 Collection",description:"Use existing collection"}],S=[{value:"New ERC1155 Collection",label:"New ERC1155 Collection",description:"Deploy new collection"},{value:"Existing ERC1155 Collection",label:"Existing ERC1155 Collection",description:"Use existing collection"}],B=C.useCallback(J=>{w(V=>({...V,[J]:!V[J]}))},[]),$=C.useCallback(()=>{n("Whitelist/Allowlist"),s("ERC721"),a("New ERC721 Collection"),d("New ERC1155 Collection")},[n,s,a,d]),W=C.useMemo(()=>r!=="Whitelist/Allowlist"||i!=="ERC721"||o!=="New ERC721 Collection"||c!=="New ERC1155 Collection",[r,i,o,c]),G=r==="NFTDrop"||r==="Lucky Sale/NFT Pool",q=r==="NFTDrop",H=C.useCallback((J,V,F,b,A,O=!1)=>{const R=x[V];return l.jsxs("div",{className:"border-b border-border/30 last:border-b-0",children:[l.jsxs("button",{onClick:()=>B(V),className:"w-full flex items-center justify-between p-3 sm:p-4 text-left hover:bg-muted/50 transition-colors",disabled:O,children:[l.jsx("span",{className:`text-sm sm:text-base font-medium ${O?"text-muted-foreground":""}`,children:J}),R?l.jsx(Xu,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"}):l.jsx(ko,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"})]}),R&&!O&&l.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4 space-y-1 sm:space-y-2",children:F.map(k=>{const I=b===k.value;return l.jsxs("label",{className:"flex items-start space-x-2 sm:space-x-3 cursor-pointer hover:bg-muted/30 p-1.5 sm:p-2 rounded-md transition-colors",children:[l.jsx("input",{type:"radio",name:V,checked:I,onChange:()=>A(k.value),className:`mt-1 h-3 w-3 sm:h-4 sm:w-4 text-primary bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-full focus:ring-0 focus:outline-none checked:bg-primary checked:border-primary appearance-none relative ${I?'after:content-[""] after:absolute after:top-1/2 after:left-1/2 after:transform after:-translate-x-1/2 after:-translate-y-1/2 after:w-1 after:h-1 sm:after:w-1.5 sm:after:h-1.5 after:bg-white after:rounded-full':""}`,style:{minHeight:"12px",minWidth:"12px",maxHeight:"12px",maxWidth:"12px"}}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:"text-xs sm:text-sm font-medium leading-tight",children:k.label}),k.description&&l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:k.description})]})]},k.value)})}),O&&l.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4",children:l.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Select appropriate raffle type to enable this filter"})})]},V)},[x,B]);return l.jsxs(l.Fragment,{children:[t&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-30",onClick:e}),l.jsxs("div",{style:{top:v.top,height:v.height},className:`
        fixed left-0
        w-64 sm:w-72 md:w-80
        bg-background border-r border-border
        transform transition-transform duration-300 ease-in-out
        z-40
        flex flex-col
        ${t?"translate-x-0":"-translate-x-full"}
        ${f}
      `,children:[l.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between p-3 sm:p-4 border-b border-border bg-muted/80 backdrop-blur supports-[backdrop-filter]:bg-muted/60",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(uS,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),l.jsx("h2",{className:"font-semibold text-base sm:text-lg",children:"Create Raffle"})]}),l.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[W&&l.jsx(qe,{variant:"ghost",size:"sm",onClick:$,className:"text-xs px-2 sm:px-3 h-7 sm:h-8 hover:bg-destructive/10 hover:text-destructive",children:"Reset"}),l.jsx(qe,{variant:"ghost",size:"sm",onClick:e,className:"hover:bg-muted h-7 w-7 sm:h-8 sm:w-8 p-0",title:"Close filters",children:l.jsx(Pm,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})]})]}),l.jsx("div",{className:"p-3 sm:p-4 bg-muted/30",children:l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Configure Raffle type and Prizes"})}),l.jsxs("div",{className:"flex-1 overflow-y-auto",children:[H("Raffle Type","raffleType",T,r,n),G&&H("NFT Standard","nftConfiguration",j,i,s),q&&i==="ERC721"&&H("ERC721 Source","collectionSource",P,o,a),q&&i==="ERC1155"&&H("ERC1155 Source","collectionSource",S,c,d)]})]})]})};var[Ov,Hpe]=So("Tooltip",[kh]),Lv=kh(),Sz="TooltipProvider",Yue=700,q_="tooltip.open",[Jue,U2]=Ov(Sz),Ez=t=>{const{__scopeTooltip:e,delayDuration:r=Yue,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,o=C.useRef(!0),a=C.useRef(!1),c=C.useRef(0);return C.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),l.jsx(Jue,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:C.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:C.useCallback(d=>{a.current=d},[]),disableHoverableContent:i,children:s})};Ez.displayName=Sz;var Km="Tooltip",[Xue,kg]=Ov(Km),Tz=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,c=U2(Km,t.__scopeTooltip),d=Lv(e),[f,p]=C.useState(null),g=qs(),m=C.useRef(0),v=o??c.disableHoverableContent,x=a??c.delayDuration,w=C.useRef(!1),[T,j]=ia({prop:n,defaultProp:i??!1,onChange:W=>{W?(c.onOpen(),document.dispatchEvent(new CustomEvent(q_))):c.onClose(),s==null||s(W)},caller:Km}),P=C.useMemo(()=>T?w.current?"delayed-open":"instant-open":"closed",[T]),S=C.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w.current=!1,j(!0)},[j]),B=C.useCallback(()=>{window.clearTimeout(m.current),m.current=0,j(!1)},[j]),$=C.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{w.current=!0,j(!0),m.current=0},x)},[x,j]);return C.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),l.jsx(_S,{...d,children:l.jsx(Xue,{scope:e,contentId:g,open:T,stateAttribute:P,trigger:f,onTriggerChange:p,onTriggerEnter:C.useCallback(()=>{c.isOpenDelayedRef.current?$():S()},[c.isOpenDelayedRef,$,S]),onTriggerLeave:C.useCallback(()=>{v?B():(window.clearTimeout(m.current),m.current=0)},[B,v]),onOpen:S,onClose:B,disableHoverableContent:v,children:r})})};Tz.displayName=Km;var H_="TooltipTrigger",Nz=C.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=kg(H_,r),s=U2(H_,r),o=Lv(r),a=C.useRef(null),c=yr(e,a,i.onTriggerChange),d=C.useRef(!1),f=C.useRef(!1),p=C.useCallback(()=>d.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),l.jsx(CS,{asChild:!0,...o,children:l.jsx(Dt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:Ke(t.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ke(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Ke(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Ke(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:Ke(t.onBlur,i.onClose),onClick:Ke(t.onClick,i.onClose)})})});Nz.displayName=H_;var V2="TooltipPortal",[Que,Zue]=Ov(V2,{forceMount:void 0}),Az=t=>{const{__scopeTooltip:e,forceMount:r,children:n,container:i}=t,s=kg(V2,e);return l.jsx(Que,{scope:e,forceMount:r,children:l.jsx(Eo,{present:r||s.open,children:l.jsx(pg,{asChild:!0,container:i,children:n})})})};Az.displayName=V2;var dh="TooltipContent",jz=C.forwardRef((t,e)=>{const r=Zue(dh,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,o=kg(dh,t.__scopeTooltip);return l.jsx(Eo,{present:n||o.open,children:o.disableHoverableContent?l.jsx(Pz,{side:i,...s,ref:e}):l.jsx(ede,{side:i,...s,ref:e})})}),ede=C.forwardRef((t,e)=>{const r=kg(dh,t.__scopeTooltip),n=U2(dh,t.__scopeTooltip),i=C.useRef(null),s=yr(e,i),[o,a]=C.useState(null),{trigger:c,onClose:d}=r,f=i.current,{onPointerInTransitChange:p}=n,g=C.useCallback(()=>{a(null),p(!1)},[p]),m=C.useCallback((v,x)=>{const w=v.currentTarget,T={x:v.clientX,y:v.clientY},j=ide(T,w.getBoundingClientRect()),P=sde(T,j),S=ode(x.getBoundingClientRect()),B=lde([...P,...S]);a(B),p(!0)},[p]);return C.useEffect(()=>()=>g(),[g]),C.useEffect(()=>{if(c&&f){const v=w=>m(w,f),x=w=>m(w,c);return c.addEventListener("pointerleave",v),f.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",v),f.removeEventListener("pointerleave",x)}}},[c,f,m,g]),C.useEffect(()=>{if(o){const v=x=>{const w=x.target,T={x:x.clientX,y:x.clientY},j=(c==null?void 0:c.contains(w))||(f==null?void 0:f.contains(w)),P=!ade(T,o);j?g():P&&(g(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,f,o,d,g]),l.jsx(Pz,{...t,ref:s})}),[tde,rde]=Ov(Km,{isInside:!1}),nde=bY("TooltipContent"),Pz=C.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,c=kg(dh,r),d=Lv(r),{onClose:f}=c;return C.useEffect(()=>(document.addEventListener(q_,f),()=>document.removeEventListener(q_,f)),[f]),C.useEffect(()=>{if(c.trigger){const p=g=>{const m=g.target;m!=null&&m.contains(c.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,f]),l.jsx(fg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:l.jsxs(SS,{"data-state":c.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(nde,{children:n}),l.jsx(tde,{scope:r,isInside:!0,children:l.jsx(fX,{id:c.contentId,role:"tooltip",children:i||n})})]})})});jz.displayName=dh;var Rz="TooltipArrow",Iz=C.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=Lv(r);return rde(Rz,r).isInside?null:l.jsx(ES,{...i,...n,ref:e})});Iz.displayName=Rz;function ide(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function sde(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function ode(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function ade(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],c=e[o],d=a.x,f=a.y,p=c.x,g=c.y;f>n!=g>n&&r<(p-d)*(n-f)/(g-f)+d&&(i=!i)}return i}function lde(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),cde(e)}function cde(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var ude=Ez,dde=Tz,fde=Nz,hde=Az,pde=jz,mde=Iz;function gde({delayDuration:t=0,...e}){return l.jsx(ude,{"data-slot":"tooltip-provider",delayDuration:t,...e})}function nr({...t}){return l.jsx(gde,{children:l.jsx(dde,{"data-slot":"tooltip",...t})})}const ir=C.forwardRef(({...t},e)=>l.jsx(fde,{ref:e,"data-slot":"tooltip-trigger",...t})),sr=C.forwardRef(({className:t,sideOffset:e=0,children:r,...n},i)=>l.jsx(hde,{children:l.jsxs(pde,{ref:i,"data-slot":"tooltip-content",sideOffset:e,className:tt("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance","max-w-[240px] sm:max-w-xs","text-xs sm:text-xs",t),...n,children:[r,l.jsx(mde,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})),yde=()=>{const{connected:t,address:e}=xr(),{contracts:r,executeTransaction:n}=Sr(),i=Ml(r,!1),{extractRevertReason:s}=k4(),[o,a]=C.useState(!1),[c,d]=C.useState(!1),[f,p]=C.useState(!1),[g,m]=C.useState({name:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""}),v=(w,T)=>{m(j=>({...j,[w]:T}))},x=async w=>{var T;if(w.preventDefault(),!t||!r.poolDeployer){te.error("Please connect your wallet and ensure contracts are configured");return}a(!0);try{const j=Math.floor(new Date(g.startTime).getTime()/1e3),P=parseInt(g.duration)*60,S=c&&g.holderTokenAddress?g.holderTokenAddress:He,B=c?parseInt(g.holderTokenStandard):0,$=c&&g.minHolderTokenBalance?Cn(g.minHolderTokenBalance,18):ue.from(0),W=c&&g.holderTokenId?parseInt(g.holderTokenId):0,G={name:g.name,startTime:j,duration:P,slotLimit:parseInt(g.slotLimit),winnersCount:parseInt(g.winnersCount),maxSlotsPerParticipant:1,isPrized:!1,customSlotFee:0,erc721Drop:!1,erc1155Drop:!1,prizeCollection:He,standard:0,prizeTokenId:0,amountPerWinner:0,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:He,maxSupply:0,erc20PrizeToken:He,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:S,holderTokenStandard:B,minHolderTokenBalance:$,holderTokenBalance:$,holderTokenId:W,socialEngagementRequired:f,socialTaskDescription:f?g.socialTaskDescription:"",description:g.description||"",twitterLink:g.twitterLink||"",discordLink:g.discordLink||"",telegramLink:g.telegramLink||""};let q=ue.from(0);f&&(q=await r.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Ir(q),"ETH"));const H=await n(r.poolDeployer.createPool,G,{value:q});H.success?(te.success("Your raffle was created successfully!"),m({name:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxSlotsPerParticipant:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialTaskDescription:"",socialTasks:[]}),d(!1),p(!1)):te.error(H.error||"Failed to create raffle")}catch(j){console.error("Error creating raffle:",j),(T=j.message)!=null&&T.includes("Transaction failed")||te.error(s(j))}finally{a(!1)}};return l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(cS,{className:"h-5 w-5"}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-semibold",children:"Whitelist Raffle"})]}),l.jsxs("form",{onSubmit:x,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Pool Name"}),l.jsx("input",{type:"text",value:g.name||"",onChange:w=>v("name",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:g.startTime||"",onChange:w=>v("startTime",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",i.minDuration&&i.maxDuration&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(i.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(i.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:g.duration||"",onChange:w=>v("duration",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",i.minSlot&&i.maxSlot&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",i.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",i.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:g.slotLimit||"",onChange:w=>v("slotLimit",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Winners must not exceed 25% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:g.winnersCount||"",onChange:w=>v("winnersCount",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Participants can only purchase one entry in Whitelist pools"})]})]}),l.jsx("input",{type:"number",value:1,disabled:!0,className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background opacity-60 cursor-not-allowed",required:!0})]})]}),l.jsx(Pl,{tokenGatedEnabled:c,onTokenGatedChange:d,formData:g,handleChange:v,required:!0}),l.jsx(Rl,{socialEngagementEnabled:f,onSocialEngagementChange:p,formData:g,handleChange:v,required:!1}),l.jsx(Il,{formData:g,handleChange:v}),l.jsx("div",{className:"flex gap-4",children:l.jsx(qe,{type:"submit",disabled:o||!t,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:o?"Creating...":"Create Raffle"})})]})]})},xde=()=>{const{connected:t,address:e,provider:r}=xr(),{contracts:n,executeTransaction:i}=Sr(),{getCurrencyLabel:s}=Sn(),o=Ml(n,!0),[a,c]=C.useState(!1),[d,f]=C.useState(!1),[p,g]=C.useState({name:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",customSlotFee:"",collectionName:"",collectionSymbol:"",baseURI:"",maxSupply:"",royaltyPercentage:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""});C.useEffect(()=>{e&&!p.royaltyRecipient&&g(x=>({...x,royaltyRecipient:e}))},[e]);const m=(x,w)=>{g(T=>({...T,[x]:w}))},v=async x=>{if(x.preventDefault(),!t||!n.poolDeployer||!r){te.error("Please connect your wallet and ensure contracts are configured");return}c(!0);try{console.log("NewERC721DropForm - Form data for debugging:",{customSlotFee:p.customSlotFee,royaltyPercentage:p.royaltyPercentage,maxSupply:p.maxSupply,winnersCount:p.winnersCount,minHolderTokenBalance:p.minHolderTokenBalance,holderTokenId:p.holderTokenId});const w=r.getSigner(),T=Math.floor(new Date(p.startTime).getTime()/1e3);let j=0;try{if(j=parseInt(p.duration)*60,isNaN(j)||j<=0)throw new Error("Invalid duration");console.log("duration parsed successfully:",j)}catch(k){console.error("Error parsing duration:",k,"Value:",p.duration),te.error("Invalid duration. Please enter a valid positive number."),c(!1);return}let P=0;try{p.customSlotFee&&p.customSlotFee.trim()!==""&&(P=Dc(p.customSlotFee),console.log("customSlotFee parsed successfully:",P.toString()))}catch(k){console.error("Error parsing customSlotFee:",k,"Value:",p.customSlotFee),te.error("Invalid slot fee value. Please enter a valid number."),c(!1);return}let S=parseInt(p.revealType),B=p.unrevealedBaseURI,$=0;S===2&&($=Math.floor(new Date(p.revealTime).getTime()/1e3)),S===0&&(B="",$=0);let W=0;try{p.royaltyPercentage&&p.royaltyPercentage.trim()!==""&&(W=parseInt(p.royaltyPercentage)*100,console.log("royaltyPercentage parsed successfully:",W))}catch(k){console.error("Error parsing royaltyPercentage:",k,"Value:",p.royaltyPercentage),te.error("Invalid royalty percentage. Please enter a valid number."),c(!1);return}let G=0;try{G=parseInt(p.maxSupply||p.winnersCount),console.log("maxSupply parsed successfully:",G)}catch(k){console.error("Error parsing maxSupply:",k,"Values:",{maxSupply:p.maxSupply,winnersCount:p.winnersCount}),te.error("Invalid max supply value."),c(!1);return}let q=0,H=0,J=0;try{if(q=parseInt(p.slotLimit),isNaN(q)||q<=0)throw new Error("Invalid slot limit");console.log("slotLimit parsed successfully:",q)}catch(k){console.error("Error parsing slotLimit:",k,"Value:",p.slotLimit),te.error("Invalid slot limit. Please enter a valid positive number."),c(!1);return}try{if(H=parseInt(p.winnersCount),isNaN(H)||H<=0)throw new Error("Invalid winners count");console.log("winnersCount parsed successfully:",H)}catch(k){console.error("Error parsing winnersCount:",k,"Value:",p.winnersCount),te.error("Invalid winners count. Please enter a valid positive number."),c(!1);return}try{if(J=parseInt(p.maxSlotsPerParticipant),isNaN(J)||J<=0)throw new Error("Invalid max slots per participant");console.log("maxSlotsPerParticipant parsed successfully:",J)}catch(k){console.error("Error parsing maxSlotsPerParticipant:",k,"Value:",p.maxSlotsPerParticipant),te.error("Invalid max slots per participant. Please enter a valid positive number."),c(!1);return}const V={name:p.name,startTime:T,duration:j,slotLimit:q,winnersCount:H,maxSlotsPerParticipant:J,isPrized:!0,customSlotFee:P,erc721Drop:!1,erc1155Drop:!1,prizeCollection:He,standard:0,prizeTokenId:0,amountPerWinner:1,collectionName:p.collectionName,collectionSymbol:p.collectionSymbol,collectionBaseURI:p.baseURI,creator:e,royaltyPercentage:W,royaltyRecipient:p.royaltyRecipient,maxSupply:G,erc20PrizeToken:He,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:S,unrevealedBaseURI:B,revealTime:$};let F=ue.from(0),b=ue.from(0),A=0;try{p.tokenGatedEnabled&&p.minHolderTokenBalance&&p.minHolderTokenBalance.trim()!==""&&(F=Cn(p.minHolderTokenBalance,18),b=Cn(p.minHolderTokenBalance,18),console.log("minHolderTokenBalance parsed successfully:",F.toString()))}catch(k){console.error("Error parsing minHolderTokenBalance:",k,"Value:",p.minHolderTokenBalance),te.error("Invalid minimum token balance. Please enter a valid number."),c(!1);return}try{p.tokenGatedEnabled&&p.holderTokenId&&p.holderTokenId.trim()!==""&&(A=parseInt(p.holderTokenId),console.log("holderTokenId parsed successfully:",A))}catch(k){console.error("Error parsing holderTokenId:",k,"Value:",p.holderTokenId),te.error("Invalid token ID. Please enter a valid number."),c(!1);return}V.holderTokenAddress=p.tokenGatedEnabled?p.holderTokenAddress:He,V.holderTokenStandard=p.tokenGatedEnabled?parseInt(p.holderTokenStandard):0,V.minHolderTokenBalance=F,V.holderTokenBalance=b,V.holderTokenId=A,V.socialEngagementRequired=d,V.socialTaskDescription=d?p.socialTaskDescription:"",V.description=p.description||"",V.twitterLink=p.twitterLink||"",V.discordLink=p.discordLink||"",V.telegramLink=p.telegramLink||"";let O=ue.from(0);d&&(O=await n.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Ir(O),"ETH")),await(await n.poolDeployer.connect(w).createPool(V,{value:O})).wait(),te.success("Your raffle was created successfully!"),g({name:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxSlotsPerParticipant:"",customSlotFee:"",collectionName:"",collectionSymbol:"",baseURI:"",maxSupply:"",royaltyPercentage:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(w){console.error("Error creating raffle:",w),te.error(Th(w))}finally{c(!1)}};return l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(iv,{className:"h-5 w-5"}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-semibold",children:"New ERC721 Collection Pool"})]}),l.jsxs("form",{onSubmit:v,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Pool Name"}),l.jsx("input",{type:"text",value:p.name||"",onChange:x=>m("name",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:p.startTime||"",onChange:x=>m("startTime",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",o.minDuration&&o.maxDuration&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(o.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(o.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:p.duration||"",onChange:x=>m("duration",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",o.minSlot&&o.maxSlot&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",o.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",o.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:p.slotLimit||"",onChange:x=>m("slotLimit",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Winners must not exceed 25% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:p.winnersCount||"",onChange:x=>m("winnersCount",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Max Slots Per Participant must not exceed 1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:p.maxSlotsPerParticipant||"",onChange:x=>m("maxSlotsPerParticipant",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:s("ticket")}),l.jsx("input",{type:"number",step:"0.001",value:p.customSlotFee||"",onChange:x=>m("customSlotFee",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",placeholder:"Leave empty to use protocol default"})]})]}),l.jsxs("div",{className:"bg-muted/20 border border-border rounded-xl p-4 mt-4 shadow-md",children:[l.jsx("h4",{className:"font-semibold text-base mb-4",children:"NFT Collection Info"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Collection Name"}),l.jsx("input",{type:"text",value:p.collectionName||"",onChange:x=>m("collectionName",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Collection Symbol"}),l.jsx("input",{type:"text",value:p.collectionSymbol||"",onChange:x=>m("collectionSymbol",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Base URI"}),l.jsx("input",{type:"url",value:p.baseURI||"",onChange:x=>m("baseURI",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Max Supply"}),l.jsx("input",{type:"number",value:p.maxSupply||"",onChange:x=>m("maxSupply",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Royalty Percentage (%)"}),l.jsx("input",{type:"number",value:p.royaltyPercentage||"",onChange:x=>m("royaltyPercentage",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",min:"0",step:"0.01",placeholder:"e.g. 5 for 5%"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Enter as a percentage (e.g. 5 for 5%)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Royalty Recipient"}),l.jsx("input",{type:"text",value:p.royaltyRecipient||"",onChange:x=>m("royaltyRecipient",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0,pattern:"^0x[a-fA-F0-9]{40}$"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Must be a valid Ethereum address"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Reveal Type"}),l.jsxs(rd,{value:p.revealType,onValueChange:x=>m("revealType",x),required:!0,children:[l.jsx(id,{className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",children:l.jsx(nd,{placeholder:"Select Reveal Type"})}),l.jsxs(sd,{children:[l.jsx(ji,{value:"0",children:"Instant Reveal"}),l.jsx(ji,{value:"1",children:"Manual Reveal"}),l.jsx(ji,{value:"2",children:"Scheduled Reveal"})]})]})]}),l.jsx("div",{}),(p.revealType==="1"||p.revealType==="2")&&l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Unrevealed Base URI"}),l.jsx("input",{type:"url",value:p.unrevealedBaseURI||"",onChange:x=>m("unrevealedBaseURI",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:p.revealType==="1"||p.revealType==="2"})]}),p.revealType==="2"&&l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Reveal Time"}),l.jsx("input",{type:"datetime-local",value:p.revealTime||"",onChange:x=>m("revealTime",x.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:p.revealType==="2"})]})]})]}),l.jsx(Pl,{formData:p,handleChange:m,required:!0,useFormDataEnabled:!0}),l.jsx(Rl,{formData:p,handleChange:m,socialEngagementEnabled:d,setSocialEngagementEnabled:f}),l.jsx(Il,{formData:p,handleChange:m}),l.jsx("div",{className:"flex gap-4",children:l.jsx(qe,{type:"submit",disabled:a||!t,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:a?"Creating...":"Create Raffle"})})]})]})};function vde(){const{connected:t,address:e,provider:r}=xr(),{contracts:n,executeTransaction:i}=Sr(),{getCurrencyLabel:s}=Sn(),o=Ml(n,!0),[a,c]=C.useState(!1),[d,f]=C.useState(!1),[p,g]=C.useState(!1),[m,v]=C.useState({name:"",collection:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerUser:"",slotFee:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""}),x=(P,S)=>{v(B=>({...B,[P]:S}))},w=async P=>{if(P.preventDefault(),!t||!n.poolDeployer||!r){te.error("Please connect your wallet and ensure contracts are configured");return}c(!0);try{const S=r.getSigner(),B=Math.floor(new Date(m.startTime).getTime()/1e3),$=parseInt(m.duration)*60,W=m.slotFee?Dc(m.slotFee):0,G=d&&m.holderTokenAddress?m.holderTokenAddress:He,q=d?parseInt(m.holderTokenStandard):0,H=d&&m.minHolderTokenBalance?Cn(m.minHolderTokenBalance,18):0,J=d&&m.holderTokenId?parseInt(m.holderTokenId):0,V={name:m.name,startTime:B,duration:$,slotLimit:parseInt(m.slotLimit),winnersCount:parseInt(m.winnersCount),maxSlotsPerParticipant:parseInt(m.maxTicketsPerUser),isPrized:!0,customSlotFee:W,erc721Drop:!0,erc1155Drop:!1,prizeCollection:m.collection,standard:0,prizeTokenId:0,amountPerWinner:1,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:He,maxSupply:0,erc20PrizeToken:He,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:G,holderTokenStandard:q,minHolderTokenBalance:H,holderTokenBalance:d&&m.minHolderTokenBalance?Cn(m.minHolderTokenBalance,18):0,holderTokenId:J,socialEngagementRequired:p,socialTaskDescription:p?m.socialTaskDescription:"",description:m.description||"",twitterLink:m.twitterLink||"",discordLink:m.discordLink||"",telegramLink:m.telegramLink||""};let F=ue.from(0);p&&(F=await n.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Ir(F),"ETH")),await(await n.poolDeployer.connect(S).createPool(V,{value:F})).wait(),te.success("Your raffle was created successfully!"),v({name:"",collection:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerUser:"",slotFee:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),f(!1)}catch(S){console.error("Error creating raffle:",S),te.error(Th(S))}finally{c(!1)}},{status:T,checking:j}=Dz(m.collection,n);return C.useEffect(()=>{m.collection&&!j&&T!==null&&(T?te.success("This collection is approved"):te.error("This collection is not approved"))},[m.collection,j,T]),l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(o3,{className:"h-5 w-5"}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-semibold",children:"Existing ERC721 Prize Pool"})]}),l.jsxs("form",{onSubmit:w,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Pool Name"}),l.jsx("input",{type:"text",value:m.name||"",onChange:P=>x("name",P.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Prize Collection Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:m.collection||"",onChange:P=>x("collection",P.target.value),className:"w-full px-3 py-2.5 pr-10 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),m.collection&&!j&&T===!0&&l.jsx(jr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-600"}),m.collection&&!j&&T===!1&&l.jsx(vh,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-red-600"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:m.startTime||"",onChange:P=>x("startTime",P.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",o.minDuration&&o.maxDuration&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(o.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(o.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",min:"1",value:m.duration||"",onChange:P=>x("duration",P.target.value),onWheel:P=>P.target instanceof HTMLElement&&P.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",o.minSlot&&o.maxSlot&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",o.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",o.maxSlot]})})]})]}),l.jsx("input",{type:"number",min:"1",value:m.slotLimit||"",onChange:P=>x("slotLimit",P.target.value),onWheel:P=>P.target instanceof HTMLElement&&P.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Winners must not exceed 25% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:m.winnersCount||"",onChange:P=>x("winnersCount",P.target.value),onWheel:P=>P.target instanceof HTMLElement&&P.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Max Slots Per Participant must not exceed 1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",min:"1",value:m.maxTicketsPerUser||"",onChange:P=>x("maxTicketsPerUser",P.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:[s("ticket")," ",l.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"(Enter 0 for NFT giveaway)"})]}),l.jsx("input",{type:"number",min:"0",step:"any",value:m.slotFee||"",onChange:P=>x("slotFee",P.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsx(Pl,{tokenGatedEnabled:d,onTokenGatedChange:f,formData:m,handleChange:x,required:!0}),l.jsx(Rl,{formData:m,handleChange:x,socialEngagementEnabled:p,setSocialEngagementEnabled:g}),l.jsx(Il,{formData:m,handleChange:x}),l.jsx("div",{className:"flex gap-4",children:l.jsx(qe,{type:"submit",className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:"Create Raffle"})})]})]})}function bde(){const{connected:t,address:e,provider:r}=xr(),{contracts:n}=Sr(),{getCurrencyLabel:i}=Sn(),s=Ml(n,!0),[o,a]=C.useState(!1),[c,d]=C.useState(!1),[f,p]=C.useState({name:"",collectionAddress:"",tokenId:"",amountPerWinner:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",slotFee:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""}),g=(w,T)=>{p(j=>({...j,[w]:T}))},m=async w=>{if(w.preventDefault(),!t||!n.poolDeployer||!r){te.error("Please connect your wallet and ensure contracts are configured");return}a(!0);try{const T=r.getSigner(),j=Math.floor(new Date(f.startTime).getTime()/1e3),P=parseInt(f.duration)*60,S=f.slotFee?Dc(f.slotFee):0,B={name:f.name,startTime:j,duration:P,slotLimit:parseInt(f.slotLimit),winnersCount:parseInt(f.winnersCount),maxSlotsPerParticipant:parseInt(f.maxTicketsPerParticipant),isPrized:!0,customSlotFee:S,erc721Drop:!1,erc1155Drop:!1,prizeCollection:f.collectionAddress,standard:1,prizeTokenId:parseInt(f.tokenId),amountPerWinner:parseInt(f.amountPerWinner),collectionSymbol:"",collectionBaseURI:"",collectionName:"",creator:e,royaltyPercentage:0,royaltyRecipient:He,maxSupply:0,erc20PrizeToken:He,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:f.tokenGatedEnabled?f.holderTokenAddress:He,holderTokenStandard:f.tokenGatedEnabled?parseInt(f.holderTokenStandard):0,minHolderTokenBalance:f.tokenGatedEnabled?Cn(f.minHolderTokenBalance,18):0,holderTokenBalance:f.tokenGatedEnabled?Cn(f.minHolderTokenBalance,18):0,holderTokenId:f.tokenGatedEnabled&&(f.holderTokenStandard==="0"||f.holderTokenStandard==="1")?parseInt(f.holderTokenId):0,socialEngagementRequired:c,socialTaskDescription:c?f.socialTaskDescription:"",description:f.description||"",twitterLink:f.twitterLink||"",discordLink:f.discordLink||"",telegramLink:f.telegramLink||""};let $=ue.from(0);c&&($=await n.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Ir($),"ETH")),await(await n.poolDeployer.connect(T).createPool(B,{value:$})).wait(),te.success("Your raffle was created successfully!"),p({name:"",collectionAddress:"",tokenId:"",amountPerWinner:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",slotFee:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(T){console.error("Error creating raffle:",T),te.error(T.message||"Error creating raffle")}finally{a(!1)}},{status:v,checking:x}=Dz(f.collectionAddress,n);return C.useEffect(()=>{f.collectionAddress&&!x&&v!==null&&(v?te.success("This collection is approved"):te.error("This collection is not approved"))},[f.collectionAddress,x,v]),l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(o3,{className:"h-5 w-5"}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-semibold",children:"Existing ERC1155 Collection Pool"})]}),l.jsxs("form",{onSubmit:m,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Pool Name"}),l.jsx("input",{type:"text",value:f.name||"",onChange:w=>g("name",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Prize Collection Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:f.collectionAddress||"",onChange:w=>g("collectionAddress",w.target.value),className:"w-full px-3 py-2.5 pr-10 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),f.collectionAddress&&!x&&v===!0&&l.jsx(jr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-600"}),f.collectionAddress&&!x&&v===!1&&l.jsx(vh,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-red-600"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Prize Token ID"}),l.jsx("input",{type:"number",min:"0",value:f.tokenId||"",onChange:w=>g("tokenId",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Amount Per Winner"}),l.jsx("input",{type:"number",min:"1",value:f.amountPerWinner||"",onChange:w=>g("amountPerWinner",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:f.startTime||"",onChange:w=>g("startTime",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",s.minDuration&&s.maxDuration&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(s.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(s.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:f.duration||"",onChange:w=>g("duration",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",s.minSlot&&s.maxSlot&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",s.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",s.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:f.slotLimit||"",onChange:w=>g("slotLimit",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Winners must not exceed 25% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:f.winnersCount||"",onChange:w=>g("winnersCount",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Max Slots Per Participant must not exceed 1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:f.maxSlotsPerParticipant||"",onChange:w=>g("maxSlotsPerParticipant",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:i("ticket")}),l.jsx("input",{type:"number",step:"0.001",value:f.slotFee||"",onChange:w=>g("slotFee",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",placeholder:"Leave empty to use protocol default"})]})]}),l.jsx(Pl,{formData:f,handleChange:g,required:!0,useFormDataEnabled:!0}),l.jsx(Rl,{formData:f,handleChange:g,socialEngagementEnabled:c,setSocialEngagementEnabled:d}),l.jsx(Il,{formData:f,handleChange:g}),l.jsx("div",{className:"flex gap-4",children:l.jsx(qe,{type:"submit",disabled:o||!t,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:o?"Creating...":"Create Raffle"})})]})]})}const wde=()=>{const{connected:t,chainId:e}=xr(),{contracts:r}=Sr();Sn();const n=()=>{if(!e||!Ht[e])return!1;const H=Ht[e].contractAddresses;return(H==null?void 0:H.poolDeployer)&&H.poolDeployer!=="0x..."&&(H==null?void 0:H.protocolManager)&&H.protocolManager!=="0x..."},[i,s]=C.useState(null),[o,a]=C.useState("Whitelist/Allowlist"),[c,d]=C.useState("ERC721"),[f,p]=C.useState("New ERC721 Collection"),[g,m]=C.useState("Internal NFT Prize"),[v,x]=C.useState("Internal NFT Prize"),[w,T]=C.useState("Internal NFT Prize"),[j,P]=C.useState("New ERC1155 Collection"),[S,B]=C.useState(""),[$,W]=C.useState(!1);C.useEffect(()=>{(async()=>{if(o==="NFTDrop"&&c==="ERC721"&&f==="Existing ERC721 Collection"&&r.protocolManager)try{const J=await r.protocolManager.toggleAllowExistingCollection();s(!!J)}catch{s(!1)}})()},[o,c,f,r.protocolManager]),C.useEffect(()=>{o==="NFTDrop"&&c==="ERC721"&&f==="New ERC721 Collection"&&B("")},[o,c,f]);const G=()=>{if(o==="Whitelist/Allowlist")return l.jsx(yde,{});if(o==="NFTDrop"){if(c==="ERC721"){if(f==="New ERC721 Collection")return l.jsx(xde,{});if(f==="Existing ERC721 Collection")return l.jsx(vde,{collectionAddress:S,setCollectionAddress:B})}if(c==="ERC1155"){if(j==="New ERC1155 Collection")return l.jsx(Tde,{});if(j==="Existing ERC1155 Collection")return l.jsx(bde,{})}}if(o==="Lucky Sale/NFT Pool"){if(c==="ERC721")return l.jsx(kde,{});if(c==="ERC1155")return l.jsx(_de,{})}return o==="Native Token Pool"?l.jsx(Cde,{}):o==="ERC20 Token Pool"?l.jsx(Sde,{}):null},{isMobile:q}=pn();return t?n()?l.jsx("div",{className:"min-h-screen bg-background pb-6",children:l.jsxs("div",{className:`${q?"px-4":"container mx-auto px-8"} pt-8 pb-4`,children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:`text-3xl font-bold mb-4 font-display ${q?"text-2xl mb-2":""}`,children:"Create an on-chain raffle for your community"}),l.jsxs("p",{className:"text-muted-foreground text-[length:var(--text-base)] leading-relaxed",children:["Click ",l.jsx("a",{href:"#",onClick:H=>{H.preventDefault(),W(!0)},className:"text-primary hover:text-primary/90 no-underline font-medium transition-colors",children:"here"})," to configure your pool"]})]}),l.jsx("div",{className:`max-w-7xl mx-auto ${q?"mt-6":"mt-16"}`,children:q?l.jsx("div",{className:"space-y-4",children:l.jsx("div",{className:"w-full",children:G()})}):l.jsx("div",{className:"flex gap-2 items-start",children:l.jsx("div",{className:"flex-1",children:G()})})}),l.jsx(Kue,{isOpen:$,onToggle:()=>W(!$),raffleType:o,setRaffleType:a,nftStandard:c,setNftStandard:d,erc721Source:f,setErc721Source:p,erc1155Source:j,setErc1155Source:P})]})}):l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsx(z2,{error:"CONTRACTS_NOT_AVAILABLE",onRetry:null,isMobile:q,showCreateButton:!1})}):l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Is,{className:`mx-auto mb-4 text-muted-foreground ${q?"h-12 w-12":"h-16 w-16"}`}),l.jsx("h2",{className:`font-bold mb-2 ${q?"text-xl":"text-2xl"}`,children:"Connect Your Wallet"}),l.jsx("p",{className:`text-muted-foreground ${q?"text-sm":"text-base"}`,children:"Please connect your wallet to create pools and deploy collections."})]})})};function kde(){const{connected:t,address:e,provider:r}=xr(),{contracts:n}=Sr(),{isMobile:i}=pn(),{getCurrencyLabel:s}=Sn(),o=Ml(n,!0),[a,c]=C.useState(!1),[d,f]=C.useState(!1),[p,g]=C.useState({name:"",collectionAddress:"",tokenId:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",slotFee:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""}),m=(T,j)=>{g(P=>({...P,[T]:j}))},v=async T=>{if(T.preventDefault(),!t||!n.poolDeployer||!r){te.error("Please connect your wallet and ensure contracts are configured");return}c(!0);try{const j=r.getSigner(),P=await W2({signer:j,tokenAddress:p.collectionAddress,prizeType:"erc721",spender:n.poolDeployer.address,tokenId:p.tokenId});if(!P.success){te.error("Token approval failed: "+P.error),c(!1);return}P.alreadyApproved||(te.success("ERC721 approval successful!"),await new Promise(H=>setTimeout(H,2e3)));const S=Math.floor(new Date(p.startTime).getTime()/1e3),B=parseInt(p.duration)*60,$=p.slotFee?Dc(p.slotFee):0,W={name:p.name,startTime:S,duration:B,slotLimit:parseInt(p.slotLimit),winnersCount:parseInt(p.winnersCount),maxSlotsPerParticipant:parseInt(p.maxSlotsPerParticipant),isPrized:!0,customSlotFee:$,erc721Drop:!1,prizeCollection:p.collectionAddress,standard:0,prizeTokenId:parseInt(p.tokenId),amountPerWinner:1,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:He,maxSupply:0,erc20PrizeToken:He,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:p.tokenGatedEnabled?p.holderTokenAddress:He,holderTokenStandard:p.tokenGatedEnabled?parseInt(p.holderTokenStandard):0,minHolderTokenBalance:p.tokenGatedEnabled&&p.minHolderTokenBalance!==""&&p.minHolderTokenBalance!==void 0?Cn(p.minHolderTokenBalance,18):ue.from(0),holderTokenBalance:p.tokenGatedEnabled&&p.minHolderTokenBalance!==""&&p.minHolderTokenBalance!==void 0?Cn(p.minHolderTokenBalance,18):ue.from(0),holderTokenId:p.tokenGatedEnabled&&(p.holderTokenStandard==="0"||p.holderTokenStandard==="1")?parseInt(p.holderTokenId):0,socialEngagementRequired:d,socialTaskDescription:d?p.socialTaskDescription:"",description:p.description||"",twitterLink:p.twitterLink||"",discordLink:p.discordLink||"",telegramLink:p.telegramLink||""};let G=ue.from(0);d&&(G=await n.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Ir(G),"ETH")),await(await n.poolDeployer.connect(j).createPool(W,{value:G})).wait(),te.success("Your raffle was created successfully!"),g({name:"",collectionAddress:"",tokenId:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",slotFee:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(j){console.error("Error creating raffle:",j),te.error(Th(j))}finally{c(!1)}},{status:x,checking:w}=Mz(p.collectionAddress,n);return C.useEffect(()=>{p.collectionAddress&&!w&&x!==null&&(x?te.success("This collection is approved"):te.error("This collection is not approved"))},[p.collectionAddress,w,x]),l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(iv,{className:"h-5 w-5"}),l.jsx("h3",{className:`font-semibold ${i?"text-lg":"text-xl"}`,children:"Lucky Sale (ERC721 Escrowed Prize)"})]}),l.jsxs("form",{onSubmit:v,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Pool Name"}),l.jsx("input",{type:"text",value:p.name||"",onChange:T=>m("name",T.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Prize Collection Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:p.collectionAddress||"",onChange:T=>m("collectionAddress",T.target.value),className:"w-full px-3 py-2.5 pr-10 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),p.collectionAddress&&!w&&x===!0&&l.jsx(jr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-600"}),p.collectionAddress&&!w&&x===!1&&l.jsx(vh,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-red-600"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Prize Token ID"}),l.jsx("input",{type:"number",min:"0",value:p.tokenId||"",onChange:T=>m("tokenId",T.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:p.startTime||"",onChange:T=>m("startTime",T.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",o.minDuration&&o.maxDuration&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(o.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(o.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:p.duration||"",onChange:T=>m("duration",T.target.value),onWheel:T=>T.target instanceof HTMLElement&&T.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",o.minSlot&&o.maxSlot&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",o.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",o.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:p.slotLimit||"",onChange:T=>m("slotLimit",T.target.value),onWheel:T=>T.target instanceof HTMLElement&&T.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"This raffle type supports only one Winner"})]})]}),l.jsx("input",{type:"number",value:p.winnersCount||"",onChange:T=>m("winnersCount",T.target.value),onWheel:T=>T.target instanceof HTMLElement&&T.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Max Slots Per Participant must not exceed 1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:p.maxSlotsPerParticipant||"",onChange:T=>m("maxSlotsPerParticipant",T.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:[s("ticket")," ",l.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"(Enter 0 for NFT giveaway)"})]}),l.jsx("input",{type:"number",step:"any",value:p.slotFee||"",onChange:T=>m("slotFee",T.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsx(Pl,{formData:p,handleChange:m,required:!0,useFormDataEnabled:!0}),l.jsx(Rl,{formData:p,handleChange:m,socialEngagementEnabled:d,setSocialEngagementEnabled:f}),l.jsx(Il,{formData:p,handleChange:m}),l.jsx("div",{className:"flex gap-4",children:l.jsx(qe,{type:"submit",disabled:a||!t,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:a?"Approving & Creating...":"Approve Prize & Create Raffle"})})]})]})}function _de(){const{connected:t,address:e,provider:r}=xr(),{contracts:n}=Sr(),{getCurrencyLabel:i}=Sn(),s=Ml(n,!0),[o,a]=C.useState(!1),[c,d]=C.useState(!1),[f,p]=C.useState({name:"",collectionAddress:"",tokenId:"",unitsPerWinner:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",slotFee:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""}),g=(w,T)=>{p(j=>({...j,[w]:T}))},m=async w=>{if(w.preventDefault(),!t||!n.poolDeployer||!r){te.error("Please connect your wallet and ensure contracts are configured");return}a(!0);try{const T=r.getSigner(),j=await W2({signer:T,tokenAddress:f.collectionAddress,prizeType:"erc1155",spender:n.poolDeployer.address});if(!j.success){te.error("Token approval failed: "+j.error),a(!1);return}j.alreadyApproved||(te.success("ERC1155 approval successful!"),await new Promise(H=>setTimeout(H,2e3)));const P=Math.floor(new Date(f.startTime).getTime()/1e3),S=parseInt(f.duration)*60,B=f.slotFee?Dc(f.slotFee):0,$=f.unitsPerWinner?parseInt(f.unitsPerWinner):1,W={name:f.name,startTime:P,duration:S,slotLimit:parseInt(f.slotLimit),winnersCount:parseInt(f.winnersCount),maxSlotsPerParticipant:parseInt(f.maxSlotsPerParticipant),isPrized:!0,customSlotFee:B,erc721Drop:!1,prizeCollection:f.collectionAddress,standard:1,prizeTokenId:parseInt(f.tokenId),amountPerWinner:$,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:He,maxSupply:0,erc20PrizeToken:He,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:f.tokenGatedEnabled?f.holderTokenAddress:He,holderTokenStandard:f.tokenGatedEnabled?parseInt(f.holderTokenStandard):0,minHolderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance!==""&&f.minHolderTokenBalance!==void 0?Cn(f.minHolderTokenBalance,18):ue.from(0),holderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance!==""&&f.minHolderTokenBalance!==void 0?Cn(f.minHolderTokenBalance,18):ue.from(0),holderTokenId:f.tokenGatedEnabled&&(f.holderTokenStandard==="0"||f.holderTokenStandard==="1")?parseInt(f.holderTokenId):0,socialEngagementRequired:c,socialTaskDescription:c?f.socialTaskDescription:"",description:f.description||"",twitterLink:f.twitterLink||"",discordLink:f.discordLink||"",telegramLink:f.telegramLink||""};let G=ue.from(0);c&&(G=await n.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Ir(G),"ETH")),await(await n.poolDeployer.connect(T).createPool(W,{value:G})).wait(),te.success("Your raffle was created successfully!"),p({name:"",collectionAddress:"",tokenId:"",unitsPerWinner:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",slotFee:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(T){console.error("Error creating raffle:",T),te.error(Th(T))}finally{a(!1)}},{status:v,checking:x}=Mz(f.collectionAddress,n);return C.useEffect(()=>{f.collectionAddress&&!x&&v!==null&&(v?te.success("This collection is approved"):te.error("This collection is not approved"))},[f.collectionAddress,x,v]),l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(iv,{className:"h-5 w-5"}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-semibold",children:"Lucky Sale (ERC1155 Escrowed Prize)"})]}),l.jsxs("form",{onSubmit:m,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Raffle Name"}),l.jsx("input",{type:"text",value:f.name||"",onChange:w=>g("name",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Prize Collection Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:f.collectionAddress||"",onChange:w=>g("collectionAddress",w.target.value),className:"w-full px-3 py-2.5 pr-10 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),f.collectionAddress&&!x&&v===!0&&l.jsx(jr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-600"}),f.collectionAddress&&!x&&v===!1&&l.jsx(vh,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-red-600"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Prize Token ID"}),l.jsx("input",{type:"number",min:"0",value:f.tokenId||"",onChange:w=>g("tokenId",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Units Per Winner"}),l.jsx("input",{type:"number",min:"1",value:f.unitsPerWinner||"",onChange:w=>g("unitsPerWinner",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:f.startTime||"",onChange:w=>g("startTime",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",s.minDuration&&s.maxDuration&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(s.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(s.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:f.duration||"",onChange:w=>g("duration",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",s.minSlot&&s.maxSlot&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",s.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",s.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:f.slotLimit||"",onChange:w=>g("slotLimit",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Winners must not exceed 25% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:f.winnersCount||"",onChange:w=>g("winnersCount",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Max Slots Per Participant must not exceed 1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:f.maxSlotsPerParticipant||"",onChange:w=>g("maxSlotsPerParticipant",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:[i("ticket")," ",l.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"(Enter 0 for NFT giveaway)"})]}),l.jsx("input",{type:"number",step:"any",value:f.slotFee||"",onChange:w=>g("slotFee",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsx(Pl,{formData:f,handleChange:g,required:!0,useFormDataEnabled:!0}),l.jsx(Rl,{formData:f,handleChange:g,socialEngagementEnabled:c,setSocialEngagementEnabled:d}),l.jsx(Il,{formData:f,handleChange:g}),l.jsx("div",{className:"flex gap-4",children:l.jsx(qe,{type:"submit",disabled:o||!t,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:o?"Approving & Creating...":"Approve Prize & Create Raffle"})})]})]})}function Cde(){const{connected:t,address:e,provider:r}=xr(),{contracts:n,executeTransaction:i}=Sr(),{isMobile:s}=pn(),{getCurrencyLabel:o}=Sn(),a=Ml(n,!0),[c,d]=C.useState(!1),[f,p]=C.useState(!1),[g,m]=C.useState({name:"",ethAmount:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""}),v=(w,T)=>{m(j=>({...j,[w]:T}))},x=async w=>{if(w.preventDefault(),!t||!n.poolDeployer||!r){te.error("Please connect your wallet and ensure contracts are configured");return}d(!0);try{const T=r.getSigner(),j=Math.floor(new Date(g.startTime).getTime()/1e3),P=parseInt(g.duration)*60,S=g.ethAmount?Dc(g.ethAmount):ue.from(0),B={name:g.name,startTime:j,duration:P,slotLimit:parseInt(g.slotLimit),winnersCount:parseInt(g.winnersCount),maxSlotsPerParticipant:parseInt(g.maxSlotsPerParticipant),isPrized:!0,customSlotFee:0,erc721Drop:!1,prizeCollection:He,standard:3,prizeTokenId:0,amountPerWinner:0,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:He,maxSupply:0,erc20PrizeToken:He,erc20PrizeAmount:ue.from(0),nativePrizeAmount:S,revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:g.tokenGatedEnabled?g.holderTokenAddress:He,holderTokenStandard:g.tokenGatedEnabled?parseInt(g.holderTokenStandard):0,minHolderTokenBalance:g.tokenGatedEnabled&&g.minHolderTokenBalance!==""&&g.minHolderTokenBalance!==void 0?Cn(g.minHolderTokenBalance,18):ue.from(0),holderTokenBalance:g.tokenGatedEnabled&&g.minHolderTokenBalance!==""&&g.minHolderTokenBalance!==void 0?Cn(g.minHolderTokenBalance,18):ue.from(0),holderTokenId:g.tokenGatedEnabled&&(g.holderTokenStandard==="0"||g.holderTokenStandard==="1")?parseInt(g.holderTokenId):0,socialEngagementRequired:f,socialTaskDescription:f?g.socialTaskDescription:"",description:g.description||"",twitterLink:g.twitterLink||"",discordLink:g.discordLink||"",telegramLink:g.telegramLink||""};let $=ue.from(0);f&&($=await n.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Ir($),"ETH"));const W=S.add($);console.log("Native prize amount:",Ir(S),"ETH"),console.log("Total value to send:",Ir(W),"ETH");let G={success:!1};try{const q=await n.poolDeployer.connect(T).createPool(B,{value:W});G={success:!0,receipt:await q.wait(),hash:q.hash}}catch(q){G={success:!1,error:q.message}}if(G.success)te.success("Your raffle was created successfully!"),m({name:"",ethAmount:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:""});else throw new Error(G.error)}catch(T){console.error("Error creating raffle:",T),te.error(Th(T))}finally{d(!1)}};return l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(cS,{className:"h-5 w-5"}),l.jsxs("h3",{className:`font-semibold ${s?"text-lg":"text-xl"}`,children:[o()," Giveaway"]})]}),l.jsxs("form",{onSubmit:x,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Raffle Name"}),l.jsx("input",{type:"text",value:g.name||"",onChange:w=>v("name",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:o("prize")}),l.jsx("input",{type:"number",min:"0.00000001",step:"any",value:g.ethAmount||"",onChange:w=>v("ethAmount",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:g.startTime||"",onChange:w=>v("startTime",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",a.minDuration&&a.maxDuration&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(a.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(a.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:g.duration||"",onChange:w=>v("duration",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",a.minSlot&&a.maxSlot&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",a.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",a.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:g.slotLimit||"",onChange:w=>v("slotLimit",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Winners must not exceed 25% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:g.winnersCount||"",onChange:w=>v("winnersCount",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Max Slots Per Participant must not exceed 1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:g.maxSlotsPerParticipant||"",onChange:w=>v("maxSlotsPerParticipant",w.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]})]}),l.jsx(Pl,{formData:g,handleChange:v,required:!0,useFormDataEnabled:!0}),l.jsx(Rl,{formData:g,handleChange:v,socialEngagementEnabled:f,setSocialEngagementEnabled:p}),l.jsx(Il,{formData:g,handleChange:v}),l.jsx("div",{className:"flex gap-4",children:l.jsx(qe,{type:"submit",disabled:c||!t,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:c?"Creating...":"Create Raffle"})})]})]})}function Sde(){const{connected:t,address:e,provider:r}=xr(),{contracts:n}=Sr(),{isMobile:i}=pn(),s=Ml(n,!0),[o,a]=C.useState(!1),[c,d]=C.useState(!1),[f,p]=C.useState({name:"",tokenAddress:"",tokenAmount:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxSlotsPerParticipant:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""}),[g,m]=C.useState(null),[v,x]=C.useState(!1);C.useEffect(()=>{let j=!1;async function P(S){if(!(n!=null&&n.protocolManager)||!S||S.length!==42){m(null);return}x(!0);try{const B=await n.protocolManager.isERC20PrizeWhitelisted(S);j||m(B)}catch{j||m(!1)}finally{j||x(!1)}}return P(f.tokenAddress),()=>{j=!0}},[f.tokenAddress,n]),C.useEffect(()=>{f.tokenAddress&&!v&&g!==null&&(g?te.success("This token is approved"):te.error("This token is not approved"))},[f.tokenAddress,v,g]);const w=(j,P)=>{p(S=>({...S,[j]:P}))},T=async j=>{if(j.preventDefault(),!t||!n.poolDeployer||!r){te.error("Please connect your wallet and ensure contracts are configured");return}a(!0);try{const P=r.getSigner(),S=await W2({signer:P,tokenAddress:f.tokenAddress,prizeType:"erc20",spender:n.poolDeployer.address,amount:f.tokenAmount});if(!S.success){te.error("Token approval failed: "+S.error),a(!1);return}S.alreadyApproved||(te.success("ERC20 approval successful!"),await new Promise(V=>setTimeout(V,2e3)));const B=await new At(f.tokenAddress,ft.erc20,P).decimals(),$=Math.floor(new Date(f.startTime).getTime()/1e3),W=parseInt(f.duration)*60,G=f.tokenAmount?Cn(f.tokenAmount,B):ue.from(0),q={name:f.name,startTime:$,duration:W,slotLimit:parseInt(f.slotLimit),winnersCount:parseInt(f.winnersCount),maxSlotsPerParticipant:parseInt(f.maxSlotsPerParticipant),isPrized:!0,customSlotFee:ue.from(0),erc721Drop:!1,prizeCollection:He,standard:2,prizeTokenId:0,amountPerWinner:0,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:He,maxSupply:0,erc20PrizeToken:f.tokenAddress,erc20PrizeAmount:G,nativePrizeAmount:ue.from(0),revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:f.tokenGatedEnabled?f.holderTokenAddress:He,holderTokenStandard:f.tokenGatedEnabled?parseInt(f.holderTokenStandard):0,minHolderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance!==""&&f.minHolderTokenBalance!==void 0?Cn(f.minHolderTokenBalance,18):ue.from(0),holderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance!==""&&f.minHolderTokenBalance!==void 0?Cn(f.minHolderTokenBalance,18):ue.from(0),holderTokenId:f.tokenGatedEnabled&&(f.holderTokenStandard==="0"||f.holderTokenStandard==="1")?parseInt(f.holderTokenId):0,socialEngagementRequired:c,socialTaskDescription:c?f.socialTaskDescription:"",description:f.description||"",twitterLink:f.twitterLink||"",discordLink:f.discordLink||"",telegramLink:f.telegramLink||""};let H=ue.from(0);c&&(H=await n.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Ir(H),"ETH")),await(await n.poolDeployer.connect(P).createPool(q,{value:H})).wait(),te.success("Your raffle was created successfully!"),p({name:"",tokenAddress:"",tokenAmount:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxSlotsPerParticipant:""})}catch(P){console.error("Error creating raffle:",P),te.error(Th(P))}finally{a(!1)}};return l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(cS,{className:"h-5 w-5"}),l.jsx("h3",{className:`font-semibold ${i?"text-lg":"text-xl"}`,children:"ERC20 Token Giveaway"})]}),l.jsxs("form",{onSubmit:T,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Raffle Name"}),l.jsx("input",{type:"text",value:f.name||"",onChange:j=>w("name",j.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"ERC20 Token Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:f.tokenAddress||"",onChange:j=>w("tokenAddress",j.target.value),className:"w-full px-3 py-2.5 pr-10 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),f.tokenAddress&&!v&&g===!0&&l.jsx(jr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-600"}),f.tokenAddress&&!v&&g===!1&&l.jsx(vh,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-red-600"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Total Token Amount"}),l.jsx("input",{type:"number",min:"0.00000001",step:"any",value:f.tokenAmount||"",onChange:j=>w("tokenAmount",j.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:f.startTime||"",onChange:j=>w("startTime",j.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",s.minDuration&&s.maxDuration&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(s.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(s.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:f.duration||"",onChange:j=>w("duration",j.target.value),onWheel:j=>j.target instanceof HTMLElement&&j.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",s.minSlot&&s.maxSlot&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",s.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",s.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:f.slotLimit||"",onChange:j=>w("slotLimit",j.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Winners must not exceed 25% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:f.winnersCount||"",onChange:j=>w("winnersCount",j.target.value),onWheel:j=>j.target instanceof HTMLElement&&j.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Max Slots Per Participant must not exceed 1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:f.maxSlotsPerParticipant||"",onChange:j=>w("maxSlotsPerParticipant",j.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]})]}),l.jsx(Pl,{formData:f,handleChange:w,required:!0,useFormDataEnabled:!0}),l.jsx(Rl,{formData:f,handleChange:w,socialEngagementEnabled:c,setSocialEngagementEnabled:d}),l.jsx(Il,{formData:f,handleChange:w}),l.jsx("div",{className:"flex gap-4",children:l.jsx(qe,{type:"submit",disabled:o||!t,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:o?"Approving & Creating...":"Approve Prize & Create Raffle"})})]})]})}async function Ede(t,e,r,n,i,s){try{let o;const a=await t.getAddress();if(r==="erc20"){o=new At(e,ft.erc20,t);const c=await o.decimals(),d=Cn(i,c),f=await o.allowance(a,n);if(f.gte(d))return!0;if(f.isZero())try{const p=await t.provider.getBlockNumber(),g=Math.max(0,p-1e3),m="0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925",v="0x"+a.slice(2).padStart(64,"0"),x="0x"+n.slice(2).padStart(64,"0"),w=await t.provider.getLogs({address:e,topics:[m,v,x],fromBlock:g,toBlock:p});for(const T of w)if(ue.from(T.data).gte(d))return!0}catch{}return!1}else if(r==="erc721"){o=new At(e,ft.erc721Prize,t);const c=await o.getApproved(s);return c&&c.toLowerCase()===n.toLowerCase()}else if(r==="erc1155")return o=new At(e,ft.erc1155Prize,t),await o.isApprovedForAll(a,n);return!1}catch{return!1}}async function W2({signer:t,tokenAddress:e,prizeType:r,spender:n,amount:i,tokenId:s}){try{if(await Ede(t,e,r,n,i,s))return{success:!0,alreadyApproved:!0};let a,c;if(r==="erc20"){a=new At(e,ft.erc20,t);const d=await a.decimals(),f=Cn(i,d);c=await a.approve(n,f)}else r==="erc721"?(a=new At(e,ft.erc721Prize,t),c=await a.approve(n,s)):r==="erc1155"&&(a=new At(e,ft.erc1155Prize,t),c=await a.setApprovalForAll(n,!0));return await c.wait(),await new Promise(d=>setTimeout(d,2e3)),{success:!0}}catch(o){return{success:!1,error:o.message}}}function Th(t){var n,i;if(t!=null&&t.reason)return t.reason;if((n=t==null?void 0:t.data)!=null&&n.message)return t.data.message;const e=(t==null?void 0:t.message)||((i=t==null?void 0:t.data)==null?void 0:i.message)||(t==null?void 0:t.toString())||"",r=e.match(/execution reverted:?\s*([^\n]*)/i);return r&&r[1]?r[1].trim():e}function Tde(){const{connected:t,address:e,provider:r}=xr(),{contracts:n}=Sr(),{getCurrencyLabel:i}=Sn(),s=Ml(n,!0),[o,a]=C.useState(!1),[c,d]=C.useState(!1),[f,p]=C.useState({name:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",customSlotFee:"",baseURI:"",maxSupply:"",royaltyPercentage:"",prizeTokenId:"1",amountPerWinner:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[],description:"",twitterLink:"",discordLink:"",telegramLink:""});C.useEffect(()=>{e&&!f.royaltyRecipient&&p(v=>({...v,royaltyRecipient:e}))},[e]);const g=(v,x)=>{p(w=>({...w,[v]:x}))},m=async v=>{if(v.preventDefault(),!t||!n.poolDeployer||!r){te.error("Please connect your wallet and ensure contracts are configured");return}a(!0);try{const x=r.getSigner(),w=Math.floor(new Date(f.startTime).getTime()/1e3),T=parseInt(f.duration)*60,j=f.customSlotFee&&f.customSlotFee.trim()!==""?Dc(f.customSlotFee):0;let P=parseInt(f.revealType),S=f.unrevealedBaseURI,B=0;P===2&&(B=Math.floor(new Date(f.revealTime).getTime()/1e3)),P===0&&(S="",B=0);const $={name:f.name,startTime:w,duration:T,slotLimit:parseInt(f.slotLimit),winnersCount:parseInt(f.winnersCount),maxSlotsPerParticipant:parseInt(f.maxSlotsPerParticipant),isPrized:!0,customSlotFee:j,erc721Drop:!1,erc1155Drop:!1,prizeCollection:He,standard:1,prizeTokenId:parseInt(f.prizeTokenId),amountPerWinner:parseInt(f.amountPerWinner),collectionName:"",collectionSymbol:"",collectionBaseURI:f.baseURI,creator:e,royaltyPercentage:f.royaltyPercentage?parseInt(f.royaltyPercentage)*100:0,royaltyRecipient:f.royaltyRecipient,maxSupply:parseInt(f.maxSupply||f.winnersCount),erc20PrizeToken:He,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:P,unrevealedBaseURI:S,revealTime:B,holderTokenAddress:f.tokenGatedEnabled?f.holderTokenAddress:He,holderTokenStandard:f.tokenGatedEnabled?parseInt(f.holderTokenStandard):0,minHolderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance&&f.minHolderTokenBalance.trim()!==""?Cn(f.minHolderTokenBalance,18):ue.from(0),holderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance&&f.minHolderTokenBalance.trim()!==""?Cn(f.minHolderTokenBalance,18):ue.from(0),holderTokenId:f.tokenGatedEnabled&&f.holderTokenId&&f.holderTokenId.trim()!==""?parseInt(f.holderTokenId):0,socialEngagementRequired:c,socialTaskDescription:c?f.socialTaskDescription:"",description:f.description||"",twitterLink:f.twitterLink||"",discordLink:f.discordLink||"",telegramLink:f.telegramLink||""};let W=ue.from(0);c&&(W=await n.protocolManager.socialEngagementFee(),console.log("Social engagement fee:",Ir(W),"ETH")),await(await n.poolDeployer.connect(x).createPool($,{value:W})).wait(),te.success("Your raffle was created successfully!"),p({name:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",customSlotFee:"",baseURI:"",maxSupply:"",royaltyPercentage:"",prizeTokenId:"1",amountPerWinner:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(x){console.error("Error creating raffle:",x),te.error(x.message||"Error creating raffle")}finally{a(!1)}};return l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(iv,{className:"h-5 w-5"}),l.jsx("h3",{className:"font-display text-[length:var(--text-xl)] font-semibold",children:"New ERC1155 Collection Raffle"})]}),l.jsxs("form",{onSubmit:m,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Raffle Name"}),l.jsx("input",{type:"text",value:f.name||"",onChange:v=>g("name",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:f.startTime||"",onChange:v=>g("startTime",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",s.minDuration&&s.maxDuration&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(s.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(s.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:f.duration||"",onChange:v=>g("duration",v.target.value),onWheel:v=>v.target instanceof HTMLElement&&v.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Slot Limit",s.minSlot&&s.maxSlot&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",s.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",s.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:f.slotLimit||"",onChange:v=>g("slotLimit",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Winners must not exceed 25% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:f.winnersCount||"",onChange:v=>g("winnersCount",v.target.value),onWheel:v=>v.target instanceof HTMLElement&&v.target.blur(),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(sr,{sideOffset:6,children:"Max Slots Per Participant must not exceed 1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:f.maxSlotsPerParticipant||"",onChange:v=>g("maxSlotsPerParticipant",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:i("ticket")}),l.jsx("input",{type:"number",step:"0.001",value:f.customSlotFee||"",onChange:v=>g("customSlotFee",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",placeholder:"Leave empty to use protocol default"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Prize Token ID"}),l.jsx("input",{type:"number",value:f.prizeTokenId||"",onChange:v=>g("prizeTokenId",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Amount Per Winner"}),l.jsx("input",{type:"number",value:f.amountPerWinner||"",onChange:v=>g("amountPerWinner",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]})]}),l.jsxs("div",{className:"bg-muted/20 border border-border rounded-xl p-4 mt-4 shadow-md",children:[l.jsx("h4",{className:"font-semibold text-base mb-4",children:"NFT Collection Info"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Base URI"}),l.jsx("input",{type:"url",value:f.baseURI||"",onChange:v=>g("baseURI",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Max Supply"}),l.jsx("input",{type:"number",value:f.maxSupply||"",onChange:v=>g("maxSupply",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Royalty Percentage (%)"}),l.jsx("input",{type:"number",value:f.royaltyPercentage||"",onChange:v=>g("royaltyPercentage",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",min:"0",step:"0.01",placeholder:"e.g. 5 for 5%"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Enter as a percentage (e.g. 5 for 5%)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Royalty Recipient"}),l.jsx("input",{type:"text",value:f.royaltyRecipient||"",onChange:v=>g("royaltyRecipient",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0,pattern:"^0x[a-fA-F0-9]{40}$"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Must be a valid Ethereum address"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Reveal Type"}),l.jsxs(rd,{value:f.revealType,onValueChange:v=>g("revealType",v),required:!0,children:[l.jsx(id,{className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",children:l.jsx(nd,{placeholder:"Select Reveal Type"})}),l.jsxs(sd,{children:[l.jsx(ji,{value:"0",children:"Instant Reveal"}),l.jsx(ji,{value:"1",children:"Manual Reveal"}),l.jsx(ji,{value:"2",children:"Scheduled Reveal"})]})]})]}),(f.revealType==="1"||f.revealType==="2")&&l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Unrevealed Base URI"}),l.jsx("input",{type:"url",value:f.unrevealedBaseURI||"",onChange:v=>g("unrevealedBaseURI",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:f.revealType==="1"||f.revealType==="2"})]}),f.revealType==="2"&&l.jsxs("div",{children:[l.jsx("label",{className:"block font-body text-[length:var(--text-base)] font-medium mb-2",children:"Reveal Time"}),l.jsx("input",{type:"datetime-local",value:f.revealTime||"",onChange:v=>g("revealTime",v.target.value),className:"w-full px-3 py-2.5 font-body text-[length:var(--text-base)] border border-border rounded-lg bg-background",required:f.revealType==="2"})]})]})]}),l.jsx(Pl,{formData:f,handleChange:g,required:!0,useFormDataEnabled:!0}),l.jsx(Rl,{formData:f,handleChange:g,socialEngagementEnabled:c,setSocialEngagementEnabled:d}),l.jsx(Il,{formData:f,handleChange:g}),l.jsx("div",{className:"flex gap-4",children:l.jsx(qe,{type:"submit",disabled:o||!t,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:o?"Creating...":"Create Raffle"})})]})]})}function Ml(t,e){const[r,n]=C.useState({minSlot:void 0,maxSlot:void 0,minDuration:void 0,maxDuration:void 0,maxTicketsPerParticipant:void 0});return C.useEffect(()=>{if(!(t!=null&&t.protocolManager))return;async function i(){var s,o,a,c,d,f,p,g,m,v;try{if(e){const[x,w,T]=await Promise.all([t.protocolManager.getAllSlotLimits(),t.protocolManager.getDurationLimits(),t.protocolManager.getMaxSlotsPerParticipant()]);n({minSlot:(s=x.minPrized)==null?void 0:s.toString(),maxSlot:(o=x.max)==null?void 0:o.toString(),minDuration:(a=w.min)==null?void 0:a.toString(),maxDuration:(c=w.max)==null?void 0:c.toString(),maxTicketsPerParticipant:(d=T.max)==null?void 0:d.toString()})}else{const[x,w,T]=await Promise.all([t.protocolManager.getAllSlotLimits(),t.protocolManager.getDurationLimits(),t.protocolManager.getMaxSlotsPerParticipant()]);n({minSlot:(f=x.minNonPrized)==null?void 0:f.toString(),maxSlot:(p=x.max)==null?void 0:p.toString(),minDuration:(g=w.min)==null?void 0:g.toString(),maxDuration:(m=w.max)==null?void 0:m.toString(),maxTicketsPerParticipant:(v=T.max)==null?void 0:v.toString()})}}catch{}}i()},[t,e]),r}function Mz(t,e){const[r,n]=C.useState(null),[i,s]=C.useState(!1);return C.useEffect(()=>{let o=!1;async function a(c){if(!(e!=null&&e.protocolManager)||!c||c.length!==42){n(null);return}s(!0);try{const d=await e.protocolManager.isCollectionApproved(c);o||n(d)}catch(d){console.warn("[useCollectionWhitelistStatus] Failed to check collection approval:",d.message),o||n(!1)}finally{o||s(!1)}}return a(t),()=>{o=!0}},[t,e]),{status:r,checking:i}}function Dz(t,e){const[r,n]=C.useState(null),[i,s]=C.useState(!1);return C.useEffect(()=>{let o=!1;async function a(c){if(!(e!=null&&e.protocolManager)||!c||c.length!==42){n(null);return}s(!0);try{const d=await e.protocolManager.isInternalCollection(c);o||n(d)}catch{o||n(!1)}finally{o||s(!1)}}return a(t),()=>{o=!0}},[t,e]),{status:r,checking:i}}function f0(t){if(!t)return null;if(/^\d+$/.test(t))return parseInt(t,10);const e=Object.entries(Ht),r=t.toLowerCase();for(const[n,i]of e)if(i.name.toLowerCase().replace(/[^a-z0-9]+/g,"-")===r)return parseInt(n,10);return null}const ek=new Map,Nde=300*1e3;async function Ade(t,e,r){try{const n=Math.max(0,r-1e4),i=e.filters.PoolCreated(t);let s=await e.queryFilter(i,n,r);if(s.length>0)return s[0].blockNumber;let o=0,a=n;const c=5e3;for(;o<=a;){const d=Math.max(0,a-c),f=a;try{if(s=await e.queryFilter(i,d,f),s.length>0)return s[0].blockNumber;a=d-1}catch(p){console.warn(`Error searching blocks ${d}-${f}:`,p.message),a=d-1}if(r-a>1e5)break}return null}catch(n){return console.error("Error finding pool creation block:",n),null}}async function jde(t,e){if(!t||!e)return null;const r=t.toLowerCase(),n=ek.get(r);if(n&&Date.now()-n.timestamp<Nde)return n.data;try{const s=await e.provider.getBlockNumber(),o=e.filters.PoolMetadataSet(t),a=Math.max(0,s-1e4);let c=await e.queryFilter(o,a,s);if(c.length===0){const p=await Ade(t,e,s);if(p!==null){const g=p,m=Math.min(p+100,s);try{c=await e.queryFilter(o,g,m)}catch(v){console.warn("Error querying metadata from creation block:",v.message)}}}if(c.length===0){const p={description:"",twitterLink:"",discordLink:"",telegramLink:"",hasMetadata:!1};return ek.set(r,{data:p,timestamp:Date.now()}),p}const d=c[c.length-1],f={description:d.args.description||"",twitterLink:d.args.twitterLink||"",discordLink:d.args.discordLink||"",telegramLink:d.args.telegramLink||"",hasMetadata:!0,blockNumber:d.blockNumber,transactionHash:d.transactionHash};return ek.set(r,{data:f,timestamp:Date.now()}),f}catch(i){return console.error("Error fetching pool metadata:",i),null}}function Pde(t){return t?!!(t.description||t.twitterLink||t.discordLink||t.telegramLink):!1}function tk(t,e){if(!t)return"";try{const n=new URL(t).pathname;switch(e){case"twitter":const i=n.match(/\/@?([a-zA-Z0-9_]+)/);return i?`@${i[1]}`:t;case"discord":const s=n.match(/\/([a-zA-Z0-9]+)$/);return s?`discord.gg/${s[1]}`:t;case"telegram":const o=n.match(/\/([a-zA-Z0-9_]+)/);return o?`t.me/${o[1]}`:t;default:return t}}catch{return t}}const Rde="modulepreload",Ide=function(t){return"/"+t},NI={},Nh=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(r.map(d=>{if(d=Ide(d),d in NI)return;NI[d]=!0;const f=d.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":Rde,f||(g.as="script"),g.crossOrigin="",g.href=d,c&&g.setAttribute("nonce",c),document.head.appendChild(g),f)return new Promise((m,v)=>{g.addEventListener("load",m),g.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},Mde=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Nh(async()=>{const{default:n}=await Promise.resolve().then(()=>bd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class q2 extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class AI extends q2{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class jI extends q2{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class PI extends q2{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var G_;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(G_||(G_={}));class Dde{constructor(e,{headers:r={},customFetch:n,region:i=G_.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=Mde(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return lt(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:s,method:o,body:a,signal:c}=n;let d={},{region:f}=n;f||(f=this.region);const p=new URL(`${this.url}/${r}`);f&&f!=="any"&&(d["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let g;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",g=a):typeof a=="string"?(d["Content-Type"]="text/plain",g=a):typeof FormData<"u"&&a instanceof FormData?g=a:(d["Content-Type"]="application/json",g=JSON.stringify(a)):g=a;const m=yield this.fetch(p.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:g,signal:c}).catch(T=>{throw T.name==="AbortError"?T:new AI(T)}),v=m.headers.get("x-relay-error");if(v&&v==="true")throw new jI(m);if(!m.ok)throw new PI(m);let x=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),w;return x==="application/json"?w=yield m.json():x==="application/octet-stream"||x==="application/pdf"?w=yield m.blob():x==="text/event-stream"?w=m:x==="multipart/form-data"?w=yield m.formData():w=yield m.text(),{data:w,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new AI(s)}:{data:null,error:s,response:s instanceof PI||s instanceof jI?s.context:void 0}}})}}var wi={};const Ah=aC(vX);var h0={},p0={},m0={},g0={},y0={},Ode=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},fh=Ode();const Lde=fh.fetch,Oz=fh.fetch.bind(fh),Lz=fh.Headers,Fde=fh.Request,zde=fh.Response,bd=Object.freeze(Object.defineProperty({__proto__:null,Headers:Lz,Request:Fde,Response:zde,default:Oz,fetch:Lde},Symbol.toStringTag,{value:"Module"})),Bde=aC(bd);var x0={},RI;function Fz(){if(RI)return x0;RI=1,Object.defineProperty(x0,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return x0.default=t,x0}var II;function zz(){if(II)return y0;II=1,Object.defineProperty(y0,"__esModule",{value:!0});const t=Ah,e=t.__importDefault(Bde),r=t.__importDefault(Fz());class n{constructor(s){var o,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let c=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,p,g,m;let v=null,x=null,w=null,T=d.status,j=d.statusText;if(d.ok){if(this.method!=="HEAD"){const $=await d.text();$===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?x=$:x=JSON.parse($))}const S=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),B=(g=d.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");S&&B&&B.length>1&&(w=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(v={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,w=null,T=406,j="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const S=await d.text();try{v=JSON.parse(S),Array.isArray(v)&&d.status===404&&(x=[],v=null,T=200,j="OK")}catch{d.status===404&&S===""?(T=204,j="No Content"):v={message:S}}if(v&&this.isMaybeSingle&&(!((m=v==null?void 0:v.details)===null||m===void 0)&&m.includes("0 rows"))&&(v=null,T=200,j="OK"),v&&this.shouldThrowOnError)throw new r.default(v)}return{error:v,data:x,count:w,status:T,statusText:j}});return this.shouldThrowOnError||(c=c.catch(d=>{var f,p,g;return{error:{message:`${(f=d==null?void 0:d.name)!==null&&f!==void 0?f:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(p=d==null?void 0:d.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(g=d==null?void 0:d.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,o)}returns(){return this}overrideTypes(){return this}}return y0.default=n,y0}var MI;function Bz(){if(MI)return g0;MI=1,Object.defineProperty(g0,"__esModule",{value:!0});const e=Ah.__importDefault(zz());class r extends e.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:c=a}={}){const d=c?`${c}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const c=typeof a>"u"?"offset":`${a}.offset`,d=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(d,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:c=!1,format:d="text"}={}){var f;const p=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${g}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return g0.default=r,g0}var DI;function H2(){if(DI)return m0;DI=1,Object.defineProperty(m0,"__esModule",{value:!0});const e=Ah.__importDefault(Bz()),r=new RegExp("[,()]");class n extends e.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const a=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${a})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:a,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const f=a===void 0?"":`(${a})`;return this.url.searchParams.append(s,`${d}fts${f}.${o}`),this}match(s){return Object.entries(s).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(s,o,a){return this.url.searchParams.append(s,`not.${o}.${a}`),this}or(s,{foreignTable:o,referencedTable:a=o}={}){const c=a?`${a}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,o,a){return this.url.searchParams.append(s,`${o}.${a}`),this}}return m0.default=n,m0}var OI;function $z(){if(OI)return p0;OI=1,Object.defineProperty(p0,"__esModule",{value:!0});const e=Ah.__importDefault(H2());class r{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=new Headers(s),this.schema=o,this.fetch=a}select(i,s){const{head:o=!1,count:a}=s??{},c=o?"HEAD":"GET";let d=!1;const f=(i??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",f),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:o=!0}={}){var a;const c="POST";if(s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(d.length>0){const f=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:c=!0}={}){var d;const f="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),a&&this.headers.append("Prefer",`count=${a}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((g,m)=>g.concat(Object.keys(m)),[]);if(p.length>0){const g=[...new Set(p)].map(m=>`"${m}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:s}={}){var o;const a="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var s;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return p0.default=r,p0}var LI;function $de(){if(LI)return h0;LI=1,Object.defineProperty(h0,"__esModule",{value:!0});const t=Ah,e=t.__importDefault($z()),r=t.__importDefault(H2());class n{constructor(s,{headers:o={},schema:a,fetch:c}={}){this.url=s,this.headers=new Headers(o),this.schemaName=a,this.fetch=c}from(s){const o=new URL(`${this.url}/${s}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:a=!1,get:c=!1,count:d}={}){var f;let p;const g=new URL(`${this.url}/rpc/${s}`);let m;a||c?(p=a?"HEAD":"GET",Object.entries(o).filter(([x,w])=>w!==void 0).map(([x,w])=>[x,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([x,w])=>{g.searchParams.append(x,w)})):(p="POST",m=o);const v=new Headers(this.headers);return d&&v.set("Prefer",`count=${d}`),new r.default({method:p,url:g,headers:v,schema:this.schemaName,body:m,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return h0.default=n,h0}var FI;function Ude(){if(FI)return wi;FI=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.PostgrestError=wi.PostgrestBuilder=wi.PostgrestTransformBuilder=wi.PostgrestFilterBuilder=wi.PostgrestQueryBuilder=wi.PostgrestClient=void 0;const t=Ah,e=t.__importDefault($de());wi.PostgrestClient=e.default;const r=t.__importDefault($z());wi.PostgrestQueryBuilder=r.default;const n=t.__importDefault(H2());wi.PostgrestFilterBuilder=n.default;const i=t.__importDefault(Bz());wi.PostgrestTransformBuilder=i.default;const s=t.__importDefault(zz());wi.PostgrestBuilder=s.default;const o=t.__importDefault(Fz());return wi.PostgrestError=o.default,wi.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},wi}var Uz=Ude();const Vz=El(Uz),Vde=lM({__proto__:null,default:Vz},[Uz]),{PostgrestClient:Wde,PostgrestQueryBuilder:Gpe,PostgrestFilterBuilder:Kpe,PostgrestTransformBuilder:Ype,PostgrestBuilder:Jpe,PostgrestError:Xpe}=Vz||Vde;class qde{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Hde="2.78.0",Gde=`realtime-js/${Hde}`,Kde="1.0.0",K_=1e4,Yde=1e3,Jde=100;var am;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(am||(am={}));var Un;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Un||(Un={}));var Ko;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ko||(Ko={}));var Y_;(function(t){t.websocket="websocket"})(Y_||(Y_={}));var ju;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ju||(ju={}));class Xde{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+i));o=o+i;const c=n.decode(e.slice(o,o+s));o=o+s;const d=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:d}}}class Wz{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Br;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Br||(Br={}));const zI=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=Qde(o,t,e,i),s),{}):{}},Qde=(t,e,r,n)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=r[t];return s&&!n.includes(s)?qz(s,o):J_(o)},qz=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return rfe(e,r)}switch(t){case Br.bool:return Zde(e);case Br.float4:case Br.float8:case Br.int2:case Br.int4:case Br.int8:case Br.numeric:case Br.oid:return efe(e);case Br.json:case Br.jsonb:return tfe(e);case Br.timestamp:return nfe(e);case Br.abstime:case Br.date:case Br.daterange:case Br.int4range:case Br.int8range:case Br.money:case Br.reltime:case Br.text:case Br.time:case Br.timestamptz:case Br.timetz:case Br.tsrange:case Br.tstzrange:return J_(e);default:return J_(e)}},J_=t=>t,Zde=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},efe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},tfe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},rfe=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>qz(e,a))}return t},nfe=t=>typeof t=="string"?t.replace(" ","T"):t,Hz=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class rk{constructor(e,r,n={},i=K_){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var BI;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(BI||(BI={}));class lm{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lm.syncState(this.state,i,s,o),this.pendingDiffs.forEach(c=>{this.state=lm.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=lm.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),o=this.transformState(r),a={},c={};return this.map(s,(d,f)=>{o[d]||(c[d]=f)}),this.map(o,(d,f)=>{const p=s[d];if(p){const g=f.map(w=>w.presence_ref),m=p.map(w=>w.presence_ref),v=f.filter(w=>m.indexOf(w.presence_ref)<0),x=p.filter(w=>g.indexOf(w.presence_ref)<0);v.length>0&&(a[d]=v),x.length>0&&(c[d]=x)}else a[d]=f}),this.syncDiff(s,{joins:a,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,c)=>{var d;const f=(d=e[a])!==null&&d!==void 0?d:[];if(e[a]=this.cloneDeep(c),f.length>0){const p=e[a].map(m=>m.presence_ref),g=f.filter(m=>p.indexOf(m.presence_ref)<0);e[a].unshift(...g)}n(a,f,c)}),this.map(o,(a,c)=>{let d=e[a];if(!d)return;const f=c.map(p=>p.presence_ref);d=d.filter(p=>f.indexOf(p.presence_ref)<0),e[a]=d,i(a,d,c),d.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $I;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})($I||($I={}));var cm;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(cm||(cm={}));var ll;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ll||(ll={}));class G2{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Un.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new rk(this,Ko.join,this.params,this.timeout),this.rejoinTimer=new Wz(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Un.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Un.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ko.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new lm(this),this.broadcastEndpointURL=Hz(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Un.closed){const{config:{broadcast:o,presence:a,private:c}}=this.params,d=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[cm.PRESENCE]&&this.bindings[cm.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},g={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:f}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(ll.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(ll.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket.setAuth(),m===void 0){e==null||e(ll.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(v=x==null?void 0:x.length)!==null&&v!==void 0?v:0,T=[];for(let j=0;j<w;j++){const P=x[j],{filter:{event:S,schema:B,table:$,filter:W}}=P,G=m&&m[j];if(G&&G.event===S&&G.schema===B&&G.table===$&&G.filter===W)T.push(Object.assign(Object.assign({},P),{id:G.id}));else{this.unsubscribe(),this.state=Un.errored,e==null||e(ll.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(ll.SUBSCRIBED);return}}).receive("error",m=>{this.state=Un.errored,e==null||e(ll.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ll.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Un.joined&&e===cm.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{const d=await a.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,c;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Un.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ko.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new rk(this,Ko.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Un.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new rk(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Jde){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:d,join:f}=Ko;if(n&&[a,c,d,f].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var v,x,w;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(x=m.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(m=>m.callback(g,n)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var v,x,w,T,j,P;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const S=m.id,B=(v=m.filter)===null||v===void 0?void 0:v.event;return S&&((x=r.ids)===null||x===void 0?void 0:x.includes(S))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const S=(j=(T=m==null?void 0:m.filter)===null||T===void 0?void 0:T.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return S==="*"||S===((P=r==null?void 0:r.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof g=="object"&&"ids"in g){const v=g.data,{schema:x,table:w,commit_timestamp:T,type:j,errors:P}=v;g=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:T,eventType:j,new:{},old:{},errors:P}),this._getPayloadRecords(v))}m.callback(g,n)})}_isClosed(){return this.state===Un.closed}_isJoined(){return this.state===Un.joined}_isJoining(){return this.state===Un.joining}_isLeaving(){return this.state===Un.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&G2.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ko.close,{},e)}_onError(e){this._on(Ko.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Un.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=zI(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=zI(e.columns,e.old_record)),r}}const nk=()=>{},v0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ife=[1e3,2e3,5e3,1e4],sfe=1e4,ofe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class afe{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=K_,this.transport=null,this.heartbeatIntervalMs=v0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nk,this.ref=0,this.reconnectTimer=null,this.logger=nk,this.conn=null,this.sendBuffer=[],this.serializer=new Xde,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>Nh(async()=>{const{default:a}=await Promise.resolve().then(()=>bd);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Y_.websocket}`,this.httpEndpoint=Hz(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qde.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Kde}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case am.connecting:return ju.Connecting;case am.open:return ju.Open;case am.closing:return ju.Closing;default:return ju.Closed}}isConnected(){return this.connectionState()===ju.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new G2(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Yde,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},v0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:o}=r,a=o?`(${o})`:"",c=s.status||"";this.log("receive",`${c} ${n} ${i} ${a}`.trim(),s),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(i,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ko.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([ofe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Gde};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Ko.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Wz(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},v0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,o,a,c,d,f;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:K_,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:v0.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:nk,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:p=>ife[p-1]||sfe,this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(p,g)=>g(JSON.stringify(p)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class K2 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function sn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class lfe extends K2{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class X_ extends K2{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Y2=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Nh(async()=>{const{default:n}=await Promise.resolve().then(()=>bd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},cfe=()=>lt(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Nh(()=>Promise.resolve().then(()=>bd),void 0)).Response:Response}),Q_=t=>{if(Array.isArray(t))return t.map(r=>Q_(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Q_(n)}),e},ufe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ik=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},dfe=(t,e,r)=>lt(void 0,void 0,void 0,function*(){const n=yield cfe();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const s=t.status||500,o=(i==null?void 0:i.statusCode)||s+"";e(new lfe(ik(i),s,o))}).catch(i=>{e(new X_(ik(i),i))}):e(new X_(ik(t),t))}),ffe=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(ufe(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function _g(t,e,r,n,i,s){return lt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,ffe(e,n,i,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>dfe(c,a,n))})})}function Ym(t,e,r,n){return lt(this,void 0,void 0,function*(){return _g(t,"GET",e,r,n)})}function Go(t,e,r,n,i){return lt(this,void 0,void 0,function*(){return _g(t,"POST",e,n,i,r)})}function Z_(t,e,r,n,i){return lt(this,void 0,void 0,function*(){return _g(t,"PUT",e,n,i,r)})}function hfe(t,e,r,n){return lt(this,void 0,void 0,function*(){return _g(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function J2(t,e,r,n,i){return lt(this,void 0,void 0,function*(){return _g(t,"DELETE",e,n,i,r)})}class pfe{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return lt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(sn(e))return{data:null,error:e};throw e}})}}var Gz;class mfe{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Gz]="BlobDownloadBuilder",this.promise=null}asStream(){return new pfe(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return lt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(sn(e))return{data:null,error:e};throw e}})}}Gz=Symbol.toStringTag;const gfe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},UI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yfe{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Y2(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return lt(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},UI),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const d=this._removeEmptyFolders(r),f=this._getFinalPath(d),p=yield(e=="PUT"?Z_:Go)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sn(s))return{data:null,error:s};throw s}})}upload(e,r,n){return lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return lt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:UI.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType);const p=yield Z_(this.fetch,a.toString(),c,{headers:f});return{data:{path:s,fullPath:p.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(sn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return lt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Go(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new K2("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}update(e,r,n){return lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return lt(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sn(i))return{data:null,error:i};throw i}})}copy(e,r,n){return lt(this,void 0,void 0,function*(){try{return{data:{path:(yield Go(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return lt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Go(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return lt(this,void 0,void 0,function*(){try{const i=yield Go(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sn(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"",a=this._getFinalPath(e),c=()=>Ym(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new mfe(c,this.shouldThrowOnError)}info(e){return lt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Ym(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Q_(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}exists(e){return lt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield hfe(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n)&&n instanceof X_){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${d}`)}}}remove(e){return lt(this,void 0,void 0,function*(){try{return{data:yield J2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}list(e,r,n){return lt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},gfe),r),{prefix:e||""});return{data:yield Go(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sn(i))return{data:null,error:i};throw i}})}listV2(e,r){return lt(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Go(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Kz="2.78.0",Yz={"X-Client-Info":`storage-js/${Kz}`};class xfe{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yz),r),this.fetch=Y2(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return lt(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Ym(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}getBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:yield Ym(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}createBucket(e){return lt(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Go(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sn(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return lt(this,void 0,void 0,function*(){try{return{data:yield Z_(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:yield J2(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class vfe{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yz),r),this.fetch=Y2(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}listBuckets(e){return lt(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Ym(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:yield J2(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}}const X2={"X-Client-Info":`storage-js/${Kz}`,"Content-Type":"application/json"};class Jz extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Fs(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class sk extends Jz{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bfe extends Jz{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var VI;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(VI||(VI={}));const Q2=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Nh(async()=>{const{default:n}=await Promise.resolve().then(()=>bd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},wfe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},WI=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kfe=(t,e,r)=>lt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new sk(WI(o),i,a))}).catch(()=>{const o=i+"",a=s.statusText||`HTTP ${i} error`;e(new sk(a,i,o))});else{const o=i+"",a=s.statusText||`HTTP ${i} error`;e(new sk(a,i,o))}}else e(new bfe(WI(t),t))}),_fe=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(wfe(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function Cfe(t,e,r,n,i,s){return lt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,_fe(e,n,i,s)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>kfe(c,a,n))})})}function zs(t,e,r,n,i){return lt(this,void 0,void 0,function*(){return Cfe(t,"POST",e,n,i,r)})}class Sfe{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},X2),r),this.fetch=Q2(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return lt(this,void 0,void 0,function*(){try{return{data:(yield zs(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fs(r))return{data:null,error:r};throw r}})}getIndex(e,r){return lt(this,void 0,void 0,function*(){try{return{data:yield zs(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fs(n))return{data:null,error:n};throw n}})}listIndexes(e){return lt(this,void 0,void 0,function*(){try{return{data:yield zs(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fs(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return lt(this,void 0,void 0,function*(){try{return{data:(yield zs(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fs(n))return{data:null,error:n};throw n}})}}class Efe{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},X2),r),this.fetch=Q2(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return lt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield zs(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fs(r))return{data:null,error:r};throw r}})}getVectors(e){return lt(this,void 0,void 0,function*(){try{return{data:yield zs(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fs(r))return{data:null,error:r};throw r}})}listVectors(e){return lt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield zs(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fs(r))return{data:null,error:r};throw r}})}queryVectors(e){return lt(this,void 0,void 0,function*(){try{return{data:yield zs(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fs(r))return{data:null,error:r};throw r}})}deleteVectors(e){return lt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield zs(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fs(r))return{data:null,error:r};throw r}})}}class Tfe{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},X2),r),this.fetch=Q2(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:(yield zs(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fs(r))return{data:null,error:r};throw r}})}getBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:yield zs(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fs(r))return{data:null,error:r};throw r}})}listBuckets(){return lt(this,arguments,void 0,function*(e={}){try{return{data:yield zs(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fs(r))return{data:null,error:r};throw r}})}deleteBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:(yield zs(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fs(r))return{data:null,error:r};throw r}})}}class Nfe extends Tfe{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Afe(this.url,this.headers,e,this.fetch)}}class Afe extends Sfe{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return lt(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return lt(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return lt(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return lt(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new jfe(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class jfe extends Efe{constructor(e,r,n,i,s){super(e,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return lt(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return lt(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return lt(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return lt(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return lt(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Pfe extends xfe{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new yfe(this.url,this.headers,e,this.fetch)}get vectors(){return new Nfe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vfe(this.url+"/iceberg",this.headers,this.fetch)}}const Rfe="2.78.0";let Dp="";typeof Deno<"u"?Dp="deno":typeof document<"u"?Dp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Dp="react-native":Dp="node";const Ife={"X-Client-Info":`supabase-js-${Dp}/${Rfe}`},Mfe={headers:Ife},Dfe={schema:"public"},Ofe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Lfe={},Ffe=t=>{let e;return t?e=t:typeof fetch>"u"?e=Oz:e=fetch,(...r)=>e(...r)},zfe=()=>typeof Headers>"u"?Lz:Headers,Bfe=(t,e,r)=>{const n=Ffe(r),i=zfe();return async(s,o)=>{var a;const c=(a=await e())!==null&&a!==void 0?a:t;let d=new i(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},o),{headers:d}))}};function $fe(t){return t.endsWith("/")?t:t+"/"}function Ufe(t,e){var r,n;const{db:i,auth:s,realtime:o,global:a}=t,{db:c,auth:d,realtime:f,global:p}=e,g={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),a),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function Vfe(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($fe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Xz="2.78.0",pf=30*1e3,eC=3,ok=eC*pf,Wfe="http://localhost:9999",qfe="supabase.auth.token",Hfe={"X-Client-Info":`gotrue-js/${Xz}`},tC="X-Supabase-Api-Version",Qz={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Gfe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Kfe=600*1e3;class Jm extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function dt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Yfe extends Jm{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Jfe(t){return dt(t)&&t.name==="AuthApiError"}class Pu extends Jm{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Uc extends Jm{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class $o extends Uc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xfe(t){return dt(t)&&t.name==="AuthSessionMissingError"}class nf extends Uc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class b0 extends Uc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class w0 extends Uc{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Qfe(t){return dt(t)&&t.name==="AuthImplicitGrantRedirectError"}class qI extends Uc{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rC extends Uc{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ak(t){return dt(t)&&t.name==="AuthRetryableFetchError"}class HI extends Uc{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class nC extends Uc{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),GI=` 	
\r=`.split(""),Zfe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<GI.length;e+=1)t[GI[e].charCodeAt(0)]=-2;for(let e=0;e<Bx.length;e+=1)t[Bx[e].charCodeAt(0)]=e;return t})();function KI(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Bx[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Bx[n]),e.queuedBits-=6}}function Zz(t,e,r){const n=Zfe[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function YI(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{rhe(o,n,r)};for(let o=0;o<t.length;o+=1)Zz(t.charCodeAt(o),i,s);return e.join("")}function ehe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function the(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}ehe(n,e)}}function rhe(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Hf(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Zz(t.charCodeAt(i),r,n);return new Uint8Array(e)}function nhe(t){const e=[];return the(t,r=>e.push(r)),new Uint8Array(e)}function Ou(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>KI(i,r,n)),KI(null,r,n),e.join("")}function ihe(t){return Math.round(Date.now()/1e3)+t}function she(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const $i=()=>typeof window<"u"&&typeof document<"u",vu={tested:!1,writable:!1},eB=()=>{if(!$i())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vu.tested)return vu.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),vu.tested=!0,vu.writable=!0}catch{vu.tested=!0,vu.writable=!1}return vu.writable};function ohe(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const tB=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Nh(async()=>{const{default:n}=await Promise.resolve().then(()=>bd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},ahe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",mf=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},bu=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},rc=async(t,e)=>{await t.removeItem(e)};class Fv{constructor(){this.promise=new Fv.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Fv.promiseConstructor=Promise;function lk(t){const e=t.split(".");if(e.length!==3)throw new nC("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Gfe.test(e[n]))throw new nC("JWT not in base64url format");return{header:JSON.parse(YI(e[0])),payload:JSON.parse(YI(e[1])),signature:Hf(e[2]),raw:{header:e[0],payload:e[1]}}}async function lhe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function che(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function uhe(t){return("0"+t.toString(16)).substr(-2)}function dhe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,uhe).join("")}async function fhe(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function hhe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await fhe(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sf(t,e,r=!1){const n=dhe();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await mf(t,`${e}-code-verifier`,i);const s=await hhe(n);return[s,n===s?"plain":"s256"]}const phe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mhe(t){const e=t.headers.get(tC);if(!e||!e.match(phe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ghe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function yhe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xhe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function of(t){if(!xhe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ck(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vhe(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function JI(t){return JSON.parse(JSON.stringify(t))}const Tu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bhe=[502,503,504];async function XI(t){var e;if(!ahe(t))throw new rC(Tu(t),0);if(bhe.includes(t.status))throw new rC(Tu(t),t.status);let r;try{r=await t.json()}catch(s){throw new Pu(Tu(s),s)}let n;const i=mhe(t);if(i&&i.getTime()>=Qz["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new HI(Tu(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new $o}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new HI(Tu(r),t.status,r.weak_password.reasons);throw new Yfe(Tu(r),t.status||500,n)}const whe=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Pt(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[tC]||(s[tC]=Qz["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await khe(t,e,r+a,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function khe(t,e,r,n,i,s){const o=whe(e,n,i,s);let a;try{a=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new rC(Tu(c),0)}if(a.ok||await XI(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await XI(c)}}function Uo(t){var e;let r=null;She(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=ihe(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function QI(t){const e=Uo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function cc(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function _he(t){return{data:t,error:null}}function Che(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,o=Lc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function ZI(t){return t}function She(t){return t.access_token&&t.refresh_token&&t.expires_in}const uk=["global","local","others"];class Ehe{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=tB(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=uk[0]){if(uk.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${uk.join(", ")}`);try{return await Pt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Pt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:cc})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Lc(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Pt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Che,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(dt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Pt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:cc})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,o,a,c;try{const d={nextPage:null,lastPage:0,total:0},f=await Pt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:ZI});if(f.error)throw f.error;const p=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);d[`${w}Page`]=x}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(dt(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){of(e);try{return await Pt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:cc})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){of(e);try{return await Pt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:cc})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){of(e);try{return await Pt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:cc})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){of(e.userId);try{const{data:r,error:n}=await Pt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){of(e.userId),of(e.id);try{return{data:await Pt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,o,a,c;try{const d={nextPage:null,lastPage:0,total:0},f=await Pt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:ZI});if(f.error)throw f.error;const p=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);d[`${w}Page`]=x}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(dt(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await Pt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Pt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Pt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Pt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Pt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}}function eM(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const af={debug:!!(globalThis&&eB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rB extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class The extends rB{}async function Nhe(t,e,r){af.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),af.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){af.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{af.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw af.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new The(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(af.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Ahe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function nB(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function jhe(t){return parseInt(t,16)}function Phe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Rhe(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:c,resources:d,scheme:f,uri:p,version:g}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=nB(t.address),v=f?`${f}://${n}`:n,x=t.statement?`${t.statement}
`:"",w=`${v} wants you to sign in with your Ethereum account:
${m}

${x}`;let T=`URI: ${p}
Version: ${g}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(T+=`
Expiration Time: ${i.toISOString()}`),a&&(T+=`
Not Before: ${a.toISOString()}`),c&&(T+=`
Request ID: ${c}`),d){let j=`
Resources:`;for(const P of d){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);j+=`
- ${P}`}T+=j}return`${w}
${T}`}class jn extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class $x extends jn{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Ihe({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new jn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new jn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new jn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new jn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new jn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new jn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new jn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new jn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(iB(o)){if(s.rp.id!==o)return new jn({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new jn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new jn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new jn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new jn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Mhe({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new jn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new jn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(iB(n)){if(r.rpId!==n)return new jn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new jn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new jn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new jn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Dhe{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Ohe=new Dhe;function Lhe(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Lc(t,["challenge","user","excludeCredentials"]),s=Hf(e).buffer,o=Object.assign(Object.assign({},r),{id:Hf(r.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];a.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Hf(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function Fhe(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Lc(t,["challenge","allowCredentials"]),i=Hf(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Hf(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function zhe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ou(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ou(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Bhe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ou(new Uint8Array(i.authenticatorData)),clientDataJSON:Ou(new Uint8Array(i.clientDataJSON)),signature:Ou(new Uint8Array(i.signature)),userHandle:i.userHandle?Ou(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function iB(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function tM(){var t,e;return!!($i()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function $he(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new $x("Browser returned unexpected credential type",e)}:{data:null,error:new $x("Empty credential response",e)}}catch(e){return{data:null,error:Ihe({error:e,options:t})}}}async function Uhe(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new $x("Browser returned unexpected credential type",e)}:{data:null,error:new $x("Empty credential response",e)}}catch(e){return{data:null,error:Mhe({error:e,options:t})}}}const Vhe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Whe={userVerification:"preferred",hints:["security-key"]};function Ux(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))n[s]=o;else if(r(o))n[s]=o;else if(e(o)){const a=n[s];e(a)?n[s]=Ux(a,o):n[s]=Ux(o)}else n[s]=o}return n}function qhe(t,e){return Ux(Vhe,t,e||{})}function Hhe(t,e){return Ux(Whe,t,e||{})}class Ghe{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const c=i??Ohe.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=qhe(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:f,error:p}=await $he({publicKey:d,signal:c});return f?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}case"request":{const d=Hhe(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:f,error:p}=await Uhe(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return f?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}}}catch(o){return dt(o)?{data:null,error:o}:{data:null,error:new Pu("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!r)return{data:null,error:new Jm("rpId is required for WebAuthn authentication")};try{if(!tM())return{data:null,error:new Pu("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return dt(o)?{data:null,error:o}:{data:null,error:new Pu("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!r)return{data:null,error:new Jm("rpId is required for WebAuthn registration")};try{if(!tM())return{data:null,error:new Pu("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(f=>{var p;return(p=f.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:a};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return dt(o)?{data:null,error:o}:{data:null,error:new Pu("Unexpected error in register",o)}}}}Ahe();const Khe={url:Wfe,storageKey:qfe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Hfe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rM(t,e,r){return await r()}const lf={};class Xm{get jwks(){var e,r;return(r=(e=lf[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){lf[this.storageKey]=Object.assign(Object.assign({},lf[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=lf[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){lf[this.storageKey]=Object.assign(Object.assign({},lf[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xm.nextInstanceID,Xm.nextInstanceID+=1,this.instanceID>0&&$i()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Khe),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Ehe({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=tB(i.fetch),this.lock=i.lock||rM,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:$i()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Nhe:this.lock=rM,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ghe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:eB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=eM(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=eM(this.memoryStorage)),$i()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Xz}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=ohe(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),$i()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Qfe(s)){const c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return dt(r)?{error:r}:{error:new Pu("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Uo}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(dt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:f,password:p,options:g}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await sf(this.storage,this.storageKey)),s=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:f,password:p,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:v},xform:Uo})}else if("phone"in e){const{phone:f,password:p,options:g}=e;s=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Uo})}else throw new b0("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(dt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:o,options:a}=e;r=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:QI})}else if("phone"in e){const{phone:s,password:o,options:a}=e;r=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:QI})}else throw new b0("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new nf}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,o,a,c,d,f,p,g;let m,v;if("message"in e)m=e.message,v=e.signature;else{const{chain:x,wallet:w,statement:T,options:j}=e;let P;if($i())if(typeof w=="object")P=w;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")P=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=w}const S=new URL((r=j==null?void 0:j.url)!==null&&r!==void 0?r:window.location.href),B=await P.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!B||B.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=nB(B[0]);let W=(n=j==null?void 0:j.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!W){const q=await P.request({method:"eth_chainId"});W=jhe(q)}const G={domain:S.host,address:$,statement:T,uri:S.href,version:"1",chainId:W,nonce:(i=j==null?void 0:j.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=j==null?void 0:j.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=j==null?void 0:j.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(c=j==null?void 0:j.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=j==null?void 0:j.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(f=j==null?void 0:j.signInWithEthereum)===null||f===void 0?void 0:f.resources};m=Rhe(G),v=await P.request({method:"personal_sign",params:[Phe(m),$]})}try{const{data:x,error:w}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Uo});if(w)throw w;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new nf}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:w})}catch(x){if(dt(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(e){var r,n,i,s,o,a,c,d,f,p,g,m;let v,x;if("message"in e)v=e.message,x=e.signature;else{const{chain:w,wallet:T,statement:j,options:P}=e;let S;if($i())if(typeof T=="object")S=T;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))S=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=T}const B=new URL((r=P==null?void 0:P.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const $=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P==null?void 0:P.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),j?{statement:j}:null));let W;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")W=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)W=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in W&&"signature"in W&&(typeof W.signedMessage=="string"||W.signedMessage instanceof Uint8Array)&&W.signature instanceof Uint8Array)v=typeof W.signedMessage=="string"?W.signedMessage:new TextDecoder().decode(W.signedMessage),x=W.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${B.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(i=(n=P==null?void 0:P.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=P==null?void 0:P.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((o=P==null?void 0:P.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((a=P==null?void 0:P.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((c=P==null?void 0:P.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((d=P==null?void 0:P.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((p=(f=P==null?void 0:P.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...P.signInWithSolana.resources.map(W=>`- ${W}`)]:[]].join(`
`);const $=await S.signMessage(new TextEncoder().encode(v),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=$}}try{const{data:w,error:T}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Ou(x)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Uo});if(T)throw T;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new nf}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:T})}catch(w){if(dt(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const r=await bu(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Uo});if(await rc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new nf}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(dt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=e,a=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Uo}),{data:c,error:d}=a;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new nf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,s,o;try{if("email"in e){const{email:a,options:c}=e;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await sf(this.storage,this.storageKey));const{error:p}=await Pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:a,options:c}=e,{data:d,error:f}=await Pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f}}throw new b0("You must provide either an email or phone number.")}catch(a){if(dt(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await Pt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Uo});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(dt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await sf(this.storage,this.storageKey)),await Pt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:_he})}catch(s){if(dt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new $o;const{error:i}=await Pt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(dt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:o}=await Pt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:o,error:a}=await Pt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new b0("You must provide either an email or phone number and a type")}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await bu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ok:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await bu(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=ck()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=vhe(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:cc}):await this._useSession(async r=>{var n,i,s;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $o}:await Pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:cc})})}catch(r){if(dt(r))return Xfe(r)&&(await this._removeSession(),await rc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new $o;const o=i.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await sf(this.storage,this.storageKey));const{data:d,error:f}=await Pt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:cc});if(f)throw f;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $o;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=lk(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(dt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new $o;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!$i())throw new w0("No browser detected.");if(e.error||e.error_description||e.error_code)throw new w0(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new qI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new w0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new qI("No code detected.");const{data:j,error:P}=await this._exchangeCodeForSession(e.code);if(P)throw P;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:c,token_type:d}=e;if(!s||!a||!o||!d)throw new w0("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(a);let g=f+p;c&&(g=parseInt(c));const m=g-f;m*1e3<=pf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${p}s`);const v=g-p;f-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,g,f):f-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,g,f);const{data:x,error:w}=await this._getUser(s);if(w)throw w;const T={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:g,refresh_token:o,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:e.type},error:null}}catch(n){if(dt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await bu(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Jfe(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await rc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=she(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await sf(this.storage,this.storageKey,!0));try{return await Pt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(dt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,a,c,d,f;const{data:p,error:g}=s;if(g)throw g;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Pt(this.fetch,"GET",m,{headers:this.headers,jwt:(f=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return $i()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(dt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:o,provider:a,token:c,access_token:d,nonce:f}=e,p=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:c,access_token:d,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Uo}),{data:g,error:m}=p;return m?{data:{user:null,session:null},error:m}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new nf}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),{data:g,error:m})}catch(i){if(dt(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await Pt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await che(async i=>(i>0&&await lhe(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Pt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Uo})),(i,s)=>{const o=200*Math.pow(2,i);return s&&ak(s)&&Date.now()+o-n<pf})}catch(n){if(this._debug(r,"error",n),dt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),$i()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await bu(this.storage,this.storageKey);if(i&&this.userStorage){let o=await bu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await mf(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:ck()}else if(i&&!i.user&&!i.user){const o=await bu(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await rc(this.storage,this.storageKey+"-user"),await mf(this.storage,this.storageKey,i)):i.user=ck()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ok;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${ok}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),ak(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new $o;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Fv;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new $o;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),dt(s)){const o={data:null,error:s};return ak(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await mf(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=JI(i);await mf(this.storage,this.storageKey,s)}else{const i=JI(r);await mf(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await rc(this.storage,this.storageKey),await rc(this.storage,this.storageKey+"-code-verifier"),await rc(this.storage,this.storageKey+"-user"),this.userStorage&&await rc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$i()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),pf);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/pf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${pf}ms, refresh threshold is ${eC} ticks`),i<=eC&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof rB)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$i()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await sf(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Pt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:d}=await Pt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?zhe(e.webauthn.credential_response):Bhe(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:c}=await Pt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})})}catch(r){if(dt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const o=await Pt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Lhe(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Fhe(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(dt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=lk(n.access_token);let o=null;s.aal&&(o=s.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?{data:null,error:i}:n?await Pt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new $o}})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return{data:null,error:s};if(!i)return{data:null,error:new $o};const o=await Pt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&$i()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return{data:null,error:s};if(!i)return{data:null,error:new $o};const o=await Pt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&$i()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(dt(n))return{data:null,error:n};throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+Kfe>i)return n;const{data:s,error:o}=await Pt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};n=m.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:c}}=lk(n);r!=null&&r.allowExpired||ghe(s.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:i,signature:o},error:null}}const f=yhe(i.alg),p=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,o,nhe(`${a}.${c}`)))throw new nC("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}}Xm.nextInstanceID=0;const Yhe=Xm;class Jhe extends Yhe{constructor(e){super(e)}}class Xhe{constructor(e,r,n){var i,s,o;this.supabaseUrl=e,this.supabaseKey=r;const a=Vfe(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,d={db:Dfe,realtime:Lfe,auth:Object.assign(Object.assign({},Ofe),{storageKey:c}),global:Mfe},f=Ufe(n??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=Bfe(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Wde(new URL("rest/v1",a).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new Pfe(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new Dde(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:o,flowType:a,lock:c,debug:d},f,p){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Jhe({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),f),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:a,lock:c,debug:d,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new afe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Qhe=(t,e,r)=>new Xhe(t,e,r);function Zhe(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Zhe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const sB="http://127.0.0.1:54321",Z2="sb_publishable_ACJWlzQHlZjBrEguHvfOxg_3BJgxAaH",epe=Z2==="your-supabase-anon-key",Ln=Qhe(sB,Z2,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}}),dl={USER_SOCIAL_ACCOUNTS:"user_social_accounts",VERIFICATION_RECORDS:"social_media_verifications",PURCHASE_SIGNATURES:"purchase_signatures"},xn={TWITTER:"twitter",DISCORD:"discord",TELEGRAM:"telegram"},il={PENDING:"pending",VERIFIED:"completed",FAILED:"failed",EXPIRED:"expired"},wu={TWITTER_LIKE:"twitter_like",TWITTER_RETWEET:"twitter_retweet",TWITTER_FOLLOW:"twitter_follow",TWITTER_MENTION:"twitter_mention",DISCORD_JOIN:"discord_join",DISCORD_ROLE:"discord_role",TELEGRAM_JOIN:"telegram_join"},oB={VERIFY_TWITTER:"verify-twitter",VERIFY_DISCORD:"verify-discord",VERIFY_TELEGRAM:"verify-telegram",GENERATE_SIGNATURE:"generate-signature",OAUTH_TWITTER:"oauth-twitter",OAUTH_DISCORD:"oauth-discord"},Ea=async(t,e={})=>{try{const{data:r,error:n}=await Ln.functions.invoke(t,{body:e});if(n)throw n;return{data:r,error:null}}catch(r){return console.error(`Error calling edge function ${t}:`,r),{data:null,error:r}}};class tpe{constructor(){this.authenticatedAccounts=new Map}async initiateTwitterAuth(e){try{const{data:r,error:n}=await Ea("oauth-twitter",{user_address:e,action:"initiate"});if(n)throw n;return{success:!0,authUrl:r.auth_url,error:null}}catch(r){return console.error("Twitter OAuth initiation failed:",r),{success:!1,authUrl:null,error:r.message}}}async handleTwitterCallback(e,r,n){try{const{data:i,error:s}=await Ea("oauth-twitter",{code:e,state:r,user_address:n,action:"callback"});if(s)throw s;return await this.storeSocialAccount({walletAddress:n,platform:xn.TWITTER,platformUserId:i.user_id,platformUsername:i.username,accessToken:i.access_token,refreshToken:i.refresh_token,expiresAt:i.expires_at}),this.authenticatedAccounts.set(`${n}_${xn.TWITTER}`,i),{success:!0,error:null}}catch(i){return console.error("Twitter OAuth callback failed:",i),{success:!1,error:i.message}}}async initiateDiscordAuth(e){try{const{data:r,error:n}=await Ea("oauth-discord",{user_address:e,action:"initiate"});if(n)throw n;return{success:!0,authUrl:r.auth_url,error:null}}catch(r){return console.error("Discord OAuth initiation failed:",r),{success:!1,authUrl:null,error:r.message}}}async handleDiscordCallback(e,r,n){try{const{data:i,error:s}=await Ea("oauth-discord",{code:e,state:r,user_address:n,action:"callback"});if(s)throw s;return await this.storeSocialAccount({walletAddress:n,platform:xn.DISCORD,platformUserId:i.user_id,platformUsername:i.username,accessToken:i.access_token,refreshToken:i.refresh_token,expiresAt:i.expires_at}),this.authenticatedAccounts.set(`${n}_${xn.DISCORD}`,i),{success:!0,error:null}}catch(i){return console.error("Discord OAuth callback failed:",i),{success:!1,error:i.message}}}async initiateTelegramAuth(e,r){try{const{data:n,error:i}=await Ea("oauth-telegram",{user_address:e,telegram_username:r,action:"initiate"});if(i)throw i;return{success:!0,verificationCode:n.verification_code,botUsername:n.bot_username,error:null}}catch(n){return console.error("Telegram auth initiation failed:",n),{success:!1,verificationCode:null,error:n.message}}}async verifyTelegramAuth(e,r){try{const{data:n,error:i}=await Ea("oauth-telegram",{user_address:e,verification_code:r,action:"verify"});if(i)throw i;return await this.storeSocialAccount({walletAddress:e,platform:xn.TELEGRAM,platformUserId:n.user_id,platformUsername:n.username,accessToken:null,refreshToken:null,expiresAt:null}),this.authenticatedAccounts.set(`${e}_${xn.TELEGRAM}`,n),{success:!0,error:null}}catch(n){return console.error("Telegram auth verification failed:",n),{success:!1,error:n.message}}}async storeSocialAccount(e){const{walletAddress:r,platform:n,platformUserId:i,platformUsername:s,accessToken:o,refreshToken:a,expiresAt:c}=e,{data:d}=await Ln.from(dl.USER_SOCIAL_ACCOUNTS).select("id").eq("user_address",r).eq("platform",n).single(),f={user_address:r,platform:n,platform_user_id:i,platform_username:s,access_token:o,refresh_token:a,expires_at:c,updated_at:new Date().toISOString()};if(d){const{error:p}=await Ln.from(dl.USER_SOCIAL_ACCOUNTS).update(f).eq("id",d.id);if(p)throw p}else{const{error:p}=await Ln.from(dl.USER_SOCIAL_ACCOUNTS).insert(f);if(p)throw p}}async getAuthenticatedAccounts(e){try{console.log("Fetching authenticated accounts for wallet:",e);const{data:r,error:n}=await Ln.from(dl.USER_SOCIAL_ACCOUNTS).select("*").eq("user_address",e);if(console.log("Supabase query result:",{data:r,error:n}),n)throw console.error("Supabase query error:",n),n;const i=r.filter(s=>!(s.token_expires_at&&new Date(s.token_expires_at)<new Date));return console.log("Valid accounts found:",i.length),{accounts:i,error:null}}catch(r){return console.error("Failed to get authenticated accounts:",r),{accounts:[],error:r.message}}}async isAuthenticated(e,r){try{console.log("Checking authentication for platform:",r,"wallet:",e);const{data:n,error:i}=await Ln.from(dl.USER_SOCIAL_ACCOUNTS).select("*").eq("user_address",e).eq("platform",r).maybeSingle();return console.log("Authentication check result:",{data:n,error:i}),i&&i.code!=="PGRST116"?(console.error("Authentication check error:",i),{success:!1,error:i.message,isAuthenticated:!1}):n?n.token_expires_at&&new Date(n.token_expires_at)<new Date?{success:!0,isAuthenticated:!1,account:null}:{success:!0,isAuthenticated:!0,account:n}:{success:!0,isAuthenticated:!1,account:null}}catch(n){return console.error("Failed to check authentication status:",n),{success:!1,error:n.message,isAuthenticated:!1}}}async refreshToken(e,r){try{const{account:n}=await this.isAuthenticated(e,r);if(!n||!n.refresh_token)throw new Error("No refresh token available");const{data:i,error:s}=await Ea(`oauth-${r}`,{user_address:e,refresh_token:n.refresh_token,action:"refresh"});if(s)throw s;return await this.storeSocialAccount({walletAddress:e,platform:r,platformUserId:n.platform_user_id,platformUsername:n.platform_username,accessToken:i.access_token,refreshToken:i.refresh_token||n.refresh_token,expiresAt:i.expires_at}),{success:!0,error:null}}catch(n){return console.error("Token refresh failed:",n),{success:!1,error:n.message}}}async disconnectAccount(e,r){try{const{error:n}=await Ln.from(dl.USER_SOCIAL_ACCOUNTS).delete().eq("user_address",e).eq("platform",r);if(n)throw n;return this.authenticatedAccounts.delete(`${e}_${r}`),{success:!0,error:null}}catch(n){return console.error("Failed to disconnect account:",n),{success:!1,error:n.message}}}getAuthInstructions(e){return{[xn.TWITTER]:{title:"Connect Twitter/X Account",description:"Connect your Twitter/X account to verify social media tasks",steps:['Click "Connect Twitter" button',"You will be redirected to Twitter/X","Authorize Dropr to access your account","You will be redirected back to complete the connection"]},[xn.DISCORD]:{title:"Connect Discord Account",description:"Connect your Discord account to verify server membership and roles",steps:['Click "Connect Discord" button',"You will be redirected to Discord","Authorize Dropr to access your account","You will be redirected back to complete the connection"]},[xn.TELEGRAM]:{title:"Connect Telegram Account",description:"Connect your Telegram account to verify group membership",steps:["Enter your Telegram username",'Click "Connect Telegram" button',"Send the verification code to our bot","Your account will be connected automatically"]}}[e]||null}}const Vs=new tpe;class rpe{constructor(){this.verificationCache=new Map}async verifyTwitterTask(e,r,n,i){try{const{isAuthenticated:s,account:o}=await Vs.isAuthenticated(e,xn.TWITTER);if(!s)throw new Error("Twitter account not authenticated. Please connect your Twitter account first.");const a=await this.createVerificationRecord({walletAddress:e,raffleAddress:r,platform:xn.TWITTER,taskType:n,taskData:i}),{data:c,error:d}=await Ea("verify-twitter",{user_address:e,raffle_id:r,verification_id:a.id,task_type:n,task_data:i,twitter_user_id:o.platform_user_id,access_token:o.access_token});if(d)throw await this.updateVerificationStatus(a.id,il.FAILED,d.message),d;return await this.updateVerificationStatus(a.id,il.VERIFIED),{success:!0,verificationId:a.id,error:null,details:c}}catch(s){return console.error("Twitter verification failed:",s),{success:!1,verificationId:null,error:s.message}}}async verifyDiscordTask(e,r,n,i){try{const{isAuthenticated:s,account:o}=await Vs.isAuthenticated(e,xn.DISCORD);if(!s)throw new Error("Discord account not authenticated. Please connect your Discord account first.");const a=await this.createVerificationRecord({walletAddress:e,raffleAddress:r,platform:xn.DISCORD,taskType:n,taskData:i}),{data:c,error:d}=await Ea("verify-discord",{user_address:e,raffle_id:r,verification_id:a.id,task_type:n,task_data:i,discord_user_id:o.platform_user_id,access_token:o.access_token});if(d)throw await this.updateVerificationStatus(a.id,il.FAILED,d.message),d;return await this.updateVerificationStatus(a.id,il.VERIFIED),{success:!0,verificationId:a.id,error:null,details:c}}catch(s){return console.error("Discord verification failed:",s),{success:!1,verificationId:null,error:s.message}}}async verifyTelegramTask(e,r,n,i){try{const{isAuthenticated:s,account:o}=await Vs.isAuthenticated(e,xn.TELEGRAM);if(!s)throw new Error("Telegram account not authenticated. Please connect your Telegram account first.");const a=await this.createVerificationRecord({walletAddress:e,raffleAddress:r,platform:xn.TELEGRAM,taskType:n,taskData:i}),{data:c,error:d}=await Ea("verify-telegram",{user_address:e,raffle_id:r,verification_id:a.id,task_type:n,task_data:i,telegram_user_id:o.platform_user_id});if(d)throw await this.updateVerificationStatus(a.id,il.FAILED,d.message),d;return await this.updateVerificationStatus(a.id,il.VERIFIED),{success:!0,verificationId:a.id,error:null,details:c}}catch(s){return console.error("Telegram verification failed:",s),{success:!1,verificationId:null,error:s.message}}}async createVerificationRecord(e){const{walletAddress:r,raffleAddress:n,platform:i,taskType:s,taskData:o}=e,a={user_address:r,raffle_id:n,platform:i,task_type:s,task_data:o,status:il.PENDING,updated_at:new Date().toISOString(),created_at:new Date().toISOString()},{data:c,error:d}=await Ln.from(dl.VERIFICATION_RECORDS).upsert(a,{onConflict:"user_address,raffle_id,platform,task_type",ignoreDuplicates:!1}).select().single();if(d)throw d;return c}async updateVerificationStatus(e,r,n=null){const i={status:r,updated_at:new Date().toISOString()};r===il.VERIFIED&&(i.verified_at=new Date().toISOString()),n&&(i.error_message=n);const{error:s}=await Ln.from(dl.VERIFICATION_RECORDS).update(i).eq("id",e);if(s)throw s}async getVerificationRecords(e,r){try{const{data:n,error:i}=await Ln.from(dl.VERIFICATION_RECORDS).select("*").eq("user_address",e).eq("raffle_id",r).order("created_at",{ascending:!1});if(i)throw i;return{records:n,error:null}}catch(n){return console.error("Failed to get verification records:",n),{records:[],error:n.message}}}async checkAllTasksVerified(e,r,n){try{const{records:i}=await this.getVerificationRecords(e,r),s=i.filter(c=>c.status===il.VERIFIED),o=s.map(c=>`${c.platform}_${c.task_type}_${JSON.stringify(c.task_data)}`),a=n.filter(c=>{const d=`${c.platform}_${c.type}_${JSON.stringify(c.data)}`;return!o.includes(d)});return{allVerified:a.length===0,verifiedTasks:s,missingTasks:a}}catch(i){return console.error("Failed to check task verification status:",i),{allVerified:!1,verifiedTasks:[],missingTasks:n}}}async verifyTask(e,r,n,i){switch(e){case xn.TWITTER:return await this.verifyTwitterTask(r,n,i);case xn.DISCORD:return await this.verifyDiscordTask(r,n,i);case xn.TELEGRAM:return await this.verifyTelegramTask(r,n,i);default:return{success:!1,verificationId:null,error:`Unsupported platform: ${e}`}}}getTaskInstructions(e,r){var i;return((i={[xn.TWITTER]:{[wu.TWITTER_LIKE]:{title:"Like Tweet",description:"Like the specified tweet to complete this task",steps:["Click the heart icon on the tweet","Ensure the heart is filled (red color)",'Click "Verify" to check completion']},[wu.TWITTER_RETWEET]:{title:"Retweet",description:"Retweet the specified tweet to complete this task",steps:["Click the retweet icon on the tweet",'Choose "Retweet" or "Quote Tweet"','Click "Verify" to check completion']},[wu.TWITTER_FOLLOW]:{title:"Follow Account",description:"Follow the specified Twitter account",steps:["Visit the Twitter profile",'Click the "Follow" button','Click "Verify" to check completion']},[wu.TWITTER_MENTION]:{title:"Mention in Tweet",description:"Create a tweet mentioning the specified account",steps:["Create a new tweet","Include the required mention (@username)","Post the tweet",'Click "Verify" to check completion']}},[xn.DISCORD]:{[wu.DISCORD_JOIN]:{title:"Join Discord Server",description:"Join the specified Discord server",steps:["Click the Discord invite link","Accept the server invitation","Ensure you remain in the server",'Click "Verify" to check membership']},[wu.DISCORD_ROLE]:{title:"Obtain Discord Role",description:"Get the specified role in the Discord server",steps:["Join the Discord server first","Follow server instructions to get the role","Check that you have the required role",'Click "Verify" to check role assignment']}},[xn.TELEGRAM]:{[wu.TELEGRAM_JOIN]:{title:"Join Telegram Group",description:"Join the specified Telegram group or channel",steps:["Click the Telegram invite link","Join the group or channel","Ensure you remain a member",'Click "Verify" to check membership']}}}[e])==null?void 0:i[r])||{title:"Unknown Task",description:"Task instructions not available",steps:["Contact support for assistance"]}}clearCache(){this.verificationCache.clear()}getCachedResult(e){return this.verificationCache.get(e)||null}setCachedResult(e,r,n=3e5){this.verificationCache.set(e,r),setTimeout(()=>{this.verificationCache.delete(e)},n)}}const uc=new rpe;class npe{constructor(){this.subscriptions=new Map,this.listeners=new Map}subscribeToVerification(e,r,n={}){const i=`${e}-${r}`;this.subscriptions.has(i)&&this.unsubscribe(i),console.log(`[RealTime] Subscribing to verification updates for ${e} on raffle ${r}`);const s=Ln.channel(`verification-events-${i}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"verification_events",filter:`user_address=eq.${e.toLowerCase()},raffle_id=eq.${r}`},a=>{console.log("[RealTime] Verification event received:",a),this.handleVerificationEvent(a.new,n)}).subscribe(a=>{console.log(`[RealTime] Events subscription status: ${a}`)}),o=Ln.channel(`verifications-${i}`).on("postgres_changes",{event:"*",schema:"public",table:"social_media_verifications",filter:`user_address=eq.${e.toLowerCase()},raffle_id=eq.${r}`},a=>{console.log("[RealTime] Verification status changed:",a),this.handleVerificationStatusChange(a,n)}).subscribe(a=>{console.log(`[RealTime] Verifications subscription status: ${a}`)});return this.subscriptions.set(i,{eventsChannel:s,verificationsChannel:o,userAddress:e,raffleId:r}),()=>this.unsubscribe(i)}handleVerificationEvent(e,r){const{event_type:n,task_type:i,metadata:s}=e;switch(n){case"task_completed":r.onTaskCompleted&&r.onTaskCompleted({taskType:i,metadata:s});break;case"all_completed":r.onAllTasksCompleted&&r.onAllTasksCompleted({totalTasks:s.total_tasks,completedAt:s.completed_at});break;case"verification_ready":r.onVerificationReady&&r.onVerificationReady({canPurchase:s.can_purchase,readyAt:s.ready_at});break;default:console.log("[RealTime] Unknown event type:",n)}r.onUpdate&&r.onUpdate(e)}handleVerificationStatusChange(e,r){const{eventType:n,new:i,old:s}=e;n==="UPDATE"&&(s==null?void 0:s.status)!==(i==null?void 0:i.status)&&i.status==="completed"&&r.onTaskCompleted&&r.onTaskCompleted({taskType:i.task_type,platform:i.platform,verificationId:i.id}),r.onStatusChange&&r.onStatusChange({eventType:n,newRecord:i,oldRecord:s})}unsubscribe(e){const r=this.subscriptions.get(e);r&&(console.log(`[RealTime] Unsubscribing from ${e}`),r.eventsChannel.unsubscribe(),r.verificationsChannel.unsubscribe(),this.subscriptions.delete(e))}unsubscribeAll(){console.log("[RealTime] Unsubscribing from all verification updates"),this.subscriptions.forEach((e,r)=>{this.unsubscribe(r)}),this.subscriptions.clear(),this.listeners.clear()}async getVerificationProgress(e,r){try{const{data:n,error:i}=await Ln.rpc("get_verification_progress",{p_user_address:e.toLowerCase(),p_raffle_id:r});if(i)throw i;return{success:!0,data:(n==null?void 0:n[0])||{total_tasks:0,completed_tasks:0,pending_tasks:0,progress_percentage:0,all_completed:!1,tasks:[]}}}catch(n){return console.error("[RealTime] Error fetching verification progress:",n),{success:!1,error:n.message}}}async areAllTasksCompleted(e,r){const n=await this.getVerificationProgress(e,r);return n.success&&n.data.all_completed}async getRecentEvents(e,r,n=10){try{const{data:i,error:s}=await Ln.from("verification_events").select("*").eq("user_address",e.toLowerCase()).eq("raffle_id",r).order("created_at",{ascending:!1}).limit(n);if(s)throw s;return{success:!0,events:i||[]}}catch(i){return console.error("[RealTime] Error fetching recent events:",i),{success:!1,error:i.message,events:[]}}}}const ipe=new npe,nM={twitter:jm,discord:Df,telegram:Am,instagram:sY,youtube:gY,facebook:nY,linkedin:oY,website:Tm,default:Tm},iM={follow:Xo,like:s3,retweet:dY,comment:uY,mention:XK,join:Xo,share:zu,default:zu},spe=t=>{if(!t)return[];try{const e=JSON.parse(t);console.log("Parsed JSON tasks:",e);const r=Array.isArray(e)?e.map(ape):[];return console.log("Enhanced JSON tasks:",r),r}catch{console.log("Parsing text-based tasks from:",t);const e=ope(t);return console.log("Parsed text tasks:",e),e}},ope=t=>{const e=[],r=[{pattern:/twitter[:\s]+follow(?:\s+account)?[:\s\-]+@?([a-zA-Z0-9_]+)/gi,platform:"twitter",action:"follow",extractTarget:i=>i[1]},{pattern:/twitter[:\s]+like[:\s\-]+(https?:\/\/(?:twitter\.com|x\.com)\/[^\s]+)/gi,platform:"twitter",action:"like",extractTarget:i=>i[1]},{pattern:/twitter[:\s]+retweet[:\s\-]+(https?:\/\/(?:twitter\.com|x\.com)\/[^\s]+)/gi,platform:"twitter",action:"retweet",extractTarget:i=>i[1]},{pattern:/twitter[:\s]+comment(?:\s+on\s+tweet)?[:\s\-]+(https?:\/\/(?:twitter\.com|x\.com)\/[^\s]+)/gi,platform:"twitter",action:"comment",extractTarget:i=>i[1]},{pattern:/discord[:\s]+join[:\s]+(https?:\/\/discord\.gg\/[^\s]+)/gi,platform:"discord",action:"join",extractTarget:i=>i[1]},{pattern:/telegram[:\s]+join[:\s]+(https?:\/\/t\.me\/[^\s]+)/gi,platform:"telegram",action:"join",extractTarget:i=>i[1]},{pattern:/telegram[:\s]+join[:\s]+@?([a-zA-Z0-9_]+)/gi,platform:"telegram",action:"join",extractTarget:i=>i[1]}];let n=1;return r.forEach(({pattern:i,platform:s,action:o,extractTarget:a})=>{let c;for(;(c=i.exec(t))!==null;){const d=a(c);e.push({id:`${s}_${o}_${n++}`,platform:s,action:o,target:d,title:`${s.charAt(0).toUpperCase()+s.slice(1)} ${o.charAt(0).toUpperCase()+o.slice(1)}`,description:`${o.charAt(0).toUpperCase()+o.slice(1)} ${d}`,actionData:aB(s,o,d)})}}),e.length===0&&e.push({id:"generic_task",platform:"default",action:"complete",target:"",title:"Social Media Engagement",description:t,actionData:null}),e},ape=t=>{console.log("Enhancing task with action data:",t);const e=aB(t.platform,t.action||t.type,t.target||t.data);console.log("Generated action data:",e);const r={...t,actionData:e};return console.log("Enhanced task:",r),r},aB=(t,e,r)=>{switch(t==null?void 0:t.toLowerCase()){case"twitter":return lpe(e,r);case"discord":return cpe(e,r);case"telegram":return upe(e,r);default:return null}},lpe=(t,e)=>{switch(t==null?void 0:t.toLowerCase()){case"follow":return{type:"follow",url:`https://twitter.com/${e.replace("@","")}`,buttonText:"Follow on Twitter",icon:"follow"};case"like":case"twitter_like":const r=dk(e);return{type:"like",url:e.startsWith("http")?e:`https://twitter.com/i/status/${r}`,buttonText:"Like Tweet",icon:"like"};case"retweet":case"twitter_retweet":const n=dk(e);return{type:"retweet",url:e.startsWith("http")?e:`https://twitter.com/i/status/${n}`,buttonText:"Retweet",icon:"retweet"};case"comment":case"twitter_comment":const i=dk(e);return{type:"comment",url:e.startsWith("http")?e:`https://twitter.com/i/status/${i}`,buttonText:"Comment on Tweet",icon:"comment"};case"mention":case"twitter_mention":return{type:"mention",url:`https://twitter.com/compose/tweet?text=${encodeURIComponent(`@${e.replace("@","")} `)}`,buttonText:"Create Mention Tweet",icon:"mention"};default:return{type:"generic",url:`https://twitter.com/${e.replace("@","")}`,buttonText:"Open on Twitter",icon:"default"}}},cpe=(t,e)=>{switch(t==null?void 0:t.toLowerCase()){case"join":case"discord_join":return{type:"join",url:e.startsWith("http")?e:`https://discord.gg/${e}`,buttonText:"Join Discord Server",icon:"join"};default:return{type:"generic",url:e.startsWith("http")?e:`https://discord.gg/${e}`,buttonText:"Open Discord",icon:"default"}}},upe=(t,e)=>{switch(t==null?void 0:t.toLowerCase()){case"join":case"telegram_join":return{type:"join",url:e.startsWith("http")?e:`https://t.me/${e.replace("@","")}`,buttonText:"Join Telegram",icon:"join"};default:return{type:"generic",url:e.startsWith("http")?e:`https://t.me/${e.replace("@","")}`,buttonText:"Open Telegram",icon:"default"}}},dk=t=>{if(typeof t!="string")return"";const e=t.match(/status\/(\d+)/);return e?e[1]:t},dpe=({task:t,onComplete:e,onAuthenticate:r,isCompleted:n,isVerifying:i,isAuthenticated:s,userAddress:o,raffleId:a,taskStatus:c,onRetry:d,authenticatedAccounts:f})=>{var W,G,q;const[p,g]=C.useState(!1),[m,v]=C.useState(!1),x=nM[(W=t.platform)==null?void 0:W.toLowerCase()]||nM.default,w=iM[(G=t.actionData)==null?void 0:G.icon]||iM.default,T=(c==null?void 0:c.status)==="verifying",j=(c==null?void 0:c.status)==="failed",P=async()=>{var H;if(!o){te.error("Please connect your wallet first");return}g(!0);try{let J;switch((H=t.platform)==null?void 0:H.toLowerCase()){case"twitter":J=await Vs.initiateTwitterAuth(o);break;case"discord":J=await Vs.initiateDiscordAuth(o);break;case"telegram":J=await Vs.initiateTelegramAuth(o);break;default:throw new Error(`Unsupported platform: ${t.platform}`)}if(J.success){if(J.authUrl){console.log("Opening OAuth popup for platform:",t.platform);const V=window.open(J.authUrl,"_blank","width=600,height=600");te.success("Authentication window opened. Please complete the OAuth process.");const F=setInterval(()=>{console.log("Checking if popup is closed...",V==null?void 0:V.closed),V&&V.closed&&(console.log("Popup closed, refreshing authentication status for:",t.platform),clearInterval(F),r(t.platform))},1e3);setTimeout(()=>{console.log("Fallback timeout reached, forcing popup close and refresh"),clearInterval(F),V&&!V.closed&&(V.close(),r(t.platform))},3e5)}}else te.error(J.error||"Authentication failed")}catch(J){console.error("Authentication error:",J),te.error("Failed to initiate authentication")}finally{g(!1)}},S=()=>{var H;(H=t.actionData)!=null&&H.url&&(window.open(t.actionData.url,"_blank","noreferrer"),te.success("Task page opened in new tab. Complete the action and return to verify."))},B=async()=>{if(!o||!t.platform){te.error("Missing required information");return}v(!0);try{const H=await Vs.disconnectAccount(o,t.platform.toLowerCase());H.success?(te.success(`${t.platform.charAt(0).toUpperCase()+t.platform.slice(1)} account disconnected successfully!`),r&&r(t.platform.toLowerCase())):te.error(H.error||"Failed to disconnect account")}catch(H){console.error("Disconnect error:",H),te.error("Failed to disconnect account")}finally{v(!1)}},$=async()=>{var H;if(!o||!a){te.error("Missing required information");return}console.log("Task data for verification:",{task:t,taskType:t.type,taskAction:t.action,taskData:t.data,taskTarget:t.target});try{let J;switch((H=t.platform)==null?void 0:H.toLowerCase()){case"twitter":let V=t.type||t.action||"follow";V==="following"?V="follow":V==="liking"?V="like":V==="retweeting"&&(V="retweet");const F=t.data||{target:t.target};console.log("Calling verification with:",{userAddress:o,raffleId:a,taskType:V,taskData:F}),J=await uc.verifyTwitterTask(o,a,V,F);break;case"discord":const b=t.type||t.action||"follow",A=t.data||{target:t.target};J=await uc.verifyDiscordTask(o,a,b,A);break;case"telegram":const O=t.type||t.action||"follow",R=t.data||{target:t.target};J=await uc.verifyTelegramTask(o,a,O,R);break;default:throw new Error(`Unsupported platform: ${t.platform}`)}J.success?(te.success("Task verified successfully!"),e(t.id,J.data)):te.error(J.error||"Verification failed")}catch(J){console.error("Verification error:",J),te.error("Failed to verify task")}};return l.jsxs("div",{className:"border border-border rounded-lg p-3 bg-card",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(x,{className:"h-5 w-5 text-muted-foreground flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h4",{className:"font-medium text-sm",children:t.title}),t.platform&&l.jsx(ea,{variant:"outline",className:"text-xs",children:t.platform.charAt(0).toUpperCase()+t.platform.slice(1)})]}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:t.description}),t.platform&&["twitter","discord","telegram"].includes(t.platform.toLowerCase())&&l.jsx("div",{className:"flex items-center gap-1 mt-1",children:s?l.jsxs(l.Fragment,{children:[l.jsx(ml,{className:"h-3 w-3 text-green-600"}),l.jsx("span",{className:"text-xs text-green-700",children:((q=f[t.platform.toLowerCase()])==null?void 0:q.platform_username)==="pending"?"Connecting...":"Authenticated"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Nm,{className:"h-3 w-3 text-orange-600"}),l.jsx("span",{className:"text-xs text-orange-700",children:"Auth Required"})]})})]}),l.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:!n&&l.jsxs(l.Fragment,{children:[(()=>{const H=t.platform&&["twitter","discord","telegram"].includes(t.platform.toLowerCase())&&!s;return console.log("Connect button display check:",{taskPlatform:t.platform,platformIncluded:t.platform&&["twitter","discord","telegram"].includes(t.platform.toLowerCase()),isAuthenticated:s,shouldShow:H}),H})()&&l.jsx(qe,{onClick:P,disabled:p,size:"sm",variant:"outline",className:"text-xs whitespace-nowrap",children:p?"Connecting...":"Connect"}),s&&t.actionData&&l.jsxs(qe,{variant:"outline",size:"sm",onClick:S,className:"text-xs whitespace-nowrap",children:[l.jsx(w,{className:"h-3 w-3 mr-1"}),t.actionData.buttonText.replace("on Twitter","").replace("on Discord","").replace("on Telegram","").trim()]}),s&&t.platform&&["twitter","discord","telegram"].includes(t.platform.toLowerCase())&&l.jsx(qe,{onClick:B,disabled:m,size:"sm",variant:"outline",className:"text-xs whitespace-nowrap text-red-600 hover:text-red-700 hover:border-red-300",children:m?"Disconnecting...":"Disconnect"}),s&&!n&&t.platform&&["twitter","discord","telegram"].includes(t.platform.toLowerCase())&&l.jsx(qe,{onClick:$,disabled:i,size:"sm",variant:"default",className:"text-xs whitespace-nowrap bg-green-600 hover:bg-green-700",children:i?"Verifying...":"Verify Task"}),s&&t.actionUrl&&!t.actionData&&l.jsxs(qe,{variant:"outline",size:"sm",onClick:()=>window.open(t.actionUrl,"_blank"),className:"text-xs whitespace-nowrap",children:[l.jsx(zu,{className:"h-3 w-3 mr-1"}),"Complete"]})]})}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[j&&l.jsx(qe,{onClick:()=>d(t.id),size:"sm",variant:"ghost",className:"text-xs h-6 px-2",title:"Retry verification",children:l.jsx(Qf,{className:"h-3 w-3"})}),l.jsx(ea,{variant:n?"default":j?"destructive":"secondary",className:"text-xs",children:n?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(jr,{className:"h-3 w-3"}),"Done"]}):j?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(vh,{className:"h-3 w-3"}),"Failed"]}):T?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(aY,{className:"h-3 w-3 animate-spin"}),"Verifying"]}):l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Em,{className:"h-3 w-3"}),"Pending"]})})]})]}),j&&(c==null?void 0:c.error)&&l.jsxs("div",{className:"mt-2 flex items-start gap-2 p-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded text-xs",children:[l.jsx(dr,{className:"h-3 w-3 text-red-600 flex-shrink-0 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-red-700 dark:text-red-300",children:c.error}),l.jsx("button",{onClick:()=>d(t.id),className:"text-red-600 dark:text-red-400 underline hover:no-underline mt-1",children:"Click to retry"})]})]})]})},fpe=({raffle:t,userAddress:e,socialEngagementRequired:r,hasCompletedSocialEngagement:n,onVerificationComplete:i})=>{const{connected:s}=xr(),{contracts:o,executeTransaction:a}=Sr(),[c,d]=C.useState([]),[f,p]=C.useState(new Set),[g,m]=C.useState(!1),[v,x]=C.useState(!1),[w,T]=C.useState({}),[j,P]=C.useState([]),[S,B]=C.useState(!1),[$,W]=C.useState(!1),[G,q]=C.useState({}),[H,J]=C.useState(new Set);C.useEffect(()=>{if(t!=null&&t.socialTaskDescription){const k=spe(t.socialTaskDescription);d(k)}else d([])},[t==null?void 0:t.socialTaskDescription]),C.useEffect(()=>{s&&e&&V()},[s,e,t==null?void 0:t.address]),C.useEffect(()=>{s&&e&&(o!=null&&o.socialEngagementManager)&&F()},[s,e,o==null?void 0:o.socialEngagementManager,t==null?void 0:t.address,j]),C.useEffect(()=>{if(!e||!(t!=null&&t.address))return;const k=ipe.subscribeToVerification(e,t.address,{onTaskCompleted:I=>{te.success(`Task completed: ${I.taskType}`),q(N=>({...N,[I.taskId]:{status:"completed",timestamp:Date.now()}})),V()},onAllTasksCompleted:I=>{te.success(" All tasks completed! You can now purchase slots."),V(),i&&i()},onVerificationReady:()=>{te.success(" Verification complete! Purchase slots button is now active.")},onTaskFailed:I=>{q(N=>({...N,[I.taskId]:{status:"failed",error:I.error,timestamp:Date.now()}})),te.error(`Task verification failed: ${I.error}`)}});return()=>{k()}},[e,t==null?void 0:t.address,i]);const V=async()=>{if(e){B(!0);try{const k=await Vs.getAuthenticatedAccounts(e);if(console.log("Accounts result from service:",k),k&&!k.error&&Array.isArray(k.accounts)){const I={};k.accounts.forEach(N=>{I[N.platform]=N}),T(I)}else k&&k.error?(console.warn("Failed to load authenticated accounts:",k.error),T({})):(console.warn("Unexpected response format from getAuthenticatedAccounts"),T({}));if(t!=null&&t.address)try{const I=await uc.getVerificationRecords(e,t.address);if(console.log("Verification records result:",I),I&&!I.error&&Array.isArray(I.records)){P(I.records);const N=new Set;I.records.forEach(D=>{if(D.status==="completed"){const E=c.find(M=>M.platform===D.platform&&M.type===D.task_type);E&&N.add(E.id)}}),p(N)}else console.warn("No verification records found or invalid format"),P([])}catch(I){console.error("Error loading verification records:",I),P([]),I.message&&I.message.includes("fetch")&&te.error("Unable to connect to verification service. Please check your connection.")}}catch(k){console.error("Error loading user data:",k),T({}),P([]),k.message&&k.message.includes("fetch")?te.error("Unable to connect to backend services. Please check your internet connection."):k.message&&k.message.includes("Supabase")?te.error("Backend service temporarily unavailable. Please try again later."):te.error("Failed to load verification data. Please refresh the page.")}finally{B(!1)}}},F=async()=>{try{if(!(o!=null&&o.socialEngagementManager)||!(t!=null&&t.address)||!e)return;let k=!1;try{k=await o.socialEngagementManager.hasCompletedSocialEngagement(t.address,e)}catch(N){console.error("Error checking blockchain completion status:",N)}let I={success:!1};try{I=await uc.checkAllTasksVerified(e,t.address)}catch(N){console.error("Error checking Supabase verification status:",N),N.message&&N.message.includes("fetch")&&console.warn("Unable to connect to verification service")}(k||I.success)&&p(new Set(c.map(N=>N.id)))}catch(k){console.error("Error checking completion status:",k)}},b=async k=>{console.log("Starting authentication status refresh for platform:",k);try{console.log("Fetching authenticated accounts for user:",e);const I=await Vs.getAuthenticatedAccounts(e);if(console.log("Received accounts result:",I),I&&!I.error&&Array.isArray(I.accounts)){const N={};I.accounts.forEach(D=>{console.log("Found authenticated account:",D.platform,D),N[D.platform]=D}),console.log("Setting authenticated accounts map:",N),T(N);try{console.log("Checking if platform is authenticated:",k);const D=await Vs.isAuthenticated(e,k);console.log("Authentication check result:",D),D.success&&D.isAuthenticated?te.success(`${k.charAt(0).toUpperCase()+k.slice(1)} account connected successfully!`):D.error&&console.warn("Authentication check failed:",D.error)}catch(D){console.error("Error checking authentication status:",D)}}else I&&I.error&&(console.warn("Failed to refresh authenticated accounts:",I.error),I.error.includes("fetch")&&te.error("Unable to verify authentication status. Please check your connection."))}catch(I){console.error("Error refreshing authentication status:",I),I.message&&I.message.includes("fetch")&&te.error("Unable to connect to authentication service. Please try again.")}finally{console.log("Authentication status refresh completed for platform:",k)}},A=async k=>{var N;const I=c.find(D=>D.id===k);if(I){q(D=>({...D,[k]:{status:"verifying",timestamp:Date.now()}})),J(D=>new Set([...D,k]));try{let D;switch((N=I.platform)==null?void 0:N.toLowerCase()){case"twitter":D=await uc.verifyTwitterTask(e,t.address,I.type||I.action,I.data||{target:I.target});break;case"discord":D=await uc.verifyDiscordTask(e,t.address,I.type||I.action,I.data||{target:I.target});break;case"telegram":D=await uc.verifyTelegramTask(e,t.address,I.type||I.action,I.data||{target:I.target});break;default:throw new Error(`Unsupported platform: ${I.platform}`)}D.success?(q(E=>({...E,[k]:{status:"completed",timestamp:Date.now()}})),te.success("Task verified successfully!"),V()):(q(E=>({...E,[k]:{status:"failed",error:D.error,timestamp:Date.now()}})),te.error(D.error||"Verification failed"))}catch(D){console.error("Retry verification error:",D),q(E=>({...E,[k]:{status:"failed",error:D.message,timestamp:Date.now()}})),te.error("Failed to retry verification")}finally{J(D=>{const E=new Set(D);return E.delete(k),E})}}},O=async(k,I)=>{if(!s||!e){te.error("Please connect your wallet");return}x(!0);try{if(!c.find(D=>D.id===k))throw new Error("Task not found");if(typeof I=="object"&&I.verified){p(E=>new Set([...E,k]));try{await V()}catch(E){console.warn("Failed to refresh user data after task completion:",E)}c.every(E=>f.has(E.id)||E.id===k)&&i&&i(),te.success("Task verification completed!");return}}catch(N){console.error("Error completing task:",N),N.message&&N.message.includes("fetch")?te.error("Unable to connect to verification service. Please check your connection and try again."):N.message&&N.message.includes("Task not found")?te.error("Task not found. Please refresh the page and try again."):te.error("Failed to complete task. Please try again.")}finally{x(!1)}},R=async k=>{try{const I=await Vs.disconnectAccount(e,k);I.success?(T(N=>{const D={...N};return delete D[k],D}),te.success(`${k.charAt(0).toUpperCase()+k.slice(1)} account disconnected`)):I.error&&I.error.includes("fetch")?te.error("Unable to connect to authentication service. Please check your connection and try again."):te.error(I.error||"Failed to disconnect account")}catch(I){console.error("Error disconnecting account:",I),I.message&&I.message.includes("fetch")?te.error("Connection failed. Please check your internet connection and try again."):te.error("Failed to disconnect account. Please try again.")}};return r?n?l.jsx(Pr,{className:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",children:l.jsx(Rr,{className:"pt-6",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(jr,{className:"h-6 w-6 text-green-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-green-800 dark:text-green-200",children:"Social Media Tasks Completed"}),l.jsx("p",{className:"text-sm text-green-600 dark:text-green-300",children:"You have successfully completed all required social media tasks for this raffle."})]})]})})}):l.jsxs(Pr,{className:"bg-card/80 backdrop-blur-sm border border-border",children:[l.jsx(wn,{className:"pb-0",children:l.jsxs(kn,{className:"flex items-center justify-between cursor-pointer",onClick:()=>W(!$),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(dr,{className:"h-5 w-5 text-orange-500"}),"Social Media Tasks Required"]}),$?l.jsx(Xu,{className:"h-4 w-4 text-muted-foreground"}):l.jsx(ko,{className:"h-4 w-4 text-muted-foreground"})]})}),l.jsxs(Rr,{className:"pt-3 space-y-4",children:[l.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-3",children:l.jsx("p",{className:"text-sm text-orange-800 dark:text-orange-200",children:"Complete the following social media tasks to participate in this raffle:"})}),$&&l.jsxs(l.Fragment,{children:[Object.keys(w).length>0&&l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:[l.jsx("h4",{className:"text-sm font-medium text-green-800 dark:text-green-200 mb-2",children:"Connected Accounts:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(w).map(([k,I])=>l.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 rounded-full px-3 py-1 text-xs",children:[l.jsx(ml,{className:"h-3 w-3 text-green-600"}),l.jsx("span",{children:k.charAt(0).toUpperCase()+k.slice(1)}),l.jsxs("span",{className:"text-muted-foreground",children:["@",I.platform_username]}),l.jsx(qe,{variant:"ghost",size:"sm",onClick:()=>R(k),className:"h-4 w-4 p-0 text-red-500 hover:text-red-700",children:""})]},k))})]}),S&&l.jsxs("div",{className:"text-center py-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Loading verification data..."})]}),l.jsx("div",{className:"space-y-3",children:c.map(k=>l.jsx(dpe,{task:k,onComplete:O,onAuthenticate:b,isCompleted:f.has(k.id),isVerifying:v,isAuthenticated:(()=>{var D;const I=(D=k.platform)==null?void 0:D.toLowerCase(),N=I?!!w[I]:!1;return console.log("Task authentication check:",{taskPlatform:k.platform,normalizedPlatform:I,authenticatedAccounts:Object.keys(w),isAuthenticated:N}),N})(),userAddress:e,raffleId:t==null?void 0:t.address,taskStatus:G[k.id],onRetry:A,authenticatedAccounts:w},k.id))}),c.length>0&&l.jsxs("div",{className:"pt-4 border-t border-border",children:[c.some(k=>!f.has(k.id))&&l.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Complete all tasks above. Verification happens automatically."}),l.jsxs("div",{className:"mt-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Progress: ",f.size," of ",c.length," tasks completed"]}),l.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-green-50 dark:bg-green-900/20 rounded-full",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),l.jsx("span",{className:"text-xs font-medium text-green-700 dark:text-green-300",children:"Live"})]})]}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 overflow-hidden",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${f.size/c.length*100}%`}})}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1.5 text-center",children:"Updates automatically when you complete tasks"})]})]})]})]})]}):null},hpe=({metadata:t,loading:e})=>e?l.jsxs("div",{className:"bg-card rounded-lg border border-border p-6 animate-pulse",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-1/4 mb-4"}),l.jsx("div",{className:"h-20 bg-muted rounded"})]}):!t||!t.description&&!t.twitterLink&&!t.discordLink&&!t.telegramLink?null:l.jsxs("div",{className:"space-y-3",children:[t.description&&l.jsx("p",{className:"text-foreground/80 whitespace-pre-wrap leading-relaxed text-base",children:t.description}),(t.twitterLink||t.discordLink||t.telegramLink)&&l.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.twitterLink&&l.jsxs("a",{href:t.twitterLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-1.5 bg-[#1DA1F2] hover:bg-[#1a8cd8] text-white rounded-lg transition-colors text-sm",children:[l.jsx(jm,{className:"h-3.5 w-3.5"}),l.jsx("span",{className:"text-xs font-medium",children:tk(t.twitterLink,"twitter")}),l.jsx(zu,{className:"h-3 w-3"})]}),t.discordLink&&l.jsxs("a",{href:t.discordLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-1.5 bg-[#5865F2] hover:bg-[#4752c4] text-white rounded-lg transition-colors text-sm",children:[l.jsx(Df,{className:"h-3.5 w-3.5"}),l.jsx("span",{className:"text-xs font-medium",children:tk(t.discordLink,"discord")}),l.jsx(zu,{className:"h-3 w-3"})]}),t.telegramLink&&l.jsxs("a",{href:t.telegramLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-1.5 bg-[#0088cc] hover:bg-[#0077b3] text-white rounded-lg transition-colors text-sm",children:[l.jsx(Am,{className:"h-3.5 w-3.5"}),l.jsx("span",{className:"text-xs font-medium",children:tk(t.telegramLink,"telegram")}),l.jsx(zu,{className:"h-3 w-3"})]})]})]}),lB=async(t,e,r=1,n={})=>{try{if(!t||!e)throw new Error("User address and raffle ID are required");if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error("Invalid user address format");const i={user_address:t.toLowerCase(),raffle_id:e,raffle_address:e,slot_count:r,...n},{data:s,error:o}=await Ln.functions.invoke(oB.GENERATE_SIGNATURE,{body:i});if(o)throw console.error("Signature generation error:",o),new Error(`Failed to generate signature: ${o.message}`);return await ype({userAddress:i.user_address,raffleId:i.raffle_id,slotCount:i.slot_count,signature:s.signature,nonce:s.nonce,deadline:s.deadline,signatureData:JSON.stringify(i),expiresAt:new Date(Date.now()+900*1e3)}),{success:!0,signature:s.signature,nonce:s.nonce,deadline:s.deadline,signatureData:i,expiresAt:s.expires_at,metadata:s.metadata||{}}}catch(i){return console.error("Error generating purchase signature:",i),{success:!1,error:i.message}}},ppe=async(t,e)=>{try{const{data:r,error:n}=await Ln.functions.invoke(oB.VERIFY_SIGNATURE,{body:{signature:t,signatureData:e}});if(n)throw new Error(`Signature verification failed: ${n.message}`);return{success:!0,isValid:r.isValid,metadata:r.metadata||{}}}catch(r){return console.error("Error verifying signature:",r),{success:!1,error:r.message,isValid:!1}}},mpe=async(t,e=10)=>{try{const{data:r,error:n}=await Ln.from("purchase_signatures").select("*").eq("user_address",t.toLowerCase()).order("created_at",{ascending:!1}).limit(e);if(n)throw new Error(`Failed to fetch signature history: ${n.message}`);return r||[]}catch(r){return console.error("Error fetching signature history:",r),[]}},gpe=async(t,e)=>{try{const{data:r,error:n}=await Ln.from("purchase_signatures").select("*").eq("user_address",t.toLowerCase()).eq("raffle_id",e).gt("expires_at",new Date().toISOString()).order("created_at",{ascending:!1}).limit(1);if(n)throw new Error(`Failed to fetch existing signature: ${n.message}`);return r&&r.length>0?r[0]:null}catch(r){return console.error("Error fetching existing signature:",r),null}},ype=async t=>{try{const{data:e,error:r}=await Ln.from("purchase_signatures").insert([{user_address:t.userAddress,raffle_id:t.raffleId,slot_count:t.slotCount,signature:t.signature,signature_data:t.signatureData,expires_at:t.expiresAt,created_at:new Date().toISOString()}]).select();if(r)throw new Error(`Failed to store signature: ${r.message}`);return e[0]}catch(e){throw console.error("Error storing signature:",e),e}},xpe=t=>new Date>new Date(t),vpe=async t=>{try{return(await Promise.allSettled(t.map(r=>lB(r.userAddress,r.raffleId,r.slotCount)))).map((r,n)=>({purchase:t[n],success:r.status==="fulfilled",data:r.status==="fulfilled"?r.value:null,error:r.status==="rejected"?r.reason.message:null}))}catch(e){throw console.error("Error in batch signature generation:",e),e}},bpe=async()=>{try{const{data:t,error:e}=await Ln.from("purchase_signatures").delete().lt("expires_at",new Date().toISOString()).select();if(e)throw new Error(`Failed to cleanup expired signatures: ${e.message}`);return t?t.length:0}catch(t){return console.error("Error cleaning up expired signatures:",t),0}},wpe={generatePurchaseSignature:lB,verifyPurchaseSignature:ppe,getUserSignatureHistory:mpe,getExistingSignature:gpe,isSignatureExpired:xpe,batchGenerateSignatures:vpe,cleanupExpiredSignatures:bpe},sM={"0xd92e233d":"ZeroAddress","0xf4f5b733":"ZeroQuantity","0xd2100d73":"ZeroSlotFee","0xfd2a413d":"PoolDurationElapsed","0x7145fa7b":"ExceedsMaxSlots","0x569e8c11":"IncorrectPayment","0x176f75b8":"ExceedsSlotLimit","0x1889eae0":"ContractsCannotPurchase","0xbe54005a":"ProtocolAdminNotAllowed","0x194d5060":"CreatorNotAllowed","0x93a7d4e8":"InvalidNonPrizedPurchase","0x43361aaf":"SocialEngagementNotConfigured","0xbaf3f0f7":"InvalidState","0x27e1f1e5":"OnlyOperator","0xb19a9f82":"NotAWinner","0xccaf35d0":"NoPrizesToClaim","0x327ee3e0":"InvalidPrizeAmount","0x880a1491":"PrizeTransferFailed","0x424ca239":"InvalidPrizeCollection","0x1a1889b7":"InvalidPoolState","0x5c427cd9":"UnauthorizedCaller","0x170554d5":"ExceedsWinnersCount","0xfd34e505":"MintingNotSupported","0x955c501b":"UnauthorizedMinter","0xc30436e9":"ExceedsMaxSupply","0x0fee82b1":"SupplyNotSet"},kpe=(t,e="complete transaction")=>{var o,a,c,d,f,p;console.group(" Parsing Contract Error"),console.log("Full error object:",t),console.log("error.reason:",t==null?void 0:t.reason),console.log("error.code:",t==null?void 0:t.code),console.log("error.data:",t==null?void 0:t.data),console.log("error.error:",t==null?void 0:t.error),console.log("error.message:",t==null?void 0:t.message),console.groupEnd();let r="";t!=null&&t.reason?r=t.reason:(o=t==null?void 0:t.data)!=null&&o.message?r=t.data.message:(a=t==null?void 0:t.error)!=null&&a.message?r=t.error.message:(d=(c=t==null?void 0:t.error)==null?void 0:c.data)!=null&&d.message?r=t.error.data.message:r=t.message||t.toString(),console.log(" Extracted error message:",r);let n=null;if((p=(f=t==null?void 0:t.error)==null?void 0:f.data)!=null&&p.data&&typeof t.error.data.data=="string"?(n=t.error.data.data.slice(0,10),console.log(" Found error selector in error.error.data.data:",n)):t!=null&&t.data&&typeof t.data=="string"&&t.data.startsWith("0x")&&(n=t.data.slice(0,10),console.log(" Found error selector in error.data:",n)),n&&sM[n]){const g=sM[n];console.log(" Decoded custom error from selector:",g),r=g}const i=r.match(/execution reverted:?\s*([A-Z][a-zA-Z0-9]*)/);i&&i[1]&&(console.log(" Matched custom error (format 1):",i[1]),r=i[1]);const s=r.match(/custom error '([A-Z][a-zA-Z0-9]*)\(/);return s&&s[1]&&(console.log(" Matched custom error (format 2):",s[1]),r=s[1]),console.log(" Final error message to parse:",r),r.includes("NotAWinner")?"You are not a winner of this raffle. Only winners can claim prizes.":r.includes("NoPrizesToClaim")?"You have already claimed all your prizes. No prizes remaining to claim.":r.includes("InvalidPrizeAmount")?"Invalid prize amount calculated. Please contact support for assistance.":r.includes("PrizeTransferFailed")?"Prize transfer failed. Please ensure your wallet can receive the prize and try again.":r.includes("InvalidPrizeCollection")?"Invalid prize collection address. Please contact the raffle creator.":r.includes("InvalidPoolState")?"Raffle is not in the correct state for this action. Please wait for winner selection to complete.":r.includes("UnauthorizedCaller")?"You are not authorized to perform this action. Only the creator, operators, or prize contract owner can mint prizes.":r.includes("ExceedsWinnersCount")?"Cannot mint more prizes than the total number of winners.":r.includes("MintingNotSupported")?"Minting is not supported for this prize type. This prize may be escrowed.":r.includes("UnauthorizedMinter")?"You are not authorized to mint NFTs from this collection. Only the designated minter can mint.":r.includes("ZeroQuantity")?"Mint quantity must be greater than 0. Please specify a valid quantity.":r.includes("ExceedsMaxSupply")?"Minting would exceed the maximum supply for this collection. No more NFTs can be minted.":r.includes("SupplyNotSet")?"Maximum supply has not been set for this token ID. Please contact the collection owner.":r.includes("ZeroAddress")?"Invalid address provided. Address cannot be zero.":r.includes("ZeroQuantity")?"Quantity must be greater than 0.":r.includes("ZeroSlotFee")?"Slot fee cannot be zero.":r.includes("PoolDurationElapsed")?"Raffle duration has elapsed. No more tickets can be purchased.":r.includes("ExceedsMaxSlots")?"Purchase exceeds the maximum number of available slots.":r.includes("IncorrectPayment")?"Incorrect payment amount. Please ensure you send the exact amount required.":r.includes("ExceedsSlotLimit")?"Purchase exceeds your personal slot limit for this raffle.":r.includes("ContractsCannotPurchase")?"Smart contracts cannot purchase raffle tickets. Please use a regular wallet.":r.includes("ProtocolAdminNotAllowed")?"Protocol administrators cannot participate in raffles.":r.includes("CreatorNotAllowed")?"Raffle creators cannot purchase tickets in their own raffles.":r.includes("InvalidNonPrizedPurchase")?"Cannot purchase tickets in a non-prized raffle.":r.includes("SocialEngagementNotConfigured")?"Social engagement is required but not properly configured. Please contact support.":r.includes("InvalidState")?"Raffle is not in a valid state for this action.":r.includes("OnlyOperator")?"Only protocol operators can perform this action.":r.includes("user rejected")||r.includes("User denied")||r.includes("user cancelled")?"Transaction was cancelled. You rejected the transaction in your wallet.":r.includes("insufficient funds")?"Insufficient funds in your wallet to complete this transaction.":r.includes("gas required exceeds allowance")||r.includes("out of gas")?"Transaction requires more gas than available. Please try again with a higher gas limit.":r.includes("nonce too low")?"Transaction nonce is too low. Please reset your wallet or wait for pending transactions to complete.":r.includes("replacement transaction underpriced")?"Replacement transaction has too low gas price. Please increase the gas price.":r.includes("network changed")||r.includes("wrong network")?"Wrong network selected. Please switch to the correct network in your wallet.":r.includes("execution reverted")?"Transaction failed during execution. Please check the transaction details and try again.":`Failed to ${e}. Please try again or contact support if the issue persists.`},_pe=t=>{const e=t.message||t.toString();return["NotAWinner","NoPrizesToClaim","InvalidPrizeAmount","PrizeTransferFailed","InvalidPrizeCollection","InvalidPoolState","UnauthorizedCaller","ExceedsWinnersCount","MintingNotSupported","UnauthorizedMinter","ZeroQuantity","ExceedsMaxSupply","SupplyNotSet","ZeroAddress","ZeroSlotFee","PoolDurationElapsed","ExceedsMaxSlots","IncorrectPayment","ExceedsSlotLimit","ContractsCannotPurchase","ProtocolAdminNotAllowed","CreatorNotAllowed","InvalidNonPrizedPurchase","SocialEngagementNotConfigured","InvalidState","OnlyOperator"].some(n=>e.includes(n))},Cpe=t=>{const e=t.message||t.toString();return e.includes("user rejected")||e.includes("User denied")||e.includes("user cancelled")?"info":e.includes("NoPrizesToClaim")||e.includes("NotAWinner")||e.includes("ExceedsSlotLimit")||e.includes("PoolDurationElapsed")?"warning":"error"},Spe=t=>{const e=t.message||t.toString();return e.includes("NotAWinner")?"Check the winners list to see if you won.":e.includes("NoPrizesToClaim")?"You have already claimed your prizes. Check your wallet for the received prizes.":e.includes("InvalidPoolState")?"Wait for the raffle to complete winner selection, then try again.":e.includes("UnauthorizedCaller")?"Contact the raffle creator or a protocol operator to mint your prize.":e.includes("insufficient funds")?"Add more funds to your wallet and try again.":e.includes("wrong network")?"Switch to the correct network in your wallet settings.":e.includes("ExceedsMaxSupply")?"This collection has reached its maximum supply. No more NFTs can be minted.":e.includes("PoolDurationElapsed")?"This raffle has ended. You can no longer purchase tickets.":e.includes("ExceedsSlotLimit")?"You have reached your maximum ticket limit for this raffle.":null},xl=(t,e="complete transaction")=>{const r=kpe(t,e),n=Cpe(t),i=Spe(t),s=_pe(t);return{message:r,severity:n,suggestedAction:i,isCustomError:s,originalError:t.message||t.toString()}},Ta=(t,e,r={})=>{const n=xl(t,e);return console.group(` Contract Error: ${e}`),console.error("User Message:",n.message),console.error("Severity:",n.severity),n.suggestedAction&&console.info("Suggested Action:",n.suggestedAction),console.error("Original Error:",n.originalError),console.error("Is Custom Error:",n.isCustomError),Object.keys(r).length>0&&console.error("Additional Data:",r),console.groupEnd(),n},iC=["Pending","Active","Ended","Drawing","Completed","Deleted","AllPrizesClaimed","Unengaged"];function cB(t){return ue.isBigNumber(t)?t:t!=null?ue.from(t):ue.from(0)}const Epe=ve.memo(({raffle:t,onPurchase:e,timeRemaining:r,winners:n,shouldShowClaimPrize:i,prizeAlreadyClaimed:s,claimingPrize:o,handleClaimPrize:a,shouldShowClaimRefund:c,claimingRefund:d,handleClaimRefund:f,refundableAmount:p,isMintableERC721:g,showMintInput:m,setShowMintInput:v,mintWinnerAddress:x,setMintWinnerAddress:w,mintingToWinner:T,handleMintToWinner:j,isEscrowedPrize:P,isCollabPool:S,isPrized:B,isMobile:$,onStateChange:W,socialEngagementRequired:G,hasCompletedSocialEngagement:q})=>{var ot,ht;const{connected:H,address:J}=xr(),{getContractInstance:V,executeTransaction:F}=Sr(),{formatSlotFee:b,getCurrencySymbol:A}=Sn(),[O,R]=C.useState(1),[k,I]=C.useState(!1),[N,D]=C.useState(0),[E,M]=C.useState(null),[Z,z]=C.useState(!1),[K,Y]=C.useState(!1),[Q,ee]=C.useState(!1);C.useEffect(()=>{ae()},[t.address,J]);const ae=async()=>{if(!t.address||!J){D(0),M(null);return}try{const Ie=V(t.address,"pool");if(!Ie)return;const se=await Ie.slotsPurchased(J);D(se.toNumber?se.toNumber():Number(se));let he=0;try{he=(await Ie.getParticipantsCount()).toNumber()}catch{let Ae=0;for(;;)try{await Ie.participants(Ae),he++,Ae++}catch{break}}he>0&&se>0?M((se/he*100).toFixed(2)):M(null)}catch{D(0),M(null)}},ne=async()=>{if(!H){te.error("Please connect your wallet first");return}I(!0);try{await e(O)}catch(Ie){const se=xl(Ie,"purchase tickets");Ta(Ie,"Purchase Tickets",{quantity:O}),te.error(se.message)}finally{I(!1)}},de=()=>{var Ie;return((Ie=t.state)==null?void 0:Ie.toLowerCase())==="active"},xe=()=>{const Ie=Math.floor(Date.now()/1e3),se=t.startTime+t.duration;return t.state==="Active"&&Ie>=se||r==="Ended"},me=async()=>{z(!0);try{const Ie=V(t.address,"pool");if(!Ie)throw new Error("Failed to get pool contract");const se=await F(Ie.activate);if(se.success)te.success("Pool activated successfully!"),W&&W();else throw new Error(se.error)}catch(Ie){const se=xl(Ie,"activate raffle");Ta(Ie,"Activate Raffle"),te.error(se.message)}finally{z(!1)}},_e=async()=>{ee(!0);try{const Ie=V(t.address,"pool");if(!Ie)throw new Error("Failed to get pool contract");const se=await F(Ie.requestRandomWords);if(se.success)te.success("Randomness requested successfully!"),W&&W();else throw new Error(se.error)}catch(Ie){const se=xl(Ie,"request randomness");Ta(Ie,"Request Randomness"),te.error(se.message)}finally{ee(!1)}},Xe=async()=>{Y(!0);try{const Ie=V(t.address,"pool");if(!Ie)throw new Error("Failed to get pool contract");const se=await F(Ie.endPool);if(se.success)te.success("Pool ended successfully!"),W&&W();else throw new Error(se.error)}catch(Ie){const se=xl(Ie,"end raffle");Ta(Ie,"End Raffle"),te.error(se.message)}finally{Y(!1)}},le=()=>i&&!s,Ye=()=>{const Ie=!t.usesCustomFee,se=B===!0||S===!0||t.isPrized||t.isCollabPool,he=[4,5,7,8].includes(t.stateNum);return(Ie||se)&&he&&p&&p.gt&&p.gt(0)},jt=Math.floor(Date.now()/1e3),st=t&&t.startTime?jt>=t.startTime:!1,De=t.slotLimit-t.slotsSold,Jt=Math.min(De,t.maxSlotsPerParticipant);return l.jsxs("div",{className:"detail-beige-card bg-card/80 text-foreground backdrop-blur-sm border border-border rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 h-full flex flex-col min-h-[360px] sm:min-h-[380px] lg:min-h-[420px]",children:[l.jsxs("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-4 flex items-center gap-2",children:[l.jsx(Zf,{className:"h-5 w-5"}),"Purchase Slots"]}),l.jsxs("div",{className:"flex-1 flex flex-col h-full gap-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"text-muted-foreground flex items-center gap-2",children:["Slot Fee:",typeof t.usesCustomFee=="boolean"&&l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx("span",{className:"inline-flex items-center cursor-help","aria-label":"Slot Fee info",children:l.jsx(Vt,{className:"h-3.5 w-3.5 opacity-70",tabIndex:0})})}),l.jsx(sr,{side:"top",align:"center",children:t.usesCustomFee===!0?"Set by Creator":"Protocol Slot Fee"})]})]}),l.jsx("p",{className:"font-body text-[length:var(--text-base)] font-medium",children:b(t.slotFee||"0")})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Remaining slots:"}),l.jsx("p",{className:"font-body text-[length:var(--text-base)] font-medium",children:t.slotLimit-t.slotsSold})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Your slots:"}),l.jsx("p",{className:"font-body text-[length:var(--text-base)] font-medium",children:N||0})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Winning Chance:"}),l.jsx("p",{className:"font-body text-[length:var(--text-base)] font-medium",children:E!==null?`${E}%`:"N/A"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Max per user:"}),l.jsx("p",{className:"font-body text-[length:var(--text-base)] font-medium",children:t.maxSlotsPerParticipant})]}),Ye()&&p&&p.gt&&p.gt(0)&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Your Refundable Amount:"}),l.jsxs("p",{className:"font-body text-[length:var(--text-base)] font-medium",children:[Ir(p)," ",A()]})]}),l.jsx("div",{})]}),t.stateNum===4||t.stateNum===5||t.stateNum===6||t.stateNum===7?l.jsx(l.Fragment,{children:l.jsx("div",{className:"mt-auto",children:le()||Ye()?l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[le()&&l.jsx("button",{onClick:a,disabled:o||!H,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50",children:o?P?"Claiming...":"Minting...":P?"Claim Prize":"Mint"}),Ye()&&l.jsx("button",{onClick:f,disabled:d||!H,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50",children:d?"Claiming...":"Claim Refund"})]}):l.jsx("button",{disabled:!0,className:"w-full bg-muted text-muted-foreground px-6 py-3 rounded-lg opacity-60 cursor-not-allowed flex items-center justify-center gap-2",children:t.state==="Deleted"||t.stateNum===5?"Pool Deleted":"Pool Closed"})})}):l.jsxs("div",{className:"mt-auto",children:[((ot=t.state)==null?void 0:ot.toLowerCase())==="pending"&&st?l.jsx("button",{onClick:me,disabled:Z,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:Z?"Activating...":"Activate Pool"}):((ht=t.state)==null?void 0:ht.toLowerCase())==="pending"&&!st?l.jsx("div",{className:"text-center py-4",children:l.jsx("p",{className:"text-muted-foreground text-sm",children:"Pool will be available for activation at the scheduled start time."})}):(t.stateNum===2||t.stateNum===3&&t.winnersSelected<t.winnersCount)&&((J==null?void 0:J.toLowerCase())===t.creator.toLowerCase()||N>0)?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:_e,disabled:Q,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:Q?"Requesting...":"Request Randomness"}),l.jsx("p",{className:"text-muted-foreground mt-4 text-center text-sm",children:t.stateNum===3?`Batch ${Math.ceil(t.winnersSelected/25)} complete. ${t.winnersCount-t.winnersSelected} more winner${t.winnersCount-t.winnersSelected!==1?"s":""} needed. ${(J==null?void 0:J.toLowerCase())===t.creator.toLowerCase()?"As the creator":"As a participant"}, you can request the next batch.`:`The pool has ended. ${(J==null?void 0:J.toLowerCase())===t.creator.toLowerCase()?"As the creator":"As a participant"}, you can request the randomness to initiate winner selection.`})]}):t.state==="Completed"||t.stateNum===4||t.stateNum===6||t.state==="Deleted"||t.stateNum===5?l.jsx("button",{disabled:!0,className:"w-full bg-muted text-muted-foreground px-6 py-3 rounded-lg opacity-60 cursor-not-allowed flex items-center justify-center gap-2",children:t.state==="Deleted"||t.stateNum===5?"Pool Deleted":"Pool Closed"}):xe()?l.jsx("button",{onClick:Xe,disabled:K,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:K?"Ending...":"End Pool"}):Jt<=0?l.jsx("button",{disabled:!0,className:"w-full bg-muted text-muted-foreground px-6 py-3 rounded-lg opacity-60 cursor-not-allowed flex items-center justify-center gap-2",children:t.state==="Deleted"||t.stateNum===5?"Pool Deleted":"Pool Closed"}):N>=t.maxSlotsPerParticipant?l.jsx("button",{disabled:!0,className:"w-full bg-muted text-muted-foreground px-6 py-3 rounded-lg opacity-60 cursor-not-allowed flex items-center justify-center gap-2",children:"Limit Reached"}):l.jsxs(l.Fragment,{children:[de()?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Quantity"}),l.jsx(Om,{type:"number",min:1,max:t.maxSlotsPerParticipant,value:O,onChange:Ie=>{const se=Ie.target.value;if(se===""||se===null||se===void 0)R(1);else{const he=parseInt(se);isNaN(he)?R(1):R(Math.max(1,Math.min(t.maxSlotsPerParticipant,he)))}},className:"focus:outline-none focus:ring-0 focus-visible:ring-0"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:l.jsxs("span",{className:"cursor-pointer hover:text-primary hover:underline transition-colors",onClick:()=>R(t.maxSlotsPerParticipant),title:"Click to set quantity to maximum",children:["Max: ",t.maxSlotsPerParticipant," slots"]})})]}),l.jsx("div",{className:"p-4 bg-muted/50 backdrop-blur-sm border border-border/30 rounded-lg",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-medium",children:"Total Cost:"}),l.jsx("span",{className:"font-body text-[length:var(--text-base)] font-bold",children:b(cB(t.slotFee).mul(isNaN(O)?1:O))})]})})]}):null,l.jsxs("button",{onClick:ne,disabled:k||!H||!de()||G&&!q,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 shadow-sm",children:[l.jsx(Zf,{className:"h-4 w-4"}),k?"Processing...":`Purchase ${O} Slot${O>1?"s":""}`]}),G&&!q&&l.jsx("div",{className:"text-center py-2",children:l.jsx("p",{className:"text-muted-foreground text-sm",children:"Complete social media verification to enable slot purchase."})})]}),!H&&l.jsx("div",{className:"text-center py-4",children:l.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to purchase slots."})})]})]})]})}),Tpe=({raffle:t,isMintableERC721:e,isEscrowedPrize:r})=>{const{getContractInstance:n}=Sr(),[i,s]=C.useState(null),[o,a]=C.useState(!0),[c,d]=C.useState(null),[f,p]=C.useState(!1),[g,m]=C.useState([]),[v,x]=C.useState(0),w=["https://ipfs.io/ipfs/","https://gateway.pinata.cloud/ipfs/","https://cloudflare-ipfs.com/ipfs/","https://dweb.link/ipfs/"],T=w.map(J=>J.replace("/ipfs/","/ipns/")),j=["https://arweave.net/"],P=(J,V,F,b={})=>{const A=[],O=/\/$/.test(J),R=J.replace(/\/$/,""),k=V!=null?V.toString():"0",N=(V!=null?BigInt(V):0n).toString(16).padStart(64,"0"),D=N.toUpperCase(),E=F===1,M=F===0,Z=K=>{const Y=[],Q=K.replace(/\/?(?:[0-9]+|[a-fA-F0-9]{64})(?:\.json)?$/,"");return Q&&Q!==K&&(Y.push(Q),Y.push(`${Q}/`),Y.push(`${Q}/index.json`),Y.push(`${Q}/metadata.json`)),Y};if(J.match(/\/(?:[0-9]+|[a-fA-F0-9]{64})(?:\.json)?$/)!==null){if((E||b.prioritizeRoot)&&A.push(...Z(J)),A.push(J),J.includes(".json")||A.push(`${J}.json`),M&&A.push(...Z(J)),E){const K=(Y,Q=!0)=>{const ee=[];return Y.match(new RegExp(`/${k}(?:\\.json)?$`))&&(ee.push(Y.replace(new RegExp(`/${k}(?:\\.json)?$`),`/${N}`)),Q&&ee.push(Y.replace(new RegExp(`/${k}(?:\\.json)?$`),`/${N}.json`)),ee.push(Y.replace(new RegExp(`/${k}(?:\\.json)?$`),`/${D}`)),Q&&ee.push(Y.replace(new RegExp(`/${k}(?:\\.json)?$`),`/${D}.json`))),Y.match(new RegExp(`${k}(?:\\.json)?$`))&&(ee.push(Y.replace(new RegExp(`${k}(?:\\.json)?$`),`${N}`)),Q&&ee.push(Y.replace(new RegExp(`${k}(?:\\.json)?$`),`${N}.json`)),ee.push(Y.replace(new RegExp(`${k}(?:\\.json)?$`),`${D}`)),Q&&ee.push(Y.replace(new RegExp(`${k}(?:\\.json)?$`),`${D}.json`))),ee};A.push(...K(J,!0))}}else E?(A.push(J),O&&A.push(R+"/"),A.push(`${R}.json`),A.push(`${R}/index.json`),A.push(`${R}/metadata.json`),A.push(`${R}/${N}`),A.push(`${R}${N}`),A.push(`${R}/${N}.json`),A.push(`${R}${N}.json`),A.push(`${R}/${D}`),A.push(`${R}${D}`),A.push(`${R}/${D}.json`),A.push(`${R}${D}.json`),A.push(`${R}/${k}`),A.push(`${R}${k}`),A.push(`${R}/${k}.json`),A.push(`${R}${k}.json`)):(A.push(J),O&&A.push(R+"/"),A.push(`${R}.json`),A.push(`${R}/index.json`),A.push(`${R}/metadata.json`),A.push(`${R}/${k}`),A.push(`${R}${k}`),A.push(`${R}/${k}.json`),A.push(`${R}${k}.json`)),J.includes("{id}")&&(A.push(J.replace("{id}",N)),A.push(J.replace("{id}",k)),A.push(J.replace("{id}",D)));return[...new Set(A)]},S=J=>{if(!J)return[];if(J.startsWith("ipfs://")){let V=J.replace("ipfs://","");return V.startsWith("ipfs/")&&(V=V.slice(5)),w.map(F=>`${F}${V}`)}if(J.startsWith("ipns://")){let V=J.replace("ipns://","");return V.startsWith("ipns/")&&(V=V.slice(5)),T.map(F=>`${F}${V}`)}if(J.startsWith("ar://")){const V=J.replace("ar://","");return j.map(F=>`${F}${V}`)}try{const V=new URL(J),b=V.pathname.replace(/\/ipfs\/ipfs\//,"/ipfs/").split("/").filter(Boolean),A=b.indexOf("ipfs");if(A!==-1&&b[A+1]){const R=b.slice(A+1).join("/");return w.map(k=>`${k}${R}`)}const O=b.indexOf("ipns");if(O!==-1&&b[O+1]){const R=b.slice(O+1).join("/");return T.map(k=>`${k}${R}`)}if(V.hostname.endsWith("arweave.net")||V.hostname==="arweave.net"){const R=b.join("/");return j.map(k=>`${k}${R}`)}}catch{}return[J]},B=J=>{const V=["image","image_url","imageUrl","animation_url","animationUrl","media","artwork"],F=b=>{if(!b)return null;if(b.startsWith("ipfs://")){let A=b.slice(7);return A.startsWith("ipfs/")&&(A=A.slice(5)),w.map(R=>`${R}${A}`)}if(b.startsWith("ipns://")){let A=b.slice(7);return A.startsWith("ipns/")&&(A=A.slice(5)),T.map(R=>`${R}${A}`)}if(b.startsWith("ar://")){const A=b.slice(5);return j.map(R=>`${R}${A}`)}return[b]};for(const b of V)if(J[b]){const A=J[b];return F(String(A))}return null},$=()=>{Array.isArray(g)&&v+1<g.length?(x(v+1),s(g[v+1])):s(null)},W=async(J,V=1e4)=>{const F=new AbortController,b=setTimeout(()=>F.abort(),V);try{const A=await fetch(J,{signal:F.signal,headers:{Accept:"application/json, text/plain, */*"}});return clearTimeout(b),A}catch(A){throw clearTimeout(b),A}},G=async(J,V=1e4)=>{for(const F of J)try{if(F.startsWith("data:")){const[A,O]=F.split(",",2),[,R,k]=A.match(/^data:([^;]+);([^,]+)$/)||[];if(R!=null&&R.includes("application/json")&&k==="base64"){const I=JSON.parse(atob(O)),N=B(I)||null;if(N)return{metadata:I,imageUrl:N,sourceUri:F}}else if(R!=null&&R.startsWith("image/")||R!=null&&R.startsWith("video/"))return{metadata:{image:F},imageUrl:F,sourceUri:F};continue}const b=await W(F,V);if(b.ok){const A=b.headers.get("content-type");try{const O=await b.text(),R=JSON.parse(O);if(R&&typeof R=="object"){const k=B(R);if(k)return{metadata:R,imageUrl:k,sourceUri:F}}}catch{if(A!=null&&A.startsWith("image/")||A!=null&&A.startsWith("video/")||F.match(/\.(jpg|jpeg|png|gif|svg|webp|mp4|webm|ogg)$/i))return{metadata:{image:F},imageUrl:F,sourceUri:F}}}}catch{continue}throw new Error("All metadata fetch attempts failed")};if(C.useEffect(()=>{async function J(){if(t.isPrized||t.prizeCollection&&t.prizeCollection!==He||t.standard!==void 0&&t.prizeTokenId!==void 0){a(!0),s(null),d(null);try{let b=null;const A=t.standard===0?"erc721Prize":"erc1155Prize",O=n(t.prizeCollection,A),R=!r;if(!O){s(null),a(!1);return}if(t.standard===0)if(R)try{if(b=await O.unrevealedBaseURI(),!b||b.trim()===""){p(!0),s(null),a(!1);return}}catch{p(!0),s(null),a(!1);return}else try{b=await O.tokenURI(t.prizeTokenId)}catch{s(null),a(!1);return}else if(t.standard===1)if(R){let M=null,Z=null,z=null;try{M=await O.unrevealedURI()}catch{}try{Z=await O.tokenURI(t.prizeTokenId)}catch{}try{z=await O.isRevealed()}catch{z=null}if(z===!1)if(M&&M.trim()!=="")b=M;else if(Z&&Z.trim()!=="")b=Z;else try{const K=t==null?void 0:t.prizeTokenId;b=await O.uri(K)}catch{s(null),a(!1);return}else if(z===!0)if(Z&&Z.trim()!=="")b=Z;else try{b=await O.uri(t.prizeTokenId)}catch{if(M&&M.trim()!=="")b=M;else{s(null),a(!1);return}}else if(Z&&Z.trim()!=="")b=Z;else if(M&&M.trim()!=="")b=M;else try{b=await O.uri(t.prizeTokenId)}catch{s(null),a(!1);return}}else try{b=await O.uri(t.prizeTokenId)}catch{s(null),a(!1);return}else{s(null),a(!1);return}if(!b||b.trim()===""){s(null),a(!1);return}const k=P(b,t.prizeTokenId,t.standard),I=[];for(const M of k)I.push(...S(M));const N=t.standard===0&&R?5e3:1e4,D=await G(I,N),E=Array.isArray(D.imageUrl)?D.imageUrl:[D.imageUrl];m(E),x(0),s(E[0]),d(D.sourceUri)}catch{s(null),d(null)}a(!1)}}(t==null?void 0:t.isPrized)===!0&&(t==null?void 0:t.prizeCollection)&&t.prizeCollection!==He&&((t==null?void 0:t.standard)===0||(t==null?void 0:t.standard)===1)&&J()},[t,n,r]),!((t==null?void 0:t.isPrized)===!0&&(t==null?void 0:t.prizeCollection)&&t.prizeCollection!==He&&((t==null?void 0:t.standard)===0||(t==null?void 0:t.standard)===1)))return null;if(o)return l.jsx(Pr,{className:"detail-beige-card h-full flex flex-col items-center justify-center text-foreground border border-border rounded-xl",children:l.jsx(Rr,{className:"flex flex-col items-center justify-center",children:l.jsx("div",{className:"w-64 h-64 flex items-center justify-center border rounded-lg bg-muted/30",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading prize media..."})]})})})});if(!i)return null;const H=typeof i=="string"&&/\.(mp4|webm|ogg)$/i.test(i);return l.jsx(Pr,{className:"detail-beige-card h-full flex flex-col items-center justify-center text-foreground border border-border rounded-xl",children:l.jsx(Rr,{className:"flex flex-col items-center justify-center",children:H?l.jsx("video",{src:i,className:"w-64 h-64 object-contain rounded-lg border",style:{background:"#000"},controls:!0,playsInline:!0,onError:$}):l.jsx("img",{src:i,alt:"Prize Art",className:"w-64 h-64 object-contain rounded-lg border",style:{background:"#fff"},onError:$})})})},oM=({winner:t,index:e,raffle:r,connectedAddress:n,onToggleExpand:i,isExpanded:s,stats:o,onLoadStats:a,collectionName:c,isEscrowedPrize:d})=>{const f=n&&t.address.toLowerCase()===n.toLowerCase(),{formatPrizeAmount:p}=Sn(),[g,m]=ve.useState("TOKEN"),[v,x]=ve.useState(null),[w,T]=ve.useState(null),{getContractInstance:j}=Sr();ve.useEffect(()=>{let W=!0;async function G(){if(!(!r.erc20PrizeToken||r.erc20PrizeToken===He))try{if(window.__erc20SymbolCache||(window.__erc20SymbolCache={}),window.__erc20SymbolCache[r.erc20PrizeToken]){W&&m(window.__erc20SymbolCache[r.erc20PrizeToken]);return}const q=window.ethereum?new bc(window.ethereum):Rf(),H=["function symbol() view returns (string)"],V=await new At(r.erc20PrizeToken,H,q).symbol();W&&(m(V),window.__erc20SymbolCache[r.erc20PrizeToken]=V)}catch{W&&m("TOKEN")}}return G(),()=>{W=!1}},[r.erc20PrizeToken]),ve.useEffect(()=>{let W=!0;return(async()=>{if(!r.isPrized){W&&x(null);return}try{const q=j(r.address,"pool");if(!q){console.warn("Failed to get pool contract instance"),W&&x(r.amountPerWinner||1);return}const H=await q.amountPerWinner(),J=H.toNumber?H.toNumber():Number(H);W&&(x(J),console.log(` Successfully fetched amountPerWinner from contract ${r.address}:`,J))}catch(q){if(console.warn(` Failed to fetch amountPerWinner from contract ${r.address}, using fallback:`,q.message),W){const H=r.amountPerWinner||1;x(H),console.log(` Using fallback amountPerWinner for ${r.address}:`,H)}}})(),()=>{W=!1}},[r.address,r.isPrized,r.amountPerWinner,j]),ve.useEffect(()=>{(async()=>{if(!r||!r.prizeCollection||r.prizeCollection===He){T(null);return}try{let G=null,q=null;if(typeof r.standard<"u"){const H=r.standard===0?"erc721Prize":"erc1155Prize";if(G=j(r.prizeCollection,H),G)try{typeof G.symbol=="function"&&(q=await G.symbol())}catch{q=null}}else try{G=j(r.prizeCollection,"erc721Prize"),G&&typeof G.symbol=="function"&&(q=await G.symbol())}catch{try{G=j(r.prizeCollection,"erc1155Prize"),G&&typeof G.symbol=="function"&&(q=await G.symbol())}catch{}}T(q),q&&console.log(` Successfully fetched collection symbol for ${r.prizeCollection}:`,q)}catch(G){console.warn("Failed to fetch collection symbol:",G),T(null)}})()},[r,j]);const P=W=>W,S=()=>{var G;if(!r.isPrized)return"No Prize";if(v===null&&r.isPrized)return"Loading prize info...";const W=v!==null?v:r.amountPerWinner||1;if(r.nativePrizeAmount&&r.nativePrizeAmount.gt&&r.nativePrizeAmount.gt(0)){console.log(" Native Prize Debug:",{totalPrizeAmount:r.nativePrizeAmount.toString(),winnersCount:r.winnersCount,amountPerWinnerFromContract:W,amountPerWinnerType:typeof W});const q=r.winnersCount||1,H=r.nativePrizeAmount.div(q);console.log(` Native calculation: ${r.nativePrizeAmount.toString()} / ${q} = ${H.toString()}`);const J=p(H);return console.log(` Native prize display: ${J} (prizePerWinner: ${H.toString()})`),J}if(r.erc20PrizeToken&&r.erc20PrizeToken!==He&&r.erc20PrizeAmount&&r.erc20PrizeAmount.gt&&r.erc20PrizeAmount.gt(0)){console.log(" ERC20 Prize Debug:",{totalPrizeAmount:r.erc20PrizeAmount.toString(),winnersCount:r.winnersCount,amountPerWinnerFromContract:W,amountPerWinnerType:typeof W});const q=r.winnersCount||1,H=r.erc20PrizeAmount.div(q);console.log(` ERC20 calculation: ${r.erc20PrizeAmount.toString()} / ${q} = ${H.toString()}`);const J=og(H,18),V=`${J} ${g}`;return console.log(` ERC20 prize display: ${V} (prizePerWinner: ${H.toString()}, formatted: ${J})`),V}if(r.prizeCollection&&r.prizeCollection!==He){if(r.standard===0)if(d){const q=(G=r.prizeTokenId)!=null&&G.toString?r.prizeTokenId.toString():r.prizeTokenId,H=q!=null&&q!=="0"?`#${q}`:"#Unknown";console.log(" Escrowed ERC721 token ID debug:",{rawTokenId:r.prizeTokenId,stringTokenId:q,prizeId:H,isEscrowedPrize:d});let J;return w?J=`${w} ${H}`:c?J=`${c} ${H}`:J=`ERC721 NFT ${H}`,console.log(` Escrowed ERC721 prize display: ${J} (symbol: ${w}, name: ${c}, tokenId: ${r.prizeTokenId})`),J}else{const H=`${W} ${w||c||"ERC721 NFT"}`;return console.log(` Mintable ERC721 prize display: ${H} (symbol: ${w}, name: ${c}, amount: ${W})`),H}if(r.standard===1)return`${W} ${c||"ERC1155 Token"}`}return"Prize Available"},$=r.isPrized?t.prizeClaimed?{text:"Claimed",color:"text-green-700",icon:"green-dot",bgColor:"bg-green-100"}:{text:"Unclaimed",color:"text-orange-700",icon:"",bgColor:"bg-orange-100"}:{text:"No Prize",color:"text-muted-foreground",icon:"",bgColor:"bg-muted/20"};return l.jsx("div",{className:`detail-beige-card text-foreground bg-card border-2 rounded-xl transition-all duration-200 hover:shadow-md ${f?"border-yellow-400 winner-card-highlight":"border-[#614E41]"}`,children:l.jsxs("div",{className:"px-2 py-3 sm:px-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2.5 min-w-0 flex-1",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${f?"bg-yellow-400":"bg-primary"}`})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("div",{className:"font-mono text-sm font-medium break-all",title:t.address,children:P(t.address)}),f&&l.jsx("div",{className:"text-xs winner-text-highlight font-medium mt-0.5",children:"Your Address"})]})]}),l.jsx("button",{onClick:()=>i(t,e),className:"winner-card-expand flex-shrink-0 p-1 sm:p-1.5 rounded-md hover:bg-transparent active:bg-transparent focus:bg-transparent transition-colors focus-visible:outline-none focus-visible:ring-0",title:s?"Hide details":"View details",children:l.jsx(ko,{className:`h-4 w-4 transition-transform duration-200 ${s?"rotate-180":""}`})})]}),r.isPrized&&l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-3 text-sm",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Prize"}),l.jsx("div",{className:"font-medium",children:S()})]}),l.jsxs("div",{className:"space-y-0.5 sm:text-right",children:[l.jsx("span",{className:"text-muted-foreground text-xs tracking-wide block",children:"Status"}),l.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-medium ${$.bgColor} ${$.color}`,children:[$.icon==="green-dot"?l.jsx("div",{className:"w-2 h-2 rounded-full bg-green-600 dark:bg-green-400"}):l.jsx("span",{children:$.icon}),l.jsx("span",{children:$.text})]})]})]}),s&&l.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:o?o.error?l.jsxs("div",{className:"text-center py-4",children:[l.jsx(dr,{className:"h-6 w-6 text-red-500 mx-auto mb-2"}),l.jsx("div",{className:"text-red-500 text-sm font-medium",children:o.error})]}):l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Participation Details"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Tickets Purchased"}),l.jsx("div",{className:"font-semibold text-base",children:o.ticketsPurchased})]}),l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Winning Tickets"}),l.jsx("div",{className:"font-semibold text-base text-green-600",children:o.winningTickets})]}),l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Losing Tickets"}),l.jsx("div",{className:"font-semibold text-base text-red-600",children:o.losingTickets})]}),l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Win Rate"}),l.jsx("div",{className:"font-semibold text-base",children:o.ticketsPurchased>0?`${(o.winningTickets/o.ticketsPurchased*100).toFixed(1)}%`:"0%"})]})]})]}):l.jsxs("div",{className:"text-center py-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary mx-auto mb-2"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading participation details..."})]})})]})})},Npe=ve.memo(({raffle:t,isMintableERC721:e,isEscrowedPrize:r,isMobile:n,onWinnerCountChange:i,onWinnersSelectedChange:s})=>{var A;const{getContractInstance:o,executeTransaction:a}=Sr(),{address:c}=xr();Sn();const[d,f]=C.useState([]),[p,g]=C.useState(!1),[m,v]=C.useState(null),[x,w]=C.useState({}),[T,j]=C.useState(null),[P,S]=C.useState(null),[B,$]=C.useState(null),[W,G]=C.useState((t==null?void 0:t.winnersSelected)||0),q=(t==null?void 0:t.stateNum)===4||(t==null?void 0:t.stateNum)===6,H=!!t&&!q,{isListening:J}=JF(t==null?void 0:t.address,{onWinnersSelected:(O,R)=>{j(R==null?void 0:R.transactionHash),$(Date.now()),V(),setTimeout(()=>{V()},5e3)},onStateChange:(O,R)=>{(O===4||O===6)&&($(Date.now()),setTimeout(()=>{V()},1e3),setTimeout(()=>{V()},6e3))},onPrizeClaimed:(O,R,k)=>{setTimeout(()=>{V()},1e3)},onRpcError:O=>{console.warn("WinnersSection RPC error:",O)},enablePolling:!0,pollingInterval:(t==null?void 0:t.stateNum)===3?8e3:12e3,autoStart:H,raffleState:(t==null?void 0:t.stateNum)||null,enableStateConditionalListening:!0,stopOnCompletion:!0});C.useEffect(()=>{j(null)},[t]),C.useEffect(()=>{(async()=>{if(!t||!t.prizeCollection||t.prizeCollection===He){S(null);return}try{const k=await o(t.prizeCollection,t.standard===0?"erc721Prize":"erc1155Prize").name();S(k)}catch{S(null)}})()},[t,o]);const V=C.useCallback(async()=>{if(!t){f([]),i==null||i(0);return}if(![3,4,6].includes(t.stateNum)){f([]),i==null||i(0);return}g(!0);try{const R=o&&o(t.address,"pool");if(!R){f([]),i==null||i(0),g(!1);return}const k=await R.winnersCount(),I=k.toNumber?k.toNumber():Number(k);if(I===0){f([]),i==null||i(0),g(!1);return}const N=[];for(let D=0;D<I;D++)try{const E=await R.winners(D);if(E===He||E==="0x0000000000000000000000000000000000000000")continue;const M=await R.claimedWins(E),Z=await R.prizeClaimed(E);N.push({address:E,index:D,claimedWins:M.toNumber?M.toNumber():Number(M),prizeClaimed:Z&&(Z.toNumber?Z.toNumber()>0:Number(Z)>0)})}catch{continue}f(N),i==null||i(N.length)}catch{f([]),i==null||i(0)}finally{g(!1)}},[t,o]);C.useEffect(()=>{V()},[V,B]),C.useEffect(()=>{(t==null?void 0:t.winnersSelected)!==void 0&&G(t.winnersSelected)},[t==null?void 0:t.winnersSelected]),C.useEffect(()=>{if(!t||t.stateNum!==3)return;console.log(" WinnersSection: Starting winner polling for Drawing state");let O=W;const R=setInterval(async()=>{try{const k=o&&o(t.address,"pool");if(!k)return;const I=await k.winnersSelected(),N=I.toNumber?I.toNumber():Number(I);console.log(` Polling: ${N} winners on-chain, ${O} in local state`),N>O&&(console.log(" New winners detected! Fetching updated list..."),G(N),s==null||s(N),await V(),O=N)}catch(k){console.warn("Winner polling error:",k)}},15e3);return()=>{console.log(" WinnersSection: Stopping winner polling"),clearInterval(R)}},[t,t==null?void 0:t.stateNum,W,o,V,s]);const F=()=>{switch(iC[t.stateNum]||"Unknown"){case"Pending":return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Em,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-2",children:"Raffle Pending"}),l.jsx("p",{className:"text-muted-foreground",children:"Winners will be announced after the raffle ends and drawing is complete."})]});case"Active":return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Tc,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-2",children:"Raffle Active"}),l.jsx("p",{className:"text-muted-foreground",children:"Raffle is currently active. Winners will be announced after it ends."})]});case"Ended":return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Em,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-2",children:"Raffle Ended"}),l.jsx("p",{className:"text-muted-foreground",children:"Raffle has ended. Waiting for winner selection to begin."})]});case"Drawing":return l.jsx("div",{className:"space-y-4",children:p?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-2",children:"Drawing in Progress"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading winners..."})]}):d.length>0?l.jsx(l.Fragment,{children:l.jsx("div",{className:"max-h-96 overflow-y-auto pr-2",children:l.jsx("div",{className:"space-y-3 pb-4",children:d.map((R,k)=>l.jsx(oM,{winner:R,index:k,raffle:t,connectedAddress:c,onToggleExpand:b,isExpanded:m===k,stats:x[R.address],onLoadStats:b,collectionName:P,isEscrowedPrize:r},R.index))})})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-2",children:"Drawing in Progress"}),l.jsx("p",{className:"text-muted-foreground",children:"Winners are being selected. Please wait..."})]})});case"Completed":case"Prizes Claimed":case"AllPrizesClaimed":return l.jsx("div",{className:"space-y-4",children:p?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading winners..."})]}):d.length>0?l.jsx(l.Fragment,{children:l.jsx("div",{className:"max-h-96 overflow-y-auto pr-2",children:l.jsx("div",{className:"space-y-3 pb-4",children:d.map((R,k)=>l.jsx(oM,{winner:R,index:k,raffle:t,connectedAddress:c,onToggleExpand:b,isExpanded:m===k,stats:x[R.address],onLoadStats:b,collectionName:P,isEscrowedPrize:r},R.index))})})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Bu,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No winners data available."})]})});case"Deleted":return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(dS,{className:"h-12 w-12 text-foreground/60 mx-auto mb-4"}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-2",children:"Raffle Deleted"}),l.jsx("p",{className:"text-muted-foreground",children:"This raffle has been deleted and is no longer active."})]});case"Activation Failed":return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(dr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-2",children:"Activation Failed"}),l.jsx("p",{className:"text-muted-foreground",children:"Raffle activation failed. Please contact support or try again."})]});case"Unengaged":return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(dr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold mb-2",children:"Unengaged Raffle"}),l.jsx("p",{className:"text-muted-foreground",children:"This raffle had fewer participants than the required number of winners before its duration elapsed."})]});default:return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(dr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Unknown raffle state."})]})}},b=async(O,R)=>{if(m===R){v(null);return}if(v(R),!x[O.address])try{const k=o(t.address,"pool"),I=await k.slotsPurchased(O.address),N=await k.winsPerAddress(O.address),D=await k.prizeClaimed(O.address),E=I.toNumber?I.toNumber():Number(I),M=N.toNumber?N.toNumber():Number(N),Z=D.toNumber?D.toNumber():Number(D);w(z=>({...z,[O.address]:{ticketsPurchased:E,winningTickets:M,losingTickets:E-M,prizeClaimed:Z>0}}))}catch{w(I=>({...I,[O.address]:{error:"Failed to fetch stats"}}))}};return l.jsxs("div",{className:"detail-beige-card bg-card/80 text-foreground backdrop-blur-sm border border-border rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx("div",{className:"mb-4",children:l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsxs("h3",{className:"font-display text-[length:var(--text-lg)] font-semibold flex items-center gap-2",children:[l.jsx(Bu,{className:"h-5 w-5"}),"Winners",T&&l.jsxs("a",{href:sC(T),target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 underline flex items-center gap-1 ml-2",title:"View winner selection transaction",children:[l.jsx(Bu,{className:"h-4 w-4"}),"Transaction"]}),J&&((A=t==null?void 0:t.state)==null?void 0:A.toLowerCase())!=="pending"&&l.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ml-2 ${d.length>0?"bg-green-500":"bg-orange-500"}`,title:d.length>0?"Real-time updates active - Winners displayed":"Real-time updates active - Waiting for winners"})]}),(t==null?void 0:t.stateNum)===3&&d.length>0&&l.jsxs("div",{className:"flex items-center gap-2 flex-1 max-w-md ml-auto",children:[l.jsx("div",{className:"flex-1",children:l.jsx("div",{className:"relative w-full h-2 bg-muted rounded-full overflow-hidden",children:l.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-blue-600 transition-all duration-500 ease-out rounded-full",style:{width:`${Math.min(W/t.winnersCount*100,100)}%`},children:l.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})})}),l.jsxs("div",{className:"text-xs font-semibold text-foreground whitespace-nowrap",children:[W,"/",t.winnersCount]})]}),((t==null?void 0:t.stateNum)===4||(t==null?void 0:t.stateNum)===6)&&d.length>0&&l.jsxs("div",{className:"flex items-center gap-2 flex-1 max-w-md ml-auto",children:[l.jsx("div",{className:"flex-1",children:l.jsx("div",{className:"relative w-full h-2 bg-muted rounded-full overflow-hidden",children:l.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-green-500 to-green-600 transition-all duration-500 ease-out rounded-full",style:{width:"100%"},children:l.jsx("div",{className:"absolute inset-0 bg-white/20"})})})}),l.jsxs("div",{className:"text-xs font-semibold text-green-600 dark:text-green-400 whitespace-nowrap flex items-center gap-1",children:[l.jsx(jr,{className:"h-3 w-3"}),t.winnersCount,"/",t.winnersCount]})]})]})}),l.jsx("div",{className:"overflow-y-auto",children:F()})]})});function Ape({token:t,amount:e}){const[r,n]=ve.useState("TOKEN");return ve.useEffect(()=>{let i=!0;async function s(){try{if(window.__erc20SymbolCache||(window.__erc20SymbolCache={}),window.__erc20SymbolCache[t]){n(window.__erc20SymbolCache[t]);return}const o=window.ethereum?new bc(window.ethereum):Rf(),a=["function symbol() view returns (string)"],d=await new At(t,a,o).symbol();i&&(n(d),window.__erc20SymbolCache[t]=d)}catch{i&&n("TOKEN")}}return s(),()=>{i=!1}},[t]),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-foreground/80 dark:text-foreground",children:"Prize Amount:"}),l.jsxs("span",{children:[og(e,18)," ",r]})]})}function jpe(t){return t?t.state==="Deleted"?{label:"All Slots Refundable",refundable:!0,reason:"Raffle was deleted before ending. All slots are refundable."}:t.usesCustomFee?t.isPrized&&t.winnersCount===1&&t.standard!==void 0&&(t.standard===0||t.standard===1)?{label:"Slots Refundable if Deleted",refundable:!1,reason:"Single-winner NFT raffles are not refundable unless deleted before ending."}:{label:"Non-winning Slots Refundable",refundable:!0,reason:"This raffle supports refunds for non-winning slots."}:{label:"Slot Fees Refundable",refundable:!0,reason:"This raffle uses the global slot fee. All participants can claim 80% refunds after completion."}:{label:"Non-Refundable",refundable:!1,reason:"Unknown"}}function sC(t,e){let r=1;typeof e=="number"?r=e:window.ethereum&&window.ethereum.chainId&&(r=parseInt(window.ethereum.chainId,16));const n={1:"https://etherscan.io",5:"https://goerli.etherscan.io",11155111:"https://sepolia.etherscan.io",137:"https://polygonscan.com",80001:"https://mumbai.polygonscan.com",10:"https://optimistic.etherscan.io",420:"https://goerli-optimism.etherscan.io",42161:"https://arbiscan.io",56:"https://bscscan.com",97:"https://testnet.bscscan.com",43114:"https://snowtrace.io",43113:"https://testnet.snowtrace.io",8453:"https://basescan.org",84531:"https://goerli.basescan.org",84532:"https://sepolia.basescan.org",11155420:"https://sepolia-optimism.etherscan.io"};return`${n[r]||n[1]}/address/${t}`}const aM=()=>{var Wc,Cg,Sg,_d;const{raffleAddress:t}=_N(),r=_N().chainSlug,n=Ua(),{connected:i,address:s,provider:o,isInitialized:a,isReconnecting:c}=xr(),{getContractInstance:d,executeTransaction:f,isContractsReady:p,contracts:g}=Sr(),{isMobile:m}=pn(),{formatSlotFee:v,formatPrizeAmount:x}=Sn(),w=C.useCallback(()=>{var Ve;const be=(Ve=o==null?void 0:o.network)==null?void 0:Ve.chainId,ye=be&&Ht[be]?Ht[be].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):be||"";return`${ye?`/${ye}`:""}/raffle/${t}`},[o,t]),{refreshTrigger:T,triggerRefresh:j}=Jce(),{handleError:P}=k4(),[S,B]=C.useState(null),[$,W]=C.useState(!0),[G,q]=C.useState(null),[H,J]=C.useState(""),[V,F]=C.useState(!1),[b,A]=C.useState(!1),[O,R]=C.useState(!1),[k,I]=C.useState(null),[N,D]=C.useState(!1),[E,M]=C.useState(!1),[Z,z]=C.useState(!1),[K,Y]=C.useState(!1),[Q,ee]=C.useState(!1),[ae,ne]=C.useState(null),[de,xe]=C.useState(0),[me,_e]=C.useState(!1),[Xe,le]=C.useState(!1),[Ye,jt]=C.useState(!1),[st,De]=C.useState(!1),[Jt,ot]=C.useState(!1),[ht,Ie]=C.useState(!1),[se]=C.useState(!1),[he,Le]=C.useState(null),[Ae,Me]=C.useState(!1),[Gt,Qe]=C.useState(null),[_t,Wt]=C.useState(!1);C.useEffect(()=>{async function be(){var Ve;if(!r)return;const ye=f0(r);if(ye&&!(!i||!window.ethereum))try{if(((Ve=o==null?void 0:o.network)==null?void 0:Ve.chainId)!==ye)try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${ye.toString(16)}`}]})}catch(Bt){if((Bt==null?void 0:Bt.code)===4902&&Ht[ye]){const or=Ht[ye];await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${ye.toString(16)}`,chainName:or.name,rpcUrls:[or.rpcUrl],blockExplorerUrls:[or.explorer],nativeCurrency:or.nativeCurrency||{name:"ETH",symbol:"ETH",decimals:18}}]}),await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${ye.toString(16)}`}]})}}}catch(Bt){console.warn("Network switch via URL failed (non-fatal):",Bt)}}be()},[r,i,o]);const[Ct,nt]=C.useState(!1),[Xt,xt]=C.useState(""),[Fe,Vr]=C.useState(!1),Tt=C.useRef(null);C.useEffect(()=>{if(!Ct)return;function be(ye){Tt.current&&!Tt.current.contains(ye.target)&&nt(!1)}return document.addEventListener("mousedown",be),()=>{document.removeEventListener("mousedown",be)}},[Ct]);const St=async()=>{Vr(!0);try{const be=d(S.address,"pool");if(!be)throw new Error("Failed to get pool contract");if(!Xt||Xt.length!==42)throw new Error("Please enter a valid address");const ye=await f(()=>be.mintToWinner(Xt));if(ye.success)te.success("mintToWinner() executed successfully!"),window.location.reload();else throw new Error(ye.error)}catch(be){const ye=Ta(be,"mint prize to winner",{raffleAddress:S.address,winnerAddress:Xt,prizeType:S.standard});te.error(ye.message),ye.suggestedAction&&setTimeout(()=>{te.info(ye.suggestedAction)},500)}finally{Vr(!1)}},pr=C.useMemo(()=>i,[i]),qt=C.useMemo(()=>s,[s]),Pe=C.useMemo(()=>t,[t]),yt=C.useRef(null),at=C.useCallback(async()=>{try{const be=d(Pe||t,"pool");if(!be)return;const ye=await be.getActualPoolDuration(),Ve=ye!=null&&ye.toNumber?ye.toNumber():Number(ye);Ve&&Ve>0&&B(Bt=>Bt&&{...Bt,actualDuration:Ve})}catch{}},[d,Pe,t]),Re=(S==null?void 0:S.stateNum)===4||(S==null?void 0:S.stateNum)===6,Be=!!S&&!Re;JF(t,{onWinnersSelected:(be,ye)=>{te.success(`Winners have been selected! ${be.length} winner${be.length!==1?"s":""} chosen.`),xe(0),ne(null),j(),setTimeout(()=>{j()},5e3)},onStateChange:(be,ye)=>{be!==3&&(xe(0),ne(null)),[2,3,4,5,6,7,8].includes(be)&&(yt.current&&clearTimeout(yt.current),yt.current=setTimeout(()=>{at()},600)),j()},onPrizeClaimed:(be,ye,Ve)=>{te.success(`Prize claimed by ${be.slice(0,6)}...${be.slice(-4)}!`),j()},onTicketsPurchased:(be,ye,Ve)=>{be.toLowerCase()!==(s==null?void 0:s.toLowerCase())&&te.info(`${ye.toString()} slot${ye.toString()!=="1"?"s":""} purchased by ${be.slice(0,6)}...${be.slice(-4)}`),j()},onRpcError:be=>{console.warn("RPC error detected:",be)},enablePolling:!0,pollingInterval:(S==null?void 0:S.stateNum)===3?1e4:15e3,autoStart:Be,raffleState:(S==null?void 0:S.stateNum)||null,enableStateConditionalListening:!0,stopOnCompletion:!0});const ze=C.useCallback(async()=>{var be,ye,Ve,Bt,or,Nt,En,Zi,No,ni;W(!0),q(null);try{if(!Pe)throw new Error("No raffle address provided");if(!a||c)throw new Error("Wallet is initializing, please wait...");if(!d)throw new Error("Contract context not ready");const bs=EC(),jh=SC(),ar=d(Pe,"pool");if(!ar)throw new Error("Failed to create contract instance - no signer/provider available");const Cd=f0(r)||((be=o==null?void 0:o.network)==null?void 0:be.chainId),Ao=d((Ve=(ye=Ht[Cd])==null?void 0:ye.contractAddresses)==null?void 0:Ve.socialEngagementManager,"socialEngagementManager"),jo=await ax(()=>ar.name(),"name",{timeout:bs.timeout,retries:bs.retries,required:!0});if(!jo.success)throw new Error(`Contract connectivity test failed: ${jo.error}`);const la=[{method:()=>ar.name(),name:"name",required:!0,fallback:"Unknown Pool"},{method:()=>ar.creator(),name:"creator",required:!0,fallback:He},{method:()=>ar.startTime(),name:"startTime",required:!0,fallback:ue.from(0)},{method:()=>ar.duration(),name:"duration",required:!0,fallback:ue.from(0)},{method:()=>ar.slotFee(),name:"slotFee",required:!0,fallback:ue.from(0)},{method:()=>ar.slotLimit(),name:"slotLimit",required:!0,fallback:ue.from(0)},{method:()=>ar.winnersCount(),name:"winnersCount",required:!0,fallback:ue.from(0)},{method:()=>ar.winnersSelected(),name:"winnersSelected",required:!0,fallback:ue.from(0)},{method:()=>ar.maxSlotsPerParticipant(),name:"maxSlotsPerParticipant",required:!0,fallback:ue.from(0)},{method:()=>ar.isPrized(),name:"isPrized",required:!0,fallback:!1},{method:()=>ar.prizeCollection(),name:"prizeCollection",required:!0,fallback:He},{method:()=>ar.prizeTokenId(),name:"prizeTokenId",required:!0,fallback:ue.from(0)},{method:()=>ar.standard(),name:"standard",required:!0,fallback:ue.from(0)},{method:()=>ar.state(),name:"state",required:!0,fallback:ue.from(0)},{method:rl(ar,"erc20PrizeToken",He),name:"erc20PrizeToken",required:!1,fallback:He},{method:rl(ar,"erc20PrizeAmount",ue.from(0)),name:"erc20PrizeAmount",required:!1,fallback:ue.from(0)},{method:rl(ar,"nativePrizeAmount",ue.from(0)),name:"nativePrizeAmount",required:!1,fallback:ue.from(0)},{method:rl(ar,"usesCustomFee",!1),name:"usesCustomFee",required:!1,fallback:!1},{method:()=>s?ar.hasClaimedGlobalFeeRefund(s):!1,name:"hasClaimedGlobalFeeRefund",required:!1,fallback:!1},{method:rl(ar,"isRefundable",!1),name:"isRefundable",required:!1,fallback:!1},{method:rl(ar,"isCollabPool",!1),name:"isCollabPool",required:!1,fallback:!1},{method:rl(ar,"amountPerWinner",ue.from(1)),name:"amountPerWinner",required:!1,fallback:ue.from(1)},{method:async()=>{try{const Dr=await ar.state();if(typeof Dr=="number"?Dr>=2:Dr.toNumber?Dr.toNumber()>=2:Number(Dr)>=2)return await ar.getActualPoolDuration()}catch{}return ue.from(0)},name:"actualDuration",required:!1,fallback:ue.from(0)},{method:rl(ar,"getUniqueParticipantsCount",ue.from(0)),name:"uniqueParticipants",required:!1,fallback:ue.from(0)},{method:rl(ar,"socialEngagementRequired",!1),name:"socialEngagementRequired",required:!1,fallback:!1},{method:async()=>{try{if(Ao)return await Ao.tasks(Pe)||""}catch(Dr){console.error("Error fetching socialTaskDescription:",Dr)}return""},name:"socialTaskDescription",required:!1,fallback:""}],[qc,Hc,ca,$v,Eg,Gc,Uv,Tg,Ha,Ph,Ng,Kc,Yc,ua,Sd,Vv,Wv,Rh,Ih,Mh,Dh,ws,Dl,da,Ag,Ed]=await aW(la,{timeout:bs.timeout,useSequential:bs.useSequential,batchSize:bs.batchSize,delayBetweenCalls:bs.delayBetweenCalls});let Ga=0;try{Ga=(await ar.getParticipantsCount()).toNumber()}catch{let es=0;for(;;)try{await ar.participants(es),Ga++,es++}catch{break}}let Jc=0,gi=Ha.toNumber();if(i&&s)try{Jc=(await ar.slotsPurchased(s)).toNumber(),gi=Math.max(0,Ha.toNumber()-Jc)}catch{let es=0;for(;es<Ga;)try{(await ar.participants(es)).toLowerCase()===s.toLowerCase()&&Jc++,es++}catch{break}gi=Math.max(0,Ha.toNumber()-Jc)}const Xc=!!Ph,Qc=[2,3,4,5,6,7,8].includes(ua)&&Dl?Dl.toNumber?Dl.toNumber():Number(Dl):void 0,fa={address:t,name:qc,creator:Hc,startTime:ca.toNumber(),duration:$v.toNumber(),actualDuration:Qc,uniqueParticipants:(da!=null&&da.toNumber?da.toNumber():Number(da))||0,slotFee:Eg,slotLimit:Gc.toNumber(),slotsSold:Ga,winnersCount:Uv.toNumber(),winnersSelected:Tg.toNumber(),maxSlotsPerParticipant:Ha.toNumber(),isPrized:Ph,prizeCollection:Ng,prizeTokenId:Kc,standard:Yc,stateNum:ua,state:iC[ua]||"Unknown",erc20PrizeToken:Sd,erc20PrizeAmount:Vv,nativePrizeAmount:Wv,usesCustomFee:Rh,amountPerWinner:ws?ws.toNumber?ws.toNumber():Number(ws):1,socialEngagementRequired:!!Ag,socialTaskDescription:Ed||""};console.log("[VRF Debug] Checking isVRFConsumer",{chainSlug:r,providerChainId:(Bt=o==null?void 0:o.network)==null?void 0:Bt.chainId,resolvedChainId:f0(r)||((or=o==null?void 0:o.network)==null?void 0:or.chainId),raffleAddress:t});let Oi=!1;try{const Dr=f0(r)||((Nt=o==null?void 0:o.network)==null?void 0:Nt.chainId),es=Dr?(Zi=(En=Ht[Dr])==null?void 0:En.contractAddresses)==null?void 0:Zi.protocolManager:void 0;if(es){const Ol=d(es,"protocolManager");console.log("[VRF Debug] Built manager contract?",{hasContract:!!Ol}),Ol&&Ol.isVRFConsumer&&(Oi=await Ol.isVRFConsumer(t),console.log("[VRF Debug] manager.isVRFConsumer result",{isVrfConsumer:Oi}))}}catch{}console.log("[VRF Debug] Setting raffle.isVrfConsumer",{isVrfConsumer:!!Oi}),fa.isVrfConsumer=!!Oi,B(fa);try{if(!Oi&&((No=g==null?void 0:g.protocolManager)!=null&&No.isVRFConsumer)){try{!Oi&&((ni=g==null?void 0:g.protocolManager)!=null&&ni.isVRFConsumer)&&(console.log("[VRF Debug] Using context manager to check isVRFConsumer",{manager:g.protocolManager.address,raffleAddress:t}),Oi=await g.protocolManager.isVRFConsumer(t),console.log("[VRF Debug] Context manager isVRFConsumer result",{isVrfConsumer:Oi}),fa.isVrfConsumer=!!Oi)}catch(Dr){console.warn("[VRF Debug] Context manager isVRFConsumer check failed",Dr)}B(fa),console.log("[VRF Debug] Final isVrfConsumer for raffle",{raffleAddress:t,isVrfConsumer:fa.isVrfConsumer}),console.log("[VRF Debug] Final isVrfConsumer for raffle (post-set)",{raffleAddress:t,isVrfConsumer:fa.isVrfConsumer}),Oi=await g.protocolManager.isVRFConsumer(t),fa.isVrfConsumer=!!Oi}}catch{}Le(Mh),Me(Dh);let Td=Ng;if(Dh)try{Td=await ar.prizeCollection()}catch{}B({...fa,prizeCollection:Td})}catch(bs){const jh=P(bs,{context:{operation:"fetchRaffleData",isReadOnly:!0},fallbackMessage:"Failed to load raffle data"});q(jh)}finally{W(!1)}},[Pe,d,pr,qt,a,c,T]),we=C.useCallback(async()=>{if(!i||!s||!(S!=null&&S.address)||!d){ee(!1);return}try{const be=d(S.address,"pool");if(!be){ee(!1);return}const ye=await be.hasCompletedSocialEngagement(s);ee(!!ye)}catch(be){console.error("Error checking social engagement status:",be),ee(!1)}},[i,s,S==null?void 0:S.address,d]);C.useEffect(()=>{S!=null&&S.socialEngagementRequired&&i&&s&&we()},[S==null?void 0:S.socialEngagementRequired,i,s,we]),C.useEffect(()=>{Pe&&d&&a&&!c&&ze()},[ze,Pe,d,a,c,T]),C.useEffect(()=>{(async()=>{if(!S||!S.prizeCollection||S.prizeCollection===He){I(null);return}try{const Ve=await d(S.prizeCollection,S.standard===0?"erc721Prize":"erc1155Prize").name();I(Ve)}catch{I(null)}})()},[S,d]);const Ue=C.useCallback(be=>{const ye=Math.floor(be/86400),Ve=Math.floor(be%86400/3600),Bt=Math.floor(be%3600/60),or=be%60;let Nt="";return ye>0&&(Nt+=`${ye}d `),(Ve>0||ye>0)&&(Nt+=`${Ve}h `),(Bt>0||Ve>0||ye>0)&&(Nt+=`${Bt}m `),Nt+=`${or}s`,Nt.trim()},[]),Te=C.useCallback(be=>{const ye=Math.floor(be/86400),Ve=Math.floor(be%86400/3600),Bt=Math.floor(be%3600/60);let or="";return ye>0&&(or+=`${ye}d `),(Ve>0||ye>0)&&(or+=`${Ve}h `),(Bt>0||Ve>0||ye>0)&&(or+=`${Bt}m`),or||(or="0m"),or.trim()},[]),Oe=C.useCallback(()=>{if(!S)return;const be=Math.floor(Date.now()/1e3);let ye="",Ve=0;if([2,3,4,5,6,7,8].includes(S.stateNum)){ye="Duration";const Bt=S.actualDuration&&(S.actualDuration.toNumber?S.actualDuration.toNumber():Number(S.actualDuration)),or=S.duration,Nt=Bt&&Bt>0?Bt>or?or:Bt:or;zt(ye),Mr(Te(Nt));return}be<S.startTime?(ye="Starts In",Ve=S.startTime-be):(ye="Remaining",Ve=S.startTime+S.duration-be),zt(ye),Mr(Ve>0?Ue(Ve):"Ended")},[S,Ue,Te]);C.useEffect(()=>{if(!S)return;Oe();const be=setInterval(Oe,1e3);return()=>clearInterval(be)},[Oe]),C.useEffect(()=>{async function be(){if(t&&d)try{const ye=d(t,"pool");if(ye){const Ve=await ye.isEscrowedPrize();F(Ve)}}catch{F(!1)}}be()},[t,d]),C.useEffect(()=>{(async()=>{if(!t||!(g!=null&&g.poolDeployer)){Qe(null);return}Wt(!0);try{const ye=await jde(t,g.poolDeployer);Qe(ye)}catch(ye){console.error("Error fetching pool metadata:",ye),Qe(null)}finally{Wt(!1)}})()},[t,g==null?void 0:g.poolDeployer]),C.useEffect(()=>{(async()=>{if(S&&S.standard===1&&S.prizeCollection&&s&&s.toLowerCase()===S.creator.toLowerCase()){z(!0);try{const Ve=(window.ethereum?new bc(window.ethereum):Rf()).getSigner(),or=await new At(S.prizeCollection,ft.erc1155Prize,Ve).isApprovedForAll(s,S.address);M(or)}catch{M(!1)}finally{z(!1)}}})()},[S,s]),C.useEffect(()=>{(async()=>{if(S&&S.erc20PrizeToken&&S.erc20PrizeToken!==He&&S.erc20PrizeAmount&&s&&s.toLowerCase()===S.creator.toLowerCase()){jt(!0);try{const Ve=(window.ethereum?new bc(window.ethereum):Rf()).getSigner(),or=await new At(S.erc20PrizeToken,ft.erc20,Ve).allowance(s,S.address);le(or.gte(S.erc20PrizeAmount))}catch{le(!1)}finally{jt(!1)}}})()},[S,s]),C.useEffect(()=>{(async()=>{if(S&&S.standard===0&&S.prizeCollection&&typeof S.prizeTokenId<"u"&&s&&s.toLowerCase()===S.creator.toLowerCase()){Ie(!0);try{const Ve=(window.ethereum?new bc(window.ethereum):Rf()).getSigner(),Bt=new At(S.prizeCollection,ft.erc721Prize,Ve),or=await Bt.getApproved(S.prizeTokenId);if(or&&or.toLowerCase()===S.address.toLowerCase())ot(!0);else{const Nt=await Bt.isApprovedForAll(s,S.address);ot(Nt)}}catch{ot(!1)}finally{Ie(!1)}}})()},[S,s]);const mr=async be=>{if(!i||!S)throw new Error("Wallet not connected or raffle not loaded");const ye=d(S.address,"pool");if(!ye)throw new Error("Failed to get pool contract");const Bt=cB(S.slotFee).mul(be);let or=null,Nt=0,En=0,Zi="0x";if(S.socialEngagementRequired)try{console.log("Generating signature for social engagement required pool...");const ni=await wpe.generatePurchaseSignature(s,S.address,be);if(ni.success)or=ni.signature,Nt=ni.nonce,En=ni.deadline,Zi=or,console.log("Signature generated successfully with nonce:",Nt,"deadline:",En);else throw new Error(ni.error||"Failed to generate signature")}catch(ni){throw console.error("Signature generation failed:",ni),Q?new Error("Failed to generate signature. Please try again."):new Error("Please complete all social media tasks before purchasing slots")}await(await ye.purchaseSlots(be,Nt,En,Zi,{value:Bt})).wait(),te.success(`Successfully purchased ${be} slot${be>1?"s":""}!`),j()},Ge=async()=>{if(!(!S||!d)){D(!0);try{const be=d(S.address,"pool");if(!be)throw new Error("Contract instance not available");await(await be.deletePool()).wait(),te.success("Raffle deleted successfully!"),n("/")}catch(be){const ye=xl(be,"delete raffle");Ta(be,"Delete Raffle"),te.error(ye.message)}finally{D(!1)}}},pt=()=>i&&(s==null?void 0:s.toLowerCase())===(S==null?void 0:S.creator.toLowerCase())&&((S==null?void 0:S.state)==="Pending"||(S==null?void 0:S.state)==="Active")&&(S==null?void 0:S.usesCustomFee)===!0,Nr=()=>{if(!S)return null;const ye=(Bt=>Bt===6?mn===1?"Prize Claimed":"Prizes Claimed":iC[Bt]||"Unknown")(S.stateNum),Ve={Pending:"bg-yellow-100 text-yellow-800",Active:"bg-green-100 text-green-800",Ended:"bg-red-100 text-red-800",Drawing:"bg-purple-100 text-purple-800",Completed:"bg-blue-100 text-blue-800",Deleted:"bg-gray-200 text-gray-800","Activation Failed":"bg-red-200 text-red-900","Prizes Claimed":"bg-blue-200 text-blue-900","Prize Claimed":"bg-blue-200 text-blue-900",Unengaged:"bg-gray-100 text-gray-800",Unknown:"bg-gray-100 text-gray-800"};return l.jsx("span",{className:`inline-flex max-w-[60vw] items-center px-2 py-0.5 sm:px-3 sm:py-1 rounded-full text-xs sm:text-sm font-medium whitespace-nowrap ${Ve[ye]||Ve.Unknown}`,children:ye})};async function vt(){A(!0);try{await(await d(t,"pool").withdrawEscrowedPrize()).wait(),te.success("Prize withdrawn successfully!")}catch(be){const ye=xl(be,"withdraw prize");Ta(be,"Withdraw Prize"),te.error(ye.message)}finally{A(!1)}}const mt=Math.floor(Date.now()/1e3);S&&S.startTime&&mt>=S.startTime;const[Ot,zt]=C.useState(""),[gt,Mr]=C.useState(""),[Gr,vr]=C.useState(!1),[kr,_r]=C.useState(!1),[Di,Qi]=C.useState(!1),[Lt,Er]=C.useState(!1),[zn,To]=C.useState(!1),[hi,pi]=C.useState(null),[Zr,Hn]=C.useState(null),[mn,mi]=C.useState(0);C.useEffect(()=>{(async()=>{if(!S||!s||![4,5,7,8].includes(S.stateNum)){Qi(!1),Er(!1),pi(null),Hn(null);return}try{const ye=d&&d(S.address,"pool");if(!ye)return;const Ve=await ye.winnersCount(),Bt=Ve.toNumber?Ve.toNumber():Number(Ve);let or=!1,Nt=null;for(let En=0;En<Bt;En++)try{const Zi=await ye.winners(En);if(Zi.toLowerCase()===s.toLowerCase()){const No=await ye.claimedWins(Zi),ni=await ye.prizeClaimed(Zi),bs=ni.toNumber?ni.toNumber():Number(ni);or=!0,Nt={address:Zi,index:En,claimedWins:No.toNumber?No.toNumber():Number(No),prizeClaimed:bs>0};break}}catch{continue}Qi(or),Hn(Nt);try{const En=await ye.getRefundableAmount(s);pi(En),Er(En&&En.gt&&En.gt(0))}catch{pi(null),Er(!1)}}catch{Qi(!1),Er(!1),pi(null),Hn(null)}})()},[S,d,s]);const ri=C.useCallback(be=>{B(ye=>ye&&{...ye,winnersSelected:be})},[]);C.useEffect(()=>{S&&(S.stateNum===3?ae||(ne(Date.now()),console.log(" Raffle entered Drawing state - starting auto-refresh monitoring")):ae&&(ne(null),xe(0),console.log(" Raffle left Drawing state - stopping auto-refresh monitoring")))},[S==null?void 0:S.stateNum,ae]),C.useEffect(()=>{if(!ae||(S==null?void 0:S.stateNum)!==3)return;console.log(" Drawing state active - visual indicator enabled");const be=setInterval(async()=>{_e(!0),xe(ye=>ye+1),console.log(` Drawing state monitoring active (${de+1})`);try{const ye=d&&d(S.address,"pool");if(ye){const Ve=await ye.state(),Bt=Ve.toNumber?Ve.toNumber():Number(Ve);Bt!==3&&(console.log(` State changed from Drawing to ${Bt}, triggering refresh`),j())}}catch(ye){console.warn("State polling error:",ye)}setTimeout(()=>{_e(!1)},3e3)},15e3);return()=>{console.log(" Drawing state monitoring stopped"),clearInterval(be)}},[ae,S==null?void 0:S.stateNum,S==null?void 0:S.address,de,d,j]);const Vc=!!Zr&&((S==null?void 0:S.isPrized)&&((S==null?void 0:S.stateNum)===4||(S==null?void 0:S.stateNum)===6)||(S==null?void 0:S.isPrized)===!1&&(Ae===!0||(S==null?void 0:S.isCollabPool)===!0)&&(S==null?void 0:S.stateNum)===4),zv=Zr&&Zr.prizeClaimed,Bv=(!(S!=null&&S.usesCustomFee)||(S==null?void 0:S.isPrized)||(S==null?void 0:S.isCollabPool))&&[4,5,6,7].includes(S==null?void 0:S.stateNum)&&Lt&&hi&&hi.gt&&hi.gt(0),wd=async()=>{if(!s||!S||!d){te.error("Please connect your wallet to claim your prize");return}if(!Di||!Zr){te.error("You are not a winner of this raffle");return}if(Zr.prizeClaimed){te.error("You have already claimed your prize");return}vr(!0);try{const be=d(S.address,"pool");if(!be)throw new Error("Failed to get pool contract");const ye=await f(be.claimPrize);if(ye.success){let Ve="prize";S.nativePrizeAmount&&S.nativePrizeAmount.gt&&S.nativePrizeAmount.gt(0)?Ve=x(S.nativePrizeAmount):S.erc20PrizeToken&&S.erc20PrizeToken!==He&&S.erc20PrizeAmount&&S.erc20PrizeAmount.gt&&S.erc20PrizeAmount.gt(0)?Ve=`${og(S.erc20PrizeAmount,18)} ERC20 tokens`:S.prizeCollection&&S.prizeCollection!==He&&(Ve=S.standard===0?"ERC721 NFT":"ERC1155 NFT"),te.success(`Successfully claimed your ${Ve}!`),window.location.reload()}else throw new Error(ye.error)}catch(be){const ye=Ta(be,"claim prize",{raffleAddress:S.address,userAddress:s,prizeType:S.standard});te.error(ye.message),ye.suggestedAction&&setTimeout(()=>{te.info(ye.suggestedAction)},500)}finally{vr(!1)}},kd=async()=>{if(!s||!S||!d){te.error("Please connect your wallet to claim your refund");return}_r(!0);try{const be=d(S.address,"pool");if(!be)throw new Error("Failed to get pool contract");const ye=await f(be.claimRefund);if(ye.success)te.success("Successfully claimed your refund!"),j();else throw new Error(ye.error)}catch(be){const ye=xl(be,"claim refund");Ta(be,"Claim Refund"),te.error(ye.message)}finally{_r(!1)}};if($||c)return l.jsx(yl,{className:"max-w-[85rem]",children:l.jsx(XF,{message:c?"Reconnecting wallet...":"Loading raffle details...",isMobile:m})});if(G&&!$&&!c){const be=G.toLowerCase().includes("wallet")||G.toLowerCase().includes("signer")||G.toLowerCase().includes("initializing");return l.jsx(yl,{variant:"wide",className:"max-w-[85rem] pt-8 pb-4",children:l.jsxs("div",{className:"text-center py-16",children:[l.jsx(dr,{className:"h-16 w-16 text-destructive mx-auto mb-4"}),l.jsx("h2",{className:"font-display text-[length:var(--text-3xl)] font-bold mb-4 leading-tight",children:be?"Wallet Connection Issue":"Failed to Load Raffle"}),l.jsx("p",{className:"text-muted-foreground mb-4 max-w-md mx-auto",children:be?"Please ensure your wallet is connected and try again.":G}),l.jsxs("div",{className:"flex gap-4 justify-center",children:[l.jsx("button",{onClick:ze,className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 transition-colors",children:"Try Again"}),l.jsx("button",{onClick:()=>n("/"),className:"bg-muted text-muted-foreground px-4 py-2 rounded-md hover:bg-muted/80 transition-colors",children:"Back to Home"})]})]})})}if(!S)return l.jsx(yl,{variant:"wide",className:"max-w-[85rem] pt-8 pb-4",children:l.jsxs("div",{className:"text-center py-16",children:[l.jsx(dr,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),l.jsx("h2",{className:"font-display text-[length:var(--text-3xl)] font-bold mb-4 leading-tight",children:"Raffle Not Found"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"The raffle you're looking for doesn't exist or has been removed."}),l.jsx("button",{onClick:()=>n("/"),className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 transition-colors",children:"Back to Home"})]})});const aa=S&&S.prizeCollection&&S.prizeCollection!==He&&S.standard===0&&S.isCollabPool===!0;return l.jsxs(yl,{variant:"wide",className:"max-w-[85rem] pt-8 pb-4",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("button",{onClick:()=>n("/app"),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors mb-4",children:[l.jsx(JK,{className:"h-4 w-4"}),"Back to Raffles"]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h1",{className:"font-display text-[length:var(--text-3xl)] font-bold mb-2 leading-tight",children:S.name}),l.jsx("button",{onClick:()=>{const be=`${window.location.origin}${w()}`;navigator.clipboard.writeText(be).then(()=>{te.success("Share link copied to clipboard")}).catch(()=>{te.error("Failed to copy link")})},title:"Copy share link",className:"ml-2 p-1 rounded text-muted-foreground hover:text-foreground focus:outline-none active:outline-none hover:bg-transparent active:bg-transparent",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:l.jsx("path",{d:"M3.9 12a5 5 0 0 1 5-5h2v2h-2a3 3 0 0 0 0 6h2v2h-2a5 5 0 0 1-5-5zm7-1h2v2h-2v-2zm4.1-4a5 5 0 0 1 0 10h-2v-2h2a3 3 0 0 0 0-6h-2V7h2z"})})})]}),Gt&&Pde(Gt)&&l.jsx("div",{className:"mt-3",children:l.jsx(hpe,{metadata:Gt,loading:_t})})]}),l.jsxs("div",{className:"flex flex-col items-start sm:flex-row sm:items-center sm:gap-3 gap-2 w-full sm:w-auto",children:[l.jsx("div",{className:"self-start sm:self-auto",children:Nr()}),(me||(S==null?void 0:S.stateNum)===3&&ae)&&l.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-sm",children:[l.jsx("div",{className:"animate-spin h-3 w-3 border border-blue-500 border-t-transparent rounded-full"}),m?"Checking for winners...":"Checking for winner selection..."]}),pt()&&l.jsxs(qe,{onClick:Ge,className:"flex items-center gap-2 bg-[#614E41] text-white px-4 py-2 rounded-md hover:bg-[#4a3a30] transition-colors text-sm font-medium",title:S.slotsSold>0?"Delete pool (refunds will be processed automatically)":"Delete this pool",disabled:N,children:[l.jsx(dS,{className:"h-4 w-4"}),N?"Deleting...":"Delete Pool"]}),i&&(s==null?void 0:s.toLowerCase())===S.creator.toLowerCase()&&(S.isPrized||aa||!S.isPrized&&Ae)&&S.prizeCollection&&S.prizeCollection!==He&&(!S.erc20PrizeAmount||((Cg=(Wc=S.erc20PrizeAmount).isZero)==null?void 0:Cg.call(Wc))||S.erc20PrizeAmount==="0")&&(!S.nativePrizeAmount||((_d=(Sg=S.nativePrizeAmount).isZero)==null?void 0:_d.call(Sg))||S.nativePrizeAmount==="0")&&!V&&S.stateNum===4&&l.jsx("div",{className:"flex flex-col sm:flex-row gap-2 items-center",children:Ct?l.jsxs("div",{ref:Tt,className:"flex flex-col sm:flex-row gap-2 items-center",children:[l.jsx("input",{type:"text",placeholder:"Enter winner address",value:Xt,onChange:be=>xt(be.target.value),className:"px-3 py-2.5 border-2 border-[#614E41] rounded-md bg-background w-72 font-mono focus:outline-none focus:ring-0",disabled:Fe}),l.jsx(qe,{onClick:St,disabled:Fe||!Xt||Xt.length!==42,className:"bg-[#614E41] text-white px-4 py-2 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50",children:Fe?"Minting...":"Submit"}),l.jsx(qe,{variant:"outline",onClick:()=>nt(!1),disabled:Fe,className:"sm:ml-2 border-2 border-[#614E41]",children:"Cancel"})]}):l.jsx(qe,{onClick:()=>nt(!0),className:"bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:"Mint to Winner"})}),i&&(s==null?void 0:s.toLowerCase())===S.creator.toLowerCase()&&V&&S.stateNum===7&&l.jsx(qe,{onClick:vt,className:"sm:ml-2 bg-warning text-warning-foreground hover:bg-warning/90",disabled:b,children:b?"Withdrawing...":"Withdraw Prize"}),[4,5,6,7,8].includes(S.stateNum)&&(S==null?void 0:S.isVrfConsumer)===!0&&l.jsx(qe,{onClick:async()=>{try{R(!0);const be=d(S.address,"pool");if(!be)throw new Error("Failed to get raffle contract");const ye=await f(be.removeFromVRFSubscription);if(ye!=null&&ye.success)te.success("VRF status updated successfully"),B(Ve=>Ve&&{...Ve,isVrfConsumer:!1}),j==null||j();else if(ye!=null&&ye.error)throw new Error(ye.error)}catch(be){const ye=xl(be,"update VRF status");Ta(be,"Update VRF Status"),te.error(ye.message)}finally{R(!1)}},disabled:O,className:"sm:ml-2 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:O?"Updating...":"Update VRF Status"})]})]}),pt()&&S.slotsSold>0&&l.jsx("div",{className:"mt-4 p-4 bg-blue-50/80 dark:bg-blue-900/20 backdrop-blur-sm border border-blue-200/50 dark:border-blue-700/50 rounded-lg",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[" As the pool creator, you can delete this pool. Deletion will automatically process refunds for all ",S.slotsSold," sold slots."]})})]}),l.jsx("div",{className:"detail-beige-card mb-8 p-4 bg-card/80 text-foreground backdrop-blur-sm border border-border rounded-xl shadow-lg",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-3 text-center items-center text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-body text-[length:var(--text-base)] font-medium mb-1",children:S.slotsSold}),l.jsx("p",{className:"text-xs text-foreground/70 dark:text-foreground/80",children:"Slots Sold"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-body text-[length:var(--text-base)] font-medium mb-1",children:S.slotLimit}),l.jsx("p",{className:"text-xs text-foreground/70 dark:text-foreground/80",children:"Total Slots"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-body text-[length:var(--text-base)] font-medium mb-1",children:S.winnersCount}),l.jsx("p",{className:"text-xs text-foreground/70 dark:text-foreground/80",children:"Winners"})]}),l.jsxs("div",{children:[l.jsx("p",{className:`font-medium mb-1 ${m?"text-base":"text-lg"}`,children:gt}),l.jsx("p",{className:"text-xs text-foreground/70 dark:text-foreground/80",children:Ot})]}),l.jsx("div",{className:"flex justify-center lg:justify-end items-center h-full w-full",children:(he||!(S!=null&&S.usesCustomFee))&&S&&(()=>{const{refundable:be,reason:ye,label:Ve}=jpe(S);return l.jsxs("span",{className:`px-3 py-1 rounded-full font-semibold ${be?"bg-green-100 text-green-800":"bg-gray-200 text-gray-800"} text-xs`,title:ye,style:{whiteSpace:"nowrap"},children:[Ve,l.jsx(Vt,{className:"inline-block ml-1 h-4 w-4 text-gray-400 align-middle",title:ye})]})})()})]})}),(S==null?void 0:S.socialEngagementRequired)&&l.jsx("div",{className:"mb-8",children:l.jsx(fpe,{raffle:S,userAddress:s,socialEngagementRequired:S.socialEngagementRequired,hasCompletedSocialEngagement:Q,onVerificationComplete:()=>{j()}})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx(Epe,{raffle:S,onPurchase:mr,timeRemaining:H,winners:[],shouldShowClaimPrize:Vc,prizeAlreadyClaimed:zv,claimingPrize:Gr,handleClaimPrize:wd,shouldShowClaimRefund:Bv,claimingRefund:kr,handleClaimRefund:kd,refundableAmount:hi,isMintableERC721:aa,showMintInput:Ct,setShowMintInput:nt,mintWinnerAddress:Xt,setMintWinnerAddress:xt,mintingToWinner:Fe,handleMintToWinner:St,isEscrowedPrize:V,isCollabPool:Ae,isPrized:S.isPrized,isMobile:m,onStateChange:j,socialEngagementRequired:S==null?void 0:S.socialEngagementRequired,hasCompletedSocialEngagement:Q}),l.jsx(Npe,{raffle:S,isMintableERC721:aa,isEscrowedPrize:V,isMobile:m,onWinnerCountChange:mi,onWinnersSelectedChange:ri})]}),l.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"detail-beige-card bg-card/80 text-foreground backdrop-blur-sm border border-border rounded-xl p-6 shadow-lg h-full",children:[l.jsx("h3",{className:`font-semibold mb-4 ${m?"text-base":"text-lg"}`,children:"Raffle Details"}),l.jsxs("div",{className:"space-y-3 text-sm",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:"Creator:"}),l.jsx("span",{className:"font-mono text-foreground",title:S.creator,children:m?`${S.creator.slice(0,12)}...`:`${S.creator.slice(0,16)}...`})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:"Pool Contract:"}),l.jsx("a",{href:sC(S.address,S.chainId),target:"_blank",rel:"noopener noreferrer",className:"font-mono text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",title:S.address,children:m?`${S.address.slice(0,12)}...`:`${S.address.slice(0,16)}...`})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:"Start Time:"}),l.jsx("span",{children:new Date(S.startTime*1e3).toLocaleString()})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:["Raffle Duration",l.jsxs(nr,{children:[l.jsx(ir,{asChild:!0,children:l.jsx("span",{className:"inline-flex items-center cursor-help","aria-label":"Raffle Duration info",children:l.jsx(Vt,{className:"h-3.5 w-3.5 opacity-70"})})}),l.jsx(sr,{side:"top",align:"center",children:"Shows the default duration until the raffle ends, then shows the actual duration taken."})]})]}),l.jsx("span",{children:(()=>{const be=[2,3,4,5,6,7,8].includes(S.stateNum),ye=(S==null?void 0:S.actualDuration)&&(S.actualDuration.toNumber?S.actualDuration.toNumber():Number(S.actualDuration)),Ve=S==null?void 0:S.duration,Bt=be&&ye&&ye>0?ye>Ve?Ve:ye:Ve;return Te(Bt)})()})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:"End Time:"}),l.jsx("span",{children:v(S.slotFee)})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:"Total Participants:"}),l.jsx("span",{children:Number(S.uniqueParticipants||0).toLocaleString()})]}),S.nativePrizeAmount&&S.nativePrizeAmount.gt&&S.nativePrizeAmount.gt(0)&&l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:"Prize Amount:"}),l.jsx("span",{children:x(S.nativePrizeAmount)})]}),S.erc20PrizeToken&&S.erc20PrizeToken!==He&&S.erc20PrizeAmount&&S.erc20PrizeAmount.gt&&S.erc20PrizeAmount.gt(0)&&l.jsx(Ape,{token:S.erc20PrizeToken,amount:S.erc20PrizeAmount}),S.prizeCollection&&S.prizeCollection!==He&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Prize Collection:"}),l.jsx("a",{href:sC(S.prizeCollection,S.chainId),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-200",title:S.prizeCollection,children:k||`${S.prizeCollection.slice(0,10)}...${S.prizeCollection.slice(-8)}`})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-foreground/80 dark:text-foreground",children:V?"Prize Type:":"Collection Type:"}),l.jsx("span",{className:"font-semibold",children:(()=>{if(typeof V=="boolean"&&typeof S.standard<"u"){if(!V&&S.standard===0)return"Mintable ERC721";if(!V&&S.standard===1)return"Mintable ERC1155";if(V&&S.standard===0)return"Escrowed ERC721";if(V&&S.standard===1)return"Escrowed ERC1155"}return"Unknown"})()})]}),V&&S.prizeTokenId!==void 0&&S.prizeTokenId!==null&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-foreground/80 dark:text-foreground",children:"Prize Token ID:"}),l.jsx("span",{className:"font-mono font-semibold",children:S.prizeTokenId.toString?S.prizeTokenId.toString():S.prizeTokenId})]})]})]})]}),l.jsx(Tpe,{raffle:S,isMintableERC721:aa,isEscrowedPrize:V})]})]})]})};function fk(){const[t]=Y$(),e=Ua(),[r,n]=C.useState("processing"),[i,s]=C.useState("Processing authentication...");C.useEffect(()=>{o()},[]);const o=async()=>{try{const a=t.get("code"),c=t.get("state"),d=t.get("error"),f=t.get("error_description");if(d){n("error"),s(`Authentication failed: ${f||d}`),qi.error(`Authentication failed: ${f||d}`),setTimeout(()=>{window.close(),e("/")},3e3);return}if(!a||!c){n("error"),s("Missing authorization code or state parameter"),qi.error("Invalid callback parameters"),setTimeout(()=>{window.close(),e("/")},3e3);return}let p;try{p=JSON.parse(atob(c))}catch{n("error"),s("Invalid state parameter"),qi.error("Invalid authentication state"),setTimeout(()=>{window.close(),e("/")},3e3);return}const{wallet_address:g}=p;if(!g){n("error"),s("Missing wallet address in state"),qi.error("Invalid authentication state"),setTimeout(()=>{window.close(),e("/")},3e3);return}const m=window.location.pathname;let v="twitter";m.includes("/discord")?v="discord":m.includes("/telegram")&&(v="telegram"),s(`Completing ${v} authentication...`);let x;switch(v){case"twitter":x=await Vs.handleTwitterCallback(a,c,g);break;case"discord":x=await Vs.handleDiscordCallback(a,c,g);break;default:throw new Error(`Unsupported platform: ${v}`)}x.success?(n("success"),s(`${v.charAt(0).toUpperCase()+v.slice(1)} account connected successfully!`),qi.success(`${v.charAt(0).toUpperCase()+v.slice(1)} account connected!`),localStorage.setItem("oauth_success",JSON.stringify({platform:v,timestamp:Date.now()})),setTimeout(()=>{window.close()},2e3)):(n("error"),s(x.error||"Authentication failed"),qi.error(x.error||"Authentication failed"),setTimeout(()=>{window.close(),e("/")},3e3))}catch(a){console.error("Callback error:",a),n("error"),s(a.message||"An unexpected error occurred"),qi.error("Authentication failed"),setTimeout(()=>{window.close(),e("/")},3e3)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsx("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-8",children:l.jsxs("div",{className:"text-center",children:[r==="processing"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Processing..."}),l.jsx("p",{className:"text-gray-600",children:i})]}),r==="success"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-green-600 mb-4",children:l.jsx("svg",{className:"h-16 w-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Success!"}),l.jsx("p",{className:"text-gray-600",children:i}),l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"This window will close automatically..."})]}),r==="error"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-red-600 mb-4",children:l.jsx("svg",{className:"h-16 w-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error"}),l.jsx("p",{className:"text-gray-600",children:i}),l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"This window will close automatically..."})]})]})})})}const Ppe=()=>{const{isMobile:t,isInitialized:e}=pn(),{component:r}=zte();return C.useEffect(()=>{$te();const n=Vte();return()=>{Ute(),n&&n()}},[]),e?l.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[l.jsx(gte,{}),l.jsx("main",{className:"flex-1 min-h-0 pt-20 pb-8",children:l.jsxs(L$,{children:[l.jsx(va,{path:"/",element:l.jsx(Yce,{})}),l.jsx(va,{path:"/app",element:l.jsx(cue,{})}),l.jsx(va,{path:"/profile",element:l.jsx(Bue,{})}),l.jsx(va,{path:"/create-raffle",element:l.jsx(wde,{})}),l.jsx(va,{path:"/raffle/:raffleAddress",element:l.jsx(aM,{})}),l.jsx(va,{path:"/:chainSlug/raffle/:raffleAddress",element:l.jsx(aM,{})}),l.jsx(va,{path:"/auth/callback/twitter",element:l.jsx(fk,{})}),l.jsx(va,{path:"/auth/callback/discord",element:l.jsx(fk,{})}),l.jsx(va,{path:"/auth/callback/telegram",element:l.jsx(fk,{})})]})}),l.jsx(Ote,{}),l.jsx(oW,{}),r]}):l.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold mb-2",style:{fontFamily:"Orbitron, monospace"},children:"Dropr"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading..."})]})})};function Rpe(){return l.jsx(Lte,{children:l.jsx(fW,{children:l.jsx(kV,{children:l.jsx(dW,{children:l.jsx(hW,{children:l.jsx(q$,{children:l.jsx(Ppe,{})})})})})})})}const Ipe=console.error;console.error=(...t)=>{const e=t.join(" ");e.includes("Invalid Sentry Dsn")||e.includes("Sentry")||Ipe.apply(console,t)};console.log("main.jsx is executing...");const oC=document.getElementById("root");console.log("Root element found:",oC);if(oC){const t=H8.createRoot(oC);console.log("React root created"),t.render(l.jsx(Rpe,{})),console.log("React app rendered")}else console.error("Root element not found!");

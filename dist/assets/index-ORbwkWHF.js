var BN=Object.defineProperty;var UN=(t,e,r)=>e in t?BN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ku=(t,e,r)=>UN(t,typeof e!="symbol"?e+"":e,r);function $N(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(n,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();var WN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $a(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function HN(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}),r}var Wh={exports:{}},Sl={},Hh={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cx;function qN(){if(Cx)return mt;Cx=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function k(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function C(R,w,U){this.props=R,this.context=w,this.refs=N,this.updater=U||g}C.prototype.isReactComponent={},C.prototype.setState=function(R,w){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,w,"setState")},C.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function S(){}S.prototype=C.prototype;function D(R,w,U){this.props=R,this.context=w,this.refs=N,this.updater=U||g}var O=D.prototype=new S;O.constructor=D,j(O,C.prototype),O.isPureReactComponent=!0;var F=Array.isArray,L=Object.prototype.hasOwnProperty,H={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function Y(R,w,U){var se,I={},V=null,K=null;if(w!=null)for(se in w.ref!==void 0&&(K=w.ref),w.key!==void 0&&(V=""+w.key),w)L.call(w,se)&&!q.hasOwnProperty(se)&&(I[se]=w[se]);var Z=arguments.length-2;if(Z===1)I.children=U;else if(1<Z){for(var oe=Array(Z),fe=0;fe<Z;fe++)oe[fe]=arguments[fe+2];I.children=oe}if(R&&R.defaultProps)for(se in Z=R.defaultProps,Z)I[se]===void 0&&(I[se]=Z[se]);return{$$typeof:t,type:R,key:V,ref:K,props:I,_owner:H.current}}function Q(R,w){return{$$typeof:t,type:R.type,key:w,ref:R.ref,props:R.props,_owner:R._owner}}function re(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function te(R){var w={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(U){return w[U]})}var $=/\/+/g;function M(R,w){return typeof R=="object"&&R!==null&&R.key!=null?te(""+R.key):w.toString(36)}function x(R,w,U,se,I){var V=typeof R;(V==="undefined"||V==="boolean")&&(R=null);var K=!1;if(R===null)K=!0;else switch(V){case"string":case"number":K=!0;break;case"object":switch(R.$$typeof){case t:case e:K=!0}}if(K)return K=R,I=I(K),R=se===""?"."+M(K,0):se,F(I)?(U="",R!=null&&(U=R.replace($,"$&/")+"/"),x(I,w,U,"",function(fe){return fe})):I!=null&&(re(I)&&(I=Q(I,U+(!I.key||K&&K.key===I.key?"":(""+I.key).replace($,"$&/")+"/")+R)),w.push(I)),1;if(K=0,se=se===""?".":se+":",F(R))for(var Z=0;Z<R.length;Z++){V=R[Z];var oe=se+M(V,Z);K+=x(V,w,U,oe,I)}else if(oe=k(R),typeof oe=="function")for(R=oe.call(R),Z=0;!(V=R.next()).done;)V=V.value,oe=se+M(V,Z++),K+=x(V,w,U,oe,I);else if(V==="object")throw w=String(R),Error("Objects are not valid as a React child (found: "+(w==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":w)+"). If you meant to render a collection of children, use an array instead.");return K}function E(R,w,U){if(R==null)return R;var se=[],I=0;return x(R,se,"","",function(V){return w.call(U,V,I++)}),se}function T(R){if(R._status===-1){var w=R._result;w=w(),w.then(function(U){(R._status===0||R._status===-1)&&(R._status=1,R._result=U)},function(U){(R._status===0||R._status===-1)&&(R._status=2,R._result=U)}),R._status===-1&&(R._status=0,R._result=w)}if(R._status===1)return R._result.default;throw R._result}var P={current:null},_={transition:null},z={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:_,ReactCurrentOwner:H};function W(){throw Error("act(...) is not supported in production builds of React.")}return mt.Children={map:E,forEach:function(R,w,U){E(R,function(){w.apply(this,arguments)},U)},count:function(R){var w=0;return E(R,function(){w++}),w},toArray:function(R){return E(R,function(w){return w})||[]},only:function(R){if(!re(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},mt.Component=C,mt.Fragment=r,mt.Profiler=o,mt.PureComponent=D,mt.StrictMode=n,mt.Suspense=f,mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,mt.act=W,mt.cloneElement=function(R,w,U){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var se=j({},R.props),I=R.key,V=R.ref,K=R._owner;if(w!=null){if(w.ref!==void 0&&(V=w.ref,K=H.current),w.key!==void 0&&(I=""+w.key),R.type&&R.type.defaultProps)var Z=R.type.defaultProps;for(oe in w)L.call(w,oe)&&!q.hasOwnProperty(oe)&&(se[oe]=w[oe]===void 0&&Z!==void 0?Z[oe]:w[oe])}var oe=arguments.length-2;if(oe===1)se.children=U;else if(1<oe){Z=Array(oe);for(var fe=0;fe<oe;fe++)Z[fe]=arguments[fe+2];se.children=Z}return{$$typeof:t,type:R.type,key:I,ref:V,props:se,_owner:K}},mt.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:l,_context:R},R.Consumer=R},mt.createElement=Y,mt.createFactory=function(R){var w=Y.bind(null,R);return w.type=R,w},mt.createRef=function(){return{current:null}},mt.forwardRef=function(R){return{$$typeof:u,render:R}},mt.isValidElement=re,mt.lazy=function(R){return{$$typeof:m,_payload:{_status:-1,_result:R},_init:T}},mt.memo=function(R,w){return{$$typeof:h,type:R,compare:w===void 0?null:w}},mt.startTransition=function(R){var w=_.transition;_.transition={};try{R()}finally{_.transition=w}},mt.unstable_act=W,mt.useCallback=function(R,w){return P.current.useCallback(R,w)},mt.useContext=function(R){return P.current.useContext(R)},mt.useDebugValue=function(){},mt.useDeferredValue=function(R){return P.current.useDeferredValue(R)},mt.useEffect=function(R,w){return P.current.useEffect(R,w)},mt.useId=function(){return P.current.useId()},mt.useImperativeHandle=function(R,w,U){return P.current.useImperativeHandle(R,w,U)},mt.useInsertionEffect=function(R,w){return P.current.useInsertionEffect(R,w)},mt.useLayoutEffect=function(R,w){return P.current.useLayoutEffect(R,w)},mt.useMemo=function(R,w){return P.current.useMemo(R,w)},mt.useReducer=function(R,w,U){return P.current.useReducer(R,w,U)},mt.useRef=function(R){return P.current.useRef(R)},mt.useState=function(R){return P.current.useState(R)},mt.useSyncExternalStore=function(R,w,U){return P.current.useSyncExternalStore(R,w,U)},mt.useTransition=function(){return P.current.useTransition()},mt.version="18.3.1",mt}var Ex;function up(){return Ex||(Ex=1,Hh.exports=qN()),Hh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ax;function GN(){if(Ax)return Sl;Ax=1;var t=up(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,h){var m,y={},k=null,g=null;h!==void 0&&(k=""+h),f.key!==void 0&&(k=""+f.key),f.ref!==void 0&&(g=f.ref);for(m in f)n.call(f,m)&&!l.hasOwnProperty(m)&&(y[m]=f[m]);if(u&&u.defaultProps)for(m in f=u.defaultProps,f)y[m]===void 0&&(y[m]=f[m]);return{$$typeof:e,type:u,key:k,ref:g,props:y,_owner:o.current}}return Sl.Fragment=r,Sl.jsx=c,Sl.jsxs=c,Sl}var jx;function VN(){return jx||(jx=1,Wh.exports=GN()),Wh.exports}var i=VN(),b=up();const ye=$a(b),dp=$N({__proto__:null,default:ye},[b]);var Nu={},qh={exports:{}},fn={},Gh={exports:{}},Vh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sx;function KN(){return Sx||(Sx=1,function(t){function e(_,z){var W=_.length;_.push(z);e:for(;0<W;){var R=W-1>>>1,w=_[R];if(0<o(w,z))_[R]=z,_[W]=w,W=R;else break e}}function r(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var z=_[0],W=_.pop();if(W!==z){_[0]=W;e:for(var R=0,w=_.length,U=w>>>1;R<U;){var se=2*(R+1)-1,I=_[se],V=se+1,K=_[V];if(0>o(I,W))V<w&&0>o(K,I)?(_[R]=K,_[V]=W,R=V):(_[R]=I,_[se]=W,R=se);else if(V<w&&0>o(K,W))_[R]=K,_[V]=W,R=V;else break e}}return z}function o(_,z){var W=_.sortIndex-z.sortIndex;return W!==0?W:_.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var f=[],h=[],m=1,y=null,k=3,g=!1,j=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(_){for(var z=r(h);z!==null;){if(z.callback===null)n(h);else if(z.startTime<=_)n(h),z.sortIndex=z.expirationTime,e(f,z);else break;z=r(h)}}function F(_){if(N=!1,O(_),!j)if(r(f)!==null)j=!0,T(L);else{var z=r(h);z!==null&&P(F,z.startTime-_)}}function L(_,z){j=!1,N&&(N=!1,S(Y),Y=-1),g=!0;var W=k;try{for(O(z),y=r(f);y!==null&&(!(y.expirationTime>z)||_&&!te());){var R=y.callback;if(typeof R=="function"){y.callback=null,k=y.priorityLevel;var w=R(y.expirationTime<=z);z=t.unstable_now(),typeof w=="function"?y.callback=w:y===r(f)&&n(f),O(z)}else n(f);y=r(f)}if(y!==null)var U=!0;else{var se=r(h);se!==null&&P(F,se.startTime-z),U=!1}return U}finally{y=null,k=W,g=!1}}var H=!1,q=null,Y=-1,Q=5,re=-1;function te(){return!(t.unstable_now()-re<Q)}function $(){if(q!==null){var _=t.unstable_now();re=_;var z=!0;try{z=q(!0,_)}finally{z?M():(H=!1,q=null)}}else H=!1}var M;if(typeof D=="function")M=function(){D($)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,E=x.port2;x.port1.onmessage=$,M=function(){E.postMessage(null)}}else M=function(){C($,0)};function T(_){q=_,H||(H=!0,M())}function P(_,z){Y=C(function(){_(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_){_.callback=null},t.unstable_continueExecution=function(){j||g||(j=!0,T(L))},t.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<_?Math.floor(1e3/_):5},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function(_){switch(k){case 1:case 2:case 3:var z=3;break;default:z=k}var W=k;k=z;try{return _()}finally{k=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_,z){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var W=k;k=_;try{return z()}finally{k=W}},t.unstable_scheduleCallback=function(_,z,W){var R=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?R+W:R):W=R,_){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=W+w,_={id:m++,callback:z,priorityLevel:_,startTime:W,expirationTime:w,sortIndex:-1},W>R?(_.sortIndex=W,e(h,_),r(f)===null&&_===r(h)&&(N?(S(Y),Y=-1):N=!0,P(F,W-R))):(_.sortIndex=w,e(f,_),j||g||(j=!0,T(L))),_},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(_){var z=k;return function(){var W=k;k=z;try{return _.apply(this,arguments)}finally{k=W}}}}(Vh)),Vh}var Tx;function YN(){return Tx||(Tx=1,Gh.exports=KN()),Gh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Px;function QN(){if(Px)return fn;Px=1;var t=up(),e=YN();function r(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function l(s,a){c(s,a),c(s+"Capture",a)}function c(s,a){for(o[s]=a,s=0;s<a.length;s++)n.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function k(s){return f.call(y,s)?!0:f.call(m,s)?!1:h.test(s)?y[s]=!0:(m[s]=!0,!1)}function g(s,a,d,p){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function j(s,a,d,p){if(a===null||typeof a>"u"||g(s,a,d,p))return!0;if(p)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function N(s,a,d,p,v,A,B){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=v,this.mustUseProperty=d,this.propertyName=s,this.type=a,this.sanitizeURL=A,this.removeEmptyString=B}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){C[s]=new N(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];C[a]=new N(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){C[s]=new N(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){C[s]=new N(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){C[s]=new N(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){C[s]=new N(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){C[s]=new N(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){C[s]=new N(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){C[s]=new N(s,5,!1,s.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function D(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(S,D);C[a]=new N(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(S,D);C[a]=new N(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(S,D);C[a]=new N(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){C[s]=new N(s,1,!1,s.toLowerCase(),null,!1,!1)}),C.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){C[s]=new N(s,1,!1,s.toLowerCase(),null,!0,!0)});function O(s,a,d,p){var v=C.hasOwnProperty(a)?C[a]:null;(v!==null?v.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(j(a,d,v,p)&&(d=null),p||v===null?k(a)&&(d===null?s.removeAttribute(a):s.setAttribute(a,""+d)):v.mustUseProperty?s[v.propertyName]=d===null?v.type===3?!1:"":d:(a=v.attributeName,p=v.attributeNamespace,d===null?s.removeAttribute(a):(v=v.type,d=v===3||v===4&&d===!0?"":""+d,p?s.setAttributeNS(p,a,d):s.setAttribute(a,d))))}var F=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),H=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),te=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),_=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=_&&s[_]||s["@@iterator"],typeof s=="function"?s:null)}var W=Object.assign,R;function w(s){if(R===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);R=a&&a[1]||""}return`
`+R+s}var U=!1;function se(s,a){if(!s||U)return"";U=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(le){var p=le}Reflect.construct(s,[],a)}else{try{a.call()}catch(le){p=le}s.call(a.prototype)}else{try{throw Error()}catch(le){p=le}s()}}catch(le){if(le&&p&&typeof le.stack=="string"){for(var v=le.stack.split(`
`),A=p.stack.split(`
`),B=v.length-1,G=A.length-1;1<=B&&0<=G&&v[B]!==A[G];)G--;for(;1<=B&&0<=G;B--,G--)if(v[B]!==A[G]){if(B!==1||G!==1)do if(B--,G--,0>G||v[B]!==A[G]){var J=`
`+v[B].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=B&&0<=G);break}}}finally{U=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?w(s):""}function I(s){switch(s.tag){case 5:return w(s.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 2:case 15:return s=se(s.type,!1),s;case 11:return s=se(s.type.render,!1),s;case 1:return s=se(s.type,!0),s;default:return""}}function V(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case q:return"Fragment";case H:return"Portal";case Q:return"Profiler";case Y:return"StrictMode";case M:return"Suspense";case x:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case te:return(s.displayName||"Context")+".Consumer";case re:return(s._context.displayName||"Context")+".Provider";case $:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case E:return a=s.displayName||null,a!==null?a:V(s.type)||"Memo";case T:a=s._payload,s=s._init;try{return V(s(a))}catch{}}return null}function K(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(a);case 8:return a===Y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Z(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function oe(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function fe(s){var a=oe(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,A=d.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return v.call(this)},set:function(B){p=""+B,A.call(this,B)}}),Object.defineProperty(s,a,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(B){p=""+B},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ue(s){s._valueTracker||(s._valueTracker=fe(s))}function de(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var d=a.getValue(),p="";return s&&(p=oe(s)?s.checked?"true":"false":s.value),s=p,s!==d?(a.setValue(s),!0):!1}function Pe(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ge(s,a){var d=a.checked;return W({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function ve(s,a){var d=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;d=Z(a.value!=null?a.value:d),s._wrapperState={initialChecked:p,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Je(s,a){a=a.checked,a!=null&&O(s,"checked",a,!1)}function Ne(s,a){Je(s,a);var d=Z(a.value),p=a.type;if(d!=null)p==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?bt(s,a.type,d):a.hasOwnProperty("defaultValue")&&bt(s,a.type,Z(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Fe(s,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,d||a===s.value||(s.value=a),s.defaultValue=a}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function bt(s,a,d){(a!=="number"||Pe(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var Ze=Array.isArray;function Ge(s,a,d,p){if(s=s.options,a){a={};for(var v=0;v<d.length;v++)a["$"+d[v]]=!0;for(d=0;d<s.length;d++)v=a.hasOwnProperty("$"+s[d].value),s[d].selected!==v&&(s[d].selected=v),v&&p&&(s[d].defaultSelected=!0)}else{for(d=""+Z(d),a=null,v=0;v<s.length;v++){if(s[v].value===d){s[v].selected=!0,p&&(s[v].defaultSelected=!0);return}a!==null||s[v].disabled||(a=s[v])}a!==null&&(a.selected=!0)}}function Oe(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(r(91));return W({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Se(s,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(r(92));if(Ze(d)){if(1<d.length)throw Error(r(93));d=d[0]}a=d}a==null&&(a=""),d=a}s._wrapperState={initialValue:Z(d)}}function Xe(s,a){var d=Z(a.value),p=Z(a.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),a.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),p!=null&&(s.defaultValue=""+p)}function qt(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Ve(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ke(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Ve(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Fr,kt=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,p,v){MSApp.execUnsafeLocalFunction(function(){return s(a,d,p,v)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Fr=Fr||document.createElement("div"),Fr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Fr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function ut(s,a){if(a){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=a;return}}s.textContent=a}var yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jt=["Webkit","ms","Moz","O"];Object.keys(yr).forEach(function(s){jt.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),yr[a]=yr[s]})});function ot(s,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||yr.hasOwnProperty(s)&&yr[s]?(""+a).trim():a+"px"}function hr(s,a){s=s.style;for(var d in a)if(a.hasOwnProperty(d)){var p=d.indexOf("--")===0,v=ot(d,a[d],p);d==="float"&&(d="cssFloat"),p?s.setProperty(d,v):s[d]=v}}var St=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dt(s,a){if(a){if(St[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(r(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(r(61))}if(a.style!=null&&typeof a.style!="object")throw Error(r(62))}}function Yr(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gt=null;function xt(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Tr=null,ft=null,at=null;function cr(s){if(s=hl(s)){if(typeof Tr!="function")throw Error(r(280));var a=s.stateNode;a&&(a=Oc(a),Tr(s.stateNode,s.type,a))}}function Tt(s){ft?at?at.push(s):at=[s]:ft=s}function Ee(){if(ft){var s=ft,a=at;if(at=ft=null,cr(s),a)for(s=0;s<a.length;s++)cr(a[s])}}function nt(s,a){return s(a)}function Le(){}var tt=!1;function Xt(s,a,d){if(tt)return s(a,d);tt=!0;try{return nt(s,a,d)}finally{tt=!1,(ft!==null||at!==null)&&(Le(),Ee())}}function rt(s,a){var d=s.stateNode;if(d===null)return null;var p=Oc(d);if(p===null)return null;d=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,a,typeof d));return d}var lt=!1;if(u)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){lt=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch{lt=!1}function ht(s,a,d,p,v,A,B,G,J){var le=Array.prototype.slice.call(arguments,3);try{a.apply(d,le)}catch(pe){this.onError(pe)}}var Nt=!1,nn=null,Ct=!1,_t=null,xn={onError:function(s){Nt=!0,nn=s}};function zt(s,a,d,p,v,A,B,G,J){Nt=!1,nn=null,ht.apply(xn,arguments)}function Pt(s,a,d,p,v,A,B,G,J){if(zt.apply(this,arguments),Nt){if(Nt){var le=nn;Nt=!1,nn=null}else throw Error(r(198));Ct||(Ct=!0,_t=le)}}function Br(s){var a=s,d=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(d=a.return),s=a.return;while(s)}return a.tag===3?d:null}function Ot(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Et(s){if(Br(s)!==s)throw Error(r(188))}function Qr(s){var a=s.alternate;if(!a){if(a=Br(s),a===null)throw Error(r(188));return a!==s?null:s}for(var d=s,p=a;;){var v=d.return;if(v===null)break;var A=v.alternate;if(A===null){if(p=v.return,p!==null){d=p;continue}break}if(v.child===A.child){for(A=v.child;A;){if(A===d)return Et(v),s;if(A===p)return Et(v),a;A=A.sibling}throw Error(r(188))}if(d.return!==p.return)d=v,p=A;else{for(var B=!1,G=v.child;G;){if(G===d){B=!0,d=v,p=A;break}if(G===p){B=!0,p=v,d=A;break}G=G.sibling}if(!B){for(G=A.child;G;){if(G===d){B=!0,d=A,p=v;break}if(G===p){B=!0,p=A,d=v;break}G=G.sibling}if(!B)throw Error(r(189))}}if(d.alternate!==p)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:a}function Pr(s){return s=Qr(s),s!==null?Jr(s):null}function Jr(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Jr(s);if(a!==null)return a;s=s.sibling}return null}var yn=e.unstable_scheduleCallback,vn=e.unstable_cancelCallback,eo=e.unstable_shouldYield,to=e.unstable_requestPaint,Wt=e.unstable_now,Fs=e.unstable_getCurrentPriorityLevel,gs=e.unstable_ImmediatePriority,Bs=e.unstable_UserBlockingPriority,Qn=e.unstable_NormalPriority,pi=e.unstable_LowPriority,xe=e.unstable_IdlePriority,Ce=null,ke=null;function Ht(s){if(ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Ce,s,void 0,(s.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:Us,kr=Math.log,sn=Math.LN2;function Us(s){return s>>>=0,s===0?32:31-(kr(s)/sn|0)|0}var xs=64,gi=4194304;function ro(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Wo(s,a){var d=s.pendingLanes;if(d===0)return 0;var p=0,v=s.suspendedLanes,A=s.pingedLanes,B=d&268435455;if(B!==0){var G=B&~v;G!==0?p=ro(G):(A&=B,A!==0&&(p=ro(A)))}else B=d&~v,B!==0?p=ro(B):A!==0&&(p=ro(A));if(p===0)return 0;if(a!==0&&a!==p&&(a&v)===0&&(v=p&-p,A=a&-a,v>=A||v===16&&(A&4194240)!==0))return a;if((p&4)!==0&&(p|=d&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)d=31-yt(a),v=1<<d,p|=s[d],a&=~v;return p}function Ho(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hf(s,a){for(var d=s.suspendedLanes,p=s.pingedLanes,v=s.expirationTimes,A=s.pendingLanes;0<A;){var B=31-yt(A),G=1<<B,J=v[B];J===-1?((G&d)===0||(G&p)!==0)&&(v[B]=Ho(G,a)):J<=a&&(s.expiredLanes|=G),A&=~G}}function qo(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function bc(){var s=xs;return xs<<=1,(xs&4194240)===0&&(xs=64),s}function Ja(s){for(var a=[],d=0;31>d;d++)a.push(s);return a}function xi(s,a,d){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-yt(a),s[a]=d}function mf(s,a){var d=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<d;){var v=31-yt(d),A=1<<v;a[v]=0,p[v]=-1,s[v]=-1,d&=~A}}function Xa(s,a){var d=s.entangledLanes|=a;for(s=s.entanglements;d;){var p=31-yt(d),v=1<<p;v&a|s[p]&a&&(s[p]|=a),d&=~v}}var It=0;function wc(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var kc,Go,no,so,io,Vo=!1,oo=[],Jn=null,Xn=null,on=null,Dn=new Map,Ko=new Map,yi=[],lk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ag(s,a){switch(s){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":Dn.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ko.delete(a.pointerId)}}function Za(s,a,d,p,v,A){return s===null||s.nativeEvent!==A?(s={blockedOn:a,domEventName:d,eventSystemFlags:p,nativeEvent:A,targetContainers:[v]},a!==null&&(a=hl(a),a!==null&&Go(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),s)}function ck(s,a,d,p,v){switch(a){case"focusin":return Jn=Za(Jn,s,a,d,p,v),!0;case"dragenter":return Xn=Za(Xn,s,a,d,p,v),!0;case"mouseover":return on=Za(on,s,a,d,p,v),!0;case"pointerover":var A=v.pointerId;return Dn.set(A,Za(Dn.get(A)||null,s,a,d,p,v)),!0;case"gotpointercapture":return A=v.pointerId,Ko.set(A,Za(Ko.get(A)||null,s,a,d,p,v)),!0}return!1}function lg(s){var a=ao(s.target);if(a!==null){var d=Br(a);if(d!==null){if(a=d.tag,a===13){if(a=Ot(d),a!==null){s.blockedOn=a,io(s.priority,function(){no(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Nc(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var d=gf(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var p=new d.constructor(d.type,d);gt=p,d.target.dispatchEvent(p),gt=null}else return a=hl(d),a!==null&&Go(a),s.blockedOn=d,!1;a.shift()}return!0}function cg(s,a,d){Nc(s)&&d.delete(a)}function uk(){Vo=!1,Jn!==null&&Nc(Jn)&&(Jn=null),Xn!==null&&Nc(Xn)&&(Xn=null),on!==null&&Nc(on)&&(on=null),Dn.forEach(cg),Ko.forEach(cg)}function el(s,a){s.blockedOn===a&&(s.blockedOn=null,Vo||(Vo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,uk)))}function tl(s){function a(v){return el(v,s)}if(0<oo.length){el(oo[0],s);for(var d=1;d<oo.length;d++){var p=oo[d];p.blockedOn===s&&(p.blockedOn=null)}}for(Jn!==null&&el(Jn,s),Xn!==null&&el(Xn,s),on!==null&&el(on,s),Dn.forEach(a),Ko.forEach(a),d=0;d<yi.length;d++)p=yi[d],p.blockedOn===s&&(p.blockedOn=null);for(;0<yi.length&&(d=yi[0],d.blockedOn===null);)lg(d),d.blockedOn===null&&yi.shift()}var Yo=F.ReactCurrentBatchConfig,Cc=!0;function dk(s,a,d,p){var v=It,A=Yo.transition;Yo.transition=null;try{It=1,pf(s,a,d,p)}finally{It=v,Yo.transition=A}}function fk(s,a,d,p){var v=It,A=Yo.transition;Yo.transition=null;try{It=4,pf(s,a,d,p)}finally{It=v,Yo.transition=A}}function pf(s,a,d,p){if(Cc){var v=gf(s,a,d,p);if(v===null)_f(s,a,p,Ec,d),ag(s,p);else if(ck(v,s,a,d,p))p.stopPropagation();else if(ag(s,p),a&4&&-1<lk.indexOf(s)){for(;v!==null;){var A=hl(v);if(A!==null&&kc(A),A=gf(s,a,d,p),A===null&&_f(s,a,p,Ec,d),A===v)break;v=A}v!==null&&p.stopPropagation()}else _f(s,a,p,null,d)}}var Ec=null;function gf(s,a,d,p){if(Ec=null,s=xt(p),s=ao(s),s!==null)if(a=Br(s),a===null)s=null;else if(d=a.tag,d===13){if(s=Ot(a),s!==null)return s;s=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Ec=s,null}function ug(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fs()){case gs:return 1;case Bs:return 4;case Qn:case pi:return 16;case xe:return 536870912;default:return 16}default:return 16}}var vi=null,xf=null,Ac=null;function dg(){if(Ac)return Ac;var s,a=xf,d=a.length,p,v="value"in vi?vi.value:vi.textContent,A=v.length;for(s=0;s<d&&a[s]===v[s];s++);var B=d-s;for(p=1;p<=B&&a[d-p]===v[A-p];p++);return Ac=v.slice(s,1<p?1-p:void 0)}function jc(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Sc(){return!0}function fg(){return!1}function bn(s){function a(d,p,v,A,B){this._reactName=d,this._targetInst=v,this.type=p,this.nativeEvent=A,this.target=B,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(d=s[G],this[G]=d?d(A):A[G]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Sc:fg,this.isPropagationStopped=fg,this}return W(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Sc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Sc)},persist:function(){},isPersistent:Sc}),a}var Qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yf=bn(Qo),rl=W({},Qo,{view:0,detail:0}),hk=bn(rl),vf,bf,nl,Tc=W({},rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==nl&&(nl&&s.type==="mousemove"?(vf=s.screenX-nl.screenX,bf=s.screenY-nl.screenY):bf=vf=0,nl=s),vf)},movementY:function(s){return"movementY"in s?s.movementY:bf}}),hg=bn(Tc),mk=W({},Tc,{dataTransfer:0}),pk=bn(mk),gk=W({},rl,{relatedTarget:0}),wf=bn(gk),xk=W({},Qo,{animationName:0,elapsedTime:0,pseudoElement:0}),yk=bn(xk),vk=W({},Qo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),bk=bn(vk),wk=W({},Qo,{data:0}),mg=bn(wk),kk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ck={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ek(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Ck[s])?!!a[s]:!1}function kf(){return Ek}var Ak=W({},rl,{key:function(s){if(s.key){var a=kk[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=jc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Nk[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kf,charCode:function(s){return s.type==="keypress"?jc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?jc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),jk=bn(Ak),Sk=W({},Tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pg=bn(Sk),Tk=W({},rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kf}),Pk=bn(Tk),Rk=W({},Qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mk=bn(Rk),_k=W({},Tc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ik=bn(_k),Dk=[9,13,27,32],Nf=u&&"CompositionEvent"in window,sl=null;u&&"documentMode"in document&&(sl=document.documentMode);var zk=u&&"TextEvent"in window&&!sl,gg=u&&(!Nf||sl&&8<sl&&11>=sl),xg=" ",yg=!1;function vg(s,a){switch(s){case"keyup":return Dk.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Jo=!1;function Ok(s,a){switch(s){case"compositionend":return bg(a);case"keypress":return a.which!==32?null:(yg=!0,xg);case"textInput":return s=a.data,s===xg&&yg?null:s;default:return null}}function Lk(s,a){if(Jo)return s==="compositionend"||!Nf&&vg(s,a)?(s=dg(),Ac=xf=vi=null,Jo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return gg&&a.locale!=="ko"?null:a.data;default:return null}}var Fk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wg(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Fk[s.type]:a==="textarea"}function kg(s,a,d,p){Tt(p),a=Ic(a,"onChange"),0<a.length&&(d=new yf("onChange","change",null,d,p),s.push({event:d,listeners:a}))}var il=null,ol=null;function Bk(s){Bg(s,0)}function Pc(s){var a=ra(s);if(de(a))return s}function Uk(s,a){if(s==="change")return a}var Ng=!1;if(u){var Cf;if(u){var Ef="oninput"in document;if(!Ef){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),Ef=typeof Cg.oninput=="function"}Cf=Ef}else Cf=!1;Ng=Cf&&(!document.documentMode||9<document.documentMode)}function Eg(){il&&(il.detachEvent("onpropertychange",Ag),ol=il=null)}function Ag(s){if(s.propertyName==="value"&&Pc(ol)){var a=[];kg(a,ol,s,xt(s)),Xt(Bk,a)}}function $k(s,a,d){s==="focusin"?(Eg(),il=a,ol=d,il.attachEvent("onpropertychange",Ag)):s==="focusout"&&Eg()}function Wk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Pc(ol)}function Hk(s,a){if(s==="click")return Pc(a)}function qk(s,a){if(s==="input"||s==="change")return Pc(a)}function Gk(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Zn=typeof Object.is=="function"?Object.is:Gk;function al(s,a){if(Zn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var d=Object.keys(s),p=Object.keys(a);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var v=d[p];if(!f.call(a,v)||!Zn(s[v],a[v]))return!1}return!0}function jg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Sg(s,a){var d=jg(s);s=0;for(var p;d;){if(d.nodeType===3){if(p=s+d.textContent.length,s<=a&&p>=a)return{node:d,offset:a-s};s=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=jg(d)}}function Tg(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Tg(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Pg(){for(var s=window,a=Pe();a instanceof s.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)s=a.contentWindow;else break;a=Pe(s.document)}return a}function Af(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function Vk(s){var a=Pg(),d=s.focusedElem,p=s.selectionRange;if(a!==d&&d&&d.ownerDocument&&Tg(d.ownerDocument.documentElement,d)){if(p!==null&&Af(d)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(s,d.value.length);else if(s=(a=d.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var v=d.textContent.length,A=Math.min(p.start,v);p=p.end===void 0?A:Math.min(p.end,v),!s.extend&&A>p&&(v=p,p=A,A=v),v=Sg(d,A);var B=Sg(d,p);v&&B&&(s.rangeCount!==1||s.anchorNode!==v.node||s.anchorOffset!==v.offset||s.focusNode!==B.node||s.focusOffset!==B.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),s.removeAllRanges(),A>p?(s.addRange(a),s.extend(B.node,B.offset)):(a.setEnd(B.node,B.offset),s.addRange(a)))}}for(a=[],s=d;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)s=a[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Kk=u&&"documentMode"in document&&11>=document.documentMode,Xo=null,jf=null,ll=null,Sf=!1;function Rg(s,a,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Sf||Xo==null||Xo!==Pe(p)||(p=Xo,"selectionStart"in p&&Af(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ll&&al(ll,p)||(ll=p,p=Ic(jf,"onSelect"),0<p.length&&(a=new yf("onSelect","select",null,a,d),s.push({event:a,listeners:p}),a.target=Xo)))}function Rc(s,a){var d={};return d[s.toLowerCase()]=a.toLowerCase(),d["Webkit"+s]="webkit"+a,d["Moz"+s]="moz"+a,d}var Zo={animationend:Rc("Animation","AnimationEnd"),animationiteration:Rc("Animation","AnimationIteration"),animationstart:Rc("Animation","AnimationStart"),transitionend:Rc("Transition","TransitionEnd")},Tf={},Mg={};u&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function Mc(s){if(Tf[s])return Tf[s];if(!Zo[s])return s;var a=Zo[s],d;for(d in a)if(a.hasOwnProperty(d)&&d in Mg)return Tf[s]=a[d];return s}var _g=Mc("animationend"),Ig=Mc("animationiteration"),Dg=Mc("animationstart"),zg=Mc("transitionend"),Og=new Map,Lg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(s,a){Og.set(s,a),l(a,[s])}for(var Pf=0;Pf<Lg.length;Pf++){var Rf=Lg[Pf],Yk=Rf.toLowerCase(),Qk=Rf[0].toUpperCase()+Rf.slice(1);bi(Yk,"on"+Qk)}bi(_g,"onAnimationEnd"),bi(Ig,"onAnimationIteration"),bi(Dg,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(zg,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jk=new Set("cancel close invalid load scroll toggle".split(" ").concat(cl));function Fg(s,a,d){var p=s.type||"unknown-event";s.currentTarget=d,Pt(p,a,void 0,s),s.currentTarget=null}function Bg(s,a){a=(a&4)!==0;for(var d=0;d<s.length;d++){var p=s[d],v=p.event;p=p.listeners;e:{var A=void 0;if(a)for(var B=p.length-1;0<=B;B--){var G=p[B],J=G.instance,le=G.currentTarget;if(G=G.listener,J!==A&&v.isPropagationStopped())break e;Fg(v,G,le),A=J}else for(B=0;B<p.length;B++){if(G=p[B],J=G.instance,le=G.currentTarget,G=G.listener,J!==A&&v.isPropagationStopped())break e;Fg(v,G,le),A=J}}}if(Ct)throw s=_t,Ct=!1,_t=null,s}function Kt(s,a){var d=a[Ff];d===void 0&&(d=a[Ff]=new Set);var p=s+"__bubble";d.has(p)||(Ug(a,s,2,!1),d.add(p))}function Mf(s,a,d){var p=0;a&&(p|=4),Ug(d,s,p,a)}var _c="_reactListening"+Math.random().toString(36).slice(2);function ul(s){if(!s[_c]){s[_c]=!0,n.forEach(function(d){d!=="selectionchange"&&(Jk.has(d)||Mf(d,!1,s),Mf(d,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[_c]||(a[_c]=!0,Mf("selectionchange",!1,a))}}function Ug(s,a,d,p){switch(ug(a)){case 1:var v=dk;break;case 4:v=fk;break;default:v=pf}d=v.bind(null,a,d,s),v=void 0,!lt||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),p?v!==void 0?s.addEventListener(a,d,{capture:!0,passive:v}):s.addEventListener(a,d,!0):v!==void 0?s.addEventListener(a,d,{passive:v}):s.addEventListener(a,d,!1)}function _f(s,a,d,p,v){var A=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var B=p.tag;if(B===3||B===4){var G=p.stateNode.containerInfo;if(G===v||G.nodeType===8&&G.parentNode===v)break;if(B===4)for(B=p.return;B!==null;){var J=B.tag;if((J===3||J===4)&&(J=B.stateNode.containerInfo,J===v||J.nodeType===8&&J.parentNode===v))return;B=B.return}for(;G!==null;){if(B=ao(G),B===null)return;if(J=B.tag,J===5||J===6){p=A=B;continue e}G=G.parentNode}}p=p.return}Xt(function(){var le=A,pe=xt(d),be=[];e:{var me=Og.get(s);if(me!==void 0){var Ae=yf,Te=s;switch(s){case"keypress":if(jc(d)===0)break e;case"keydown":case"keyup":Ae=jk;break;case"focusin":Te="focus",Ae=wf;break;case"focusout":Te="blur",Ae=wf;break;case"beforeblur":case"afterblur":Ae=wf;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=pk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=Pk;break;case _g:case Ig:case Dg:Ae=yk;break;case zg:Ae=Mk;break;case"scroll":Ae=hk;break;case"wheel":Ae=Ik;break;case"copy":case"cut":case"paste":Ae=bk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=pg}var Me=(a&4)!==0,ur=!Me&&s==="scroll",ne=Me?me!==null?me+"Capture":null:me;Me=[];for(var ee=le,ae;ee!==null;){ae=ee;var we=ae.stateNode;if(ae.tag===5&&we!==null&&(ae=we,ne!==null&&(we=rt(ee,ne),we!=null&&Me.push(dl(ee,we,ae)))),ur)break;ee=ee.return}0<Me.length&&(me=new Ae(me,Te,null,d,pe),be.push({event:me,listeners:Me}))}}if((a&7)===0){e:{if(me=s==="mouseover"||s==="pointerover",Ae=s==="mouseout"||s==="pointerout",me&&d!==gt&&(Te=d.relatedTarget||d.fromElement)&&(ao(Te)||Te[$s]))break e;if((Ae||me)&&(me=pe.window===pe?pe:(me=pe.ownerDocument)?me.defaultView||me.parentWindow:window,Ae?(Te=d.relatedTarget||d.toElement,Ae=le,Te=Te?ao(Te):null,Te!==null&&(ur=Br(Te),Te!==ur||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(Ae=null,Te=le),Ae!==Te)){if(Me=hg,we="onMouseLeave",ne="onMouseEnter",ee="mouse",(s==="pointerout"||s==="pointerover")&&(Me=pg,we="onPointerLeave",ne="onPointerEnter",ee="pointer"),ur=Ae==null?me:ra(Ae),ae=Te==null?me:ra(Te),me=new Me(we,ee+"leave",Ae,d,pe),me.target=ur,me.relatedTarget=ae,we=null,ao(pe)===le&&(Me=new Me(ne,ee+"enter",Te,d,pe),Me.target=ae,Me.relatedTarget=ur,we=Me),ur=we,Ae&&Te)t:{for(Me=Ae,ne=Te,ee=0,ae=Me;ae;ae=ea(ae))ee++;for(ae=0,we=ne;we;we=ea(we))ae++;for(;0<ee-ae;)Me=ea(Me),ee--;for(;0<ae-ee;)ne=ea(ne),ae--;for(;ee--;){if(Me===ne||ne!==null&&Me===ne.alternate)break t;Me=ea(Me),ne=ea(ne)}Me=null}else Me=null;Ae!==null&&$g(be,me,Ae,Me,!1),Te!==null&&ur!==null&&$g(be,ur,Te,Me,!0)}}e:{if(me=le?ra(le):window,Ae=me.nodeName&&me.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&me.type==="file")var Ie=Uk;else if(wg(me))if(Ng)Ie=qk;else{Ie=Wk;var Be=$k}else(Ae=me.nodeName)&&Ae.toLowerCase()==="input"&&(me.type==="checkbox"||me.type==="radio")&&(Ie=Hk);if(Ie&&(Ie=Ie(s,le))){kg(be,Ie,d,pe);break e}Be&&Be(s,me,le),s==="focusout"&&(Be=me._wrapperState)&&Be.controlled&&me.type==="number"&&bt(me,"number",me.value)}switch(Be=le?ra(le):window,s){case"focusin":(wg(Be)||Be.contentEditable==="true")&&(Xo=Be,jf=le,ll=null);break;case"focusout":ll=jf=Xo=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,Rg(be,d,pe);break;case"selectionchange":if(Kk)break;case"keydown":case"keyup":Rg(be,d,pe)}var Ue;if(Nf)e:{switch(s){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Jo?vg(s,d)&&(Ye="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Ye="onCompositionStart");Ye&&(gg&&d.locale!=="ko"&&(Jo||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Jo&&(Ue=dg()):(vi=pe,xf="value"in vi?vi.value:vi.textContent,Jo=!0)),Be=Ic(le,Ye),0<Be.length&&(Ye=new mg(Ye,s,null,d,pe),be.push({event:Ye,listeners:Be}),Ue?Ye.data=Ue:(Ue=bg(d),Ue!==null&&(Ye.data=Ue)))),(Ue=zk?Ok(s,d):Lk(s,d))&&(le=Ic(le,"onBeforeInput"),0<le.length&&(pe=new mg("onBeforeInput","beforeinput",null,d,pe),be.push({event:pe,listeners:le}),pe.data=Ue))}Bg(be,a)})}function dl(s,a,d){return{instance:s,listener:a,currentTarget:d}}function Ic(s,a){for(var d=a+"Capture",p=[];s!==null;){var v=s,A=v.stateNode;v.tag===5&&A!==null&&(v=A,A=rt(s,d),A!=null&&p.unshift(dl(s,A,v)),A=rt(s,a),A!=null&&p.push(dl(s,A,v))),s=s.return}return p}function ea(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function $g(s,a,d,p,v){for(var A=a._reactName,B=[];d!==null&&d!==p;){var G=d,J=G.alternate,le=G.stateNode;if(J!==null&&J===p)break;G.tag===5&&le!==null&&(G=le,v?(J=rt(d,A),J!=null&&B.unshift(dl(d,J,G))):v||(J=rt(d,A),J!=null&&B.push(dl(d,J,G)))),d=d.return}B.length!==0&&s.push({event:a,listeners:B})}var Xk=/\r\n?/g,Zk=/\u0000|\uFFFD/g;function Wg(s){return(typeof s=="string"?s:""+s).replace(Xk,`
`).replace(Zk,"")}function Dc(s,a,d){if(a=Wg(a),Wg(s)!==a&&d)throw Error(r(425))}function zc(){}var If=null,Df=null;function zf(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Of=typeof setTimeout=="function"?setTimeout:void 0,eN=typeof clearTimeout=="function"?clearTimeout:void 0,Hg=typeof Promise=="function"?Promise:void 0,tN=typeof queueMicrotask=="function"?queueMicrotask:typeof Hg<"u"?function(s){return Hg.resolve(null).then(s).catch(rN)}:Of;function rN(s){setTimeout(function(){throw s})}function Lf(s,a){var d=a,p=0;do{var v=d.nextSibling;if(s.removeChild(d),v&&v.nodeType===8)if(d=v.data,d==="/$"){if(p===0){s.removeChild(v),tl(a);return}p--}else d!=="$"&&d!=="$?"&&d!=="$!"||p++;d=v}while(d);tl(a)}function wi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function qg(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return s;a--}else d==="/$"&&a++}s=s.previousSibling}return null}var ta=Math.random().toString(36).slice(2),ys="__reactFiber$"+ta,fl="__reactProps$"+ta,$s="__reactContainer$"+ta,Ff="__reactEvents$"+ta,nN="__reactListeners$"+ta,sN="__reactHandles$"+ta;function ao(s){var a=s[ys];if(a)return a;for(var d=s.parentNode;d;){if(a=d[$s]||d[ys]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(s=qg(s);s!==null;){if(d=s[ys])return d;s=qg(s)}return a}s=d,d=s.parentNode}return null}function hl(s){return s=s[ys]||s[$s],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ra(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Oc(s){return s[fl]||null}var Bf=[],na=-1;function ki(s){return{current:s}}function Yt(s){0>na||(s.current=Bf[na],Bf[na]=null,na--)}function Gt(s,a){na++,Bf[na]=s.current,s.current=a}var Ni={},Ur=ki(Ni),an=ki(!1),lo=Ni;function sa(s,a){var d=s.type.contextTypes;if(!d)return Ni;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var v={},A;for(A in d)v[A]=a[A];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=v),v}function ln(s){return s=s.childContextTypes,s!=null}function Lc(){Yt(an),Yt(Ur)}function Gg(s,a,d){if(Ur.current!==Ni)throw Error(r(168));Gt(Ur,a),Gt(an,d)}function Vg(s,a,d){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return d;p=p.getChildContext();for(var v in p)if(!(v in a))throw Error(r(108,K(s)||"Unknown",v));return W({},d,p)}function Fc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ni,lo=Ur.current,Gt(Ur,s),Gt(an,an.current),!0}function Kg(s,a,d){var p=s.stateNode;if(!p)throw Error(r(169));d?(s=Vg(s,a,lo),p.__reactInternalMemoizedMergedChildContext=s,Yt(an),Yt(Ur),Gt(Ur,s)):Yt(an),Gt(an,d)}var Ws=null,Bc=!1,Uf=!1;function Yg(s){Ws===null?Ws=[s]:Ws.push(s)}function iN(s){Bc=!0,Yg(s)}function Ci(){if(!Uf&&Ws!==null){Uf=!0;var s=0,a=It;try{var d=Ws;for(It=1;s<d.length;s++){var p=d[s];do p=p(!0);while(p!==null)}Ws=null,Bc=!1}catch(v){throw Ws!==null&&(Ws=Ws.slice(s+1)),yn(gs,Ci),v}finally{It=a,Uf=!1}}return null}var ia=[],oa=0,Uc=null,$c=0,zn=[],On=0,co=null,Hs=1,qs="";function uo(s,a){ia[oa++]=$c,ia[oa++]=Uc,Uc=s,$c=a}function Qg(s,a,d){zn[On++]=Hs,zn[On++]=qs,zn[On++]=co,co=s;var p=Hs;s=qs;var v=32-yt(p)-1;p&=~(1<<v),d+=1;var A=32-yt(a)+v;if(30<A){var B=v-v%5;A=(p&(1<<B)-1).toString(32),p>>=B,v-=B,Hs=1<<32-yt(a)+v|d<<v|p,qs=A+s}else Hs=1<<A|d<<v|p,qs=s}function $f(s){s.return!==null&&(uo(s,1),Qg(s,1,0))}function Wf(s){for(;s===Uc;)Uc=ia[--oa],ia[oa]=null,$c=ia[--oa],ia[oa]=null;for(;s===co;)co=zn[--On],zn[On]=null,qs=zn[--On],zn[On]=null,Hs=zn[--On],zn[On]=null}var wn=null,kn=null,Zt=!1,es=null;function Jg(s,a){var d=Un(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=s,a=s.deletions,a===null?(s.deletions=[d],s.flags|=16):a.push(d)}function Xg(s,a){switch(s.tag){case 5:var d=s.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,wn=s,kn=wi(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,wn=s,kn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=co!==null?{id:Hs,overflow:qs}:null,s.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=Un(18,null,null,0),d.stateNode=a,d.return=s,s.child=d,wn=s,kn=null,!0):!1;default:return!1}}function Hf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function qf(s){if(Zt){var a=kn;if(a){var d=a;if(!Xg(s,a)){if(Hf(s))throw Error(r(418));a=wi(d.nextSibling);var p=wn;a&&Xg(s,a)?Jg(p,d):(s.flags=s.flags&-4097|2,Zt=!1,wn=s)}}else{if(Hf(s))throw Error(r(418));s.flags=s.flags&-4097|2,Zt=!1,wn=s}}}function Zg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;wn=s}function Wc(s){if(s!==wn)return!1;if(!Zt)return Zg(s),Zt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!zf(s.type,s.memoizedProps)),a&&(a=kn)){if(Hf(s))throw e0(),Error(r(418));for(;a;)Jg(s,a),a=wi(a.nextSibling)}if(Zg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(a===0){kn=wi(s.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}s=s.nextSibling}kn=null}}else kn=wn?wi(s.stateNode.nextSibling):null;return!0}function e0(){for(var s=kn;s;)s=wi(s.nextSibling)}function aa(){kn=wn=null,Zt=!1}function Gf(s){es===null?es=[s]:es.push(s)}var oN=F.ReactCurrentBatchConfig;function ml(s,a,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var p=d.stateNode}if(!p)throw Error(r(147,s));var v=p,A=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===A?a.ref:(a=function(B){var G=v.refs;B===null?delete G[A]:G[A]=B},a._stringRef=A,a)}if(typeof s!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,s))}return s}function Hc(s,a){throw s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function t0(s){var a=s._init;return a(s._payload)}function r0(s){function a(ne,ee){if(s){var ae=ne.deletions;ae===null?(ne.deletions=[ee],ne.flags|=16):ae.push(ee)}}function d(ne,ee){if(!s)return null;for(;ee!==null;)a(ne,ee),ee=ee.sibling;return null}function p(ne,ee){for(ne=new Map;ee!==null;)ee.key!==null?ne.set(ee.key,ee):ne.set(ee.index,ee),ee=ee.sibling;return ne}function v(ne,ee){return ne=Mi(ne,ee),ne.index=0,ne.sibling=null,ne}function A(ne,ee,ae){return ne.index=ae,s?(ae=ne.alternate,ae!==null?(ae=ae.index,ae<ee?(ne.flags|=2,ee):ae):(ne.flags|=2,ee)):(ne.flags|=1048576,ee)}function B(ne){return s&&ne.alternate===null&&(ne.flags|=2),ne}function G(ne,ee,ae,we){return ee===null||ee.tag!==6?(ee=Oh(ae,ne.mode,we),ee.return=ne,ee):(ee=v(ee,ae),ee.return=ne,ee)}function J(ne,ee,ae,we){var Ie=ae.type;return Ie===q?pe(ne,ee,ae.props.children,we,ae.key):ee!==null&&(ee.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===T&&t0(Ie)===ee.type)?(we=v(ee,ae.props),we.ref=ml(ne,ee,ae),we.return=ne,we):(we=mu(ae.type,ae.key,ae.props,null,ne.mode,we),we.ref=ml(ne,ee,ae),we.return=ne,we)}function le(ne,ee,ae,we){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ae.containerInfo||ee.stateNode.implementation!==ae.implementation?(ee=Lh(ae,ne.mode,we),ee.return=ne,ee):(ee=v(ee,ae.children||[]),ee.return=ne,ee)}function pe(ne,ee,ae,we,Ie){return ee===null||ee.tag!==7?(ee=vo(ae,ne.mode,we,Ie),ee.return=ne,ee):(ee=v(ee,ae),ee.return=ne,ee)}function be(ne,ee,ae){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=Oh(""+ee,ne.mode,ae),ee.return=ne,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case L:return ae=mu(ee.type,ee.key,ee.props,null,ne.mode,ae),ae.ref=ml(ne,null,ee),ae.return=ne,ae;case H:return ee=Lh(ee,ne.mode,ae),ee.return=ne,ee;case T:var we=ee._init;return be(ne,we(ee._payload),ae)}if(Ze(ee)||z(ee))return ee=vo(ee,ne.mode,ae,null),ee.return=ne,ee;Hc(ne,ee)}return null}function me(ne,ee,ae,we){var Ie=ee!==null?ee.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Ie!==null?null:G(ne,ee,""+ae,we);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case L:return ae.key===Ie?J(ne,ee,ae,we):null;case H:return ae.key===Ie?le(ne,ee,ae,we):null;case T:return Ie=ae._init,me(ne,ee,Ie(ae._payload),we)}if(Ze(ae)||z(ae))return Ie!==null?null:pe(ne,ee,ae,we,null);Hc(ne,ae)}return null}function Ae(ne,ee,ae,we,Ie){if(typeof we=="string"&&we!==""||typeof we=="number")return ne=ne.get(ae)||null,G(ee,ne,""+we,Ie);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case L:return ne=ne.get(we.key===null?ae:we.key)||null,J(ee,ne,we,Ie);case H:return ne=ne.get(we.key===null?ae:we.key)||null,le(ee,ne,we,Ie);case T:var Be=we._init;return Ae(ne,ee,ae,Be(we._payload),Ie)}if(Ze(we)||z(we))return ne=ne.get(ae)||null,pe(ee,ne,we,Ie,null);Hc(ee,we)}return null}function Te(ne,ee,ae,we){for(var Ie=null,Be=null,Ue=ee,Ye=ee=0,Er=null;Ue!==null&&Ye<ae.length;Ye++){Ue.index>Ye?(Er=Ue,Ue=null):Er=Ue.sibling;var Rt=me(ne,Ue,ae[Ye],we);if(Rt===null){Ue===null&&(Ue=Er);break}s&&Ue&&Rt.alternate===null&&a(ne,Ue),ee=A(Rt,ee,Ye),Be===null?Ie=Rt:Be.sibling=Rt,Be=Rt,Ue=Er}if(Ye===ae.length)return d(ne,Ue),Zt&&uo(ne,Ye),Ie;if(Ue===null){for(;Ye<ae.length;Ye++)Ue=be(ne,ae[Ye],we),Ue!==null&&(ee=A(Ue,ee,Ye),Be===null?Ie=Ue:Be.sibling=Ue,Be=Ue);return Zt&&uo(ne,Ye),Ie}for(Ue=p(ne,Ue);Ye<ae.length;Ye++)Er=Ae(Ue,ne,Ye,ae[Ye],we),Er!==null&&(s&&Er.alternate!==null&&Ue.delete(Er.key===null?Ye:Er.key),ee=A(Er,ee,Ye),Be===null?Ie=Er:Be.sibling=Er,Be=Er);return s&&Ue.forEach(function(_i){return a(ne,_i)}),Zt&&uo(ne,Ye),Ie}function Me(ne,ee,ae,we){var Ie=z(ae);if(typeof Ie!="function")throw Error(r(150));if(ae=Ie.call(ae),ae==null)throw Error(r(151));for(var Be=Ie=null,Ue=ee,Ye=ee=0,Er=null,Rt=ae.next();Ue!==null&&!Rt.done;Ye++,Rt=ae.next()){Ue.index>Ye?(Er=Ue,Ue=null):Er=Ue.sibling;var _i=me(ne,Ue,Rt.value,we);if(_i===null){Ue===null&&(Ue=Er);break}s&&Ue&&_i.alternate===null&&a(ne,Ue),ee=A(_i,ee,Ye),Be===null?Ie=_i:Be.sibling=_i,Be=_i,Ue=Er}if(Rt.done)return d(ne,Ue),Zt&&uo(ne,Ye),Ie;if(Ue===null){for(;!Rt.done;Ye++,Rt=ae.next())Rt=be(ne,Rt.value,we),Rt!==null&&(ee=A(Rt,ee,Ye),Be===null?Ie=Rt:Be.sibling=Rt,Be=Rt);return Zt&&uo(ne,Ye),Ie}for(Ue=p(ne,Ue);!Rt.done;Ye++,Rt=ae.next())Rt=Ae(Ue,ne,Ye,Rt.value,we),Rt!==null&&(s&&Rt.alternate!==null&&Ue.delete(Rt.key===null?Ye:Rt.key),ee=A(Rt,ee,Ye),Be===null?Ie=Rt:Be.sibling=Rt,Be=Rt);return s&&Ue.forEach(function(FN){return a(ne,FN)}),Zt&&uo(ne,Ye),Ie}function ur(ne,ee,ae,we){if(typeof ae=="object"&&ae!==null&&ae.type===q&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case L:e:{for(var Ie=ae.key,Be=ee;Be!==null;){if(Be.key===Ie){if(Ie=ae.type,Ie===q){if(Be.tag===7){d(ne,Be.sibling),ee=v(Be,ae.props.children),ee.return=ne,ne=ee;break e}}else if(Be.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===T&&t0(Ie)===Be.type){d(ne,Be.sibling),ee=v(Be,ae.props),ee.ref=ml(ne,Be,ae),ee.return=ne,ne=ee;break e}d(ne,Be);break}else a(ne,Be);Be=Be.sibling}ae.type===q?(ee=vo(ae.props.children,ne.mode,we,ae.key),ee.return=ne,ne=ee):(we=mu(ae.type,ae.key,ae.props,null,ne.mode,we),we.ref=ml(ne,ee,ae),we.return=ne,ne=we)}return B(ne);case H:e:{for(Be=ae.key;ee!==null;){if(ee.key===Be)if(ee.tag===4&&ee.stateNode.containerInfo===ae.containerInfo&&ee.stateNode.implementation===ae.implementation){d(ne,ee.sibling),ee=v(ee,ae.children||[]),ee.return=ne,ne=ee;break e}else{d(ne,ee);break}else a(ne,ee);ee=ee.sibling}ee=Lh(ae,ne.mode,we),ee.return=ne,ne=ee}return B(ne);case T:return Be=ae._init,ur(ne,ee,Be(ae._payload),we)}if(Ze(ae))return Te(ne,ee,ae,we);if(z(ae))return Me(ne,ee,ae,we);Hc(ne,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,ee!==null&&ee.tag===6?(d(ne,ee.sibling),ee=v(ee,ae),ee.return=ne,ne=ee):(d(ne,ee),ee=Oh(ae,ne.mode,we),ee.return=ne,ne=ee),B(ne)):d(ne,ee)}return ur}var la=r0(!0),n0=r0(!1),qc=ki(null),Gc=null,ca=null,Vf=null;function Kf(){Vf=ca=Gc=null}function Yf(s){var a=qc.current;Yt(qc),s._currentValue=a}function Qf(s,a,d){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===d)break;s=s.return}}function ua(s,a){Gc=s,Vf=ca=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(cn=!0),s.firstContext=null)}function Ln(s){var a=s._currentValue;if(Vf!==s)if(s={context:s,memoizedValue:a,next:null},ca===null){if(Gc===null)throw Error(r(308));ca=s,Gc.dependencies={lanes:0,firstContext:s}}else ca=ca.next=s;return a}var fo=null;function Jf(s){fo===null?fo=[s]:fo.push(s)}function s0(s,a,d,p){var v=a.interleaved;return v===null?(d.next=d,Jf(a)):(d.next=v.next,v.next=d),a.interleaved=d,Gs(s,p)}function Gs(s,a){s.lanes|=a;var d=s.alternate;for(d!==null&&(d.lanes|=a),d=s,s=s.return;s!==null;)s.childLanes|=a,d=s.alternate,d!==null&&(d.childLanes|=a),d=s,s=s.return;return d.tag===3?d.stateNode:null}var Ei=!1;function Xf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i0(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Vs(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ai(s,a,d){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(At&2)!==0){var v=p.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),p.pending=a,Gs(s,d)}return v=p.interleaved,v===null?(a.next=a,Jf(p)):(a.next=v.next,v.next=a),p.interleaved=a,Gs(s,d)}function Vc(s,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,d|=p,a.lanes=d,Xa(s,d)}}function o0(s,a){var d=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var v=null,A=null;if(d=d.firstBaseUpdate,d!==null){do{var B={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};A===null?v=A=B:A=A.next=B,d=d.next}while(d!==null);A===null?v=A=a:A=A.next=a}else v=A=a;d={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:A,shared:p.shared,effects:p.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=a:s.next=a,d.lastBaseUpdate=a}function Kc(s,a,d,p){var v=s.updateQueue;Ei=!1;var A=v.firstBaseUpdate,B=v.lastBaseUpdate,G=v.shared.pending;if(G!==null){v.shared.pending=null;var J=G,le=J.next;J.next=null,B===null?A=le:B.next=le,B=J;var pe=s.alternate;pe!==null&&(pe=pe.updateQueue,G=pe.lastBaseUpdate,G!==B&&(G===null?pe.firstBaseUpdate=le:G.next=le,pe.lastBaseUpdate=J))}if(A!==null){var be=v.baseState;B=0,pe=le=J=null,G=A;do{var me=G.lane,Ae=G.eventTime;if((p&me)===me){pe!==null&&(pe=pe.next={eventTime:Ae,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});e:{var Te=s,Me=G;switch(me=a,Ae=d,Me.tag){case 1:if(Te=Me.payload,typeof Te=="function"){be=Te.call(Ae,be,me);break e}be=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Me.payload,me=typeof Te=="function"?Te.call(Ae,be,me):Te,me==null)break e;be=W({},be,me);break e;case 2:Ei=!0}}G.callback!==null&&G.lane!==0&&(s.flags|=64,me=v.effects,me===null?v.effects=[G]:me.push(G))}else Ae={eventTime:Ae,lane:me,tag:G.tag,payload:G.payload,callback:G.callback,next:null},pe===null?(le=pe=Ae,J=be):pe=pe.next=Ae,B|=me;if(G=G.next,G===null){if(G=v.shared.pending,G===null)break;me=G,G=me.next,me.next=null,v.lastBaseUpdate=me,v.shared.pending=null}}while(!0);if(pe===null&&(J=be),v.baseState=J,v.firstBaseUpdate=le,v.lastBaseUpdate=pe,a=v.shared.interleaved,a!==null){v=a;do B|=v.lane,v=v.next;while(v!==a)}else A===null&&(v.shared.lanes=0);po|=B,s.lanes=B,s.memoizedState=be}}function a0(s,a,d){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],v=p.callback;if(v!==null){if(p.callback=null,p=d,typeof v!="function")throw Error(r(191,v));v.call(p)}}}var pl={},vs=ki(pl),gl=ki(pl),xl=ki(pl);function ho(s){if(s===pl)throw Error(r(174));return s}function Zf(s,a){switch(Gt(xl,a),Gt(gl,s),Gt(vs,pl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ke(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Ke(a,s)}Yt(vs),Gt(vs,a)}function da(){Yt(vs),Yt(gl),Yt(xl)}function l0(s){ho(xl.current);var a=ho(vs.current),d=Ke(a,s.type);a!==d&&(Gt(gl,s),Gt(vs,d))}function eh(s){gl.current===s&&(Yt(vs),Yt(gl))}var nr=ki(0);function Yc(s){for(var a=s;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var th=[];function rh(){for(var s=0;s<th.length;s++)th[s]._workInProgressVersionPrimary=null;th.length=0}var Qc=F.ReactCurrentDispatcher,nh=F.ReactCurrentBatchConfig,mo=0,sr=null,vr=null,Nr=null,Jc=!1,yl=!1,vl=0,aN=0;function $r(){throw Error(r(321))}function sh(s,a){if(a===null)return!1;for(var d=0;d<a.length&&d<s.length;d++)if(!Zn(s[d],a[d]))return!1;return!0}function ih(s,a,d,p,v,A){if(mo=A,sr=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Qc.current=s===null||s.memoizedState===null?dN:fN,s=d(p,v),yl){A=0;do{if(yl=!1,vl=0,25<=A)throw Error(r(301));A+=1,Nr=vr=null,a.updateQueue=null,Qc.current=hN,s=d(p,v)}while(yl)}if(Qc.current=eu,a=vr!==null&&vr.next!==null,mo=0,Nr=vr=sr=null,Jc=!1,a)throw Error(r(300));return s}function oh(){var s=vl!==0;return vl=0,s}function bs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nr===null?sr.memoizedState=Nr=s:Nr=Nr.next=s,Nr}function Fn(){if(vr===null){var s=sr.alternate;s=s!==null?s.memoizedState:null}else s=vr.next;var a=Nr===null?sr.memoizedState:Nr.next;if(a!==null)Nr=a,vr=s;else{if(s===null)throw Error(r(310));vr=s,s={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},Nr===null?sr.memoizedState=Nr=s:Nr=Nr.next=s}return Nr}function bl(s,a){return typeof a=="function"?a(s):a}function ah(s){var a=Fn(),d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var p=vr,v=p.baseQueue,A=d.pending;if(A!==null){if(v!==null){var B=v.next;v.next=A.next,A.next=B}p.baseQueue=v=A,d.pending=null}if(v!==null){A=v.next,p=p.baseState;var G=B=null,J=null,le=A;do{var pe=le.lane;if((mo&pe)===pe)J!==null&&(J=J.next={lane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),p=le.hasEagerState?le.eagerState:s(p,le.action);else{var be={lane:pe,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null};J===null?(G=J=be,B=p):J=J.next=be,sr.lanes|=pe,po|=pe}le=le.next}while(le!==null&&le!==A);J===null?B=p:J.next=G,Zn(p,a.memoizedState)||(cn=!0),a.memoizedState=p,a.baseState=B,a.baseQueue=J,d.lastRenderedState=p}if(s=d.interleaved,s!==null){v=s;do A=v.lane,sr.lanes|=A,po|=A,v=v.next;while(v!==s)}else v===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function lh(s){var a=Fn(),d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var p=d.dispatch,v=d.pending,A=a.memoizedState;if(v!==null){d.pending=null;var B=v=v.next;do A=s(A,B.action),B=B.next;while(B!==v);Zn(A,a.memoizedState)||(cn=!0),a.memoizedState=A,a.baseQueue===null&&(a.baseState=A),d.lastRenderedState=A}return[A,p]}function c0(){}function u0(s,a){var d=sr,p=Fn(),v=a(),A=!Zn(p.memoizedState,v);if(A&&(p.memoizedState=v,cn=!0),p=p.queue,ch(h0.bind(null,d,p,s),[s]),p.getSnapshot!==a||A||Nr!==null&&Nr.memoizedState.tag&1){if(d.flags|=2048,wl(9,f0.bind(null,d,p,v,a),void 0,null),Cr===null)throw Error(r(349));(mo&30)!==0||d0(d,a,v)}return v}function d0(s,a,d){s.flags|=16384,s={getSnapshot:a,value:d},a=sr.updateQueue,a===null?(a={lastEffect:null,stores:null},sr.updateQueue=a,a.stores=[s]):(d=a.stores,d===null?a.stores=[s]:d.push(s))}function f0(s,a,d,p){a.value=d,a.getSnapshot=p,m0(a)&&p0(s)}function h0(s,a,d){return d(function(){m0(a)&&p0(s)})}function m0(s){var a=s.getSnapshot;s=s.value;try{var d=a();return!Zn(s,d)}catch{return!0}}function p0(s){var a=Gs(s,1);a!==null&&ss(a,s,1,-1)}function g0(s){var a=bs();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:s},a.queue=s,s=s.dispatch=uN.bind(null,sr,s),[a.memoizedState,s]}function wl(s,a,d,p){return s={tag:s,create:a,destroy:d,deps:p,next:null},a=sr.updateQueue,a===null?(a={lastEffect:null,stores:null},sr.updateQueue=a,a.lastEffect=s.next=s):(d=a.lastEffect,d===null?a.lastEffect=s.next=s:(p=d.next,d.next=s,s.next=p,a.lastEffect=s)),s}function x0(){return Fn().memoizedState}function Xc(s,a,d,p){var v=bs();sr.flags|=s,v.memoizedState=wl(1|a,d,void 0,p===void 0?null:p)}function Zc(s,a,d,p){var v=Fn();p=p===void 0?null:p;var A=void 0;if(vr!==null){var B=vr.memoizedState;if(A=B.destroy,p!==null&&sh(p,B.deps)){v.memoizedState=wl(a,d,A,p);return}}sr.flags|=s,v.memoizedState=wl(1|a,d,A,p)}function y0(s,a){return Xc(8390656,8,s,a)}function ch(s,a){return Zc(2048,8,s,a)}function v0(s,a){return Zc(4,2,s,a)}function b0(s,a){return Zc(4,4,s,a)}function w0(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function k0(s,a,d){return d=d!=null?d.concat([s]):null,Zc(4,4,w0.bind(null,a,s),d)}function uh(){}function N0(s,a){var d=Fn();a=a===void 0?null:a;var p=d.memoizedState;return p!==null&&a!==null&&sh(a,p[1])?p[0]:(d.memoizedState=[s,a],s)}function C0(s,a){var d=Fn();a=a===void 0?null:a;var p=d.memoizedState;return p!==null&&a!==null&&sh(a,p[1])?p[0]:(s=s(),d.memoizedState=[s,a],s)}function E0(s,a,d){return(mo&21)===0?(s.baseState&&(s.baseState=!1,cn=!0),s.memoizedState=d):(Zn(d,a)||(d=bc(),sr.lanes|=d,po|=d,s.baseState=!0),a)}function lN(s,a){var d=It;It=d!==0&&4>d?d:4,s(!0);var p=nh.transition;nh.transition={};try{s(!1),a()}finally{It=d,nh.transition=p}}function A0(){return Fn().memoizedState}function cN(s,a,d){var p=Pi(s);if(d={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null},j0(s))S0(a,d);else if(d=s0(s,a,d,p),d!==null){var v=Zr();ss(d,s,p,v),T0(d,a,p)}}function uN(s,a,d){var p=Pi(s),v={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null};if(j0(s))S0(a,v);else{var A=s.alternate;if(s.lanes===0&&(A===null||A.lanes===0)&&(A=a.lastRenderedReducer,A!==null))try{var B=a.lastRenderedState,G=A(B,d);if(v.hasEagerState=!0,v.eagerState=G,Zn(G,B)){var J=a.interleaved;J===null?(v.next=v,Jf(a)):(v.next=J.next,J.next=v),a.interleaved=v;return}}catch{}finally{}d=s0(s,a,v,p),d!==null&&(v=Zr(),ss(d,s,p,v),T0(d,a,p))}}function j0(s){var a=s.alternate;return s===sr||a!==null&&a===sr}function S0(s,a){yl=Jc=!0;var d=s.pending;d===null?a.next=a:(a.next=d.next,d.next=a),s.pending=a}function T0(s,a,d){if((d&4194240)!==0){var p=a.lanes;p&=s.pendingLanes,d|=p,a.lanes=d,Xa(s,d)}}var eu={readContext:Ln,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useInsertionEffect:$r,useLayoutEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useDeferredValue:$r,useTransition:$r,useMutableSource:$r,useSyncExternalStore:$r,useId:$r,unstable_isNewReconciler:!1},dN={readContext:Ln,useCallback:function(s,a){return bs().memoizedState=[s,a===void 0?null:a],s},useContext:Ln,useEffect:y0,useImperativeHandle:function(s,a,d){return d=d!=null?d.concat([s]):null,Xc(4194308,4,w0.bind(null,a,s),d)},useLayoutEffect:function(s,a){return Xc(4194308,4,s,a)},useInsertionEffect:function(s,a){return Xc(4,2,s,a)},useMemo:function(s,a){var d=bs();return a=a===void 0?null:a,s=s(),d.memoizedState=[s,a],s},useReducer:function(s,a,d){var p=bs();return a=d!==void 0?d(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=cN.bind(null,sr,s),[p.memoizedState,s]},useRef:function(s){var a=bs();return s={current:s},a.memoizedState=s},useState:g0,useDebugValue:uh,useDeferredValue:function(s){return bs().memoizedState=s},useTransition:function(){var s=g0(!1),a=s[0];return s=lN.bind(null,s[1]),bs().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,d){var p=sr,v=bs();if(Zt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=a(),Cr===null)throw Error(r(349));(mo&30)!==0||d0(p,a,d)}v.memoizedState=d;var A={value:d,getSnapshot:a};return v.queue=A,y0(h0.bind(null,p,A,s),[s]),p.flags|=2048,wl(9,f0.bind(null,p,A,d,a),void 0,null),d},useId:function(){var s=bs(),a=Cr.identifierPrefix;if(Zt){var d=qs,p=Hs;d=(p&~(1<<32-yt(p)-1)).toString(32)+d,a=":"+a+"R"+d,d=vl++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=aN++,a=":"+a+"r"+d.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},fN={readContext:Ln,useCallback:N0,useContext:Ln,useEffect:ch,useImperativeHandle:k0,useInsertionEffect:v0,useLayoutEffect:b0,useMemo:C0,useReducer:ah,useRef:x0,useState:function(){return ah(bl)},useDebugValue:uh,useDeferredValue:function(s){var a=Fn();return E0(a,vr.memoizedState,s)},useTransition:function(){var s=ah(bl)[0],a=Fn().memoizedState;return[s,a]},useMutableSource:c0,useSyncExternalStore:u0,useId:A0,unstable_isNewReconciler:!1},hN={readContext:Ln,useCallback:N0,useContext:Ln,useEffect:ch,useImperativeHandle:k0,useInsertionEffect:v0,useLayoutEffect:b0,useMemo:C0,useReducer:lh,useRef:x0,useState:function(){return lh(bl)},useDebugValue:uh,useDeferredValue:function(s){var a=Fn();return vr===null?a.memoizedState=s:E0(a,vr.memoizedState,s)},useTransition:function(){var s=lh(bl)[0],a=Fn().memoizedState;return[s,a]},useMutableSource:c0,useSyncExternalStore:u0,useId:A0,unstable_isNewReconciler:!1};function ts(s,a){if(s&&s.defaultProps){a=W({},a),s=s.defaultProps;for(var d in s)a[d]===void 0&&(a[d]=s[d]);return a}return a}function dh(s,a,d,p){a=s.memoizedState,d=d(p,a),d=d==null?a:W({},a,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var tu={isMounted:function(s){return(s=s._reactInternals)?Br(s)===s:!1},enqueueSetState:function(s,a,d){s=s._reactInternals;var p=Zr(),v=Pi(s),A=Vs(p,v);A.payload=a,d!=null&&(A.callback=d),a=Ai(s,A,v),a!==null&&(ss(a,s,v,p),Vc(a,s,v))},enqueueReplaceState:function(s,a,d){s=s._reactInternals;var p=Zr(),v=Pi(s),A=Vs(p,v);A.tag=1,A.payload=a,d!=null&&(A.callback=d),a=Ai(s,A,v),a!==null&&(ss(a,s,v,p),Vc(a,s,v))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var d=Zr(),p=Pi(s),v=Vs(d,p);v.tag=2,a!=null&&(v.callback=a),a=Ai(s,v,p),a!==null&&(ss(a,s,p,d),Vc(a,s,p))}};function P0(s,a,d,p,v,A,B){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,A,B):a.prototype&&a.prototype.isPureReactComponent?!al(d,p)||!al(v,A):!0}function R0(s,a,d){var p=!1,v=Ni,A=a.contextType;return typeof A=="object"&&A!==null?A=Ln(A):(v=ln(a)?lo:Ur.current,p=a.contextTypes,A=(p=p!=null)?sa(s,v):Ni),a=new a(d,A),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=tu,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=v,s.__reactInternalMemoizedMaskedChildContext=A),a}function M0(s,a,d,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,p),a.state!==s&&tu.enqueueReplaceState(a,a.state,null)}function fh(s,a,d,p){var v=s.stateNode;v.props=d,v.state=s.memoizedState,v.refs={},Xf(s);var A=a.contextType;typeof A=="object"&&A!==null?v.context=Ln(A):(A=ln(a)?lo:Ur.current,v.context=sa(s,A)),v.state=s.memoizedState,A=a.getDerivedStateFromProps,typeof A=="function"&&(dh(s,a,A,d),v.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&tu.enqueueReplaceState(v,v.state,null),Kc(s,d,v,p),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308)}function fa(s,a){try{var d="",p=a;do d+=I(p),p=p.return;while(p);var v=d}catch(A){v=`
Error generating stack: `+A.message+`
`+A.stack}return{value:s,source:a,stack:v,digest:null}}function hh(s,a,d){return{value:s,source:null,stack:d??null,digest:a??null}}function mh(s,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var mN=typeof WeakMap=="function"?WeakMap:Map;function _0(s,a,d){d=Vs(-1,d),d.tag=3,d.payload={element:null};var p=a.value;return d.callback=function(){lu||(lu=!0,Th=p),mh(s,a)},d}function I0(s,a,d){d=Vs(-1,d),d.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var v=a.value;d.payload=function(){return p(v)},d.callback=function(){mh(s,a)}}var A=s.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(d.callback=function(){mh(s,a),typeof p!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var B=a.stack;this.componentDidCatch(a.value,{componentStack:B!==null?B:""})}),d}function D0(s,a,d){var p=s.pingCache;if(p===null){p=s.pingCache=new mN;var v=new Set;p.set(a,v)}else v=p.get(a),v===void 0&&(v=new Set,p.set(a,v));v.has(d)||(v.add(d),s=SN.bind(null,s,a,d),a.then(s,s))}function z0(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function O0(s,a,d,p,v){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=Vs(-1,1),a.tag=2,Ai(d,a,1))),d.lanes|=1),s):(s.flags|=65536,s.lanes=v,s)}var pN=F.ReactCurrentOwner,cn=!1;function Xr(s,a,d,p){a.child=s===null?n0(a,null,d,p):la(a,s.child,d,p)}function L0(s,a,d,p,v){d=d.render;var A=a.ref;return ua(a,v),p=ih(s,a,d,p,A,v),d=oh(),s!==null&&!cn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~v,Ks(s,a,v)):(Zt&&d&&$f(a),a.flags|=1,Xr(s,a,p,v),a.child)}function F0(s,a,d,p,v){if(s===null){var A=d.type;return typeof A=="function"&&!zh(A)&&A.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=A,B0(s,a,A,p,v)):(s=mu(d.type,null,p,a,a.mode,v),s.ref=a.ref,s.return=a,a.child=s)}if(A=s.child,(s.lanes&v)===0){var B=A.memoizedProps;if(d=d.compare,d=d!==null?d:al,d(B,p)&&s.ref===a.ref)return Ks(s,a,v)}return a.flags|=1,s=Mi(A,p),s.ref=a.ref,s.return=a,a.child=s}function B0(s,a,d,p,v){if(s!==null){var A=s.memoizedProps;if(al(A,p)&&s.ref===a.ref)if(cn=!1,a.pendingProps=p=A,(s.lanes&v)!==0)(s.flags&131072)!==0&&(cn=!0);else return a.lanes=s.lanes,Ks(s,a,v)}return ph(s,a,d,p,v)}function U0(s,a,d){var p=a.pendingProps,v=p.children,A=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(ma,Nn),Nn|=d;else{if((d&1073741824)===0)return s=A!==null?A.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Gt(ma,Nn),Nn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=A!==null?A.baseLanes:d,Gt(ma,Nn),Nn|=p}else A!==null?(p=A.baseLanes|d,a.memoizedState=null):p=d,Gt(ma,Nn),Nn|=p;return Xr(s,a,v,d),a.child}function $0(s,a){var d=a.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function ph(s,a,d,p,v){var A=ln(d)?lo:Ur.current;return A=sa(a,A),ua(a,v),d=ih(s,a,d,p,A,v),p=oh(),s!==null&&!cn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~v,Ks(s,a,v)):(Zt&&p&&$f(a),a.flags|=1,Xr(s,a,d,v),a.child)}function W0(s,a,d,p,v){if(ln(d)){var A=!0;Fc(a)}else A=!1;if(ua(a,v),a.stateNode===null)nu(s,a),R0(a,d,p),fh(a,d,p,v),p=!0;else if(s===null){var B=a.stateNode,G=a.memoizedProps;B.props=G;var J=B.context,le=d.contextType;typeof le=="object"&&le!==null?le=Ln(le):(le=ln(d)?lo:Ur.current,le=sa(a,le));var pe=d.getDerivedStateFromProps,be=typeof pe=="function"||typeof B.getSnapshotBeforeUpdate=="function";be||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(G!==p||J!==le)&&M0(a,B,p,le),Ei=!1;var me=a.memoizedState;B.state=me,Kc(a,p,B,v),J=a.memoizedState,G!==p||me!==J||an.current||Ei?(typeof pe=="function"&&(dh(a,d,pe,p),J=a.memoizedState),(G=Ei||P0(a,d,G,p,me,J,le))?(be||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(a.flags|=4194308)):(typeof B.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=J),B.props=p,B.state=J,B.context=le,p=G):(typeof B.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{B=a.stateNode,i0(s,a),G=a.memoizedProps,le=a.type===a.elementType?G:ts(a.type,G),B.props=le,be=a.pendingProps,me=B.context,J=d.contextType,typeof J=="object"&&J!==null?J=Ln(J):(J=ln(d)?lo:Ur.current,J=sa(a,J));var Ae=d.getDerivedStateFromProps;(pe=typeof Ae=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(G!==be||me!==J)&&M0(a,B,p,J),Ei=!1,me=a.memoizedState,B.state=me,Kc(a,p,B,v);var Te=a.memoizedState;G!==be||me!==Te||an.current||Ei?(typeof Ae=="function"&&(dh(a,d,Ae,p),Te=a.memoizedState),(le=Ei||P0(a,d,le,p,me,Te,J)||!1)?(pe||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(p,Te,J),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(p,Te,J)),typeof B.componentDidUpdate=="function"&&(a.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof B.componentDidUpdate!="function"||G===s.memoizedProps&&me===s.memoizedState||(a.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||G===s.memoizedProps&&me===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Te),B.props=p,B.state=Te,B.context=J,p=le):(typeof B.componentDidUpdate!="function"||G===s.memoizedProps&&me===s.memoizedState||(a.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||G===s.memoizedProps&&me===s.memoizedState||(a.flags|=1024),p=!1)}return gh(s,a,d,p,A,v)}function gh(s,a,d,p,v,A){$0(s,a);var B=(a.flags&128)!==0;if(!p&&!B)return v&&Kg(a,d,!1),Ks(s,a,A);p=a.stateNode,pN.current=a;var G=B&&typeof d.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&B?(a.child=la(a,s.child,null,A),a.child=la(a,null,G,A)):Xr(s,a,G,A),a.memoizedState=p.state,v&&Kg(a,d,!0),a.child}function H0(s){var a=s.stateNode;a.pendingContext?Gg(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Gg(s,a.context,!1),Zf(s,a.containerInfo)}function q0(s,a,d,p,v){return aa(),Gf(v),a.flags|=256,Xr(s,a,d,p),a.child}var xh={dehydrated:null,treeContext:null,retryLane:0};function yh(s){return{baseLanes:s,cachePool:null,transitions:null}}function G0(s,a,d){var p=a.pendingProps,v=nr.current,A=!1,B=(a.flags&128)!==0,G;if((G=B)||(G=s!==null&&s.memoizedState===null?!1:(v&2)!==0),G?(A=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(v|=1),Gt(nr,v&1),s===null)return qf(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(B=p.children,s=p.fallback,A?(p=a.mode,A=a.child,B={mode:"hidden",children:B},(p&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=B):A=pu(B,p,0,null),s=vo(s,p,d,null),A.return=a,s.return=a,A.sibling=s,a.child=A,a.child.memoizedState=yh(d),a.memoizedState=xh,s):vh(a,B));if(v=s.memoizedState,v!==null&&(G=v.dehydrated,G!==null))return gN(s,a,B,p,G,v,d);if(A){A=p.fallback,B=a.mode,v=s.child,G=v.sibling;var J={mode:"hidden",children:p.children};return(B&1)===0&&a.child!==v?(p=a.child,p.childLanes=0,p.pendingProps=J,a.deletions=null):(p=Mi(v,J),p.subtreeFlags=v.subtreeFlags&14680064),G!==null?A=Mi(G,A):(A=vo(A,B,d,null),A.flags|=2),A.return=a,p.return=a,p.sibling=A,a.child=p,p=A,A=a.child,B=s.child.memoizedState,B=B===null?yh(d):{baseLanes:B.baseLanes|d,cachePool:null,transitions:B.transitions},A.memoizedState=B,A.childLanes=s.childLanes&~d,a.memoizedState=xh,p}return A=s.child,s=A.sibling,p=Mi(A,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=d),p.return=a,p.sibling=null,s!==null&&(d=a.deletions,d===null?(a.deletions=[s],a.flags|=16):d.push(s)),a.child=p,a.memoizedState=null,p}function vh(s,a){return a=pu({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function ru(s,a,d,p){return p!==null&&Gf(p),la(a,s.child,null,d),s=vh(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function gN(s,a,d,p,v,A,B){if(d)return a.flags&256?(a.flags&=-257,p=hh(Error(r(422))),ru(s,a,B,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(A=p.fallback,v=a.mode,p=pu({mode:"visible",children:p.children},v,0,null),A=vo(A,v,B,null),A.flags|=2,p.return=a,A.return=a,p.sibling=A,a.child=p,(a.mode&1)!==0&&la(a,s.child,null,B),a.child.memoizedState=yh(B),a.memoizedState=xh,A);if((a.mode&1)===0)return ru(s,a,B,null);if(v.data==="$!"){if(p=v.nextSibling&&v.nextSibling.dataset,p)var G=p.dgst;return p=G,A=Error(r(419)),p=hh(A,p,void 0),ru(s,a,B,p)}if(G=(B&s.childLanes)!==0,cn||G){if(p=Cr,p!==null){switch(B&-B){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(p.suspendedLanes|B))!==0?0:v,v!==0&&v!==A.retryLane&&(A.retryLane=v,Gs(s,v),ss(p,s,v,-1))}return Dh(),p=hh(Error(r(421))),ru(s,a,B,p)}return v.data==="$?"?(a.flags|=128,a.child=s.child,a=TN.bind(null,s),v._reactRetry=a,null):(s=A.treeContext,kn=wi(v.nextSibling),wn=a,Zt=!0,es=null,s!==null&&(zn[On++]=Hs,zn[On++]=qs,zn[On++]=co,Hs=s.id,qs=s.overflow,co=a),a=vh(a,p.children),a.flags|=4096,a)}function V0(s,a,d){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),Qf(s.return,a,d)}function bh(s,a,d,p,v){var A=s.memoizedState;A===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:v}:(A.isBackwards=a,A.rendering=null,A.renderingStartTime=0,A.last=p,A.tail=d,A.tailMode=v)}function K0(s,a,d){var p=a.pendingProps,v=p.revealOrder,A=p.tail;if(Xr(s,a,p.children,d),p=nr.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&V0(s,d,a);else if(s.tag===19)V0(s,d,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(Gt(nr,p),(a.mode&1)===0)a.memoizedState=null;else switch(v){case"forwards":for(d=a.child,v=null;d!==null;)s=d.alternate,s!==null&&Yc(s)===null&&(v=d),d=d.sibling;d=v,d===null?(v=a.child,a.child=null):(v=d.sibling,d.sibling=null),bh(a,!1,v,d,A);break;case"backwards":for(d=null,v=a.child,a.child=null;v!==null;){if(s=v.alternate,s!==null&&Yc(s)===null){a.child=v;break}s=v.sibling,v.sibling=d,d=v,v=s}bh(a,!0,d,null,A);break;case"together":bh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function nu(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Ks(s,a,d){if(s!==null&&(a.dependencies=s.dependencies),po|=a.lanes,(d&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,d=Mi(s,s.pendingProps),a.child=d,d.return=a;s.sibling!==null;)s=s.sibling,d=d.sibling=Mi(s,s.pendingProps),d.return=a;d.sibling=null}return a.child}function xN(s,a,d){switch(a.tag){case 3:H0(a),aa();break;case 5:l0(a);break;case 1:ln(a.type)&&Fc(a);break;case 4:Zf(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,v=a.memoizedProps.value;Gt(qc,p._currentValue),p._currentValue=v;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(Gt(nr,nr.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?G0(s,a,d):(Gt(nr,nr.current&1),s=Ks(s,a,d),s!==null?s.sibling:null);Gt(nr,nr.current&1);break;case 19:if(p=(d&a.childLanes)!==0,(s.flags&128)!==0){if(p)return K0(s,a,d);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Gt(nr,nr.current),p)break;return null;case 22:case 23:return a.lanes=0,U0(s,a,d)}return Ks(s,a,d)}var Y0,wh,Q0,J0;Y0=function(s,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},wh=function(){},Q0=function(s,a,d,p){var v=s.memoizedProps;if(v!==p){s=a.stateNode,ho(vs.current);var A=null;switch(d){case"input":v=ge(s,v),p=ge(s,p),A=[];break;case"select":v=W({},v,{value:void 0}),p=W({},p,{value:void 0}),A=[];break;case"textarea":v=Oe(s,v),p=Oe(s,p),A=[];break;default:typeof v.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=zc)}dt(d,p);var B;d=null;for(le in v)if(!p.hasOwnProperty(le)&&v.hasOwnProperty(le)&&v[le]!=null)if(le==="style"){var G=v[le];for(B in G)G.hasOwnProperty(B)&&(d||(d={}),d[B]="")}else le!=="dangerouslySetInnerHTML"&&le!=="children"&&le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&le!=="autoFocus"&&(o.hasOwnProperty(le)?A||(A=[]):(A=A||[]).push(le,null));for(le in p){var J=p[le];if(G=v!=null?v[le]:void 0,p.hasOwnProperty(le)&&J!==G&&(J!=null||G!=null))if(le==="style")if(G){for(B in G)!G.hasOwnProperty(B)||J&&J.hasOwnProperty(B)||(d||(d={}),d[B]="");for(B in J)J.hasOwnProperty(B)&&G[B]!==J[B]&&(d||(d={}),d[B]=J[B])}else d||(A||(A=[]),A.push(le,d)),d=J;else le==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,G=G?G.__html:void 0,J!=null&&G!==J&&(A=A||[]).push(le,J)):le==="children"?typeof J!="string"&&typeof J!="number"||(A=A||[]).push(le,""+J):le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&(o.hasOwnProperty(le)?(J!=null&&le==="onScroll"&&Kt("scroll",s),A||G===J||(A=[])):(A=A||[]).push(le,J))}d&&(A=A||[]).push("style",d);var le=A;(a.updateQueue=le)&&(a.flags|=4)}},J0=function(s,a,d,p){d!==p&&(a.flags|=4)};function kl(s,a){if(!Zt)switch(s.tailMode){case"hidden":a=s.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Wr(s){var a=s.alternate!==null&&s.alternate.child===s.child,d=0,p=0;if(a)for(var v=s.child;v!==null;)d|=v.lanes|v.childLanes,p|=v.subtreeFlags&14680064,p|=v.flags&14680064,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)d|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=p,s.childLanes=d,a}function yN(s,a,d){var p=a.pendingProps;switch(Wf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wr(a),null;case 1:return ln(a.type)&&Lc(),Wr(a),null;case 3:return p=a.stateNode,da(),Yt(an),Yt(Ur),rh(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Wc(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,es!==null&&(Mh(es),es=null))),wh(s,a),Wr(a),null;case 5:eh(a);var v=ho(xl.current);if(d=a.type,s!==null&&a.stateNode!=null)Q0(s,a,d,p,v),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(r(166));return Wr(a),null}if(s=ho(vs.current),Wc(a)){p=a.stateNode,d=a.type;var A=a.memoizedProps;switch(p[ys]=a,p[fl]=A,s=(a.mode&1)!==0,d){case"dialog":Kt("cancel",p),Kt("close",p);break;case"iframe":case"object":case"embed":Kt("load",p);break;case"video":case"audio":for(v=0;v<cl.length;v++)Kt(cl[v],p);break;case"source":Kt("error",p);break;case"img":case"image":case"link":Kt("error",p),Kt("load",p);break;case"details":Kt("toggle",p);break;case"input":ve(p,A),Kt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!A.multiple},Kt("invalid",p);break;case"textarea":Se(p,A),Kt("invalid",p)}dt(d,A),v=null;for(var B in A)if(A.hasOwnProperty(B)){var G=A[B];B==="children"?typeof G=="string"?p.textContent!==G&&(A.suppressHydrationWarning!==!0&&Dc(p.textContent,G,s),v=["children",G]):typeof G=="number"&&p.textContent!==""+G&&(A.suppressHydrationWarning!==!0&&Dc(p.textContent,G,s),v=["children",""+G]):o.hasOwnProperty(B)&&G!=null&&B==="onScroll"&&Kt("scroll",p)}switch(d){case"input":ue(p),Fe(p,A,!0);break;case"textarea":ue(p),qt(p);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(p.onclick=zc)}p=v,a.updateQueue=p,p!==null&&(a.flags|=4)}else{B=v.nodeType===9?v:v.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ve(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=B.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=B.createElement(d,{is:p.is}):(s=B.createElement(d),d==="select"&&(B=s,p.multiple?B.multiple=!0:p.size&&(B.size=p.size))):s=B.createElementNS(s,d),s[ys]=a,s[fl]=p,Y0(s,a,!1,!1),a.stateNode=s;e:{switch(B=Yr(d,p),d){case"dialog":Kt("cancel",s),Kt("close",s),v=p;break;case"iframe":case"object":case"embed":Kt("load",s),v=p;break;case"video":case"audio":for(v=0;v<cl.length;v++)Kt(cl[v],s);v=p;break;case"source":Kt("error",s),v=p;break;case"img":case"image":case"link":Kt("error",s),Kt("load",s),v=p;break;case"details":Kt("toggle",s),v=p;break;case"input":ve(s,p),v=ge(s,p),Kt("invalid",s);break;case"option":v=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},v=W({},p,{value:void 0}),Kt("invalid",s);break;case"textarea":Se(s,p),v=Oe(s,p),Kt("invalid",s);break;default:v=p}dt(d,v),G=v;for(A in G)if(G.hasOwnProperty(A)){var J=G[A];A==="style"?hr(s,J):A==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&kt(s,J)):A==="children"?typeof J=="string"?(d!=="textarea"||J!=="")&&ut(s,J):typeof J=="number"&&ut(s,""+J):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(o.hasOwnProperty(A)?J!=null&&A==="onScroll"&&Kt("scroll",s):J!=null&&O(s,A,J,B))}switch(d){case"input":ue(s),Fe(s,p,!1);break;case"textarea":ue(s),qt(s);break;case"option":p.value!=null&&s.setAttribute("value",""+Z(p.value));break;case"select":s.multiple=!!p.multiple,A=p.value,A!=null?Ge(s,!!p.multiple,A,!1):p.defaultValue!=null&&Ge(s,!!p.multiple,p.defaultValue,!0);break;default:typeof v.onClick=="function"&&(s.onclick=zc)}switch(d){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Wr(a),null;case 6:if(s&&a.stateNode!=null)J0(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(r(166));if(d=ho(xl.current),ho(vs.current),Wc(a)){if(p=a.stateNode,d=a.memoizedProps,p[ys]=a,(A=p.nodeValue!==d)&&(s=wn,s!==null))switch(s.tag){case 3:Dc(p.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Dc(p.nodeValue,d,(s.mode&1)!==0)}A&&(a.flags|=4)}else p=(d.nodeType===9?d:d.ownerDocument).createTextNode(p),p[ys]=a,a.stateNode=p}return Wr(a),null;case 13:if(Yt(nr),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Zt&&kn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)e0(),aa(),a.flags|=98560,A=!1;else if(A=Wc(a),p!==null&&p.dehydrated!==null){if(s===null){if(!A)throw Error(r(318));if(A=a.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[ys]=a}else aa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Wr(a),A=!1}else es!==null&&(Mh(es),es=null),A=!0;if(!A)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(nr.current&1)!==0?br===0&&(br=3):Dh())),a.updateQueue!==null&&(a.flags|=4),Wr(a),null);case 4:return da(),wh(s,a),s===null&&ul(a.stateNode.containerInfo),Wr(a),null;case 10:return Yf(a.type._context),Wr(a),null;case 17:return ln(a.type)&&Lc(),Wr(a),null;case 19:if(Yt(nr),A=a.memoizedState,A===null)return Wr(a),null;if(p=(a.flags&128)!==0,B=A.rendering,B===null)if(p)kl(A,!1);else{if(br!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(B=Yc(s),B!==null){for(a.flags|=128,kl(A,!1),p=B.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=d,d=a.child;d!==null;)A=d,s=p,A.flags&=14680066,B=A.alternate,B===null?(A.childLanes=0,A.lanes=s,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=B.childLanes,A.lanes=B.lanes,A.child=B.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=B.memoizedProps,A.memoizedState=B.memoizedState,A.updateQueue=B.updateQueue,A.type=B.type,s=B.dependencies,A.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return Gt(nr,nr.current&1|2),a.child}s=s.sibling}A.tail!==null&&Wt()>pa&&(a.flags|=128,p=!0,kl(A,!1),a.lanes=4194304)}else{if(!p)if(s=Yc(B),s!==null){if(a.flags|=128,p=!0,d=s.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),kl(A,!0),A.tail===null&&A.tailMode==="hidden"&&!B.alternate&&!Zt)return Wr(a),null}else 2*Wt()-A.renderingStartTime>pa&&d!==1073741824&&(a.flags|=128,p=!0,kl(A,!1),a.lanes=4194304);A.isBackwards?(B.sibling=a.child,a.child=B):(d=A.last,d!==null?d.sibling=B:a.child=B,A.last=B)}return A.tail!==null?(a=A.tail,A.rendering=a,A.tail=a.sibling,A.renderingStartTime=Wt(),a.sibling=null,d=nr.current,Gt(nr,p?d&1|2:d&1),a):(Wr(a),null);case 22:case 23:return Ih(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(Nn&1073741824)!==0&&(Wr(a),a.subtreeFlags&6&&(a.flags|=8192)):Wr(a),null;case 24:return null;case 25:return null}throw Error(r(156,a.tag))}function vN(s,a){switch(Wf(a),a.tag){case 1:return ln(a.type)&&Lc(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return da(),Yt(an),Yt(Ur),rh(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return eh(a),null;case 13:if(Yt(nr),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));aa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Yt(nr),null;case 4:return da(),null;case 10:return Yf(a.type._context),null;case 22:case 23:return Ih(),null;case 24:return null;default:return null}}var su=!1,Hr=!1,bN=typeof WeakSet=="function"?WeakSet:Set,je=null;function ha(s,a){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(p){ar(s,a,p)}else d.current=null}function kh(s,a,d){try{d()}catch(p){ar(s,a,p)}}var X0=!1;function wN(s,a){if(If=Cc,s=Pg(),Af(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var v=p.anchorOffset,A=p.focusNode;p=p.focusOffset;try{d.nodeType,A.nodeType}catch{d=null;break e}var B=0,G=-1,J=-1,le=0,pe=0,be=s,me=null;t:for(;;){for(var Ae;be!==d||v!==0&&be.nodeType!==3||(G=B+v),be!==A||p!==0&&be.nodeType!==3||(J=B+p),be.nodeType===3&&(B+=be.nodeValue.length),(Ae=be.firstChild)!==null;)me=be,be=Ae;for(;;){if(be===s)break t;if(me===d&&++le===v&&(G=B),me===A&&++pe===p&&(J=B),(Ae=be.nextSibling)!==null)break;be=me,me=be.parentNode}be=Ae}d=G===-1||J===-1?null:{start:G,end:J}}else d=null}d=d||{start:0,end:0}}else d=null;for(Df={focusedElem:s,selectionRange:d},Cc=!1,je=a;je!==null;)if(a=je,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,je=s;else for(;je!==null;){a=je;try{var Te=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Me=Te.memoizedProps,ur=Te.memoizedState,ne=a.stateNode,ee=ne.getSnapshotBeforeUpdate(a.elementType===a.type?Me:ts(a.type,Me),ur);ne.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var ae=a.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(we){ar(a,a.return,we)}if(s=a.sibling,s!==null){s.return=a.return,je=s;break}je=a.return}return Te=X0,X0=!1,Te}function Nl(s,a,d){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&s)===s){var A=v.destroy;v.destroy=void 0,A!==void 0&&kh(a,d,A)}v=v.next}while(v!==p)}}function iu(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&s)===s){var p=d.create;d.destroy=p()}d=d.next}while(d!==a)}}function Nh(s){var a=s.ref;if(a!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof a=="function"?a(s):a.current=s}}function Z0(s){var a=s.alternate;a!==null&&(s.alternate=null,Z0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[ys],delete a[fl],delete a[Ff],delete a[nN],delete a[sN])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function ex(s){return s.tag===5||s.tag===3||s.tag===4}function tx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ex(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ch(s,a,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(s,a):d.insertBefore(s,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(s,d)):(a=d,a.appendChild(s)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=zc));else if(p!==4&&(s=s.child,s!==null))for(Ch(s,a,d),s=s.sibling;s!==null;)Ch(s,a,d),s=s.sibling}function Eh(s,a,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?d.insertBefore(s,a):d.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Eh(s,a,d),s=s.sibling;s!==null;)Eh(s,a,d),s=s.sibling}var Rr=null,rs=!1;function ji(s,a,d){for(d=d.child;d!==null;)rx(s,a,d),d=d.sibling}function rx(s,a,d){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Ce,d)}catch{}switch(d.tag){case 5:Hr||ha(d,a);case 6:var p=Rr,v=rs;Rr=null,ji(s,a,d),Rr=p,rs=v,Rr!==null&&(rs?(s=Rr,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):Rr.removeChild(d.stateNode));break;case 18:Rr!==null&&(rs?(s=Rr,d=d.stateNode,s.nodeType===8?Lf(s.parentNode,d):s.nodeType===1&&Lf(s,d),tl(s)):Lf(Rr,d.stateNode));break;case 4:p=Rr,v=rs,Rr=d.stateNode.containerInfo,rs=!0,ji(s,a,d),Rr=p,rs=v;break;case 0:case 11:case 14:case 15:if(!Hr&&(p=d.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){v=p=p.next;do{var A=v,B=A.destroy;A=A.tag,B!==void 0&&((A&2)!==0||(A&4)!==0)&&kh(d,a,B),v=v.next}while(v!==p)}ji(s,a,d);break;case 1:if(!Hr&&(ha(d,a),p=d.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=d.memoizedProps,p.state=d.memoizedState,p.componentWillUnmount()}catch(G){ar(d,a,G)}ji(s,a,d);break;case 21:ji(s,a,d);break;case 22:d.mode&1?(Hr=(p=Hr)||d.memoizedState!==null,ji(s,a,d),Hr=p):ji(s,a,d);break;default:ji(s,a,d)}}function nx(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new bN),a.forEach(function(p){var v=PN.bind(null,s,p);d.has(p)||(d.add(p),p.then(v,v))})}}function ns(s,a){var d=a.deletions;if(d!==null)for(var p=0;p<d.length;p++){var v=d[p];try{var A=s,B=a,G=B;e:for(;G!==null;){switch(G.tag){case 5:Rr=G.stateNode,rs=!1;break e;case 3:Rr=G.stateNode.containerInfo,rs=!0;break e;case 4:Rr=G.stateNode.containerInfo,rs=!0;break e}G=G.return}if(Rr===null)throw Error(r(160));rx(A,B,v),Rr=null,rs=!1;var J=v.alternate;J!==null&&(J.return=null),v.return=null}catch(le){ar(v,a,le)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)sx(a,s),a=a.sibling}function sx(s,a){var d=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ns(a,s),ws(s),p&4){try{Nl(3,s,s.return),iu(3,s)}catch(Me){ar(s,s.return,Me)}try{Nl(5,s,s.return)}catch(Me){ar(s,s.return,Me)}}break;case 1:ns(a,s),ws(s),p&512&&d!==null&&ha(d,d.return);break;case 5:if(ns(a,s),ws(s),p&512&&d!==null&&ha(d,d.return),s.flags&32){var v=s.stateNode;try{ut(v,"")}catch(Me){ar(s,s.return,Me)}}if(p&4&&(v=s.stateNode,v!=null)){var A=s.memoizedProps,B=d!==null?d.memoizedProps:A,G=s.type,J=s.updateQueue;if(s.updateQueue=null,J!==null)try{G==="input"&&A.type==="radio"&&A.name!=null&&Je(v,A),Yr(G,B);var le=Yr(G,A);for(B=0;B<J.length;B+=2){var pe=J[B],be=J[B+1];pe==="style"?hr(v,be):pe==="dangerouslySetInnerHTML"?kt(v,be):pe==="children"?ut(v,be):O(v,pe,be,le)}switch(G){case"input":Ne(v,A);break;case"textarea":Xe(v,A);break;case"select":var me=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!A.multiple;var Ae=A.value;Ae!=null?Ge(v,!!A.multiple,Ae,!1):me!==!!A.multiple&&(A.defaultValue!=null?Ge(v,!!A.multiple,A.defaultValue,!0):Ge(v,!!A.multiple,A.multiple?[]:"",!1))}v[fl]=A}catch(Me){ar(s,s.return,Me)}}break;case 6:if(ns(a,s),ws(s),p&4){if(s.stateNode===null)throw Error(r(162));v=s.stateNode,A=s.memoizedProps;try{v.nodeValue=A}catch(Me){ar(s,s.return,Me)}}break;case 3:if(ns(a,s),ws(s),p&4&&d!==null&&d.memoizedState.isDehydrated)try{tl(a.containerInfo)}catch(Me){ar(s,s.return,Me)}break;case 4:ns(a,s),ws(s);break;case 13:ns(a,s),ws(s),v=s.child,v.flags&8192&&(A=v.memoizedState!==null,v.stateNode.isHidden=A,!A||v.alternate!==null&&v.alternate.memoizedState!==null||(Sh=Wt())),p&4&&nx(s);break;case 22:if(pe=d!==null&&d.memoizedState!==null,s.mode&1?(Hr=(le=Hr)||pe,ns(a,s),Hr=le):ns(a,s),ws(s),p&8192){if(le=s.memoizedState!==null,(s.stateNode.isHidden=le)&&!pe&&(s.mode&1)!==0)for(je=s,pe=s.child;pe!==null;){for(be=je=pe;je!==null;){switch(me=je,Ae=me.child,me.tag){case 0:case 11:case 14:case 15:Nl(4,me,me.return);break;case 1:ha(me,me.return);var Te=me.stateNode;if(typeof Te.componentWillUnmount=="function"){p=me,d=me.return;try{a=p,Te.props=a.memoizedProps,Te.state=a.memoizedState,Te.componentWillUnmount()}catch(Me){ar(p,d,Me)}}break;case 5:ha(me,me.return);break;case 22:if(me.memoizedState!==null){ax(be);continue}}Ae!==null?(Ae.return=me,je=Ae):ax(be)}pe=pe.sibling}e:for(pe=null,be=s;;){if(be.tag===5){if(pe===null){pe=be;try{v=be.stateNode,le?(A=v.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(G=be.stateNode,J=be.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null,G.style.display=ot("display",B))}catch(Me){ar(s,s.return,Me)}}}else if(be.tag===6){if(pe===null)try{be.stateNode.nodeValue=le?"":be.memoizedProps}catch(Me){ar(s,s.return,Me)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===s)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===s)break e;for(;be.sibling===null;){if(be.return===null||be.return===s)break e;pe===be&&(pe=null),be=be.return}pe===be&&(pe=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:ns(a,s),ws(s),p&4&&nx(s);break;case 21:break;default:ns(a,s),ws(s)}}function ws(s){var a=s.flags;if(a&2){try{e:{for(var d=s.return;d!==null;){if(ex(d)){var p=d;break e}d=d.return}throw Error(r(160))}switch(p.tag){case 5:var v=p.stateNode;p.flags&32&&(ut(v,""),p.flags&=-33);var A=tx(s);Eh(s,A,v);break;case 3:case 4:var B=p.stateNode.containerInfo,G=tx(s);Ch(s,G,B);break;default:throw Error(r(161))}}catch(J){ar(s,s.return,J)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function kN(s,a,d){je=s,ix(s)}function ix(s,a,d){for(var p=(s.mode&1)!==0;je!==null;){var v=je,A=v.child;if(v.tag===22&&p){var B=v.memoizedState!==null||su;if(!B){var G=v.alternate,J=G!==null&&G.memoizedState!==null||Hr;G=su;var le=Hr;if(su=B,(Hr=J)&&!le)for(je=v;je!==null;)B=je,J=B.child,B.tag===22&&B.memoizedState!==null?lx(v):J!==null?(J.return=B,je=J):lx(v);for(;A!==null;)je=A,ix(A),A=A.sibling;je=v,su=G,Hr=le}ox(s)}else(v.subtreeFlags&8772)!==0&&A!==null?(A.return=v,je=A):ox(s)}}function ox(s){for(;je!==null;){var a=je;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Hr||iu(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!Hr)if(d===null)p.componentDidMount();else{var v=a.elementType===a.type?d.memoizedProps:ts(a.type,d.memoizedProps);p.componentDidUpdate(v,d.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var A=a.updateQueue;A!==null&&a0(a,A,p);break;case 3:var B=a.updateQueue;if(B!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}a0(a,B,d)}break;case 5:var G=a.stateNode;if(d===null&&a.flags&4){d=G;var J=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&d.focus();break;case"img":J.src&&(d.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var le=a.alternate;if(le!==null){var pe=le.memoizedState;if(pe!==null){var be=pe.dehydrated;be!==null&&tl(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Hr||a.flags&512&&Nh(a)}catch(me){ar(a,a.return,me)}}if(a===s){je=null;break}if(d=a.sibling,d!==null){d.return=a.return,je=d;break}je=a.return}}function ax(s){for(;je!==null;){var a=je;if(a===s){je=null;break}var d=a.sibling;if(d!==null){d.return=a.return,je=d;break}je=a.return}}function lx(s){for(;je!==null;){var a=je;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{iu(4,a)}catch(J){ar(a,d,J)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var v=a.return;try{p.componentDidMount()}catch(J){ar(a,v,J)}}var A=a.return;try{Nh(a)}catch(J){ar(a,A,J)}break;case 5:var B=a.return;try{Nh(a)}catch(J){ar(a,B,J)}}}catch(J){ar(a,a.return,J)}if(a===s){je=null;break}var G=a.sibling;if(G!==null){G.return=a.return,je=G;break}je=a.return}}var NN=Math.ceil,ou=F.ReactCurrentDispatcher,Ah=F.ReactCurrentOwner,Bn=F.ReactCurrentBatchConfig,At=0,Cr=null,mr=null,Mr=0,Nn=0,ma=ki(0),br=0,Cl=null,po=0,au=0,jh=0,El=null,un=null,Sh=0,pa=1/0,Ys=null,lu=!1,Th=null,Si=null,cu=!1,Ti=null,uu=0,Al=0,Ph=null,du=-1,fu=0;function Zr(){return(At&6)!==0?Wt():du!==-1?du:du=Wt()}function Pi(s){return(s.mode&1)===0?1:(At&2)!==0&&Mr!==0?Mr&-Mr:oN.transition!==null?(fu===0&&(fu=bc()),fu):(s=It,s!==0||(s=window.event,s=s===void 0?16:ug(s.type)),s)}function ss(s,a,d,p){if(50<Al)throw Al=0,Ph=null,Error(r(185));xi(s,d,p),((At&2)===0||s!==Cr)&&(s===Cr&&((At&2)===0&&(au|=d),br===4&&Ri(s,Mr)),dn(s,p),d===1&&At===0&&(a.mode&1)===0&&(pa=Wt()+500,Bc&&Ci()))}function dn(s,a){var d=s.callbackNode;hf(s,a);var p=Wo(s,s===Cr?Mr:0);if(p===0)d!==null&&vn(d),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(d!=null&&vn(d),a===1)s.tag===0?iN(ux.bind(null,s)):Yg(ux.bind(null,s)),tN(function(){(At&6)===0&&Ci()}),d=null;else{switch(wc(p)){case 1:d=gs;break;case 4:d=Bs;break;case 16:d=Qn;break;case 536870912:d=xe;break;default:d=Qn}d=yx(d,cx.bind(null,s))}s.callbackPriority=a,s.callbackNode=d}}function cx(s,a){if(du=-1,fu=0,(At&6)!==0)throw Error(r(327));var d=s.callbackNode;if(ga()&&s.callbackNode!==d)return null;var p=Wo(s,s===Cr?Mr:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||a)a=hu(s,p);else{a=p;var v=At;At|=2;var A=fx();(Cr!==s||Mr!==a)&&(Ys=null,pa=Wt()+500,xo(s,a));do try{AN();break}catch(G){dx(s,G)}while(!0);Kf(),ou.current=A,At=v,mr!==null?a=0:(Cr=null,Mr=0,a=br)}if(a!==0){if(a===2&&(v=qo(s),v!==0&&(p=v,a=Rh(s,v))),a===1)throw d=Cl,xo(s,0),Ri(s,p),dn(s,Wt()),d;if(a===6)Ri(s,p);else{if(v=s.current.alternate,(p&30)===0&&!CN(v)&&(a=hu(s,p),a===2&&(A=qo(s),A!==0&&(p=A,a=Rh(s,A))),a===1))throw d=Cl,xo(s,0),Ri(s,p),dn(s,Wt()),d;switch(s.finishedWork=v,s.finishedLanes=p,a){case 0:case 1:throw Error(r(345));case 2:yo(s,un,Ys);break;case 3:if(Ri(s,p),(p&130023424)===p&&(a=Sh+500-Wt(),10<a)){if(Wo(s,0)!==0)break;if(v=s.suspendedLanes,(v&p)!==p){Zr(),s.pingedLanes|=s.suspendedLanes&v;break}s.timeoutHandle=Of(yo.bind(null,s,un,Ys),a);break}yo(s,un,Ys);break;case 4:if(Ri(s,p),(p&4194240)===p)break;for(a=s.eventTimes,v=-1;0<p;){var B=31-yt(p);A=1<<B,B=a[B],B>v&&(v=B),p&=~A}if(p=v,p=Wt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*NN(p/1960))-p,10<p){s.timeoutHandle=Of(yo.bind(null,s,un,Ys),p);break}yo(s,un,Ys);break;case 5:yo(s,un,Ys);break;default:throw Error(r(329))}}}return dn(s,Wt()),s.callbackNode===d?cx.bind(null,s):null}function Rh(s,a){var d=El;return s.current.memoizedState.isDehydrated&&(xo(s,a).flags|=256),s=hu(s,a),s!==2&&(a=un,un=d,a!==null&&Mh(a)),s}function Mh(s){un===null?un=s:un.push.apply(un,s)}function CN(s){for(var a=s;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var p=0;p<d.length;p++){var v=d[p],A=v.getSnapshot;v=v.value;try{if(!Zn(A(),v))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ri(s,a){for(a&=~jh,a&=~au,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var d=31-yt(a),p=1<<d;s[d]=-1,a&=~p}}function ux(s){if((At&6)!==0)throw Error(r(327));ga();var a=Wo(s,0);if((a&1)===0)return dn(s,Wt()),null;var d=hu(s,a);if(s.tag!==0&&d===2){var p=qo(s);p!==0&&(a=p,d=Rh(s,p))}if(d===1)throw d=Cl,xo(s,0),Ri(s,a),dn(s,Wt()),d;if(d===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,yo(s,un,Ys),dn(s,Wt()),null}function _h(s,a){var d=At;At|=1;try{return s(a)}finally{At=d,At===0&&(pa=Wt()+500,Bc&&Ci())}}function go(s){Ti!==null&&Ti.tag===0&&(At&6)===0&&ga();var a=At;At|=1;var d=Bn.transition,p=It;try{if(Bn.transition=null,It=1,s)return s()}finally{It=p,Bn.transition=d,At=a,(At&6)===0&&Ci()}}function Ih(){Nn=ma.current,Yt(ma)}function xo(s,a){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,eN(d)),mr!==null)for(d=mr.return;d!==null;){var p=d;switch(Wf(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Lc();break;case 3:da(),Yt(an),Yt(Ur),rh();break;case 5:eh(p);break;case 4:da();break;case 13:Yt(nr);break;case 19:Yt(nr);break;case 10:Yf(p.type._context);break;case 22:case 23:Ih()}d=d.return}if(Cr=s,mr=s=Mi(s.current,null),Mr=Nn=a,br=0,Cl=null,jh=au=po=0,un=El=null,fo!==null){for(a=0;a<fo.length;a++)if(d=fo[a],p=d.interleaved,p!==null){d.interleaved=null;var v=p.next,A=d.pending;if(A!==null){var B=A.next;A.next=v,p.next=B}d.pending=p}fo=null}return s}function dx(s,a){do{var d=mr;try{if(Kf(),Qc.current=eu,Jc){for(var p=sr.memoizedState;p!==null;){var v=p.queue;v!==null&&(v.pending=null),p=p.next}Jc=!1}if(mo=0,Nr=vr=sr=null,yl=!1,vl=0,Ah.current=null,d===null||d.return===null){br=1,Cl=a,mr=null;break}e:{var A=s,B=d.return,G=d,J=a;if(a=Mr,G.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var le=J,pe=G,be=pe.tag;if((pe.mode&1)===0&&(be===0||be===11||be===15)){var me=pe.alternate;me?(pe.updateQueue=me.updateQueue,pe.memoizedState=me.memoizedState,pe.lanes=me.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var Ae=z0(B);if(Ae!==null){Ae.flags&=-257,O0(Ae,B,G,A,a),Ae.mode&1&&D0(A,le,a),a=Ae,J=le;var Te=a.updateQueue;if(Te===null){var Me=new Set;Me.add(J),a.updateQueue=Me}else Te.add(J);break e}else{if((a&1)===0){D0(A,le,a),Dh();break e}J=Error(r(426))}}else if(Zt&&G.mode&1){var ur=z0(B);if(ur!==null){(ur.flags&65536)===0&&(ur.flags|=256),O0(ur,B,G,A,a),Gf(fa(J,G));break e}}A=J=fa(J,G),br!==4&&(br=2),El===null?El=[A]:El.push(A),A=B;do{switch(A.tag){case 3:A.flags|=65536,a&=-a,A.lanes|=a;var ne=_0(A,J,a);o0(A,ne);break e;case 1:G=J;var ee=A.type,ae=A.stateNode;if((A.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(Si===null||!Si.has(ae)))){A.flags|=65536,a&=-a,A.lanes|=a;var we=I0(A,G,a);o0(A,we);break e}}A=A.return}while(A!==null)}mx(d)}catch(Ie){a=Ie,mr===d&&d!==null&&(mr=d=d.return);continue}break}while(!0)}function fx(){var s=ou.current;return ou.current=eu,s===null?eu:s}function Dh(){(br===0||br===3||br===2)&&(br=4),Cr===null||(po&268435455)===0&&(au&268435455)===0||Ri(Cr,Mr)}function hu(s,a){var d=At;At|=2;var p=fx();(Cr!==s||Mr!==a)&&(Ys=null,xo(s,a));do try{EN();break}catch(v){dx(s,v)}while(!0);if(Kf(),At=d,ou.current=p,mr!==null)throw Error(r(261));return Cr=null,Mr=0,br}function EN(){for(;mr!==null;)hx(mr)}function AN(){for(;mr!==null&&!eo();)hx(mr)}function hx(s){var a=xx(s.alternate,s,Nn);s.memoizedProps=s.pendingProps,a===null?mx(s):mr=a,Ah.current=null}function mx(s){var a=s;do{var d=a.alternate;if(s=a.return,(a.flags&32768)===0){if(d=yN(d,a,Nn),d!==null){mr=d;return}}else{if(d=vN(d,a),d!==null){d.flags&=32767,mr=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{br=6,mr=null;return}}if(a=a.sibling,a!==null){mr=a;return}mr=a=s}while(a!==null);br===0&&(br=5)}function yo(s,a,d){var p=It,v=Bn.transition;try{Bn.transition=null,It=1,jN(s,a,d,p)}finally{Bn.transition=v,It=p}return null}function jN(s,a,d,p){do ga();while(Ti!==null);if((At&6)!==0)throw Error(r(327));d=s.finishedWork;var v=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var A=d.lanes|d.childLanes;if(mf(s,A),s===Cr&&(mr=Cr=null,Mr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||cu||(cu=!0,yx(Qn,function(){return ga(),null})),A=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||A){A=Bn.transition,Bn.transition=null;var B=It;It=1;var G=At;At|=4,Ah.current=null,wN(s,d),sx(d,s),Vk(Df),Cc=!!If,Df=If=null,s.current=d,kN(d),to(),At=G,It=B,Bn.transition=A}else s.current=d;if(cu&&(cu=!1,Ti=s,uu=v),A=s.pendingLanes,A===0&&(Si=null),Ht(d.stateNode),dn(s,Wt()),a!==null)for(p=s.onRecoverableError,d=0;d<a.length;d++)v=a[d],p(v.value,{componentStack:v.stack,digest:v.digest});if(lu)throw lu=!1,s=Th,Th=null,s;return(uu&1)!==0&&s.tag!==0&&ga(),A=s.pendingLanes,(A&1)!==0?s===Ph?Al++:(Al=0,Ph=s):Al=0,Ci(),null}function ga(){if(Ti!==null){var s=wc(uu),a=Bn.transition,d=It;try{if(Bn.transition=null,It=16>s?16:s,Ti===null)var p=!1;else{if(s=Ti,Ti=null,uu=0,(At&6)!==0)throw Error(r(331));var v=At;for(At|=4,je=s.current;je!==null;){var A=je,B=A.child;if((je.flags&16)!==0){var G=A.deletions;if(G!==null){for(var J=0;J<G.length;J++){var le=G[J];for(je=le;je!==null;){var pe=je;switch(pe.tag){case 0:case 11:case 15:Nl(8,pe,A)}var be=pe.child;if(be!==null)be.return=pe,je=be;else for(;je!==null;){pe=je;var me=pe.sibling,Ae=pe.return;if(Z0(pe),pe===le){je=null;break}if(me!==null){me.return=Ae,je=me;break}je=Ae}}}var Te=A.alternate;if(Te!==null){var Me=Te.child;if(Me!==null){Te.child=null;do{var ur=Me.sibling;Me.sibling=null,Me=ur}while(Me!==null)}}je=A}}if((A.subtreeFlags&2064)!==0&&B!==null)B.return=A,je=B;else e:for(;je!==null;){if(A=je,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:Nl(9,A,A.return)}var ne=A.sibling;if(ne!==null){ne.return=A.return,je=ne;break e}je=A.return}}var ee=s.current;for(je=ee;je!==null;){B=je;var ae=B.child;if((B.subtreeFlags&2064)!==0&&ae!==null)ae.return=B,je=ae;else e:for(B=ee;je!==null;){if(G=je,(G.flags&2048)!==0)try{switch(G.tag){case 0:case 11:case 15:iu(9,G)}}catch(Ie){ar(G,G.return,Ie)}if(G===B){je=null;break e}var we=G.sibling;if(we!==null){we.return=G.return,je=we;break e}je=G.return}}if(At=v,Ci(),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Ce,s)}catch{}p=!0}return p}finally{It=d,Bn.transition=a}}return!1}function px(s,a,d){a=fa(d,a),a=_0(s,a,1),s=Ai(s,a,1),a=Zr(),s!==null&&(xi(s,1,a),dn(s,a))}function ar(s,a,d){if(s.tag===3)px(s,s,d);else for(;a!==null;){if(a.tag===3){px(a,s,d);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Si===null||!Si.has(p))){s=fa(d,s),s=I0(a,s,1),a=Ai(a,s,1),s=Zr(),a!==null&&(xi(a,1,s),dn(a,s));break}}a=a.return}}function SN(s,a,d){var p=s.pingCache;p!==null&&p.delete(a),a=Zr(),s.pingedLanes|=s.suspendedLanes&d,Cr===s&&(Mr&d)===d&&(br===4||br===3&&(Mr&130023424)===Mr&&500>Wt()-Sh?xo(s,0):jh|=d),dn(s,a)}function gx(s,a){a===0&&((s.mode&1)===0?a=1:(a=gi,gi<<=1,(gi&130023424)===0&&(gi=4194304)));var d=Zr();s=Gs(s,a),s!==null&&(xi(s,a,d),dn(s,d))}function TN(s){var a=s.memoizedState,d=0;a!==null&&(d=a.retryLane),gx(s,d)}function PN(s,a){var d=0;switch(s.tag){case 13:var p=s.stateNode,v=s.memoizedState;v!==null&&(d=v.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(r(314))}p!==null&&p.delete(a),gx(s,d)}var xx;xx=function(s,a,d){if(s!==null)if(s.memoizedProps!==a.pendingProps||an.current)cn=!0;else{if((s.lanes&d)===0&&(a.flags&128)===0)return cn=!1,xN(s,a,d);cn=(s.flags&131072)!==0}else cn=!1,Zt&&(a.flags&1048576)!==0&&Qg(a,$c,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;nu(s,a),s=a.pendingProps;var v=sa(a,Ur.current);ua(a,d),v=ih(null,a,p,s,v,d);var A=oh();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,ln(p)?(A=!0,Fc(a)):A=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Xf(a),v.updater=tu,a.stateNode=v,v._reactInternals=a,fh(a,p,s,d),a=gh(null,a,p,!0,A,d)):(a.tag=0,Zt&&A&&$f(a),Xr(null,a,v,d),a=a.child),a;case 16:p=a.elementType;e:{switch(nu(s,a),s=a.pendingProps,v=p._init,p=v(p._payload),a.type=p,v=a.tag=MN(p),s=ts(p,s),v){case 0:a=ph(null,a,p,s,d);break e;case 1:a=W0(null,a,p,s,d);break e;case 11:a=L0(null,a,p,s,d);break e;case 14:a=F0(null,a,p,ts(p.type,s),d);break e}throw Error(r(306,p,""))}return a;case 0:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:ts(p,v),ph(s,a,p,v,d);case 1:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:ts(p,v),W0(s,a,p,v,d);case 3:e:{if(H0(a),s===null)throw Error(r(387));p=a.pendingProps,A=a.memoizedState,v=A.element,i0(s,a),Kc(a,p,null,d);var B=a.memoizedState;if(p=B.element,A.isDehydrated)if(A={element:p,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},a.updateQueue.baseState=A,a.memoizedState=A,a.flags&256){v=fa(Error(r(423)),a),a=q0(s,a,p,d,v);break e}else if(p!==v){v=fa(Error(r(424)),a),a=q0(s,a,p,d,v);break e}else for(kn=wi(a.stateNode.containerInfo.firstChild),wn=a,Zt=!0,es=null,d=n0(a,null,p,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(aa(),p===v){a=Ks(s,a,d);break e}Xr(s,a,p,d)}a=a.child}return a;case 5:return l0(a),s===null&&qf(a),p=a.type,v=a.pendingProps,A=s!==null?s.memoizedProps:null,B=v.children,zf(p,v)?B=null:A!==null&&zf(p,A)&&(a.flags|=32),$0(s,a),Xr(s,a,B,d),a.child;case 6:return s===null&&qf(a),null;case 13:return G0(s,a,d);case 4:return Zf(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=la(a,null,p,d):Xr(s,a,p,d),a.child;case 11:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:ts(p,v),L0(s,a,p,v,d);case 7:return Xr(s,a,a.pendingProps,d),a.child;case 8:return Xr(s,a,a.pendingProps.children,d),a.child;case 12:return Xr(s,a,a.pendingProps.children,d),a.child;case 10:e:{if(p=a.type._context,v=a.pendingProps,A=a.memoizedProps,B=v.value,Gt(qc,p._currentValue),p._currentValue=B,A!==null)if(Zn(A.value,B)){if(A.children===v.children&&!an.current){a=Ks(s,a,d);break e}}else for(A=a.child,A!==null&&(A.return=a);A!==null;){var G=A.dependencies;if(G!==null){B=A.child;for(var J=G.firstContext;J!==null;){if(J.context===p){if(A.tag===1){J=Vs(-1,d&-d),J.tag=2;var le=A.updateQueue;if(le!==null){le=le.shared;var pe=le.pending;pe===null?J.next=J:(J.next=pe.next,pe.next=J),le.pending=J}}A.lanes|=d,J=A.alternate,J!==null&&(J.lanes|=d),Qf(A.return,d,a),G.lanes|=d;break}J=J.next}}else if(A.tag===10)B=A.type===a.type?null:A.child;else if(A.tag===18){if(B=A.return,B===null)throw Error(r(341));B.lanes|=d,G=B.alternate,G!==null&&(G.lanes|=d),Qf(B,d,a),B=A.sibling}else B=A.child;if(B!==null)B.return=A;else for(B=A;B!==null;){if(B===a){B=null;break}if(A=B.sibling,A!==null){A.return=B.return,B=A;break}B=B.return}A=B}Xr(s,a,v.children,d),a=a.child}return a;case 9:return v=a.type,p=a.pendingProps.children,ua(a,d),v=Ln(v),p=p(v),a.flags|=1,Xr(s,a,p,d),a.child;case 14:return p=a.type,v=ts(p,a.pendingProps),v=ts(p.type,v),F0(s,a,p,v,d);case 15:return B0(s,a,a.type,a.pendingProps,d);case 17:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:ts(p,v),nu(s,a),a.tag=1,ln(p)?(s=!0,Fc(a)):s=!1,ua(a,d),R0(a,p,v),fh(a,p,v,d),gh(null,a,p,!0,s,d);case 19:return K0(s,a,d);case 22:return U0(s,a,d)}throw Error(r(156,a.tag))};function yx(s,a){return yn(s,a)}function RN(s,a,d,p){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(s,a,d,p){return new RN(s,a,d,p)}function zh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function MN(s){if(typeof s=="function")return zh(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===E)return 14}return 2}function Mi(s,a){var d=s.alternate;return d===null?(d=Un(s.tag,a,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=a,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,a=s.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function mu(s,a,d,p,v,A){var B=2;if(p=s,typeof s=="function")zh(s)&&(B=1);else if(typeof s=="string")B=5;else e:switch(s){case q:return vo(d.children,v,A,a);case Y:B=8,v|=8;break;case Q:return s=Un(12,d,a,v|2),s.elementType=Q,s.lanes=A,s;case M:return s=Un(13,d,a,v),s.elementType=M,s.lanes=A,s;case x:return s=Un(19,d,a,v),s.elementType=x,s.lanes=A,s;case P:return pu(d,v,A,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case re:B=10;break e;case te:B=9;break e;case $:B=11;break e;case E:B=14;break e;case T:B=16,p=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return a=Un(B,d,a,v),a.elementType=s,a.type=p,a.lanes=A,a}function vo(s,a,d,p){return s=Un(7,s,p,a),s.lanes=d,s}function pu(s,a,d,p){return s=Un(22,s,p,a),s.elementType=P,s.lanes=d,s.stateNode={isHidden:!1},s}function Oh(s,a,d){return s=Un(6,s,null,a),s.lanes=d,s}function Lh(s,a,d){return a=Un(4,s.children!==null?s.children:[],s.key,a),a.lanes=d,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function _N(s,a,d,p,v){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ja(0),this.expirationTimes=Ja(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ja(0),this.identifierPrefix=p,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Fh(s,a,d,p,v,A,B,G,J){return s=new _N(s,a,d,G,J),a===1?(a=1,A===!0&&(a|=8)):a=0,A=Un(3,null,null,a),s.current=A,A.stateNode=s,A.memoizedState={element:p,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xf(A),s}function IN(s,a,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:p==null?null:""+p,children:s,containerInfo:a,implementation:d}}function vx(s){if(!s)return Ni;s=s._reactInternals;e:{if(Br(s)!==s||s.tag!==1)throw Error(r(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(ln(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(r(171))}if(s.tag===1){var d=s.type;if(ln(d))return Vg(s,d,a)}return a}function bx(s,a,d,p,v,A,B,G,J){return s=Fh(d,p,!0,s,v,A,B,G,J),s.context=vx(null),d=s.current,p=Zr(),v=Pi(d),A=Vs(p,v),A.callback=a??null,Ai(d,A,v),s.current.lanes=v,xi(s,v,p),dn(s,p),s}function gu(s,a,d,p){var v=a.current,A=Zr(),B=Pi(v);return d=vx(d),a.context===null?a.context=d:a.pendingContext=d,a=Vs(A,B),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=Ai(v,a,B),s!==null&&(ss(s,v,B,A),Vc(s,v,B)),B}function xu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function wx(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<a?d:a}}function Bh(s,a){wx(s,a),(s=s.alternate)&&wx(s,a)}function DN(){return null}var kx=typeof reportError=="function"?reportError:function(s){console.error(s)};function Uh(s){this._internalRoot=s}yu.prototype.render=Uh.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));gu(s,a,null,null)},yu.prototype.unmount=Uh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;go(function(){gu(null,s,null,null)}),a[$s]=null}};function yu(s){this._internalRoot=s}yu.prototype.unstable_scheduleHydration=function(s){if(s){var a=so();s={blockedOn:null,target:s,priority:a};for(var d=0;d<yi.length&&a!==0&&a<yi[d].priority;d++);yi.splice(d,0,s),d===0&&lg(s)}};function $h(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function vu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Nx(){}function zN(s,a,d,p,v){if(v){if(typeof p=="function"){var A=p;p=function(){var le=xu(B);A.call(le)}}var B=bx(a,p,s,0,null,!1,!1,"",Nx);return s._reactRootContainer=B,s[$s]=B.current,ul(s.nodeType===8?s.parentNode:s),go(),B}for(;v=s.lastChild;)s.removeChild(v);if(typeof p=="function"){var G=p;p=function(){var le=xu(J);G.call(le)}}var J=Fh(s,0,!1,null,null,!1,!1,"",Nx);return s._reactRootContainer=J,s[$s]=J.current,ul(s.nodeType===8?s.parentNode:s),go(function(){gu(a,J,d,p)}),J}function bu(s,a,d,p,v){var A=d._reactRootContainer;if(A){var B=A;if(typeof v=="function"){var G=v;v=function(){var J=xu(B);G.call(J)}}gu(a,B,s,v)}else B=zN(d,a,s,v,p);return xu(B)}kc=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var d=ro(a.pendingLanes);d!==0&&(Xa(a,d|1),dn(a,Wt()),(At&6)===0&&(pa=Wt()+500,Ci()))}break;case 13:go(function(){var p=Gs(s,1);if(p!==null){var v=Zr();ss(p,s,1,v)}}),Bh(s,1)}},Go=function(s){if(s.tag===13){var a=Gs(s,134217728);if(a!==null){var d=Zr();ss(a,s,134217728,d)}Bh(s,134217728)}},no=function(s){if(s.tag===13){var a=Pi(s),d=Gs(s,a);if(d!==null){var p=Zr();ss(d,s,a,p)}Bh(s,a)}},so=function(){return It},io=function(s,a){var d=It;try{return It=s,a()}finally{It=d}},Tr=function(s,a,d){switch(a){case"input":if(Ne(s,d),a=d.name,d.type==="radio"&&a!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var p=d[a];if(p!==s&&p.form===s.form){var v=Oc(p);if(!v)throw Error(r(90));de(p),Ne(p,v)}}}break;case"textarea":Xe(s,d);break;case"select":a=d.value,a!=null&&Ge(s,!!d.multiple,a,!1)}},nt=_h,Le=go;var ON={usingClientEntryPoint:!1,Events:[hl,ra,Oc,Tt,Ee,_h]},jl={findFiberByHostInstance:ao,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LN={bundleType:jl.bundleType,version:jl.version,rendererPackageName:jl.rendererPackageName,rendererConfig:jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Pr(s),s===null?null:s.stateNode},findFiberByHostInstance:jl.findFiberByHostInstance||DN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wu.isDisabled&&wu.supportsFiber)try{Ce=wu.inject(LN),ke=wu}catch{}}return fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ON,fn.createPortal=function(s,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$h(a))throw Error(r(200));return IN(s,a,null,d)},fn.createRoot=function(s,a){if(!$h(s))throw Error(r(299));var d=!1,p="",v=kx;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=Fh(s,1,!1,null,null,d,!1,p,v),s[$s]=a.current,ul(s.nodeType===8?s.parentNode:s),new Uh(a)},fn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Pr(a),s=s===null?null:s.stateNode,s},fn.flushSync=function(s){return go(s)},fn.hydrate=function(s,a,d){if(!vu(a))throw Error(r(200));return bu(null,s,a,!0,d)},fn.hydrateRoot=function(s,a,d){if(!$h(s))throw Error(r(405));var p=d!=null&&d.hydratedSources||null,v=!1,A="",B=kx;if(d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(A=d.identifierPrefix),d.onRecoverableError!==void 0&&(B=d.onRecoverableError)),a=bx(a,null,s,1,d??null,v,!1,A,B),s[$s]=a.current,ul(s),p)for(s=0;s<p.length;s++)d=p[s],v=d._getVersion,v=v(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,v]:a.mutableSourceEagerHydrationData.push(d,v);return new yu(a)},fn.render=function(s,a,d){if(!vu(a))throw Error(r(200));return bu(null,s,a,!1,d)},fn.unmountComponentAtNode=function(s){if(!vu(s))throw Error(r(40));return s._reactRootContainer?(go(function(){bu(null,null,s,!1,function(){s._reactRootContainer=null,s[$s]=null})}),!0):!1},fn.unstable_batchedUpdates=_h,fn.unstable_renderSubtreeIntoContainer=function(s,a,d,p){if(!vu(d))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return bu(s,a,d,!1,p)},fn.version="18.3.1-next-f1338f8080-20240426",fn}var Rx;function Kv(){if(Rx)return qh.exports;Rx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qh.exports=QN(),qh.exports}var Mx;function JN(){if(Mx)return Nu;Mx=1;var t=Kv();return Nu.createRoot=t.createRoot,Nu.hydrateRoot=t.hydrateRoot,Nu}var XN=JN(),ic=Kv();const Yv=$a(ic);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hl.apply(this,arguments)}var $i;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($i||($i={}));const _x="popstate";function ZN(t){t===void 0&&(t={});function e(n,o){let{pathname:l,search:c,hash:u}=n.location;return zm("",{pathname:l,search:c,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(n,o){return typeof o=="string"?o:cd(o)}return tC(e,r,null,t)}function xr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eC(){return Math.random().toString(36).substr(2,8)}function Ix(t,e){return{usr:t.state,key:t.key,idx:e}}function zm(t,e,r,n){return r===void 0&&(r=null),Hl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wa(e):e,{state:r,key:e&&e.key||n||eC()})}function cd(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Wa(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function tC(t,e,r,n){n===void 0&&(n={});let{window:o=document.defaultView,v5Compat:l=!1}=n,c=o.history,u=$i.Pop,f=null,h=m();h==null&&(h=0,c.replaceState(Hl({},c.state,{idx:h}),""));function m(){return(c.state||{idx:null}).idx}function y(){u=$i.Pop;let C=m(),S=C==null?null:C-h;h=C,f&&f({action:u,location:N.location,delta:S})}function k(C,S){u=$i.Push;let D=zm(N.location,C,S);h=m()+1;let O=Ix(D,h),F=N.createHref(D);try{c.pushState(O,"",F)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;o.location.assign(F)}l&&f&&f({action:u,location:N.location,delta:1})}function g(C,S){u=$i.Replace;let D=zm(N.location,C,S);h=m();let O=Ix(D,h),F=N.createHref(D);c.replaceState(O,"",F),l&&f&&f({action:u,location:N.location,delta:0})}function j(C){let S=o.location.origin!=="null"?o.location.origin:o.location.href,D=typeof C=="string"?C:cd(C);return D=D.replace(/ $/,"%20"),xr(S,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,S)}let N={get action(){return u},get location(){return t(o,c)},listen(C){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(_x,y),f=C,()=>{o.removeEventListener(_x,y),f=null}},createHref(C){return e(o,C)},createURL:j,encodeLocation(C){let S=j(C);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:k,replace:g,go(C){return c.go(C)}};return N}var Dx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Dx||(Dx={}));function rC(t,e,r){return r===void 0&&(r="/"),nC(t,e,r)}function nC(t,e,r,n){let o=typeof e=="string"?Wa(e):e,l=fp(o.pathname||"/",r);if(l==null)return null;let c=Jv(t);sC(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let h=gC(l);u=hC(c[f],h)}return u}function Jv(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let o=(l,c,u)=>{let f={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(xr(f.relativePath.startsWith(n),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(n.length));let h=Wi([n,f.relativePath]),m=r.concat(f);l.children&&l.children.length>0&&(xr(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Jv(l.children,e,m,h)),!(l.path==null&&!l.index)&&e.push({path:h,score:dC(h,l.index),routesMeta:m})};return t.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))o(l,c);else for(let f of Xv(l.path))o(l,c,f)}),e}function Xv(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return o?[l,""]:[l];let c=Xv(n.join("/")),u=[];return u.push(...c.map(f=>f===""?l:[l,f].join("/"))),o&&u.push(...c),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function sC(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:fC(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const iC=/^:[\w-]+$/,oC=3,aC=2,lC=1,cC=10,uC=-2,zx=t=>t==="*";function dC(t,e){let r=t.split("/"),n=r.length;return r.some(zx)&&(n+=uC),e&&(n+=aC),r.filter(o=>!zx(o)).reduce((o,l)=>o+(iC.test(l)?oC:l===""?lC:cC),n)}function fC(t,e){return t.length===e.length&&t.slice(0,-1).every((n,o)=>n===e[o])?t[t.length-1]-e[e.length-1]:0}function hC(t,e,r){let{routesMeta:n}=t,o={},l="/",c=[];for(let u=0;u<n.length;++u){let f=n[u],h=u===n.length-1,m=l==="/"?e:e.slice(l.length)||"/",y=mC({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),k=f.route;if(!y)return null;Object.assign(o,y.params),c.push({params:o,pathname:Wi([l,y.pathname]),pathnameBase:bC(Wi([l,y.pathnameBase])),route:k}),y.pathnameBase!=="/"&&(l=Wi([l,y.pathnameBase]))}return c}function mC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=pC(t.path,t.caseSensitive,t.end),o=e.match(r);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:n.reduce((h,m,y)=>{let{paramName:k,isOptional:g}=m;if(k==="*"){let N=u[y]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const j=u[y];return g&&!j?h[k]=void 0:h[k]=(j||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:c,pattern:t}}function pC(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Qv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),n]}function gC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function fp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function xC(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:o=""}=typeof t=="string"?Wa(t):t;return{pathname:r?r.startsWith("/")?r:yC(r,e):e,search:wC(n),hash:kC(o)}}function yC(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Kh(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vC(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Zv(t,e){let r=vC(t);return e?r.map((n,o)=>o===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function eb(t,e,r,n){n===void 0&&(n=!1);let o;typeof t=="string"?o=Wa(t):(o=Hl({},t),xr(!o.pathname||!o.pathname.includes("?"),Kh("?","pathname","search",o)),xr(!o.pathname||!o.pathname.includes("#"),Kh("#","pathname","hash",o)),xr(!o.search||!o.search.includes("#"),Kh("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,u;if(c==null)u=r;else{let y=e.length-1;if(!n&&c.startsWith("..")){let k=c.split("/");for(;k[0]==="..";)k.shift(),y-=1;o.pathname=k.join("/")}u=y>=0?e[y]:"/"}let f=xC(o,u),h=c&&c!=="/"&&c.endsWith("/"),m=(l||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}const Wi=t=>t.join("/").replace(/\/\/+/g,"/"),bC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const tb=["post","put","patch","delete"];new Set(tb);const CC=["get",...tb];new Set(CC);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ql(){return ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ql.apply(this,arguments)}const hp=b.createContext(null),EC=b.createContext(null),zo=b.createContext(null),Rd=b.createContext(null),Qi=b.createContext({outlet:null,matches:[],isDataRoute:!1}),rb=b.createContext(null);function AC(t,e){let{relative:r}=e===void 0?{}:e;oc()||xr(!1);let{basename:n,navigator:o}=b.useContext(zo),{hash:l,pathname:c,search:u}=sb(t,{relative:r}),f=c;return n!=="/"&&(f=c==="/"?n:Wi([n,c])),o.createHref({pathname:f,search:u,hash:l})}function oc(){return b.useContext(Rd)!=null}function Ha(){return oc()||xr(!1),b.useContext(Rd).location}function nb(t){b.useContext(zo).static||b.useLayoutEffect(t)}function tn(){let{isDataRoute:t}=b.useContext(Qi);return t?BC():jC()}function jC(){oc()||xr(!1);let t=b.useContext(hp),{basename:e,future:r,navigator:n}=b.useContext(zo),{matches:o}=b.useContext(Qi),{pathname:l}=Ha(),c=JSON.stringify(Zv(o,r.v7_relativeSplatPath)),u=b.useRef(!1);return nb(()=>{u.current=!0}),b.useCallback(function(h,m){if(m===void 0&&(m={}),!u.current)return;if(typeof h=="number"){n.go(h);return}let y=eb(h,JSON.parse(c),l,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Wi([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,c,l,t])}function SC(){let{matches:t}=b.useContext(Qi),e=t[t.length-1];return e?e.params:{}}function sb(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=b.useContext(zo),{matches:o}=b.useContext(Qi),{pathname:l}=Ha(),c=JSON.stringify(Zv(o,n.v7_relativeSplatPath));return b.useMemo(()=>eb(t,JSON.parse(c),l,r==="path"),[t,c,l,r])}function TC(t,e){return PC(t,e)}function PC(t,e,r,n){oc()||xr(!1);let{navigator:o}=b.useContext(zo),{matches:l}=b.useContext(Qi),c=l[l.length-1],u=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let h=Ha(),m;if(e){var y;let C=typeof e=="string"?Wa(e):e;f==="/"||(y=C.pathname)!=null&&y.startsWith(f)||xr(!1),m=C}else m=h;let k=m.pathname||"/",g=k;if(f!=="/"){let C=f.replace(/^\//,"").split("/");g="/"+k.replace(/^\//,"").split("/").slice(C.length).join("/")}let j=rC(t,{pathname:g}),N=DC(j&&j.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Wi([f,o.encodeLocation?o.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:Wi([f,o.encodeLocation?o.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),l,r,n);return e&&N?b.createElement(Rd.Provider,{value:{location:ql({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:$i.Pop}},N):N}function RC(){let t=FC(),e=NC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:o},r):null,null)}const MC=b.createElement(RC,null);class _C extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?b.createElement(Qi.Provider,{value:this.props.routeContext},b.createElement(rb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function IC(t){let{routeContext:e,match:r,children:n}=t,o=b.useContext(hp);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Qi.Provider,{value:e},n)}function DC(t,e,r,n){var o;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var l;if(!r)return null;if(r.errors)t=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let c=t,u=(o=r)==null?void 0:o.errors;if(u!=null){let m=c.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);m>=0||xr(!1),c=c.slice(0,Math.min(c.length,m+1))}let f=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<c.length;m++){let y=c[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=m),y.route.id){let{loaderData:k,errors:g}=r,j=y.route.loader&&k[y.route.id]===void 0&&(!g||g[y.route.id]===void 0);if(y.route.lazy||j){f=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((m,y,k)=>{let g,j=!1,N=null,C=null;r&&(g=u&&y.route.id?u[y.route.id]:void 0,N=y.route.errorElement||MC,f&&(h<0&&k===0?(UC("route-fallback"),j=!0,C=null):h===k&&(j=!0,C=y.route.hydrateFallbackElement||null)));let S=e.concat(c.slice(0,k+1)),D=()=>{let O;return g?O=N:j?O=C:y.route.Component?O=b.createElement(y.route.Component,null):y.route.element?O=y.route.element:O=m,b.createElement(IC,{match:y,routeContext:{outlet:m,matches:S,isDataRoute:r!=null},children:O})};return r&&(y.route.ErrorBoundary||y.route.errorElement||k===0)?b.createElement(_C,{location:r.location,revalidation:r.revalidation,component:N,error:g,children:D(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):D()},null)}var ib=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ib||{}),ob=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ob||{});function zC(t){let e=b.useContext(hp);return e||xr(!1),e}function OC(t){let e=b.useContext(EC);return e||xr(!1),e}function LC(t){let e=b.useContext(Qi);return e||xr(!1),e}function ab(t){let e=LC(),r=e.matches[e.matches.length-1];return r.route.id||xr(!1),r.route.id}function FC(){var t;let e=b.useContext(rb),r=OC(),n=ab();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function BC(){let{router:t}=zC(ib.UseNavigateStable),e=ab(ob.UseNavigateStable),r=b.useRef(!1);return nb(()=>{r.current=!0}),b.useCallback(function(o,l){l===void 0&&(l={}),r.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,ql({fromRouteId:e},l)))},[t,e])}const Ox={};function UC(t,e,r){Ox[t]||(Ox[t]=!0)}function $C(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Js(t){xr(!1)}function WC(t){let{basename:e="/",children:r=null,location:n,navigationType:o=$i.Pop,navigator:l,static:c=!1,future:u}=t;oc()&&xr(!1);let f=e.replace(/^\/*/,"/"),h=b.useMemo(()=>({basename:f,navigator:l,static:c,future:ql({v7_relativeSplatPath:!1},u)}),[f,u,l,c]);typeof n=="string"&&(n=Wa(n));let{pathname:m="/",search:y="",hash:k="",state:g=null,key:j="default"}=n,N=b.useMemo(()=>{let C=fp(m,f);return C==null?null:{location:{pathname:C,search:y,hash:k,state:g,key:j},navigationType:o}},[f,m,y,k,g,j,o]);return N==null?null:b.createElement(zo.Provider,{value:h},b.createElement(Rd.Provider,{children:r,value:N}))}function HC(t){let{children:e,location:r}=t;return TC(Om(e),r)}new Promise(()=>{});function Om(t,e){e===void 0&&(e=[]);let r=[];return b.Children.forEach(t,(n,o)=>{if(!b.isValidElement(n))return;let l=[...e,o];if(n.type===b.Fragment){r.push.apply(r,Om(n.props.children,l));return}n.type!==Js&&xr(!1),!n.props.index||!n.props.children||xr(!1);let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Om(n.props.children,l)),r.push(c)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lm(){return Lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lm.apply(this,arguments)}function qC(t,e){if(t==null)return{};var r={},n=Object.keys(t),o,l;for(l=0;l<n.length;l++)o=n[l],!(e.indexOf(o)>=0)&&(r[o]=t[o]);return r}function GC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VC(t,e){return t.button===0&&(!e||e==="_self")&&!GC(t)}const KC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YC="6";try{window.__reactRouterVersion=YC}catch{}const QC="startTransition",Lx=dp[QC];function JC(t){let{basename:e,children:r,future:n,window:o}=t,l=b.useRef();l.current==null&&(l.current=ZN({window:o,v5Compat:!0}));let c=l.current,[u,f]=b.useState({action:c.action,location:c.location}),{v7_startTransition:h}=n||{},m=b.useCallback(y=>{h&&Lx?Lx(()=>f(y)):f(y)},[f,h]);return b.useLayoutEffect(()=>c.listen(m),[c,m]),b.useEffect(()=>$C(n),[n]),b.createElement(WC,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:c,future:n})}const XC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fl=b.forwardRef(function(e,r){let{onClick:n,relative:o,reloadDocument:l,replace:c,state:u,target:f,to:h,preventScrollReset:m,viewTransition:y}=e,k=qC(e,KC),{basename:g}=b.useContext(zo),j,N=!1;if(typeof h=="string"&&ZC.test(h)&&(j=h,XC))try{let O=new URL(window.location.href),F=h.startsWith("//")?new URL(O.protocol+h):new URL(h),L=fp(F.pathname,g);F.origin===O.origin&&L!=null?h=L+F.search+F.hash:N=!0}catch{}let C=AC(h,{relative:o}),S=eE(h,{replace:c,state:u,target:f,preventScrollReset:m,relative:o,viewTransition:y});function D(O){n&&n(O),O.defaultPrevented||S(O)}return b.createElement("a",Lm({},k,{href:j||C,onClick:N||l?n:D,ref:r,target:f}))});var Fx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Fx||(Fx={}));var Bx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Bx||(Bx={}));function eE(t,e){let{target:r,replace:n,state:o,preventScrollReset:l,relative:c,viewTransition:u}=e===void 0?{}:e,f=tn(),h=Ha(),m=sb(t,{relative:c});return b.useCallback(y=>{if(VC(y,r)){y.preventDefault();let k=n!==void 0?n:cd(h)===cd(m);f(t,{replace:k,state:o,preventScrollReset:l,relative:c,viewTransition:u})}},[h,f,m,n,o,r,t,l,c,u])}var Vu={exports:{}};const tE={},rE=Object.freeze(Object.defineProperty({__proto__:null,default:tE},Symbol.toStringTag,{value:"Module"})),nE=HN(rE);var sE=Vu.exports,Ux;function iE(){return Ux||(Ux=1,function(t){(function(e,r){function n(M,x){if(!M)throw new Error(x||"Assertion failed")}function o(M,x){M.super_=x;var E=function(){};E.prototype=x.prototype,M.prototype=new E,M.prototype.constructor=M}function l(M,x,E){if(l.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((x==="le"||x==="be")&&(E=x,x=10),this._init(M||0,x||10,E||"be"))}typeof e=="object"?e.exports=l:r.BN=l,l.BN=l,l.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=nE.Buffer}catch{}l.isBN=function(x){return x instanceof l?!0:x!==null&&typeof x=="object"&&x.constructor.wordSize===l.wordSize&&Array.isArray(x.words)},l.max=function(x,E){return x.cmp(E)>0?x:E},l.min=function(x,E){return x.cmp(E)<0?x:E},l.prototype._init=function(x,E,T){if(typeof x=="number")return this._initNumber(x,E,T);if(typeof x=="object")return this._initArray(x,E,T);E==="hex"&&(E=16),n(E===(E|0)&&E>=2&&E<=36),x=x.toString().replace(/\s+/g,"");var P=0;x[0]==="-"&&(P++,this.negative=1),P<x.length&&(E===16?this._parseHex(x,P,T):(this._parseBase(x,E,P),T==="le"&&this._initArray(this.toArray(),E,T)))},l.prototype._initNumber=function(x,E,T){x<0&&(this.negative=1,x=-x),x<67108864?(this.words=[x&67108863],this.length=1):x<4503599627370496?(this.words=[x&67108863,x/67108864&67108863],this.length=2):(n(x<9007199254740992),this.words=[x&67108863,x/67108864&67108863,1],this.length=3),T==="le"&&this._initArray(this.toArray(),E,T)},l.prototype._initArray=function(x,E,T){if(n(typeof x.length=="number"),x.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(x.length/3),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var _,z,W=0;if(T==="be")for(P=x.length-1,_=0;P>=0;P-=3)z=x[P]|x[P-1]<<8|x[P-2]<<16,this.words[_]|=z<<W&67108863,this.words[_+1]=z>>>26-W&67108863,W+=24,W>=26&&(W-=26,_++);else if(T==="le")for(P=0,_=0;P<x.length;P+=3)z=x[P]|x[P+1]<<8|x[P+2]<<16,this.words[_]|=z<<W&67108863,this.words[_+1]=z>>>26-W&67108863,W+=24,W>=26&&(W-=26,_++);return this._strip()};function u(M,x){var E=M.charCodeAt(x);if(E>=48&&E<=57)return E-48;if(E>=65&&E<=70)return E-55;if(E>=97&&E<=102)return E-87;n(!1,"Invalid character in "+M)}function f(M,x,E){var T=u(M,E);return E-1>=x&&(T|=u(M,E-1)<<4),T}l.prototype._parseHex=function(x,E,T){this.length=Math.ceil((x.length-E)/6),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var _=0,z=0,W;if(T==="be")for(P=x.length-1;P>=E;P-=2)W=f(x,E,P)<<_,this.words[z]|=W&67108863,_>=18?(_-=18,z+=1,this.words[z]|=W>>>26):_+=8;else{var R=x.length-E;for(P=R%2===0?E+1:E;P<x.length;P+=2)W=f(x,E,P)<<_,this.words[z]|=W&67108863,_>=18?(_-=18,z+=1,this.words[z]|=W>>>26):_+=8}this._strip()};function h(M,x,E,T){for(var P=0,_=0,z=Math.min(M.length,E),W=x;W<z;W++){var R=M.charCodeAt(W)-48;P*=T,R>=49?_=R-49+10:R>=17?_=R-17+10:_=R,n(R>=0&&_<T,"Invalid character"),P+=_}return P}l.prototype._parseBase=function(x,E,T){this.words=[0],this.length=1;for(var P=0,_=1;_<=67108863;_*=E)P++;P--,_=_/E|0;for(var z=x.length-T,W=z%P,R=Math.min(z,z-W)+T,w=0,U=T;U<R;U+=P)w=h(x,U,U+P,E),this.imuln(_),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w);if(W!==0){var se=1;for(w=h(x,U,x.length,E),U=0;U<W;U++)se*=E;this.imuln(se),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w)}this._strip()},l.prototype.copy=function(x){x.words=new Array(this.length);for(var E=0;E<this.length;E++)x.words[E]=this.words[E];x.length=this.length,x.negative=this.negative,x.red=this.red};function m(M,x){M.words=x.words,M.length=x.length,M.negative=x.negative,M.red=x.red}if(l.prototype._move=function(x){m(x,this)},l.prototype.clone=function(){var x=new l(null);return this.copy(x),x},l.prototype._expand=function(x){for(;this.length<x;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{l.prototype.inspect=y}else l.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],j=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(x,E){x=x||10,E=E|0||1;var T;if(x===16||x==="hex"){T="";for(var P=0,_=0,z=0;z<this.length;z++){var W=this.words[z],R=((W<<P|_)&16777215).toString(16);_=W>>>24-P&16777215,P+=2,P>=26&&(P-=26,z--),_!==0||z!==this.length-1?T=k[6-R.length]+R+T:T=R+T}for(_!==0&&(T=_.toString(16)+T);T.length%E!==0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}if(x===(x|0)&&x>=2&&x<=36){var w=g[x],U=j[x];T="";var se=this.clone();for(se.negative=0;!se.isZero();){var I=se.modrn(U).toString(x);se=se.idivn(U),se.isZero()?T=I+T:T=k[w-I.length]+I+T}for(this.isZero()&&(T="0"+T);T.length%E!==0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}n(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var x=this.words[0];return this.length===2?x+=this.words[1]*67108864:this.length===3&&this.words[2]===1?x+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-x:x},l.prototype.toJSON=function(){return this.toString(16,2)},c&&(l.prototype.toBuffer=function(x,E){return this.toArrayLike(c,x,E)}),l.prototype.toArray=function(x,E){return this.toArrayLike(Array,x,E)};var N=function(x,E){return x.allocUnsafe?x.allocUnsafe(E):new x(E)};l.prototype.toArrayLike=function(x,E,T){this._strip();var P=this.byteLength(),_=T||Math.max(1,P);n(P<=_,"byte array longer than desired length"),n(_>0,"Requested array length <= 0");var z=N(x,_),W=E==="le"?"LE":"BE";return this["_toArrayLike"+W](z,P),z},l.prototype._toArrayLikeLE=function(x,E){for(var T=0,P=0,_=0,z=0;_<this.length;_++){var W=this.words[_]<<z|P;x[T++]=W&255,T<x.length&&(x[T++]=W>>8&255),T<x.length&&(x[T++]=W>>16&255),z===6?(T<x.length&&(x[T++]=W>>24&255),P=0,z=0):(P=W>>>24,z+=2)}if(T<x.length)for(x[T++]=P;T<x.length;)x[T++]=0},l.prototype._toArrayLikeBE=function(x,E){for(var T=x.length-1,P=0,_=0,z=0;_<this.length;_++){var W=this.words[_]<<z|P;x[T--]=W&255,T>=0&&(x[T--]=W>>8&255),T>=0&&(x[T--]=W>>16&255),z===6?(T>=0&&(x[T--]=W>>24&255),P=0,z=0):(P=W>>>24,z+=2)}if(T>=0)for(x[T--]=P;T>=0;)x[T--]=0},Math.clz32?l.prototype._countBits=function(x){return 32-Math.clz32(x)}:l.prototype._countBits=function(x){var E=x,T=0;return E>=4096&&(T+=13,E>>>=13),E>=64&&(T+=7,E>>>=7),E>=8&&(T+=4,E>>>=4),E>=2&&(T+=2,E>>>=2),T+E},l.prototype._zeroBits=function(x){if(x===0)return 26;var E=x,T=0;return(E&8191)===0&&(T+=13,E>>>=13),(E&127)===0&&(T+=7,E>>>=7),(E&15)===0&&(T+=4,E>>>=4),(E&3)===0&&(T+=2,E>>>=2),(E&1)===0&&T++,T},l.prototype.bitLength=function(){var x=this.words[this.length-1],E=this._countBits(x);return(this.length-1)*26+E};function C(M){for(var x=new Array(M.bitLength()),E=0;E<x.length;E++){var T=E/26|0,P=E%26;x[E]=M.words[T]>>>P&1}return x}l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var x=0,E=0;E<this.length;E++){var T=this._zeroBits(this.words[E]);if(x+=T,T!==26)break}return x},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(x){return this.negative!==0?this.abs().inotn(x).iaddn(1):this.clone()},l.prototype.fromTwos=function(x){return this.testn(x-1)?this.notn(x).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(x){for(;this.length<x.length;)this.words[this.length++]=0;for(var E=0;E<x.length;E++)this.words[E]=this.words[E]|x.words[E];return this._strip()},l.prototype.ior=function(x){return n((this.negative|x.negative)===0),this.iuor(x)},l.prototype.or=function(x){return this.length>x.length?this.clone().ior(x):x.clone().ior(this)},l.prototype.uor=function(x){return this.length>x.length?this.clone().iuor(x):x.clone().iuor(this)},l.prototype.iuand=function(x){var E;this.length>x.length?E=x:E=this;for(var T=0;T<E.length;T++)this.words[T]=this.words[T]&x.words[T];return this.length=E.length,this._strip()},l.prototype.iand=function(x){return n((this.negative|x.negative)===0),this.iuand(x)},l.prototype.and=function(x){return this.length>x.length?this.clone().iand(x):x.clone().iand(this)},l.prototype.uand=function(x){return this.length>x.length?this.clone().iuand(x):x.clone().iuand(this)},l.prototype.iuxor=function(x){var E,T;this.length>x.length?(E=this,T=x):(E=x,T=this);for(var P=0;P<T.length;P++)this.words[P]=E.words[P]^T.words[P];if(this!==E)for(;P<E.length;P++)this.words[P]=E.words[P];return this.length=E.length,this._strip()},l.prototype.ixor=function(x){return n((this.negative|x.negative)===0),this.iuxor(x)},l.prototype.xor=function(x){return this.length>x.length?this.clone().ixor(x):x.clone().ixor(this)},l.prototype.uxor=function(x){return this.length>x.length?this.clone().iuxor(x):x.clone().iuxor(this)},l.prototype.inotn=function(x){n(typeof x=="number"&&x>=0);var E=Math.ceil(x/26)|0,T=x%26;this._expand(E),T>0&&E--;for(var P=0;P<E;P++)this.words[P]=~this.words[P]&67108863;return T>0&&(this.words[P]=~this.words[P]&67108863>>26-T),this._strip()},l.prototype.notn=function(x){return this.clone().inotn(x)},l.prototype.setn=function(x,E){n(typeof x=="number"&&x>=0);var T=x/26|0,P=x%26;return this._expand(T+1),E?this.words[T]=this.words[T]|1<<P:this.words[T]=this.words[T]&~(1<<P),this._strip()},l.prototype.iadd=function(x){var E;if(this.negative!==0&&x.negative===0)return this.negative=0,E=this.isub(x),this.negative^=1,this._normSign();if(this.negative===0&&x.negative!==0)return x.negative=0,E=this.isub(x),x.negative=1,E._normSign();var T,P;this.length>x.length?(T=this,P=x):(T=x,P=this);for(var _=0,z=0;z<P.length;z++)E=(T.words[z]|0)+(P.words[z]|0)+_,this.words[z]=E&67108863,_=E>>>26;for(;_!==0&&z<T.length;z++)E=(T.words[z]|0)+_,this.words[z]=E&67108863,_=E>>>26;if(this.length=T.length,_!==0)this.words[this.length]=_,this.length++;else if(T!==this)for(;z<T.length;z++)this.words[z]=T.words[z];return this},l.prototype.add=function(x){var E;return x.negative!==0&&this.negative===0?(x.negative=0,E=this.sub(x),x.negative^=1,E):x.negative===0&&this.negative!==0?(this.negative=0,E=x.sub(this),this.negative=1,E):this.length>x.length?this.clone().iadd(x):x.clone().iadd(this)},l.prototype.isub=function(x){if(x.negative!==0){x.negative=0;var E=this.iadd(x);return x.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(x),this.negative=1,this._normSign();var T=this.cmp(x);if(T===0)return this.negative=0,this.length=1,this.words[0]=0,this;var P,_;T>0?(P=this,_=x):(P=x,_=this);for(var z=0,W=0;W<_.length;W++)E=(P.words[W]|0)-(_.words[W]|0)+z,z=E>>26,this.words[W]=E&67108863;for(;z!==0&&W<P.length;W++)E=(P.words[W]|0)+z,z=E>>26,this.words[W]=E&67108863;if(z===0&&W<P.length&&P!==this)for(;W<P.length;W++)this.words[W]=P.words[W];return this.length=Math.max(this.length,W),P!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(x){return this.clone().isub(x)};function S(M,x,E){E.negative=x.negative^M.negative;var T=M.length+x.length|0;E.length=T,T=T-1|0;var P=M.words[0]|0,_=x.words[0]|0,z=P*_,W=z&67108863,R=z/67108864|0;E.words[0]=W;for(var w=1;w<T;w++){for(var U=R>>>26,se=R&67108863,I=Math.min(w,x.length-1),V=Math.max(0,w-M.length+1);V<=I;V++){var K=w-V|0;P=M.words[K]|0,_=x.words[V]|0,z=P*_+se,U+=z/67108864|0,se=z&67108863}E.words[w]=se|0,R=U|0}return R!==0?E.words[w]=R|0:E.length--,E._strip()}var D=function(x,E,T){var P=x.words,_=E.words,z=T.words,W=0,R,w,U,se=P[0]|0,I=se&8191,V=se>>>13,K=P[1]|0,Z=K&8191,oe=K>>>13,fe=P[2]|0,ue=fe&8191,de=fe>>>13,Pe=P[3]|0,ge=Pe&8191,ve=Pe>>>13,Je=P[4]|0,Ne=Je&8191,Fe=Je>>>13,bt=P[5]|0,Ze=bt&8191,Ge=bt>>>13,Oe=P[6]|0,Se=Oe&8191,Xe=Oe>>>13,qt=P[7]|0,Ve=qt&8191,Ke=qt>>>13,Fr=P[8]|0,kt=Fr&8191,ut=Fr>>>13,yr=P[9]|0,jt=yr&8191,ot=yr>>>13,hr=_[0]|0,St=hr&8191,dt=hr>>>13,Yr=_[1]|0,gt=Yr&8191,xt=Yr>>>13,Tr=_[2]|0,ft=Tr&8191,at=Tr>>>13,cr=_[3]|0,Tt=cr&8191,Ee=cr>>>13,nt=_[4]|0,Le=nt&8191,tt=nt>>>13,Xt=_[5]|0,rt=Xt&8191,lt=Xt>>>13,Ft=_[6]|0,ht=Ft&8191,Nt=Ft>>>13,nn=_[7]|0,Ct=nn&8191,_t=nn>>>13,xn=_[8]|0,zt=xn&8191,Pt=xn>>>13,Br=_[9]|0,Ot=Br&8191,Et=Br>>>13;T.negative=x.negative^E.negative,T.length=19,R=Math.imul(I,St),w=Math.imul(I,dt),w=w+Math.imul(V,St)|0,U=Math.imul(V,dt);var Qr=(W+R|0)+((w&8191)<<13)|0;W=(U+(w>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,R=Math.imul(Z,St),w=Math.imul(Z,dt),w=w+Math.imul(oe,St)|0,U=Math.imul(oe,dt),R=R+Math.imul(I,gt)|0,w=w+Math.imul(I,xt)|0,w=w+Math.imul(V,gt)|0,U=U+Math.imul(V,xt)|0;var Pr=(W+R|0)+((w&8191)<<13)|0;W=(U+(w>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,R=Math.imul(ue,St),w=Math.imul(ue,dt),w=w+Math.imul(de,St)|0,U=Math.imul(de,dt),R=R+Math.imul(Z,gt)|0,w=w+Math.imul(Z,xt)|0,w=w+Math.imul(oe,gt)|0,U=U+Math.imul(oe,xt)|0,R=R+Math.imul(I,ft)|0,w=w+Math.imul(I,at)|0,w=w+Math.imul(V,ft)|0,U=U+Math.imul(V,at)|0;var Jr=(W+R|0)+((w&8191)<<13)|0;W=(U+(w>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,R=Math.imul(ge,St),w=Math.imul(ge,dt),w=w+Math.imul(ve,St)|0,U=Math.imul(ve,dt),R=R+Math.imul(ue,gt)|0,w=w+Math.imul(ue,xt)|0,w=w+Math.imul(de,gt)|0,U=U+Math.imul(de,xt)|0,R=R+Math.imul(Z,ft)|0,w=w+Math.imul(Z,at)|0,w=w+Math.imul(oe,ft)|0,U=U+Math.imul(oe,at)|0,R=R+Math.imul(I,Tt)|0,w=w+Math.imul(I,Ee)|0,w=w+Math.imul(V,Tt)|0,U=U+Math.imul(V,Ee)|0;var yn=(W+R|0)+((w&8191)<<13)|0;W=(U+(w>>>13)|0)+(yn>>>26)|0,yn&=67108863,R=Math.imul(Ne,St),w=Math.imul(Ne,dt),w=w+Math.imul(Fe,St)|0,U=Math.imul(Fe,dt),R=R+Math.imul(ge,gt)|0,w=w+Math.imul(ge,xt)|0,w=w+Math.imul(ve,gt)|0,U=U+Math.imul(ve,xt)|0,R=R+Math.imul(ue,ft)|0,w=w+Math.imul(ue,at)|0,w=w+Math.imul(de,ft)|0,U=U+Math.imul(de,at)|0,R=R+Math.imul(Z,Tt)|0,w=w+Math.imul(Z,Ee)|0,w=w+Math.imul(oe,Tt)|0,U=U+Math.imul(oe,Ee)|0,R=R+Math.imul(I,Le)|0,w=w+Math.imul(I,tt)|0,w=w+Math.imul(V,Le)|0,U=U+Math.imul(V,tt)|0;var vn=(W+R|0)+((w&8191)<<13)|0;W=(U+(w>>>13)|0)+(vn>>>26)|0,vn&=67108863,R=Math.imul(Ze,St),w=Math.imul(Ze,dt),w=w+Math.imul(Ge,St)|0,U=Math.imul(Ge,dt),R=R+Math.imul(Ne,gt)|0,w=w+Math.imul(Ne,xt)|0,w=w+Math.imul(Fe,gt)|0,U=U+Math.imul(Fe,xt)|0,R=R+Math.imul(ge,ft)|0,w=w+Math.imul(ge,at)|0,w=w+Math.imul(ve,ft)|0,U=U+Math.imul(ve,at)|0,R=R+Math.imul(ue,Tt)|0,w=w+Math.imul(ue,Ee)|0,w=w+Math.imul(de,Tt)|0,U=U+Math.imul(de,Ee)|0,R=R+Math.imul(Z,Le)|0,w=w+Math.imul(Z,tt)|0,w=w+Math.imul(oe,Le)|0,U=U+Math.imul(oe,tt)|0,R=R+Math.imul(I,rt)|0,w=w+Math.imul(I,lt)|0,w=w+Math.imul(V,rt)|0,U=U+Math.imul(V,lt)|0;var eo=(W+R|0)+((w&8191)<<13)|0;W=(U+(w>>>13)|0)+(eo>>>26)|0,eo&=67108863,R=Math.imul(Se,St),w=Math.imul(Se,dt),w=w+Math.imul(Xe,St)|0,U=Math.imul(Xe,dt),R=R+Math.imul(Ze,gt)|0,w=w+Math.imul(Ze,xt)|0,w=w+Math.imul(Ge,gt)|0,U=U+Math.imul(Ge,xt)|0,R=R+Math.imul(Ne,ft)|0,w=w+Math.imul(Ne,at)|0,w=w+Math.imul(Fe,ft)|0,U=U+Math.imul(Fe,at)|0,R=R+Math.imul(ge,Tt)|0,w=w+Math.imul(ge,Ee)|0,w=w+Math.imul(ve,Tt)|0,U=U+Math.imul(ve,Ee)|0,R=R+Math.imul(ue,Le)|0,w=w+Math.imul(ue,tt)|0,w=w+Math.imul(de,Le)|0,U=U+Math.imul(de,tt)|0,R=R+Math.imul(Z,rt)|0,w=w+Math.imul(Z,lt)|0,w=w+Math.imul(oe,rt)|0,U=U+Math.imul(oe,lt)|0,R=R+Math.imul(I,ht)|0,w=w+Math.imul(I,Nt)|0,w=w+Math.imul(V,ht)|0,U=U+Math.imul(V,Nt)|0;var to=(W+R|0)+((w&8191)<<13)|0;W=(U+(w>>>13)|0)+(to>>>26)|0,to&=67108863,R=Math.imul(Ve,St),w=Math.imul(Ve,dt),w=w+Math.imul(Ke,St)|0,U=Math.imul(Ke,dt),R=R+Math.imul(Se,gt)|0,w=w+Math.imul(Se,xt)|0,w=w+Math.imul(Xe,gt)|0,U=U+Math.imul(Xe,xt)|0,R=R+Math.imul(Ze,ft)|0,w=w+Math.imul(Ze,at)|0,w=w+Math.imul(Ge,ft)|0,U=U+Math.imul(Ge,at)|0,R=R+Math.imul(Ne,Tt)|0,w=w+Math.imul(Ne,Ee)|0,w=w+Math.imul(Fe,Tt)|0,U=U+Math.imul(Fe,Ee)|0,R=R+Math.imul(ge,Le)|0,w=w+Math.imul(ge,tt)|0,w=w+Math.imul(ve,Le)|0,U=U+Math.imul(ve,tt)|0,R=R+Math.imul(ue,rt)|0,w=w+Math.imul(ue,lt)|0,w=w+Math.imul(de,rt)|0,U=U+Math.imul(de,lt)|0,R=R+Math.imul(Z,ht)|0,w=w+Math.imul(Z,Nt)|0,w=w+Math.imul(oe,ht)|0,U=U+Math.imul(oe,Nt)|0,R=R+Math.imul(I,Ct)|0,w=w+Math.imul(I,_t)|0,w=w+Math.imul(V,Ct)|0,U=U+Math.imul(V,_t)|0;var Wt=(W+R|0)+((w&8191)<<13)|0;W=(U+(w>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,R=Math.imul(kt,St),w=Math.imul(kt,dt),w=w+Math.imul(ut,St)|0,U=Math.imul(ut,dt),R=R+Math.imul(Ve,gt)|0,w=w+Math.imul(Ve,xt)|0,w=w+Math.imul(Ke,gt)|0,U=U+Math.imul(Ke,xt)|0,R=R+Math.imul(Se,ft)|0,w=w+Math.imul(Se,at)|0,w=w+Math.imul(Xe,ft)|0,U=U+Math.imul(Xe,at)|0,R=R+Math.imul(Ze,Tt)|0,w=w+Math.imul(Ze,Ee)|0,w=w+Math.imul(Ge,Tt)|0,U=U+Math.imul(Ge,Ee)|0,R=R+Math.imul(Ne,Le)|0,w=w+Math.imul(Ne,tt)|0,w=w+Math.imul(Fe,Le)|0,U=U+Math.imul(Fe,tt)|0,R=R+Math.imul(ge,rt)|0,w=w+Math.imul(ge,lt)|0,w=w+Math.imul(ve,rt)|0,U=U+Math.imul(ve,lt)|0,R=R+Math.imul(ue,ht)|0,w=w+Math.imul(ue,Nt)|0,w=w+Math.imul(de,ht)|0,U=U+Math.imul(de,Nt)|0,R=R+Math.imul(Z,Ct)|0,w=w+Math.imul(Z,_t)|0,w=w+Math.imul(oe,Ct)|0,U=U+Math.imul(oe,_t)|0,R=R+Math.imul(I,zt)|0,w=w+Math.imul(I,Pt)|0,w=w+Math.imul(V,zt)|0,U=U+Math.imul(V,Pt)|0;var Fs=(W+R|0)+((w&8191)<<13)|0;W=(U+(w>>>13)|0)+(Fs>>>26)|0,Fs&=67108863,R=Math.imul(jt,St),w=Math.imul(jt,dt),w=w+Math.imul(ot,St)|0,U=Math.imul(ot,dt),R=R+Math.imul(kt,gt)|0,w=w+Math.imul(kt,xt)|0,w=w+Math.imul(ut,gt)|0,U=U+Math.imul(ut,xt)|0,R=R+Math.imul(Ve,ft)|0,w=w+Math.imul(Ve,at)|0,w=w+Math.imul(Ke,ft)|0,U=U+Math.imul(Ke,at)|0,R=R+Math.imul(Se,Tt)|0,w=w+Math.imul(Se,Ee)|0,w=w+Math.imul(Xe,Tt)|0,U=U+Math.imul(Xe,Ee)|0,R=R+Math.imul(Ze,Le)|0,w=w+Math.imul(Ze,tt)|0,w=w+Math.imul(Ge,Le)|0,U=U+Math.imul(Ge,tt)|0,R=R+Math.imul(Ne,rt)|0,w=w+Math.imul(Ne,lt)|0,w=w+Math.imul(Fe,rt)|0,U=U+Math.imul(Fe,lt)|0,R=R+Math.imul(ge,ht)|0,w=w+Math.imul(ge,Nt)|0,w=w+Math.imul(ve,ht)|0,U=U+Math.imul(ve,Nt)|0,R=R+Math.imul(ue,Ct)|0,w=w+Math.imul(ue,_t)|0,w=w+Math.imul(de,Ct)|0,U=U+Math.imul(de,_t)|0,R=R+Math.imul(Z,zt)|0,w=w+Math.imul(Z,Pt)|0,w=w+Math.imul(oe,zt)|0,U=U+Math.imul(oe,Pt)|0,R=R+Math.imul(I,Ot)|0,w=w+Math.imul(I,Et)|0,w=w+Math.imul(V,Ot)|0,U=U+Math.imul(V,Et)|0;var gs=(W+R|0)+((w&8191)<<13)|0;W=(U+(w>>>13)|0)+(gs>>>26)|0,gs&=67108863,R=Math.imul(jt,gt),w=Math.imul(jt,xt),w=w+Math.imul(ot,gt)|0,U=Math.imul(ot,xt),R=R+Math.imul(kt,ft)|0,w=w+Math.imul(kt,at)|0,w=w+Math.imul(ut,ft)|0,U=U+Math.imul(ut,at)|0,R=R+Math.imul(Ve,Tt)|0,w=w+Math.imul(Ve,Ee)|0,w=w+Math.imul(Ke,Tt)|0,U=U+Math.imul(Ke,Ee)|0,R=R+Math.imul(Se,Le)|0,w=w+Math.imul(Se,tt)|0,w=w+Math.imul(Xe,Le)|0,U=U+Math.imul(Xe,tt)|0,R=R+Math.imul(Ze,rt)|0,w=w+Math.imul(Ze,lt)|0,w=w+Math.imul(Ge,rt)|0,U=U+Math.imul(Ge,lt)|0,R=R+Math.imul(Ne,ht)|0,w=w+Math.imul(Ne,Nt)|0,w=w+Math.imul(Fe,ht)|0,U=U+Math.imul(Fe,Nt)|0,R=R+Math.imul(ge,Ct)|0,w=w+Math.imul(ge,_t)|0,w=w+Math.imul(ve,Ct)|0,U=U+Math.imul(ve,_t)|0,R=R+Math.imul(ue,zt)|0,w=w+Math.imul(ue,Pt)|0,w=w+Math.imul(de,zt)|0,U=U+Math.imul(de,Pt)|0,R=R+Math.imul(Z,Ot)|0,w=w+Math.imul(Z,Et)|0,w=w+Math.imul(oe,Ot)|0,U=U+Math.imul(oe,Et)|0;var Bs=(W+R|0)+((w&8191)<<13)|0;W=(U+(w>>>13)|0)+(Bs>>>26)|0,Bs&=67108863,R=Math.imul(jt,ft),w=Math.imul(jt,at),w=w+Math.imul(ot,ft)|0,U=Math.imul(ot,at),R=R+Math.imul(kt,Tt)|0,w=w+Math.imul(kt,Ee)|0,w=w+Math.imul(ut,Tt)|0,U=U+Math.imul(ut,Ee)|0,R=R+Math.imul(Ve,Le)|0,w=w+Math.imul(Ve,tt)|0,w=w+Math.imul(Ke,Le)|0,U=U+Math.imul(Ke,tt)|0,R=R+Math.imul(Se,rt)|0,w=w+Math.imul(Se,lt)|0,w=w+Math.imul(Xe,rt)|0,U=U+Math.imul(Xe,lt)|0,R=R+Math.imul(Ze,ht)|0,w=w+Math.imul(Ze,Nt)|0,w=w+Math.imul(Ge,ht)|0,U=U+Math.imul(Ge,Nt)|0,R=R+Math.imul(Ne,Ct)|0,w=w+Math.imul(Ne,_t)|0,w=w+Math.imul(Fe,Ct)|0,U=U+Math.imul(Fe,_t)|0,R=R+Math.imul(ge,zt)|0,w=w+Math.imul(ge,Pt)|0,w=w+Math.imul(ve,zt)|0,U=U+Math.imul(ve,Pt)|0,R=R+Math.imul(ue,Ot)|0,w=w+Math.imul(ue,Et)|0,w=w+Math.imul(de,Ot)|0,U=U+Math.imul(de,Et)|0;var Qn=(W+R|0)+((w&8191)<<13)|0;W=(U+(w>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,R=Math.imul(jt,Tt),w=Math.imul(jt,Ee),w=w+Math.imul(ot,Tt)|0,U=Math.imul(ot,Ee),R=R+Math.imul(kt,Le)|0,w=w+Math.imul(kt,tt)|0,w=w+Math.imul(ut,Le)|0,U=U+Math.imul(ut,tt)|0,R=R+Math.imul(Ve,rt)|0,w=w+Math.imul(Ve,lt)|0,w=w+Math.imul(Ke,rt)|0,U=U+Math.imul(Ke,lt)|0,R=R+Math.imul(Se,ht)|0,w=w+Math.imul(Se,Nt)|0,w=w+Math.imul(Xe,ht)|0,U=U+Math.imul(Xe,Nt)|0,R=R+Math.imul(Ze,Ct)|0,w=w+Math.imul(Ze,_t)|0,w=w+Math.imul(Ge,Ct)|0,U=U+Math.imul(Ge,_t)|0,R=R+Math.imul(Ne,zt)|0,w=w+Math.imul(Ne,Pt)|0,w=w+Math.imul(Fe,zt)|0,U=U+Math.imul(Fe,Pt)|0,R=R+Math.imul(ge,Ot)|0,w=w+Math.imul(ge,Et)|0,w=w+Math.imul(ve,Ot)|0,U=U+Math.imul(ve,Et)|0;var pi=(W+R|0)+((w&8191)<<13)|0;W=(U+(w>>>13)|0)+(pi>>>26)|0,pi&=67108863,R=Math.imul(jt,Le),w=Math.imul(jt,tt),w=w+Math.imul(ot,Le)|0,U=Math.imul(ot,tt),R=R+Math.imul(kt,rt)|0,w=w+Math.imul(kt,lt)|0,w=w+Math.imul(ut,rt)|0,U=U+Math.imul(ut,lt)|0,R=R+Math.imul(Ve,ht)|0,w=w+Math.imul(Ve,Nt)|0,w=w+Math.imul(Ke,ht)|0,U=U+Math.imul(Ke,Nt)|0,R=R+Math.imul(Se,Ct)|0,w=w+Math.imul(Se,_t)|0,w=w+Math.imul(Xe,Ct)|0,U=U+Math.imul(Xe,_t)|0,R=R+Math.imul(Ze,zt)|0,w=w+Math.imul(Ze,Pt)|0,w=w+Math.imul(Ge,zt)|0,U=U+Math.imul(Ge,Pt)|0,R=R+Math.imul(Ne,Ot)|0,w=w+Math.imul(Ne,Et)|0,w=w+Math.imul(Fe,Ot)|0,U=U+Math.imul(Fe,Et)|0;var xe=(W+R|0)+((w&8191)<<13)|0;W=(U+(w>>>13)|0)+(xe>>>26)|0,xe&=67108863,R=Math.imul(jt,rt),w=Math.imul(jt,lt),w=w+Math.imul(ot,rt)|0,U=Math.imul(ot,lt),R=R+Math.imul(kt,ht)|0,w=w+Math.imul(kt,Nt)|0,w=w+Math.imul(ut,ht)|0,U=U+Math.imul(ut,Nt)|0,R=R+Math.imul(Ve,Ct)|0,w=w+Math.imul(Ve,_t)|0,w=w+Math.imul(Ke,Ct)|0,U=U+Math.imul(Ke,_t)|0,R=R+Math.imul(Se,zt)|0,w=w+Math.imul(Se,Pt)|0,w=w+Math.imul(Xe,zt)|0,U=U+Math.imul(Xe,Pt)|0,R=R+Math.imul(Ze,Ot)|0,w=w+Math.imul(Ze,Et)|0,w=w+Math.imul(Ge,Ot)|0,U=U+Math.imul(Ge,Et)|0;var Ce=(W+R|0)+((w&8191)<<13)|0;W=(U+(w>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,R=Math.imul(jt,ht),w=Math.imul(jt,Nt),w=w+Math.imul(ot,ht)|0,U=Math.imul(ot,Nt),R=R+Math.imul(kt,Ct)|0,w=w+Math.imul(kt,_t)|0,w=w+Math.imul(ut,Ct)|0,U=U+Math.imul(ut,_t)|0,R=R+Math.imul(Ve,zt)|0,w=w+Math.imul(Ve,Pt)|0,w=w+Math.imul(Ke,zt)|0,U=U+Math.imul(Ke,Pt)|0,R=R+Math.imul(Se,Ot)|0,w=w+Math.imul(Se,Et)|0,w=w+Math.imul(Xe,Ot)|0,U=U+Math.imul(Xe,Et)|0;var ke=(W+R|0)+((w&8191)<<13)|0;W=(U+(w>>>13)|0)+(ke>>>26)|0,ke&=67108863,R=Math.imul(jt,Ct),w=Math.imul(jt,_t),w=w+Math.imul(ot,Ct)|0,U=Math.imul(ot,_t),R=R+Math.imul(kt,zt)|0,w=w+Math.imul(kt,Pt)|0,w=w+Math.imul(ut,zt)|0,U=U+Math.imul(ut,Pt)|0,R=R+Math.imul(Ve,Ot)|0,w=w+Math.imul(Ve,Et)|0,w=w+Math.imul(Ke,Ot)|0,U=U+Math.imul(Ke,Et)|0;var Ht=(W+R|0)+((w&8191)<<13)|0;W=(U+(w>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,R=Math.imul(jt,zt),w=Math.imul(jt,Pt),w=w+Math.imul(ot,zt)|0,U=Math.imul(ot,Pt),R=R+Math.imul(kt,Ot)|0,w=w+Math.imul(kt,Et)|0,w=w+Math.imul(ut,Ot)|0,U=U+Math.imul(ut,Et)|0;var yt=(W+R|0)+((w&8191)<<13)|0;W=(U+(w>>>13)|0)+(yt>>>26)|0,yt&=67108863,R=Math.imul(jt,Ot),w=Math.imul(jt,Et),w=w+Math.imul(ot,Ot)|0,U=Math.imul(ot,Et);var kr=(W+R|0)+((w&8191)<<13)|0;return W=(U+(w>>>13)|0)+(kr>>>26)|0,kr&=67108863,z[0]=Qr,z[1]=Pr,z[2]=Jr,z[3]=yn,z[4]=vn,z[5]=eo,z[6]=to,z[7]=Wt,z[8]=Fs,z[9]=gs,z[10]=Bs,z[11]=Qn,z[12]=pi,z[13]=xe,z[14]=Ce,z[15]=ke,z[16]=Ht,z[17]=yt,z[18]=kr,W!==0&&(z[19]=W,T.length++),T};Math.imul||(D=S);function O(M,x,E){E.negative=x.negative^M.negative,E.length=M.length+x.length;for(var T=0,P=0,_=0;_<E.length-1;_++){var z=P;P=0;for(var W=T&67108863,R=Math.min(_,x.length-1),w=Math.max(0,_-M.length+1);w<=R;w++){var U=_-w,se=M.words[U]|0,I=x.words[w]|0,V=se*I,K=V&67108863;z=z+(V/67108864|0)|0,K=K+W|0,W=K&67108863,z=z+(K>>>26)|0,P+=z>>>26,z&=67108863}E.words[_]=W,T=z,z=P}return T!==0?E.words[_]=T:E.length--,E._strip()}function F(M,x,E){return O(M,x,E)}l.prototype.mulTo=function(x,E){var T,P=this.length+x.length;return this.length===10&&x.length===10?T=D(this,x,E):P<63?T=S(this,x,E):P<1024?T=O(this,x,E):T=F(this,x,E),T},l.prototype.mul=function(x){var E=new l(null);return E.words=new Array(this.length+x.length),this.mulTo(x,E)},l.prototype.mulf=function(x){var E=new l(null);return E.words=new Array(this.length+x.length),F(this,x,E)},l.prototype.imul=function(x){return this.clone().mulTo(x,this)},l.prototype.imuln=function(x){var E=x<0;E&&(x=-x),n(typeof x=="number"),n(x<67108864);for(var T=0,P=0;P<this.length;P++){var _=(this.words[P]|0)*x,z=(_&67108863)+(T&67108863);T>>=26,T+=_/67108864|0,T+=z>>>26,this.words[P]=z&67108863}return T!==0&&(this.words[P]=T,this.length++),this.length=x===0?1:this.length,E?this.ineg():this},l.prototype.muln=function(x){return this.clone().imuln(x)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(x){var E=C(x);if(E.length===0)return new l(1);for(var T=this,P=0;P<E.length&&E[P]===0;P++,T=T.sqr());if(++P<E.length)for(var _=T.sqr();P<E.length;P++,_=_.sqr())E[P]!==0&&(T=T.mul(_));return T},l.prototype.iushln=function(x){n(typeof x=="number"&&x>=0);var E=x%26,T=(x-E)/26,P=67108863>>>26-E<<26-E,_;if(E!==0){var z=0;for(_=0;_<this.length;_++){var W=this.words[_]&P,R=(this.words[_]|0)-W<<E;this.words[_]=R|z,z=W>>>26-E}z&&(this.words[_]=z,this.length++)}if(T!==0){for(_=this.length-1;_>=0;_--)this.words[_+T]=this.words[_];for(_=0;_<T;_++)this.words[_]=0;this.length+=T}return this._strip()},l.prototype.ishln=function(x){return n(this.negative===0),this.iushln(x)},l.prototype.iushrn=function(x,E,T){n(typeof x=="number"&&x>=0);var P;E?P=(E-E%26)/26:P=0;var _=x%26,z=Math.min((x-_)/26,this.length),W=67108863^67108863>>>_<<_,R=T;if(P-=z,P=Math.max(0,P),R){for(var w=0;w<z;w++)R.words[w]=this.words[w];R.length=z}if(z!==0)if(this.length>z)for(this.length-=z,w=0;w<this.length;w++)this.words[w]=this.words[w+z];else this.words[0]=0,this.length=1;var U=0;for(w=this.length-1;w>=0&&(U!==0||w>=P);w--){var se=this.words[w]|0;this.words[w]=U<<26-_|se>>>_,U=se&W}return R&&U!==0&&(R.words[R.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(x,E,T){return n(this.negative===0),this.iushrn(x,E,T)},l.prototype.shln=function(x){return this.clone().ishln(x)},l.prototype.ushln=function(x){return this.clone().iushln(x)},l.prototype.shrn=function(x){return this.clone().ishrn(x)},l.prototype.ushrn=function(x){return this.clone().iushrn(x)},l.prototype.testn=function(x){n(typeof x=="number"&&x>=0);var E=x%26,T=(x-E)/26,P=1<<E;if(this.length<=T)return!1;var _=this.words[T];return!!(_&P)},l.prototype.imaskn=function(x){n(typeof x=="number"&&x>=0);var E=x%26,T=(x-E)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=T)return this;if(E!==0&&T++,this.length=Math.min(T,this.length),E!==0){var P=67108863^67108863>>>E<<E;this.words[this.length-1]&=P}return this._strip()},l.prototype.maskn=function(x){return this.clone().imaskn(x)},l.prototype.iaddn=function(x){return n(typeof x=="number"),n(x<67108864),x<0?this.isubn(-x):this.negative!==0?this.length===1&&(this.words[0]|0)<=x?(this.words[0]=x-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(x),this.negative=1,this):this._iaddn(x)},l.prototype._iaddn=function(x){this.words[0]+=x;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},l.prototype.isubn=function(x){if(n(typeof x=="number"),n(x<67108864),x<0)return this.iaddn(-x);if(this.negative!==0)return this.negative=0,this.iaddn(x),this.negative=1,this;if(this.words[0]-=x,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this._strip()},l.prototype.addn=function(x){return this.clone().iaddn(x)},l.prototype.subn=function(x){return this.clone().isubn(x)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(x,E,T){var P=x.length+T,_;this._expand(P);var z,W=0;for(_=0;_<x.length;_++){z=(this.words[_+T]|0)+W;var R=(x.words[_]|0)*E;z-=R&67108863,W=(z>>26)-(R/67108864|0),this.words[_+T]=z&67108863}for(;_<this.length-T;_++)z=(this.words[_+T]|0)+W,W=z>>26,this.words[_+T]=z&67108863;if(W===0)return this._strip();for(n(W===-1),W=0,_=0;_<this.length;_++)z=-(this.words[_]|0)+W,W=z>>26,this.words[_]=z&67108863;return this.negative=1,this._strip()},l.prototype._wordDiv=function(x,E){var T=this.length-x.length,P=this.clone(),_=x,z=_.words[_.length-1]|0,W=this._countBits(z);T=26-W,T!==0&&(_=_.ushln(T),P.iushln(T),z=_.words[_.length-1]|0);var R=P.length-_.length,w;if(E!=="mod"){w=new l(null),w.length=R+1,w.words=new Array(w.length);for(var U=0;U<w.length;U++)w.words[U]=0}var se=P.clone()._ishlnsubmul(_,1,R);se.negative===0&&(P=se,w&&(w.words[R]=1));for(var I=R-1;I>=0;I--){var V=(P.words[_.length+I]|0)*67108864+(P.words[_.length+I-1]|0);for(V=Math.min(V/z|0,67108863),P._ishlnsubmul(_,V,I);P.negative!==0;)V--,P.negative=0,P._ishlnsubmul(_,1,I),P.isZero()||(P.negative^=1);w&&(w.words[I]=V)}return w&&w._strip(),P._strip(),E!=="div"&&T!==0&&P.iushrn(T),{div:w||null,mod:P}},l.prototype.divmod=function(x,E,T){if(n(!x.isZero()),this.isZero())return{div:new l(0),mod:new l(0)};var P,_,z;return this.negative!==0&&x.negative===0?(z=this.neg().divmod(x,E),E!=="mod"&&(P=z.div.neg()),E!=="div"&&(_=z.mod.neg(),T&&_.negative!==0&&_.iadd(x)),{div:P,mod:_}):this.negative===0&&x.negative!==0?(z=this.divmod(x.neg(),E),E!=="mod"&&(P=z.div.neg()),{div:P,mod:z.mod}):(this.negative&x.negative)!==0?(z=this.neg().divmod(x.neg(),E),E!=="div"&&(_=z.mod.neg(),T&&_.negative!==0&&_.isub(x)),{div:z.div,mod:_}):x.length>this.length||this.cmp(x)<0?{div:new l(0),mod:this}:x.length===1?E==="div"?{div:this.divn(x.words[0]),mod:null}:E==="mod"?{div:null,mod:new l(this.modrn(x.words[0]))}:{div:this.divn(x.words[0]),mod:new l(this.modrn(x.words[0]))}:this._wordDiv(x,E)},l.prototype.div=function(x){return this.divmod(x,"div",!1).div},l.prototype.mod=function(x){return this.divmod(x,"mod",!1).mod},l.prototype.umod=function(x){return this.divmod(x,"mod",!0).mod},l.prototype.divRound=function(x){var E=this.divmod(x);if(E.mod.isZero())return E.div;var T=E.div.negative!==0?E.mod.isub(x):E.mod,P=x.ushrn(1),_=x.andln(1),z=T.cmp(P);return z<0||_===1&&z===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},l.prototype.modrn=function(x){var E=x<0;E&&(x=-x),n(x<=67108863);for(var T=(1<<26)%x,P=0,_=this.length-1;_>=0;_--)P=(T*P+(this.words[_]|0))%x;return E?-P:P},l.prototype.modn=function(x){return this.modrn(x)},l.prototype.idivn=function(x){var E=x<0;E&&(x=-x),n(x<=67108863);for(var T=0,P=this.length-1;P>=0;P--){var _=(this.words[P]|0)+T*67108864;this.words[P]=_/x|0,T=_%x}return this._strip(),E?this.ineg():this},l.prototype.divn=function(x){return this.clone().idivn(x)},l.prototype.egcd=function(x){n(x.negative===0),n(!x.isZero());var E=this,T=x.clone();E.negative!==0?E=E.umod(x):E=E.clone();for(var P=new l(1),_=new l(0),z=new l(0),W=new l(1),R=0;E.isEven()&&T.isEven();)E.iushrn(1),T.iushrn(1),++R;for(var w=T.clone(),U=E.clone();!E.isZero();){for(var se=0,I=1;(E.words[0]&I)===0&&se<26;++se,I<<=1);if(se>0)for(E.iushrn(se);se-- >0;)(P.isOdd()||_.isOdd())&&(P.iadd(w),_.isub(U)),P.iushrn(1),_.iushrn(1);for(var V=0,K=1;(T.words[0]&K)===0&&V<26;++V,K<<=1);if(V>0)for(T.iushrn(V);V-- >0;)(z.isOdd()||W.isOdd())&&(z.iadd(w),W.isub(U)),z.iushrn(1),W.iushrn(1);E.cmp(T)>=0?(E.isub(T),P.isub(z),_.isub(W)):(T.isub(E),z.isub(P),W.isub(_))}return{a:z,b:W,gcd:T.iushln(R)}},l.prototype._invmp=function(x){n(x.negative===0),n(!x.isZero());var E=this,T=x.clone();E.negative!==0?E=E.umod(x):E=E.clone();for(var P=new l(1),_=new l(0),z=T.clone();E.cmpn(1)>0&&T.cmpn(1)>0;){for(var W=0,R=1;(E.words[0]&R)===0&&W<26;++W,R<<=1);if(W>0)for(E.iushrn(W);W-- >0;)P.isOdd()&&P.iadd(z),P.iushrn(1);for(var w=0,U=1;(T.words[0]&U)===0&&w<26;++w,U<<=1);if(w>0)for(T.iushrn(w);w-- >0;)_.isOdd()&&_.iadd(z),_.iushrn(1);E.cmp(T)>=0?(E.isub(T),P.isub(_)):(T.isub(E),_.isub(P))}var se;return E.cmpn(1)===0?se=P:se=_,se.cmpn(0)<0&&se.iadd(x),se},l.prototype.gcd=function(x){if(this.isZero())return x.abs();if(x.isZero())return this.abs();var E=this.clone(),T=x.clone();E.negative=0,T.negative=0;for(var P=0;E.isEven()&&T.isEven();P++)E.iushrn(1),T.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;T.isEven();)T.iushrn(1);var _=E.cmp(T);if(_<0){var z=E;E=T,T=z}else if(_===0||T.cmpn(1)===0)break;E.isub(T)}while(!0);return T.iushln(P)},l.prototype.invm=function(x){return this.egcd(x).a.umod(x)},l.prototype.isEven=function(){return(this.words[0]&1)===0},l.prototype.isOdd=function(){return(this.words[0]&1)===1},l.prototype.andln=function(x){return this.words[0]&x},l.prototype.bincn=function(x){n(typeof x=="number");var E=x%26,T=(x-E)/26,P=1<<E;if(this.length<=T)return this._expand(T+1),this.words[T]|=P,this;for(var _=P,z=T;_!==0&&z<this.length;z++){var W=this.words[z]|0;W+=_,_=W>>>26,W&=67108863,this.words[z]=W}return _!==0&&(this.words[z]=_,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(x){var E=x<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this._strip();var T;if(this.length>1)T=1;else{E&&(x=-x),n(x<=67108863,"Number is too big");var P=this.words[0]|0;T=P===x?0:P<x?-1:1}return this.negative!==0?-T|0:T},l.prototype.cmp=function(x){if(this.negative!==0&&x.negative===0)return-1;if(this.negative===0&&x.negative!==0)return 1;var E=this.ucmp(x);return this.negative!==0?-E|0:E},l.prototype.ucmp=function(x){if(this.length>x.length)return 1;if(this.length<x.length)return-1;for(var E=0,T=this.length-1;T>=0;T--){var P=this.words[T]|0,_=x.words[T]|0;if(P!==_){P<_?E=-1:P>_&&(E=1);break}}return E},l.prototype.gtn=function(x){return this.cmpn(x)===1},l.prototype.gt=function(x){return this.cmp(x)===1},l.prototype.gten=function(x){return this.cmpn(x)>=0},l.prototype.gte=function(x){return this.cmp(x)>=0},l.prototype.ltn=function(x){return this.cmpn(x)===-1},l.prototype.lt=function(x){return this.cmp(x)===-1},l.prototype.lten=function(x){return this.cmpn(x)<=0},l.prototype.lte=function(x){return this.cmp(x)<=0},l.prototype.eqn=function(x){return this.cmpn(x)===0},l.prototype.eq=function(x){return this.cmp(x)===0},l.red=function(x){return new te(x)},l.prototype.toRed=function(x){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),x.convertTo(this)._forceRed(x)},l.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(x){return this.red=x,this},l.prototype.forceRed=function(x){return n(!this.red,"Already a number in reduction context"),this._forceRed(x)},l.prototype.redAdd=function(x){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,x)},l.prototype.redIAdd=function(x){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,x)},l.prototype.redSub=function(x){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,x)},l.prototype.redISub=function(x){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,x)},l.prototype.redShl=function(x){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,x)},l.prototype.redMul=function(x){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.mul(this,x)},l.prototype.redIMul=function(x){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.imul(this,x)},l.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(x){return n(this.red&&!x.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,x)};var L={k256:null,p224:null,p192:null,p25519:null};function H(M,x){this.name=M,this.p=new l(x,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}H.prototype._tmp=function(){var x=new l(null);return x.words=new Array(Math.ceil(this.n/13)),x},H.prototype.ireduce=function(x){var E=x,T;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),T=E.bitLength();while(T>this.n);var P=T<this.n?-1:E.ucmp(this.p);return P===0?(E.words[0]=0,E.length=1):P>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},H.prototype.split=function(x,E){x.iushrn(this.n,0,E)},H.prototype.imulK=function(x){return x.imul(this.k)};function q(){H.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(q,H),q.prototype.split=function(x,E){for(var T=4194303,P=Math.min(x.length,9),_=0;_<P;_++)E.words[_]=x.words[_];if(E.length=P,x.length<=9){x.words[0]=0,x.length=1;return}var z=x.words[9];for(E.words[E.length++]=z&T,_=10;_<x.length;_++){var W=x.words[_]|0;x.words[_-10]=(W&T)<<4|z>>>22,z=W}z>>>=22,x.words[_-10]=z,z===0&&x.length>10?x.length-=10:x.length-=9},q.prototype.imulK=function(x){x.words[x.length]=0,x.words[x.length+1]=0,x.length+=2;for(var E=0,T=0;T<x.length;T++){var P=x.words[T]|0;E+=P*977,x.words[T]=E&67108863,E=P*64+(E/67108864|0)}return x.words[x.length-1]===0&&(x.length--,x.words[x.length-1]===0&&x.length--),x};function Y(){H.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(Y,H);function Q(){H.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(Q,H);function re(){H.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(re,H),re.prototype.imulK=function(x){for(var E=0,T=0;T<x.length;T++){var P=(x.words[T]|0)*19+E,_=P&67108863;P>>>=26,x.words[T]=_,E=P}return E!==0&&(x.words[x.length++]=E),x},l._prime=function(x){if(L[x])return L[x];var E;if(x==="k256")E=new q;else if(x==="p224")E=new Y;else if(x==="p192")E=new Q;else if(x==="p25519")E=new re;else throw new Error("Unknown prime "+x);return L[x]=E,E};function te(M){if(typeof M=="string"){var x=l._prime(M);this.m=x.p,this.prime=x}else n(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}te.prototype._verify1=function(x){n(x.negative===0,"red works only with positives"),n(x.red,"red works only with red numbers")},te.prototype._verify2=function(x,E){n((x.negative|E.negative)===0,"red works only with positives"),n(x.red&&x.red===E.red,"red works only with red numbers")},te.prototype.imod=function(x){return this.prime?this.prime.ireduce(x)._forceRed(this):(m(x,x.umod(this.m)._forceRed(this)),x)},te.prototype.neg=function(x){return x.isZero()?x.clone():this.m.sub(x)._forceRed(this)},te.prototype.add=function(x,E){this._verify2(x,E);var T=x.add(E);return T.cmp(this.m)>=0&&T.isub(this.m),T._forceRed(this)},te.prototype.iadd=function(x,E){this._verify2(x,E);var T=x.iadd(E);return T.cmp(this.m)>=0&&T.isub(this.m),T},te.prototype.sub=function(x,E){this._verify2(x,E);var T=x.sub(E);return T.cmpn(0)<0&&T.iadd(this.m),T._forceRed(this)},te.prototype.isub=function(x,E){this._verify2(x,E);var T=x.isub(E);return T.cmpn(0)<0&&T.iadd(this.m),T},te.prototype.shl=function(x,E){return this._verify1(x),this.imod(x.ushln(E))},te.prototype.imul=function(x,E){return this._verify2(x,E),this.imod(x.imul(E))},te.prototype.mul=function(x,E){return this._verify2(x,E),this.imod(x.mul(E))},te.prototype.isqr=function(x){return this.imul(x,x.clone())},te.prototype.sqr=function(x){return this.mul(x,x)},te.prototype.sqrt=function(x){if(x.isZero())return x.clone();var E=this.m.andln(3);if(n(E%2===1),E===3){var T=this.m.add(new l(1)).iushrn(2);return this.pow(x,T)}for(var P=this.m.subn(1),_=0;!P.isZero()&&P.andln(1)===0;)_++,P.iushrn(1);n(!P.isZero());var z=new l(1).toRed(this),W=z.redNeg(),R=this.m.subn(1).iushrn(1),w=this.m.bitLength();for(w=new l(2*w*w).toRed(this);this.pow(w,R).cmp(W)!==0;)w.redIAdd(W);for(var U=this.pow(w,P),se=this.pow(x,P.addn(1).iushrn(1)),I=this.pow(x,P),V=_;I.cmp(z)!==0;){for(var K=I,Z=0;K.cmp(z)!==0;Z++)K=K.redSqr();n(Z<V);var oe=this.pow(U,new l(1).iushln(V-Z-1));se=se.redMul(oe),U=oe.redSqr(),I=I.redMul(U),V=Z}return se},te.prototype.invm=function(x){var E=x._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},te.prototype.pow=function(x,E){if(E.isZero())return new l(1).toRed(this);if(E.cmpn(1)===0)return x.clone();var T=4,P=new Array(1<<T);P[0]=new l(1).toRed(this),P[1]=x;for(var _=2;_<P.length;_++)P[_]=this.mul(P[_-1],x);var z=P[0],W=0,R=0,w=E.bitLength()%26;for(w===0&&(w=26),_=E.length-1;_>=0;_--){for(var U=E.words[_],se=w-1;se>=0;se--){var I=U>>se&1;if(z!==P[0]&&(z=this.sqr(z)),I===0&&W===0){R=0;continue}W<<=1,W|=I,R++,!(R!==T&&(_!==0||se!==0))&&(z=this.mul(z,P[W]),R=0,W=0)}w=26}return z},te.prototype.convertTo=function(x){var E=x.umod(this.m);return E===x?E.clone():E},te.prototype.convertFrom=function(x){var E=x.clone();return E.red=null,E},l.mont=function(x){return new $(x)};function $(M){te.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o($,te),$.prototype.convertTo=function(x){return this.imod(x.ushln(this.shift))},$.prototype.convertFrom=function(x){var E=this.imod(x.mul(this.rinv));return E.red=null,E},$.prototype.imul=function(x,E){if(x.isZero()||E.isZero())return x.words[0]=0,x.length=1,x;var T=x.imul(E),P=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=T.isub(P).iushrn(this.shift),z=_;return _.cmp(this.m)>=0?z=_.isub(this.m):_.cmpn(0)<0&&(z=_.iadd(this.m)),z._forceRed(this)},$.prototype.mul=function(x,E){if(x.isZero()||E.isZero())return new l(0)._forceRed(this);var T=x.mul(E),P=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=T.isub(P).iushrn(this.shift),z=_;return _.cmp(this.m)>=0?z=_.isub(this.m):_.cmpn(0)<0&&(z=_.iadd(this.m)),z._forceRed(this)},$.prototype.invm=function(x){var E=this.imod(x._invmp(this.m).mul(this.r2));return E._forceRed(this)}})(t,sE)}(Vu)),Vu.exports}var oE=iE();const Qe=$a(oE),aE="logger/5.8.0";let $x=!1,Wx=!1;const Ku={debug:1,default:2,info:2,warning:3,error:4,off:5};let Hx=Ku.default,Yh=null;function lE(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const qx=lE();var Fm;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(Fm||(Fm={}));var cs;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(cs||(cs={}));const Gx="0123456789abcdef";class X{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Ku[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Hx>Ku[n])&&console.log.apply(console,r)}debug(...e){this._log(X.levels.DEBUG,e)}info(...e){this._log(X.levels.INFO,e)}warn(...e){this._log(X.levels.WARNING,e)}makeError(e,r,n){if(Wx)return this.makeError("censored error",r,{});r||(r=X.errors.UNKNOWN_ERROR),n||(n={});const o=[];Object.keys(n).forEach(f=>{const h=n[f];try{if(h instanceof Uint8Array){let m="";for(let y=0;y<h.length;y++)m+=Gx[h[y]>>4],m+=Gx[h[y]&15];o.push(f+"=Uint8Array(0x"+m+")")}else o.push(f+"="+JSON.stringify(h))}catch{o.push(f+"="+JSON.stringify(n[f].toString()))}}),o.push(`code=${r}`),o.push(`version=${this.version}`);const l=e;let c="";switch(r){case cs.NUMERIC_FAULT:{c="NUMERIC_FAULT";const f=e;switch(f){case"overflow":case"underflow":case"division-by-zero":c+="-"+f;break;case"negative-power":case"negative-width":c+="-unsupported";break;case"unbound-bitwise-result":c+="-unbound-result";break}break}case cs.CALL_EXCEPTION:case cs.INSUFFICIENT_FUNDS:case cs.MISSING_NEW:case cs.NONCE_EXPIRED:case cs.REPLACEMENT_UNDERPRICED:case cs.TRANSACTION_REPLACED:case cs.UNPREDICTABLE_GAS_LIMIT:c=r;break}c&&(e+=" [ See: https://links.ethers.org/v5-errors-"+c+" ]"),o.length&&(e+=" ("+o.join(", ")+")");const u=new Error(e);return u.reason=l,u.code=r,Object.keys(n).forEach(function(f){u[f]=n[f]}),u}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,X.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,o){e||this.throwError(r,n,o)}assertArgument(e,r,n,o){e||this.throwArgumentError(r,n,o)}checkNormalize(e){qx&&this.throwError("platform missing String.prototype.normalize",X.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:qx})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,X.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,X.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,X.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,X.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",X.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",X.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",X.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Yh||(Yh=new X(aE)),Yh}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",X.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),$x){if(!e)return;this.globalLogger().throwError("error censorship permanent",X.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Wx=!!e,$x=!!r}static setLogLevel(e){const r=Ku[e.toLowerCase()];if(r==null){X.globalLogger().warn("invalid log level - "+e);return}Hx=r}static from(e){return new X(e)}}X.errors=cs;X.levels=Fm;const cE="bytes/5.8.0",lr=new X(cE);function lb(t){return!!t.toHexString}function Sa(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Sa(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function mp(t){return ct(t)&&!(t.length%2)||qa(t)}function Vx(t){return typeof t=="number"&&t==t&&t%1===0}function qa(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!Vx(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Vx(r)||r<0||r>=256)return!1}return!0}function qe(t,e){if(e||(e={}),typeof t=="number"){lr.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Sa(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),lb(t)&&(t=t.toHexString()),ct(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":lr.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let o=0;o<r.length;o+=2)n.push(parseInt(r.substring(o,o+2),16));return Sa(new Uint8Array(n))}return qa(t)?Sa(new Uint8Array(t)):lr.throwArgumentError("invalid arrayify value","value",t)}function Sn(t){const e=t.map(o=>qe(o)),r=e.reduce((o,l)=>o+l.length,0),n=new Uint8Array(r);return e.reduce((o,l)=>(n.set(l,o),o+l.length),0),Sa(n)}function Ia(t){let e=qe(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function uE(t,e){t=qe(t),t.length>e&&lr.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Sa(r)}function ct(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Qh="0123456789abcdef";function ze(t,e){if(e||(e={}),typeof t=="number"){lr.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Qh[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),lb(t))return t.toHexString();if(ct(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":lr.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(qa(t)){let r="0x";for(let n=0;n<t.length;n++){let o=t[n];r+=Qh[(o&240)>>4]+Qh[o&15]}return r}return lr.throwArgumentError("invalid hexlify value","value",t)}function Eo(t){if(typeof t!="string")t=ze(t);else if(!ct(t)||t.length%2)return null;return(t.length-2)/2}function qr(t,e,r){return typeof t!="string"?t=ze(t):(!ct(t)||t.length%2)&&lr.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function pn(t){let e="0x";return t.forEach(r=>{e+=ze(r).substring(2)}),e}function Md(t){const e=dE(ze(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function dE(t){typeof t!="string"&&(t=ze(t)),ct(t)||lr.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function tr(t,e){for(typeof t!="string"?t=ze(t):ct(t)||lr.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&lr.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function _d(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(mp(t)){let r=qe(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=ze(r.slice(0,32)),e.s=ze(r.slice(32,64))):r.length===65?(e.r=ze(r.slice(0,32)),e.s=ze(r.slice(32,64)),e.v=r[64]):lr.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:lr.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=ze(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const o=uE(qe(e._vs),32);e._vs=ze(o);const l=o[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=l:e.recoveryParam!==l&&lr.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),o[0]&=127;const c=ze(o);e.s==null?e.s=c:e.s!==c&&lr.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?lr.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const o=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==o&&lr.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!ct(e.r)?lr.throwArgumentError("signature missing or invalid r","signature",t):e.r=tr(e.r,32),e.s==null||!ct(e.s)?lr.throwArgumentError("signature missing or invalid s","signature",t):e.s=tr(e.s,32);const r=qe(e.s);r[0]>=128&&lr.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=ze(r);e._vs&&(ct(e._vs)||lr.throwArgumentError("signature invalid _vs","signature",t),e._vs=tr(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&lr.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const cb="bignumber/5.8.0";var ud=Qe.BN;const Xs=new X(cb),Jh={},Kx=9007199254740991;function fE(t){return t!=null&&(ce.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||ct(t)||typeof t=="bigint"||qa(t))}let Yx=!1;class ce{constructor(e,r){e!==Jh&&Xs.throwError("cannot call constructor directly; use BigNumber.from",X.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return hn(vt(this).fromTwos(e))}toTwos(e){return hn(vt(this).toTwos(e))}abs(){return this._hex[0]==="-"?ce.from(this._hex.substring(1)):this}add(e){return hn(vt(this).add(vt(e)))}sub(e){return hn(vt(this).sub(vt(e)))}div(e){return ce.from(e).isZero()&&$n("division-by-zero","div"),hn(vt(this).div(vt(e)))}mul(e){return hn(vt(this).mul(vt(e)))}mod(e){const r=vt(e);return r.isNeg()&&$n("division-by-zero","mod"),hn(vt(this).umod(r))}pow(e){const r=vt(e);return r.isNeg()&&$n("negative-power","pow"),hn(vt(this).pow(r))}and(e){const r=vt(e);return(this.isNegative()||r.isNeg())&&$n("unbound-bitwise-result","and"),hn(vt(this).and(r))}or(e){const r=vt(e);return(this.isNegative()||r.isNeg())&&$n("unbound-bitwise-result","or"),hn(vt(this).or(r))}xor(e){const r=vt(e);return(this.isNegative()||r.isNeg())&&$n("unbound-bitwise-result","xor"),hn(vt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&$n("negative-width","mask"),hn(vt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&$n("negative-width","shl"),hn(vt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&$n("negative-width","shr"),hn(vt(this).shrn(e))}eq(e){return vt(this).eq(vt(e))}lt(e){return vt(this).lt(vt(e))}lte(e){return vt(this).lte(vt(e))}gt(e){return vt(this).gt(vt(e))}gte(e){return vt(this).gte(vt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return vt(this).isZero()}toNumber(){try{return vt(this).toNumber()}catch{$n("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Xs.throwError("this platform does not support BigInt",X.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Yx||(Yx=!0,Xs.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Xs.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",X.errors.UNEXPECTED_ARGUMENT,{}):Xs.throwError("BigNumber.toString does not accept parameters",X.errors.UNEXPECTED_ARGUMENT,{})),vt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof ce)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new ce(Jh,Gl(e)):e.match(/^-?[0-9]+$/)?new ce(Jh,Gl(new ud(e))):Xs.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&$n("underflow","BigNumber.from",e),(e>=Kx||e<=-Kx)&&$n("overflow","BigNumber.from",e),ce.from(String(e));const r=e;if(typeof r=="bigint")return ce.from(r.toString());if(qa(r))return ce.from(ze(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return ce.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(ct(n)||n[0]==="-"&&ct(n.substring(1))))return ce.from(n)}return Xs.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Gl(t){if(typeof t!="string")return Gl(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Xs.throwArgumentError("invalid hex","value",t),t=Gl(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function hn(t){return ce.from(Gl(t))}function vt(t){const e=ce.from(t).toHexString();return e[0]==="-"?new ud("-"+e.substring(3),16):new ud(e.substring(2),16)}function $n(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Xs.throwError(t,X.errors.NUMERIC_FAULT,n)}function hE(t){return new ud(t,36).toString(16)}const en=new X(cb),Bl={},ub=ce.from(0),db=ce.from(-1);function fb(t,e,r,n){const o={fault:e,operation:r};return n!==void 0&&(o.value=n),en.throwError(t,X.errors.NUMERIC_FAULT,o)}let Ul="0";for(;Ul.length<256;)Ul+=Ul;function pp(t){if(typeof t!="number")try{t=ce.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+Ul.substring(0,t):en.throwArgumentError("invalid decimal size","decimals",t)}function Yu(t,e){e==null&&(e=0);const r=pp(e);t=ce.from(t);const n=t.lt(ub);n&&(t=t.mul(db));let o=t.mod(r).toString();for(;o.length<r.length-1;)o="0"+o;o=o.match(/^([0-9]*[1-9]|0)(0*)/)[1];const l=t.div(r).toString();return r.length===1?t=l:t=l+"."+o,n&&(t="-"+t),t}function Ns(t,e){e==null&&(e=0);const r=pp(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&en.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&en.throwArgumentError("missing value","value",t);const o=t.split(".");o.length>2&&en.throwArgumentError("too many decimal points","value",t);let l=o[0],c=o[1];for(l||(l="0"),c||(c="0");c[c.length-1]==="0";)c=c.substring(0,c.length-1);for(c.length>r.length-1&&fb("fractional component exceeds decimals","underflow","parseFixed"),c===""&&(c="0");c.length<r.length-1;)c+="0";const u=ce.from(l),f=ce.from(c);let h=u.mul(r).add(f);return n&&(h=h.mul(db)),h}class Ta{constructor(e,r,n,o){e!==Bl&&en.throwError("cannot use FixedFormat constructor; use FixedFormat.from",X.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=o,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(o),this._multiplier=pp(o),Object.freeze(this)}static from(e){if(e instanceof Ta)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,o=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const l=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);l||en.throwArgumentError("invalid fixed format","format",e),r=l[1]!=="u",n=parseInt(l[2]),o=parseInt(l[3])}}else if(e){const l=(c,u,f)=>e[c]==null?f:(typeof e[c]!==u&&en.throwArgumentError("invalid fixed format ("+c+" not "+u+")","format."+c,e[c]),e[c]);r=l("signed","boolean",r),n=l("width","number",n),o=l("decimals","number",o)}return n%8&&en.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),o>80&&en.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",o),new Ta(Bl,r,n,o)}}class _r{constructor(e,r,n,o){e!==Bl&&en.throwError("cannot use FixedNumber constructor; use FixedNumber.from",X.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=o,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&en.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=Ns(this._value,this.format.decimals),n=Ns(e._value,e.format.decimals);return _r.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=Ns(this._value,this.format.decimals),n=Ns(e._value,e.format.decimals);return _r.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=Ns(this._value,this.format.decimals),n=Ns(e._value,e.format.decimals);return _r.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=Ns(this._value,this.format.decimals),n=Ns(e._value,e.format.decimals);return _r.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=_r.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(Qx.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=_r.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(Qx.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&en.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=_r.from("1"+Ul.substring(0,e),this.format),o=mE.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(o).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&en.throwArgumentError("invalid byte width","width",e);const r=ce.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return tr(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return _r.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!fE(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),_r.fromString(Yu(e,r),Ta.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=Ta.from(r),o=Ns(e,n.decimals);!n.signed&&o.lt(ub)&&fb("unsigned value cannot be negative","overflow","value",e);let l=null;n.signed?l=o.toTwos(n.width).toHexString():(l=o.toHexString(),l=tr(l,n.width/8));const c=Yu(o,n.decimals);return new _r(Bl,l,c,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=Ta.from(r);if(qe(e).length>n.width/8)throw new Error("overflow");let o=ce.from(e);n.signed&&(o=o.fromTwos(n.width));const l=o.toTwos((n.signed?0:1)+n.width).toHexString(),c=Yu(o,n.decimals);return new _r(Bl,l,c,n)}static from(e,r){if(typeof e=="string")return _r.fromString(e,r);if(qa(e))return _r.fromBytes(e,r);try{return _r.fromValue(e,0,r)}catch(n){if(n.code!==X.errors.INVALID_ARGUMENT)throw n}return en.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const Qx=_r.from(1),mE=_r.from("0.5"),pE="properties/5.8.0";var gE=function(t,e,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(y){c(y)}}function f(m){try{h(n.throw(m))}catch(y){c(y)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const dd=new X(pE);function he(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Tn(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function pr(t){return gE(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const o=t[n];return Promise.resolve(o).then(l=>({key:n,value:l}))});return(yield Promise.all(e)).reduce((n,o)=>(n[o.key]=o.value,n),{})})}function xE(t,e){(!t||typeof t!="object")&&dd.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||dd.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function er(t){const e={};for(const r in t)e[r]=t[r];return e}const yE={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function hb(t){if(t==null||yE[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!hb(n))return!1}return!0}return dd.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function vE(t){if(hb(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Rn(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&he(e,r,Rn(n))}return e}return dd.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Rn(t){return vE(t)}class ac{constructor(e){for(const r in e)this[r]=Rn(e[r])}}const lc="abi/5.8.0",wt=new X(lc),Ao={};let Jx={calldata:!0,memory:!0,storage:!0},bE={calldata:!0,memory:!0};function Cu(t,e){if(t==="bytes"||t==="string"){if(Jx[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&bE[e])return!0;return(Jx[e]||e==="payable")&&wt.throwArgumentError("invalid modifier","name",e),!1}function wE(t,e){let r=t;function n(u){wt.throwArgumentError(`unexpected character at position ${u}`,"param",t)}t=t.replace(/\s/g," ");function o(u){let f={type:"",name:"",parent:u,state:{allowType:!0}};return e&&(f.indexed=!1),f}let l={type:"",name:"",state:{allowType:!0}},c=l;for(let u=0;u<t.length;u++){let f=t[u];switch(f){case"(":c.state.allowType&&c.type===""?c.type="tuple":c.state.allowParams||n(u),c.state.allowType=!1,c.type=ka(c.type),c.components=[o(c)],c=c.components[0];break;case")":delete c.state,c.name==="indexed"&&(e||n(u),c.indexed=!0,c.name=""),Cu(c.type,c.name)&&(c.name=""),c.type=ka(c.type);let h=c;c=c.parent,c||n(u),delete h.parent,c.state.allowParams=!1,c.state.allowName=!0,c.state.allowArray=!0;break;case",":delete c.state,c.name==="indexed"&&(e||n(u),c.indexed=!0,c.name=""),Cu(c.type,c.name)&&(c.name=""),c.type=ka(c.type);let m=o(c.parent);c.parent.components.push(m),delete c.parent,c=m;break;case" ":c.state.allowType&&c.type!==""&&(c.type=ka(c.type),delete c.state.allowType,c.state.allowName=!0,c.state.allowParams=!0),c.state.allowName&&c.name!==""&&(c.name==="indexed"?(e||n(u),c.indexed&&n(u),c.indexed=!0,c.name=""):Cu(c.type,c.name)?c.name="":c.state.allowName=!1);break;case"[":c.state.allowArray||n(u),c.type+=f,c.state.allowArray=!1,c.state.allowName=!1,c.state.readArray=!0;break;case"]":c.state.readArray||n(u),c.type+=f,c.state.readArray=!1,c.state.allowArray=!0,c.state.allowName=!0;break;default:c.state.allowType?(c.type+=f,c.state.allowParams=!0,c.state.allowArray=!0):c.state.allowName?(c.name+=f,delete c.state.allowArray):c.state.readArray?c.type+=f:n(u)}}return c.parent&&wt.throwArgumentError("unexpected eof","param",t),delete l.state,c.name==="indexed"?(e||n(r.length-7),c.indexed&&n(r.length-7),c.indexed=!0,c.name=""):Cu(c.type,c.name)&&(c.name=""),l.type=ka(l.type),l}function Qu(t,e){for(let r in e)he(t,r,e[r])}const Mt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),kE=new RegExp(/^(.*)\[([0-9]*)\]$/);class Ar{constructor(e,r){e!==Ao&&wt.throwError("use fromString",X.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Qu(this,r);let n=this.type.match(kE);n?Qu(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Ar.fromObject({type:n[1],components:this.components}),baseType:"array"}):Qu(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Mt.sighash),Mt[e]||wt.throwArgumentError("invalid format type","format",e),e===Mt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(o=>JSON.parse(o.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Mt.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===Mt.full?", ":",")+")"):r+=this.type,e!==Mt.sighash&&(this.indexed===!0&&(r+=" indexed"),e===Mt.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?Ar.fromString(e,r):Ar.fromObject(e)}static fromObject(e){return Ar.isParamType(e)?e:new Ar(Ao,{name:e.name||null,type:ka(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Ar.fromObject):null})}static fromString(e,r){function n(o){return Ar.fromObject({name:o.name,type:o.type,indexed:o.indexed,components:o.components})}return n(wE(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function Vl(t,e){return CE(t).map(r=>Ar.fromString(r,e))}class ri{constructor(e,r){e!==Ao&&wt.throwError("use a static from method",X.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Qu(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return ri.isFragment(e)?e:typeof e=="string"?ri.fromString(e):ri.fromObject(e)}static fromObject(e){if(ri.isFragment(e))return e;switch(e.type){case"function":return js.fromObject(e);case"event":return ti.fromObject(e);case"constructor":return As.fromObject(e);case"error":return Bi.fromObject(e);case"fallback":case"receive":return null}return wt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?ti.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?js.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?As.fromString(e.trim()):e.split(" ")[0]==="error"?Bi.fromString(e.substring(5).trim()):wt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class ti extends ri{format(e){if(e||(e=Mt.sighash),Mt[e]||wt.throwArgumentError("invalid format type","format",e),e===Mt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Mt.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Mt.full?", ":",")+") ",e!==Mt.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?ti.fromString(e):ti.fromObject(e)}static fromObject(e){if(ti.isEventFragment(e))return e;e.type!=="event"&&wt.throwArgumentError("invalid event object","value",e);const r={name:Kl(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Ar.fromObject):[],type:"event"};return new ti(Ao,r)}static fromString(e){let r=e.match(Yl);r||wt.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(o=>{switch(o.trim()){case"anonymous":n=!0;break;case"":break;default:wt.warn("unknown modifier: "+o)}}),ti.fromObject({name:r[1].trim(),anonymous:n,inputs:Vl(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function mb(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&wt.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||wt.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=ce.from(r[1]),r[0]):t}function pb(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function gb(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&wt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&wt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&wt.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&wt.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&wt.throwArgumentError("unable to determine stateMutability","value",t),e}class As extends ri{format(e){if(e||(e=Mt.sighash),Mt[e]||wt.throwArgumentError("invalid format type","format",e),e===Mt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===Mt.sighash&&wt.throwError("cannot format a constructor for sighash",X.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===Mt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?As.fromString(e):As.fromObject(e)}static fromObject(e){if(As.isConstructorFragment(e))return e;e.type!=="constructor"&&wt.throwArgumentError("invalid constructor object","value",e);let r=gb(e);r.constant&&wt.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Ar.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ce.from(e.gas):null};return new As(Ao,n)}static fromString(e){let r={type:"constructor"};e=mb(e,r);let n=e.match(Yl);return(!n||n[1].trim()!=="constructor")&&wt.throwArgumentError("invalid constructor string","value",e),r.inputs=Vl(n[2].trim(),!1),pb(n[3].trim(),r),As.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class js extends As{format(e){if(e||(e=Mt.sighash),Mt[e]||wt.throwArgumentError("invalid format type","format",e),e===Mt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Mt.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Mt.full?", ":",")+") ",e!==Mt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?js.fromString(e):js.fromObject(e)}static fromObject(e){if(js.isFunctionFragment(e))return e;e.type!=="function"&&wt.throwArgumentError("invalid function object","value",e);let r=gb(e);const n={type:e.type,name:Kl(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(Ar.fromObject):[],outputs:e.outputs?e.outputs.map(Ar.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ce.from(e.gas):null};return new js(Ao,n)}static fromString(e){let r={type:"function"};e=mb(e,r);let n=e.split(" returns ");n.length>2&&wt.throwArgumentError("invalid function string","value",e);let o=n[0].match(Yl);if(o||wt.throwArgumentError("invalid function signature","value",e),r.name=o[1].trim(),r.name&&Kl(r.name),r.inputs=Vl(o[2],!1),pb(o[3].trim(),r),n.length>1){let l=n[1].match(Yl);(l[1].trim()!=""||l[3].trim()!="")&&wt.throwArgumentError("unexpected tokens","value",e),r.outputs=Vl(l[2],!1)}else r.outputs=[];return js.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function Xx(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&wt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class Bi extends ri{format(e){if(e||(e=Mt.sighash),Mt[e]||wt.throwArgumentError("invalid format type","format",e),e===Mt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Mt.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Mt.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?Bi.fromString(e):Bi.fromObject(e)}static fromObject(e){if(Bi.isErrorFragment(e))return e;e.type!=="error"&&wt.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:Kl(e.name),inputs:e.inputs?e.inputs.map(Ar.fromObject):[]};return Xx(new Bi(Ao,r))}static fromString(e){let r={type:"error"},n=e.match(Yl);return n||wt.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&Kl(r.name),r.inputs=Vl(n[2],!1),Xx(Bi.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function ka(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const NE=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Kl(t){return(!t||!t.match(NE))&&wt.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const Yl=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function CE(t){t=t.trim();let e=[],r="",n=0;for(let o=0;o<t.length;o++){let l=t[o];l===","&&n===0?(e.push(r),r=""):(r+=l,l==="("?n++:l===")"&&(n--,n===-1&&wt.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const gp=new X(lc);function EE(t){const e=[],r=function(n,o){if(Array.isArray(o))for(let l in o){const c=n.slice();c.push(l);try{r(c,o[l])}catch(u){e.push({path:c,error:u})}}};return r([],t),e}class li{constructor(e,r,n,o){this.name=e,this.type=r,this.localName=n,this.dynamic=o}_throwError(e,r){gp.throwArgumentError(e,this.localName,r)}}class Bm{constructor(e){he(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return pn(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Sn(e._data))}writeBytes(e){let r=qe(e);const n=r.length%this.wordSize;return n&&(r=Sn([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=qe(ce.from(e));return r.length>this.wordSize&&gp.throwError("value out-of-bounds",X.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Sn([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class fd{constructor(e,r,n,o){he(this,"_data",qe(e)),he(this,"wordSize",r||32),he(this,"_coerceFunc",n),he(this,"allowLoose",o),this._offset=0}get data(){return ze(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):fd.coerce(e,r)}_peekBytes(e,r,n){let o=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+o>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?o=r:gp.throwError("data out-of-bounds",X.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+o})),this._data.slice(this._offset,this._offset+o)}subReader(e){return new fd(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return ce.from(this.readBytes(this.wordSize))}}var Xh={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */var Zx;function AE(){return Zx||(Zx=1,function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",o=n?window:{};o.JS_SHA3_NO_WINDOW&&(n=!1);var l=!n&&typeof self=="object",c=!o.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;c?o=WN:l&&(o=self);var u=!o.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,f=!o.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",h="0123456789abcdef".split(""),m=[31,7936,2031616,520093696],y=[4,1024,262144,67108864],k=[1,256,65536,16777216],g=[6,1536,393216,100663296],j=[0,8,16,24],N=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],C=[224,256,384,512],S=[128,256],D=["hex","buffer","arrayBuffer","array","digest"],O={128:168,256:136};(o.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(I){return Object.prototype.toString.call(I)==="[object Array]"}),f&&(o.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(I){return typeof I=="object"&&I.buffer&&I.buffer.constructor===ArrayBuffer});for(var F=function(I,V,K){return function(Z){return new w(I,V,I).update(Z)[K]()}},L=function(I,V,K){return function(Z,oe){return new w(I,V,oe).update(Z)[K]()}},H=function(I,V,K){return function(Z,oe,fe,ue){return x["cshake"+I].update(Z,oe,fe,ue)[K]()}},q=function(I,V,K){return function(Z,oe,fe,ue){return x["kmac"+I].update(Z,oe,fe,ue)[K]()}},Y=function(I,V,K,Z){for(var oe=0;oe<D.length;++oe){var fe=D[oe];I[fe]=V(K,Z,fe)}return I},Q=function(I,V){var K=F(I,V,"hex");return K.create=function(){return new w(I,V,I)},K.update=function(Z){return K.create().update(Z)},Y(K,F,I,V)},re=function(I,V){var K=L(I,V,"hex");return K.create=function(Z){return new w(I,V,Z)},K.update=function(Z,oe){return K.create(oe).update(Z)},Y(K,L,I,V)},te=function(I,V){var K=O[I],Z=H(I,V,"hex");return Z.create=function(oe,fe,ue){return!fe&&!ue?x["shake"+I].create(oe):new w(I,V,oe).bytepad([fe,ue],K)},Z.update=function(oe,fe,ue,de){return Z.create(fe,ue,de).update(oe)},Y(Z,H,I,V)},$=function(I,V){var K=O[I],Z=q(I,V,"hex");return Z.create=function(oe,fe,ue){return new U(I,V,fe).bytepad(["KMAC",ue],K).bytepad([oe],K)},Z.update=function(oe,fe,ue,de){return Z.create(oe,ue,de).update(fe)},Y(Z,q,I,V)},M=[{name:"keccak",padding:k,bits:C,createMethod:Q},{name:"sha3",padding:g,bits:C,createMethod:Q},{name:"shake",padding:m,bits:S,createMethod:re},{name:"cshake",padding:y,bits:S,createMethod:te},{name:"kmac",padding:y,bits:S,createMethod:$}],x={},E=[],T=0;T<M.length;++T)for(var P=M[T],_=P.bits,z=0;z<_.length;++z){var W=P.name+"_"+_[z];if(E.push(W),x[W]=P.createMethod(_[z],P.padding),P.name!=="sha3"){var R=P.name+_[z];E.push(R),x[R]=x[W]}}function w(I,V,K){this.blocks=[],this.s=[],this.padding=V,this.outputBits=K,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(I<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=K>>5,this.extraBytes=(K&31)>>3;for(var Z=0;Z<50;++Z)this.s[Z]=0}w.prototype.update=function(I){if(this.finalized)throw new Error(r);var V,K=typeof I;if(K!=="string"){if(K==="object"){if(I===null)throw new Error(e);if(f&&I.constructor===ArrayBuffer)I=new Uint8Array(I);else if(!Array.isArray(I)&&(!f||!ArrayBuffer.isView(I)))throw new Error(e)}else throw new Error(e);V=!0}for(var Z=this.blocks,oe=this.byteCount,fe=I.length,ue=this.blockCount,de=0,Pe=this.s,ge,ve;de<fe;){if(this.reset)for(this.reset=!1,Z[0]=this.block,ge=1;ge<ue+1;++ge)Z[ge]=0;if(V)for(ge=this.start;de<fe&&ge<oe;++de)Z[ge>>2]|=I[de]<<j[ge++&3];else for(ge=this.start;de<fe&&ge<oe;++de)ve=I.charCodeAt(de),ve<128?Z[ge>>2]|=ve<<j[ge++&3]:ve<2048?(Z[ge>>2]|=(192|ve>>6)<<j[ge++&3],Z[ge>>2]|=(128|ve&63)<<j[ge++&3]):ve<55296||ve>=57344?(Z[ge>>2]|=(224|ve>>12)<<j[ge++&3],Z[ge>>2]|=(128|ve>>6&63)<<j[ge++&3],Z[ge>>2]|=(128|ve&63)<<j[ge++&3]):(ve=65536+((ve&1023)<<10|I.charCodeAt(++de)&1023),Z[ge>>2]|=(240|ve>>18)<<j[ge++&3],Z[ge>>2]|=(128|ve>>12&63)<<j[ge++&3],Z[ge>>2]|=(128|ve>>6&63)<<j[ge++&3],Z[ge>>2]|=(128|ve&63)<<j[ge++&3]);if(this.lastByteIndex=ge,ge>=oe){for(this.start=ge-oe,this.block=Z[ue],ge=0;ge<ue;++ge)Pe[ge]^=Z[ge];se(Pe),this.reset=!0}else this.start=ge}return this},w.prototype.encode=function(I,V){var K=I&255,Z=1,oe=[K];for(I=I>>8,K=I&255;K>0;)oe.unshift(K),I=I>>8,K=I&255,++Z;return V?oe.push(Z):oe.unshift(Z),this.update(oe),oe.length},w.prototype.encodeString=function(I){var V,K=typeof I;if(K!=="string"){if(K==="object"){if(I===null)throw new Error(e);if(f&&I.constructor===ArrayBuffer)I=new Uint8Array(I);else if(!Array.isArray(I)&&(!f||!ArrayBuffer.isView(I)))throw new Error(e)}else throw new Error(e);V=!0}var Z=0,oe=I.length;if(V)Z=oe;else for(var fe=0;fe<I.length;++fe){var ue=I.charCodeAt(fe);ue<128?Z+=1:ue<2048?Z+=2:ue<55296||ue>=57344?Z+=3:(ue=65536+((ue&1023)<<10|I.charCodeAt(++fe)&1023),Z+=4)}return Z+=this.encode(Z*8),this.update(I),Z},w.prototype.bytepad=function(I,V){for(var K=this.encode(V),Z=0;Z<I.length;++Z)K+=this.encodeString(I[Z]);var oe=V-K%V,fe=[];return fe.length=oe,this.update(fe),this},w.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var I=this.blocks,V=this.lastByteIndex,K=this.blockCount,Z=this.s;if(I[V>>2]|=this.padding[V&3],this.lastByteIndex===this.byteCount)for(I[0]=I[K],V=1;V<K+1;++V)I[V]=0;for(I[K-1]|=2147483648,V=0;V<K;++V)Z[V]^=I[V];se(Z)}},w.prototype.toString=w.prototype.hex=function(){this.finalize();for(var I=this.blockCount,V=this.s,K=this.outputBlocks,Z=this.extraBytes,oe=0,fe=0,ue="",de;fe<K;){for(oe=0;oe<I&&fe<K;++oe,++fe)de=V[oe],ue+=h[de>>4&15]+h[de&15]+h[de>>12&15]+h[de>>8&15]+h[de>>20&15]+h[de>>16&15]+h[de>>28&15]+h[de>>24&15];fe%I===0&&(se(V),oe=0)}return Z&&(de=V[oe],ue+=h[de>>4&15]+h[de&15],Z>1&&(ue+=h[de>>12&15]+h[de>>8&15]),Z>2&&(ue+=h[de>>20&15]+h[de>>16&15])),ue},w.prototype.arrayBuffer=function(){this.finalize();var I=this.blockCount,V=this.s,K=this.outputBlocks,Z=this.extraBytes,oe=0,fe=0,ue=this.outputBits>>3,de;Z?de=new ArrayBuffer(K+1<<2):de=new ArrayBuffer(ue);for(var Pe=new Uint32Array(de);fe<K;){for(oe=0;oe<I&&fe<K;++oe,++fe)Pe[fe]=V[oe];fe%I===0&&se(V)}return Z&&(Pe[oe]=V[oe],de=de.slice(0,ue)),de},w.prototype.buffer=w.prototype.arrayBuffer,w.prototype.digest=w.prototype.array=function(){this.finalize();for(var I=this.blockCount,V=this.s,K=this.outputBlocks,Z=this.extraBytes,oe=0,fe=0,ue=[],de,Pe;fe<K;){for(oe=0;oe<I&&fe<K;++oe,++fe)de=fe<<2,Pe=V[oe],ue[de]=Pe&255,ue[de+1]=Pe>>8&255,ue[de+2]=Pe>>16&255,ue[de+3]=Pe>>24&255;fe%I===0&&se(V)}return Z&&(de=fe<<2,Pe=V[oe],ue[de]=Pe&255,Z>1&&(ue[de+1]=Pe>>8&255),Z>2&&(ue[de+2]=Pe>>16&255)),ue};function U(I,V,K){w.call(this,I,V,K)}U.prototype=new w,U.prototype.finalize=function(){return this.encode(this.outputBits,!0),w.prototype.finalize.call(this)};var se=function(I){var V,K,Z,oe,fe,ue,de,Pe,ge,ve,Je,Ne,Fe,bt,Ze,Ge,Oe,Se,Xe,qt,Ve,Ke,Fr,kt,ut,yr,jt,ot,hr,St,dt,Yr,gt,xt,Tr,ft,at,cr,Tt,Ee,nt,Le,tt,Xt,rt,lt,Ft,ht,Nt,nn,Ct,_t,xn,zt,Pt,Br,Ot,Et,Qr,Pr,Jr,yn,vn;for(Z=0;Z<48;Z+=2)oe=I[0]^I[10]^I[20]^I[30]^I[40],fe=I[1]^I[11]^I[21]^I[31]^I[41],ue=I[2]^I[12]^I[22]^I[32]^I[42],de=I[3]^I[13]^I[23]^I[33]^I[43],Pe=I[4]^I[14]^I[24]^I[34]^I[44],ge=I[5]^I[15]^I[25]^I[35]^I[45],ve=I[6]^I[16]^I[26]^I[36]^I[46],Je=I[7]^I[17]^I[27]^I[37]^I[47],Ne=I[8]^I[18]^I[28]^I[38]^I[48],Fe=I[9]^I[19]^I[29]^I[39]^I[49],V=Ne^(ue<<1|de>>>31),K=Fe^(de<<1|ue>>>31),I[0]^=V,I[1]^=K,I[10]^=V,I[11]^=K,I[20]^=V,I[21]^=K,I[30]^=V,I[31]^=K,I[40]^=V,I[41]^=K,V=oe^(Pe<<1|ge>>>31),K=fe^(ge<<1|Pe>>>31),I[2]^=V,I[3]^=K,I[12]^=V,I[13]^=K,I[22]^=V,I[23]^=K,I[32]^=V,I[33]^=K,I[42]^=V,I[43]^=K,V=ue^(ve<<1|Je>>>31),K=de^(Je<<1|ve>>>31),I[4]^=V,I[5]^=K,I[14]^=V,I[15]^=K,I[24]^=V,I[25]^=K,I[34]^=V,I[35]^=K,I[44]^=V,I[45]^=K,V=Pe^(Ne<<1|Fe>>>31),K=ge^(Fe<<1|Ne>>>31),I[6]^=V,I[7]^=K,I[16]^=V,I[17]^=K,I[26]^=V,I[27]^=K,I[36]^=V,I[37]^=K,I[46]^=V,I[47]^=K,V=ve^(oe<<1|fe>>>31),K=Je^(fe<<1|oe>>>31),I[8]^=V,I[9]^=K,I[18]^=V,I[19]^=K,I[28]^=V,I[29]^=K,I[38]^=V,I[39]^=K,I[48]^=V,I[49]^=K,bt=I[0],Ze=I[1],lt=I[11]<<4|I[10]>>>28,Ft=I[10]<<4|I[11]>>>28,ot=I[20]<<3|I[21]>>>29,hr=I[21]<<3|I[20]>>>29,Pr=I[31]<<9|I[30]>>>23,Jr=I[30]<<9|I[31]>>>23,Le=I[40]<<18|I[41]>>>14,tt=I[41]<<18|I[40]>>>14,xt=I[2]<<1|I[3]>>>31,Tr=I[3]<<1|I[2]>>>31,Ge=I[13]<<12|I[12]>>>20,Oe=I[12]<<12|I[13]>>>20,ht=I[22]<<10|I[23]>>>22,Nt=I[23]<<10|I[22]>>>22,St=I[33]<<13|I[32]>>>19,dt=I[32]<<13|I[33]>>>19,yn=I[42]<<2|I[43]>>>30,vn=I[43]<<2|I[42]>>>30,zt=I[5]<<30|I[4]>>>2,Pt=I[4]<<30|I[5]>>>2,ft=I[14]<<6|I[15]>>>26,at=I[15]<<6|I[14]>>>26,Se=I[25]<<11|I[24]>>>21,Xe=I[24]<<11|I[25]>>>21,nn=I[34]<<15|I[35]>>>17,Ct=I[35]<<15|I[34]>>>17,Yr=I[45]<<29|I[44]>>>3,gt=I[44]<<29|I[45]>>>3,kt=I[6]<<28|I[7]>>>4,ut=I[7]<<28|I[6]>>>4,Br=I[17]<<23|I[16]>>>9,Ot=I[16]<<23|I[17]>>>9,cr=I[26]<<25|I[27]>>>7,Tt=I[27]<<25|I[26]>>>7,qt=I[36]<<21|I[37]>>>11,Ve=I[37]<<21|I[36]>>>11,_t=I[47]<<24|I[46]>>>8,xn=I[46]<<24|I[47]>>>8,Xt=I[8]<<27|I[9]>>>5,rt=I[9]<<27|I[8]>>>5,yr=I[18]<<20|I[19]>>>12,jt=I[19]<<20|I[18]>>>12,Et=I[29]<<7|I[28]>>>25,Qr=I[28]<<7|I[29]>>>25,Ee=I[38]<<8|I[39]>>>24,nt=I[39]<<8|I[38]>>>24,Ke=I[48]<<14|I[49]>>>18,Fr=I[49]<<14|I[48]>>>18,I[0]=bt^~Ge&Se,I[1]=Ze^~Oe&Xe,I[10]=kt^~yr&ot,I[11]=ut^~jt&hr,I[20]=xt^~ft&cr,I[21]=Tr^~at&Tt,I[30]=Xt^~lt&ht,I[31]=rt^~Ft&Nt,I[40]=zt^~Br&Et,I[41]=Pt^~Ot&Qr,I[2]=Ge^~Se&qt,I[3]=Oe^~Xe&Ve,I[12]=yr^~ot&St,I[13]=jt^~hr&dt,I[22]=ft^~cr&Ee,I[23]=at^~Tt&nt,I[32]=lt^~ht&nn,I[33]=Ft^~Nt&Ct,I[42]=Br^~Et&Pr,I[43]=Ot^~Qr&Jr,I[4]=Se^~qt&Ke,I[5]=Xe^~Ve&Fr,I[14]=ot^~St&Yr,I[15]=hr^~dt&gt,I[24]=cr^~Ee&Le,I[25]=Tt^~nt&tt,I[34]=ht^~nn&_t,I[35]=Nt^~Ct&xn,I[44]=Et^~Pr&yn,I[45]=Qr^~Jr&vn,I[6]=qt^~Ke&bt,I[7]=Ve^~Fr&Ze,I[16]=St^~Yr&kt,I[17]=dt^~gt&ut,I[26]=Ee^~Le&xt,I[27]=nt^~tt&Tr,I[36]=nn^~_t&Xt,I[37]=Ct^~xn&rt,I[46]=Pr^~yn&zt,I[47]=Jr^~vn&Pt,I[8]=Ke^~bt&Ge,I[9]=Fr^~Ze&Oe,I[18]=Yr^~kt&yr,I[19]=gt^~ut&jt,I[28]=Le^~xt&ft,I[29]=tt^~Tr&at,I[38]=_t^~Xt&lt,I[39]=xn^~rt&Ft,I[48]=yn^~zt&Br,I[49]=vn^~Pt&Ot,I[0]^=N[Z],I[1]^=N[Z+1]};if(u)t.exports=x;else for(T=0;T<E.length;++T)o[E[T]]=x[E[T]]})()}(Xh)),Xh.exports}var jE=AE();const SE=$a(jE);function wr(t){return"0x"+SE.keccak_256(qe(t))}const TE="rlp/5.8.0",Es=new X(TE);function ey(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function ty(t,e,r){let n=0;for(let o=0;o<r;o++)n=n*256+t[e+o];return n}function xb(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(l){n=n.concat(xb(l))}),n.length<=55)return n.unshift(192+n.length),n;const o=ey(n.length);return o.unshift(247+o.length),o.concat(n)}mp(t)||Es.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(qe(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=ey(e.length);return r.unshift(183+r.length),r.concat(e)}function Id(t){return ze(xb(t))}function ry(t,e,r,n){const o=[];for(;r<e+1+n;){const l=yb(t,r);o.push(l.result),r+=l.consumed,r>e+1+n&&Es.throwError("child data too short",X.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:o}}function yb(t,e){if(t.length===0&&Es.throwError("data too short",X.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&Es.throwError("data short segment too short",X.errors.BUFFER_OVERRUN,{});const n=ty(t,e+1,r);return e+1+r+n>t.length&&Es.throwError("data long segment too short",X.errors.BUFFER_OVERRUN,{}),ry(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&Es.throwError("data array too short",X.errors.BUFFER_OVERRUN,{}),ry(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&Es.throwError("data array too short",X.errors.BUFFER_OVERRUN,{});const n=ty(t,e+1,r);e+1+r+n>t.length&&Es.throwError("data array too short",X.errors.BUFFER_OVERRUN,{});const o=ze(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:o}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&Es.throwError("data too short",X.errors.BUFFER_OVERRUN,{});const n=ze(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:ze(t[e])}}function xp(t){const e=qe(t),r=yb(e,0);return r.consumed!==e.length&&Es.throwArgumentError("invalid rlp data","data",t),r.result}const PE="address/5.8.0",Na=new X(PE);function ny(t){ct(t,20)||Na.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let o=0;o<40;o++)r[o]=e[o].charCodeAt(0);const n=qe(wr(r));for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&(e[o]=e[o].toUpperCase()),(n[o>>1]&15)>=8&&(e[o+1]=e[o+1].toUpperCase());return"0x"+e.join("")}const RE=9007199254740991;function ME(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const yp={};for(let t=0;t<10;t++)yp[String(t)]=String(t);for(let t=0;t<26;t++)yp[String.fromCharCode(65+t)]=String(10+t);const sy=Math.floor(ME(RE));function _E(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>yp[n]).join("");for(;e.length>=sy;){let n=e.substring(0,sy);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function jr(t){let e=null;if(typeof t!="string"&&Na.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=ny(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Na.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==_E(t)&&Na.throwArgumentError("bad icap checksum","address",t),e=hE(t.substring(4));e.length<40;)e="0"+e;e=ny("0x"+e)}else Na.throwArgumentError("invalid address","address",t);return e}function Eu(t){try{return jr(t),!0}catch{}return!1}function vb(t){let e=null;try{e=jr(t.from)}catch{Na.throwArgumentError("missing from address","transaction",t)}const r=Ia(qe(ce.from(t.nonce).toHexString()));return jr(qr(wr(Id([e,r])),12))}class IE extends li{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=jr(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return jr(tr(e.readValue().toHexString(),20))}}class DE extends li{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const Ca=new X(lc);function bb(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let f={};n=e.map(h=>{const m=h.localName;return m||Ca.throwError("cannot encode object for signature with missing names",X.errors.INVALID_ARGUMENT,{argument:"values",coder:h,value:r}),f[m]&&Ca.throwError("cannot encode object for signature with duplicate names",X.errors.INVALID_ARGUMENT,{argument:"values",coder:h,value:r}),f[m]=!0,r[m]})}else Ca.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&Ca.throwArgumentError("types/value length mismatch","tuple",r);let o=new Bm(t.wordSize),l=new Bm(t.wordSize),c=[];e.forEach((f,h)=>{let m=n[h];if(f.dynamic){let y=l.length;f.encode(l,m);let k=o.writeUpdatableValue();c.push(g=>{k(g+y)})}else f.encode(o,m)}),c.forEach(f=>{f(o.length)});let u=t.appendWriter(o);return u+=t.appendWriter(l),u}function wb(t,e){let r=[],n=t.subReader(0);e.forEach(l=>{let c=null;if(l.dynamic){let u=t.readValue(),f=n.subReader(u.toNumber());try{c=l.decode(f)}catch(h){if(h.code===X.errors.BUFFER_OVERRUN)throw h;c=h,c.baseType=l.name,c.name=l.localName,c.type=l.type}}else try{c=l.decode(t)}catch(u){if(u.code===X.errors.BUFFER_OVERRUN)throw u;c=u,c.baseType=l.name,c.name=l.localName,c.type=l.type}c!=null&&r.push(c)});const o=e.reduce((l,c)=>{const u=c.localName;return u&&(l[u]||(l[u]=0),l[u]++),l},{});e.forEach((l,c)=>{let u=l.localName;if(!u||o[u]!==1||(u==="length"&&(u="_length"),r[u]!=null))return;const f=r[c];f instanceof Error?Object.defineProperty(r,u,{enumerable:!0,get:()=>{throw f}}):r[u]=f});for(let l=0;l<r.length;l++){const c=r[l];c instanceof Error&&Object.defineProperty(r,l,{enumerable:!0,get:()=>{throw c}})}return Object.freeze(r)}class zE extends li{constructor(e,r,n){const o=e.type+"["+(r>=0?r:"")+"]",l=r===-1||e.dynamic;super("array",o,n,l),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),Ca.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let l=0;l<r.length;l++)o.push(this.coder);return bb(e,o,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&Ca.throwError("insufficient data length",X.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let o=0;o<r;o++)n.push(new DE(this.coder));return e.coerce(this.name,wb(e,n))}}class OE extends li{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class kb extends li{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=qe(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class LE extends kb{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,ze(super.decode(e)))}}class FE extends li{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=qe(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,ze(e.readBytes(this.size)))}}class BE extends li{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const _e="0x0000000000000000000000000000000000000000",UE=ce.from(-1),Nb=ce.from(0),$E=ce.from(1),WE=ce.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),HE="0x0000000000000000000000000000000000000000000000000000000000000000";class qE extends li{constructor(e,r,n){const o=(r?"int":"uint")+e*8;super(o,o,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=ce.from(r),o=WE.mask(e.wordSize*8);if(this.signed){let l=o.mask(this.size*8-1);(n.gt(l)||n.lt(l.add($E).mul(UE)))&&this._throwError("value out-of-bounds",r)}else(n.lt(Nb)||n.gt(o.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}const GE="strings/5.8.0",Cb=new X(GE);var Ql;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Ql||(Ql={}));var En;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(En||(En={}));function VE(t,e,r,n,o){return Cb.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function Eb(t,e,r,n,o){if(t===En.BAD_PREFIX||t===En.UNEXPECTED_CONTINUE){let l=0;for(let c=e+1;c<r.length&&r[c]>>6===2;c++)l++;return l}return t===En.OVERRUN?r.length-e-1:0}function KE(t,e,r,n,o){return t===En.OVERLONG?(n.push(o),0):(n.push(65533),Eb(t,e,r))}const YE=Object.freeze({error:VE,ignore:Eb,replace:KE});function Ab(t,e){e==null&&(e=YE.error),t=qe(t);const r=[];let n=0;for(;n<t.length;){const o=t[n++];if(o>>7===0){r.push(o);continue}let l=null,c=null;if((o&224)===192)l=1,c=127;else if((o&240)===224)l=2,c=2047;else if((o&248)===240)l=3,c=65535;else{(o&192)===128?n+=e(En.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(En.BAD_PREFIX,n-1,t,r);continue}if(n-1+l>=t.length){n+=e(En.OVERRUN,n-1,t,r);continue}let u=o&(1<<8-l-1)-1;for(let f=0;f<l;f++){let h=t[n];if((h&192)!=128){n+=e(En.MISSING_CONTINUE,n,t,r),u=null;break}u=u<<6|h&63,n++}if(u!==null){if(u>1114111){n+=e(En.OUT_OF_RANGE,n-1-l,t,r,u);continue}if(u>=55296&&u<=57343){n+=e(En.UTF16_SURROGATE,n-1-l,t,r,u);continue}if(u<=c){n+=e(En.OVERLONG,n-1-l,t,r,u);continue}r.push(u)}}return r}function _s(t,e=Ql.current){e!=Ql.current&&(Cb.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const o=t.charCodeAt(n);if(o<128)r.push(o);else if(o<2048)r.push(o>>6|192),r.push(o&63|128);else if((o&64512)==55296){n++;const l=t.charCodeAt(n);if(n>=t.length||(l&64512)!==56320)throw new Error("invalid utf-8 string");const c=65536+((o&1023)<<10)+(l&1023);r.push(c>>18|240),r.push(c>>12&63|128),r.push(c>>6&63|128),r.push(c&63|128)}else r.push(o>>12|224),r.push(o>>6&63|128),r.push(o&63|128)}return qe(r)}function QE(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function cc(t,e){return QE(Ab(t,e))}function JE(t,e=Ql.current){return Ab(_s(t,e))}class XE extends kb{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,_s(r))}decode(e){return cc(super.decode(e))}}class Au extends li{constructor(e,r){let n=!1;const o=[];e.forEach(c=>{c.dynamic&&(n=!0),o.push(c.type)});const l="tuple("+o.join(",")+")";super("tuple",l,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,o)=>{const l=o.localName;return l&&(n[l]||(n[l]=0),n[l]++),n},{});return this.coders.forEach((n,o)=>{let l=n.localName;!l||r[l]!==1||(l==="length"&&(l="_length"),e[l]==null&&(e[l]=e[o]))}),Object.freeze(e)}encode(e,r){return bb(e,this.coders,r)}decode(e){return e.coerce(this.name,wb(e,this.coders))}}const ju=new X(lc),ZE=new RegExp(/^bytes([0-9]*)$/),eA=new RegExp(/^(u?int)([0-9]*)$/);class tA{constructor(e){he(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new IE(e.name);case"bool":return new OE(e.name);case"string":return new XE(e.name);case"bytes":return new LE(e.name);case"array":return new zE(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Au((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new BE(e.name)}let r=e.type.match(eA);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&ju.throwArgumentError("invalid "+r[1]+" bit length","param",e),new qE(n/8,r[1]==="int",e.name)}if(r=e.type.match(ZE),r){let n=parseInt(r[1]);return(n===0||n>32)&&ju.throwArgumentError("invalid bytes length","param",e),new FE(n,e.name)}return ju.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new fd(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new Bm(this._getWordSize())}getDefaultValue(e){const r=e.map(o=>this._getCoder(Ar.from(o)));return new Au(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&ju.throwError("types/values length mismatch",X.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(c=>this._getCoder(Ar.from(c))),o=new Au(n,"_"),l=this._getWriter();return o.encode(l,r),l.data}decode(e,r,n){const o=e.map(c=>this._getCoder(Ar.from(c)));return new Au(o,"_").decode(this._getReader(qe(r),n))}}const rA=new tA;function Ea(t){return wr(_s(t))}const jb="hash/5.8.0";function Sb(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return qe(e)}function Tb(t){t=qe(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function Pb(t,e){e==null&&(e=1);const r=[],n=r.forEach,o=function(l,c){n.call(l,function(u){c>0&&Array.isArray(u)?o(u,c-1):r.push(u)})};return o(t,e),r}function nA(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function sA(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),o=1,l=[0,1];for(let L=1;L<n;L++)l.push(o+=r());let c=r(),u=e;e+=c;let f=0,h=0;function m(){return f==0&&(h=h<<8|t[e++],f=8),h>>--f&1}const y=31,k=Math.pow(2,y),g=k>>>1,j=g>>1,N=k-1;let C=0;for(let L=0;L<y;L++)C=C<<1|m();let S=[],D=0,O=k;for(;;){let L=Math.floor(((C-D+1)*o-1)/O),H=0,q=n;for(;q-H>1;){let re=H+q>>>1;L<l[re]?q=re:H=re}if(H==0)break;S.push(H);let Y=D+Math.floor(O*l[H]/o),Q=D+Math.floor(O*l[H+1]/o)-1;for(;((Y^Q)&g)==0;)C=C<<1&N|m(),Y=Y<<1&N,Q=Q<<1&N|1;for(;Y&~Q&j;)C=C&g|C<<1&N>>>1|m(),Y=Y<<1^g,Q=(Q^g)<<1|g|1;D=Y,O=1+Q-Y}let F=n-4;return S.map(L=>{switch(L-F){case 3:return F+65792+(t[u++]<<16|t[u++]<<8|t[u++]);case 2:return F+256+(t[u++]<<8|t[u++]);case 1:return F+t[u++];default:return L-1}})}function iA(t){let e=0;return()=>t[e++]}function oA(t){return iA(sA(t))}function aA(t){return t&1?~t>>1:t>>1}function lA(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function iy(t,e){let r=Array(t);for(let n=0,o=-1;n<t;n++)r[n]=o+=1+e();return r}function cA(t,e){let r=Array(t);for(let n=0,o=0;n<t;n++)r[n]=o+=aA(e());return r}function hd(t,e){let r=iy(t(),t),n=t(),o=iy(n,t),l=lA(n,t);for(let c=0;c<n;c++)for(let u=0;u<l[c];u++)r.push(o[c]+u);return e?r.map(c=>e[c]):r}function uA(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(fA(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(hA(r,t))}return nA(Pb(e))}function dA(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function Rb(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let o=0;o<e;o++)cA(t,r).forEach((l,c)=>n[c].push(l));return n}function fA(t,e){let r=1+e(),n=e(),o=dA(e),l=Rb(o.length,1+t,e);return Pb(l.map((c,u)=>{const f=c[0],h=c.slice(1);return Array(o[u]).fill(void 0).map((m,y)=>{let k=y*n;return[f+y*r,h.map(g=>g+k)]})}))}function hA(t,e){let r=1+e();return Rb(r,1+t,e).map(o=>[o[0],o.slice(1)])}function mA(t){let e=hd(t).sort((n,o)=>n-o);return r();function r(){let n=[];for(;;){let h=hd(t,e);if(h.length==0)break;n.push({set:new Set(h),node:r()})}n.sort((h,m)=>m.set.size-h.set.size);let o=t(),l=o%3;o=o/3|0;let c=!!(o&1);o>>=1;let u=o==1,f=o==2;return{branches:n,valid:l,fe0f:c,save:u,check:f}}}function pA(){return oA(Sb("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Dd=pA(),gA=new Set(hd(Dd)),xA=new Set(hd(Dd)),yA=uA(Dd),vA=mA(Dd),oy=45,ay=95;function Mb(t){return JE(t)}function bA(t){return t.filter(e=>e!=65039)}function _b(t){for(let e of t.split(".")){let r=Mb(e);try{for(let n=r.lastIndexOf(ay)-1;n>=0;n--)if(r[n]!==ay)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===oy&&r[3]===oy)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function wA(t){return _b(kA(t,bA))}function kA(t,e){let r=Mb(t).reverse(),n=[];for(;r.length;){let o=CA(r);if(o){n.push(...e(o));continue}let l=r.pop();if(gA.has(l)){n.push(l);continue}if(xA.has(l))continue;let c=yA[l];if(c){n.push(...c);continue}throw new Error(`Disallowed codepoint: 0x${l.toString(16).toUpperCase()}`)}return _b(NA(String.fromCodePoint(...n)))}function NA(t){return t.normalize("NFC")}function CA(t,e){var r;let n=vA,o,l,c=[],u=t.length;for(;u;){let f=t[--u];if(n=(r=n.branches.find(h=>h.set.has(f)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)l=f;else if(n.check&&f===l)break;c.push(f),n.fe0f&&(c.push(65039),u>0&&t[u-1]==65039&&u--),n.valid&&(o=c.slice(),n.valid==2&&o.splice(1,1),t.length=u)}return o}const EA=new X(jb),Ib=new Uint8Array(32);Ib.fill(0);function ly(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function Db(t){const e=_s(wA(t)),r=[];if(t.length===0)return r;let n=0;for(let o=0;o<e.length;o++)e[o]===46&&(r.push(ly(e.slice(n,o))),n=o+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(ly(e.slice(n))),r}function Ju(t){typeof t!="string"&&EA.throwArgumentError("invalid ENS name; not a string","name",t);let e=Ib;const r=Db(t);for(;r.length;)e=wr(Sn([e,wr(r.pop())]));return ze(e)}function AA(t){return ze(Sn(Db(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}var jA=function(t,e,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(y){c(y)}}function f(m){try{h(n.throw(m))}catch(y){c(y)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const or=new X(jb),zb=new Uint8Array(32);zb.fill(0);const SA=ce.from(-1),Ob=ce.from(0),Lb=ce.from(1),TA=ce.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function PA(t){const e=qe(t),r=e.length%32;return r?pn([e,zb.slice(r)]):ze(e)}const RA=tr(Lb.toHexString(),32),MA=tr(Ob.toHexString(),32),cy={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Zh=["name","version","chainId","verifyingContract","salt"];function uy(t){return function(e){return typeof e!="string"&&or.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const _A={name:uy("name"),version:uy("version"),chainId:function(t){try{return ce.from(t).toString()}catch{}return or.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return jr(t).toLowerCase()}catch{}return or.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=qe(t);if(e.length!==32)throw new Error("bad length");return ze(e)}catch{}return or.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function em(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&or.throwArgumentError("invalid numeric width","type",t);const o=TA.mask(r?n-1:n),l=r?o.add(Lb).mul(SA):Ob;return function(c){const u=ce.from(c);return(u.lt(l)||u.gt(o))&&or.throwArgumentError(`value out-of-bounds for ${t}`,"value",c),tr(u.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&or.throwArgumentError("invalid bytes width","type",t),function(n){return qe(n).length!==r&&or.throwArgumentError(`invalid length for ${t}`,"value",n),PA(n)}}}switch(t){case"address":return function(e){return tr(jr(e),32)};case"bool":return function(e){return e?RA:MA};case"bytes":return function(e){return wr(e)};case"string":return function(e){return Ea(e)}}return null}function dy(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class Cn{constructor(e){he(this,"types",Object.freeze(Rn(e))),he(this,"_encoderCache",{}),he(this,"_types",{});const r={},n={},o={};Object.keys(e).forEach(u=>{r[u]={},n[u]=[],o[u]={}});for(const u in e){const f={};e[u].forEach(h=>{f[h.name]&&or.throwArgumentError(`duplicate variable name ${JSON.stringify(h.name)} in ${JSON.stringify(u)}`,"types",e),f[h.name]=!0;const m=h.type.match(/^([^\x5b]*)(\x5b|$)/)[1];m===u&&or.throwArgumentError(`circular type reference to ${JSON.stringify(m)}`,"types",e),!em(m)&&(n[m]||or.throwArgumentError(`unknown type ${JSON.stringify(m)}`,"types",e),n[m].push(u),r[u][m]=!0)})}const l=Object.keys(n).filter(u=>n[u].length===0);l.length===0?or.throwArgumentError("missing primary type","types",e):l.length>1&&or.throwArgumentError(`ambiguous primary types or unused types: ${l.map(u=>JSON.stringify(u)).join(", ")}`,"types",e),he(this,"primaryType",l[0]);function c(u,f){f[u]&&or.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),f[u]=!0,Object.keys(r[u]).forEach(h=>{n[h]&&(c(h,f),Object.keys(f).forEach(m=>{o[m][h]=!0}))}),delete f[u]}c(this.primaryType,{});for(const u in o){const f=Object.keys(o[u]);f.sort(),this._types[u]=dy(u,e[u])+f.map(h=>dy(h,e[h])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const o=em(e);if(o)return o}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const o=r[1],l=this.getEncoder(o),c=parseInt(r[3]);return u=>{c>=0&&u.length!==c&&or.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",u);let f=u.map(l);return this._types[o]&&(f=f.map(wr)),wr(pn(f))}}const n=this.types[e];if(n){const o=Ea(this._types[e]);return l=>{const c=n.map(({name:u,type:f})=>{const h=this.getEncoder(f)(l[u]);return this._types[f]?wr(h):h});return c.unshift(o),pn(c)}}return or.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||or.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return wr(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(em(e))return n(e,r);const o=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(o){const c=o[1],u=parseInt(o[3]);return u>=0&&r.length!==u&&or.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(f=>this._visit(c,f,n))}const l=this.types[e];return l?l.reduce((c,{name:u,type:f})=>(c[u]=this._visit(f,r[u],n),c),{}):or.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Cn(e)}static getPrimaryType(e){return Cn.from(e).primaryType}static hashStruct(e,r,n){return Cn.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const o=cy[n];o||or.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:o})}return r.sort((n,o)=>Zh.indexOf(n.name)-Zh.indexOf(o.name)),Cn.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return pn(["0x1901",Cn.hashDomain(e),Cn.from(r).hash(n)])}static hash(e,r,n){return wr(Cn.encode(e,r,n))}static resolveNames(e,r,n,o){return jA(this,void 0,void 0,function*(){e=er(e);const l={};e.verifyingContract&&!ct(e.verifyingContract,20)&&(l[e.verifyingContract]="0x");const c=Cn.from(r);c.visit(n,(u,f)=>(u==="address"&&!ct(f,20)&&(l[f]="0x"),f));for(const u in l)l[u]=yield o(u);return e.verifyingContract&&l[e.verifyingContract]&&(e.verifyingContract=l[e.verifyingContract]),n=c.visit(n,(u,f)=>u==="address"&&l[f]?l[f]:f),{domain:e,value:n}})}static getPayload(e,r,n){Cn.hashDomain(e);const o={},l=[];Zh.forEach(f=>{const h=e[f];h!=null&&(o[f]=_A[f](h),l.push({name:f,type:cy[f]}))});const c=Cn.from(r),u=er(r);return u.EIP712Domain?or.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):u.EIP712Domain=l,c.encode(n),{types:u,domain:o,primaryType:c.primaryType,message:c.visit(n,(f,h)=>{if(f.match(/^bytes(\d*)/))return ze(qe(h));if(f.match(/^u?int/))return ce.from(h).toString();switch(f){case"address":return h.toLowerCase();case"bool":return!!h;case"string":return typeof h!="string"&&or.throwArgumentError("invalid string","value",h),h}return or.throwArgumentError("unsupported type","type",f)})}}}const ir=new X(lc);class IA extends ac{}class DA extends ac{}class zA extends ac{}class Um extends ac{static isIndexed(e){return!!(e&&e._isIndexed)}}const OA={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function fy(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class hy{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,he(this,"fragments",r.map(n=>ri.from(n)).filter(n=>n!=null)),he(this,"_abiCoder",Tn(new.target,"getAbiCoder")()),he(this,"functions",{}),he(this,"errors",{}),he(this,"events",{}),he(this,"structs",{}),this.fragments.forEach(n=>{let o=null;switch(n.type){case"constructor":if(this.deploy){ir.warn("duplicate definition - constructor");return}he(this,"deploy",n);return;case"function":o=this.functions;break;case"event":o=this.events;break;case"error":o=this.errors;break;default:return}let l=n.format();if(o[l]){ir.warn("duplicate definition - "+l);return}o[l]=n}),this.deploy||he(this,"deploy",As.from({payable:!1,type:"constructor"})),he(this,"_isInterface",!0)}format(e){e||(e=Mt.full),e===Mt.sighash&&ir.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===Mt.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return rA}static getAddress(e){return jr(e)}static getSighash(e){return qr(Ea(e.format()),0,4)}static getEventTopic(e){return Ea(e.format())}getFunction(e){if(ct(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];ir.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),o=Object.keys(this.functions).filter(l=>l.split("(")[0]===n);return o.length===0?ir.throwArgumentError("no matching function","name",n):o.length>1&&ir.throwArgumentError("multiple matching functions","name",n),this.functions[o[0]]}const r=this.functions[js.fromString(e).format()];return r||ir.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(ct(e)){const n=e.toLowerCase();for(const o in this.events)if(n===this.getEventTopic(o))return this.events[o];ir.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),o=Object.keys(this.events).filter(l=>l.split("(")[0]===n);return o.length===0?ir.throwArgumentError("no matching event","name",n):o.length>1&&ir.throwArgumentError("multiple matching events","name",n),this.events[o[0]]}const r=this.events[ti.fromString(e).format()];return r||ir.throwArgumentError("no matching event","signature",e),r}getError(e){if(ct(e)){const n=Tn(this.constructor,"getSighash");for(const o in this.errors){const l=this.errors[o];if(e===n(l))return this.errors[o]}ir.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),o=Object.keys(this.errors).filter(l=>l.split("(")[0]===n);return o.length===0?ir.throwArgumentError("no matching error","name",n):o.length>1&&ir.throwArgumentError("multiple matching errors","name",n),this.errors[o[0]]}const r=this.errors[js.fromString(e).format()];return r||ir.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return Tn(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Tn(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=qe(r);return ze(n.slice(0,4))!==this.getSighash(e)&&ir.throwArgumentError(`data signature does not match error ${e.name}.`,"data",ze(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),ze(Sn([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=qe(r);return ze(n.slice(0,4))!==this.getSighash(e)&&ir.throwArgumentError(`data signature does not match function ${e.name}.`,"data",ze(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),ze(Sn([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=qe(r),o=null,l="",c=null,u=null,f=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const h=ze(n.slice(0,4)),m=OA[h];if(m)c=this._abiCoder.decode(m.inputs,n.slice(4)),u=m.name,f=m.signature,m.reason&&(o=c[0]),u==="Error"?l=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(c[0])}`:u==="Panic"&&(l=`; VM Exception while processing transaction: reverted with panic code ${c[0]}`);else try{const y=this.getError(h);c=this._abiCoder.decode(y.inputs,n.slice(4)),u=y.name,f=y.format()}catch{}break}}return ir.throwError("call revert exception"+l,X.errors.CALL_EXCEPTION,{method:e.format(),data:ze(r),errorArgs:c,errorName:u,errorSignature:f,reason:o})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),ze(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&ir.throwError("too many arguments for "+e.format(),X.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const o=(l,c)=>l.type==="string"?Ea(c):l.type==="bytes"?wr(ze(c)):(l.type==="bool"&&typeof c=="boolean"&&(c=c?"0x01":"0x00"),l.type.match(/^u?int/)&&(c=ce.from(c).toHexString()),l.type==="address"&&this._abiCoder.encode(["address"],[c]),tr(ze(c),32));for(r.forEach((l,c)=>{let u=e.inputs[c];if(!u.indexed){l!=null&&ir.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+u.name,l);return}l==null?n.push(null):u.baseType==="array"||u.baseType==="tuple"?ir.throwArgumentError("filtering with tuples or arrays not supported","contract."+u.name,l):Array.isArray(l)?n.push(l.map(f=>o(u,f))):n.push(o(u,l))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],o=[],l=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&ir.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((c,u)=>{const f=r[u];if(c.indexed)if(c.type==="string")n.push(Ea(f));else if(c.type==="bytes")n.push(wr(f));else{if(c.baseType==="tuple"||c.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([c.type],[f]))}else o.push(c),l.push(f)}),{data:this._abiCoder.encode(o,l),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let k=this.getEventTopic(e);(!ct(n[0],32)||n[0].toLowerCase()!==k)&&ir.throwError("fragment/topic mismatch",X.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:k,value:n[0]}),n=n.slice(1)}let o=[],l=[],c=[];e.inputs.forEach((k,g)=>{k.indexed?k.type==="string"||k.type==="bytes"||k.baseType==="tuple"||k.baseType==="array"?(o.push(Ar.fromObject({type:"bytes32",name:k.name})),c.push(!0)):(o.push(k),c.push(!1)):(l.push(k),c.push(!1))});let u=n!=null?this._abiCoder.decode(o,Sn(n)):null,f=this._abiCoder.decode(l,r,!0),h=[],m=0,y=0;e.inputs.forEach((k,g)=>{if(k.indexed)if(u==null)h[g]=new Um({_isIndexed:!0,hash:null});else if(c[g])h[g]=new Um({_isIndexed:!0,hash:u[y++]});else try{h[g]=u[y++]}catch(j){h[g]=j}else try{h[g]=f[m++]}catch(j){h[g]=j}if(k.name&&h[k.name]==null){const j=h[g];j instanceof Error?Object.defineProperty(h,k.name,{enumerable:!0,get:()=>{throw fy(`property ${JSON.stringify(k.name)}`,j)}}):h[k.name]=j}});for(let k=0;k<h.length;k++){const g=h[k];g instanceof Error&&Object.defineProperty(h,k,{enumerable:!0,get:()=>{throw fy(`index ${k}`,g)}})}return Object.freeze(h)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new DA({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:ce.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new IA({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=ze(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new zA({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const LA="abstract-provider/5.8.0";var FA=function(t,e,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(y){c(y)}}function f(m){try{h(n.throw(m))}catch(y){c(y)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const BA=new X(LA);class UA extends ac{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class uc{constructor(){BA.checkAbstract(new.target,uc),he(this,"_isProvider",!0)}getFeeData(){return FA(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield pr({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(c=>null)});let n=null,o=null,l=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,l=ce.from("1500000000"),o=e.baseFeePerGas.mul(2).add(l)),{lastBaseFeePerGas:n,maxFeePerGas:o,maxPriorityFeePerGas:l,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const $A="abstract-signer/5.8.0";var is=function(t,e,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(y){c(y)}}function f(m){try{h(n.throw(m))}catch(y){c(y)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const Wn=new X($A),WA=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],HA=[X.errors.INSUFFICIENT_FUNDS,X.errors.NONCE_EXPIRED,X.errors.REPLACEMENT_UNDERPRICED];class dc{constructor(){Wn.checkAbstract(new.target,dc),he(this,"_isSigner",!0)}getBalance(e){return is(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return is(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return is(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield pr(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return is(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield pr(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return is(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return is(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return is(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return is(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return is(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)WA.indexOf(n)===-1&&Wn.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=er(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Wn.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return is(this,void 0,void 0,function*(){const r=yield pr(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(o=>is(this,void 0,void 0,function*(){if(o==null)return null;const l=yield this.resolveName(o);return l==null&&Wn.throwArgumentError("provided ENS name resolves to null","tx.to",o),l})),r.to.catch(o=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?Wn.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&Wn.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const o=yield this.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const l=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=l,r.maxPriorityFeePerGas=l}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(n&&Wn.throwError("network does not support EIP-1559",X.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):Wn.throwError("failed to get consistent fee data",X.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(o=>{if(HA.indexOf(o.code)>=0)throw o;return Wn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",X.errors.UNPREDICTABLE_GAS_LIMIT,{error:o,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(o=>(o[1]!==0&&o[0]!==o[1]&&Wn.throwArgumentError("chainId address mismatch","transaction",e),o[0])),yield pr(r)})}_checkProvider(e){this.provider||Wn.throwError("missing provider",X.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class vp extends dc{constructor(e,r){super(),he(this,"address",e),he(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{Wn.throwError(e,X.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new vp(this.address,e)}}var tm={},Bt={},rm,my;function fc(){if(my)return rm;my=1,rm=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,o){if(r!=n)throw new Error(o||"Assertion failed: "+r+" != "+n)},rm}var Su={exports:{}},py;function qA(){return py||(py=1,typeof Object.create=="function"?Su.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Su.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),Su.exports}var gy;function Os(){if(gy)return Bt;gy=1;var t=fc(),e=qA();Bt.inherits=e;function r($,M){return($.charCodeAt(M)&64512)!==55296||M<0||M+1>=$.length?!1:($.charCodeAt(M+1)&64512)===56320}function n($,M){if(Array.isArray($))return $.slice();if(!$)return[];var x=[];if(typeof $=="string")if(M){if(M==="hex")for($=$.replace(/[^a-z0-9]+/ig,""),$.length%2!==0&&($="0"+$),T=0;T<$.length;T+=2)x.push(parseInt($[T]+$[T+1],16))}else for(var E=0,T=0;T<$.length;T++){var P=$.charCodeAt(T);P<128?x[E++]=P:P<2048?(x[E++]=P>>6|192,x[E++]=P&63|128):r($,T)?(P=65536+((P&1023)<<10)+($.charCodeAt(++T)&1023),x[E++]=P>>18|240,x[E++]=P>>12&63|128,x[E++]=P>>6&63|128,x[E++]=P&63|128):(x[E++]=P>>12|224,x[E++]=P>>6&63|128,x[E++]=P&63|128)}else for(T=0;T<$.length;T++)x[T]=$[T]|0;return x}Bt.toArray=n;function o($){for(var M="",x=0;x<$.length;x++)M+=u($[x].toString(16));return M}Bt.toHex=o;function l($){var M=$>>>24|$>>>8&65280|$<<8&16711680|($&255)<<24;return M>>>0}Bt.htonl=l;function c($,M){for(var x="",E=0;E<$.length;E++){var T=$[E];M==="little"&&(T=l(T)),x+=f(T.toString(16))}return x}Bt.toHex32=c;function u($){return $.length===1?"0"+$:$}Bt.zero2=u;function f($){return $.length===7?"0"+$:$.length===6?"00"+$:$.length===5?"000"+$:$.length===4?"0000"+$:$.length===3?"00000"+$:$.length===2?"000000"+$:$.length===1?"0000000"+$:$}Bt.zero8=f;function h($,M,x,E){var T=x-M;t(T%4===0);for(var P=new Array(T/4),_=0,z=M;_<P.length;_++,z+=4){var W;E==="big"?W=$[z]<<24|$[z+1]<<16|$[z+2]<<8|$[z+3]:W=$[z+3]<<24|$[z+2]<<16|$[z+1]<<8|$[z],P[_]=W>>>0}return P}Bt.join32=h;function m($,M){for(var x=new Array($.length*4),E=0,T=0;E<$.length;E++,T+=4){var P=$[E];M==="big"?(x[T]=P>>>24,x[T+1]=P>>>16&255,x[T+2]=P>>>8&255,x[T+3]=P&255):(x[T+3]=P>>>24,x[T+2]=P>>>16&255,x[T+1]=P>>>8&255,x[T]=P&255)}return x}Bt.split32=m;function y($,M){return $>>>M|$<<32-M}Bt.rotr32=y;function k($,M){return $<<M|$>>>32-M}Bt.rotl32=k;function g($,M){return $+M>>>0}Bt.sum32=g;function j($,M,x){return $+M+x>>>0}Bt.sum32_3=j;function N($,M,x,E){return $+M+x+E>>>0}Bt.sum32_4=N;function C($,M,x,E,T){return $+M+x+E+T>>>0}Bt.sum32_5=C;function S($,M,x,E){var T=$[M],P=$[M+1],_=E+P>>>0,z=(_<E?1:0)+x+T;$[M]=z>>>0,$[M+1]=_}Bt.sum64=S;function D($,M,x,E){var T=M+E>>>0,P=(T<M?1:0)+$+x;return P>>>0}Bt.sum64_hi=D;function O($,M,x,E){var T=M+E;return T>>>0}Bt.sum64_lo=O;function F($,M,x,E,T,P,_,z){var W=0,R=M;R=R+E>>>0,W+=R<M?1:0,R=R+P>>>0,W+=R<P?1:0,R=R+z>>>0,W+=R<z?1:0;var w=$+x+T+_+W;return w>>>0}Bt.sum64_4_hi=F;function L($,M,x,E,T,P,_,z){var W=M+E+P+z;return W>>>0}Bt.sum64_4_lo=L;function H($,M,x,E,T,P,_,z,W,R){var w=0,U=M;U=U+E>>>0,w+=U<M?1:0,U=U+P>>>0,w+=U<P?1:0,U=U+z>>>0,w+=U<z?1:0,U=U+R>>>0,w+=U<R?1:0;var se=$+x+T+_+W+w;return se>>>0}Bt.sum64_5_hi=H;function q($,M,x,E,T,P,_,z,W,R){var w=M+E+P+z+R;return w>>>0}Bt.sum64_5_lo=q;function Y($,M,x){var E=M<<32-x|$>>>x;return E>>>0}Bt.rotr64_hi=Y;function Q($,M,x){var E=$<<32-x|M>>>x;return E>>>0}Bt.rotr64_lo=Q;function re($,M,x){return $>>>x}Bt.shr64_hi=re;function te($,M,x){var E=$<<32-x|M>>>x;return E>>>0}return Bt.shr64_lo=te,Bt}var nm={},xy;function hc(){if(xy)return nm;xy=1;var t=Os(),e=fc();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return nm.BlockHash=r,r.prototype.update=function(o,l){if(o=t.toArray(o,l),this.pending?this.pending=this.pending.concat(o):this.pending=o,this.pendingTotal+=o.length,this.pending.length>=this._delta8){o=this.pending;var c=o.length%this._delta8;this.pending=o.slice(o.length-c,o.length),this.pending.length===0&&(this.pending=null),o=t.join32(o,0,o.length-c,this.endian);for(var u=0;u<o.length;u+=this._delta32)this._update(o,u,u+this._delta32)}return this},r.prototype.digest=function(o){return this.update(this._pad()),e(this.pending===null),this._digest(o)},r.prototype._pad=function(){var o=this.pendingTotal,l=this._delta8,c=l-(o+this.padLength)%l,u=new Array(c+this.padLength);u[0]=128;for(var f=1;f<c;f++)u[f]=0;if(o<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)u[f++]=0;u[f++]=0,u[f++]=0,u[f++]=0,u[f++]=0,u[f++]=o>>>24&255,u[f++]=o>>>16&255,u[f++]=o>>>8&255,u[f++]=o&255}else for(u[f++]=o&255,u[f++]=o>>>8&255,u[f++]=o>>>16&255,u[f++]=o>>>24&255,u[f++]=0,u[f++]=0,u[f++]=0,u[f++]=0,h=8;h<this.padLength;h++)u[f++]=0;return u},nm}var bo={},ks={},yy;function Fb(){if(yy)return ks;yy=1;var t=Os(),e=t.rotr32;function r(m,y,k,g){if(m===0)return n(y,k,g);if(m===1||m===3)return l(y,k,g);if(m===2)return o(y,k,g)}ks.ft_1=r;function n(m,y,k){return m&y^~m&k}ks.ch32=n;function o(m,y,k){return m&y^m&k^y&k}ks.maj32=o;function l(m,y,k){return m^y^k}ks.p32=l;function c(m){return e(m,2)^e(m,13)^e(m,22)}ks.s0_256=c;function u(m){return e(m,6)^e(m,11)^e(m,25)}ks.s1_256=u;function f(m){return e(m,7)^e(m,18)^m>>>3}ks.g0_256=f;function h(m){return e(m,17)^e(m,19)^m>>>10}return ks.g1_256=h,ks}var sm,vy;function GA(){if(vy)return sm;vy=1;var t=Os(),e=hc(),r=Fb(),n=t.rotl32,o=t.sum32,l=t.sum32_5,c=r.ft_1,u=e.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(h,u),sm=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(y,k){for(var g=this.W,j=0;j<16;j++)g[j]=y[k+j];for(;j<g.length;j++)g[j]=n(g[j-3]^g[j-8]^g[j-14]^g[j-16],1);var N=this.h[0],C=this.h[1],S=this.h[2],D=this.h[3],O=this.h[4];for(j=0;j<g.length;j++){var F=~~(j/20),L=l(n(N,5),c(F,C,S,D),O,g[j],f[F]);O=D,D=S,S=n(C,30),C=N,N=L}this.h[0]=o(this.h[0],N),this.h[1]=o(this.h[1],C),this.h[2]=o(this.h[2],S),this.h[3]=o(this.h[3],D),this.h[4]=o(this.h[4],O)},h.prototype._digest=function(y){return y==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},sm}var im,by;function Bb(){if(by)return im;by=1;var t=Os(),e=hc(),r=Fb(),n=fc(),o=t.sum32,l=t.sum32_4,c=t.sum32_5,u=r.ch32,f=r.maj32,h=r.s0_256,m=r.s1_256,y=r.g0_256,k=r.g1_256,g=e.BlockHash,j=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function N(){if(!(this instanceof N))return new N;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=j,this.W=new Array(64)}return t.inherits(N,g),im=N,N.blockSize=512,N.outSize=256,N.hmacStrength=192,N.padLength=64,N.prototype._update=function(S,D){for(var O=this.W,F=0;F<16;F++)O[F]=S[D+F];for(;F<O.length;F++)O[F]=l(k(O[F-2]),O[F-7],y(O[F-15]),O[F-16]);var L=this.h[0],H=this.h[1],q=this.h[2],Y=this.h[3],Q=this.h[4],re=this.h[5],te=this.h[6],$=this.h[7];for(n(this.k.length===O.length),F=0;F<O.length;F++){var M=c($,m(Q),u(Q,re,te),this.k[F],O[F]),x=o(h(L),f(L,H,q));$=te,te=re,re=Q,Q=o(Y,M),Y=q,q=H,H=L,L=o(M,x)}this.h[0]=o(this.h[0],L),this.h[1]=o(this.h[1],H),this.h[2]=o(this.h[2],q),this.h[3]=o(this.h[3],Y),this.h[4]=o(this.h[4],Q),this.h[5]=o(this.h[5],re),this.h[6]=o(this.h[6],te),this.h[7]=o(this.h[7],$)},N.prototype._digest=function(S){return S==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},im}var om,wy;function VA(){if(wy)return om;wy=1;var t=Os(),e=Bb();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),om=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(o){return o==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},om}var am,ky;function Ub(){if(ky)return am;ky=1;var t=Os(),e=hc(),r=fc(),n=t.rotr64_hi,o=t.rotr64_lo,l=t.shr64_hi,c=t.shr64_lo,u=t.sum64,f=t.sum64_hi,h=t.sum64_lo,m=t.sum64_4_hi,y=t.sum64_4_lo,k=t.sum64_5_hi,g=t.sum64_5_lo,j=e.BlockHash,N=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function C(){if(!(this instanceof C))return new C;j.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=N,this.W=new Array(160)}t.inherits(C,j),am=C,C.blockSize=1024,C.outSize=512,C.hmacStrength=192,C.padLength=128,C.prototype._prepareBlock=function(x,E){for(var T=this.W,P=0;P<32;P++)T[P]=x[E+P];for(;P<T.length;P+=2){var _=te(T[P-4],T[P-3]),z=$(T[P-4],T[P-3]),W=T[P-14],R=T[P-13],w=Q(T[P-30],T[P-29]),U=re(T[P-30],T[P-29]),se=T[P-32],I=T[P-31];T[P]=m(_,z,W,R,w,U,se,I),T[P+1]=y(_,z,W,R,w,U,se,I)}},C.prototype._update=function(x,E){this._prepareBlock(x,E);var T=this.W,P=this.h[0],_=this.h[1],z=this.h[2],W=this.h[3],R=this.h[4],w=this.h[5],U=this.h[6],se=this.h[7],I=this.h[8],V=this.h[9],K=this.h[10],Z=this.h[11],oe=this.h[12],fe=this.h[13],ue=this.h[14],de=this.h[15];r(this.k.length===T.length);for(var Pe=0;Pe<T.length;Pe+=2){var ge=ue,ve=de,Je=q(I,V),Ne=Y(I,V),Fe=S(I,V,K,Z,oe),bt=D(I,V,K,Z,oe,fe),Ze=this.k[Pe],Ge=this.k[Pe+1],Oe=T[Pe],Se=T[Pe+1],Xe=k(ge,ve,Je,Ne,Fe,bt,Ze,Ge,Oe,Se),qt=g(ge,ve,Je,Ne,Fe,bt,Ze,Ge,Oe,Se);ge=L(P,_),ve=H(P,_),Je=O(P,_,z,W,R),Ne=F(P,_,z,W,R,w);var Ve=f(ge,ve,Je,Ne),Ke=h(ge,ve,Je,Ne);ue=oe,de=fe,oe=K,fe=Z,K=I,Z=V,I=f(U,se,Xe,qt),V=h(se,se,Xe,qt),U=R,se=w,R=z,w=W,z=P,W=_,P=f(Xe,qt,Ve,Ke),_=h(Xe,qt,Ve,Ke)}u(this.h,0,P,_),u(this.h,2,z,W),u(this.h,4,R,w),u(this.h,6,U,se),u(this.h,8,I,V),u(this.h,10,K,Z),u(this.h,12,oe,fe),u(this.h,14,ue,de)},C.prototype._digest=function(x){return x==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function S(M,x,E,T,P){var _=M&E^~M&P;return _<0&&(_+=4294967296),_}function D(M,x,E,T,P,_){var z=x&T^~x&_;return z<0&&(z+=4294967296),z}function O(M,x,E,T,P){var _=M&E^M&P^E&P;return _<0&&(_+=4294967296),_}function F(M,x,E,T,P,_){var z=x&T^x&_^T&_;return z<0&&(z+=4294967296),z}function L(M,x){var E=n(M,x,28),T=n(x,M,2),P=n(x,M,7),_=E^T^P;return _<0&&(_+=4294967296),_}function H(M,x){var E=o(M,x,28),T=o(x,M,2),P=o(x,M,7),_=E^T^P;return _<0&&(_+=4294967296),_}function q(M,x){var E=n(M,x,14),T=n(M,x,18),P=n(x,M,9),_=E^T^P;return _<0&&(_+=4294967296),_}function Y(M,x){var E=o(M,x,14),T=o(M,x,18),P=o(x,M,9),_=E^T^P;return _<0&&(_+=4294967296),_}function Q(M,x){var E=n(M,x,1),T=n(M,x,8),P=l(M,x,7),_=E^T^P;return _<0&&(_+=4294967296),_}function re(M,x){var E=o(M,x,1),T=o(M,x,8),P=c(M,x,7),_=E^T^P;return _<0&&(_+=4294967296),_}function te(M,x){var E=n(M,x,19),T=n(x,M,29),P=l(M,x,6),_=E^T^P;return _<0&&(_+=4294967296),_}function $(M,x){var E=o(M,x,19),T=o(x,M,29),P=c(M,x,6),_=E^T^P;return _<0&&(_+=4294967296),_}return am}var lm,Ny;function KA(){if(Ny)return lm;Ny=1;var t=Os(),e=Ub();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),lm=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(o){return o==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},lm}var Cy;function YA(){return Cy||(Cy=1,bo.sha1=GA(),bo.sha224=VA(),bo.sha256=Bb(),bo.sha384=KA(),bo.sha512=Ub()),bo}var cm={},Ey;function QA(){if(Ey)return cm;Ey=1;var t=Os(),e=hc(),r=t.rotl32,n=t.sum32,o=t.sum32_3,l=t.sum32_4,c=e.BlockHash;function u(){if(!(this instanceof u))return new u;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(u,c),cm.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(C,S){for(var D=this.h[0],O=this.h[1],F=this.h[2],L=this.h[3],H=this.h[4],q=D,Y=O,Q=F,re=L,te=H,$=0;$<80;$++){var M=n(r(l(D,f($,O,F,L),C[y[$]+S],h($)),g[$]),H);D=H,H=L,L=r(F,10),F=O,O=M,M=n(r(l(q,f(79-$,Y,Q,re),C[k[$]+S],m($)),j[$]),te),q=te,te=re,re=r(Q,10),Q=Y,Y=M}M=o(this.h[1],F,re),this.h[1]=o(this.h[2],L,te),this.h[2]=o(this.h[3],H,q),this.h[3]=o(this.h[4],D,Y),this.h[4]=o(this.h[0],O,Q),this.h[0]=M},u.prototype._digest=function(C){return C==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function f(N,C,S,D){return N<=15?C^S^D:N<=31?C&S|~C&D:N<=47?(C|~S)^D:N<=63?C&D|S&~D:C^(S|~D)}function h(N){return N<=15?0:N<=31?1518500249:N<=47?1859775393:N<=63?2400959708:2840853838}function m(N){return N<=15?1352829926:N<=31?1548603684:N<=47?1836072691:N<=63?2053994217:0}var y=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],k=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],j=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return cm}var um,Ay;function JA(){if(Ay)return um;Ay=1;var t=Os(),e=fc();function r(n,o,l){if(!(this instanceof r))return new r(n,o,l);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(o,l))}return um=r,r.prototype._init=function(o){o.length>this.blockSize&&(o=new this.Hash().update(o).digest()),e(o.length<=this.blockSize);for(var l=o.length;l<this.blockSize;l++)o.push(0);for(l=0;l<o.length;l++)o[l]^=54;for(this.inner=new this.Hash().update(o),l=0;l<o.length;l++)o[l]^=106;this.outer=new this.Hash().update(o)},r.prototype.update=function(o,l){return this.inner.update(o,l),this},r.prototype.digest=function(o){return this.outer.update(this.inner.digest()),this.outer.digest(o)},um}var jy;function XA(){return jy||(jy=1,function(t){var e=t;e.utils=Os(),e.common=hc(),e.sha=YA(),e.ripemd=QA(),e.hmac=JA(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(tm)),tm}var ZA=XA();const Cs=$a(ZA);function Ga(t,e,r){return r={path:e,exports:{},require:function(n,o){return ej(n,o??r.path)}},t(r,r.exports),r.exports}function ej(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var bp=$b;function $b(t,e){if(!t)throw new Error(e||"Assertion failed")}$b.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var fs=Ga(function(t,e){var r=e;function n(c,u){if(Array.isArray(c))return c.slice();if(!c)return[];var f=[];if(typeof c!="string"){for(var h=0;h<c.length;h++)f[h]=c[h]|0;return f}if(u==="hex"){c=c.replace(/[^a-z0-9]+/ig,""),c.length%2!==0&&(c="0"+c);for(var h=0;h<c.length;h+=2)f.push(parseInt(c[h]+c[h+1],16))}else for(var h=0;h<c.length;h++){var m=c.charCodeAt(h),y=m>>8,k=m&255;y?f.push(y,k):f.push(k)}return f}r.toArray=n;function o(c){return c.length===1?"0"+c:c}r.zero2=o;function l(c){for(var u="",f=0;f<c.length;f++)u+=o(c[f].toString(16));return u}r.toHex=l,r.encode=function(u,f){return f==="hex"?l(u):u}}),In=Ga(function(t,e){var r=e;r.assert=bp,r.toArray=fs.toArray,r.zero2=fs.zero2,r.toHex=fs.toHex,r.encode=fs.encode;function n(f,h,m){var y=new Array(Math.max(f.bitLength(),m)+1),k;for(k=0;k<y.length;k+=1)y[k]=0;var g=1<<h+1,j=f.clone();for(k=0;k<y.length;k++){var N,C=j.andln(g-1);j.isOdd()?(C>(g>>1)-1?N=(g>>1)-C:N=C,j.isubn(N)):N=0,y[k]=N,j.iushrn(1)}return y}r.getNAF=n;function o(f,h){var m=[[],[]];f=f.clone(),h=h.clone();for(var y=0,k=0,g;f.cmpn(-y)>0||h.cmpn(-k)>0;){var j=f.andln(3)+y&3,N=h.andln(3)+k&3;j===3&&(j=-1),N===3&&(N=-1);var C;(j&1)===0?C=0:(g=f.andln(7)+y&7,(g===3||g===5)&&N===2?C=-j:C=j),m[0].push(C);var S;(N&1)===0?S=0:(g=h.andln(7)+k&7,(g===3||g===5)&&j===2?S=-N:S=N),m[1].push(S),2*y===C+1&&(y=1-y),2*k===S+1&&(k=1-k),f.iushrn(1),h.iushrn(1)}return m}r.getJSF=o;function l(f,h,m){var y="_"+h;f.prototype[h]=function(){return this[y]!==void 0?this[y]:this[y]=m.call(this)}}r.cachedProperty=l;function c(f){return typeof f=="string"?r.toArray(f,"hex"):f}r.parseBytes=c;function u(f){return new Qe(f,"hex","le")}r.intFromLE=u}),md=In.getNAF,tj=In.getJSF,pd=In.assert;function Ji(t,e){this.type=t,this.p=new Qe(e.p,16),this.red=e.prime?Qe.red(e.prime):Qe.mont(this.p),this.zero=new Qe(0).toRed(this.red),this.one=new Qe(1).toRed(this.red),this.two=new Qe(2).toRed(this.red),this.n=e.n&&new Qe(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Oo=Ji;Ji.prototype.point=function(){throw new Error("Not implemented")};Ji.prototype.validate=function(){throw new Error("Not implemented")};Ji.prototype._fixedNafMul=function(e,r){pd(e.precomputed);var n=e._getDoubles(),o=md(r,1,this._bitLength),l=(1<<n.step+1)-(n.step%2===0?2:1);l/=3;var c=[],u,f;for(u=0;u<o.length;u+=n.step){f=0;for(var h=u+n.step-1;h>=u;h--)f=(f<<1)+o[h];c.push(f)}for(var m=this.jpoint(null,null,null),y=this.jpoint(null,null,null),k=l;k>0;k--){for(u=0;u<c.length;u++)f=c[u],f===k?y=y.mixedAdd(n.points[u]):f===-k&&(y=y.mixedAdd(n.points[u].neg()));m=m.add(y)}return m.toP()};Ji.prototype._wnafMul=function(e,r){var n=4,o=e._getNAFPoints(n);n=o.wnd;for(var l=o.points,c=md(r,n,this._bitLength),u=this.jpoint(null,null,null),f=c.length-1;f>=0;f--){for(var h=0;f>=0&&c[f]===0;f--)h++;if(f>=0&&h++,u=u.dblp(h),f<0)break;var m=c[f];pd(m!==0),e.type==="affine"?m>0?u=u.mixedAdd(l[m-1>>1]):u=u.mixedAdd(l[-m-1>>1].neg()):m>0?u=u.add(l[m-1>>1]):u=u.add(l[-m-1>>1].neg())}return e.type==="affine"?u.toP():u};Ji.prototype._wnafMulAdd=function(e,r,n,o,l){var c=this._wnafT1,u=this._wnafT2,f=this._wnafT3,h=0,m,y,k;for(m=0;m<o;m++){k=r[m];var g=k._getNAFPoints(e);c[m]=g.wnd,u[m]=g.points}for(m=o-1;m>=1;m-=2){var j=m-1,N=m;if(c[j]!==1||c[N]!==1){f[j]=md(n[j],c[j],this._bitLength),f[N]=md(n[N],c[N],this._bitLength),h=Math.max(f[j].length,h),h=Math.max(f[N].length,h);continue}var C=[r[j],null,null,r[N]];r[j].y.cmp(r[N].y)===0?(C[1]=r[j].add(r[N]),C[2]=r[j].toJ().mixedAdd(r[N].neg())):r[j].y.cmp(r[N].y.redNeg())===0?(C[1]=r[j].toJ().mixedAdd(r[N]),C[2]=r[j].add(r[N].neg())):(C[1]=r[j].toJ().mixedAdd(r[N]),C[2]=r[j].toJ().mixedAdd(r[N].neg()));var S=[-3,-1,-5,-7,0,7,5,1,3],D=tj(n[j],n[N]);for(h=Math.max(D[0].length,h),f[j]=new Array(h),f[N]=new Array(h),y=0;y<h;y++){var O=D[0][y]|0,F=D[1][y]|0;f[j][y]=S[(O+1)*3+(F+1)],f[N][y]=0,u[j]=C}}var L=this.jpoint(null,null,null),H=this._wnafT4;for(m=h;m>=0;m--){for(var q=0;m>=0;){var Y=!0;for(y=0;y<o;y++)H[y]=f[y][m]|0,H[y]!==0&&(Y=!1);if(!Y)break;q++,m--}if(m>=0&&q++,L=L.dblp(q),m<0)break;for(y=0;y<o;y++){var Q=H[y];Q!==0&&(Q>0?k=u[y][Q-1>>1]:Q<0&&(k=u[y][-Q-1>>1].neg()),k.type==="affine"?L=L.mixedAdd(k):L=L.add(k))}}for(m=0;m<o;m++)u[m]=null;return l?L:L.toP()};function Kn(t,e){this.curve=t,this.type=e,this.precomputed=null}Ji.BasePoint=Kn;Kn.prototype.eq=function(){throw new Error("Not implemented")};Kn.prototype.validate=function(){return this.curve.validate(this)};Ji.prototype.decodePoint=function(e,r){e=In.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?pd(e[e.length-1]%2===0):e[0]===7&&pd(e[e.length-1]%2===1);var o=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return o}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Kn.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Kn.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Kn.prototype.encode=function(e,r){return In.encode(this._encode(r),e)};Kn.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Kn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Kn.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],o=this,l=0;l<r;l+=e){for(var c=0;c<e;c++)o=o.dbl();n.push(o)}return{step:e,points:n}};Kn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,o=n===1?null:this.dbl(),l=1;l<n;l++)r[l]=r[l-1].add(o);return{wnd:e,points:r}};Kn.prototype._getBeta=function(){return null};Kn.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var wp=Ga(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var o=function(){};o.prototype=n.prototype,r.prototype=new o,r.prototype.constructor=r}}}),rj=In.assert;function Yn(t){Oo.call(this,"short",t),this.a=new Qe(t.a,16).toRed(this.red),this.b=new Qe(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}wp(Yn,Oo);var nj=Yn;Yn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Qe(e.beta,16).toRed(this.red);else{var o=this._getEndoRoots(this.p);r=o[0].cmp(o[1])<0?o[0]:o[1],r=r.toRed(this.red)}if(e.lambda)n=new Qe(e.lambda,16);else{var l=this._getEndoRoots(this.n);this.g.mul(l[0]).x.cmp(this.g.x.redMul(r))===0?n=l[0]:(n=l[1],rj(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var c;return e.basis?c=e.basis.map(function(u){return{a:new Qe(u.a,16),b:new Qe(u.b,16)}}):c=this._getEndoBasis(n),{beta:r,lambda:n,basis:c}}};Yn.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Qe.mont(e),n=new Qe(2).toRed(r).redInvm(),o=n.redNeg(),l=new Qe(3).toRed(r).redNeg().redSqrt().redMul(n),c=o.redAdd(l).fromRed(),u=o.redSub(l).fromRed();return[c,u]};Yn.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,o=this.n.clone(),l=new Qe(1),c=new Qe(0),u=new Qe(0),f=new Qe(1),h,m,y,k,g,j,N,C=0,S,D;n.cmpn(0)!==0;){var O=o.div(n);S=o.sub(O.mul(n)),D=u.sub(O.mul(l));var F=f.sub(O.mul(c));if(!y&&S.cmp(r)<0)h=N.neg(),m=l,y=S.neg(),k=D;else if(y&&++C===2)break;N=S,o=n,n=S,u=l,l=D,f=c,c=F}g=S.neg(),j=D;var L=y.sqr().add(k.sqr()),H=g.sqr().add(j.sqr());return H.cmp(L)>=0&&(g=h,j=m),y.negative&&(y=y.neg(),k=k.neg()),g.negative&&(g=g.neg(),j=j.neg()),[{a:y,b:k},{a:g,b:j}]};Yn.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],o=r[1],l=o.b.mul(e).divRound(this.n),c=n.b.neg().mul(e).divRound(this.n),u=l.mul(n.a),f=c.mul(o.a),h=l.mul(n.b),m=c.mul(o.b),y=e.sub(u).sub(f),k=h.add(m).neg();return{k1:y,k2:k}};Yn.prototype.pointFromX=function(e,r){e=new Qe(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),o=n.redSqrt();if(o.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var l=o.fromRed().isOdd();return(r&&!l||!r&&l)&&(o=o.redNeg()),this.point(e,o)};Yn.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,o=this.a.redMul(r),l=r.redSqr().redMul(r).redIAdd(o).redIAdd(this.b);return n.redSqr().redISub(l).cmpn(0)===0};Yn.prototype._endoWnafMulAdd=function(e,r,n){for(var o=this._endoWnafT1,l=this._endoWnafT2,c=0;c<e.length;c++){var u=this._endoSplit(r[c]),f=e[c],h=f._getBeta();u.k1.negative&&(u.k1.ineg(),f=f.neg(!0)),u.k2.negative&&(u.k2.ineg(),h=h.neg(!0)),o[c*2]=f,o[c*2+1]=h,l[c*2]=u.k1,l[c*2+1]=u.k2}for(var m=this._wnafMulAdd(1,o,l,c*2,n),y=0;y<c*2;y++)o[y]=null,l[y]=null;return m};function Sr(t,e,r,n){Oo.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Qe(e,16),this.y=new Qe(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}wp(Sr,Oo.BasePoint);Yn.prototype.point=function(e,r,n){return new Sr(this,e,r,n)};Yn.prototype.pointFromJSON=function(e,r){return Sr.fromJSON(this,e,r)};Sr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,o=function(l){return n.point(l.x.redMul(n.endo.beta),l.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(o)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(o)}}}return r}};Sr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Sr.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var o=e.point(r[0],r[1],n);if(!r[2])return o;function l(u){return e.point(u[0],u[1],n)}var c=r[2];return o.precomputed={beta:null,doubles:c.doubles&&{step:c.doubles.step,points:[o].concat(c.doubles.points.map(l))},naf:c.naf&&{wnd:c.naf.wnd,points:[o].concat(c.naf.points.map(l))}},o};Sr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Sr.prototype.isInfinity=function(){return this.inf};Sr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),o=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,o)};Sr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),o=e.redInvm(),l=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(o),c=l.redSqr().redISub(this.x.redAdd(this.x)),u=l.redMul(this.x.redSub(c)).redISub(this.y);return this.curve.point(c,u)};Sr.prototype.getX=function(){return this.x.fromRed()};Sr.prototype.getY=function(){return this.y.fromRed()};Sr.prototype.mul=function(e){return e=new Qe(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Sr.prototype.mulAdd=function(e,r,n){var o=[this,r],l=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,l):this.curve._wnafMulAdd(1,o,l,2)};Sr.prototype.jmulAdd=function(e,r,n){var o=[this,r],l=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,l,!0):this.curve._wnafMulAdd(1,o,l,2,!0)};Sr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Sr.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,o=function(l){return l.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(o)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(o)}}}return r};Sr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Or(t,e,r,n){Oo.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Qe(0)):(this.x=new Qe(e,16),this.y=new Qe(r,16),this.z=new Qe(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}wp(Or,Oo.BasePoint);Yn.prototype.jpoint=function(e,r,n){return new Or(this,e,r,n)};Or.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),o=this.y.redMul(r).redMul(e);return this.curve.point(n,o)};Or.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Or.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),o=this.x.redMul(r),l=e.x.redMul(n),c=this.y.redMul(r.redMul(e.z)),u=e.y.redMul(n.redMul(this.z)),f=o.redSub(l),h=c.redSub(u);if(f.cmpn(0)===0)return h.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=f.redSqr(),y=m.redMul(f),k=o.redMul(m),g=h.redSqr().redIAdd(y).redISub(k).redISub(k),j=h.redMul(k.redISub(g)).redISub(c.redMul(y)),N=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(g,j,N)};Or.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,o=e.x.redMul(r),l=this.y,c=e.y.redMul(r).redMul(this.z),u=n.redSub(o),f=l.redSub(c);if(u.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=u.redSqr(),m=h.redMul(u),y=n.redMul(h),k=f.redSqr().redIAdd(m).redISub(y).redISub(y),g=f.redMul(y.redISub(k)).redISub(l.redMul(m)),j=this.z.redMul(u);return this.curve.jpoint(k,g,j)};Or.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var o=this.curve.a,l=this.curve.tinv,c=this.x,u=this.y,f=this.z,h=f.redSqr().redSqr(),m=u.redAdd(u);for(r=0;r<e;r++){var y=c.redSqr(),k=m.redSqr(),g=k.redSqr(),j=y.redAdd(y).redIAdd(y).redIAdd(o.redMul(h)),N=c.redMul(k),C=j.redSqr().redISub(N.redAdd(N)),S=N.redISub(C),D=j.redMul(S);D=D.redIAdd(D).redISub(g);var O=m.redMul(f);r+1<e&&(h=h.redMul(g)),c=C,f=O,m=D}return this.curve.jpoint(c,m.redMul(l),f)};Or.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Or.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var o=this.x.redSqr(),l=this.y.redSqr(),c=l.redSqr(),u=this.x.redAdd(l).redSqr().redISub(o).redISub(c);u=u.redIAdd(u);var f=o.redAdd(o).redIAdd(o),h=f.redSqr().redISub(u).redISub(u),m=c.redIAdd(c);m=m.redIAdd(m),m=m.redIAdd(m),e=h,r=f.redMul(u.redISub(h)).redISub(m),n=this.y.redAdd(this.y)}else{var y=this.x.redSqr(),k=this.y.redSqr(),g=k.redSqr(),j=this.x.redAdd(k).redSqr().redISub(y).redISub(g);j=j.redIAdd(j);var N=y.redAdd(y).redIAdd(y),C=N.redSqr(),S=g.redIAdd(g);S=S.redIAdd(S),S=S.redIAdd(S),e=C.redISub(j).redISub(j),r=N.redMul(j.redISub(e)).redISub(S),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Or.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var o=this.x.redSqr(),l=this.y.redSqr(),c=l.redSqr(),u=this.x.redAdd(l).redSqr().redISub(o).redISub(c);u=u.redIAdd(u);var f=o.redAdd(o).redIAdd(o).redIAdd(this.curve.a),h=f.redSqr().redISub(u).redISub(u);e=h;var m=c.redIAdd(c);m=m.redIAdd(m),m=m.redIAdd(m),r=f.redMul(u.redISub(h)).redISub(m),n=this.y.redAdd(this.y)}else{var y=this.z.redSqr(),k=this.y.redSqr(),g=this.x.redMul(k),j=this.x.redSub(y).redMul(this.x.redAdd(y));j=j.redAdd(j).redIAdd(j);var N=g.redIAdd(g);N=N.redIAdd(N);var C=N.redAdd(N);e=j.redSqr().redISub(C),n=this.y.redAdd(this.z).redSqr().redISub(k).redISub(y);var S=k.redSqr();S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S),r=j.redMul(N.redISub(e)).redISub(S)}return this.curve.jpoint(e,r,n)};Or.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,o=this.z,l=o.redSqr().redSqr(),c=r.redSqr(),u=n.redSqr(),f=c.redAdd(c).redIAdd(c).redIAdd(e.redMul(l)),h=r.redAdd(r);h=h.redIAdd(h);var m=h.redMul(u),y=f.redSqr().redISub(m.redAdd(m)),k=m.redISub(y),g=u.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var j=f.redMul(k).redISub(g),N=n.redAdd(n).redMul(o);return this.curve.jpoint(y,j,N)};Or.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),o=r.redSqr(),l=e.redAdd(e).redIAdd(e),c=l.redSqr(),u=this.x.redAdd(r).redSqr().redISub(e).redISub(o);u=u.redIAdd(u),u=u.redAdd(u).redIAdd(u),u=u.redISub(c);var f=u.redSqr(),h=o.redIAdd(o);h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=l.redIAdd(u).redSqr().redISub(c).redISub(f).redISub(h),y=r.redMul(m);y=y.redIAdd(y),y=y.redIAdd(y);var k=this.x.redMul(f).redISub(y);k=k.redIAdd(k),k=k.redIAdd(k);var g=this.y.redMul(m.redMul(h.redISub(m)).redISub(u.redMul(f)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var j=this.z.redAdd(u).redSqr().redISub(n).redISub(f);return this.curve.jpoint(k,g,j)};Or.prototype.mul=function(e,r){return e=new Qe(e,r),this.curve._wnafMul(this,e)};Or.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var o=r.redMul(this.z),l=n.redMul(e.z);return this.y.redMul(l).redISub(e.y.redMul(o)).cmpn(0)===0};Or.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var o=e.clone(),l=this.curve.redN.redMul(r);;){if(o.iadd(this.curve.n),o.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(l),this.x.cmp(n)===0)return!0}};Or.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Or.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Xu=Ga(function(t,e){var r=e;r.base=Oo,r.short=nj,r.mont=null,r.edwards=null}),Zu=Ga(function(t,e){var r=e,n=In.assert;function o(u){u.type==="short"?this.curve=new Xu.short(u):u.type==="edwards"?this.curve=new Xu.edwards(u):this.curve=new Xu.mont(u),this.g=this.curve.g,this.n=this.curve.n,this.hash=u.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=o;function l(u,f){Object.defineProperty(r,u,{configurable:!0,enumerable:!0,get:function(){var h=new o(f);return Object.defineProperty(r,u,{configurable:!0,enumerable:!0,value:h}),h}})}l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Cs.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Cs.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Cs.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Cs.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Cs.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Cs.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Cs.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=null.crash()}catch{c=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Cs.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})});function qi(t){if(!(this instanceof qi))return new qi(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=fs.toArray(t.entropy,t.entropyEnc||"hex"),r=fs.toArray(t.nonce,t.nonceEnc||"hex"),n=fs.toArray(t.pers,t.persEnc||"hex");bp(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Wb=qi;qi.prototype._init=function(e,r,n){var o=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var l=0;l<this.V.length;l++)this.K[l]=0,this.V[l]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656};qi.prototype._hmac=function(){return new Cs.hmac(this.hash,this.K)};qi.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};qi.prototype.reseed=function(e,r,n,o){typeof r!="string"&&(o=n,n=r,r=null),e=fs.toArray(e,r),n=fs.toArray(n,o),bp(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};qi.prototype.generate=function(e,r,n,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(o=n,n=r,r=null),n&&(n=fs.toArray(n,o||"hex"),this._update(n));for(var l=[];l.length<e;)this.V=this._hmac().update(this.V).digest(),l=l.concat(this.V);var c=l.slice(0,e);return this._update(n),this._reseed++,fs.encode(c,r)};var $m=In.assert;function Vr(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var kp=Vr;Vr.fromPublic=function(e,r,n){return r instanceof Vr?r:new Vr(e,{pub:r,pubEnc:n})};Vr.fromPrivate=function(e,r,n){return r instanceof Vr?r:new Vr(e,{priv:r,privEnc:n})};Vr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Vr.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Vr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Vr.prototype._importPrivate=function(e,r){this.priv=new Qe(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Vr.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?$m(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&$m(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Vr.prototype.derive=function(e){return e.validate()||$m(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Vr.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Vr.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};Vr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var sj=In.assert;function zd(t,e){if(t instanceof zd)return t;this._importDER(t,e)||(sj(t.r&&t.s,"Signature without r or s"),this.r=new Qe(t.r,16),this.s=new Qe(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Od=zd;function ij(){this.place=0}function dm(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var o=0,l=0,c=e.place;l<n;l++,c++)o<<=8,o|=t[c],o>>>=0;return o<=127?!1:(e.place=c,o)}function Sy(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}zd.prototype._importDER=function(e,r){e=In.toArray(e,r);var n=new ij;if(e[n.place++]!==48)return!1;var o=dm(e,n);if(o===!1||o+n.place!==e.length||e[n.place++]!==2)return!1;var l=dm(e,n);if(l===!1||(e[n.place]&128)!==0)return!1;var c=e.slice(n.place,l+n.place);if(n.place+=l,e[n.place++]!==2)return!1;var u=dm(e,n);if(u===!1||e.length!==u+n.place||(e[n.place]&128)!==0)return!1;var f=e.slice(n.place,u+n.place);if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new Qe(c),this.s=new Qe(f),this.recoveryParam=null,!0};function fm(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}zd.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Sy(r),n=Sy(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var o=[2];fm(o,r.length),o=o.concat(r),o.push(2),fm(o,n.length);var l=o.concat(n),c=[48];return fm(c,l.length),c=c.concat(l),In.encode(c,e)};var oj=function(){throw new Error("unsupported")},ko=In.assert;function Vn(t){if(!(this instanceof Vn))return new Vn(t);typeof t=="string"&&(ko(Object.prototype.hasOwnProperty.call(Zu,t),"Unknown curve "+t),t=Zu[t]),t instanceof Zu.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var aj=Vn;Vn.prototype.keyPair=function(e){return new kp(this,e)};Vn.prototype.keyFromPrivate=function(e,r){return kp.fromPrivate(this,e,r)};Vn.prototype.keyFromPublic=function(e,r){return kp.fromPublic(this,e,r)};Vn.prototype.genKeyPair=function(e){e||(e={});for(var r=new Wb({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||oj(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new Qe(2));;){var l=new Qe(r.generate(n));if(!(l.cmp(o)>0))return l.iaddn(1),this.keyFromPrivate(l)}};Vn.prototype._truncateToN=function(e,r,n){var o;if(Qe.isBN(e)||typeof e=="number")e=new Qe(e,16),o=e.byteLength();else if(typeof e=="object")o=e.length,e=new Qe(e,16);else{var l=e.toString();o=l.length+1>>>1,e=new Qe(l,16)}typeof n!="number"&&(n=o*8);var c=n-this.n.bitLength();return c>0&&(e=e.ushrn(c)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Vn.prototype.sign=function(e,r,n,o){if(typeof n=="object"&&(o=n,n=null),o||(o={}),typeof e!="string"&&typeof e!="number"&&!Qe.isBN(e)){ko(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),ko(e.length>>>0===e.length);for(var l=0;l<e.length;l++)ko((e[l]&255)===e[l])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,o.msgBitLength),ko(!e.isNeg(),"Can not sign a negative message");var c=this.n.byteLength(),u=r.getPrivate().toArray("be",c),f=e.toArray("be",c);ko(new Qe(f).eq(e),"Can not sign message");for(var h=new Wb({hash:this.hash,entropy:u,nonce:f,pers:o.pers,persEnc:o.persEnc||"utf8"}),m=this.n.sub(new Qe(1)),y=0;;y++){var k=o.k?o.k(y):new Qe(h.generate(this.n.byteLength()));if(k=this._truncateToN(k,!0),!(k.cmpn(1)<=0||k.cmp(m)>=0)){var g=this.g.mul(k);if(!g.isInfinity()){var j=g.getX(),N=j.umod(this.n);if(N.cmpn(0)!==0){var C=k.invm(this.n).mul(N.mul(r.getPrivate()).iadd(e));if(C=C.umod(this.n),C.cmpn(0)!==0){var S=(g.getY().isOdd()?1:0)|(j.cmp(N)!==0?2:0);return o.canonical&&C.cmp(this.nh)>0&&(C=this.n.sub(C),S^=1),new Od({r:N,s:C,recoveryParam:S})}}}}}};Vn.prototype.verify=function(e,r,n,o,l){l||(l={}),e=this._truncateToN(e,!1,l.msgBitLength),n=this.keyFromPublic(n,o),r=new Od(r,"hex");var c=r.r,u=r.s;if(c.cmpn(1)<0||c.cmp(this.n)>=0||u.cmpn(1)<0||u.cmp(this.n)>=0)return!1;var f=u.invm(this.n),h=f.mul(e).umod(this.n),m=f.mul(c).umod(this.n),y;return this.curve._maxwellTrick?(y=this.g.jmulAdd(h,n.getPublic(),m),y.isInfinity()?!1:y.eqXToP(c)):(y=this.g.mulAdd(h,n.getPublic(),m),y.isInfinity()?!1:y.getX().umod(this.n).cmp(c)===0)};Vn.prototype.recoverPubKey=function(t,e,r,n){ko((3&r)===r,"The recovery param is more than two bits"),e=new Od(e,n);var o=this.n,l=new Qe(t),c=e.r,u=e.s,f=r&1,h=r>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");h?c=this.curve.pointFromX(c.add(this.curve.n),f):c=this.curve.pointFromX(c,f);var m=e.r.invm(o),y=o.sub(l).mul(m).umod(o),k=u.mul(m).umod(o);return this.g.mulAdd(y,c,k)};Vn.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Od(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var o=0;o<4;o++){var l;try{l=this.recoverPubKey(t,e,o)}catch{continue}if(l.eq(r))return o}throw new Error("Unable to find valid recovery factor")};var lj=Ga(function(t,e){var r=e;r.version="6.6.1",r.utils=In,r.rand=function(){throw new Error("unsupported")},r.curve=Xu,r.curves=Zu,r.ec=aj,r.eddsa=null}),cj=lj.ec;const uj="signing-key/5.8.0",Wm=new X(uj);let hm=null;function Fi(){return hm||(hm=new cj("secp256k1")),hm}class dj{constructor(e){he(this,"curve","secp256k1"),he(this,"privateKey",ze(e)),Eo(this.privateKey)!==32&&Wm.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Fi().keyFromPrivate(qe(this.privateKey));he(this,"publicKey","0x"+r.getPublic(!1,"hex")),he(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),he(this,"_isSigningKey",!0)}_addPoint(e){const r=Fi().keyFromPublic(qe(this.publicKey)),n=Fi().keyFromPublic(qe(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=Fi().keyFromPrivate(qe(this.privateKey)),n=qe(e);n.length!==32&&Wm.throwArgumentError("bad digest length","digest",e);const o=r.sign(n,{canonical:!0});return _d({recoveryParam:o.recoveryParam,r:tr("0x"+o.r.toString(16),32),s:tr("0x"+o.s.toString(16),32)})}computeSharedSecret(e){const r=Fi().keyFromPrivate(qe(this.privateKey)),n=Fi().keyFromPublic(qe(Hb(e)));return tr("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function fj(t,e){const r=_d(e),n={r:qe(r.r),s:qe(r.s)};return"0x"+Fi().recoverPubKey(qe(t),n,r.recoveryParam).encode("hex",!1)}function Hb(t,e){const r=qe(t);return r.length===32?new dj(r).publicKey:r.length===33?"0x"+Fi().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?ze(r):Wm.throwArgumentError("invalid public or private key","key","[REDACTED]")}const hj="transactions/5.8.0",ci=new X(hj);var Ty;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(Ty||(Ty={}));function Np(t){return t==="0x"?null:jr(t)}function Gr(t){return t==="0x"?Nb:ce.from(t)}function mj(t){const e=Hb(t);return jr(qr(wr(qr(e,1)),12))}function qb(t,e){return mj(fj(qe(t),e))}function An(t,e){const r=Ia(ce.from(t).toHexString());return r.length>32&&ci.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function mm(t,e){return{address:jr(t),storageKeys:(e||[]).map((r,n)=>(Eo(r)!==32&&ci.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function Lo(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&ci.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),mm(r[0],r[1])):mm(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((o,l)=>(o[l]=!0,o),{});return mm(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function Gb(t){return Lo(t).map(e=>[e.address,e.storageKeys])}function pj(t,e){if(t.gasPrice!=null){const n=ce.from(t.gasPrice),o=ce.from(t.maxFeePerGas||0);n.eq(o)||ci.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:o})}const r=[An(t.chainId||0,"chainId"),An(t.nonce||0,"nonce"),An(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),An(t.maxFeePerGas||0,"maxFeePerGas"),An(t.gasLimit||0,"gasLimit"),t.to!=null?jr(t.to):"0x",An(t.value||0,"value"),t.data||"0x",Gb(t.accessList||[])];if(e){const n=_d(e);r.push(An(n.recoveryParam,"recoveryParam")),r.push(Ia(n.r)),r.push(Ia(n.s))}return pn(["0x02",Id(r)])}function gj(t,e){const r=[An(t.chainId||0,"chainId"),An(t.nonce||0,"nonce"),An(t.gasPrice||0,"gasPrice"),An(t.gasLimit||0,"gasLimit"),t.to!=null?jr(t.to):"0x",An(t.value||0,"value"),t.data||"0x",Gb(t.accessList||[])];if(e){const n=_d(e);r.push(An(n.recoveryParam,"recoveryParam")),r.push(Ia(n.r)),r.push(Ia(n.s))}return pn(["0x01",Id(r)])}function Vb(t,e,r){try{const n=Gr(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{ci.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=tr(e[1],32),t.s=tr(e[2],32);try{const n=wr(r(t));t.from=qb(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function xj(t){const e=xp(t.slice(1));e.length!==9&&e.length!==12&&ci.throwArgumentError("invalid component count for transaction type: 2","payload",ze(t));const r=Gr(e[2]),n=Gr(e[3]),o={type:2,chainId:Gr(e[0]).toNumber(),nonce:Gr(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Gr(e[4]),to:Np(e[5]),value:Gr(e[6]),data:e[7],accessList:Lo(e[8])};return e.length===9||(o.hash=wr(t),Vb(o,e.slice(9),pj)),o}function yj(t){const e=xp(t.slice(1));e.length!==8&&e.length!==11&&ci.throwArgumentError("invalid component count for transaction type: 1","payload",ze(t));const r={type:1,chainId:Gr(e[0]).toNumber(),nonce:Gr(e[1]).toNumber(),gasPrice:Gr(e[2]),gasLimit:Gr(e[3]),to:Np(e[4]),value:Gr(e[5]),data:e[6],accessList:Lo(e[7])};return e.length===8||(r.hash=wr(t),Vb(r,e.slice(8),gj)),r}function vj(t){const e=xp(t);e.length!==9&&e.length!==6&&ci.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Gr(e[0]).toNumber(),gasPrice:Gr(e[1]),gasLimit:Gr(e[2]),to:Np(e[3]),value:Gr(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=ce.from(e[6]).toNumber()}catch{return r}if(r.r=tr(e[7],32),r.s=tr(e[8],32),ce.from(r.r).isZero()&&ce.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const o=e.slice(0,6);r.chainId!==0&&(o.push(ze(r.chainId)),o.push("0x"),o.push("0x"),n-=r.chainId*2+8);const l=wr(Id(o));try{r.from=qb(l,{r:ze(r.r),s:ze(r.s),recoveryParam:n})}catch{}r.hash=wr(t)}return r.type=null,r}function bj(t){const e=qe(t);if(e[0]>127)return vj(e);switch(e[0]){case 1:return yj(e);case 2:return xj(e)}return ci.throwError(`unsupported transaction type: ${e[0]}`,X.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const wj="contracts/5.8.0";var jo=function(t,e,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(y){c(y)}}function f(m){try{h(n.throw(m))}catch(y){c(y)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const dr=new X(wj);function gd(t,e){return jo(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&dr.throwArgumentError("invalid address or ENS name","name",r);try{return jr(r)}catch{}t||dr.throwError("a provider or signer is needed to resolve ENS names",X.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&dr.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function ed(t,e,r){return jo(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,o)=>ed(t,Array.isArray(e)?e[o]:e[n.name],n))):r.type==="address"?yield gd(t,e):r.type==="tuple"?yield ed(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>ed(t,n,r.arrayChildren))):Promise.reject(dr.makeError("invalid value for array",X.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function Ld(t,e,r){return jo(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=er(r.pop())),dr.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=pr({override:gd(t.signer,n.from),signer:t.signer.getAddress()}).then(h=>jo(this,void 0,void 0,function*(){return jr(h.signer)!==h.override&&dr.throwError("Contract with a Signer cannot override from",X.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),h.override})):n.from=t.signer.getAddress():n.from&&(n.from=gd(t.provider,n.from));const o=yield pr({args:ed(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:pr(n)||{}}),l=t.interface.encodeFunctionData(e,o.args),c={data:l,to:o.address},u=o.overrides;if(u.nonce!=null&&(c.nonce=ce.from(u.nonce).toNumber()),u.gasLimit!=null&&(c.gasLimit=ce.from(u.gasLimit)),u.gasPrice!=null&&(c.gasPrice=ce.from(u.gasPrice)),u.maxFeePerGas!=null&&(c.maxFeePerGas=ce.from(u.maxFeePerGas)),u.maxPriorityFeePerGas!=null&&(c.maxPriorityFeePerGas=ce.from(u.maxPriorityFeePerGas)),u.from!=null&&(c.from=u.from),u.type!=null&&(c.type=u.type),u.accessList!=null&&(c.accessList=Lo(u.accessList)),c.gasLimit==null&&e.gas!=null){let h=21e3;const m=qe(l);for(let y=0;y<m.length;y++)h+=4,m[y]&&(h+=64);c.gasLimit=ce.from(e.gas).add(h)}if(u.value){const h=ce.from(u.value);!h.isZero()&&!e.payable&&dr.throwError("non-payable method cannot override value",X.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),c.value=h}u.customData&&(c.customData=er(u.customData)),u.ccipReadEnabled&&(c.ccipReadEnabled=!!u.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const f=Object.keys(n).filter(h=>n[h]!=null);return f.length&&dr.throwError(`cannot override ${f.map(h=>JSON.stringify(h)).join(",")}`,X.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:f}),c})}function kj(t,e){return function(...r){return Ld(t,e,r)}}function Nj(t,e){const r=t.signer||t.provider;return function(...n){return jo(this,void 0,void 0,function*(){r||dr.throwError("estimate require a provider or signer",X.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const o=yield Ld(t,e,n);return yield r.estimateGas(o)})}}function Cj(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(o=>(o.events=o.logs.map(l=>{let c=Rn(l),u=null;try{u=t.interface.parseLog(l)}catch{}return u&&(c.args=u.args,c.decode=(f,h)=>t.interface.decodeEventLog(u.eventFragment,f,h),c.event=u.name,c.eventSignature=u.signature),c.removeListener=()=>t.provider,c.getBlock=()=>t.provider.getBlock(o.blockHash),c.getTransaction=()=>t.provider.getTransaction(o.transactionHash),c.getTransactionReceipt=()=>Promise.resolve(o),c}),o))}function Kb(t,e,r){const n=t.signer||t.provider;return function(...o){return jo(this,void 0,void 0,function*(){let l;if(o.length===e.inputs.length+1&&typeof o[o.length-1]=="object"){const f=er(o.pop());f.blockTag!=null&&(l=yield f.blockTag),delete f.blockTag,o.push(f)}t.deployTransaction!=null&&(yield t._deployed(l));const c=yield Ld(t,e,o),u=yield n.call(c,l);try{let f=t.interface.decodeFunctionResult(e,u);return r&&e.outputs.length===1&&(f=f[0]),f}catch(f){throw f.code===X.errors.CALL_EXCEPTION&&(f.address=t.address,f.args=o,f.transaction=c),f}})}}function Ej(t,e){return function(...r){return jo(this,void 0,void 0,function*(){t.signer||dr.throwError("sending a transaction requires a signer",X.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield Ld(t,e,r),o=yield t.signer.sendTransaction(n);return Cj(t,o),o})}}function Py(t,e,r){return e.constant?Kb(t,e,r):Ej(t,e)}function Yb(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class Jl{constructor(e,r){he(this,"tag",e),he(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const o=e.slice();return setTimeout(()=>{n.listener.apply(this,o)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class Aj extends Jl{constructor(){super("error",null)}}class Ry extends Jl{constructor(e,r,n,o){const l={address:e};let c=r.getEventTopic(n);o?(c!==o[0]&&dr.throwArgumentError("topic mismatch","topics",o),l.topics=o.slice()):l.topics=[c],super(Yb(l),l),he(this,"address",e),he(this,"interface",r),he(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=EE(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class My extends Jl{constructor(e,r){super("*",{address:e}),he(this,"address",e),he(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,o)=>this.interface.decodeEventLog(r.eventFragment,n,o),e.args=r.args}catch{}}}class jj{constructor(e,r,n){he(this,"interface",Tn(new.target,"getInterface")(r)),n==null?(he(this,"provider",null),he(this,"signer",null)):dc.isSigner(n)?(he(this,"provider",n.provider||null),he(this,"signer",n)):uc.isProvider(n)?(he(this,"provider",n),he(this,"signer",null)):dr.throwArgumentError("invalid signer or provider","signerOrProvider",n),he(this,"callStatic",{}),he(this,"estimateGas",{}),he(this,"functions",{}),he(this,"populateTransaction",{}),he(this,"filters",{});{const c={};Object.keys(this.interface.events).forEach(u=>{const f=this.interface.events[u];he(this.filters,u,(...h)=>({address:this.address,topics:this.interface.encodeFilterTopics(f,h)})),c[f.name]||(c[f.name]=[]),c[f.name].push(u)}),Object.keys(c).forEach(u=>{const f=c[u];f.length===1?he(this.filters,u,this.filters[f[0]]):dr.warn(`Duplicate definition of ${u} (${f.join(", ")})`)})}if(he(this,"_runningEvents",{}),he(this,"_wrappedEmits",{}),e==null&&dr.throwArgumentError("invalid contract address or ENS name","addressOrName",e),he(this,"address",e),this.provider)he(this,"resolvedAddress",gd(this.provider,e));else try{he(this,"resolvedAddress",Promise.resolve(jr(e)))}catch{dr.throwError("provider is required to use ENS name as contract address",X.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(c=>{});const o={},l={};Object.keys(this.interface.functions).forEach(c=>{const u=this.interface.functions[c];if(l[c]){dr.warn(`Duplicate ABI entry for ${JSON.stringify(c)}`);return}l[c]=!0;{const f=u.name;o[`%${f}`]||(o[`%${f}`]=[]),o[`%${f}`].push(c)}this[c]==null&&he(this,c,Py(this,u,!0)),this.functions[c]==null&&he(this.functions,c,Py(this,u,!1)),this.callStatic[c]==null&&he(this.callStatic,c,Kb(this,u,!0)),this.populateTransaction[c]==null&&he(this.populateTransaction,c,kj(this,u)),this.estimateGas[c]==null&&he(this.estimateGas,c,Nj(this,u))}),Object.keys(o).forEach(c=>{const u=o[c];if(u.length>1)return;c=c.substring(1);const f=u[0];try{this[c]==null&&he(this,c,this[f])}catch{}this.functions[c]==null&&he(this.functions,c,this.functions[f]),this.callStatic[c]==null&&he(this.callStatic,c,this.callStatic[f]),this.populateTransaction[c]==null&&he(this.populateTransaction,c,this.populateTransaction[f]),this.estimateGas[c]==null&&he(this.estimateGas,c,this.estimateGas[f])})}static getContractAddress(e){return vb(e)}static getInterface(e){return hy.isInterface(e)?e:new hy(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&dr.throwError("contract not deployed",X.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||dr.throwError("sending a transactions require a signer",X.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=er(e||{});return["from","to"].forEach(function(n){r[n]!=null&&dr.throwError("cannot override "+n,X.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new vp(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&he(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Um.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new Aj);if(e==="event")return this._normalizeRunningEvent(new Jl("event",null));if(e==="*")return this._normalizeRunningEvent(new My(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new Ry(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const o=this.interface.getEvent(n);return this._normalizeRunningEvent(new Ry(this.address,this.interface,o,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Jl(Yb(r),r))}return this._normalizeRunningEvent(new My(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const o=Rn(r);return o.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},o.getBlock=()=>this.provider.getBlock(r.blockHash),o.getTransaction=()=>this.provider.getTransaction(r.transactionHash),o.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(o),o}_addEventListener(e,r,n){if(this.provider||dr.throwError("events require a provider or a signer with a provider",X.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const o=l=>{let c=this._wrapEvent(e,l,r);if(c.decodeError==null)try{const u=e.getEmit(c);this.emit(e.filter,...u)}catch(u){c.decodeError=u.error}e.filter!=null&&this.emit("event",c),c.decodeError!=null&&this.emit("error",c.decodeError,c)};this._wrappedEmits[e.tag]=o,e.filter!=null&&this.provider.on(e.filter,o)}}queryFilter(e,r,n){const o=this._getRunningEvent(e),l=er(o.filter);return typeof r=="string"&&ct(r,32)?(n!=null&&dr.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),l.blockHash=r):(l.fromBlock=r??0,l.toBlock=n??"latest"),this.provider.getLogs(l).then(c=>c.map(u=>this._wrapEvent(o,u,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),o=n.run(r)>0;return this._checkRunningEvents(n),o}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(o=>{r.push(o)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const o=this._runningEvents[n];o.removeAllListeners(),this._checkRunningEvents(o)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class Ut extends jj{}class Qb{constructor(e){he(this,"alphabet",e),he(this,"base",e.length),he(this,"_alphabetMap",{}),he(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=qe(e);if(r.length===0)return"";let n=[0];for(let l=0;l<r.length;++l){let c=r[l];for(let u=0;u<n.length;++u)c+=n[u]<<8,n[u]=c%this.base,c=c/this.base|0;for(;c>0;)n.push(c%this.base),c=c/this.base|0}let o="";for(let l=0;r[l]===0&&l<r.length-1;++l)o+=this._leader;for(let l=n.length-1;l>=0;--l)o+=this.alphabet[n[l]];return o}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let o=this._alphabetMap[e[n]];if(o===void 0)throw new Error("Non-base"+this.base+" character");let l=o;for(let c=0;c<r.length;++c)l+=r[c]*this.base,r[c]=l&255,l>>=8;for(;l>0;)r.push(l&255),l>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return qe(new Uint8Array(r.reverse()))}}new Qb("abcdefghijklmnopqrstuvwxyz234567");const Hm=new Qb("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function _y(t){return"0x"+Cs.sha256().update(qe(t)).digest("hex")}function Sj(t){t=t.slice();for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}const Tj="networks/5.8.0",Iy=new X(Tj);function Pj(t){return t&&typeof t.renetwork=="function"}function us(t){const e=function(r,n){n==null&&(n={});const o=[];if(r.InfuraProvider&&n.infura!=="-")try{o.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{o.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{o.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const l=["goerli","ropsten","rinkeby","sepolia"];try{const c=new r.PocketProvider(t,n.pocket);c.network&&l.indexOf(c.network.name)===-1&&o.push(c)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{o.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const l=["ropsten"],c=new r.AnkrProvider(t,n.ankr);c.network&&l.indexOf(c.network.name)===-1&&o.push(c)}catch{}if(r.QuickNodeProvider&&n.quicknode!=="-")try{o.push(new r.QuickNodeProvider(t,n.quicknode))}catch{}if(o.length===0)return null;if(r.FallbackProvider){let l=1;return n.quorum!=null?l=n.quorum:t==="homestead"&&(l=2),new r.FallbackProvider(o,l)}return o[0]};return e.renetwork=function(r){return us(r)},e}function xd(t,e){const r=function(n,o){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return xd(t,n)},r}const Dy={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:us("homestead")},zy={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:us("ropsten")},Oy={chainId:63,name:"classicMordor",_defaultProvider:xd("https://www.ethercluster.com/mordor","classicMordor")},Tu={unspecified:{chainId:0,name:"unspecified"},homestead:Dy,mainnet:Dy,morden:{chainId:2,name:"morden"},ropsten:zy,testnet:zy,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:us("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:us("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:us("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:us("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:us("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:xd("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Oy,classicTestnet:Oy,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:xd("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:us("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:us("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:us("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Jb(t){if(t==null)return null;if(typeof t=="number"){for(const n in Tu){const o=Tu[n];if(o.chainId===t)return{name:o.name,chainId:o.chainId,ensAddress:o.ensAddress||null,_defaultProvider:o._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=Tu[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=Tu[t.name];if(!e)return typeof t.chainId!="number"&&Iy.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&Iy.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(Pj(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}const Rj="web/5.8.0";var Mj=function(t,e,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(y){c(y)}}function f(m){try{h(n.throw(m))}catch(y){c(y)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};function _j(t,e){return Mj(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const c=e.fetchOptions;c.mode&&(r.mode=c.mode),c.cache&&(r.cache=c.cache),c.credentials&&(r.credentials=c.credentials),c.redirect&&(r.redirect=c.redirect),c.referrer&&(r.referrer=c.referrer)}const n=yield fetch(t,r),o=yield n.arrayBuffer(),l={};return n.headers.forEach?n.headers.forEach((c,u)=>{l[u.toLowerCase()]=c}):n.headers.keys().forEach(c=>{l[c.toLowerCase()]=n.headers.get(c)}),{headers:l,statusCode:n.status,statusMessage:n.statusText,body:qe(new Uint8Array(o))}})}var Ij=function(t,e,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(y){c(y)}}function f(m){try{h(n.throw(m))}catch(y){c(y)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const as=new X(Rj);function Ly(t){return new Promise(e=>{setTimeout(e,t)})}function Ii(t,e){if(t==null)return null;if(typeof t=="string")return t;if(mp(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return cc(t)}catch{}return ze(t)}return t}function Dj(t){return _s(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function zj(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;as.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const o=typeof t=="object"?t.throttleCallback:null,l=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;as.assertArgument(l>0&&l%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",l);const c=typeof t=="object"?!!t.errorPassThrough:!1,u={};let f=null;const h={method:"GET"};let m=!1,y=120*1e3;if(typeof t=="string")f=t;else if(typeof t=="object"){if((t==null||t.url==null)&&as.throwArgumentError("missing URL","connection.url",t),f=t.url,typeof t.timeout=="number"&&t.timeout>0&&(y=t.timeout),t.headers)for(const S in t.headers)u[S.toLowerCase()]={key:S,value:String(t.headers[S])},["if-none-match","if-modified-since"].indexOf(S.toLowerCase())>=0&&(m=!0);if(h.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){f.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&as.throwError("basic authentication requires a secure https url",X.errors.INVALID_ARGUMENT,{argument:"url",url:f,user:t.user,password:"[REDACTED]"});const S=t.user+":"+t.password;u.authorization={key:"Authorization",value:"Basic "+Tb(_s(S))}}t.skipFetchSetup!=null&&(h.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(h.fetchOptions=er(t.fetchOptions))}const k=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),g=f?f.match(k):null;if(g)try{const S={statusCode:200,statusMessage:"OK",headers:{"content-type":g[1]||"text/plain"},body:g[2]?Sb(g[3]):Dj(g[3])};let D=S.body;return r&&(D=r(S.body,S)),Promise.resolve(D)}catch(S){as.throwError("processing response error",X.errors.SERVER_ERROR,{body:Ii(g[1],g[2]),error:S,requestBody:null,requestMethod:"GET",url:f})}e&&(h.method="POST",h.body=e,u["content-type"]==null&&(u["content-type"]={key:"Content-Type",value:"application/octet-stream"}),u["content-length"]==null&&(u["content-length"]={key:"Content-Length",value:String(e.length)}));const j={};Object.keys(u).forEach(S=>{const D=u[S];j[D.key]=D.value}),h.headers=j;const N=function(){let S=null;return{promise:new Promise(function(F,L){y&&(S=setTimeout(()=>{S!=null&&(S=null,L(as.makeError("timeout",X.errors.TIMEOUT,{requestBody:Ii(h.body,j["content-type"]),requestMethod:h.method,timeout:y,url:f})))},y))}),cancel:function(){S!=null&&(clearTimeout(S),S=null)}}}(),C=function(){return Ij(this,void 0,void 0,function*(){for(let S=0;S<n;S++){let D=null;try{if(D=yield _j(f,h),S<n){if(D.statusCode===301||D.statusCode===302){const F=D.headers.location||"";if(h.method==="GET"&&F.match(/^https:/)){f=D.headers.location;continue}}else if(D.statusCode===429){let F=!0;if(o&&(F=yield o(S,f)),F){let L=0;const H=D.headers["retry-after"];typeof H=="string"&&H.match(/^[1-9][0-9]*$/)?L=parseInt(H)*1e3:L=l*parseInt(String(Math.random()*Math.pow(2,S))),yield Ly(L);continue}}}}catch(F){D=F.response,D==null&&(N.cancel(),as.throwError("missing response",X.errors.SERVER_ERROR,{requestBody:Ii(h.body,j["content-type"]),requestMethod:h.method,serverError:F,url:f}))}let O=D.body;if(m&&D.statusCode===304?O=null:!c&&(D.statusCode<200||D.statusCode>=300)&&(N.cancel(),as.throwError("bad response",X.errors.SERVER_ERROR,{status:D.statusCode,headers:D.headers,body:Ii(O,D.headers?D.headers["content-type"]:null),requestBody:Ii(h.body,j["content-type"]),requestMethod:h.method,url:f})),r)try{const F=yield r(O,D);return N.cancel(),F}catch(F){if(F.throttleRetry&&S<n){let L=!0;if(o&&(L=yield o(S,f)),L){const H=l*parseInt(String(Math.random()*Math.pow(2,S)));yield Ly(H);continue}}N.cancel(),as.throwError("processing response error",X.errors.SERVER_ERROR,{body:Ii(O,D.headers?D.headers["content-type"]:null),error:F,requestBody:Ii(h.body,j["content-type"]),requestMethod:h.method,url:f})}return N.cancel(),O}return as.throwError("failed response",X.errors.SERVER_ERROR,{requestBody:Ii(h.body,j["content-type"]),requestMethod:h.method,url:f})})}();return Promise.race([N.promise,C])}function Fd(t,e,r){let n=(l,c)=>{let u=null;if(l!=null)try{u=JSON.parse(cc(l))}catch(f){as.throwError("invalid JSON",X.errors.SERVER_ERROR,{body:l,error:f})}return r&&(u=r(u,c)),u},o=null;if(e!=null){o=_s(e);const l=typeof t=="string"?{url:t}:er(t);l.headers?Object.keys(l.headers).filter(u=>u.toLowerCase()==="content-type").length!==0||(l.headers=er(l.headers),l.headers["content-type"]="application/json"):l.headers={"content-type":"application/json"},t=l}return zj(t,o,n)}function Aa(t,e){return e||(e={}),e=er(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let o=null,l=!1;const c=()=>l?!1:(l=!0,o&&clearTimeout(o),!0);e.timeout&&(o=setTimeout(()=>{c()&&n(new Error("timeout"))},e.timeout));const u=e.retryLimit;let f=0;function h(){return t().then(function(m){if(m!==void 0)c()&&r(m);else if(e.oncePoll)e.oncePoll.once("poll",h);else if(e.onceBlock)e.onceBlock.once("block",h);else if(!l){if(f++,f>u){c()&&n(new Error("retry limit reached"));return}let y=e.interval*parseInt(String(Math.random()*Math.pow(2,f)));y<e.floor&&(y=e.floor),y>e.ceiling&&(y=e.ceiling),setTimeout(h,y)}return null},function(m){c()&&n(m)})}h()})}var pm,Fy;function Oj(){if(Fy)return pm;Fy=1;for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",e={},r=0;r<t.length;r++){var n=t.charAt(r);if(e[n]!==void 0)throw new TypeError(n+" is ambiguous");e[n]=r}function o(N){var C=N>>25;return(N&33554431)<<5^-(C>>0&1)&996825010^-(C>>1&1)&642813549^-(C>>2&1)&513874426^-(C>>3&1)&1027748829^-(C>>4&1)&705979059}function l(N){for(var C=1,S=0;S<N.length;++S){var D=N.charCodeAt(S);if(D<33||D>126)return"Invalid prefix ("+N+")";C=o(C)^D>>5}for(C=o(C),S=0;S<N.length;++S){var O=N.charCodeAt(S);C=o(C)^O&31}return C}function c(N,C,S){if(S=S||90,N.length+7+C.length>S)throw new TypeError("Exceeds length limit");N=N.toLowerCase();var D=l(N);if(typeof D=="string")throw new Error(D);for(var O=N+"1",F=0;F<C.length;++F){var L=C[F];if(L>>5!==0)throw new Error("Non 5-bit word");D=o(D)^L,O+=t.charAt(L)}for(F=0;F<6;++F)D=o(D);for(D^=1,F=0;F<6;++F){var H=D>>(5-F)*5&31;O+=t.charAt(H)}return O}function u(N,C){if(C=C||90,N.length<8)return N+" too short";if(N.length>C)return"Exceeds length limit";var S=N.toLowerCase(),D=N.toUpperCase();if(N!==S&&N!==D)return"Mixed-case string "+N;N=S;var O=N.lastIndexOf("1");if(O===-1)return"No separator character for "+N;if(O===0)return"Missing prefix for "+N;var F=N.slice(0,O),L=N.slice(O+1);if(L.length<6)return"Data too short";var H=l(F);if(typeof H=="string")return H;for(var q=[],Y=0;Y<L.length;++Y){var Q=L.charAt(Y),re=e[Q];if(re===void 0)return"Unknown character "+Q;H=o(H)^re,!(Y+6>=L.length)&&q.push(re)}return H!==1?"Invalid checksum for "+N:{prefix:F,words:q}}function f(){var N=u.apply(null,arguments);if(typeof N=="object")return N}function h(N){var C=u.apply(null,arguments);if(typeof C=="object")return C;throw new Error(C)}function m(N,C,S,D){for(var O=0,F=0,L=(1<<S)-1,H=[],q=0;q<N.length;++q)for(O=O<<C|N[q],F+=C;F>=S;)F-=S,H.push(O>>F&L);if(D)F>0&&H.push(O<<S-F&L);else{if(F>=C)return"Excess padding";if(O<<S-F&L)return"Non-zero padding"}return H}function y(N){var C=m(N,8,5,!0);if(Array.isArray(C))return C}function k(N){var C=m(N,8,5,!0);if(Array.isArray(C))return C;throw new Error(C)}function g(N){var C=m(N,5,8,!1);if(Array.isArray(C))return C}function j(N){var C=m(N,5,8,!1);if(Array.isArray(C))return C;throw new Error(C)}return pm={decodeUnsafe:f,decode:h,encode:c,toWordsUnsafe:y,toWords:k,fromWordsUnsafe:g,fromWords:j},pm}var Lj=Oj();const By=$a(Lj),Lr="providers/5.8.0",Tl=new X(Lr);class Re{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),o=this.blockTag.bind(this),l=this.data.bind(this),c=this.hash.bind(this),u=this.hex.bind(this),f=this.number.bind(this),h=this.type.bind(this),m=y=>this.data(y,!0);return e.transaction={hash:c,type:h,accessList:Re.allowNull(this.accessList.bind(this),null),blockHash:Re.allowNull(c,null),blockNumber:Re.allowNull(f,null),transactionIndex:Re.allowNull(f,null),confirmations:Re.allowNull(f,null),from:r,gasPrice:Re.allowNull(n),maxPriorityFeePerGas:Re.allowNull(n),maxFeePerGas:Re.allowNull(n),gasLimit:n,to:Re.allowNull(r,null),value:n,nonce:f,data:l,r:Re.allowNull(this.uint256),s:Re.allowNull(this.uint256),v:Re.allowNull(f),creates:Re.allowNull(r,null),raw:Re.allowNull(l)},e.transactionRequest={from:Re.allowNull(r),nonce:Re.allowNull(f),gasLimit:Re.allowNull(n),gasPrice:Re.allowNull(n),maxPriorityFeePerGas:Re.allowNull(n),maxFeePerGas:Re.allowNull(n),to:Re.allowNull(r),value:Re.allowNull(n),data:Re.allowNull(m),type:Re.allowNull(f),accessList:Re.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:f,blockNumber:f,transactionHash:c,address:r,topics:Re.arrayOf(c),data:l,logIndex:f,blockHash:c},e.receipt={to:Re.allowNull(this.address,null),from:Re.allowNull(this.address,null),contractAddress:Re.allowNull(r,null),transactionIndex:f,root:Re.allowNull(u),gasUsed:n,logsBloom:Re.allowNull(l),blockHash:c,transactionHash:c,logs:Re.arrayOf(this.receiptLog.bind(this)),blockNumber:f,confirmations:Re.allowNull(f,null),cumulativeGasUsed:n,effectiveGasPrice:Re.allowNull(n),status:Re.allowNull(f),type:h},e.block={hash:Re.allowNull(c),parentHash:c,number:f,timestamp:f,nonce:Re.allowNull(u),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:Re.allowNull(r),extraData:l,transactions:Re.allowNull(Re.arrayOf(c)),baseFeePerGas:Re.allowNull(n)},e.blockWithTransactions=er(e.block),e.blockWithTransactions.transactions=Re.allowNull(Re.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Re.allowNull(o,void 0),toBlock:Re.allowNull(o,void 0),blockHash:Re.allowNull(c,void 0),address:Re.allowNull(r,void 0),topics:Re.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Re.allowNull(f),blockHash:Re.allowNull(c),transactionIndex:f,removed:Re.allowNull(this.boolean.bind(this)),address:r,data:Re.allowFalsish(l,"0x"),topics:Re.arrayOf(c),transactionHash:c,logIndex:f},e}accessList(e){return Lo(e||[])}number(e){return e==="0x"?0:ce.from(e).toNumber()}type(e){return e==="0x"||e==null?0:ce.from(e).toNumber()}bigNumber(e){return ce.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),ct(e))?e.toLowerCase():Tl.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return jr(e)}callAddress(e){if(!ct(e,32))return null;const r=jr(qr(e,12));return r===_e?null:r}contractAddress(e){return vb(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||ct(e))return Md(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return Eo(n)!==32?Tl.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=ce.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!ct(e))throw new Error("invalid uint256");return tr(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,o=Re.check(r,e);return o._difficulty=n==null?null:ce.from(n),o}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Re.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&ce.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=Re.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;ct(n)&&(n=ce.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),ct(n)&&(n=ce.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return bj(e)}receiptLog(e){return Re.check(this.formats.receiptLog,e)}receipt(e){const r=Re.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=ce.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&Tl.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):Tl.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&Tl.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return Re.check(this.formats.filter,e)}filterLog(e){return Re.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const o in e)try{const l=e[o](r[o]);l!==void 0&&(n[o]=l)}catch(l){throw l.checkKey=o,l.checkValue=r[o],l}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(o){n.push(e(o))}),n}}}function Fj(t){return t&&typeof t.isCommunityResource=="function"}function Uy(t){return Fj(t)&&t.isCommunityResource()}let $y=!1;function Bd(){$y||($y=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var et=function(t,e,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(y){c(y)}}function f(m){try{h(n.throw(m))}catch(y){c(y)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const pt=new X(Lr),Bj=10;function Wy(t){return t==null?"null":(Eo(t)!==32&&pt.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function Hy(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(o=>{r[Wy(o)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return Wy(e)}).join("&")}function Uj(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function xa(t){if(typeof t=="string"){if(t=t.toLowerCase(),Eo(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+Hy(t);if(UA.isForkEvent(t))throw pt.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+Hy(t.topics||[])}throw new Error("invalid event - "+t)}function Pl(){return new Date().getTime()}function qy(t){return new Promise(e=>{setTimeout(e,t)})}const $j=["block","network","pending","poll"];let Wj=class{constructor(e,r,n){he(this,"tag",e),he(this,"listener",r),he(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=Uj(e[2]),o={};return n.length>0&&(o.topics=n),r&&r!=="*"&&(o.address=r),o}pollable(){return this.tag.indexOf(":")>=0||$j.indexOf(this.tag)>=0}};const Hj={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function gm(t){return tr(ce.from(t).toHexString(),32)}function Gy(t){return Hm.encode(Sn([t,qr(_y(_y(t)),0,4)]))}const Xb=new RegExp("^(ipfs)://(.*)$","i"),Vy=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Xb,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function td(t,e){try{return cc(Xl(t,e))}catch{}return null}function Xl(t,e){if(t==="0x")return null;const r=ce.from(qr(t,e,e+32)).toNumber(),n=ce.from(qr(t,r,r+32)).toNumber();return qr(t,r+32,r+32+n)}function xm(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):pt.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function Ky(t){const e=qe(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function qj(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function Zb(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const o=qe(t[n]);e[n]=Ky(r),e.push(Ky(o.length)),e.push(qj(o)),r+=32+Math.ceil(o.length/32)*32}return pn(e)}class Yy{constructor(e,r,n,o){he(this,"provider",e),he(this,"name",n),he(this,"address",e.formatter.address(r)),he(this,"_resolvedAddress",o)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>ce.from(e).eq(1)).catch(e=>{if(e.code===X.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return et(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:pn([e,Ju(this.name),r||"0x"])};let o=!1;(yield this.supportsWildcard())&&(o=!0,n.data=pn(["0x9061b923",Zb([AA(this.name),n.data])]));try{let l=yield this.provider.call(n);return qe(l).length%32===4&&pt.throwError("resolver threw error",X.errors.CALL_EXCEPTION,{transaction:n,data:l}),o&&(l=Xl(l,0)),l}catch(l){if(l.code===X.errors.CALL_EXCEPTION)return null;throw l}})}_fetchBytes(e,r){return et(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?Xl(n,0):null})}_getAddress(e,r){const n=Hj[String(e)];if(n==null&&pt.throwError(`unsupported coin type: ${e}`,X.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const o=qe(r);if(n.p2pkh!=null){const l=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(l){const c=parseInt(l[1],16);if(l[2].length===c*2&&c>=1&&c<=75)return Gy(Sn([[n.p2pkh],"0x"+l[2]]))}}if(n.p2sh!=null){const l=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(l){const c=parseInt(l[1],16);if(l[2].length===c*2&&c>=1&&c<=75)return Gy(Sn([[n.p2sh],"0x"+l[2]]))}}if(n.prefix!=null){const l=o[1];let c=o[0];if(c===0?l!==20&&l!==32&&(c=-1):c=-1,c>=0&&o.length===2+l&&l>=1&&l<=75){const u=By.toWords(o.slice(2));return u.unshift(c),By.encode(n.prefix,u)}}return null}getAddress(e){return et(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const o=yield this._fetch("0x3b3b57de");return o==="0x"||o===HE?null:this.provider.formatter.callAddress(o)}catch(o){if(o.code===X.errors.CALL_EXCEPTION)return null;throw o}const r=yield this._fetchBytes("0xf1cb7e06",gm(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&pt.throwError("invalid or unsupported coin data",X.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return et(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<Vy.length;n++){const o=r.match(Vy[n]);if(o==null)continue;const l=o[1].toLowerCase();switch(l){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:xm(r)};case"erc721":case"erc1155":{const c=l==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:l,content:r});const u=this._resolvedAddress||(yield this.getAddress()),f=(o[2]||"").split("/");if(f.length!==2)return null;const h=yield this.provider.formatter.address(f[0]),m=tr(ce.from(f[1]).toHexString(),32);if(l==="erc721"){const N=this.provider.formatter.callAddress(yield this.provider.call({to:h,data:pn(["0x6352211e",m])}));if(u!==N)return null;e.push({type:"owner",content:N})}else if(l==="erc1155"){const N=ce.from(yield this.provider.call({to:h,data:pn(["0x00fdd58e",tr(u,32),m])}));if(N.isZero())return null;e.push({type:"balance",content:N.toString()})}const y={to:this.provider.formatter.address(f[0]),data:pn([c,m])};let k=td(yield this.provider.call(y),0);if(k==null)return null;e.push({type:"metadata-url-base",content:k}),l==="erc1155"&&(k=k.replace("{id}",m.substring(2)),e.push({type:"metadata-url-expanded",content:k})),k.match(/^ipfs:/i)&&(k=xm(k)),e.push({type:"metadata-url",content:k});const g=yield Fd(k);if(!g)return null;e.push({type:"metadata",content:JSON.stringify(g)});let j=g.image;if(typeof j!="string")return null;if(!j.match(/^(https:\/\/|data:)/i)){if(j.match(Xb)==null)return null;e.push({type:"url-ipfs",content:j}),j=xm(j)}return e.push({type:"url",content:j}),{linkage:e,url:j}}}}}catch{}return null})}getContentHash(){return et(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const c=parseInt(r[3],16);if(r[4].length===c*2)return"ipfs://"+Hm.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const c=parseInt(n[3],16);if(n[4].length===c*2)return"ipns://"+Hm.encode("0x"+n[1])}const o=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(o&&o[1].length===64)return"bzz://"+o[1];const l=e.match(/^0x90b2c605([0-9a-f]*)$/);if(l&&l[1].length===68){const c={"=":"","+":"-","/":"_"};return"sia://"+Tb("0x"+l[1]).replace(/[=+\/]/g,f=>c[f])}return pt.throwError("invalid or unsupported content hash data",X.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return et(this,void 0,void 0,function*(){let r=_s(e);r=Sn([gm(64),gm(r.length),r]),r.length%32!==0&&(r=Sn([r,tr("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",ze(r));return n==null||n==="0x"?null:cc(n)})}}let ym=null,Gj=1;class Cp extends uc{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),he(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=Tn(new.target,"getNetwork")(e);r?(he(this,"_network",r),this.emit("network",r,null)):pt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return et(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||pt.throwError("no network detected",X.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:he(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Aa(()=>this._ready().then(e=>e,e=>{if(!(e.code===X.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return ym==null&&(ym=new Re),ym}static getNetwork(e){return Jb(e??"homestead")}ccipReadFetch(e,r,n){return et(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const o=e.to.toLowerCase(),l=r.toLowerCase(),c=[];for(let u=0;u<n.length;u++){const f=n[u],h=f.replace("{sender}",o).replace("{data}",l),m=f.indexOf("{data}")>=0?null:JSON.stringify({data:l,sender:o}),y=yield Fd({url:h,errorPassThrough:!0},m,(g,j)=>(g.status=j.statusCode,g));if(y.data)return y.data;const k=y.message||"unknown error";if(y.status>=400&&y.status<500)return pt.throwError(`response not found during CCIP fetch: ${k}`,X.errors.SERVER_ERROR,{url:f,errorMessage:k});c.push(k)}return pt.throwError(`error encountered during CCIP fetch: ${c.map(u=>JSON.stringify(u)).join(", ")}`,X.errors.SERVER_ERROR,{urls:n,errorMessages:c})})}_getInternalBlockNumber(e){return et(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const o=this._internalBlockNumber;try{const l=yield o;if(Pl()-l.respTime<=e)return l.blockNumber;break}catch{if(this._internalBlockNumber===o)break}}const r=Pl(),n=pr({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(o=>null,o=>o)}).then(({blockNumber:o,networkError:l})=>{if(l)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),l;const c=Pl();return o=ce.from(o).toNumber(),o<this._maxInternalBlockNumber&&(o=this._maxInternalBlockNumber),this._maxInternalBlockNumber=o,this._setFastBlockNumber(o),{blockNumber:o,reqTime:r,respTime:c}});return this._internalBlockNumber=n,n.catch(o=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return et(this,void 0,void 0,function*(){const e=Gj++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(o){this.emit("error",o);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)pt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",pt.makeError("network block skew detected",X.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let o=this._emitted.block+1;o<=n;o++)this.emit("block",o);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(o=>{if(o==="block")return;const l=this._emitted[o];l!=="pending"&&n-l>12&&delete this._emitted[o]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(o=>{switch(o.type){case"tx":{const l=o.hash;let c=this.getTransactionReceipt(l).then(u=>(!u||u.blockNumber==null||(this._emitted["t:"+l]=u.blockNumber,this.emit(l,u)),null)).catch(u=>{this.emit("error",u)});r.push(c);break}case"filter":{if(!o._inflight){o._inflight=!0,o._lastBlockNumber===-2&&(o._lastBlockNumber=n-1);const l=o.filter;l.fromBlock=o._lastBlockNumber+1,l.toBlock=n;const c=l.toBlock-this._maxFilterBlockRange;c>l.fromBlock&&(l.fromBlock=c),l.fromBlock<0&&(l.fromBlock=0);const u=this.getLogs(l).then(f=>{o._inflight=!1,f.length!==0&&f.forEach(h=>{h.blockNumber>o._lastBlockNumber&&(o._lastBlockNumber=h.blockNumber),this._emitted["b:"+h.blockHash]=h.blockNumber,this._emitted["t:"+h.transactionHash]=h.blockNumber,this.emit(l,h)})}).catch(f=>{this.emit("error",f),o._inflight=!1});r.push(u)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(o=>{this.emit("error",o)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return et(this,void 0,void 0,function*(){return pt.throwError("provider does not support network detection",X.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return et(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield qy(0),this._network;const n=pt.makeError("underlying network changed",X.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Pl();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Pl(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return et(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,o){return et(this,void 0,void 0,function*(){const l=yield this.getTransactionReceipt(e);return(l?l.confirmations:0)>=r?l:new Promise((c,u)=>{const f=[];let h=!1;const m=function(){return h?!0:(h=!0,f.forEach(k=>{k()}),!1)},y=k=>{k.confirmations<r||m()||c(k)};if(this.on(e,y),f.push(()=>{this.removeListener(e,y)}),o){let k=o.startBlock,g=null;const j=N=>et(this,void 0,void 0,function*(){h||(yield qy(1e3),this.getTransactionCount(o.from).then(C=>et(this,void 0,void 0,function*(){if(!h){if(C<=o.nonce)k=N;else{{const S=yield this.getTransaction(e);if(S&&S.blockNumber!=null)return}for(g==null&&(g=k-3,g<o.startBlock&&(g=o.startBlock));g<=N;){if(h)return;const S=yield this.getBlockWithTransactions(g);for(let D=0;D<S.transactions.length;D++){const O=S.transactions[D];if(O.hash===e)return;if(O.from===o.from&&O.nonce===o.nonce){if(h)return;const F=yield this.waitForTransaction(O.hash,r);if(m())return;let L="replaced";O.data===o.data&&O.to===o.to&&O.value.eq(o.value)?L="repriced":O.data==="0x"&&O.from===O.to&&O.value.isZero()&&(L="cancelled"),u(pt.makeError("transaction was replaced",X.errors.TRANSACTION_REPLACED,{cancelled:L==="replaced"||L==="cancelled",reason:L,replacement:this._wrapTransaction(O),hash:e,receipt:F}));return}}g++}}h||this.once("block",j)}}),C=>{h||this.once("block",j)}))});if(h)return;this.once("block",j),f.push(()=>{this.removeListener("block",j)})}if(typeof n=="number"&&n>0){const k=setTimeout(()=>{m()||u(pt.makeError("timeout exceeded",X.errors.TIMEOUT,{timeout:n}))},n);k.unref&&k.unref(),f.push(()=>{clearTimeout(k)})}})})}getBlockNumber(){return et(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return et(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return ce.from(e)}catch(r){return pt.throwError("bad result from backend",X.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return et(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield pr({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),o=yield this.perform("getBalance",n);try{return ce.from(o)}catch(l){return pt.throwError("bad result from backend",X.errors.SERVER_ERROR,{method:"getBalance",params:n,result:o,error:l})}})}getTransactionCount(e,r){return et(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield pr({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),o=yield this.perform("getTransactionCount",n);try{return ce.from(o).toNumber()}catch(l){return pt.throwError("bad result from backend",X.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:o,error:l})}})}getCode(e,r){return et(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield pr({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),o=yield this.perform("getCode",n);try{return ze(o)}catch(l){return pt.throwError("bad result from backend",X.errors.SERVER_ERROR,{method:"getCode",params:n,result:o,error:l})}})}getStorageAt(e,r,n){return et(this,void 0,void 0,function*(){yield this.getNetwork();const o=yield pr({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(c=>Md(c))}),l=yield this.perform("getStorageAt",o);try{return ze(l)}catch(c){return pt.throwError("bad result from backend",X.errors.SERVER_ERROR,{method:"getStorageAt",params:o,result:l,error:c})}})}_wrapTransaction(e,r,n){if(r!=null&&Eo(r)!==32)throw new Error("invalid response - sendTransaction");const o=e;return r!=null&&e.hash!==r&&pt.throwError("Transaction hash mismatch from Provider.sendTransaction.",X.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),o.wait=(l,c)=>et(this,void 0,void 0,function*(){l==null&&(l=1),c==null&&(c=0);let u;l!==0&&n!=null&&(u={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const f=yield this._waitForTransaction(e.hash,l,c,u);return f==null&&l===0?null:(this._emitted["t:"+e.hash]=f.blockNumber,f.status===0&&pt.throwError("transaction failed",X.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:f}),f)}),o}sendTransaction(e){return et(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(l=>ze(l)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const o=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const l=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,l,o)}catch(l){throw l.transaction=n,l.transactionHash=n.hash,l}})}_getTransactionRequest(e){return et(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(o=>{r[o]!=null&&(n[o]=Promise.resolve(r[o]).then(l=>l?this._getAddress(l):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(o=>{r[o]!=null&&(n[o]=Promise.resolve(r[o]).then(l=>l?ce.from(l):null))}),["type"].forEach(o=>{r[o]!=null&&(n[o]=Promise.resolve(r[o]).then(l=>l??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(o=>{r[o]!=null&&(n[o]=Promise.resolve(r[o]).then(l=>l?ze(l):null))}),this.formatter.transactionRequest(yield pr(n))})}_getFilter(e){return et(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield pr(r))})}_call(e,r,n){return et(this,void 0,void 0,function*(){n>=Bj&&pt.throwError("CCIP read exceeded maximum redirections",X.errors.SERVER_ERROR,{redirects:n,transaction:e});const o=e.to,l=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&o!=null&&l.substring(0,10)==="0x556f1830"&&Eo(l)%32===4)try{const c=qr(l,4),u=qr(c,0,32);ce.from(u).eq(o)||pt.throwError("CCIP Read sender did not match",X.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:l});const f=[],h=ce.from(qr(c,32,64)).toNumber(),m=ce.from(qr(c,h,h+32)).toNumber(),y=qr(c,h+32);for(let S=0;S<m;S++){const D=td(y,S*32);D==null&&pt.throwError("CCIP Read contained corrupt URL string",X.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:l}),f.push(D)}const k=Xl(c,64);ce.from(qr(c,100,128)).isZero()||pt.throwError("CCIP Read callback selector included junk",X.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:l});const g=qr(c,96,100),j=Xl(c,128),N=yield this.ccipReadFetch(e,k,f);N==null&&pt.throwError("CCIP Read disabled or provided no URLs",X.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:l});const C={to:o,data:pn([g,Zb([N,j])])};return this._call(C,r,n+1)}catch(c){if(c.code===X.errors.SERVER_ERROR)throw c}try{return ze(l)}catch(c){return pt.throwError("bad result from backend",X.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:l,error:c})}})}call(e,r){return et(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield pr({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return et(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield pr({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return ce.from(n)}catch(o){return pt.throwError("bad result from backend",X.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:o})}})}_getAddress(e){return et(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&pt.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&pt.throwError("ENS name not configured",X.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return et(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const o={includeTransactions:!!r};if(ct(e,32))o.blockHash=e;else try{o.blockTag=yield this._getBlockTag(e),ct(o.blockTag)&&(n=parseInt(o.blockTag.substring(2),16))}catch{pt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Aa(()=>et(this,void 0,void 0,function*(){const l=yield this.perform("getBlock",o);if(l==null)return o.blockHash!=null&&this._emitted["b:"+o.blockHash]==null||o.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let c=null;for(let f=0;f<l.transactions.length;f++){const h=l.transactions[f];if(h.blockNumber==null)h.confirmations=0;else if(h.confirmations==null){c==null&&(c=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let m=c-h.blockNumber+1;m<=0&&(m=1),h.confirmations=m}}const u=this.formatter.blockWithTransactions(l);return u.transactions=u.transactions.map(f=>this._wrapTransaction(f)),u}return this.formatter.block(l)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return et(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Aa(()=>et(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const o=this.formatter.transactionResponse(n);if(o.blockNumber==null)o.confirmations=0;else if(o.confirmations==null){let c=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-o.blockNumber+1;c<=0&&(c=1),o.confirmations=c}return this._wrapTransaction(o)}),{oncePoll:this})})}getTransactionReceipt(e){return et(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Aa(()=>et(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const o=this.formatter.receipt(n);if(o.blockNumber==null)o.confirmations=0;else if(o.confirmations==null){let c=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-o.blockNumber+1;c<=0&&(c=1),o.confirmations=c}return o}),{oncePoll:this})})}getLogs(e){return et(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield pr({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(o=>{o.removed==null&&(o.removed=!1)}),Re.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return et(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return et(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&pt.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return et(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const o=new Yy(this,n,e);return r!==e&&!(yield o.supportsWildcard())?null:o}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return et(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||pt.throwError("network does not support ENS",X.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const o=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+Ju(e).substring(2)});return this.formatter.callAddress(o)}catch{}return null})}resolveName(e){return et(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(ct(e))throw n}typeof e!="string"&&pt.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return et(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const o=td(yield this.call({to:n,data:"0x691f3431"+Ju(r).substring(2)}),0);return(yield this.resolveName(o))!=e?null:o})}getAvatar(e){return et(this,void 0,void 0,function*(){let r=null;if(ct(e)){const l=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",c=yield this._getResolver(l,"getAvatar");if(!c)return null;r=new Yy(this,c,l);try{const u=yield r.getAvatar();if(u)return u.url}catch(u){if(u.code!==X.errors.CALL_EXCEPTION)throw u}try{const u=td(yield this.call({to:c,data:"0x691f3431"+Ju(l).substring(2)}),0);r=yield this.getResolver(u)}catch(u){if(u.code!==X.errors.CALL_EXCEPTION)throw u;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return pt.throwError(e+" not implemented",X.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const o=new Wj(xa(e),r,n);return this._events.push(o),this._startEvent(o),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,o=[],l=xa(e);return this._events=this._events.filter(c=>c.tag!==l?!0:(setTimeout(()=>{c.listener.apply(this,r)},0),n=!0,c.once?(o.push(c),!1):!0)),o.forEach(c=>{this._stopEvent(c)}),n}listenerCount(e){if(!e)return this._events.length;let r=xa(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=xa(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let o=!1,l=xa(e);return this._events=this._events.filter(c=>c.tag!==l||c.listener!=r||o?!0:(o=!0,n.push(c),!1)),n.forEach(c=>{this._stopEvent(c)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=xa(e);this._events=this._events.filter(o=>o.tag!==n?!0:(r.push(o),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var Zs=function(t,e,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(y){c(y)}}function f(m){try{h(n.throw(m))}catch(y){c(y)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const gr=new X(Lr),Vj=["call","estimateGas"];function $l(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=ct(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=$l(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return $l(JSON.parse(t),e)}catch{}return null}function ew(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const l=$l(e,!0);if(l)return l.data;gr.throwError("missing revert data in call exception; Transaction reverted without a reason string",X.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let l=$l(e.body,!1);l==null&&(l=$l(e,!1)),l&&gr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",X.errors.UNPREDICTABLE_GAS_LIMIT,{reason:l.message,method:t,transaction:n,error:e})}let o=e.message;throw e.code===X.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?o=e.error.message:typeof e.body=="string"?o=e.body:typeof e.responseText=="string"&&(o=e.responseText),o=(o||"").toLowerCase(),o.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&gr.throwError("insufficient funds for intrinsic transaction cost",X.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),o.match(/nonce (is )?too low/i)&&gr.throwError("nonce has already been used",X.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),o.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&gr.throwError("replacement fee too low",X.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),o.match(/only replay-protected/i)&&gr.throwError("legacy pre-eip-155 transactions not supported",X.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),Vj.indexOf(t)>=0&&o.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&gr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",X.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function Qy(t){return new Promise(function(e){setTimeout(e,t)})}function Kj(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function Rl(t){return t&&t.toLowerCase()}const qm={};class tw extends dc{constructor(e,r,n){if(super(),e!==qm)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");he(this,"provider",r),n==null&&(n=0),typeof n=="string"?(he(this,"_address",this.provider.formatter.address(n)),he(this,"_index",null)):typeof n=="number"?(he(this,"_index",n),he(this,"_address",null)):gr.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return gr.throwError("cannot alter JSON-RPC Signer connection",X.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Yj(qm,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&gr.throwError("unknown account #"+this._index,X.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=er(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=er(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>Zs(this,void 0,void 0,function*(){if(n==null)return null;const o=yield this.provider.resolveName(n);return o==null&&gr.throwArgumentError("provided ENS name resolves to null","tx.to",n),o}))),pr({tx:pr(e),sender:r}).then(({tx:n,sender:o})=>{n.from!=null?n.from.toLowerCase()!==o&&gr.throwArgumentError("from address mismatch","transaction",e):n.from=o;const l=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[l]).then(c=>c,c=>(typeof c.message=="string"&&c.message.match(/user denied/i)&&gr.throwError("user rejected transaction",X.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),ew("sendTransaction",c,l)))})}signTransaction(e){return gr.throwError("signing transactions is unsupported",X.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Zs(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield Aa(()=>Zs(this,void 0,void 0,function*(){const o=yield this.provider.getTransaction(n);if(o!==null)return this.provider._wrapTransaction(o,n,r)}),{oncePoll:this.provider})}catch(o){throw o.transactionHash=n,o}})}signMessage(e){return Zs(this,void 0,void 0,function*(){const r=typeof e=="string"?_s(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[ze(r),n.toLowerCase()])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&gr.throwError("user rejected signing",X.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),o}})}_legacySignMessage(e){return Zs(this,void 0,void 0,function*(){const r=typeof e=="string"?_s(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),ze(r)])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&gr.throwError("user rejected signing",X.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),o}})}_signTypedData(e,r,n){return Zs(this,void 0,void 0,function*(){const o=yield Cn.resolveNames(e,r,n,c=>this.provider.resolveName(c)),l=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[l.toLowerCase(),JSON.stringify(Cn.getPayload(o.domain,r,o.value))])}catch(c){throw typeof c.message=="string"&&c.message.match(/user denied/i)&&gr.throwError("user rejected signing",X.errors.ACTION_REJECTED,{action:"_signTypedData",from:l,messageData:{domain:o.domain,types:r,value:o.value}}),c}})}unlock(e){return Zs(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class Yj extends tw{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const Qj={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Zl extends Cp{constructor(e,r){let n=r;n==null&&(n=new Promise((o,l)=>{setTimeout(()=>{this.detectNetwork().then(c=>{o(c)},c=>{l(c)})},0)})),super(n),e||(e=Tn(this.constructor,"defaultUrl")()),typeof e=="string"?he(this,"connection",Object.freeze({url:e})):he(this,"connection",Object.freeze(er(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Zs(this,void 0,void 0,function*(){yield Qy(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=Tn(this.constructor,"getNetwork");try{return r(ce.from(e).toNumber())}catch(n){return gr.throwError("could not detect network",X.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return gr.throwError("could not detect network",X.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new tw(qm,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Rn(n),provider:this});const o=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(o&&this._cache[e])return this._cache[e];const l=Fd(this.connection,JSON.stringify(n),Kj).then(c=>(this.emit("debug",{action:"response",request:n,response:c,provider:this}),c),c=>{throw this.emit("debug",{action:"response",error:c,request:n,provider:this}),c});return o&&(this._cache[e]=l,setTimeout(()=>{this._cache[e]=null},0)),l}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Rl(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Rl(r.address),r.blockTag]];case"getCode":return["eth_getCode",[Rl(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Rl(r.address),tr(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[Tn(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[Tn(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=Rl(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return Zs(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const o=r.transaction;if(o&&o.type!=null&&ce.from(o.type).isZero()&&o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null){const l=yield this.getFeeData();l.maxFeePerGas==null&&l.maxPriorityFeePerGas==null&&(r=er(r),r.transaction=er(o),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&gr.throwError(e+" not implemented",X.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(o){return ew(e,o,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function o(){e.send("eth_getFilterChanges",[n]).then(function(l){if(e._pendingFilter!=r)return null;let c=Promise.resolve();return l.forEach(function(u){e._emitted["t:"+u.toLowerCase()]="pending",c=c.then(function(){return e.getTransaction(u).then(function(f){return e.emit("pending",f),null})})}),c.then(function(){return Qy(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){o()},0),null}).catch(l=>{})}return o(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=er(Qj);if(r)for(const l in r)r[l]&&(n[l]=!0);xE(e,n);const o={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(l){if(e[l]==null)return;const c=Md(ce.from(e[l]));l==="gasLimit"&&(l="gas"),o[l]=c}),["from","to","data"].forEach(function(l){e[l]!=null&&(o[l]=ze(e[l]))}),e.accessList&&(o.accessList=Lo(e.accessList)),o}}let Wl=null;try{if(Wl=WebSocket,Wl==null)throw new Error("inject please")}catch{const e=new X(Lr);Wl=function(){e.throwError("WebSockets not supported in this environment",X.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var vm=function(t,e,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(y){c(y)}}function f(m){try{h(n.throw(m))}catch(y){c(y)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const Pu=new X(Lr);let Jj=1;class Ep extends Zl{constructor(e,r){r==="any"&&Pu.throwError("WebSocketProvider does not support 'any' network yet",X.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,r):super("_websocket",r),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?he(this,"_websocket",new Wl(this.connection.url)):he(this,"_websocket",e),he(this,"_requests",{}),he(this,"_subs",{}),he(this,"_subIds",{}),he(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(o=>{this.websocket.send(this._requests[o].payload)})},this.websocket.onmessage=o=>{const l=o.data,c=JSON.parse(l);if(c.id!=null){const u=String(c.id),f=this._requests[u];if(delete this._requests[u],c.result!==void 0)f.callback(null,c.result),this.emit("debug",{action:"response",request:JSON.parse(f.payload),response:c.result,provider:this});else{let h=null;c.error?(h=new Error(c.error.message||"unknown error"),he(h,"code",c.error.code||null),he(h,"response",l)):h=new Error("unknown error"),f.callback(h,void 0),this.emit("debug",{action:"response",error:h,request:JSON.parse(f.payload),provider:this})}}else if(c.method==="eth_subscription"){const u=this._subs[c.params.subscription];u&&u.processFunc(c.params.result)}else console.warn("this should not happen")};const n=setInterval(()=>{this.emit("poll")},1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){Pu.throwError("cannot reset events block on WebSocketProvider",X.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){Pu.throwError("cannot set polling interval on WebSocketProvider",X.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return vm(this,void 0,void 0,function*(){return null})}set polling(e){e&&Pu.throwError("cannot set polling on WebSocketProvider",X.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,r){const n=Jj++;return new Promise((o,l)=>{function c(f,h){return f?l(f):o(h)}const u=JSON.stringify({method:e,params:r,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(u),provider:this}),this._requests[String(n)]={callback:c,payload:u},this._wsReady&&this.websocket.send(u)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,r,n){return vm(this,void 0,void 0,function*(){let o=this._subIds[e];o==null&&(o=Promise.all(r).then(c=>this.send("eth_subscribe",c)),this._subIds[e]=o);const l=yield o;this._subs[l]={tag:e,processFunc:n}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],r=>{const n=ce.from(r.number).toNumber();this._emitted.block=n,this.emit("block",n)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],r=>{this.emit("pending",r)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],r=>{r.removed==null&&(r.removed=!1),this.emit(e.filter,this.formatter.filterLog(r))});break;case"tx":{const r=n=>{const o=n.hash;this.getTransactionReceipt(o).then(l=>{l&&this.emit(o,l)})};r(e),this._subscribe("tx",["newHeads"],n=>{this._events.filter(o=>o.type==="tx").forEach(r)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let r=e.tag;if(e.type==="tx"){if(this._events.filter(o=>o.type==="tx").length)return;r="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[r];n&&(delete this._subIds[r],n.then(o=>{this._subs[o]&&(delete this._subs[o],this.send("eth_unsubscribe",[o]))}))}destroy(){return vm(this,void 0,void 0,function*(){this.websocket.readyState===Wl.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var Xj=function(t,e,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(y){c(y)}}function f(m){try{h(n.throw(m))}catch(y){c(y)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const Dl=new X(Lr);class Zj extends Zl{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return Xj(this,void 0,void 0,function*(){let r=this.network;return r==null&&(r=yield e.detectNetwork.call(this),r||Dl.throwError("no network detected",X.errors.UNKNOWN_ERROR,{}),this._network==null&&(he(this,"_network",r),this.emit("network",r,null))),r})}}class ui extends Zj{constructor(e,r){Dl.checkAbstract(new.target,ui),e=Tn(new.target,"getNetwork")(e),r=Tn(new.target,"getApiKey")(r);const n=Tn(new.target,"getUrl")(e,r);super(n,e),typeof r=="string"?he(this,"apiKey",r):r!=null&&Object.keys(r).forEach(o=>{he(this,o,r[o])})}_startPending(){Dl.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return Dl.throwError("API provider does not support signing",X.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,r){return Dl.throwError("not implemented; sub-classes must override getUrl",X.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const Jy=new X(Lr),rd="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class eS extends Ep{constructor(e,r){const n=new rw(e,r),o=n.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(o,n.network),he(this,"apiKey",n.apiKey)}isCommunityResource(){return this.apiKey===rd}}class rw extends ui{static getWebSocketProvider(e,r){return new eS(e,r)}static getApiKey(e){return e==null?rd:(e&&typeof e!="string"&&Jy.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,r){let n=null;switch(e.name){case"homestead":n="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":n="eth-goerli.g.alchemy.com/v2/";break;case"sepolia":n="eth-sepolia.g.alchemy.com/v2/";break;case"matic":n="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":n="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":n="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":n="arb-goerli.g.alchemy.com/v2/";break;case"arbitrum-sepolia":n="arb-sepolia.g.alchemy.com/v2/";break;case"optimism":n="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":n="opt-goerli.g.alchemy.com/v2/";break;case"optimism-sepolia":n="opt-sepolia.g.alchemy.com/v2/";break;default:Jy.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+n+r,throttleCallback:(o,l)=>(r===rd&&Bd(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===rd}}const tS=new X(Lr),Ru="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function rS(t){switch(t){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"sepolia":return"rpc.ankr.com/eth_sepolia/";case"matic":return"rpc.ankr.com/polygon/";case"maticmum":return"rpc.ankr.com/polygon_mumbai/";case"optimism":return"rpc.ankr.com/optimism/";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet/";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return tS.throwArgumentError("unsupported network","name",t)}class nS extends ui{isCommunityResource(){return this.apiKey===Ru}static getApiKey(e){return e??Ru}static getUrl(e,r){r==null&&(r=Ru);const n={allowGzip:!0,url:"https://"+rS(e.name)+r,throttleCallback:(o,l)=>(r.apiKey===Ru&&Bd(),Promise.resolve(!0))};return r.projectSecret!=null&&(n.user="",n.password=r.projectSecret),n}}var sS=function(t,e,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(y){c(y)}}function f(m){try{h(n.throw(m))}catch(y){c(y)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const Xy=new X(Lr);class iS extends ui{static getApiKey(e){return e!=null&&Xy.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,r){let n=null;switch(e.name){case"homestead":n="https://cloudflare-eth.com/";break;default:Xy.throwArgumentError("unsupported network","network",arguments[0])}return n}perform(e,r){const n=Object.create(null,{perform:{get:()=>super.perform}});return sS(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield n.perform.call(this,"getBlock",{blockTag:"latest"})).number:n.perform.call(this,e,r)})}}var Mu=function(t,e,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(y){c(y)}}function f(m){try{h(n.throw(m))}catch(y){c(y)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const Ui=new X(Lr);function Zy(t){const e={};for(let r in t){if(t[r]==null)continue;let n=t[r];r==="type"&&n===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?n=Md(ze(n)):r==="accessList"?n="["+Lo(n).map(o=>`{address:"${o.address}",storageKeys:["${o.storageKeys.join('","')}"]}`).join(",")+"]":n=ze(n),e[r]=n)}return e}function oS(t){if(t.status==0&&(t.message==="No records found"||t.message==="No transactions found"))return t.result;if(t.status!=1||typeof t.message!="string"||!t.message.match(/^OK/)){const e=new Error("invalid response");throw e.result=JSON.stringify(t),(t.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return t.result}function ev(t){if(t&&t.status==0&&t.message=="NOTOK"&&(t.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(t),e.throttleRetry=!0,e}if(t.jsonrpc!="2.0"){const e=new Error("invalid response");throw e.result=JSON.stringify(t),e}if(t.error){const e=new Error(t.error.message||"unknown error");throw t.error.code&&(e.code=t.error.code),t.error.data&&(e.data=t.error.data),e}return t.result}function tv(t){if(t==="pending")throw new Error("pending not supported");return t==="latest"?t:parseInt(t.substring(2),16)}function bm(t,e,r){if(t==="call"&&e.code===X.errors.SERVER_ERROR){const o=e.error;if(o&&(o.message.match(/reverted/i)||o.message.match(/VM execution error/i))){let l=o.data;if(l&&(l="0x"+l.replace(/^.*0x/i,"")),ct(l))return l;Ui.throwError("missing revert data in call exception",X.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let n=e.message;throw e.code===X.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?n=e.error.message:typeof e.body=="string"?n=e.body:typeof e.responseText=="string"&&(n=e.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&Ui.throwError("insufficient funds for intrinsic transaction cost",X.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&Ui.throwError("nonce has already been used",X.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),n.match(/another transaction with same nonce/)&&Ui.throwError("replacement fee too low",X.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),n.match(/execution failed due to an exception|execution reverted/)&&Ui.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",X.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}class aS extends Cp{constructor(e,r){super(e),he(this,"baseUrl",this.getBaseUrl()),he(this,"apiKey",r||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return Ui.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,r){const n=Object.keys(r).reduce((l,c)=>{const u=r[c];return u!=null&&(l+=`&${c}=${u}`),l},""),o=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${n}${o}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,r){return r.module=e,r.apikey=this.apiKey,r}fetch(e,r,n){return Mu(this,void 0,void 0,function*(){const o=n?this.getPostUrl():this.getUrl(e,r),l=n?this.getPostData(e,r):null,c=e==="proxy"?ev:oS;this.emit("debug",{action:"request",request:o,provider:this});const u={url:o,throttleSlotInterval:1e3,throttleCallback:(m,y)=>(this.isCommunityResource()&&Bd(),Promise.resolve(!0))};let f=null;l&&(u.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},f=Object.keys(l).map(m=>`${m}=${l[m]}`).join("&"));const h=yield Fd(u,f,c||ev);return this.emit("debug",{action:"response",request:o,response:Rn(h),provider:this}),h})}detectNetwork(){return Mu(this,void 0,void 0,function*(){return this.network})}perform(e,r){const n=Object.create(null,{perform:{get:()=>super.perform}});return Mu(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:r.address,tag:r.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:r.address,tag:r.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:r.address,tag:r.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:r.address,position:r.position,tag:r.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:r.signedTransaction},!0).catch(o=>bm("sendTransaction",o,r.signedTransaction));case"getBlock":if(r.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:r.blockTag,boolean:r.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:r.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:r.transactionHash});case"call":{if(r.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const o=Zy(r.transaction);o.module="proxy",o.action="eth_call";try{return yield this.fetch("proxy",o,!0)}catch(l){return bm("call",l,r.transaction)}}case"estimateGas":{const o=Zy(r.transaction);o.module="proxy",o.action="eth_estimateGas";try{return yield this.fetch("proxy",o,!0)}catch(l){return bm("estimateGas",l,r.transaction)}}case"getLogs":{const o={action:"getLogs"};if(r.filter.fromBlock&&(o.fromBlock=tv(r.filter.fromBlock)),r.filter.toBlock&&(o.toBlock=tv(r.filter.toBlock)),r.filter.address&&(o.address=r.filter.address),r.filter.topics&&r.filter.topics.length>0&&(r.filter.topics.length>1&&Ui.throwError("unsupported topic count",X.errors.UNSUPPORTED_OPERATION,{topics:r.filter.topics}),r.filter.topics.length===1)){const u=r.filter.topics[0];(typeof u!="string"||u.length!==66)&&Ui.throwError("unsupported topic format",X.errors.UNSUPPORTED_OPERATION,{topic0:u}),o.topic0=u}const l=yield this.fetch("logs",o);let c={};for(let u=0;u<l.length;u++){const f=l[u];if(f.blockHash==null){if(c[f.blockNumber]==null){const h=yield this.getBlock(f.blockNumber);h&&(c[f.blockNumber]=h.hash)}f.blockHash=c[f.blockNumber]}}return l}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return n.perform.call(this,e,r)})}getHistory(e,r,n){return Mu(this,void 0,void 0,function*(){const o={action:"txlist",address:yield this.resolveName(e),startblock:r??0,endblock:n??99999999,sort:"asc"};return(yield this.fetch("account",o)).map(c=>{["contractAddress","to"].forEach(function(f){c[f]==""&&delete c[f]}),c.creates==null&&c.contractAddress!=null&&(c.creates=c.contractAddress);const u=this.formatter.transactionResponse(c);return c.timeStamp&&(u.timestamp=parseInt(c.timeStamp)),u})})}isCommunityResource(){return this.apiKey==null}}var yd=function(t,e,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function u(m){try{h(n.next(m))}catch(y){c(y)}}function f(m){try{h(n.throw(m))}catch(y){c(y)}}function h(m){m.done?l(m.value):o(m.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const No=new X(Lr);function _u(){return new Date().getTime()}function rv(t){let e=null;for(let r=0;r<t.length;r++){const n=t[r];if(n==null)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||e.ensAddress==null&&n.ensAddress==null)||No.throwArgumentError("provider mismatch","networks",t):e=n}return e}function nv(t,e){t=t.slice().sort();const r=Math.floor(t.length/2);if(t.length%2)return t[r];const n=t[r-1],o=t[r];return e!=null&&Math.abs(n-o)>e?null:(n+o)/2}function ja(t){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return JSON.stringify(t);if(typeof t=="string")return t;if(ce.isBigNumber(t))return t.toString();if(Array.isArray(t))return JSON.stringify(t.map(e=>ja(e)));if(typeof t=="object"){const e=Object.keys(t);return e.sort(),"{"+e.map(r=>{let n=t[r];return typeof n=="function"?n="[function]":n=ja(n),JSON.stringify(r)+":"+n}).join(",")+"}"}throw new Error("unknown value type: "+typeof t)}let lS=1;function sv(t){let e=null,r=null,n=new Promise(c=>{e=function(){r&&(clearTimeout(r),r=null),c()},r=setTimeout(e,t)});const o=c=>(n=n.then(c),n);function l(){return n}return{cancel:e,getPromise:l,wait:o}}const cS=[X.errors.CALL_EXCEPTION,X.errors.INSUFFICIENT_FUNDS,X.errors.NONCE_EXPIRED,X.errors.REPLACEMENT_UNDERPRICED,X.errors.UNPREDICTABLE_GAS_LIMIT],uS=["address","args","errorArgs","errorSignature","method","transaction"];function Iu(t,e){const r={weight:t.weight};return Object.defineProperty(r,"provider",{get:()=>t.provider}),t.start&&(r.start=t.start),e&&(r.duration=e-t.start),t.done&&(t.error?r.error=t.error:r.result=t.result||null),r}function dS(t,e){return function(r){const n={};r.forEach(l=>{const c=t(l.result);n[c]||(n[c]={count:0,result:l.result}),n[c].count++});const o=Object.keys(n);for(let l=0;l<o.length;l++){const c=n[o[l]];if(c.count>=e)return c.result}}}function fS(t,e,r){let n=ja;switch(e){case"getBlockNumber":return function(o){const l=o.map(u=>u.result);let c=nv(o.map(u=>u.result),2);if(c!=null)return c=Math.ceil(c),l.indexOf(c+1)>=0&&c++,c>=t._highestBlockNumber&&(t._highestBlockNumber=c),t._highestBlockNumber};case"getGasPrice":return function(o){const l=o.map(c=>c.result);return l.sort(),l[Math.floor(l.length/2)]};case"getEtherPrice":return function(o){return nv(o.map(l=>l.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(o){return o==null?null:(o=er(o),o.confirmations=-1,ja(o))};break;case"getBlock":r.includeTransactions?n=function(o){return o==null?null:(o=er(o),o.transactions=o.transactions.map(l=>(l=er(l),l.confirmations=-1,l)),ja(o))}:n=function(o){return o==null?null:ja(o)};break;default:throw new Error("unknown method: "+e)}return dS(n,t.quorum)}function Ml(t,e){return yd(this,void 0,void 0,function*(){const r=t.provider;return r.blockNumber!=null&&r.blockNumber>=e||e===-1?r:Aa(()=>new Promise((n,o)=>{setTimeout(function(){return r.blockNumber>=e?n(r):t.cancelled?n(null):n(void 0)},0)}),{oncePoll:r})})}function hS(t,e,r,n){return yd(this,void 0,void 0,function*(){let o=t.provider;switch(r){case"getBlockNumber":case"getGasPrice":return o[r]();case"getEtherPrice":if(o.getEtherPrice)return o.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&ct(n.blockTag)&&(o=yield Ml(t,e)),o[r](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&ct(n.blockTag)&&(o=yield Ml(t,e)),o.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&ct(n.blockTag)&&(o=yield Ml(t,e)),o[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&ct(n.blockTag)&&(o=yield Ml(t,e)),r==="call"&&n.blockTag?o[r](n.transaction,n.blockTag):o[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return o[r](n.transactionHash);case"getLogs":{let l=n.filter;return(l.fromBlock&&ct(l.fromBlock)||l.toBlock&&ct(l.toBlock))&&(o=yield Ml(t,e)),o.getLogs(l)}}return No.throwError("unknown method error",X.errors.UNKNOWN_ERROR,{method:r,params:n})})}class mS extends Cp{constructor(e,r){e.length===0&&No.throwArgumentError("missing providers","providers",e);const n=e.map((c,u)=>{if(uc.isProvider(c)){const m=Uy(c)?2e3:750;return Object.freeze({provider:c,weight:1,stallTimeout:m,priority:1})}const f=er(c);f.priority==null&&(f.priority=1),f.stallTimeout==null&&(f.stallTimeout=Uy(c)?2e3:750),f.weight==null&&(f.weight=1);const h=f.weight;return(h%1||h>512||h<1)&&No.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${u}].weight`,h),Object.freeze(f)}),o=n.reduce((c,u)=>c+u.weight,0);r==null?r=o/2:r>o&&No.throwArgumentError("quorum will always fail; larger than total weight","quorum",r);let l=rv(n.map(c=>c.provider.network));l==null&&(l=new Promise((c,u)=>{setTimeout(()=>{this.detectNetwork().then(c,u)},0)})),super(l),he(this,"providerConfigs",Object.freeze(n)),he(this,"quorum",r),this._highestBlockNumber=-1}detectNetwork(){return yd(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(r=>r.provider.getNetwork()));return rv(e)})}perform(e,r){return yd(this,void 0,void 0,function*(){if(e==="sendTransaction"){const f=yield Promise.all(this.providerConfigs.map(h=>h.provider.sendTransaction(r.signedTransaction).then(m=>m.hash,m=>m)));for(let h=0;h<f.length;h++){const m=f[h];if(typeof m=="string")return m}throw f[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const n=fS(this,e,r),o=Sj(this.providerConfigs.map(er));o.sort((f,h)=>f.priority-h.priority);const l=this._highestBlockNumber;let c=0,u=!0;for(;;){const f=_u();let h=o.filter(g=>g.runner&&f-g.start<g.stallTimeout).reduce((g,j)=>g+j.weight,0);for(;h<this.quorum&&c<o.length;){const g=o[c++],j=lS++;g.start=_u(),g.staller=sv(g.stallTimeout),g.staller.wait(()=>{g.staller=null}),g.runner=hS(g,l,e,r).then(N=>{g.done=!0,g.result=N,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:j,backend:Iu(g,_u()),request:{method:e,params:Rn(r)},provider:this})},N=>{g.done=!0,g.error=N,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:j,backend:Iu(g,_u()),request:{method:e,params:Rn(r)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:j,backend:Iu(g,null),request:{method:e,params:Rn(r)},provider:this}),h+=g.weight}const m=[];o.forEach(g=>{g.done||!g.runner||(m.push(g.runner),g.staller&&m.push(g.staller.getPromise()))}),m.length&&(yield Promise.race(m));const y=o.filter(g=>g.done&&g.error==null);if(y.length>=this.quorum){const g=n(y);if(g!==void 0)return o.forEach(j=>{j.staller&&j.staller.cancel(),j.cancelled=!0}),g;u||(yield sv(100).getPromise()),u=!1}const k=o.reduce((g,j)=>{if(!j.done||j.error==null)return g;const N=j.error.code;return cS.indexOf(N)>=0&&(g[N]||(g[N]={error:j.error,weight:0}),g[N].weight+=j.weight),g},{});if(Object.keys(k).forEach(g=>{const j=k[g];if(j.weight<this.quorum)return;o.forEach(S=>{S.staller&&S.staller.cancel(),S.cancelled=!0});const N=j.error,C={};uS.forEach(S=>{N[S]!=null&&(C[S]=N[S])}),No.throwError(N.reason||N.message,g,C)}),o.filter(g=>!g.done).length===0)break}return o.forEach(f=>{f.staller&&f.staller.cancel(),f.cancelled=!0}),No.throwError("failed to meet quorum",X.errors.SERVER_ERROR,{method:e,params:r,results:o.map(f=>Iu(f)),provider:this})})}}const pS=null,nd=new X(Lr),zl="84842078b09946638c03157f83405213";class gS extends Ep{constructor(e,r){const n=new nw(e,r),o=n.connection;o.password&&nd.throwError("INFURA WebSocket project secrets unsupported",X.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const l=o.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(l,e),he(this,"apiKey",n.projectId),he(this,"projectId",n.projectId),he(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===zl}}class nw extends ui{static getWebSocketProvider(e,r){return new gS(e,r)}static getApiKey(e){const r={apiKey:zl,projectId:zl,projectSecret:null};return e==null||(typeof e=="string"?r.projectId=e:e.projectSecret!=null?(nd.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),nd.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),r.projectId=e.projectId,r.projectSecret=e.projectSecret):e.projectId&&(r.projectId=e.projectId),r.apiKey=r.projectId),r}static getUrl(e,r){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"goerli":n="goerli.infura.io";break;case"sepolia":n="sepolia.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-goerli":n="optimism-goerli.infura.io";break;case"optimism-sepolia":n="optimism-sepolia.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":n="arbitrum-goerli.infura.io";break;case"arbitrum-sepolia":n="arbitrum-sepolia.infura.io";break;default:nd.throwError("unsupported network",X.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const o={allowGzip:!0,url:"https://"+n+"/v3/"+r.projectId,throttleCallback:(l,c)=>(r.projectId===zl&&Bd(),Promise.resolve(!0))};return r.projectSecret!=null&&(o.user="",o.password=r.projectSecret),o}isCommunityResource(){return this.projectId===zl}}const wm=new X(Lr),xS="ETHERS_JS_SHARED";class yS extends ui{static getApiKey(e){return e&&typeof e!="string"&&wm.throwArgumentError("invalid apiKey","apiKey",e),e||xS}static getUrl(e,r){wm.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let n=null;switch(e.name){case"homestead":n="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":n="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":n="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":n="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":n="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:wm.throwArgumentError("unsupported network","network",arguments[0])}return n+"?apiKey="+r}}const iv=new X(Lr),ov="62e1ad51b37b8e00394bda3b";class vS extends ui{static getApiKey(e){const r={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return e==null?r.applicationId=ov:typeof e=="string"?r.applicationId=e:e.applicationSecretKey!=null?(r.applicationId=e.applicationId,r.applicationSecretKey=e.applicationSecretKey):e.applicationId?r.applicationId=e.applicationId:iv.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),r}static getUrl(e,r){let n=null;switch(e?e.name:"unknown"){case"goerli":n="eth-goerli.gateway.pokt.network";break;case"homestead":n="eth-mainnet.gateway.pokt.network";break;case"kovan":n="poa-kovan.gateway.pokt.network";break;case"matic":n="poly-mainnet.gateway.pokt.network";break;case"maticmum":n="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":n="eth-rinkeby.gateway.pokt.network";break;case"ropsten":n="eth-ropsten.gateway.pokt.network";break;default:iv.throwError("unsupported network",X.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const o=`https://${n}/v1/lb/${r.applicationId}`,l={headers:{},url:o};return r.applicationSecretKey!=null&&(l.user="",l.password=r.applicationSecretKey),l}isCommunityResource(){return this.applicationId===ov}}const av=new X(Lr),bS="919b412a057b5e9c9b6dce193c5a60242d6efadb";class wS extends ui{static getApiKey(e){return e&&typeof e!="string"&&av.throwArgumentError("invalid apiKey","apiKey",e),e||bS}static getUrl(e,r){let n=null;switch(e.name){case"homestead":n="ethers.quiknode.pro";break;case"goerli":n="ethers.ethereum-goerli.quiknode.pro";break;case"sepolia":n="ethers.ethereum-sepolia.quiknode.pro";break;case"holesky":n="ethers.ethereum-holesky.quiknode.pro";break;case"arbitrum":n="ethers.arbitrum-mainnet.quiknode.pro";break;case"arbitrum-goerli":n="ethers.arbitrum-goerli.quiknode.pro";break;case"arbitrum-sepolia":n="ethers.arbitrum-sepolia.quiknode.pro";break;case"base":n="ethers.base-mainnet.quiknode.pro";break;case"base-goerli":n="ethers.base-goerli.quiknode.pro";break;case"base-spolia":n="ethers.base-sepolia.quiknode.pro";break;case"bnb":n="ethers.bsc.quiknode.pro";break;case"bnbt":n="ethers.bsc-testnet.quiknode.pro";break;case"matic":n="ethers.matic.quiknode.pro";break;case"maticmum":n="ethers.matic-testnet.quiknode.pro";break;case"optimism":n="ethers.optimism.quiknode.pro";break;case"optimism-goerli":n="ethers.optimism-goerli.quiknode.pro";break;case"optimism-sepolia":n="ethers.optimism-sepolia.quiknode.pro";break;case"xdai":n="ethers.xdai.quiknode.pro";break;default:av.throwArgumentError("unsupported network","network",arguments[0])}return"https://"+n+"/"+r}}const lv=new X(Lr);let kS=1;function cv(t,e){const r="Web3LegacyFetcher";return function(n,o){const l={method:n,params:o,id:kS++,jsonrpc:"2.0"};return new Promise((c,u)=>{this.emit("debug",{action:"request",fetcher:r,request:Rn(l),provider:this}),e(l,(f,h)=>{if(f)return this.emit("debug",{action:"response",fetcher:r,error:f,request:l,provider:this}),u(f);if(this.emit("debug",{action:"response",fetcher:r,request:l,response:h,provider:this}),h.error){const m=new Error(h.error.message);return m.code=h.error.code,m.data=h.error.data,u(m)}c(h.result)})})}}function NS(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Rn(n),provider:this}),t.request(n).then(o=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:o,provider:this}),o})}}class Hi extends Zl{constructor(e,r){e==null&&lv.throwArgumentError("missing provider","provider",e);let n=null,o=null,l=null;typeof e=="function"?(n="unknown:",o=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),l=e,e.request?(n===""&&(n="eip-1193:"),o=NS(e)):e.sendAsync?o=cv(e,e.sendAsync.bind(e)):e.send?o=cv(e,e.send.bind(e)):lv.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),he(this,"jsonRpcFetchFunc",o),he(this,"provider",l)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}const uv=new X(Lr);function Pa(t,e){if(t==null&&(t="homestead"),typeof t=="string"){const n=t.match(/^(ws|http)s?:/i);if(n)switch(n[1].toLowerCase()){case"http":case"https":return new Zl(t);case"ws":case"wss":return new Ep(t);default:uv.throwArgumentError("unsupported URL scheme","network",t)}}const r=Jb(t);return(!r||!r._defaultProvider)&&uv.throwError("unsupported getDefaultProvider network",X.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:t}),r._defaultProvider({FallbackProvider:mS,AlchemyProvider:rw,AnkrProvider:nS,CloudflareProvider:iS,EtherscanProvider:aS,InfuraProvider:nw,JsonRpcProvider:Zl,NodesmithProvider:yS,PocketProvider:vS,QuickNodeProvider:wS,Web3Provider:Hi,IpcProvider:pS},e)}const CS="units/5.8.0",ES=new X(CS),AS=["wei","kwei","mwei","gwei","szabo","finney","ether"];function mc(t,e){return Yu(t,e)}function _n(t,e){if(typeof t!="string"&&ES.throwArgumentError("value must be a string","value",t),typeof e=="string"){const r=AS.indexOf(e);r!==-1&&(e=3*r)}return Ns(t,e??18)}function Jt(t){return mc(t,18)}function Fo(t){return _n(t,18)}const zr={1:{name:"Ethereum Mainnet",rpcUrl:"https://ethereum-rpc.publicnode.com",explorer:"https://etherscan.io",contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},10:{name:"OP Mainnet",rpcUrl:"https://mainnet.optimism.io",explorer:"https://optimistic.etherscan.io",contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},56:{name:"BNB Smart Chain",rpcUrl:"https://bsc.blockrazor.xyz",explorer:"https://bscscan.com",contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},97:{name:"BNB Smart Chain Testnet",rpcUrl:"https://bsc-testnet-rpc.publicnode.com",explorer:"https://testnet.bscscan.com",contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},43113:{name:"Avalanche Fuji Testnet",rpcUrl:"https://avalanche-fuji.drpc.org",explorer:"https://testnet.snowscan.xyz",contractAddresses:{raffleManager:"0x6cB76737D48808894DEE60cE109280fC656Dd507",raffleDeployer:"0x211E3D8024C0986A907CFE427d33aDD194cC8DA4",revenueManager:"0x8502356d5DD2913bF902Fb61EC5D38351B22267f",nftFactory:"0x2581CBbd9F386cf35aC636a1Ce0cB0E6d2F6E3bf"}},43114:{name:"Avalanche C-Chain",rpcUrl:"https://avalanche.drpc.org",explorer:"https://snowscan.xyz",contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},8453:{name:"Base Mainnet",rpcUrl:"https://base.drpc.org",explorer:"https://basescan.org",contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},84532:{name:"Base Sepolia",rpcUrl:"https://base-sepolia-rpc.publicnode.com",explorer:"https://sepolia.basescan.org",contractAddresses:{raffleManager:"0x92C333E08746D7A204E873ea617dBee188f78B98",raffleDeployer:"0xDF05a7588a15d73BA818f92c197dCc9465CcdC65",revenueManager:"0x67AC55ca832fA03970b16f28BFe10c56E020c5B5",nftFactory:"0x160737D48ea71DC070c5FD7BC3eDBE59ecc6b777"}},11155111:{name:"Ethereum Sepolia",rpcUrl:"https://sepolia.infura.io",explorer:"https://sepolia.etherscan.io",contractAddresses:{raffleManager:"0x330132F2aEb2643bCAC64C073EDA8a17075434e6",raffleDeployer:"0x155D0E31A9Ea3A591926622BA862fFFe90450488",revenueManager:"0xD88bf9b03ECE7aaDd40Be883461e988DbeD56db9",nftFactory:"0xe6e7C91ed1240b6F7CE2f9c3A5af441ad4DC2D7A"}},11155420:{name:"OP Sepolia Testnet",rpcUrl:"https://sepolia.optimism.io",explorer:"https://sepolia-optimism.etherscan.io",contractAddresses:{raffleManager:"0x4Ed6890cc32f04D8E422Dc534460832f032D0052",raffleDeployer:"0xb2F34D0E4761be2229f445Aa47EDe064aee25F2c",revenueManager:"0x7A292e5B8aEfcabD7EA709d08053B01c0414b256",nftFactory:"0x38FfF955929fc3F47cA2D4E1d59FF70CBDB97Dc6"}},2020:{name:"Ronin Mainnet",rpcUrl:"https://ronin.drpc.org",explorer:"https://app.roninchain.com/",contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},2021:{name:"Ronin Saigon Testnet",rpcUrl:"https://saigon-testnet.roninchain.com/rpc",explorer:"https://saigon-app.roninchain.com/explorer",contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},42161:{name:"Arbitrum One",rpcUrl:"https://arbitrum.drpc.org",explorer:"https://arbiscan.io",contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},421614:{name:"Arbitrum Sepolia",rpcUrl:"https://endpoints.omniatech.io/v1/arbitrum/sepolia/public",explorer:"https://sepolia.arbiscan.io",contractAddresses:{raffleManager:"0x98b20229665CFa296008c388b0cbD8b15a38A4C5",raffleDeployer:"0x0e4fd77629Bb11D0a7298173C1C81b6C075Cb72A",revenueManager:"0x6fC8B56e2939AC1098eed8FD194c5b301CBfb3AA",nftFactory:"0x0b4F7b472aa07722D16d3368f1B9D66A18254D2B"}}},sw=b.createContext(),Dt=()=>{const t=b.useContext(sw);if(!t)throw new Error("useWallet must be used within a WalletProvider");return t},jS=({children:t})=>{const[e,r]=b.useState(null),[n,o]=b.useState(null),[l,c]=b.useState(""),[u,f]=b.useState(!1),[h,m]=b.useState(null),[y,k]=b.useState(!1),[g,j]=b.useState(null),[N,C]=b.useState(!1),[S,D]=b.useState(!1);b.useEffect(()=>{O()},[]),b.useEffect(()=>{if(window.ethereum)return window.ethereum.on("accountsChanged",F),window.ethereum.on("chainChanged",L),()=>{window.ethereum.removeListener("accountsChanged",F),window.ethereum.removeListener("chainChanged",L)}},[]),b.useEffect(()=>{h&&zr[h]?j(zr[h]):j(null)},[h]);const O=async()=>{if(window.ethereum)try{(await window.ethereum.request({method:"eth_accounts"})).length>0?await H("metamask"):C(!0)}catch(M){console.error("Error checking connection:",M),C(!0)}else C(!0)},F=M=>{M.length===0?q():c(M[0])},L=M=>{console.log("Chain changed to:",M),D(!0),m(parseInt(M,16)),setTimeout(async()=>{try{window.ethereum&&(await window.ethereum.request({method:"eth_accounts"})).length>0&&await H("metamask")}catch(x){console.error("Error reconnecting after chain change:",x)}finally{D(!1)}},1e3)},H=async M=>{k(!0);try{let x;switch(M){case"metamask":if(!window.ethereum)throw new Error("MetaMask is not installed");await window.ethereum.request({method:"eth_requestAccounts"}),x=new Hi(window.ethereum);break;default:throw new Error("Unsupported wallet type")}const E=x.getSigner(),T=await E.getAddress(),P=await x.getNetwork();r(x),o(E),c(T),m(P.chainId),f(!0),C(!0),localStorage.setItem("walletConnected",M)}catch(x){throw console.error("Error connecting wallet:",x),x}finally{k(!1)}},q=()=>{r(null),o(null),c(""),f(!1),m(null),C(!0),localStorage.removeItem("walletConnected")},Y=async M=>{if(!window.ethereum)throw new Error("MetaMask is not installed");try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${M.toString(16)}`}]})}catch(x){throw x.code===4902?new Error("Please add this network to your wallet first"):x}},Q=h&&zr[h],$={provider:e,signer:n,address:l,connected:u,chainId:h,loading:y,isInitialized:N,isReconnecting:S,connectWallet:H,disconnect:q,switchNetwork:Y,addNetwork:async M=>{if(!window.ethereum)throw new Error("MetaMask is not installed");const x=zr[M];if(!x)throw new Error("Network config not found");try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${M.toString(16)}`,chainName:x.name,rpcUrls:[x.rpcUrl],blockExplorerUrls:[x.explorer],nativeCurrency:x.nativeCurrency||{name:"ETH",symbol:"ETH",decimals:18}}]})}catch(E){throw E}},formatAddress:M=>M?`${M.slice(0,6)}...${M.slice(-4)}`:"",networkInfo:g,isSupportedNetwork:Q};return i.jsx(sw.Provider,{value:$,children:t})},SS=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"raffle",type:"address"}],name:"RaffleRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"bool",name:"whitelisted",type:"bool"}],name:"ERC20PrizeWhitelisted",type:"event"},{inputs:[],name:"getAllRaffles",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"addERC20Prize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAllTicketLimits",outputs:[{internalType:"uint256",name:"minPrized",type:"uint256"},{internalType:"uint256",name:"minNonPrized",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDurationLimits",outputs:[{internalType:"uint256",name:"min",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMaxTicketsPerParticipant",outputs:[{internalType:"uint256",name:"max",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minTicketLimitNonPrized",outputs:[{internalType:"uint256",name:"min",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTicketsPerParticipant",outputs:[{internalType:"uint256",name:"max",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"isERC20PrizeWhitelisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"collection",type:"address"}],name:"isInternalCollection",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],TS=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"raffle",type:"address"},{indexed:!0,internalType:"address",name:"creator",type:"address"}],name:"RaffleCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collection",type:"address"}],name:"PrizeCollectionCreated",type:"event"},{inputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"uint256",name:"ticketLimit",type:"uint256"},{internalType:"uint256",name:"winnersCount",type:"uint256"},{internalType:"uint256",name:"maxTicketsPerParticipant",type:"uint256"},{internalType:"bool",name:"isPrized",type:"bool"},{internalType:"uint256",name:"customTicketPrice",type:"uint256"},{internalType:"bool",name:"erc721Drop",type:"bool"},{internalType:"bool",name:"erc1155Drop",type:"bool"},{internalType:"address",name:"prizeCollection",type:"address"},{internalType:"uint8",name:"standard",type:"uint8"},{internalType:"uint256",name:"prizeTokenId",type:"uint256"},{internalType:"uint256",name:"amountPerWinner",type:"uint256"},{internalType:"string",name:"collectionName",type:"string"},{internalType:"string",name:"collectionSymbol",type:"string"},{internalType:"string",name:"collectionBaseURI",type:"string"},{internalType:"address",name:"creator",type:"address"},{internalType:"uint256",name:"royaltyPercentage",type:"uint256"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"address",name:"erc20PrizeToken",type:"address"},{internalType:"uint256",name:"erc20PrizeAmount",type:"uint256"},{internalType:"uint256",name:"ethPrizeAmount",type:"uint256"},{internalType:"uint8",name:"revealType",type:"uint8"},{internalType:"string",name:"unrevealedBaseURI",type:"string"},{internalType:"uint256",name:"revealTime",type:"uint256"},{internalType:"uint8",name:"mintingOrder",type:"uint8"},{internalType:"address",name:"holderTokenAddress",type:"address"},{internalType:"uint8",name:"holderTokenStandard",type:"uint8"},{internalType:"uint256",name:"minHolderTokenBalance",type:"uint256"},{internalType:"uint256",name:"holderTokenId",type:"uint256"}],internalType:"struct RaffleDeployer.RaffleParams",name:"p",type:"tuple"}],name:"createRaffle",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"}],PS=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AdminDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AdminWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"adminRevenue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"depositAdmin",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],RS=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collection",type:"address"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"uint8",name:"standard",type:"uint8"}],name:"PrizeCollectionCreated",type:"event"},{inputs:[{internalType:"uint8",name:"standard",type:"uint8"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"string",name:"baseURI",type:"string"},{internalType:"address",name:"initialOwner",type:"address"},{internalType:"uint256",name:"royaltyPercentage",type:"uint256"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"address",name:"raffleAddress",type:"address"}],name:"createPrizeCollection",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"erc1155Implementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"erc721Implementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"raffleManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"collection",type:"address"},{internalType:"bytes32",name:"signature",type:"bytes32"}],name:"validateSignature",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],MS=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"winner",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"PrizeMinted",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"salePrice",type:"uint256"}],name:"royaltyInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"royaltyPercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"royaltyRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_royaltyPercentage",type:"uint256"},{internalType:"address",name:"_royaltyRecipient",type:"address"}],name:"setRoyalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"minterLocked",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"minter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_minter",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lockMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"reveal",outputs:[],stateMutability:"nonpayable",type:"function"}],_S=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"PrizeMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"salePrice",type:"uint256"}],name:"royaltyInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"royaltyPercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"royaltyRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_royaltyPercentage",type:"uint256"},{internalType:"address",name:"_royaltyRecipient",type:"address"}],name:"setRoyalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_minter",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lockMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"reveal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_maxSupply",type:"uint256"}],name:"createNewToken",outputs:[],stateMutability:"nonpayable",type:"function"}],IS=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"participant",type:"address"},{indexed:!1,internalType:"uint256",name:"quantity",type:"uint256"}],name:"TicketsPurchased",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"winner",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"PrizeClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address[]",name:"winners",type:"address[]"}],name:"WinnersSelected",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RevenueWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"participant",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"DeletionRefund",type:"event"},{anonymous:!1,inputs:[],name:"RaffleDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"participant",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"FullRefundForDeletion",type:"event"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"creator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"startTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"duration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ticketPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ticketLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"winnersCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTicketsPerParticipant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"isPrized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"prizeCollection",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"prizeTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"standard",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"state",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"isEscrowedPrize",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"erc20PrizeToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"erc20PrizeAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ethPrizeAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalCreatorRevenue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"participants",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getParticipantsCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"ticketsPurchased",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"purchaseTickets",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"deleteRaffle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"winners",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"claimedWins",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"claimPrize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"claimPrizes",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"claimRefund",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"winner",type:"address"}],name:"mintToWinner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isWinner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"prizeClaimed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"refundClaimed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"refundableAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"depositEscrowPrize",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"withdrawEscrowedPrize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usesCustomPrice",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"refundedNonWinningTickets",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"winsPerAddress",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"participant",type:"address"}],name:"getRefundableAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_prizeCollection",type:"address"},{internalType:"uint8",name:"_standard",type:"uint8"},{internalType:"uint256",name:"_prizeTokenId",type:"uint256"},{internalType:"uint256",name:"_amountPerWinner",type:"uint256"}],name:"setExternalPrize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"requestRandomWords",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"activate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawCreatorRevenue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"endRaffle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isExternallyPrized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],DS=["function allowance(address owner, address spender) view returns (uint256)","function approve(address spender, uint256 amount) returns (bool)","function decimals() view returns (uint8)"],Vt={raffleManager:SS,raffleDeployer:TS,revenueManager:PS,nftFactory:RS,erc721Prize:MS,erc1155Prize:_S,raffle:[...IS,{inputs:[],name:"isRefundable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"holderTokenAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],erc20:DS};var zS=t=>{switch(t){case"success":return FS;case"info":return US;case"warning":return BS;case"error":return $S;default:return null}},OS=Array(12).fill(0),LS=({visible:t,className:e})=>ye.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ye.createElement("div",{className:"sonner-spinner"},OS.map((r,n)=>ye.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),FS=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),BS=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),US=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),$S=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),WS=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ye.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ye.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),HS=()=>{let[t,e]=ye.useState(document.hidden);return ye.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Gm=1,qS=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,o=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Gm++,l=this.toasts.find(u=>u.id===o),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(u=>u.id===o?(this.publish({...u,...t,id:o,title:r}),{...u,...t,id:o,dismissible:c,title:r}):u):this.addToast({title:r,...n,dismissible:c,id:o}),o},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),o=r!==void 0,l,c=n.then(async f=>{if(l=["resolve",f],ye.isValidElement(f))o=!1,this.create({id:r,type:"default",message:f});else if(VS(f)&&!f.ok){o=!1;let h=typeof e.error=="function"?await e.error(`HTTP error! status: ${f.status}`):e.error,m=typeof e.description=="function"?await e.description(`HTTP error! status: ${f.status}`):e.description;this.create({id:r,type:"error",message:h,description:m})}else if(e.success!==void 0){o=!1;let h=typeof e.success=="function"?await e.success(f):e.success,m=typeof e.description=="function"?await e.description(f):e.description;this.create({id:r,type:"success",message:h,description:m})}}).catch(async f=>{if(l=["reject",f],e.error!==void 0){o=!1;let h=typeof e.error=="function"?await e.error(f):e.error,m=typeof e.description=="function"?await e.description(f):e.description;this.create({id:r,type:"error",message:h,description:m})}}).finally(()=>{var f;o&&(this.dismiss(r),r=void 0),(f=e.finally)==null||f.call(e)}),u=()=>new Promise((f,h)=>c.then(()=>l[0]==="reject"?h(l[1]):f(l[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||Gm++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},mn=new qS,GS=(t,e)=>{let r=(e==null?void 0:e.id)||Gm++;return mn.addToast({title:t,...e,id:r}),r},VS=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",KS=GS,YS=()=>mn.toasts,QS=()=>mn.getActiveToasts(),ie=Object.assign(KS,{success:mn.success,info:mn.info,warning:mn.warning,error:mn.error,custom:mn.custom,message:mn.message,promise:mn.promise,dismiss:mn.dismiss,loading:mn.loading},{getHistory:YS,getToasts:QS});function JS(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}JS(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Du(t){return t.label!==void 0}var XS=3,ZS="32px",eT="16px",dv=4e3,tT=356,rT=14,nT=20,sT=200;function os(...t){return t.filter(Boolean).join(" ")}function iT(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var oT=t=>{var e,r,n,o,l,c,u,f,h,m,y;let{invert:k,toast:g,unstyled:j,interacting:N,setHeights:C,visibleToasts:S,heights:D,index:O,toasts:F,expanded:L,removeToast:H,defaultRichColors:q,closeButton:Y,style:Q,cancelButtonStyle:re,actionButtonStyle:te,className:$="",descriptionClassName:M="",duration:x,position:E,gap:T,loadingIcon:P,expandByDefault:_,classNames:z,icons:W,closeButtonAriaLabel:R="Close toast",pauseWhenPageIsHidden:w}=t,[U,se]=ye.useState(null),[I,V]=ye.useState(null),[K,Z]=ye.useState(!1),[oe,fe]=ye.useState(!1),[ue,de]=ye.useState(!1),[Pe,ge]=ye.useState(!1),[ve,Je]=ye.useState(!1),[Ne,Fe]=ye.useState(0),[bt,Ze]=ye.useState(0),Ge=ye.useRef(g.duration||x||dv),Oe=ye.useRef(null),Se=ye.useRef(null),Xe=O===0,qt=O+1<=S,Ve=g.type,Ke=g.dismissible!==!1,Fr=g.className||"",kt=g.descriptionClassName||"",ut=ye.useMemo(()=>D.findIndex(Ee=>Ee.toastId===g.id)||0,[D,g.id]),yr=ye.useMemo(()=>{var Ee;return(Ee=g.closeButton)!=null?Ee:Y},[g.closeButton,Y]),jt=ye.useMemo(()=>g.duration||x||dv,[g.duration,x]),ot=ye.useRef(0),hr=ye.useRef(0),St=ye.useRef(0),dt=ye.useRef(null),[Yr,gt]=E.split("-"),xt=ye.useMemo(()=>D.reduce((Ee,nt,Le)=>Le>=ut?Ee:Ee+nt.height,0),[D,ut]),Tr=HS(),ft=g.invert||k,at=Ve==="loading";hr.current=ye.useMemo(()=>ut*T+xt,[ut,xt]),ye.useEffect(()=>{Ge.current=jt},[jt]),ye.useEffect(()=>{Z(!0)},[]),ye.useEffect(()=>{let Ee=Se.current;if(Ee){let nt=Ee.getBoundingClientRect().height;return Ze(nt),C(Le=>[{toastId:g.id,height:nt,position:g.position},...Le]),()=>C(Le=>Le.filter(tt=>tt.toastId!==g.id))}},[C,g.id]),ye.useLayoutEffect(()=>{if(!K)return;let Ee=Se.current,nt=Ee.style.height;Ee.style.height="auto";let Le=Ee.getBoundingClientRect().height;Ee.style.height=nt,Ze(Le),C(tt=>tt.find(Xt=>Xt.toastId===g.id)?tt.map(Xt=>Xt.toastId===g.id?{...Xt,height:Le}:Xt):[{toastId:g.id,height:Le,position:g.position},...tt])},[K,g.title,g.description,C,g.id]);let cr=ye.useCallback(()=>{fe(!0),Fe(hr.current),C(Ee=>Ee.filter(nt=>nt.toastId!==g.id)),setTimeout(()=>{H(g)},sT)},[g,H,C,hr]);ye.useEffect(()=>{if(g.promise&&Ve==="loading"||g.duration===1/0||g.type==="loading")return;let Ee;return L||N||w&&Tr?(()=>{if(St.current<ot.current){let nt=new Date().getTime()-ot.current;Ge.current=Ge.current-nt}St.current=new Date().getTime()})():Ge.current!==1/0&&(ot.current=new Date().getTime(),Ee=setTimeout(()=>{var nt;(nt=g.onAutoClose)==null||nt.call(g,g),cr()},Ge.current)),()=>clearTimeout(Ee)},[L,N,g,Ve,w,Tr,cr]),ye.useEffect(()=>{g.delete&&cr()},[cr,g.delete]);function Tt(){var Ee,nt,Le;return W!=null&&W.loading?ye.createElement("div",{className:os(z==null?void 0:z.loader,(Ee=g==null?void 0:g.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":Ve==="loading"},W.loading):P?ye.createElement("div",{className:os(z==null?void 0:z.loader,(nt=g==null?void 0:g.classNames)==null?void 0:nt.loader,"sonner-loader"),"data-visible":Ve==="loading"},P):ye.createElement(LS,{className:os(z==null?void 0:z.loader,(Le=g==null?void 0:g.classNames)==null?void 0:Le.loader),visible:Ve==="loading"})}return ye.createElement("li",{tabIndex:0,ref:Se,className:os($,Fr,z==null?void 0:z.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,z==null?void 0:z.default,z==null?void 0:z[Ve],(r=g==null?void 0:g.classNames)==null?void 0:r[Ve]),"data-sonner-toast":"","data-rich-colors":(n=g.richColors)!=null?n:q,"data-styled":!(g.jsx||g.unstyled||j),"data-mounted":K,"data-promise":!!g.promise,"data-swiped":ve,"data-removed":oe,"data-visible":qt,"data-y-position":Yr,"data-x-position":gt,"data-index":O,"data-front":Xe,"data-swiping":ue,"data-dismissible":Ke,"data-type":Ve,"data-invert":ft,"data-swipe-out":Pe,"data-swipe-direction":I,"data-expanded":!!(L||_&&K),style:{"--index":O,"--toasts-before":O,"--z-index":F.length-O,"--offset":`${oe?Ne:hr.current}px`,"--initial-height":_?"auto":`${bt}px`,...Q,...g.style},onDragEnd:()=>{de(!1),se(null),dt.current=null},onPointerDown:Ee=>{at||!Ke||(Oe.current=new Date,Fe(hr.current),Ee.target.setPointerCapture(Ee.pointerId),Ee.target.tagName!=="BUTTON"&&(de(!0),dt.current={x:Ee.clientX,y:Ee.clientY}))},onPointerUp:()=>{var Ee,nt,Le,tt;if(Pe||!Ke)return;dt.current=null;let Xt=Number(((Ee=Se.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),rt=Number(((nt=Se.current)==null?void 0:nt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),lt=new Date().getTime()-((Le=Oe.current)==null?void 0:Le.getTime()),Ft=U==="x"?Xt:rt,ht=Math.abs(Ft)/lt;if(Math.abs(Ft)>=nT||ht>.11){Fe(hr.current),(tt=g.onDismiss)==null||tt.call(g,g),V(U==="x"?Xt>0?"right":"left":rt>0?"down":"up"),cr(),ge(!0),Je(!1);return}de(!1),se(null)},onPointerMove:Ee=>{var nt,Le,tt,Xt;if(!dt.current||!Ke||((nt=window.getSelection())==null?void 0:nt.toString().length)>0)return;let rt=Ee.clientY-dt.current.y,lt=Ee.clientX-dt.current.x,Ft=(Le=t.swipeDirections)!=null?Le:iT(E);!U&&(Math.abs(lt)>1||Math.abs(rt)>1)&&se(Math.abs(lt)>Math.abs(rt)?"x":"y");let ht={x:0,y:0};U==="y"?(Ft.includes("top")||Ft.includes("bottom"))&&(Ft.includes("top")&&rt<0||Ft.includes("bottom")&&rt>0)&&(ht.y=rt):U==="x"&&(Ft.includes("left")||Ft.includes("right"))&&(Ft.includes("left")&&lt<0||Ft.includes("right")&&lt>0)&&(ht.x=lt),(Math.abs(ht.x)>0||Math.abs(ht.y)>0)&&Je(!0),(tt=Se.current)==null||tt.style.setProperty("--swipe-amount-x",`${ht.x}px`),(Xt=Se.current)==null||Xt.style.setProperty("--swipe-amount-y",`${ht.y}px`)}},yr&&!g.jsx?ye.createElement("button",{"aria-label":R,"data-disabled":at,"data-close-button":!0,onClick:at||!Ke?()=>{}:()=>{var Ee;cr(),(Ee=g.onDismiss)==null||Ee.call(g,g)},className:os(z==null?void 0:z.closeButton,(o=g==null?void 0:g.classNames)==null?void 0:o.closeButton)},(l=W==null?void 0:W.close)!=null?l:WS):null,g.jsx||b.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:ye.createElement(ye.Fragment,null,Ve||g.icon||g.promise?ye.createElement("div",{"data-icon":"",className:os(z==null?void 0:z.icon,(c=g==null?void 0:g.classNames)==null?void 0:c.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Tt():null,g.type!=="loading"?g.icon||(W==null?void 0:W[Ve])||zS(Ve):null):null,ye.createElement("div",{"data-content":"",className:os(z==null?void 0:z.content,(u=g==null?void 0:g.classNames)==null?void 0:u.content)},ye.createElement("div",{"data-title":"",className:os(z==null?void 0:z.title,(f=g==null?void 0:g.classNames)==null?void 0:f.title)},typeof g.title=="function"?g.title():g.title),g.description?ye.createElement("div",{"data-description":"",className:os(M,kt,z==null?void 0:z.description,(h=g==null?void 0:g.classNames)==null?void 0:h.description)},typeof g.description=="function"?g.description():g.description):null),b.isValidElement(g.cancel)?g.cancel:g.cancel&&Du(g.cancel)?ye.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||re,onClick:Ee=>{var nt,Le;Du(g.cancel)&&Ke&&((Le=(nt=g.cancel).onClick)==null||Le.call(nt,Ee),cr())},className:os(z==null?void 0:z.cancelButton,(m=g==null?void 0:g.classNames)==null?void 0:m.cancelButton)},g.cancel.label):null,b.isValidElement(g.action)?g.action:g.action&&Du(g.action)?ye.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||te,onClick:Ee=>{var nt,Le;Du(g.action)&&((Le=(nt=g.action).onClick)==null||Le.call(nt,Ee),!Ee.defaultPrevented&&cr())},className:os(z==null?void 0:z.actionButton,(y=g==null?void 0:g.classNames)==null?void 0:y.actionButton)},g.action.label):null))};function fv(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function aT(t,e){let r={};return[t,e].forEach((n,o)=>{let l=o===1,c=l?"--mobile-offset":"--offset",u=l?eT:ZS;function f(h){["top","right","bottom","left"].forEach(m=>{r[`${c}-${m}`]=typeof h=="number"?`${h}px`:h})}typeof n=="number"||typeof n=="string"?f(n):typeof n=="object"?["top","right","bottom","left"].forEach(h=>{n[h]===void 0?r[`${c}-${h}`]=u:r[`${c}-${h}`]=typeof n[h]=="number"?`${n[h]}px`:n[h]}):f(u)}),r}var lT=b.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:c,className:u,offset:f,mobileOffset:h,theme:m="light",richColors:y,duration:k,style:g,visibleToasts:j=XS,toastOptions:N,dir:C=fv(),gap:S=rT,loadingIcon:D,icons:O,containerAriaLabel:F="Notifications",pauseWhenPageIsHidden:L}=t,[H,q]=ye.useState([]),Y=ye.useMemo(()=>Array.from(new Set([n].concat(H.filter(w=>w.position).map(w=>w.position)))),[H,n]),[Q,re]=ye.useState([]),[te,$]=ye.useState(!1),[M,x]=ye.useState(!1),[E,T]=ye.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),P=ye.useRef(null),_=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=ye.useRef(null),W=ye.useRef(!1),R=ye.useCallback(w=>{q(U=>{var se;return(se=U.find(I=>I.id===w.id))!=null&&se.delete||mn.dismiss(w.id),U.filter(({id:I})=>I!==w.id)})},[]);return ye.useEffect(()=>mn.subscribe(w=>{if(w.dismiss){q(U=>U.map(se=>se.id===w.id?{...se,delete:!0}:se));return}setTimeout(()=>{Yv.flushSync(()=>{q(U=>{let se=U.findIndex(I=>I.id===w.id);return se!==-1?[...U.slice(0,se),{...U[se],...w},...U.slice(se+1)]:[w,...U]})})})}),[]),ye.useEffect(()=>{if(m!=="system"){T(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?T("dark"):T("light")),typeof window>"u")return;let w=window.matchMedia("(prefers-color-scheme: dark)");try{w.addEventListener("change",({matches:U})=>{T(U?"dark":"light")})}catch{w.addListener(({matches:se})=>{try{T(se?"dark":"light")}catch(I){console.error(I)}})}},[m]),ye.useEffect(()=>{H.length<=1&&$(!1)},[H]),ye.useEffect(()=>{let w=U=>{var se,I;o.every(V=>U[V]||U.code===V)&&($(!0),(se=P.current)==null||se.focus()),U.code==="Escape"&&(document.activeElement===P.current||(I=P.current)!=null&&I.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[o]),ye.useEffect(()=>{if(P.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,W.current=!1)}},[P.current]),ye.createElement("section",{ref:e,"aria-label":`${F} ${_}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},Y.map((w,U)=>{var se;let[I,V]=w.split("-");return H.length?ye.createElement("ol",{key:w,dir:C==="auto"?fv():C,tabIndex:-1,ref:P,className:u,"data-sonner-toaster":!0,"data-theme":E,"data-y-position":I,"data-lifted":te&&H.length>1&&!l,"data-x-position":V,style:{"--front-toast-height":`${((se=Q[0])==null?void 0:se.height)||0}px`,"--width":`${tT}px`,"--gap":`${S}px`,...g,...aT(f,h)},onBlur:K=>{W.current&&!K.currentTarget.contains(K.relatedTarget)&&(W.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||W.current||(W.current=!0,z.current=K.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{M||$(!1)},onDragEnd:()=>$(!1),onPointerDown:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||x(!0)},onPointerUp:()=>x(!1)},H.filter(K=>!K.position&&U===0||K.position===w).map((K,Z)=>{var oe,fe;return ye.createElement(oT,{key:K.id,icons:O,index:Z,toast:K,defaultRichColors:y,duration:(oe=N==null?void 0:N.duration)!=null?oe:k,className:N==null?void 0:N.className,descriptionClassName:N==null?void 0:N.descriptionClassName,invert:r,visibleToasts:j,closeButton:(fe=N==null?void 0:N.closeButton)!=null?fe:c,interacting:M,position:w,style:N==null?void 0:N.style,unstyled:N==null?void 0:N.unstyled,classNames:N==null?void 0:N.classNames,cancelButtonStyle:N==null?void 0:N.cancelButtonStyle,actionButtonStyle:N==null?void 0:N.actionButtonStyle,removeToast:R,toasts:H.filter(ue=>ue.position==K.position),heights:Q.filter(ue=>ue.position==K.position),setHeights:re,expandByDefault:l,gap:S,loadingIcon:D,expanded:te,pauseWhenPageIsHidden:L,swipeDirections:t.swipeDirections})})):null}))});const cT=({...t})=>i.jsx(lT,{theme:"dark",className:"toaster group",...t}),Ap=()=>{if(typeof window>"u")return{name:"unknown",version:"unknown"};const t=navigator.userAgent,e={chrome:/Chrome\/(\d+)/.test(t),firefox:/Firefox\/(\d+)/.test(t),safari:/Safari\/(\d+)/.test(t)&&!/Chrome/.test(t),edge:/Edg\/(\d+)/.test(t),opera:/OPR\/(\d+)/.test(t),brave:navigator.brave&&navigator.brave.isBrave},r=Object.keys(e).find(l=>e[l])||"unknown",n=t.match(new RegExp(`${r==="edge"?"Edg":r}\\/(\\d+)`,"i")),o=n?n[1]:"unknown";return{name:r,version:o,userAgent:t,isMetaMaskBrowser:t.includes("MetaMask"),isMobile:/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)}},jp=()=>{const t=Ap(),e=t.isMobile||window.innerWidth<768,r={firefox:{timeout:15e3,retries:3,batchSize:3,useSequential:!0,delayBetweenCalls:200},safari:{timeout:2e4,retries:4,batchSize:2,useSequential:!0,delayBetweenCalls:300},edge:{timeout:12e3,retries:3,batchSize:4,useSequential:!1,delayBetweenCalls:100},chrome:{timeout:1e4,retries:3,batchSize:6,useSequential:!1,delayBetweenCalls:50},default:{timeout:12e3,retries:3,batchSize:4,useSequential:e,delayBetweenCalls:100}},n=r[t.name]||r.default;return e&&(n.timeout*=1.5,n.retries=Math.min(n.retries+1,5),n.batchSize=Math.min(n.batchSize,3),n.useSequential=!0,n.delayBetweenCalls*=2),{...n,browserInfo:t,isMobile:e}},vd=async(t,e,r={})=>{const{timeout:n=1e4,retries:o=3,fallbackValue:l=null,required:c=!1}=r;for(let u=1;u<=o;u++)try{const f=new Promise((m,y)=>setTimeout(()=>y(new Error(`Timeout calling ${e}`)),n));return{success:!0,result:await Promise.race([t(),f]),error:null}}catch(f){if(console.warn(`Attempt ${u}/${o} failed for ${e}:`,f.message),(f.message.includes("missing revert data")||f.message.includes("call exception")||f.code==="CALL_EXCEPTION")&&u<o){await new Promise(m=>setTimeout(m,1e3*u));continue}if(u===o){if(c)throw new Error(`Failed to call ${e} after ${o} attempts: ${f.message}`);return{success:!1,result:l,error:f.message}}}},uT=async(t,e={})=>{const r=jp(),{useSequential:n=r.useSequential,batchSize:o=r.batchSize,delayBetweenCalls:l=r.delayBetweenCalls,timeout:c=r.timeout}=e;if(console.log(` Batch contract calls - Browser: ${r.browserInfo.name}, Sequential: ${n}, Batch size: ${o}`),n){const u=[];for(let f=0;f<t.length;f++){const h=t[f];try{l>0&&f>0&&await new Promise(y=>setTimeout(y,l));const m=await vd(h.method,h.name,{timeout:c,fallbackValue:h.fallback,required:h.required});u.push(m.success?m.result:h.fallback)}catch(m){if(console.error(`Sequential call failed for ${h.name}:`,m),h.required)throw m;u.push(h.fallback)}}return u}else{const u=[];for(let f=0;f<t.length;f+=o){const h=t.slice(f,f+o);try{const m=h.map(k=>vd(k.method,k.name,{timeout:c,fallbackValue:k.fallback,required:k.required}).then(g=>g.success?g.result:k.fallback).catch(g=>{if(console.error(`Batch call failed for ${k.name}:`,g),k.required)throw g;return k.fallback})),y=await Promise.all(m);u.push(...y),f+o<t.length&&l>0&&await new Promise(k=>setTimeout(k,l))}catch(m){console.error("Batch execution failed:",m),h.forEach(y=>{if(y.required)throw m;u.push(y.fallback)})}}return u}},dT=(t,e)=>{try{return typeof t[e]=="function"}catch{return!1}},wo=(t,e,r=null)=>dT(t,e)?(...n)=>t[e](...n):(console.warn(`Method ${e} not found on contract`),()=>Promise.resolve(r)),bd=async t=>{if(!t)return 0;try{return(await t.getParticipantsCount()).toNumber()}catch(e){console.warn("getParticipantsCount failed, using fallback method:",e.message);let r=0,n=0;for(;;)try{await t.participants(n),r++,n++}catch{break}return r}},iw=b.createContext(),$t=()=>{const t=b.useContext(iw);if(!t)throw new Error("useContract must be used within a ContractProvider");return t},fT=({children:t})=>{const{signer:e,provider:r,connected:n,chainId:o,isInitialized:l,isReconnecting:c}=Dt(),[u,f]=b.useState({}),[h,m]=b.useState(!1);b.useEffect(()=>{n&&e&&l&&!c?(y(),m(!0)):(f({}),m(!1))},[n,e,l,c]);const y=()=>{var F,L,H,q,Y,Q,re,te,$,M,x,E,T,P,_,z;const O={};try{(L=(F=zr[o])==null?void 0:F.contractAddresses)!=null&&L.raffleManager&&(O.raffleManager=new Ut((q=(H=zr[o])==null?void 0:H.contractAddresses)==null?void 0:q.raffleManager,Vt.raffleManager,e)),(Q=(Y=zr[o])==null?void 0:Y.contractAddresses)!=null&&Q.raffleDeployer&&(O.raffleDeployer=new Ut((te=(re=zr[o])==null?void 0:re.contractAddresses)==null?void 0:te.raffleDeployer,Vt.raffleDeployer,e)),(M=($=zr[o])==null?void 0:$.contractAddresses)!=null&&M.revenueManager&&(O.revenueManager=new Ut((E=(x=zr[o])==null?void 0:x.contractAddresses)==null?void 0:E.revenueManager,Vt.revenueManager,e)),(P=(T=zr[o])==null?void 0:T.contractAddresses)!=null&&P.nftFactory&&(O.nftFactory=new Ut((z=(_=zr[o])==null?void 0:_.contractAddresses)==null?void 0:z.nftFactory,Vt.nftFactory,e)),f(O)}catch(W){console.error("Error initializing contracts:",W)}},k=(O,F)=>{if(!O)return console.warn("No address provided for contract instance"),null;if(!e&&!r)return console.warn("No signer or provider available for contract instance"),null;if(!Vt[F])return console.error(`ABI not found for type: ${F}`),null;try{const L=e||r;return new Ut(O,Vt[F],L)}catch(L){return console.error(`Error creating contract instance for ${F}:`,L),null}},g=async(O,...F)=>{var L;try{const H=await O(...F);return{success:!0,receipt:await H.wait(),hash:H.hash}}catch(H){let q="Transaction failed";return H!=null&&H.reason?q=H.reason:(L=H==null?void 0:H.data)!=null&&L.message?q=H.data.message:H!=null&&H.message&&(q=H.message),ie.error(q,{duration:4e3}),{success:!1,error:q}}},j=async(O,F="unknown",...L)=>{var q;const H=jp();try{const Y=await vd(()=>O(...L),F,{timeout:H.timeout,retries:H.retries,required:!1});if(Y.success)return{success:!0,result:Y.result};throw new Error(Y.error)}catch(Y){let Q="Contract call failed";return Y.message.includes("missing revert data")||Y.message.includes("call exception")||Y.code==="CALL_EXCEPTION"?Q="Network connectivity issue - please try again":Y!=null&&Y.reason?Q=Y.reason:(q=Y==null?void 0:Y.data)!=null&&q.message?Q=Y.data.message:Y!=null&&Y.message&&(Q=Y.message),console.warn(`Contract call failed for ${F}:`,Q),ie.error(Q,{duration:4e3}),{success:!1,error:Q}}},N=ye.useRef({}),C=(O,F)=>(N.current[O]||(N.current[O]=[]),N.current[O].push(F),()=>{N.current[O]=N.current[O].filter(L=>L!==F)}),S=(O,...F)=>{N.current[O]&&N.current[O].forEach(L=>L(...F))};b.useEffect(()=>{if(!n||!e||!u.raffleDeployer)return;const O=(F,L)=>{S("RaffleCreated",{raffle:F,creator:L})};if(u.raffleDeployer.on("RaffleCreated",O),u.raffle){const F=H=>{S("WinnersSelected",{winners:H})};u.raffle.on("WinnersSelected",F);const L=(H,q)=>{S("PrizeClaimed",{winner:H,tokenId:q})};return u.raffle.on("PrizeClaimed",L),()=>{u.raffle.off("WinnersSelected",F),u.raffle.off("PrizeClaimed",L)}}return()=>{u.raffleDeployer.off("RaffleCreated",O)}},[n,e,u.raffleDeployer,u.raffle]);const D={contracts:u,getContractInstance:k,executeTransaction:g,executeCall:j,onContractEvent:C,isContractsReady:h};return i.jsx(iw.Provider,{value:D,children:t})},ow=b.createContext(),aw=()=>{const t=b.useContext(ow);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},Di=[{id:"light",name:"Light",icon:"Sun"},{id:"dark",name:"Dark",icon:"Moon"},{id:"dim-blue",name:"Dim Blue",icon:"Waves"}],hT=({children:t})=>{const[e,r]=b.useState(()=>{const c=localStorage.getItem("theme");return c&&Di.some(u=>u.id===c)?c:(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,"dark")});b.useEffect(()=>{const c=document.documentElement;Di.forEach(u=>{c.classList.remove(u.id)}),c.classList.add(e),localStorage.setItem("theme",e)},[e]);const l={theme:e,setTheme:r,cycleTheme:()=>{const u=(Di.findIndex(f=>f.id===e)+1)%Di.length;r(Di[u].id)},getCurrentTheme:()=>Di.find(c=>c.id===e)||Di[1],availableThemes:Di,isDark:e==="dark",isLight:e==="light",isDimBlue:e==="dim-blue"};return i.jsx(ow.Provider,{value:l,children:t})},lw=b.createContext(),Sp=()=>{const t=b.useContext(lw);if(!t)throw new Error("useCollabDetection must be used within a CollabDetectionProvider");return t},mT=({children:t})=>{const[e,r]=b.useState({}),[n,o]=b.useState({}),l=b.useCallback((g,j)=>{r(N=>({...N,[g]:j})),o(N=>{const C={...N};return delete C[g],C})},[]),c=b.useCallback((g,j)=>{o(N=>({...N,[g]:j}))},[]),u=b.useCallback(g=>e[g],[e]),f=b.useCallback(g=>n[g]||!1,[n]),h=b.useCallback(g=>{const j=e[g.address];return j==="nft_collab"||j==="whitelist_collab"?j:j===void 0&&n[g.address]&&g.isExternallyPrized?"nft_collab":g.isPrized?"prized":"non_prized"},[e,n]),m=b.useCallback(g=>{const j={non_prized:0,prized:0,nft_collab:0,whitelist_collab:0};return g.forEach(N=>{const C=h(N);j[C]=(j[C]||0)+1}),j},[h]),y=b.useCallback((g,j)=>!j||j.length===0?g:g.filter(N=>{const C=h(N);return j.includes(C)}),[h]),k={collabResults:e,loadingStates:n,updateCollabStatus:l,setCollabLoading:c,getCollabStatus:u,isCollabLoading:f,getEnhancedRaffleType:h,countEnhancedRaffleTypes:m,filterByEnhancedType:y};return i.jsx(lw.Provider,{value:k,children:t})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),We=(t,e)=>{const r=b.forwardRef(({color:n="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:u="",children:f,...h},m)=>b.createElement("svg",{ref:m,...pT,width:o,height:o,stroke:n,strokeWidth:c?Number(l)*24/Number(o):l,className:["lucide",`lucide-${gT(t)}`,u].join(" "),...h},[...e.map(([y,k])=>b.createElement(y,k)),...Array.isArray(f)?f:[f]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=We("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=We("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=We("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=We("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=We("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=We("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=We("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=We("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=We("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=We("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=We("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=We("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=We("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=We("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=We("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=We("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=We("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=We("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=We("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=We("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=We("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=We("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=We("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=We("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=We("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=We("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=We("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=We("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=We("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=We("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=We("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=We("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=We("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=We("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=We("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=We("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=We("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=We("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=We("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=We("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=We("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=We("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=We("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=We("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=We("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=We("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=We("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=We("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=We("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=We("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=We("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function yv(t,[e,r]){return Math.min(r,Math.max(e,t))}function De(t,e,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t==null||t(o),r===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function MT(t,e){const r=b.createContext(e),n=l=>{const{children:c,...u}=l,f=b.useMemo(()=>u,Object.values(u));return i.jsx(r.Provider,{value:f,children:c})};n.displayName=t+"Provider";function o(l){const c=b.useContext(r);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[n,o]}function di(t,e=[]){let r=[];function n(l,c){const u=b.createContext(c),f=r.length;r=[...r,c];const h=y=>{var S;const{scope:k,children:g,...j}=y,N=((S=k==null?void 0:k[t])==null?void 0:S[f])||u,C=b.useMemo(()=>j,Object.values(j));return i.jsx(N.Provider,{value:C,children:g})};h.displayName=l+"Provider";function m(y,k){var N;const g=((N=k==null?void 0:k[t])==null?void 0:N[f])||u,j=b.useContext(g);if(j)return j;if(c!==void 0)return c;throw new Error(`\`${y}\` must be used within \`${l}\``)}return[h,m]}const o=()=>{const l=r.map(c=>b.createContext(c));return function(u){const f=(u==null?void 0:u[t])||l;return b.useMemo(()=>({[`__scope${t}`]:{...u,[t]:f}}),[u,f])}};return o.scopeName=t,[n,_T(o,...e)]}function _T(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=n.reduce((u,{useScope:f,scopeName:h})=>{const y=f(l)[`__scope${h}`];return{...u,...y}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return r.scopeName=e.scopeName,r}function vv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function qd(...t){return e=>{let r=!1;const n=t.map(o=>{const l=vv(o,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let o=0;o<n.length;o++){const l=n[o];typeof l=="function"?l():vv(t[o],null)}}}}function Lt(...t){return b.useCallback(qd(...t),t)}function To(t){const e=IT(t),r=b.forwardRef((n,o)=>{const{children:l,...c}=n,u=b.Children.toArray(l),f=u.find(zT);if(f){const h=f.props.children,m=u.map(y=>y===f?b.Children.count(h)>1?b.Children.only(null):b.isValidElement(h)?h.props.children:null:y);return i.jsx(e,{...c,ref:o,children:b.isValidElement(h)?b.cloneElement(h,void 0,m):null})}return i.jsx(e,{...c,ref:o,children:l})});return r.displayName=`${t}.Slot`,r}var pw=To("Slot");function IT(t){const e=b.forwardRef((r,n)=>{const{children:o,...l}=r;if(b.isValidElement(o)){const c=LT(o),u=OT(l,o.props);return o.type!==b.Fragment&&(u.ref=n?qd(n,c):c),b.cloneElement(o,u)}return b.Children.count(o)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var DT=Symbol("radix.slottable");function zT(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===DT}function OT(t,e){const r={...e};for(const n in e){const o=t[n],l=e[n];/^on[A-Z]/.test(n)?o&&l?r[n]=(...u)=>{const f=l(...u);return o(...u),f}:o&&(r[n]=o):n==="style"?r[n]={...o,...l}:n==="className"&&(r[n]=[o,l].filter(Boolean).join(" "))}return{...t,...r}}function LT(t){var n,o;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function _p(t){const e=t+"CollectionProvider",[r,n]=di(e),[o,l]=r(e,{collectionRef:{current:null},itemMap:new Map}),c=N=>{const{scope:C,children:S}=N,D=ye.useRef(null),O=ye.useRef(new Map).current;return i.jsx(o,{scope:C,itemMap:O,collectionRef:D,children:S})};c.displayName=e;const u=t+"CollectionSlot",f=To(u),h=ye.forwardRef((N,C)=>{const{scope:S,children:D}=N,O=l(u,S),F=Lt(C,O.collectionRef);return i.jsx(f,{ref:F,children:D})});h.displayName=u;const m=t+"CollectionItemSlot",y="data-radix-collection-item",k=To(m),g=ye.forwardRef((N,C)=>{const{scope:S,children:D,...O}=N,F=ye.useRef(null),L=Lt(C,F),H=l(m,S);return ye.useEffect(()=>(H.itemMap.set(F,{ref:F,...O}),()=>void H.itemMap.delete(F))),i.jsx(k,{[y]:"",ref:L,children:D})});g.displayName=m;function j(N){const C=l(t+"CollectionConsumer",N);return ye.useCallback(()=>{const D=C.collectionRef.current;if(!D)return[];const O=Array.from(D.querySelectorAll(`[${y}]`));return Array.from(C.itemMap.values()).sort((H,q)=>O.indexOf(H.ref.current)-O.indexOf(q.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:c,Slot:h,ItemSlot:g},j,n]}var FT=b.createContext(void 0);function Gd(t){const e=b.useContext(FT);return t||e||"ltr"}var BT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],it=BT.reduce((t,e)=>{const r=To(`Primitive.${e}`),n=b.forwardRef((o,l)=>{const{asChild:c,...u}=o,f=c?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(f,{...u,ref:l})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function gw(t,e){t&&ic.flushSync(()=>t.dispatchEvent(e))}function Ds(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function UT(t,e=globalThis==null?void 0:globalThis.document){const r=Ds(t);b.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var $T="DismissableLayer",Km="dismissableLayer.update",WT="dismissableLayer.pointerDownOutside",HT="dismissableLayer.focusOutside",bv,xw=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vd=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:c,onDismiss:u,...f}=t,h=b.useContext(xw),[m,y]=b.useState(null),k=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=b.useState({}),j=Lt(e,q=>y(q)),N=Array.from(h.layers),[C]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),S=N.indexOf(C),D=m?N.indexOf(m):-1,O=h.layersWithOutsidePointerEventsDisabled.size>0,F=D>=S,L=VT(q=>{const Y=q.target,Q=[...h.branches].some(re=>re.contains(Y));!F||Q||(o==null||o(q),c==null||c(q),q.defaultPrevented||u==null||u())},k),H=KT(q=>{const Y=q.target;[...h.branches].some(re=>re.contains(Y))||(l==null||l(q),c==null||c(q),q.defaultPrevented||u==null||u())},k);return UT(q=>{D===h.layers.size-1&&(n==null||n(q),!q.defaultPrevented&&u&&(q.preventDefault(),u()))},k),b.useEffect(()=>{if(m)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(bv=k.body.style.pointerEvents,k.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),wv(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(k.body.style.pointerEvents=bv)}},[m,k,r,h]),b.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),wv())},[m,h]),b.useEffect(()=>{const q=()=>g({});return document.addEventListener(Km,q),()=>document.removeEventListener(Km,q)},[]),i.jsx(it.div,{...f,ref:j,style:{pointerEvents:O?F?"auto":"none":void 0,...t.style},onFocusCapture:De(t.onFocusCapture,H.onFocusCapture),onBlurCapture:De(t.onBlurCapture,H.onBlurCapture),onPointerDownCapture:De(t.onPointerDownCapture,L.onPointerDownCapture)})});Vd.displayName=$T;var qT="DismissableLayerBranch",GT=b.forwardRef((t,e)=>{const r=b.useContext(xw),n=b.useRef(null),o=Lt(e,n);return b.useEffect(()=>{const l=n.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),i.jsx(it.div,{...t,ref:o})});GT.displayName=qT;function VT(t,e=globalThis==null?void 0:globalThis.document){const r=Ds(t),n=b.useRef(!1),o=b.useRef(()=>{});return b.useEffect(()=>{const l=u=>{if(u.target&&!n.current){let f=function(){yw(WT,r,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);n.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",o.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function KT(t,e=globalThis==null?void 0:globalThis.document){const r=Ds(t),n=b.useRef(!1);return b.useEffect(()=>{const o=l=>{l.target&&!n.current&&yw(HT,r,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function wv(){const t=new CustomEvent(Km);document.dispatchEvent(t)}function yw(t,e,r,{discrete:n}){const o=r.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),n?gw(o,l):o.dispatchEvent(l)}var Nm=0;function Ip(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??kv()),document.body.insertAdjacentElement("beforeend",t[1]??kv()),Nm++,()=>{Nm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Nm--}},[])}function kv(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Cm="focusScope.autoFocusOnMount",Em="focusScope.autoFocusOnUnmount",Nv={bubbles:!1,cancelable:!0},YT="FocusScope",Kd=b.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...c}=t,[u,f]=b.useState(null),h=Ds(o),m=Ds(l),y=b.useRef(null),k=Lt(e,N=>f(N)),g=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let N=function(O){if(g.paused||!u)return;const F=O.target;u.contains(F)?y.current=F:Li(y.current,{select:!0})},C=function(O){if(g.paused||!u)return;const F=O.relatedTarget;F!==null&&(u.contains(F)||Li(y.current,{select:!0}))},S=function(O){if(document.activeElement===document.body)for(const L of O)L.removedNodes.length>0&&Li(u)};document.addEventListener("focusin",N),document.addEventListener("focusout",C);const D=new MutationObserver(S);return u&&D.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",C),D.disconnect()}}},[n,u,g.paused]),b.useEffect(()=>{if(u){Ev.add(g);const N=document.activeElement;if(!u.contains(N)){const S=new CustomEvent(Cm,Nv);u.addEventListener(Cm,h),u.dispatchEvent(S),S.defaultPrevented||(QT(tP(vw(u)),{select:!0}),document.activeElement===N&&Li(u))}return()=>{u.removeEventListener(Cm,h),setTimeout(()=>{const S=new CustomEvent(Em,Nv);u.addEventListener(Em,m),u.dispatchEvent(S),S.defaultPrevented||Li(N??document.body,{select:!0}),u.removeEventListener(Em,m),Ev.remove(g)},0)}}},[u,h,m,g]);const j=b.useCallback(N=>{if(!r&&!n||g.paused)return;const C=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,S=document.activeElement;if(C&&S){const D=N.currentTarget,[O,F]=JT(D);O&&F?!N.shiftKey&&S===F?(N.preventDefault(),r&&Li(O,{select:!0})):N.shiftKey&&S===O&&(N.preventDefault(),r&&Li(F,{select:!0})):S===D&&N.preventDefault()}},[r,n,g.paused]);return i.jsx(it.div,{tabIndex:-1,...c,ref:k,onKeyDown:j})});Kd.displayName=YT;function QT(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Li(n,{select:e}),document.activeElement!==r)return}function JT(t){const e=vw(t),r=Cv(e,t),n=Cv(e.reverse(),t);return[r,n]}function vw(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Cv(t,e){for(const r of t)if(!XT(r,{upTo:e}))return r}function XT(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ZT(t){return t instanceof HTMLInputElement&&"select"in t}function Li(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&ZT(t)&&e&&t.select()}}var Ev=eP();function eP(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Av(t,e),t.unshift(e)},remove(e){var r;t=Av(t,e),(r=t[0])==null||r.resume()}}}function Av(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function tP(t){return t.filter(e=>e.tagName!=="A")}var Kr=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},rP=dp[" useId ".trim().toString()]||(()=>{}),nP=0;function Rs(t){const[e,r]=b.useState(rP());return Kr(()=>{r(n=>n??String(nP++))},[t]),t||(e?`radix-${e}`:"")}const sP=["top","right","bottom","left"],Ki=Math.min,jn=Math.max,kd=Math.round,zu=Math.floor,Ms=t=>({x:t,y:t}),iP={left:"right",right:"left",bottom:"top",top:"bottom"},oP={start:"end",end:"start"};function Ym(t,e,r){return jn(t,Ki(e,r))}function oi(t,e){return typeof t=="function"?t(e):t}function ai(t){return t.split("-")[0]}function Va(t){return t.split("-")[1]}function Dp(t){return t==="x"?"y":"x"}function zp(t){return t==="y"?"height":"width"}const aP=new Set(["top","bottom"]);function Ts(t){return aP.has(ai(t))?"y":"x"}function Op(t){return Dp(Ts(t))}function lP(t,e,r){r===void 0&&(r=!1);const n=Va(t),o=Op(t),l=zp(o);let c=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=Nd(c)),[c,Nd(c)]}function cP(t){const e=Nd(t);return[Qm(t),e,Qm(e)]}function Qm(t){return t.replace(/start|end/g,e=>oP[e])}const jv=["left","right"],Sv=["right","left"],uP=["top","bottom"],dP=["bottom","top"];function fP(t,e,r){switch(t){case"top":case"bottom":return r?e?Sv:jv:e?jv:Sv;case"left":case"right":return e?uP:dP;default:return[]}}function hP(t,e,r,n){const o=Va(t);let l=fP(ai(t),r==="start",n);return o&&(l=l.map(c=>c+"-"+o),e&&(l=l.concat(l.map(Qm)))),l}function Nd(t){return t.replace(/left|right|bottom|top/g,e=>iP[e])}function mP(t){return{top:0,right:0,bottom:0,left:0,...t}}function bw(t){return typeof t!="number"?mP(t):{top:t,right:t,bottom:t,left:t}}function Cd(t){const{x:e,y:r,width:n,height:o}=t;return{width:n,height:o,top:r,left:e,right:e+n,bottom:r+o,x:e,y:r}}function Tv(t,e,r){let{reference:n,floating:o}=t;const l=Ts(e),c=Op(e),u=zp(c),f=ai(e),h=l==="y",m=n.x+n.width/2-o.width/2,y=n.y+n.height/2-o.height/2,k=n[u]/2-o[u]/2;let g;switch(f){case"top":g={x:m,y:n.y-o.height};break;case"bottom":g={x:m,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y};break;case"left":g={x:n.x-o.width,y};break;default:g={x:n.x,y:n.y}}switch(Va(e)){case"start":g[c]-=k*(r&&h?-1:1);break;case"end":g[c]+=k*(r&&h?-1:1);break}return g}const pP=async(t,e,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:l=[],platform:c}=r,u=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let h=await c.getElementRects({reference:t,floating:e,strategy:o}),{x:m,y}=Tv(h,n,f),k=n,g={},j=0;for(let N=0;N<u.length;N++){const{name:C,fn:S}=u[N],{x:D,y:O,data:F,reset:L}=await S({x:m,y,initialPlacement:n,placement:k,strategy:o,middlewareData:g,rects:h,platform:c,elements:{reference:t,floating:e}});m=D??m,y=O??y,g={...g,[C]:{...g[C],...F}},L&&j<=50&&(j++,typeof L=="object"&&(L.placement&&(k=L.placement),L.rects&&(h=L.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:o}):L.rects),{x:m,y}=Tv(h,k,f)),N=-1)}return{x:m,y,placement:k,strategy:o,middlewareData:g}};async function tc(t,e){var r;e===void 0&&(e={});const{x:n,y:o,platform:l,rects:c,elements:u,strategy:f}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:k=!1,padding:g=0}=oi(e,t),j=bw(g),C=u[k?y==="floating"?"reference":"floating":y],S=Cd(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(C)))==null||r?C:C.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:h,rootBoundary:m,strategy:f})),D=y==="floating"?{x:n,y:o,width:c.floating.width,height:c.floating.height}:c.reference,O=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),F=await(l.isElement==null?void 0:l.isElement(O))?await(l.getScale==null?void 0:l.getScale(O))||{x:1,y:1}:{x:1,y:1},L=Cd(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:D,offsetParent:O,strategy:f}):D);return{top:(S.top-L.top+j.top)/F.y,bottom:(L.bottom-S.bottom+j.bottom)/F.y,left:(S.left-L.left+j.left)/F.x,right:(L.right-S.right+j.right)/F.x}}const gP=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:o,rects:l,platform:c,elements:u,middlewareData:f}=e,{element:h,padding:m=0}=oi(t,e)||{};if(h==null)return{};const y=bw(m),k={x:r,y:n},g=Op(o),j=zp(g),N=await c.getDimensions(h),C=g==="y",S=C?"top":"left",D=C?"bottom":"right",O=C?"clientHeight":"clientWidth",F=l.reference[j]+l.reference[g]-k[g]-l.floating[j],L=k[g]-l.reference[g],H=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let q=H?H[O]:0;(!q||!await(c.isElement==null?void 0:c.isElement(H)))&&(q=u.floating[O]||l.floating[j]);const Y=F/2-L/2,Q=q/2-N[j]/2-1,re=Ki(y[S],Q),te=Ki(y[D],Q),$=re,M=q-N[j]-te,x=q/2-N[j]/2+Y,E=Ym($,x,M),T=!f.arrow&&Va(o)!=null&&x!==E&&l.reference[j]/2-(x<$?re:te)-N[j]/2<0,P=T?x<$?x-$:x-M:0;return{[g]:k[g]+P,data:{[g]:E,centerOffset:x-E-P,...T&&{alignmentOffset:P}},reset:T}}}),xP=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:o,middlewareData:l,rects:c,initialPlacement:u,platform:f,elements:h}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:k,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:N=!0,...C}=oi(t,e);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const S=ai(o),D=Ts(u),O=ai(u)===u,F=await(f.isRTL==null?void 0:f.isRTL(h.floating)),L=k||(O||!N?[Nd(u)]:cP(u)),H=j!=="none";!k&&H&&L.push(...hP(u,N,j,F));const q=[u,...L],Y=await tc(e,C),Q=[];let re=((n=l.flip)==null?void 0:n.overflows)||[];if(m&&Q.push(Y[S]),y){const x=lP(o,c,F);Q.push(Y[x[0]],Y[x[1]])}if(re=[...re,{placement:o,overflows:Q}],!Q.every(x=>x<=0)){var te,$;const x=(((te=l.flip)==null?void 0:te.index)||0)+1,E=q[x];if(E&&(!(y==="alignment"?D!==Ts(E):!1)||re.every(_=>_.overflows[0]>0&&Ts(_.placement)===D)))return{data:{index:x,overflows:re},reset:{placement:E}};let T=($=re.filter(P=>P.overflows[0]<=0).sort((P,_)=>P.overflows[1]-_.overflows[1])[0])==null?void 0:$.placement;if(!T)switch(g){case"bestFit":{var M;const P=(M=re.filter(_=>{if(H){const z=Ts(_.placement);return z===D||z==="y"}return!0}).map(_=>[_.placement,_.overflows.filter(z=>z>0).reduce((z,W)=>z+W,0)]).sort((_,z)=>_[1]-z[1])[0])==null?void 0:M[0];P&&(T=P);break}case"initialPlacement":T=u;break}if(o!==T)return{reset:{placement:T}}}return{}}}};function Pv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Rv(t){return sP.some(e=>t[e]>=0)}const yP=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...o}=oi(t,e);switch(n){case"referenceHidden":{const l=await tc(e,{...o,elementContext:"reference"}),c=Pv(l,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Rv(c)}}}case"escaped":{const l=await tc(e,{...o,altBoundary:!0}),c=Pv(l,r.floating);return{data:{escapedOffsets:c,escaped:Rv(c)}}}default:return{}}}}},ww=new Set(["left","top"]);async function vP(t,e){const{placement:r,platform:n,elements:o}=t,l=await(n.isRTL==null?void 0:n.isRTL(o.floating)),c=ai(r),u=Va(r),f=Ts(r)==="y",h=ww.has(c)?-1:1,m=l&&f?-1:1,y=oi(e,t);let{mainAxis:k,crossAxis:g,alignmentAxis:j}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof j=="number"&&(g=u==="end"?j*-1:j),f?{x:g*m,y:k*h}:{x:k*h,y:g*m}}const bP=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:o,y:l,placement:c,middlewareData:u}=e,f=await vP(e,t);return c===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:o+f.x,y:l+f.y,data:{...f,placement:c}}}}},wP=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:o}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:u={fn:C=>{let{x:S,y:D}=C;return{x:S,y:D}}},...f}=oi(t,e),h={x:r,y:n},m=await tc(e,f),y=Ts(ai(o)),k=Dp(y);let g=h[k],j=h[y];if(l){const C=k==="y"?"top":"left",S=k==="y"?"bottom":"right",D=g+m[C],O=g-m[S];g=Ym(D,g,O)}if(c){const C=y==="y"?"top":"left",S=y==="y"?"bottom":"right",D=j+m[C],O=j-m[S];j=Ym(D,j,O)}const N=u.fn({...e,[k]:g,[y]:j});return{...N,data:{x:N.x-r,y:N.y-n,enabled:{[k]:l,[y]:c}}}}}},kP=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:o,rects:l,middlewareData:c}=e,{offset:u=0,mainAxis:f=!0,crossAxis:h=!0}=oi(t,e),m={x:r,y:n},y=Ts(o),k=Dp(y);let g=m[k],j=m[y];const N=oi(u,e),C=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(f){const O=k==="y"?"height":"width",F=l.reference[k]-l.floating[O]+C.mainAxis,L=l.reference[k]+l.reference[O]-C.mainAxis;g<F?g=F:g>L&&(g=L)}if(h){var S,D;const O=k==="y"?"width":"height",F=ww.has(ai(o)),L=l.reference[y]-l.floating[O]+(F&&((S=c.offset)==null?void 0:S[y])||0)+(F?0:C.crossAxis),H=l.reference[y]+l.reference[O]+(F?0:((D=c.offset)==null?void 0:D[y])||0)-(F?C.crossAxis:0);j<L?j=L:j>H&&(j=H)}return{[k]:g,[y]:j}}}},NP=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:o,rects:l,platform:c,elements:u}=e,{apply:f=()=>{},...h}=oi(t,e),m=await tc(e,h),y=ai(o),k=Va(o),g=Ts(o)==="y",{width:j,height:N}=l.floating;let C,S;y==="top"||y==="bottom"?(C=y,S=k===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(S=y,C=k==="end"?"top":"bottom");const D=N-m.top-m.bottom,O=j-m.left-m.right,F=Ki(N-m[C],D),L=Ki(j-m[S],O),H=!e.middlewareData.shift;let q=F,Y=L;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(Y=O),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(q=D),H&&!k){const re=jn(m.left,0),te=jn(m.right,0),$=jn(m.top,0),M=jn(m.bottom,0);g?Y=j-2*(re!==0||te!==0?re+te:jn(m.left,m.right)):q=N-2*($!==0||M!==0?$+M:jn(m.top,m.bottom))}await f({...e,availableWidth:Y,availableHeight:q});const Q=await c.getDimensions(u.floating);return j!==Q.width||N!==Q.height?{reset:{rects:!0}}:{}}}};function Yd(){return typeof window<"u"}function Ka(t){return kw(t)?(t.nodeName||"").toLowerCase():"#document"}function Mn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ls(t){var e;return(e=(kw(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function kw(t){return Yd()?t instanceof Node||t instanceof Mn(t).Node:!1}function hs(t){return Yd()?t instanceof Element||t instanceof Mn(t).Element:!1}function zs(t){return Yd()?t instanceof HTMLElement||t instanceof Mn(t).HTMLElement:!1}function Mv(t){return!Yd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Mn(t).ShadowRoot}const CP=new Set(["inline","contents"]);function gc(t){const{overflow:e,overflowX:r,overflowY:n,display:o}=ms(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!CP.has(o)}const EP=new Set(["table","td","th"]);function AP(t){return EP.has(Ka(t))}const jP=[":popover-open",":modal"];function Qd(t){return jP.some(e=>{try{return t.matches(e)}catch{return!1}})}const SP=["transform","translate","scale","rotate","perspective"],TP=["transform","translate","scale","rotate","perspective","filter"],PP=["paint","layout","strict","content"];function Lp(t){const e=Fp(),r=hs(t)?ms(t):t;return SP.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||TP.some(n=>(r.willChange||"").includes(n))||PP.some(n=>(r.contain||"").includes(n))}function RP(t){let e=Yi(t);for(;zs(e)&&!Oa(e);){if(Lp(e))return e;if(Qd(e))return null;e=Yi(e)}return null}function Fp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const MP=new Set(["html","body","#document"]);function Oa(t){return MP.has(Ka(t))}function ms(t){return Mn(t).getComputedStyle(t)}function Jd(t){return hs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Yi(t){if(Ka(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Mv(t)&&t.host||Ls(t);return Mv(e)?e.host:e}function Nw(t){const e=Yi(t);return Oa(e)?t.ownerDocument?t.ownerDocument.body:t.body:zs(e)&&gc(e)?e:Nw(e)}function rc(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const o=Nw(t),l=o===((n=t.ownerDocument)==null?void 0:n.body),c=Mn(o);if(l){const u=Jm(c);return e.concat(c,c.visualViewport||[],gc(o)?o:[],u&&r?rc(u):[])}return e.concat(o,rc(o,[],r))}function Jm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Cw(t){const e=ms(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const o=zs(t),l=o?t.offsetWidth:r,c=o?t.offsetHeight:n,u=kd(r)!==l||kd(n)!==c;return u&&(r=l,n=c),{width:r,height:n,$:u}}function Bp(t){return hs(t)?t:t.contextElement}function Ra(t){const e=Bp(t);if(!zs(e))return Ms(1);const r=e.getBoundingClientRect(),{width:n,height:o,$:l}=Cw(e);let c=(l?kd(r.width):r.width)/n,u=(l?kd(r.height):r.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const _P=Ms(0);function Ew(t){const e=Mn(t);return!Fp()||!e.visualViewport?_P:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function IP(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Mn(t)?!1:e}function Po(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const o=t.getBoundingClientRect(),l=Bp(t);let c=Ms(1);e&&(n?hs(n)&&(c=Ra(n)):c=Ra(t));const u=IP(l,r,n)?Ew(l):Ms(0);let f=(o.left+u.x)/c.x,h=(o.top+u.y)/c.y,m=o.width/c.x,y=o.height/c.y;if(l){const k=Mn(l),g=n&&hs(n)?Mn(n):n;let j=k,N=Jm(j);for(;N&&n&&g!==j;){const C=Ra(N),S=N.getBoundingClientRect(),D=ms(N),O=S.left+(N.clientLeft+parseFloat(D.paddingLeft))*C.x,F=S.top+(N.clientTop+parseFloat(D.paddingTop))*C.y;f*=C.x,h*=C.y,m*=C.x,y*=C.y,f+=O,h+=F,j=Mn(N),N=Jm(j)}}return Cd({width:m,height:y,x:f,y:h})}function Up(t,e){const r=Jd(t).scrollLeft;return e?e.left+r:Po(Ls(t)).left+r}function Aw(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-(r?0:Up(t,n)),l=n.top+e.scrollTop;return{x:o,y:l}}function DP(t){let{elements:e,rect:r,offsetParent:n,strategy:o}=t;const l=o==="fixed",c=Ls(n),u=e?Qd(e.floating):!1;if(n===c||u&&l)return r;let f={scrollLeft:0,scrollTop:0},h=Ms(1);const m=Ms(0),y=zs(n);if((y||!y&&!l)&&((Ka(n)!=="body"||gc(c))&&(f=Jd(n)),zs(n))){const g=Po(n);h=Ra(n),m.x=g.x+n.clientLeft,m.y=g.y+n.clientTop}const k=c&&!y&&!l?Aw(c,f,!0):Ms(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-f.scrollLeft*h.x+m.x+k.x,y:r.y*h.y-f.scrollTop*h.y+m.y+k.y}}function zP(t){return Array.from(t.getClientRects())}function OP(t){const e=Ls(t),r=Jd(t),n=t.ownerDocument.body,o=jn(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),l=jn(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+Up(t);const u=-r.scrollTop;return ms(n).direction==="rtl"&&(c+=jn(e.clientWidth,n.clientWidth)-o),{width:o,height:l,x:c,y:u}}function LP(t,e){const r=Mn(t),n=Ls(t),o=r.visualViewport;let l=n.clientWidth,c=n.clientHeight,u=0,f=0;if(o){l=o.width,c=o.height;const h=Fp();(!h||h&&e==="fixed")&&(u=o.offsetLeft,f=o.offsetTop)}return{width:l,height:c,x:u,y:f}}const FP=new Set(["absolute","fixed"]);function BP(t,e){const r=Po(t,!0,e==="fixed"),n=r.top+t.clientTop,o=r.left+t.clientLeft,l=zs(t)?Ra(t):Ms(1),c=t.clientWidth*l.x,u=t.clientHeight*l.y,f=o*l.x,h=n*l.y;return{width:c,height:u,x:f,y:h}}function _v(t,e,r){let n;if(e==="viewport")n=LP(t,r);else if(e==="document")n=OP(Ls(t));else if(hs(e))n=BP(e,r);else{const o=Ew(t);n={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Cd(n)}function jw(t,e){const r=Yi(t);return r===e||!hs(r)||Oa(r)?!1:ms(r).position==="fixed"||jw(r,e)}function UP(t,e){const r=e.get(t);if(r)return r;let n=rc(t,[],!1).filter(u=>hs(u)&&Ka(u)!=="body"),o=null;const l=ms(t).position==="fixed";let c=l?Yi(t):t;for(;hs(c)&&!Oa(c);){const u=ms(c),f=Lp(c);!f&&u.position==="fixed"&&(o=null),(l?!f&&!o:!f&&u.position==="static"&&!!o&&FP.has(o.position)||gc(c)&&!f&&jw(t,c))?n=n.filter(m=>m!==c):o=u,c=Yi(c)}return e.set(t,n),n}function $P(t){let{element:e,boundary:r,rootBoundary:n,strategy:o}=t;const c=[...r==="clippingAncestors"?Qd(e)?[]:UP(e,this._c):[].concat(r),n],u=c[0],f=c.reduce((h,m)=>{const y=_v(e,m,o);return h.top=jn(y.top,h.top),h.right=Ki(y.right,h.right),h.bottom=Ki(y.bottom,h.bottom),h.left=jn(y.left,h.left),h},_v(e,u,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function WP(t){const{width:e,height:r}=Cw(t);return{width:e,height:r}}function HP(t,e,r){const n=zs(e),o=Ls(e),l=r==="fixed",c=Po(t,!0,l,e);let u={scrollLeft:0,scrollTop:0};const f=Ms(0);function h(){f.x=Up(o)}if(n||!n&&!l)if((Ka(e)!=="body"||gc(o))&&(u=Jd(e)),n){const g=Po(e,!0,l,e);f.x=g.x+e.clientLeft,f.y=g.y+e.clientTop}else o&&h();l&&!n&&o&&h();const m=o&&!n&&!l?Aw(o,u):Ms(0),y=c.left+u.scrollLeft-f.x-m.x,k=c.top+u.scrollTop-f.y-m.y;return{x:y,y:k,width:c.width,height:c.height}}function Am(t){return ms(t).position==="static"}function Iv(t,e){if(!zs(t)||ms(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Ls(t)===r&&(r=r.ownerDocument.body),r}function Sw(t,e){const r=Mn(t);if(Qd(t))return r;if(!zs(t)){let o=Yi(t);for(;o&&!Oa(o);){if(hs(o)&&!Am(o))return o;o=Yi(o)}return r}let n=Iv(t,e);for(;n&&AP(n)&&Am(n);)n=Iv(n,e);return n&&Oa(n)&&Am(n)&&!Lp(n)?r:n||RP(t)||r}const qP=async function(t){const e=this.getOffsetParent||Sw,r=this.getDimensions,n=await r(t.floating);return{reference:HP(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function GP(t){return ms(t).direction==="rtl"}const VP={convertOffsetParentRelativeRectToViewportRelativeRect:DP,getDocumentElement:Ls,getClippingRect:$P,getOffsetParent:Sw,getElementRects:qP,getClientRects:zP,getDimensions:WP,getScale:Ra,isElement:hs,isRTL:GP};function Tw(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function KP(t,e){let r=null,n;const o=Ls(t);function l(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),l();const h=t.getBoundingClientRect(),{left:m,top:y,width:k,height:g}=h;if(u||e(),!k||!g)return;const j=zu(y),N=zu(o.clientWidth-(m+k)),C=zu(o.clientHeight-(y+g)),S=zu(m),O={rootMargin:-j+"px "+-N+"px "+-C+"px "+-S+"px",threshold:jn(0,Ki(1,f))||1};let F=!0;function L(H){const q=H[0].intersectionRatio;if(q!==f){if(!F)return c();q?c(!1,q):n=setTimeout(()=>{c(!1,1e-7)},1e3)}q===1&&!Tw(h,t.getBoundingClientRect())&&c(),F=!1}try{r=new IntersectionObserver(L,{...O,root:o.ownerDocument})}catch{r=new IntersectionObserver(L,O)}r.observe(t)}return c(!0),l}function YP(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,h=Bp(t),m=o||l?[...h?rc(h):[],...rc(e)]:[];m.forEach(S=>{o&&S.addEventListener("scroll",r,{passive:!0}),l&&S.addEventListener("resize",r)});const y=h&&u?KP(h,r):null;let k=-1,g=null;c&&(g=new ResizeObserver(S=>{let[D]=S;D&&D.target===h&&g&&(g.unobserve(e),cancelAnimationFrame(k),k=requestAnimationFrame(()=>{var O;(O=g)==null||O.observe(e)})),r()}),h&&!f&&g.observe(h),g.observe(e));let j,N=f?Po(t):null;f&&C();function C(){const S=Po(t);N&&!Tw(N,S)&&r(),N=S,j=requestAnimationFrame(C)}return r(),()=>{var S;m.forEach(D=>{o&&D.removeEventListener("scroll",r),l&&D.removeEventListener("resize",r)}),y==null||y(),(S=g)==null||S.disconnect(),g=null,f&&cancelAnimationFrame(j)}}const QP=bP,JP=wP,XP=xP,ZP=NP,eR=yP,Dv=gP,tR=kP,rR=(t,e,r)=>{const n=new Map,o={platform:VP,...r},l={...o.platform,_c:n};return pP(t,e,{...o,platform:l})};var nR=typeof document<"u",sR=function(){},od=nR?b.useLayoutEffect:sR;function Ed(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Ed(t[n],e[n]))return!1;return!0}if(o=Object.keys(t),r=o.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,o[n]))return!1;for(n=r;n--!==0;){const l=o[n];if(!(l==="_owner"&&t.$$typeof)&&!Ed(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function Pw(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function zv(t,e){const r=Pw(t);return Math.round(e*r)/r}function jm(t){const e=b.useRef(t);return od(()=>{e.current=t}),e}function iR(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:l,floating:c}={},transform:u=!0,whileElementsMounted:f,open:h}=t,[m,y]=b.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[k,g]=b.useState(n);Ed(k,n)||g(n);const[j,N]=b.useState(null),[C,S]=b.useState(null),D=b.useCallback(_=>{_!==H.current&&(H.current=_,N(_))},[]),O=b.useCallback(_=>{_!==q.current&&(q.current=_,S(_))},[]),F=l||j,L=c||C,H=b.useRef(null),q=b.useRef(null),Y=b.useRef(m),Q=f!=null,re=jm(f),te=jm(o),$=jm(h),M=b.useCallback(()=>{if(!H.current||!q.current)return;const _={placement:e,strategy:r,middleware:k};te.current&&(_.platform=te.current),rR(H.current,q.current,_).then(z=>{const W={...z,isPositioned:$.current!==!1};x.current&&!Ed(Y.current,W)&&(Y.current=W,ic.flushSync(()=>{y(W)}))})},[k,e,r,te,$]);od(()=>{h===!1&&Y.current.isPositioned&&(Y.current.isPositioned=!1,y(_=>({..._,isPositioned:!1})))},[h]);const x=b.useRef(!1);od(()=>(x.current=!0,()=>{x.current=!1}),[]),od(()=>{if(F&&(H.current=F),L&&(q.current=L),F&&L){if(re.current)return re.current(F,L,M);M()}},[F,L,M,re,Q]);const E=b.useMemo(()=>({reference:H,floating:q,setReference:D,setFloating:O}),[D,O]),T=b.useMemo(()=>({reference:F,floating:L}),[F,L]),P=b.useMemo(()=>{const _={position:r,left:0,top:0};if(!T.floating)return _;const z=zv(T.floating,m.x),W=zv(T.floating,m.y);return u?{..._,transform:"translate("+z+"px, "+W+"px)",...Pw(T.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:z,top:W}},[r,u,T.floating,m.x,m.y]);return b.useMemo(()=>({...m,update:M,refs:E,elements:T,floatingStyles:P}),[m,M,E,T,P])}const oR=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:o}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?Dv({element:n.current,padding:o}).fn(r):{}:n?Dv({element:n,padding:o}).fn(r):{}}}},aR=(t,e)=>({...QP(t),options:[t,e]}),lR=(t,e)=>({...JP(t),options:[t,e]}),cR=(t,e)=>({...tR(t),options:[t,e]}),uR=(t,e)=>({...XP(t),options:[t,e]}),dR=(t,e)=>({...ZP(t),options:[t,e]}),fR=(t,e)=>({...eR(t),options:[t,e]}),hR=(t,e)=>({...oR(t),options:[t,e]});var mR="Arrow",Rw=b.forwardRef((t,e)=>{const{children:r,width:n=10,height:o=5,...l}=t;return i.jsx(it.svg,{...l,ref:e,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});Rw.displayName=mR;var pR=Rw;function Mw(t){const[e,r]=b.useState(void 0);return Kr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let c,u;if("borderBoxSize"in l){const f=l.borderBoxSize,h=Array.isArray(f)?f[0]:f;c=h.inlineSize,u=h.blockSize}else c=t.offsetWidth,u=t.offsetHeight;r({width:c,height:u})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var $p="Popper",[_w,Xd]=di($p),[gR,Iw]=_w($p),Dw=t=>{const{__scopePopper:e,children:r}=t,[n,o]=b.useState(null);return i.jsx(gR,{scope:e,anchor:n,onAnchorChange:o,children:r})};Dw.displayName=$p;var zw="PopperAnchor",Ow=b.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...o}=t,l=Iw(zw,r),c=b.useRef(null),u=Lt(e,c);return b.useEffect(()=>{l.onAnchorChange((n==null?void 0:n.current)||c.current)}),n?null:i.jsx(it.div,{...o,ref:u})});Ow.displayName=zw;var Wp="PopperContent",[xR,yR]=_w(Wp),Lw=b.forwardRef((t,e)=>{var K,Z,oe,fe,ue,de;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:l="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:y="partial",hideWhenDetached:k=!1,updatePositionStrategy:g="optimized",onPlaced:j,...N}=t,C=Iw(Wp,r),[S,D]=b.useState(null),O=Lt(e,Pe=>D(Pe)),[F,L]=b.useState(null),H=Mw(F),q=(H==null?void 0:H.width)??0,Y=(H==null?void 0:H.height)??0,Q=n+(l!=="center"?"-"+l:""),re=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},te=Array.isArray(h)?h:[h],$=te.length>0,M={padding:re,boundary:te.filter(bR),altBoundary:$},{refs:x,floatingStyles:E,placement:T,isPositioned:P,middlewareData:_}=iR({strategy:"fixed",placement:Q,whileElementsMounted:(...Pe)=>YP(...Pe,{animationFrame:g==="always"}),elements:{reference:C.anchor},middleware:[aR({mainAxis:o+Y,alignmentAxis:c}),f&&lR({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?cR():void 0,...M}),f&&uR({...M}),dR({...M,apply:({elements:Pe,rects:ge,availableWidth:ve,availableHeight:Je})=>{const{width:Ne,height:Fe}=ge.reference,bt=Pe.floating.style;bt.setProperty("--radix-popper-available-width",`${ve}px`),bt.setProperty("--radix-popper-available-height",`${Je}px`),bt.setProperty("--radix-popper-anchor-width",`${Ne}px`),bt.setProperty("--radix-popper-anchor-height",`${Fe}px`)}}),F&&hR({element:F,padding:u}),wR({arrowWidth:q,arrowHeight:Y}),k&&fR({strategy:"referenceHidden",...M})]}),[z,W]=Uw(T),R=Ds(j);Kr(()=>{P&&(R==null||R())},[P,R]);const w=(K=_.arrow)==null?void 0:K.x,U=(Z=_.arrow)==null?void 0:Z.y,se=((oe=_.arrow)==null?void 0:oe.centerOffset)!==0,[I,V]=b.useState();return Kr(()=>{S&&V(window.getComputedStyle(S).zIndex)},[S]),i.jsx("div",{ref:x.setFloating,"data-radix-popper-content-wrapper":"",style:{...E,transform:P?E.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:I,"--radix-popper-transform-origin":[(fe=_.transformOrigin)==null?void 0:fe.x,(ue=_.transformOrigin)==null?void 0:ue.y].join(" "),...((de=_.hide)==null?void 0:de.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(xR,{scope:r,placedSide:z,onArrowChange:L,arrowX:w,arrowY:U,shouldHideArrow:se,children:i.jsx(it.div,{"data-side":z,"data-align":W,...N,ref:O,style:{...N.style,animation:P?void 0:"none"}})})})});Lw.displayName=Wp;var Fw="PopperArrow",vR={top:"bottom",right:"left",bottom:"top",left:"right"},Bw=b.forwardRef(function(e,r){const{__scopePopper:n,...o}=e,l=yR(Fw,n),c=vR[l.placedSide];return i.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:i.jsx(pR,{...o,ref:r,style:{...o.style,display:"block"}})})});Bw.displayName=Fw;function bR(t){return t!==null}var wR=t=>({name:"transformOrigin",options:t,fn(e){var C,S,D;const{placement:r,rects:n,middlewareData:o}=e,c=((C=o.arrow)==null?void 0:C.centerOffset)!==0,u=c?0:t.arrowWidth,f=c?0:t.arrowHeight,[h,m]=Uw(r),y={start:"0%",center:"50%",end:"100%"}[m],k=(((S=o.arrow)==null?void 0:S.x)??0)+u/2,g=(((D=o.arrow)==null?void 0:D.y)??0)+f/2;let j="",N="";return h==="bottom"?(j=c?y:`${k}px`,N=`${-f}px`):h==="top"?(j=c?y:`${k}px`,N=`${n.floating.height+f}px`):h==="right"?(j=`${-f}px`,N=c?y:`${g}px`):h==="left"&&(j=`${n.floating.width+f}px`,N=c?y:`${g}px`),{data:{x:j,y:N}}}});function Uw(t){const[e,r="center"]=t.split("-");return[e,r]}var $w=Dw,Ww=Ow,Hw=Lw,qw=Bw,kR="Portal",Zd=b.forwardRef((t,e)=>{var u;const{container:r,...n}=t,[o,l]=b.useState(!1);Kr(()=>l(!0),[]);const c=r||o&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?Yv.createPortal(i.jsx(it.div,{...n,ref:e}),c):null});Zd.displayName=kR;var NR=dp[" useInsertionEffect ".trim().toString()]||Kr;function Ro({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[o,l,c]=CR({defaultProp:e,onChange:r}),u=t!==void 0,f=u?t:o;{const m=b.useRef(t!==void 0);b.useEffect(()=>{const y=m.current;y!==u&&console.warn(`${n} is changing from ${y?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,n])}const h=b.useCallback(m=>{var y;if(u){const k=ER(m)?m(t):m;k!==t&&((y=c.current)==null||y.call(c,k))}else l(m)},[u,t,l,c]);return[f,h]}function CR({defaultProp:t,onChange:e}){const[r,n]=b.useState(t),o=b.useRef(r),l=b.useRef(e);return NR(()=>{l.current=e},[e]),b.useEffect(()=>{var c;o.current!==r&&((c=l.current)==null||c.call(l,r),o.current=r)},[r,o]),[r,n,l]}function ER(t){return typeof t=="function"}function Gw(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Vw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),AR="VisuallyHidden",jR=b.forwardRef((t,e)=>i.jsx(it.span,{...t,ref:e,style:{...Vw,...t.style}}));jR.displayName=AR;var SR=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ya=new WeakMap,Ou=new WeakMap,Lu={},Sm=0,Kw=function(t){return t&&(t.host||Kw(t.parentNode))},TR=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=Kw(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},PR=function(t,e,r,n){var o=TR(e,Array.isArray(t)?t:[t]);Lu[r]||(Lu[r]=new WeakMap);var l=Lu[r],c=[],u=new Set,f=new Set(o),h=function(y){!y||u.has(y)||(u.add(y),h(y.parentNode))};o.forEach(h);var m=function(y){!y||f.has(y)||Array.prototype.forEach.call(y.children,function(k){if(u.has(k))m(k);else try{var g=k.getAttribute(n),j=g!==null&&g!=="false",N=(ya.get(k)||0)+1,C=(l.get(k)||0)+1;ya.set(k,N),l.set(k,C),c.push(k),N===1&&j&&Ou.set(k,!0),C===1&&k.setAttribute(r,"true"),j||k.setAttribute(n,"true")}catch(S){console.error("aria-hidden: cannot operate on ",k,S)}})};return m(e),u.clear(),Sm++,function(){c.forEach(function(y){var k=ya.get(y)-1,g=l.get(y)-1;ya.set(y,k),l.set(y,g),k||(Ou.has(y)||y.removeAttribute(n),Ou.delete(y)),g||y.removeAttribute(r)}),Sm--,Sm||(ya=new WeakMap,ya=new WeakMap,Ou=new WeakMap,Lu={})}},Hp=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),o=SR(t);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),PR(n,o,r,"aria-hidden")):function(){return null}},Ss=function(){return Ss=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},Ss.apply(this,arguments)};function Yw(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}function RR(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,l;n<o;n++)(l||!(n in e))&&(l||(l=Array.prototype.slice.call(e,0,n)),l[n]=e[n]);return t.concat(l||Array.prototype.slice.call(e))}var ad="right-scroll-bar-position",ld="width-before-scroll-bar",MR="with-scroll-bars-hidden",_R="--removed-body-scroll-bar-size";function Tm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function IR(t,e){var r=b.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=e,r.facade}var DR=typeof window<"u"?b.useLayoutEffect:b.useEffect,Ov=new WeakMap;function zR(t,e){var r=IR(null,function(n){return t.forEach(function(o){return Tm(o,n)})});return DR(function(){var n=Ov.get(r);if(n){var o=new Set(n),l=new Set(t),c=r.current;o.forEach(function(u){l.has(u)||Tm(u,null)}),l.forEach(function(u){o.has(u)||Tm(u,c)})}Ov.set(r,t)},[t]),r}function OR(t){return t}function LR(t,e){e===void 0&&(e=OR);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(l){var c=e(l,n);return r.push(c),function(){r=r.filter(function(u){return u!==c})}},assignSyncMedium:function(l){for(n=!0;r.length;){var c=r;r=[],c.forEach(l)}r={push:function(u){return l(u)},filter:function(){return r}}},assignMedium:function(l){n=!0;var c=[];if(r.length){var u=r;r=[],u.forEach(l),c=r}var f=function(){var m=c;c=[],m.forEach(l)},h=function(){return Promise.resolve().then(f)};h(),r={push:function(m){c.push(m),h()},filter:function(m){return c=c.filter(m),r}}}};return o}function FR(t){t===void 0&&(t={});var e=LR(null);return e.options=Ss({async:!0,ssr:!1},t),e}var Qw=function(t){var e=t.sideCar,r=Yw(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return b.createElement(n,Ss({},r))};Qw.isSideCarExport=!0;function BR(t,e){return t.useMedium(e),Qw}var Jw=FR(),Pm=function(){},ef=b.forwardRef(function(t,e){var r=b.useRef(null),n=b.useState({onScrollCapture:Pm,onWheelCapture:Pm,onTouchMoveCapture:Pm}),o=n[0],l=n[1],c=t.forwardProps,u=t.children,f=t.className,h=t.removeScrollBar,m=t.enabled,y=t.shards,k=t.sideCar,g=t.noRelative,j=t.noIsolation,N=t.inert,C=t.allowPinchZoom,S=t.as,D=S===void 0?"div":S,O=t.gapMode,F=Yw(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=k,H=zR([r,e]),q=Ss(Ss({},F),o);return b.createElement(b.Fragment,null,m&&b.createElement(L,{sideCar:Jw,removeScrollBar:h,shards:y,noRelative:g,noIsolation:j,inert:N,setCallbacks:l,allowPinchZoom:!!C,lockRef:r,gapMode:O}),c?b.cloneElement(b.Children.only(u),Ss(Ss({},q),{ref:H})):b.createElement(D,Ss({},q,{className:f,ref:H}),u))});ef.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ef.classNames={fullWidth:ld,zeroRight:ad};var UR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $R(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=UR();return e&&t.setAttribute("nonce",e),t}function WR(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function HR(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var qR=function(){var t=0,e=null;return{add:function(r){t==0&&(e=$R())&&(WR(e,r),HR(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},GR=function(){var t=qR();return function(e,r){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Xw=function(){var t=GR(),e=function(r){var n=r.styles,o=r.dynamic;return t(n,o),null};return e},VR={left:0,top:0,right:0,gap:0},Rm=function(t){return parseInt(t||"",10)||0},KR=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[Rm(r),Rm(n),Rm(o)]},YR=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return VR;var e=KR(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},QR=Xw(),Ma="data-scroll-locked",JR=function(t,e,r,n){var o=t.left,l=t.top,c=t.right,u=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(MR,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(Ma,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ad,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(ld,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(ad," .").concat(ad,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ld," .").concat(ld,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ma,`] {
    `).concat(_R,": ").concat(u,`px;
  }
`)},Lv=function(){var t=parseInt(document.body.getAttribute(Ma)||"0",10);return isFinite(t)?t:0},XR=function(){b.useEffect(function(){return document.body.setAttribute(Ma,(Lv()+1).toString()),function(){var t=Lv()-1;t<=0?document.body.removeAttribute(Ma):document.body.setAttribute(Ma,t.toString())}},[])},ZR=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,o=n===void 0?"margin":n;XR();var l=b.useMemo(function(){return YR(o)},[o]);return b.createElement(QR,{styles:JR(l,!e,o,r?"":"!important")})},Xm=!1;if(typeof window<"u")try{var Fu=Object.defineProperty({},"passive",{get:function(){return Xm=!0,!0}});window.addEventListener("test",Fu,Fu),window.removeEventListener("test",Fu,Fu)}catch{Xm=!1}var va=Xm?{passive:!1}:!1,e5=function(t){return t.tagName==="TEXTAREA"},Zw=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!e5(t)&&r[e]==="visible")},t5=function(t){return Zw(t,"overflowY")},r5=function(t){return Zw(t,"overflowX")},Fv=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=e1(t,n);if(o){var l=t1(t,n),c=l[1],u=l[2];if(c>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},n5=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},s5=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},e1=function(t,e){return t==="v"?t5(e):r5(e)},t1=function(t,e){return t==="v"?n5(e):s5(e)},i5=function(t,e){return t==="h"&&e==="rtl"?-1:1},o5=function(t,e,r,n,o){var l=i5(t,window.getComputedStyle(e).direction),c=l*n,u=r.target,f=e.contains(u),h=!1,m=c>0,y=0,k=0;do{if(!u)break;var g=t1(t,u),j=g[0],N=g[1],C=g[2],S=N-C-l*j;(j||S)&&e1(t,u)&&(y+=S,k+=j);var D=u.parentNode;u=D&&D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?D.host:D}while(!f&&u!==document.body||f&&(e.contains(u)||e===u));return(m&&Math.abs(y)<1||!m&&Math.abs(k)<1)&&(h=!0),h},Bu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Bv=function(t){return[t.deltaX,t.deltaY]},Uv=function(t){return t&&"current"in t?t.current:t},a5=function(t,e){return t[0]===e[0]&&t[1]===e[1]},l5=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},c5=0,ba=[];function u5(t){var e=b.useRef([]),r=b.useRef([0,0]),n=b.useRef(),o=b.useState(c5++)[0],l=b.useState(Xw)[0],c=b.useRef(t);b.useEffect(function(){c.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var N=RR([t.lockRef.current],(t.shards||[]).map(Uv),!0).filter(Boolean);return N.forEach(function(C){return C.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),N.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var u=b.useCallback(function(N,C){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!c.current.allowPinchZoom;var S=Bu(N),D=r.current,O="deltaX"in N?N.deltaX:D[0]-S[0],F="deltaY"in N?N.deltaY:D[1]-S[1],L,H=N.target,q=Math.abs(O)>Math.abs(F)?"h":"v";if("touches"in N&&q==="h"&&H.type==="range")return!1;var Y=Fv(q,H);if(!Y)return!0;if(Y?L=q:(L=q==="v"?"h":"v",Y=Fv(q,H)),!Y)return!1;if(!n.current&&"changedTouches"in N&&(O||F)&&(n.current=L),!L)return!0;var Q=n.current||L;return o5(Q,C,N,Q==="h"?O:F)},[]),f=b.useCallback(function(N){var C=N;if(!(!ba.length||ba[ba.length-1]!==l)){var S="deltaY"in C?Bv(C):Bu(C),D=e.current.filter(function(L){return L.name===C.type&&(L.target===C.target||C.target===L.shadowParent)&&a5(L.delta,S)})[0];if(D&&D.should){C.cancelable&&C.preventDefault();return}if(!D){var O=(c.current.shards||[]).map(Uv).filter(Boolean).filter(function(L){return L.contains(C.target)}),F=O.length>0?u(C,O[0]):!c.current.noIsolation;F&&C.cancelable&&C.preventDefault()}}},[]),h=b.useCallback(function(N,C,S,D){var O={name:N,delta:C,target:S,should:D,shadowParent:d5(S)};e.current.push(O),setTimeout(function(){e.current=e.current.filter(function(F){return F!==O})},1)},[]),m=b.useCallback(function(N){r.current=Bu(N),n.current=void 0},[]),y=b.useCallback(function(N){h(N.type,Bv(N),N.target,u(N,t.lockRef.current))},[]),k=b.useCallback(function(N){h(N.type,Bu(N),N.target,u(N,t.lockRef.current))},[]);b.useEffect(function(){return ba.push(l),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:k}),document.addEventListener("wheel",f,va),document.addEventListener("touchmove",f,va),document.addEventListener("touchstart",m,va),function(){ba=ba.filter(function(N){return N!==l}),document.removeEventListener("wheel",f,va),document.removeEventListener("touchmove",f,va),document.removeEventListener("touchstart",m,va)}},[]);var g=t.removeScrollBar,j=t.inert;return b.createElement(b.Fragment,null,j?b.createElement(l,{styles:l5(o)}):null,g?b.createElement(ZR,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function d5(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const f5=BR(Jw,u5);var tf=b.forwardRef(function(t,e){return b.createElement(ef,Ss({},t,{ref:e,sideCar:f5}))});tf.classNames=ef.classNames;var h5=[" ","Enter","ArrowUp","ArrowDown"],m5=[" ","Enter"],Mo="Select",[rf,nf,p5]=_p(Mo),[Ya,g6]=di(Mo,[p5,Xd]),sf=Xd(),[g5,Xi]=Ya(Mo),[x5,y5]=Ya(Mo),r1=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:o,onOpenChange:l,value:c,defaultValue:u,onValueChange:f,dir:h,name:m,autoComplete:y,disabled:k,required:g,form:j}=t,N=sf(e),[C,S]=b.useState(null),[D,O]=b.useState(null),[F,L]=b.useState(!1),H=Gd(h),[q,Y]=Ro({prop:n,defaultProp:o??!1,onChange:l,caller:Mo}),[Q,re]=Ro({prop:c,defaultProp:u,onChange:f,caller:Mo}),te=b.useRef(null),$=C?j||!!C.closest("form"):!0,[M,x]=b.useState(new Set),E=Array.from(M).map(T=>T.props.value).join(";");return i.jsx($w,{...N,children:i.jsxs(g5,{required:g,scope:e,trigger:C,onTriggerChange:S,valueNode:D,onValueNodeChange:O,valueNodeHasChildren:F,onValueNodeHasChildrenChange:L,contentId:Rs(),value:Q,onValueChange:re,open:q,onOpenChange:Y,dir:H,triggerPointerDownPosRef:te,disabled:k,children:[i.jsx(rf.Provider,{scope:e,children:i.jsx(x5,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(T=>{x(P=>new Set(P).add(T))},[]),onNativeOptionRemove:b.useCallback(T=>{x(P=>{const _=new Set(P);return _.delete(T),_})},[]),children:r})}),$?i.jsxs(C1,{"aria-hidden":!0,required:g,tabIndex:-1,name:m,autoComplete:y,value:Q,onChange:T=>re(T.target.value),disabled:k,form:j,children:[Q===void 0?i.jsx("option",{value:""}):null,Array.from(M)]},E):null]})})};r1.displayName=Mo;var n1="SelectTrigger",s1=b.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...o}=t,l=sf(r),c=Xi(n1,r),u=c.disabled||n,f=Lt(e,c.onTriggerChange),h=nf(r),m=b.useRef("touch"),[y,k,g]=A1(N=>{const C=h().filter(O=>!O.disabled),S=C.find(O=>O.value===c.value),D=j1(C,N,S);D!==void 0&&c.onValueChange(D.value)}),j=N=>{u||(c.onOpenChange(!0),g()),N&&(c.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return i.jsx(Ww,{asChild:!0,...l,children:i.jsx(it.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":E1(c.value)?"":void 0,...o,ref:f,onClick:De(o.onClick,N=>{N.currentTarget.focus(),m.current!=="mouse"&&j(N)}),onPointerDown:De(o.onPointerDown,N=>{m.current=N.pointerType;const C=N.target;C.hasPointerCapture(N.pointerId)&&C.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(j(N),N.preventDefault())}),onKeyDown:De(o.onKeyDown,N=>{const C=y.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&k(N.key),!(C&&N.key===" ")&&h5.includes(N.key)&&(j(),N.preventDefault())})})})});s1.displayName=n1;var i1="SelectValue",o1=b.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:o,children:l,placeholder:c="",...u}=t,f=Xi(i1,r),{onValueNodeHasChildrenChange:h}=f,m=l!==void 0,y=Lt(e,f.onValueNodeChange);return Kr(()=>{h(m)},[h,m]),i.jsx(it.span,{...u,ref:y,style:{pointerEvents:"none"},children:E1(f.value)?i.jsx(i.Fragment,{children:c}):l})});o1.displayName=i1;var v5="SelectIcon",a1=b.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...o}=t;return i.jsx(it.span,{"aria-hidden":!0,...o,ref:e,children:n||""})});a1.displayName=v5;var b5="SelectPortal",l1=t=>i.jsx(Zd,{asChild:!0,...t});l1.displayName=b5;var _o="SelectContent",c1=b.forwardRef((t,e)=>{const r=Xi(_o,t.__scopeSelect),[n,o]=b.useState();if(Kr(()=>{o(new DocumentFragment)},[]),!r.open){const l=n;return l?ic.createPortal(i.jsx(u1,{scope:t.__scopeSelect,children:i.jsx(rf.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),l):null}return i.jsx(d1,{...t,ref:e})});c1.displayName=_o;var ls=10,[u1,Zi]=Ya(_o),w5="SelectContentImpl",k5=To("SelectContent.RemoveScroll"),d1=b.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:c,side:u,sideOffset:f,align:h,alignOffset:m,arrowPadding:y,collisionBoundary:k,collisionPadding:g,sticky:j,hideWhenDetached:N,avoidCollisions:C,...S}=t,D=Xi(_o,r),[O,F]=b.useState(null),[L,H]=b.useState(null),q=Lt(e,K=>F(K)),[Y,Q]=b.useState(null),[re,te]=b.useState(null),$=nf(r),[M,x]=b.useState(!1),E=b.useRef(!1);b.useEffect(()=>{if(O)return Hp(O)},[O]),Ip();const T=b.useCallback(K=>{const[Z,...oe]=$().map(de=>de.ref.current),[fe]=oe.slice(-1),ue=document.activeElement;for(const de of K)if(de===ue||(de==null||de.scrollIntoView({block:"nearest"}),de===Z&&L&&(L.scrollTop=0),de===fe&&L&&(L.scrollTop=L.scrollHeight),de==null||de.focus(),document.activeElement!==ue))return},[$,L]),P=b.useCallback(()=>T([Y,O]),[T,Y,O]);b.useEffect(()=>{M&&P()},[M,P]);const{onOpenChange:_,triggerPointerDownPosRef:z}=D;b.useEffect(()=>{if(O){let K={x:0,y:0};const Z=fe=>{var ue,de;K={x:Math.abs(Math.round(fe.pageX)-(((ue=z.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((de=z.current)==null?void 0:de.y)??0))}},oe=fe=>{K.x<=10&&K.y<=10?fe.preventDefault():O.contains(fe.target)||_(!1),document.removeEventListener("pointermove",Z),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",oe,{capture:!0})}}},[O,_,z]),b.useEffect(()=>{const K=()=>_(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[_]);const[W,R]=A1(K=>{const Z=$().filter(ue=>!ue.disabled),oe=Z.find(ue=>ue.ref.current===document.activeElement),fe=j1(Z,K,oe);fe&&setTimeout(()=>fe.ref.current.focus())}),w=b.useCallback((K,Z,oe)=>{const fe=!E.current&&!oe;(D.value!==void 0&&D.value===Z||fe)&&(Q(K),fe&&(E.current=!0))},[D.value]),U=b.useCallback(()=>O==null?void 0:O.focus(),[O]),se=b.useCallback((K,Z,oe)=>{const fe=!E.current&&!oe;(D.value!==void 0&&D.value===Z||fe)&&te(K)},[D.value]),I=n==="popper"?Zm:f1,V=I===Zm?{side:u,sideOffset:f,align:h,alignOffset:m,arrowPadding:y,collisionBoundary:k,collisionPadding:g,sticky:j,hideWhenDetached:N,avoidCollisions:C}:{};return i.jsx(u1,{scope:r,content:O,viewport:L,onViewportChange:H,itemRefCallback:w,selectedItem:Y,onItemLeave:U,itemTextRefCallback:se,focusSelectedItem:P,selectedItemText:re,position:n,isPositioned:M,searchRef:W,children:i.jsx(tf,{as:k5,allowPinchZoom:!0,children:i.jsx(Kd,{asChild:!0,trapped:D.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:De(o,K=>{var Z;(Z=D.trigger)==null||Z.focus({preventScroll:!0}),K.preventDefault()}),children:i.jsx(Vd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:i.jsx(I,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:K=>K.preventDefault(),...S,...V,onPlaced:()=>x(!0),ref:q,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:De(S.onKeyDown,K=>{const Z=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!Z&&K.key.length===1&&R(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let fe=$().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(K.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const ue=K.target,de=fe.indexOf(ue);fe=fe.slice(de+1)}setTimeout(()=>T(fe)),K.preventDefault()}})})})})})})});d1.displayName=w5;var N5="SelectItemAlignedPosition",f1=b.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...o}=t,l=Xi(_o,r),c=Zi(_o,r),[u,f]=b.useState(null),[h,m]=b.useState(null),y=Lt(e,q=>m(q)),k=nf(r),g=b.useRef(!1),j=b.useRef(!0),{viewport:N,selectedItem:C,selectedItemText:S,focusSelectedItem:D}=c,O=b.useCallback(()=>{if(l.trigger&&l.valueNode&&u&&h&&N&&C&&S){const q=l.trigger.getBoundingClientRect(),Y=h.getBoundingClientRect(),Q=l.valueNode.getBoundingClientRect(),re=S.getBoundingClientRect();if(l.dir!=="rtl"){const ue=re.left-Y.left,de=Q.left-ue,Pe=q.left-de,ge=q.width+Pe,ve=Math.max(ge,Y.width),Je=window.innerWidth-ls,Ne=yv(de,[ls,Math.max(ls,Je-ve)]);u.style.minWidth=ge+"px",u.style.left=Ne+"px"}else{const ue=Y.right-re.right,de=window.innerWidth-Q.right-ue,Pe=window.innerWidth-q.right-de,ge=q.width+Pe,ve=Math.max(ge,Y.width),Je=window.innerWidth-ls,Ne=yv(de,[ls,Math.max(ls,Je-ve)]);u.style.minWidth=ge+"px",u.style.right=Ne+"px"}const te=k(),$=window.innerHeight-ls*2,M=N.scrollHeight,x=window.getComputedStyle(h),E=parseInt(x.borderTopWidth,10),T=parseInt(x.paddingTop,10),P=parseInt(x.borderBottomWidth,10),_=parseInt(x.paddingBottom,10),z=E+T+M+_+P,W=Math.min(C.offsetHeight*5,z),R=window.getComputedStyle(N),w=parseInt(R.paddingTop,10),U=parseInt(R.paddingBottom,10),se=q.top+q.height/2-ls,I=$-se,V=C.offsetHeight/2,K=C.offsetTop+V,Z=E+T+K,oe=z-Z;if(Z<=se){const ue=te.length>0&&C===te[te.length-1].ref.current;u.style.bottom="0px";const de=h.clientHeight-N.offsetTop-N.offsetHeight,Pe=Math.max(I,V+(ue?U:0)+de+P),ge=Z+Pe;u.style.height=ge+"px"}else{const ue=te.length>0&&C===te[0].ref.current;u.style.top="0px";const Pe=Math.max(se,E+N.offsetTop+(ue?w:0)+V)+oe;u.style.height=Pe+"px",N.scrollTop=Z-se+N.offsetTop}u.style.margin=`${ls}px 0`,u.style.minHeight=W+"px",u.style.maxHeight=$+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[k,l.trigger,l.valueNode,u,h,N,C,S,l.dir,n]);Kr(()=>O(),[O]);const[F,L]=b.useState();Kr(()=>{h&&L(window.getComputedStyle(h).zIndex)},[h]);const H=b.useCallback(q=>{q&&j.current===!0&&(O(),D==null||D(),j.current=!1)},[O,D]);return i.jsx(E5,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:g,onScrollButtonChange:H,children:i.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:F},children:i.jsx(it.div,{...o,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});f1.displayName=N5;var C5="SelectPopperPosition",Zm=b.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=ls,...l}=t,c=sf(r);return i.jsx(Hw,{...c,...l,ref:e,align:n,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Zm.displayName=C5;var[E5,qp]=Ya(_o,{}),ep="SelectViewport",h1=b.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...o}=t,l=Zi(ep,r),c=qp(ep,r),u=Lt(e,l.onViewportChange),f=b.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(rf.Slot,{scope:r,children:i.jsx(it.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:De(o.onScroll,h=>{const m=h.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:k}=c;if(k!=null&&k.current&&y){const g=Math.abs(f.current-m.scrollTop);if(g>0){const j=window.innerHeight-ls*2,N=parseFloat(y.style.minHeight),C=parseFloat(y.style.height),S=Math.max(N,C);if(S<j){const D=S+g,O=Math.min(j,D),F=D-O;y.style.height=O+"px",y.style.bottom==="0px"&&(m.scrollTop=F>0?F:0,y.style.justifyContent="flex-end")}}}f.current=m.scrollTop})})})]})});h1.displayName=ep;var m1="SelectGroup",[A5,j5]=Ya(m1),S5=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,o=Rs();return i.jsx(A5,{scope:r,id:o,children:i.jsx(it.div,{role:"group","aria-labelledby":o,...n,ref:e})})});S5.displayName=m1;var p1="SelectLabel",T5=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,o=j5(p1,r);return i.jsx(it.div,{id:o.id,...n,ref:e})});T5.displayName=p1;var Ad="SelectItem",[P5,g1]=Ya(Ad),x1=b.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:l,...c}=t,u=Xi(Ad,r),f=Zi(Ad,r),h=u.value===n,[m,y]=b.useState(l??""),[k,g]=b.useState(!1),j=Lt(e,D=>{var O;return(O=f.itemRefCallback)==null?void 0:O.call(f,D,n,o)}),N=Rs(),C=b.useRef("touch"),S=()=>{o||(u.onValueChange(n),u.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(P5,{scope:r,value:n,disabled:o,textId:N,isSelected:h,onItemTextChange:b.useCallback(D=>{y(O=>O||((D==null?void 0:D.textContent)??"").trim())},[]),children:i.jsx(rf.ItemSlot,{scope:r,value:n,disabled:o,textValue:m,children:i.jsx(it.div,{role:"option","aria-labelledby":N,"data-highlighted":k?"":void 0,"aria-selected":h&&k,"data-state":h?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:j,onFocus:De(c.onFocus,()=>g(!0)),onBlur:De(c.onBlur,()=>g(!1)),onClick:De(c.onClick,()=>{C.current!=="mouse"&&S()}),onPointerUp:De(c.onPointerUp,()=>{C.current==="mouse"&&S()}),onPointerDown:De(c.onPointerDown,D=>{C.current=D.pointerType}),onPointerMove:De(c.onPointerMove,D=>{var O;C.current=D.pointerType,o?(O=f.onItemLeave)==null||O.call(f):C.current==="mouse"&&D.currentTarget.focus({preventScroll:!0})}),onPointerLeave:De(c.onPointerLeave,D=>{var O;D.currentTarget===document.activeElement&&((O=f.onItemLeave)==null||O.call(f))}),onKeyDown:De(c.onKeyDown,D=>{var F;((F=f.searchRef)==null?void 0:F.current)!==""&&D.key===" "||(m5.includes(D.key)&&S(),D.key===" "&&D.preventDefault())})})})})});x1.displayName=Ad;var Ol="SelectItemText",y1=b.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:o,...l}=t,c=Xi(Ol,r),u=Zi(Ol,r),f=g1(Ol,r),h=y5(Ol,r),[m,y]=b.useState(null),k=Lt(e,S=>y(S),f.onItemTextChange,S=>{var D;return(D=u.itemTextRefCallback)==null?void 0:D.call(u,S,f.value,f.disabled)}),g=m==null?void 0:m.textContent,j=b.useMemo(()=>i.jsx("option",{value:f.value,disabled:f.disabled,children:g},f.value),[f.disabled,f.value,g]),{onNativeOptionAdd:N,onNativeOptionRemove:C}=h;return Kr(()=>(N(j),()=>C(j)),[N,C,j]),i.jsxs(i.Fragment,{children:[i.jsx(it.span,{id:f.textId,...l,ref:k}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?ic.createPortal(l.children,c.valueNode):null]})});y1.displayName=Ol;var v1="SelectItemIndicator",b1=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return g1(v1,r).isSelected?i.jsx(it.span,{"aria-hidden":!0,...n,ref:e}):null});b1.displayName=v1;var tp="SelectScrollUpButton",w1=b.forwardRef((t,e)=>{const r=Zi(tp,t.__scopeSelect),n=qp(tp,t.__scopeSelect),[o,l]=b.useState(!1),c=Lt(e,n.onScrollButtonChange);return Kr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const h=f.scrollTop>0;l(h)};const f=r.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),o?i.jsx(N1,{...t,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=r;u&&f&&(u.scrollTop=u.scrollTop-f.offsetHeight)}}):null});w1.displayName=tp;var rp="SelectScrollDownButton",k1=b.forwardRef((t,e)=>{const r=Zi(rp,t.__scopeSelect),n=qp(rp,t.__scopeSelect),[o,l]=b.useState(!1),c=Lt(e,n.onScrollButtonChange);return Kr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const h=f.scrollHeight-f.clientHeight,m=Math.ceil(f.scrollTop)<h;l(m)};const f=r.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),o?i.jsx(N1,{...t,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=r;u&&f&&(u.scrollTop=u.scrollTop+f.offsetHeight)}}):null});k1.displayName=rp;var N1=b.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=t,l=Zi("SelectScrollButton",r),c=b.useRef(null),u=nf(r),f=b.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return b.useEffect(()=>()=>f(),[f]),Kr(()=>{var m;const h=u().find(y=>y.ref.current===document.activeElement);(m=h==null?void 0:h.ref.current)==null||m.scrollIntoView({block:"nearest"})},[u]),i.jsx(it.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:De(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:De(o.onPointerMove,()=>{var h;(h=l.onItemLeave)==null||h.call(l),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:De(o.onPointerLeave,()=>{f()})})}),R5="SelectSeparator",M5=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return i.jsx(it.div,{"aria-hidden":!0,...n,ref:e})});M5.displayName=R5;var np="SelectArrow",_5=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,o=sf(r),l=Xi(np,r),c=Zi(np,r);return l.open&&c.position==="popper"?i.jsx(qw,{...o,...n,ref:e}):null});_5.displayName=np;var I5="SelectBubbleInput",C1=b.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const o=b.useRef(null),l=Lt(n,o),c=Gw(e);return b.useEffect(()=>{const u=o.current;if(!u)return;const f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==e&&m){const y=new Event("change",{bubbles:!0});m.call(u,e),u.dispatchEvent(y)}},[c,e]),i.jsx(it.select,{...r,style:{...Vw,...r.style},ref:l,defaultValue:e})});C1.displayName=I5;function E1(t){return t===""||t===void 0}function A1(t){const e=Ds(t),r=b.useRef(""),n=b.useRef(0),o=b.useCallback(c=>{const u=r.current+c;e(u),function f(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>f(""),1e3))}(u)},[e]),l=b.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,l]}function j1(t,e,r){const o=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,l=r?t.indexOf(r):-1;let c=D5(t,Math.max(l,0));o.length===1&&(c=c.filter(h=>h!==r));const f=c.find(h=>h.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==r?f:void 0}function D5(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var z5=r1,O5=s1,L5=o1,F5=a1,B5=l1,U5=c1,$5=h1,W5=x1,H5=y1,q5=b1,G5=w1,V5=k1;function S1(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(r=S1(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function T1(){for(var t,e,r=0,n="",o=arguments.length;r<o;r++)(t=arguments[r])&&(e=S1(t))&&(n&&(n+=" "),n+=e);return n}const Gp="-",K5=t=>{const e=Q5(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:c=>{const u=c.split(Gp);return u[0]===""&&u.length!==1&&u.shift(),P1(u,e)||Y5(c)},getConflictingClassGroupIds:(c,u)=>{const f=r[c]||[];return u&&n[c]?[...f,...n[c]]:f}}},P1=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),o=n?P1(t.slice(1),n):void 0;if(o)return o;if(e.validators.length===0)return;const l=t.join(Gp);return(c=e.validators.find(({validator:u})=>u(l)))==null?void 0:c.classGroupId},$v=/^\[(.+)\]$/,Y5=t=>{if($v.test(t)){const e=$v.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Q5=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return X5(Object.entries(t.classGroups),r).forEach(([l,c])=>{sp(c,n,l,e)}),n},sp=(t,e,r,n)=>{t.forEach(o=>{if(typeof o=="string"){const l=o===""?e:Wv(e,o);l.classGroupId=r;return}if(typeof o=="function"){if(J5(o)){sp(o(n),e,r,n);return}e.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([l,c])=>{sp(c,Wv(e,l),r,n)})})},Wv=(t,e)=>{let r=t;return e.split(Gp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},J5=t=>t.isThemeGetter,X5=(t,e)=>e?t.map(([r,n])=>{const o=n.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([c,u])=>[e+c,u])):l);return[r,o]}):t,Z5=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const o=(l,c)=>{r.set(l,c),e++,e>t&&(e=0,n=r,r=new Map)};return{get(l){let c=r.get(l);if(c!==void 0)return c;if((c=n.get(l))!==void 0)return o(l,c),c},set(l,c){r.has(l)?r.set(l,c):o(l,c)}}},R1="!",e3=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,o=e[0],l=e.length,c=u=>{const f=[];let h=0,m=0,y;for(let C=0;C<u.length;C++){let S=u[C];if(h===0){if(S===o&&(n||u.slice(C,C+l)===e)){f.push(u.slice(m,C)),m=C+l;continue}if(S==="/"){y=C;continue}}S==="["?h++:S==="]"&&h--}const k=f.length===0?u:u.substring(m),g=k.startsWith(R1),j=g?k.substring(1):k,N=y&&y>m?y-m:void 0;return{modifiers:f,hasImportantModifier:g,baseClassName:j,maybePostfixModifierPosition:N}};return r?u=>r({className:u,parseClassName:c}):c},t3=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},r3=t=>({cache:Z5(t.cacheSize),parseClassName:e3(t),...K5(t)}),n3=/\s+/,s3=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=e,l=[],c=t.trim().split(n3);let u="";for(let f=c.length-1;f>=0;f-=1){const h=c[f],{modifiers:m,hasImportantModifier:y,baseClassName:k,maybePostfixModifierPosition:g}=r(h);let j=!!g,N=n(j?k.substring(0,g):k);if(!N){if(!j){u=h+(u.length>0?" "+u:u);continue}if(N=n(k),!N){u=h+(u.length>0?" "+u:u);continue}j=!1}const C=t3(m).join(":"),S=y?C+R1:C,D=S+N;if(l.includes(D))continue;l.push(D);const O=o(N,j);for(let F=0;F<O.length;++F){const L=O[F];l.push(S+L)}u=h+(u.length>0?" "+u:u)}return u};function i3(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=M1(e))&&(n&&(n+=" "),n+=r);return n}const M1=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=M1(t[n]))&&(r&&(r+=" "),r+=e);return r};function o3(t,...e){let r,n,o,l=c;function c(f){const h=e.reduce((m,y)=>y(m),t());return r=r3(h),n=r.cache.get,o=r.cache.set,l=u,u(f)}function u(f){const h=n(f);if(h)return h;const m=s3(f,r);return o(f,m),m}return function(){return l(i3.apply(null,arguments))}}const Qt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},_1=/^\[(?:([a-z-]+):)?(.+)\]$/i,a3=/^\d+\/\d+$/,l3=new Set(["px","full","screen"]),c3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,u3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,d3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,f3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,h3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qs=t=>_a(t)||l3.has(t)||a3.test(t),zi=t=>Qa(t,"length",w3),_a=t=>!!t&&!Number.isNaN(Number(t)),Mm=t=>Qa(t,"number",_a),_l=t=>!!t&&Number.isInteger(Number(t)),m3=t=>t.endsWith("%")&&_a(t.slice(0,-1)),st=t=>_1.test(t),Oi=t=>c3.test(t),p3=new Set(["length","size","percentage"]),g3=t=>Qa(t,p3,I1),x3=t=>Qa(t,"position",I1),y3=new Set(["image","url"]),v3=t=>Qa(t,y3,N3),b3=t=>Qa(t,"",k3),Il=()=>!0,Qa=(t,e,r)=>{const n=_1.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},w3=t=>u3.test(t)&&!d3.test(t),I1=()=>!1,k3=t=>f3.test(t),N3=t=>h3.test(t),C3=()=>{const t=Qt("colors"),e=Qt("spacing"),r=Qt("blur"),n=Qt("brightness"),o=Qt("borderColor"),l=Qt("borderRadius"),c=Qt("borderSpacing"),u=Qt("borderWidth"),f=Qt("contrast"),h=Qt("grayscale"),m=Qt("hueRotate"),y=Qt("invert"),k=Qt("gap"),g=Qt("gradientColorStops"),j=Qt("gradientColorStopPositions"),N=Qt("inset"),C=Qt("margin"),S=Qt("opacity"),D=Qt("padding"),O=Qt("saturate"),F=Qt("scale"),L=Qt("sepia"),H=Qt("skew"),q=Qt("space"),Y=Qt("translate"),Q=()=>["auto","contain","none"],re=()=>["auto","hidden","clip","visible","scroll"],te=()=>["auto",st,e],$=()=>[st,e],M=()=>["",Qs,zi],x=()=>["auto",_a,st],E=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],P=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",st],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>[_a,st];return{cacheSize:500,separator:":",theme:{colors:[Il],spacing:[Qs,zi],blur:["none","",Oi,st],brightness:R(),borderColor:[t],borderRadius:["none","","full",Oi,st],borderSpacing:$(),borderWidth:M(),contrast:R(),grayscale:z(),hueRotate:R(),invert:z(),gap:$(),gradientColorStops:[t],gradientColorStopPositions:[m3,zi],inset:te(),margin:te(),opacity:R(),padding:$(),saturate:R(),scale:R(),sepia:z(),skew:R(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",st]}],container:["container"],columns:[{columns:[Oi]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...E(),st]}],overflow:[{overflow:re()}],"overflow-x":[{"overflow-x":re()}],"overflow-y":[{"overflow-y":re()}],overscroll:[{overscroll:Q()}],"overscroll-x":[{"overscroll-x":Q()}],"overscroll-y":[{"overscroll-y":Q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_l,st]}],basis:[{basis:te()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",st]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",_l,st]}],"grid-cols":[{"grid-cols":[Il]}],"col-start-end":[{col:["auto",{span:["full",_l,st]},st]}],"col-start":[{"col-start":x()}],"col-end":[{"col-end":x()}],"grid-rows":[{"grid-rows":[Il]}],"row-start-end":[{row:["auto",{span:[_l,st]},st]}],"row-start":[{"row-start":x()}],"row-end":[{"row-end":x()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",st]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",st]}],gap:[{gap:[k]}],"gap-x":[{"gap-x":[k]}],"gap-y":[{"gap-y":[k]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[D]}],px:[{px:[D]}],py:[{py:[D]}],ps:[{ps:[D]}],pe:[{pe:[D]}],pt:[{pt:[D]}],pr:[{pr:[D]}],pb:[{pb:[D]}],pl:[{pl:[D]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[q]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[q]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",st,e]}],"min-w":[{"min-w":[st,e,"min","max","fit"]}],"max-w":[{"max-w":[st,e,"none","full","min","max","fit","prose",{screen:[Oi]},Oi]}],h:[{h:[st,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[st,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[st,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[st,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Oi,zi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mm]}],"font-family":[{font:[Il]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",st]}],"line-clamp":[{"line-clamp":["none",_a,Mm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qs,st]}],"list-image":[{"list-image":["none",st]}],"list-style-type":[{list:["none","disc","decimal",st]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qs,zi]}],"underline-offset":[{"underline-offset":["auto",Qs,st]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",st]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",st]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...E(),x3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",g3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},v3]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:T()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[Qs,st]}],"outline-w":[{outline:[Qs,zi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[Qs,zi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Oi,b3]}],"shadow-color":[{shadow:[Il]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...P(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":P()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Oi,st]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[y]}],saturate:[{saturate:[O]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[O]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",st]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",st]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",st]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[F]}],"scale-x":[{"scale-x":[F]}],"scale-y":[{"scale-y":[F]}],rotate:[{rotate:[_l,st]}],"translate-x":[{"translate-x":[Y]}],"translate-y":[{"translate-y":[Y]}],"skew-x":[{"skew-x":[H]}],"skew-y":[{"skew-y":[H]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",st]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",st]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",st]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Qs,zi,Mm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},E3=o3(C3);function $e(...t){return E3(T1(t))}function La({...t}){return i.jsx(z5,{"data-slot":"select",...t})}function Fa({...t}){return i.jsx(L5,{"data-slot":"select-value",...t})}function Ba({className:t,size:e="default",children:r,...n}){return i.jsxs(O5,{"data-slot":"select-trigger","data-size":e,className:$e("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,i.jsx(F5,{asChild:!0,children:i.jsx(Gi,{className:"size-4 opacity-50"})})]})}function Ua({className:t,children:e,position:r="popper",...n}){return i.jsx(B5,{children:i.jsxs(U5,{"data-slot":"select-content",className:$e("bg-popover/90 backdrop-blur-md text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-xl border border-border/50 shadow-xl",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[i.jsx(A3,{}),i.jsx($5,{className:$e("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),i.jsx(j3,{})]})})}function gn({className:t,children:e,...r}){return i.jsxs(W5,{"data-slot":"select-item",className:$e("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[i.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:i.jsx(q5,{children:i.jsx(vT,{className:"size-4"})})}),i.jsx(H5,{children:e})]})}function A3({className:t,...e}){return i.jsx(G5,{"data-slot":"select-scroll-up-button",className:$e("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(So,{className:"size-4"})})}function j3({className:t,...e}){return i.jsx(V5,{"data-slot":"select-scroll-down-button",className:$e("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(Gi,{className:"size-4"})})}const Uu=t=>{if(!t)return"";if(typeof t=="string")return t;if(typeof t.message=="string")return t.message;try{return JSON.stringify(t)}catch{return String(t)}},D1=()=>{const{chainId:t,switchNetwork:e,addNetwork:r,isSupportedNetwork:n}=Dt(),[o,l]=ye.useState(!1),c=async u=>{const f=parseInt(u,10);l(!0);try{await e(f)}catch(h){const m=Uu(h).toLowerCase();if(h&&h.code===4902||m.includes("add this network")||m.includes("unrecognized chain id")||h&&h.code===-32603)try{await r(f),setTimeout(async()=>{try{await e(f)}catch(y){setTimeout(()=>{window.ethereum&&window.ethereum.chainId&&parseInt(window.ethereum.chainId,16)!==f&&ie.error("Failed to switch to the new network after adding: "+Uu(y))},1e3)}},500)}catch(y){setTimeout(()=>{window.ethereum&&window.ethereum.chainId&&parseInt(window.ethereum.chainId,16)!==f&&ie.error("Failed to add network: "+Uu(y))},1e3)}else setTimeout(()=>{window.ethereum&&window.ethereum.chainId&&parseInt(window.ethereum.chainId,16)!==f&&ie.error("Failed to switch network: "+Uu(h))},1e3)}finally{l(!1)}};return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(La,{value:t?String(t):"",onValueChange:c,disabled:o,children:[i.jsx(Ba,{className:"min-w-[180px]",children:i.jsx(Fa,{placeholder:"Select Network"})}),i.jsx(Ua,{children:Object.entries(zr).map(([u,f])=>i.jsx(gn,{value:u,children:f.name},u))})]}),t&&!n&&i.jsx("span",{className:"text-xs text-red-500 ml-2",children:"Unsupported Network"})]})},rr=()=>{const t=()=>{if(typeof window>"u")return{isMobile:!1,isTablet:!1,isDesktop:!0,isTouchDevice:!1,screenWidth:1024,isInitialized:!1};const n=window.innerWidth;return{isMobile:n<768,isTablet:n>=768&&n<1024,isDesktop:n>=1024,isTouchDevice:"ontouchstart"in window||navigator.maxTouchPoints>0,screenWidth:n,isInitialized:!0}},[e,r]=b.useState(t);return b.useEffect(()=>{const n=()=>{const c=window.innerWidth,u=window.innerHeight,f=e.isMobile&&Math.abs(c-e.screenWidth)<50&&Math.abs(u-window.screen.height)>200;if(f){console.log("Skipping breakpoint update - likely keyboard resize");return}const h={isMobile:c<768,isTablet:c>=768&&c<1024,isDesktop:c>=1024,isTouchDevice:"ontouchstart"in window||navigator.maxTouchPoints>0,screenWidth:c,isInitialized:!0};c<768&&console.log("Mobile detected:",{width:c,height:u,userAgent:navigator.userAgent,touchDevice:h.isTouchDevice,isKeyboardResize:f}),r(h)};n();let o;const l=()=>{clearTimeout(o),o=setTimeout(n,150)};return window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l),clearTimeout(o)}},[e.isMobile,e.screenWidth]),e};class S3{constructor(){this.cache=new Map,this.cacheTimeout=300*1e3,this.retryAttempts=3,this.retryDelay=1e3,this.performanceMetrics=new Map,this.errorMetrics=new Map}initialize(e,r){this.walletContext=e,this.contractContext=r}getPlatformConfig(e=!1){const r=typeof window<"u"&&(/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768),n=e||r;return{maxRafflesToFetch:n?8:20,timeout:n?2e4:12e3,concurrency:n?2:4,batchDelay:n?200:100,retryDelay:n?2e3:1e3,maxRetries:n?2:3,useCache:!0,retryOnFailure:!0,progressiveLoading:n,prioritizeRecent:n}}createContractInstance(e,r,n=!1){var o,l,c;try{if(!e||e===_e)throw new Error(`Invalid contract address for ${r}`);const u=Vt[r];if(!u)throw new Error(`ABI not found for ${r}`);const f=n?(o=this.walletContext)==null?void 0:o.provider:((l=this.walletContext)==null?void 0:l.signer)||((c=this.walletContext)==null?void 0:c.provider);if(!f)throw new Error("No signer or provider available");return new Ut(e,u,f)}catch(u){return console.error(`Error creating contract instance for ${r}:`,u),null}}getRaffleManagerContract(){var r,n,o,l;const{chainId:e}=this.walletContext||{};if((n=(r=this.contractContext)==null?void 0:r.contracts)!=null&&n.raffleManager)return this.contractContext.contracts.raffleManager;if(e&&((l=(o=zr[e])==null?void 0:o.contractAddresses)!=null&&l.raffleManager)){const c=zr[e].contractAddresses.raffleManager;return this.createContractInstance(c,"raffleManager",!0)}return null}async withRetry(e,r="",n={}){const o=this.getPlatformConfig(n.isMobile),l=n.maxRetries||o.maxRetries,c=n.retryDelay||o.retryDelay,u=n.timeout||o.timeout;let f;for(let h=1;h<=l;h++)try{return await Promise.race([e(),new Promise((m,y)=>setTimeout(()=>y(new Error("Operation timeout")),u))])}catch(m){if(f=m,console.warn(`${r} attempt ${h}/${l} failed:`,m.message),m.message.includes("user rejected")||m.message.includes("User denied")||m.code===4001||m.message.includes("Invalid contract address"))throw m;if(n.isMobile&&(m.message.includes("Network Error")||m.message.includes("CONNECTION ERROR")||m.code==="NETWORK_ERROR"))throw console.warn(`Mobile network error detected, skipping retries for ${r}`),m;if(h<l){const y=c*h;console.log(`Retrying ${r} in ${y}ms...`),await new Promise(k=>setTimeout(k,y))}}throw f}async getAllRaffleAddresses(){var c;const e=`raffleAddresses_${(c=this.walletContext)==null?void 0:c.chainId}`,r=this.cache.get(e);if(r&&Date.now()-r.timestamp<this.cacheTimeout)return r.data;const n=this.getRaffleManagerContract();if(!n)throw new Error("RaffleManager contract not available");const l=(await this.withRetry(()=>n.getAllRaffles(),"getAllRaffles")||[]).slice().reverse();return this.cache.set(e,{data:l,timestamp:Date.now()}),l}async fetchRaffleDetails(e,r={}){var n,o,l,c,u,f,h,m,y,k,g,j,N,C;try{const S=this.createContractInstance(e,"raffle",!0);if(!S)return console.error(`Failed to create raffle contract for ${e}`),null;let D,O,F,L,H,q,Y,Q,re,te,$,M,x,E,T,P;r.isMobile?(D=await this.withRetry(()=>S.name(),`name-${e}`,r),O=await this.withRetry(()=>S.creator(),`creator-${e}`,r),F=await this.withRetry(()=>S.startTime(),`startTime-${e}`,r),L=await this.withRetry(()=>S.duration(),`duration-${e}`,r),H=await this.withRetry(()=>S.ticketPrice(),`ticketPrice-${e}`,r),q=await this.withRetry(()=>S.ticketLimit(),`ticketLimit-${e}`,r),Y=await this.withRetry(()=>S.winnersCount(),`winnersCount-${e}`,r),Q=await this.withRetry(()=>S.maxTicketsPerParticipant(),`maxTickets-${e}`,r),re=await this.withRetry(()=>S.state(),`state-${e}`,r),te=await((n=S.isPrized)==null?void 0:n.call(S).catch(()=>!1)),$=await((o=S.prizeCollection)==null?void 0:o.call(S).catch(()=>_e)),M=await((l=S.erc20PrizeToken)==null?void 0:l.call(S).catch(()=>_e)),x=await((c=S.erc20PrizeAmount)==null?void 0:c.call(S).catch(()=>ce.from(0))),E=await((u=S.ethPrizeAmount)==null?void 0:u.call(S).catch(()=>ce.from(0))),T=await((f=S.isExternallyPrized)==null?void 0:f.call(S).catch(z=>(console.warn(`isExternallyPrized failed for ${e}:`,z.message),!1))),P=await((h=S.standard)==null?void 0:h.call(S).catch(()=>{}))):[D,O,F,L,H,q,Y,Q,re,te,$,M,x,E,T,P]=await Promise.all([this.withRetry(()=>S.name(),`name-${e}`,r),this.withRetry(()=>S.creator(),`creator-${e}`,r),this.withRetry(()=>S.startTime(),`startTime-${e}`,r),this.withRetry(()=>S.duration(),`duration-${e}`,r),this.withRetry(()=>S.ticketPrice(),`ticketPrice-${e}`,r),this.withRetry(()=>S.ticketLimit(),`ticketLimit-${e}`,r),this.withRetry(()=>S.winnersCount(),`winnersCount-${e}`,r),this.withRetry(()=>S.maxTicketsPerParticipant(),`maxTickets-${e}`,r),this.withRetry(()=>S.state(),`state-${e}`,r),(m=S.isPrized)==null?void 0:m.call(S).catch(()=>!1),(y=S.prizeCollection)==null?void 0:y.call(S).catch(()=>_e),(k=S.erc20PrizeToken)==null?void 0:k.call(S).catch(()=>_e),(g=S.erc20PrizeAmount)==null?void 0:g.call(S).catch(()=>ce.from(0)),(j=S.ethPrizeAmount)==null?void 0:j.call(S).catch(()=>ce.from(0)),(N=S.isExternallyPrized)==null?void 0:N.call(S).catch(()=>!1),(C=S.standard)==null?void 0:C.call(S).catch(()=>{})]);let _;switch(re){case 0:_="pending";break;case 1:_="active";break;case 2:_="drawing";break;case 3:_="completed";break;case 4:_="completed";break;case 5:_="ended";break;default:_="ended"}return{id:e,name:D,address:e,creator:O,startTime:F.toNumber(),duration:L.toNumber(),ticketPrice:H,ticketLimit:q.toNumber(),ticketsSold:0,winnersCount:Y.toNumber(),maxTicketsPerParticipant:Q.toNumber(),isPrized:!!te,prizeCollection:$,stateNum:re,state:_,erc20PrizeToken:M,erc20PrizeAmount:x,ethPrizeAmount:E,isExternallyPrized:!!T,standard:P?P.toNumber?P.toNumber():Number(P):void 0}}catch(S){return console.error(`Error fetching raffle details for ${e}:`,S),null}}async processBatch(e,r={}){const n=this.getPlatformConfig(r.isMobile),o=r.batchSize||n.concurrency,l=r.batchDelay||n.batchDelay,c=r.onProgress,u=[],f=Math.ceil(e.length/o);console.log(`Processing ${e.length} raffles in ${f} batches (${o} per batch)`);for(let h=0;h<e.length;h+=o){const m=Math.floor(h/o)+1,y=e.slice(h,h+o);console.log(`Processing batch ${m}/${f} (${y.length} raffles)`);try{if(r.isMobile&&n.progressiveLoading)for(const k of y)try{const g=await this.fetchRaffleDetails(k,{isMobile:!0});g&&(u.push(g),c&&c(u.length,e.length)),await new Promise(j=>setTimeout(j,50))}catch(g){console.warn(`Failed to fetch raffle ${k}:`,g.message)}else{const k=y.map(N=>this.fetchRaffleDetails(N,{isMobile:r.isMobile})),j=(await Promise.allSettled(k)).filter(N=>N.status==="fulfilled"&&N.value!==null).map(N=>N.value);u.push(...j),c&&c(u.length,e.length)}h+o<e.length&&(console.log(`Waiting ${l}ms before next batch...`),await new Promise(k=>setTimeout(k,l)))}catch(k){console.error(`Error processing batch ${m}:`,k)}}return console.log(`Successfully processed ${u.length}/${e.length} raffles`),u}async fetchAllRaffles(e={}){var f,h,m;const{isMobile:r=!1,useCache:n=!0,maxRaffles:o=null}=e,l=this.getPlatformConfig(r),c=`allRaffles_${(f=this.walletContext)==null?void 0:f.chainId}_${r}`,u=this.startTimer("fetchAllRaffles",{isMobile:r,chainId:(h=this.walletContext)==null?void 0:h.chainId});if(n){const y=this.cache.get(c);if(y&&Date.now()-y.timestamp<this.cacheTimeout)return this.endTimer(u,{fromCache:!0,rafflCount:y.data.length}),y.data}try{const y=this.startTimer("getAllRaffleAddresses",{isMobile:r}),k=await this.getAllRaffleAddresses();if(this.endTimer(y,{addressCount:(k==null?void 0:k.length)||0}),!k||k.length===0)return this.endTimer(u,{rafflCount:0,fromCache:!1}),[];const g=o||l.maxRafflesToFetch,j=k.slice(0,g),N=this.startTimer("processBatch",{isMobile:r,totalAddresses:j.length,batchSize:l.concurrency}),C=await this.processBatch(j,{...l,isMobile:r,onProgress:(S,D)=>{console.log(`[RaffleService] Progress: ${S}/${D} raffles processed (${(S/D*100).toFixed(1)}%)`)}});return this.endTimer(N,{successfulRaffles:C.length,failedRaffles:j.length-C.length}),n&&this.cache.set(c,{data:C,timestamp:Date.now()}),this.endTimer(u,{rafflCount:C.length,fromCache:!1,totalAddresses:k.length,processedAddresses:j.length}),C}catch(y){throw this.trackError("fetchAllRaffles",y,{isMobile:r,chainId:(m=this.walletContext)==null?void 0:m.chainId}),this.endTimer(u,{error:!0,errorMessage:y.message}),y}}async searchRaffles(e,r={}){const n=await this.fetchAllRaffles(r),o=e.trim().toLowerCase();return n.filter(l=>(l.name||"").toLowerCase().includes(o)||(l.address||"").toLowerCase().includes(o)||(l.address||"").toLowerCase()===o)}clearCache(){this.cache.clear()}startTimer(e,r={}){const n=`${e}_${Date.now()}_${Math.random()}`;return this.performanceMetrics.set(n,{operation:e,context:r,startTime:performance.now(),platform:r.isMobile?"mobile":"desktop"}),n}endTimer(e,r={}){const n=this.performanceMetrics.get(e);if(!n)return;const o=performance.now(),l=o-n.startTime,c={...n,endTime:o,duration:l,...r};if(console.log(`[RaffleService] ${n.operation} completed in ${l.toFixed(2)}ms`,{platform:n.platform,context:n.context,...r}),this.performanceMetrics.set(e,c),this.performanceMetrics.size>100){const u=this.performanceMetrics.keys().next().value;this.performanceMetrics.delete(u)}return c}trackError(e,r,n={}){const o=`${e}_${n.isMobile?"mobile":"desktop"}`,l=this.errorMetrics.get(o)||{count:0,errors:[]};l.count++,l.errors.push({timestamp:Date.now(),message:r.message,stack:r.stack,context:n}),l.errors.length>10&&(l.errors=l.errors.slice(-10)),this.errorMetrics.set(o,l),console.error(`[RaffleService] Error in ${e} (${n.isMobile?"mobile":"desktop"}):`,r)}getPerformanceStats(){const e={mobile:{operations:{},totalOperations:0,avgDuration:0},desktop:{operations:{},totalOperations:0,avgDuration:0}};let r=0,n=0;for(const o of this.performanceMetrics.values()){if(!o.duration)continue;const l=o.platform,c=o.operation;e[l].operations[c]||(e[l].operations[c]={count:0,totalDuration:0,avgDuration:0,minDuration:1/0,maxDuration:0});const u=e[l].operations[c];u.count++,u.totalDuration+=o.duration,u.avgDuration=u.totalDuration/u.count,u.minDuration=Math.min(u.minDuration,o.duration),u.maxDuration=Math.max(u.maxDuration,o.duration),e[l].totalOperations++,l==="mobile"?r+=o.duration:n+=o.duration}return e.mobile.avgDuration=e.mobile.totalOperations>0?r/e.mobile.totalOperations:0,e.desktop.avgDuration=e.desktop.totalOperations>0?n/e.desktop.totalOperations:0,e}getErrorStats(){const e={};for(const[r,n]of this.errorMetrics.entries())e[r]={count:n.count,lastError:n.errors[n.errors.length-1],recentErrors:n.errors.slice(-3)};return e}getCacheStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys()),performance:this.getPerformanceStats(),errors:this.getErrorStats()}}}const ei=new S3,T3=()=>{const[t,e]=b.useState(0),r=b.useCallback(()=>{e(n=>n+1)},[]);return{refreshTrigger:t,triggerRefresh:r}},P3=(t={})=>{const{autoFetch:e=!0,enablePolling:r=!1,pollingInterval:n=12e4,maxRaffles:o=null,useCache:l=!0}=t,c=Dt(),u=$t(),{isMobile:f}=rr(),[h,m]=b.useState([]),[y,k]=b.useState(!1),[g,j]=b.useState(!1),[N,C]=b.useState(null),[S,D]=b.useState(null),O=b.useRef(null),F=b.useRef(!0);b.useEffect(()=>{c&&u&&ei.initialize(c,u)},[c,u]),b.useEffect(()=>()=>{F.current=!1,O.current&&clearInterval(O.current)},[]);const L=b.useCallback(async(te=!1)=>{var $,M,x,E,T;if(console.log(" fetchRaffles called:",{connected:c==null?void 0:c.connected,chainId:c==null?void 0:c.chainId,isBackground:te,environment:"production",userAgent:typeof window<"u"?window.navigator.userAgent:"N/A",isMobile:f,maxRaffles:o}),!(c!=null&&c.connected)){console.log(" Wallet not connected"),m([]),C("Please connect your wallet to view raffles");return}if(!F.current){console.log(" Component unmounted");return}try{te?j(!0):(k(!0),C(null));const P={isMobile:f,useCache:l,maxRaffles:o};console.log(" Calling raffleService.fetchAllRaffles with options:",P);const _=await ei.fetchAllRaffles(P);if(console.log(" fetchAllRaffles completed:",{count:(_==null?void 0:_.length)||0,firstRaffle:(($=_==null?void 0:_[0])==null?void 0:$.name)||"N/A"}),!F.current)return;m(_),D(new Date),_.length===0?(console.log(" No raffles found"),C("No raffles found on the blockchain")):(console.log(" Raffles set successfully"),C(null))}catch(P){if(!F.current)return;console.error(" Error fetching raffles:",{error:P.message,stack:P.stack,environment:"production",chainId:c==null?void 0:c.chainId});let _="Failed to fetch raffles from blockchain";(M=P.message)!=null&&M.includes("Too Many Requests")?_="Rate limit exceeded. Please wait a moment and try again.":(x=P.message)!=null&&x.includes("timeout")?_="Request timed out. Please check your connection and try again.":(E=P.message)!=null&&E.includes("network")?_="Network error. Please check your connection.":(T=P.message)!=null&&T.includes("not available")&&(_="Smart contracts not available on this network."),C(_),te||m([])}finally{if(!F.current)return;console.log(" fetchRaffles completed, setting loading states"),te?j(!1):k(!1)}},[c==null?void 0:c.connected,f,l,o]),H=b.useCallback(async te=>{if(!(te!=null&&te.trim()))return[];try{const $={isMobile:f,useCache:!0,maxRaffles:f?50:100};return await ei.searchRaffles(te,$)}catch($){return console.error("Error searching raffles:",$),[]}},[f]),q=b.useCallback(async()=>{ei.clearCache(),await L(!1)},[L]),Y=b.useCallback(async te=>{try{return await ei.fetchRaffleDetails(te)}catch($){return console.error(`Error fetching raffle details for ${te}:`,$),null}},[]);b.useEffect(()=>{console.log(" Auto-fetch effect triggered:",{autoFetch:e,connected:c==null?void 0:c.connected,chainId:c==null?void 0:c.chainId,environment:"production"}),e&&(c!=null&&c.connected)?(console.log(" Triggering auto-fetch"),L()):console.log(" Auto-fetch conditions not met")},[e,c==null?void 0:c.connected,c==null?void 0:c.chainId,L]),b.useEffect(()=>{if(r&&(c!=null&&c.connected)&&n>0)return O.current=setInterval(()=>{L(!0)},n),()=>{O.current&&(clearInterval(O.current),O.current=null)}},[r,c==null?void 0:c.connected,n,L]);const Q=b.useCallback(()=>{const te=Math.floor(Date.now()/1e3);return h.reduce(($,M)=>{const x=M.startTime,E=x+M.duration;return M.stateNum===0||te<x?$.pending.push(M):M.stateNum===1&&te>=x&&te<E?$.active.push(M):M.stateNum===2?$.drawing.push(M):M.stateNum===3||M.stateNum===4?$.completed.push(M):$.ended.push(M),$},{pending:[],active:[],drawing:[],completed:[],ended:[]})},[h]),re=b.useCallback(()=>ei.getCacheStats(),[]);return{raffles:h,categorizedRaffles:Q(),loading:y,backgroundLoading:g,error:N,lastFetch:S,fetchRaffles:L,refreshRaffles:q,searchRaffles:H,getRaffleDetails:Y,getCacheStats:re,service:ei}},R3=()=>{const[t,e]=b.useState([]),[r,n]=b.useState(!1),[o,l]=b.useState(null),{isMobile:c}=rr(),u=Dt(),f=$t();b.useEffect(()=>{u&&f&&ei.initialize(u,f)},[u,f]);const h=b.useCallback(async y=>{if(!(y!=null&&y.trim())){e([]);return}n(!0),l(null);try{const k=await ei.searchRaffles(y,{isMobile:c,useCache:!0,maxRaffles:c?20:50});e(k)}catch(k){console.error("Search error:",k),l("Failed to search raffles"),e([])}finally{n(!1)}},[c]),m=b.useCallback(()=>{e([]),l(null)},[]);return{searchResults:t,searchLoading:r,searchError:o,search:h,clearSearch:m}},Hv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,qv=T1,Vp=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return qv(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:l}=e,c=Object.keys(o).map(h=>{const m=r==null?void 0:r[h],y=l==null?void 0:l[h];if(m===null)return null;const k=Hv(m)||Hv(y);return o[h][k]}),u=r&&Object.entries(r).reduce((h,m)=>{let[y,k]=m;return k===void 0||(h[y]=k),h},{}),f=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((h,m)=>{let{class:y,className:k,...g}=m;return Object.entries(g).every(j=>{let[N,C]=j;return Array.isArray(C)?C.includes({...l,...u}[N]):{...l,...u}[N]===C})?[...h,y,k]:h},[]);return qv(t,c,f,r==null?void 0:r.class,r==null?void 0:r.className)},M3=Vp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90 focus-visible:ring-primary/20",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90 focus-visible:ring-destructive/20",outline:"border border-border bg-background shadow-sm hover:bg-muted hover:text-muted-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-muted hover:text-muted-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-success text-success-foreground shadow-sm hover:bg-success/90 focus-visible:ring-success/20",warning:"bg-warning text-warning-foreground shadow-sm hover:bg-warning/90 focus-visible:ring-warning/20",accent:"bg-accent text-accent-foreground shadow-sm hover:bg-accent/90 focus-visible:ring-accent/20"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 py-2 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 py-3 has-[>svg]:px-4",xl:"h-12 rounded-lg px-6 py-3 has-[>svg]:px-5",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function He({className:t,variant:e,size:r,asChild:n=!1,...o}){const l=n?pw:"button";return i.jsx(l,{"data-slot":"button",className:$e(M3({variant:e,size:r,className:t})),...o})}function _3(t,e){return b.useReducer((r,n)=>e[r][n]??r,t)}var fi=t=>{const{present:e,children:r}=t,n=I3(e),o=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),l=Lt(n.ref,D3(o));return typeof r=="function"||n.isPresent?b.cloneElement(o,{ref:l}):null};fi.displayName="Presence";function I3(t){const[e,r]=b.useState(),n=b.useRef(null),o=b.useRef(t),l=b.useRef("none"),c=t?"mounted":"unmounted",[u,f]=_3(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const h=$u(n.current);l.current=u==="mounted"?h:"none"},[u]),Kr(()=>{const h=n.current,m=o.current;if(m!==t){const k=l.current,g=$u(h);t?f("MOUNT"):g==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(m&&k!==g?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,f]),Kr(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,y=g=>{const N=$u(n.current).includes(g.animationName);if(g.target===e&&N&&(f("ANIMATION_END"),!o.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},k=g=>{g.target===e&&(l.current=$u(n.current))};return e.addEventListener("animationstart",k),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",k),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:b.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function $u(t){return(t==null?void 0:t.animationName)||"none"}function D3(t){var n,o;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var of="Dialog",[z1,x6]=di(of),[z3,ps]=z1(of),O1=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:o,onOpenChange:l,modal:c=!0}=t,u=b.useRef(null),f=b.useRef(null),[h,m]=Ro({prop:n,defaultProp:o??!1,onChange:l,caller:of});return i.jsx(z3,{scope:e,triggerRef:u,contentRef:f,contentId:Rs(),titleId:Rs(),descriptionId:Rs(),open:h,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(y=>!y),[m]),modal:c,children:r})};O1.displayName=of;var L1="DialogTrigger",F1=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,o=ps(L1,r),l=Lt(e,o.triggerRef);return i.jsx(it.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Qp(o.open),...n,ref:l,onClick:De(t.onClick,o.onOpenToggle)})});F1.displayName=L1;var Kp="DialogPortal",[O3,B1]=z1(Kp,{forceMount:void 0}),U1=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:o}=t,l=ps(Kp,e);return i.jsx(O3,{scope:e,forceMount:r,children:b.Children.map(n,c=>i.jsx(fi,{present:r||l.open,children:i.jsx(Zd,{asChild:!0,container:o,children:c})}))})};U1.displayName=Kp;var jd="DialogOverlay",$1=b.forwardRef((t,e)=>{const r=B1(jd,t.__scopeDialog),{forceMount:n=r.forceMount,...o}=t,l=ps(jd,t.__scopeDialog);return l.modal?i.jsx(fi,{present:n||l.open,children:i.jsx(F3,{...o,ref:e})}):null});$1.displayName=jd;var L3=To("DialogOverlay.RemoveScroll"),F3=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,o=ps(jd,r);return i.jsx(tf,{as:L3,allowPinchZoom:!0,shards:[o.contentRef],children:i.jsx(it.div,{"data-state":Qp(o.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Io="DialogContent",W1=b.forwardRef((t,e)=>{const r=B1(Io,t.__scopeDialog),{forceMount:n=r.forceMount,...o}=t,l=ps(Io,t.__scopeDialog);return i.jsx(fi,{present:n||l.open,children:l.modal?i.jsx(B3,{...o,ref:e}):i.jsx(U3,{...o,ref:e})})});W1.displayName=Io;var B3=b.forwardRef((t,e)=>{const r=ps(Io,t.__scopeDialog),n=b.useRef(null),o=Lt(e,r.contentRef,n);return b.useEffect(()=>{const l=n.current;if(l)return Hp(l)},[]),i.jsx(H1,{...t,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:De(t.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:De(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&l.preventDefault()}),onFocusOutside:De(t.onFocusOutside,l=>l.preventDefault())})}),U3=b.forwardRef((t,e)=>{const r=ps(Io,t.__scopeDialog),n=b.useRef(!1),o=b.useRef(!1);return i.jsx(H1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,u;(c=t.onCloseAutoFocus)==null||c.call(t,l),l.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),l.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:l=>{var f,h;(f=t.onInteractOutside)==null||f.call(t,l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;((h=r.triggerRef.current)==null?void 0:h.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),H1=b.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:l,...c}=t,u=ps(Io,r),f=b.useRef(null),h=Lt(e,f);return Ip(),i.jsxs(i.Fragment,{children:[i.jsx(Kd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:l,children:i.jsx(Vd,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Qp(u.open),...c,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(W3,{titleId:u.titleId}),i.jsx(q3,{contentRef:f,descriptionId:u.descriptionId})]})]})}),Yp="DialogTitle",q1=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,o=ps(Yp,r);return i.jsx(it.h2,{id:o.titleId,...n,ref:e})});q1.displayName=Yp;var G1="DialogDescription",$3=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,o=ps(G1,r);return i.jsx(it.p,{id:o.descriptionId,...n,ref:e})});$3.displayName=G1;var V1="DialogClose",K1=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,o=ps(V1,r);return i.jsx(it.button,{type:"button",...n,ref:e,onClick:De(t.onClick,()=>o.onOpenChange(!1))})});K1.displayName=V1;function Qp(t){return t?"open":"closed"}var Y1="DialogTitleWarning",[y6,Q1]=MT(Y1,{contentName:Io,titleName:Yp,docsSlug:"dialog"}),W3=({titleId:t})=>{const e=Q1(Y1),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},H3="DialogDescriptionWarning",q3=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Q1(H3).contentName}}.`;return b.useEffect(()=>{var l;const o=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},G3=O1,V3=F1,K3=U1,Y3=$1,Q3=W1,J3=q1,X3=K1;function Z3({...t}){return i.jsx(G3,{"data-slot":"sheet",...t})}function eM({...t}){return i.jsx(V3,{"data-slot":"sheet-trigger",...t})}function tM({...t}){return i.jsx(X3,{"data-slot":"sheet-close",...t})}function rM({...t}){return i.jsx(K3,{"data-slot":"sheet-portal",...t})}function nM({className:t,...e}){return i.jsx(Y3,{"data-slot":"sheet-overlay",className:$e("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function sM({className:t,children:e,side:r="right",...n}){return i.jsxs(rM,{children:[i.jsx(nM,{}),i.jsx(Q3,{"data-slot":"sheet-content",className:$e("bg-background text-foreground data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l border-border sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r border-border sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b border-border",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t border-border",t),...n,children:e})]})}function iM({className:t,...e}){return i.jsx("div",{"data-slot":"sheet-header",className:$e("flex flex-col gap-1.5 p-4",t),...e})}function oM({className:t,...e}){return i.jsx(J3,{"data-slot":"sheet-title",className:$e("text-foreground font-semibold text-lg",t),...e})}const aM=()=>{const{connected:t,address:e,formatAddress:r,disconnect:n,connectWallet:o}=Dt(),{theme:l,cycleTheme:c,getCurrentTheme:u}=aw(),{isMobile:f,isInitialized:h}=rr(),m=tn(),y=Ha(),[k,g]=b.useState(!1),[j,N]=b.useState(!1),{searchResults:C,searchLoading:S,search:D,clearSearch:O}=R3(),[F,L]=b.useState(""),H=b.useRef(null),q=b.useRef(null);b.useEffect(()=>{if(!j||!(F!=null&&F.trim())){O();return}const $=setTimeout(()=>{D(F)},300);return()=>clearTimeout($)},[F,j,D,O]),b.useEffect(()=>{if(!j||y.pathname==="/profile")return;const $=M=>{M.target.closest(".mobile-component-container")||M.target.closest("[data-dashboard-card]")||M.target.closest("[data-profile-tab]")||M.target.closest("input")||M.target.closest("textarea")||M.target.closest("button")||M.target.closest("select")||q.current&&!q.current.contains(M.target)&&(N(!1),L(""),O())};return document.addEventListener("mousedown",$),document.addEventListener("touchstart",$),()=>{document.removeEventListener("mousedown",$),document.removeEventListener("touchstart",$)}},[j,O,y.pathname]);const Y=async()=>{try{await o("metamask"),g(!1)}catch($){console.error("Failed to connect wallet:",$)}},Q=$=>{m(`/raffle/${$}`),N(!1),L(""),O()},re=()=>{N(!j),j?(L(""),O()):setTimeout(()=>{H.current&&H.current.focus()},200)};if(!h||!f)return null;const te=[{name:"Create Raffle",href:"/create-raffle",icon:""},{name:"Profile",href:"/profile",icon:""}];return f?i.jsxs(i.Fragment,{children:[i.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md border-b border-border/50",children:[i.jsxs("div",{className:"flex items-center justify-between h-14 px-4",children:[i.jsx(Fl,{to:"/",className:"flex items-center",children:i.jsx("span",{className:"text-lg font-bold text-foreground",style:{fontFamily:"Orbitron, monospace"},children:"Rafflhub"})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(He,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:re,children:i.jsx(Is,{className:"h-4 w-4"})}),i.jsxs(Z3,{open:k,onOpenChange:g,children:[i.jsx(eM,{asChild:!0,children:i.jsx(He,{variant:"ghost",size:"icon",className:"h-9 w-9",children:i.jsx(ET,{className:"h-4 w-4"})})}),i.jsxs(sM,{side:"right",className:"w-64 p-0 bg-background",children:[i.jsx(iM,{className:"p-3 border-b border-border",children:i.jsx(oM,{className:"text-left text-foreground text-base",children:"Menu"})}),i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"p-3 border-b border-border",children:t?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center",children:i.jsx(Vm,{className:"h-3 w-3 text-primary"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs font-medium text-foreground",children:"Connected"}),i.jsx("p",{className:"text-xs text-muted-foreground font-mono truncate",children:r(e)})]})]}),i.jsx(He,{variant:"outline",size:"sm",onClick:n,className:"w-full text-foreground h-8",children:"Disconnect"})]}):i.jsxs(He,{onClick:Y,className:"w-full bg-foreground text-background hover:bg-foreground/90 h-8",children:[i.jsx(Vm,{className:"h-3 w-3 mr-2"}),"Connect Wallet"]})}),i.jsx("div",{className:"p-3",children:i.jsx("div",{className:"space-y-1",children:te.map($=>i.jsxs(Fl,{to:$.href,onClick:()=>g(!1),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-muted transition-colors text-foreground hover:text-foreground",children:[i.jsx("span",{className:"text-base",children:$.icon}),i.jsx("span",{className:"text-sm font-medium text-foreground",children:$.name})]},$.href))})}),i.jsxs("div",{className:"p-3 border-t border-border space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs font-medium text-foreground",children:"Theme"}),i.jsxs(He,{variant:"outline",size:"sm",onClick:c,className:"h-7 w-7 p-0 border-border text-foreground hover:bg-muted",children:[u().icon==="Sun"&&i.jsx(fw,{className:"h-3 w-3"}),u().icon==="Moon"&&i.jsx(uw,{className:"h-3 w-3"}),u().icon==="Waves"&&i.jsx(mw,{className:"h-3 w-3"})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs font-medium text-foreground",children:"Network"}),i.jsx(D1,{})]}),i.jsx("div",{className:"pt-2",children:i.jsxs(tM,{className:"w-full flex items-center justify-center gap-2 p-2 rounded-lg hover:bg-muted transition-colors text-foreground",children:[i.jsx(Mp,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Close Menu"})]})})]})]})]})]})]})]}),j&&i.jsx("div",{ref:q,className:"px-4 pb-3 border-t border-border/50 animate-in slide-in-from-top-2 duration-200",children:i.jsxs("div",{className:"relative",children:[i.jsx(Is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx("input",{ref:H,type:"text",placeholder:"Search raffle name or address...",value:F,onChange:$=>L($.target.value),className:"w-full h-12 pl-10 pr-4 bg-muted/50 border border-border rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",autoFocus:!0}),j&&F&&i.jsxs("div",{className:"absolute left-0 right-0 top-full mt-2 z-50 bg-popover/95 backdrop-blur-md border border-border/50 rounded-xl max-h-60 overflow-y-auto shadow-xl",children:[S&&i.jsx("div",{className:"p-3 text-muted-foreground text-sm text-center",children:"Searching..."}),!S&&C.length>0&&i.jsx(i.Fragment,{children:C.map($=>i.jsxs("div",{className:"px-4 py-3 hover:bg-muted cursor-pointer border-b border-border/20 last:border-b-0",onClick:()=>Q($.address),children:[i.jsx("div",{className:"font-semibold text-foreground text-sm mb-1",children:$.name}),i.jsx("div",{className:"text-xs text-muted-foreground font-mono truncate",title:$.address,children:$.address})]},$.address))}),!S&&F&&C.length===0&&i.jsxs("div",{className:"p-4 text-muted-foreground text-sm text-center",children:['No raffles found matching "',F,'"']})]})]})})]}),i.jsx("div",{className:"h-14"})]}):null};class lM extends ye.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Mobile component error:",e,r)}render(){return this.state.hasError?i.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md border-b border-border/50",children:i.jsxs("div",{className:"flex items-center justify-between h-14 px-4",children:[i.jsx("div",{className:"text-lg font-bold text-foreground",style:{fontFamily:"Orbitron, monospace"},children:"Rafflhub"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Mobile Menu"})]})}):this.props.children}}var _m="rovingFocusGroup.onEntryFocus",cM={bubbles:!1,cancelable:!0},xc="RovingFocusGroup",[ip,J1,uM]=_p(xc),[dM,af]=di(xc,[uM]),[fM,hM]=dM(xc),X1=b.forwardRef((t,e)=>i.jsx(ip.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(ip.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(mM,{...t,ref:e})})}));X1.displayName=xc;var mM=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...y}=t,k=b.useRef(null),g=Lt(e,k),j=Gd(l),[N,C]=Ro({prop:c,defaultProp:u??null,onChange:f,caller:xc}),[S,D]=b.useState(!1),O=Ds(h),F=J1(r),L=b.useRef(!1),[H,q]=b.useState(0);return b.useEffect(()=>{const Y=k.current;if(Y)return Y.addEventListener(_m,O),()=>Y.removeEventListener(_m,O)},[O]),i.jsx(fM,{scope:r,orientation:n,dir:j,loop:o,currentTabStopId:N,onItemFocus:b.useCallback(Y=>C(Y),[C]),onItemShiftTab:b.useCallback(()=>D(!0),[]),onFocusableItemAdd:b.useCallback(()=>q(Y=>Y+1),[]),onFocusableItemRemove:b.useCallback(()=>q(Y=>Y-1),[]),children:i.jsx(it.div,{tabIndex:S||H===0?-1:0,"data-orientation":n,...y,ref:g,style:{outline:"none",...t.style},onMouseDown:De(t.onMouseDown,()=>{L.current=!0}),onFocus:De(t.onFocus,Y=>{const Q=!L.current;if(Y.target===Y.currentTarget&&Q&&!S){const re=new CustomEvent(_m,cM);if(Y.currentTarget.dispatchEvent(re),!re.defaultPrevented){const te=F().filter(T=>T.focusable),$=te.find(T=>T.active),M=te.find(T=>T.id===N),E=[$,M,...te].filter(Boolean).map(T=>T.ref.current);t2(E,m)}}L.current=!1}),onBlur:De(t.onBlur,()=>D(!1))})})}),Z1="RovingFocusGroupItem",e2=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:l,children:c,...u}=t,f=Rs(),h=l||f,m=hM(Z1,r),y=m.currentTabStopId===h,k=J1(r),{onFocusableItemAdd:g,onFocusableItemRemove:j,currentTabStopId:N}=m;return b.useEffect(()=>{if(n)return g(),()=>j()},[n,g,j]),i.jsx(ip.ItemSlot,{scope:r,id:h,focusable:n,active:o,children:i.jsx(it.span,{tabIndex:y?0:-1,"data-orientation":m.orientation,...u,ref:e,onMouseDown:De(t.onMouseDown,C=>{n?m.onItemFocus(h):C.preventDefault()}),onFocus:De(t.onFocus,()=>m.onItemFocus(h)),onKeyDown:De(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){m.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const S=xM(C,m.orientation,m.dir);if(S!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let O=k().filter(F=>F.focusable).map(F=>F.ref.current);if(S==="last")O.reverse();else if(S==="prev"||S==="next"){S==="prev"&&O.reverse();const F=O.indexOf(C.currentTarget);O=m.loop?yM(O,F+1):O.slice(F+1)}setTimeout(()=>t2(O))}}),children:typeof c=="function"?c({isCurrentTabStop:y,hasTabStop:N!=null}):c})})});e2.displayName=Z1;var pM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gM(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function xM(t,e,r){const n=gM(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return pM[n]}function t2(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function yM(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var r2=X1,n2=e2,op=["Enter"," "],vM=["ArrowDown","PageUp","Home"],s2=["ArrowUp","PageDown","End"],bM=[...vM,...s2],wM={ltr:[...op,"ArrowRight"],rtl:[...op,"ArrowLeft"]},kM={ltr:["ArrowLeft"],rtl:["ArrowRight"]},yc="Menu",[nc,NM,CM]=_p(yc),[Bo,i2]=di(yc,[CM,Xd,af]),lf=Xd(),o2=af(),[EM,Uo]=Bo(yc),[AM,vc]=Bo(yc),a2=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:o,onOpenChange:l,modal:c=!0}=t,u=lf(e),[f,h]=b.useState(null),m=b.useRef(!1),y=Ds(l),k=Gd(o);return b.useEffect(()=>{const g=()=>{m.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>m.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),i.jsx($w,{...u,children:i.jsx(EM,{scope:e,open:r,onOpenChange:y,content:f,onContentChange:h,children:i.jsx(AM,{scope:e,onClose:b.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:m,dir:k,modal:c,children:n})})})};a2.displayName=yc;var jM="MenuAnchor",Jp=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,o=lf(r);return i.jsx(Ww,{...o,...n,ref:e})});Jp.displayName=jM;var Xp="MenuPortal",[SM,l2]=Bo(Xp,{forceMount:void 0}),c2=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:o}=t,l=Uo(Xp,e);return i.jsx(SM,{scope:e,forceMount:r,children:i.jsx(fi,{present:r||l.open,children:i.jsx(Zd,{asChild:!0,container:o,children:n})})})};c2.displayName=Xp;var Gn="MenuContent",[TM,Zp]=Bo(Gn),u2=b.forwardRef((t,e)=>{const r=l2(Gn,t.__scopeMenu),{forceMount:n=r.forceMount,...o}=t,l=Uo(Gn,t.__scopeMenu),c=vc(Gn,t.__scopeMenu);return i.jsx(nc.Provider,{scope:t.__scopeMenu,children:i.jsx(fi,{present:n||l.open,children:i.jsx(nc.Slot,{scope:t.__scopeMenu,children:c.modal?i.jsx(PM,{...o,ref:e}):i.jsx(RM,{...o,ref:e})})})})}),PM=b.forwardRef((t,e)=>{const r=Uo(Gn,t.__scopeMenu),n=b.useRef(null),o=Lt(e,n);return b.useEffect(()=>{const l=n.current;if(l)return Hp(l)},[]),i.jsx(eg,{...t,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:De(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),RM=b.forwardRef((t,e)=>{const r=Uo(Gn,t.__scopeMenu);return i.jsx(eg,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),MM=To("MenuContent.ScrollLock"),eg=b.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:f,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:k,onDismiss:g,disableOutsideScroll:j,...N}=t,C=Uo(Gn,r),S=vc(Gn,r),D=lf(r),O=o2(r),F=NM(r),[L,H]=b.useState(null),q=b.useRef(null),Y=Lt(e,q,C.onContentChange),Q=b.useRef(0),re=b.useRef(""),te=b.useRef(0),$=b.useRef(null),M=b.useRef("right"),x=b.useRef(0),E=j?tf:b.Fragment,T=j?{as:MM,allowPinchZoom:!0}:void 0,P=z=>{var K,Z;const W=re.current+z,R=F().filter(oe=>!oe.disabled),w=document.activeElement,U=(K=R.find(oe=>oe.ref.current===w))==null?void 0:K.textValue,se=R.map(oe=>oe.textValue),I=HM(se,W,U),V=(Z=R.find(oe=>oe.textValue===I))==null?void 0:Z.ref.current;(function oe(fe){re.current=fe,window.clearTimeout(Q.current),fe!==""&&(Q.current=window.setTimeout(()=>oe(""),1e3))})(W),V&&setTimeout(()=>V.focus())};b.useEffect(()=>()=>window.clearTimeout(Q.current),[]),Ip();const _=b.useCallback(z=>{var R,w;return M.current===((R=$.current)==null?void 0:R.side)&&GM(z,(w=$.current)==null?void 0:w.area)},[]);return i.jsx(TM,{scope:r,searchRef:re,onItemEnter:b.useCallback(z=>{_(z)&&z.preventDefault()},[_]),onItemLeave:b.useCallback(z=>{var W;_(z)||((W=q.current)==null||W.focus(),H(null))},[_]),onTriggerLeave:b.useCallback(z=>{_(z)&&z.preventDefault()},[_]),pointerGraceTimerRef:te,onPointerGraceIntentChange:b.useCallback(z=>{$.current=z},[]),children:i.jsx(E,{...T,children:i.jsx(Kd,{asChild:!0,trapped:o,onMountAutoFocus:De(l,z=>{var W;z.preventDefault(),(W=q.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:i.jsx(Vd,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:k,onDismiss:g,children:i.jsx(r2,{asChild:!0,...O,dir:S.dir,orientation:"vertical",loop:n,currentTabStopId:L,onCurrentTabStopIdChange:H,onEntryFocus:De(f,z=>{S.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(Hw,{role:"menu","aria-orientation":"vertical","data-state":A2(C.open),"data-radix-menu-content":"",dir:S.dir,...D,...N,ref:Y,style:{outline:"none",...N.style},onKeyDown:De(N.onKeyDown,z=>{const R=z.target.closest("[data-radix-menu-content]")===z.currentTarget,w=z.ctrlKey||z.altKey||z.metaKey,U=z.key.length===1;R&&(z.key==="Tab"&&z.preventDefault(),!w&&U&&P(z.key));const se=q.current;if(z.target!==se||!bM.includes(z.key))return;z.preventDefault();const V=F().filter(K=>!K.disabled).map(K=>K.ref.current);s2.includes(z.key)&&V.reverse(),$M(V)}),onBlur:De(t.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(Q.current),re.current="")}),onPointerMove:De(t.onPointerMove,sc(z=>{const W=z.target,R=x.current!==z.clientX;if(z.currentTarget.contains(W)&&R){const w=z.clientX>x.current?"right":"left";M.current=w,x.current=z.clientX}}))})})})})})})});u2.displayName=Gn;var _M="MenuGroup",tg=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return i.jsx(it.div,{role:"group",...n,ref:e})});tg.displayName=_M;var IM="MenuLabel",d2=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return i.jsx(it.div,{...n,ref:e})});d2.displayName=IM;var Sd="MenuItem",Gv="menu.itemSelect",cf=b.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...o}=t,l=b.useRef(null),c=vc(Sd,t.__scopeMenu),u=Zp(Sd,t.__scopeMenu),f=Lt(e,l),h=b.useRef(!1),m=()=>{const y=l.current;if(!r&&y){const k=new CustomEvent(Gv,{bubbles:!0,cancelable:!0});y.addEventListener(Gv,g=>n==null?void 0:n(g),{once:!0}),gw(y,k),k.defaultPrevented?h.current=!1:c.onClose()}};return i.jsx(f2,{...o,ref:f,disabled:r,onClick:De(t.onClick,m),onPointerDown:y=>{var k;(k=t.onPointerDown)==null||k.call(t,y),h.current=!0},onPointerUp:De(t.onPointerUp,y=>{var k;h.current||(k=y.currentTarget)==null||k.click()}),onKeyDown:De(t.onKeyDown,y=>{const k=u.searchRef.current!=="";r||k&&y.key===" "||op.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});cf.displayName=Sd;var f2=b.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:o,...l}=t,c=Zp(Sd,r),u=o2(r),f=b.useRef(null),h=Lt(e,f),[m,y]=b.useState(!1),[k,g]=b.useState("");return b.useEffect(()=>{const j=f.current;j&&g((j.textContent??"").trim())},[l.children]),i.jsx(nc.ItemSlot,{scope:r,disabled:n,textValue:o??k,children:i.jsx(n2,{asChild:!0,...u,focusable:!n,children:i.jsx(it.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...l,ref:h,onPointerMove:De(t.onPointerMove,sc(j=>{n?c.onItemLeave(j):(c.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:De(t.onPointerLeave,sc(j=>c.onItemLeave(j))),onFocus:De(t.onFocus,()=>y(!0)),onBlur:De(t.onBlur,()=>y(!1))})})})}),DM="MenuCheckboxItem",h2=b.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...o}=t;return i.jsx(y2,{scope:t.__scopeMenu,checked:r,children:i.jsx(cf,{role:"menuitemcheckbox","aria-checked":Td(r)?"mixed":r,...o,ref:e,"data-state":ng(r),onSelect:De(o.onSelect,()=>n==null?void 0:n(Td(r)?!0:!r),{checkForDefaultPrevented:!1})})})});h2.displayName=DM;var m2="MenuRadioGroup",[zM,OM]=Bo(m2,{value:void 0,onValueChange:()=>{}}),p2=b.forwardRef((t,e)=>{const{value:r,onValueChange:n,...o}=t,l=Ds(n);return i.jsx(zM,{scope:t.__scopeMenu,value:r,onValueChange:l,children:i.jsx(tg,{...o,ref:e})})});p2.displayName=m2;var g2="MenuRadioItem",x2=b.forwardRef((t,e)=>{const{value:r,...n}=t,o=OM(g2,t.__scopeMenu),l=r===o.value;return i.jsx(y2,{scope:t.__scopeMenu,checked:l,children:i.jsx(cf,{role:"menuitemradio","aria-checked":l,...n,ref:e,"data-state":ng(l),onSelect:De(n.onSelect,()=>{var c;return(c=o.onValueChange)==null?void 0:c.call(o,r)},{checkForDefaultPrevented:!1})})})});x2.displayName=g2;var rg="MenuItemIndicator",[y2,LM]=Bo(rg,{checked:!1}),v2=b.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...o}=t,l=LM(rg,r);return i.jsx(fi,{present:n||Td(l.checked)||l.checked===!0,children:i.jsx(it.span,{...o,ref:e,"data-state":ng(l.checked)})})});v2.displayName=rg;var FM="MenuSeparator",b2=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return i.jsx(it.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});b2.displayName=FM;var BM="MenuArrow",w2=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,o=lf(r);return i.jsx(qw,{...o,...n,ref:e})});w2.displayName=BM;var UM="MenuSub",[v6,k2]=Bo(UM),Ll="MenuSubTrigger",N2=b.forwardRef((t,e)=>{const r=Uo(Ll,t.__scopeMenu),n=vc(Ll,t.__scopeMenu),o=k2(Ll,t.__scopeMenu),l=Zp(Ll,t.__scopeMenu),c=b.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:f}=l,h={__scopeMenu:t.__scopeMenu},m=b.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return b.useEffect(()=>m,[m]),b.useEffect(()=>{const y=u.current;return()=>{window.clearTimeout(y),f(null)}},[u,f]),i.jsx(Jp,{asChild:!0,...h,children:i.jsx(f2,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":A2(r.open),...t,ref:qd(e,o.onTriggerChange),onClick:y=>{var k;(k=t.onClick)==null||k.call(t,y),!(t.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:De(t.onPointerMove,sc(y=>{l.onItemEnter(y),!y.defaultPrevented&&!t.disabled&&!r.open&&!c.current&&(l.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{r.onOpenChange(!0),m()},100))})),onPointerLeave:De(t.onPointerLeave,sc(y=>{var g,j;m();const k=(g=r.content)==null?void 0:g.getBoundingClientRect();if(k){const N=(j=r.content)==null?void 0:j.dataset.side,C=N==="right",S=C?-5:5,D=k[C?"left":"right"],O=k[C?"right":"left"];l.onPointerGraceIntentChange({area:[{x:y.clientX+S,y:y.clientY},{x:D,y:k.top},{x:O,y:k.top},{x:O,y:k.bottom},{x:D,y:k.bottom}],side:N}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(y),y.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:De(t.onKeyDown,y=>{var g;const k=l.searchRef.current!=="";t.disabled||k&&y.key===" "||wM[n.dir].includes(y.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),y.preventDefault())})})})});N2.displayName=Ll;var C2="MenuSubContent",E2=b.forwardRef((t,e)=>{const r=l2(Gn,t.__scopeMenu),{forceMount:n=r.forceMount,...o}=t,l=Uo(Gn,t.__scopeMenu),c=vc(Gn,t.__scopeMenu),u=k2(C2,t.__scopeMenu),f=b.useRef(null),h=Lt(e,f);return i.jsx(nc.Provider,{scope:t.__scopeMenu,children:i.jsx(fi,{present:n||l.open,children:i.jsx(nc.Slot,{scope:t.__scopeMenu,children:i.jsx(eg,{id:u.contentId,"aria-labelledby":u.triggerId,...o,ref:h,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var y;c.isUsingKeyboardRef.current&&((y=f.current)==null||y.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:De(t.onFocusOutside,m=>{m.target!==u.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:De(t.onEscapeKeyDown,m=>{c.onClose(),m.preventDefault()}),onKeyDown:De(t.onKeyDown,m=>{var g;const y=m.currentTarget.contains(m.target),k=kM[c.dir].includes(m.key);y&&k&&(l.onOpenChange(!1),(g=u.trigger)==null||g.focus(),m.preventDefault())})})})})})});E2.displayName=C2;function A2(t){return t?"open":"closed"}function Td(t){return t==="indeterminate"}function ng(t){return Td(t)?"indeterminate":t?"checked":"unchecked"}function $M(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function WM(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function HM(t,e,r){const o=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,l=r?t.indexOf(r):-1;let c=WM(t,Math.max(l,0));o.length===1&&(c=c.filter(h=>h!==r));const f=c.find(h=>h.toLowerCase().startsWith(o.toLowerCase()));return f!==r?f:void 0}function qM(t,e){const{x:r,y:n}=t;let o=!1;for(let l=0,c=e.length-1;l<e.length;c=l++){const u=e[l],f=e[c],h=u.x,m=u.y,y=f.x,k=f.y;m>n!=k>n&&r<(y-h)*(n-m)/(k-m)+h&&(o=!o)}return o}function GM(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return qM(r,e)}function sc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var VM=a2,KM=Jp,YM=c2,QM=u2,JM=tg,XM=d2,ZM=cf,e4=h2,t4=p2,r4=x2,n4=v2,s4=b2,i4=w2,o4=N2,a4=E2,uf="DropdownMenu",[l4,b6]=di(uf,[i2]),rn=i2(),[c4,j2]=l4(uf),S2=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:o,defaultOpen:l,onOpenChange:c,modal:u=!0}=t,f=rn(e),h=b.useRef(null),[m,y]=Ro({prop:o,defaultProp:l??!1,onChange:c,caller:uf});return i.jsx(c4,{scope:e,triggerId:Rs(),triggerRef:h,contentId:Rs(),open:m,onOpenChange:y,onOpenToggle:b.useCallback(()=>y(k=>!k),[y]),modal:u,children:i.jsx(VM,{...f,open:m,onOpenChange:y,dir:n,modal:u,children:r})})};S2.displayName=uf;var T2="DropdownMenuTrigger",P2=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...o}=t,l=j2(T2,r),c=rn(r);return i.jsx(KM,{asChild:!0,...c,children:i.jsx(it.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:qd(e,l.triggerRef),onPointerDown:De(t.onPointerDown,u=>{!n&&u.button===0&&u.ctrlKey===!1&&(l.onOpenToggle(),l.open||u.preventDefault())}),onKeyDown:De(t.onKeyDown,u=>{n||(["Enter"," "].includes(u.key)&&l.onOpenToggle(),u.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});P2.displayName=T2;var u4="DropdownMenuPortal",R2=t=>{const{__scopeDropdownMenu:e,...r}=t,n=rn(e);return i.jsx(YM,{...n,...r})};R2.displayName=u4;var M2="DropdownMenuContent",_2=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=j2(M2,r),l=rn(r),c=b.useRef(!1);return i.jsx(QM,{id:o.contentId,"aria-labelledby":o.triggerId,...l,...n,ref:e,onCloseAutoFocus:De(t.onCloseAutoFocus,u=>{var f;c.current||(f=o.triggerRef.current)==null||f.focus(),c.current=!1,u.preventDefault()}),onInteractOutside:De(t.onInteractOutside,u=>{const f=u.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,m=f.button===2||h;(!o.modal||m)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_2.displayName=M2;var d4="DropdownMenuGroup",f4=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=rn(r);return i.jsx(JM,{...o,...n,ref:e})});f4.displayName=d4;var h4="DropdownMenuLabel",m4=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=rn(r);return i.jsx(XM,{...o,...n,ref:e})});m4.displayName=h4;var p4="DropdownMenuItem",I2=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=rn(r);return i.jsx(ZM,{...o,...n,ref:e})});I2.displayName=p4;var g4="DropdownMenuCheckboxItem",x4=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=rn(r);return i.jsx(e4,{...o,...n,ref:e})});x4.displayName=g4;var y4="DropdownMenuRadioGroup",v4=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=rn(r);return i.jsx(t4,{...o,...n,ref:e})});v4.displayName=y4;var b4="DropdownMenuRadioItem",w4=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=rn(r);return i.jsx(r4,{...o,...n,ref:e})});w4.displayName=b4;var k4="DropdownMenuItemIndicator",N4=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=rn(r);return i.jsx(n4,{...o,...n,ref:e})});N4.displayName=k4;var C4="DropdownMenuSeparator",E4=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=rn(r);return i.jsx(s4,{...o,...n,ref:e})});E4.displayName=C4;var A4="DropdownMenuArrow",j4=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=rn(r);return i.jsx(i4,{...o,...n,ref:e})});j4.displayName=A4;var S4="DropdownMenuSubTrigger",T4=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=rn(r);return i.jsx(o4,{...o,...n,ref:e})});T4.displayName=S4;var P4="DropdownMenuSubContent",R4=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=rn(r);return i.jsx(a4,{...o,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});R4.displayName=P4;var M4=S2,_4=P2,I4=R2,D4=_2,z4=I2;function O4({...t}){return i.jsx(M4,{"data-slot":"dropdown-menu",...t})}function L4({...t}){return i.jsx(_4,{"data-slot":"dropdown-menu-trigger",...t})}function F4({className:t,sideOffset:e=4,...r}){return i.jsx(I4,{children:i.jsx(D4,{"data-slot":"dropdown-menu-content",sideOffset:e,className:$e("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...r})})}function Im({className:t,inset:e,variant:r="default",...n}){return i.jsx(z4,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":r,className:$e("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}const B4=()=>{const{connected:t,address:e,formatAddress:r,disconnect:n,connectWallet:o,provider:l,chainId:c}=Dt(),{contracts:u,getContractInstance:f}=$t(),{theme:h,cycleTheme:m,getCurrentTheme:y}=aw(),{isMobile:k,isInitialized:g}=rr(),[j,N]=b.useState(!1),C=Ha();if(!g)return i.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md border-b border-border/50",children:i.jsx("div",{className:"flex items-center justify-between h-16 px-4",children:i.jsx("div",{className:"text-lg font-bold text-foreground",style:{fontFamily:"Orbitron, monospace"},children:"Rafflhub"})})});if(k)return i.jsx(lM,{children:i.jsx(aM,{})});const S=async()=>{try{await o("metamask")}catch(z){console.error("Failed to connect wallet:",z)}},[D,O]=b.useState(""),[F,L]=b.useState([]),[H,q]=b.useState(!1),[Y,Q]=b.useState([]),re=b.useRef(null),te=tn(),[$,M]=b.useState(!1),[x,E]=b.useState(!1),T=b.useRef(null),P=b.useRef(!1);b.useEffect(()=>{if(C.pathname==="/profile")return;const z=W=>{W.target.closest(".mobile-component-container")||W.target.closest("[data-dashboard-card]")||W.target.closest("[data-profile-tab]")||W.target.closest("input")||W.target.closest("textarea")||W.target.closest("button")||W.target.closest("select")||j&&re.current&&!re.current.contains(W.target)&&!$&&(N(!1),O(""),L([]))};return document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[j,$,C.pathname]),b.useEffect(()=>{(async()=>{if(!(!l||!c||!zr[c])&&!P.current)try{const W=zr[c].contractAddresses.raffleManager;if(!W){Q([]),P.current=!0;return}const w=await new Ut(W,Vt.raffleManager,l).getAllRaffles();if(!w||w.length===0){Q([]),P.current=!0;return}const U=w.map(async V=>{try{if(!l)return null;const Z=await new Ut(V,Vt.raffle,l).name();return{address:V,name:Z}}catch{return null}}),I=(await Promise.all(U)).filter(V=>V);Q(I),P.current=!0}catch{Q([]),P.current=!0}})()},[l,c]),b.useEffect(()=>{},[Y]),b.useEffect(()=>{if(!j||!D){L([]);return}q(!0);const z=setTimeout(()=>{const W=D.trim().toLowerCase(),R=Y.filter(w=>(w.name||"").trim().toLowerCase().includes(W)||(w.address||"").trim().toLowerCase()===W||(w.address||"").trim().toLowerCase().includes(W));L(R),q(!1)},300);return()=>clearTimeout(z)},[D,j,Y]);const _=z=>{te(`/raffle/${z}`),setTimeout(()=>{N(!1),O(""),L([])},150)};return b.useEffect(()=>{if(!j||C.pathname==="/profile")return;function z(W){W.target.closest(".mobile-component-container")||W.target.closest("[data-dashboard-card]")||W.target.closest("[data-profile-tab]")||W.target.closest("input")||W.target.closest("textarea")||W.target.closest("button")||W.target.closest("select")||T.current&&!T.current.contains(W.target)&&(N(!1),E(!1))}return document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[j,C.pathname]),b.useEffect(()=>{P.current=!1},[l,c]),i.jsx(i.Fragment,{children:i.jsx("header",{className:"relative w-full z-50 bg-background/80 backdrop-blur-md border-b border-border/50",children:i.jsx("div",{className:"w-full px-0 py-0",children:i.jsx("div",{className:"bg-background/80 backdrop-blur-md border-b border-border/50 w-full",children:i.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[i.jsx("div",{className:"flex items-center gap-3",children:i.jsx(Fl,{to:"/",className:"flex items-center gap-3",children:i.jsx("span",{className:"text-xl font-bold text-foreground",style:{fontFamily:"Orbitron, monospace"},children:"Rafflhub"})})}),i.jsxs("div",{className:"flex items-center gap-4 w-full justify-end",children:[i.jsxs("div",{className:"flex items-center transition-all duration-300",style:{minWidth:"40px",marginRight:"0.5rem"},children:[i.jsx("button",{className:`p-2 hover:bg-muted rounded-md transition-colors text-lg ${j?"mr-2":""}`,onClick:()=>{N(z=>(z?E(!1):setTimeout(()=>{E(!0),re.current&&re.current.focus()},300),!z))},children:i.jsx(Is,{className:"h-5 w-5"})}),i.jsxs("div",{ref:T,className:"overflow-visible transition-all duration-300 rounded-md bg-background",style:{width:j?"16rem":"0",marginLeft:"0",position:"relative",display:"inline-block",verticalAlign:"middle",overflow:"visible"},children:[i.jsx("input",{ref:re,type:"text",className:`transition-all duration-300 px-3 py-2 rounded-md bg-background text-sm ${x?"focus:outline-none focus:ring-2 focus:ring-primary border border-border":"border-0 outline-none shadow-none"} ${j?"w-64 opacity-100":"w-0 opacity-0 overflow-hidden"}`,style:{minWidth:j?"16rem":"0",maxWidth:j?"16rem":"0",boxSizing:"border-box",border:x?void 0:"none",outline:x?void 0:"none",boxShadow:x?void 0:"none",visibility:j?"visible":"hidden",pointerEvents:x?"auto":"none"},placeholder:"Search raffle name or address...",value:D,onChange:z=>{const W=z.target.value;O(W)},autoFocus:x}),j&&i.jsxs("div",{className:"absolute left-0 top-full mt-1 z-50 w-full",style:{boxSizing:"border-box",position:"absolute",top:"100%",left:0,right:0,zIndex:9999},onMouseEnter:()=>M(!0),onMouseLeave:()=>M(!1),children:[H&&i.jsx("div",{className:"p-2 text-muted-foreground text-xs bg-muted border border-border rounded",children:"Searching..."}),!H&&F.length>0&&i.jsx("div",{className:"bg-popover/90 backdrop-blur-md border border-border/50 rounded-xl max-h-60 overflow-y-auto shadow-xl custom-search-scrollbar",style:{overflowX:"hidden"},children:F.map(z=>i.jsxs("div",{className:"px-3 py-2 hover:bg-muted cursor-pointer text-sm border-b border-border/20",onMouseDown:()=>_(z.address),children:[i.jsx("div",{className:"font-semibold text-foreground",children:z.name}),i.jsx("div",{className:"text-xs text-muted-foreground font-mono",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block",maxWidth:"100%"},title:z.address,children:z.address})]},z.address))}),!H&&D&&F.length===0&&i.jsx("div",{className:"p-2 text-muted-foreground text-xs bg-muted border border-border rounded",children:"No results found."})]})]})]}),i.jsxs("button",{onClick:m,className:"p-2 hover:bg-muted rounded-md transition-colors",title:`Current: ${y().name} - Click to cycle themes`,children:[y().icon==="Sun"&&i.jsx(fw,{className:"h-5 w-5"}),y().icon==="Moon"&&i.jsx(uw,{className:"h-5 w-5"}),y().icon==="Waves"&&i.jsx(mw,{className:"h-5 w-5"})]}),i.jsx(D1,{}),t?i.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted rounded-md text-sm font-medium",children:[i.jsx("span",{children:r(e)}),i.jsx("button",{onClick:n,title:"Disconnect Wallet",className:"hover:bg-destructive/10 rounded-full p-1 transition-colors",children:i.jsx(NT,{className:"h-4 w-4 text-destructive"})})]}):i.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-3 py-2 bg-foreground text-background rounded-md text-sm hover:bg-foreground/90 transition-colors",children:[i.jsx(Vm,{className:"h-4 w-4"}),i.jsx("span",{children:"Connect Wallet"})]}),i.jsxs(O4,{children:[i.jsx(L4,{asChild:!0,children:i.jsx("button",{className:"flex items-center gap-2 px-3 py-2 bg-muted rounded-md text-sm font-medium hover:bg-muted/80 transition-colors",children:"Menu"})}),i.jsxs(F4,{className:"w-56 bg-popover/90 backdrop-blur-md border border-border/50 mt-2 rounded-xl shadow-2xl py-2 z-40 ring-1 ring-border/20 flex flex-col",children:[i.jsx(Im,{asChild:!0,children:i.jsxs("a",{href:"https://rafflhub.gitbook.io/rafflhub",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-primary/10 transition-colors rounded-lg",children:[i.jsx(yT,{className:"h-5 w-5"})," Docs"]})}),i.jsx(Im,{asChild:!0,children:i.jsxs(Fl,{to:"/profile",className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-primary/10 transition-colors rounded-lg",children:[i.jsx(Wd,{className:"h-5 w-5"})," Profile"]})}),i.jsx(Im,{asChild:!0,children:i.jsxs(Fl,{to:"/create-raffle",className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-primary/10 transition-colors rounded-lg",children:[i.jsx(Pn,{className:"h-5 w-5"})," Create Raffle"]})})]})]})]})]})})})})})},ni=({children:t,variant:e="default",className:r=""})=>{const{isMobile:n}=rr(),l=(()=>{switch(e){case"narrow":return"mx-auto px-4 sm:px-6 md:px-8 lg:px-12 xl:px-20 2xl:px-32";case"wide":return"container mx-auto px-4 sm:px-6 md:px-8 lg:px-12 xl:px-16 2xl:px-20";case"profile":return n?"mx-auto px-4":"mx-auto px-2 sm:px-3 md:px-4 lg:px-6 xl:px-8 2xl:px-10";case"default":default:return n?"mx-auto px-4":"mx-auto px-2 sm:px-3 md:px-4 lg:px-6 xl:px-8 2xl:px-10"}})();return i.jsx("div",{className:`${l} ${r}`,children:t})},U4=()=>{const t=new Date().getFullYear();return i.jsx("footer",{className:"bg-background/80 backdrop-blur-md border-t border-border/50 mt-auto shrink-0",children:i.jsx("div",{className:"w-full px-6 sm:px-8 lg:px-12 py-2 sm:py-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-2 sm:gap-4 w-full",children:[i.jsxs("div",{className:"text-sm text-muted-foreground sm:ml-0",children:[" ",t," Rafflhub. All rights reserved."]}),i.jsxs("div",{className:"flex items-center gap-4 sm:mr-0",children:[i.jsx("a",{href:"https://github.com/rafflhub",target:"_blank",rel:"noopener noreferrer",className:"p-1.5 sm:p-2 text-muted-foreground hover:text-foreground transition-colors duration-200 hover:bg-muted rounded-md",title:"GitHub",children:i.jsx(bT,{className:"h-5 w-5"})}),i.jsx("a",{href:"https://twitter.com/rafflhub",target:"_blank",rel:"noopener noreferrer",className:"p-1.5 sm:p-2 text-muted-foreground hover:text-foreground transition-colors duration-200 hover:bg-muted rounded-md",title:"Twitter",children:i.jsx(ST,{className:"h-5 w-5"})}),i.jsx("a",{href:"mailto:contact@rafflhub.com",className:"p-1.5 sm:p-2 text-muted-foreground hover:text-foreground transition-colors duration-200 hover:bg-muted rounded-md",title:"Contact",children:i.jsx(CT,{className:"h-5 w-5"})})]})]})})})};function Ir({className:t,...e}){return i.jsx("div",{"data-slot":"card",className:$e("bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex flex-col gap-6 hover:border-border/80",t),...e})}function Hn({className:t,...e}){return i.jsx("div",{"data-slot":"card-header",className:$e("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 py-4 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function qn({className:t,...e}){return i.jsx("div",{"data-slot":"card-title",className:$e("leading-none font-semibold",t),...e})}function ap({className:t,...e}){return i.jsx("div",{"data-slot":"card-description",className:$e("text-muted-foreground text-sm",t),...e})}function Dr({className:t,...e}){return i.jsx("div",{"data-slot":"card-content",className:$e("px-6 py-6",t),...e})}class $4 extends ye.Component{constructor(r){super(r);ku(this,"handleRetry",()=>{this.setState(r=>({hasError:!1,error:null,errorInfo:null,retryCount:r.retryCount+1}))});ku(this,"handleGoHome",()=>{window.location.href="/"});ku(this,"getBrowserSpecificErrorInfo",()=>{const{error:r,browserInfo:n}=this.state,o=(r==null?void 0:r.message)||(r==null?void 0:r.toString())||"Unknown error";if(o.includes("missing revert data")||o.includes("call exception")||o.includes("CALL_EXCEPTION"))return{title:"Network Connection Issue",message:`Your browser (${(n==null?void 0:n.name)||"unknown"}) is experiencing connectivity issues with the blockchain network.`,suggestions:["Check your internet connection","Try refreshing the page","Switch to a different network and back",(n==null?void 0:n.name)==="firefox"?"Firefox may need extra time - please be patient":"Try using Chrome for better compatibility"]};if(o.includes("MetaMask")||o.includes("wallet"))return{title:"Wallet Connection Issue",message:"There was a problem connecting to your wallet.",suggestions:["Make sure MetaMask is installed and unlocked","Try disconnecting and reconnecting your wallet","Refresh the page and try again"]};const l=["Refresh the page and try again"];return(n==null?void 0:n.name)==="firefox"?l.push("Firefox users may experience slower loading - please be patient"):(n==null?void 0:n.name)==="safari"?l.push("Safari users should ensure they have the latest version"):(n==null?void 0:n.name)==="edge"&&l.push("Edge users may need to clear browser cache"),n!=null&&n.isMobile&&l.push("Mobile users: ensure stable internet connection"),{title:"Something went wrong",message:"An unexpected error occurred while loading the application.",suggestions:l}});this.state={hasError:!1,error:null,errorInfo:null,retryCount:0,browserInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){const o=Ap();this.setState({error:r,errorInfo:n,browserInfo:o}),console.group(" Error Boundary Caught Error"),console.log("Browser:",o),console.log("Error:",r),console.log("Error Info:",n),console.groupEnd(),window.gtag&&window.gtag("event","exception",{description:r.toString(),fatal:!1,custom_parameters:{browser:o.name,browser_version:o.version,is_mobile:o.isMobile}})}render(){if(this.state.hasError){const{isMobile:r=!1,fallbackComponent:n}=this.props,{error:o,retryCount:l,browserInfo:c}=this.state,u=this.getBrowserSpecificErrorInfo();return n?n(o,this.handleRetry,this.handleGoHome):r?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:i.jsxs(Ir,{className:"w-full max-w-md",children:[i.jsxs(Hn,{className:"text-center",children:[i.jsx(wd,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),i.jsx(qn,{className:"text-lg",children:u.title})]}),i.jsxs(Dr,{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground text-center",children:u.message}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-semibold text-sm",children:"Try these solutions:"}),i.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:u.suggestions.map((f,h)=>i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"mr-2",children:""}),i.jsx("span",{children:f})]},h))})]}),l<3&&i.jsxs(He,{onClick:this.handleRetry,className:"w-full",variant:"default",children:[i.jsx(Vi,{className:"h-4 w-4 mr-2"}),"Try Again"]}),i.jsxs(He,{onClick:this.handleGoHome,variant:"outline",className:"w-full",children:[i.jsx(pv,{className:"h-4 w-4 mr-2"}),"Go Home"]}),!1]})]})}):i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:i.jsxs(Ir,{className:"w-full max-w-2xl",children:[i.jsxs(Hn,{className:"text-center",children:[i.jsx(wd,{className:"h-16 w-16 text-destructive mx-auto mb-6"}),i.jsx(qn,{className:"text-2xl",children:"Oops! Something went wrong"})]}),i.jsxs(Dr,{className:"space-y-6",children:[i.jsx("p",{className:"text-muted-foreground text-center",children:"The application encountered an unexpected error. This could be due to:"}),i.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 max-w-md mx-auto",children:[i.jsx("li",{children:" Network connectivity issues"}),i.jsx("li",{children:" Blockchain RPC provider problems"}),i.jsx("li",{children:" Temporary service disruption"}),i.jsx("li",{children:" Browser compatibility issues"})]}),i.jsxs("div",{className:"flex gap-4 justify-center",children:[l<3&&i.jsxs(He,{onClick:this.handleRetry,variant:"default",children:[i.jsx(Vi,{className:"h-4 w-4 mr-2"}),"Try Again"]}),i.jsxs(He,{onClick:this.handleGoHome,variant:"outline",children:[i.jsx(pv,{className:"h-4 w-4 mr-2"}),"Return Home"]})]}),!1]})]})})}return this.props.children}}const W4=({error:t,onRetry:e,isMobile:r=!1})=>{const n=o=>{var l,c,u,f;return(l=o==null?void 0:o.message)!=null&&l.includes("Too Many Requests")?"Rate limit exceeded. Please wait a moment before trying again.":(c=o==null?void 0:o.message)!=null&&c.includes("timeout")?"Request timed out. Please check your connection and try again.":(u=o==null?void 0:o.message)!=null&&u.includes("network")?"Network error. Please check your internet connection.":(f=o==null?void 0:o.message)!=null&&f.includes("not available")?"Smart contracts not available on this network.":"Unable to connect to the blockchain. Please try again."};return r?i.jsxs("div",{className:"text-center py-8 px-4",children:[i.jsx(wd,{className:"h-8 w-8 text-destructive mx-auto mb-3"}),i.jsx("h3",{className:"font-semibold mb-2",children:"Connection Problem"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:n(t)}),e&&i.jsxs(He,{onClick:e,size:"sm",variant:"outline",children:[i.jsx(Vi,{className:"h-3 w-3 mr-2"}),"Retry"]})]}):i.jsx(Ir,{className:"max-w-md mx-auto",children:i.jsxs(Dr,{className:"pt-6 text-center",children:[i.jsx(wd,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),i.jsx("h3",{className:"font-semibold mb-2",children:"Connection Problem"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:n(t)}),e&&i.jsxs(He,{onClick:e,variant:"outline",children:[i.jsx(Vi,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})},H4=Vp("inline-flex items-center justify-center rounded-full border px-2 py-1 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20",outline:"text-foreground [a&]:hover:bg-muted"}},defaultVariants:{variant:"default"}});function Co({className:t,variant:e,asChild:r=!1,...n}){const o=r?pw:"span";return i.jsx(o,{"data-slot":"badge",className:$e(H4({variant:e}),t),...n})}const q4=()=>{const[t,e]=b.useState(!1);return b.useEffect(()=>{},[!1]),{component:null}},G4=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),D2=()=>{G4&&console.log("Mobile keyboard fix initialized (simplified version)")},z2=()=>{console.log("Mobile keyboard fix cleanup (simplified version)")},V4=D2,K4=z2,Y4=({size:t="default",className:e="",text:r="",showText:n=!0})=>{const o={sm:"h-4 w-4",default:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"};return i.jsx("div",{className:$e("flex items-center justify-center",e),children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx(id,{className:$e("animate-spin text-primary",o[t])}),n&&r&&i.jsx("p",{className:"text-sm text-muted-foreground",children:r})]})})},O2=({message:t="Loading...",isMobile:e=!1,showProgress:r=!1,progress:n=0,maxProgress:o=100})=>i.jsx("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center bg-background",children:i.jsxs("div",{className:"text-center space-y-4 px-4",children:[i.jsx(Y4,{size:e?"lg":"xl",text:t,showText:!0}),r&&i.jsxs("div",{className:"w-64 max-w-full mx-auto",children:[i.jsx("div",{className:"bg-muted rounded-full h-2",children:i.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${n/o*100}%`}})}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[n," / ",o]})]})]})}),L2=t=>({0:"pending",1:"active",2:"ended",3:"drawing",4:"completed",5:"deleted",6:"activation_failed",7:"all_prizes_claimed",8:"unengaged"})[t]||"ended",F2=t=>t.isExternallyPrized?"nft_collab":t.isPrized?"prized":"non_prized",B2=t=>t.isPrized?t.ethPrizeAmount&&t.ethPrizeAmount.gt&&t.ethPrizeAmount.gt(0)?"eth":t.erc20PrizeToken&&t.erc20PrizeToken!==_e&&t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0)?"erc20":t.prizeCollection&&t.prizeCollection!==_e?"nft":"token_giveaway":null,U2=t=>{if(!t.isPrized)return[];const e=[];return t.ethPrizeAmount&&t.ethPrizeAmount.gt&&t.ethPrizeAmount.gt(0)&&e.push("eth"),t.erc20PrizeToken&&t.erc20PrizeToken!==_e&&t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0)&&e.push("erc20"),t.prizeCollection&&t.prizeCollection!==_e&&(t.standard===0?e.push("erc721"):t.standard===1&&e.push("erc1155")),e},Q4=(t,e)=>!t||t.length===0?[]:t.filter(n=>{if(e.raffleState&&e.raffleState.length>0){const o=L2(n.stateNum);if(!e.raffleState.includes(o))return!1}if(e.raffleType&&e.raffleType.length>0){const o=F2(n);if(!e.raffleType.includes(o))return!1}if(e.prizeType&&e.prizeType.length>0){if(!n.isPrized)return!1;const o=B2(n);if(!e.prizeType.includes(o))return!1}if(e.prizeStandard&&e.prizeStandard.length>0){if(!n.isPrized)return!1;const o=U2(n);if(!e.prizeStandard.some(c=>o.includes(c)))return!1}return!0}),J4=t=>{if(!t||t.length===0)return{raffleState:{},raffleType:{},prizeType:{},prizeStandard:{}};const e={raffleState:{},raffleType:{},prizeType:{},prizeStandard:{}};return t.forEach(r=>{const n=L2(r.stateNum);e.raffleState[n]=(e.raffleState[n]||0)+1;const o=F2(r);if(e.raffleType[o]=(e.raffleType[o]||0)+1,r.isPrized){const l=B2(r);l&&(e.prizeType[l]=(e.prizeType[l]||0)+1),U2(r).forEach(u=>{e.prizeStandard[u]=(e.prizeStandard[u]||0)+1})}}),e},Vv=()=>({raffleState:[],raffleType:[],prizeType:[],prizeStandard:[]}),Dm=t=>Object.values(t).every(e=>!e||e.length===0),X4=({onFilterChange:t,hasActiveFilters:e=!1,className:r=""})=>{const n=[{label:"Active",icon:Da,filters:{raffleState:["active"]},description:"Currently running raffles"},{label:"Pending",icon:Hd,filters:{raffleState:["pending"]},description:"Raffles starting soon"},{label:"NFT Prizes",icon:ii,filters:{raffleType:["prized"],prizeType:["nft"]},description:"Raffles with NFT prizes"},{label:"Whitelist",icon:Ps,filters:{raffleType:["non_prized"]},description:"Whitelist/Allowlist raffles"}],o=c=>{t(c)},l=()=>{t({raffleState:[],raffleType:[],prizeType:[],prizeStandard:[]})};return i.jsxs("div",{className:`space-y-2 sm:space-y-3 ${r}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Quick Filters"}),e&&i.jsx(He,{variant:"ghost",size:"sm",onClick:l,className:"text-xs h-5 sm:h-6 px-1.5 sm:px-2",children:"Clear"})]}),i.jsx("div",{className:"grid grid-cols-2 gap-1.5 sm:gap-2",children:n.map(c=>{const u=c.icon;return i.jsxs(He,{variant:"outline",size:"sm",onClick:()=>o(c.filters),className:"flex items-center justify-start gap-1.5 sm:gap-2 h-auto p-2 sm:p-3 text-left",title:c.description,children:[i.jsx(u,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),i.jsx("span",{className:"text-xs font-medium",children:c.label})]},c.label)})})]})},Z4=`
  @media (max-width: 640px) {
    .mobile-checkbox-radio {
      width: 12px !important;
      height: 12px !important;
      min-width: 12px !important;
      min-height: 12px !important;
      max-width: 12px !important;
      max-height: 12px !important;
    }
  }
`,e_=({isOpen:t,onToggle:e,filters:r,onFiltersChange:n,raffleCount:o=0,allRaffles:l=[],className:c=""})=>{const{countEnhancedRaffleTypes:u}=Sp(),[f,h]=b.useState({raffleState:!0,raffleType:!0,prizeType:!0,prizeStandard:!0}),m=b.useMemo(()=>{const S=J4(l),D=u(l);return{...S,raffleType:D}},[l,u]),y=b.useMemo(()=>({raffleState:[{value:"pending",label:"Pending",count:m.raffleState.pending||0},{value:"active",label:"Active",count:m.raffleState.active||0},{value:"ended",label:"Ended",count:m.raffleState.ended||0},{value:"drawing",label:"Drawing",count:m.raffleState.drawing||0},{value:"completed",label:"Completed",count:m.raffleState.completed||0},{value:"deleted",label:"Deleted",count:m.raffleState.deleted||0},{value:"activation_failed",label:"Activation Failed",count:m.raffleState.activation_failed||0},{value:"all_prizes_claimed",label:"Prizes Claimed",count:m.raffleState.all_prizes_claimed||0},{value:"unengaged",label:"Unengaged",count:m.raffleState.unengaged||0}],raffleType:[{value:"non_prized",label:"Whitelist",count:m.raffleType.non_prized||0},{value:"prized",label:"Prized",count:m.raffleType.prized||0},{value:"nft_collab",label:"NFT Collab",count:m.raffleType.nft_collab||0},{value:"whitelist_collab",label:"Whitelist Collab",count:m.raffleType.whitelist_collab||0}],prizeType:[{value:"nft",label:"NFT",count:m.prizeType.nft||0},{value:"erc20",label:"ERC20 Token",count:m.prizeType.erc20||0},{value:"eth",label:"ETH",count:m.prizeType.eth||0},{value:"token_giveaway",label:"Token Giveaway",count:m.prizeType.token_giveaway||0}],prizeStandard:[{value:"erc721",label:"ERC721",count:m.prizeStandard.erc721||0},{value:"erc1155",label:"ERC1155",count:m.prizeStandard.erc1155||0},{value:"erc20",label:"ERC20",count:m.prizeStandard.erc20||0},{value:"eth",label:"ETH",count:m.prizeStandard.eth||0}]}),[m]),k=b.useCallback(S=>{h(D=>({...D,[S]:!D[S]}))},[]),g=b.useCallback((S,D,O)=>{const F={...r};S==="raffleType"?F[S]=O?[D]:[]:(F[S]||(F[S]=[]),O?F[S]=[...F[S],D]:F[S]=F[S].filter(L=>L!==D)),n(F)},[r,n]),j=b.useCallback(()=>{n({raffleState:[],raffleType:[],prizeType:[],prizeStandard:[]})},[n]),N=b.useMemo(()=>Object.values(r).some(S=>S.length>0),[r]),C=b.useCallback((S,D,O)=>{var Y;const F=f[D],L=D==="raffleType",q=(D==="prizeType"||D==="prizeStandard")&&!((Y=r.raffleType)!=null&&Y.includes("prized"));return i.jsxs("div",{className:"border-b border-border/30 last:border-b-0",children:[i.jsxs("button",{onClick:()=>k(D),className:"w-full flex items-center justify-between p-3 sm:p-4 text-left hover:bg-muted/50 transition-colors",disabled:q,children:[i.jsx("span",{className:`text-sm sm:text-base font-medium ${q?"text-muted-foreground":""}`,children:S}),F?i.jsx(So,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"}):i.jsx(Gi,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"})]}),F&&!q&&i.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4 space-y-1 sm:space-y-2",children:O.map(Q=>{var te;const re=((te=r[D])==null?void 0:te.includes(Q.value))||!1;return i.jsxs("label",{className:"flex items-center space-x-2 sm:space-x-3 cursor-pointer hover:bg-muted/30 p-1.5 sm:p-2 rounded-md transition-colors",children:[i.jsx("input",{type:L?"radio":"checkbox",name:L?D:void 0,checked:re,onChange:$=>g(D,Q.value,$.target.checked),className:`mobile-checkbox-radio ${L?"h-3 w-3 sm:h-4 sm:w-4 text-primary bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-full focus:ring-0 focus:outline-none checked:bg-primary checked:border-primary appearance-none relative"+(re?' after:content-[""] after:absolute after:top-1/2 after:left-1/2 after:transform after:-translate-x-1/2 after:-translate-y-1/2 after:w-1 after:h-1 sm:after:w-1.5 sm:after:h-1.5 after:bg-white after:rounded-full':""):"h-3 w-3 sm:h-4 sm:w-4 text-primary accent-primary bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded focus:ring-1 focus:ring-primary focus:ring-offset-0 checked:bg-primary checked:border-primary"}`,style:L?{minHeight:"12px",minWidth:"12px",maxHeight:"12px",maxWidth:"12px"}:{minHeight:"12px",minWidth:"12px",maxHeight:"12px",maxWidth:"12px"}}),i.jsx("span",{className:"flex-1 text-xs sm:text-sm leading-tight",children:Q.label}),Q.count>0&&i.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full",children:Q.count})]},Q.value)})}),q&&i.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4",children:i.jsx("p",{className:"text-xs text-muted-foreground italic",children:'Select "Prized" raffle type to enable this filter'})})]},D)},[f,r,g,k]);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:Z4}}),t&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-30",onClick:e}),i.jsxs("div",{className:`
        fixed left-0
        top-14 sm:top-16
        h-[calc(100vh-3.5rem)] sm:h-[calc(100vh-4rem)]
        w-72 sm:w-80 md:w-96
        bg-background border-r border-border
        transform transition-transform duration-300 ease-in-out
        z-40
        flex flex-col
        ${t?"translate-x-0":"-translate-x-full"}
        ${c}
      `,children:[i.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-border bg-muted/20",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ec,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),i.jsx("h2",{className:"font-semibold text-base sm:text-lg",children:"Filter Raffles"})]}),i.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[N&&i.jsx(He,{variant:"ghost",size:"sm",onClick:j,className:"text-xs px-2 sm:px-3 h-7 sm:h-8 hover:bg-destructive/10 hover:text-destructive",children:"Clear All"}),i.jsx(He,{variant:"ghost",size:"sm",onClick:e,className:"hover:bg-muted h-7 w-7 sm:h-8 sm:w-8 p-0",title:"Close filters",children:i.jsx(Mp,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})]})]}),i.jsx("div",{className:"p-3 sm:p-4 bg-muted/30",children:i.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["Showing ",i.jsx("span",{className:"font-medium text-foreground",children:o})," raffles"]})}),i.jsx("div",{className:"p-3 sm:p-4 border-b border-border/30",children:i.jsx(X4,{onFilterChange:n,hasActiveFilters:N})}),i.jsxs("div",{className:"flex-1 overflow-y-auto",children:[C("Raffle State","raffleState",y.raffleState),C("Raffle Type","raffleType",y.raffleType),C("Prize Type","prizeType",y.prizeType),C("Prize Standard","prizeStandard",y.prizeStandard)]})]})]})},t_=({onClick:t,hasActiveFilters:e=!1,className:r="",variant:n="outline",size:o="default"})=>i.jsxs(He,{variant:e?"default":n,size:o,onClick:t,className:`
        relative flex items-center gap-2
        ${e?"bg-primary text-primary-foreground hover:bg-primary/90":""}
        ${r}
      `,children:[i.jsx(ec,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:e?"Filters Applied":"Filter Raffles"}),e&&i.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs bg-primary-foreground/20 rounded-full",children:"Active"})]}),r_=({raffles:t=[],loading:e=!1,error:r=null,RaffleCardComponent:n,emptyMessage:o="No raffles found matching your filters.",className:l=""})=>e?i.jsx("div",{className:`space-y-6 ${l}`,children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((c,u)=>i.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-6 shadow-lg animate-pulse",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),i.jsx("div",{className:"h-3 bg-muted rounded w-1/2"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-3 bg-muted rounded"}),i.jsx("div",{className:"h-3 bg-muted rounded w-5/6"})]}),i.jsx("div",{className:"h-10 bg-muted rounded"})]})},u))})}):r?i.jsx("div",{className:`flex flex-col items-center justify-center py-12 ${l}`,children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-16 h-16 mx-auto bg-destructive/10 rounded-full flex items-center justify-center",children:i.jsx(ii,{className:"w-8 h-8 text-destructive"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Error Loading Raffles"}),i.jsx("p",{className:"text-muted-foreground max-w-md",children:r})]})}):!t||t.length===0?i.jsx("div",{className:`flex flex-col items-center justify-center py-12 ${l}`,children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-16 h-16 mx-auto bg-muted/20 rounded-full flex items-center justify-center",children:i.jsx(ii,{className:"w-8 h-8 text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"No Raffles Found"}),i.jsx("p",{className:"text-muted-foreground max-w-md",children:o})]})}):i.jsxs("div",{className:`space-y-6 ${l}`,children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("h2",{className:"text-xl font-semibold",children:[t.length," ",t.length===1?"Raffle":"Raffles"," Found"]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(c=>i.jsx(n,{raffle:c},c.id||c.address))})]}),n_=(t=[])=>{const{filterByEnhancedType:e}=Sp(),[r,n]=b.useState(Vv()),[o,l]=b.useState(!1),c=b.useMemo(()=>{if(Dm(r))return t;let S=t;r.raffleType&&r.raffleType.length>0&&(S=e(S,r.raffleType));const D={...r,raffleType:[]};return Dm(D)||(S=Q4(S,D)),S},[t,r,e]),u=b.useMemo(()=>!Dm(r),[r]),f=b.useCallback(S=>{n(S)},[]),h=b.useCallback(()=>{n(Vv())},[]),m=b.useCallback(()=>{l(S=>!S)},[]),y=b.useCallback(()=>{l(!0)},[]),k=b.useCallback(()=>{l(!1)},[]),g=b.useCallback(S=>{n(D=>({...D,raffleState:Array.isArray(S)?S:[S]}))},[]),j=b.useCallback(S=>{n(D=>({...D,raffleType:[S]}))},[]),N=b.useCallback(S=>{n(D=>({...D,prizeType:Array.isArray(S)?S:[S]}))},[]),C=b.useCallback(S=>{n(D=>({...D,prizeStandard:Array.isArray(S)?S:[S]}))},[]);return{filters:r,filteredRaffles:c,isFilterOpen:o,hasActiveFilters:u,updateFilters:f,clearFilters:h,toggleFilter:m,openFilter:y,closeFilter:k,filterByState:g,filterByType:j,filterByPrizeType:N,filterByPrizeStandard:C,totalRaffles:t.length,filteredCount:c.length}},s_=["Pending","Active","Ended","Drawing","Completed","Deleted","Activation Failed","Prizes Claimed","Unengaged"],i_=({raffle:t})=>{var F,L;const e=tn(),[r,n]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState(""),{getContractInstance:f}=$t(),{updateCollabStatus:h,setCollabLoading:m,getCollabStatus:y}=Sp(),[k,g]=b.useState(null),[j,N]=b.useState(null);b.useEffect(()=>{let H;function q(){const re=Math.floor(Date.now()/1e3);let te="",$=0;if(t.stateNum===2||t.stateNum===3||t.stateNum===4||t.stateNum===5||t.stateNum===6||t.stateNum===7||t.stateNum===8){te="Duration",$=t.duration,n(te),l(Q($));return}re<t.startTime?(te="Starts In",$=t.startTime-re):(te="Ends In",$=t.startTime+t.duration-re),n(te),l($>0?Y($):"Ended")}function Y(re){const te=Math.floor(re/86400),$=Math.floor(re%86400/3600),M=Math.floor(re%3600/60),x=re%60;let E="";return te>0&&(E+=`${te}d `),($>0||te>0)&&(E+=`${$}h `),(M>0||$>0||te>0)&&(E+=`${M}m `),E+=`${x}s`,E.trim()}function Q(re){const te=Math.floor(re/86400),$=Math.floor(re%86400/3600),M=Math.floor(re%3600/60);let x="";return te>0&&(x+=`${te}d `),($>0||te>0)&&(x+=`${$}h `),(M>0||$>0||te>0)&&(x+=`${M}m`),x||(x="0m"),x.trim()}return q(),H=setInterval(q,1e3),()=>clearInterval(H)},[t]),b.useEffect(()=>{let H=!0;return(async()=>{if(t.erc20PrizeToken&&t.erc20PrizeToken!==_e){if(window.__erc20SymbolCache||(window.__erc20SymbolCache={}),window.__erc20SymbolCache[t.erc20PrizeToken]){u(window.__erc20SymbolCache[t.erc20PrizeToken]);return}await new Promise(Y=>setTimeout(Y,100));try{const Y=window.ethereum?new Hi(window.ethereum):Pa(),Q=["function symbol() view returns (string)"],te=await new Ut(t.erc20PrizeToken,Q,Y).symbol();H&&(u(te),window.__erc20SymbolCache[t.erc20PrizeToken]=te)}catch(Y){console.warn("Failed to fetch ERC20 symbol:",Y),H&&u("TOKEN")}}})(),()=>{H=!1}},[t.erc20PrizeToken]),b.useEffect(()=>{let H=!0;async function q(){try{const Y=f&&f(t.address,"raffle");if(!Y){H&&g(null);return}const Q=await bd(Y);H&&g(Q)}catch{g(null)}}q()},[t.address,f]),b.useEffect(()=>{(async()=>{if(!t||!t.prizeCollection||t.prizeCollection===_e){N(null);return}try{let q=null,Y=null;if(typeof t.standard<"u"){const Q=t.standard===0?"erc721Prize":"erc1155Prize";q=f(t.prizeCollection,Q),q&&(Y=await q.name())}else try{q=f(t.prizeCollection,"erc721Prize"),q&&(Y=await q.name())}catch(Q){try{q=f(t.prizeCollection,"erc1155Prize"),q&&(Y=await q.name())}catch(re){console.warn("Failed to fetch collection name from both ERC721 and ERC1155:",Q,re)}}N(Y)}catch(q){console.warn("Failed to fetch collection name:",q),N(null)}})()},[t,f]),b.useEffect(()=>{let H=!0;const q=async()=>{if(y(t.address)!==void 0)return;m(t.address,!0);let Q=!1,re=0;const te=3;for(;re<te&&H;)try{const M=f(t.address,"raffle");if(!M)throw new Error("Failed to get contract instance");const x=await M.holderTokenAddress();Q=x&&x!==_e;break}catch(M){re++,console.warn(`Collab check attempt ${re} failed for ${t.address}:`,M.message),re>=te?Q=!1:await new Promise(x=>setTimeout(x,1e3*re))}if(!H)return;let $;t.isExternallyPrized?$="nft_collab":Q?$="whitelist_collab":$="not_collab",h(t.address,$)};return t.address&&f?q():h(t.address,"not_collab"),()=>{H=!1}},[t,f,y,m,h]);const C=()=>{const H=s_[t.stateNum]||"Unknown",q={Pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",Active:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",Ended:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",Drawing:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",Completed:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",Deleted:"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-300","Activation Failed":"bg-red-200 text-red-900 dark:bg-red-900/40 dark:text-red-300","Prizes Claimed":"bg-blue-200 text-blue-900 dark:bg-blue-900/40 dark:text-blue-300",Unengaged:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",Unknown:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};return i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${q[H]||q.Unknown}`,children:H})},S=()=>{const H=y(t.address);return H==="nft_collab"?"NFT Collab":H==="whitelist_collab"?"Whitelist Collab":H===void 0?"Checking...":t.ethPrizeAmount&&t.ethPrizeAmount.gt&&t.ethPrizeAmount.gt(0)?"ETH":t.erc20PrizeToken&&t.erc20PrizeToken!==_e&&t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0)?"ERC20":t.prizeCollection&&t.prizeCollection!==_e?"NFT Prize":t.isPrized?"Token Giveaway":"Whitelist"},D=()=>t.ethPrizeAmount&&t.ethPrizeAmount.gt&&t.ethPrizeAmount.gt(0)?`${Jt(t.ethPrizeAmount)} ETH`:t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0)?`${mc(t.erc20PrizeAmount,18)} ${c||"TOKEN"}`:null,O=()=>{e(`/raffle/${t.address}`)};return i.jsxs("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-6 shadow-lg hover:shadow-xl hover:border-border/80 transition-all duration-300 flex flex-col h-full group",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold truncate flex-1 mr-2",children:t.name}),C()]}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Creator:"}),i.jsxs("span",{className:"font-mono",children:[(F=t.creator)==null?void 0:F.slice(0,10),"..."]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Ticket Price:"}),i.jsxs("span",{children:[Jt(t.ticketPrice||"0")," ETH"]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Tickets Sold:"}),i.jsx("span",{children:k!==null?`${k} / ${t.ticketLimit}`:"Loading..."})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Winners:"}),i.jsx("span",{children:t.winnersCount})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{className:"text-muted-foreground",children:[r,":"]}),i.jsx("span",{children:o})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Type:"}),i.jsx("span",{className:"px-2 py-1 rounded-full text-sm",children:S()})]}),S()==="NFT Prize"&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Prize Collection:"}),i.jsx("span",{className:j?"":"font-mono",children:j||`${(L=t.prizeCollection)==null?void 0:L.slice(0,10)}...`})]}),(S()==="ERC20"||S()==="ETH")&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Prize Amount:"}),i.jsx("span",{children:D()})]})]}),i.jsx(He,{onClick:O,className:"w-full mt-auto group-hover:scale-[1.02] transition-transform duration-200 bg-gradient-to-r from-orange-500 to-red-600 text-white hover:from-orange-600 hover:to-red-700 border-0",children:"Visit Raffle Page"})]})},o_=()=>{const{connected:t}=Dt(),{isMobile:e}=rr(),{raffles:r,loading:n,error:o,refreshRaffles:l}=P3({autoFetch:!0,enablePolling:!0,pollingInterval:12e4,maxRaffles:e?15:25}),{filters:c,filteredRaffles:u,isFilterOpen:f,hasActiveFilters:h,updateFilters:m,clearFilters:y,toggleFilter:k,filteredCount:g}=n_(r);return t?n?i.jsx(ni,{children:i.jsx(O2,{message:"Loading raffles from blockchain...",isMobile:e})}):o?i.jsxs(ni,{className:"py-8",children:[i.jsxs("div",{className:"mb-8 text-center",children:[i.jsx("h1",{className:`font-bold ${e?"text-2xl mb-3":"text-4xl mb-4"}`,children:"Fairness and Transparency, On-Chain"}),i.jsx("p",{className:`text-muted-foreground max-w-2xl mx-auto ${e?"text-base":"text-xl"}`,children:"Rafflhub hosts decentralized raffles where every draw is public, auditable, and powered by Chainlink VRF. Enter for your chance to win!"})]}),i.jsx(W4,{error:{message:o},onRetry:l,isMobile:e})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none",background:`radial-gradient(circle at 20% 30%, hsl(var(--primary) / 0.08) 0%, transparent 60%),
                      radial-gradient(circle at 80% 20%, hsl(var(--accent) / 0.06) 0%, transparent 60%),
                      radial-gradient(circle at 60% 80%, hsl(var(--secondary) / 0.05) 0%, transparent 60%),
                      linear-gradient(120deg, hsl(var(--primary) / 0.03) 0%, hsl(var(--accent) / 0.03) 100%)`},"aria-hidden":"true"}),i.jsx(e_,{isOpen:f,onToggle:k,filters:c,onFiltersChange:m,raffleCount:g,allRaffles:r}),i.jsx("div",{className:"min-h-screen",style:{position:"relative",zIndex:1},children:i.jsxs(ni,{className:"py-4",children:[i.jsxs("div",{className:`text-center ${e?"mb-6":"mb-8"}`,children:[i.jsx("h1",{className:`font-bold ${e?"text-2xl mb-3":"text-4xl mb-4"}`,children:"Fairness and Transparency, On-Chain"}),i.jsx("p",{className:`text-muted-foreground max-w-2xl mx-auto ${e?"text-base":"text-xl"}`,children:"Rafflhub hosts decentralized raffles where every draw is public, auditable, and powered by Chainlink VRF. Enter for your chance to win!"})]}),i.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[i.jsx(t_,{onClick:k,hasActiveFilters:h}),h&&i.jsx(He,{variant:"ghost",size:"sm",onClick:y,className:"text-muted-foreground hover:text-foreground",children:"Clear All Filters"})]}),i.jsx(r_,{raffles:u,loading:n,error:o,RaffleCardComponent:i_,emptyMessage:h?"No raffles match your current filters. Try adjusting your filter criteria.":"There are currently no raffles available on the blockchain. Check back later or create your own!"})]})})]}):i.jsxs(ni,{className:"py-4",children:[i.jsxs("div",{className:`text-center ${e?"mb-6":"mb-4"}`,children:[i.jsx("h1",{className:`font-bold ${e?"text-2xl mb-3":"text-4xl mb-4"}`,children:"Fairness and Transparency, On-Chain"}),i.jsx("p",{className:`text-muted-foreground max-w-2xl mx-auto ${e?"text-base":"text-xl"}`,children:"Rafflhub hosts decentralized raffles where every draw is public, auditable, and powered by Chainlink VRF. Enter for your chance to win!"})]}),i.jsxs("div",{className:`text-center ${e?"py-8":"py-16"}`,children:[i.jsx(ii,{className:`text-muted-foreground mx-auto mb-4 ${e?"h-12 w-12":"h-16 w-16"}`}),i.jsx("h3",{className:`font-semibold mb-2 ${e?"text-xl":"text-2xl"}`,children:"Connect Your Wallet"}),i.jsx("p",{className:`text-muted-foreground mb-6 ${e?"text-sm":"text-base"}`,children:"Please connect your wallet to view and interact with raffles on the blockchain."})]})]})},sg=ye.forwardRef(({type:t="text",value:e,onChange:r,placeholder:n,className:o,disabled:l=!1,required:c=!1,min:u,max:f,step:h,onFocus:m,onBlur:y,...k},g)=>{const{isMobile:j}=rr(),N=b.useRef(null),C=b.useCallback(D=>{j&&(N.current=D.target,D.target.style.transform="translateZ(0)"),m&&m(D)},[j,m]),S=b.useCallback(D=>{j&&N.current&&(D.target.style.transform=""),y&&y(D)},[j,y]);return i.jsx("input",{ref:g,type:t,value:e,onChange:r,placeholder:n,disabled:l,required:c,min:u,max:f,step:h,className:$e("w-full px-3 py-2 border border-border rounded-md bg-background","text-foreground placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent","disabled:opacity-50 disabled:cursor-not-allowed","transition-colors duration-200",j&&["text-base","min-h-[44px]","touch-manipulation"],!j&&["text-sm","min-h-[40px]"],o),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onFocus:C,onBlur:S,style:{fontSize:j?"16px":void 0,...k.style},...k})});sg.displayName="ResponsiveInput";const a_=ye.forwardRef(({value:t,onChange:e,placeholder:r,className:n,rows:o=3,disabled:l=!1,required:c=!1,...u},f)=>{const{isMobile:h}=rr();return i.jsx("textarea",{ref:f,value:t,onChange:e,placeholder:r,disabled:l,required:c,rows:o,className:$e("w-full px-3 py-2 border border-border rounded-md bg-background","text-foreground placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent","disabled:opacity-50 disabled:cursor-not-allowed","transition-colors duration-200 resize-vertical",h&&["text-base","min-h-[44px]","touch-manipulation"],!h&&["text-sm"],n),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,style:{fontSize:h?"16px":void 0,...u.style},...u})});a_.displayName="ResponsiveTextarea";const Pd=ye.forwardRef(({value:t,onChange:e,placeholder:r,className:n,min:o,max:l,step:c="any",disabled:u=!1,required:f=!1,...h},m)=>{const{isMobile:y}=rr();return i.jsx(sg,{ref:m,type:"number",value:t,onChange:e,placeholder:r,min:o,max:l,step:c,disabled:u,required:f,className:$e("[appearance:textfield]","[&::-webkit-outer-spin-button]:appearance-none","[&::-webkit-inner-spin-button]:appearance-none",n),inputMode:y?"decimal":void 0,pattern:y?"[0-9]*":void 0,...h})});Pd.displayName="ResponsiveNumberInput";const Do=ye.forwardRef(({value:t,onChange:e,placeholder:r="0x...",className:n,disabled:o=!1,required:l=!1,...c},u)=>i.jsx(sg,{ref:u,type:"text",value:t,onChange:e,placeholder:r,disabled:o,required:l,className:$e("font-mono","tracking-tight",n),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,...c}));Do.displayName="ResponsiveAddressInput";const l_=()=>{const{connected:t,address:e}=Dt(),{getContractInstance:r,executeTransaction:n}=$t(),[o,l]=b.useState(!1),[c,u]=b.useState({address:"",type:"erc721",royaltyPercentage:"",royaltyRecipient:""}),[f,h]=b.useState(null),[m,y]=b.useState(!1),[k,g]=b.useState(null),[j,N]=b.useState(!1),C=(L,H)=>{u(q=>({...q,[L]:H}))},S=async L=>{try{if(!L)return;const H=await L.revealed();g(!!H)}catch{g(null)}},D=async()=>{if(!c.address||!t){ie.error("Please enter a collection address and connect your wallet");return}y(!0);try{const L=c.type==="erc721"?"erc721Prize":"erc1155Prize",H=r(c.address,L);if(!H)throw new Error("Failed to create contract instance");const q=await H.royaltyInfo(1,1e4),Y=await H.royaltyPercentage(),Q=await H.royaltyRecipient();let re=!1;try{re=(await H.owner()).toLowerCase()===e.toLowerCase()}catch(te){console.warn("Could not check ownership:",te)}h({address:c.address,type:c.type,currentRoyaltyPercentage:Y.toString(),currentRoyaltyRecipient:Q,royaltyAmount:q[1].toString(),isOwner:re}),u(te=>({...te,royaltyPercentage:(Y.toNumber()/100).toString(),royaltyRecipient:Q})),await S(H)}catch(L){console.error("Error loading collection info:",L),ie.error("Error loading collection info: "+L.message),h(null),g(null)}finally{y(!1)}},O=async()=>{if(!t||!f){ie.error("Please connect your wallet and load collection info first");return}if(!f.isOwner){ie.error("You are not the owner of this collection");return}const L=parseFloat(c.royaltyPercentage);if(isNaN(L)||L<0||L>10){ie.error("Please enter a valid royalty percentage (0-10%)");return}if(!c.royaltyRecipient){ie.error("Please enter a royalty recipient address");return}l(!0);try{const H=c.type==="erc721"?"erc721Prize":"erc1155Prize",q=r(c.address,H);if(!q)throw new Error("Failed to create contract instance");const Y=Math.floor(L*100),Q=await n(q.setRoyalty,Y,c.royaltyRecipient);if(Q.success)ie.success(`Royalty updated successfully! Transaction: ${Q.hash}`),await D();else throw new Error(Q.error)}catch(H){console.error("Error updating royalty:",H),ie.error("Error updating royalty: "+H.message)}finally{l(!1)}},F=async()=>{if(!t||!f){ie.error("Please connect your wallet and load collection info first");return}N(!0);try{const L=c.type==="erc721"?"erc721Prize":"erc1155Prize",H=r(c.address,L);if(!H)throw new Error("Failed to create contract instance");const q=await n(H.reveal);if(q.success)ie.success("Collection revealed successfully!"),await D();else throw new Error(q.error)}catch(L){ie.error("Error revealing collection: "+(L.message||L))}finally{N(!1)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Address"}),i.jsx(Do,{value:c.address,onChange:L=>C("address",L.target.value),placeholder:"0x..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Type"}),i.jsxs(La,{value:c.type,onValueChange:L=>C("type",L),children:[i.jsx(Ba,{className:"w-full px-3 py-2 border border-border rounded-md bg-background",children:i.jsx(Fa,{placeholder:"Select Collection Type"})}),i.jsxs(Ua,{children:[i.jsx(gn,{value:"erc721",children:"ERC721"}),i.jsx(gn,{value:"erc1155",children:"ERC1155"})]})]})]})]}),i.jsxs("button",{onClick:D,disabled:m||!t,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",title:t?c.address?"Load collection information":"Please enter a collection address":"Please connect your wallet",children:[i.jsx(Is,{className:"h-4 w-4"}),m?"Loading...":"Load Collection Info"]})]}),f&&i.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Collection Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Address:"}),i.jsx("div",{className:"font-mono break-all",children:f.address})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Type:"}),i.jsx("div",{className:"uppercase",children:f.type})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Current Royalty:"}),i.jsxs("div",{children:[(parseInt(f.currentRoyaltyPercentage)/100).toFixed(2),"%"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Current Recipient:"}),i.jsx("div",{className:"font-mono break-all",children:f.currentRoyaltyRecipient})]}),i.jsxs("div",{className:"col-span-2 mt-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Reveal Status:"}),i.jsx("span",{className:"ml-2 font-semibold",children:k===null?"Unknown":k?"Revealed":"Not Revealed"}),i.jsx("button",{onClick:F,disabled:j||k||!f.isOwner,className:"ml-4 px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",title:f.isOwner?k?"Collection already revealed":"Reveal collection":"Only collection owner can reveal",children:j?"Revealing...":"Reveal Collection"})]})]}),!f.isOwner&&i.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[i.jsx(fr,{className:"h-4 w-4 text-destructive"}),i.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot modify royalties."})]})]}),f&&f.isOwner&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold",children:"Update Royalty Settings"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Royalty Percentage (0-10%)"}),i.jsx(Pd,{min:"0",max:"10",step:"0.01",value:c.royaltyPercentage,onChange:L=>C("royaltyPercentage",L.target.value),placeholder:"2.5"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Royalty Recipient"}),i.jsx(Do,{value:c.royaltyRecipient,onChange:L=>C("royaltyRecipient",L.target.value),placeholder:"0x..."})]})]}),i.jsxs("button",{onClick:O,disabled:o||!t||!f||!f.isOwner,className:"w-full bg-gradient-to-r from-purple-500 to-purple-600 text-white px-6 py-3 rounded-lg hover:from-purple-600 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm",title:t?f?f.isOwner?!royaltyPercentage||!c.royaltyRecipient?"Please fill in all required fields":"Update royalty settings":"Only collection owner can update royalties":"Please load collection info first":"Please connect your wallet",children:[i.jsx(Rp,{className:"h-4 w-4"}),o?"Updating...":"Update Royalty Settings"]})]}),!t&&i.jsx("div",{className:"text-center p-4 bg-muted rounded-lg",children:i.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to manage collection royalties."})})]})},c_=()=>{const{connected:t,address:e}=Dt(),{getContractInstance:r,executeTransaction:n}=$t(),[o,l]=b.useState(!1),[c,u]=b.useState({address:"",revenueAmount:"0",isOwner:!1,raffleState:"unknown"}),[f,h]=b.useState(!1),[m,y]=b.useState([]),[k,g]=b.useState(!1),j=(F,L)=>{u(H=>({...H,[F]:L}))},N=async F=>{if(!F||!t){ie.error("Please enter a raffle address and connect your wallet");return}h(!0);try{const L=r(F,"raffle");if(!L)throw new Error("Failed to create raffle contract instance");const[H,q,Y]=await Promise.all([L.creator(),L.totalCreatorRevenue(),L.state()]),Q=H.toLowerCase()===e.toLowerCase(),te=["Pending","Active","Ended","Drawing","Completed","Deleted","ActivationFailed","AllPrizesClaimed","Unengaged"][Y]||"Unknown";u({address:F,revenueAmount:Jt(q),isCreator:Q,raffleState:te,totalRevenue:q})}catch(L){console.error("Error loading raffle info:",L),ie.error("Error loading raffle info: "+L.message),u({address:F,revenueAmount:"0",isCreator:!1,raffleState:"error"})}finally{h(!1)}},C=async()=>{if(t){g(!0);try{y([])}catch(F){console.error("Error loading created raffles:",F)}finally{g(!1)}}},S=async()=>{if(!t||!c.address){ie.error("Please connect your wallet and load raffle info first");return}if(!c.isCreator){ie.error("You are not the creator of this raffle");return}if(parseFloat(c.revenueAmount)<=0){ie.info("No revenue available for withdrawal");return}if(!["Completed","AllPrizesClaimed","Ended"].includes(c.raffleState)){ie.info(`Revenue can only be withdrawn from completed raffles. Current state: ${c.raffleState}`);return}l(!0);try{const L=r(c.address,"raffle");if(!L)throw new Error("Failed to create raffle contract instance");const H=await n(L.withdrawCreatorRevenue);if(H.success)ie.success(`Revenue withdrawn successfully! Transaction: ${H.hash}`),await N(c.address);else throw new Error(H.error)}catch(L){console.error("Error withdrawing revenue:",L),ie.error("Error withdrawing revenue: "+L.message)}finally{l(!1)}};b.useEffect(()=>{t&&C()},[t]);const D=F=>{switch(F){case"Completed":case"AllPrizesClaimed":return"text-green-600";case"Ended":return"text-red-600";case"Active":return"text-blue-600";case"Pending":return"text-yellow-600";case"Drawing":return"text-purple-600";default:return"text-muted-foreground"}},O=c.isCreator&&parseFloat(c.revenueAmount)>0&&["Completed","AllPrizesClaimed","Ended"].includes(c.raffleState);return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Raffle Contract Address"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Do,{value:c.address,onChange:F=>j("address",F.target.value),placeholder:"0x...",className:"flex-1"}),i.jsxs("button",{onClick:()=>N(c.address),disabled:f||!t,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-md hover:from-purple-600 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:t?c.address?"Load raffle information":"Please enter a raffle address":"Please connect your wallet",children:[i.jsx(Vi,{className:`h-4 w-4 ${f?"animate-spin":""}`}),f?"Loading...":"Load Info"]})]})]})}),c.address&&c.raffleState!=="unknown"&&i.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Raffle Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Address:"}),i.jsx("div",{className:"font-mono break-all",children:c.address})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"State:"}),i.jsx("div",{className:`font-semibold ${D(c.raffleState)}`,children:c.raffleState})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Creator Revenue:"}),i.jsxs("div",{className:"font-semibold",children:[c.revenueAmount," ETH"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Your Role:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[c.isCreator&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:[i.jsx(si,{className:"h-3 w-3"}),"Creator"]}),c.isOwner&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:[i.jsx(si,{className:"h-3 w-3"}),"Owner"]}),!c.isCreator&&!c.isOwner&&i.jsx("span",{className:"text-muted-foreground text-xs",children:"No special role"})]})]})]}),!c.isCreator&&i.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[i.jsx(fr,{className:"h-4 w-4 text-destructive"}),i.jsx("span",{className:"text-sm text-destructive",children:"You are not the creator of this raffle and cannot withdraw revenue."})]}),c.isCreator&&parseFloat(c.revenueAmount)<=0&&i.jsxs("div",{className:"mt-3 p-3 bg-yellow-50/80 dark:bg-yellow-900/20 backdrop-blur-sm border border-yellow-200/50 dark:border-yellow-700/50 rounded-lg flex items-center gap-2",children:[i.jsx(fr,{className:"h-4 w-4 text-yellow-600"}),i.jsx("span",{className:"text-sm text-yellow-800",children:"No revenue available for withdrawal."})]}),c.isCreator&&!["Completed","AllPrizesClaimed","Ended"].includes(c.raffleState)&&i.jsxs("div",{className:"mt-3 p-3 bg-blue-50/80 dark:bg-blue-900/20 backdrop-blur-sm border border-blue-200/50 dark:border-blue-700/50 rounded-lg flex items-center gap-2",children:[i.jsx(fr,{className:"h-4 w-4 text-blue-600"}),i.jsx("span",{className:"text-sm text-blue-800",children:"Revenue can only be withdrawn from completed raffles."})]}),O&&i.jsxs("div",{className:"mt-3 p-3 bg-green-50/80 dark:bg-green-900/20 backdrop-blur-sm border border-green-200/50 dark:border-green-700/50 rounded-lg flex items-center gap-2",children:[i.jsx(si,{className:"h-4 w-4 text-green-600"}),i.jsx("span",{className:"text-sm text-green-800",children:"Revenue is available for withdrawal!"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("button",{onClick:S,disabled:o||!t||!O,className:"w-full bg-gradient-to-r from-purple-500 to-purple-600 text-white px-6 py-3 rounded-lg hover:from-purple-600 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm",title:t?c.address?c.raffleState==="unknown"?"Raffle state unknown":c.isCreator?O?`Withdraw ${c.revenueAmount} ETH`:"Withdrawal not available - check raffle state and revenue amount":"Only raffle creator can withdraw revenue":"Please load raffle info first":"Please connect your wallet",children:[i.jsx(za,{className:"h-4 w-4"}),o?"Withdrawing...":c.address&&c.revenueAmount?`Withdraw ${c.revenueAmount} ETH`:"Withdraw Revenue"]}),!O&&c.isCreator&&c.address&&i.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Withdrawal is not available at this time. Check the raffle state and revenue amount."})]}),!t&&i.jsx("div",{className:"text-center p-4 bg-muted rounded-lg",children:i.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to withdraw creator revenue."})})]})};var u_="Label",$2=b.forwardRef((t,e)=>i.jsx(it.label,{...t,ref:e,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=t.onMouseDown)==null||o.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));$2.displayName=u_;var d_=$2;function wa({className:t,...e}){return i.jsx(d_,{"data-slot":"label",className:$e("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const f_=Vp("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-red-600 dark:text-red-500 bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-red-600/90"}},defaultVariants:{variant:"default"}});function Wu({className:t,variant:e,...r}){return i.jsx("div",{"data-slot":"alert",role:"alert",className:$e(f_({variant:e}),t),...r})}function Hu({className:t,...e}){return i.jsx("div",{"data-slot":"alert-description",className:$e("text-gray-500 dark:text-gray-400 col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}const h_=()=>{const{address:t,connected:e,provider:r}=Dt(),{getContractInstance:n}=$t(),[o,l]=b.useState(!1),[c,u]=b.useState(""),[f,h]=b.useState(""),[m,y]=b.useState(""),[k,g]=b.useState(!1),[j,N]=b.useState(!1),[C,S]=b.useState(""),[D,O]=b.useState(""),[F,L]=b.useState(""),[H,q]=b.useState(""),[Y,Q]=b.useState(""),[re,te]=b.useState(null),$=async()=>{if(O(""),L(""),h(""),N(!1),S(""),g(!1),q(""),Q(""),te(null),!Eu(c)){O("Please enter a valid Ethereum contract address.");return}if(!r){O("Provider not available.");return}try{l(!0);let P=new Ut(c,Vt.erc721Prize,r),_=!1;try{const z=await P.minterLocked();N(z);const W=await P.minter();S(W),te("erc721"),_=!0}catch{P=new Ut(c,Vt.erc1155Prize,r);try{const W=await P.minterLocked();N(W);const R=await P.minter();S(R),te("erc1155")}catch(W){O("Failed to fetch collection: "+W.message),te(null);return}}if(_){try{const z=await P.name();q(z)}catch{q("N/A")}try{const z=await P.symbol();Q(z)}catch{Q("N/A")}}else q("ERC1155 Collection"),Q("N/A");h(c)}catch(P){O("Failed to fetch collection: "+P.message)}finally{l(!1)}};ye.useEffect(()=>{f&&m&&Eu(m)&&r&&M()},[m,f]);const M=async()=>{try{l(!0),O("");const _=await new Ut(f,Vt.erc721Prize,r).minter();g(_.toLowerCase()===m.toLowerCase()),S(_)}catch(P){O("Failed to load collection details: "+P.message)}finally{l(!1)}},x=async P=>{if(!f||!m||!r){O("Please fetch a collection and enter a valid minter address");return}if(!Eu(m)){O("Please enter a valid Ethereum address");return}try{l(!0),O(""),L("");const _=r.getSigner();let z;re==="erc721"?z=new Ut(f,Vt.erc721Prize,_):re==="erc1155"&&(z=new Ut(f,Vt.erc1155Prize,_));let W;re==="erc721"?W=await z.setMinterApproval(m,P):re==="erc1155"&&(W=await z.setMinterApproval(m,P)),await W.wait(),L(`Minter ${P?"set":"removed"} successfully!`),g(P),y("")}catch(_){O("Failed to set minter approval: "+_.message)}finally{l(!1)}},E=async()=>{if(!f||!r){O("Please fetch a collection first");return}try{l(!0),O(""),L("");const P=r.getSigner();let _;re==="erc721"?_=new Ut(f,Vt.erc721Prize,P):re==="erc1155"&&(_=new Ut(f,Vt.erc1155Prize,P));const z=await _.owner(),W=await P.getAddress();if(z.toLowerCase()!==W.toLowerCase()){O("Only the contract owner can lock/unlock minter approval");return}let R;re==="erc721"?j?(console.log("Attempting to unlock minter approval..."),R=await _.unlockMinterApproval()):(console.log("Attempting to lock minter approval..."),R=await _.lockMinterApproval()):re==="erc1155"&&(j?(console.log("Attempting to unlock minter approval..."),R=await _.unlockMinterApproval()):(console.log("Attempting to lock minter approval..."),R=await _.lockMinterApproval())),console.log("Transaction sent:",R.hash),await R.wait(),L(`Minter approval ${j?"unlocked":"locked"} successfully!`),N(!j)}catch(P){console.error("Error in toggleMinterApprovalLock:",P),O(`Failed to ${j?"unlock":"lock"} minter approval: ${P.message}`)}finally{l(!1)}},T=P=>Eu(P);return e?i.jsxs(Ir,{children:[i.jsxs(Hn,{children:[i.jsxs(qn,{className:"flex items-center gap-2",children:[i.jsx(km,{className:"h-5 w-5"}),"Minter Approval Management"]}),i.jsx(ap,{children:"Manage and control minter approvals for your prize collections."})]}),i.jsxs(Dr,{className:"space-y-6",children:[!e&&i.jsxs(Wu,{variant:"destructive",children:[i.jsx(fr,{className:"h-4 w-4"}),i.jsx(Hu,{children:"Please connect your wallet to load collection info and manage minter approvals."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(wa,{htmlFor:"collection-address",children:"Collection Contract Address"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Do,{id:"collection-address",placeholder:"0x...",value:c,onChange:P=>u(P.target.value),disabled:o||!e,className:"flex-1"}),i.jsxs(He,{onClick:$,disabled:o,className:"flex items-center gap-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white hover:from-purple-600 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:e?c?"Load collection information":"Please enter a collection address":"Please connect your wallet",children:[i.jsx(Is,{className:"h-4 w-4"}),o?"Loading...":"Load Info"]})]})]}),f&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(wa,{children:"Collection Info"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{className:"font-semibold",children:H}),i.jsxs("span",{className:"text-muted-foreground",children:["(",Y,")"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(wa,{children:"Collection Status"}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(Co,{variant:j?"destructive":"default",children:j?i.jsxs(i.Fragment,{children:[i.jsx(gv,{className:"h-3 w-3 mr-1"}),"Minter Approval Locked"]}):i.jsxs(i.Fragment,{children:[i.jsx(xv,{className:"h-3 w-3 mr-1"}),"Minter Approval Unlocked"]})})}),C&&i.jsxs("div",{className:"mt-2",children:[i.jsx(wa,{className:"text-sm",children:"Current Minter"}),i.jsx("p",{className:"text-sm font-mono bg-muted p-2 rounded",children:C})]})]}),i.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(wa,{htmlFor:"minter",children:"Minter Address"}),i.jsx(Do,{id:"minter",placeholder:"0x...",value:m,onChange:P=>y(P.target.value),disabled:o}),m&&!T(m)&&i.jsx("p",{className:"text-sm text-red-600",children:"Invalid Ethereum address"})]}),m&&T(m)&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(wa,{children:"Current Status"}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(Co,{variant:k?"default":"secondary",children:k?i.jsxs(i.Fragment,{children:[i.jsx(si,{className:"h-3 w-3 mr-1"}),"Is Current Minter"]}):i.jsxs(i.Fragment,{children:[i.jsx(fr,{className:"h-3 w-3 mr-1"}),"Not Current Minter"]})})}),k&&i.jsx("p",{className:"text-sm text-green-600",children:"This address is currently the minter for this collection."})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[i.jsxs(He,{onClick:()=>x(!0),disabled:o||k||j,className:"flex-1 bg-gradient-to-r from-purple-500 to-purple-600 text-white hover:from-purple-600 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:m?T(m)?k?"Address is already the minter":j?"Minter approval is locked":"Set as minter":"Please enter a valid address":"Please enter a minter address",children:[o?i.jsx(id,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(km,{className:"h-4 w-4 mr-2"}),"Set Minter"]}),i.jsxs(He,{onClick:()=>x(!1),disabled:o||!k||j,className:"flex-1 bg-gradient-to-r from-purple-500 to-purple-600 text-white hover:from-purple-600 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:m?T(m)?k?j?"Minter approval is locked":"Remove minter":"Address is not currently the minter":"Please enter a valid address":"Please enter a minter address",children:[o?i.jsx(id,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(PT,{className:"h-4 w-4 mr-2"}),"Remove Minter"]})]}),i.jsxs(He,{onClick:E,disabled:o,variant:j?"default":"outline",className:`w-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${j?"bg-gradient-to-r from-purple-500 to-purple-600 text-white hover:from-purple-600 hover:to-purple-700":"border-purple-500 text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/20"}`,title:j?"Unlock minter approval to allow changes":"Lock minter approval to prevent changes",children:[o?i.jsx(id,{className:"h-4 w-4 mr-2 animate-spin"}):j?i.jsx(xv,{className:"h-4 w-4 mr-2"}):i.jsx(gv,{className:"h-4 w-4 mr-2"}),j?"Unlock Minter Approval":"Lock Minter Approval"]})]})]}),D&&i.jsxs(Wu,{variant:"destructive",children:[i.jsx(fr,{className:"h-4 w-4"}),i.jsx(Hu,{children:D})]}),F&&i.jsxs(Wu,{children:[i.jsx(si,{className:"h-4 w-4"}),i.jsx(Hu,{children:F})]})]})]}):i.jsxs(Ir,{children:[i.jsxs(Hn,{children:[i.jsxs(qn,{className:"flex items-center gap-2",children:[i.jsx(km,{className:"h-5 w-5"}),"Minter Approval Management"]}),i.jsx(ap,{children:"Please connect your wallet to manage minter approvals."})]}),i.jsx(Dr,{children:i.jsxs(Wu,{children:[i.jsx(fr,{className:"h-4 w-4"}),i.jsx(Hu,{children:"Please connect your wallet to manage minter approvals."})]})})]})};var df="Tabs",[m_,w6]=di(df,[af]),W2=af(),[p_,ig]=m_(df),H2=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:o,defaultValue:l,orientation:c="horizontal",dir:u,activationMode:f="automatic",...h}=t,m=Gd(u),[y,k]=Ro({prop:n,onChange:o,defaultProp:l??"",caller:df});return i.jsx(p_,{scope:r,baseId:Rs(),value:y,onValueChange:k,orientation:c,dir:m,activationMode:f,children:i.jsx(it.div,{dir:m,"data-orientation":c,...h,ref:e})})});H2.displayName=df;var q2="TabsList",G2=b.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...o}=t,l=ig(q2,r),c=W2(r);return i.jsx(r2,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:n,children:i.jsx(it.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:e})})});G2.displayName=q2;var V2="TabsTrigger",K2=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:o=!1,...l}=t,c=ig(V2,r),u=W2(r),f=J2(c.baseId,n),h=X2(c.baseId,n),m=n===c.value;return i.jsx(n2,{asChild:!0,...u,focusable:!o,active:m,children:i.jsx(it.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...l,ref:e,onMouseDown:De(t.onMouseDown,y=>{!o&&y.button===0&&y.ctrlKey===!1?c.onValueChange(n):y.preventDefault()}),onKeyDown:De(t.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&c.onValueChange(n)}),onFocus:De(t.onFocus,()=>{const y=c.activationMode!=="manual";!m&&!o&&y&&c.onValueChange(n)})})})});K2.displayName=V2;var Y2="TabsContent",Q2=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:o,children:l,...c}=t,u=ig(Y2,r),f=J2(u.baseId,n),h=X2(u.baseId,n),m=n===u.value,y=b.useRef(m);return b.useEffect(()=>{const k=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(k)},[]),i.jsx(fi,{present:o||m,children:({present:k})=>i.jsx(it.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!k,id:h,tabIndex:0,...c,ref:e,style:{...t.style,animationDuration:y.current?"0s":void 0},children:k&&l})})});Q2.displayName=Y2;function J2(t,e){return`${t}-trigger-${e}`}function X2(t,e){return`${t}-content-${e}`}var g_=H2,x_=G2,y_=K2,v_=Q2;function b_({className:t,...e}){return i.jsx(g_,{"data-slot":"tabs",className:$e("flex flex-col gap-2",t),...e})}function w_({className:t,...e}){return i.jsx(x_,{"data-slot":"tabs-list",className:$e("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...e})}function qu({className:t,...e}){return i.jsx(y_,{"data-slot":"tabs-trigger",className:$e("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Gu({className:t,...e}){return i.jsx(v_,{"data-slot":"tabs-content",className:$e("flex-1 outline-none",t),...e})}const k_=({title:t,description:e,icon:r,component:n,defaultExpanded:o=!1,className:l="",isExpanded:c,onToggle:u,...f})=>{const[h,m]=b.useState(o),y=c!==void 0?c:h,{isMobile:k,isTablet:g}=rr(),j=()=>{u?u():m(!h)};return i.jsxs(Ir,{"data-dashboard-card":"true",className:$e("relative transition-all duration-300 ease-in-out",k&&"w-full",g&&"w-full",y&&["ring-2 ring-primary/20","shadow-lg",k&&"mb-4"],l),children:[i.jsxs(Hn,{className:$e("pb-3",k&&"pb-2"),children:[i.jsxs(qn,{className:$e("flex items-center gap-2",k?"text-base":"text-lg"),children:[i.jsx("span",{className:$e("flex-shrink-0",k?"text-lg":"text-xl"),children:r}),i.jsx("span",{className:"flex-1",children:t}),i.jsx(He,{variant:"ghost",size:"sm",onClick:j,className:$e("ml-auto p-1 h-auto",k&&"p-2"),"aria-label":y?`Collapse ${t}`:`Expand ${t}`,children:y?i.jsx(So,{className:$e(k?"h-5 w-5":"h-4 w-4")}):i.jsx(Gi,{className:$e(k?"h-5 w-5":"h-4 w-4")})})]}),i.jsx(ap,{className:$e("text-muted-foreground","text-sm"),children:e})]}),i.jsxs(Dr,{className:$e("pt-0",k&&"px-4 pb-4"),children:[i.jsx(He,{onClick:j,className:$e("w-full bg-gradient-to-r from-purple-500 to-purple-600 text-white","hover:from-purple-600 hover:to-purple-700 transition-all duration-200","shadow-sm hover:shadow-md",k?"h-12 text-base":"h-10 text-sm",y&&"mb-4"),children:y?i.jsxs(i.Fragment,{children:[i.jsx(So,{className:$e("mr-2",k?"h-5 w-5":"h-4 w-4")}),"Close ",t]}):i.jsxs(i.Fragment,{children:[r," ",i.jsxs("span",{className:"ml-2",children:["Open ",t]})]})}),y&&i.jsx("div",{className:$e("transition-all duration-300 ease-in-out",k?"mobile-component-container":"desktop-component-container"),children:i.jsx("div",{className:$e("border border-border rounded-lg p-4 bg-muted/30",k&&"p-3"),children:n&&i.jsx(n,{})})})]})]})},N_=()=>{const{connected:t,address:e}=Dt(),{getContractInstance:r,executeTransaction:n}=$t(),{isMobile:o}=rr(),[l,c]=b.useState(!1),[u,f]=b.useState({address:"",tokenId:"",maxSupply:""}),[h,m]=b.useState(null),[y,k]=b.useState(!1),g=(C,S)=>{f(D=>({...D,[C]:S}))},j=async()=>{if(!u.address||!t){ie.error("Please enter a collection address and connect your wallet");return}k(!0);try{const C=r(u.address,"erc1155Prize");if(!C)throw new Error("Failed to create contract instance");const S=await C.owner(),D=S.toLowerCase()===e.toLowerCase();let O="ERC1155 Collection";try{O=await C.name()}catch{O=`ERC1155 Collection (${u.address.slice(0,6)}...${u.address.slice(-4)})`}m({address:u.address,name:O,isOwner:D,owner:S}),D?ie.success("Collection loaded successfully"):ie.error("You are not the owner of this collection")}catch(C){console.error("Error loading collection info:",C),ie.error("Failed to load collection info. Please verify the address is a valid ERC1155 collection."),m(null)}finally{k(!1)}},N=async()=>{if(!t||!e){ie.error("Please connect your wallet");return}if(!h||!h.isOwner){ie.error("Please load collection info first and ensure you are the owner");return}if(!u.tokenId||!u.maxSupply){ie.error("Please fill in all required fields");return}const C=parseInt(u.tokenId),S=parseInt(u.maxSupply);if(isNaN(C)||C<0){ie.error("Please enter a valid token ID (non-negative integer)");return}if(isNaN(S)||S<=0){ie.error("Please enter a valid max supply (positive integer)");return}c(!0);try{const D=r(u.address,"erc1155Prize"),O=await n(D,"createNewToken",[C,S],{description:`Creating new token ID ${C} with max supply ${S}`,successMessage:`Token ID ${C} created successfully!`});if(O.success)ie.success(`Token ID ${C} created successfully with max supply of ${S}!`),f(F=>({...F,tokenId:"",maxSupply:""}));else throw new Error(O.error)}catch(D){console.error("Error creating new token:",D),ie.error(`Failed to create new token: ${D.message}`)}finally{c(!1)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Collection Address"}),i.jsx(Do,{value:u.address,onChange:C=>g("address",C.target.value),placeholder:"0x..."})]}),i.jsxs("button",{onClick:j,disabled:y||!t,className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm ${o?"text-sm":""}`,title:t?u.address?"Load collection information":"Please enter a collection address":"Please connect your wallet",children:[i.jsx(Is,{className:"h-4 w-4"}),y?"Loading...":"Load Collection Info"]})]}),h&&i.jsxs("div",{className:`p-4 bg-muted/50 rounded-lg border ${o?"text-sm":""}`,children:[i.jsx("h4",{className:"font-medium mb-2",children:"Collection Information"}),i.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Name:"})," ",h.name]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Address:"})," ",h.address]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Owner:"})," ",h.owner]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"You are owner:"})," ",h.isOwner?" Yes":" No"]})]}),!h.isOwner&&i.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[i.jsx(fr,{className:"h-4 w-4 text-destructive"}),i.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot create new tokens."})]})]}),h&&h.isOwner&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:`font-medium ${o?"text-base":""}`,children:"Create New Token"}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Token ID"}),i.jsx(Pd,{min:"0",value:u.tokenId,onChange:C=>g("tokenId",C.target.value),placeholder:"0"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Unique identifier for the new token"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Max Supply"}),i.jsx(Pd,{min:"1",value:u.maxSupply,onChange:C=>g("maxSupply",C.target.value),placeholder:"100"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Maximum number of tokens that can be minted"})]})]}),i.jsxs("button",{onClick:N,disabled:l||!t||!h.isOwner,className:`w-full bg-gradient-to-r from-purple-500 to-purple-600 text-white px-6 py-3 rounded-lg hover:from-purple-600 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm ${o?"text-sm":""}`,title:t?h.isOwner?!u.tokenId||!u.maxSupply?"Please fill in all required fields":"Create new token ID":"Only collection owner can create new tokens":"Please connect your wallet",children:[i.jsx(Pn,{className:"h-4 w-4"}),l?"Creating...":"Create New Token ID"]})]})]})},C_=({className:t="",showStats:e=!0,...r})=>{const{isMobile:n,isTablet:o,isDesktop:l}=rr(),[c,u]=b.useState(null),f=b.useRef(c);f.current=c;const h=[{id:"royalty",title:"Royalty & Reveal",description:"Reveal your collection and manage royalties",icon:"",component:l_,priority:1},{id:"minter",title:"Minter Approval",description:"Manage minter approvals for collections",icon:"",component:h_,priority:2},{id:"tokenCreator",title:"Create Token ID",description:"Add new token IDs to existing ERC1155 collections",icon:"",component:N_,priority:3},{id:"revenue",title:"Revenue Withdrawal",description:"Withdraw revenue from your raffles",icon:"",component:c_,priority:4}],m=g=>{u(c===g?null:g)},k=n?1:2;return i.jsxs("div",{className:$e("w-full space-y-6",t),...r,children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:$e("font-semibold text-foreground",n?"text-lg":"text-xl"),children:"Creator Dashboard"}),i.jsx("p",{className:$e("text-muted-foreground",n?"text-sm":"text-base"),children:"Manage your collections, royalties, and revenue"})]}),i.jsx("div",{className:$e("grid gap-4 w-full",k===1&&"grid-cols-1",k===2&&"grid-cols-1 md:grid-cols-2",n&&"gap-3"),children:h.map(g=>i.jsx(k_,{title:g.title,description:g.description,icon:g.icon,component:g.component,isExpanded:c===g.id,onToggle:()=>m(g.id),className:$e(n&&["w-full",c===g.id&&"mb-2"],!n&&"h-fit")},g.id))}),n&&i.jsx("div",{className:"mt-6 p-3 bg-muted/50 rounded-lg border border-border/50",children:i.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Tap any card above to expand and access its functionality. Only one card can be open at a time on mobile."})}),!n&&i.jsx("div",{className:"mt-6 p-4 bg-muted/30 rounded-lg border border-border/30",children:i.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Click any card to expand and access its management tools. Multiple cards can be open simultaneously."})})]})},E_=({activities:t,createdRaffles:e,purchasedTickets:r,creatorStats:n,onDeleteRaffle:o,onViewRevenue:l,onClaimPrize:c,onClaimRefund:u})=>{const f=tn(),[h,m]=b.useState("activity"),{isMobile:y}=rr();b.useEffect(()=>(D2(),()=>z2()),[]);const[k,g]=b.useState({royalty:!1,minter:!1,tokenCreator:!1,revenue:!1});b.useEffect(()=>{if(y&&Object.values(k).some(Boolean))return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[k,y]),b.useEffect(()=>()=>{y&&(document.body.style.overflow="unset")},[y]);const j=()=>i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Recent Activity"}),i.jsxs(Co,{variant:"outline",children:[t.length," activities"]})]}),t.length===0?i.jsx(Ir,{children:i.jsxs(Dr,{className:"text-center py-8",children:[i.jsx(sd,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"No activity yet"})]})}):i.jsx("div",{className:"space-y-3",children:t.slice(0,10).map((D,O)=>i.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 hover:shadow-lg transition-all duration-300",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"mt-1",children:D.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-foreground",children:D.title}),i.jsx("p",{className:"text-sm text-muted-foreground",children:D.description}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:D.timestamp})]})]})},O))})]}),N=()=>i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Created Raffles"}),i.jsxs(Co,{variant:"outline",children:[e.length," raffles"]})]}),e.length===0?i.jsx(Ir,{children:i.jsxs(Dr,{className:"text-center py-8",children:[i.jsx(Pn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"You haven't created any raffles yet"}),i.jsx(He,{onClick:()=>f("/create-raffle"),className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white hover:from-purple-600 hover:to-purple-700 transition-colors",children:"Create Your First Raffle"})]})}):i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(D=>i.jsxs(Ir,{className:"hover:shadow-md transition-shadow",children:[i.jsx(Hn,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(qn,{className:"text-base truncate",children:D.name}),i.jsx(Co,{variant:D.state==="active"?"default":"secondary",className:"text-xs",children:D.state})]})}),i.jsxs(Dr,{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Tickets Sold"}),i.jsx("p",{className:"font-medium",children:D.ticketsSold})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Revenue"}),i.jsxs("p",{className:"font-medium",children:[D.ticketsSold*parseFloat(D.ticketPrice)/1e18," ETH"]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(He,{size:"sm",onClick:()=>f(`/raffle/${D.address}`),className:"flex-1 bg-gradient-to-r from-purple-500 to-purple-600 text-white hover:from-purple-600 hover:to-purple-700 transition-colors",children:[i.jsx(mv,{className:"h-4 w-4 mr-1"}),"View"]}),i.jsxs(He,{size:"sm",onClick:()=>l(D),className:"flex-1 bg-gradient-to-r from-purple-500 to-purple-600 text-white hover:from-purple-600 hover:to-purple-700 transition-colors",children:[i.jsx(za,{className:"h-4 w-4 mr-1"}),"Revenue"]})]})]})]},D.address))})]}),C=()=>i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Purchased Tickets"}),i.jsxs(Co,{variant:"outline",children:[r.length," tickets"]})]}),r.length===0?i.jsx(Ir,{children:i.jsxs(Dr,{className:"text-center py-8",children:[i.jsx(Ps,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"You haven't purchased any tickets yet"}),i.jsx(He,{onClick:()=>f("/"),className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white hover:from-purple-600 hover:to-purple-700 transition-colors",children:"Browse Raffles"})]})}):i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(D=>i.jsxs(Ir,{className:"hover:shadow-md transition-shadow",children:[i.jsx(Hn,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(qn,{className:"text-base truncate",children:D.raffleName}),i.jsx(Co,{variant:D.canClaimPrize?"default":"secondary",className:"text-xs",children:D.canClaimPrize?"Prize Available":D.state})]})}),i.jsxs(Dr,{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Ticket Price"}),i.jsxs("p",{className:"font-medium",children:[parseFloat(D.ticketPrice)/1e18," ETH"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Purchase Date"}),i.jsx("p",{className:"font-medium",children:new Date(D.purchaseTime*1e3).toLocaleDateString()})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(He,{variant:"outline",size:"sm",onClick:()=>f(`/raffle/${D.raffleAddress}`),className:"flex-1",children:[i.jsx(mv,{className:"h-4 w-4 mr-1"}),"View"]}),D.canClaimPrize&&i.jsxs(He,{size:"sm",onClick:()=>c(D),className:"flex-1",children:[i.jsx(xT,{className:"h-4 w-4 mr-1"}),"Claim Prize"]})]})]})]},D.id))})]}),S=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:`grid gap-4 ${y?"grid-cols-1":"md:grid-cols-2 lg:grid-cols-4"}`,children:[i.jsxs(Ir,{className:y?"w-full overflow-hidden":"",children:[i.jsxs(Hn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(qn,{className:"text-sm font-medium",children:"Total Raffles"}),i.jsx(Pn,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Dr,{children:[i.jsx("div",{className:"text-2xl font-bold",children:n.totalRaffles}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.activeRaffles," currently active"]})]})]}),i.jsxs(Ir,{className:y?"w-full overflow-hidden":"",children:[i.jsxs(Hn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(qn,{className:"text-sm font-medium",children:"Total Revenue"}),i.jsx(za,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Dr,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[n.totalRevenue," ETH"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",n.monthlyRevenue," this month"]})]})]}),i.jsxs(Ir,{className:y?"w-full overflow-hidden":"",children:[i.jsxs(Hn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(qn,{className:"text-sm font-medium",children:"Total Participants"}),i.jsx(Hd,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Dr,{children:[i.jsx("div",{className:"text-2xl font-bold",children:n.totalParticipants}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.uniqueParticipants," unique users"]})]})]}),i.jsxs(Ir,{className:y?"w-full overflow-hidden":"",children:[i.jsxs(Hn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(qn,{className:"text-sm font-medium",children:"Success Rate"}),i.jsx($d,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Dr,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[n.successRate,"%"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed raffles"})]})]})]}),i.jsx(C_,{})]});return i.jsx(i.Fragment,{children:i.jsxs(b_,{value:h,onValueChange:m,className:"w-full","data-profile-tab":"true",children:[y?i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[i.jsxs("button",{onClick:()=>m("activity"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${h==="activity"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:[i.jsx(sd,{className:"h-5 w-5"}),i.jsx("span",{className:"text-sm font-medium",children:"Activity"})]}),i.jsxs("button",{onClick:()=>m("created"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${h==="created"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:[i.jsx(Pn,{className:"h-5 w-5"}),i.jsx("span",{className:"text-sm font-medium",children:"Created"})]}),i.jsxs("button",{onClick:()=>m("purchased"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${h==="purchased"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:[i.jsx(Ps,{className:"h-5 w-5"}),i.jsx("span",{className:"text-sm font-medium",children:"Tickets"})]}),i.jsxs("button",{onClick:()=>m("dashboard"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${h==="dashboard"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:[i.jsx(hv,{className:"h-5 w-5"}),i.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})]})]}):i.jsxs(w_,{className:"grid w-full grid-cols-4",children:[i.jsxs(qu,{value:"activity",className:"flex items-center gap-2",children:[i.jsx(sd,{className:"h-4 w-4"}),"Activity"]}),i.jsxs(qu,{value:"created",className:"flex items-center gap-2",children:[i.jsx(Pn,{className:"h-4 w-4"}),"Created"]}),i.jsxs(qu,{value:"purchased",className:"flex items-center gap-2",children:[i.jsx(Ps,{className:"h-4 w-4"}),"Purchased"]}),i.jsxs(qu,{value:"dashboard",className:"flex items-center gap-2",children:[i.jsx(hv,{className:"h-4 w-4"}),"Dashboard"]})]}),i.jsx(Gu,{value:"activity",className:y?"mt-4":"mt-6",children:i.jsx(j,{})}),i.jsx(Gu,{value:"created",className:y?"mt-4":"mt-6",children:i.jsx(N,{})}),i.jsx(Gu,{value:"purchased",className:y?"mt-4":"mt-6",children:i.jsx(C,{})}),i.jsx(Gu,{value:"dashboard",className:y?"mt-4":"mt-6",children:i.jsx(S,{})})]})})},Z2=()=>{const{connected:t,address:e,provider:r,chainId:n}=Dt(),{contracts:o,getContractInstance:l,executeTransaction:c,executeCall:u}=$t(),f=b.useMemo(()=>t,[t]),h=b.useMemo(()=>e,[e]),m=b.useMemo(()=>o,[o]),[y,k]=b.useState(!0),[g,j]=b.useState([]),[N,C]=b.useState([]),[S,D]=b.useState([]),[O,F]=b.useState({totalTicketsPurchased:0,totalRafflesCreated:0,totalPrizesWon:0,totalRevenueWithdrawn:"0",totalRefundsClaimed:0}),[L,H]=b.useState(!1),[q,Y]=b.useState(null),Q=b.useCallback(T=>{var P;if(T!=null&&T.reason)return T.reason;if((P=T==null?void 0:T.data)!=null&&P.message)return T.data.message;if(T!=null&&T.message){const _=T.message.match(/revert (.+)/);return _?_[1]:T.message}return"Transaction failed"},[]),re=b.useCallback(T=>{switch(T){case 0:return"pending";case 1:return"active";case 2:return"drawing";case 3:return"completed";case 4:return"allPrizesClaimed";case 5:return"ended";default:return"unknown"}},[]),te=b.useCallback(async()=>{if(!f||!h||!r){console.log("Mobile: Missing requirements:",{stableConnected:f,stableAddress:!!h,provider:!!r});return}try{const T=[];let P=0,_=0,z=0;console.log("Mobile: Available contracts:",{raffleDeployer:!!m.raffleDeployer,raffleManager:!!m.raffleManager,revenueManager:!!m.revenueManager});const W=await r.getBlockNumber(),R=Math.max(0,W-5e4);if(console.log("Mobile: Fetching activity from block",R,"to",W),m.raffleDeployer)try{const w=m.raffleDeployer.filters.RaffleCreated(null,h),U=await m.raffleDeployer.queryFilter(w,R);console.log("Mobile: Found",U.length,"RaffleCreated events for address:",h);for(const se of U){const I=await r.getBlock(se.blockNumber);try{const V=l(se.args.raffle,"raffle");let K=`Raffle ${se.args.raffle.slice(0,8)}...`;if(V){const Z=await u(V.name,"name");Z.success&&Z.result&&(K=Z.result)}T.push({id:`created-${se.args.raffle}`,type:"raffle_created",raffleAddress:se.args.raffle,raffleName:K,timestamp:I.timestamp*1e3,blockNumber:se.blockNumber})}catch(V){console.error("Mobile: Error processing RaffleCreated event:",V)}}}catch(w){console.error("Mobile: Error fetching RaffleCreated events:",w)}if(m.raffleManager)try{const w=m.raffleManager.filters.RaffleRegistered(),U=await m.raffleManager.queryFilter(w,R);console.log("Mobile: Found",U.length,"registered raffles");for(const se of U){const I=se.args.raffle,V=l(I,"raffle");if(V)try{const K=V.filters.TicketsPurchased(h),Z=await V.queryFilter(K,R);for(const ve of Z){const Je=await r.getBlock(ve.blockNumber);try{const Ne=await u(V.name,"name"),Fe=await u(V.ticketPrice,"ticketPrice"),bt=Ne.success?Ne.result:`Raffle ${I.slice(0,8)}...`,Ze=Fe.success?Fe.result:ce.from(0),Ge=ve.args.quantity.toNumber(),Oe=Ze.mul?Ze.mul(ve.args.quantity):ce.from(0);T.push({id:`ticket-${ve.transactionHash}`,type:"ticket_purchase",raffleAddress:I,raffleName:bt,quantity:Ge,amount:Jt(Oe),timestamp:Je.timestamp*1e3,blockNumber:ve.blockNumber,transactionHash:ve.transactionHash}),P+=Ge}catch(Ne){console.error("Mobile: Error processing ticket event:",Ne)}}const oe=V.filters.PrizeClaimed(h),fe=await V.queryFilter(oe,R);for(const ve of fe){const Je=await r.getBlock(ve.blockNumber);try{const Ne=await u(V.name,"name"),Fe=Ne.success&&Ne.result?Ne.result:`Raffle ${I.slice(0,8)}...`;T.push({id:`prize-${ve.transactionHash}`,type:"prize_claimed",raffleAddress:I,raffleName:Fe,tokenId:ve.args.tokenId?ve.args.tokenId.toString():"N/A",timestamp:Je.timestamp*1e3,blockNumber:ve.blockNumber,transactionHash:ve.transactionHash}),_++}catch(Ne){console.error("Mobile: Error processing prize event:",Ne)}}const ue=V.filters.DeletionRefund(h),de=await V.queryFilter(ue,R);for(const ve of de){const Je=await r.getBlock(ve.blockNumber);try{const Ne=await u(V.name,"name"),Fe=Ne.success&&Ne.result?Ne.result:`Raffle ${I.slice(0,8)}...`;T.push({id:`refund-${ve.transactionHash}`,type:"refund_claimed",raffleAddress:I,raffleName:Fe,amount:Jt(ve.args.amount),timestamp:Je.timestamp*1e3,blockNumber:ve.blockNumber,transactionHash:ve.transactionHash}),z++}catch(Ne){console.error("Mobile: Error processing refund event:",Ne)}}const Pe=V.filters.FullRefundForDeletion(h),ge=await V.queryFilter(Pe,R);for(const ve of ge){const Je=await r.getBlock(ve.blockNumber);try{const Ne=await u(V.name,"name"),Fe=Ne.success&&Ne.result?Ne.result:`Raffle ${I.slice(0,8)}...`;T.push({id:`full-refund-${ve.transactionHash}`,type:"refund_claimed",raffleAddress:I,raffleName:Fe,amount:Jt(ve.args.amount),timestamp:Je.timestamp*1e3,blockNumber:ve.blockNumber,transactionHash:ve.transactionHash}),z++}catch(Ne){console.error("Mobile: Error processing full refund event:",Ne)}}}catch(K){console.error("Mobile: Error processing raffle events:",K)}}}catch(w){console.error("Mobile: Error fetching registered raffles:",w)}if(m.revenueManager)try{const w=m.revenueManager.filters.AdminWithdrawn(h),U=await m.revenueManager.queryFilter(w,R);for(const se of U){const I=await r.getBlock(se.blockNumber);try{T.push({id:`admin-${se.transactionHash}`,type:"admin_withdrawn",amount:Jt(se.args.amount),timestamp:I.timestamp*1e3,blockNumber:se.blockNumber,transactionHash:se.transactionHash})}catch(V){console.error("Mobile: Error processing admin withdrawal event:",V)}}}catch(w){console.error("Mobile: Error fetching admin withdrawal events:",w)}T.sort((w,U)=>U.timestamp-w.timestamp),console.log("Mobile: Total activities found:",T.length),console.log("Mobile: Activity breakdown:",{totalTicketsPurchased:P,totalPrizesWon:_,totalRefundsClaimed:z,activitiesCount:T.length}),j(T),F(w=>({...w,totalTicketsPurchased:P,totalPrizesWon:_,totalRefundsClaimed:z}))}catch(T){console.error("Error fetching on-chain activity:",T),ie.error("Failed to load activity data")}},[f,h,r,m.raffleDeployer,m.raffleManager,m.revenueManager,u,l,re]),$=b.useCallback(async()=>{if(!f||!h||!r){console.log("Mobile: Missing requirements for fetchCreatedRaffles:",{stableConnected:f,stableAddress:!!h,provider:!!r});return}try{const T=[];if(m.raffleDeployer){const P=await r.getBlockNumber(),_=Math.max(0,P-5e4);console.log("Mobile: Fetching created raffles from RaffleDeployer");const z=m.raffleDeployer.filters.RaffleCreated(null,h),W=await m.raffleDeployer.queryFilter(z,_);console.log("Mobile: Found",W.length,"created raffles for address:",h);for(const R of W)try{const w=R.args.raffle,U=l(w,"raffle");if(!U)continue;const[se,I,V,K,Z,oe]=await Promise.all([u(U.name,"name"),u(U.ticketPrice,"ticketPrice"),u(U.ticketLimit,"ticketLimit"),u(U.startTime,"startTime"),u(U.duration,"duration"),u(U.state,"state")]),fe=se.success?se.result:`Raffle ${w.slice(0,8)}...`,ue=I.success?I.result:ce.from(0),de=V.success?V.result:ce.from(0),Pe=K.success?K.result:ce.from(0),ge=Z.success?Z.result:ce.from(0),ve=oe.success?oe.result:0,Je=await bd(U),Ne=ce.from(Je),Fe=new Date(Pe.add(ge).toNumber()*1e3),bt=ue.mul&&Je>0?ue.mul(Ne):ce.from(0);T.push({address:w,name:fe,ticketPrice:Jt(ue),maxTickets:de.toString(),ticketsSold:Ne.toString(),endTime:Fe,state:re(ve),revenue:Jt(bt)})}catch(w){console.error(`Mobile: Error processing created raffle ${raffleAddress}:`,w)}}else console.log("Mobile: raffleDeployer contract not available");C(T)}catch(T){console.error("Error fetching created raffles:",T),ie.error("Failed to load created raffles")}},[f,h,r,m.raffleDeployer,u,l,re]),M=b.useCallback(async()=>{if(!f||!h||!r){console.log("Mobile: Missing requirements for fetchPurchasedTickets:",{stableConnected:f,stableAddress:!!h,provider:!!r});return}try{const T=[];if(m.raffleManager){const P=await r.getBlockNumber(),_=Math.max(0,P-5e4);console.log("Mobile: Fetching purchased tickets from registered raffles");const z=m.raffleManager.filters.RaffleRegistered(),W=await m.raffleManager.queryFilter(z,_);console.log("Mobile: Checking",W.length,"registered raffles for user tickets");for(const R of W)try{const w=R.args.raffle,U=l(w,"raffle");if(!U)continue;const se=await u(U.ticketsPurchased,h),I=se.success?se.result:ce.from(0);if(I.gt(0)){const[V,K,Z,oe,fe]=await Promise.all([u(U.name,"name"),u(U.ticketPrice,"ticketPrice"),u(U.state,"state"),u(U.startTime,"startTime"),u(U.duration,"duration")]),ue=V.success?V.result:`Raffle ${w.slice(0,8)}...`,de=K.success?K.result:ce.from(0),Pe=Z.success?Z.result:0,ge=oe.success?oe.result:ce.from(0),ve=fe.success?fe.result:ce.from(0),Je=new Date(ge.add(ve).toNumber()*1e3),Ne=de.mul?de.mul(I):ce.from(0);T.push({address:w,name:ue,ticketCount:I.toNumber(),ticketPrice:Jt(de),totalSpent:Jt(Ne),state:re(Pe),endTime:Je,tickets:Array.from({length:I.toNumber()},(Fe,bt)=>bt.toString())})}}catch(w){console.error(`Mobile: Error processing purchased tickets for raffle ${raffleAddress}:`,w)}}else console.log("Mobile: raffleManager contract not available");D(T)}catch(T){console.error("Error fetching purchased tickets:",T),ie.error("Failed to load purchased tickets")}},[f,h,r,m.raffleManager,u,l,re]);b.useEffect(()=>{f&&h?(async()=>{k(!0);try{await Promise.all([te(),$(),M()])}catch(P){console.error("Error loading profile data:",P)}finally{k(!1)}})():(j([]),C([]),D([]),k(!1),H(!1),Y(null),F({totalTicketsPurchased:0,totalRafflesCreated:0,totalPrizesWon:0,totalRevenueWithdrawn:"0",totalRefundsClaimed:0}))},[f,h,te,$,M]);const x=b.useCallback(async T=>{if(!T||!f){ie.error("Please connect your wallet");return}try{const P=l(T,"raffle");if(!P){ie.error("Invalid raffle contract");return}await c(P,"withdrawRevenue",[]),ie.success("Revenue withdrawn successfully!"),$(),H(!1),Y(null)}catch(P){console.error("Error withdrawing revenue:",P),ie.error(Q(P))}},[f,l,c,$,Q]),E=b.useCallback(async T=>{if(!T||!f){ie.error("Please connect your wallet");return}try{const P=l(T,"raffle");if(!P){ie.error("Invalid raffle contract");return}await c(P,"claimRefund",[]),ie.success("Refund claimed successfully!"),M(),te()}catch(P){console.error("Error claiming refund:",P),ie.error(Q(P))}},[f,l,c,M,te,Q]);return{userActivity:g,createdRaffles:N,purchasedTickets:S,activityStats:O,loading:y,showRevenueModal:L,setShowRevenueModal:H,selectedRaffle:q,setSelectedRaffle:Y,fetchOnChainActivity:te,fetchCreatedRaffles:$,fetchPurchasedTickets:M,withdrawRevenue:x,claimRefund:E,extractRevertReason:Q,mapRaffleState:re,creatorStats:{totalRaffles:N.length,activeRaffles:N.filter(T=>T.state==="active").length,totalRevenue:N.reduce((T,P)=>T+(parseFloat(P.revenue)||0),0).toFixed(4),monthlyRevenue:"0.0000",totalParticipants:N.reduce((T,P)=>T+parseInt(P.ticketsSold||0),0),uniqueParticipants:N.reduce((T,P)=>T+parseInt(P.ticketsSold||0),0),successRate:N.length>0?Math.round(N.filter(T=>T.state==="completed"||T.state==="allPrizesClaimed").length/N.length*100):0}}},A_=({address:t,activityStats:e,creatorStats:r})=>{const n=o=>o?`${o.slice(0,6)}...${o.slice(-4)}`:"";return i.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 border-b border-border",children:[i.jsxs("div",{className:"p-4 pb-2",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center",children:i.jsx(Wd,{className:"h-6 w-6 text-primary"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h1",{className:"text-lg font-bold text-foreground",children:"Profile"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Track activities and manage raffles"})]})]}),i.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 mb-4",children:[i.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Connected Account"}),i.jsx("p",{className:"font-mono text-sm text-foreground break-all",children:n(t)})]})]}),i.jsx("div",{className:"px-4 pb-4",children:i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"bg-card/50 rounded-lg p-3 border border-border/50",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ii,{className:"h-4 w-4 text-primary"}),i.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Activity"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:"Tickets"}),i.jsx("span",{className:"text-sm font-semibold",children:e.totalTicketsPurchased})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:"Prizes"}),i.jsx("span",{className:"text-sm font-semibold",children:e.totalPrizesWon})]})]})]}),i.jsxs("div",{className:"bg-card/50 rounded-lg p-3 border border-border/50",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx($d,{className:"h-4 w-4 text-primary"}),i.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Creator"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:"Raffles"}),i.jsx("span",{className:"text-sm font-semibold",children:r.totalRaffles})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:"Revenue"}),i.jsxs("span",{className:"text-sm font-semibold",children:[parseFloat(r.totalRevenue).toFixed(2)," ETH"]})]})]})]})]})})]})},j_=({activities:t,claimRefund:e})=>{const r=tn(),n=f=>{switch(f){case"ticket_purchase":return i.jsx(Ps,{className:"h-4 w-4 text-blue-500"});case"prize_won":return i.jsx(ii,{className:"h-4 w-4 text-yellow-500"});case"refund_claimed":return i.jsx(Vi,{className:"h-4 w-4 text-green-500"});default:return i.jsx(Da,{className:"h-4 w-4 text-muted-foreground"})}},o=f=>{var y;const h=f.raffleName||f.name||`Raffle ${(y=f.raffleAddress)==null?void 0:y.slice(0,8)}...`,m=f.quantity||f.ticketCount||1;switch(f.type){case"ticket_purchase":return`Purchased ${m} ${h} ticket${m>1?"s":""}`;case"prize_won":return"Won Prize!";case"refund_claimed":return"Claimed Refund";default:return"Activity"}},l=f=>{var m;const h=f.raffleName||f.name||`Raffle ${(m=f.raffleAddress)==null?void 0:m.slice(0,8)}...`;switch(f.type){case"ticket_purchase":return`${f.amount} ETH`;case"prize_won":return`${h}  Congratulations!`;case"refund_claimed":return`${h}  ${f.amount} ETH`;default:return h}},c=f=>{const h=new Date(f),y=(new Date-h)/(1e3*60*60);return y<24?`${Math.floor(y)}h ago`:`${Math.floor(y/24)}d ago`},u=f=>{r(`/raffle/${f}`)};return!t||t.length===0?i.jsx("div",{className:"p-3",children:i.jsxs("div",{className:"text-center py-6",children:[i.jsx(Da,{className:"h-8 w-8 text-muted-foreground mx-auto mb-3"}),i.jsx("h3",{className:"text-sm font-semibold mb-1",children:"No Activity Yet"}),i.jsx("p",{className:"text-muted-foreground text-xs",children:"Activity will appear here once you participate."})]})}):i.jsxs("div",{className:"p-3 space-y-2 max-h-80 overflow-y-auto",children:[t.slice(0,5).map(f=>i.jsx("div",{className:"bg-muted/30 border border-border/50 rounded-lg p-3 hover:bg-muted/50 transition-colors",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n(f.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-1",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-medium text-foreground text-xs",children:o(f)}),i.jsx("p",{className:"text-muted-foreground text-xs mt-0.5 truncate",children:l(f)})]}),i.jsx("span",{className:"text-xs text-muted-foreground flex-shrink-0",children:c(f.timestamp)})]}),i.jsxs("div",{className:"flex gap-1 mt-2",children:[i.jsx("button",{onClick:()=>u(f.raffleAddress),className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded hover:bg-primary/20 transition-colors",children:"View"}),f.type==="ticket_purchase"&&f.state==="ended"&&i.jsx("button",{onClick:()=>e(f.raffleAddress),className:"text-xs bg-green-500/10 text-green-600 px-2 py-1 rounded hover:bg-green-500/20 transition-colors",children:"Refund"})]})]})]})},f.id)),t.length>5&&i.jsx("div",{className:"pt-2 border-t border-border/50",children:i.jsxs("button",{onClick:()=>r("/profile"),className:"w-full text-xs text-primary hover:text-primary/80 transition-colors py-2",children:["View All ",t.length," Activities"]})})]})},S_=({raffles:t,showRevenueModal:e,setShowRevenueModal:r,selectedRaffle:n,setSelectedRaffle:o,withdrawRevenue:l})=>{const c=tn(),u=j=>{switch(j){case"active":return"text-green-600 bg-green-100";case"completed":return"text-blue-600 bg-blue-100";case"pending":return"text-yellow-600 bg-yellow-100";case"ended":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},f=j=>{switch(j){case"active":return"Active";case"completed":return"Completed";case"pending":return"Pending";case"ended":return"Ended";case"allPrizesClaimed":return"Finished";default:return j}},h=j=>new Date(j).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=()=>{c("/create-raffle")},y=j=>{c(`/raffle/${j}`)},k=j=>{o(j),r(!0)},g=()=>{n&&l(n.address)};return!t||t.length===0?i.jsx("div",{className:"p-3",children:i.jsxs("div",{className:"text-center py-6",children:[i.jsx(Pn,{className:"h-8 w-8 text-muted-foreground mx-auto mb-3"}),i.jsx("h3",{className:"text-sm font-semibold mb-1",children:"No Raffles Created"}),i.jsx("p",{className:"text-muted-foreground text-xs mb-4",children:"Create your first raffle to start earning revenue."}),i.jsx("button",{onClick:m,className:"bg-primary text-white px-4 py-2 rounded-lg text-xs font-medium hover:bg-primary/90 transition-colors",children:"Create Raffle"})]})}):i.jsxs("div",{className:"p-3 space-y-2 max-h-80 overflow-y-auto",children:[i.jsxs("button",{onClick:m,className:"w-full bg-primary text-white p-2 rounded-lg text-xs font-medium hover:bg-primary/90 transition-colors flex items-center justify-center gap-1",children:[i.jsx(Pn,{className:"h-3 w-3"}),"Create New"]}),t.slice(0,3).map(j=>i.jsxs("div",{className:"bg-muted/30 border border-border/50 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-start justify-between gap-1 mb-2",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-medium text-foreground text-xs truncate",children:j.name}),i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:h(j.endTime)})]}),i.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded font-medium ${u(j.state)}`,children:f(j.state)})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Sold"}),i.jsxs("p",{className:"text-xs font-semibold",children:[j.ticketsSold,"/",j.maxTickets]})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Revenue"}),i.jsxs("p",{className:"text-xs font-semibold text-green-600",children:[parseFloat(j.revenue).toFixed(3)," ETH"]})]})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:()=>y(j.address),className:"flex-1 text-xs bg-primary/10 text-primary px-2 py-1 rounded hover:bg-primary/20 transition-colors",children:"View"}),(j.state==="completed"||j.state==="allPrizesClaimed")&&parseFloat(j.revenue)>0&&i.jsx("button",{onClick:()=>k(j),className:"flex-1 text-xs bg-green-500/10 text-green-600 px-2 py-1 rounded hover:bg-green-500/20 transition-colors",children:"Withdraw"})]})]},j.address)),e&&n&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-background rounded-lg p-6 w-full max-w-sm",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Withdraw Revenue"}),i.jsxs("p",{className:"text-muted-foreground text-sm mb-4",children:["Withdraw ",parseFloat(n.revenue).toFixed(4),' ETH from "',n.name,'"?']}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>r(!1),className:"flex-1 px-4 py-2 border border-border rounded-md text-sm hover:bg-muted/50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:g,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-md text-sm hover:bg-green-700 transition-colors",children:"Withdraw"})]})]})})]})},T_=({tickets:t,claimRefund:e})=>{const r=tn(),n=f=>{switch(f){case"active":return"text-green-600 bg-green-100";case"completed":return"text-blue-600 bg-blue-100";case"pending":return"text-yellow-600 bg-yellow-100";case"ended":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},o=f=>{switch(f){case"active":return"Active";case"completed":return"Completed";case"pending":return"Pending";case"ended":return"Ended";case"allPrizesClaimed":return"Finished";default:return f}},l=f=>new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),c=f=>{r(`/raffle/${f}`)},u=f=>{e(f)};return!t||t.length===0?i.jsx("div",{className:"p-3",children:i.jsxs("div",{className:"text-center py-6",children:[i.jsx(Ps,{className:"h-8 w-8 text-muted-foreground mx-auto mb-3"}),i.jsx("h3",{className:"text-sm font-semibold mb-1",children:"No Tickets Purchased"}),i.jsx("p",{className:"text-muted-foreground text-xs",children:"Purchase tickets in active raffles to see them here."})]})}):i.jsx("div",{className:"p-3 space-y-2 max-h-80 overflow-y-auto",children:t.slice(0,3).map(f=>{var h;return i.jsxs("div",{className:"bg-muted/30 border border-border/50 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-start justify-between gap-1 mb-2",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-medium text-foreground text-xs truncate",children:f.name||f.raffleName||`Raffle ${(h=f.address)==null?void 0:h.slice(0,8)}...`}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Ends: ",l(f.endTime)]})]}),i.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded font-medium ${n(f.state)}`,children:o(f.state)})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Tickets"}),i.jsx("p",{className:"text-xs font-semibold",children:f.ticketCount})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Spent"}),i.jsxs("p",{className:"text-xs font-semibold text-blue-600",children:[parseFloat(f.totalSpent).toFixed(3)," ETH"]})]})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Tickets:"}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[f.tickets.slice(0,3).map((m,y)=>i.jsxs("span",{className:"text-xs bg-primary/10 text-primary px-1.5 py-0.5 rounded",children:["#",m]},y)),f.tickets.length>3&&i.jsxs("span",{className:"text-xs text-muted-foreground px-1.5 py-0.5",children:["+",f.tickets.length-3]})]})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:()=>c(f.address||f.raffleAddress),className:"flex-1 text-xs bg-primary/10 text-primary px-2 py-1 rounded hover:bg-primary/20 transition-colors",children:"View"}),f.state==="ended"&&i.jsxs("button",{onClick:()=>u(f.address||f.raffleAddress),className:"flex-1 text-xs bg-green-500/10 text-green-600 px-2 py-1 rounded hover:bg-green-500/20 transition-colors flex items-center justify-center gap-1",children:[i.jsx(Vi,{className:"h-3 w-3"}),"Refund"]})]})]},f.address||f.raffleAddress)})})},P_=({creatorStats:t})=>{const e=tn(),[r,n]=b.useState({stats:!0,utilities:!1}),o=u=>{n(f=>({...f,[u]:!f[u]}))},l=[{id:"royalty",title:"Royalty & Reveal",description:"Manage royalties and reveal collections",icon:Pp,path:"/profile/mobile/royalty",color:"from-purple-500 to-purple-600"},{id:"minter",title:"Minter Approval",description:"Manage minter approvals for collections",icon:cw,path:"/profile/mobile/minter",color:"from-blue-500 to-blue-600"},{id:"tokens",title:"Create Token ID",description:"Add new token IDs to ERC1155 collections",icon:Pn,path:"/profile/mobile/tokens",color:"from-green-500 to-green-600"},{id:"revenue",title:"Withdraw Revenue",description:"Withdraw revenue from completed raffles",icon:za,path:"/profile/mobile/revenue",color:"from-orange-500 to-orange-600"}],c=u=>{e(u)};return i.jsxs("div",{className:"p-3 space-y-2 max-h-80 overflow-y-auto",children:[i.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-lg border border-border/50 overflow-hidden",children:[i.jsxs("button",{onClick:()=>o("stats"),className:"w-full flex items-center justify-between p-3 hover:bg-primary/5 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx($d,{className:"h-4 w-4 text-primary"}),i.jsx("h3",{className:"text-xs font-semibold text-foreground",children:"Creator Stats"})]}),r.stats?i.jsx(So,{className:"h-4 w-4 text-muted-foreground"}):i.jsx(Gi,{className:"h-4 w-4 text-muted-foreground"})]}),r.stats&&i.jsx("div",{className:"px-3 pb-3",children:i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg font-bold text-foreground mb-0.5",children:t.totalRaffles}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Raffles"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg font-bold text-foreground mb-0.5",children:parseFloat(t.totalRevenue).toFixed(2)}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"ETH Revenue"})]})]})})]}),i.jsxs("div",{className:"bg-card border border-border/50 rounded-lg overflow-hidden",children:[i.jsxs("button",{onClick:()=>o("utilities"),className:"w-full flex items-center justify-between p-3 hover:bg-muted/30 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Rp,{className:"h-4 w-4 text-primary"}),i.jsx("h3",{className:"text-xs font-semibold text-foreground",children:"Utilities"})]}),r.utilities?i.jsx(So,{className:"h-4 w-4 text-muted-foreground"}):i.jsx(Gi,{className:"h-4 w-4 text-muted-foreground"})]}),r.utilities&&i.jsx("div",{className:"px-3 pb-3",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.map(u=>{const f=u.icon;return i.jsxs("button",{onClick:()=>c(u.path),className:"group relative overflow-hidden bg-muted/20 border border-border/30 rounded-lg p-2 hover:shadow-sm transition-all duration-200 text-left",children:[i.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${u.color} opacity-0 group-hover:opacity-10 transition-opacity duration-200`}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"flex items-center gap-2 mb-1",children:i.jsx("div",{className:`p-1 rounded bg-gradient-to-br ${u.color} text-white`,children:i.jsx(f,{className:"h-3 w-3"})})}),i.jsx("h4",{className:"font-medium text-foreground text-xs mb-0.5 group-hover:text-primary transition-colors",children:u.title}),i.jsx("p",{className:"text-xs text-muted-foreground leading-tight",children:u.description})]})]},u.id)})})})]})]})},R_=()=>{const{connected:t,address:e}=Dt(),[r,n]=b.useState("activity"),o=b.useRef(null),{userActivity:l,createdRaffles:c,purchasedTickets:u,activityStats:f,creatorStats:h,loading:m,showRevenueModal:y,setShowRevenueModal:k,selectedRaffle:g,setSelectedRaffle:j,withdrawRevenue:N,claimRefund:C}=Z2();if(b.useEffect(()=>{const O=F=>{r&&o.current&&!o.current.contains(F.target)&&n(null)};return document.addEventListener("mousedown",O),document.addEventListener("touchstart",O),()=>{document.removeEventListener("mousedown",O),document.removeEventListener("touchstart",O)}},[r]),b.useEffect(()=>{t&&!r&&n("activity")},[t,r]),!t)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:i.jsxs("div",{className:"text-center max-w-sm",children:[i.jsx(Wd,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Connect Your Wallet"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Please connect your wallet to view your profile and activity."})]})});const S=[{id:"activity",label:"Activity",icon:Da,component:j_,props:{activities:l,claimRefund:C}},{id:"created",label:"Created",icon:Hd,component:S_,props:{raffles:c,showRevenueModal:y,setShowRevenueModal:k,selectedRaffle:g,setSelectedRaffle:j,withdrawRevenue:N}},{id:"tickets",label:"Tickets",icon:Ps,component:T_,props:{tickets:u,claimRefund:C}},{id:"dashboard",label:"Dashboard",icon:Rp,component:P_,props:{creatorStats:h}}],D=S.find(O=>O.id===r);return D==null||D.component,i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(A_,{address:e,activityStats:f,creatorStats:h}),i.jsx("div",{className:"p-4 pb-6",children:m&&!l&&!c&&!u?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Loading..."})]})}):i.jsx("div",{ref:o,className:"grid grid-cols-2 gap-3",children:S.map(O=>{const F=O.icon,L=O.component,H=r===O.id;return i.jsxs("div",{className:`
                    bg-card border rounded-lg transition-all duration-200 overflow-hidden
                    ${H?"border-primary shadow-md ring-1 ring-primary/20":"border-border hover:border-primary/50"}
                  `,children:[i.jsxs("button",{onClick:()=>n(H?null:O.id),className:`
                      w-full p-3 flex items-center gap-2 transition-colors
                      ${H?"bg-primary/5 text-primary":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}
                    `,children:[i.jsx(F,{className:`h-4 w-4 ${H?"text-primary":""}`}),i.jsx("span",{className:`text-sm font-medium ${H?"text-primary":""}`,children:O.label})]}),H&&i.jsx("div",{className:"border-t border-border",children:i.jsx("div",{className:"max-h-96 overflow-y-auto",children:i.jsx(L,{...O.props||{}})})})]},O.id)})})})]})},M_=()=>{const{isMobile:t}=rr(),[e]=b.useState(t);return e?i.jsx(R_,{}):i.jsx(__,{})},__=()=>{const{connected:t,address:e,provider:r,chainId:n}=Dt(),{contracts:o,getContractInstance:l,executeTransaction:c,executeCall:u}=$t();tn();const{isMobile:f}=rr(),{userActivity:h,createdRaffles:m,purchasedTickets:y,activityStats:k,loading:g,showRevenueModal:j,selectedRaffle:N,setSelectedRaffle:C,fetchOnChainActivity:S,fetchCreatedRaffles:D,fetchPurchasedTickets:O}=Z2(),[F,L]=b.useState("activity"),H=b.useMemo(()=>h.map($=>{const M=()=>{var _;const T=$.raffleName||$.name||`Raffle ${(_=$.raffleAddress)==null?void 0:_.slice(0,8)}...`,P=$.quantity||$.ticketCount||1;switch($.type){case"ticket_purchase":return`Purchased ${P} ${T} ticket${P>1?"s":""}`;case"raffle_created":return`Created raffle "${T}"`;case"raffle_deleted":return`Deleted raffle "${T}"`;case"prize_won":return`Won prize in "${T}"`;case"prize_claimed":return`Claimed prize from "${T}"`;case"refund_claimed":return`Claimed refund from "${T}"`;case"revenue_withdrawn":return`Withdrew revenue from "${T}"`;case"admin_withdrawn":return`Admin withdrawal: ${$.amount} ETH`;default:return $.description||"Activity"}},x=()=>{switch($.type){case"ticket_purchase":return $.amount?`${$.amount} ETH`:"";case"refund_claimed":return $.amount?`${$.amount} ETH`:"";default:return $.description||""}},E=()=>{switch($.type){case"ticket_purchase":return i.jsx(jT,{className:"h-4 w-4 text-blue-500"});case"raffle_created":return i.jsx(Pn,{className:"h-4 w-4 text-green-500"});case"prize_claimed":return i.jsx(Pp,{className:"h-4 w-4 text-yellow-500"});case"refund_claimed":return i.jsx(Vi,{className:"h-4 w-4 text-orange-500"});default:return i.jsx(sd,{className:"h-4 w-4 text-gray-500"})}};return{...$,title:M(),description:x(),icon:E(),timestamp:$.timestamp?new Date($.timestamp).toLocaleDateString():"Unknown date"}}),[h]);function q($){var E,T;if($!=null&&$.reason)return $.reason;if((E=$==null?void 0:$.data)!=null&&E.message)return $.data.message;const M=($==null?void 0:$.message)||((T=$==null?void 0:$.data)==null?void 0:T.message)||($==null?void 0:$.toString())||"",x=M.match(/execution reverted:?\s*([^\n]*)/i);return x&&x[1]?x[1].trim():M}const Y=async $=>{let M=`Are you sure you want to delete "${$.name}"?`;if($.ticketsSold>0&&(M+=`

This raffle has ${$.ticketsSold} sold tickets. Deletion will automatically process refunds for all participants.`),!!window.confirm(M))try{const x=l($.address,"raffle");if(!x)throw new Error("Failed to get raffle contract");const E=await c(x.deleteRaffle);if(E.success){const T=$.ticketsSold>0?`Raffle deleted successfully! Refunds have been processed automatically for ${$.ticketsSold} sold tickets.`:"Raffle deleted successfully!";ie.success(T),setLoading(!0),await Promise.all([S(),D(),O()]),setLoading(!1)}else throw new Error(E.error)}catch(x){console.error("Error deleting raffle:",x),ie.error(q(x))}},Q=$=>{C($),setShowRevenueModal(!0)},re=async $=>{try{const M=l($.raffleAddress,"raffle");if(!M)throw new Error("Failed to get raffle contract");let x;if($.prizeAmount>1?x=await c(M.claimPrizes,$.prizeAmount):x=await c(M.claimPrize),x.success)ie.success("Prize claimed successfully!"),setLoading(!0),await Promise.all([S(),D(),O()]),setLoading(!1);else throw new Error(x.error)}catch(M){console.error("Error claiming prize:",M),ie.error(q(M))}},te=async $=>{try{const M=l($.raffleAddress,"raffle");if(!M)throw new Error("Failed to get raffle contract");const x=await M.refundedNonWinningTickets(e),E=x&&x.gt&&x.gt(0),T=await c(M.claimRefund);if(T.success)ie.success("Refund claimed successfully!"),setLoading(!0),await Promise.all([S(),D(),O()]),setLoading(!1);else throw new Error(T.error)}catch(M){console.error("Error claiming refund:",M),ie.error(q(M))}};return t?i.jsxs(ni,{variant:"profile",className:f?"py-4":"py-8",children:[i.jsxs("div",{className:f?"mb-6":"mb-8",children:[i.jsx("div",{className:`${f?"mb-4":"flex items-center justify-between mb-4"}`,children:i.jsxs("div",{children:[i.jsx("h1",{className:`font-bold mb-2 ${f?"text-2xl":"text-3xl"}`,children:"Profile"}),i.jsx("p",{className:`text-muted-foreground ${f?"text-sm":"text-base"}`,children:"Track activities, manage your raffles, revenue and collections"})]})}),i.jsxs("div",{className:`mt-4 bg-muted/50 backdrop-blur-sm border border-border/30 rounded-lg ${f?"p-3":"p-4"}`,children:[i.jsx("p",{className:"text-sm font-medium",children:"Connected Account:"}),i.jsx("p",{className:`font-mono ${f?"text-xs break-all":"text-sm"}`,children:e})]})]}),!f&&i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:`font-semibold mb-4 ${f?"text-lg":"text-xl"}`,children:"Activity Overview"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[i.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 hover:shadow-lg transition-all duration-300",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ps,{className:"h-8 w-8 text-blue-500"}),i.jsxs("div",{children:[i.jsx("p",{className:`font-bold ${f?"text-lg":"text-2xl"}`,children:k.totalTicketsPurchased}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Tickets Purchased"})]})]})}),i.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 hover:shadow-lg transition-all duration-300",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Pn,{className:"h-8 w-8 text-green-500"}),i.jsxs("div",{children:[i.jsx("p",{className:`font-bold ${f?"text-lg":"text-2xl"}`,children:k.totalRafflesCreated}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Raffles Created"})]})]})}),i.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 hover:shadow-lg transition-all duration-300",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ii,{className:"h-8 w-8 text-yellow-500"}),i.jsxs("div",{children:[i.jsx("p",{className:`font-bold ${f?"text-lg":"text-2xl"}`,children:k.totalPrizesWon}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Prizes Won"})]})]})}),i.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 hover:shadow-lg transition-all duration-300",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(za,{className:"h-8 w-8 text-emerald-500"}),i.jsxs("div",{children:[i.jsx("p",{className:`font-bold ${f?"text-lg":"text-2xl"}`,children:parseFloat(Jt(k.totalRevenueWithdrawn)).toFixed(4)}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"ETH Withdrawn"})]})]})}),i.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 hover:shadow-lg transition-all duration-300",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(AT,{className:"h-8 w-8 text-orange-500"}),i.jsxs("div",{children:[i.jsx("p",{className:`font-bold ${f?"text-lg":"text-2xl"}`,children:k.totalRefundsClaimed}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Refunds Claimed"})]})]})})]})]}),g?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading..."})]}):i.jsx(E_,{activities:H,createdRaffles:m,purchasedTickets:y,creatorStats:{totalRaffles:m.length,activeRaffles:m.filter($=>$.state==="active").length,totalRevenue:m.reduce(($,M)=>$+M.ticketsSold*parseFloat(M.ticketPrice)/1e18,0).toFixed(4),monthlyRevenue:"0.0000",totalParticipants:m.reduce(($,M)=>$+M.ticketsSold,0),uniqueParticipants:m.reduce(($,M)=>$+M.ticketsSold,0),successRate:m.length>0?Math.round(m.filter($=>$.state==="completed").length/m.length*100):0},onDeleteRaffle:Y,onViewRevenue:Q,onClaimPrize:re,onClaimRefund:te}),j&&N&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-card/90 backdrop-blur-md border border-border/50 rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revenue Details"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Raffle:"}),i.jsx("span",{className:"font-medium",children:N.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Total Revenue:"}),i.jsxs("span",{className:"font-medium",children:[Jt(N.totalRevenue)," ETH"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Tickets Sold:"}),i.jsx("span",{className:"font-medium",children:N.ticketsSold})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx("button",{onClick:()=>setShowRevenueModal(!1),className:"flex-1 bg-gradient-to-r from-gray-500 to-gray-600 text-white px-4 py-2 rounded-md hover:from-gray-600 hover:to-gray-700 transition-colors",children:"Close"}),i.jsx("button",{onClick:()=>{setShowRevenueModal(!1)},className:"flex-1 bg-gradient-to-r from-green-500 to-teal-600 text-white px-4 py-2 rounded-md hover:from-green-600 hover:to-teal-700 transition-colors",children:"Withdraw"})]})]})})]}):i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Wd,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),i.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Connect Your Wallet"}),i.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to view your profile and activity."})]})})};var ff="Switch",[I_,k6]=di(ff),[D_,z_]=I_(ff),ek=b.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:o,defaultChecked:l,required:c,disabled:u,value:f="on",onCheckedChange:h,form:m,...y}=t,[k,g]=b.useState(null),j=Lt(e,O=>g(O)),N=b.useRef(!1),C=k?m||!!k.closest("form"):!0,[S,D]=Ro({prop:o,defaultProp:l??!1,onChange:h,caller:ff});return i.jsxs(D_,{scope:r,checked:S,disabled:u,children:[i.jsx(it.button,{type:"button",role:"switch","aria-checked":S,"aria-required":c,"data-state":sk(S),"data-disabled":u?"":void 0,disabled:u,value:f,...y,ref:j,onClick:De(t.onClick,O=>{D(F=>!F),C&&(N.current=O.isPropagationStopped(),N.current||O.stopPropagation())})}),C&&i.jsx(nk,{control:k,bubbles:!N.current,name:n,value:f,checked:S,required:c,disabled:u,form:m,style:{transform:"translateX(-100%)"}})]})});ek.displayName=ff;var tk="SwitchThumb",rk=b.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,o=z_(tk,r);return i.jsx(it.span,{"data-state":sk(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:e})});rk.displayName=tk;var O_="SwitchBubbleInput",nk=b.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...o},l)=>{const c=b.useRef(null),u=Lt(c,l),f=Gw(r),h=Mw(e);return b.useEffect(()=>{const m=c.current;if(!m)return;const y=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(y,"checked").set;if(f!==r&&g){const j=new Event("click",{bubbles:n});g.call(m,r),m.dispatchEvent(j)}},[f,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:u,style:{...o.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});nk.displayName=O_;function sk(t){return t?"checked":"unchecked"}var L_=ek,F_=rk;function B_({className:t,size:e="default",...r}){const n={default:{root:"h-5 w-9 rounded-full",thumb:"h-4 w-4 rounded-full data-[state=checked]:translate-x-4"},mobile:{root:"h-6 w-11 rounded-lg",thumb:"h-4 w-4 rounded-md data-[state=checked]:translate-x-5"},large:{root:"h-8 w-14 rounded-full",thumb:"h-7 w-7 rounded-full data-[state=checked]:translate-x-6"}},o=n[e]||n.default;return i.jsx(L_,{"data-slot":"switch",className:$e("peer inline-flex shrink-0 cursor-pointer items-center border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-muted",o.root,t),...r,children:i.jsx(F_,{"data-slot":"switch-thumb",className:$e("pointer-events-none block bg-background shadow-lg ring-0 transition-transform data-[state=unchecked]:translate-x-0",o.thumb)})})}const hi=({tokenGatedEnabled:t,onTokenGatedChange:e,formData:r,handleChange:n,required:o=!1,useFormDataEnabled:l=!1})=>{const{isMobile:c}=rr(),u=l?r.tokenGatedEnabled:t,f=l?h=>n("tokenGatedEnabled",h):e;return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`${c?"p-4 bg-muted/5 rounded-lg border border-border mb-4":"mb-2"}`,children:i.jsxs("div",{className:`flex items-center ${c?"gap-4":"gap-3"}`,children:[i.jsx(B_,{checked:u,onCheckedChange:f,size:c?"mobile":"default"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:`font-medium block ${c?"text-base mb-1":"text-sm"}`,children:"Enable Token-Gated Access"}),c&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Restrict raffle participation to token holders"})]})]})}),u&&i.jsx("div",{className:"p-4 border rounded-lg bg-muted/10 mb-4",children:i.jsxs("div",{className:`${c?"space-y-4":"grid grid-cols-1 md:grid-cols-2 gap-4"}`,children:[i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium mb-1 text-base",children:"Token Address"}),i.jsx("input",{type:"text",value:r.holderTokenAddress||"",onChange:h=>n("holderTokenAddress",h.target.value),className:`w-full border border-border rounded-lg bg-background font-mono ${c?"px-4 py-3 text-base":"px-3 py-2.5 text-base"}`,placeholder:"0x...",required:o&&u})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium mb-1 text-base",children:"Token Standard"}),i.jsxs(La,{value:r.holderTokenStandard||"0",onValueChange:h=>n("holderTokenStandard",h),required:o&&u,children:[i.jsx(Ba,{className:`w-full border border-border rounded-lg bg-background ${c?"px-4 py-3 text-base h-12":"px-3 py-2.5 text-base"}`,children:i.jsx(Fa,{placeholder:"Select Token Standard"})}),i.jsxs(Ua,{children:[i.jsx(gn,{value:"0",children:"ERC721"}),i.jsx(gn,{value:"1",children:"ERC1155"}),i.jsx(gn,{value:"2",children:"ERC20"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium mb-1 text-base",children:"Minimum Holder Balance"}),i.jsx("input",{type:"number",value:r.minHolderTokenBalance||"",onChange:h=>n("minHolderTokenBalance",h.target.value),className:`w-full border border-border rounded-lg bg-background ${c?"px-4 py-3 text-base":"px-3 py-2.5 text-base"}`,placeholder:"Minimum balance required to enter",required:o&&u})]}),r.holderTokenStandard==="1"&&i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium mb-1 text-base",children:"Token ID"}),i.jsx("input",{type:"number",value:r.holderTokenId||"",onChange:h=>n("holderTokenId",h.target.value),className:`w-full border border-border rounded-lg bg-background ${c?"px-4 py-3 text-base":"px-3 py-2.5 text-base"}`,placeholder:"Token ID (for ERC1155)",required:o&&u})]})]})})]})},U_=({isOpen:t,onToggle:e,raffleType:r,setRaffleType:n,nftStandard:o,setNftStandard:l,erc721Source:c,setErc721Source:u,erc1155Source:f,setErc1155Source:h,className:m=""})=>{const{isMobile:y}=rr(),[k,g]=b.useState({raffleType:!0,nftConfiguration:!0,collectionSource:!0}),j=[{value:"Whitelist/Allowlist",label:"Whitelist/Allowlist",description:"Whitelist Campaigns"},{value:"NFTDrop",label:"NFT Drop",description:"Raffles with Mintable NFT Prizes"},{value:"Lucky Sale/NFT Giveaway",label:"Lucky Sale/NFT Giveaway",description:"Discounted NFT sales/NFT Giveaways"},{value:"ETH Giveaway",label:"ETH Giveaway",description:"Native Coin Giveaways"},{value:"ERC20 Token Giveaway",label:"ERC20 Token Giveaway",description:"Token Giveaways"}],N=[{value:"ERC721",label:"ERC721"},{value:"ERC1155",label:"ERC1155"}],C=[{value:"New ERC721 Collection",label:"New ERC721 Collection",description:"Deploy new collection"},{value:"Existing ERC721 Collection",label:"Existing ERC721 Collection",description:"Use existing collection"}],S=[{value:"New ERC1155 Collection",label:"New ERC1155 Collection",description:"Deploy new collection"},{value:"Existing ERC1155 Collection",label:"Existing ERC1155 Collection",description:"Use existing collection"}],D=b.useCallback(Y=>{g(Q=>({...Q,[Y]:!Q[Y]}))},[]),O=b.useCallback(()=>{n("Whitelist/Allowlist"),l("ERC721"),u("New ERC721 Collection"),h("New ERC1155 Collection")},[n,l,u,h]),F=b.useMemo(()=>r!=="Whitelist/Allowlist"||o!=="ERC721"||c!=="New ERC721 Collection"||f!=="New ERC1155 Collection",[r,o,c,f]),L=r==="NFTDrop"||r==="Lucky Sale/NFT Giveaway",H=L,q=b.useCallback((Y,Q,re,te,$,M=!1)=>{const x=k[Q];return i.jsxs("div",{className:"border-b border-border/30 last:border-b-0",children:[i.jsxs("button",{onClick:()=>D(Q),className:"w-full flex items-center justify-between p-3 sm:p-4 text-left hover:bg-muted/50 transition-colors",disabled:M,children:[i.jsx("span",{className:`text-sm sm:text-base font-medium ${M?"text-muted-foreground":""}`,children:Y}),x?i.jsx(So,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"}):i.jsx(Gi,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"})]}),x&&!M&&i.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4 space-y-1 sm:space-y-2",children:re.map(E=>{const T=te===E.value;return i.jsxs("label",{className:"flex items-start space-x-2 sm:space-x-3 cursor-pointer hover:bg-muted/30 p-1.5 sm:p-2 rounded-md transition-colors",children:[i.jsx("input",{type:"radio",name:Q,checked:T,onChange:()=>$(E.value),className:`mt-1 h-3 w-3 sm:h-4 sm:w-4 text-primary bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-full focus:ring-0 focus:outline-none checked:bg-primary checked:border-primary appearance-none relative ${T?'after:content-[""] after:absolute after:top-1/2 after:left-1/2 after:transform after:-translate-x-1/2 after:-translate-y-1/2 after:w-1 after:h-1 sm:after:w-1.5 sm:after:h-1.5 after:bg-white after:rounded-full':""}`,style:{minHeight:"12px",minWidth:"12px",maxHeight:"12px",maxWidth:"12px"}}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("span",{className:"text-xs sm:text-sm font-medium leading-tight",children:E.label}),E.description&&i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:E.description})]})]},E.value)})}),M&&i.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4",children:i.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Select appropriate raffle type to enable this filter"})})]},Q)},[k,D]);return i.jsxs(i.Fragment,{children:[t&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-30",onClick:e}),i.jsxs("div",{className:`
        fixed left-0
        top-14 sm:top-16
        h-[calc(100vh-3.5rem)] sm:h-[calc(100vh-4rem)]
        w-64 sm:w-72 md:w-80
        bg-background border-r border-border
        transform transition-transform duration-300 ease-in-out
        z-40
        flex flex-col
        ${t?"translate-x-0":"-translate-x-full"}
        ${m}
      `,children:[i.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-border bg-muted/20",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ec,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),i.jsx("h2",{className:"font-semibold text-base sm:text-lg",children:"Create Raffle"})]}),i.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[F&&i.jsx(He,{variant:"ghost",size:"sm",onClick:O,className:"text-xs px-2 sm:px-3 h-7 sm:h-8 hover:bg-destructive/10 hover:text-destructive",children:"Reset"}),i.jsx(He,{variant:"ghost",size:"sm",onClick:e,className:"hover:bg-muted h-7 w-7 sm:h-8 sm:w-8 p-0",title:"Close filters",children:i.jsx(Mp,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})]})]}),i.jsx("div",{className:"p-3 sm:p-4 bg-muted/30",children:i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Configure Raffle type and Prizes"})}),i.jsxs("div",{className:"flex-1 overflow-y-auto",children:[q("Raffle Type","raffleType",j,r,n),L&&q("NFT Standard","nftConfiguration",N,o,l),H&&o==="ERC721"&&q("ERC721 Source","collectionSource",C,c,u),H&&o==="ERC1155"&&q("ERC1155 Source","collectionSource",S,f,h)]})]})]})},$_=()=>{const{connected:t,address:e}=Dt(),{contracts:r,executeTransaction:n}=$t(),{isMobile:o}=rr(),l=mi(r,!1),[c,u]=b.useState(!1),[f,h]=b.useState(!1),[m,y]=b.useState({name:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),k=(j,N)=>{y(C=>({...C,[j]:N}))},g=async j=>{if(j.preventDefault(),!t||!r.raffleDeployer){ie.error("Please connect your wallet and ensure contracts are configured");return}u(!0);try{const N=Math.floor(new Date(m.startTime).getTime()/1e3),C=parseInt(m.duration)*60,S=f&&m.holderTokenAddress?m.holderTokenAddress:_e,D=f?parseInt(m.holderTokenStandard):0,O=f&&m.minHolderTokenBalance?_n(m.minHolderTokenBalance,18):ce.from(0),F=f&&m.holderTokenId?parseInt(m.holderTokenId):0,L={name:m.name,startTime:N,duration:C,ticketLimit:parseInt(m.ticketLimit),winnersCount:parseInt(m.winnersCount),maxTicketsPerParticipant:1,isPrized:!1,customTicketPrice:0,erc721Drop:!1,erc1155Drop:!1,prizeCollection:_e,standard:0,prizeTokenId:0,amountPerWinner:0,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:_e,maxSupply:0,erc20PrizeToken:_e,erc20PrizeAmount:0,ethPrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,mintingOrder:0,holderTokenAddress:S,holderTokenStandard:D,minHolderTokenBalance:O,holderTokenId:F};let H={success:!1};try{const q=await r.raffleDeployer.createRaffle(L);H={success:!0,receipt:await q.wait(),hash:q.hash}}catch(q){H={success:!1,error:q.message}}if(H.success)ie.success("Whitelist raffle created successfully!"),y({name:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),h(!1);else throw new Error(H.error)}catch(N){console.error("Error creating raffle:",N),ie.error($o(N))}finally{u(!1)}};return i.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(Tp,{className:"h-5 w-5"}),i.jsx("h3",{className:"text-xl font-semibold",children:"Create Whitelist Raffle"})]}),i.jsxs("form",{onSubmit:g,className:"space-y-5",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Raffle Name"}),i.jsx("input",{type:"text",value:m.name||"",onChange:j=>k("name",j.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),i.jsx("input",{type:"datetime-local",value:m.startTime||"",onChange:j=>k("startTime",j.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),i.jsx("input",{type:"number",value:m.duration||"",onChange:j=>k("duration",j.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minDuration&&l.maxDuration&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",Math.ceil(Number(l.minDuration)/60)," min, Max Allowed: ",Math.floor(Number(l.maxDuration)/60)," min"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),i.jsx("input",{type:"number",value:m.ticketLimit||"",onChange:j=>k("ticketLimit",j.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minTicket&&l.maxTicket&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",l.minTicket,", Max Allowed: ",l.maxTicket]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Winner Count"}),i.jsx("input",{type:"number",value:m.winnersCount||"",onChange:j=>k("winnersCount",j.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per Participant"}),i.jsx("input",{type:"number",value:1,disabled:!0,className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]})]}),i.jsx(hi,{tokenGatedEnabled:f,onTokenGatedChange:h,formData:m,handleChange:k,required:!0}),i.jsx("div",{className:"flex gap-4",children:i.jsx(He,{type:"submit",disabled:c||!t,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:c?"Creating...":"Create Raffle"})})]})]})},W_=()=>{const{connected:t,address:e,provider:r}=Dt(),{contracts:n,executeTransaction:o}=$t(),l=mi(n,!0),[c,u]=b.useState(!1),[f,h]=b.useState({name:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",customTicketPrice:"",collectionName:"",collectionSymbol:"",baseURI:"",maxSupply:"",royaltyPercentage:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",mintingOrder:"0",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""});b.useEffect(()=>{e&&!f.royaltyRecipient&&h(k=>({...k,royaltyRecipient:e}))},[e]);const m=(k,g)=>{h(j=>({...j,[k]:g}))},y=async k=>{if(k.preventDefault(),!t||!n.raffleDeployer||!r){ie.error("Please connect your wallet and ensure contracts are configured");return}u(!0);try{const g=r.getSigner(),j=Math.floor(new Date(f.startTime).getTime()/1e3),N=parseInt(f.duration)*60,C=f.customTicketPrice?Fo(f.customTicketPrice):0;let S=parseInt(f.revealType),D=f.unrevealedBaseURI,O=0;S===2&&(O=Math.floor(new Date(f.revealTime).getTime()/1e3)),S!==2&&(D="",O=0);const F={name:f.name,startTime:j,duration:N,ticketLimit:parseInt(f.ticketLimit),winnersCount:parseInt(f.winnersCount),maxTicketsPerParticipant:parseInt(f.maxTicketsPerParticipant),isPrized:!0,customTicketPrice:C,erc721Drop:!1,erc1155Drop:!1,prizeCollection:_e,standard:0,prizeTokenId:0,amountPerWinner:1,collectionName:f.collectionName,collectionSymbol:f.collectionSymbol,collectionBaseURI:f.baseURI,creator:e,royaltyPercentage:f.royaltyPercentage?parseInt(f.royaltyPercentage)*100:0,royaltyRecipient:f.royaltyRecipient,maxSupply:parseInt(f.maxSupply||f.winnersCount),erc20PrizeToken:_e,erc20PrizeAmount:0,ethPrizeAmount:0,revealType:S,unrevealedBaseURI:D,revealTime:O,mintingOrder:parseInt(f.mintingOrder),holderTokenAddress:f.tokenGatedEnabled?f.holderTokenAddress:_e,holderTokenStandard:f.tokenGatedEnabled?parseInt(f.holderTokenStandard):0,minHolderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance!==""&&f.minHolderTokenBalance!==void 0?_n(f.minHolderTokenBalance,18):ce.from(0),holderTokenId:f.tokenGatedEnabled&&(f.holderTokenStandard==="0"||f.holderTokenStandard==="1")?parseInt(f.holderTokenId):0};await(await n.raffleDeployer.connect(g).createRaffle(F)).wait(),ie.success("ERC721 Collection raffle created successfully!"),h({name:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",customTicketPrice:"",collectionName:"",collectionSymbol:"",baseURI:"",maxSupply:"",royaltyPercentage:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",mintingOrder:"0",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(g){console.error("Error creating raffle:",g),ie.error($o(g))}finally{u(!1)}};return i.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(Ud,{className:"h-5 w-5"}),i.jsx("h3",{className:"text-xl font-semibold",children:"Create New ERC721 Collection Raffle"})]}),i.jsxs("form",{onSubmit:y,className:"space-y-5",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Raffle Name"}),i.jsx("input",{type:"text",value:f.name||"",onChange:k=>m("name",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),i.jsx("input",{type:"datetime-local",value:f.startTime||"",onChange:k=>m("startTime",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),i.jsx("input",{type:"number",value:f.duration||"",onChange:k=>m("duration",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minDuration&&l.maxDuration&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",Math.ceil(Number(l.minDuration)/60)," min, Max Allowed: ",Math.floor(Number(l.maxDuration)/60)," min"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),i.jsx("input",{type:"number",value:f.ticketLimit||"",onChange:k=>m("ticketLimit",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minTicket&&l.maxTicket&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",l.minTicket,", Max Allowed: ",l.maxTicket]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Winners"}),i.jsx("input",{type:"number",value:f.winnersCount||"",onChange:k=>m("winnersCount",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per Participant"}),i.jsx("input",{type:"number",value:f.maxTicketsPerParticipant||"",onChange:k=>m("maxTicketsPerParticipant",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),typeof l.maxTicketsPerParticipant=="string"&&l.maxTicketsPerParticipant!==""?i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max Allowed: ",l.maxTicketsPerParticipant]}):i.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Custom Ticket Price (ETH)"}),i.jsx("input",{type:"number",step:"0.001",value:f.customTicketPrice||"",onChange:k=>m("customTicketPrice",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",placeholder:"Leave empty to use protocol default"})]})]}),i.jsxs("div",{className:"bg-muted/20 border border-border rounded-xl p-4 mt-4",children:[i.jsx("h4",{className:"font-semibold text-base mb-4",children:"NFT Collection Info"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Collection Name"}),i.jsx("input",{type:"text",value:f.collectionName||"",onChange:k=>m("collectionName",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Collection Symbol"}),i.jsx("input",{type:"text",value:f.collectionSymbol||"",onChange:k=>m("collectionSymbol",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Base URI"}),i.jsx("input",{type:"url",value:f.baseURI||"",onChange:k=>m("baseURI",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Supply"}),i.jsx("input",{type:"number",value:f.maxSupply||"",onChange:k=>m("maxSupply",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Royalty Percentage (%)"}),i.jsx("input",{type:"number",value:f.royaltyPercentage||"",onChange:k=>m("royaltyPercentage",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",min:"0",max:"10",step:"0.01",placeholder:"e.g. 5 for 5%"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"Enter as a percentage (e.g. 5 for 5%)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Royalty Recipient"}),i.jsx("input",{type:"text",value:f.royaltyRecipient||"",onChange:k=>m("royaltyRecipient",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0,pattern:"^0x[a-fA-F0-9]{40}$"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"Must be a valid Ethereum address"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Reveal Type"}),i.jsxs(La,{value:f.revealType,onValueChange:k=>m("revealType",k),required:!0,children:[i.jsx(Ba,{className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",children:i.jsx(Fa,{placeholder:"Select Reveal Type"})}),i.jsxs(Ua,{children:[i.jsx(gn,{value:"0",children:"Instant Reveal"}),i.jsx(gn,{value:"1",children:"Manual Reveal"}),i.jsx(gn,{value:"2",children:"Scheduled Reveal"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Minting Order"}),i.jsxs(La,{value:f.mintingOrder,onValueChange:k=>m("mintingOrder",k),required:!0,children:[i.jsx(Ba,{className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",children:i.jsx(Fa,{placeholder:"Select Minting Order"})}),i.jsxs(Ua,{children:[i.jsx(gn,{value:"0",children:"Linear (1, 2, 3, ...)"}),i.jsx(gn,{value:"1",children:"Random (e.g., 57, 12, 98, ...)"})]})]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"Linear: Token IDs are minted sequentially. Random: Token IDs are minted in random order."})]}),(f.revealType==="1"||f.revealType==="2")&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Unrevealed Base URI"}),i.jsx("input",{type:"url",value:f.unrevealedBaseURI||"",onChange:k=>m("unrevealedBaseURI",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:f.revealType==="1"||f.revealType==="2"})]}),f.revealType==="2"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Reveal Time"}),i.jsx("input",{type:"datetime-local",value:f.revealTime||"",onChange:k=>m("revealTime",k.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:f.revealType==="2"})]})]})]}),i.jsx(hi,{formData:f,handleChange:m,required:!0,useFormDataEnabled:!0}),i.jsx("div",{className:"flex gap-4",children:i.jsx(He,{type:"submit",disabled:c||!t,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:c?"Creating...":"Create Raffle"})})]})]})};function H_(){const{connected:t,address:e,provider:r}=Dt(),{contracts:n,executeTransaction:o}=$t(),l=mi(n,!0),[c,u]=b.useState(!1),[f,h]=b.useState(!1),[m,y]=b.useState({name:"",collection:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerUser:"",ticketPrice:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),k=(C,S)=>{y(D=>({...D,[C]:S}))},g=async C=>{if(C.preventDefault(),!t||!n.raffleDeployer||!r){ie.error("Please connect your wallet and ensure contracts are configured");return}u(!0);try{const S=r.getSigner(),D=Math.floor(new Date(m.startTime).getTime()/1e3),O=parseInt(m.duration)*60,F=m.ticketPrice?Fo(m.ticketPrice):0,L=f&&m.holderTokenAddress?m.holderTokenAddress:_e,H=f?parseInt(m.holderTokenStandard):0,q=f&&m.minHolderTokenBalance?_n(m.minHolderTokenBalance,18):0,Y=f&&m.holderTokenId?parseInt(m.holderTokenId):0,Q={name:m.name,startTime:D,duration:O,ticketLimit:parseInt(m.ticketLimit),winnersCount:parseInt(m.winnersCount),maxTicketsPerParticipant:parseInt(m.maxTicketsPerUser),isPrized:!0,customTicketPrice:F,erc721Drop:!0,erc1155Drop:!1,prizeCollection:m.collection,standard:0,prizeTokenId:0,amountPerWinner:1,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:_e,maxSupply:0,erc20PrizeToken:_e,erc20PrizeAmount:0,ethPrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,mintingOrder:0,holderTokenAddress:L,holderTokenStandard:H,minHolderTokenBalance:q,holderTokenId:Y};await(await n.raffleDeployer.connect(S).createRaffle(Q)).wait(),ie.success("Existing ERC721 Collection raffle created successfully!"),y({name:"",collection:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerUser:"",ticketPrice:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),h(!1)}catch(S){console.error("Error creating raffle:",S),ie.error($o(S))}finally{u(!1)}},{status:j,checking:N}=ok(m.collection,n);return i.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(dw,{className:"h-5 w-5"}),i.jsx("h3",{className:"text-xl font-semibold",children:"Create Raffle (Existing ERC721 Prize)"})]}),i.jsxs("form",{onSubmit:g,className:"space-y-5",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Raffle Name"}),i.jsx("input",{type:"text",value:m.name||"",onChange:C=>k("name",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Collection Address"}),i.jsx("input",{type:"text",value:m.collection||"",onChange:C=>k("collection",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),m.collection&&!N&&j===!0&&i.jsx("span",{className:"text-xs text-green-600",children:"Internal Collection"}),m.collection&&!N&&j===!1&&i.jsx("span",{className:"text-xs text-red-600",children:"Not internal"}),m.collection&&N&&i.jsx("span",{className:"text-xs text-muted-foreground",children:"Checking internal status..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),i.jsx("input",{type:"datetime-local",value:m.startTime||"",onChange:C=>k("startTime",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),i.jsx("input",{type:"number",min:"1",value:m.duration||"",onChange:C=>k("duration",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),i.jsx("input",{type:"number",min:"1",value:m.ticketLimit||"",onChange:C=>k("ticketLimit",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Winner Count"}),i.jsx("input",{type:"number",value:m.winnersCount||"",onChange:C=>k("winnersCount",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per User"}),i.jsx("input",{type:"number",min:"1",value:m.maxTicketsPerUser||"",onChange:C=>k("maxTicketsPerUser",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),typeof l.maxTicketsPerParticipant=="string"&&l.maxTicketsPerParticipant!==""?i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max Allowed: ",l.maxTicketsPerParticipant]}):i.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-base font-medium mb-2",children:["Ticket Price (ETH) ",i.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"(Leave empty for NFT giveaway)"})]}),i.jsx("input",{type:"number",min:"0.00000001",step:"any",value:m.ticketPrice||"",onChange:C=>k("ticketPrice",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsx(hi,{tokenGatedEnabled:f,onTokenGatedChange:h,formData:m,handleChange:k,required:!0}),i.jsx("div",{className:"flex gap-4",children:i.jsx(He,{type:"submit",className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:"Create Raffle"})})]})]})}function q_(){const{connected:t,address:e,provider:r}=Dt(),{contracts:n}=$t(),o=mi(n,!0),[l,c]=b.useState(!1),[u,f]=b.useState({name:"",collectionAddress:"",tokenId:"",amountPerWinner:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",ticketPrice:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),h=(g,j)=>{f(N=>({...N,[g]:j}))},m=async g=>{if(g.preventDefault(),!t||!n.raffleDeployer||!r){ie.error("Please connect your wallet and ensure contracts are configured");return}c(!0);try{const j=r.getSigner(),N=Math.floor(new Date(u.startTime).getTime()/1e3),C=parseInt(u.duration)*60,S=u.ticketPrice?Fo(u.ticketPrice):0,D={name:u.name,startTime:N,duration:C,ticketLimit:parseInt(u.ticketLimit),winnersCount:parseInt(u.winnersCount),maxTicketsPerParticipant:parseInt(u.maxTicketsPerParticipant),isPrized:!0,customTicketPrice:S,erc721Drop:!1,erc1155Drop:!0,prizeCollection:u.collectionAddress,standard:1,prizeTokenId:parseInt(u.tokenId),amountPerWinner:parseInt(u.amountPerWinner),collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:_e,maxSupply:0,erc20PrizeToken:_e,erc20PrizeAmount:0,ethPrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,mintingOrder:0,holderTokenAddress:u.tokenGatedEnabled?u.holderTokenAddress:_e,holderTokenStandard:u.tokenGatedEnabled?parseInt(u.holderTokenStandard):0,minHolderTokenBalance:u.tokenGatedEnabled?_n(u.minHolderTokenBalance,18):0,holderTokenId:u.tokenGatedEnabled&&(u.holderTokenStandard==="0"||u.holderTokenStandard==="1")?parseInt(u.holderTokenId):0};await(await n.raffleDeployer.connect(j).createRaffle(D)).wait(),ie.success("Existing ERC1155 Collection raffle created successfully!"),f({name:"",collectionAddress:"",tokenId:"",amountPerWinner:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",ticketPrice:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(j){console.error("Error creating raffle:",j),ie.error(j.message||"Error creating raffle")}finally{c(!1)}},{status:y,checking:k}=ok(u.collectionAddress,n);return i.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(dw,{className:"h-5 w-5"}),i.jsx("h3",{className:"text-xl font-semibold",children:"Create Raffle (Existing ERC1155 Collection)"})]}),i.jsxs("form",{onSubmit:m,className:"space-y-5",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Raffle Name"}),i.jsx("input",{type:"text",value:u.name||"",onChange:g=>h("name",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Collection Address"}),i.jsx("input",{type:"text",value:u.collectionAddress||"",onChange:g=>h("collectionAddress",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),u.collectionAddress&&!k&&y===!0&&i.jsx("span",{className:"text-xs text-green-600",children:"Internal Collection"}),u.collectionAddress&&!k&&y===!1&&i.jsx("span",{className:"text-xs text-red-600",children:"Not internal"}),u.collectionAddress&&k&&i.jsx("span",{className:"text-xs text-muted-foreground",children:"Checking internal status..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Token ID"}),i.jsx("input",{type:"number",min:"0",value:u.tokenId||"",onChange:g=>h("tokenId",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Amount Per Winner"}),i.jsx("input",{type:"number",min:"1",value:u.amountPerWinner||"",onChange:g=>h("amountPerWinner",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),i.jsx("input",{type:"datetime-local",value:u.startTime||"",onChange:g=>h("startTime",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),i.jsx("input",{type:"number",value:u.duration||"",onChange:g=>h("duration",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),o.minDuration&&o.maxDuration&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",Math.ceil(Number(o.minDuration)/60)," min, Max Allowed: ",Math.floor(Number(o.maxDuration)/60)," min"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),i.jsx("input",{type:"number",value:u.ticketLimit||"",onChange:g=>h("ticketLimit",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),o.minTicket&&o.maxTicket&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",o.minTicket,", Max Allowed: ",o.maxTicket]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Winners Count"}),i.jsx("input",{type:"number",value:u.winnersCount||"",onChange:g=>h("winnersCount",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per Participant"}),i.jsx("input",{type:"number",value:u.maxTicketsPerParticipant||"",onChange:g=>h("maxTicketsPerParticipant",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),typeof o.maxTicketsPerParticipant=="string"&&o.maxTicketsPerParticipant!==""?i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max Allowed: ",o.maxTicketsPerParticipant]}):i.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Custom Ticket Price (ETH)"}),i.jsx("input",{type:"number",step:"0.001",value:u.ticketPrice||"",onChange:g=>h("ticketPrice",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",placeholder:"Leave empty to use protocol default"})]})]}),i.jsx(hi,{formData:u,handleChange:h,required:!0,useFormDataEnabled:!0}),i.jsx("div",{className:"flex gap-4",children:i.jsx(He,{type:"submit",disabled:l||!t,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:l?"Creating...":"Create Raffle"})})]})]})}const G_=()=>{const{connected:t}=Dt(),{contracts:e}=$t(),[r,n]=b.useState(null),[o,l]=b.useState("Whitelist/Allowlist"),[c,u]=b.useState("ERC721"),[f,h]=b.useState("New ERC721 Collection"),[m,y]=b.useState("Internal NFT Prize"),[k,g]=b.useState("Internal NFT Prize"),[j,N]=b.useState("Internal NFT Prize"),[C,S]=b.useState("New ERC1155 Collection"),[D,O]=b.useState(""),[F,L]=b.useState(!1);b.useEffect(()=>{(async()=>{if(o==="NFTDrop"&&c==="ERC721"&&f==="Existing ERC721 Collection"&&e.raffleManager)try{const Q=await e.raffleManager.toggleAllowExistingCollection();n(!!Q)}catch{n(!1)}})()},[o,c,f,e.raffleManager]),b.useEffect(()=>{o==="NFTDrop"&&c==="ERC721"&&f==="New ERC721 Collection"&&O("")},[o,c,f]);const H=()=>{if(o==="Whitelist/Allowlist")return i.jsx($_,{});if(o==="NFTDrop"){if(c==="ERC721"){if(f==="New ERC721 Collection")return i.jsx(W_,{});if(f==="Existing ERC721 Collection")return i.jsx(H_,{collectionAddress:D,setCollectionAddress:O})}if(c==="ERC1155"){if(C==="New ERC1155 Collection")return i.jsx(X_,{});if(C==="Existing ERC1155 Collection")return i.jsx(q_,{})}}if(o==="Lucky Sale/NFT Giveaway"){if(c==="ERC721")return i.jsx(V_,{});if(c==="ERC1155")return i.jsx(K_,{})}return o==="ETH Giveaway"?i.jsx(Y_,{}):o==="ERC20 Token Giveaway"?i.jsx(Q_,{}):null},{isMobile:q}=rr();return t?i.jsx("div",{className:"min-h-screen bg-background pb-6",children:i.jsxs("div",{className:`${q?"px-4":"container mx-auto px-8"}`,children:[i.jsx("div",{className:`text-center ${q?"mb-6 mt-4":"mb-4"}`,children:i.jsx("h1",{className:`font-bold ${q?"text-2xl mb-2":"text-4xl mb-4"}`,children:"Create an on-chain raffle for your community"})}),i.jsx("div",{className:`max-w-7xl mx-auto ${q?"mt-6":"mt-16"}`,children:q?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-start",children:i.jsxs(He,{variant:o!=="Whitelist/Allowlist"?"default":"outline",onClick:()=>L(!0),className:`flex items-center gap-2 ${o!=="Whitelist/Allowlist"?"bg-primary text-primary-foreground hover:bg-primary/90":""}`,children:[i.jsx(ec,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:o!=="Whitelist/Allowlist"?"Filters Applied":"Configure Your Raffle"}),o!=="Whitelist/Allowlist"&&i.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs bg-primary-foreground/20 rounded-full",children:"Active"})]})}),i.jsx("div",{className:"w-full",children:H()})]}):i.jsxs("div",{className:"flex gap-2 items-start",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsxs(He,{variant:o!=="Whitelist/Allowlist"?"default":"outline",onClick:()=>L(!0),className:`flex items-center gap-2 ${o!=="Whitelist/Allowlist"?"bg-primary text-primary-foreground hover:bg-primary/90":""}`,children:[i.jsx(ec,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:o!=="Whitelist/Allowlist"?"Filters Applied":"Configure Your Raffle"}),o!=="Whitelist/Allowlist"&&i.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs bg-primary-foreground/20 rounded-full",children:"Active"})]})}),i.jsx("div",{className:"flex-1",children:H()})]})}),i.jsx(U_,{isOpen:F,onToggle:()=>L(!F),raffleType:o,setRaffleType:l,nftStandard:c,setNftStandard:u,erc721Source:f,setErc721Source:h,erc1155Source:C,setErc1155Source:S})]})}):i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Pn,{className:`mx-auto mb-4 text-muted-foreground ${q?"h-12 w-12":"h-16 w-16"}`}),i.jsx("h2",{className:`font-bold mb-2 ${q?"text-xl":"text-2xl"}`,children:"Connect Your Wallet"}),i.jsx("p",{className:`text-muted-foreground ${q?"text-sm":"text-base"}`,children:"Please connect your wallet to create raffles and deploy collections."})]})})};function V_(){const{connected:t,address:e,provider:r}=Dt(),{contracts:n}=$t(),{isMobile:o}=rr(),l=mi(n,!0),[c,u]=b.useState(!1),[f,h]=b.useState({name:"",collectionAddress:"",tokenId:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",ticketPrice:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),m=(j,N)=>{h(C=>({...C,[j]:N}))},y=async j=>{if(j.preventDefault(),!t||!n.raffleDeployer||!r){ie.error("Please connect your wallet and ensure contracts are configured");return}u(!0);try{const N=r.getSigner(),C=await og({signer:N,tokenAddress:f.collectionAddress,prizeType:"erc721",spender:n.raffleDeployer.address,tokenId:f.tokenId});if(!C.success){ie.error("Token approval failed: "+C.error),u(!1);return}C.alreadyApproved||(ie.success("ERC721 approval successful!"),await new Promise(H=>setTimeout(H,2e3)));const S=Math.floor(new Date(f.startTime).getTime()/1e3),D=parseInt(f.duration)*60,O=f.ticketPrice?Fo(f.ticketPrice):0,F={name:f.name,startTime:S,duration:D,ticketLimit:parseInt(f.ticketLimit),winnersCount:parseInt(f.winnersCount),maxTicketsPerParticipant:parseInt(f.maxTicketsPerParticipant),isPrized:!0,customTicketPrice:O,erc721Drop:!1,prizeCollection:f.collectionAddress,standard:0,prizeTokenId:parseInt(f.tokenId),amountPerWinner:1,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:_e,maxSupply:0,erc20PrizeToken:_e,erc20PrizeAmount:0,ethPrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,mintingOrder:0,holderTokenAddress:f.tokenGatedEnabled?f.holderTokenAddress:_e,holderTokenStandard:f.tokenGatedEnabled?parseInt(f.holderTokenStandard):0,minHolderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance!==""&&f.minHolderTokenBalance!==void 0?_n(f.minHolderTokenBalance,18):ce.from(0),holderTokenId:f.tokenGatedEnabled&&(f.holderTokenStandard==="0"||f.holderTokenStandard==="1")?parseInt(f.holderTokenId):0};await(await n.raffleDeployer.connect(N).createRaffle(F)).wait(),ie.success("Lucky Sale ERC721 raffle created successfully!"),h({name:"",collectionAddress:"",tokenId:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",ticketPrice:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(N){console.error("Error creating raffle:",N),ie.error($o(N))}finally{u(!1)}},{status:k,checking:g}=ik(f.collectionAddress,n);return i.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(Ud,{className:"h-5 w-5"}),i.jsx("h3",{className:`font-semibold ${o?"text-lg":"text-xl"}`,children:"Create Lucky Sale (ERC721 Escrowed Prize)"})]}),i.jsxs("form",{onSubmit:y,className:"space-y-5",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block font-medium mb-2 ${o?"text-sm":"text-base"}`,children:"Raffle Name"}),i.jsx("input",{type:"text",value:f.name||"",onChange:j=>m("name",j.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block font-medium mb-2 ${o?"text-sm":"text-base"}`,children:"Prize Collection Address"}),i.jsx("input",{type:"text",value:f.collectionAddress||"",onChange:j=>m("collectionAddress",j.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),f.collectionAddress&&!g&&k===!0&&i.jsx("span",{className:"text-xs text-green-600",children:"Whitelisted"}),f.collectionAddress&&!g&&k===!1&&i.jsx("span",{className:"text-xs text-red-600",children:"Not whitelisted"}),f.collectionAddress&&g&&i.jsx("span",{className:"text-xs text-muted-foreground",children:"Checking whitelist status..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Token ID"}),i.jsx("input",{type:"number",min:"0",value:f.tokenId||"",onChange:j=>m("tokenId",j.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),i.jsx("input",{type:"datetime-local",value:f.startTime||"",onChange:j=>m("startTime",j.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),i.jsx("input",{type:"number",value:f.duration||"",onChange:j=>m("duration",j.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minDuration&&l.maxDuration&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",Math.ceil(Number(l.minDuration)/60)," min, Max Allowed: ",Math.floor(Number(l.maxDuration)/60)," min"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),i.jsx("input",{type:"number",value:f.ticketLimit||"",onChange:j=>m("ticketLimit",j.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minTicket&&l.maxTicket&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",l.minTicket,", Max Allowed: ",l.maxTicket]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Winner Count"}),i.jsx("input",{type:"number",value:f.winnersCount||"",onChange:j=>m("winnersCount",j.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per Participant"}),i.jsx("input",{type:"number",value:f.maxTicketsPerParticipant||"",onChange:j=>m("maxTicketsPerParticipant",j.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),typeof l.maxTicketsPerParticipant=="string"&&l.maxTicketsPerParticipant!==""?i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max Allowed: ",l.maxTicketsPerParticipant]}):i.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-base font-medium mb-2",children:["Ticket Price (ETH) ",i.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"(Leave empty for NFT giveaway)"})]}),i.jsx("input",{type:"number",step:"any",value:f.ticketPrice||"",onChange:j=>m("ticketPrice",j.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsx(hi,{formData:f,handleChange:m,required:!0,useFormDataEnabled:!0}),i.jsx("div",{className:"flex gap-4",children:i.jsx(He,{type:"submit",disabled:c||!t,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:c?"Approving & Creating...":"Approve Prize & Create Raffle"})})]})]})}function K_(){const{connected:t,address:e,provider:r}=Dt(),{contracts:n}=$t(),o=mi(n,!0),[l,c]=b.useState(!1),[u,f]=b.useState({name:"",collectionAddress:"",tokenId:"",unitsPerWinner:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",ticketPrice:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),h=(g,j)=>{f(N=>({...N,[g]:j}))},m=async g=>{if(g.preventDefault(),!t||!n.raffleDeployer||!r){ie.error("Please connect your wallet and ensure contracts are configured");return}c(!0);try{const j=r.getSigner(),N=await og({signer:j,tokenAddress:u.collectionAddress,prizeType:"erc1155",spender:n.raffleDeployer.address});if(!N.success){ie.error("Token approval failed: "+N.error),c(!1);return}N.alreadyApproved||(ie.success("ERC1155 approval successful!"),await new Promise(H=>setTimeout(H,2e3)));const C=Math.floor(new Date(u.startTime).getTime()/1e3),S=parseInt(u.duration)*60,D=u.ticketPrice?Fo(u.ticketPrice):0,O=u.unitsPerWinner?parseInt(u.unitsPerWinner):1,F={name:u.name,startTime:C,duration:S,ticketLimit:parseInt(u.ticketLimit),winnersCount:parseInt(u.winnersCount),maxTicketsPerParticipant:parseInt(u.maxTicketsPerParticipant),isPrized:!0,customTicketPrice:D,erc721Drop:!1,prizeCollection:u.collectionAddress,standard:1,prizeTokenId:parseInt(u.tokenId),amountPerWinner:O,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:_e,maxSupply:0,erc20PrizeToken:_e,erc20PrizeAmount:0,ethPrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,mintingOrder:0,holderTokenAddress:u.tokenGatedEnabled?u.holderTokenAddress:_e,holderTokenStandard:u.tokenGatedEnabled?parseInt(u.holderTokenStandard):0,minHolderTokenBalance:u.tokenGatedEnabled&&u.minHolderTokenBalance!==""&&u.minHolderTokenBalance!==void 0?_n(u.minHolderTokenBalance,18):ce.from(0),holderTokenId:u.tokenGatedEnabled&&(u.holderTokenStandard==="0"||u.holderTokenStandard==="1")?parseInt(u.holderTokenId):0};await(await n.raffleDeployer.connect(j).createRaffle(F)).wait(),ie.success("Lucky Sale ERC1155 raffle created successfully!"),f({name:"",collectionAddress:"",tokenId:"",unitsPerWinner:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",ticketPrice:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(j){console.error("Error creating raffle:",j),ie.error($o(j))}finally{c(!1)}},{status:y,checking:k}=ik(u.collectionAddress,n);return i.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(Ud,{className:"h-5 w-5"}),i.jsx("h3",{className:"text-xl font-semibold",children:"Create Lucky Sale (ERC1155 Escrowed Prize)"})]}),i.jsxs("form",{onSubmit:m,className:"space-y-5",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Raffle Name"}),i.jsx("input",{type:"text",value:u.name||"",onChange:g=>h("name",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Collection Address"}),i.jsx("input",{type:"text",value:u.collectionAddress||"",onChange:g=>h("collectionAddress",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),u.collectionAddress&&!k&&y===!0&&i.jsx("span",{className:"text-xs text-green-600",children:"Whitelisted"}),u.collectionAddress&&!k&&y===!1&&i.jsx("span",{className:"text-xs text-red-600",children:"Not whitelisted"}),u.collectionAddress&&k&&i.jsx("span",{className:"text-xs text-muted-foreground",children:"Checking whitelist status..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Token ID"}),i.jsx("input",{type:"number",min:"0",value:u.tokenId||"",onChange:g=>h("tokenId",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Units Per Winner"}),i.jsx("input",{type:"number",min:"1",value:u.unitsPerWinner||"",onChange:g=>h("unitsPerWinner",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),i.jsx("input",{type:"datetime-local",value:u.startTime||"",onChange:g=>h("startTime",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),i.jsx("input",{type:"number",value:u.duration||"",onChange:g=>h("duration",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),o.minDuration&&o.maxDuration&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",Math.ceil(Number(o.minDuration)/60)," min, Max Allowed: ",Math.floor(Number(o.maxDuration)/60)," min"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),i.jsx("input",{type:"number",value:u.ticketLimit||"",onChange:g=>h("ticketLimit",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),o.minTicket&&o.maxTicket&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",o.minTicket,", Max Allowed: ",o.maxTicket]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Winner Count"}),i.jsx("input",{type:"number",value:u.winnersCount||"",onChange:g=>h("winnersCount",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per Participant"}),i.jsx("input",{type:"number",value:u.maxTicketsPerParticipant||"",onChange:g=>h("maxTicketsPerParticipant",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),typeof o.maxTicketsPerParticipant=="string"&&o.maxTicketsPerParticipant!==""?i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max Allowed: ",o.maxTicketsPerParticipant]}):i.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-base font-medium mb-2",children:["Ticket Price (ETH) ",i.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"(Leave empty for NFT giveaway)"})]}),i.jsx("input",{type:"number",step:"any",value:u.ticketPrice||"",onChange:g=>h("ticketPrice",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsx(hi,{formData:u,handleChange:h,required:!0,useFormDataEnabled:!0}),i.jsx("div",{className:"flex gap-4",children:i.jsx(He,{type:"submit",disabled:l||!t,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:l?"Approving & Creating...":"Approve Prize & Create Raffle"})})]})]})}function Y_(){const{connected:t,address:e,provider:r}=Dt(),{contracts:n,executeTransaction:o}=$t(),{isMobile:l}=rr(),c=mi(n,!0),[u,f]=b.useState(!1),[h,m]=b.useState({name:"",ethAmount:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),y=(g,j)=>{m(N=>({...N,[g]:j}))},k=async g=>{if(g.preventDefault(),!t||!n.raffleDeployer||!r){ie.error("Please connect your wallet and ensure contracts are configured");return}f(!0);try{const j=r.getSigner(),N=Math.floor(new Date(h.startTime).getTime()/1e3),C=parseInt(h.duration)*60,S=h.ethAmount?Fo(h.ethAmount):0,D={name:h.name,startTime:N,duration:C,ticketLimit:parseInt(h.ticketLimit),winnersCount:parseInt(h.winnersCount),maxTicketsPerParticipant:parseInt(h.maxTicketsPerParticipant),isPrized:!0,customTicketPrice:0,erc721Drop:!1,prizeCollection:_e,standard:3,prizeTokenId:0,amountPerWinner:0,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:_e,maxSupply:0,erc20PrizeToken:_e,erc20PrizeAmount:ce.from(0),ethPrizeAmount:S,revealType:0,unrevealedBaseURI:"",revealTime:0,mintingOrder:0,holderTokenAddress:h.tokenGatedEnabled?h.holderTokenAddress:_e,holderTokenStandard:h.tokenGatedEnabled?parseInt(h.holderTokenStandard):0,minHolderTokenBalance:h.tokenGatedEnabled&&h.minHolderTokenBalance!==""&&h.minHolderTokenBalance!==void 0?_n(h.minHolderTokenBalance,18):ce.from(0),holderTokenId:h.tokenGatedEnabled&&(h.holderTokenStandard==="0"||h.holderTokenStandard==="1")?parseInt(h.holderTokenId):0};let O={success:!1};try{const F=await n.raffleDeployer.connect(j).createRaffle(D,{value:S});O={success:!0,receipt:await F.wait(),hash:F.hash}}catch(F){O={success:!1,error:F.message}}if(O.success)ie.success("ETH Giveaway raffle created successfully!"),m({name:"",ethAmount:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:""});else throw new Error(O.error)}catch(j){console.error("Error creating raffle:",j),ie.error($o(j))}finally{f(!1)}};return i.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(Tp,{className:"h-5 w-5"}),i.jsx("h3",{className:`font-semibold ${l?"text-lg":"text-xl"}`,children:"Feeling Generous? Now's a great time to give away some ETH!"})]}),i.jsxs("form",{onSubmit:k,className:"space-y-5",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block font-medium mb-2 ${l?"text-sm":"text-base"}`,children:"Raffle Name"}),i.jsx("input",{type:"text",value:h.name||"",onChange:g=>y("name",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Total ETH Prize"}),i.jsx("input",{type:"number",min:"0.00000001",step:"any",value:h.ethAmount||"",onChange:g=>y("ethAmount",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),i.jsx("input",{type:"datetime-local",value:h.startTime||"",onChange:g=>y("startTime",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),i.jsx("input",{type:"number",value:h.duration||"",onChange:g=>y("duration",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),c.minDuration&&c.maxDuration&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",Math.ceil(Number(c.minDuration)/60)," min, Max Allowed: ",Math.floor(Number(c.maxDuration)/60)," min"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),i.jsx("input",{type:"number",value:h.ticketLimit||"",onChange:g=>y("ticketLimit",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),c.minTicket&&c.maxTicket&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",c.minTicket,", Max Allowed: ",c.maxTicket]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Winner Count"}),i.jsx("input",{type:"number",value:h.winnersCount||"",onChange:g=>y("winnersCount",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per Participant"}),i.jsx("input",{type:"number",value:h.maxTicketsPerParticipant||"",onChange:g=>y("maxTicketsPerParticipant",g.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),typeof c.maxTicketsPerParticipant=="string"&&c.maxTicketsPerParticipant!==""?i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max Allowed: ",c.maxTicketsPerParticipant]}):i.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]})]}),i.jsx(hi,{formData:h,handleChange:y,required:!0,useFormDataEnabled:!0}),i.jsx("div",{className:"flex gap-4",children:i.jsx(He,{type:"submit",disabled:u||!t,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:u?"Creating...":"Create Raffle"})})]})]})}function Q_(){const{connected:t,address:e,provider:r}=Dt(),{contracts:n}=$t(),{isMobile:o}=rr(),l=mi(n,!0),[c,u]=b.useState(!1),[f,h]=b.useState({name:"",tokenAddress:"",tokenAmount:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),[m,y]=b.useState(null),[k,g]=b.useState(!1);b.useEffect(()=>{let C=!1;async function S(D){if(!(n!=null&&n.raffleManager)||!D||D.length!==42){y(null);return}g(!0);try{const O=await n.raffleManager.isERC20PrizeWhitelisted(D);C||y(O)}catch{C||y(!1)}finally{C||g(!1)}}return S(f.tokenAddress),()=>{C=!0}},[f.tokenAddress,n]);const j=(C,S)=>{h(D=>({...D,[C]:S}))},N=async C=>{if(C.preventDefault(),!t||!n.raffleDeployer||!r){ie.error("Please connect your wallet and ensure contracts are configured");return}u(!0);try{const S=r.getSigner(),D=await og({signer:S,tokenAddress:f.tokenAddress,prizeType:"erc20",spender:n.raffleDeployer.address,amount:f.tokenAmount});if(!D.success){ie.error("Token approval failed: "+D.error),u(!1);return}D.alreadyApproved||(ie.success("ERC20 approval successful!"),await new Promise(Q=>setTimeout(Q,2e3)));const O=await new Ut(f.tokenAddress,Vt.erc20,S).decimals(),F=Math.floor(new Date(f.startTime).getTime()/1e3),L=parseInt(f.duration)*60,H=f.tokenAmount?_n(f.tokenAmount,O):ce.from(0),q={name:f.name,startTime:F,duration:L,ticketLimit:parseInt(f.ticketLimit),winnersCount:parseInt(f.winnersCount),maxTicketsPerParticipant:parseInt(f.maxTicketsPerParticipant),isPrized:!0,customTicketPrice:ce.from(0),erc721Drop:!1,prizeCollection:_e,standard:2,prizeTokenId:0,amountPerWinner:0,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:_e,maxSupply:0,erc20PrizeToken:f.tokenAddress,erc20PrizeAmount:H,ethPrizeAmount:ce.from(0),revealType:0,unrevealedBaseURI:"",revealTime:0,mintingOrder:0,holderTokenAddress:f.tokenGatedEnabled?f.holderTokenAddress:_e,holderTokenStandard:f.tokenGatedEnabled?parseInt(f.holderTokenStandard):0,minHolderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance!==""&&f.minHolderTokenBalance!==void 0?_n(f.minHolderTokenBalance,18):ce.from(0),holderTokenId:f.tokenGatedEnabled&&(f.holderTokenStandard==="0"||f.holderTokenStandard==="1")?parseInt(f.holderTokenId):0};await(await n.raffleDeployer.connect(S).createRaffle(q)).wait(),ie.success("ERC20 Giveaway raffle created successfully!"),h({name:"",tokenAddress:"",tokenAmount:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:""})}catch(S){console.error("Error creating raffle:",S),ie.error($o(S))}finally{u(!1)}};return i.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(Tp,{className:"h-5 w-5"}),i.jsx("h3",{className:`font-semibold ${o?"text-lg":"text-xl"}`,children:"It's a great day to give out some tokens! "})]}),i.jsxs("form",{onSubmit:N,className:"space-y-5",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Raffle Name"}),i.jsx("input",{type:"text",value:f.name||"",onChange:C=>j("name",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"ERC20 Token Address"}),i.jsx("input",{type:"text",value:f.tokenAddress||"",onChange:C=>j("tokenAddress",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),f.tokenAddress&&!k&&m===!0&&i.jsx("span",{className:"text-xs text-green-600",children:"Whitelisted"}),f.tokenAddress&&!k&&m===!1&&i.jsx("span",{className:"text-xs text-red-600",children:"Not whitelisted"}),f.tokenAddress&&k&&i.jsx("span",{className:"text-xs text-muted-foreground",children:"Checking whitelist status..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Total Token Amount"}),i.jsx("input",{type:"number",min:"0.00000001",step:"any",value:f.tokenAmount||"",onChange:C=>j("tokenAmount",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),i.jsx("input",{type:"datetime-local",value:f.startTime||"",onChange:C=>j("startTime",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),i.jsx("input",{type:"number",value:f.duration||"",onChange:C=>j("duration",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minDuration&&l.maxDuration&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",Math.ceil(Number(l.minDuration)/60)," min, Max Allowed: ",Math.floor(Number(l.maxDuration)/60)," min"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),i.jsx("input",{type:"number",value:f.ticketLimit||"",onChange:C=>j("ticketLimit",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minTicket&&l.maxTicket&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",l.minTicket,", Max Allowed: ",l.maxTicket]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Winner Count"}),i.jsx("input",{type:"number",value:f.winnersCount||"",onChange:C=>j("winnersCount",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per Participant"}),i.jsx("input",{type:"number",value:f.maxTicketsPerParticipant||"",onChange:C=>j("maxTicketsPerParticipant",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),typeof l.maxTicketsPerParticipant=="string"&&l.maxTicketsPerParticipant!==""?i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max Allowed: ",l.maxTicketsPerParticipant]}):i.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]})]}),i.jsx(hi,{formData:f,handleChange:j,required:!0,useFormDataEnabled:!0}),i.jsx("div",{className:"flex gap-4",children:i.jsx(He,{type:"submit",disabled:c||!t,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:c?"Approving & Creating...":"Approve Prize & Create Raffle"})})]})]})}async function J_(t,e,r,n,o,l){try{let c;const u=await t.getAddress();if(r==="erc20"){c=new Ut(e,Vt.erc20,t);const f=await c.decimals(),h=_n(o,f),m=await c.allowance(u,n);if(m.gte(h))return!0;if(m.isZero())try{const y=await t.provider.getBlockNumber(),k=Math.max(0,y-1e3),g="0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925",j="0x"+u.slice(2).padStart(64,"0"),N="0x"+n.slice(2).padStart(64,"0"),C=await t.provider.getLogs({address:e,topics:[g,j,N],fromBlock:k,toBlock:y});for(const S of C)if(ce.from(S.data).gte(h))return!0}catch{}return!1}else if(r==="erc721"){c=new Ut(e,Vt.erc721Prize,t);const f=await c.getApproved(l);return f&&f.toLowerCase()===n.toLowerCase()}else if(r==="erc1155")return c=new Ut(e,Vt.erc1155Prize,t),await c.isApprovedForAll(u,n);return!1}catch{return!1}}async function og({signer:t,tokenAddress:e,prizeType:r,spender:n,amount:o,tokenId:l}){try{if(await J_(t,e,r,n,o,l))return{success:!0,alreadyApproved:!0};let u,f;if(r==="erc20"){u=new Ut(e,Vt.erc20,t);const h=await u.decimals(),m=_n(o,h);f=await u.approve(n,m)}else r==="erc721"?(u=new Ut(e,Vt.erc721Prize,t),f=await u.approve(n,l)):r==="erc1155"&&(u=new Ut(e,Vt.erc1155Prize,t),f=await u.setApprovalForAll(n,!0));return await f.wait(),await new Promise(h=>setTimeout(h,2e3)),{success:!0}}catch(c){return{success:!1,error:c.message}}}function $o(t){var n,o;if(t!=null&&t.reason)return t.reason;if((n=t==null?void 0:t.data)!=null&&n.message)return t.data.message;const e=(t==null?void 0:t.message)||((o=t==null?void 0:t.data)==null?void 0:o.message)||(t==null?void 0:t.toString())||"",r=e.match(/execution reverted:?\s*([^\n]*)/i);return r&&r[1]?r[1].trim():e}function X_(){const{connected:t,address:e,provider:r}=Dt(),{contracts:n}=$t(),o=mi(n,!0),[l,c]=b.useState(!1),[u,f]=b.useState({name:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",customTicketPrice:"",collectionName:"",collectionSymbol:"",baseURI:"",maxSupply:"",royaltyPercentage:"",prizeTokenId:"1",amountPerWinner:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""});b.useEffect(()=>{e&&!u.royaltyRecipient&&f(y=>({...y,royaltyRecipient:e}))},[e]);const h=(y,k)=>{f(g=>({...g,[y]:k}))},m=async y=>{if(y.preventDefault(),!t||!n.raffleDeployer||!r){ie.error("Please connect your wallet and ensure contracts are configured");return}c(!0);try{const k=r.getSigner(),g=Math.floor(new Date(u.startTime).getTime()/1e3),j=parseInt(u.duration)*60,N=u.customTicketPrice?Fo(u.customTicketPrice):0;let C=parseInt(u.revealType),S=u.unrevealedBaseURI,D=0;C===2&&(D=Math.floor(new Date(u.revealTime).getTime()/1e3)),C!==2&&(S="",D=0);const O={name:u.name,startTime:g,duration:j,ticketLimit:parseInt(u.ticketLimit),winnersCount:parseInt(u.winnersCount),maxTicketsPerParticipant:parseInt(u.maxTicketsPerParticipant),isPrized:!0,customTicketPrice:N,erc721Drop:!1,erc1155Drop:!1,prizeCollection:_e,standard:1,prizeTokenId:parseInt(u.prizeTokenId),amountPerWinner:parseInt(u.amountPerWinner),collectionName:u.collectionName,collectionSymbol:u.collectionSymbol,collectionBaseURI:u.baseURI,creator:e,royaltyPercentage:u.royaltyPercentage?parseInt(u.royaltyPercentage)*100:0,royaltyRecipient:u.royaltyRecipient,maxSupply:parseInt(u.maxSupply||u.winnersCount),erc20PrizeToken:_e,erc20PrizeAmount:0,ethPrizeAmount:0,revealType:C,unrevealedBaseURI:S,revealTime:D,mintingOrder:0,holderTokenAddress:u.tokenGatedEnabled?u.holderTokenAddress:_e,holderTokenStandard:u.tokenGatedEnabled?parseInt(u.holderTokenStandard):0,minHolderTokenBalance:u.tokenGatedEnabled&&u.minHolderTokenBalance!==""&&u.minHolderTokenBalance!==void 0?_n(u.minHolderTokenBalance,18):ce.from(0),holderTokenId:u.tokenGatedEnabled&&(u.holderTokenStandard==="0"||u.holderTokenStandard==="1")?parseInt(u.holderTokenId):0};await(await n.raffleDeployer.connect(k).createRaffle(O)).wait(),ie.success("New ERC1155 Collection raffle created successfully!"),f({name:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",customTicketPrice:"",collectionName:"",collectionSymbol:"",baseURI:"",maxSupply:"",royaltyPercentage:"",prizeTokenId:"1",amountPerWinner:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(k){console.error("Error creating raffle:",k),ie.error(k.message||"Error creating raffle")}finally{c(!1)}};return i.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(Ud,{className:"h-5 w-5"}),i.jsx("h3",{className:"text-xl font-semibold",children:"Create New ERC1155 Collection Raffle"})]}),i.jsxs("form",{onSubmit:m,className:"space-y-5",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Raffle Name"}),i.jsx("input",{type:"text",value:u.name||"",onChange:y=>h("name",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),i.jsx("input",{type:"datetime-local",value:u.startTime||"",onChange:y=>h("startTime",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),i.jsx("input",{type:"number",value:u.duration||"",onChange:y=>h("duration",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),o.minDuration&&o.maxDuration&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",Math.ceil(Number(o.minDuration)/60)," min, Max Allowed: ",Math.floor(Number(o.maxDuration)/60)," min"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),i.jsx("input",{type:"number",value:u.ticketLimit||"",onChange:y=>h("ticketLimit",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),o.minTicket&&o.maxTicket&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",o.minTicket,", Max Allowed: ",o.maxTicket]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Winners Count"}),i.jsx("input",{type:"number",value:u.winnersCount||"",onChange:y=>h("winnersCount",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per Participant"}),i.jsx("input",{type:"number",value:u.maxTicketsPerParticipant||"",onChange:y=>h("maxTicketsPerParticipant",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),(console.log("maxTicketsPerParticipant limit:",o.maxTicketsPerParticipant),null),typeof o.maxTicketsPerParticipant=="string"&&o.maxTicketsPerParticipant!==""?i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max Allowed: ",o.maxTicketsPerParticipant]}):i.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Custom Ticket Price (ETH)"}),i.jsx("input",{type:"number",step:"0.001",value:u.customTicketPrice||"",onChange:y=>h("customTicketPrice",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",placeholder:"Leave empty to use protocol default"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Token ID"}),i.jsx("input",{type:"number",value:u.prizeTokenId||"",onChange:y=>h("prizeTokenId",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Amount Per Winner"}),i.jsx("input",{type:"number",value:u.amountPerWinner||"",onChange:y=>h("amountPerWinner",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]})]}),i.jsxs("div",{className:"bg-muted/20 border border-border rounded-xl p-4 mt-4",children:[i.jsx("h4",{className:"font-semibold text-base mb-4",children:"NFT Collection Info"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Collection Name"}),i.jsx("input",{type:"text",value:u.collectionName||"",onChange:y=>h("collectionName",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Collection Symbol"}),i.jsx("input",{type:"text",value:u.collectionSymbol||"",onChange:y=>h("collectionSymbol",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Base URI"}),i.jsx("input",{type:"url",value:u.baseURI||"",onChange:y=>h("baseURI",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Supply"}),i.jsx("input",{type:"number",value:u.maxSupply||"",onChange:y=>h("maxSupply",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Royalty Percentage (%)"}),i.jsx("input",{type:"number",value:u.royaltyPercentage||"",onChange:y=>h("royaltyPercentage",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",min:"0",max:"10",step:"0.01",placeholder:"e.g. 5 for 5%"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"Enter as a percentage (e.g. 5 for 5%)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Royalty Recipient"}),i.jsx("input",{type:"text",value:u.royaltyRecipient||"",onChange:y=>h("royaltyRecipient",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0,pattern:"^0x[a-fA-F0-9]{40}$"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"Must be a valid Ethereum address"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Reveal Type"}),i.jsxs(La,{value:u.revealType,onValueChange:y=>h("revealType",y),required:!0,children:[i.jsx(Ba,{className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",children:i.jsx(Fa,{placeholder:"Select Reveal Type"})}),i.jsxs(Ua,{children:[i.jsx(gn,{value:"0",children:"Instant Reveal"}),i.jsx(gn,{value:"1",children:"Manual Reveal"}),i.jsx(gn,{value:"2",children:"Scheduled Reveal"})]})]})]}),(u.revealType==="1"||u.revealType==="2")&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Unrevealed Base URI"}),i.jsx("input",{type:"url",value:u.unrevealedBaseURI||"",onChange:y=>h("unrevealedBaseURI",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:u.revealType==="1"||u.revealType==="2"})]}),u.revealType==="2"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-medium mb-2",children:"Reveal Time"}),i.jsx("input",{type:"datetime-local",value:u.revealTime||"",onChange:y=>h("revealTime",y.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:u.revealType==="2"})]})]})]}),i.jsx(hi,{formData:u,handleChange:h,required:!0,useFormDataEnabled:!0}),i.jsx("div",{className:"flex gap-4",children:i.jsx(He,{type:"submit",disabled:l||!t,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:l?"Creating...":"Create Raffle"})})]})]})}function mi(t,e){const[r,n]=b.useState({minTicket:void 0,maxTicket:void 0,minDuration:void 0,maxDuration:void 0,maxTicketsPerParticipant:void 0});return b.useEffect(()=>{if(!(t!=null&&t.raffleManager))return;async function o(){var l,c,u,f,h,m,y,k;try{if(e){const[g,j,N]=await Promise.all([t.raffleManager.getAllTicketLimits(),t.raffleManager.getDurationLimits(),t.raffleManager.getMaxTicketsPerParticipant()]);n({minTicket:(l=g.minPrized)==null?void 0:l.toString(),maxTicket:(c=g.max)==null?void 0:c.toString(),minDuration:(u=j.min)==null?void 0:u.toString(),maxDuration:(f=j.max)==null?void 0:f.toString(),maxTicketsPerParticipant:N==null?void 0:N.toString()})}else{const[g,j,N]=await Promise.all([t.raffleManager.getAllTicketLimits(),t.raffleManager.getDurationLimits(),t.raffleManager.maxTicketsPerParticipant()]);n({minTicket:(h=g.minNonPrized)==null?void 0:h.toString(),maxTicket:(m=g.max)==null?void 0:m.toString(),minDuration:(y=j.min)==null?void 0:y.toString(),maxDuration:(k=j.max)==null?void 0:k.toString(),maxTicketsPerParticipant:N==null?void 0:N.toString()})}}catch{}}o()},[t,e]),r}function ik(t,e){const[r,n]=b.useState(null),[o,l]=b.useState(!1);return b.useEffect(()=>{let c=!1;async function u(f){if(!(e!=null&&e.raffleManager)||!f||f.length!==42){n(null);return}l(!0);try{const h=await e.raffleManager.isWhitelisted(f);c||n(h)}catch{c||n(!1)}finally{c||l(!1)}}return u(t),()=>{c=!0}},[t,e]),{status:r,checking:o}}function ok(t,e){const[r,n]=b.useState(null),[o,l]=b.useState(!1);return b.useEffect(()=>{let c=!1;async function u(f){if(!(e!=null&&e.raffleManager)||!f||f.length!==42){n(null);return}l(!0);try{const h=await e.raffleManager.isInternalCollection(f);c||n(h)}catch{c||n(!1)}finally{c||l(!1)}}return u(t),()=>{c=!0}},[t,e]),{status:r,checking:o}}const lp=["Pending","Active","Ended","Drawing","Completed","Deleted","Activation Failed","Prizes Claimed","Unengaged"];function ds(t){var n,o;if(t!=null&&t.reason)return t.reason;if((n=t==null?void 0:t.data)!=null&&n.message)return t.data.message;const e=(t==null?void 0:t.message)||((o=t==null?void 0:t.data)==null?void 0:o.message)||(t==null?void 0:t.toString())||"",r=e.match(/execution reverted:?\s*([^\n]*)/i);return r&&r[1]?r[1].trim():e}const Z_=({raffle:t,onPurchase:e,timeRemaining:r,winners:n,shouldShowClaimPrize:o,prizeAlreadyClaimed:l,claimingPrize:c,handleClaimPrize:u,shouldShowClaimRefund:f,claimingRefund:h,handleClaimRefund:m,refundableAmount:y,isMintableERC721:k,showMintInput:g,setShowMintInput:j,mintWinnerAddress:N,setMintWinnerAddress:C,mintingToWinner:S,handleMintToWinner:D,isEscrowedPrize:O,isExternallyPrized:F,isPrized:L,isMobile:H,onStateChange:q})=>{var Ge;const{connected:Y,address:Q}=Dt(),{getContractInstance:re,executeTransaction:te}=$t(),[$,M]=b.useState(1),[x,E]=b.useState(!1),[T,P]=b.useState(0),[_,z]=b.useState(null),[W,R]=b.useState(!1),[w,U]=b.useState(null),[se,I]=b.useState(!1),[V,K]=b.useState(!1);b.useEffect(()=>{Z()},[t.address,Q]),b.useEffect(()=>{async function Oe(){if(t.address)try{const Se=re(t.address,"raffle");if(!Se)return;const Xe=await Se.usesCustomPrice();U(Xe)}catch{U(null)}}Oe()},[t.address,re]);const Z=async()=>{if(!t.address||!Q){P(0),z(null);return}try{const Oe=re(t.address,"raffle");if(!Oe)return;const Se=await Oe.ticketsPurchased(Q);P(Se.toNumber?Se.toNumber():Number(Se));let Xe=0;try{Xe=(await Oe.getParticipantsCount()).toNumber()}catch{let Ve=0;for(;;)try{await Oe.participants(Ve),Xe++,Ve++}catch{break}}Xe>0&&Se>0?z((Se/Xe*100).toFixed(2)):z(null)}catch{P(0),z(null)}},oe=async()=>{if(!Y){ie.error("Please connect your wallet first");return}E(!0);try{await e($)}catch(Oe){console.error("Purchase failed:",Oe),ie.error(ds(Oe))}finally{E(!1)}},fe=()=>{var Oe;return((Oe=t.state)==null?void 0:Oe.toLowerCase())==="active"},ue=()=>{const Oe=Math.floor(Date.now()/1e3),Se=t.startTime+t.duration;return t.state==="Active"&&Oe>=Se||r==="Ended"},de=async()=>{R(!0);try{const Oe=re(t.address,"raffle");if(!Oe)throw new Error("Failed to get raffle contract");const Se=await te(Oe.activate);if(Se.success)ie.success("Raffle activated successfully!"),q&&q();else throw new Error(Se.error)}catch(Oe){ie.error(ds(Oe))}finally{R(!1)}},Pe=async()=>{K(!0);try{const Oe=re(t.address,"raffle");if(!Oe)throw new Error("Failed to get raffle contract");const Se=await te(Oe.requestRandomWords);if(Se.success)ie.success("Randomness requested successfully!"),q&&q();else throw new Error(Se.error)}catch(Oe){ie.error(ds(Oe))}finally{K(!1)}},ge=async()=>{I(!0);try{const Oe=re(t.address,"raffle");if(!Oe)throw new Error("Failed to get raffle contract");const Se=await te(Oe.endRaffle);if(Se.success)ie.success("Raffle ended successfully!"),q&&q();else throw new Error(Se.error)}catch(Oe){ie.error(ds(Oe))}finally{I(!1)}},ve=()=>o&&!l,Je=()=>t.isPrized&&(t.stateNum===4||t.stateNum===7||t.stateNum===8)&&y&&y.gt&&y.gt(0),Ne=Math.floor(Date.now()/1e3),Fe=t&&t.startTime?Ne>=t.startTime:!1,bt=t.ticketLimit-t.ticketsSold,Ze=Math.min(bt,t.maxTicketsPerParticipant);return i.jsxs("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[i.jsx(Ps,{className:"h-5 w-5"}),"Purchase Tickets"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsxs("span",{className:"text-muted-foreground",children:["Ticket Price",w===!0?" (set by Creator)":w===!1?" (Protocol Ticket Fee)":"",":"]}),i.jsxs("p",{className:`font-semibold ${H?"text-base":"text-lg"}`,children:[Jt(t.ticketPrice||"0")," ETH"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Remaining tickets:"}),i.jsx("p",{className:`font-semibold ${H?"text-base":"text-lg"}`,children:t.ticketLimit-t.ticketsSold})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Your tickets:"}),i.jsx("p",{className:`font-semibold ${H?"text-base":"text-lg"}`,children:T||0})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Winning Chance:"}),i.jsx("p",{className:`font-semibold ${H?"text-base":"text-lg"}`,children:_!==null?`${_}%`:"N/A"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Max per user:"}),i.jsx("p",{className:`font-semibold ${H?"text-base":"text-lg"}`,children:t.maxTicketsPerParticipant})]}),Je&&y&&y.gt&&y.gt(0)&&i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Your Refundable Amount:"}),i.jsxs("p",{className:`font-semibold ${H?"text-base":"text-lg"}`,children:[Jt(y)," ETH"]})]}),i.jsx("div",{})]}),t.stateNum===4||t.stateNum===7||t.stateNum===8?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"hidden lg:block space-y-4",children:[i.jsx("div",{className:"p-4 bg-muted/20 backdrop-blur-sm border border-border/20 rounded-lg",children:i.jsxs("div",{className:"text-center text-muted-foreground",children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:"Your Participation Summary"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"block text-muted-foreground",children:"Tickets Purchased"}),i.jsx("span",{className:"font-semibold text-base",children:T||0})]}),i.jsxs("div",{children:[i.jsx("span",{className:"block text-muted-foreground",children:"Total Spent"}),i.jsx("span",{className:"font-semibold text-base",children:T>0?`${Jt(ce.from(t.ticketPrice).mul(T))} ETH`:"0 ETH"})]})]})]})}),i.jsx("div",{className:"h-8"})," "]}),ve()||Je()?i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[ve()&&i.jsx("button",{onClick:u,disabled:c||!Y,className:"w-full bg-gradient-to-r from-yellow-500 to-orange-600 text-white px-6 py-3 rounded-lg hover:from-yellow-600 hover:to-orange-700 transition-colors disabled:opacity-50",children:c?k&&!O?"Minting...":"Claiming...":k&&!O?"Mint Prize":"Claim Prize"}),Je()&&i.jsx("button",{onClick:m,disabled:h||!Y,className:"w-full bg-gradient-to-r from-green-500 to-teal-600 text-white px-6 py-3 rounded-lg hover:from-green-600 hover:to-teal-700 transition-colors disabled:opacity-50",children:h?"Claiming...":"Claim Refund"})]}):i.jsx("button",{disabled:!0,className:"w-full bg-muted text-muted-foreground px-6 py-3 rounded-lg opacity-60 cursor-not-allowed flex items-center justify-center gap-2",children:"Raffle Ended"})]}):i.jsxs(i.Fragment,{children:[!fe()&&i.jsxs("div",{className:"hidden lg:block space-y-4",children:[i.jsx("div",{className:"p-4 bg-muted/20 backdrop-blur-sm border border-border/20 rounded-lg",children:i.jsxs("div",{className:"text-center text-muted-foreground",children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:"Your Participation Summary"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"block text-muted-foreground",children:"Tickets Purchased"}),i.jsx("span",{className:"font-semibold text-base",children:T||0})]}),i.jsxs("div",{children:[i.jsx("span",{className:"block text-muted-foreground",children:"Total Spent"}),i.jsx("span",{className:"font-semibold text-base",children:T>0?`${Jt(ce.from(t.ticketPrice).mul(T))} ETH`:"0 ETH"})]})]})]})}),i.jsx("div",{className:"h-8"})," "]}),((Ge=t.state)==null?void 0:Ge.toLowerCase())==="pending"&&Fe?i.jsx("button",{onClick:de,disabled:W,className:"w-full bg-gradient-to-r from-green-500 to-green-700 text-white px-6 py-3 rounded-lg hover:from-green-600 hover:to-green-800 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:W?"Activating...":"Activate Raffle"}):t.stateNum===2&&((Q==null?void 0:Q.toLowerCase())===t.creator.toLowerCase()||T>0)?i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:Pe,disabled:V,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:V?"Requesting...":"Request Randomness"}),i.jsxs("p",{className:"text-muted-foreground mt-4 text-center text-sm",children:["The raffle has ended. ",(Q==null?void 0:Q.toLowerCase())===t.creator.toLowerCase()?"As the creator":"As a participant",", you can request the randomness to initiate winner selection."]})]}):t.state==="Completed"||t.stateNum===4||t.stateNum===7?i.jsx("button",{disabled:!0,className:"w-full bg-muted text-muted-foreground px-6 py-3 rounded-lg opacity-60 cursor-not-allowed flex items-center justify-center gap-2",children:"Raffle Ended"}):ue()?i.jsx("button",{onClick:ge,disabled:se,className:"w-full bg-gradient-to-r from-red-500 to-red-700 text-white px-6 py-3 rounded-lg hover:from-red-600 hover:to-red-800 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:se?"Ending...":"End Raffle"}):Ze<=0?i.jsx("button",{disabled:!0,className:"w-full bg-muted text-muted-foreground px-6 py-3 rounded-lg opacity-60 cursor-not-allowed flex items-center justify-center gap-2",children:"Raffle Ended"}):T>=t.maxTicketsPerParticipant?i.jsx("button",{disabled:!0,className:"w-full bg-muted text-muted-foreground px-6 py-3 rounded-lg opacity-60 cursor-not-allowed flex items-center justify-center gap-2",children:"Limit Reached"}):i.jsxs(i.Fragment,{children:[fe()?i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Quantity"}),i.jsx("input",{type:"number",min:"1",max:t.maxTicketsPerParticipant,value:$,onChange:Oe=>M(Math.max(1,Math.min(t.maxTicketsPerParticipant,parseInt(Oe.target.value)||1))),className:"w-full px-3 py-2.5 border border-border rounded-md bg-background"}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Maximum: ",t.maxTicketsPerParticipant," tickets"]})]}),i.jsx("div",{className:"p-4 bg-muted/50 backdrop-blur-sm border border-border/30 rounded-lg",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-medium",children:"Total Cost:"}),i.jsxs("span",{className:`font-bold ${H?"text-base":"text-lg"}`,children:[Jt(ce.from(t.ticketPrice).mul($))," ETH"]})]})})]}):i.jsx("div",{className:"hidden lg:block h-32"}),i.jsxs("button",{onClick:oe,disabled:x||!Y||!fe(),className:"w-full bg-primary text-primary-foreground px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 shadow-sm",children:[i.jsx(Ps,{className:"h-4 w-4"}),x?"Processing...":`Purchase ${$} Ticket${$>1?"s":""}`]})]}),!Y&&i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to purchase tickets."})})]}),!Y&&i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to purchase tickets."})})]})]})},e6=({raffle:t})=>{const{getContractInstance:e}=$t(),[r,n]=b.useState(null),[o,l]=b.useState(!0);return b.useEffect(()=>{async function c(){if(t.isPrized){l(!0);try{let u;if(t.standard===0)u=await e(t.prizeCollection,"erc721Prize").tokenURI(t.prizeTokenId);else if(t.standard===1)u=await e(t.prizeCollection,"erc1155Prize").uri(t.prizeTokenId);else{n(null),l(!1);return}if(u.startsWith("ipfs://")&&(u=u.replace("ipfs://","https://ipfs.io/ipfs/")),t.standard===1&&u.includes("{id}")){const m=BigInt(t.prizeTokenId).toString(16).padStart(64,"0");u=u.replace("{id}",m)}const h=await(await fetch(u)).json();n(h.image||null)}catch{n(null)}l(!1)}}t.isPrized&&c()},[t,e]),!t.isPrized||o||!r?null:i.jsx(Ir,{className:"h-full flex flex-col items-center justify-center",children:i.jsx(Dr,{className:"flex flex-col items-center justify-center",children:i.jsx("img",{src:r,alt:"Prize Art",className:"w-48 h-48 object-contain rounded-lg border",style:{background:"#fff"}})})})},t6=({winner:t,index:e,raffle:r,connectedAddress:n,onToggleExpand:o,isExpanded:l,stats:c,onLoadStats:u,collectionName:f})=>{const h=n&&t.address.toLowerCase()===n.toLowerCase(),[m,y]=ye.useState("TOKEN");ye.useEffect(()=>{let C=!0;async function S(){if(!(!r.erc20PrizeToken||r.erc20PrizeToken===_e))try{if(window.__erc20SymbolCache||(window.__erc20SymbolCache={}),window.__erc20SymbolCache[r.erc20PrizeToken]){C&&y(window.__erc20SymbolCache[r.erc20PrizeToken]);return}const D=window.ethereum?new Hi(window.ethereum):Pa(),O=["function symbol() view returns (string)"],L=await new Ut(r.erc20PrizeToken,O,D).symbol();C&&(y(L),window.__erc20SymbolCache[r.erc20PrizeToken]=L)}catch(D){console.error("Error fetching ERC20 symbol:",D),C&&y("TOKEN")}}return S(),()=>{C=!1}},[r.erc20PrizeToken]);const k=C=>C,g=()=>{if(!r.isPrized)return"No Prize";const C=r.winnersCount||1;if(r.ethPrizeAmount&&r.ethPrizeAmount.gt&&r.ethPrizeAmount.gt(0)){const S=r.ethPrizeAmount.div(C);return`${Jt(S)} ETH`}if(r.erc20PrizeToken&&r.erc20PrizeToken!==_e&&r.erc20PrizeAmount&&r.erc20PrizeAmount.gt&&r.erc20PrizeAmount.gt(0)){const S=r.erc20PrizeAmount.div(C);return`${mc(S,18)} ${m}`}if(r.prizeCollection&&r.prizeCollection!==_e){if(r.standard===0)return`${r.amountPerWinner||1} ${f||"ERC721 NFT"}`;if(r.standard===1)return`${r.amountPerWinner||1} ${f||"ERC1155 Token"}`}return"Prize Available"},N=r.isPrized?t.prizeClaimed?{text:"Claimed",color:"text-green-600 dark:text-green-400",icon:"green-dot",bgColor:"bg-green-50 dark:bg-green-900/20"}:{text:"Unclaimed",color:"text-orange-600 dark:text-orange-400",icon:"",bgColor:"bg-orange-50 dark:bg-orange-900/20"}:{text:"No Prize",color:"text-muted-foreground",icon:"",bgColor:"bg-muted/20"};return i.jsx("div",{className:`bg-card border-2 rounded-xl transition-all duration-200 hover:shadow-md ${h?"border-yellow-400 bg-yellow-50/50 dark:bg-yellow-900/10":"border-border hover:border-border/80"}`,children:i.jsxs("div",{className:"p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2.5 min-w-0 flex-1",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${h?"bg-yellow-400":"bg-primary"}`})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"font-mono text-sm font-medium break-all",title:t.address,children:k(t.address)}),h&&i.jsx("div",{className:"text-xs text-yellow-600 dark:text-yellow-400 font-medium mt-0.5",children:"Your Address"})]})]}),i.jsx("button",{onClick:()=>o(t,e),className:"flex-shrink-0 p-1.5 rounded-md hover:bg-muted transition-colors",title:l?"Hide details":"View details",children:i.jsx(Gi,{className:`h-4 w-4 transition-transform duration-200 ${l?"rotate-180":""}`})})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-3 text-sm",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Prize"}),i.jsx("div",{className:"font-medium",children:g()})]}),i.jsxs("div",{className:"space-y-0.5 sm:text-right",children:[i.jsx("span",{className:"text-muted-foreground text-xs tracking-wide block",children:"Status"}),i.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-medium ${N.bgColor} ${N.color}`,children:[N.icon==="green-dot"?i.jsx("div",{className:"w-2 h-2 rounded-full bg-green-600 dark:bg-green-400"}):i.jsx("span",{children:N.icon}),i.jsx("span",{children:N.text})]})]})]}),l&&i.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:c?c.error?i.jsxs("div",{className:"text-center py-4",children:[i.jsx(fr,{className:"h-6 w-6 text-red-500 mx-auto mb-2"}),i.jsx("div",{className:"text-red-500 text-sm font-medium",children:c.error})]}):i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Participation Details"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Tickets Purchased"}),i.jsx("div",{className:"font-semibold text-base",children:c.ticketsPurchased})]}),i.jsxs("div",{className:"space-y-0.5",children:[i.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Winning Tickets"}),i.jsx("div",{className:"font-semibold text-base text-green-600",children:c.winningTickets})]}),i.jsxs("div",{className:"space-y-0.5",children:[i.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Losing Tickets"}),i.jsx("div",{className:"font-semibold text-base text-red-600",children:c.losingTickets})]}),i.jsxs("div",{className:"space-y-0.5",children:[i.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Win Rate"}),i.jsx("div",{className:"font-semibold text-base",children:c.ticketsPurchased>0?`${(c.winningTickets/c.ticketsPurchased*100).toFixed(1)}%`:"0%"})]})]})]}):i.jsxs("div",{className:"text-center py-4",children:[i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary mx-auto mb-2"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading participation details..."})]})})]})})},r6=({raffle:t,isMintableERC721:e,isMobile:r})=>{const{getContractInstance:n,executeTransaction:o}=$t(),{address:l}=Dt(),[c,u]=b.useState([]),[f,h]=b.useState(!1),[m,y]=b.useState(null),[k,g]=b.useState({}),[j,N]=b.useState(null),[C,S]=b.useState(null);b.useEffect(()=>{N(null)},[t]),b.useEffect(()=>{(async()=>{if(!t||!t.prizeCollection||t.prizeCollection===_e){S(null);return}try{const H=await n(t.prizeCollection,t.standard===0?"erc721Prize":"erc1155Prize").name();S(H)}catch(L){console.warn("Failed to fetch collection name:",L),S(null)}})()},[t,n]),b.useEffect(()=>{(async()=>{if(console.log("Fetching winners for raffle state:",t.stateNum,t.state),t.stateNum!==4&&t.stateNum!==7){console.log("Raffle not in completed state, skipping winners fetch"),u([]);return}h(!0);try{const L=n&&n(t.address,"raffle");if(!L){u([]),h(!1);return}const H=await L.winnersCount(),q=H.toNumber?H.toNumber():Number(H);if(console.log("Winners count:",q),q===0){console.log("No winners found"),u([]),h(!1);return}const Y=[];for(let Q=0;Q<q;Q++)try{const re=await L.winners(Q);if(console.log(`Winner at index ${Q}:`,re),re===_e||re==="0x0000000000000000000000000000000000000000"){console.log(`Skipping zero address at index ${Q}`);continue}const te=await L.claimedWins(re),$=await L.prizeClaimed(re);Y.push({address:re,index:Q,claimedWins:te.toNumber?te.toNumber():Number(te),prizeClaimed:$})}catch(re){console.warn(`Error fetching winner at index ${Q}:`,re);continue}console.log("Final winners array:",Y),u(Y)}catch{u([])}finally{h(!1)}})()},[t,n,l]);const D=()=>{switch(lp[t.stateNum]||"Unknown"){case"Pending":return i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Da,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Raffle Pending"}),i.jsx("p",{className:"text-muted-foreground",children:"Winners will be announced after the raffle ends and drawing is complete."})]});case"Active":return i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Hd,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Raffle Active"}),i.jsx("p",{className:"text-muted-foreground",children:"Raffle is currently active. Winners will be announced after it ends."})]});case"Ended":return i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Da,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Raffle Ended"}),i.jsx("p",{className:"text-muted-foreground",children:"Raffle has ended. Waiting for winner selection."})]});case"Drawing":return i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Drawing in Progress"}),i.jsx("p",{className:"text-muted-foreground",children:"Winners are being selected. Please wait..."})]});case"Completed":case"Prizes Claimed":return i.jsx("div",{className:"space-y-4",children:f?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading winners..."})]}):c.length>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("div",{className:"text-sm text-muted-foreground",children:[c.length," winner",c.length!==1?"s":""," selected"]})}),i.jsx("div",{className:"max-h-96 overflow-y-auto pr-2",children:i.jsx("div",{className:"space-y-3 pb-4",children:c.map((L,H)=>i.jsx(t6,{winner:L,index:H,raffle:t,connectedAddress:l,onToggleExpand:O,isExpanded:m===H,stats:k[L.address],onLoadStats:O,collectionName:C},L.index))})})]}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ii,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"No winners data available."})]})});case"Deleted":return i.jsxs("div",{className:"text-center py-8",children:[i.jsx(hw,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Raffle Deleted"}),i.jsx("p",{className:"text-muted-foreground",children:"This raffle has been deleted and is no longer active."})]});case"Activation Failed":return i.jsxs("div",{className:"text-center py-8",children:[i.jsx(fr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Activation Failed"}),i.jsx("p",{className:"text-muted-foreground",children:"Raffle activation failed. Please contact support or try again."})]});case"Unengaged":return i.jsxs("div",{className:"text-center py-8",children:[i.jsx(fr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Unengaged Raffle"}),i.jsx("p",{className:"text-muted-foreground",children:"This raffle did not receive enough engagement and was closed."})]});default:return i.jsxs("div",{className:"text-center py-8",children:[i.jsx(fr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Unknown raffle state."})]})}},O=async(F,L)=>{if(m===L){y(null);return}if(y(L),!k[F.address])try{const H=n(t.address,"raffle"),q=await H.ticketsPurchased(F.address),Y=await H.winsPerAddress(F.address),Q=await H.prizeClaimed(F.address),re=q.toNumber?q.toNumber():Number(q),te=Y.toNumber?Y.toNumber():Number(Y);g($=>({...$,[F.address]:{ticketsPurchased:re,winningTickets:te,losingTickets:re-te,prizeClaimed:!!Q}}))}catch{g(q=>({...q,[F.address]:{error:"Failed to fetch stats"}}))}};return i.jsxs(Ir,{className:"bg-background",children:[i.jsxs(Hn,{className:"flex flex-row items-center justify-between pb-2 pt-3 px-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(qn,{className:r?"text-lg":"text-xl",children:"Winners"}),j&&i.jsxs("a",{href:ak(j),target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 underline flex items-center gap-1",title:"View winner selection transaction",children:[i.jsx(ii,{className:"h-4 w-4"}),"Transaction"]})]}),i.jsx("div",{className:"flex gap-2"})]}),i.jsx(Dr,{className:"overflow-y-auto px-6 pb-6 pt-0",children:D()})]})};function n6({token:t,amount:e}){const[r,n]=ye.useState("TOKEN");return ye.useEffect(()=>{let o=!0;async function l(){try{if(window.__erc20SymbolCache||(window.__erc20SymbolCache={}),window.__erc20SymbolCache[t]){n(window.__erc20SymbolCache[t]);return}const c=window.ethereum?new Hi(window.ethereum):Pa(),u=["function symbol() view returns (string)"],h=await new Ut(t,u,c).symbol();o&&(n(h),window.__erc20SymbolCache[t]=h)}catch{o&&n("TOKEN")}}return l(),()=>{o=!1}},[t]),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Prize Amount:"}),i.jsxs("span",{children:[mc(e,18)," ",r]})]})}function s6(t){return t?t.state==="Deleted"?{label:"All Tickets Refundable",refundable:!0,reason:"Raffle was deleted before ending. All tickets are refundable."}:t.isPrized&&t.winnersCount===1&&t.standard!==void 0&&(t.standard===0||t.standard===1)?{label:"Tickets Refundable if Deleted",refundable:!1,reason:"Single-winner NFT raffles are not refundable unless deleted before ending."}:{label:"Non-winning Tickets Refundable",refundable:!0,reason:"This raffle supports refunds for non-winning tickets."}:{label:"Non-Refundable",refundable:!1,reason:"Unknown"}}function ak(t,e){let r=1;typeof e=="number"?r=e:window.ethereum&&window.ethereum.chainId&&(r=parseInt(window.ethereum.chainId,16));const n={1:"https://etherscan.io",5:"https://goerli.etherscan.io",11155111:"https://sepolia.etherscan.io",137:"https://polygonscan.com",80001:"https://mumbai.polygonscan.com",10:"https://optimistic.etherscan.io",420:"https://goerli-optimism.etherscan.io",42161:"https://arbiscan.io",56:"https://bscscan.com",97:"https://testnet.bscscan.com",43114:"https://snowtrace.io",43113:"https://testnet.snowtrace.io",8453:"https://basescan.org",84531:"https://goerli.basescan.org",84532:"https://sepolia.basescan.org",11155420:"https://sepolia-optimism.etherscan.io"};return`${n[r]||n[1]}/address/${t}`}const i6=[{label:"ERC721",value:0},{label:"ERC1155",value:1}],o6=()=>{var gs,Bs,Qn,pi;const{raffleAddress:t}=SC(),e=tn(),{connected:r,address:n,provider:o,isInitialized:l,isReconnecting:c}=Dt(),{getContractInstance:u,executeTransaction:f,isContractsReady:h}=$t(),{isMobile:m}=rr(),{refreshTrigger:y,triggerRefresh:k}=T3(),[g,j]=b.useState(null),[N,C]=b.useState(!0),[S,D]=b.useState(null),[O,F]=b.useState(""),[L,H]=b.useState(!1),[q,Y]=b.useState(!1),[Q,re]=b.useState(null),[te,$]=b.useState(!1),[M,x]=b.useState(!1),[E,T]=b.useState(!1),[P,_]=b.useState(!1),[z,W]=b.useState(!1),[R,w]=b.useState(!1),[U,se]=b.useState(!1),[I,V]=b.useState(!1),[K,Z]=b.useState(!1),[oe,fe]=b.useState(!1),[ue,de]=b.useState(null),[Pe,ge]=b.useState(!1),[ve,Je]=b.useState(!1),[Ne,Fe]=b.useState(""),[bt,Ze]=b.useState(!1),Ge=async()=>{Ze(!0);try{const xe=u(g.address,"raffle");if(!xe)throw new Error("Failed to get raffle contract");if(!Ne||Ne.length!==42)throw new Error("Please enter a valid address");const Ce=await f(()=>xe.mintToWinner(Ne));if(Ce.success)ie.success("mintToWinner() executed successfully!"),window.location.reload();else throw new Error(Ce.error)}catch(xe){ie.error(ds(xe))}finally{Ze(!1)}},[Oe,Se]=b.useState(!1),Xe=b.useRef(null),[qt,Ve]=b.useState(""),[Ke,Fr]=b.useState(0),[kt,ut]=b.useState(""),[yr,jt]=b.useState(""),[ot,hr]=b.useState(!1),St=async()=>{hr(!0);try{const xe=u(g.address,"raffle");if(!xe)throw new Error("Failed to get raffle contract");if(!qt||qt.length!==42)throw new Error("Please enter a valid address");let Ce=kt,ke=yr;if(Ke===0)Ce=0,ke=1;else if(Ce===""||ke==="")throw new Error("Token ID and Amount Per Winner are required");const Ht=await f(()=>xe.setExternalPrize(qt,Ke,Ce,ke));if(Ht.success)ie.success("Prize assigned successfully!"),window.location.reload();else throw new Error(Ht.error)}catch(xe){ie.error(ds(xe))}finally{hr(!1)}};b.useEffect(()=>{if(!Oe)return;function xe(Ce){Xe.current&&!Xe.current.contains(Ce.target)&&Se(!1)}return document.addEventListener("mousedown",xe),()=>{document.removeEventListener("mousedown",xe)}},[Oe]);const dt=b.useMemo(()=>r,[r]),Yr=b.useMemo(()=>n,[n]),gt=b.useMemo(()=>t,[t]),xt=b.useCallback(async()=>{C(!0),D(null);try{if(!gt)throw new Error("No raffle address provided");if(!l||c)throw new Error("Wallet is initializing, please wait...");if(!u)throw new Error("Contract context not ready");const xe=jp(),Ce=Ap();console.log(` Loading raffle on ${Ce.name} ${Ce.version} (Mobile: ${xe.isMobile})`);const ke=u(gt,"raffle");if(!ke)throw new Error("Failed to create contract instance - no signer/provider available");const Ht=await vd(()=>ke.name(),"name",{timeout:xe.timeout,retries:xe.retries,required:!0});if(!Ht.success)throw new Error(`Contract connectivity test failed: ${Ht.error}`);const yt=[{method:()=>ke.name(),name:"name",required:!0,fallback:"Unknown Raffle"},{method:()=>ke.creator(),name:"creator",required:!0,fallback:_e},{method:()=>ke.startTime(),name:"startTime",required:!0,fallback:ce.from(0)},{method:()=>ke.duration(),name:"duration",required:!0,fallback:ce.from(0)},{method:()=>ke.ticketPrice(),name:"ticketPrice",required:!0,fallback:ce.from(0)},{method:()=>ke.ticketLimit(),name:"ticketLimit",required:!0,fallback:ce.from(0)},{method:()=>ke.winnersCount(),name:"winnersCount",required:!0,fallback:ce.from(0)},{method:()=>ke.maxTicketsPerParticipant(),name:"maxTicketsPerParticipant",required:!0,fallback:ce.from(0)},{method:()=>ke.isPrized(),name:"isPrized",required:!0,fallback:!1},{method:()=>ke.prizeCollection(),name:"prizeCollection",required:!0,fallback:_e},{method:()=>ke.prizeTokenId(),name:"prizeTokenId",required:!0,fallback:ce.from(0)},{method:()=>ke.standard(),name:"standard",required:!0,fallback:ce.from(0)},{method:()=>ke.state(),name:"state",required:!0,fallback:ce.from(0)},{method:wo(ke,"erc20PrizeToken",_e),name:"erc20PrizeToken",required:!1,fallback:_e},{method:wo(ke,"erc20PrizeAmount",ce.from(0)),name:"erc20PrizeAmount",required:!1,fallback:ce.from(0)},{method:wo(ke,"ethPrizeAmount",ce.from(0)),name:"ethPrizeAmount",required:!1,fallback:ce.from(0)},{method:wo(ke,"usesCustomPrice",!1),name:"usesCustomPrice",required:!1,fallback:!1},{method:wo(ke,"isRefundable",!1),name:"isRefundable",required:!1,fallback:!1},{method:wo(ke,"isExternallyPrized",!1),name:"isExternallyPrized",required:!1,fallback:!1},{method:wo(ke,"amountPerWinner",ce.from(1)),name:"amountPerWinner",required:!1,fallback:ce.from(1)}],[kr,sn,Us,xs,gi,ro,Wo,Ho,hf,qo,bc,Ja,xi,mf,Xa,It,wc,kc,Go,no]=await uT(yt,{timeout:xe.timeout,useSequential:xe.useSequential,batchSize:xe.batchSize,delayBetweenCalls:xe.delayBetweenCalls});let so=0;try{so=(await ke.getParticipantsCount()).toNumber()}catch{let Dn=0;for(;;)try{await ke.participants(Dn),so++,Dn++}catch{break}}let io=0,Vo=Ho.toNumber();if(r&&n)try{io=(await ke.ticketsPurchased(n)).toNumber(),Vo=Math.max(0,Ho.toNumber()-io)}catch(on){console.warn("Could not fetch user ticket data:",on);let Dn=0;for(;Dn<so;)try{(await ke.participants(Dn)).toLowerCase()===n.toLowerCase()&&io++,Dn++}catch{break}Vo=Math.max(0,Ho.toNumber()-io)}const oo=!!hf,Jn={address:t,name:kr,creator:sn,startTime:Us.toNumber(),duration:xs.toNumber(),ticketPrice:gi,ticketLimit:ro.toNumber(),ticketsSold:so,winnersCount:Wo.toNumber(),maxTicketsPerParticipant:Ho.toNumber(),isPrized:oo,prizeCollection:oo?qo:null,stateNum:xi,state:lp[xi]||"Unknown",erc20PrizeToken:mf,erc20PrizeAmount:Xa,ethPrizeAmount:It,usesCustomPrice:wc,standard:Ja,prizeTokenId:bc,amountPerWinner:no?no.toNumber?no.toNumber():Number(no):1};j(Jn),de(kc),ge(Go);let Xn=qo;if(Go)try{Xn=await ke.prizeCollection()}catch{}j({...Jn,prizeCollection:Xn})}catch(xe){console.error("Error fetching raffle data:",xe);const Ce=ds(xe);console.log("Raffle fetch error:",Ce),!Ce.toLowerCase().includes("network")&&!Ce.toLowerCase().includes("connection")&&!Ce.toLowerCase().includes("timeout")&&ie.error(`Failed to load raffle: ${Ce}`),D(Ce)}finally{C(!1)}},[gt,u,dt,Yr,l,c,y]);b.useEffect(()=>{gt&&u&&l&&!c&&xt()},[xt,gt,u,l,c,y]),b.useEffect(()=>{(async()=>{if(!g||!g.prizeCollection||g.prizeCollection===_e){re(null);return}try{const ke=await u(g.prizeCollection,g.standard===0?"erc721Prize":"erc1155Prize").name();re(ke)}catch(Ce){console.warn("Failed to fetch raffle collection name:",Ce),re(null)}})()},[g,u]);const Tr=b.useCallback(xe=>{const Ce=Math.floor(xe/86400),ke=Math.floor(xe%86400/3600),Ht=Math.floor(xe%3600/60),yt=xe%60;let kr="";return Ce>0&&(kr+=`${Ce}d `),(ke>0||Ce>0)&&(kr+=`${ke}h `),(Ht>0||ke>0||Ce>0)&&(kr+=`${Ht}m `),kr+=`${yt}s`,kr.trim()},[]),ft=b.useCallback(xe=>{const Ce=Math.floor(xe/86400),ke=Math.floor(xe%86400/3600),Ht=Math.floor(xe%3600/60);let yt="";return Ce>0&&(yt+=`${Ce}d `),(ke>0||Ce>0)&&(yt+=`${ke}h `),(Ht>0||ke>0||Ce>0)&&(yt+=`${Ht}m`),yt||(yt="0m"),yt.trim()},[]),at=b.useCallback(()=>{if(!g)return;const xe=Math.floor(Date.now()/1e3);let Ce="",ke=0;if([2,3,4,5,6,7,8].includes(g.stateNum)){Ce="Duration",ke=g.duration,rt(Ce),Ft(ft(ke));return}xe<g.startTime?(Ce="Starts In",ke=g.startTime-xe):(Ce="Ends In",ke=g.startTime+g.duration-xe),rt(Ce),Ft(ke>0?Tr(ke):"Ended")},[g,Tr,ft]);b.useEffect(()=>{if(!g)return;at();const xe=setInterval(at,1e3);return()=>clearInterval(xe)},[at]),b.useEffect(()=>{async function xe(){if(t&&u)try{const Ce=u(t,"raffle");if(Ce){const ke=await Ce.isEscrowedPrize();H(ke)}}catch{H(!1)}}xe()},[t,u]),b.useEffect(()=>{(async()=>{if(g&&g.standard===1&&g.prizeCollection&&n&&n.toLowerCase()===g.creator.toLowerCase()){T(!0);try{const ke=(window.ethereum?new Hi(window.ethereum):Pa()).getSigner(),yt=await new Ut(g.prizeCollection,Vt.erc1155Prize,ke).isApprovedForAll(n,g.address);x(yt)}catch{x(!1)}finally{T(!1)}}})()},[g,n]),b.useEffect(()=>{(async()=>{if(g&&g.erc20PrizeToken&&g.erc20PrizeToken!==_e&&g.erc20PrizeAmount&&n&&n.toLowerCase()===g.creator.toLowerCase()){w(!0);try{const ke=(window.ethereum?new Hi(window.ethereum):Pa()).getSigner(),yt=await new Ut(g.erc20PrizeToken,Vt.erc20,ke).allowance(n,g.address);W(yt.gte(g.erc20PrizeAmount))}catch{W(!1)}finally{w(!1)}}})()},[g,n]),b.useEffect(()=>{(async()=>{if(g&&g.standard===0&&g.prizeCollection&&typeof g.prizeTokenId<"u"&&n&&n.toLowerCase()===g.creator.toLowerCase()){Z(!0);try{const ke=(window.ethereum?new Hi(window.ethereum):Pa()).getSigner(),Ht=new Ut(g.prizeCollection,Vt.erc721Prize,ke),yt=await Ht.getApproved(g.prizeTokenId);if(yt&&yt.toLowerCase()===g.address.toLowerCase())V(!0);else{const kr=await Ht.isApprovedForAll(n,g.address);V(kr)}}catch{V(!1)}finally{Z(!1)}}})()},[g,n]);const cr=async xe=>{if(!r||!g)throw new Error("Wallet not connected or raffle not loaded");const Ce=u(g.address,"raffle");if(!Ce)throw new Error("Failed to get raffle contract");const ke=ce.from(g.ticketPrice).mul(xe),Ht=await f(Ce.purchaseTickets,xe,{value:ke});if(Ht.success)ie.success(`Successfully purchased ${xe} ticket${xe>1?"s":""}!`),k();else throw new Error(Ht.error)},Tt=async()=>{if(!(!g||!u)){console.log("Attempting to delete raffle:",{address:g.address,state:g.state,stateNum:g.stateNum,creator:g.creator,userAddress:n,isCreator:(n==null?void 0:n.toLowerCase())===g.creator.toLowerCase(),prizeCollection:g.prizeCollection,usesCustomPrice:g.usesCustomPrice,canDelete:Ee()}),$(!0);try{const xe=u(g.address,"raffle");if(!xe)throw new Error("Contract instance not available");await(await xe.deleteRaffle()).wait(),ie.success("Raffle deleted successfully!"),e("/")}catch(xe){console.error("Error deleting raffle:",xe),ie.error(ds(xe))}finally{$(!1)}}},Ee=()=>r&&(n==null?void 0:n.toLowerCase())===(g==null?void 0:g.creator.toLowerCase())&&((g==null?void 0:g.state)==="Pending"||(g==null?void 0:g.state)==="Active")&&(ue===!0||(g==null?void 0:g.usesCustomPrice)===!0),nt=()=>{if(!g)return null;const xe=lp[g.stateNum]||"Unknown",Ce={Pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",Active:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",Ended:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",Drawing:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",Completed:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",Deleted:"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-300","Activation Failed":"bg-red-200 text-red-900 dark:bg-red-900/40 dark:text-red-300","Prizes Claimed":"bg-blue-200 text-blue-900 dark:bg-blue-900/40 dark:text-blue-300",Unengaged:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",Unknown:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};return i.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Ce[xe]||Ce.Unknown}`,children:xe})};async function Le(){Y(!0);try{await(await u(t,"raffle").withdrawEscrowedPrize()).wait(),ie.success("Prize withdrawn successfully!")}catch(xe){ie.error(ds(xe))}finally{Y(!1)}}b.useEffect(()=>{console.log("RAFFLE:",g),console.log("isEscrowedPrize:",L),console.log("is1155Approved:",M),console.log("checkingApproval:",E)},[g,L,M,E]);const tt=Math.floor(Date.now()/1e3);g&&g.startTime&&tt>=g.startTime;const[Xt,rt]=b.useState(""),[lt,Ft]=b.useState(""),[ht,Nt]=b.useState(!1),[nn,Ct]=b.useState(!1),[_t,xn]=b.useState(!1),[zt,Pt]=b.useState(!1),[Br,Ot]=b.useState(!1),[Et,Qr]=b.useState(null),[Pr,Jr]=b.useState(null);b.useEffect(()=>{(async()=>{if(!g||!n||g.stateNum!==4&&g.stateNum!==7){xn(!1),Pt(!1),Qr(null),Jr(null);return}try{const Ce=u&&u(g.address,"raffle");if(!Ce)return;const ke=await Ce.winnersCount(),Ht=ke.toNumber?ke.toNumber():Number(ke);let yt=!1,kr=null;for(let sn=0;sn<Ht;sn++)try{const Us=await Ce.winners(sn);if(Us.toLowerCase()===n.toLowerCase()){const xs=await Ce.claimedWins(Us),gi=await Ce.prizeClaimed(Us);yt=!0,kr={address:Us,index:sn,claimedWins:xs.toNumber?xs.toNumber():Number(xs),prizeClaimed:!!gi};break}}catch{continue}if(xn(yt),Jr(kr),g.isPrized)try{const sn=await Ce.getRefundableAmount(n);Qr(sn),Pt(sn&&sn.gt&&sn.gt(0))}catch{Qr(null),Pt(!1)}}catch{xn(!1),Pt(!1),Qr(null),Jr(null)}})()},[g,u,n]);const yn=!!Pr&&(g==null?void 0:g.isPrized)&&((g==null?void 0:g.stateNum)===4||(g==null?void 0:g.stateNum)===7),vn=Pr&&Pr.prizeClaimed,eo=(g==null?void 0:g.isPrized)&&((g==null?void 0:g.stateNum)===4||(g==null?void 0:g.stateNum)===7)&&zt&&Et&&Et.gt&&Et.gt(0),to=async()=>{if(!n||!g||!u){ie.error("Please connect your wallet to claim your prize");return}if(!_t||!Pr){ie.error("You are not a winner of this raffle");return}if(Pr.prizeClaimed){ie.error("You have already claimed your prize");return}Nt(!0);try{const xe=u(g.address,"raffle");if(!xe)throw new Error("Failed to get raffle contract");const Ce=await f(xe.claimPrize);if(Ce.success){let ke="prize";g.ethPrizeAmount&&g.ethPrizeAmount.gt&&g.ethPrizeAmount.gt(0)?ke=`${Jt(g.ethPrizeAmount)} ETH`:g.erc20PrizeToken&&g.erc20PrizeToken!==_e&&g.erc20PrizeAmount&&g.erc20PrizeAmount.gt&&g.erc20PrizeAmount.gt(0)?ke=`${mc(g.erc20PrizeAmount,18)} ERC20 tokens`:g.prizeCollection&&g.prizeCollection!==_e&&(ke=g.standard===0?"ERC721 NFT":"ERC1155 NFT"),ie.success(`Successfully claimed your ${ke}!`),window.location.reload()}else throw new Error(Ce.error)}catch(xe){ie.error(ds(xe))}finally{Nt(!1)}},Wt=async()=>{if(!n||!g||!u){ie.error("Please connect your wallet to claim your refund");return}Ct(!0);try{const xe=u(g.address,"raffle");if(!xe)throw new Error("Failed to get raffle contract");const Ce=await f(xe.claimRefund);if(Ce.success)ie.success("Successfully claimed your refund!"),k();else throw new Error(Ce.error)}catch(xe){ie.error(ds(xe))}finally{Ct(!1)}};if(N||c)return i.jsx(ni,{children:i.jsx(O2,{message:c?"Reconnecting wallet...":"Loading raffle details...",isMobile:m})});if(S&&!N&&!c){const xe=S.toLowerCase().includes("wallet")||S.toLowerCase().includes("signer")||S.toLowerCase().includes("initializing");return i.jsx(ni,{variant:"wide",className:"py-8",children:i.jsxs("div",{className:"text-center py-16",children:[i.jsx(fr,{className:"h-16 w-16 text-destructive mx-auto mb-4"}),i.jsx("h2",{className:m?"text-lg font-semibold mb-2":"text-2xl font-semibold mb-2",children:xe?"Wallet Connection Issue":"Failed to Load Raffle"}),i.jsx("p",{className:"text-muted-foreground mb-4 max-w-md mx-auto",children:xe?"Please ensure your wallet is connected and try again.":S}),i.jsxs("div",{className:"flex gap-4 justify-center",children:[i.jsx("button",{onClick:xt,className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 transition-colors",children:"Try Again"}),i.jsx("button",{onClick:()=>e("/"),className:"bg-muted text-muted-foreground px-4 py-2 rounded-md hover:bg-muted/80 transition-colors",children:"Back to Home"})]})]})})}if(!g)return i.jsx(ni,{variant:"wide",className:"py-8",children:i.jsxs("div",{className:"text-center py-16",children:[i.jsx(fr,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),i.jsx("h2",{className:m?"text-lg font-semibold mb-2":"text-2xl font-semibold mb-2",children:"Raffle Not Found"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"The raffle you're looking for doesn't exist or has been removed."}),i.jsx("button",{onClick:()=>e("/"),className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 transition-colors",children:"Back to Home"})]})});const Fs=g&&g.prizeCollection&&g.prizeCollection!==_e&&g.standard===0;return i.jsxs(ni,{variant:"wide",className:"py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("button",{onClick:()=>e("/"),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors mb-4",children:[i.jsx(pc,{className:"h-4 w-4"}),"Back to Raffles"]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:m?"text-xl font-bold mb-2":"text-3xl font-bold mb-2",children:g.name}),i.jsxs("p",{className:"text-muted-foreground",children:["Created by ",g.creator.slice(0,10),"...",g.creator.slice(-8)]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[nt(),Ee()&&i.jsxs(He,{onClick:Tt,className:"flex items-center gap-2 bg-gradient-to-r from-red-500 to-pink-600 text-white px-4 py-2 rounded-md hover:from-red-600 hover:to-pink-700 transition-colors text-sm font-medium",title:g.ticketsSold>0?"Delete raffle (refunds will be processed automatically)":"Delete this raffle",disabled:te,children:[i.jsx(hw,{className:"h-4 w-4"}),te?"Deleting...":"Delete Raffle"]}),r&&(n==null?void 0:n.toLowerCase())===g.creator.toLowerCase()&&(g.isPrized||Fs||!g.isPrized&&Pe)&&g.prizeCollection&&g.prizeCollection!==_e&&(!g.erc20PrizeAmount||((Bs=(gs=g.erc20PrizeAmount).isZero)==null?void 0:Bs.call(gs))||g.erc20PrizeAmount==="0")&&(!g.ethPrizeAmount||((pi=(Qn=g.ethPrizeAmount).isZero)==null?void 0:pi.call(Qn))||g.ethPrizeAmount==="0")&&!L&&i.jsx("div",{className:"flex flex-col gap-2",children:ve?i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-center",children:[i.jsx("input",{type:"text",placeholder:"Enter winner address",value:Ne,onChange:xe=>Fe(xe.target.value),className:"px-3 py-2.5 border border-border rounded-md bg-background w-72 font-mono",disabled:bt}),i.jsx(He,{onClick:Ge,disabled:bt||!Ne||Ne.length!==42,className:"bg-gradient-to-r from-orange-500 to-red-600 text-white px-4 py-2 rounded-lg hover:from-orange-600 hover:to-red-700 transition-colors disabled:opacity-50",children:bt?"Minting...":"Submit"}),i.jsx(He,{variant:"outline",onClick:()=>Je(!1),disabled:bt,className:"ml-2",children:"Cancel"})]}):i.jsx(He,{onClick:()=>Je(!0),className:"bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:"Mint to Winner"})}),r&&(n==null?void 0:n.toLowerCase())===g.creator.toLowerCase()&&L&&g.standard===1&&i.jsx(He,{onClick:Le,className:"ml-2 bg-warning text-warning-foreground hover:bg-warning/90",disabled:q,children:q?"Withdrawing...":"Withdraw Prize"}),!g.isPrized&&g.stateNum===0&&r&&(n==null?void 0:n.toLowerCase())===g.creator.toLowerCase()&&i.jsx("div",{className:"flex flex-col gap-2",children:Oe?i.jsxs("div",{ref:Xe,className:"flex flex-col sm:flex-row gap-2 items-center bg-background p-2 rounded-md relative z-10",children:[i.jsx("input",{type:"text",placeholder:"Prize collection address",value:qt,onChange:xe=>Ve(xe.target.value),className:"px-3 py-2.5 border border-border rounded-md bg-background w-56 font-mono",disabled:ot}),i.jsx("select",{value:Ke,onChange:xe=>Fr(Number(xe.target.value)),className:"px-3 py-2.5 border border-border rounded-md bg-black text-white",disabled:ot,children:i6.map(xe=>i.jsx("option",{value:xe.value,children:xe.label},xe.value))}),i.jsx("input",{type:"number",placeholder:"Prize Token ID",value:Ke===0?0:kt,onChange:xe=>ut(xe.target.value),className:"px-3 py-2.5 border border-border rounded-md bg-background w-32",disabled:ot||Ke===0}),i.jsx("input",{type:"number",placeholder:"Amount Per Winner",value:Ke===0?1:yr,onChange:xe=>jt(xe.target.value),className:"px-3 py-2.5 border border-border rounded-md bg-background w-32",disabled:ot||Ke===0}),i.jsx(He,{onClick:St,disabled:ot||!qt||qt.length!==42||Ke!==0&&(kt===""||yr===""),className:"bg-gradient-to-r from-green-500 to-blue-600 text-white px-4 py-2 rounded-lg hover:from-green-600 hover:to-blue-700 transition-colors disabled:opacity-50",children:ot?"Assigning...":"Submit"}),i.jsx(He,{variant:"outline",onClick:()=>Se(!1),disabled:ot,className:"ml-2",children:"Cancel"})]}):i.jsx(He,{onClick:()=>Se(!0),className:"bg-gradient-to-r from-green-500 to-blue-600 text-white px-6 py-3 rounded-lg hover:from-green-600 hover:to-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:"Assign Prize"})})]})]}),Ee()&&g.ticketsSold>0&&i.jsx("div",{className:"mt-4 p-4 bg-blue-50/80 dark:bg-blue-900/20 backdrop-blur-sm border border-blue-200/50 dark:border-blue-700/50 rounded-lg",children:i.jsxs("p",{className:"text-sm text-blue-800",children:[" As the raffle creator, you can delete this raffle. Deletion will automatically process refunds for all ",g.ticketsSold," sold tickets."]})})]}),i.jsx("div",{className:"mb-8 p-6 bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl shadow-lg",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 text-center items-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:`font-bold ${m?"text-lg":"text-2xl"}`,children:g.ticketsSold}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Tickets Sold"})]}),i.jsxs("div",{children:[i.jsx("p",{className:`font-bold ${m?"text-lg":"text-2xl"}`,children:g.ticketLimit}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Tickets"})]}),i.jsxs("div",{children:[i.jsx("p",{className:`font-bold ${m?"text-lg":"text-2xl"}`,children:g.winnersCount}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Winners"})]}),i.jsxs("div",{children:[i.jsx("p",{className:`font-bold ${m?"text-lg":"text-2xl"}`,children:lt}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:Xt})]}),i.jsx("div",{className:"flex justify-center lg:justify-end items-center h-full w-full",children:ue&&g&&g.standard!==2&&g.standard!==3&&(()=>{const{refundable:xe,reason:Ce,label:ke}=s6(g);return i.jsxs("span",{className:`px-3 py-1 rounded-full font-semibold ${xe?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-300"} text-xs`,title:Ce,style:{whiteSpace:"nowrap"},children:[ke,i.jsx(kT,{className:"inline-block ml-1 h-4 w-4 text-gray-400 align-middle",title:Ce})]})})()})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsx(Z_,{raffle:g,onPurchase:cr,timeRemaining:O,winners:[],shouldShowClaimPrize:yn,prizeAlreadyClaimed:vn,claimingPrize:ht,handleClaimPrize:to,shouldShowClaimRefund:eo,claimingRefund:nn,handleClaimRefund:Wt,refundableAmount:Et,isMintableERC721:Fs,showMintInput:ve,setShowMintInput:Je,mintWinnerAddress:Ne,setMintWinnerAddress:Fe,mintingToWinner:bt,handleMintToWinner:Ge,isEscrowedPrize:L,isExternallyPrized:Pe,isPrized:g.isPrized,isMobile:m,onStateChange:k}),i.jsx(r6,{raffle:g,isMintableERC721:Fs,isMobile:m})]}),i.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-6 shadow-lg h-full",children:[i.jsx("h3",{className:`font-semibold mb-4 ${m?"text-base":"text-lg"}`,children:"Raffle Details"}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Contract Address:"}),i.jsx("span",{className:"font-mono",children:m?`${g.address.slice(0,12)}...`:`${g.address.slice(0,10)}...${g.address.slice(-8)}`})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Start Time:"}),i.jsx("span",{children:new Date(g.startTime*1e3).toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Duration:"}),i.jsx("span",{children:ft(g.duration)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Ticket Price:"}),i.jsxs("span",{children:[Jt(g.ticketPrice)," ETH"]})]}),g.ethPrizeAmount&&g.ethPrizeAmount.gt&&g.ethPrizeAmount.gt(0)&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Prize Amount:"}),i.jsxs("span",{children:[Jt(g.ethPrizeAmount)," ETH"]})]}),g.erc20PrizeToken&&g.erc20PrizeToken!==_e&&g.erc20PrizeAmount&&g.erc20PrizeAmount.gt&&g.erc20PrizeAmount.gt(0)&&i.jsx(n6,{token:g.erc20PrizeToken,amount:g.erc20PrizeAmount}),g.prizeCollection&&g.prizeCollection!==_e&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Prize Collection:"}),i.jsx("a",{href:ak(g.prizeCollection,g.chainId),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-200",title:g.prizeCollection,children:Q||`${g.prizeCollection.slice(0,10)}...${g.prizeCollection.slice(-8)}`})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Collection Type:"}),i.jsx("span",{className:"font-semibold",children:(()=>{if(typeof L=="boolean"&&typeof g.standard<"u"){if(!L&&g.standard===0)return"Mintable ERC721";if(!L&&g.standard===1)return"Mintable ERC1155";if(L&&g.standard===0)return"Escrowed ERC721";if(L&&g.standard===1)return"Escrowed ERC1155"}return"Unknown"})()})]})]})]})]}),i.jsx(e6,{raffle:g})]})]})]})},a6=()=>{const t=tn(),{connected:e,address:r}=Dt(),{getContractInstance:n,executeTransaction:o,executeCall:l}=$t(),[c,u]=b.useState({collectionAddress:"",collectionType:"erc1155",royaltyPercentage:"",royaltyRecipient:"",baseURI:""}),[f,h]=b.useState(!1),[m,y]=b.useState(null),k=(C,S)=>{u(D=>({...D,[C]:S}))},g=async()=>{if(!(!c.collectionAddress||!e))try{h(!0);let C=n(c.collectionAddress,"erc1155Prize"),S="erc1155";if(C||(C=n(c.collectionAddress,"erc721Prize"),S="erc721"),!C){ie.error("Invalid collection address or unsupported contract type");return}const D=await l(C,"royaltyInfo",[1,1e4]).catch(()=>null),O=await l(C,"owner",[]).catch(()=>"Unknown"),F=await l(C,"name",[]).catch(()=>"Unknown Collection"),L=await l(C,"symbol",[]).catch(()=>"Unknown");u(H=>({...H,collectionType:S})),y({name:F,symbol:L,owner:O,type:S,isOwner:O.toLowerCase()===r.toLowerCase(),currentRoyaltyRecipient:D?D[0]:"Unknown",currentRoyaltyPercentage:D?(D[1].toNumber()/100).toString():"0"}),ie.success("Collection information loaded")}catch(C){console.error("Error fetching collection info:",C),ie.error("Failed to fetch collection information")}finally{h(!1)}},j=async()=>{if(!c.collectionAddress||!c.royaltyPercentage||!c.royaltyRecipient||!e){ie.error("Please fill in all required fields");return}const C=parseFloat(c.royaltyPercentage);if(isNaN(C)||C<0||C>10){ie.error("Please enter a valid royalty percentage (0-10%)");return}try{h(!0);const S=c.collectionType==="erc721"?"erc721Prize":"erc1155Prize",D=n(c.collectionAddress,S);if(!D){ie.error("Invalid collection address");return}const O=Math.floor(C*100);await o(D,"setRoyalty",[O,c.royaltyRecipient]),ie.success("Royalty settings updated successfully!"),g(),u(F=>({...F,royaltyPercentage:"",royaltyRecipient:""}))}catch(S){console.error("Error updating royalty:",S),ie.error("Failed to update royalty settings")}finally{h(!1)}},N=async()=>{if(!c.collectionAddress||!c.baseURI||!e){ie.error("Please fill in all required fields");return}try{h(!0);const C=n(c.collectionAddress,"erc1155");if(!C){ie.error("Invalid collection address");return}await o(C,"reveal",[c.baseURI]),ie.success("Collection revealed successfully!"),u(S=>({...S,baseURI:""}))}catch(C){console.error("Error revealing collection:",C),ie.error("Failed to reveal collection")}finally{h(!1)}};return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur-sm border-b border-border",children:i.jsxs("div",{className:"flex items-center gap-3 p-4",children:[i.jsx("button",{onClick:()=>t("/profile"),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:i.jsx(pc,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Pp,{className:"h-5 w-5 text-primary"}),i.jsx("h1",{className:"text-lg font-semibold",children:"Royalty & Reveal"})]})]})}),i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[i.jsxs("h2",{className:"font-medium mb-4 flex items-center gap-2",children:[i.jsx(Is,{className:"h-4 w-4"}),"Collection Lookup"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Collection Address"}),i.jsx("input",{type:"text",value:c.collectionAddress,onChange:C=>k("collectionAddress",C.target.value),placeholder:"0x...",className:"w-full p-3 border border-border rounded-lg bg-background text-base",style:{fontSize:"16px"}})]}),i.jsx("button",{onClick:g,disabled:f||!c.collectionAddress,className:"w-full bg-primary text-white p-3 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Loading...":"Fetch Collection Info"})]})]}),m&&i.jsxs("div",{className:"bg-muted/50 border border-border rounded-lg p-4",children:[i.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[i.jsx(si,{className:"h-4 w-4 text-green-600"}),"Collection Information"]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Name:"}),i.jsx("span",{className:"font-medium",children:m.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Owner:"}),i.jsxs("span",{className:"font-mono text-xs",children:[m.owner.slice(0,10),"..."]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Current Royalty:"}),i.jsxs("span",{className:"font-medium",children:[m.currentRoyaltyPercentage,"%"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Recipient:"}),i.jsxs("span",{className:"font-mono text-xs",children:[m.currentRoyaltyRecipient.slice(0,10),"..."]})]})]})]}),(m==null?void 0:m.isOwner)&&i.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[i.jsx("h2",{className:"font-medium mb-4",children:"Update Royalty Settings"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"New Royalty Percentage (0-10%)"}),i.jsx("input",{type:"number",min:"0",max:"10",step:"0.01",value:c.royaltyPercentage,onChange:C=>k("royaltyPercentage",C.target.value),placeholder:"2.5",className:"w-full p-3 border border-border rounded-lg bg-background text-base",style:{fontSize:"16px"}}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Maximum 10%. Enter as decimal (e.g., 2.5 for 2.5%)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"New Royalty Recipient Address"}),i.jsx("input",{type:"text",value:c.royaltyRecipient,onChange:C=>k("royaltyRecipient",C.target.value),placeholder:"0x...",className:"w-full p-3 border border-border rounded-lg bg-background text-base",style:{fontSize:"16px"}})]}),i.jsx("button",{onClick:j,disabled:f||!c.collectionAddress||!c.royaltyPercentage||!c.royaltyRecipient,className:"w-full bg-purple-600 text-white p-3 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Updating...":"Update Royalty Settings"})]})]}),i.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[i.jsx("h2",{className:"font-medium mb-4",children:"Reveal Collection"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Base URI for Revealed Metadata"}),i.jsx("input",{type:"text",value:c.baseURI,onChange:C=>k("baseURI",C.target.value),placeholder:"https://api.example.com/metadata/",className:"w-full p-3 border border-border rounded-lg bg-background text-base",style:{fontSize:"16px"}}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"The base URI where your revealed metadata is hosted"})]}),i.jsx("button",{onClick:N,disabled:f||!c.collectionAddress||!c.baseURI,className:"w-full bg-purple-600 text-white p-3 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Revealing...":"Reveal Collection"})]})]}),i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(fr,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-yellow-800 mb-1",children:"Important"}),i.jsx("p",{className:"text-sm text-yellow-700",children:"Only the collection owner can perform these operations. Make sure you're connected with the correct wallet."})]})]})}),i.jsx("div",{className:"h-20"})]})]})},l6=()=>{const t=tn(),{connected:e,address:r}=Dt(),{getContractInstance:n,executeTransaction:o,executeCall:l}=$t(),[c,u]=b.useState({collectionAddress:"",minterAddress:""}),[f,h]=b.useState(!1),[m,y]=b.useState(null),[k,g]=b.useState(null),[j,N]=b.useState("erc1155"),C=(L,H)=>{u(q=>({...q,[L]:H}))},S=async()=>{if(!(!c.collectionAddress||!e))try{h(!0);let L=n(c.collectionAddress,"erc1155Prize"),H="erc1155";if(L||(L=n(c.collectionAddress,"erc721Prize"),H="erc721"),!L){ie.error("Invalid collection address or unsupported contract type");return}const q=await l(L,"owner",[]).catch(()=>"Unknown"),Y=await l(L,"name",[]).catch(()=>"Unknown Collection"),Q=await l(L,"symbol",[]).catch(()=>"Unknown");N(H),y({name:Y,symbol:Q,owner:q,type:H,isOwner:q.toLowerCase()===r.toLowerCase()}),ie.success("Collection information loaded")}catch(L){console.error("Error fetching collection info:",L),ie.error("Failed to fetch collection information")}finally{h(!1)}},D=async()=>{if(!c.collectionAddress||!c.minterAddress||!e){ie.error("Please fill in collection and minter addresses");return}try{h(!0);const L=j==="erc721"?"erc721Prize":"erc1155Prize",H=n(c.collectionAddress,L);if(!H){ie.error("Invalid collection address");return}const q=await l(H,"minters",[c.minterAddress]).catch(()=>!1);g({address:c.minterAddress,isApproved:q}),ie.success("Minter status checked")}catch(L){console.error("Error checking minter status:",L),ie.error("Failed to check minter status")}finally{h(!1)}},O=async()=>{if(!c.collectionAddress||!c.minterAddress||!e){ie.error("Please fill in all required fields");return}try{h(!0);const L=j==="erc721"?"erc721Prize":"erc1155Prize",H=n(c.collectionAddress,L);if(!H){ie.error("Invalid collection address");return}await o(H,"setMinterApproval",[c.minterAddress,!0]),ie.success("Minter approved successfully!"),D()}catch(L){console.error("Error approving minter:",L),ie.error("Failed to approve minter")}finally{h(!1)}},F=async()=>{if(!c.collectionAddress||!c.minterAddress||!e){ie.error("Please fill in all required fields");return}try{h(!0);const L=j==="erc721"?"erc721Prize":"erc1155Prize",H=n(c.collectionAddress,L);if(!H){ie.error("Invalid collection address");return}await o(H,"setMinterApproval",[c.minterAddress,!1]),ie.success("Minter revoked successfully!"),D()}catch(L){console.error("Error revoking minter:",L),ie.error("Failed to revoke minter")}finally{h(!1)}};return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur-sm border-b border-border",children:i.jsxs("div",{className:"flex items-center gap-3 p-4",children:[i.jsx("button",{onClick:()=>t("/profile"),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:i.jsx(pc,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(cw,{className:"h-5 w-5 text-primary"}),i.jsx("h1",{className:"text-lg font-semibold",children:"Minter Approval"})]})]})}),i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[i.jsxs("h2",{className:"font-medium mb-4 flex items-center gap-2",children:[i.jsx(Is,{className:"h-4 w-4"}),"Collection Lookup"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Collection Address"}),i.jsx("input",{type:"text",value:c.collectionAddress,onChange:L=>C("collectionAddress",L.target.value),placeholder:"0x...",className:"w-full p-3 border border-border rounded-lg bg-background text-base",style:{fontSize:"16px"}})]}),i.jsx("button",{onClick:S,disabled:f||!c.collectionAddress,className:"w-full bg-primary text-white p-3 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Loading...":"Fetch Collection Info"})]})]}),m&&i.jsxs("div",{className:"bg-muted/50 border border-border rounded-lg p-4",children:[i.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[i.jsx(si,{className:"h-4 w-4 text-green-600"}),"Collection Information"]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Name:"}),i.jsx("span",{className:"font-medium",children:m.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Symbol:"}),i.jsx("span",{className:"font-medium",children:m.symbol})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Type:"}),i.jsx("span",{className:"font-medium",children:m.type.toUpperCase()})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Owner:"}),i.jsxs("span",{className:"font-mono text-xs",children:[m.owner.slice(0,10),"..."]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"You are owner:"}),i.jsx("span",{className:`font-medium ${m.isOwner?"text-green-600":"text-red-600"}`,children:m.isOwner?"Yes":"No"})]})]})]}),i.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[i.jsx("h2",{className:"font-medium mb-4",children:"Minter Address"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Minter Address"}),i.jsx("input",{type:"text",value:c.minterAddress,onChange:L=>C("minterAddress",L.target.value),placeholder:"0x...",className:"w-full p-3 border border-border rounded-lg bg-background text-base",style:{fontSize:"16px"}})]}),i.jsx("button",{onClick:D,disabled:f||!c.collectionAddress||!c.minterAddress,className:"w-full bg-blue-600 text-white p-3 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Checking...":"Check Minter Status"})]})]}),k&&i.jsxs("div",{className:"bg-muted/50 border border-border rounded-lg p-4",children:[i.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[k.isApproved?i.jsx(TT,{className:"h-4 w-4 text-green-600"}):i.jsx(RT,{className:"h-4 w-4 text-red-600"}),"Minter Status"]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Address:"}),i.jsxs("span",{className:"font-mono text-xs",children:[k.address.slice(0,10),"..."]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Approved:"}),i.jsx("span",{className:`font-medium ${k.isApproved?"text-green-600":"text-red-600"}`,children:k.isApproved?"Yes":"No"})]})]})]}),(m==null?void 0:m.isOwner)&&i.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[i.jsx("h2",{className:"font-medium mb-4",children:"Manage Minter Approval"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{onClick:O,disabled:f||!c.collectionAddress||!c.minterAddress,className:"w-full bg-green-600 text-white p-3 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Processing...":"Approve Minter"}),i.jsx("button",{onClick:F,disabled:f||!c.collectionAddress||!c.minterAddress,className:"w-full bg-red-600 text-white p-3 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Processing...":"Revoke Minter"})]})]}),i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(fr,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-yellow-800 mb-1",children:"Important"}),i.jsx("p",{className:"text-sm text-yellow-700",children:"Only collection owners can approve/revoke minters. Approved minters can mint tokens to any address."})]})]})}),i.jsx("div",{className:"h-20"})]})]})},c6=()=>{const t=tn(),{connected:e,address:r}=Dt(),{getContractInstance:n,executeTransaction:o,executeCall:l}=$t(),[c,u]=b.useState({collectionAddress:"",tokenId:"",maxSupply:"1",metadataURI:""}),[f,h]=b.useState(!1),[m,y]=b.useState(null),k=(S,D)=>{u(O=>({...O,[S]:D}))},g=async()=>{if(!(!c.collectionAddress||!e))try{h(!0);const S=n(c.collectionAddress,"erc1155Prize");if(!S){ie.error("Invalid ERC1155 collection address");return}const D=await l(S,"owner",[]).catch(()=>"Unknown"),O=await l(S,"name",[]).catch(()=>"Unknown Collection"),F=await l(S,"symbol",[]).catch(()=>"Unknown");y({name:O,symbol:F,owner:D,isOwner:D.toLowerCase()===r.toLowerCase()}),ie.success("Collection information loaded")}catch(S){console.error("Error fetching collection info:",S),ie.error("Failed to fetch collection information")}finally{h(!1)}},j=async()=>{if(!c.collectionAddress||!c.tokenId||!c.maxSupply||!e){ie.error("Please fill in all required fields");return}if(!m||!m.isOwner){ie.error("Only collection owner can create new tokens");return}const S=parseInt(c.tokenId),D=parseInt(c.maxSupply);if(isNaN(S)||S<0){ie.error("Please enter a valid token ID (non-negative integer)");return}if(isNaN(D)||D<=0){ie.error("Please enter a valid max supply (positive integer)");return}try{h(!0);const O=n(c.collectionAddress,"erc1155Prize");if(!O){ie.error("Invalid collection address");return}await o(O,"createNewToken",[S,D]),ie.success(`Token ID ${S} created successfully with max supply of ${D}!`),u(F=>({...F,tokenId:"",maxSupply:"1"})),g()}catch(O){console.error("Error creating token:",O),ie.error("Failed to create token")}finally{h(!1)}},N=async()=>{if(!c.collectionAddress||!c.tokenId||!c.metadataURI||!e){ie.error("Please fill in collection address, token ID, and metadata URI");return}try{h(!0);const S=n(c.collectionAddress,"erc1155");if(!S){ie.error("Invalid collection address");return}await o(S,"setTokenURI",[c.tokenId,c.metadataURI]),ie.success("Token URI set successfully!"),u(D=>({...D,metadataURI:""}))}catch(S){console.error("Error setting token URI:",S),ie.error("Failed to set token URI (contract may not support this feature)")}finally{h(!1)}},C=m&&(m.isOwner||m.isMinter);return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur-sm border-b border-border",children:i.jsxs("div",{className:"flex items-center gap-3 p-4",children:[i.jsx("button",{onClick:()=>t("/profile"),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:i.jsx(pc,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Pn,{className:"h-5 w-5 text-primary"}),i.jsx("h1",{className:"text-lg font-semibold",children:"Create Token ID"})]})]})}),i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[i.jsxs("h2",{className:"font-medium mb-4 flex items-center gap-2",children:[i.jsx(Is,{className:"h-4 w-4"}),"Collection Lookup"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"ERC1155 Collection Address"}),i.jsx("input",{type:"text",value:c.collectionAddress,onChange:S=>k("collectionAddress",S.target.value),placeholder:"0x...",className:"w-full p-3 border border-border rounded-lg bg-background text-base",style:{fontSize:"16px"}})]}),i.jsx("button",{onClick:g,disabled:f||!c.collectionAddress,className:"w-full bg-primary text-white p-3 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Loading...":"Fetch Collection Info"})]})]}),m&&i.jsxs("div",{className:"bg-muted/50 border border-border rounded-lg p-4",children:[i.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[i.jsx(si,{className:"h-4 w-4 text-green-600"}),"Collection Information"]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Name:"}),i.jsx("span",{className:"font-medium",children:m.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Owner:"}),i.jsxs("span",{className:"font-mono text-xs",children:[m.owner.slice(0,10),"..."]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"You are owner:"}),i.jsx("span",{className:`font-medium ${m.isOwner?"text-green-600":"text-red-600"}`,children:m.isOwner?"Yes":"No"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"You are minter:"}),i.jsx("span",{className:`font-medium ${m.isMinter?"text-green-600":"text-red-600"}`,children:m.isMinter?"Yes":"No"})]})]})]}),C&&i.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[i.jsx("h2",{className:"font-medium mb-4",children:"Create New Token ID"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Token ID"}),i.jsx("input",{type:"number",min:"0",value:c.tokenId,onChange:S=>k("tokenId",S.target.value),placeholder:"1",className:"w-full p-3 border border-border rounded-lg bg-background text-base",style:{fontSize:"16px"}}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Unique identifier for the new token"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Max Supply"}),i.jsx("input",{type:"number",min:"1",value:c.maxSupply,onChange:S=>k("maxSupply",S.target.value),placeholder:"1",className:"w-full p-3 border border-border rounded-lg bg-background text-base",style:{fontSize:"16px"}}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Maximum number of tokens that can be minted for this ID"})]}),i.jsx("button",{onClick:j,disabled:f||!c.collectionAddress||!c.tokenId||!c.maxSupply||!(m!=null&&m.isOwner),className:"w-full bg-green-600 text-white p-3 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Creating...":"Create New Token ID"})]})]}),C&&i.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[i.jsxs("h2",{className:"font-medium mb-4 flex items-center gap-2",children:[i.jsx(wT,{className:"h-4 w-4"}),"Set Token Metadata URI"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Token ID"}),i.jsx("input",{type:"number",min:"0",value:c.tokenId,onChange:S=>k("tokenId",S.target.value),placeholder:"1",className:"w-full p-3 border border-border rounded-lg bg-background text-base",style:{fontSize:"16px"}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Metadata URI"}),i.jsx("input",{type:"text",value:c.metadataURI,onChange:S=>k("metadataURI",S.target.value),placeholder:"https://api.example.com/metadata/1.json",className:"w-full p-3 border border-border rounded-lg bg-background text-base",style:{fontSize:"16px"}}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"URL pointing to the token's metadata JSON file"})]}),i.jsx("button",{onClick:N,disabled:f||!c.collectionAddress||!c.tokenId||!c.metadataURI,className:"w-full bg-blue-600 text-white p-3 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Setting...":"Set Token URI"})]})]}),m&&!m.isOwner&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(fr,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-red-800 mb-1",children:"Access Denied"}),i.jsx("p",{className:"text-sm text-red-700",children:"Only the collection owner can create new token IDs."})]})]})}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(fr,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-blue-800 mb-1",children:"How it works"}),i.jsx("p",{className:"text-sm text-blue-700",children:"Creating a new token ID in an ERC1155 collection mints the initial supply to the specified address. Each token ID can have its own metadata and supply."})]})]})}),i.jsx("div",{className:"h-20"})]})]})},u6=()=>{const t=tn(),{connected:e,address:r}=Dt(),{contracts:n,getContractInstance:o,executeTransaction:l,executeCall:c}=$t(),[u,f]=b.useState({raffleAddress:""}),[h,m]=b.useState(!1),[y,k]=b.useState(null),[g,j]=b.useState([]),N=(F,L)=>{f(H=>({...H,[F]:L}))},C=async(F=u.raffleAddress)=>{if(!(!F||!e))try{m(!0);const L=o(F,"raffle");if(!L){ie.error("Invalid raffle address");return}const[H,q,Y,Q,re]=await Promise.all([c(L,"name",[]).catch(()=>"Unknown Raffle"),c(L,"creator",[]).catch(()=>""),c(L,"ticketPrice",[]).catch(()=>ce.from(0)),c(L,"state",[]).catch(()=>0),c(L,"endTime",[]).catch(()=>ce.from(0))]),te=await bd(L),$=ce.from(te),M=Y.mul($),x=q.toLowerCase()===r.toLowerCase();k({address:F,name:H,creator:q,isCreator:x,ticketPrice:Jt(Y),ticketsSold:$.toString(),revenue:Jt(M),state:S(Q),endTime:new Date(re.toNumber()*1e3),canWithdraw:x&&(Q===3||Q===4)}),ie.success("Raffle information loaded")}catch(L){console.error("Error fetching raffle info:",L),ie.error("Failed to fetch raffle information")}finally{m(!1)}},S=F=>{switch(F){case 0:return"pending";case 1:return"active";case 2:return"drawing";case 3:return"completed";case 4:return"allPrizesClaimed";case 5:return"ended";default:return"unknown"}},D=async()=>{if(!(!e||!n.raffleFactory))try{m(!0);const F=[],L=await c(n.raffleFactory,"getRaffleCount",[]),H=parseInt(L.toString());for(let q=0;q<Math.min(H,20);q++)try{const Y=await c(n.raffleFactory,"raffles",[q]),Q=o(Y,"raffle");if(!Q)continue;if((await c(Q,"creator",[]).catch(()=>"")).toLowerCase()===r.toLowerCase()){const[te,$,M]=await Promise.all([c(Q,"name",[]).catch(()=>`Raffle ${q+1}`),c(Q,"ticketPrice",[]).catch(()=>ce.from(0)),c(Q,"state",[]).catch(()=>0)]),x=await bd(Q),E=ce.from(x),T=$.mul(E),P=M===3||M===4;F.push({address:Y,name:te,revenue:Jt(T),state:S(M),canWithdraw:P})}}catch(Y){console.log(`Error processing raffle ${q}:`,Y)}j(F)}catch(F){console.error("Error fetching created raffles:",F),ie.error("Failed to load created raffles")}finally{m(!1)}},O=async(F=u.raffleAddress)=>{if(!F||!e){ie.error("Please provide a raffle address");return}try{m(!0);const L=o(F,"raffle");if(!L){ie.error("Invalid raffle address");return}await l(L,"withdrawRevenue",[]),ie.success("Revenue withdrawn successfully!"),C(F),D()}catch(L){console.error("Error withdrawing revenue:",L),ie.error("Failed to withdraw revenue")}finally{m(!1)}};return b.useEffect(()=>{e&&D()},[e]),i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur-sm border-b border-border",children:i.jsxs("div",{className:"flex items-center gap-3 p-4",children:[i.jsx("button",{onClick:()=>t("/profile"),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:i.jsx(pc,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(za,{className:"h-5 w-5 text-primary"}),i.jsx("h1",{className:"text-lg font-semibold",children:"Withdraw Revenue"})]})]})}),i.jsxs("div",{className:"p-4 space-y-6",children:[g.length>0&&i.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[i.jsxs("h2",{className:"font-medium mb-4 flex items-center gap-2",children:[i.jsx($d,{className:"h-4 w-4"}),"Your Created Raffles"]}),i.jsx("div",{className:"space-y-3",children:g.map(F=>i.jsxs("div",{className:"bg-muted/50 border border-border rounded-lg p-3",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-medium text-sm truncate",children:F.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Revenue: ",parseFloat(F.revenue).toFixed(4)," ETH"]})]}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${F.canWithdraw?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:F.state})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>{f({raffleAddress:F.address}),C(F.address)},className:"flex-1 text-xs bg-primary/10 text-primary px-3 py-2 rounded-md hover:bg-primary/20 transition-colors",children:"View Details"}),F.canWithdraw&&parseFloat(F.revenue)>0&&i.jsx("button",{onClick:()=>O(F.address),disabled:h,className:"flex-1 text-xs bg-green-600 text-white px-3 py-2 rounded-md hover:bg-green-700 transition-colors disabled:opacity-50",children:h?"Withdrawing...":"Withdraw"})]})]},F.address))})]}),i.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[i.jsxs("h2",{className:"font-medium mb-4 flex items-center gap-2",children:[i.jsx(Is,{className:"h-4 w-4"}),"Manual Raffle Lookup"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Raffle Address"}),i.jsx("input",{type:"text",value:u.raffleAddress,onChange:F=>N("raffleAddress",F.target.value),placeholder:"0x...",className:"w-full p-3 border border-border rounded-lg bg-background text-base",style:{fontSize:"16px"}})]}),i.jsx("button",{onClick:()=>C(),disabled:h||!u.raffleAddress,className:"w-full bg-primary text-white p-3 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Loading...":"Fetch Raffle Info"})]})]}),y&&i.jsxs("div",{className:"bg-muted/50 border border-border rounded-lg p-4",children:[i.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[i.jsx(si,{className:"h-4 w-4 text-green-600"}),"Raffle Information"]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Name:"}),i.jsx("span",{className:"font-medium",children:y.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Creator:"}),i.jsxs("span",{className:"font-mono text-xs",children:[y.creator.slice(0,10),"..."]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"You are creator:"}),i.jsx("span",{className:`font-medium ${y.isCreator?"text-green-600":"text-red-600"}`,children:y.isCreator?"Yes":"No"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"State:"}),i.jsx("span",{className:"font-medium",children:y.state})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Tickets Sold:"}),i.jsx("span",{className:"font-medium",children:y.ticketsSold})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Ticket Price:"}),i.jsxs("span",{className:"font-medium",children:[parseFloat(y.ticketPrice).toFixed(4)," ETH"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Total Revenue:"}),i.jsxs("span",{className:"font-bold text-green-600",children:[parseFloat(y.revenue).toFixed(4)," ETH"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Can Withdraw:"}),i.jsx("span",{className:`font-medium ${y.canWithdraw?"text-green-600":"text-red-600"}`,children:y.canWithdraw?"Yes":"No"})]})]})]}),(y==null?void 0:y.canWithdraw)&&parseFloat(y.revenue)>0&&i.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[i.jsx("h2",{className:"font-medium mb-4",children:"Withdraw Revenue"}),i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4",children:i.jsxs("p",{className:"text-sm text-green-700",children:["You can withdraw ",i.jsxs("strong",{children:[parseFloat(y.revenue).toFixed(4)," ETH"]})," from this raffle."]})}),i.jsx("button",{onClick:()=>O(),disabled:h,className:"w-full bg-green-600 text-white p-3 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Withdrawing...":"Withdraw Revenue"})]}),y&&!y.isCreator&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(fr,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-red-800 mb-1",children:"Access Denied"}),i.jsx("p",{className:"text-sm text-red-700",children:"Only the raffle creator can withdraw revenue from this raffle."})]})]})}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(fr,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-blue-800 mb-1",children:"Revenue Withdrawal"}),i.jsx("p",{className:"text-sm text-blue-700",children:"Revenue can only be withdrawn from completed raffles where all prizes have been distributed. The revenue equals the total ticket sales (ticket price  tickets sold)."})]})]})}),i.jsx("div",{className:"h-20"})]})]})},d6=()=>{const{isMobile:t,isInitialized:e}=rr(),{component:r}=q4();return b.useEffect(()=>(V4(),()=>{K4()}),[]),e?i.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[i.jsx(B4,{}),i.jsx("div",{style:{height:"80px"}}),i.jsx("main",{className:"flex-1 min-h-0",children:i.jsxs(HC,{children:[i.jsx(Js,{path:"/",element:i.jsx(o_,{})}),i.jsx(Js,{path:"/profile",element:i.jsx(M_,{})}),i.jsx(Js,{path:"/create-raffle",element:i.jsx(G_,{})}),i.jsx(Js,{path:"/raffle/:raffleAddress",element:i.jsx(o6,{})}),i.jsx(Js,{path:"/profile/mobile/royalty",element:i.jsx(a6,{})}),i.jsx(Js,{path:"/profile/mobile/minter",element:i.jsx(l6,{})}),i.jsx(Js,{path:"/profile/mobile/tokens",element:i.jsx(c6,{})}),i.jsx(Js,{path:"/profile/mobile/revenue",element:i.jsx(u6,{})})]})}),i.jsx(U4,{}),i.jsx(cT,{}),r]}):i.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold mb-2",style:{fontFamily:"Orbitron, monospace"},children:"Rafflhub"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading..."})]})})};function f6(){return i.jsx($4,{children:i.jsx(hT,{children:i.jsx(jS,{children:i.jsx(fT,{children:i.jsx(mT,{children:i.jsx(JC,{children:i.jsx(d6,{})})})})})})})}const h6=console.error;console.error=(...t)=>{const e=t.join(" ");e.includes("Invalid Sentry Dsn")||e.includes("Sentry")||h6.apply(console,t)};console.log("main.jsx is executing...");const cp=document.getElementById("root");console.log("Root element found:",cp);if(cp){const t=XN.createRoot(cp);console.log("React root created"),t.render(i.jsx(f6,{})),console.log("React app rendered")}else console.error("Root element not found!");

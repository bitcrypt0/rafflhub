var sC=Object.defineProperty;var oC=(t,e,r)=>e in t?sC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Du=(t,e,r)=>oC(t,typeof e!="symbol"?e+"":e,r);function iC(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(n,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();var aC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function lC(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Jh={exports:{}},Ul={},Xh={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function cC(){if(zy)return bt;zy=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.iterator;function C(k){return k===null||typeof k!="object"?null:(k=x&&k[x]||k["@@iterator"],typeof k=="function"?k:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,E={};function I(k,y,F){this.props=k,this.context=y,this.refs=E,this.updater=F||w}I.prototype.isReactComponent={},I.prototype.setState=function(k,y){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,y,"setState")},I.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function D(){}D.prototype=I.prototype;function O(k,y,F){this.props=k,this.context=y,this.refs=E,this.updater=F||w}var S=O.prototype=new D;S.constructor=O,P(S,I.prototype),S.isPureReactComponent=!0;var U=Array.isArray,$=Object.prototype.hasOwnProperty,H={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function W(k,y,F){var ee,z={},Q=null,G=null;if(y!=null)for(ee in y.ref!==void 0&&(G=y.ref),y.key!==void 0&&(Q=""+y.key),y)$.call(y,ee)&&!V.hasOwnProperty(ee)&&(z[ee]=y[ee]);var J=arguments.length-2;if(J===1)z.children=F;else if(1<J){for(var te=Array(J),ie=0;ie<J;ie++)te[ie]=arguments[ie+2];z.children=te}if(k&&k.defaultProps)for(ee in J=k.defaultProps,J)z[ee]===void 0&&(z[ee]=J[ee]);return{$$typeof:t,type:k,key:Q,ref:G,props:z,_owner:H.current}}function K(k,y){return{$$typeof:t,type:k.type,key:y,ref:k.ref,props:k.props,_owner:k._owner}}function Z(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function Y(k){var y={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(F){return y[F]})}var q=/\/+/g;function R(k,y){return typeof k=="object"&&k!==null&&k.key!=null?Y(""+k.key):y.toString(36)}function h(k,y,F,ee,z){var Q=typeof k;(Q==="undefined"||Q==="boolean")&&(k=null);var G=!1;if(k===null)G=!0;else switch(Q){case"string":case"number":G=!0;break;case"object":switch(k.$$typeof){case t:case e:G=!0}}if(G)return G=k,z=z(G),k=ee===""?"."+R(G,0):ee,U(z)?(F="",k!=null&&(F=k.replace(q,"$&/")+"/"),h(z,y,F,"",function(ie){return ie})):z!=null&&(Z(z)&&(z=K(z,F+(!z.key||G&&G.key===z.key?"":(""+z.key).replace(q,"$&/")+"/")+k)),y.push(z)),1;if(G=0,ee=ee===""?".":ee+":",U(k))for(var J=0;J<k.length;J++){Q=k[J];var te=ee+R(Q,J);G+=h(Q,y,F,te,z)}else if(te=C(k),typeof te=="function")for(k=te.call(k),J=0;!(Q=k.next()).done;)Q=Q.value,te=ee+R(Q,J++),G+=h(Q,y,F,te,z);else if(Q==="object")throw y=String(k),Error("Objects are not valid as a React child (found: "+(y==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":y)+"). If you meant to render a collection of children, use an array instead.");return G}function v(k,y,F){if(k==null)return k;var ee=[],z=0;return h(k,ee,"","",function(Q){return y.call(F,Q,z++)}),ee}function A(k){if(k._status===-1){var y=k._result;y=y(),y.then(function(F){(k._status===0||k._status===-1)&&(k._status=1,k._result=F)},function(F){(k._status===0||k._status===-1)&&(k._status=2,k._result=F)}),k._status===-1&&(k._status=0,k._result=y)}if(k._status===1)return k._result.default;throw k._result}var _={current:null},j={transition:null},T={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:j,ReactCurrentOwner:H};function L(){throw Error("act(...) is not supported in production builds of React.")}return bt.Children={map:v,forEach:function(k,y,F){v(k,function(){y.apply(this,arguments)},F)},count:function(k){var y=0;return v(k,function(){y++}),y},toArray:function(k){return v(k,function(y){return y})||[]},only:function(k){if(!Z(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},bt.Component=I,bt.Fragment=r,bt.Profiler=i,bt.PureComponent=O,bt.StrictMode=n,bt.Suspense=f,bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,bt.act=L,bt.cloneElement=function(k,y,F){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var ee=P({},k.props),z=k.key,Q=k.ref,G=k._owner;if(y!=null){if(y.ref!==void 0&&(Q=y.ref,G=H.current),y.key!==void 0&&(z=""+y.key),k.type&&k.type.defaultProps)var J=k.type.defaultProps;for(te in y)$.call(y,te)&&!V.hasOwnProperty(te)&&(ee[te]=y[te]===void 0&&J!==void 0?J[te]:y[te])}var te=arguments.length-2;if(te===1)ee.children=F;else if(1<te){J=Array(te);for(var ie=0;ie<te;ie++)J[ie]=arguments[ie+2];ee.children=J}return{$$typeof:t,type:k.type,key:z,ref:Q,props:ee,_owner:G}},bt.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:l,_context:k},k.Consumer=k},bt.createElement=W,bt.createFactory=function(k){var y=W.bind(null,k);return y.type=k,y},bt.createRef=function(){return{current:null}},bt.forwardRef=function(k){return{$$typeof:d,render:k}},bt.isValidElement=Z,bt.lazy=function(k){return{$$typeof:p,_payload:{_status:-1,_result:k},_init:A}},bt.memo=function(k,y){return{$$typeof:m,type:k,compare:y===void 0?null:y}},bt.startTransition=function(k){var y=j.transition;j.transition={};try{k()}finally{j.transition=y}},bt.unstable_act=L,bt.useCallback=function(k,y){return _.current.useCallback(k,y)},bt.useContext=function(k){return _.current.useContext(k)},bt.useDebugValue=function(){},bt.useDeferredValue=function(k){return _.current.useDeferredValue(k)},bt.useEffect=function(k,y){return _.current.useEffect(k,y)},bt.useId=function(){return _.current.useId()},bt.useImperativeHandle=function(k,y,F){return _.current.useImperativeHandle(k,y,F)},bt.useInsertionEffect=function(k,y){return _.current.useInsertionEffect(k,y)},bt.useLayoutEffect=function(k,y){return _.current.useLayoutEffect(k,y)},bt.useMemo=function(k,y){return _.current.useMemo(k,y)},bt.useReducer=function(k,y,F){return _.current.useReducer(k,y,F)},bt.useRef=function(k){return _.current.useRef(k)},bt.useState=function(k){return _.current.useState(k)},bt.useSyncExternalStore=function(k,y,F){return _.current.useSyncExternalStore(k,y,F)},bt.useTransition=function(){return _.current.useTransition()},bt.version="18.3.1",bt}var Ly;function kp(){return Ly||(Ly=1,Xh.exports=cC()),Xh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function uC(){if(Oy)return Ul;Oy=1;var t=kp(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,f,m){var p,x={},C=null,w=null;m!==void 0&&(C=""+m),f.key!==void 0&&(C=""+f.key),f.ref!==void 0&&(w=f.ref);for(p in f)n.call(f,p)&&!l.hasOwnProperty(p)&&(x[p]=f[p]);if(d&&d.defaultProps)for(p in f=d.defaultProps,f)x[p]===void 0&&(x[p]=f[p]);return{$$typeof:e,type:d,key:C,ref:w,props:x,_owner:i.current}}return Ul.Fragment=r,Ul.jsx=c,Ul.jsxs=c,Ul}var Fy;function dC(){return Fy||(Fy=1,Jh.exports=uC()),Jh.exports}var o=dC(),b=kp();const xe=rl(b),Np=iC({__proto__:null,default:xe},[b]);var zu={},Zh={exports:{}},hn={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function fC(){return By||(By=1,function(t){function e(j,T){var L=j.length;j.push(T);e:for(;0<L;){var k=L-1>>>1,y=j[k];if(0<i(y,T))j[k]=T,j[L]=y,L=k;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var T=j[0],L=j.pop();if(L!==T){j[0]=L;e:for(var k=0,y=j.length,F=y>>>1;k<F;){var ee=2*(k+1)-1,z=j[ee],Q=ee+1,G=j[Q];if(0>i(z,L))Q<y&&0>i(G,z)?(j[k]=G,j[Q]=L,k=Q):(j[k]=z,j[ee]=L,k=ee);else if(Q<y&&0>i(G,L))j[k]=G,j[Q]=L,k=Q;else break e}}return T}function i(j,T){var L=j.sortIndex-T.sortIndex;return L!==0?L:j.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],m=[],p=1,x=null,C=3,w=!1,P=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(j){for(var T=r(m);T!==null;){if(T.callback===null)n(m);else if(T.startTime<=j)n(m),T.sortIndex=T.expirationTime,e(f,T);else break;T=r(m)}}function U(j){if(E=!1,S(j),!P)if(r(f)!==null)P=!0,A($);else{var T=r(m);T!==null&&_(U,T.startTime-j)}}function $(j,T){P=!1,E&&(E=!1,D(W),W=-1),w=!0;var L=C;try{for(S(T),x=r(f);x!==null&&(!(x.expirationTime>T)||j&&!Y());){var k=x.callback;if(typeof k=="function"){x.callback=null,C=x.priorityLevel;var y=k(x.expirationTime<=T);T=t.unstable_now(),typeof y=="function"?x.callback=y:x===r(f)&&n(f),S(T)}else n(f);x=r(f)}if(x!==null)var F=!0;else{var ee=r(m);ee!==null&&_(U,ee.startTime-T),F=!1}return F}finally{x=null,C=L,w=!1}}var H=!1,V=null,W=-1,K=5,Z=-1;function Y(){return!(t.unstable_now()-Z<K)}function q(){if(V!==null){var j=t.unstable_now();Z=j;var T=!0;try{T=V(!0,j)}finally{T?R():(H=!1,V=null)}}else H=!1}var R;if(typeof O=="function")R=function(){O(q)};else if(typeof MessageChannel<"u"){var h=new MessageChannel,v=h.port2;h.port1.onmessage=q,R=function(){v.postMessage(null)}}else R=function(){I(q,0)};function A(j){V=j,H||(H=!0,R())}function _(j,T){W=I(function(){j(t.unstable_now())},T)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){P||w||(P=!0,A($))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function(j){switch(C){case 1:case 2:case 3:var T=3;break;default:T=C}var L=C;C=T;try{return j()}finally{C=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,T){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var L=C;C=j;try{return T()}finally{C=L}},t.unstable_scheduleCallback=function(j,T,L){var k=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?k+L:k):L=k,j){case 1:var y=-1;break;case 2:y=250;break;case 5:y=1073741823;break;case 4:y=1e4;break;default:y=5e3}return y=L+y,j={id:p++,callback:T,priorityLevel:j,startTime:L,expirationTime:y,sortIndex:-1},L>k?(j.sortIndex=L,e(m,j),r(f)===null&&j===r(m)&&(E?(D(W),W=-1):E=!0,_(U,L-k))):(j.sortIndex=y,e(f,j),P||w||(P=!0,A($))),j},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(j){var T=C;return function(){var L=C;C=T;try{return j.apply(this,arguments)}finally{C=L}}}}(tm)),tm}var Uy;function hC(){return Uy||(Uy=1,em.exports=fC()),em.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function mC(){if($y)return hn;$y=1;var t=kp(),e=hC();function r(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function l(s,a){c(s,a),c(s+"Capture",a)}function c(s,a){for(i[s]=a,s=0;s<a.length;s++)n.add(a[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},x={};function C(s){return f.call(x,s)?!0:f.call(p,s)?!1:m.test(s)?x[s]=!0:(p[s]=!0,!1)}function w(s,a,u,g){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function P(s,a,u,g){if(a===null||typeof a>"u"||w(s,a,u,g))return!0;if(g)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function E(s,a,u,g,N,M,B){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=N,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=M,this.removeEmptyString=B}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){I[s]=new E(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];I[a]=new E(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){I[s]=new E(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){I[s]=new E(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){I[s]=new E(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){I[s]=new E(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){I[s]=new E(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){I[s]=new E(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){I[s]=new E(s,5,!1,s.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function O(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(D,O);I[a]=new E(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(D,O);I[a]=new E(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(D,O);I[a]=new E(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){I[s]=new E(s,1,!1,s.toLowerCase(),null,!1,!1)}),I.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){I[s]=new E(s,1,!1,s.toLowerCase(),null,!0,!0)});function S(s,a,u,g){var N=I.hasOwnProperty(a)?I[a]:null;(N!==null?N.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(P(a,u,N,g)&&(u=null),g||N===null?C(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):N.mustUseProperty?s[N.propertyName]=u===null?N.type===3?!1:"":u:(a=N.attributeName,g=N.attributeNamespace,u===null?s.removeAttribute(a):(N=N.type,u=N===3||N===4&&u===!0?"":""+u,g?s.setAttributeNS(g,a,u):s.setAttribute(a,u))))}var U=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),H=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),Y=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),j=Symbol.iterator;function T(s){return s===null||typeof s!="object"?null:(s=j&&s[j]||s["@@iterator"],typeof s=="function"?s:null)}var L=Object.assign,k;function y(s){if(k===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);k=a&&a[1]||""}return`
`+k+s}var F=!1;function ee(s,a){if(!s||F)return"";F=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(de){var g=de}Reflect.construct(s,[],a)}else{try{a.call()}catch(de){g=de}s.call(a.prototype)}else{try{throw Error()}catch(de){g=de}s()}}catch(de){if(de&&g&&typeof de.stack=="string"){for(var N=de.stack.split(`
`),M=g.stack.split(`
`),B=N.length-1,X=M.length-1;1<=B&&0<=X&&N[B]!==M[X];)X--;for(;1<=B&&0<=X;B--,X--)if(N[B]!==M[X]){if(B!==1||X!==1)do if(B--,X--,0>X||N[B]!==M[X]){var re=`
`+N[B].replace(" at new "," at ");return s.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",s.displayName)),re}while(1<=B&&0<=X);break}}}finally{F=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?y(s):""}function z(s){switch(s.tag){case 5:return y(s.type);case 16:return y("Lazy");case 13:return y("Suspense");case 19:return y("SuspenseList");case 0:case 2:case 15:return s=ee(s.type,!1),s;case 11:return s=ee(s.type.render,!1),s;case 1:return s=ee(s.type,!0),s;default:return""}}function Q(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case V:return"Fragment";case H:return"Portal";case K:return"Profiler";case W:return"StrictMode";case R:return"Suspense";case h:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Y:return(s.displayName||"Context")+".Consumer";case Z:return(s._context.displayName||"Context")+".Provider";case q:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case v:return a=s.displayName||null,a!==null?a:Q(s.type)||"Memo";case A:a=s._payload,s=s._init;try{return Q(s(a))}catch{}}return null}function G(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(a);case 8:return a===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function J(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function te(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ie(s){var a=te(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),g=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var N=u.get,M=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return N.call(this)},set:function(B){g=""+B,M.call(this,B)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return g},setValue:function(B){g=""+B},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function fe(s){s._valueTracker||(s._valueTracker=ie(s))}function ue(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),g="";return s&&(g=te(s)?s.checked?"true":"false":s.value),s=g,s!==u?(a.setValue(s),!0):!1}function je(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function pe(s,a){var u=a.checked;return L({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Ae(s,a){var u=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;u=J(a.value!=null?a.value:u),s._wrapperState={initialChecked:g,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function gt(s,a){a=a.checked,a!=null&&S(s,"checked",a,!1)}function $e(s,a){gt(s,a);var u=J(a.value),g=a.type;if(u!=null)g==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Nt(s,a.type,u):a.hasOwnProperty("defaultValue")&&Nt(s,a.type,J(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function He(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Nt(s,a,u){(a!=="number"||je(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Ke=Array.isArray;function Ve(s,a,u,g){if(s=s.options,a){a={};for(var N=0;N<u.length;N++)a["$"+u[N]]=!0;for(u=0;u<s.length;u++)N=a.hasOwnProperty("$"+s[u].value),s[u].selected!==N&&(s[u].selected=N),N&&g&&(s[u].defaultSelected=!0)}else{for(u=""+J(u),a=null,N=0;N<s.length;N++){if(s[N].value===u){s[N].selected=!0,g&&(s[N].defaultSelected=!0);return}a!==null||s[N].disabled||(a=s[N])}a!==null&&(a.selected=!0)}}function De(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(r(91));return L({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Re(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(r(92));if(Ke(u)){if(1<u.length)throw Error(r(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:J(u)}}function Se(s,a){var u=J(a.value),g=J(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),g!=null&&(s.defaultValue=""+g)}function ht(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function ke(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ne(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?ke(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var mt,Oe=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,g,N){MSApp.execUnsafeLocalFunction(function(){return s(a,u,g,N)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(mt=mt||document.createElement("div"),mt.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=mt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Le(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var Pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},at=["Webkit","ms","Moz","O"];Object.keys(Pt).forEach(function(s){at.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Pt[a]=Pt[s]})});function yt(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||Pt.hasOwnProperty(s)&&Pt[s]?(""+a).trim():a+"px"}function pr(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var g=u.indexOf("--")===0,N=yt(u,a[u],g);u==="float"&&(u="cssFloat"),g?s.setProperty(u,N):s[u]=N}}var jt=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dt(s,a){if(a){if(jt[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(r(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(r(61))}if(a.style!=null&&typeof a.style!="object")throw Error(r(62))}}function _r(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=null;function Rt(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var or=null,Ct=null,ft=null;function fr(s){if(s=Al(s)){if(typeof or!="function")throw Error(r(280));var a=s.stateNode;a&&(a=Qc(a),or(s.stateNode,s.type,a))}}function Mt(s){Ct?ft?ft.push(s):ft=[s]:Ct=s}function Ee(){if(Ct){var s=Ct,a=ft;if(ft=Ct=null,fr(s),a)for(s=0;s<a.length;s++)fr(a[s])}}function rt(s,a){return s(a)}function Ge(){}var st=!1;function tr(s,a,u){if(st)return s(a,u);st=!0;try{return rt(s,a,u)}finally{st=!1,(Ct!==null||ft!==null)&&(Ge(),Ee())}}function it(s,a){var u=s.stateNode;if(u===null)return null;var g=Qc(u);if(g===null)return null;u=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var ot=!1;if(d)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){ot=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{ot=!1}function vt(s,a,u,g,N,M,B,X,re){var de=Array.prototype.slice.call(arguments,3);try{a.apply(u,de)}catch(ye){this.onError(ye)}}var At=!1,Jr=null,It=!1,_t=null,Qn={onError:function(s){At=!0,Jr=s}};function $t(s,a,u,g,N,M,B,X,re){At=!1,Jr=null,vt.apply(Qn,arguments)}function Ft(s,a,u,g,N,M,B,X,re){if($t.apply(this,arguments),At){if(At){var de=Jr;At=!1,Jr=null}else throw Error(r(198));It||(It=!0,_t=de)}}function Dr(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function Bt(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Ut(s){if(Dr(s)!==s)throw Error(r(188))}function zn(s){var a=s.alternate;if(!a){if(a=Dr(s),a===null)throw Error(r(188));return a!==s?null:s}for(var u=s,g=a;;){var N=u.return;if(N===null)break;var M=N.alternate;if(M===null){if(g=N.return,g!==null){u=g;continue}break}if(N.child===M.child){for(M=N.child;M;){if(M===u)return Ut(N),s;if(M===g)return Ut(N),a;M=M.sibling}throw Error(r(188))}if(u.return!==g.return)u=N,g=M;else{for(var B=!1,X=N.child;X;){if(X===u){B=!0,u=N,g=M;break}if(X===g){B=!0,g=N,u=M;break}X=X.sibling}if(!B){for(X=M.child;X;){if(X===u){B=!0,u=M,g=N;break}if(X===g){B=!0,g=M,u=N;break}X=X.sibling}if(!B)throw Error(r(189))}}if(u.alternate!==g)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:a}function on(s){return s=zn(s),s!==null?yn(s):null}function yn(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=yn(s);if(a!==null)return a;s=s.sibling}return null}var an=e.unstable_scheduleCallback,xn=e.unstable_cancelCallback,bo=e.unstable_shouldYield,oi=e.unstable_requestPaint,qt=e.unstable_now,ii=e.unstable_getCurrentPriorityLevel,Jn=e.unstable_ImmediatePriority,wo=e.unstable_UserBlockingPriority,vn=e.unstable_NormalPriority,ra=e.unstable_LowPriority,ai=e.unstable_IdlePriority,bn=null,br=null;function Xn(s){if(br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(bn,s,void 0,(s.current.flags&128)===128)}catch{}}var wr=Math.clz32?Math.clz32:wf,li=Math.log,bf=Math.LN2;function wf(s){return s>>>=0,s===0?32:31-(li(s)/bf|0)|0}var na=64,sa=4194304;function ci(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function oa(s,a){var u=s.pendingLanes;if(u===0)return 0;var g=0,N=s.suspendedLanes,M=s.pingedLanes,B=u&268435455;if(B!==0){var X=B&~N;X!==0?g=ci(X):(M&=B,M!==0&&(g=ci(M)))}else B=u&~N,B!==0?g=ci(B):M!==0&&(g=ci(M));if(g===0)return 0;if(a!==0&&a!==g&&(a&N)===0&&(N=g&-g,M=a&-a,N>=M||N===16&&(M&4194240)!==0))return a;if((g&4)!==0&&(g|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=g;0<a;)u=31-wr(a),N=1<<u,g|=s[u],a&=~N;return g}function ia(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dc(s,a){for(var u=s.suspendedLanes,g=s.pingedLanes,N=s.expirationTimes,M=s.pendingLanes;0<M;){var B=31-wr(M),X=1<<B,re=N[B];re===-1?((X&u)===0||(X&g)!==0)&&(N[B]=ia(X,a)):re<=a&&(s.expiredLanes|=X),M&=~X}}function aa(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function fl(){var s=na;return na<<=1,(na&4194240)===0&&(na=64),s}function la(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function he(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-wr(a),s[a]=u}function we(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<u;){var N=31-wr(u),M=1<<N;a[N]=0,g[N]=-1,s[N]=-1,u&=~M}}function Ce(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var g=31-wr(u),N=1<<g;N&a|s[g]&a&&(s[g]|=a),u&=~N}}var Fe=0;function Ht(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Xr,Ur,bs,ko,ca,hl=!1,ua=[],wn=null,ws=null,Zn=null,ui=new Map,di=new Map,es=[],kf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zc(s,a){switch(s){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":ui.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":di.delete(a.pointerId)}}function fi(s,a,u,g,N,M){return s===null||s.nativeEvent!==M?(s={blockedOn:a,domEventName:u,eventSystemFlags:g,nativeEvent:M,targetContainers:[N]},a!==null&&(a=Al(a),a!==null&&Ur(a)),s):(s.eventSystemFlags|=g,a=s.targetContainers,N!==null&&a.indexOf(N)===-1&&a.push(N),s)}function Nf(s,a,u,g,N){switch(a){case"focusin":return wn=fi(wn,s,a,u,g,N),!0;case"dragenter":return ws=fi(ws,s,a,u,g,N),!0;case"mouseover":return Zn=fi(Zn,s,a,u,g,N),!0;case"pointerover":var M=N.pointerId;return ui.set(M,fi(ui.get(M)||null,s,a,u,g,N)),!0;case"gotpointercapture":return M=N.pointerId,di.set(M,fi(di.get(M)||null,s,a,u,g,N)),!0}return!1}function Lc(s){var a=gi(s.target);if(a!==null){var u=Dr(a);if(u!==null){if(a=u.tag,a===13){if(a=Bt(u),a!==null){s.blockedOn=a,ca(s.priority,function(){bs(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function hi(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Cf(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var g=new u.constructor(u.type,u);xt=g,u.target.dispatchEvent(g),xt=null}else return a=Al(u),a!==null&&Ur(a),s.blockedOn=u,!1;a.shift()}return!0}function mi(s,a,u){hi(s)&&u.delete(a)}function da(){hl=!1,wn!==null&&hi(wn)&&(wn=null),ws!==null&&hi(ws)&&(ws=null),Zn!==null&&hi(Zn)&&(Zn=null),ui.forEach(mi),di.forEach(mi)}function ks(s,a){s.blockedOn===a&&(s.blockedOn=null,hl||(hl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,da)))}function No(s){function a(N){return ks(N,s)}if(0<ua.length){ks(ua[0],s);for(var u=1;u<ua.length;u++){var g=ua[u];g.blockedOn===s&&(g.blockedOn=null)}}for(wn!==null&&ks(wn,s),ws!==null&&ks(ws,s),Zn!==null&&ks(Zn,s),ui.forEach(a),di.forEach(a),u=0;u<es.length;u++)g=es[u],g.blockedOn===s&&(g.blockedOn=null);for(;0<es.length&&(u=es[0],u.blockedOn===null);)Lc(u),u.blockedOn===null&&es.shift()}var Hs=U.ReactCurrentBatchConfig,pi=!0;function Oc(s,a,u,g){var N=Fe,M=Hs.transition;Hs.transition=null;try{Fe=1,Ns(s,a,u,g)}finally{Fe=N,Hs.transition=M}}function fa(s,a,u,g){var N=Fe,M=Hs.transition;Hs.transition=null;try{Fe=4,Ns(s,a,u,g)}finally{Fe=N,Hs.transition=M}}function Ns(s,a,u,g){if(pi){var N=Cf(s,a,u,g);if(N===null)Uf(s,a,g,ml,u),zc(s,g);else if(Nf(N,s,a,u,g))g.stopPropagation();else if(zc(s,g),a&4&&-1<kf.indexOf(s)){for(;N!==null;){var M=Al(N);if(M!==null&&Xr(M),M=Cf(s,a,u,g),M===null&&Uf(s,a,g,ml,u),M===N)break;N=M}N!==null&&g.stopPropagation()}else Uf(s,a,g,null,u)}}var ml=null;function Cf(s,a,u,g){if(ml=null,s=Rt(g),s=gi(s),s!==null)if(a=Dr(s),a===null)s=null;else if(u=a.tag,u===13){if(s=Bt(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return ml=s,null}function kg(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ii()){case Jn:return 1;case wo:return 4;case vn:case ra:return 16;case ai:return 536870912;default:return 16}default:return 16}}var Co=null,Ef=null,Fc=null;function Ng(){if(Fc)return Fc;var s,a=Ef,u=a.length,g,N="value"in Co?Co.value:Co.textContent,M=N.length;for(s=0;s<u&&a[s]===N[s];s++);var B=u-s;for(g=1;g<=B&&a[u-g]===N[M-g];g++);return Fc=N.slice(s,1<g?1-g:void 0)}function Bc(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Uc(){return!0}function Cg(){return!1}function kn(s){function a(u,g,N,M,B){this._reactName=u,this._targetInst=N,this.type=g,this.nativeEvent=M,this.target=B,this.currentTarget=null;for(var X in s)s.hasOwnProperty(X)&&(u=s[X],this[X]=u?u(M):M[X]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Uc:Cg,this.isPropagationStopped=Cg,this}return L(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Uc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Uc)},persist:function(){},isPersistent:Uc}),a}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Af=kn(ha),pl=L({},ha,{view:0,detail:0}),R2=kn(pl),Sf,Tf,gl,$c=L({},pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==gl&&(gl&&s.type==="mousemove"?(Sf=s.screenX-gl.screenX,Tf=s.screenY-gl.screenY):Tf=Sf=0,gl=s),Sf)},movementY:function(s){return"movementY"in s?s.movementY:Tf}}),Eg=kn($c),M2=L({},$c,{dataTransfer:0}),I2=kn(M2),_2=L({},pl,{relatedTarget:0}),Pf=kn(_2),D2=L({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),z2=kn(D2),L2=L({},ha,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),O2=kn(L2),F2=L({},ha,{data:0}),Ag=kn(F2),B2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W2(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=$2[s])?!!a[s]:!1}function jf(){return W2}var q2=L({},pl,{key:function(s){if(s.key){var a=B2[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Bc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?U2[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jf,charCode:function(s){return s.type==="keypress"?Bc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Bc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),H2=kn(q2),G2=L({},$c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sg=kn(G2),V2=L({},pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jf}),K2=kn(V2),Y2=L({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q2=kn(Y2),J2=L({},$c,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X2=kn(J2),Z2=[9,13,27,32],Rf=d&&"CompositionEvent"in window,yl=null;d&&"documentMode"in document&&(yl=document.documentMode);var eN=d&&"TextEvent"in window&&!yl,Tg=d&&(!Rf||yl&&8<yl&&11>=yl),Pg=" ",jg=!1;function Rg(s,a){switch(s){case"keyup":return Z2.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ma=!1;function tN(s,a){switch(s){case"compositionend":return Mg(a);case"keypress":return a.which!==32?null:(jg=!0,Pg);case"textInput":return s=a.data,s===Pg&&jg?null:s;default:return null}}function rN(s,a){if(ma)return s==="compositionend"||!Rf&&Rg(s,a)?(s=Ng(),Fc=Ef=Co=null,ma=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Tg&&a.locale!=="ko"?null:a.data;default:return null}}var nN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ig(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!nN[s.type]:a==="textarea"}function _g(s,a,u,g){Mt(g),a=Vc(a,"onChange"),0<a.length&&(u=new Af("onChange","change",null,u,g),s.push({event:u,listeners:a}))}var xl=null,vl=null;function sN(s){Xg(s,0)}function Wc(s){var a=va(s);if(ue(a))return s}function oN(s,a){if(s==="change")return a}var Dg=!1;if(d){var Mf;if(d){var If="oninput"in document;if(!If){var zg=document.createElement("div");zg.setAttribute("oninput","return;"),If=typeof zg.oninput=="function"}Mf=If}else Mf=!1;Dg=Mf&&(!document.documentMode||9<document.documentMode)}function Lg(){xl&&(xl.detachEvent("onpropertychange",Og),vl=xl=null)}function Og(s){if(s.propertyName==="value"&&Wc(vl)){var a=[];_g(a,vl,s,Rt(s)),tr(sN,a)}}function iN(s,a,u){s==="focusin"?(Lg(),xl=a,vl=u,xl.attachEvent("onpropertychange",Og)):s==="focusout"&&Lg()}function aN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Wc(vl)}function lN(s,a){if(s==="click")return Wc(a)}function cN(s,a){if(s==="input"||s==="change")return Wc(a)}function uN(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var ts=typeof Object.is=="function"?Object.is:uN;function bl(s,a){if(ts(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),g=Object.keys(a);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var N=u[g];if(!f.call(a,N)||!ts(s[N],a[N]))return!1}return!0}function Fg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Bg(s,a){var u=Fg(s);s=0;for(var g;u;){if(u.nodeType===3){if(g=s+u.textContent.length,s<=a&&g>=a)return{node:u,offset:a-s};s=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Fg(u)}}function Ug(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Ug(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function $g(){for(var s=window,a=je();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=je(s.document)}return a}function _f(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function dN(s){var a=$g(),u=s.focusedElem,g=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&Ug(u.ownerDocument.documentElement,u)){if(g!==null&&_f(u)){if(a=g.start,s=g.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var N=u.textContent.length,M=Math.min(g.start,N);g=g.end===void 0?M:Math.min(g.end,N),!s.extend&&M>g&&(N=g,g=M,M=N),N=Bg(u,M);var B=Bg(u,g);N&&B&&(s.rangeCount!==1||s.anchorNode!==N.node||s.anchorOffset!==N.offset||s.focusNode!==B.node||s.focusOffset!==B.offset)&&(a=a.createRange(),a.setStart(N.node,N.offset),s.removeAllRanges(),M>g?(s.addRange(a),s.extend(B.node,B.offset)):(a.setEnd(B.node,B.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var fN=d&&"documentMode"in document&&11>=document.documentMode,pa=null,Df=null,wl=null,zf=!1;function Wg(s,a,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;zf||pa==null||pa!==je(g)||(g=pa,"selectionStart"in g&&_f(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),wl&&bl(wl,g)||(wl=g,g=Vc(Df,"onSelect"),0<g.length&&(a=new Af("onSelect","select",null,a,u),s.push({event:a,listeners:g}),a.target=pa)))}function qc(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var ga={animationend:qc("Animation","AnimationEnd"),animationiteration:qc("Animation","AnimationIteration"),animationstart:qc("Animation","AnimationStart"),transitionend:qc("Transition","TransitionEnd")},Lf={},qg={};d&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Hc(s){if(Lf[s])return Lf[s];if(!ga[s])return s;var a=ga[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in qg)return Lf[s]=a[u];return s}var Hg=Hc("animationend"),Gg=Hc("animationiteration"),Vg=Hc("animationstart"),Kg=Hc("transitionend"),Yg=new Map,Qg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Eo(s,a){Yg.set(s,a),l(a,[s])}for(var Of=0;Of<Qg.length;Of++){var Ff=Qg[Of],hN=Ff.toLowerCase(),mN=Ff[0].toUpperCase()+Ff.slice(1);Eo(hN,"on"+mN)}Eo(Hg,"onAnimationEnd"),Eo(Gg,"onAnimationIteration"),Eo(Vg,"onAnimationStart"),Eo("dblclick","onDoubleClick"),Eo("focusin","onFocus"),Eo("focusout","onBlur"),Eo(Kg,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pN=new Set("cancel close invalid load scroll toggle".split(" ").concat(kl));function Jg(s,a,u){var g=s.type||"unknown-event";s.currentTarget=u,Ft(g,a,void 0,s),s.currentTarget=null}function Xg(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var g=s[u],N=g.event;g=g.listeners;e:{var M=void 0;if(a)for(var B=g.length-1;0<=B;B--){var X=g[B],re=X.instance,de=X.currentTarget;if(X=X.listener,re!==M&&N.isPropagationStopped())break e;Jg(N,X,de),M=re}else for(B=0;B<g.length;B++){if(X=g[B],re=X.instance,de=X.currentTarget,X=X.listener,re!==M&&N.isPropagationStopped())break e;Jg(N,X,de),M=re}}}if(It)throw s=_t,It=!1,_t=null,s}function Xt(s,a){var u=a[Vf];u===void 0&&(u=a[Vf]=new Set);var g=s+"__bubble";u.has(g)||(Zg(a,s,2,!1),u.add(g))}function Bf(s,a,u){var g=0;a&&(g|=4),Zg(u,s,g,a)}var Gc="_reactListening"+Math.random().toString(36).slice(2);function Nl(s){if(!s[Gc]){s[Gc]=!0,n.forEach(function(u){u!=="selectionchange"&&(pN.has(u)||Bf(u,!1,s),Bf(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Gc]||(a[Gc]=!0,Bf("selectionchange",!1,a))}}function Zg(s,a,u,g){switch(kg(a)){case 1:var N=Oc;break;case 4:N=fa;break;default:N=Ns}u=N.bind(null,a,u,s),N=void 0,!ot||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(N=!0),g?N!==void 0?s.addEventListener(a,u,{capture:!0,passive:N}):s.addEventListener(a,u,!0):N!==void 0?s.addEventListener(a,u,{passive:N}):s.addEventListener(a,u,!1)}function Uf(s,a,u,g,N){var M=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var B=g.tag;if(B===3||B===4){var X=g.stateNode.containerInfo;if(X===N||X.nodeType===8&&X.parentNode===N)break;if(B===4)for(B=g.return;B!==null;){var re=B.tag;if((re===3||re===4)&&(re=B.stateNode.containerInfo,re===N||re.nodeType===8&&re.parentNode===N))return;B=B.return}for(;X!==null;){if(B=gi(X),B===null)return;if(re=B.tag,re===5||re===6){g=M=B;continue e}X=X.parentNode}}g=g.return}tr(function(){var de=M,ye=Rt(u),ve=[];e:{var ge=Yg.get(s);if(ge!==void 0){var Te=Af,Ie=s;switch(s){case"keypress":if(Bc(u)===0)break e;case"keydown":case"keyup":Te=H2;break;case"focusin":Ie="focus",Te=Pf;break;case"focusout":Ie="blur",Te=Pf;break;case"beforeblur":case"afterblur":Te=Pf;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=Eg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=I2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=K2;break;case Hg:case Gg:case Vg:Te=z2;break;case Kg:Te=Q2;break;case"scroll":Te=R2;break;case"wheel":Te=X2;break;case"copy":case"cut":case"paste":Te=O2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=Sg}var ze=(a&4)!==0,hr=!ze&&s==="scroll",ae=ze?ge!==null?ge+"Capture":null:ge;ze=[];for(var oe=de,le;oe!==null;){le=oe;var be=le.stateNode;if(le.tag===5&&be!==null&&(le=be,ae!==null&&(be=it(oe,ae),be!=null&&ze.push(Cl(oe,be,le)))),hr)break;oe=oe.return}0<ze.length&&(ge=new Te(ge,Ie,null,u,ye),ve.push({event:ge,listeners:ze}))}}if((a&7)===0){e:{if(ge=s==="mouseover"||s==="pointerover",Te=s==="mouseout"||s==="pointerout",ge&&u!==xt&&(Ie=u.relatedTarget||u.fromElement)&&(gi(Ie)||Ie[Gs]))break e;if((Te||ge)&&(ge=ye.window===ye?ye:(ge=ye.ownerDocument)?ge.defaultView||ge.parentWindow:window,Te?(Ie=u.relatedTarget||u.toElement,Te=de,Ie=Ie?gi(Ie):null,Ie!==null&&(hr=Dr(Ie),Ie!==hr||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(Te=null,Ie=de),Te!==Ie)){if(ze=Eg,be="onMouseLeave",ae="onMouseEnter",oe="mouse",(s==="pointerout"||s==="pointerover")&&(ze=Sg,be="onPointerLeave",ae="onPointerEnter",oe="pointer"),hr=Te==null?ge:va(Te),le=Ie==null?ge:va(Ie),ge=new ze(be,oe+"leave",Te,u,ye),ge.target=hr,ge.relatedTarget=le,be=null,gi(ye)===de&&(ze=new ze(ae,oe+"enter",Ie,u,ye),ze.target=le,ze.relatedTarget=hr,be=ze),hr=be,Te&&Ie)t:{for(ze=Te,ae=Ie,oe=0,le=ze;le;le=ya(le))oe++;for(le=0,be=ae;be;be=ya(be))le++;for(;0<oe-le;)ze=ya(ze),oe--;for(;0<le-oe;)ae=ya(ae),le--;for(;oe--;){if(ze===ae||ae!==null&&ze===ae.alternate)break t;ze=ya(ze),ae=ya(ae)}ze=null}else ze=null;Te!==null&&e0(ve,ge,Te,ze,!1),Ie!==null&&hr!==null&&e0(ve,hr,Ie,ze,!0)}}e:{if(ge=de?va(de):window,Te=ge.nodeName&&ge.nodeName.toLowerCase(),Te==="select"||Te==="input"&&ge.type==="file")var Be=oN;else if(Ig(ge))if(Dg)Be=cN;else{Be=aN;var Ye=iN}else(Te=ge.nodeName)&&Te.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(Be=lN);if(Be&&(Be=Be(s,de))){_g(ve,Be,u,ye);break e}Ye&&Ye(s,ge,de),s==="focusout"&&(Ye=ge._wrapperState)&&Ye.controlled&&ge.type==="number"&&Nt(ge,"number",ge.value)}switch(Ye=de?va(de):window,s){case"focusin":(Ig(Ye)||Ye.contentEditable==="true")&&(pa=Ye,Df=de,wl=null);break;case"focusout":wl=Df=pa=null;break;case"mousedown":zf=!0;break;case"contextmenu":case"mouseup":case"dragend":zf=!1,Wg(ve,u,ye);break;case"selectionchange":if(fN)break;case"keydown":case"keyup":Wg(ve,u,ye)}var Qe;if(Rf)e:{switch(s){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else ma?Rg(s,u)&&(Ze="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ze="onCompositionStart");Ze&&(Tg&&u.locale!=="ko"&&(ma||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&ma&&(Qe=Ng()):(Co=ye,Ef="value"in Co?Co.value:Co.textContent,ma=!0)),Ye=Vc(de,Ze),0<Ye.length&&(Ze=new Ag(Ze,s,null,u,ye),ve.push({event:Ze,listeners:Ye}),Qe?Ze.data=Qe:(Qe=Mg(u),Qe!==null&&(Ze.data=Qe)))),(Qe=eN?tN(s,u):rN(s,u))&&(de=Vc(de,"onBeforeInput"),0<de.length&&(ye=new Ag("onBeforeInput","beforeinput",null,u,ye),ve.push({event:ye,listeners:de}),ye.data=Qe))}Xg(ve,a)})}function Cl(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Vc(s,a){for(var u=a+"Capture",g=[];s!==null;){var N=s,M=N.stateNode;N.tag===5&&M!==null&&(N=M,M=it(s,u),M!=null&&g.unshift(Cl(s,M,N)),M=it(s,a),M!=null&&g.push(Cl(s,M,N))),s=s.return}return g}function ya(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function e0(s,a,u,g,N){for(var M=a._reactName,B=[];u!==null&&u!==g;){var X=u,re=X.alternate,de=X.stateNode;if(re!==null&&re===g)break;X.tag===5&&de!==null&&(X=de,N?(re=it(u,M),re!=null&&B.unshift(Cl(u,re,X))):N||(re=it(u,M),re!=null&&B.push(Cl(u,re,X)))),u=u.return}B.length!==0&&s.push({event:a,listeners:B})}var gN=/\r\n?/g,yN=/\u0000|\uFFFD/g;function t0(s){return(typeof s=="string"?s:""+s).replace(gN,`
`).replace(yN,"")}function Kc(s,a,u){if(a=t0(a),t0(s)!==a&&u)throw Error(r(425))}function Yc(){}var $f=null,Wf=null;function qf(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Hf=typeof setTimeout=="function"?setTimeout:void 0,xN=typeof clearTimeout=="function"?clearTimeout:void 0,r0=typeof Promise=="function"?Promise:void 0,vN=typeof queueMicrotask=="function"?queueMicrotask:typeof r0<"u"?function(s){return r0.resolve(null).then(s).catch(bN)}:Hf;function bN(s){setTimeout(function(){throw s})}function Gf(s,a){var u=a,g=0;do{var N=u.nextSibling;if(s.removeChild(u),N&&N.nodeType===8)if(u=N.data,u==="/$"){if(g===0){s.removeChild(N),No(a);return}g--}else u!=="$"&&u!=="$?"&&u!=="$!"||g++;u=N}while(u);No(a)}function Ao(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function n0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var xa=Math.random().toString(36).slice(2),Cs="__reactFiber$"+xa,El="__reactProps$"+xa,Gs="__reactContainer$"+xa,Vf="__reactEvents$"+xa,wN="__reactListeners$"+xa,kN="__reactHandles$"+xa;function gi(s){var a=s[Cs];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Gs]||u[Cs]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=n0(s);s!==null;){if(u=s[Cs])return u;s=n0(s)}return a}s=u,u=s.parentNode}return null}function Al(s){return s=s[Cs]||s[Gs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function va(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Qc(s){return s[El]||null}var Kf=[],ba=-1;function So(s){return{current:s}}function Zt(s){0>ba||(s.current=Kf[ba],Kf[ba]=null,ba--)}function Qt(s,a){ba++,Kf[ba]=s.current,s.current=a}var To={},$r=So(To),ln=So(!1),yi=To;function wa(s,a){var u=s.type.contextTypes;if(!u)return To;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var N={},M;for(M in u)N[M]=a[M];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=N),N}function cn(s){return s=s.childContextTypes,s!=null}function Jc(){Zt(ln),Zt($r)}function s0(s,a,u){if($r.current!==To)throw Error(r(168));Qt($r,a),Qt(ln,u)}function o0(s,a,u){var g=s.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return u;g=g.getChildContext();for(var N in g)if(!(N in a))throw Error(r(108,G(s)||"Unknown",N));return L({},u,g)}function Xc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||To,yi=$r.current,Qt($r,s),Qt(ln,ln.current),!0}function i0(s,a,u){var g=s.stateNode;if(!g)throw Error(r(169));u?(s=o0(s,a,yi),g.__reactInternalMemoizedMergedChildContext=s,Zt(ln),Zt($r),Qt($r,s)):Zt(ln),Qt(ln,u)}var Vs=null,Zc=!1,Yf=!1;function a0(s){Vs===null?Vs=[s]:Vs.push(s)}function NN(s){Zc=!0,a0(s)}function Po(){if(!Yf&&Vs!==null){Yf=!0;var s=0,a=Fe;try{var u=Vs;for(Fe=1;s<u.length;s++){var g=u[s];do g=g(!0);while(g!==null)}Vs=null,Zc=!1}catch(N){throw Vs!==null&&(Vs=Vs.slice(s+1)),an(Jn,Po),N}finally{Fe=a,Yf=!1}}return null}var ka=[],Na=0,eu=null,tu=0,Ln=[],On=0,xi=null,Ks=1,Ys="";function vi(s,a){ka[Na++]=tu,ka[Na++]=eu,eu=s,tu=a}function l0(s,a,u){Ln[On++]=Ks,Ln[On++]=Ys,Ln[On++]=xi,xi=s;var g=Ks;s=Ys;var N=32-wr(g)-1;g&=~(1<<N),u+=1;var M=32-wr(a)+N;if(30<M){var B=N-N%5;M=(g&(1<<B)-1).toString(32),g>>=B,N-=B,Ks=1<<32-wr(a)+N|u<<N|g,Ys=M+s}else Ks=1<<M|u<<N|g,Ys=s}function Qf(s){s.return!==null&&(vi(s,1),l0(s,1,0))}function Jf(s){for(;s===eu;)eu=ka[--Na],ka[Na]=null,tu=ka[--Na],ka[Na]=null;for(;s===xi;)xi=Ln[--On],Ln[On]=null,Ys=Ln[--On],Ln[On]=null,Ks=Ln[--On],Ln[On]=null}var Nn=null,Cn=null,rr=!1,rs=null;function c0(s,a){var u=$n(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function u0(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Nn=s,Cn=Ao(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Nn=s,Cn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=xi!==null?{id:Ks,overflow:Ys}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=$n(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,Nn=s,Cn=null,!0):!1;default:return!1}}function Xf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Zf(s){if(rr){var a=Cn;if(a){var u=a;if(!u0(s,a)){if(Xf(s))throw Error(r(418));a=Ao(u.nextSibling);var g=Nn;a&&u0(s,a)?c0(g,u):(s.flags=s.flags&-4097|2,rr=!1,Nn=s)}}else{if(Xf(s))throw Error(r(418));s.flags=s.flags&-4097|2,rr=!1,Nn=s}}}function d0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Nn=s}function ru(s){if(s!==Nn)return!1;if(!rr)return d0(s),rr=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!qf(s.type,s.memoizedProps)),a&&(a=Cn)){if(Xf(s))throw f0(),Error(r(418));for(;a;)c0(s,a),a=Ao(a.nextSibling)}if(d0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){Cn=Ao(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}Cn=null}}else Cn=Nn?Ao(s.stateNode.nextSibling):null;return!0}function f0(){for(var s=Cn;s;)s=Ao(s.nextSibling)}function Ca(){Cn=Nn=null,rr=!1}function eh(s){rs===null?rs=[s]:rs.push(s)}var CN=U.ReactCurrentBatchConfig;function Sl(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var g=u.stateNode}if(!g)throw Error(r(147,s));var N=g,M=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===M?a.ref:(a=function(B){var X=N.refs;B===null?delete X[M]:X[M]=B},a._stringRef=M,a)}if(typeof s!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,s))}return s}function nu(s,a){throw s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function h0(s){var a=s._init;return a(s._payload)}function m0(s){function a(ae,oe){if(s){var le=ae.deletions;le===null?(ae.deletions=[oe],ae.flags|=16):le.push(oe)}}function u(ae,oe){if(!s)return null;for(;oe!==null;)a(ae,oe),oe=oe.sibling;return null}function g(ae,oe){for(ae=new Map;oe!==null;)oe.key!==null?ae.set(oe.key,oe):ae.set(oe.index,oe),oe=oe.sibling;return ae}function N(ae,oe){return ae=Lo(ae,oe),ae.index=0,ae.sibling=null,ae}function M(ae,oe,le){return ae.index=le,s?(le=ae.alternate,le!==null?(le=le.index,le<oe?(ae.flags|=2,oe):le):(ae.flags|=2,oe)):(ae.flags|=1048576,oe)}function B(ae){return s&&ae.alternate===null&&(ae.flags|=2),ae}function X(ae,oe,le,be){return oe===null||oe.tag!==6?(oe=Hh(le,ae.mode,be),oe.return=ae,oe):(oe=N(oe,le),oe.return=ae,oe)}function re(ae,oe,le,be){var Be=le.type;return Be===V?ye(ae,oe,le.props.children,be,le.key):oe!==null&&(oe.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===A&&h0(Be)===oe.type)?(be=N(oe,le.props),be.ref=Sl(ae,oe,le),be.return=ae,be):(be=Su(le.type,le.key,le.props,null,ae.mode,be),be.ref=Sl(ae,oe,le),be.return=ae,be)}function de(ae,oe,le,be){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==le.containerInfo||oe.stateNode.implementation!==le.implementation?(oe=Gh(le,ae.mode,be),oe.return=ae,oe):(oe=N(oe,le.children||[]),oe.return=ae,oe)}function ye(ae,oe,le,be,Be){return oe===null||oe.tag!==7?(oe=Si(le,ae.mode,be,Be),oe.return=ae,oe):(oe=N(oe,le),oe.return=ae,oe)}function ve(ae,oe,le){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=Hh(""+oe,ae.mode,le),oe.return=ae,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case $:return le=Su(oe.type,oe.key,oe.props,null,ae.mode,le),le.ref=Sl(ae,null,oe),le.return=ae,le;case H:return oe=Gh(oe,ae.mode,le),oe.return=ae,oe;case A:var be=oe._init;return ve(ae,be(oe._payload),le)}if(Ke(oe)||T(oe))return oe=Si(oe,ae.mode,le,null),oe.return=ae,oe;nu(ae,oe)}return null}function ge(ae,oe,le,be){var Be=oe!==null?oe.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return Be!==null?null:X(ae,oe,""+le,be);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case $:return le.key===Be?re(ae,oe,le,be):null;case H:return le.key===Be?de(ae,oe,le,be):null;case A:return Be=le._init,ge(ae,oe,Be(le._payload),be)}if(Ke(le)||T(le))return Be!==null?null:ye(ae,oe,le,be,null);nu(ae,le)}return null}function Te(ae,oe,le,be,Be){if(typeof be=="string"&&be!==""||typeof be=="number")return ae=ae.get(le)||null,X(oe,ae,""+be,Be);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case $:return ae=ae.get(be.key===null?le:be.key)||null,re(oe,ae,be,Be);case H:return ae=ae.get(be.key===null?le:be.key)||null,de(oe,ae,be,Be);case A:var Ye=be._init;return Te(ae,oe,le,Ye(be._payload),Be)}if(Ke(be)||T(be))return ae=ae.get(le)||null,ye(oe,ae,be,Be,null);nu(oe,be)}return null}function Ie(ae,oe,le,be){for(var Be=null,Ye=null,Qe=oe,Ze=oe=0,Tr=null;Qe!==null&&Ze<le.length;Ze++){Qe.index>Ze?(Tr=Qe,Qe=null):Tr=Qe.sibling;var zt=ge(ae,Qe,le[Ze],be);if(zt===null){Qe===null&&(Qe=Tr);break}s&&Qe&&zt.alternate===null&&a(ae,Qe),oe=M(zt,oe,Ze),Ye===null?Be=zt:Ye.sibling=zt,Ye=zt,Qe=Tr}if(Ze===le.length)return u(ae,Qe),rr&&vi(ae,Ze),Be;if(Qe===null){for(;Ze<le.length;Ze++)Qe=ve(ae,le[Ze],be),Qe!==null&&(oe=M(Qe,oe,Ze),Ye===null?Be=Qe:Ye.sibling=Qe,Ye=Qe);return rr&&vi(ae,Ze),Be}for(Qe=g(ae,Qe);Ze<le.length;Ze++)Tr=Te(Qe,ae,Ze,le[Ze],be),Tr!==null&&(s&&Tr.alternate!==null&&Qe.delete(Tr.key===null?Ze:Tr.key),oe=M(Tr,oe,Ze),Ye===null?Be=Tr:Ye.sibling=Tr,Ye=Tr);return s&&Qe.forEach(function(Oo){return a(ae,Oo)}),rr&&vi(ae,Ze),Be}function ze(ae,oe,le,be){var Be=T(le);if(typeof Be!="function")throw Error(r(150));if(le=Be.call(le),le==null)throw Error(r(151));for(var Ye=Be=null,Qe=oe,Ze=oe=0,Tr=null,zt=le.next();Qe!==null&&!zt.done;Ze++,zt=le.next()){Qe.index>Ze?(Tr=Qe,Qe=null):Tr=Qe.sibling;var Oo=ge(ae,Qe,zt.value,be);if(Oo===null){Qe===null&&(Qe=Tr);break}s&&Qe&&Oo.alternate===null&&a(ae,Qe),oe=M(Oo,oe,Ze),Ye===null?Be=Oo:Ye.sibling=Oo,Ye=Oo,Qe=Tr}if(zt.done)return u(ae,Qe),rr&&vi(ae,Ze),Be;if(Qe===null){for(;!zt.done;Ze++,zt=le.next())zt=ve(ae,zt.value,be),zt!==null&&(oe=M(zt,oe,Ze),Ye===null?Be=zt:Ye.sibling=zt,Ye=zt);return rr&&vi(ae,Ze),Be}for(Qe=g(ae,Qe);!zt.done;Ze++,zt=le.next())zt=Te(Qe,ae,Ze,zt.value,be),zt!==null&&(s&&zt.alternate!==null&&Qe.delete(zt.key===null?Ze:zt.key),oe=M(zt,oe,Ze),Ye===null?Be=zt:Ye.sibling=zt,Ye=zt);return s&&Qe.forEach(function(nC){return a(ae,nC)}),rr&&vi(ae,Ze),Be}function hr(ae,oe,le,be){if(typeof le=="object"&&le!==null&&le.type===V&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case $:e:{for(var Be=le.key,Ye=oe;Ye!==null;){if(Ye.key===Be){if(Be=le.type,Be===V){if(Ye.tag===7){u(ae,Ye.sibling),oe=N(Ye,le.props.children),oe.return=ae,ae=oe;break e}}else if(Ye.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===A&&h0(Be)===Ye.type){u(ae,Ye.sibling),oe=N(Ye,le.props),oe.ref=Sl(ae,Ye,le),oe.return=ae,ae=oe;break e}u(ae,Ye);break}else a(ae,Ye);Ye=Ye.sibling}le.type===V?(oe=Si(le.props.children,ae.mode,be,le.key),oe.return=ae,ae=oe):(be=Su(le.type,le.key,le.props,null,ae.mode,be),be.ref=Sl(ae,oe,le),be.return=ae,ae=be)}return B(ae);case H:e:{for(Ye=le.key;oe!==null;){if(oe.key===Ye)if(oe.tag===4&&oe.stateNode.containerInfo===le.containerInfo&&oe.stateNode.implementation===le.implementation){u(ae,oe.sibling),oe=N(oe,le.children||[]),oe.return=ae,ae=oe;break e}else{u(ae,oe);break}else a(ae,oe);oe=oe.sibling}oe=Gh(le,ae.mode,be),oe.return=ae,ae=oe}return B(ae);case A:return Ye=le._init,hr(ae,oe,Ye(le._payload),be)}if(Ke(le))return Ie(ae,oe,le,be);if(T(le))return ze(ae,oe,le,be);nu(ae,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,oe!==null&&oe.tag===6?(u(ae,oe.sibling),oe=N(oe,le),oe.return=ae,ae=oe):(u(ae,oe),oe=Hh(le,ae.mode,be),oe.return=ae,ae=oe),B(ae)):u(ae,oe)}return hr}var Ea=m0(!0),p0=m0(!1),su=So(null),ou=null,Aa=null,th=null;function rh(){th=Aa=ou=null}function nh(s){var a=su.current;Zt(su),s._currentValue=a}function sh(s,a,u){for(;s!==null;){var g=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),s===u)break;s=s.return}}function Sa(s,a){ou=s,th=Aa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(un=!0),s.firstContext=null)}function Fn(s){var a=s._currentValue;if(th!==s)if(s={context:s,memoizedValue:a,next:null},Aa===null){if(ou===null)throw Error(r(308));Aa=s,ou.dependencies={lanes:0,firstContext:s}}else Aa=Aa.next=s;return a}var bi=null;function oh(s){bi===null?bi=[s]:bi.push(s)}function g0(s,a,u,g){var N=a.interleaved;return N===null?(u.next=u,oh(a)):(u.next=N.next,N.next=u),a.interleaved=u,Qs(s,g)}function Qs(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var jo=!1;function ih(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y0(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Js(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ro(s,a,u){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(Dt&2)!==0){var N=g.pending;return N===null?a.next=a:(a.next=N.next,N.next=a),g.pending=a,Qs(s,u)}return N=g.interleaved,N===null?(a.next=a,oh(g)):(a.next=N.next,N.next=a),g.interleaved=a,Qs(s,u)}function iu(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var g=a.lanes;g&=s.pendingLanes,u|=g,a.lanes=u,Ce(s,u)}}function x0(s,a){var u=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var N=null,M=null;if(u=u.firstBaseUpdate,u!==null){do{var B={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};M===null?N=M=B:M=M.next=B,u=u.next}while(u!==null);M===null?N=M=a:M=M.next=a}else N=M=a;u={baseState:g.baseState,firstBaseUpdate:N,lastBaseUpdate:M,shared:g.shared,effects:g.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function au(s,a,u,g){var N=s.updateQueue;jo=!1;var M=N.firstBaseUpdate,B=N.lastBaseUpdate,X=N.shared.pending;if(X!==null){N.shared.pending=null;var re=X,de=re.next;re.next=null,B===null?M=de:B.next=de,B=re;var ye=s.alternate;ye!==null&&(ye=ye.updateQueue,X=ye.lastBaseUpdate,X!==B&&(X===null?ye.firstBaseUpdate=de:X.next=de,ye.lastBaseUpdate=re))}if(M!==null){var ve=N.baseState;B=0,ye=de=re=null,X=M;do{var ge=X.lane,Te=X.eventTime;if((g&ge)===ge){ye!==null&&(ye=ye.next={eventTime:Te,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var Ie=s,ze=X;switch(ge=a,Te=u,ze.tag){case 1:if(Ie=ze.payload,typeof Ie=="function"){ve=Ie.call(Te,ve,ge);break e}ve=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=ze.payload,ge=typeof Ie=="function"?Ie.call(Te,ve,ge):Ie,ge==null)break e;ve=L({},ve,ge);break e;case 2:jo=!0}}X.callback!==null&&X.lane!==0&&(s.flags|=64,ge=N.effects,ge===null?N.effects=[X]:ge.push(X))}else Te={eventTime:Te,lane:ge,tag:X.tag,payload:X.payload,callback:X.callback,next:null},ye===null?(de=ye=Te,re=ve):ye=ye.next=Te,B|=ge;if(X=X.next,X===null){if(X=N.shared.pending,X===null)break;ge=X,X=ge.next,ge.next=null,N.lastBaseUpdate=ge,N.shared.pending=null}}while(!0);if(ye===null&&(re=ve),N.baseState=re,N.firstBaseUpdate=de,N.lastBaseUpdate=ye,a=N.shared.interleaved,a!==null){N=a;do B|=N.lane,N=N.next;while(N!==a)}else M===null&&(N.shared.lanes=0);Ni|=B,s.lanes=B,s.memoizedState=ve}}function v0(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var g=s[a],N=g.callback;if(N!==null){if(g.callback=null,g=u,typeof N!="function")throw Error(r(191,N));N.call(g)}}}var Tl={},Es=So(Tl),Pl=So(Tl),jl=So(Tl);function wi(s){if(s===Tl)throw Error(r(174));return s}function ah(s,a){switch(Qt(jl,a),Qt(Pl,s),Qt(Es,Tl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ne(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Ne(a,s)}Zt(Es),Qt(Es,a)}function Ta(){Zt(Es),Zt(Pl),Zt(jl)}function b0(s){wi(jl.current);var a=wi(Es.current),u=Ne(a,s.type);a!==u&&(Qt(Pl,s),Qt(Es,u))}function lh(s){Pl.current===s&&(Zt(Es),Zt(Pl))}var ir=So(0);function lu(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ch=[];function uh(){for(var s=0;s<ch.length;s++)ch[s]._workInProgressVersionPrimary=null;ch.length=0}var cu=U.ReactCurrentDispatcher,dh=U.ReactCurrentBatchConfig,ki=0,ar=null,kr=null,Ar=null,uu=!1,Rl=!1,Ml=0,EN=0;function Wr(){throw Error(r(321))}function fh(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!ts(s[u],a[u]))return!1;return!0}function hh(s,a,u,g,N,M){if(ki=M,ar=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,cu.current=s===null||s.memoizedState===null?PN:jN,s=u(g,N),Rl){M=0;do{if(Rl=!1,Ml=0,25<=M)throw Error(r(301));M+=1,Ar=kr=null,a.updateQueue=null,cu.current=RN,s=u(g,N)}while(Rl)}if(cu.current=hu,a=kr!==null&&kr.next!==null,ki=0,Ar=kr=ar=null,uu=!1,a)throw Error(r(300));return s}function mh(){var s=Ml!==0;return Ml=0,s}function As(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?ar.memoizedState=Ar=s:Ar=Ar.next=s,Ar}function Bn(){if(kr===null){var s=ar.alternate;s=s!==null?s.memoizedState:null}else s=kr.next;var a=Ar===null?ar.memoizedState:Ar.next;if(a!==null)Ar=a,kr=s;else{if(s===null)throw Error(r(310));kr=s,s={memoizedState:kr.memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},Ar===null?ar.memoizedState=Ar=s:Ar=Ar.next=s}return Ar}function Il(s,a){return typeof a=="function"?a(s):a}function ph(s){var a=Bn(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var g=kr,N=g.baseQueue,M=u.pending;if(M!==null){if(N!==null){var B=N.next;N.next=M.next,M.next=B}g.baseQueue=N=M,u.pending=null}if(N!==null){M=N.next,g=g.baseState;var X=B=null,re=null,de=M;do{var ye=de.lane;if((ki&ye)===ye)re!==null&&(re=re.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),g=de.hasEagerState?de.eagerState:s(g,de.action);else{var ve={lane:ye,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};re===null?(X=re=ve,B=g):re=re.next=ve,ar.lanes|=ye,Ni|=ye}de=de.next}while(de!==null&&de!==M);re===null?B=g:re.next=X,ts(g,a.memoizedState)||(un=!0),a.memoizedState=g,a.baseState=B,a.baseQueue=re,u.lastRenderedState=g}if(s=u.interleaved,s!==null){N=s;do M=N.lane,ar.lanes|=M,Ni|=M,N=N.next;while(N!==s)}else N===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function gh(s){var a=Bn(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var g=u.dispatch,N=u.pending,M=a.memoizedState;if(N!==null){u.pending=null;var B=N=N.next;do M=s(M,B.action),B=B.next;while(B!==N);ts(M,a.memoizedState)||(un=!0),a.memoizedState=M,a.baseQueue===null&&(a.baseState=M),u.lastRenderedState=M}return[M,g]}function w0(){}function k0(s,a){var u=ar,g=Bn(),N=a(),M=!ts(g.memoizedState,N);if(M&&(g.memoizedState=N,un=!0),g=g.queue,yh(E0.bind(null,u,g,s),[s]),g.getSnapshot!==a||M||Ar!==null&&Ar.memoizedState.tag&1){if(u.flags|=2048,_l(9,C0.bind(null,u,g,N,a),void 0,null),Sr===null)throw Error(r(349));(ki&30)!==0||N0(u,a,N)}return N}function N0(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=ar.updateQueue,a===null?(a={lastEffect:null,stores:null},ar.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function C0(s,a,u,g){a.value=u,a.getSnapshot=g,A0(a)&&S0(s)}function E0(s,a,u){return u(function(){A0(a)&&S0(s)})}function A0(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!ts(s,u)}catch{return!0}}function S0(s){var a=Qs(s,1);a!==null&&is(a,s,1,-1)}function T0(s){var a=As();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:s},a.queue=s,s=s.dispatch=TN.bind(null,ar,s),[a.memoizedState,s]}function _l(s,a,u,g){return s={tag:s,create:a,destroy:u,deps:g,next:null},a=ar.updateQueue,a===null?(a={lastEffect:null,stores:null},ar.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(g=u.next,u.next=s,s.next=g,a.lastEffect=s)),s}function P0(){return Bn().memoizedState}function du(s,a,u,g){var N=As();ar.flags|=s,N.memoizedState=_l(1|a,u,void 0,g===void 0?null:g)}function fu(s,a,u,g){var N=Bn();g=g===void 0?null:g;var M=void 0;if(kr!==null){var B=kr.memoizedState;if(M=B.destroy,g!==null&&fh(g,B.deps)){N.memoizedState=_l(a,u,M,g);return}}ar.flags|=s,N.memoizedState=_l(1|a,u,M,g)}function j0(s,a){return du(8390656,8,s,a)}function yh(s,a){return fu(2048,8,s,a)}function R0(s,a){return fu(4,2,s,a)}function M0(s,a){return fu(4,4,s,a)}function I0(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function _0(s,a,u){return u=u!=null?u.concat([s]):null,fu(4,4,I0.bind(null,a,s),u)}function xh(){}function D0(s,a){var u=Bn();a=a===void 0?null:a;var g=u.memoizedState;return g!==null&&a!==null&&fh(a,g[1])?g[0]:(u.memoizedState=[s,a],s)}function z0(s,a){var u=Bn();a=a===void 0?null:a;var g=u.memoizedState;return g!==null&&a!==null&&fh(a,g[1])?g[0]:(s=s(),u.memoizedState=[s,a],s)}function L0(s,a,u){return(ki&21)===0?(s.baseState&&(s.baseState=!1,un=!0),s.memoizedState=u):(ts(u,a)||(u=fl(),ar.lanes|=u,Ni|=u,s.baseState=!0),a)}function AN(s,a){var u=Fe;Fe=u!==0&&4>u?u:4,s(!0);var g=dh.transition;dh.transition={};try{s(!1),a()}finally{Fe=u,dh.transition=g}}function O0(){return Bn().memoizedState}function SN(s,a,u){var g=Do(s);if(u={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null},F0(s))B0(a,u);else if(u=g0(s,a,u,g),u!==null){var N=en();is(u,s,g,N),U0(u,a,g)}}function TN(s,a,u){var g=Do(s),N={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null};if(F0(s))B0(a,N);else{var M=s.alternate;if(s.lanes===0&&(M===null||M.lanes===0)&&(M=a.lastRenderedReducer,M!==null))try{var B=a.lastRenderedState,X=M(B,u);if(N.hasEagerState=!0,N.eagerState=X,ts(X,B)){var re=a.interleaved;re===null?(N.next=N,oh(a)):(N.next=re.next,re.next=N),a.interleaved=N;return}}catch{}finally{}u=g0(s,a,N,g),u!==null&&(N=en(),is(u,s,g,N),U0(u,a,g))}}function F0(s){var a=s.alternate;return s===ar||a!==null&&a===ar}function B0(s,a){Rl=uu=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function U0(s,a,u){if((u&4194240)!==0){var g=a.lanes;g&=s.pendingLanes,u|=g,a.lanes=u,Ce(s,u)}}var hu={readContext:Fn,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},PN={readContext:Fn,useCallback:function(s,a){return As().memoizedState=[s,a===void 0?null:a],s},useContext:Fn,useEffect:j0,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,du(4194308,4,I0.bind(null,a,s),u)},useLayoutEffect:function(s,a){return du(4194308,4,s,a)},useInsertionEffect:function(s,a){return du(4,2,s,a)},useMemo:function(s,a){var u=As();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var g=As();return a=u!==void 0?u(a):a,g.memoizedState=g.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},g.queue=s,s=s.dispatch=SN.bind(null,ar,s),[g.memoizedState,s]},useRef:function(s){var a=As();return s={current:s},a.memoizedState=s},useState:T0,useDebugValue:xh,useDeferredValue:function(s){return As().memoizedState=s},useTransition:function(){var s=T0(!1),a=s[0];return s=AN.bind(null,s[1]),As().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var g=ar,N=As();if(rr){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),Sr===null)throw Error(r(349));(ki&30)!==0||N0(g,a,u)}N.memoizedState=u;var M={value:u,getSnapshot:a};return N.queue=M,j0(E0.bind(null,g,M,s),[s]),g.flags|=2048,_l(9,C0.bind(null,g,M,u,a),void 0,null),u},useId:function(){var s=As(),a=Sr.identifierPrefix;if(rr){var u=Ys,g=Ks;u=(g&~(1<<32-wr(g)-1)).toString(32)+u,a=":"+a+"R"+u,u=Ml++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=EN++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},jN={readContext:Fn,useCallback:D0,useContext:Fn,useEffect:yh,useImperativeHandle:_0,useInsertionEffect:R0,useLayoutEffect:M0,useMemo:z0,useReducer:ph,useRef:P0,useState:function(){return ph(Il)},useDebugValue:xh,useDeferredValue:function(s){var a=Bn();return L0(a,kr.memoizedState,s)},useTransition:function(){var s=ph(Il)[0],a=Bn().memoizedState;return[s,a]},useMutableSource:w0,useSyncExternalStore:k0,useId:O0,unstable_isNewReconciler:!1},RN={readContext:Fn,useCallback:D0,useContext:Fn,useEffect:yh,useImperativeHandle:_0,useInsertionEffect:R0,useLayoutEffect:M0,useMemo:z0,useReducer:gh,useRef:P0,useState:function(){return gh(Il)},useDebugValue:xh,useDeferredValue:function(s){var a=Bn();return kr===null?a.memoizedState=s:L0(a,kr.memoizedState,s)},useTransition:function(){var s=gh(Il)[0],a=Bn().memoizedState;return[s,a]},useMutableSource:w0,useSyncExternalStore:k0,useId:O0,unstable_isNewReconciler:!1};function ns(s,a){if(s&&s.defaultProps){a=L({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function vh(s,a,u,g){a=s.memoizedState,u=u(g,a),u=u==null?a:L({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var mu={isMounted:function(s){return(s=s._reactInternals)?Dr(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var g=en(),N=Do(s),M=Js(g,N);M.payload=a,u!=null&&(M.callback=u),a=Ro(s,M,N),a!==null&&(is(a,s,N,g),iu(a,s,N))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var g=en(),N=Do(s),M=Js(g,N);M.tag=1,M.payload=a,u!=null&&(M.callback=u),a=Ro(s,M,N),a!==null&&(is(a,s,N,g),iu(a,s,N))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=en(),g=Do(s),N=Js(u,g);N.tag=2,a!=null&&(N.callback=a),a=Ro(s,N,g),a!==null&&(is(a,s,g,u),iu(a,s,g))}};function $0(s,a,u,g,N,M,B){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,M,B):a.prototype&&a.prototype.isPureReactComponent?!bl(u,g)||!bl(N,M):!0}function W0(s,a,u){var g=!1,N=To,M=a.contextType;return typeof M=="object"&&M!==null?M=Fn(M):(N=cn(a)?yi:$r.current,g=a.contextTypes,M=(g=g!=null)?wa(s,N):To),a=new a(u,M),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=mu,s.stateNode=a,a._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=N,s.__reactInternalMemoizedMaskedChildContext=M),a}function q0(s,a,u,g){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,g),a.state!==s&&mu.enqueueReplaceState(a,a.state,null)}function bh(s,a,u,g){var N=s.stateNode;N.props=u,N.state=s.memoizedState,N.refs={},ih(s);var M=a.contextType;typeof M=="object"&&M!==null?N.context=Fn(M):(M=cn(a)?yi:$r.current,N.context=wa(s,M)),N.state=s.memoizedState,M=a.getDerivedStateFromProps,typeof M=="function"&&(vh(s,a,M,u),N.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(a=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),a!==N.state&&mu.enqueueReplaceState(N,N.state,null),au(s,u,N,g),N.state=s.memoizedState),typeof N.componentDidMount=="function"&&(s.flags|=4194308)}function Pa(s,a){try{var u="",g=a;do u+=z(g),g=g.return;while(g);var N=u}catch(M){N=`
Error generating stack: `+M.message+`
`+M.stack}return{value:s,source:a,stack:N,digest:null}}function wh(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function kh(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var MN=typeof WeakMap=="function"?WeakMap:Map;function H0(s,a,u){u=Js(-1,u),u.tag=3,u.payload={element:null};var g=a.value;return u.callback=function(){wu||(wu=!0,Lh=g),kh(s,a)},u}function G0(s,a,u){u=Js(-1,u),u.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var N=a.value;u.payload=function(){return g(N)},u.callback=function(){kh(s,a)}}var M=s.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(u.callback=function(){kh(s,a),typeof g!="function"&&(Io===null?Io=new Set([this]):Io.add(this));var B=a.stack;this.componentDidCatch(a.value,{componentStack:B!==null?B:""})}),u}function V0(s,a,u){var g=s.pingCache;if(g===null){g=s.pingCache=new MN;var N=new Set;g.set(a,N)}else N=g.get(a),N===void 0&&(N=new Set,g.set(a,N));N.has(u)||(N.add(u),s=GN.bind(null,s,a,u),a.then(s,s))}function K0(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Y0(s,a,u,g,N){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Js(-1,1),a.tag=2,Ro(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=N,s)}var IN=U.ReactCurrentOwner,un=!1;function Zr(s,a,u,g){a.child=s===null?p0(a,null,u,g):Ea(a,s.child,u,g)}function Q0(s,a,u,g,N){u=u.render;var M=a.ref;return Sa(a,N),g=hh(s,a,u,g,M,N),u=mh(),s!==null&&!un?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~N,Xs(s,a,N)):(rr&&u&&Qf(a),a.flags|=1,Zr(s,a,g,N),a.child)}function J0(s,a,u,g,N){if(s===null){var M=u.type;return typeof M=="function"&&!qh(M)&&M.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=M,X0(s,a,M,g,N)):(s=Su(u.type,null,g,a,a.mode,N),s.ref=a.ref,s.return=a,a.child=s)}if(M=s.child,(s.lanes&N)===0){var B=M.memoizedProps;if(u=u.compare,u=u!==null?u:bl,u(B,g)&&s.ref===a.ref)return Xs(s,a,N)}return a.flags|=1,s=Lo(M,g),s.ref=a.ref,s.return=a,a.child=s}function X0(s,a,u,g,N){if(s!==null){var M=s.memoizedProps;if(bl(M,g)&&s.ref===a.ref)if(un=!1,a.pendingProps=g=M,(s.lanes&N)!==0)(s.flags&131072)!==0&&(un=!0);else return a.lanes=s.lanes,Xs(s,a,N)}return Nh(s,a,u,g,N)}function Z0(s,a,u){var g=a.pendingProps,N=g.children,M=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(Ra,En),En|=u;else{if((u&1073741824)===0)return s=M!==null?M.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Qt(Ra,En),En|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=M!==null?M.baseLanes:u,Qt(Ra,En),En|=g}else M!==null?(g=M.baseLanes|u,a.memoizedState=null):g=u,Qt(Ra,En),En|=g;return Zr(s,a,N,u),a.child}function ey(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Nh(s,a,u,g,N){var M=cn(u)?yi:$r.current;return M=wa(a,M),Sa(a,N),u=hh(s,a,u,g,M,N),g=mh(),s!==null&&!un?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~N,Xs(s,a,N)):(rr&&g&&Qf(a),a.flags|=1,Zr(s,a,u,N),a.child)}function ty(s,a,u,g,N){if(cn(u)){var M=!0;Xc(a)}else M=!1;if(Sa(a,N),a.stateNode===null)gu(s,a),W0(a,u,g),bh(a,u,g,N),g=!0;else if(s===null){var B=a.stateNode,X=a.memoizedProps;B.props=X;var re=B.context,de=u.contextType;typeof de=="object"&&de!==null?de=Fn(de):(de=cn(u)?yi:$r.current,de=wa(a,de));var ye=u.getDerivedStateFromProps,ve=typeof ye=="function"||typeof B.getSnapshotBeforeUpdate=="function";ve||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(X!==g||re!==de)&&q0(a,B,g,de),jo=!1;var ge=a.memoizedState;B.state=ge,au(a,g,B,N),re=a.memoizedState,X!==g||ge!==re||ln.current||jo?(typeof ye=="function"&&(vh(a,u,ye,g),re=a.memoizedState),(X=jo||$0(a,u,X,g,ge,re,de))?(ve||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(a.flags|=4194308)):(typeof B.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=re),B.props=g,B.state=re,B.context=de,g=X):(typeof B.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{B=a.stateNode,y0(s,a),X=a.memoizedProps,de=a.type===a.elementType?X:ns(a.type,X),B.props=de,ve=a.pendingProps,ge=B.context,re=u.contextType,typeof re=="object"&&re!==null?re=Fn(re):(re=cn(u)?yi:$r.current,re=wa(a,re));var Te=u.getDerivedStateFromProps;(ye=typeof Te=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(X!==ve||ge!==re)&&q0(a,B,g,re),jo=!1,ge=a.memoizedState,B.state=ge,au(a,g,B,N);var Ie=a.memoizedState;X!==ve||ge!==Ie||ln.current||jo?(typeof Te=="function"&&(vh(a,u,Te,g),Ie=a.memoizedState),(de=jo||$0(a,u,de,g,ge,Ie,re)||!1)?(ye||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(g,Ie,re),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(g,Ie,re)),typeof B.componentDidUpdate=="function"&&(a.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof B.componentDidUpdate!="function"||X===s.memoizedProps&&ge===s.memoizedState||(a.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||X===s.memoizedProps&&ge===s.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=Ie),B.props=g,B.state=Ie,B.context=re,g=de):(typeof B.componentDidUpdate!="function"||X===s.memoizedProps&&ge===s.memoizedState||(a.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||X===s.memoizedProps&&ge===s.memoizedState||(a.flags|=1024),g=!1)}return Ch(s,a,u,g,M,N)}function Ch(s,a,u,g,N,M){ey(s,a);var B=(a.flags&128)!==0;if(!g&&!B)return N&&i0(a,u,!1),Xs(s,a,M);g=a.stateNode,IN.current=a;var X=B&&typeof u.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,s!==null&&B?(a.child=Ea(a,s.child,null,M),a.child=Ea(a,null,X,M)):Zr(s,a,X,M),a.memoizedState=g.state,N&&i0(a,u,!0),a.child}function ry(s){var a=s.stateNode;a.pendingContext?s0(s,a.pendingContext,a.pendingContext!==a.context):a.context&&s0(s,a.context,!1),ah(s,a.containerInfo)}function ny(s,a,u,g,N){return Ca(),eh(N),a.flags|=256,Zr(s,a,u,g),a.child}var Eh={dehydrated:null,treeContext:null,retryLane:0};function Ah(s){return{baseLanes:s,cachePool:null,transitions:null}}function sy(s,a,u){var g=a.pendingProps,N=ir.current,M=!1,B=(a.flags&128)!==0,X;if((X=B)||(X=s!==null&&s.memoizedState===null?!1:(N&2)!==0),X?(M=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(N|=1),Qt(ir,N&1),s===null)return Zf(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(B=g.children,s=g.fallback,M?(g=a.mode,M=a.child,B={mode:"hidden",children:B},(g&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=B):M=Tu(B,g,0,null),s=Si(s,g,u,null),M.return=a,s.return=a,M.sibling=s,a.child=M,a.child.memoizedState=Ah(u),a.memoizedState=Eh,s):Sh(a,B));if(N=s.memoizedState,N!==null&&(X=N.dehydrated,X!==null))return _N(s,a,B,g,X,N,u);if(M){M=g.fallback,B=a.mode,N=s.child,X=N.sibling;var re={mode:"hidden",children:g.children};return(B&1)===0&&a.child!==N?(g=a.child,g.childLanes=0,g.pendingProps=re,a.deletions=null):(g=Lo(N,re),g.subtreeFlags=N.subtreeFlags&14680064),X!==null?M=Lo(X,M):(M=Si(M,B,u,null),M.flags|=2),M.return=a,g.return=a,g.sibling=M,a.child=g,g=M,M=a.child,B=s.child.memoizedState,B=B===null?Ah(u):{baseLanes:B.baseLanes|u,cachePool:null,transitions:B.transitions},M.memoizedState=B,M.childLanes=s.childLanes&~u,a.memoizedState=Eh,g}return M=s.child,s=M.sibling,g=Lo(M,{mode:"visible",children:g.children}),(a.mode&1)===0&&(g.lanes=u),g.return=a,g.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=g,a.memoizedState=null,g}function Sh(s,a){return a=Tu({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function pu(s,a,u,g){return g!==null&&eh(g),Ea(a,s.child,null,u),s=Sh(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function _N(s,a,u,g,N,M,B){if(u)return a.flags&256?(a.flags&=-257,g=wh(Error(r(422))),pu(s,a,B,g)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(M=g.fallback,N=a.mode,g=Tu({mode:"visible",children:g.children},N,0,null),M=Si(M,N,B,null),M.flags|=2,g.return=a,M.return=a,g.sibling=M,a.child=g,(a.mode&1)!==0&&Ea(a,s.child,null,B),a.child.memoizedState=Ah(B),a.memoizedState=Eh,M);if((a.mode&1)===0)return pu(s,a,B,null);if(N.data==="$!"){if(g=N.nextSibling&&N.nextSibling.dataset,g)var X=g.dgst;return g=X,M=Error(r(419)),g=wh(M,g,void 0),pu(s,a,B,g)}if(X=(B&s.childLanes)!==0,un||X){if(g=Sr,g!==null){switch(B&-B){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(g.suspendedLanes|B))!==0?0:N,N!==0&&N!==M.retryLane&&(M.retryLane=N,Qs(s,N),is(g,s,N,-1))}return Wh(),g=wh(Error(r(421))),pu(s,a,B,g)}return N.data==="$?"?(a.flags|=128,a.child=s.child,a=VN.bind(null,s),N._reactRetry=a,null):(s=M.treeContext,Cn=Ao(N.nextSibling),Nn=a,rr=!0,rs=null,s!==null&&(Ln[On++]=Ks,Ln[On++]=Ys,Ln[On++]=xi,Ks=s.id,Ys=s.overflow,xi=a),a=Sh(a,g.children),a.flags|=4096,a)}function oy(s,a,u){s.lanes|=a;var g=s.alternate;g!==null&&(g.lanes|=a),sh(s.return,a,u)}function Th(s,a,u,g,N){var M=s.memoizedState;M===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:N}:(M.isBackwards=a,M.rendering=null,M.renderingStartTime=0,M.last=g,M.tail=u,M.tailMode=N)}function iy(s,a,u){var g=a.pendingProps,N=g.revealOrder,M=g.tail;if(Zr(s,a,g.children,u),g=ir.current,(g&2)!==0)g=g&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&oy(s,u,a);else if(s.tag===19)oy(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(Qt(ir,g),(a.mode&1)===0)a.memoizedState=null;else switch(N){case"forwards":for(u=a.child,N=null;u!==null;)s=u.alternate,s!==null&&lu(s)===null&&(N=u),u=u.sibling;u=N,u===null?(N=a.child,a.child=null):(N=u.sibling,u.sibling=null),Th(a,!1,N,u,M);break;case"backwards":for(u=null,N=a.child,a.child=null;N!==null;){if(s=N.alternate,s!==null&&lu(s)===null){a.child=N;break}s=N.sibling,N.sibling=u,u=N,N=s}Th(a,!0,u,null,M);break;case"together":Th(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function gu(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Xs(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Ni|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,u=Lo(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Lo(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function DN(s,a,u){switch(a.tag){case 3:ry(a),Ca();break;case 5:b0(a);break;case 1:cn(a.type)&&Xc(a);break;case 4:ah(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,N=a.memoizedProps.value;Qt(su,g._currentValue),g._currentValue=N;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(Qt(ir,ir.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?sy(s,a,u):(Qt(ir,ir.current&1),s=Xs(s,a,u),s!==null?s.sibling:null);Qt(ir,ir.current&1);break;case 19:if(g=(u&a.childLanes)!==0,(s.flags&128)!==0){if(g)return iy(s,a,u);a.flags|=128}if(N=a.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),Qt(ir,ir.current),g)break;return null;case 22:case 23:return a.lanes=0,Z0(s,a,u)}return Xs(s,a,u)}var ay,Ph,ly,cy;ay=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Ph=function(){},ly=function(s,a,u,g){var N=s.memoizedProps;if(N!==g){s=a.stateNode,wi(Es.current);var M=null;switch(u){case"input":N=pe(s,N),g=pe(s,g),M=[];break;case"select":N=L({},N,{value:void 0}),g=L({},g,{value:void 0}),M=[];break;case"textarea":N=De(s,N),g=De(s,g),M=[];break;default:typeof N.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=Yc)}dt(u,g);var B;u=null;for(de in N)if(!g.hasOwnProperty(de)&&N.hasOwnProperty(de)&&N[de]!=null)if(de==="style"){var X=N[de];for(B in X)X.hasOwnProperty(B)&&(u||(u={}),u[B]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(i.hasOwnProperty(de)?M||(M=[]):(M=M||[]).push(de,null));for(de in g){var re=g[de];if(X=N!=null?N[de]:void 0,g.hasOwnProperty(de)&&re!==X&&(re!=null||X!=null))if(de==="style")if(X){for(B in X)!X.hasOwnProperty(B)||re&&re.hasOwnProperty(B)||(u||(u={}),u[B]="");for(B in re)re.hasOwnProperty(B)&&X[B]!==re[B]&&(u||(u={}),u[B]=re[B])}else u||(M||(M=[]),M.push(de,u)),u=re;else de==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,X=X?X.__html:void 0,re!=null&&X!==re&&(M=M||[]).push(de,re)):de==="children"?typeof re!="string"&&typeof re!="number"||(M=M||[]).push(de,""+re):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(i.hasOwnProperty(de)?(re!=null&&de==="onScroll"&&Xt("scroll",s),M||X===re||(M=[])):(M=M||[]).push(de,re))}u&&(M=M||[]).push("style",u);var de=M;(a.updateQueue=de)&&(a.flags|=4)}},cy=function(s,a,u,g){u!==g&&(a.flags|=4)};function Dl(s,a){if(!rr)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function qr(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,g=0;if(a)for(var N=s.child;N!==null;)u|=N.lanes|N.childLanes,g|=N.subtreeFlags&14680064,g|=N.flags&14680064,N.return=s,N=N.sibling;else for(N=s.child;N!==null;)u|=N.lanes|N.childLanes,g|=N.subtreeFlags,g|=N.flags,N.return=s,N=N.sibling;return s.subtreeFlags|=g,s.childLanes=u,a}function zN(s,a,u){var g=a.pendingProps;switch(Jf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qr(a),null;case 1:return cn(a.type)&&Jc(),qr(a),null;case 3:return g=a.stateNode,Ta(),Zt(ln),Zt($r),uh(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(ru(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,rs!==null&&(Bh(rs),rs=null))),Ph(s,a),qr(a),null;case 5:lh(a);var N=wi(jl.current);if(u=a.type,s!==null&&a.stateNode!=null)ly(s,a,u,g,N),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(r(166));return qr(a),null}if(s=wi(Es.current),ru(a)){g=a.stateNode,u=a.type;var M=a.memoizedProps;switch(g[Cs]=a,g[El]=M,s=(a.mode&1)!==0,u){case"dialog":Xt("cancel",g),Xt("close",g);break;case"iframe":case"object":case"embed":Xt("load",g);break;case"video":case"audio":for(N=0;N<kl.length;N++)Xt(kl[N],g);break;case"source":Xt("error",g);break;case"img":case"image":case"link":Xt("error",g),Xt("load",g);break;case"details":Xt("toggle",g);break;case"input":Ae(g,M),Xt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!M.multiple},Xt("invalid",g);break;case"textarea":Re(g,M),Xt("invalid",g)}dt(u,M),N=null;for(var B in M)if(M.hasOwnProperty(B)){var X=M[B];B==="children"?typeof X=="string"?g.textContent!==X&&(M.suppressHydrationWarning!==!0&&Kc(g.textContent,X,s),N=["children",X]):typeof X=="number"&&g.textContent!==""+X&&(M.suppressHydrationWarning!==!0&&Kc(g.textContent,X,s),N=["children",""+X]):i.hasOwnProperty(B)&&X!=null&&B==="onScroll"&&Xt("scroll",g)}switch(u){case"input":fe(g),He(g,M,!0);break;case"textarea":fe(g),ht(g);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(g.onclick=Yc)}g=N,a.updateQueue=g,g!==null&&(a.flags|=4)}else{B=N.nodeType===9?N:N.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ke(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=B.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=B.createElement(u,{is:g.is}):(s=B.createElement(u),u==="select"&&(B=s,g.multiple?B.multiple=!0:g.size&&(B.size=g.size))):s=B.createElementNS(s,u),s[Cs]=a,s[El]=g,ay(s,a,!1,!1),a.stateNode=s;e:{switch(B=_r(u,g),u){case"dialog":Xt("cancel",s),Xt("close",s),N=g;break;case"iframe":case"object":case"embed":Xt("load",s),N=g;break;case"video":case"audio":for(N=0;N<kl.length;N++)Xt(kl[N],s);N=g;break;case"source":Xt("error",s),N=g;break;case"img":case"image":case"link":Xt("error",s),Xt("load",s),N=g;break;case"details":Xt("toggle",s),N=g;break;case"input":Ae(s,g),N=pe(s,g),Xt("invalid",s);break;case"option":N=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},N=L({},g,{value:void 0}),Xt("invalid",s);break;case"textarea":Re(s,g),N=De(s,g),Xt("invalid",s);break;default:N=g}dt(u,N),X=N;for(M in X)if(X.hasOwnProperty(M)){var re=X[M];M==="style"?pr(s,re):M==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&Oe(s,re)):M==="children"?typeof re=="string"?(u!=="textarea"||re!=="")&&Le(s,re):typeof re=="number"&&Le(s,""+re):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(i.hasOwnProperty(M)?re!=null&&M==="onScroll"&&Xt("scroll",s):re!=null&&S(s,M,re,B))}switch(u){case"input":fe(s),He(s,g,!1);break;case"textarea":fe(s),ht(s);break;case"option":g.value!=null&&s.setAttribute("value",""+J(g.value));break;case"select":s.multiple=!!g.multiple,M=g.value,M!=null?Ve(s,!!g.multiple,M,!1):g.defaultValue!=null&&Ve(s,!!g.multiple,g.defaultValue,!0);break;default:typeof N.onClick=="function"&&(s.onclick=Yc)}switch(u){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return qr(a),null;case 6:if(s&&a.stateNode!=null)cy(s,a,s.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(r(166));if(u=wi(jl.current),wi(Es.current),ru(a)){if(g=a.stateNode,u=a.memoizedProps,g[Cs]=a,(M=g.nodeValue!==u)&&(s=Nn,s!==null))switch(s.tag){case 3:Kc(g.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Kc(g.nodeValue,u,(s.mode&1)!==0)}M&&(a.flags|=4)}else g=(u.nodeType===9?u:u.ownerDocument).createTextNode(g),g[Cs]=a,a.stateNode=g}return qr(a),null;case 13:if(Zt(ir),g=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(rr&&Cn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)f0(),Ca(),a.flags|=98560,M=!1;else if(M=ru(a),g!==null&&g.dehydrated!==null){if(s===null){if(!M)throw Error(r(318));if(M=a.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(r(317));M[Cs]=a}else Ca(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;qr(a),M=!1}else rs!==null&&(Bh(rs),rs=null),M=!0;if(!M)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(ir.current&1)!==0?Nr===0&&(Nr=3):Wh())),a.updateQueue!==null&&(a.flags|=4),qr(a),null);case 4:return Ta(),Ph(s,a),s===null&&Nl(a.stateNode.containerInfo),qr(a),null;case 10:return nh(a.type._context),qr(a),null;case 17:return cn(a.type)&&Jc(),qr(a),null;case 19:if(Zt(ir),M=a.memoizedState,M===null)return qr(a),null;if(g=(a.flags&128)!==0,B=M.rendering,B===null)if(g)Dl(M,!1);else{if(Nr!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(B=lu(s),B!==null){for(a.flags|=128,Dl(M,!1),g=B.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=u,u=a.child;u!==null;)M=u,s=g,M.flags&=14680066,B=M.alternate,B===null?(M.childLanes=0,M.lanes=s,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=B.childLanes,M.lanes=B.lanes,M.child=B.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=B.memoizedProps,M.memoizedState=B.memoizedState,M.updateQueue=B.updateQueue,M.type=B.type,s=B.dependencies,M.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Qt(ir,ir.current&1|2),a.child}s=s.sibling}M.tail!==null&&qt()>Ma&&(a.flags|=128,g=!0,Dl(M,!1),a.lanes=4194304)}else{if(!g)if(s=lu(B),s!==null){if(a.flags|=128,g=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Dl(M,!0),M.tail===null&&M.tailMode==="hidden"&&!B.alternate&&!rr)return qr(a),null}else 2*qt()-M.renderingStartTime>Ma&&u!==1073741824&&(a.flags|=128,g=!0,Dl(M,!1),a.lanes=4194304);M.isBackwards?(B.sibling=a.child,a.child=B):(u=M.last,u!==null?u.sibling=B:a.child=B,M.last=B)}return M.tail!==null?(a=M.tail,M.rendering=a,M.tail=a.sibling,M.renderingStartTime=qt(),a.sibling=null,u=ir.current,Qt(ir,g?u&1|2:u&1),a):(qr(a),null);case 22:case 23:return $h(),g=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(a.flags|=8192),g&&(a.mode&1)!==0?(En&1073741824)!==0&&(qr(a),a.subtreeFlags&6&&(a.flags|=8192)):qr(a),null;case 24:return null;case 25:return null}throw Error(r(156,a.tag))}function LN(s,a){switch(Jf(a),a.tag){case 1:return cn(a.type)&&Jc(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ta(),Zt(ln),Zt($r),uh(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return lh(a),null;case 13:if(Zt(ir),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Ca()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Zt(ir),null;case 4:return Ta(),null;case 10:return nh(a.type._context),null;case 22:case 23:return $h(),null;case 24:return null;default:return null}}var yu=!1,Hr=!1,ON=typeof WeakSet=="function"?WeakSet:Set,Me=null;function ja(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(g){ur(s,a,g)}else u.current=null}function jh(s,a,u){try{u()}catch(g){ur(s,a,g)}}var uy=!1;function FN(s,a){if($f=pi,s=$g(),_f(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var N=g.anchorOffset,M=g.focusNode;g=g.focusOffset;try{u.nodeType,M.nodeType}catch{u=null;break e}var B=0,X=-1,re=-1,de=0,ye=0,ve=s,ge=null;t:for(;;){for(var Te;ve!==u||N!==0&&ve.nodeType!==3||(X=B+N),ve!==M||g!==0&&ve.nodeType!==3||(re=B+g),ve.nodeType===3&&(B+=ve.nodeValue.length),(Te=ve.firstChild)!==null;)ge=ve,ve=Te;for(;;){if(ve===s)break t;if(ge===u&&++de===N&&(X=B),ge===M&&++ye===g&&(re=B),(Te=ve.nextSibling)!==null)break;ve=ge,ge=ve.parentNode}ve=Te}u=X===-1||re===-1?null:{start:X,end:re}}else u=null}u=u||{start:0,end:0}}else u=null;for(Wf={focusedElem:s,selectionRange:u},pi=!1,Me=a;Me!==null;)if(a=Me,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Me=s;else for(;Me!==null;){a=Me;try{var Ie=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var ze=Ie.memoizedProps,hr=Ie.memoizedState,ae=a.stateNode,oe=ae.getSnapshotBeforeUpdate(a.elementType===a.type?ze:ns(a.type,ze),hr);ae.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var le=a.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(be){ur(a,a.return,be)}if(s=a.sibling,s!==null){s.return=a.return,Me=s;break}Me=a.return}return Ie=uy,uy=!1,Ie}function zl(s,a,u){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var N=g=g.next;do{if((N.tag&s)===s){var M=N.destroy;N.destroy=void 0,M!==void 0&&jh(a,u,M)}N=N.next}while(N!==g)}}function xu(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var g=u.create;u.destroy=g()}u=u.next}while(u!==a)}}function Rh(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function dy(s){var a=s.alternate;a!==null&&(s.alternate=null,dy(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Cs],delete a[El],delete a[Vf],delete a[wN],delete a[kN])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function fy(s){return s.tag===5||s.tag===3||s.tag===4}function hy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||fy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Mh(s,a,u){var g=s.tag;if(g===5||g===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Yc));else if(g!==4&&(s=s.child,s!==null))for(Mh(s,a,u),s=s.sibling;s!==null;)Mh(s,a,u),s=s.sibling}function Ih(s,a,u){var g=s.tag;if(g===5||g===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(Ih(s,a,u),s=s.sibling;s!==null;)Ih(s,a,u),s=s.sibling}var zr=null,ss=!1;function Mo(s,a,u){for(u=u.child;u!==null;)my(s,a,u),u=u.sibling}function my(s,a,u){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(bn,u)}catch{}switch(u.tag){case 5:Hr||ja(u,a);case 6:var g=zr,N=ss;zr=null,Mo(s,a,u),zr=g,ss=N,zr!==null&&(ss?(s=zr,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):zr.removeChild(u.stateNode));break;case 18:zr!==null&&(ss?(s=zr,u=u.stateNode,s.nodeType===8?Gf(s.parentNode,u):s.nodeType===1&&Gf(s,u),No(s)):Gf(zr,u.stateNode));break;case 4:g=zr,N=ss,zr=u.stateNode.containerInfo,ss=!0,Mo(s,a,u),zr=g,ss=N;break;case 0:case 11:case 14:case 15:if(!Hr&&(g=u.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){N=g=g.next;do{var M=N,B=M.destroy;M=M.tag,B!==void 0&&((M&2)!==0||(M&4)!==0)&&jh(u,a,B),N=N.next}while(N!==g)}Mo(s,a,u);break;case 1:if(!Hr&&(ja(u,a),g=u.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=u.memoizedProps,g.state=u.memoizedState,g.componentWillUnmount()}catch(X){ur(u,a,X)}Mo(s,a,u);break;case 21:Mo(s,a,u);break;case 22:u.mode&1?(Hr=(g=Hr)||u.memoizedState!==null,Mo(s,a,u),Hr=g):Mo(s,a,u);break;default:Mo(s,a,u)}}function py(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new ON),a.forEach(function(g){var N=KN.bind(null,s,g);u.has(g)||(u.add(g),g.then(N,N))})}}function os(s,a){var u=a.deletions;if(u!==null)for(var g=0;g<u.length;g++){var N=u[g];try{var M=s,B=a,X=B;e:for(;X!==null;){switch(X.tag){case 5:zr=X.stateNode,ss=!1;break e;case 3:zr=X.stateNode.containerInfo,ss=!0;break e;case 4:zr=X.stateNode.containerInfo,ss=!0;break e}X=X.return}if(zr===null)throw Error(r(160));my(M,B,N),zr=null,ss=!1;var re=N.alternate;re!==null&&(re.return=null),N.return=null}catch(de){ur(N,a,de)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)gy(a,s),a=a.sibling}function gy(s,a){var u=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(os(a,s),Ss(s),g&4){try{zl(3,s,s.return),xu(3,s)}catch(ze){ur(s,s.return,ze)}try{zl(5,s,s.return)}catch(ze){ur(s,s.return,ze)}}break;case 1:os(a,s),Ss(s),g&512&&u!==null&&ja(u,u.return);break;case 5:if(os(a,s),Ss(s),g&512&&u!==null&&ja(u,u.return),s.flags&32){var N=s.stateNode;try{Le(N,"")}catch(ze){ur(s,s.return,ze)}}if(g&4&&(N=s.stateNode,N!=null)){var M=s.memoizedProps,B=u!==null?u.memoizedProps:M,X=s.type,re=s.updateQueue;if(s.updateQueue=null,re!==null)try{X==="input"&&M.type==="radio"&&M.name!=null&&gt(N,M),_r(X,B);var de=_r(X,M);for(B=0;B<re.length;B+=2){var ye=re[B],ve=re[B+1];ye==="style"?pr(N,ve):ye==="dangerouslySetInnerHTML"?Oe(N,ve):ye==="children"?Le(N,ve):S(N,ye,ve,de)}switch(X){case"input":$e(N,M);break;case"textarea":Se(N,M);break;case"select":var ge=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!M.multiple;var Te=M.value;Te!=null?Ve(N,!!M.multiple,Te,!1):ge!==!!M.multiple&&(M.defaultValue!=null?Ve(N,!!M.multiple,M.defaultValue,!0):Ve(N,!!M.multiple,M.multiple?[]:"",!1))}N[El]=M}catch(ze){ur(s,s.return,ze)}}break;case 6:if(os(a,s),Ss(s),g&4){if(s.stateNode===null)throw Error(r(162));N=s.stateNode,M=s.memoizedProps;try{N.nodeValue=M}catch(ze){ur(s,s.return,ze)}}break;case 3:if(os(a,s),Ss(s),g&4&&u!==null&&u.memoizedState.isDehydrated)try{No(a.containerInfo)}catch(ze){ur(s,s.return,ze)}break;case 4:os(a,s),Ss(s);break;case 13:os(a,s),Ss(s),N=s.child,N.flags&8192&&(M=N.memoizedState!==null,N.stateNode.isHidden=M,!M||N.alternate!==null&&N.alternate.memoizedState!==null||(zh=qt())),g&4&&py(s);break;case 22:if(ye=u!==null&&u.memoizedState!==null,s.mode&1?(Hr=(de=Hr)||ye,os(a,s),Hr=de):os(a,s),Ss(s),g&8192){if(de=s.memoizedState!==null,(s.stateNode.isHidden=de)&&!ye&&(s.mode&1)!==0)for(Me=s,ye=s.child;ye!==null;){for(ve=Me=ye;Me!==null;){switch(ge=Me,Te=ge.child,ge.tag){case 0:case 11:case 14:case 15:zl(4,ge,ge.return);break;case 1:ja(ge,ge.return);var Ie=ge.stateNode;if(typeof Ie.componentWillUnmount=="function"){g=ge,u=ge.return;try{a=g,Ie.props=a.memoizedProps,Ie.state=a.memoizedState,Ie.componentWillUnmount()}catch(ze){ur(g,u,ze)}}break;case 5:ja(ge,ge.return);break;case 22:if(ge.memoizedState!==null){vy(ve);continue}}Te!==null?(Te.return=ge,Me=Te):vy(ve)}ye=ye.sibling}e:for(ye=null,ve=s;;){if(ve.tag===5){if(ye===null){ye=ve;try{N=ve.stateNode,de?(M=N.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(X=ve.stateNode,re=ve.memoizedProps.style,B=re!=null&&re.hasOwnProperty("display")?re.display:null,X.style.display=yt("display",B))}catch(ze){ur(s,s.return,ze)}}}else if(ve.tag===6){if(ye===null)try{ve.stateNode.nodeValue=de?"":ve.memoizedProps}catch(ze){ur(s,s.return,ze)}}else if((ve.tag!==22&&ve.tag!==23||ve.memoizedState===null||ve===s)&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===s)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===s)break e;ye===ve&&(ye=null),ve=ve.return}ye===ve&&(ye=null),ve.sibling.return=ve.return,ve=ve.sibling}}break;case 19:os(a,s),Ss(s),g&4&&py(s);break;case 21:break;default:os(a,s),Ss(s)}}function Ss(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(fy(u)){var g=u;break e}u=u.return}throw Error(r(160))}switch(g.tag){case 5:var N=g.stateNode;g.flags&32&&(Le(N,""),g.flags&=-33);var M=hy(s);Ih(s,M,N);break;case 3:case 4:var B=g.stateNode.containerInfo,X=hy(s);Mh(s,X,B);break;default:throw Error(r(161))}}catch(re){ur(s,s.return,re)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function BN(s,a,u){Me=s,yy(s)}function yy(s,a,u){for(var g=(s.mode&1)!==0;Me!==null;){var N=Me,M=N.child;if(N.tag===22&&g){var B=N.memoizedState!==null||yu;if(!B){var X=N.alternate,re=X!==null&&X.memoizedState!==null||Hr;X=yu;var de=Hr;if(yu=B,(Hr=re)&&!de)for(Me=N;Me!==null;)B=Me,re=B.child,B.tag===22&&B.memoizedState!==null?by(N):re!==null?(re.return=B,Me=re):by(N);for(;M!==null;)Me=M,yy(M),M=M.sibling;Me=N,yu=X,Hr=de}xy(s)}else(N.subtreeFlags&8772)!==0&&M!==null?(M.return=N,Me=M):xy(s)}}function xy(s){for(;Me!==null;){var a=Me;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Hr||xu(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!Hr)if(u===null)g.componentDidMount();else{var N=a.elementType===a.type?u.memoizedProps:ns(a.type,u.memoizedProps);g.componentDidUpdate(N,u.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var M=a.updateQueue;M!==null&&v0(a,M,g);break;case 3:var B=a.updateQueue;if(B!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}v0(a,B,u)}break;case 5:var X=a.stateNode;if(u===null&&a.flags&4){u=X;var re=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&u.focus();break;case"img":re.src&&(u.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var de=a.alternate;if(de!==null){var ye=de.memoizedState;if(ye!==null){var ve=ye.dehydrated;ve!==null&&No(ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Hr||a.flags&512&&Rh(a)}catch(ge){ur(a,a.return,ge)}}if(a===s){Me=null;break}if(u=a.sibling,u!==null){u.return=a.return,Me=u;break}Me=a.return}}function vy(s){for(;Me!==null;){var a=Me;if(a===s){Me=null;break}var u=a.sibling;if(u!==null){u.return=a.return,Me=u;break}Me=a.return}}function by(s){for(;Me!==null;){var a=Me;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{xu(4,a)}catch(re){ur(a,u,re)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var N=a.return;try{g.componentDidMount()}catch(re){ur(a,N,re)}}var M=a.return;try{Rh(a)}catch(re){ur(a,M,re)}break;case 5:var B=a.return;try{Rh(a)}catch(re){ur(a,B,re)}}}catch(re){ur(a,a.return,re)}if(a===s){Me=null;break}var X=a.sibling;if(X!==null){X.return=a.return,Me=X;break}Me=a.return}}var UN=Math.ceil,vu=U.ReactCurrentDispatcher,_h=U.ReactCurrentOwner,Un=U.ReactCurrentBatchConfig,Dt=0,Sr=null,gr=null,Lr=0,En=0,Ra=So(0),Nr=0,Ll=null,Ni=0,bu=0,Dh=0,Ol=null,dn=null,zh=0,Ma=1/0,Zs=null,wu=!1,Lh=null,Io=null,ku=!1,_o=null,Nu=0,Fl=0,Oh=null,Cu=-1,Eu=0;function en(){return(Dt&6)!==0?qt():Cu!==-1?Cu:Cu=qt()}function Do(s){return(s.mode&1)===0?1:(Dt&2)!==0&&Lr!==0?Lr&-Lr:CN.transition!==null?(Eu===0&&(Eu=fl()),Eu):(s=Fe,s!==0||(s=window.event,s=s===void 0?16:kg(s.type)),s)}function is(s,a,u,g){if(50<Fl)throw Fl=0,Oh=null,Error(r(185));he(s,u,g),((Dt&2)===0||s!==Sr)&&(s===Sr&&((Dt&2)===0&&(bu|=u),Nr===4&&zo(s,Lr)),fn(s,g),u===1&&Dt===0&&(a.mode&1)===0&&(Ma=qt()+500,Zc&&Po()))}function fn(s,a){var u=s.callbackNode;Dc(s,a);var g=oa(s,s===Sr?Lr:0);if(g===0)u!==null&&xn(u),s.callbackNode=null,s.callbackPriority=0;else if(a=g&-g,s.callbackPriority!==a){if(u!=null&&xn(u),a===1)s.tag===0?NN(ky.bind(null,s)):a0(ky.bind(null,s)),vN(function(){(Dt&6)===0&&Po()}),u=null;else{switch(Ht(g)){case 1:u=Jn;break;case 4:u=wo;break;case 16:u=vn;break;case 536870912:u=ai;break;default:u=vn}u=jy(u,wy.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function wy(s,a){if(Cu=-1,Eu=0,(Dt&6)!==0)throw Error(r(327));var u=s.callbackNode;if(Ia()&&s.callbackNode!==u)return null;var g=oa(s,s===Sr?Lr:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||a)a=Au(s,g);else{a=g;var N=Dt;Dt|=2;var M=Cy();(Sr!==s||Lr!==a)&&(Zs=null,Ma=qt()+500,Ei(s,a));do try{qN();break}catch(X){Ny(s,X)}while(!0);rh(),vu.current=M,Dt=N,gr!==null?a=0:(Sr=null,Lr=0,a=Nr)}if(a!==0){if(a===2&&(N=aa(s),N!==0&&(g=N,a=Fh(s,N))),a===1)throw u=Ll,Ei(s,0),zo(s,g),fn(s,qt()),u;if(a===6)zo(s,g);else{if(N=s.current.alternate,(g&30)===0&&!$N(N)&&(a=Au(s,g),a===2&&(M=aa(s),M!==0&&(g=M,a=Fh(s,M))),a===1))throw u=Ll,Ei(s,0),zo(s,g),fn(s,qt()),u;switch(s.finishedWork=N,s.finishedLanes=g,a){case 0:case 1:throw Error(r(345));case 2:Ai(s,dn,Zs);break;case 3:if(zo(s,g),(g&130023424)===g&&(a=zh+500-qt(),10<a)){if(oa(s,0)!==0)break;if(N=s.suspendedLanes,(N&g)!==g){en(),s.pingedLanes|=s.suspendedLanes&N;break}s.timeoutHandle=Hf(Ai.bind(null,s,dn,Zs),a);break}Ai(s,dn,Zs);break;case 4:if(zo(s,g),(g&4194240)===g)break;for(a=s.eventTimes,N=-1;0<g;){var B=31-wr(g);M=1<<B,B=a[B],B>N&&(N=B),g&=~M}if(g=N,g=qt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*UN(g/1960))-g,10<g){s.timeoutHandle=Hf(Ai.bind(null,s,dn,Zs),g);break}Ai(s,dn,Zs);break;case 5:Ai(s,dn,Zs);break;default:throw Error(r(329))}}}return fn(s,qt()),s.callbackNode===u?wy.bind(null,s):null}function Fh(s,a){var u=Ol;return s.current.memoizedState.isDehydrated&&(Ei(s,a).flags|=256),s=Au(s,a),s!==2&&(a=dn,dn=u,a!==null&&Bh(a)),s}function Bh(s){dn===null?dn=s:dn.push.apply(dn,s)}function $N(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var g=0;g<u.length;g++){var N=u[g],M=N.getSnapshot;N=N.value;try{if(!ts(M(),N))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function zo(s,a){for(a&=~Dh,a&=~bu,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-wr(a),g=1<<u;s[u]=-1,a&=~g}}function ky(s){if((Dt&6)!==0)throw Error(r(327));Ia();var a=oa(s,0);if((a&1)===0)return fn(s,qt()),null;var u=Au(s,a);if(s.tag!==0&&u===2){var g=aa(s);g!==0&&(a=g,u=Fh(s,g))}if(u===1)throw u=Ll,Ei(s,0),zo(s,a),fn(s,qt()),u;if(u===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Ai(s,dn,Zs),fn(s,qt()),null}function Uh(s,a){var u=Dt;Dt|=1;try{return s(a)}finally{Dt=u,Dt===0&&(Ma=qt()+500,Zc&&Po())}}function Ci(s){_o!==null&&_o.tag===0&&(Dt&6)===0&&Ia();var a=Dt;Dt|=1;var u=Un.transition,g=Fe;try{if(Un.transition=null,Fe=1,s)return s()}finally{Fe=g,Un.transition=u,Dt=a,(Dt&6)===0&&Po()}}function $h(){En=Ra.current,Zt(Ra)}function Ei(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,xN(u)),gr!==null)for(u=gr.return;u!==null;){var g=u;switch(Jf(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Jc();break;case 3:Ta(),Zt(ln),Zt($r),uh();break;case 5:lh(g);break;case 4:Ta();break;case 13:Zt(ir);break;case 19:Zt(ir);break;case 10:nh(g.type._context);break;case 22:case 23:$h()}u=u.return}if(Sr=s,gr=s=Lo(s.current,null),Lr=En=a,Nr=0,Ll=null,Dh=bu=Ni=0,dn=Ol=null,bi!==null){for(a=0;a<bi.length;a++)if(u=bi[a],g=u.interleaved,g!==null){u.interleaved=null;var N=g.next,M=u.pending;if(M!==null){var B=M.next;M.next=N,g.next=B}u.pending=g}bi=null}return s}function Ny(s,a){do{var u=gr;try{if(rh(),cu.current=hu,uu){for(var g=ar.memoizedState;g!==null;){var N=g.queue;N!==null&&(N.pending=null),g=g.next}uu=!1}if(ki=0,Ar=kr=ar=null,Rl=!1,Ml=0,_h.current=null,u===null||u.return===null){Nr=1,Ll=a,gr=null;break}e:{var M=s,B=u.return,X=u,re=a;if(a=Lr,X.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var de=re,ye=X,ve=ye.tag;if((ye.mode&1)===0&&(ve===0||ve===11||ve===15)){var ge=ye.alternate;ge?(ye.updateQueue=ge.updateQueue,ye.memoizedState=ge.memoizedState,ye.lanes=ge.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Te=K0(B);if(Te!==null){Te.flags&=-257,Y0(Te,B,X,M,a),Te.mode&1&&V0(M,de,a),a=Te,re=de;var Ie=a.updateQueue;if(Ie===null){var ze=new Set;ze.add(re),a.updateQueue=ze}else Ie.add(re);break e}else{if((a&1)===0){V0(M,de,a),Wh();break e}re=Error(r(426))}}else if(rr&&X.mode&1){var hr=K0(B);if(hr!==null){(hr.flags&65536)===0&&(hr.flags|=256),Y0(hr,B,X,M,a),eh(Pa(re,X));break e}}M=re=Pa(re,X),Nr!==4&&(Nr=2),Ol===null?Ol=[M]:Ol.push(M),M=B;do{switch(M.tag){case 3:M.flags|=65536,a&=-a,M.lanes|=a;var ae=H0(M,re,a);x0(M,ae);break e;case 1:X=re;var oe=M.type,le=M.stateNode;if((M.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(Io===null||!Io.has(le)))){M.flags|=65536,a&=-a,M.lanes|=a;var be=G0(M,X,a);x0(M,be);break e}}M=M.return}while(M!==null)}Ay(u)}catch(Be){a=Be,gr===u&&u!==null&&(gr=u=u.return);continue}break}while(!0)}function Cy(){var s=vu.current;return vu.current=hu,s===null?hu:s}function Wh(){(Nr===0||Nr===3||Nr===2)&&(Nr=4),Sr===null||(Ni&268435455)===0&&(bu&268435455)===0||zo(Sr,Lr)}function Au(s,a){var u=Dt;Dt|=2;var g=Cy();(Sr!==s||Lr!==a)&&(Zs=null,Ei(s,a));do try{WN();break}catch(N){Ny(s,N)}while(!0);if(rh(),Dt=u,vu.current=g,gr!==null)throw Error(r(261));return Sr=null,Lr=0,Nr}function WN(){for(;gr!==null;)Ey(gr)}function qN(){for(;gr!==null&&!bo();)Ey(gr)}function Ey(s){var a=Py(s.alternate,s,En);s.memoizedProps=s.pendingProps,a===null?Ay(s):gr=a,_h.current=null}function Ay(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=zN(u,a,En),u!==null){gr=u;return}}else{if(u=LN(u,a),u!==null){u.flags&=32767,gr=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Nr=6,gr=null;return}}if(a=a.sibling,a!==null){gr=a;return}gr=a=s}while(a!==null);Nr===0&&(Nr=5)}function Ai(s,a,u){var g=Fe,N=Un.transition;try{Un.transition=null,Fe=1,HN(s,a,u,g)}finally{Un.transition=N,Fe=g}return null}function HN(s,a,u,g){do Ia();while(_o!==null);if((Dt&6)!==0)throw Error(r(327));u=s.finishedWork;var N=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var M=u.lanes|u.childLanes;if(we(s,M),s===Sr&&(gr=Sr=null,Lr=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||ku||(ku=!0,jy(vn,function(){return Ia(),null})),M=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||M){M=Un.transition,Un.transition=null;var B=Fe;Fe=1;var X=Dt;Dt|=4,_h.current=null,FN(s,u),gy(u,s),dN(Wf),pi=!!$f,Wf=$f=null,s.current=u,BN(u),oi(),Dt=X,Fe=B,Un.transition=M}else s.current=u;if(ku&&(ku=!1,_o=s,Nu=N),M=s.pendingLanes,M===0&&(Io=null),Xn(u.stateNode),fn(s,qt()),a!==null)for(g=s.onRecoverableError,u=0;u<a.length;u++)N=a[u],g(N.value,{componentStack:N.stack,digest:N.digest});if(wu)throw wu=!1,s=Lh,Lh=null,s;return(Nu&1)!==0&&s.tag!==0&&Ia(),M=s.pendingLanes,(M&1)!==0?s===Oh?Fl++:(Fl=0,Oh=s):Fl=0,Po(),null}function Ia(){if(_o!==null){var s=Ht(Nu),a=Un.transition,u=Fe;try{if(Un.transition=null,Fe=16>s?16:s,_o===null)var g=!1;else{if(s=_o,_o=null,Nu=0,(Dt&6)!==0)throw Error(r(331));var N=Dt;for(Dt|=4,Me=s.current;Me!==null;){var M=Me,B=M.child;if((Me.flags&16)!==0){var X=M.deletions;if(X!==null){for(var re=0;re<X.length;re++){var de=X[re];for(Me=de;Me!==null;){var ye=Me;switch(ye.tag){case 0:case 11:case 15:zl(8,ye,M)}var ve=ye.child;if(ve!==null)ve.return=ye,Me=ve;else for(;Me!==null;){ye=Me;var ge=ye.sibling,Te=ye.return;if(dy(ye),ye===de){Me=null;break}if(ge!==null){ge.return=Te,Me=ge;break}Me=Te}}}var Ie=M.alternate;if(Ie!==null){var ze=Ie.child;if(ze!==null){Ie.child=null;do{var hr=ze.sibling;ze.sibling=null,ze=hr}while(ze!==null)}}Me=M}}if((M.subtreeFlags&2064)!==0&&B!==null)B.return=M,Me=B;else e:for(;Me!==null;){if(M=Me,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:zl(9,M,M.return)}var ae=M.sibling;if(ae!==null){ae.return=M.return,Me=ae;break e}Me=M.return}}var oe=s.current;for(Me=oe;Me!==null;){B=Me;var le=B.child;if((B.subtreeFlags&2064)!==0&&le!==null)le.return=B,Me=le;else e:for(B=oe;Me!==null;){if(X=Me,(X.flags&2048)!==0)try{switch(X.tag){case 0:case 11:case 15:xu(9,X)}}catch(Be){ur(X,X.return,Be)}if(X===B){Me=null;break e}var be=X.sibling;if(be!==null){be.return=X.return,Me=be;break e}Me=X.return}}if(Dt=N,Po(),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(bn,s)}catch{}g=!0}return g}finally{Fe=u,Un.transition=a}}return!1}function Sy(s,a,u){a=Pa(u,a),a=H0(s,a,1),s=Ro(s,a,1),a=en(),s!==null&&(he(s,1,a),fn(s,a))}function ur(s,a,u){if(s.tag===3)Sy(s,s,u);else for(;a!==null;){if(a.tag===3){Sy(a,s,u);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Io===null||!Io.has(g))){s=Pa(u,s),s=G0(a,s,1),a=Ro(a,s,1),s=en(),a!==null&&(he(a,1,s),fn(a,s));break}}a=a.return}}function GN(s,a,u){var g=s.pingCache;g!==null&&g.delete(a),a=en(),s.pingedLanes|=s.suspendedLanes&u,Sr===s&&(Lr&u)===u&&(Nr===4||Nr===3&&(Lr&130023424)===Lr&&500>qt()-zh?Ei(s,0):Dh|=u),fn(s,a)}function Ty(s,a){a===0&&((s.mode&1)===0?a=1:(a=sa,sa<<=1,(sa&130023424)===0&&(sa=4194304)));var u=en();s=Qs(s,a),s!==null&&(he(s,a,u),fn(s,u))}function VN(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),Ty(s,u)}function KN(s,a){var u=0;switch(s.tag){case 13:var g=s.stateNode,N=s.memoizedState;N!==null&&(u=N.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(a),Ty(s,u)}var Py;Py=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||ln.current)un=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return un=!1,DN(s,a,u);un=(s.flags&131072)!==0}else un=!1,rr&&(a.flags&1048576)!==0&&l0(a,tu,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;gu(s,a),s=a.pendingProps;var N=wa(a,$r.current);Sa(a,u),N=hh(null,a,g,s,N,u);var M=mh();return a.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,cn(g)?(M=!0,Xc(a)):M=!1,a.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,ih(a),N.updater=mu,a.stateNode=N,N._reactInternals=a,bh(a,g,s,u),a=Ch(null,a,g,!0,M,u)):(a.tag=0,rr&&M&&Qf(a),Zr(null,a,N,u),a=a.child),a;case 16:g=a.elementType;e:{switch(gu(s,a),s=a.pendingProps,N=g._init,g=N(g._payload),a.type=g,N=a.tag=QN(g),s=ns(g,s),N){case 0:a=Nh(null,a,g,s,u);break e;case 1:a=ty(null,a,g,s,u);break e;case 11:a=Q0(null,a,g,s,u);break e;case 14:a=J0(null,a,g,ns(g.type,s),u);break e}throw Error(r(306,g,""))}return a;case 0:return g=a.type,N=a.pendingProps,N=a.elementType===g?N:ns(g,N),Nh(s,a,g,N,u);case 1:return g=a.type,N=a.pendingProps,N=a.elementType===g?N:ns(g,N),ty(s,a,g,N,u);case 3:e:{if(ry(a),s===null)throw Error(r(387));g=a.pendingProps,M=a.memoizedState,N=M.element,y0(s,a),au(a,g,null,u);var B=a.memoizedState;if(g=B.element,M.isDehydrated)if(M={element:g,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},a.updateQueue.baseState=M,a.memoizedState=M,a.flags&256){N=Pa(Error(r(423)),a),a=ny(s,a,g,u,N);break e}else if(g!==N){N=Pa(Error(r(424)),a),a=ny(s,a,g,u,N);break e}else for(Cn=Ao(a.stateNode.containerInfo.firstChild),Nn=a,rr=!0,rs=null,u=p0(a,null,g,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ca(),g===N){a=Xs(s,a,u);break e}Zr(s,a,g,u)}a=a.child}return a;case 5:return b0(a),s===null&&Zf(a),g=a.type,N=a.pendingProps,M=s!==null?s.memoizedProps:null,B=N.children,qf(g,N)?B=null:M!==null&&qf(g,M)&&(a.flags|=32),ey(s,a),Zr(s,a,B,u),a.child;case 6:return s===null&&Zf(a),null;case 13:return sy(s,a,u);case 4:return ah(a,a.stateNode.containerInfo),g=a.pendingProps,s===null?a.child=Ea(a,null,g,u):Zr(s,a,g,u),a.child;case 11:return g=a.type,N=a.pendingProps,N=a.elementType===g?N:ns(g,N),Q0(s,a,g,N,u);case 7:return Zr(s,a,a.pendingProps,u),a.child;case 8:return Zr(s,a,a.pendingProps.children,u),a.child;case 12:return Zr(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(g=a.type._context,N=a.pendingProps,M=a.memoizedProps,B=N.value,Qt(su,g._currentValue),g._currentValue=B,M!==null)if(ts(M.value,B)){if(M.children===N.children&&!ln.current){a=Xs(s,a,u);break e}}else for(M=a.child,M!==null&&(M.return=a);M!==null;){var X=M.dependencies;if(X!==null){B=M.child;for(var re=X.firstContext;re!==null;){if(re.context===g){if(M.tag===1){re=Js(-1,u&-u),re.tag=2;var de=M.updateQueue;if(de!==null){de=de.shared;var ye=de.pending;ye===null?re.next=re:(re.next=ye.next,ye.next=re),de.pending=re}}M.lanes|=u,re=M.alternate,re!==null&&(re.lanes|=u),sh(M.return,u,a),X.lanes|=u;break}re=re.next}}else if(M.tag===10)B=M.type===a.type?null:M.child;else if(M.tag===18){if(B=M.return,B===null)throw Error(r(341));B.lanes|=u,X=B.alternate,X!==null&&(X.lanes|=u),sh(B,u,a),B=M.sibling}else B=M.child;if(B!==null)B.return=M;else for(B=M;B!==null;){if(B===a){B=null;break}if(M=B.sibling,M!==null){M.return=B.return,B=M;break}B=B.return}M=B}Zr(s,a,N.children,u),a=a.child}return a;case 9:return N=a.type,g=a.pendingProps.children,Sa(a,u),N=Fn(N),g=g(N),a.flags|=1,Zr(s,a,g,u),a.child;case 14:return g=a.type,N=ns(g,a.pendingProps),N=ns(g.type,N),J0(s,a,g,N,u);case 15:return X0(s,a,a.type,a.pendingProps,u);case 17:return g=a.type,N=a.pendingProps,N=a.elementType===g?N:ns(g,N),gu(s,a),a.tag=1,cn(g)?(s=!0,Xc(a)):s=!1,Sa(a,u),W0(a,g,N),bh(a,g,N,u),Ch(null,a,g,!0,s,u);case 19:return iy(s,a,u);case 22:return Z0(s,a,u)}throw Error(r(156,a.tag))};function jy(s,a){return an(s,a)}function YN(s,a,u,g){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(s,a,u,g){return new YN(s,a,u,g)}function qh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function QN(s){if(typeof s=="function")return qh(s)?1:0;if(s!=null){if(s=s.$$typeof,s===q)return 11;if(s===v)return 14}return 2}function Lo(s,a){var u=s.alternate;return u===null?(u=$n(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Su(s,a,u,g,N,M){var B=2;if(g=s,typeof s=="function")qh(s)&&(B=1);else if(typeof s=="string")B=5;else e:switch(s){case V:return Si(u.children,N,M,a);case W:B=8,N|=8;break;case K:return s=$n(12,u,a,N|2),s.elementType=K,s.lanes=M,s;case R:return s=$n(13,u,a,N),s.elementType=R,s.lanes=M,s;case h:return s=$n(19,u,a,N),s.elementType=h,s.lanes=M,s;case _:return Tu(u,N,M,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Z:B=10;break e;case Y:B=9;break e;case q:B=11;break e;case v:B=14;break e;case A:B=16,g=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return a=$n(B,u,a,N),a.elementType=s,a.type=g,a.lanes=M,a}function Si(s,a,u,g){return s=$n(7,s,g,a),s.lanes=u,s}function Tu(s,a,u,g){return s=$n(22,s,g,a),s.elementType=_,s.lanes=u,s.stateNode={isHidden:!1},s}function Hh(s,a,u){return s=$n(6,s,null,a),s.lanes=u,s}function Gh(s,a,u){return a=$n(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function JN(s,a,u,g,N){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=la(0),this.expirationTimes=la(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=la(0),this.identifierPrefix=g,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function Vh(s,a,u,g,N,M,B,X,re){return s=new JN(s,a,u,X,re),a===1?(a=1,M===!0&&(a|=8)):a=0,M=$n(3,null,null,a),s.current=M,M.stateNode=s,M.memoizedState={element:g,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},ih(M),s}function XN(s,a,u){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:g==null?null:""+g,children:s,containerInfo:a,implementation:u}}function Ry(s){if(!s)return To;s=s._reactInternals;e:{if(Dr(s)!==s||s.tag!==1)throw Error(r(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(cn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(r(171))}if(s.tag===1){var u=s.type;if(cn(u))return o0(s,u,a)}return a}function My(s,a,u,g,N,M,B,X,re){return s=Vh(u,g,!0,s,N,M,B,X,re),s.context=Ry(null),u=s.current,g=en(),N=Do(u),M=Js(g,N),M.callback=a??null,Ro(u,M,N),s.current.lanes=N,he(s,N,g),fn(s,g),s}function Pu(s,a,u,g){var N=a.current,M=en(),B=Do(N);return u=Ry(u),a.context===null?a.context=u:a.pendingContext=u,a=Js(M,B),a.payload={element:s},g=g===void 0?null:g,g!==null&&(a.callback=g),s=Ro(N,a,B),s!==null&&(is(s,N,B,M),iu(s,N,B)),B}function ju(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Iy(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Kh(s,a){Iy(s,a),(s=s.alternate)&&Iy(s,a)}function ZN(){return null}var _y=typeof reportError=="function"?reportError:function(s){console.error(s)};function Yh(s){this._internalRoot=s}Ru.prototype.render=Yh.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));Pu(s,a,null,null)},Ru.prototype.unmount=Yh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Ci(function(){Pu(null,s,null,null)}),a[Gs]=null}};function Ru(s){this._internalRoot=s}Ru.prototype.unstable_scheduleHydration=function(s){if(s){var a=ko();s={blockedOn:null,target:s,priority:a};for(var u=0;u<es.length&&a!==0&&a<es[u].priority;u++);es.splice(u,0,s),u===0&&Lc(s)}};function Qh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Mu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Dy(){}function eC(s,a,u,g,N){if(N){if(typeof g=="function"){var M=g;g=function(){var de=ju(B);M.call(de)}}var B=My(a,g,s,0,null,!1,!1,"",Dy);return s._reactRootContainer=B,s[Gs]=B.current,Nl(s.nodeType===8?s.parentNode:s),Ci(),B}for(;N=s.lastChild;)s.removeChild(N);if(typeof g=="function"){var X=g;g=function(){var de=ju(re);X.call(de)}}var re=Vh(s,0,!1,null,null,!1,!1,"",Dy);return s._reactRootContainer=re,s[Gs]=re.current,Nl(s.nodeType===8?s.parentNode:s),Ci(function(){Pu(a,re,u,g)}),re}function Iu(s,a,u,g,N){var M=u._reactRootContainer;if(M){var B=M;if(typeof N=="function"){var X=N;N=function(){var re=ju(B);X.call(re)}}Pu(a,B,s,N)}else B=eC(u,a,s,N,g);return ju(B)}Xr=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=ci(a.pendingLanes);u!==0&&(Ce(a,u|1),fn(a,qt()),(Dt&6)===0&&(Ma=qt()+500,Po()))}break;case 13:Ci(function(){var g=Qs(s,1);if(g!==null){var N=en();is(g,s,1,N)}}),Kh(s,1)}},Ur=function(s){if(s.tag===13){var a=Qs(s,134217728);if(a!==null){var u=en();is(a,s,134217728,u)}Kh(s,134217728)}},bs=function(s){if(s.tag===13){var a=Do(s),u=Qs(s,a);if(u!==null){var g=en();is(u,s,a,g)}Kh(s,a)}},ko=function(){return Fe},ca=function(s,a){var u=Fe;try{return Fe=s,a()}finally{Fe=u}},or=function(s,a,u){switch(a){case"input":if($e(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var g=u[a];if(g!==s&&g.form===s.form){var N=Qc(g);if(!N)throw Error(r(90));ue(g),$e(g,N)}}}break;case"textarea":Se(s,u);break;case"select":a=u.value,a!=null&&Ve(s,!!u.multiple,a,!1)}},rt=Uh,Ge=Ci;var tC={usingClientEntryPoint:!1,Events:[Al,va,Qc,Mt,Ee,Uh]},Bl={findFiberByHostInstance:gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rC={bundleType:Bl.bundleType,version:Bl.version,rendererPackageName:Bl.rendererPackageName,rendererConfig:Bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=on(s),s===null?null:s.stateNode},findFiberByHostInstance:Bl.findFiberByHostInstance||ZN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_u.isDisabled&&_u.supportsFiber)try{bn=_u.inject(rC),br=_u}catch{}}return hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tC,hn.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qh(a))throw Error(r(200));return XN(s,a,null,u)},hn.createRoot=function(s,a){if(!Qh(s))throw Error(r(299));var u=!1,g="",N=_y;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(N=a.onRecoverableError)),a=Vh(s,1,!1,null,null,u,!1,g,N),s[Gs]=a.current,Nl(s.nodeType===8?s.parentNode:s),new Yh(a)},hn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=on(a),s=s===null?null:s.stateNode,s},hn.flushSync=function(s){return Ci(s)},hn.hydrate=function(s,a,u){if(!Mu(a))throw Error(r(200));return Iu(null,s,a,!0,u)},hn.hydrateRoot=function(s,a,u){if(!Qh(s))throw Error(r(405));var g=u!=null&&u.hydratedSources||null,N=!1,M="",B=_y;if(u!=null&&(u.unstable_strictMode===!0&&(N=!0),u.identifierPrefix!==void 0&&(M=u.identifierPrefix),u.onRecoverableError!==void 0&&(B=u.onRecoverableError)),a=My(a,null,s,1,u??null,N,!1,M,B),s[Gs]=a.current,Nl(s),g)for(s=0;s<g.length;s++)u=g[s],N=u._getVersion,N=N(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,N]:a.mutableSourceEagerHydrationData.push(u,N);return new Ru(a)},hn.render=function(s,a,u){if(!Mu(a))throw Error(r(200));return Iu(null,s,a,!1,u)},hn.unmountComponentAtNode=function(s){if(!Mu(s))throw Error(r(40));return s._reactRootContainer?(Ci(function(){Iu(null,null,s,!1,function(){s._reactRootContainer=null,s[Gs]=null})}),!0):!1},hn.unstable_batchedUpdates=Uh,hn.unstable_renderSubtreeIntoContainer=function(s,a,u,g){if(!Mu(u))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Iu(s,a,u,!1,g)},hn.version="18.3.1-next-f1338f8080-20240426",hn}var Wy;function lb(){if(Wy)return Zh.exports;Wy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zh.exports=mC(),Zh.exports}var qy;function pC(){if(qy)return zu;qy=1;var t=lb();return zu.createRoot=t.createRoot,zu.hydrateRoot=t.hydrateRoot,zu}var gC=pC(),wc=lb();const cb=rl(wc);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ic(){return ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ic.apply(this,arguments)}var Ko;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ko||(Ko={}));const Hy="popstate";function yC(t){t===void 0&&(t={});function e(n,i){let{pathname:l,search:c,hash:d}=n.location;return Wm("",{pathname:l,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:bd(i)}return vC(e,r,null,t)}function vr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ub(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xC(){return Math.random().toString(36).substr(2,8)}function Gy(t,e){return{usr:t.state,key:t.key,idx:e}}function Wm(t,e,r,n){return r===void 0&&(r=null),ic({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?nl(e):e,{state:r,key:e&&e.key||n||xC()})}function bd(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function nl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function vC(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:l=!1}=n,c=i.history,d=Ko.Pop,f=null,m=p();m==null&&(m=0,c.replaceState(ic({},c.state,{idx:m}),""));function p(){return(c.state||{idx:null}).idx}function x(){d=Ko.Pop;let I=p(),D=I==null?null:I-m;m=I,f&&f({action:d,location:E.location,delta:D})}function C(I,D){d=Ko.Push;let O=Wm(E.location,I,D);m=p()+1;let S=Gy(O,m),U=E.createHref(O);try{c.pushState(S,"",U)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(U)}l&&f&&f({action:d,location:E.location,delta:1})}function w(I,D){d=Ko.Replace;let O=Wm(E.location,I,D);m=p();let S=Gy(O,m),U=E.createHref(O);c.replaceState(S,"",U),l&&f&&f({action:d,location:E.location,delta:0})}function P(I){let D=i.location.origin!=="null"?i.location.origin:i.location.href,O=typeof I=="string"?I:bd(I);return O=O.replace(/ $/,"%20"),vr(D,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,D)}let E={get action(){return d},get location(){return t(i,c)},listen(I){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Hy,x),f=I,()=>{i.removeEventListener(Hy,x),f=null}},createHref(I){return e(i,I)},createURL:P,encodeLocation(I){let D=P(I);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:C,replace:w,go(I){return c.go(I)}};return E}var Vy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Vy||(Vy={}));function bC(t,e,r){return r===void 0&&(r="/"),wC(t,e,r)}function wC(t,e,r,n){let i=typeof e=="string"?nl(e):e,l=Cp(i.pathname||"/",r);if(l==null)return null;let c=db(t);kC(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=_C(l);d=RC(c[f],m)}return d}function db(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(l,c,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(vr(f.relativePath.startsWith(n),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(n.length));let m=Qo([n,f.relativePath]),p=r.concat(f);l.children&&l.children.length>0&&(vr(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),db(l.children,e,p,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:PC(m,l.index),routesMeta:p})};return t.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))i(l,c);else for(let f of fb(l.path))i(l,c,f)}),e}function fb(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return i?[l,""]:[l];let c=fb(n.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),i&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function kC(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:jC(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const NC=/^:[\w-]+$/,CC=3,EC=2,AC=1,SC=10,TC=-2,Ky=t=>t==="*";function PC(t,e){let r=t.split("/"),n=r.length;return r.some(Ky)&&(n+=TC),e&&(n+=EC),r.filter(i=>!Ky(i)).reduce((i,l)=>i+(NC.test(l)?CC:l===""?AC:SC),n)}function jC(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function RC(t,e,r){let{routesMeta:n}=t,i={},l="/",c=[];for(let d=0;d<n.length;++d){let f=n[d],m=d===n.length-1,p=l==="/"?e:e.slice(l.length)||"/",x=MC({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},p),C=f.route;if(!x)return null;Object.assign(i,x.params),c.push({params:i,pathname:Qo([l,x.pathname]),pathnameBase:OC(Qo([l,x.pathnameBase])),route:C}),x.pathnameBase!=="/"&&(l=Qo([l,x.pathnameBase]))}return c}function MC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=IC(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:n.reduce((m,p,x)=>{let{paramName:C,isOptional:w}=p;if(C==="*"){let E=d[x]||"";c=l.slice(0,l.length-E.length).replace(/(.)\/+$/,"$1")}const P=d[x];return w&&!P?m[C]=void 0:m[C]=(P||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function IC(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),ub(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(n.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function _C(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ub(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Cp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function DC(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?nl(t):t;return{pathname:r?r.startsWith("/")?r:zC(r,e):e,search:FC(n),hash:BC(i)}}function zC(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function rm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LC(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function hb(t,e){let r=LC(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function mb(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=nl(t):(i=ic({},t),vr(!i.pathname||!i.pathname.includes("?"),rm("?","pathname","search",i)),vr(!i.pathname||!i.pathname.includes("#"),rm("#","pathname","hash",i)),vr(!i.search||!i.search.includes("#"),rm("#","search","hash",i)));let l=t===""||i.pathname==="",c=l?"/":i.pathname,d;if(c==null)d=r;else{let x=e.length-1;if(!n&&c.startsWith("..")){let C=c.split("/");for(;C[0]==="..";)C.shift(),x-=1;i.pathname=C.join("/")}d=x>=0?e[x]:"/"}let f=DC(i,d),m=c&&c!=="/"&&c.endsWith("/"),p=(l||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(m||p)&&(f.pathname+="/"),f}const Qo=t=>t.join("/").replace(/\/\/+/g,"/"),OC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function UC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const pb=["post","put","patch","delete"];new Set(pb);const $C=["get",...pb];new Set($C);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ac.apply(this,arguments)}const Ep=b.createContext(null),WC=b.createContext(null),Yi=b.createContext(null),Bd=b.createContext(null),ti=b.createContext({outlet:null,matches:[],isDataRoute:!1}),gb=b.createContext(null);function qC(t,e){let{relative:r}=e===void 0?{}:e;kc()||vr(!1);let{basename:n,navigator:i}=b.useContext(Yi),{hash:l,pathname:c,search:d}=xb(t,{relative:r}),f=c;return n!=="/"&&(f=c==="/"?n:Qo([n,c])),i.createHref({pathname:f,search:d,hash:l})}function kc(){return b.useContext(Bd)!=null}function sl(){return kc()||vr(!1),b.useContext(Bd).location}function yb(t){b.useContext(Yi).static||b.useLayoutEffect(t)}function fo(){let{isDataRoute:t}=b.useContext(ti);return t?nE():HC()}function HC(){kc()||vr(!1);let t=b.useContext(Ep),{basename:e,future:r,navigator:n}=b.useContext(Yi),{matches:i}=b.useContext(ti),{pathname:l}=sl(),c=JSON.stringify(hb(i,r.v7_relativeSplatPath)),d=b.useRef(!1);return yb(()=>{d.current=!0}),b.useCallback(function(m,p){if(p===void 0&&(p={}),!d.current)return;if(typeof m=="number"){n.go(m);return}let x=mb(m,JSON.parse(c),l,p.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Qo([e,x.pathname])),(p.replace?n.replace:n.push)(x,p.state,p)},[e,n,c,l,t])}function Yy(){let{matches:t}=b.useContext(ti),e=t[t.length-1];return e?e.params:{}}function xb(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=b.useContext(Yi),{matches:i}=b.useContext(ti),{pathname:l}=sl(),c=JSON.stringify(hb(i,n.v7_relativeSplatPath));return b.useMemo(()=>mb(t,JSON.parse(c),l,r==="path"),[t,c,l,r])}function GC(t,e){return VC(t,e)}function VC(t,e,r,n){kc()||vr(!1);let{navigator:i}=b.useContext(Yi),{matches:l}=b.useContext(ti),c=l[l.length-1],d=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let m=sl(),p;if(e){var x;let I=typeof e=="string"?nl(e):e;f==="/"||(x=I.pathname)!=null&&x.startsWith(f)||vr(!1),p=I}else p=m;let C=p.pathname||"/",w=C;if(f!=="/"){let I=f.replace(/^\//,"").split("/");w="/"+C.replace(/^\//,"").split("/").slice(I.length).join("/")}let P=bC(t,{pathname:w}),E=XC(P&&P.map(I=>Object.assign({},I,{params:Object.assign({},d,I.params),pathname:Qo([f,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?f:Qo([f,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),l,r,n);return e&&E?b.createElement(Bd.Provider,{value:{location:ac({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Ko.Pop}},E):E}function KC(){let t=rE(),e=UC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:i},r):null,null)}const YC=b.createElement(KC,null);class QC extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?b.createElement(ti.Provider,{value:this.props.routeContext},b.createElement(gb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JC(t){let{routeContext:e,match:r,children:n}=t,i=b.useContext(Ep);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(ti.Provider,{value:e},n)}function XC(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var l;if(!r)return null;if(r.errors)t=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let c=t,d=(i=r)==null?void 0:i.errors;if(d!=null){let p=c.findIndex(x=>x.route.id&&(d==null?void 0:d[x.route.id])!==void 0);p>=0||vr(!1),c=c.slice(0,Math.min(c.length,p+1))}let f=!1,m=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<c.length;p++){let x=c[p];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=p),x.route.id){let{loaderData:C,errors:w}=r,P=x.route.loader&&C[x.route.id]===void 0&&(!w||w[x.route.id]===void 0);if(x.route.lazy||P){f=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((p,x,C)=>{let w,P=!1,E=null,I=null;r&&(w=d&&x.route.id?d[x.route.id]:void 0,E=x.route.errorElement||YC,f&&(m<0&&C===0?(sE("route-fallback"),P=!0,I=null):m===C&&(P=!0,I=x.route.hydrateFallbackElement||null)));let D=e.concat(c.slice(0,C+1)),O=()=>{let S;return w?S=E:P?S=I:x.route.Component?S=b.createElement(x.route.Component,null):x.route.element?S=x.route.element:S=p,b.createElement(JC,{match:x,routeContext:{outlet:p,matches:D,isDataRoute:r!=null},children:S})};return r&&(x.route.ErrorBoundary||x.route.errorElement||C===0)?b.createElement(QC,{location:r.location,revalidation:r.revalidation,component:E,error:w,children:O(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):O()},null)}var vb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(vb||{}),bb=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(bb||{});function ZC(t){let e=b.useContext(Ep);return e||vr(!1),e}function eE(t){let e=b.useContext(WC);return e||vr(!1),e}function tE(t){let e=b.useContext(ti);return e||vr(!1),e}function wb(t){let e=tE(),r=e.matches[e.matches.length-1];return r.route.id||vr(!1),r.route.id}function rE(){var t;let e=b.useContext(gb),r=eE(),n=wb();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function nE(){let{router:t}=ZC(vb.UseNavigateStable),e=wb(bb.UseNavigateStable),r=b.useRef(!1);return yb(()=>{r.current=!0}),b.useCallback(function(i,l){l===void 0&&(l={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ac({fromRouteId:e},l)))},[t,e])}const Qy={};function sE(t,e,r){Qy[t]||(Qy[t]=!0)}function oE(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Fa(t){vr(!1)}function iE(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ko.Pop,navigator:l,static:c=!1,future:d}=t;kc()&&vr(!1);let f=e.replace(/^\/*/,"/"),m=b.useMemo(()=>({basename:f,navigator:l,static:c,future:ac({v7_relativeSplatPath:!1},d)}),[f,d,l,c]);typeof n=="string"&&(n=nl(n));let{pathname:p="/",search:x="",hash:C="",state:w=null,key:P="default"}=n,E=b.useMemo(()=>{let I=Cp(p,f);return I==null?null:{location:{pathname:I,search:x,hash:C,state:w,key:P},navigationType:i}},[f,p,x,C,w,P,i]);return E==null?null:b.createElement(Yi.Provider,{value:m},b.createElement(Bd.Provider,{children:r,value:E}))}function aE(t){let{children:e,location:r}=t;return GC(qm(e),r)}new Promise(()=>{});function qm(t,e){e===void 0&&(e=[]);let r=[];return b.Children.forEach(t,(n,i)=>{if(!b.isValidElement(n))return;let l=[...e,i];if(n.type===b.Fragment){r.push.apply(r,qm(n.props.children,l));return}n.type!==Fa&&vr(!1),!n.props.index||!n.props.children||vr(!1);let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=qm(n.props.children,l)),r.push(c)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hm(){return Hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hm.apply(this,arguments)}function lE(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,l;for(l=0;l<n.length;l++)i=n[l],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function cE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uE(t,e){return t.button===0&&(!e||e==="_self")&&!cE(t)}const dE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fE="6";try{window.__reactRouterVersion=fE}catch{}const hE="startTransition",Jy=Np[hE];function mE(t){let{basename:e,children:r,future:n,window:i}=t,l=b.useRef();l.current==null&&(l.current=yC({window:i,v5Compat:!0}));let c=l.current,[d,f]=b.useState({action:c.action,location:c.location}),{v7_startTransition:m}=n||{},p=b.useCallback(x=>{m&&Jy?Jy(()=>f(x)):f(x)},[f,m]);return b.useLayoutEffect(()=>c.listen(p),[c,p]),b.useEffect(()=>oE(n),[n]),b.createElement(iE,{basename:e,children:r,location:d.location,navigationType:d.action,navigator:c,future:n})}const pE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zl=b.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:l,replace:c,state:d,target:f,to:m,preventScrollReset:p,viewTransition:x}=e,C=lE(e,dE),{basename:w}=b.useContext(Yi),P,E=!1;if(typeof m=="string"&&gE.test(m)&&(P=m,pE))try{let S=new URL(window.location.href),U=m.startsWith("//")?new URL(S.protocol+m):new URL(m),$=Cp(U.pathname,w);U.origin===S.origin&&$!=null?m=$+U.search+U.hash:E=!0}catch{}let I=qC(m,{relative:i}),D=yE(m,{replace:c,state:d,target:f,preventScrollReset:p,relative:i,viewTransition:x});function O(S){n&&n(S),S.defaultPrevented||D(S)}return b.createElement("a",Hm({},C,{href:P||I,onClick:E||l?n:O,ref:r,target:f}))});var Xy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Xy||(Xy={}));var Zy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Zy||(Zy={}));function yE(t,e){let{target:r,replace:n,state:i,preventScrollReset:l,relative:c,viewTransition:d}=e===void 0?{}:e,f=fo(),m=sl(),p=xb(t,{relative:c});return b.useCallback(x=>{if(uE(x,r)){x.preventDefault();let C=n!==void 0?n:bd(m)===bd(p);f(t,{replace:C,state:i,preventScrollReset:l,relative:c,viewTransition:d})}},[m,f,p,n,i,r,t,l,c,d])}var od={exports:{}};const xE={},vE=Object.freeze(Object.defineProperty({__proto__:null,default:xE},Symbol.toStringTag,{value:"Module"})),bE=lC(vE);var wE=od.exports,ex;function kE(){return ex||(ex=1,function(t){(function(e,r){function n(R,h){if(!R)throw new Error(h||"Assertion failed")}function i(R,h){R.super_=h;var v=function(){};v.prototype=h.prototype,R.prototype=new v,R.prototype.constructor=R}function l(R,h,v){if(l.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,R!==null&&((h==="le"||h==="be")&&(v=h,h=10),this._init(R||0,h||10,v||"be"))}typeof e=="object"?e.exports=l:r.BN=l,l.BN=l,l.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=bE.Buffer}catch{}l.isBN=function(h){return h instanceof l?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===l.wordSize&&Array.isArray(h.words)},l.max=function(h,v){return h.cmp(v)>0?h:v},l.min=function(h,v){return h.cmp(v)<0?h:v},l.prototype._init=function(h,v,A){if(typeof h=="number")return this._initNumber(h,v,A);if(typeof h=="object")return this._initArray(h,v,A);v==="hex"&&(v=16),n(v===(v|0)&&v>=2&&v<=36),h=h.toString().replace(/\s+/g,"");var _=0;h[0]==="-"&&(_++,this.negative=1),_<h.length&&(v===16?this._parseHex(h,_,A):(this._parseBase(h,v,_),A==="le"&&this._initArray(this.toArray(),v,A)))},l.prototype._initNumber=function(h,v,A){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(n(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),v,A)},l.prototype._initArray=function(h,v,A){if(n(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var j,T,L=0;if(A==="be")for(_=h.length-1,j=0;_>=0;_-=3)T=h[_]|h[_-1]<<8|h[_-2]<<16,this.words[j]|=T<<L&67108863,this.words[j+1]=T>>>26-L&67108863,L+=24,L>=26&&(L-=26,j++);else if(A==="le")for(_=0,j=0;_<h.length;_+=3)T=h[_]|h[_+1]<<8|h[_+2]<<16,this.words[j]|=T<<L&67108863,this.words[j+1]=T>>>26-L&67108863,L+=24,L>=26&&(L-=26,j++);return this._strip()};function d(R,h){var v=R.charCodeAt(h);if(v>=48&&v<=57)return v-48;if(v>=65&&v<=70)return v-55;if(v>=97&&v<=102)return v-87;n(!1,"Invalid character in "+R)}function f(R,h,v){var A=d(R,v);return v-1>=h&&(A|=d(R,v-1)<<4),A}l.prototype._parseHex=function(h,v,A){this.length=Math.ceil((h.length-v)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var j=0,T=0,L;if(A==="be")for(_=h.length-1;_>=v;_-=2)L=f(h,v,_)<<j,this.words[T]|=L&67108863,j>=18?(j-=18,T+=1,this.words[T]|=L>>>26):j+=8;else{var k=h.length-v;for(_=k%2===0?v+1:v;_<h.length;_+=2)L=f(h,v,_)<<j,this.words[T]|=L&67108863,j>=18?(j-=18,T+=1,this.words[T]|=L>>>26):j+=8}this._strip()};function m(R,h,v,A){for(var _=0,j=0,T=Math.min(R.length,v),L=h;L<T;L++){var k=R.charCodeAt(L)-48;_*=A,k>=49?j=k-49+10:k>=17?j=k-17+10:j=k,n(k>=0&&j<A,"Invalid character"),_+=j}return _}l.prototype._parseBase=function(h,v,A){this.words=[0],this.length=1;for(var _=0,j=1;j<=67108863;j*=v)_++;_--,j=j/v|0;for(var T=h.length-A,L=T%_,k=Math.min(T,T-L)+A,y=0,F=A;F<k;F+=_)y=m(h,F,F+_,v),this.imuln(j),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y);if(L!==0){var ee=1;for(y=m(h,F,h.length,v),F=0;F<L;F++)ee*=v;this.imuln(ee),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y)}this._strip()},l.prototype.copy=function(h){h.words=new Array(this.length);for(var v=0;v<this.length;v++)h.words[v]=this.words[v];h.length=this.length,h.negative=this.negative,h.red=this.red};function p(R,h){R.words=h.words,R.length=h.length,R.negative=h.negative,R.red=h.red}if(l.prototype._move=function(h){p(h,this)},l.prototype.clone=function(){var h=new l(null);return this.copy(h),h},l.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=x}catch{l.prototype.inspect=x}else l.prototype.inspect=x;function x(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var C=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],P=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(h,v){h=h||10,v=v|0||1;var A;if(h===16||h==="hex"){A="";for(var _=0,j=0,T=0;T<this.length;T++){var L=this.words[T],k=((L<<_|j)&16777215).toString(16);j=L>>>24-_&16777215,_+=2,_>=26&&(_-=26,T--),j!==0||T!==this.length-1?A=C[6-k.length]+k+A:A=k+A}for(j!==0&&(A=j.toString(16)+A);A.length%v!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(h===(h|0)&&h>=2&&h<=36){var y=w[h],F=P[h];A="";var ee=this.clone();for(ee.negative=0;!ee.isZero();){var z=ee.modrn(F).toString(h);ee=ee.idivn(F),ee.isZero()?A=z+A:A=C[y-z.length]+z+A}for(this.isZero()&&(A="0"+A);A.length%v!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}n(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},l.prototype.toJSON=function(){return this.toString(16,2)},c&&(l.prototype.toBuffer=function(h,v){return this.toArrayLike(c,h,v)}),l.prototype.toArray=function(h,v){return this.toArrayLike(Array,h,v)};var E=function(h,v){return h.allocUnsafe?h.allocUnsafe(v):new h(v)};l.prototype.toArrayLike=function(h,v,A){this._strip();var _=this.byteLength(),j=A||Math.max(1,_);n(_<=j,"byte array longer than desired length"),n(j>0,"Requested array length <= 0");var T=E(h,j),L=v==="le"?"LE":"BE";return this["_toArrayLike"+L](T,_),T},l.prototype._toArrayLikeLE=function(h,v){for(var A=0,_=0,j=0,T=0;j<this.length;j++){var L=this.words[j]<<T|_;h[A++]=L&255,A<h.length&&(h[A++]=L>>8&255),A<h.length&&(h[A++]=L>>16&255),T===6?(A<h.length&&(h[A++]=L>>24&255),_=0,T=0):(_=L>>>24,T+=2)}if(A<h.length)for(h[A++]=_;A<h.length;)h[A++]=0},l.prototype._toArrayLikeBE=function(h,v){for(var A=h.length-1,_=0,j=0,T=0;j<this.length;j++){var L=this.words[j]<<T|_;h[A--]=L&255,A>=0&&(h[A--]=L>>8&255),A>=0&&(h[A--]=L>>16&255),T===6?(A>=0&&(h[A--]=L>>24&255),_=0,T=0):(_=L>>>24,T+=2)}if(A>=0)for(h[A--]=_;A>=0;)h[A--]=0},Math.clz32?l.prototype._countBits=function(h){return 32-Math.clz32(h)}:l.prototype._countBits=function(h){var v=h,A=0;return v>=4096&&(A+=13,v>>>=13),v>=64&&(A+=7,v>>>=7),v>=8&&(A+=4,v>>>=4),v>=2&&(A+=2,v>>>=2),A+v},l.prototype._zeroBits=function(h){if(h===0)return 26;var v=h,A=0;return(v&8191)===0&&(A+=13,v>>>=13),(v&127)===0&&(A+=7,v>>>=7),(v&15)===0&&(A+=4,v>>>=4),(v&3)===0&&(A+=2,v>>>=2),(v&1)===0&&A++,A},l.prototype.bitLength=function(){var h=this.words[this.length-1],v=this._countBits(h);return(this.length-1)*26+v};function I(R){for(var h=new Array(R.bitLength()),v=0;v<h.length;v++){var A=v/26|0,_=v%26;h[v]=R.words[A]>>>_&1}return h}l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,v=0;v<this.length;v++){var A=this._zeroBits(this.words[v]);if(h+=A,A!==26)break}return h},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},l.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var v=0;v<h.length;v++)this.words[v]=this.words[v]|h.words[v];return this._strip()},l.prototype.ior=function(h){return n((this.negative|h.negative)===0),this.iuor(h)},l.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},l.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},l.prototype.iuand=function(h){var v;this.length>h.length?v=h:v=this;for(var A=0;A<v.length;A++)this.words[A]=this.words[A]&h.words[A];return this.length=v.length,this._strip()},l.prototype.iand=function(h){return n((this.negative|h.negative)===0),this.iuand(h)},l.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},l.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},l.prototype.iuxor=function(h){var v,A;this.length>h.length?(v=this,A=h):(v=h,A=this);for(var _=0;_<A.length;_++)this.words[_]=v.words[_]^A.words[_];if(this!==v)for(;_<v.length;_++)this.words[_]=v.words[_];return this.length=v.length,this._strip()},l.prototype.ixor=function(h){return n((this.negative|h.negative)===0),this.iuxor(h)},l.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},l.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},l.prototype.inotn=function(h){n(typeof h=="number"&&h>=0);var v=Math.ceil(h/26)|0,A=h%26;this._expand(v),A>0&&v--;for(var _=0;_<v;_++)this.words[_]=~this.words[_]&67108863;return A>0&&(this.words[_]=~this.words[_]&67108863>>26-A),this._strip()},l.prototype.notn=function(h){return this.clone().inotn(h)},l.prototype.setn=function(h,v){n(typeof h=="number"&&h>=0);var A=h/26|0,_=h%26;return this._expand(A+1),v?this.words[A]=this.words[A]|1<<_:this.words[A]=this.words[A]&~(1<<_),this._strip()},l.prototype.iadd=function(h){var v;if(this.negative!==0&&h.negative===0)return this.negative=0,v=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,v=this.isub(h),h.negative=1,v._normSign();var A,_;this.length>h.length?(A=this,_=h):(A=h,_=this);for(var j=0,T=0;T<_.length;T++)v=(A.words[T]|0)+(_.words[T]|0)+j,this.words[T]=v&67108863,j=v>>>26;for(;j!==0&&T<A.length;T++)v=(A.words[T]|0)+j,this.words[T]=v&67108863,j=v>>>26;if(this.length=A.length,j!==0)this.words[this.length]=j,this.length++;else if(A!==this)for(;T<A.length;T++)this.words[T]=A.words[T];return this},l.prototype.add=function(h){var v;return h.negative!==0&&this.negative===0?(h.negative=0,v=this.sub(h),h.negative^=1,v):h.negative===0&&this.negative!==0?(this.negative=0,v=h.sub(this),this.negative=1,v):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},l.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var v=this.iadd(h);return h.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var A=this.cmp(h);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,j;A>0?(_=this,j=h):(_=h,j=this);for(var T=0,L=0;L<j.length;L++)v=(_.words[L]|0)-(j.words[L]|0)+T,T=v>>26,this.words[L]=v&67108863;for(;T!==0&&L<_.length;L++)v=(_.words[L]|0)+T,T=v>>26,this.words[L]=v&67108863;if(T===0&&L<_.length&&_!==this)for(;L<_.length;L++)this.words[L]=_.words[L];return this.length=Math.max(this.length,L),_!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(h){return this.clone().isub(h)};function D(R,h,v){v.negative=h.negative^R.negative;var A=R.length+h.length|0;v.length=A,A=A-1|0;var _=R.words[0]|0,j=h.words[0]|0,T=_*j,L=T&67108863,k=T/67108864|0;v.words[0]=L;for(var y=1;y<A;y++){for(var F=k>>>26,ee=k&67108863,z=Math.min(y,h.length-1),Q=Math.max(0,y-R.length+1);Q<=z;Q++){var G=y-Q|0;_=R.words[G]|0,j=h.words[Q]|0,T=_*j+ee,F+=T/67108864|0,ee=T&67108863}v.words[y]=ee|0,k=F|0}return k!==0?v.words[y]=k|0:v.length--,v._strip()}var O=function(h,v,A){var _=h.words,j=v.words,T=A.words,L=0,k,y,F,ee=_[0]|0,z=ee&8191,Q=ee>>>13,G=_[1]|0,J=G&8191,te=G>>>13,ie=_[2]|0,fe=ie&8191,ue=ie>>>13,je=_[3]|0,pe=je&8191,Ae=je>>>13,gt=_[4]|0,$e=gt&8191,He=gt>>>13,Nt=_[5]|0,Ke=Nt&8191,Ve=Nt>>>13,De=_[6]|0,Re=De&8191,Se=De>>>13,ht=_[7]|0,ke=ht&8191,Ne=ht>>>13,mt=_[8]|0,Oe=mt&8191,Le=mt>>>13,Pt=_[9]|0,at=Pt&8191,yt=Pt>>>13,pr=j[0]|0,jt=pr&8191,dt=pr>>>13,_r=j[1]|0,xt=_r&8191,Rt=_r>>>13,or=j[2]|0,Ct=or&8191,ft=or>>>13,fr=j[3]|0,Mt=fr&8191,Ee=fr>>>13,rt=j[4]|0,Ge=rt&8191,st=rt>>>13,tr=j[5]|0,it=tr&8191,ot=tr>>>13,Kt=j[6]|0,vt=Kt&8191,At=Kt>>>13,Jr=j[7]|0,It=Jr&8191,_t=Jr>>>13,Qn=j[8]|0,$t=Qn&8191,Ft=Qn>>>13,Dr=j[9]|0,Bt=Dr&8191,Ut=Dr>>>13;A.negative=h.negative^v.negative,A.length=19,k=Math.imul(z,jt),y=Math.imul(z,dt),y=y+Math.imul(Q,jt)|0,F=Math.imul(Q,dt);var zn=(L+k|0)+((y&8191)<<13)|0;L=(F+(y>>>13)|0)+(zn>>>26)|0,zn&=67108863,k=Math.imul(J,jt),y=Math.imul(J,dt),y=y+Math.imul(te,jt)|0,F=Math.imul(te,dt),k=k+Math.imul(z,xt)|0,y=y+Math.imul(z,Rt)|0,y=y+Math.imul(Q,xt)|0,F=F+Math.imul(Q,Rt)|0;var on=(L+k|0)+((y&8191)<<13)|0;L=(F+(y>>>13)|0)+(on>>>26)|0,on&=67108863,k=Math.imul(fe,jt),y=Math.imul(fe,dt),y=y+Math.imul(ue,jt)|0,F=Math.imul(ue,dt),k=k+Math.imul(J,xt)|0,y=y+Math.imul(J,Rt)|0,y=y+Math.imul(te,xt)|0,F=F+Math.imul(te,Rt)|0,k=k+Math.imul(z,Ct)|0,y=y+Math.imul(z,ft)|0,y=y+Math.imul(Q,Ct)|0,F=F+Math.imul(Q,ft)|0;var yn=(L+k|0)+((y&8191)<<13)|0;L=(F+(y>>>13)|0)+(yn>>>26)|0,yn&=67108863,k=Math.imul(pe,jt),y=Math.imul(pe,dt),y=y+Math.imul(Ae,jt)|0,F=Math.imul(Ae,dt),k=k+Math.imul(fe,xt)|0,y=y+Math.imul(fe,Rt)|0,y=y+Math.imul(ue,xt)|0,F=F+Math.imul(ue,Rt)|0,k=k+Math.imul(J,Ct)|0,y=y+Math.imul(J,ft)|0,y=y+Math.imul(te,Ct)|0,F=F+Math.imul(te,ft)|0,k=k+Math.imul(z,Mt)|0,y=y+Math.imul(z,Ee)|0,y=y+Math.imul(Q,Mt)|0,F=F+Math.imul(Q,Ee)|0;var an=(L+k|0)+((y&8191)<<13)|0;L=(F+(y>>>13)|0)+(an>>>26)|0,an&=67108863,k=Math.imul($e,jt),y=Math.imul($e,dt),y=y+Math.imul(He,jt)|0,F=Math.imul(He,dt),k=k+Math.imul(pe,xt)|0,y=y+Math.imul(pe,Rt)|0,y=y+Math.imul(Ae,xt)|0,F=F+Math.imul(Ae,Rt)|0,k=k+Math.imul(fe,Ct)|0,y=y+Math.imul(fe,ft)|0,y=y+Math.imul(ue,Ct)|0,F=F+Math.imul(ue,ft)|0,k=k+Math.imul(J,Mt)|0,y=y+Math.imul(J,Ee)|0,y=y+Math.imul(te,Mt)|0,F=F+Math.imul(te,Ee)|0,k=k+Math.imul(z,Ge)|0,y=y+Math.imul(z,st)|0,y=y+Math.imul(Q,Ge)|0,F=F+Math.imul(Q,st)|0;var xn=(L+k|0)+((y&8191)<<13)|0;L=(F+(y>>>13)|0)+(xn>>>26)|0,xn&=67108863,k=Math.imul(Ke,jt),y=Math.imul(Ke,dt),y=y+Math.imul(Ve,jt)|0,F=Math.imul(Ve,dt),k=k+Math.imul($e,xt)|0,y=y+Math.imul($e,Rt)|0,y=y+Math.imul(He,xt)|0,F=F+Math.imul(He,Rt)|0,k=k+Math.imul(pe,Ct)|0,y=y+Math.imul(pe,ft)|0,y=y+Math.imul(Ae,Ct)|0,F=F+Math.imul(Ae,ft)|0,k=k+Math.imul(fe,Mt)|0,y=y+Math.imul(fe,Ee)|0,y=y+Math.imul(ue,Mt)|0,F=F+Math.imul(ue,Ee)|0,k=k+Math.imul(J,Ge)|0,y=y+Math.imul(J,st)|0,y=y+Math.imul(te,Ge)|0,F=F+Math.imul(te,st)|0,k=k+Math.imul(z,it)|0,y=y+Math.imul(z,ot)|0,y=y+Math.imul(Q,it)|0,F=F+Math.imul(Q,ot)|0;var bo=(L+k|0)+((y&8191)<<13)|0;L=(F+(y>>>13)|0)+(bo>>>26)|0,bo&=67108863,k=Math.imul(Re,jt),y=Math.imul(Re,dt),y=y+Math.imul(Se,jt)|0,F=Math.imul(Se,dt),k=k+Math.imul(Ke,xt)|0,y=y+Math.imul(Ke,Rt)|0,y=y+Math.imul(Ve,xt)|0,F=F+Math.imul(Ve,Rt)|0,k=k+Math.imul($e,Ct)|0,y=y+Math.imul($e,ft)|0,y=y+Math.imul(He,Ct)|0,F=F+Math.imul(He,ft)|0,k=k+Math.imul(pe,Mt)|0,y=y+Math.imul(pe,Ee)|0,y=y+Math.imul(Ae,Mt)|0,F=F+Math.imul(Ae,Ee)|0,k=k+Math.imul(fe,Ge)|0,y=y+Math.imul(fe,st)|0,y=y+Math.imul(ue,Ge)|0,F=F+Math.imul(ue,st)|0,k=k+Math.imul(J,it)|0,y=y+Math.imul(J,ot)|0,y=y+Math.imul(te,it)|0,F=F+Math.imul(te,ot)|0,k=k+Math.imul(z,vt)|0,y=y+Math.imul(z,At)|0,y=y+Math.imul(Q,vt)|0,F=F+Math.imul(Q,At)|0;var oi=(L+k|0)+((y&8191)<<13)|0;L=(F+(y>>>13)|0)+(oi>>>26)|0,oi&=67108863,k=Math.imul(ke,jt),y=Math.imul(ke,dt),y=y+Math.imul(Ne,jt)|0,F=Math.imul(Ne,dt),k=k+Math.imul(Re,xt)|0,y=y+Math.imul(Re,Rt)|0,y=y+Math.imul(Se,xt)|0,F=F+Math.imul(Se,Rt)|0,k=k+Math.imul(Ke,Ct)|0,y=y+Math.imul(Ke,ft)|0,y=y+Math.imul(Ve,Ct)|0,F=F+Math.imul(Ve,ft)|0,k=k+Math.imul($e,Mt)|0,y=y+Math.imul($e,Ee)|0,y=y+Math.imul(He,Mt)|0,F=F+Math.imul(He,Ee)|0,k=k+Math.imul(pe,Ge)|0,y=y+Math.imul(pe,st)|0,y=y+Math.imul(Ae,Ge)|0,F=F+Math.imul(Ae,st)|0,k=k+Math.imul(fe,it)|0,y=y+Math.imul(fe,ot)|0,y=y+Math.imul(ue,it)|0,F=F+Math.imul(ue,ot)|0,k=k+Math.imul(J,vt)|0,y=y+Math.imul(J,At)|0,y=y+Math.imul(te,vt)|0,F=F+Math.imul(te,At)|0,k=k+Math.imul(z,It)|0,y=y+Math.imul(z,_t)|0,y=y+Math.imul(Q,It)|0,F=F+Math.imul(Q,_t)|0;var qt=(L+k|0)+((y&8191)<<13)|0;L=(F+(y>>>13)|0)+(qt>>>26)|0,qt&=67108863,k=Math.imul(Oe,jt),y=Math.imul(Oe,dt),y=y+Math.imul(Le,jt)|0,F=Math.imul(Le,dt),k=k+Math.imul(ke,xt)|0,y=y+Math.imul(ke,Rt)|0,y=y+Math.imul(Ne,xt)|0,F=F+Math.imul(Ne,Rt)|0,k=k+Math.imul(Re,Ct)|0,y=y+Math.imul(Re,ft)|0,y=y+Math.imul(Se,Ct)|0,F=F+Math.imul(Se,ft)|0,k=k+Math.imul(Ke,Mt)|0,y=y+Math.imul(Ke,Ee)|0,y=y+Math.imul(Ve,Mt)|0,F=F+Math.imul(Ve,Ee)|0,k=k+Math.imul($e,Ge)|0,y=y+Math.imul($e,st)|0,y=y+Math.imul(He,Ge)|0,F=F+Math.imul(He,st)|0,k=k+Math.imul(pe,it)|0,y=y+Math.imul(pe,ot)|0,y=y+Math.imul(Ae,it)|0,F=F+Math.imul(Ae,ot)|0,k=k+Math.imul(fe,vt)|0,y=y+Math.imul(fe,At)|0,y=y+Math.imul(ue,vt)|0,F=F+Math.imul(ue,At)|0,k=k+Math.imul(J,It)|0,y=y+Math.imul(J,_t)|0,y=y+Math.imul(te,It)|0,F=F+Math.imul(te,_t)|0,k=k+Math.imul(z,$t)|0,y=y+Math.imul(z,Ft)|0,y=y+Math.imul(Q,$t)|0,F=F+Math.imul(Q,Ft)|0;var ii=(L+k|0)+((y&8191)<<13)|0;L=(F+(y>>>13)|0)+(ii>>>26)|0,ii&=67108863,k=Math.imul(at,jt),y=Math.imul(at,dt),y=y+Math.imul(yt,jt)|0,F=Math.imul(yt,dt),k=k+Math.imul(Oe,xt)|0,y=y+Math.imul(Oe,Rt)|0,y=y+Math.imul(Le,xt)|0,F=F+Math.imul(Le,Rt)|0,k=k+Math.imul(ke,Ct)|0,y=y+Math.imul(ke,ft)|0,y=y+Math.imul(Ne,Ct)|0,F=F+Math.imul(Ne,ft)|0,k=k+Math.imul(Re,Mt)|0,y=y+Math.imul(Re,Ee)|0,y=y+Math.imul(Se,Mt)|0,F=F+Math.imul(Se,Ee)|0,k=k+Math.imul(Ke,Ge)|0,y=y+Math.imul(Ke,st)|0,y=y+Math.imul(Ve,Ge)|0,F=F+Math.imul(Ve,st)|0,k=k+Math.imul($e,it)|0,y=y+Math.imul($e,ot)|0,y=y+Math.imul(He,it)|0,F=F+Math.imul(He,ot)|0,k=k+Math.imul(pe,vt)|0,y=y+Math.imul(pe,At)|0,y=y+Math.imul(Ae,vt)|0,F=F+Math.imul(Ae,At)|0,k=k+Math.imul(fe,It)|0,y=y+Math.imul(fe,_t)|0,y=y+Math.imul(ue,It)|0,F=F+Math.imul(ue,_t)|0,k=k+Math.imul(J,$t)|0,y=y+Math.imul(J,Ft)|0,y=y+Math.imul(te,$t)|0,F=F+Math.imul(te,Ft)|0,k=k+Math.imul(z,Bt)|0,y=y+Math.imul(z,Ut)|0,y=y+Math.imul(Q,Bt)|0,F=F+Math.imul(Q,Ut)|0;var Jn=(L+k|0)+((y&8191)<<13)|0;L=(F+(y>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,k=Math.imul(at,xt),y=Math.imul(at,Rt),y=y+Math.imul(yt,xt)|0,F=Math.imul(yt,Rt),k=k+Math.imul(Oe,Ct)|0,y=y+Math.imul(Oe,ft)|0,y=y+Math.imul(Le,Ct)|0,F=F+Math.imul(Le,ft)|0,k=k+Math.imul(ke,Mt)|0,y=y+Math.imul(ke,Ee)|0,y=y+Math.imul(Ne,Mt)|0,F=F+Math.imul(Ne,Ee)|0,k=k+Math.imul(Re,Ge)|0,y=y+Math.imul(Re,st)|0,y=y+Math.imul(Se,Ge)|0,F=F+Math.imul(Se,st)|0,k=k+Math.imul(Ke,it)|0,y=y+Math.imul(Ke,ot)|0,y=y+Math.imul(Ve,it)|0,F=F+Math.imul(Ve,ot)|0,k=k+Math.imul($e,vt)|0,y=y+Math.imul($e,At)|0,y=y+Math.imul(He,vt)|0,F=F+Math.imul(He,At)|0,k=k+Math.imul(pe,It)|0,y=y+Math.imul(pe,_t)|0,y=y+Math.imul(Ae,It)|0,F=F+Math.imul(Ae,_t)|0,k=k+Math.imul(fe,$t)|0,y=y+Math.imul(fe,Ft)|0,y=y+Math.imul(ue,$t)|0,F=F+Math.imul(ue,Ft)|0,k=k+Math.imul(J,Bt)|0,y=y+Math.imul(J,Ut)|0,y=y+Math.imul(te,Bt)|0,F=F+Math.imul(te,Ut)|0;var wo=(L+k|0)+((y&8191)<<13)|0;L=(F+(y>>>13)|0)+(wo>>>26)|0,wo&=67108863,k=Math.imul(at,Ct),y=Math.imul(at,ft),y=y+Math.imul(yt,Ct)|0,F=Math.imul(yt,ft),k=k+Math.imul(Oe,Mt)|0,y=y+Math.imul(Oe,Ee)|0,y=y+Math.imul(Le,Mt)|0,F=F+Math.imul(Le,Ee)|0,k=k+Math.imul(ke,Ge)|0,y=y+Math.imul(ke,st)|0,y=y+Math.imul(Ne,Ge)|0,F=F+Math.imul(Ne,st)|0,k=k+Math.imul(Re,it)|0,y=y+Math.imul(Re,ot)|0,y=y+Math.imul(Se,it)|0,F=F+Math.imul(Se,ot)|0,k=k+Math.imul(Ke,vt)|0,y=y+Math.imul(Ke,At)|0,y=y+Math.imul(Ve,vt)|0,F=F+Math.imul(Ve,At)|0,k=k+Math.imul($e,It)|0,y=y+Math.imul($e,_t)|0,y=y+Math.imul(He,It)|0,F=F+Math.imul(He,_t)|0,k=k+Math.imul(pe,$t)|0,y=y+Math.imul(pe,Ft)|0,y=y+Math.imul(Ae,$t)|0,F=F+Math.imul(Ae,Ft)|0,k=k+Math.imul(fe,Bt)|0,y=y+Math.imul(fe,Ut)|0,y=y+Math.imul(ue,Bt)|0,F=F+Math.imul(ue,Ut)|0;var vn=(L+k|0)+((y&8191)<<13)|0;L=(F+(y>>>13)|0)+(vn>>>26)|0,vn&=67108863,k=Math.imul(at,Mt),y=Math.imul(at,Ee),y=y+Math.imul(yt,Mt)|0,F=Math.imul(yt,Ee),k=k+Math.imul(Oe,Ge)|0,y=y+Math.imul(Oe,st)|0,y=y+Math.imul(Le,Ge)|0,F=F+Math.imul(Le,st)|0,k=k+Math.imul(ke,it)|0,y=y+Math.imul(ke,ot)|0,y=y+Math.imul(Ne,it)|0,F=F+Math.imul(Ne,ot)|0,k=k+Math.imul(Re,vt)|0,y=y+Math.imul(Re,At)|0,y=y+Math.imul(Se,vt)|0,F=F+Math.imul(Se,At)|0,k=k+Math.imul(Ke,It)|0,y=y+Math.imul(Ke,_t)|0,y=y+Math.imul(Ve,It)|0,F=F+Math.imul(Ve,_t)|0,k=k+Math.imul($e,$t)|0,y=y+Math.imul($e,Ft)|0,y=y+Math.imul(He,$t)|0,F=F+Math.imul(He,Ft)|0,k=k+Math.imul(pe,Bt)|0,y=y+Math.imul(pe,Ut)|0,y=y+Math.imul(Ae,Bt)|0,F=F+Math.imul(Ae,Ut)|0;var ra=(L+k|0)+((y&8191)<<13)|0;L=(F+(y>>>13)|0)+(ra>>>26)|0,ra&=67108863,k=Math.imul(at,Ge),y=Math.imul(at,st),y=y+Math.imul(yt,Ge)|0,F=Math.imul(yt,st),k=k+Math.imul(Oe,it)|0,y=y+Math.imul(Oe,ot)|0,y=y+Math.imul(Le,it)|0,F=F+Math.imul(Le,ot)|0,k=k+Math.imul(ke,vt)|0,y=y+Math.imul(ke,At)|0,y=y+Math.imul(Ne,vt)|0,F=F+Math.imul(Ne,At)|0,k=k+Math.imul(Re,It)|0,y=y+Math.imul(Re,_t)|0,y=y+Math.imul(Se,It)|0,F=F+Math.imul(Se,_t)|0,k=k+Math.imul(Ke,$t)|0,y=y+Math.imul(Ke,Ft)|0,y=y+Math.imul(Ve,$t)|0,F=F+Math.imul(Ve,Ft)|0,k=k+Math.imul($e,Bt)|0,y=y+Math.imul($e,Ut)|0,y=y+Math.imul(He,Bt)|0,F=F+Math.imul(He,Ut)|0;var ai=(L+k|0)+((y&8191)<<13)|0;L=(F+(y>>>13)|0)+(ai>>>26)|0,ai&=67108863,k=Math.imul(at,it),y=Math.imul(at,ot),y=y+Math.imul(yt,it)|0,F=Math.imul(yt,ot),k=k+Math.imul(Oe,vt)|0,y=y+Math.imul(Oe,At)|0,y=y+Math.imul(Le,vt)|0,F=F+Math.imul(Le,At)|0,k=k+Math.imul(ke,It)|0,y=y+Math.imul(ke,_t)|0,y=y+Math.imul(Ne,It)|0,F=F+Math.imul(Ne,_t)|0,k=k+Math.imul(Re,$t)|0,y=y+Math.imul(Re,Ft)|0,y=y+Math.imul(Se,$t)|0,F=F+Math.imul(Se,Ft)|0,k=k+Math.imul(Ke,Bt)|0,y=y+Math.imul(Ke,Ut)|0,y=y+Math.imul(Ve,Bt)|0,F=F+Math.imul(Ve,Ut)|0;var bn=(L+k|0)+((y&8191)<<13)|0;L=(F+(y>>>13)|0)+(bn>>>26)|0,bn&=67108863,k=Math.imul(at,vt),y=Math.imul(at,At),y=y+Math.imul(yt,vt)|0,F=Math.imul(yt,At),k=k+Math.imul(Oe,It)|0,y=y+Math.imul(Oe,_t)|0,y=y+Math.imul(Le,It)|0,F=F+Math.imul(Le,_t)|0,k=k+Math.imul(ke,$t)|0,y=y+Math.imul(ke,Ft)|0,y=y+Math.imul(Ne,$t)|0,F=F+Math.imul(Ne,Ft)|0,k=k+Math.imul(Re,Bt)|0,y=y+Math.imul(Re,Ut)|0,y=y+Math.imul(Se,Bt)|0,F=F+Math.imul(Se,Ut)|0;var br=(L+k|0)+((y&8191)<<13)|0;L=(F+(y>>>13)|0)+(br>>>26)|0,br&=67108863,k=Math.imul(at,It),y=Math.imul(at,_t),y=y+Math.imul(yt,It)|0,F=Math.imul(yt,_t),k=k+Math.imul(Oe,$t)|0,y=y+Math.imul(Oe,Ft)|0,y=y+Math.imul(Le,$t)|0,F=F+Math.imul(Le,Ft)|0,k=k+Math.imul(ke,Bt)|0,y=y+Math.imul(ke,Ut)|0,y=y+Math.imul(Ne,Bt)|0,F=F+Math.imul(Ne,Ut)|0;var Xn=(L+k|0)+((y&8191)<<13)|0;L=(F+(y>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,k=Math.imul(at,$t),y=Math.imul(at,Ft),y=y+Math.imul(yt,$t)|0,F=Math.imul(yt,Ft),k=k+Math.imul(Oe,Bt)|0,y=y+Math.imul(Oe,Ut)|0,y=y+Math.imul(Le,Bt)|0,F=F+Math.imul(Le,Ut)|0;var wr=(L+k|0)+((y&8191)<<13)|0;L=(F+(y>>>13)|0)+(wr>>>26)|0,wr&=67108863,k=Math.imul(at,Bt),y=Math.imul(at,Ut),y=y+Math.imul(yt,Bt)|0,F=Math.imul(yt,Ut);var li=(L+k|0)+((y&8191)<<13)|0;return L=(F+(y>>>13)|0)+(li>>>26)|0,li&=67108863,T[0]=zn,T[1]=on,T[2]=yn,T[3]=an,T[4]=xn,T[5]=bo,T[6]=oi,T[7]=qt,T[8]=ii,T[9]=Jn,T[10]=wo,T[11]=vn,T[12]=ra,T[13]=ai,T[14]=bn,T[15]=br,T[16]=Xn,T[17]=wr,T[18]=li,L!==0&&(T[19]=L,A.length++),A};Math.imul||(O=D);function S(R,h,v){v.negative=h.negative^R.negative,v.length=R.length+h.length;for(var A=0,_=0,j=0;j<v.length-1;j++){var T=_;_=0;for(var L=A&67108863,k=Math.min(j,h.length-1),y=Math.max(0,j-R.length+1);y<=k;y++){var F=j-y,ee=R.words[F]|0,z=h.words[y]|0,Q=ee*z,G=Q&67108863;T=T+(Q/67108864|0)|0,G=G+L|0,L=G&67108863,T=T+(G>>>26)|0,_+=T>>>26,T&=67108863}v.words[j]=L,A=T,T=_}return A!==0?v.words[j]=A:v.length--,v._strip()}function U(R,h,v){return S(R,h,v)}l.prototype.mulTo=function(h,v){var A,_=this.length+h.length;return this.length===10&&h.length===10?A=O(this,h,v):_<63?A=D(this,h,v):_<1024?A=S(this,h,v):A=U(this,h,v),A},l.prototype.mul=function(h){var v=new l(null);return v.words=new Array(this.length+h.length),this.mulTo(h,v)},l.prototype.mulf=function(h){var v=new l(null);return v.words=new Array(this.length+h.length),U(this,h,v)},l.prototype.imul=function(h){return this.clone().mulTo(h,this)},l.prototype.imuln=function(h){var v=h<0;v&&(h=-h),n(typeof h=="number"),n(h<67108864);for(var A=0,_=0;_<this.length;_++){var j=(this.words[_]|0)*h,T=(j&67108863)+(A&67108863);A>>=26,A+=j/67108864|0,A+=T>>>26,this.words[_]=T&67108863}return A!==0&&(this.words[_]=A,this.length++),this.length=h===0?1:this.length,v?this.ineg():this},l.prototype.muln=function(h){return this.clone().imuln(h)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(h){var v=I(h);if(v.length===0)return new l(1);for(var A=this,_=0;_<v.length&&v[_]===0;_++,A=A.sqr());if(++_<v.length)for(var j=A.sqr();_<v.length;_++,j=j.sqr())v[_]!==0&&(A=A.mul(j));return A},l.prototype.iushln=function(h){n(typeof h=="number"&&h>=0);var v=h%26,A=(h-v)/26,_=67108863>>>26-v<<26-v,j;if(v!==0){var T=0;for(j=0;j<this.length;j++){var L=this.words[j]&_,k=(this.words[j]|0)-L<<v;this.words[j]=k|T,T=L>>>26-v}T&&(this.words[j]=T,this.length++)}if(A!==0){for(j=this.length-1;j>=0;j--)this.words[j+A]=this.words[j];for(j=0;j<A;j++)this.words[j]=0;this.length+=A}return this._strip()},l.prototype.ishln=function(h){return n(this.negative===0),this.iushln(h)},l.prototype.iushrn=function(h,v,A){n(typeof h=="number"&&h>=0);var _;v?_=(v-v%26)/26:_=0;var j=h%26,T=Math.min((h-j)/26,this.length),L=67108863^67108863>>>j<<j,k=A;if(_-=T,_=Math.max(0,_),k){for(var y=0;y<T;y++)k.words[y]=this.words[y];k.length=T}if(T!==0)if(this.length>T)for(this.length-=T,y=0;y<this.length;y++)this.words[y]=this.words[y+T];else this.words[0]=0,this.length=1;var F=0;for(y=this.length-1;y>=0&&(F!==0||y>=_);y--){var ee=this.words[y]|0;this.words[y]=F<<26-j|ee>>>j,F=ee&L}return k&&F!==0&&(k.words[k.length++]=F),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(h,v,A){return n(this.negative===0),this.iushrn(h,v,A)},l.prototype.shln=function(h){return this.clone().ishln(h)},l.prototype.ushln=function(h){return this.clone().iushln(h)},l.prototype.shrn=function(h){return this.clone().ishrn(h)},l.prototype.ushrn=function(h){return this.clone().iushrn(h)},l.prototype.testn=function(h){n(typeof h=="number"&&h>=0);var v=h%26,A=(h-v)/26,_=1<<v;if(this.length<=A)return!1;var j=this.words[A];return!!(j&_)},l.prototype.imaskn=function(h){n(typeof h=="number"&&h>=0);var v=h%26,A=(h-v)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(v!==0&&A++,this.length=Math.min(A,this.length),v!==0){var _=67108863^67108863>>>v<<v;this.words[this.length-1]&=_}return this._strip()},l.prototype.maskn=function(h){return this.clone().imaskn(h)},l.prototype.iaddn=function(h){return n(typeof h=="number"),n(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<=h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},l.prototype._iaddn=function(h){this.words[0]+=h;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},l.prototype.isubn=function(h){if(n(typeof h=="number"),n(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},l.prototype.addn=function(h){return this.clone().iaddn(h)},l.prototype.subn=function(h){return this.clone().isubn(h)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(h,v,A){var _=h.length+A,j;this._expand(_);var T,L=0;for(j=0;j<h.length;j++){T=(this.words[j+A]|0)+L;var k=(h.words[j]|0)*v;T-=k&67108863,L=(T>>26)-(k/67108864|0),this.words[j+A]=T&67108863}for(;j<this.length-A;j++)T=(this.words[j+A]|0)+L,L=T>>26,this.words[j+A]=T&67108863;if(L===0)return this._strip();for(n(L===-1),L=0,j=0;j<this.length;j++)T=-(this.words[j]|0)+L,L=T>>26,this.words[j]=T&67108863;return this.negative=1,this._strip()},l.prototype._wordDiv=function(h,v){var A=this.length-h.length,_=this.clone(),j=h,T=j.words[j.length-1]|0,L=this._countBits(T);A=26-L,A!==0&&(j=j.ushln(A),_.iushln(A),T=j.words[j.length-1]|0);var k=_.length-j.length,y;if(v!=="mod"){y=new l(null),y.length=k+1,y.words=new Array(y.length);for(var F=0;F<y.length;F++)y.words[F]=0}var ee=_.clone()._ishlnsubmul(j,1,k);ee.negative===0&&(_=ee,y&&(y.words[k]=1));for(var z=k-1;z>=0;z--){var Q=(_.words[j.length+z]|0)*67108864+(_.words[j.length+z-1]|0);for(Q=Math.min(Q/T|0,67108863),_._ishlnsubmul(j,Q,z);_.negative!==0;)Q--,_.negative=0,_._ishlnsubmul(j,1,z),_.isZero()||(_.negative^=1);y&&(y.words[z]=Q)}return y&&y._strip(),_._strip(),v!=="div"&&A!==0&&_.iushrn(A),{div:y||null,mod:_}},l.prototype.divmod=function(h,v,A){if(n(!h.isZero()),this.isZero())return{div:new l(0),mod:new l(0)};var _,j,T;return this.negative!==0&&h.negative===0?(T=this.neg().divmod(h,v),v!=="mod"&&(_=T.div.neg()),v!=="div"&&(j=T.mod.neg(),A&&j.negative!==0&&j.iadd(h)),{div:_,mod:j}):this.negative===0&&h.negative!==0?(T=this.divmod(h.neg(),v),v!=="mod"&&(_=T.div.neg()),{div:_,mod:T.mod}):(this.negative&h.negative)!==0?(T=this.neg().divmod(h.neg(),v),v!=="div"&&(j=T.mod.neg(),A&&j.negative!==0&&j.isub(h)),{div:T.div,mod:j}):h.length>this.length||this.cmp(h)<0?{div:new l(0),mod:this}:h.length===1?v==="div"?{div:this.divn(h.words[0]),mod:null}:v==="mod"?{div:null,mod:new l(this.modrn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new l(this.modrn(h.words[0]))}:this._wordDiv(h,v)},l.prototype.div=function(h){return this.divmod(h,"div",!1).div},l.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},l.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},l.prototype.divRound=function(h){var v=this.divmod(h);if(v.mod.isZero())return v.div;var A=v.div.negative!==0?v.mod.isub(h):v.mod,_=h.ushrn(1),j=h.andln(1),T=A.cmp(_);return T<0||j===1&&T===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},l.prototype.modrn=function(h){var v=h<0;v&&(h=-h),n(h<=67108863);for(var A=(1<<26)%h,_=0,j=this.length-1;j>=0;j--)_=(A*_+(this.words[j]|0))%h;return v?-_:_},l.prototype.modn=function(h){return this.modrn(h)},l.prototype.idivn=function(h){var v=h<0;v&&(h=-h),n(h<=67108863);for(var A=0,_=this.length-1;_>=0;_--){var j=(this.words[_]|0)+A*67108864;this.words[_]=j/h|0,A=j%h}return this._strip(),v?this.ineg():this},l.prototype.divn=function(h){return this.clone().idivn(h)},l.prototype.egcd=function(h){n(h.negative===0),n(!h.isZero());var v=this,A=h.clone();v.negative!==0?v=v.umod(h):v=v.clone();for(var _=new l(1),j=new l(0),T=new l(0),L=new l(1),k=0;v.isEven()&&A.isEven();)v.iushrn(1),A.iushrn(1),++k;for(var y=A.clone(),F=v.clone();!v.isZero();){for(var ee=0,z=1;(v.words[0]&z)===0&&ee<26;++ee,z<<=1);if(ee>0)for(v.iushrn(ee);ee-- >0;)(_.isOdd()||j.isOdd())&&(_.iadd(y),j.isub(F)),_.iushrn(1),j.iushrn(1);for(var Q=0,G=1;(A.words[0]&G)===0&&Q<26;++Q,G<<=1);if(Q>0)for(A.iushrn(Q);Q-- >0;)(T.isOdd()||L.isOdd())&&(T.iadd(y),L.isub(F)),T.iushrn(1),L.iushrn(1);v.cmp(A)>=0?(v.isub(A),_.isub(T),j.isub(L)):(A.isub(v),T.isub(_),L.isub(j))}return{a:T,b:L,gcd:A.iushln(k)}},l.prototype._invmp=function(h){n(h.negative===0),n(!h.isZero());var v=this,A=h.clone();v.negative!==0?v=v.umod(h):v=v.clone();for(var _=new l(1),j=new l(0),T=A.clone();v.cmpn(1)>0&&A.cmpn(1)>0;){for(var L=0,k=1;(v.words[0]&k)===0&&L<26;++L,k<<=1);if(L>0)for(v.iushrn(L);L-- >0;)_.isOdd()&&_.iadd(T),_.iushrn(1);for(var y=0,F=1;(A.words[0]&F)===0&&y<26;++y,F<<=1);if(y>0)for(A.iushrn(y);y-- >0;)j.isOdd()&&j.iadd(T),j.iushrn(1);v.cmp(A)>=0?(v.isub(A),_.isub(j)):(A.isub(v),j.isub(_))}var ee;return v.cmpn(1)===0?ee=_:ee=j,ee.cmpn(0)<0&&ee.iadd(h),ee},l.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var v=this.clone(),A=h.clone();v.negative=0,A.negative=0;for(var _=0;v.isEven()&&A.isEven();_++)v.iushrn(1),A.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;A.isEven();)A.iushrn(1);var j=v.cmp(A);if(j<0){var T=v;v=A,A=T}else if(j===0||A.cmpn(1)===0)break;v.isub(A)}while(!0);return A.iushln(_)},l.prototype.invm=function(h){return this.egcd(h).a.umod(h)},l.prototype.isEven=function(){return(this.words[0]&1)===0},l.prototype.isOdd=function(){return(this.words[0]&1)===1},l.prototype.andln=function(h){return this.words[0]&h},l.prototype.bincn=function(h){n(typeof h=="number");var v=h%26,A=(h-v)/26,_=1<<v;if(this.length<=A)return this._expand(A+1),this.words[A]|=_,this;for(var j=_,T=A;j!==0&&T<this.length;T++){var L=this.words[T]|0;L+=j,j=L>>>26,L&=67108863,this.words[T]=L}return j!==0&&(this.words[T]=j,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(h){var v=h<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this._strip();var A;if(this.length>1)A=1;else{v&&(h=-h),n(h<=67108863,"Number is too big");var _=this.words[0]|0;A=_===h?0:_<h?-1:1}return this.negative!==0?-A|0:A},l.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var v=this.ucmp(h);return this.negative!==0?-v|0:v},l.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var v=0,A=this.length-1;A>=0;A--){var _=this.words[A]|0,j=h.words[A]|0;if(_!==j){_<j?v=-1:_>j&&(v=1);break}}return v},l.prototype.gtn=function(h){return this.cmpn(h)===1},l.prototype.gt=function(h){return this.cmp(h)===1},l.prototype.gten=function(h){return this.cmpn(h)>=0},l.prototype.gte=function(h){return this.cmp(h)>=0},l.prototype.ltn=function(h){return this.cmpn(h)===-1},l.prototype.lt=function(h){return this.cmp(h)===-1},l.prototype.lten=function(h){return this.cmpn(h)<=0},l.prototype.lte=function(h){return this.cmp(h)<=0},l.prototype.eqn=function(h){return this.cmpn(h)===0},l.prototype.eq=function(h){return this.cmp(h)===0},l.red=function(h){return new Y(h)},l.prototype.toRed=function(h){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},l.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(h){return this.red=h,this},l.prototype.forceRed=function(h){return n(!this.red,"Already a number in reduction context"),this._forceRed(h)},l.prototype.redAdd=function(h){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},l.prototype.redIAdd=function(h){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},l.prototype.redSub=function(h){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},l.prototype.redISub=function(h){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},l.prototype.redShl=function(h){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},l.prototype.redMul=function(h){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},l.prototype.redIMul=function(h){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},l.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(h){return n(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var $={k256:null,p224:null,p192:null,p25519:null};function H(R,h){this.name=R,this.p=new l(h,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}H.prototype._tmp=function(){var h=new l(null);return h.words=new Array(Math.ceil(this.n/13)),h},H.prototype.ireduce=function(h){var v=h,A;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),A=v.bitLength();while(A>this.n);var _=A<this.n?-1:v.ucmp(this.p);return _===0?(v.words[0]=0,v.length=1):_>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},H.prototype.split=function(h,v){h.iushrn(this.n,0,v)},H.prototype.imulK=function(h){return h.imul(this.k)};function V(){H.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(V,H),V.prototype.split=function(h,v){for(var A=4194303,_=Math.min(h.length,9),j=0;j<_;j++)v.words[j]=h.words[j];if(v.length=_,h.length<=9){h.words[0]=0,h.length=1;return}var T=h.words[9];for(v.words[v.length++]=T&A,j=10;j<h.length;j++){var L=h.words[j]|0;h.words[j-10]=(L&A)<<4|T>>>22,T=L}T>>>=22,h.words[j-10]=T,T===0&&h.length>10?h.length-=10:h.length-=9},V.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var v=0,A=0;A<h.length;A++){var _=h.words[A]|0;v+=_*977,h.words[A]=v&67108863,v=_*64+(v/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function W(){H.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(W,H);function K(){H.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(K,H);function Z(){H.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Z,H),Z.prototype.imulK=function(h){for(var v=0,A=0;A<h.length;A++){var _=(h.words[A]|0)*19+v,j=_&67108863;_>>>=26,h.words[A]=j,v=_}return v!==0&&(h.words[h.length++]=v),h},l._prime=function(h){if($[h])return $[h];var v;if(h==="k256")v=new V;else if(h==="p224")v=new W;else if(h==="p192")v=new K;else if(h==="p25519")v=new Z;else throw new Error("Unknown prime "+h);return $[h]=v,v};function Y(R){if(typeof R=="string"){var h=l._prime(R);this.m=h.p,this.prime=h}else n(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}Y.prototype._verify1=function(h){n(h.negative===0,"red works only with positives"),n(h.red,"red works only with red numbers")},Y.prototype._verify2=function(h,v){n((h.negative|v.negative)===0,"red works only with positives"),n(h.red&&h.red===v.red,"red works only with red numbers")},Y.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):(p(h,h.umod(this.m)._forceRed(this)),h)},Y.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},Y.prototype.add=function(h,v){this._verify2(h,v);var A=h.add(v);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},Y.prototype.iadd=function(h,v){this._verify2(h,v);var A=h.iadd(v);return A.cmp(this.m)>=0&&A.isub(this.m),A},Y.prototype.sub=function(h,v){this._verify2(h,v);var A=h.sub(v);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},Y.prototype.isub=function(h,v){this._verify2(h,v);var A=h.isub(v);return A.cmpn(0)<0&&A.iadd(this.m),A},Y.prototype.shl=function(h,v){return this._verify1(h),this.imod(h.ushln(v))},Y.prototype.imul=function(h,v){return this._verify2(h,v),this.imod(h.imul(v))},Y.prototype.mul=function(h,v){return this._verify2(h,v),this.imod(h.mul(v))},Y.prototype.isqr=function(h){return this.imul(h,h.clone())},Y.prototype.sqr=function(h){return this.mul(h,h)},Y.prototype.sqrt=function(h){if(h.isZero())return h.clone();var v=this.m.andln(3);if(n(v%2===1),v===3){var A=this.m.add(new l(1)).iushrn(2);return this.pow(h,A)}for(var _=this.m.subn(1),j=0;!_.isZero()&&_.andln(1)===0;)j++,_.iushrn(1);n(!_.isZero());var T=new l(1).toRed(this),L=T.redNeg(),k=this.m.subn(1).iushrn(1),y=this.m.bitLength();for(y=new l(2*y*y).toRed(this);this.pow(y,k).cmp(L)!==0;)y.redIAdd(L);for(var F=this.pow(y,_),ee=this.pow(h,_.addn(1).iushrn(1)),z=this.pow(h,_),Q=j;z.cmp(T)!==0;){for(var G=z,J=0;G.cmp(T)!==0;J++)G=G.redSqr();n(J<Q);var te=this.pow(F,new l(1).iushln(Q-J-1));ee=ee.redMul(te),F=te.redSqr(),z=z.redMul(F),Q=J}return ee},Y.prototype.invm=function(h){var v=h._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},Y.prototype.pow=function(h,v){if(v.isZero())return new l(1).toRed(this);if(v.cmpn(1)===0)return h.clone();var A=4,_=new Array(1<<A);_[0]=new l(1).toRed(this),_[1]=h;for(var j=2;j<_.length;j++)_[j]=this.mul(_[j-1],h);var T=_[0],L=0,k=0,y=v.bitLength()%26;for(y===0&&(y=26),j=v.length-1;j>=0;j--){for(var F=v.words[j],ee=y-1;ee>=0;ee--){var z=F>>ee&1;if(T!==_[0]&&(T=this.sqr(T)),z===0&&L===0){k=0;continue}L<<=1,L|=z,k++,!(k!==A&&(j!==0||ee!==0))&&(T=this.mul(T,_[L]),k=0,L=0)}y=26}return T},Y.prototype.convertTo=function(h){var v=h.umod(this.m);return v===h?v.clone():v},Y.prototype.convertFrom=function(h){var v=h.clone();return v.red=null,v},l.mont=function(h){return new q(h)};function q(R){Y.call(this,R),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(q,Y),q.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},q.prototype.convertFrom=function(h){var v=this.imod(h.mul(this.rinv));return v.red=null,v},q.prototype.imul=function(h,v){if(h.isZero()||v.isZero())return h.words[0]=0,h.length=1,h;var A=h.imul(v),_=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=A.isub(_).iushrn(this.shift),T=j;return j.cmp(this.m)>=0?T=j.isub(this.m):j.cmpn(0)<0&&(T=j.iadd(this.m)),T._forceRed(this)},q.prototype.mul=function(h,v){if(h.isZero()||v.isZero())return new l(0)._forceRed(this);var A=h.mul(v),_=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=A.isub(_).iushrn(this.shift),T=j;return j.cmp(this.m)>=0?T=j.isub(this.m):j.cmpn(0)<0&&(T=j.iadd(this.m)),T._forceRed(this)},q.prototype.invm=function(h){var v=this.imod(h._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(t,wE)}(od)),od.exports}var NE=kE();const tt=rl(NE),CE="logger/5.8.0";let tx=!1,rx=!1;const id={debug:1,default:2,info:2,warning:3,error:4,off:5};let nx=id.default,nm=null;function EE(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("é".normalize("NFD")!=="é")throw new Error("broken implementation")}catch(t){return t.message}return null}const sx=EE();var Gm;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(Gm||(Gm={}));var fs;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(fs||(fs={}));const ox="0123456789abcdef";class se{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();id[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(nx>id[n])&&console.log.apply(console,r)}debug(...e){this._log(se.levels.DEBUG,e)}info(...e){this._log(se.levels.INFO,e)}warn(...e){this._log(se.levels.WARNING,e)}makeError(e,r,n){if(rx)return this.makeError("censored error",r,{});r||(r=se.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(f=>{const m=n[f];try{if(m instanceof Uint8Array){let p="";for(let x=0;x<m.length;x++)p+=ox[m[x]>>4],p+=ox[m[x]&15];i.push(f+"=Uint8Array(0x"+p+")")}else i.push(f+"="+JSON.stringify(m))}catch{i.push(f+"="+JSON.stringify(n[f].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const l=e;let c="";switch(r){case fs.NUMERIC_FAULT:{c="NUMERIC_FAULT";const f=e;switch(f){case"overflow":case"underflow":case"division-by-zero":c+="-"+f;break;case"negative-power":case"negative-width":c+="-unsupported";break;case"unbound-bitwise-result":c+="-unbound-result";break}break}case fs.CALL_EXCEPTION:case fs.INSUFFICIENT_FUNDS:case fs.MISSING_NEW:case fs.NONCE_EXPIRED:case fs.REPLACEMENT_UNDERPRICED:case fs.TRANSACTION_REPLACED:case fs.UNPREDICTABLE_GAS_LIMIT:c=r;break}c&&(e+=" [ See: https://links.ethers.org/v5-errors-"+c+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const d=new Error(e);return d.reason=l,d.code=r,Object.keys(n).forEach(function(f){d[f]=n[f]}),d}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,se.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){sx&&this.throwError("platform missing String.prototype.normalize",se.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:sx})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,se.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,se.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,se.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,se.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",se.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",se.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",se.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return nm||(nm=new se(CE)),nm}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",se.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),tx){if(!e)return;this.globalLogger().throwError("error censorship permanent",se.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}rx=!!e,tx=!!r}static setLogLevel(e){const r=id[e.toLowerCase()];if(r==null){se.globalLogger().warn("invalid log level - "+e);return}nx=r}static from(e){return new se(e)}}se.errors=fs;se.levels=Gm;const AE="bytes/5.8.0",dr=new se(AE);function kb(t){return!!t.toHexString}function Ha(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Ha(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Ap(t){return pt(t)&&!(t.length%2)||ol(t)}function ix(t){return typeof t=="number"&&t==t&&t%1===0}function ol(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!ix(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!ix(r)||r<0||r>=256)return!1}return!0}function Je(t,e){if(e||(e={}),typeof t=="number"){dr.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Ha(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),kb(t)&&(t=t.toHexString()),pt(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":dr.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Ha(new Uint8Array(n))}return ol(t)?Ha(new Uint8Array(t)):dr.throwArgumentError("invalid arrayify value","value",t)}function jn(t){const e=t.map(i=>Je(i)),r=e.reduce((i,l)=>i+l.length,0),n=new Uint8Array(r);return e.reduce((i,l)=>(n.set(l,i),i+l.length),0),Ha(n)}function Xa(t){let e=Je(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function SE(t,e){t=Je(t),t.length>e&&dr.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Ha(r)}function pt(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const sm="0123456789abcdef";function qe(t,e){if(e||(e={}),typeof t=="number"){dr.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=sm[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),kb(t))return t.toHexString();if(pt(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":dr.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(ol(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=sm[(i&240)>>4]+sm[i&15]}return r}return dr.throwArgumentError("invalid hexlify value","value",t)}function Ii(t){if(typeof t!="string")t=qe(t);else if(!pt(t)||t.length%2)return null;return(t.length-2)/2}function Gr(t,e,r){return typeof t!="string"?t=qe(t):(!pt(t)||t.length%2)&&dr.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function gn(t){let e="0x";return t.forEach(r=>{e+=qe(r).substring(2)}),e}function Ud(t){const e=TE(qe(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function TE(t){typeof t!="string"&&(t=qe(t)),pt(t)||dr.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function Yt(t,e){for(typeof t!="string"?t=qe(t):pt(t)||dr.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&dr.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function $d(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Ap(t)){let r=Je(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=qe(r.slice(0,32)),e.s=qe(r.slice(32,64))):r.length===65?(e.r=qe(r.slice(0,32)),e.s=qe(r.slice(32,64)),e.v=r[64]):dr.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:dr.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=qe(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=SE(Je(e._vs),32);e._vs=qe(i);const l=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=l:e.recoveryParam!==l&&dr.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const c=qe(i);e.s==null?e.s=c:e.s!==c&&dr.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?dr.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&dr.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!pt(e.r)?dr.throwArgumentError("signature missing or invalid r","signature",t):e.r=Yt(e.r,32),e.s==null||!pt(e.s)?dr.throwArgumentError("signature missing or invalid s","signature",t):e.s=Yt(e.s,32);const r=Je(e.s);r[0]>=128&&dr.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=qe(r);e._vs&&(pt(e._vs)||dr.throwArgumentError("signature invalid _vs","signature",t),e._vs=Yt(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&dr.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const Nb="bignumber/5.8.0";var wd=tt.BN;const ro=new se(Nb),om={},ax=9007199254740991;function PE(t){return t!=null&&(ce.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||pt(t)||typeof t=="bigint"||ol(t))}let lx=!1;class ce{constructor(e,r){e!==om&&ro.throwError("cannot call constructor directly; use BigNumber.from",se.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return mn(Et(this).fromTwos(e))}toTwos(e){return mn(Et(this).toTwos(e))}abs(){return this._hex[0]==="-"?ce.from(this._hex.substring(1)):this}add(e){return mn(Et(this).add(Et(e)))}sub(e){return mn(Et(this).sub(Et(e)))}div(e){return ce.from(e).isZero()&&Wn("division-by-zero","div"),mn(Et(this).div(Et(e)))}mul(e){return mn(Et(this).mul(Et(e)))}mod(e){const r=Et(e);return r.isNeg()&&Wn("division-by-zero","mod"),mn(Et(this).umod(r))}pow(e){const r=Et(e);return r.isNeg()&&Wn("negative-power","pow"),mn(Et(this).pow(r))}and(e){const r=Et(e);return(this.isNegative()||r.isNeg())&&Wn("unbound-bitwise-result","and"),mn(Et(this).and(r))}or(e){const r=Et(e);return(this.isNegative()||r.isNeg())&&Wn("unbound-bitwise-result","or"),mn(Et(this).or(r))}xor(e){const r=Et(e);return(this.isNegative()||r.isNeg())&&Wn("unbound-bitwise-result","xor"),mn(Et(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Wn("negative-width","mask"),mn(Et(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Wn("negative-width","shl"),mn(Et(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Wn("negative-width","shr"),mn(Et(this).shrn(e))}eq(e){return Et(this).eq(Et(e))}lt(e){return Et(this).lt(Et(e))}lte(e){return Et(this).lte(Et(e))}gt(e){return Et(this).gt(Et(e))}gte(e){return Et(this).gte(Et(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Et(this).isZero()}toNumber(){try{return Et(this).toNumber()}catch{Wn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return ro.throwError("this platform does not support BigInt",se.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?lx||(lx=!0,ro.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?ro.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",se.errors.UNEXPECTED_ARGUMENT,{}):ro.throwError("BigNumber.toString does not accept parameters",se.errors.UNEXPECTED_ARGUMENT,{})),Et(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof ce)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new ce(om,lc(e)):e.match(/^-?[0-9]+$/)?new ce(om,lc(new wd(e))):ro.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Wn("underflow","BigNumber.from",e),(e>=ax||e<=-ax)&&Wn("overflow","BigNumber.from",e),ce.from(String(e));const r=e;if(typeof r=="bigint")return ce.from(r.toString());if(ol(r))return ce.from(qe(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return ce.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(pt(n)||n[0]==="-"&&pt(n.substring(1))))return ce.from(n)}return ro.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function lc(t){if(typeof t!="string")return lc(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&ro.throwArgumentError("invalid hex","value",t),t=lc(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function mn(t){return ce.from(lc(t))}function Et(t){const e=ce.from(t).toHexString();return e[0]==="-"?new wd("-"+e.substring(3),16):new wd(e.substring(2),16)}function Wn(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),ro.throwError(t,se.errors.NUMERIC_FAULT,n)}function jE(t){return new wd(t,36).toString(16)}const nn=new se(Nb),ec={},Cb=ce.from(0),Eb=ce.from(-1);function Ab(t,e,r,n){const i={fault:e,operation:r};return n!==void 0&&(i.value=n),nn.throwError(t,se.errors.NUMERIC_FAULT,i)}let tc="0";for(;tc.length<256;)tc+=tc;function Sp(t){if(typeof t!="number")try{t=ce.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+tc.substring(0,t):nn.throwArgumentError("invalid decimal size","decimals",t)}function ad(t,e){e==null&&(e=0);const r=Sp(e);t=ce.from(t);const n=t.lt(Cb);n&&(t=t.mul(Eb));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const l=t.div(r).toString();return r.length===1?t=l:t=l+"."+i,n&&(t="-"+t),t}function Ps(t,e){e==null&&(e=0);const r=Sp(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&nn.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&nn.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&nn.throwArgumentError("too many decimal points","value",t);let l=i[0],c=i[1];for(l||(l="0"),c||(c="0");c[c.length-1]==="0";)c=c.substring(0,c.length-1);for(c.length>r.length-1&&Ab("fractional component exceeds decimals","underflow","parseFixed"),c===""&&(c="0");c.length<r.length-1;)c+="0";const d=ce.from(l),f=ce.from(c);let m=d.mul(r).add(f);return n&&(m=m.mul(Eb)),m}class Ga{constructor(e,r,n,i){e!==ec&&nn.throwError("cannot use FixedFormat constructor; use FixedFormat.from",se.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=Sp(i),Object.freeze(this)}static from(e){if(e instanceof Ga)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const l=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);l||nn.throwArgumentError("invalid fixed format","format",e),r=l[1]!=="u",n=parseInt(l[2]),i=parseInt(l[3])}}else if(e){const l=(c,d,f)=>e[c]==null?f:(typeof e[c]!==d&&nn.throwArgumentError("invalid fixed format ("+c+" not "+d+")","format."+c,e[c]),e[c]);r=l("signed","boolean",r),n=l("width","number",n),i=l("decimals","number",i)}return n%8&&nn.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&nn.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Ga(ec,r,n,i)}}class Or{constructor(e,r,n,i){e!==ec&&nn.throwError("cannot use FixedNumber constructor; use FixedNumber.from",se.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&nn.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=Ps(this._value,this.format.decimals),n=Ps(e._value,e.format.decimals);return Or.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=Ps(this._value,this.format.decimals),n=Ps(e._value,e.format.decimals);return Or.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=Ps(this._value,this.format.decimals),n=Ps(e._value,e.format.decimals);return Or.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=Ps(this._value,this.format.decimals),n=Ps(e._value,e.format.decimals);return Or.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=Or.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(cx.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=Or.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(cx.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&nn.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=Or.from("1"+tc.substring(0,e),this.format),i=RE.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&nn.throwArgumentError("invalid byte width","width",e);const r=ce.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Yt(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Or.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!PE(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),Or.fromString(ad(e,r),Ga.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=Ga.from(r),i=Ps(e,n.decimals);!n.signed&&i.lt(Cb)&&Ab("unsigned value cannot be negative","overflow","value",e);let l=null;n.signed?l=i.toTwos(n.width).toHexString():(l=i.toHexString(),l=Yt(l,n.width/8));const c=ad(i,n.decimals);return new Or(ec,l,c,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=Ga.from(r);if(Je(e).length>n.width/8)throw new Error("overflow");let i=ce.from(e);n.signed&&(i=i.fromTwos(n.width));const l=i.toTwos((n.signed?0:1)+n.width).toHexString(),c=ad(i,n.decimals);return new Or(ec,l,c,n)}static from(e,r){if(typeof e=="string")return Or.fromString(e,r);if(ol(e))return Or.fromBytes(e,r);try{return Or.fromValue(e,0,r)}catch(n){if(n.code!==se.errors.INVALID_ARGUMENT)throw n}return nn.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const cx=Or.from(1),RE=Or.from("0.5"),ME="properties/5.8.0";var IE=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(p){try{m(n.next(p))}catch(x){c(x)}}function f(p){try{m(n.throw(p))}catch(x){c(x)}}function m(p){p.done?l(p.value):i(p.value).then(d,f)}m((n=n.apply(t,e||[])).next())})};const kd=new se(ME);function me(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Rn(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function yr(t){return IE(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(l=>({key:n,value:l}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function _E(t,e){(!t||typeof t!="object")&&kd.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||kd.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function nr(t){const e={};for(const r in t)e[r]=t[r];return e}const DE={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Sb(t){if(t==null||DE[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!Sb(n))return!1}return!0}return kd.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function zE(t){if(Sb(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Mn(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&me(e,r,Mn(n))}return e}return kd.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Mn(t){return zE(t)}class Nc{constructor(e){for(const r in e)this[r]=Mn(e[r])}}const Cc="abi/5.8.0",Tt=new se(Cc),_i={};let ux={calldata:!0,memory:!0,storage:!0},LE={calldata:!0,memory:!0};function Lu(t,e){if(t==="bytes"||t==="string"){if(ux[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&LE[e])return!0;return(ux[e]||e==="payable")&&Tt.throwArgumentError("invalid modifier","name",e),!1}function OE(t,e){let r=t;function n(d){Tt.throwArgumentError(`unexpected character at position ${d}`,"param",t)}t=t.replace(/\s/g," ");function i(d){let f={type:"",name:"",parent:d,state:{allowType:!0}};return e&&(f.indexed=!1),f}let l={type:"",name:"",state:{allowType:!0}},c=l;for(let d=0;d<t.length;d++){let f=t[d];switch(f){case"(":c.state.allowType&&c.type===""?c.type="tuple":c.state.allowParams||n(d),c.state.allowType=!1,c.type=Ba(c.type),c.components=[i(c)],c=c.components[0];break;case")":delete c.state,c.name==="indexed"&&(e||n(d),c.indexed=!0,c.name=""),Lu(c.type,c.name)&&(c.name=""),c.type=Ba(c.type);let m=c;c=c.parent,c||n(d),delete m.parent,c.state.allowParams=!1,c.state.allowName=!0,c.state.allowArray=!0;break;case",":delete c.state,c.name==="indexed"&&(e||n(d),c.indexed=!0,c.name=""),Lu(c.type,c.name)&&(c.name=""),c.type=Ba(c.type);let p=i(c.parent);c.parent.components.push(p),delete c.parent,c=p;break;case" ":c.state.allowType&&c.type!==""&&(c.type=Ba(c.type),delete c.state.allowType,c.state.allowName=!0,c.state.allowParams=!0),c.state.allowName&&c.name!==""&&(c.name==="indexed"?(e||n(d),c.indexed&&n(d),c.indexed=!0,c.name=""):Lu(c.type,c.name)?c.name="":c.state.allowName=!1);break;case"[":c.state.allowArray||n(d),c.type+=f,c.state.allowArray=!1,c.state.allowName=!1,c.state.readArray=!0;break;case"]":c.state.readArray||n(d),c.type+=f,c.state.readArray=!1,c.state.allowArray=!0,c.state.allowName=!0;break;default:c.state.allowType?(c.type+=f,c.state.allowParams=!0,c.state.allowArray=!0):c.state.allowName?(c.name+=f,delete c.state.allowArray):c.state.readArray?c.type+=f:n(d)}}return c.parent&&Tt.throwArgumentError("unexpected eof","param",t),delete l.state,c.name==="indexed"?(e||n(r.length-7),c.indexed&&n(r.length-7),c.indexed=!0,c.name=""):Lu(c.type,c.name)&&(c.name=""),l.type=Ba(l.type),l}function ld(t,e){for(let r in e)me(t,r,e[r])}const Lt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),FE=new RegExp(/^(.*)\[([0-9]*)\]$/);class jr{constructor(e,r){e!==_i&&Tt.throwError("use fromString",se.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),ld(this,r);let n=this.type.match(FE);n?ld(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:jr.fromObject({type:n[1],components:this.components}),baseType:"array"}):ld(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Lt.sighash),Lt[e]||Tt.throwArgumentError("invalid format type","format",e),e===Lt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Lt.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===Lt.full?", ":",")+")"):r+=this.type,e!==Lt.sighash&&(this.indexed===!0&&(r+=" indexed"),e===Lt.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?jr.fromString(e,r):jr.fromObject(e)}static fromObject(e){return jr.isParamType(e)?e:new jr(_i,{name:e.name||null,type:Ba(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(jr.fromObject):null})}static fromString(e,r){function n(i){return jr.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(OE(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function cc(t,e){return UE(t).map(r=>jr.fromString(r,e))}class oo{constructor(e,r){e!==_i&&Tt.throwError("use a static from method",se.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),ld(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return oo.isFragment(e)?e:typeof e=="string"?oo.fromString(e):oo.fromObject(e)}static fromObject(e){if(oo.isFragment(e))return e;switch(e.type){case"function":return _s.fromObject(e);case"event":return so.fromObject(e);case"constructor":return Is.fromObject(e);case"error":return Go.fromObject(e);case"fallback":case"receive":return null}return Tt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?so.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?_s.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?Is.fromString(e.trim()):e.split(" ")[0]==="error"?Go.fromString(e.substring(5).trim()):Tt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class so extends oo{format(e){if(e||(e=Lt.sighash),Lt[e]||Tt.throwArgumentError("invalid format type","format",e),e===Lt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Lt.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Lt.full?", ":",")+") ",e!==Lt.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?so.fromString(e):so.fromObject(e)}static fromObject(e){if(so.isEventFragment(e))return e;e.type!=="event"&&Tt.throwArgumentError("invalid event object","value",e);const r={name:uc(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(jr.fromObject):[],type:"event"};return new so(_i,r)}static fromString(e){let r=e.match(dc);r||Tt.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:Tt.warn("unknown modifier: "+i)}}),so.fromObject({name:r[1].trim(),anonymous:n,inputs:cc(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function Tb(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&Tt.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Tt.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=ce.from(r[1]),r[0]):t}function Pb(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function jb(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&Tt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&Tt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&Tt.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Tt.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&Tt.throwArgumentError("unable to determine stateMutability","value",t),e}class Is extends oo{format(e){if(e||(e=Lt.sighash),Lt[e]||Tt.throwArgumentError("invalid format type","format",e),e===Lt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===Lt.sighash&&Tt.throwError("cannot format a constructor for sighash",se.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===Lt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?Is.fromString(e):Is.fromObject(e)}static fromObject(e){if(Is.isConstructorFragment(e))return e;e.type!=="constructor"&&Tt.throwArgumentError("invalid constructor object","value",e);let r=jb(e);r.constant&&Tt.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(jr.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ce.from(e.gas):null};return new Is(_i,n)}static fromString(e){let r={type:"constructor"};e=Tb(e,r);let n=e.match(dc);return(!n||n[1].trim()!=="constructor")&&Tt.throwArgumentError("invalid constructor string","value",e),r.inputs=cc(n[2].trim(),!1),Pb(n[3].trim(),r),Is.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class _s extends Is{format(e){if(e||(e=Lt.sighash),Lt[e]||Tt.throwArgumentError("invalid format type","format",e),e===Lt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Lt.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Lt.full?", ":",")+") ",e!==Lt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?_s.fromString(e):_s.fromObject(e)}static fromObject(e){if(_s.isFunctionFragment(e))return e;e.type!=="function"&&Tt.throwArgumentError("invalid function object","value",e);let r=jb(e);const n={type:e.type,name:uc(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(jr.fromObject):[],outputs:e.outputs?e.outputs.map(jr.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ce.from(e.gas):null};return new _s(_i,n)}static fromString(e){let r={type:"function"};e=Tb(e,r);let n=e.split(" returns ");n.length>2&&Tt.throwArgumentError("invalid function string","value",e);let i=n[0].match(dc);if(i||Tt.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&uc(r.name),r.inputs=cc(i[2],!1),Pb(i[3].trim(),r),n.length>1){let l=n[1].match(dc);(l[1].trim()!=""||l[3].trim()!="")&&Tt.throwArgumentError("unexpected tokens","value",e),r.outputs=cc(l[2],!1)}else r.outputs=[];return _s.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function dx(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Tt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class Go extends oo{format(e){if(e||(e=Lt.sighash),Lt[e]||Tt.throwArgumentError("invalid format type","format",e),e===Lt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Lt.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Lt.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?Go.fromString(e):Go.fromObject(e)}static fromObject(e){if(Go.isErrorFragment(e))return e;e.type!=="error"&&Tt.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:uc(e.name),inputs:e.inputs?e.inputs.map(jr.fromObject):[]};return dx(new Go(_i,r))}static fromString(e){let r={type:"error"},n=e.match(dc);return n||Tt.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&uc(r.name),r.inputs=cc(n[2],!1),dx(Go.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function Ba(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const BE=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function uc(t){return(!t||!t.match(BE))&&Tt.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const dc=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function UE(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let l=t[i];l===","&&n===0?(e.push(r),r=""):(r+=l,l==="("?n++:l===")"&&(n--,n===-1&&Tt.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const Tp=new se(Cc);function $E(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let l in i){const c=n.slice();c.push(l);try{r(c,i[l])}catch(d){e.push({path:c,error:d})}}};return r([],t),e}class ho{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){Tp.throwArgumentError(e,this.localName,r)}}class Vm{constructor(e){me(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return gn(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(jn(e._data))}writeBytes(e){let r=Je(e);const n=r.length%this.wordSize;return n&&(r=jn([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=Je(ce.from(e));return r.length>this.wordSize&&Tp.throwError("value out-of-bounds",se.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=jn([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class Nd{constructor(e,r,n,i){me(this,"_data",Je(e)),me(this,"wordSize",r||32),me(this,"_coerceFunc",n),me(this,"allowLoose",i),this._offset=0}get data(){return qe(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):Nd.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:Tp.throwError("data out-of-bounds",se.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new Nd(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return ce.from(this.readBytes(this.wordSize))}}var im={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */var fx;function WE(){return fx||(fx=1,function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var l=!n&&typeof self=="object",c=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;c?i=aC:l&&(i=self);var d=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,f=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",m="0123456789abcdef".split(""),p=[31,7936,2031616,520093696],x=[4,1024,262144,67108864],C=[1,256,65536,16777216],w=[6,1536,393216,100663296],P=[0,8,16,24],E=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],I=[224,256,384,512],D=[128,256],O=["hex","buffer","arrayBuffer","array","digest"],S={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(z){return Object.prototype.toString.call(z)==="[object Array]"}),f&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(z){return typeof z=="object"&&z.buffer&&z.buffer.constructor===ArrayBuffer});for(var U=function(z,Q,G){return function(J){return new y(z,Q,z).update(J)[G]()}},$=function(z,Q,G){return function(J,te){return new y(z,Q,te).update(J)[G]()}},H=function(z,Q,G){return function(J,te,ie,fe){return h["cshake"+z].update(J,te,ie,fe)[G]()}},V=function(z,Q,G){return function(J,te,ie,fe){return h["kmac"+z].update(J,te,ie,fe)[G]()}},W=function(z,Q,G,J){for(var te=0;te<O.length;++te){var ie=O[te];z[ie]=Q(G,J,ie)}return z},K=function(z,Q){var G=U(z,Q,"hex");return G.create=function(){return new y(z,Q,z)},G.update=function(J){return G.create().update(J)},W(G,U,z,Q)},Z=function(z,Q){var G=$(z,Q,"hex");return G.create=function(J){return new y(z,Q,J)},G.update=function(J,te){return G.create(te).update(J)},W(G,$,z,Q)},Y=function(z,Q){var G=S[z],J=H(z,Q,"hex");return J.create=function(te,ie,fe){return!ie&&!fe?h["shake"+z].create(te):new y(z,Q,te).bytepad([ie,fe],G)},J.update=function(te,ie,fe,ue){return J.create(ie,fe,ue).update(te)},W(J,H,z,Q)},q=function(z,Q){var G=S[z],J=V(z,Q,"hex");return J.create=function(te,ie,fe){return new F(z,Q,ie).bytepad(["KMAC",fe],G).bytepad([te],G)},J.update=function(te,ie,fe,ue){return J.create(te,fe,ue).update(ie)},W(J,V,z,Q)},R=[{name:"keccak",padding:C,bits:I,createMethod:K},{name:"sha3",padding:w,bits:I,createMethod:K},{name:"shake",padding:p,bits:D,createMethod:Z},{name:"cshake",padding:x,bits:D,createMethod:Y},{name:"kmac",padding:x,bits:D,createMethod:q}],h={},v=[],A=0;A<R.length;++A)for(var _=R[A],j=_.bits,T=0;T<j.length;++T){var L=_.name+"_"+j[T];if(v.push(L),h[L]=_.createMethod(j[T],_.padding),_.name!=="sha3"){var k=_.name+j[T];v.push(k),h[k]=h[L]}}function y(z,Q,G){this.blocks=[],this.s=[],this.padding=Q,this.outputBits=G,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(z<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=G>>5,this.extraBytes=(G&31)>>3;for(var J=0;J<50;++J)this.s[J]=0}y.prototype.update=function(z){if(this.finalized)throw new Error(r);var Q,G=typeof z;if(G!=="string"){if(G==="object"){if(z===null)throw new Error(e);if(f&&z.constructor===ArrayBuffer)z=new Uint8Array(z);else if(!Array.isArray(z)&&(!f||!ArrayBuffer.isView(z)))throw new Error(e)}else throw new Error(e);Q=!0}for(var J=this.blocks,te=this.byteCount,ie=z.length,fe=this.blockCount,ue=0,je=this.s,pe,Ae;ue<ie;){if(this.reset)for(this.reset=!1,J[0]=this.block,pe=1;pe<fe+1;++pe)J[pe]=0;if(Q)for(pe=this.start;ue<ie&&pe<te;++ue)J[pe>>2]|=z[ue]<<P[pe++&3];else for(pe=this.start;ue<ie&&pe<te;++ue)Ae=z.charCodeAt(ue),Ae<128?J[pe>>2]|=Ae<<P[pe++&3]:Ae<2048?(J[pe>>2]|=(192|Ae>>6)<<P[pe++&3],J[pe>>2]|=(128|Ae&63)<<P[pe++&3]):Ae<55296||Ae>=57344?(J[pe>>2]|=(224|Ae>>12)<<P[pe++&3],J[pe>>2]|=(128|Ae>>6&63)<<P[pe++&3],J[pe>>2]|=(128|Ae&63)<<P[pe++&3]):(Ae=65536+((Ae&1023)<<10|z.charCodeAt(++ue)&1023),J[pe>>2]|=(240|Ae>>18)<<P[pe++&3],J[pe>>2]|=(128|Ae>>12&63)<<P[pe++&3],J[pe>>2]|=(128|Ae>>6&63)<<P[pe++&3],J[pe>>2]|=(128|Ae&63)<<P[pe++&3]);if(this.lastByteIndex=pe,pe>=te){for(this.start=pe-te,this.block=J[fe],pe=0;pe<fe;++pe)je[pe]^=J[pe];ee(je),this.reset=!0}else this.start=pe}return this},y.prototype.encode=function(z,Q){var G=z&255,J=1,te=[G];for(z=z>>8,G=z&255;G>0;)te.unshift(G),z=z>>8,G=z&255,++J;return Q?te.push(J):te.unshift(J),this.update(te),te.length},y.prototype.encodeString=function(z){var Q,G=typeof z;if(G!=="string"){if(G==="object"){if(z===null)throw new Error(e);if(f&&z.constructor===ArrayBuffer)z=new Uint8Array(z);else if(!Array.isArray(z)&&(!f||!ArrayBuffer.isView(z)))throw new Error(e)}else throw new Error(e);Q=!0}var J=0,te=z.length;if(Q)J=te;else for(var ie=0;ie<z.length;++ie){var fe=z.charCodeAt(ie);fe<128?J+=1:fe<2048?J+=2:fe<55296||fe>=57344?J+=3:(fe=65536+((fe&1023)<<10|z.charCodeAt(++ie)&1023),J+=4)}return J+=this.encode(J*8),this.update(z),J},y.prototype.bytepad=function(z,Q){for(var G=this.encode(Q),J=0;J<z.length;++J)G+=this.encodeString(z[J]);var te=Q-G%Q,ie=[];return ie.length=te,this.update(ie),this},y.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var z=this.blocks,Q=this.lastByteIndex,G=this.blockCount,J=this.s;if(z[Q>>2]|=this.padding[Q&3],this.lastByteIndex===this.byteCount)for(z[0]=z[G],Q=1;Q<G+1;++Q)z[Q]=0;for(z[G-1]|=2147483648,Q=0;Q<G;++Q)J[Q]^=z[Q];ee(J)}},y.prototype.toString=y.prototype.hex=function(){this.finalize();for(var z=this.blockCount,Q=this.s,G=this.outputBlocks,J=this.extraBytes,te=0,ie=0,fe="",ue;ie<G;){for(te=0;te<z&&ie<G;++te,++ie)ue=Q[te],fe+=m[ue>>4&15]+m[ue&15]+m[ue>>12&15]+m[ue>>8&15]+m[ue>>20&15]+m[ue>>16&15]+m[ue>>28&15]+m[ue>>24&15];ie%z===0&&(ee(Q),te=0)}return J&&(ue=Q[te],fe+=m[ue>>4&15]+m[ue&15],J>1&&(fe+=m[ue>>12&15]+m[ue>>8&15]),J>2&&(fe+=m[ue>>20&15]+m[ue>>16&15])),fe},y.prototype.arrayBuffer=function(){this.finalize();var z=this.blockCount,Q=this.s,G=this.outputBlocks,J=this.extraBytes,te=0,ie=0,fe=this.outputBits>>3,ue;J?ue=new ArrayBuffer(G+1<<2):ue=new ArrayBuffer(fe);for(var je=new Uint32Array(ue);ie<G;){for(te=0;te<z&&ie<G;++te,++ie)je[ie]=Q[te];ie%z===0&&ee(Q)}return J&&(je[te]=Q[te],ue=ue.slice(0,fe)),ue},y.prototype.buffer=y.prototype.arrayBuffer,y.prototype.digest=y.prototype.array=function(){this.finalize();for(var z=this.blockCount,Q=this.s,G=this.outputBlocks,J=this.extraBytes,te=0,ie=0,fe=[],ue,je;ie<G;){for(te=0;te<z&&ie<G;++te,++ie)ue=ie<<2,je=Q[te],fe[ue]=je&255,fe[ue+1]=je>>8&255,fe[ue+2]=je>>16&255,fe[ue+3]=je>>24&255;ie%z===0&&ee(Q)}return J&&(ue=ie<<2,je=Q[te],fe[ue]=je&255,J>1&&(fe[ue+1]=je>>8&255),J>2&&(fe[ue+2]=je>>16&255)),fe};function F(z,Q,G){y.call(this,z,Q,G)}F.prototype=new y,F.prototype.finalize=function(){return this.encode(this.outputBits,!0),y.prototype.finalize.call(this)};var ee=function(z){var Q,G,J,te,ie,fe,ue,je,pe,Ae,gt,$e,He,Nt,Ke,Ve,De,Re,Se,ht,ke,Ne,mt,Oe,Le,Pt,at,yt,pr,jt,dt,_r,xt,Rt,or,Ct,ft,fr,Mt,Ee,rt,Ge,st,tr,it,ot,Kt,vt,At,Jr,It,_t,Qn,$t,Ft,Dr,Bt,Ut,zn,on,yn,an,xn;for(J=0;J<48;J+=2)te=z[0]^z[10]^z[20]^z[30]^z[40],ie=z[1]^z[11]^z[21]^z[31]^z[41],fe=z[2]^z[12]^z[22]^z[32]^z[42],ue=z[3]^z[13]^z[23]^z[33]^z[43],je=z[4]^z[14]^z[24]^z[34]^z[44],pe=z[5]^z[15]^z[25]^z[35]^z[45],Ae=z[6]^z[16]^z[26]^z[36]^z[46],gt=z[7]^z[17]^z[27]^z[37]^z[47],$e=z[8]^z[18]^z[28]^z[38]^z[48],He=z[9]^z[19]^z[29]^z[39]^z[49],Q=$e^(fe<<1|ue>>>31),G=He^(ue<<1|fe>>>31),z[0]^=Q,z[1]^=G,z[10]^=Q,z[11]^=G,z[20]^=Q,z[21]^=G,z[30]^=Q,z[31]^=G,z[40]^=Q,z[41]^=G,Q=te^(je<<1|pe>>>31),G=ie^(pe<<1|je>>>31),z[2]^=Q,z[3]^=G,z[12]^=Q,z[13]^=G,z[22]^=Q,z[23]^=G,z[32]^=Q,z[33]^=G,z[42]^=Q,z[43]^=G,Q=fe^(Ae<<1|gt>>>31),G=ue^(gt<<1|Ae>>>31),z[4]^=Q,z[5]^=G,z[14]^=Q,z[15]^=G,z[24]^=Q,z[25]^=G,z[34]^=Q,z[35]^=G,z[44]^=Q,z[45]^=G,Q=je^($e<<1|He>>>31),G=pe^(He<<1|$e>>>31),z[6]^=Q,z[7]^=G,z[16]^=Q,z[17]^=G,z[26]^=Q,z[27]^=G,z[36]^=Q,z[37]^=G,z[46]^=Q,z[47]^=G,Q=Ae^(te<<1|ie>>>31),G=gt^(ie<<1|te>>>31),z[8]^=Q,z[9]^=G,z[18]^=Q,z[19]^=G,z[28]^=Q,z[29]^=G,z[38]^=Q,z[39]^=G,z[48]^=Q,z[49]^=G,Nt=z[0],Ke=z[1],ot=z[11]<<4|z[10]>>>28,Kt=z[10]<<4|z[11]>>>28,yt=z[20]<<3|z[21]>>>29,pr=z[21]<<3|z[20]>>>29,on=z[31]<<9|z[30]>>>23,yn=z[30]<<9|z[31]>>>23,Ge=z[40]<<18|z[41]>>>14,st=z[41]<<18|z[40]>>>14,Rt=z[2]<<1|z[3]>>>31,or=z[3]<<1|z[2]>>>31,Ve=z[13]<<12|z[12]>>>20,De=z[12]<<12|z[13]>>>20,vt=z[22]<<10|z[23]>>>22,At=z[23]<<10|z[22]>>>22,jt=z[33]<<13|z[32]>>>19,dt=z[32]<<13|z[33]>>>19,an=z[42]<<2|z[43]>>>30,xn=z[43]<<2|z[42]>>>30,$t=z[5]<<30|z[4]>>>2,Ft=z[4]<<30|z[5]>>>2,Ct=z[14]<<6|z[15]>>>26,ft=z[15]<<6|z[14]>>>26,Re=z[25]<<11|z[24]>>>21,Se=z[24]<<11|z[25]>>>21,Jr=z[34]<<15|z[35]>>>17,It=z[35]<<15|z[34]>>>17,_r=z[45]<<29|z[44]>>>3,xt=z[44]<<29|z[45]>>>3,Oe=z[6]<<28|z[7]>>>4,Le=z[7]<<28|z[6]>>>4,Dr=z[17]<<23|z[16]>>>9,Bt=z[16]<<23|z[17]>>>9,fr=z[26]<<25|z[27]>>>7,Mt=z[27]<<25|z[26]>>>7,ht=z[36]<<21|z[37]>>>11,ke=z[37]<<21|z[36]>>>11,_t=z[47]<<24|z[46]>>>8,Qn=z[46]<<24|z[47]>>>8,tr=z[8]<<27|z[9]>>>5,it=z[9]<<27|z[8]>>>5,Pt=z[18]<<20|z[19]>>>12,at=z[19]<<20|z[18]>>>12,Ut=z[29]<<7|z[28]>>>25,zn=z[28]<<7|z[29]>>>25,Ee=z[38]<<8|z[39]>>>24,rt=z[39]<<8|z[38]>>>24,Ne=z[48]<<14|z[49]>>>18,mt=z[49]<<14|z[48]>>>18,z[0]=Nt^~Ve&Re,z[1]=Ke^~De&Se,z[10]=Oe^~Pt&yt,z[11]=Le^~at&pr,z[20]=Rt^~Ct&fr,z[21]=or^~ft&Mt,z[30]=tr^~ot&vt,z[31]=it^~Kt&At,z[40]=$t^~Dr&Ut,z[41]=Ft^~Bt&zn,z[2]=Ve^~Re&ht,z[3]=De^~Se&ke,z[12]=Pt^~yt&jt,z[13]=at^~pr&dt,z[22]=Ct^~fr&Ee,z[23]=ft^~Mt&rt,z[32]=ot^~vt&Jr,z[33]=Kt^~At&It,z[42]=Dr^~Ut&on,z[43]=Bt^~zn&yn,z[4]=Re^~ht&Ne,z[5]=Se^~ke&mt,z[14]=yt^~jt&_r,z[15]=pr^~dt&xt,z[24]=fr^~Ee&Ge,z[25]=Mt^~rt&st,z[34]=vt^~Jr&_t,z[35]=At^~It&Qn,z[44]=Ut^~on&an,z[45]=zn^~yn&xn,z[6]=ht^~Ne&Nt,z[7]=ke^~mt&Ke,z[16]=jt^~_r&Oe,z[17]=dt^~xt&Le,z[26]=Ee^~Ge&Rt,z[27]=rt^~st&or,z[36]=Jr^~_t&tr,z[37]=It^~Qn&it,z[46]=on^~an&$t,z[47]=yn^~xn&Ft,z[8]=Ne^~Nt&Ve,z[9]=mt^~Ke&De,z[18]=_r^~Oe&Pt,z[19]=xt^~Le&at,z[28]=Ge^~Rt&Ct,z[29]=st^~or&ft,z[38]=_t^~tr&ot,z[39]=Qn^~it&Kt,z[48]=an^~$t&Dr,z[49]=xn^~Ft&Bt,z[0]^=E[J],z[1]^=E[J+1]};if(d)t.exports=h;else for(A=0;A<v.length;++A)i[v[A]]=h[v[A]]})()}(im)),im.exports}var qE=WE();const HE=rl(qE);function Er(t){return"0x"+HE.keccak_256(Je(t))}const GE="rlp/5.8.0",Rs=new se(GE);function hx(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function mx(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function Rb(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(l){n=n.concat(Rb(l))}),n.length<=55)return n.unshift(192+n.length),n;const i=hx(n.length);return i.unshift(247+i.length),i.concat(n)}Ap(t)||Rs.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Je(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=hx(e.length);return r.unshift(183+r.length),r.concat(e)}function Wd(t){return qe(Rb(t))}function px(t,e,r,n){const i=[];for(;r<e+1+n;){const l=Mb(t,r);i.push(l.result),r+=l.consumed,r>e+1+n&&Rs.throwError("child data too short",se.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function Mb(t,e){if(t.length===0&&Rs.throwError("data too short",se.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&Rs.throwError("data short segment too short",se.errors.BUFFER_OVERRUN,{});const n=mx(t,e+1,r);return e+1+r+n>t.length&&Rs.throwError("data long segment too short",se.errors.BUFFER_OVERRUN,{}),px(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&Rs.throwError("data array too short",se.errors.BUFFER_OVERRUN,{}),px(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&Rs.throwError("data array too short",se.errors.BUFFER_OVERRUN,{});const n=mx(t,e+1,r);e+1+r+n>t.length&&Rs.throwError("data array too short",se.errors.BUFFER_OVERRUN,{});const i=qe(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&Rs.throwError("data too short",se.errors.BUFFER_OVERRUN,{});const n=qe(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:qe(t[e])}}function Pp(t){const e=Je(t),r=Mb(e,0);return r.consumed!==e.length&&Rs.throwArgumentError("invalid rlp data","data",t),r.result}const VE="address/5.8.0",Ua=new se(VE);function gx(t){pt(t,20)||Ua.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Je(Er(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const KE=9007199254740991;function YE(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const jp={};for(let t=0;t<10;t++)jp[String(t)]=String(t);for(let t=0;t<26;t++)jp[String.fromCharCode(65+t)]=String(10+t);const yx=Math.floor(YE(KE));function QE(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>jp[n]).join("");for(;e.length>=yx;){let n=e.substring(0,yx);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Rr(t){let e=null;if(typeof t!="string"&&Ua.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=gx(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Ua.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==QE(t)&&Ua.throwArgumentError("bad icap checksum","address",t),e=jE(t.substring(4));e.length<40;)e="0"+e;e=gx("0x"+e)}else Ua.throwArgumentError("invalid address","address",t);return e}function Kl(t){try{return Rr(t),!0}catch{}return!1}function Ib(t){let e=null;try{e=Rr(t.from)}catch{Ua.throwArgumentError("missing from address","transaction",t)}const r=Xa(Je(ce.from(t.nonce).toHexString()));return Rr(Gr(Er(Wd([e,r])),12))}class JE extends ho{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Rr(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Rr(Yt(e.readValue().toHexString(),20))}}class XE extends ho{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const $a=new se(Cc);function _b(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let f={};n=e.map(m=>{const p=m.localName;return p||$a.throwError("cannot encode object for signature with missing names",se.errors.INVALID_ARGUMENT,{argument:"values",coder:m,value:r}),f[p]&&$a.throwError("cannot encode object for signature with duplicate names",se.errors.INVALID_ARGUMENT,{argument:"values",coder:m,value:r}),f[p]=!0,r[p]})}else $a.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&$a.throwArgumentError("types/value length mismatch","tuple",r);let i=new Vm(t.wordSize),l=new Vm(t.wordSize),c=[];e.forEach((f,m)=>{let p=n[m];if(f.dynamic){let x=l.length;f.encode(l,p);let C=i.writeUpdatableValue();c.push(w=>{C(w+x)})}else f.encode(i,p)}),c.forEach(f=>{f(i.length)});let d=t.appendWriter(i);return d+=t.appendWriter(l),d}function Db(t,e){let r=[],n=t.subReader(0);e.forEach(l=>{let c=null;if(l.dynamic){let d=t.readValue(),f=n.subReader(d.toNumber());try{c=l.decode(f)}catch(m){if(m.code===se.errors.BUFFER_OVERRUN)throw m;c=m,c.baseType=l.name,c.name=l.localName,c.type=l.type}}else try{c=l.decode(t)}catch(d){if(d.code===se.errors.BUFFER_OVERRUN)throw d;c=d,c.baseType=l.name,c.name=l.localName,c.type=l.type}c!=null&&r.push(c)});const i=e.reduce((l,c)=>{const d=c.localName;return d&&(l[d]||(l[d]=0),l[d]++),l},{});e.forEach((l,c)=>{let d=l.localName;if(!d||i[d]!==1||(d==="length"&&(d="_length"),r[d]!=null))return;const f=r[c];f instanceof Error?Object.defineProperty(r,d,{enumerable:!0,get:()=>{throw f}}):r[d]=f});for(let l=0;l<r.length;l++){const c=r[l];c instanceof Error&&Object.defineProperty(r,l,{enumerable:!0,get:()=>{throw c}})}return Object.freeze(r)}class ZE extends ho{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",l=r===-1||e.dynamic;super("array",i,n,l),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),$a.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let l=0;l<r.length;l++)i.push(this.coder);return _b(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&$a.throwError("insufficient data length",se.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new XE(this.coder));return e.coerce(this.name,Db(e,n))}}class eA extends ho{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class zb extends ho{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=Je(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class tA extends zb{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,qe(super.decode(e)))}}class rA extends ho{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=Je(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,qe(e.readBytes(this.size)))}}class nA extends ho{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const Pe="0x0000000000000000000000000000000000000000",sA=ce.from(-1),Lb=ce.from(0),oA=ce.from(1),iA=ce.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),aA="0x0000000000000000000000000000000000000000000000000000000000000000";class lA extends ho{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=ce.from(r),i=iA.mask(e.wordSize*8);if(this.signed){let l=i.mask(this.size*8-1);(n.gt(l)||n.lt(l.add(oA).mul(sA)))&&this._throwError("value out-of-bounds",r)}else(n.lt(Lb)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}const cA="strings/5.8.0",Ob=new se(cA);var fc;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(fc||(fc={}));var Sn;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Sn||(Sn={}));function uA(t,e,r,n,i){return Ob.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function Fb(t,e,r,n,i){if(t===Sn.BAD_PREFIX||t===Sn.UNEXPECTED_CONTINUE){let l=0;for(let c=e+1;c<r.length&&r[c]>>6===2;c++)l++;return l}return t===Sn.OVERRUN?r.length-e-1:0}function dA(t,e,r,n,i){return t===Sn.OVERLONG?(n.push(i),0):(n.push(65533),Fb(t,e,r))}const fA=Object.freeze({error:uA,ignore:Fb,replace:dA});function Bb(t,e){e==null&&(e=fA.error),t=Je(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let l=null,c=null;if((i&224)===192)l=1,c=127;else if((i&240)===224)l=2,c=2047;else if((i&248)===240)l=3,c=65535;else{(i&192)===128?n+=e(Sn.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Sn.BAD_PREFIX,n-1,t,r);continue}if(n-1+l>=t.length){n+=e(Sn.OVERRUN,n-1,t,r);continue}let d=i&(1<<8-l-1)-1;for(let f=0;f<l;f++){let m=t[n];if((m&192)!=128){n+=e(Sn.MISSING_CONTINUE,n,t,r),d=null;break}d=d<<6|m&63,n++}if(d!==null){if(d>1114111){n+=e(Sn.OUT_OF_RANGE,n-1-l,t,r,d);continue}if(d>=55296&&d<=57343){n+=e(Sn.UTF16_SURROGATE,n-1-l,t,r,d);continue}if(d<=c){n+=e(Sn.OVERLONG,n-1-l,t,r,d);continue}r.push(d)}}return r}function Bs(t,e=fc.current){e!=fc.current&&(Ob.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const l=t.charCodeAt(n);if(n>=t.length||(l&64512)!==56320)throw new Error("invalid utf-8 string");const c=65536+((i&1023)<<10)+(l&1023);r.push(c>>18|240),r.push(c>>12&63|128),r.push(c>>6&63|128),r.push(c&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Je(r)}function hA(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Ec(t,e){return hA(Bb(t,e))}function mA(t,e=fc.current){return Bb(Bs(t,e))}class pA extends zb{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Bs(r))}decode(e){return Ec(super.decode(e))}}class Ou extends ho{constructor(e,r){let n=!1;const i=[];e.forEach(c=>{c.dynamic&&(n=!0),i.push(c.type)});const l="tuple("+i.join(",")+")";super("tuple",l,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const l=i.localName;return l&&(n[l]||(n[l]=0),n[l]++),n},{});return this.coders.forEach((n,i)=>{let l=n.localName;!l||r[l]!==1||(l==="length"&&(l="_length"),e[l]==null&&(e[l]=e[i]))}),Object.freeze(e)}encode(e,r){return _b(e,this.coders,r)}decode(e){return e.coerce(this.name,Db(e,this.coders))}}const Fu=new se(Cc),gA=new RegExp(/^bytes([0-9]*)$/),yA=new RegExp(/^(u?int)([0-9]*)$/);class xA{constructor(e){me(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new JE(e.name);case"bool":return new eA(e.name);case"string":return new pA(e.name);case"bytes":return new tA(e.name);case"array":return new ZE(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Ou((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new nA(e.name)}let r=e.type.match(yA);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&Fu.throwArgumentError("invalid "+r[1]+" bit length","param",e),new lA(n/8,r[1]==="int",e.name)}if(r=e.type.match(gA),r){let n=parseInt(r[1]);return(n===0||n>32)&&Fu.throwArgumentError("invalid bytes length","param",e),new rA(n,e.name)}return Fu.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new Nd(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new Vm(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(jr.from(i)));return new Ou(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&Fu.throwError("types/values length mismatch",se.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(c=>this._getCoder(jr.from(c))),i=new Ou(n,"_"),l=this._getWriter();return i.encode(l,r),l.data}decode(e,r,n){const i=e.map(c=>this._getCoder(jr.from(c)));return new Ou(i,"_").decode(this._getReader(Je(r),n))}}const vA=new xA;function Yo(t){return Er(Bs(t))}const Ub="hash/5.8.0";function $b(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Je(e)}function Wb(t){t=Je(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function qb(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(l,c){n.call(l,function(d){c>0&&Array.isArray(d)?i(d,c-1):r.push(d)})};return i(t,e),r}function bA(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function wA(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,l=[0,1];for(let $=1;$<n;$++)l.push(i+=r());let c=r(),d=e;e+=c;let f=0,m=0;function p(){return f==0&&(m=m<<8|t[e++],f=8),m>>--f&1}const x=31,C=Math.pow(2,x),w=C>>>1,P=w>>1,E=C-1;let I=0;for(let $=0;$<x;$++)I=I<<1|p();let D=[],O=0,S=C;for(;;){let $=Math.floor(((I-O+1)*i-1)/S),H=0,V=n;for(;V-H>1;){let Z=H+V>>>1;$<l[Z]?V=Z:H=Z}if(H==0)break;D.push(H);let W=O+Math.floor(S*l[H]/i),K=O+Math.floor(S*l[H+1]/i)-1;for(;((W^K)&w)==0;)I=I<<1&E|p(),W=W<<1&E,K=K<<1&E|1;for(;W&~K&P;)I=I&w|I<<1&E>>>1|p(),W=W<<1^w,K=(K^w)<<1|w|1;O=W,S=1+K-W}let U=n-4;return D.map($=>{switch($-U){case 3:return U+65792+(t[d++]<<16|t[d++]<<8|t[d++]);case 2:return U+256+(t[d++]<<8|t[d++]);case 1:return U+t[d++];default:return $-1}})}function kA(t){let e=0;return()=>t[e++]}function NA(t){return kA(wA(t))}function CA(t){return t&1?~t>>1:t>>1}function EA(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function xx(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function AA(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=CA(e());return r}function Cd(t,e){let r=xx(t(),t),n=t(),i=xx(n,t),l=EA(n,t);for(let c=0;c<n;c++)for(let d=0;d<l[c];d++)r.push(i[c]+d);return e?r.map(c=>e[c]):r}function SA(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(PA(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(jA(r,t))}return bA(qb(e))}function TA(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function Hb(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)AA(t,r).forEach((l,c)=>n[c].push(l));return n}function PA(t,e){let r=1+e(),n=e(),i=TA(e),l=Hb(i.length,1+t,e);return qb(l.map((c,d)=>{const f=c[0],m=c.slice(1);return Array(i[d]).fill(void 0).map((p,x)=>{let C=x*n;return[f+x*r,m.map(w=>w+C)]})}))}function jA(t,e){let r=1+e();return Hb(r,1+t,e).map(i=>[i[0],i.slice(1)])}function RA(t){let e=Cd(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let m=Cd(t,e);if(m.length==0)break;n.push({set:new Set(m),node:r()})}n.sort((m,p)=>p.set.size-m.set.size);let i=t(),l=i%3;i=i/3|0;let c=!!(i&1);i>>=1;let d=i==1,f=i==2;return{branches:n,valid:l,fe0f:c,save:d,check:f}}}function MA(){return NA($b("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const qd=MA(),IA=new Set(Cd(qd)),_A=new Set(Cd(qd)),DA=SA(qd),zA=RA(qd),vx=45,bx=95;function Gb(t){return mA(t)}function LA(t){return t.filter(e=>e!=65039)}function Vb(t){for(let e of t.split(".")){let r=Gb(e);try{for(let n=r.lastIndexOf(bx)-1;n>=0;n--)if(r[n]!==bx)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===vx&&r[3]===vx)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function OA(t){return Vb(FA(t,LA))}function FA(t,e){let r=Gb(t).reverse(),n=[];for(;r.length;){let i=UA(r);if(i){n.push(...e(i));continue}let l=r.pop();if(IA.has(l)){n.push(l);continue}if(_A.has(l))continue;let c=DA[l];if(c){n.push(...c);continue}throw new Error(`Disallowed codepoint: 0x${l.toString(16).toUpperCase()}`)}return Vb(BA(String.fromCodePoint(...n)))}function BA(t){return t.normalize("NFC")}function UA(t,e){var r;let n=zA,i,l,c=[],d=t.length;for(;d;){let f=t[--d];if(n=(r=n.branches.find(m=>m.set.has(f)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)l=f;else if(n.check&&f===l)break;c.push(f),n.fe0f&&(c.push(65039),d>0&&t[d-1]==65039&&d--),n.valid&&(i=c.slice(),n.valid==2&&i.splice(1,1),t.length=d)}return i}const $A=new se(Ub),Kb=new Uint8Array(32);Kb.fill(0);function wx(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function Yb(t){const e=Bs(OA(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(wx(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(wx(e.slice(n))),r}function cd(t){typeof t!="string"&&$A.throwArgumentError("invalid ENS name; not a string","name",t);let e=Kb;const r=Yb(t);for(;r.length;)e=Er(jn([e,Er(r.pop())]));return qe(e)}function WA(t){return qe(jn(Yb(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}var qA=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(p){try{m(n.next(p))}catch(x){c(x)}}function f(p){try{m(n.throw(p))}catch(x){c(x)}}function m(p){p.done?l(p.value):i(p.value).then(d,f)}m((n=n.apply(t,e||[])).next())})};const cr=new se(Ub),Qb=new Uint8Array(32);Qb.fill(0);const HA=ce.from(-1),Jb=ce.from(0),Xb=ce.from(1),GA=ce.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function VA(t){const e=Je(t),r=e.length%32;return r?gn([e,Qb.slice(r)]):qe(e)}const KA=Yt(Xb.toHexString(),32),YA=Yt(Jb.toHexString(),32),kx={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},am=["name","version","chainId","verifyingContract","salt"];function Nx(t){return function(e){return typeof e!="string"&&cr.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const QA={name:Nx("name"),version:Nx("version"),chainId:function(t){try{return ce.from(t).toString()}catch{}return cr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Rr(t).toLowerCase()}catch{}return cr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Je(t);if(e.length!==32)throw new Error("bad length");return qe(e)}catch{}return cr.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function lm(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&cr.throwArgumentError("invalid numeric width","type",t);const i=GA.mask(r?n-1:n),l=r?i.add(Xb).mul(HA):Jb;return function(c){const d=ce.from(c);return(d.lt(l)||d.gt(i))&&cr.throwArgumentError(`value out-of-bounds for ${t}`,"value",c),Yt(d.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&cr.throwArgumentError("invalid bytes width","type",t),function(n){return Je(n).length!==r&&cr.throwArgumentError(`invalid length for ${t}`,"value",n),VA(n)}}}switch(t){case"address":return function(e){return Yt(Rr(e),32)};case"bool":return function(e){return e?KA:YA};case"bytes":return function(e){return Er(e)};case"string":return function(e){return Yo(e)}}return null}function Cx(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class An{constructor(e){me(this,"types",Object.freeze(Mn(e))),me(this,"_encoderCache",{}),me(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(d=>{r[d]={},n[d]=[],i[d]={}});for(const d in e){const f={};e[d].forEach(m=>{f[m.name]&&cr.throwArgumentError(`duplicate variable name ${JSON.stringify(m.name)} in ${JSON.stringify(d)}`,"types",e),f[m.name]=!0;const p=m.type.match(/^([^\x5b]*)(\x5b|$)/)[1];p===d&&cr.throwArgumentError(`circular type reference to ${JSON.stringify(p)}`,"types",e),!lm(p)&&(n[p]||cr.throwArgumentError(`unknown type ${JSON.stringify(p)}`,"types",e),n[p].push(d),r[d][p]=!0)})}const l=Object.keys(n).filter(d=>n[d].length===0);l.length===0?cr.throwArgumentError("missing primary type","types",e):l.length>1&&cr.throwArgumentError(`ambiguous primary types or unused types: ${l.map(d=>JSON.stringify(d)).join(", ")}`,"types",e),me(this,"primaryType",l[0]);function c(d,f){f[d]&&cr.throwArgumentError(`circular type reference to ${JSON.stringify(d)}`,"types",e),f[d]=!0,Object.keys(r[d]).forEach(m=>{n[m]&&(c(m,f),Object.keys(f).forEach(p=>{i[p][m]=!0}))}),delete f[d]}c(this.primaryType,{});for(const d in i){const f=Object.keys(i[d]);f.sort(),this._types[d]=Cx(d,e[d])+f.map(m=>Cx(m,e[m])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=lm(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],l=this.getEncoder(i),c=parseInt(r[3]);return d=>{c>=0&&d.length!==c&&cr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",d);let f=d.map(l);return this._types[i]&&(f=f.map(Er)),Er(gn(f))}}const n=this.types[e];if(n){const i=Yo(this._types[e]);return l=>{const c=n.map(({name:d,type:f})=>{const m=this.getEncoder(f)(l[d]);return this._types[f]?Er(m):m});return c.unshift(i),gn(c)}}return cr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||cr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return Er(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(lm(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const c=i[1],d=parseInt(i[3]);return d>=0&&r.length!==d&&cr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(f=>this._visit(c,f,n))}const l=this.types[e];return l?l.reduce((c,{name:d,type:f})=>(c[d]=this._visit(f,r[d],n),c),{}):cr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new An(e)}static getPrimaryType(e){return An.from(e).primaryType}static hashStruct(e,r,n){return An.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=kx[n];i||cr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>am.indexOf(n.name)-am.indexOf(i.name)),An.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return gn(["0x1901",An.hashDomain(e),An.from(r).hash(n)])}static hash(e,r,n){return Er(An.encode(e,r,n))}static resolveNames(e,r,n,i){return qA(this,void 0,void 0,function*(){e=nr(e);const l={};e.verifyingContract&&!pt(e.verifyingContract,20)&&(l[e.verifyingContract]="0x");const c=An.from(r);c.visit(n,(d,f)=>(d==="address"&&!pt(f,20)&&(l[f]="0x"),f));for(const d in l)l[d]=yield i(d);return e.verifyingContract&&l[e.verifyingContract]&&(e.verifyingContract=l[e.verifyingContract]),n=c.visit(n,(d,f)=>d==="address"&&l[f]?l[f]:f),{domain:e,value:n}})}static getPayload(e,r,n){An.hashDomain(e);const i={},l=[];am.forEach(f=>{const m=e[f];m!=null&&(i[f]=QA[f](m),l.push({name:f,type:kx[f]}))});const c=An.from(r),d=nr(r);return d.EIP712Domain?cr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):d.EIP712Domain=l,c.encode(n),{types:d,domain:i,primaryType:c.primaryType,message:c.visit(n,(f,m)=>{if(f.match(/^bytes(\d*)/))return qe(Je(m));if(f.match(/^u?int/))return ce.from(m).toString();switch(f){case"address":return m.toLowerCase();case"bool":return!!m;case"string":return typeof m!="string"&&cr.throwArgumentError("invalid string","value",m),m}return cr.throwArgumentError("unsupported type","type",f)})}}}const lr=new se(Cc);class JA extends Nc{}class XA extends Nc{}class ZA extends Nc{}class Km extends Nc{static isIndexed(e){return!!(e&&e._isIndexed)}}const eS={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Ex(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class Ym{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,me(this,"fragments",r.map(n=>oo.from(n)).filter(n=>n!=null)),me(this,"_abiCoder",Rn(new.target,"getAbiCoder")()),me(this,"functions",{}),me(this,"errors",{}),me(this,"events",{}),me(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){lr.warn("duplicate definition - constructor");return}me(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let l=n.format();if(i[l]){lr.warn("duplicate definition - "+l);return}i[l]=n}),this.deploy||me(this,"deploy",Is.from({payable:!1,type:"constructor"})),me(this,"_isInterface",!0)}format(e){e||(e=Lt.full),e===Lt.sighash&&lr.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===Lt.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return vA}static getAddress(e){return Rr(e)}static getSighash(e){return Gr(Yo(e.format()),0,4)}static getEventTopic(e){return Yo(e.format())}getFunction(e){if(pt(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];lr.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(l=>l.split("(")[0]===n);return i.length===0?lr.throwArgumentError("no matching function","name",n):i.length>1&&lr.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[_s.fromString(e).format()];return r||lr.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(pt(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];lr.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(l=>l.split("(")[0]===n);return i.length===0?lr.throwArgumentError("no matching event","name",n):i.length>1&&lr.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[so.fromString(e).format()];return r||lr.throwArgumentError("no matching event","signature",e),r}getError(e){if(pt(e)){const n=Rn(this.constructor,"getSighash");for(const i in this.errors){const l=this.errors[i];if(e===n(l))return this.errors[i]}lr.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(l=>l.split("(")[0]===n);return i.length===0?lr.throwArgumentError("no matching error","name",n):i.length>1&&lr.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[_s.fromString(e).format()];return r||lr.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return Rn(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Rn(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=Je(r);return qe(n.slice(0,4))!==this.getSighash(e)&&lr.throwArgumentError(`data signature does not match error ${e.name}.`,"data",qe(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),qe(jn([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=Je(r);return qe(n.slice(0,4))!==this.getSighash(e)&&lr.throwArgumentError(`data signature does not match function ${e.name}.`,"data",qe(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),qe(jn([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=Je(r),i=null,l="",c=null,d=null,f=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const m=qe(n.slice(0,4)),p=eS[m];if(p)c=this._abiCoder.decode(p.inputs,n.slice(4)),d=p.name,f=p.signature,p.reason&&(i=c[0]),d==="Error"?l=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(c[0])}`:d==="Panic"&&(l=`; VM Exception while processing transaction: reverted with panic code ${c[0]}`);else try{const x=this.getError(m);c=this._abiCoder.decode(x.inputs,n.slice(4)),d=x.name,f=x.format()}catch{}break}}return lr.throwError("call revert exception"+l,se.errors.CALL_EXCEPTION,{method:e.format(),data:qe(r),errorArgs:c,errorName:d,errorSignature:f,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),qe(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&lr.throwError("too many arguments for "+e.format(),se.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(l,c)=>l.type==="string"?Yo(c):l.type==="bytes"?Er(qe(c)):(l.type==="bool"&&typeof c=="boolean"&&(c=c?"0x01":"0x00"),l.type.match(/^u?int/)&&(c=ce.from(c).toHexString()),l.type==="address"&&this._abiCoder.encode(["address"],[c]),Yt(qe(c),32));for(r.forEach((l,c)=>{let d=e.inputs[c];if(!d.indexed){l!=null&&lr.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+d.name,l);return}l==null?n.push(null):d.baseType==="array"||d.baseType==="tuple"?lr.throwArgumentError("filtering with tuples or arrays not supported","contract."+d.name,l):Array.isArray(l)?n.push(l.map(f=>i(d,f))):n.push(i(d,l))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],l=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&lr.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((c,d)=>{const f=r[d];if(c.indexed)if(c.type==="string")n.push(Yo(f));else if(c.type==="bytes")n.push(Er(f));else{if(c.baseType==="tuple"||c.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([c.type],[f]))}else i.push(c),l.push(f)}),{data:this._abiCoder.encode(i,l),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let C=this.getEventTopic(e);(!pt(n[0],32)||n[0].toLowerCase()!==C)&&lr.throwError("fragment/topic mismatch",se.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:C,value:n[0]}),n=n.slice(1)}let i=[],l=[],c=[];e.inputs.forEach((C,w)=>{C.indexed?C.type==="string"||C.type==="bytes"||C.baseType==="tuple"||C.baseType==="array"?(i.push(jr.fromObject({type:"bytes32",name:C.name})),c.push(!0)):(i.push(C),c.push(!1)):(l.push(C),c.push(!1))});let d=n!=null?this._abiCoder.decode(i,jn(n)):null,f=this._abiCoder.decode(l,r,!0),m=[],p=0,x=0;e.inputs.forEach((C,w)=>{if(C.indexed)if(d==null)m[w]=new Km({_isIndexed:!0,hash:null});else if(c[w])m[w]=new Km({_isIndexed:!0,hash:d[x++]});else try{m[w]=d[x++]}catch(P){m[w]=P}else try{m[w]=f[p++]}catch(P){m[w]=P}if(C.name&&m[C.name]==null){const P=m[w];P instanceof Error?Object.defineProperty(m,C.name,{enumerable:!0,get:()=>{throw Ex(`property ${JSON.stringify(C.name)}`,P)}}):m[C.name]=P}});for(let C=0;C<m.length;C++){const w=m[C];w instanceof Error&&Object.defineProperty(m,C,{enumerable:!0,get:()=>{throw Ex(`index ${C}`,w)}})}return Object.freeze(m)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new XA({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:ce.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new JA({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=qe(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new ZA({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const tS="abstract-provider/5.8.0";var rS=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(p){try{m(n.next(p))}catch(x){c(x)}}function f(p){try{m(n.throw(p))}catch(x){c(x)}}function m(p){p.done?l(p.value):i(p.value).then(d,f)}m((n=n.apply(t,e||[])).next())})};const nS=new se(tS);class sS extends Nc{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class Ac{constructor(){nS.checkAbstract(new.target,Ac),me(this,"_isProvider",!0)}getFeeData(){return rS(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield yr({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(c=>null)});let n=null,i=null,l=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,l=ce.from("1500000000"),i=e.baseFeePerGas.mul(2).add(l)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:l,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const oS="abstract-signer/5.8.0";var as=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(p){try{m(n.next(p))}catch(x){c(x)}}function f(p){try{m(n.throw(p))}catch(x){c(x)}}function m(p){p.done?l(p.value):i(p.value).then(d,f)}m((n=n.apply(t,e||[])).next())})};const qn=new se(oS),iS=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],aS=[se.errors.INSUFFICIENT_FUNDS,se.errors.NONCE_EXPIRED,se.errors.REPLACEMENT_UNDERPRICED];class Sc{constructor(){qn.checkAbstract(new.target,Sc),me(this,"_isSigner",!0)}getBalance(e){return as(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return as(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return as(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield yr(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return as(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield yr(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return as(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return as(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return as(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return as(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return as(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)iS.indexOf(n)===-1&&qn.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=nr(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&qn.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return as(this,void 0,void 0,function*(){const r=yield yr(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>as(this,void 0,void 0,function*(){if(i==null)return null;const l=yield this.resolveName(i);return l==null&&qn.throwArgumentError("provided ENS name resolves to null","tx.to",i),l})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?qn.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&qn.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const l=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=l,r.maxPriorityFeePerGas=l}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&qn.throwError("network does not support EIP-1559",se.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):qn.throwError("failed to get consistent fee data",se.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(aS.indexOf(i.code)>=0)throw i;return qn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",se.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&qn.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield yr(r)})}_checkProvider(e){this.provider||qn.throwError("missing provider",se.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class Rp extends Sc{constructor(e,r){super(),me(this,"address",e),me(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{qn.throwError(e,se.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new Rp(this.address,e)}}var cm={},Gt={},um,Ax;function Tc(){if(Ax)return um;Ax=1,um=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},um}var Bu={exports:{}},Sx;function lS(){return Sx||(Sx=1,typeof Object.create=="function"?Bu.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Bu.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),Bu.exports}var Tx;function Ws(){if(Tx)return Gt;Tx=1;var t=Tc(),e=lS();Gt.inherits=e;function r(q,R){return(q.charCodeAt(R)&64512)!==55296||R<0||R+1>=q.length?!1:(q.charCodeAt(R+1)&64512)===56320}function n(q,R){if(Array.isArray(q))return q.slice();if(!q)return[];var h=[];if(typeof q=="string")if(R){if(R==="hex")for(q=q.replace(/[^a-z0-9]+/ig,""),q.length%2!==0&&(q="0"+q),A=0;A<q.length;A+=2)h.push(parseInt(q[A]+q[A+1],16))}else for(var v=0,A=0;A<q.length;A++){var _=q.charCodeAt(A);_<128?h[v++]=_:_<2048?(h[v++]=_>>6|192,h[v++]=_&63|128):r(q,A)?(_=65536+((_&1023)<<10)+(q.charCodeAt(++A)&1023),h[v++]=_>>18|240,h[v++]=_>>12&63|128,h[v++]=_>>6&63|128,h[v++]=_&63|128):(h[v++]=_>>12|224,h[v++]=_>>6&63|128,h[v++]=_&63|128)}else for(A=0;A<q.length;A++)h[A]=q[A]|0;return h}Gt.toArray=n;function i(q){for(var R="",h=0;h<q.length;h++)R+=d(q[h].toString(16));return R}Gt.toHex=i;function l(q){var R=q>>>24|q>>>8&65280|q<<8&16711680|(q&255)<<24;return R>>>0}Gt.htonl=l;function c(q,R){for(var h="",v=0;v<q.length;v++){var A=q[v];R==="little"&&(A=l(A)),h+=f(A.toString(16))}return h}Gt.toHex32=c;function d(q){return q.length===1?"0"+q:q}Gt.zero2=d;function f(q){return q.length===7?"0"+q:q.length===6?"00"+q:q.length===5?"000"+q:q.length===4?"0000"+q:q.length===3?"00000"+q:q.length===2?"000000"+q:q.length===1?"0000000"+q:q}Gt.zero8=f;function m(q,R,h,v){var A=h-R;t(A%4===0);for(var _=new Array(A/4),j=0,T=R;j<_.length;j++,T+=4){var L;v==="big"?L=q[T]<<24|q[T+1]<<16|q[T+2]<<8|q[T+3]:L=q[T+3]<<24|q[T+2]<<16|q[T+1]<<8|q[T],_[j]=L>>>0}return _}Gt.join32=m;function p(q,R){for(var h=new Array(q.length*4),v=0,A=0;v<q.length;v++,A+=4){var _=q[v];R==="big"?(h[A]=_>>>24,h[A+1]=_>>>16&255,h[A+2]=_>>>8&255,h[A+3]=_&255):(h[A+3]=_>>>24,h[A+2]=_>>>16&255,h[A+1]=_>>>8&255,h[A]=_&255)}return h}Gt.split32=p;function x(q,R){return q>>>R|q<<32-R}Gt.rotr32=x;function C(q,R){return q<<R|q>>>32-R}Gt.rotl32=C;function w(q,R){return q+R>>>0}Gt.sum32=w;function P(q,R,h){return q+R+h>>>0}Gt.sum32_3=P;function E(q,R,h,v){return q+R+h+v>>>0}Gt.sum32_4=E;function I(q,R,h,v,A){return q+R+h+v+A>>>0}Gt.sum32_5=I;function D(q,R,h,v){var A=q[R],_=q[R+1],j=v+_>>>0,T=(j<v?1:0)+h+A;q[R]=T>>>0,q[R+1]=j}Gt.sum64=D;function O(q,R,h,v){var A=R+v>>>0,_=(A<R?1:0)+q+h;return _>>>0}Gt.sum64_hi=O;function S(q,R,h,v){var A=R+v;return A>>>0}Gt.sum64_lo=S;function U(q,R,h,v,A,_,j,T){var L=0,k=R;k=k+v>>>0,L+=k<R?1:0,k=k+_>>>0,L+=k<_?1:0,k=k+T>>>0,L+=k<T?1:0;var y=q+h+A+j+L;return y>>>0}Gt.sum64_4_hi=U;function $(q,R,h,v,A,_,j,T){var L=R+v+_+T;return L>>>0}Gt.sum64_4_lo=$;function H(q,R,h,v,A,_,j,T,L,k){var y=0,F=R;F=F+v>>>0,y+=F<R?1:0,F=F+_>>>0,y+=F<_?1:0,F=F+T>>>0,y+=F<T?1:0,F=F+k>>>0,y+=F<k?1:0;var ee=q+h+A+j+L+y;return ee>>>0}Gt.sum64_5_hi=H;function V(q,R,h,v,A,_,j,T,L,k){var y=R+v+_+T+k;return y>>>0}Gt.sum64_5_lo=V;function W(q,R,h){var v=R<<32-h|q>>>h;return v>>>0}Gt.rotr64_hi=W;function K(q,R,h){var v=q<<32-h|R>>>h;return v>>>0}Gt.rotr64_lo=K;function Z(q,R,h){return q>>>h}Gt.shr64_hi=Z;function Y(q,R,h){var v=q<<32-h|R>>>h;return v>>>0}return Gt.shr64_lo=Y,Gt}var dm={},Px;function Pc(){if(Px)return dm;Px=1;var t=Ws(),e=Tc();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return dm.BlockHash=r,r.prototype.update=function(i,l){if(i=t.toArray(i,l),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var c=i.length%this._delta8;this.pending=i.slice(i.length-c,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-c,this.endian);for(var d=0;d<i.length;d+=this._delta32)this._update(i,d,d+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,l=this._delta8,c=l-(i+this.padLength)%l,d=new Array(c+this.padLength);d[0]=128;for(var f=1;f<c;f++)d[f]=0;if(i<<=3,this.endian==="big"){for(var m=8;m<this.padLength;m++)d[f++]=0;d[f++]=0,d[f++]=0,d[f++]=0,d[f++]=0,d[f++]=i>>>24&255,d[f++]=i>>>16&255,d[f++]=i>>>8&255,d[f++]=i&255}else for(d[f++]=i&255,d[f++]=i>>>8&255,d[f++]=i>>>16&255,d[f++]=i>>>24&255,d[f++]=0,d[f++]=0,d[f++]=0,d[f++]=0,m=8;m<this.padLength;m++)d[f++]=0;return d},dm}var Ti={},Ts={},jx;function Zb(){if(jx)return Ts;jx=1;var t=Ws(),e=t.rotr32;function r(p,x,C,w){if(p===0)return n(x,C,w);if(p===1||p===3)return l(x,C,w);if(p===2)return i(x,C,w)}Ts.ft_1=r;function n(p,x,C){return p&x^~p&C}Ts.ch32=n;function i(p,x,C){return p&x^p&C^x&C}Ts.maj32=i;function l(p,x,C){return p^x^C}Ts.p32=l;function c(p){return e(p,2)^e(p,13)^e(p,22)}Ts.s0_256=c;function d(p){return e(p,6)^e(p,11)^e(p,25)}Ts.s1_256=d;function f(p){return e(p,7)^e(p,18)^p>>>3}Ts.g0_256=f;function m(p){return e(p,17)^e(p,19)^p>>>10}return Ts.g1_256=m,Ts}var fm,Rx;function cS(){if(Rx)return fm;Rx=1;var t=Ws(),e=Pc(),r=Zb(),n=t.rotl32,i=t.sum32,l=t.sum32_5,c=r.ft_1,d=e.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function m(){if(!(this instanceof m))return new m;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(m,d),fm=m,m.blockSize=512,m.outSize=160,m.hmacStrength=80,m.padLength=64,m.prototype._update=function(x,C){for(var w=this.W,P=0;P<16;P++)w[P]=x[C+P];for(;P<w.length;P++)w[P]=n(w[P-3]^w[P-8]^w[P-14]^w[P-16],1);var E=this.h[0],I=this.h[1],D=this.h[2],O=this.h[3],S=this.h[4];for(P=0;P<w.length;P++){var U=~~(P/20),$=l(n(E,5),c(U,I,D,O),S,w[P],f[U]);S=O,O=D,D=n(I,30),I=E,E=$}this.h[0]=i(this.h[0],E),this.h[1]=i(this.h[1],I),this.h[2]=i(this.h[2],D),this.h[3]=i(this.h[3],O),this.h[4]=i(this.h[4],S)},m.prototype._digest=function(x){return x==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},fm}var hm,Mx;function ew(){if(Mx)return hm;Mx=1;var t=Ws(),e=Pc(),r=Zb(),n=Tc(),i=t.sum32,l=t.sum32_4,c=t.sum32_5,d=r.ch32,f=r.maj32,m=r.s0_256,p=r.s1_256,x=r.g0_256,C=r.g1_256,w=e.BlockHash,P=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function E(){if(!(this instanceof E))return new E;w.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=P,this.W=new Array(64)}return t.inherits(E,w),hm=E,E.blockSize=512,E.outSize=256,E.hmacStrength=192,E.padLength=64,E.prototype._update=function(D,O){for(var S=this.W,U=0;U<16;U++)S[U]=D[O+U];for(;U<S.length;U++)S[U]=l(C(S[U-2]),S[U-7],x(S[U-15]),S[U-16]);var $=this.h[0],H=this.h[1],V=this.h[2],W=this.h[3],K=this.h[4],Z=this.h[5],Y=this.h[6],q=this.h[7];for(n(this.k.length===S.length),U=0;U<S.length;U++){var R=c(q,p(K),d(K,Z,Y),this.k[U],S[U]),h=i(m($),f($,H,V));q=Y,Y=Z,Z=K,K=i(W,R),W=V,V=H,H=$,$=i(R,h)}this.h[0]=i(this.h[0],$),this.h[1]=i(this.h[1],H),this.h[2]=i(this.h[2],V),this.h[3]=i(this.h[3],W),this.h[4]=i(this.h[4],K),this.h[5]=i(this.h[5],Z),this.h[6]=i(this.h[6],Y),this.h[7]=i(this.h[7],q)},E.prototype._digest=function(D){return D==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},hm}var mm,Ix;function uS(){if(Ix)return mm;Ix=1;var t=Ws(),e=ew();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),mm=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},mm}var pm,_x;function tw(){if(_x)return pm;_x=1;var t=Ws(),e=Pc(),r=Tc(),n=t.rotr64_hi,i=t.rotr64_lo,l=t.shr64_hi,c=t.shr64_lo,d=t.sum64,f=t.sum64_hi,m=t.sum64_lo,p=t.sum64_4_hi,x=t.sum64_4_lo,C=t.sum64_5_hi,w=t.sum64_5_lo,P=e.BlockHash,E=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function I(){if(!(this instanceof I))return new I;P.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=E,this.W=new Array(160)}t.inherits(I,P),pm=I,I.blockSize=1024,I.outSize=512,I.hmacStrength=192,I.padLength=128,I.prototype._prepareBlock=function(h,v){for(var A=this.W,_=0;_<32;_++)A[_]=h[v+_];for(;_<A.length;_+=2){var j=Y(A[_-4],A[_-3]),T=q(A[_-4],A[_-3]),L=A[_-14],k=A[_-13],y=K(A[_-30],A[_-29]),F=Z(A[_-30],A[_-29]),ee=A[_-32],z=A[_-31];A[_]=p(j,T,L,k,y,F,ee,z),A[_+1]=x(j,T,L,k,y,F,ee,z)}},I.prototype._update=function(h,v){this._prepareBlock(h,v);var A=this.W,_=this.h[0],j=this.h[1],T=this.h[2],L=this.h[3],k=this.h[4],y=this.h[5],F=this.h[6],ee=this.h[7],z=this.h[8],Q=this.h[9],G=this.h[10],J=this.h[11],te=this.h[12],ie=this.h[13],fe=this.h[14],ue=this.h[15];r(this.k.length===A.length);for(var je=0;je<A.length;je+=2){var pe=fe,Ae=ue,gt=V(z,Q),$e=W(z,Q),He=D(z,Q,G,J,te),Nt=O(z,Q,G,J,te,ie),Ke=this.k[je],Ve=this.k[je+1],De=A[je],Re=A[je+1],Se=C(pe,Ae,gt,$e,He,Nt,Ke,Ve,De,Re),ht=w(pe,Ae,gt,$e,He,Nt,Ke,Ve,De,Re);pe=$(_,j),Ae=H(_,j),gt=S(_,j,T,L,k),$e=U(_,j,T,L,k,y);var ke=f(pe,Ae,gt,$e),Ne=m(pe,Ae,gt,$e);fe=te,ue=ie,te=G,ie=J,G=z,J=Q,z=f(F,ee,Se,ht),Q=m(ee,ee,Se,ht),F=k,ee=y,k=T,y=L,T=_,L=j,_=f(Se,ht,ke,Ne),j=m(Se,ht,ke,Ne)}d(this.h,0,_,j),d(this.h,2,T,L),d(this.h,4,k,y),d(this.h,6,F,ee),d(this.h,8,z,Q),d(this.h,10,G,J),d(this.h,12,te,ie),d(this.h,14,fe,ue)},I.prototype._digest=function(h){return h==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function D(R,h,v,A,_){var j=R&v^~R&_;return j<0&&(j+=4294967296),j}function O(R,h,v,A,_,j){var T=h&A^~h&j;return T<0&&(T+=4294967296),T}function S(R,h,v,A,_){var j=R&v^R&_^v&_;return j<0&&(j+=4294967296),j}function U(R,h,v,A,_,j){var T=h&A^h&j^A&j;return T<0&&(T+=4294967296),T}function $(R,h){var v=n(R,h,28),A=n(h,R,2),_=n(h,R,7),j=v^A^_;return j<0&&(j+=4294967296),j}function H(R,h){var v=i(R,h,28),A=i(h,R,2),_=i(h,R,7),j=v^A^_;return j<0&&(j+=4294967296),j}function V(R,h){var v=n(R,h,14),A=n(R,h,18),_=n(h,R,9),j=v^A^_;return j<0&&(j+=4294967296),j}function W(R,h){var v=i(R,h,14),A=i(R,h,18),_=i(h,R,9),j=v^A^_;return j<0&&(j+=4294967296),j}function K(R,h){var v=n(R,h,1),A=n(R,h,8),_=l(R,h,7),j=v^A^_;return j<0&&(j+=4294967296),j}function Z(R,h){var v=i(R,h,1),A=i(R,h,8),_=c(R,h,7),j=v^A^_;return j<0&&(j+=4294967296),j}function Y(R,h){var v=n(R,h,19),A=n(h,R,29),_=l(R,h,6),j=v^A^_;return j<0&&(j+=4294967296),j}function q(R,h){var v=i(R,h,19),A=i(h,R,29),_=c(R,h,6),j=v^A^_;return j<0&&(j+=4294967296),j}return pm}var gm,Dx;function dS(){if(Dx)return gm;Dx=1;var t=Ws(),e=tw();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),gm=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},gm}var zx;function fS(){return zx||(zx=1,Ti.sha1=cS(),Ti.sha224=uS(),Ti.sha256=ew(),Ti.sha384=dS(),Ti.sha512=tw()),Ti}var ym={},Lx;function hS(){if(Lx)return ym;Lx=1;var t=Ws(),e=Pc(),r=t.rotl32,n=t.sum32,i=t.sum32_3,l=t.sum32_4,c=e.BlockHash;function d(){if(!(this instanceof d))return new d;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(d,c),ym.ripemd160=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(I,D){for(var O=this.h[0],S=this.h[1],U=this.h[2],$=this.h[3],H=this.h[4],V=O,W=S,K=U,Z=$,Y=H,q=0;q<80;q++){var R=n(r(l(O,f(q,S,U,$),I[x[q]+D],m(q)),w[q]),H);O=H,H=$,$=r(U,10),U=S,S=R,R=n(r(l(V,f(79-q,W,K,Z),I[C[q]+D],p(q)),P[q]),Y),V=Y,Y=Z,Z=r(K,10),K=W,W=R}R=i(this.h[1],U,Z),this.h[1]=i(this.h[2],$,Y),this.h[2]=i(this.h[3],H,V),this.h[3]=i(this.h[4],O,W),this.h[4]=i(this.h[0],S,K),this.h[0]=R},d.prototype._digest=function(I){return I==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function f(E,I,D,O){return E<=15?I^D^O:E<=31?I&D|~I&O:E<=47?(I|~D)^O:E<=63?I&O|D&~O:I^(D|~O)}function m(E){return E<=15?0:E<=31?1518500249:E<=47?1859775393:E<=63?2400959708:2840853838}function p(E){return E<=15?1352829926:E<=31?1548603684:E<=47?1836072691:E<=63?2053994217:0}var x=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],C=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],w=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],P=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ym}var xm,Ox;function mS(){if(Ox)return xm;Ox=1;var t=Ws(),e=Tc();function r(n,i,l){if(!(this instanceof r))return new r(n,i,l);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,l))}return xm=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var l=i.length;l<this.blockSize;l++)i.push(0);for(l=0;l<i.length;l++)i[l]^=54;for(this.inner=new this.Hash().update(i),l=0;l<i.length;l++)i[l]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,l){return this.inner.update(i,l),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},xm}var Fx;function pS(){return Fx||(Fx=1,function(t){var e=t;e.utils=Ws(),e.common=Pc(),e.sha=fS(),e.ripemd=hS(),e.hmac=mS(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(cm)),cm}var gS=pS();const js=rl(gS);function il(t,e,r){return r={path:e,exports:{},require:function(n,i){return yS(n,i??r.path)}},t(r,r.exports),r.exports}function yS(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Mp=rw;function rw(t,e){if(!t)throw new Error(e||"Assertion failed")}rw.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var ps=il(function(t,e){var r=e;function n(c,d){if(Array.isArray(c))return c.slice();if(!c)return[];var f=[];if(typeof c!="string"){for(var m=0;m<c.length;m++)f[m]=c[m]|0;return f}if(d==="hex"){c=c.replace(/[^a-z0-9]+/ig,""),c.length%2!==0&&(c="0"+c);for(var m=0;m<c.length;m+=2)f.push(parseInt(c[m]+c[m+1],16))}else for(var m=0;m<c.length;m++){var p=c.charCodeAt(m),x=p>>8,C=p&255;x?f.push(x,C):f.push(C)}return f}r.toArray=n;function i(c){return c.length===1?"0"+c:c}r.zero2=i;function l(c){for(var d="",f=0;f<c.length;f++)d+=i(c[f].toString(16));return d}r.toHex=l,r.encode=function(d,f){return f==="hex"?l(d):d}}),Dn=il(function(t,e){var r=e;r.assert=Mp,r.toArray=ps.toArray,r.zero2=ps.zero2,r.toHex=ps.toHex,r.encode=ps.encode;function n(f,m,p){var x=new Array(Math.max(f.bitLength(),p)+1),C;for(C=0;C<x.length;C+=1)x[C]=0;var w=1<<m+1,P=f.clone();for(C=0;C<x.length;C++){var E,I=P.andln(w-1);P.isOdd()?(I>(w>>1)-1?E=(w>>1)-I:E=I,P.isubn(E)):E=0,x[C]=E,P.iushrn(1)}return x}r.getNAF=n;function i(f,m){var p=[[],[]];f=f.clone(),m=m.clone();for(var x=0,C=0,w;f.cmpn(-x)>0||m.cmpn(-C)>0;){var P=f.andln(3)+x&3,E=m.andln(3)+C&3;P===3&&(P=-1),E===3&&(E=-1);var I;(P&1)===0?I=0:(w=f.andln(7)+x&7,(w===3||w===5)&&E===2?I=-P:I=P),p[0].push(I);var D;(E&1)===0?D=0:(w=m.andln(7)+C&7,(w===3||w===5)&&P===2?D=-E:D=E),p[1].push(D),2*x===I+1&&(x=1-x),2*C===D+1&&(C=1-C),f.iushrn(1),m.iushrn(1)}return p}r.getJSF=i;function l(f,m,p){var x="_"+m;f.prototype[m]=function(){return this[x]!==void 0?this[x]:this[x]=p.call(this)}}r.cachedProperty=l;function c(f){return typeof f=="string"?r.toArray(f,"hex"):f}r.parseBytes=c;function d(f){return new tt(f,"hex","le")}r.intFromLE=d}),Ed=Dn.getNAF,xS=Dn.getJSF,Ad=Dn.assert;function ri(t,e){this.type=t,this.p=new tt(e.p,16),this.red=e.prime?tt.red(e.prime):tt.mont(this.p),this.zero=new tt(0).toRed(this.red),this.one=new tt(1).toRed(this.red),this.two=new tt(2).toRed(this.red),this.n=e.n&&new tt(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Qi=ri;ri.prototype.point=function(){throw new Error("Not implemented")};ri.prototype.validate=function(){throw new Error("Not implemented")};ri.prototype._fixedNafMul=function(e,r){Ad(e.precomputed);var n=e._getDoubles(),i=Ed(r,1,this._bitLength),l=(1<<n.step+1)-(n.step%2===0?2:1);l/=3;var c=[],d,f;for(d=0;d<i.length;d+=n.step){f=0;for(var m=d+n.step-1;m>=d;m--)f=(f<<1)+i[m];c.push(f)}for(var p=this.jpoint(null,null,null),x=this.jpoint(null,null,null),C=l;C>0;C--){for(d=0;d<c.length;d++)f=c[d],f===C?x=x.mixedAdd(n.points[d]):f===-C&&(x=x.mixedAdd(n.points[d].neg()));p=p.add(x)}return p.toP()};ri.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var l=i.points,c=Ed(r,n,this._bitLength),d=this.jpoint(null,null,null),f=c.length-1;f>=0;f--){for(var m=0;f>=0&&c[f]===0;f--)m++;if(f>=0&&m++,d=d.dblp(m),f<0)break;var p=c[f];Ad(p!==0),e.type==="affine"?p>0?d=d.mixedAdd(l[p-1>>1]):d=d.mixedAdd(l[-p-1>>1].neg()):p>0?d=d.add(l[p-1>>1]):d=d.add(l[-p-1>>1].neg())}return e.type==="affine"?d.toP():d};ri.prototype._wnafMulAdd=function(e,r,n,i,l){var c=this._wnafT1,d=this._wnafT2,f=this._wnafT3,m=0,p,x,C;for(p=0;p<i;p++){C=r[p];var w=C._getNAFPoints(e);c[p]=w.wnd,d[p]=w.points}for(p=i-1;p>=1;p-=2){var P=p-1,E=p;if(c[P]!==1||c[E]!==1){f[P]=Ed(n[P],c[P],this._bitLength),f[E]=Ed(n[E],c[E],this._bitLength),m=Math.max(f[P].length,m),m=Math.max(f[E].length,m);continue}var I=[r[P],null,null,r[E]];r[P].y.cmp(r[E].y)===0?(I[1]=r[P].add(r[E]),I[2]=r[P].toJ().mixedAdd(r[E].neg())):r[P].y.cmp(r[E].y.redNeg())===0?(I[1]=r[P].toJ().mixedAdd(r[E]),I[2]=r[P].add(r[E].neg())):(I[1]=r[P].toJ().mixedAdd(r[E]),I[2]=r[P].toJ().mixedAdd(r[E].neg()));var D=[-3,-1,-5,-7,0,7,5,1,3],O=xS(n[P],n[E]);for(m=Math.max(O[0].length,m),f[P]=new Array(m),f[E]=new Array(m),x=0;x<m;x++){var S=O[0][x]|0,U=O[1][x]|0;f[P][x]=D[(S+1)*3+(U+1)],f[E][x]=0,d[P]=I}}var $=this.jpoint(null,null,null),H=this._wnafT4;for(p=m;p>=0;p--){for(var V=0;p>=0;){var W=!0;for(x=0;x<i;x++)H[x]=f[x][p]|0,H[x]!==0&&(W=!1);if(!W)break;V++,p--}if(p>=0&&V++,$=$.dblp(V),p<0)break;for(x=0;x<i;x++){var K=H[x];K!==0&&(K>0?C=d[x][K-1>>1]:K<0&&(C=d[x][-K-1>>1].neg()),C.type==="affine"?$=$.mixedAdd(C):$=$.add(C))}}for(p=0;p<i;p++)d[p]=null;return l?$:$.toP()};function Kn(t,e){this.curve=t,this.type=e,this.precomputed=null}ri.BasePoint=Kn;Kn.prototype.eq=function(){throw new Error("Not implemented")};Kn.prototype.validate=function(){return this.curve.validate(this)};ri.prototype.decodePoint=function(e,r){e=Dn.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Ad(e[e.length-1]%2===0):e[0]===7&&Ad(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Kn.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Kn.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Kn.prototype.encode=function(e,r){return Dn.encode(this._encode(r),e)};Kn.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Kn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Kn.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,l=0;l<r;l+=e){for(var c=0;c<e;c++)i=i.dbl();n.push(i)}return{step:e,points:n}};Kn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),l=1;l<n;l++)r[l]=r[l-1].add(i);return{wnd:e,points:r}};Kn.prototype._getBeta=function(){return null};Kn.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var Ip=il(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),vS=Dn.assert;function Yn(t){Qi.call(this,"short",t),this.a=new tt(t.a,16).toRed(this.red),this.b=new tt(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Ip(Yn,Qi);var bS=Yn;Yn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new tt(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new tt(e.lambda,16);else{var l=this._getEndoRoots(this.n);this.g.mul(l[0]).x.cmp(this.g.x.redMul(r))===0?n=l[0]:(n=l[1],vS(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var c;return e.basis?c=e.basis.map(function(d){return{a:new tt(d.a,16),b:new tt(d.b,16)}}):c=this._getEndoBasis(n),{beta:r,lambda:n,basis:c}}};Yn.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:tt.mont(e),n=new tt(2).toRed(r).redInvm(),i=n.redNeg(),l=new tt(3).toRed(r).redNeg().redSqrt().redMul(n),c=i.redAdd(l).fromRed(),d=i.redSub(l).fromRed();return[c,d]};Yn.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),l=new tt(1),c=new tt(0),d=new tt(0),f=new tt(1),m,p,x,C,w,P,E,I=0,D,O;n.cmpn(0)!==0;){var S=i.div(n);D=i.sub(S.mul(n)),O=d.sub(S.mul(l));var U=f.sub(S.mul(c));if(!x&&D.cmp(r)<0)m=E.neg(),p=l,x=D.neg(),C=O;else if(x&&++I===2)break;E=D,i=n,n=D,d=l,l=O,f=c,c=U}w=D.neg(),P=O;var $=x.sqr().add(C.sqr()),H=w.sqr().add(P.sqr());return H.cmp($)>=0&&(w=m,P=p),x.negative&&(x=x.neg(),C=C.neg()),w.negative&&(w=w.neg(),P=P.neg()),[{a:x,b:C},{a:w,b:P}]};Yn.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],l=i.b.mul(e).divRound(this.n),c=n.b.neg().mul(e).divRound(this.n),d=l.mul(n.a),f=c.mul(i.a),m=l.mul(n.b),p=c.mul(i.b),x=e.sub(d).sub(f),C=m.add(p).neg();return{k1:x,k2:C}};Yn.prototype.pointFromX=function(e,r){e=new tt(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var l=i.fromRed().isOdd();return(r&&!l||!r&&l)&&(i=i.redNeg()),this.point(e,i)};Yn.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),l=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(l).cmpn(0)===0};Yn.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,l=this._endoWnafT2,c=0;c<e.length;c++){var d=this._endoSplit(r[c]),f=e[c],m=f._getBeta();d.k1.negative&&(d.k1.ineg(),f=f.neg(!0)),d.k2.negative&&(d.k2.ineg(),m=m.neg(!0)),i[c*2]=f,i[c*2+1]=m,l[c*2]=d.k1,l[c*2+1]=d.k2}for(var p=this._wnafMulAdd(1,i,l,c*2,n),x=0;x<c*2;x++)i[x]=null,l[x]=null;return p};function Mr(t,e,r,n){Qi.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new tt(e,16),this.y=new tt(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Ip(Mr,Qi.BasePoint);Yn.prototype.point=function(e,r,n){return new Mr(this,e,r,n)};Yn.prototype.pointFromJSON=function(e,r){return Mr.fromJSON(this,e,r)};Mr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(l){return n.point(l.x.redMul(n.endo.beta),l.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Mr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Mr.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function l(d){return e.point(d[0],d[1],n)}var c=r[2];return i.precomputed={beta:null,doubles:c.doubles&&{step:c.doubles.step,points:[i].concat(c.doubles.points.map(l))},naf:c.naf&&{wnd:c.naf.wnd,points:[i].concat(c.naf.points.map(l))}},i};Mr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Mr.prototype.isInfinity=function(){return this.inf};Mr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Mr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),l=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),c=l.redSqr().redISub(this.x.redAdd(this.x)),d=l.redMul(this.x.redSub(c)).redISub(this.y);return this.curve.point(c,d)};Mr.prototype.getX=function(){return this.x.fromRed()};Mr.prototype.getY=function(){return this.y.fromRed()};Mr.prototype.mul=function(e){return e=new tt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Mr.prototype.mulAdd=function(e,r,n){var i=[this,r],l=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,l):this.curve._wnafMulAdd(1,i,l,2)};Mr.prototype.jmulAdd=function(e,r,n){var i=[this,r],l=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,l,!0):this.curve._wnafMulAdd(1,i,l,2,!0)};Mr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Mr.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(l){return l.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Mr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Fr(t,e,r,n){Qi.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new tt(0)):(this.x=new tt(e,16),this.y=new tt(r,16),this.z=new tt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Ip(Fr,Qi.BasePoint);Yn.prototype.jpoint=function(e,r,n){return new Fr(this,e,r,n)};Fr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Fr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Fr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),l=e.x.redMul(n),c=this.y.redMul(r.redMul(e.z)),d=e.y.redMul(n.redMul(this.z)),f=i.redSub(l),m=c.redSub(d);if(f.cmpn(0)===0)return m.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var p=f.redSqr(),x=p.redMul(f),C=i.redMul(p),w=m.redSqr().redIAdd(x).redISub(C).redISub(C),P=m.redMul(C.redISub(w)).redISub(c.redMul(x)),E=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(w,P,E)};Fr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),l=this.y,c=e.y.redMul(r).redMul(this.z),d=n.redSub(i),f=l.redSub(c);if(d.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=d.redSqr(),p=m.redMul(d),x=n.redMul(m),C=f.redSqr().redIAdd(p).redISub(x).redISub(x),w=f.redMul(x.redISub(C)).redISub(l.redMul(p)),P=this.z.redMul(d);return this.curve.jpoint(C,w,P)};Fr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,l=this.curve.tinv,c=this.x,d=this.y,f=this.z,m=f.redSqr().redSqr(),p=d.redAdd(d);for(r=0;r<e;r++){var x=c.redSqr(),C=p.redSqr(),w=C.redSqr(),P=x.redAdd(x).redIAdd(x).redIAdd(i.redMul(m)),E=c.redMul(C),I=P.redSqr().redISub(E.redAdd(E)),D=E.redISub(I),O=P.redMul(D);O=O.redIAdd(O).redISub(w);var S=p.redMul(f);r+1<e&&(m=m.redMul(w)),c=I,f=S,p=O}return this.curve.jpoint(c,p.redMul(l),f)};Fr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Fr.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),l=this.y.redSqr(),c=l.redSqr(),d=this.x.redAdd(l).redSqr().redISub(i).redISub(c);d=d.redIAdd(d);var f=i.redAdd(i).redIAdd(i),m=f.redSqr().redISub(d).redISub(d),p=c.redIAdd(c);p=p.redIAdd(p),p=p.redIAdd(p),e=m,r=f.redMul(d.redISub(m)).redISub(p),n=this.y.redAdd(this.y)}else{var x=this.x.redSqr(),C=this.y.redSqr(),w=C.redSqr(),P=this.x.redAdd(C).redSqr().redISub(x).redISub(w);P=P.redIAdd(P);var E=x.redAdd(x).redIAdd(x),I=E.redSqr(),D=w.redIAdd(w);D=D.redIAdd(D),D=D.redIAdd(D),e=I.redISub(P).redISub(P),r=E.redMul(P.redISub(e)).redISub(D),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Fr.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),l=this.y.redSqr(),c=l.redSqr(),d=this.x.redAdd(l).redSqr().redISub(i).redISub(c);d=d.redIAdd(d);var f=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),m=f.redSqr().redISub(d).redISub(d);e=m;var p=c.redIAdd(c);p=p.redIAdd(p),p=p.redIAdd(p),r=f.redMul(d.redISub(m)).redISub(p),n=this.y.redAdd(this.y)}else{var x=this.z.redSqr(),C=this.y.redSqr(),w=this.x.redMul(C),P=this.x.redSub(x).redMul(this.x.redAdd(x));P=P.redAdd(P).redIAdd(P);var E=w.redIAdd(w);E=E.redIAdd(E);var I=E.redAdd(E);e=P.redSqr().redISub(I),n=this.y.redAdd(this.z).redSqr().redISub(C).redISub(x);var D=C.redSqr();D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D),r=P.redMul(E.redISub(e)).redISub(D)}return this.curve.jpoint(e,r,n)};Fr.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,l=i.redSqr().redSqr(),c=r.redSqr(),d=n.redSqr(),f=c.redAdd(c).redIAdd(c).redIAdd(e.redMul(l)),m=r.redAdd(r);m=m.redIAdd(m);var p=m.redMul(d),x=f.redSqr().redISub(p.redAdd(p)),C=p.redISub(x),w=d.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var P=f.redMul(C).redISub(w),E=n.redAdd(n).redMul(i);return this.curve.jpoint(x,P,E)};Fr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),l=e.redAdd(e).redIAdd(e),c=l.redSqr(),d=this.x.redAdd(r).redSqr().redISub(e).redISub(i);d=d.redIAdd(d),d=d.redAdd(d).redIAdd(d),d=d.redISub(c);var f=d.redSqr(),m=i.redIAdd(i);m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var p=l.redIAdd(d).redSqr().redISub(c).redISub(f).redISub(m),x=r.redMul(p);x=x.redIAdd(x),x=x.redIAdd(x);var C=this.x.redMul(f).redISub(x);C=C.redIAdd(C),C=C.redIAdd(C);var w=this.y.redMul(p.redMul(m.redISub(p)).redISub(d.redMul(f)));w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var P=this.z.redAdd(d).redSqr().redISub(n).redISub(f);return this.curve.jpoint(C,w,P)};Fr.prototype.mul=function(e,r){return e=new tt(e,r),this.curve._wnafMul(this,e)};Fr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),l=n.redMul(e.z);return this.y.redMul(l).redISub(e.y.redMul(i)).cmpn(0)===0};Fr.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),l=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(l),this.x.cmp(n)===0)return!0}};Fr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Fr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var ud=il(function(t,e){var r=e;r.base=Qi,r.short=bS,r.mont=null,r.edwards=null}),dd=il(function(t,e){var r=e,n=Dn.assert;function i(d){d.type==="short"?this.curve=new ud.short(d):d.type==="edwards"?this.curve=new ud.edwards(d):this.curve=new ud.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function l(d,f){Object.defineProperty(r,d,{configurable:!0,enumerable:!0,get:function(){var m=new i(f);return Object.defineProperty(r,d,{configurable:!0,enumerable:!0,value:m}),m}})}l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:js.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:js.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:js.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:js.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:js.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:js.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:js.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=null.crash()}catch{c=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:js.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})});function Xo(t){if(!(this instanceof Xo))return new Xo(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=ps.toArray(t.entropy,t.entropyEnc||"hex"),r=ps.toArray(t.nonce,t.nonceEnc||"hex"),n=ps.toArray(t.pers,t.persEnc||"hex");Mp(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var nw=Xo;Xo.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var l=0;l<this.V.length;l++)this.K[l]=0,this.V[l]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Xo.prototype._hmac=function(){return new js.hmac(this.hash,this.K)};Xo.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Xo.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=ps.toArray(e,r),n=ps.toArray(n,i),Mp(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Xo.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=ps.toArray(n,i||"hex"),this._update(n));for(var l=[];l.length<e;)this.V=this._hmac().update(this.V).digest(),l=l.concat(this.V);var c=l.slice(0,e);return this._update(n),this._reseed++,ps.encode(c,r)};var Qm=Dn.assert;function Yr(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var _p=Yr;Yr.fromPublic=function(e,r,n){return r instanceof Yr?r:new Yr(e,{pub:r,pubEnc:n})};Yr.fromPrivate=function(e,r,n){return r instanceof Yr?r:new Yr(e,{priv:r,privEnc:n})};Yr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Yr.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Yr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Yr.prototype._importPrivate=function(e,r){this.priv=new tt(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Yr.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Qm(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Qm(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Yr.prototype.derive=function(e){return e.validate()||Qm(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Yr.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Yr.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};Yr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var wS=Dn.assert;function Hd(t,e){if(t instanceof Hd)return t;this._importDER(t,e)||(wS(t.r&&t.s,"Signature without r or s"),this.r=new tt(t.r,16),this.s=new tt(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Gd=Hd;function kS(){this.place=0}function vm(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,l=0,c=e.place;l<n;l++,c++)i<<=8,i|=t[c],i>>>=0;return i<=127?!1:(e.place=c,i)}function Bx(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Hd.prototype._importDER=function(e,r){e=Dn.toArray(e,r);var n=new kS;if(e[n.place++]!==48)return!1;var i=vm(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var l=vm(e,n);if(l===!1||(e[n.place]&128)!==0)return!1;var c=e.slice(n.place,l+n.place);if(n.place+=l,e[n.place++]!==2)return!1;var d=vm(e,n);if(d===!1||e.length!==d+n.place||(e[n.place]&128)!==0)return!1;var f=e.slice(n.place,d+n.place);if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new tt(c),this.s=new tt(f),this.recoveryParam=null,!0};function bm(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Hd.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Bx(r),n=Bx(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];bm(i,r.length),i=i.concat(r),i.push(2),bm(i,n.length);var l=i.concat(n),c=[48];return bm(c,l.length),c=c.concat(l),Dn.encode(c,e)};var NS=function(){throw new Error("unsupported")},ji=Dn.assert;function Vn(t){if(!(this instanceof Vn))return new Vn(t);typeof t=="string"&&(ji(Object.prototype.hasOwnProperty.call(dd,t),"Unknown curve "+t),t=dd[t]),t instanceof dd.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var CS=Vn;Vn.prototype.keyPair=function(e){return new _p(this,e)};Vn.prototype.keyFromPrivate=function(e,r){return _p.fromPrivate(this,e,r)};Vn.prototype.keyFromPublic=function(e,r){return _p.fromPublic(this,e,r)};Vn.prototype.genKeyPair=function(e){e||(e={});for(var r=new nw({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||NS(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new tt(2));;){var l=new tt(r.generate(n));if(!(l.cmp(i)>0))return l.iaddn(1),this.keyFromPrivate(l)}};Vn.prototype._truncateToN=function(e,r,n){var i;if(tt.isBN(e)||typeof e=="number")e=new tt(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new tt(e,16);else{var l=e.toString();i=l.length+1>>>1,e=new tt(l,16)}typeof n!="number"&&(n=i*8);var c=n-this.n.bitLength();return c>0&&(e=e.ushrn(c)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Vn.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!tt.isBN(e)){ji(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),ji(e.length>>>0===e.length);for(var l=0;l<e.length;l++)ji((e[l]&255)===e[l])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),ji(!e.isNeg(),"Can not sign a negative message");var c=this.n.byteLength(),d=r.getPrivate().toArray("be",c),f=e.toArray("be",c);ji(new tt(f).eq(e),"Can not sign message");for(var m=new nw({hash:this.hash,entropy:d,nonce:f,pers:i.pers,persEnc:i.persEnc||"utf8"}),p=this.n.sub(new tt(1)),x=0;;x++){var C=i.k?i.k(x):new tt(m.generate(this.n.byteLength()));if(C=this._truncateToN(C,!0),!(C.cmpn(1)<=0||C.cmp(p)>=0)){var w=this.g.mul(C);if(!w.isInfinity()){var P=w.getX(),E=P.umod(this.n);if(E.cmpn(0)!==0){var I=C.invm(this.n).mul(E.mul(r.getPrivate()).iadd(e));if(I=I.umod(this.n),I.cmpn(0)!==0){var D=(w.getY().isOdd()?1:0)|(P.cmp(E)!==0?2:0);return i.canonical&&I.cmp(this.nh)>0&&(I=this.n.sub(I),D^=1),new Gd({r:E,s:I,recoveryParam:D})}}}}}};Vn.prototype.verify=function(e,r,n,i,l){l||(l={}),e=this._truncateToN(e,!1,l.msgBitLength),n=this.keyFromPublic(n,i),r=new Gd(r,"hex");var c=r.r,d=r.s;if(c.cmpn(1)<0||c.cmp(this.n)>=0||d.cmpn(1)<0||d.cmp(this.n)>=0)return!1;var f=d.invm(this.n),m=f.mul(e).umod(this.n),p=f.mul(c).umod(this.n),x;return this.curve._maxwellTrick?(x=this.g.jmulAdd(m,n.getPublic(),p),x.isInfinity()?!1:x.eqXToP(c)):(x=this.g.mulAdd(m,n.getPublic(),p),x.isInfinity()?!1:x.getX().umod(this.n).cmp(c)===0)};Vn.prototype.recoverPubKey=function(t,e,r,n){ji((3&r)===r,"The recovery param is more than two bits"),e=new Gd(e,n);var i=this.n,l=new tt(t),c=e.r,d=e.s,f=r&1,m=r>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&m)throw new Error("Unable to find sencond key candinate");m?c=this.curve.pointFromX(c.add(this.curve.n),f):c=this.curve.pointFromX(c,f);var p=e.r.invm(i),x=i.sub(l).mul(p).umod(i),C=d.mul(p).umod(i);return this.g.mulAdd(x,c,C)};Vn.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Gd(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var l;try{l=this.recoverPubKey(t,e,i)}catch{continue}if(l.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var ES=il(function(t,e){var r=e;r.version="6.6.1",r.utils=Dn,r.rand=function(){throw new Error("unsupported")},r.curve=ud,r.curves=dd,r.ec=CS,r.eddsa=null}),AS=ES.ec;const SS="signing-key/5.8.0",Jm=new se(SS);let wm=null;function Ho(){return wm||(wm=new AS("secp256k1")),wm}class TS{constructor(e){me(this,"curve","secp256k1"),me(this,"privateKey",qe(e)),Ii(this.privateKey)!==32&&Jm.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Ho().keyFromPrivate(Je(this.privateKey));me(this,"publicKey","0x"+r.getPublic(!1,"hex")),me(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),me(this,"_isSigningKey",!0)}_addPoint(e){const r=Ho().keyFromPublic(Je(this.publicKey)),n=Ho().keyFromPublic(Je(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=Ho().keyFromPrivate(Je(this.privateKey)),n=Je(e);n.length!==32&&Jm.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return $d({recoveryParam:i.recoveryParam,r:Yt("0x"+i.r.toString(16),32),s:Yt("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=Ho().keyFromPrivate(Je(this.privateKey)),n=Ho().keyFromPublic(Je(sw(e)));return Yt("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function PS(t,e){const r=$d(e),n={r:Je(r.r),s:Je(r.s)};return"0x"+Ho().recoverPubKey(Je(t),n,r.recoveryParam).encode("hex",!1)}function sw(t,e){const r=Je(t);return r.length===32?new TS(r).publicKey:r.length===33?"0x"+Ho().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?qe(r):Jm.throwArgumentError("invalid public or private key","key","[REDACTED]")}const jS="transactions/5.8.0",mo=new se(jS);var Ux;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(Ux||(Ux={}));function Dp(t){return t==="0x"?null:Rr(t)}function Vr(t){return t==="0x"?Lb:ce.from(t)}function RS(t){const e=sw(t);return Rr(Gr(Er(Gr(e,1)),12))}function ow(t,e){return RS(PS(Je(t),e))}function Tn(t,e){const r=Xa(ce.from(t).toHexString());return r.length>32&&mo.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function km(t,e){return{address:Rr(t),storageKeys:(e||[]).map((r,n)=>(Ii(r)!==32&&mo.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function Ji(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&mo.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),km(r[0],r[1])):km(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,l)=>(i[l]=!0,i),{});return km(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function iw(t){return Ji(t).map(e=>[e.address,e.storageKeys])}function MS(t,e){if(t.gasPrice!=null){const n=ce.from(t.gasPrice),i=ce.from(t.maxFeePerGas||0);n.eq(i)||mo.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[Tn(t.chainId||0,"chainId"),Tn(t.nonce||0,"nonce"),Tn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Tn(t.maxFeePerGas||0,"maxFeePerGas"),Tn(t.gasLimit||0,"gasLimit"),t.to!=null?Rr(t.to):"0x",Tn(t.value||0,"value"),t.data||"0x",iw(t.accessList||[])];if(e){const n=$d(e);r.push(Tn(n.recoveryParam,"recoveryParam")),r.push(Xa(n.r)),r.push(Xa(n.s))}return gn(["0x02",Wd(r)])}function IS(t,e){const r=[Tn(t.chainId||0,"chainId"),Tn(t.nonce||0,"nonce"),Tn(t.gasPrice||0,"gasPrice"),Tn(t.gasLimit||0,"gasLimit"),t.to!=null?Rr(t.to):"0x",Tn(t.value||0,"value"),t.data||"0x",iw(t.accessList||[])];if(e){const n=$d(e);r.push(Tn(n.recoveryParam,"recoveryParam")),r.push(Xa(n.r)),r.push(Xa(n.s))}return gn(["0x01",Wd(r)])}function aw(t,e,r){try{const n=Vr(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{mo.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Yt(e[1],32),t.s=Yt(e[2],32);try{const n=Er(r(t));t.from=ow(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function _S(t){const e=Pp(t.slice(1));e.length!==9&&e.length!==12&&mo.throwArgumentError("invalid component count for transaction type: 2","payload",qe(t));const r=Vr(e[2]),n=Vr(e[3]),i={type:2,chainId:Vr(e[0]).toNumber(),nonce:Vr(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Vr(e[4]),to:Dp(e[5]),value:Vr(e[6]),data:e[7],accessList:Ji(e[8])};return e.length===9||(i.hash=Er(t),aw(i,e.slice(9),MS)),i}function DS(t){const e=Pp(t.slice(1));e.length!==8&&e.length!==11&&mo.throwArgumentError("invalid component count for transaction type: 1","payload",qe(t));const r={type:1,chainId:Vr(e[0]).toNumber(),nonce:Vr(e[1]).toNumber(),gasPrice:Vr(e[2]),gasLimit:Vr(e[3]),to:Dp(e[4]),value:Vr(e[5]),data:e[6],accessList:Ji(e[7])};return e.length===8||(r.hash=Er(t),aw(r,e.slice(8),IS)),r}function zS(t){const e=Pp(t);e.length!==9&&e.length!==6&&mo.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Vr(e[0]).toNumber(),gasPrice:Vr(e[1]),gasLimit:Vr(e[2]),to:Dp(e[3]),value:Vr(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=ce.from(e[6]).toNumber()}catch{return r}if(r.r=Yt(e[7],32),r.s=Yt(e[8],32),ce.from(r.r).isZero()&&ce.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(qe(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const l=Er(Wd(i));try{r.from=ow(l,{r:qe(r.r),s:qe(r.s),recoveryParam:n})}catch{}r.hash=Er(t)}return r.type=null,r}function LS(t){const e=Je(t);if(e[0]>127)return zS(e);switch(e[0]){case 1:return DS(e);case 2:return _S(e)}return mo.throwError(`unsupported transaction type: ${e[0]}`,se.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const OS="contracts/5.8.0";var Di=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(p){try{m(n.next(p))}catch(x){c(x)}}function f(p){try{m(n.throw(p))}catch(x){c(x)}}function m(p){p.done?l(p.value):i(p.value).then(d,f)}m((n=n.apply(t,e||[])).next())})};const mr=new se(OS);function Sd(t,e){return Di(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&mr.throwArgumentError("invalid address or ENS name","name",r);try{return Rr(r)}catch{}t||mr.throwError("a provider or signer is needed to resolve ENS names",se.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&mr.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function fd(t,e,r){return Di(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>fd(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield Sd(t,e):r.type==="tuple"?yield fd(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>fd(t,n,r.arrayChildren))):Promise.reject(mr.makeError("invalid value for array",se.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function Vd(t,e,r){return Di(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=nr(r.pop())),mr.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=yr({override:Sd(t.signer,n.from),signer:t.signer.getAddress()}).then(m=>Di(this,void 0,void 0,function*(){return Rr(m.signer)!==m.override&&mr.throwError("Contract with a Signer cannot override from",se.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),m.override})):n.from=t.signer.getAddress():n.from&&(n.from=Sd(t.provider,n.from));const i=yield yr({args:fd(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:yr(n)||{}}),l=t.interface.encodeFunctionData(e,i.args),c={data:l,to:i.address},d=i.overrides;if(d.nonce!=null&&(c.nonce=ce.from(d.nonce).toNumber()),d.gasLimit!=null&&(c.gasLimit=ce.from(d.gasLimit)),d.gasPrice!=null&&(c.gasPrice=ce.from(d.gasPrice)),d.maxFeePerGas!=null&&(c.maxFeePerGas=ce.from(d.maxFeePerGas)),d.maxPriorityFeePerGas!=null&&(c.maxPriorityFeePerGas=ce.from(d.maxPriorityFeePerGas)),d.from!=null&&(c.from=d.from),d.type!=null&&(c.type=d.type),d.accessList!=null&&(c.accessList=Ji(d.accessList)),c.gasLimit==null&&e.gas!=null){let m=21e3;const p=Je(l);for(let x=0;x<p.length;x++)m+=4,p[x]&&(m+=64);c.gasLimit=ce.from(e.gas).add(m)}if(d.value){const m=ce.from(d.value);!m.isZero()&&!e.payable&&mr.throwError("non-payable method cannot override value",se.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),c.value=m}d.customData&&(c.customData=nr(d.customData)),d.ccipReadEnabled&&(c.ccipReadEnabled=!!d.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const f=Object.keys(n).filter(m=>n[m]!=null);return f.length&&mr.throwError(`cannot override ${f.map(m=>JSON.stringify(m)).join(",")}`,se.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:f}),c})}function FS(t,e){return function(...r){return Vd(t,e,r)}}function BS(t,e){const r=t.signer||t.provider;return function(...n){return Di(this,void 0,void 0,function*(){r||mr.throwError("estimate require a provider or signer",se.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield Vd(t,e,n);return yield r.estimateGas(i)})}}function US(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(l=>{let c=Mn(l),d=null;try{d=t.interface.parseLog(l)}catch{}return d&&(c.args=d.args,c.decode=(f,m)=>t.interface.decodeEventLog(d.eventFragment,f,m),c.event=d.name,c.eventSignature=d.signature),c.removeListener=()=>t.provider,c.getBlock=()=>t.provider.getBlock(i.blockHash),c.getTransaction=()=>t.provider.getTransaction(i.transactionHash),c.getTransactionReceipt=()=>Promise.resolve(i),c}),i))}function lw(t,e,r){const n=t.signer||t.provider;return function(...i){return Di(this,void 0,void 0,function*(){let l;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const f=nr(i.pop());f.blockTag!=null&&(l=yield f.blockTag),delete f.blockTag,i.push(f)}t.deployTransaction!=null&&(yield t._deployed(l));const c=yield Vd(t,e,i),d=yield n.call(c,l);try{let f=t.interface.decodeFunctionResult(e,d);return r&&e.outputs.length===1&&(f=f[0]),f}catch(f){throw f.code===se.errors.CALL_EXCEPTION&&(f.address=t.address,f.args=i,f.transaction=c),f}})}}function $S(t,e){return function(...r){return Di(this,void 0,void 0,function*(){t.signer||mr.throwError("sending a transaction requires a signer",se.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield Vd(t,e,r),i=yield t.signer.sendTransaction(n);return US(t,i),i})}}function $x(t,e,r){return e.constant?lw(t,e,r):$S(t,e)}function cw(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class hc{constructor(e,r){me(this,"tag",e),me(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class WS extends hc{constructor(){super("error",null)}}class Wx extends hc{constructor(e,r,n,i){const l={address:e};let c=r.getEventTopic(n);i?(c!==i[0]&&mr.throwArgumentError("topic mismatch","topics",i),l.topics=i.slice()):l.topics=[c],super(cw(l),l),me(this,"address",e),me(this,"interface",r),me(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=$E(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class qx extends hc{constructor(e,r){super("*",{address:e}),me(this,"address",e),me(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class qS{constructor(e,r,n){me(this,"interface",Rn(new.target,"getInterface")(r)),n==null?(me(this,"provider",null),me(this,"signer",null)):Sc.isSigner(n)?(me(this,"provider",n.provider||null),me(this,"signer",n)):Ac.isProvider(n)?(me(this,"provider",n),me(this,"signer",null)):mr.throwArgumentError("invalid signer or provider","signerOrProvider",n),me(this,"callStatic",{}),me(this,"estimateGas",{}),me(this,"functions",{}),me(this,"populateTransaction",{}),me(this,"filters",{});{const c={};Object.keys(this.interface.events).forEach(d=>{const f=this.interface.events[d];me(this.filters,d,(...m)=>({address:this.address,topics:this.interface.encodeFilterTopics(f,m)})),c[f.name]||(c[f.name]=[]),c[f.name].push(d)}),Object.keys(c).forEach(d=>{const f=c[d];f.length===1?me(this.filters,d,this.filters[f[0]]):mr.warn(`Duplicate definition of ${d} (${f.join(", ")})`)})}if(me(this,"_runningEvents",{}),me(this,"_wrappedEmits",{}),e==null&&mr.throwArgumentError("invalid contract address or ENS name","addressOrName",e),me(this,"address",e),this.provider)me(this,"resolvedAddress",Sd(this.provider,e));else try{me(this,"resolvedAddress",Promise.resolve(Rr(e)))}catch{mr.throwError("provider is required to use ENS name as contract address",se.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(c=>{});const i={},l={};Object.keys(this.interface.functions).forEach(c=>{const d=this.interface.functions[c];if(l[c]){mr.warn(`Duplicate ABI entry for ${JSON.stringify(c)}`);return}l[c]=!0;{const f=d.name;i[`%${f}`]||(i[`%${f}`]=[]),i[`%${f}`].push(c)}this[c]==null&&me(this,c,$x(this,d,!0)),this.functions[c]==null&&me(this.functions,c,$x(this,d,!1)),this.callStatic[c]==null&&me(this.callStatic,c,lw(this,d,!0)),this.populateTransaction[c]==null&&me(this.populateTransaction,c,FS(this,d)),this.estimateGas[c]==null&&me(this.estimateGas,c,BS(this,d))}),Object.keys(i).forEach(c=>{const d=i[c];if(d.length>1)return;c=c.substring(1);const f=d[0];try{this[c]==null&&me(this,c,this[f])}catch{}this.functions[c]==null&&me(this.functions,c,this.functions[f]),this.callStatic[c]==null&&me(this.callStatic,c,this.callStatic[f]),this.populateTransaction[c]==null&&me(this.populateTransaction,c,this.populateTransaction[f]),this.estimateGas[c]==null&&me(this.estimateGas,c,this.estimateGas[f])})}static getContractAddress(e){return Ib(e)}static getInterface(e){return Ym.isInterface(e)?e:new Ym(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&mr.throwError("contract not deployed",se.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||mr.throwError("sending a transactions require a signer",se.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=nr(e||{});return["from","to"].forEach(function(n){r[n]!=null&&mr.throwError("cannot override "+n,se.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new Rp(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&me(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Km.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new WS);if(e==="event")return this._normalizeRunningEvent(new hc("event",null));if(e==="*")return this._normalizeRunningEvent(new qx(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new Wx(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new Wx(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new hc(cw(r),r))}return this._normalizeRunningEvent(new qx(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=Mn(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||mr.throwError("events require a provider or a signer with a provider",se.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=l=>{let c=this._wrapEvent(e,l,r);if(c.decodeError==null)try{const d=e.getEmit(c);this.emit(e.filter,...d)}catch(d){c.decodeError=d.error}e.filter!=null&&this.emit("event",c),c.decodeError!=null&&this.emit("error",c.decodeError,c)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),l=nr(i.filter);return typeof r=="string"&&pt(r,32)?(n!=null&&mr.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),l.blockHash=r):(l.fromBlock=r??0,l.toBlock=n??"latest"),this.provider.getLogs(l).then(c=>c.map(d=>this._wrapEvent(i,d,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class kt extends qS{}class uw{constructor(e){me(this,"alphabet",e),me(this,"base",e.length),me(this,"_alphabetMap",{}),me(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=Je(e);if(r.length===0)return"";let n=[0];for(let l=0;l<r.length;++l){let c=r[l];for(let d=0;d<n.length;++d)c+=n[d]<<8,n[d]=c%this.base,c=c/this.base|0;for(;c>0;)n.push(c%this.base),c=c/this.base|0}let i="";for(let l=0;r[l]===0&&l<r.length-1;++l)i+=this._leader;for(let l=n.length-1;l>=0;--l)i+=this.alphabet[n[l]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let l=i;for(let c=0;c<r.length;++c)l+=r[c]*this.base,r[c]=l&255,l>>=8;for(;l>0;)r.push(l&255),l>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return Je(new Uint8Array(r.reverse()))}}new uw("abcdefghijklmnopqrstuvwxyz234567");const Xm=new uw("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function Hx(t){return"0x"+js.sha256().update(Je(t)).digest("hex")}function HS(t){t=t.slice();for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}const GS="networks/5.8.0",Gx=new se(GS);function VS(t){return t&&typeof t.renetwork=="function"}function hs(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const l=["goerli","ropsten","rinkeby","sepolia"];try{const c=new r.PocketProvider(t,n.pocket);c.network&&l.indexOf(c.network.name)===-1&&i.push(c)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const l=["ropsten"],c=new r.AnkrProvider(t,n.ankr);c.network&&l.indexOf(c.network.name)===-1&&i.push(c)}catch{}if(r.QuickNodeProvider&&n.quicknode!=="-")try{i.push(new r.QuickNodeProvider(t,n.quicknode))}catch{}if(i.length===0)return null;if(r.FallbackProvider){let l=1;return n.quorum!=null?l=n.quorum:t==="homestead"&&(l=2),new r.FallbackProvider(i,l)}return i[0]};return e.renetwork=function(r){return hs(r)},e}function Td(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return Td(t,n)},r}const Vx={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:hs("homestead")},Kx={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:hs("ropsten")},Yx={chainId:63,name:"classicMordor",_defaultProvider:Td("https://www.ethercluster.com/mordor","classicMordor")},Uu={unspecified:{chainId:0,name:"unspecified"},homestead:Vx,mainnet:Vx,morden:{chainId:2,name:"morden"},ropsten:Kx,testnet:Kx,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:hs("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:hs("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:hs("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:hs("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:hs("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:Td("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Yx,classicTestnet:Yx,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Td("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:hs("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:hs("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:hs("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function dw(t){if(t==null)return null;if(typeof t=="number"){for(const n in Uu){const i=Uu[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=Uu[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=Uu[t.name];if(!e)return typeof t.chainId!="number"&&Gx.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&Gx.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(VS(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}const KS="web/5.8.0";var YS=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(p){try{m(n.next(p))}catch(x){c(x)}}function f(p){try{m(n.throw(p))}catch(x){c(x)}}function m(p){p.done?l(p.value):i(p.value).then(d,f)}m((n=n.apply(t,e||[])).next())})};function QS(t,e){return YS(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const c=e.fetchOptions;c.mode&&(r.mode=c.mode),c.cache&&(r.cache=c.cache),c.credentials&&(r.credentials=c.credentials),c.redirect&&(r.redirect=c.redirect),c.referrer&&(r.referrer=c.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),l={};return n.headers.forEach?n.headers.forEach((c,d)=>{l[d.toLowerCase()]=c}):n.headers.keys().forEach(c=>{l[c.toLowerCase()]=n.headers.get(c)}),{headers:l,statusCode:n.status,statusMessage:n.statusText,body:Je(new Uint8Array(i))}})}var JS=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(p){try{m(n.next(p))}catch(x){c(x)}}function f(p){try{m(n.throw(p))}catch(x){c(x)}}function m(p){p.done?l(p.value):i(p.value).then(d,f)}m((n=n.apply(t,e||[])).next())})};const cs=new se(KS);function Qx(t){return new Promise(e=>{setTimeout(e,t)})}function Fo(t,e){if(t==null)return null;if(typeof t=="string")return t;if(Ap(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Ec(t)}catch{}return qe(t)}return t}function XS(t){return Bs(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function ZS(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;cs.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,l=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;cs.assertArgument(l>0&&l%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",l);const c=typeof t=="object"?!!t.errorPassThrough:!1,d={};let f=null;const m={method:"GET"};let p=!1,x=120*1e3;if(typeof t=="string")f=t;else if(typeof t=="object"){if((t==null||t.url==null)&&cs.throwArgumentError("missing URL","connection.url",t),f=t.url,typeof t.timeout=="number"&&t.timeout>0&&(x=t.timeout),t.headers)for(const D in t.headers)d[D.toLowerCase()]={key:D,value:String(t.headers[D])},["if-none-match","if-modified-since"].indexOf(D.toLowerCase())>=0&&(p=!0);if(m.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){f.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&cs.throwError("basic authentication requires a secure https url",se.errors.INVALID_ARGUMENT,{argument:"url",url:f,user:t.user,password:"[REDACTED]"});const D=t.user+":"+t.password;d.authorization={key:"Authorization",value:"Basic "+Wb(Bs(D))}}t.skipFetchSetup!=null&&(m.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(m.fetchOptions=nr(t.fetchOptions))}const C=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),w=f?f.match(C):null;if(w)try{const D={statusCode:200,statusMessage:"OK",headers:{"content-type":w[1]||"text/plain"},body:w[2]?$b(w[3]):XS(w[3])};let O=D.body;return r&&(O=r(D.body,D)),Promise.resolve(O)}catch(D){cs.throwError("processing response error",se.errors.SERVER_ERROR,{body:Fo(w[1],w[2]),error:D,requestBody:null,requestMethod:"GET",url:f})}e&&(m.method="POST",m.body=e,d["content-type"]==null&&(d["content-type"]={key:"Content-Type",value:"application/octet-stream"}),d["content-length"]==null&&(d["content-length"]={key:"Content-Length",value:String(e.length)}));const P={};Object.keys(d).forEach(D=>{const O=d[D];P[O.key]=O.value}),m.headers=P;const E=function(){let D=null;return{promise:new Promise(function(U,$){x&&(D=setTimeout(()=>{D!=null&&(D=null,$(cs.makeError("timeout",se.errors.TIMEOUT,{requestBody:Fo(m.body,P["content-type"]),requestMethod:m.method,timeout:x,url:f})))},x))}),cancel:function(){D!=null&&(clearTimeout(D),D=null)}}}(),I=function(){return JS(this,void 0,void 0,function*(){for(let D=0;D<n;D++){let O=null;try{if(O=yield QS(f,m),D<n){if(O.statusCode===301||O.statusCode===302){const U=O.headers.location||"";if(m.method==="GET"&&U.match(/^https:/)){f=O.headers.location;continue}}else if(O.statusCode===429){let U=!0;if(i&&(U=yield i(D,f)),U){let $=0;const H=O.headers["retry-after"];typeof H=="string"&&H.match(/^[1-9][0-9]*$/)?$=parseInt(H)*1e3:$=l*parseInt(String(Math.random()*Math.pow(2,D))),yield Qx($);continue}}}}catch(U){O=U.response,O==null&&(E.cancel(),cs.throwError("missing response",se.errors.SERVER_ERROR,{requestBody:Fo(m.body,P["content-type"]),requestMethod:m.method,serverError:U,url:f}))}let S=O.body;if(p&&O.statusCode===304?S=null:!c&&(O.statusCode<200||O.statusCode>=300)&&(E.cancel(),cs.throwError("bad response",se.errors.SERVER_ERROR,{status:O.statusCode,headers:O.headers,body:Fo(S,O.headers?O.headers["content-type"]:null),requestBody:Fo(m.body,P["content-type"]),requestMethod:m.method,url:f})),r)try{const U=yield r(S,O);return E.cancel(),U}catch(U){if(U.throttleRetry&&D<n){let $=!0;if(i&&($=yield i(D,f)),$){const H=l*parseInt(String(Math.random()*Math.pow(2,D)));yield Qx(H);continue}}E.cancel(),cs.throwError("processing response error",se.errors.SERVER_ERROR,{body:Fo(S,O.headers?O.headers["content-type"]:null),error:U,requestBody:Fo(m.body,P["content-type"]),requestMethod:m.method,url:f})}return E.cancel(),S}return cs.throwError("failed response",se.errors.SERVER_ERROR,{requestBody:Fo(m.body,P["content-type"]),requestMethod:m.method,url:f})})}();return Promise.race([E.promise,I])}function Kd(t,e,r){let n=(l,c)=>{let d=null;if(l!=null)try{d=JSON.parse(Ec(l))}catch(f){cs.throwError("invalid JSON",se.errors.SERVER_ERROR,{body:l,error:f})}return r&&(d=r(d,c)),d},i=null;if(e!=null){i=Bs(e);const l=typeof t=="string"?{url:t}:nr(t);l.headers?Object.keys(l.headers).filter(d=>d.toLowerCase()==="content-type").length!==0||(l.headers=nr(l.headers),l.headers["content-type"]="application/json"):l.headers={"content-type":"application/json"},t=l}return ZS(t,i,n)}function Wa(t,e){return e||(e={}),e=nr(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,l=!1;const c=()=>l?!1:(l=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{c()&&n(new Error("timeout"))},e.timeout));const d=e.retryLimit;let f=0;function m(){return t().then(function(p){if(p!==void 0)c()&&r(p);else if(e.oncePoll)e.oncePoll.once("poll",m);else if(e.onceBlock)e.onceBlock.once("block",m);else if(!l){if(f++,f>d){c()&&n(new Error("retry limit reached"));return}let x=e.interval*parseInt(String(Math.random()*Math.pow(2,f)));x<e.floor&&(x=e.floor),x>e.ceiling&&(x=e.ceiling),setTimeout(m,x)}return null},function(p){c()&&n(p)})}m()})}var Nm,Jx;function eT(){if(Jx)return Nm;Jx=1;for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",e={},r=0;r<t.length;r++){var n=t.charAt(r);if(e[n]!==void 0)throw new TypeError(n+" is ambiguous");e[n]=r}function i(E){var I=E>>25;return(E&33554431)<<5^-(I>>0&1)&996825010^-(I>>1&1)&642813549^-(I>>2&1)&513874426^-(I>>3&1)&1027748829^-(I>>4&1)&705979059}function l(E){for(var I=1,D=0;D<E.length;++D){var O=E.charCodeAt(D);if(O<33||O>126)return"Invalid prefix ("+E+")";I=i(I)^O>>5}for(I=i(I),D=0;D<E.length;++D){var S=E.charCodeAt(D);I=i(I)^S&31}return I}function c(E,I,D){if(D=D||90,E.length+7+I.length>D)throw new TypeError("Exceeds length limit");E=E.toLowerCase();var O=l(E);if(typeof O=="string")throw new Error(O);for(var S=E+"1",U=0;U<I.length;++U){var $=I[U];if($>>5!==0)throw new Error("Non 5-bit word");O=i(O)^$,S+=t.charAt($)}for(U=0;U<6;++U)O=i(O);for(O^=1,U=0;U<6;++U){var H=O>>(5-U)*5&31;S+=t.charAt(H)}return S}function d(E,I){if(I=I||90,E.length<8)return E+" too short";if(E.length>I)return"Exceeds length limit";var D=E.toLowerCase(),O=E.toUpperCase();if(E!==D&&E!==O)return"Mixed-case string "+E;E=D;var S=E.lastIndexOf("1");if(S===-1)return"No separator character for "+E;if(S===0)return"Missing prefix for "+E;var U=E.slice(0,S),$=E.slice(S+1);if($.length<6)return"Data too short";var H=l(U);if(typeof H=="string")return H;for(var V=[],W=0;W<$.length;++W){var K=$.charAt(W),Z=e[K];if(Z===void 0)return"Unknown character "+K;H=i(H)^Z,!(W+6>=$.length)&&V.push(Z)}return H!==1?"Invalid checksum for "+E:{prefix:U,words:V}}function f(){var E=d.apply(null,arguments);if(typeof E=="object")return E}function m(E){var I=d.apply(null,arguments);if(typeof I=="object")return I;throw new Error(I)}function p(E,I,D,O){for(var S=0,U=0,$=(1<<D)-1,H=[],V=0;V<E.length;++V)for(S=S<<I|E[V],U+=I;U>=D;)U-=D,H.push(S>>U&$);if(O)U>0&&H.push(S<<D-U&$);else{if(U>=I)return"Excess padding";if(S<<D-U&$)return"Non-zero padding"}return H}function x(E){var I=p(E,8,5,!0);if(Array.isArray(I))return I}function C(E){var I=p(E,8,5,!0);if(Array.isArray(I))return I;throw new Error(I)}function w(E){var I=p(E,5,8,!1);if(Array.isArray(I))return I}function P(E){var I=p(E,5,8,!1);if(Array.isArray(I))return I;throw new Error(I)}return Nm={decodeUnsafe:f,decode:m,encode:c,toWordsUnsafe:x,toWords:C,fromWordsUnsafe:w,fromWords:P},Nm}var tT=eT();const Xx=rl(tT),Br="providers/5.8.0",$l=new se(Br);class _e{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),l=this.data.bind(this),c=this.hash.bind(this),d=this.hex.bind(this),f=this.number.bind(this),m=this.type.bind(this),p=x=>this.data(x,!0);return e.transaction={hash:c,type:m,accessList:_e.allowNull(this.accessList.bind(this),null),blockHash:_e.allowNull(c,null),blockNumber:_e.allowNull(f,null),transactionIndex:_e.allowNull(f,null),confirmations:_e.allowNull(f,null),from:r,gasPrice:_e.allowNull(n),maxPriorityFeePerGas:_e.allowNull(n),maxFeePerGas:_e.allowNull(n),gasLimit:n,to:_e.allowNull(r,null),value:n,nonce:f,data:l,r:_e.allowNull(this.uint256),s:_e.allowNull(this.uint256),v:_e.allowNull(f),creates:_e.allowNull(r,null),raw:_e.allowNull(l)},e.transactionRequest={from:_e.allowNull(r),nonce:_e.allowNull(f),gasLimit:_e.allowNull(n),gasPrice:_e.allowNull(n),maxPriorityFeePerGas:_e.allowNull(n),maxFeePerGas:_e.allowNull(n),to:_e.allowNull(r),value:_e.allowNull(n),data:_e.allowNull(p),type:_e.allowNull(f),accessList:_e.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:f,blockNumber:f,transactionHash:c,address:r,topics:_e.arrayOf(c),data:l,logIndex:f,blockHash:c},e.receipt={to:_e.allowNull(this.address,null),from:_e.allowNull(this.address,null),contractAddress:_e.allowNull(r,null),transactionIndex:f,root:_e.allowNull(d),gasUsed:n,logsBloom:_e.allowNull(l),blockHash:c,transactionHash:c,logs:_e.arrayOf(this.receiptLog.bind(this)),blockNumber:f,confirmations:_e.allowNull(f,null),cumulativeGasUsed:n,effectiveGasPrice:_e.allowNull(n),status:_e.allowNull(f),type:m},e.block={hash:_e.allowNull(c),parentHash:c,number:f,timestamp:f,nonce:_e.allowNull(d),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:_e.allowNull(r),extraData:l,transactions:_e.allowNull(_e.arrayOf(c)),baseFeePerGas:_e.allowNull(n)},e.blockWithTransactions=nr(e.block),e.blockWithTransactions.transactions=_e.allowNull(_e.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:_e.allowNull(i,void 0),toBlock:_e.allowNull(i,void 0),blockHash:_e.allowNull(c,void 0),address:_e.allowNull(r,void 0),topics:_e.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:_e.allowNull(f),blockHash:_e.allowNull(c),transactionIndex:f,removed:_e.allowNull(this.boolean.bind(this)),address:r,data:_e.allowFalsish(l,"0x"),topics:_e.arrayOf(c),transactionHash:c,logIndex:f},e}accessList(e){return Ji(e||[])}number(e){return e==="0x"?0:ce.from(e).toNumber()}type(e){return e==="0x"||e==null?0:ce.from(e).toNumber()}bigNumber(e){return ce.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),pt(e))?e.toLowerCase():$l.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Rr(e)}callAddress(e){if(!pt(e,32))return null;const r=Rr(Gr(e,12));return r===Pe?null:r}contractAddress(e){return Ib(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||pt(e))return Ud(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return Ii(n)!==32?$l.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=ce.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!pt(e))throw new Error("invalid uint256");return Yt(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=_e.check(r,e);return i._difficulty=n==null?null:ce.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return _e.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&ce.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=_e.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;pt(n)&&(n=ce.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),pt(n)&&(n=ce.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return LS(e)}receiptLog(e){return _e.check(this.formats.receiptLog,e)}receipt(e){const r=_e.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=ce.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&$l.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):$l.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&$l.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return _e.check(this.formats.filter,e)}filterLog(e){return _e.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const l=e[i](r[i]);l!==void 0&&(n[i]=l)}catch(l){throw l.checkKey=i,l.checkValue=r[i],l}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n}}}function rT(t){return t&&typeof t.isCommunityResource=="function"}function Zx(t){return rT(t)&&t.isCommunityResource()}let ev=!1;function Yd(){ev||(ev=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var nt=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(p){try{m(n.next(p))}catch(x){c(x)}}function f(p){try{m(n.throw(p))}catch(x){c(x)}}function m(p){p.done?l(p.value):i(p.value).then(d,f)}m((n=n.apply(t,e||[])).next())})};const wt=new se(Br),nT=10;function tv(t){return t==null?"null":(Ii(t)!==32&&wt.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function rv(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[tv(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return tv(e)}).join("&")}function sT(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function _a(t){if(typeof t=="string"){if(t=t.toLowerCase(),Ii(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+rv(t);if(sS.isForkEvent(t))throw wt.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+rv(t.topics||[])}throw new Error("invalid event - "+t)}function Wl(){return new Date().getTime()}function nv(t){return new Promise(e=>{setTimeout(e,t)})}const oT=["block","network","pending","poll"];let iT=class{constructor(e,r,n){me(this,"tag",e),me(this,"listener",r),me(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=sT(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||oT.indexOf(this.tag)>=0}};const aT={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Cm(t){return Yt(ce.from(t).toHexString(),32)}function sv(t){return Xm.encode(jn([t,Gr(Hx(Hx(t)),0,4)]))}const fw=new RegExp("^(ipfs)://(.*)$","i"),ov=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),fw,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function hd(t,e){try{return Ec(mc(t,e))}catch{}return null}function mc(t,e){if(t==="0x")return null;const r=ce.from(Gr(t,e,e+32)).toNumber(),n=ce.from(Gr(t,r,r+32)).toNumber();return Gr(t,r+32,r+32+n)}function Em(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):wt.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function iv(t){const e=Je(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function lT(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function hw(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=Je(t[n]);e[n]=iv(r),e.push(iv(i.length)),e.push(lT(i)),r+=32+Math.ceil(i.length/32)*32}return gn(e)}class av{constructor(e,r,n,i){me(this,"provider",e),me(this,"name",n),me(this,"address",e.formatter.address(r)),me(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>ce.from(e).eq(1)).catch(e=>{if(e.code===se.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return nt(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:gn([e,cd(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=gn(["0x9061b923",hw([WA(this.name),n.data])]));try{let l=yield this.provider.call(n);return Je(l).length%32===4&&wt.throwError("resolver threw error",se.errors.CALL_EXCEPTION,{transaction:n,data:l}),i&&(l=mc(l,0)),l}catch(l){if(l.code===se.errors.CALL_EXCEPTION)return null;throw l}})}_fetchBytes(e,r){return nt(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?mc(n,0):null})}_getAddress(e,r){const n=aT[String(e)];if(n==null&&wt.throwError(`unsupported coin type: ${e}`,se.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=Je(r);if(n.p2pkh!=null){const l=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(l){const c=parseInt(l[1],16);if(l[2].length===c*2&&c>=1&&c<=75)return sv(jn([[n.p2pkh],"0x"+l[2]]))}}if(n.p2sh!=null){const l=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(l){const c=parseInt(l[1],16);if(l[2].length===c*2&&c>=1&&c<=75)return sv(jn([[n.p2sh],"0x"+l[2]]))}}if(n.prefix!=null){const l=i[1];let c=i[0];if(c===0?l!==20&&l!==32&&(c=-1):c=-1,c>=0&&i.length===2+l&&l>=1&&l<=75){const d=Xx.toWords(i.slice(2));return d.unshift(c),Xx.encode(n.prefix,d)}}return null}getAddress(e){return nt(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===aA?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===se.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",Cm(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&wt.throwError("invalid or unsupported coin data",se.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return nt(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<ov.length;n++){const i=r.match(ov[n]);if(i==null)continue;const l=i[1].toLowerCase();switch(l){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:Em(r)};case"erc721":case"erc1155":{const c=l==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:l,content:r});const d=this._resolvedAddress||(yield this.getAddress()),f=(i[2]||"").split("/");if(f.length!==2)return null;const m=yield this.provider.formatter.address(f[0]),p=Yt(ce.from(f[1]).toHexString(),32);if(l==="erc721"){const E=this.provider.formatter.callAddress(yield this.provider.call({to:m,data:gn(["0x6352211e",p])}));if(d!==E)return null;e.push({type:"owner",content:E})}else if(l==="erc1155"){const E=ce.from(yield this.provider.call({to:m,data:gn(["0x00fdd58e",Yt(d,32),p])}));if(E.isZero())return null;e.push({type:"balance",content:E.toString()})}const x={to:this.provider.formatter.address(f[0]),data:gn([c,p])};let C=hd(yield this.provider.call(x),0);if(C==null)return null;e.push({type:"metadata-url-base",content:C}),l==="erc1155"&&(C=C.replace("{id}",p.substring(2)),e.push({type:"metadata-url-expanded",content:C})),C.match(/^ipfs:/i)&&(C=Em(C)),e.push({type:"metadata-url",content:C});const w=yield Kd(C);if(!w)return null;e.push({type:"metadata",content:JSON.stringify(w)});let P=w.image;if(typeof P!="string")return null;if(!P.match(/^(https:\/\/|data:)/i)){if(P.match(fw)==null)return null;e.push({type:"url-ipfs",content:P}),P=Em(P)}return e.push({type:"url",content:P}),{linkage:e,url:P}}}}}catch{}return null})}getContentHash(){return nt(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const c=parseInt(r[3],16);if(r[4].length===c*2)return"ipfs://"+Xm.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const c=parseInt(n[3],16);if(n[4].length===c*2)return"ipns://"+Xm.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===64)return"bzz://"+i[1];const l=e.match(/^0x90b2c605([0-9a-f]*)$/);if(l&&l[1].length===68){const c={"=":"","+":"-","/":"_"};return"sia://"+Wb("0x"+l[1]).replace(/[=+\/]/g,f=>c[f])}return wt.throwError("invalid or unsupported content hash data",se.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return nt(this,void 0,void 0,function*(){let r=Bs(e);r=jn([Cm(64),Cm(r.length),r]),r.length%32!==0&&(r=jn([r,Yt("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",qe(r));return n==null||n==="0x"?null:Ec(n)})}}let Am=null,cT=1;class zp extends Ac{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),me(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=Rn(new.target,"getNetwork")(e);r?(me(this,"_network",r),this.emit("network",r,null)):wt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return nt(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||wt.throwError("no network detected",se.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:me(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Wa(()=>this._ready().then(e=>e,e=>{if(!(e.code===se.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return Am==null&&(Am=new _e),Am}static getNetwork(e){return dw(e??"homestead")}ccipReadFetch(e,r,n){return nt(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),l=r.toLowerCase(),c=[];for(let d=0;d<n.length;d++){const f=n[d],m=f.replace("{sender}",i).replace("{data}",l),p=f.indexOf("{data}")>=0?null:JSON.stringify({data:l,sender:i}),x=yield Kd({url:m,errorPassThrough:!0},p,(w,P)=>(w.status=P.statusCode,w));if(x.data)return x.data;const C=x.message||"unknown error";if(x.status>=400&&x.status<500)return wt.throwError(`response not found during CCIP fetch: ${C}`,se.errors.SERVER_ERROR,{url:f,errorMessage:C});c.push(C)}return wt.throwError(`error encountered during CCIP fetch: ${c.map(d=>JSON.stringify(d)).join(", ")}`,se.errors.SERVER_ERROR,{urls:n,errorMessages:c})})}_getInternalBlockNumber(e){return nt(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const l=yield i;if(Wl()-l.respTime<=e)return l.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=Wl(),n=yr({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:l})=>{if(l)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),l;const c=Wl();return i=ce.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:c}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return nt(this,void 0,void 0,function*(){const e=cT++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)wt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",wt.makeError("network block skew detected",se.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const l=this._emitted[i];l!=="pending"&&n-l>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const l=i.hash;let c=this.getTransactionReceipt(l).then(d=>(!d||d.blockNumber==null||(this._emitted["t:"+l]=d.blockNumber,this.emit(l,d)),null)).catch(d=>{this.emit("error",d)});r.push(c);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const l=i.filter;l.fromBlock=i._lastBlockNumber+1,l.toBlock=n;const c=l.toBlock-this._maxFilterBlockRange;c>l.fromBlock&&(l.fromBlock=c),l.fromBlock<0&&(l.fromBlock=0);const d=this.getLogs(l).then(f=>{i._inflight=!1,f.length!==0&&f.forEach(m=>{m.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=m.blockNumber),this._emitted["b:"+m.blockHash]=m.blockNumber,this._emitted["t:"+m.transactionHash]=m.blockNumber,this.emit(l,m)})}).catch(f=>{this.emit("error",f),i._inflight=!1});r.push(d)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return nt(this,void 0,void 0,function*(){return wt.throwError("provider does not support network detection",se.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return nt(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield nv(0),this._network;const n=wt.makeError("underlying network changed",se.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Wl();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Wl(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return nt(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return nt(this,void 0,void 0,function*(){const l=yield this.getTransactionReceipt(e);return(l?l.confirmations:0)>=r?l:new Promise((c,d)=>{const f=[];let m=!1;const p=function(){return m?!0:(m=!0,f.forEach(C=>{C()}),!1)},x=C=>{C.confirmations<r||p()||c(C)};if(this.on(e,x),f.push(()=>{this.removeListener(e,x)}),i){let C=i.startBlock,w=null;const P=E=>nt(this,void 0,void 0,function*(){m||(yield nv(1e3),this.getTransactionCount(i.from).then(I=>nt(this,void 0,void 0,function*(){if(!m){if(I<=i.nonce)C=E;else{{const D=yield this.getTransaction(e);if(D&&D.blockNumber!=null)return}for(w==null&&(w=C-3,w<i.startBlock&&(w=i.startBlock));w<=E;){if(m)return;const D=yield this.getBlockWithTransactions(w);for(let O=0;O<D.transactions.length;O++){const S=D.transactions[O];if(S.hash===e)return;if(S.from===i.from&&S.nonce===i.nonce){if(m)return;const U=yield this.waitForTransaction(S.hash,r);if(p())return;let $="replaced";S.data===i.data&&S.to===i.to&&S.value.eq(i.value)?$="repriced":S.data==="0x"&&S.from===S.to&&S.value.isZero()&&($="cancelled"),d(wt.makeError("transaction was replaced",se.errors.TRANSACTION_REPLACED,{cancelled:$==="replaced"||$==="cancelled",reason:$,replacement:this._wrapTransaction(S),hash:e,receipt:U}));return}}w++}}m||this.once("block",P)}}),I=>{m||this.once("block",P)}))});if(m)return;this.once("block",P),f.push(()=>{this.removeListener("block",P)})}if(typeof n=="number"&&n>0){const C=setTimeout(()=>{p()||d(wt.makeError("timeout exceeded",se.errors.TIMEOUT,{timeout:n}))},n);C.unref&&C.unref(),f.push(()=>{clearTimeout(C)})}})})}getBlockNumber(){return nt(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return nt(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return ce.from(e)}catch(r){return wt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return nt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield yr({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return ce.from(i)}catch(l){return wt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:l})}})}getTransactionCount(e,r){return nt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield yr({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return ce.from(i).toNumber()}catch(l){return wt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:l})}})}getCode(e,r){return nt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield yr({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return qe(i)}catch(l){return wt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:l})}})}getStorageAt(e,r,n){return nt(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield yr({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(c=>Ud(c))}),l=yield this.perform("getStorageAt",i);try{return qe(l)}catch(c){return wt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:l,error:c})}})}_wrapTransaction(e,r,n){if(r!=null&&Ii(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&wt.throwError("Transaction hash mismatch from Provider.sendTransaction.",se.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(l,c)=>nt(this,void 0,void 0,function*(){l==null&&(l=1),c==null&&(c=0);let d;l!==0&&n!=null&&(d={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const f=yield this._waitForTransaction(e.hash,l,c,d);return f==null&&l===0?null:(this._emitted["t:"+e.hash]=f.blockNumber,f.status===0&&wt.throwError("transaction failed",se.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:f}),f)}),i}sendTransaction(e){return nt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(l=>qe(l)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const l=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,l,i)}catch(l){throw l.transaction=n,l.transactionHash=n.hash,l}})}_getTransactionRequest(e){return nt(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(l=>l?this._getAddress(l):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(l=>l?ce.from(l):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(l=>l??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(l=>l?qe(l):null))}),this.formatter.transactionRequest(yield yr(n))})}_getFilter(e){return nt(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield yr(r))})}_call(e,r,n){return nt(this,void 0,void 0,function*(){n>=nT&&wt.throwError("CCIP read exceeded maximum redirections",se.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,l=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&l.substring(0,10)==="0x556f1830"&&Ii(l)%32===4)try{const c=Gr(l,4),d=Gr(c,0,32);ce.from(d).eq(i)||wt.throwError("CCIP Read sender did not match",se.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:l});const f=[],m=ce.from(Gr(c,32,64)).toNumber(),p=ce.from(Gr(c,m,m+32)).toNumber(),x=Gr(c,m+32);for(let D=0;D<p;D++){const O=hd(x,D*32);O==null&&wt.throwError("CCIP Read contained corrupt URL string",se.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:l}),f.push(O)}const C=mc(c,64);ce.from(Gr(c,100,128)).isZero()||wt.throwError("CCIP Read callback selector included junk",se.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:l});const w=Gr(c,96,100),P=mc(c,128),E=yield this.ccipReadFetch(e,C,f);E==null&&wt.throwError("CCIP Read disabled or provided no URLs",se.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:l});const I={to:i,data:gn([w,hw([E,P])])};return this._call(I,r,n+1)}catch(c){if(c.code===se.errors.SERVER_ERROR)throw c}try{return qe(l)}catch(c){return wt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:l,error:c})}})}call(e,r){return nt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield yr({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return nt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield yr({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return ce.from(n)}catch(i){return wt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return nt(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&wt.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&wt.throwError("ENS name not configured",se.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return nt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(pt(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),pt(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{wt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Wa(()=>nt(this,void 0,void 0,function*(){const l=yield this.perform("getBlock",i);if(l==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let c=null;for(let f=0;f<l.transactions.length;f++){const m=l.transactions[f];if(m.blockNumber==null)m.confirmations=0;else if(m.confirmations==null){c==null&&(c=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let p=c-m.blockNumber+1;p<=0&&(p=1),m.confirmations=p}}const d=this.formatter.blockWithTransactions(l);return d.transactions=d.transactions.map(f=>this._wrapTransaction(f)),d}return this.formatter.block(l)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return nt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Wa(()=>nt(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let c=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;c<=0&&(c=1),i.confirmations=c}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return nt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Wa(()=>nt(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let c=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;c<=0&&(c=1),i.confirmations=c}return i}),{oncePoll:this})})}getLogs(e){return nt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield yr({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),_e.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return nt(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return nt(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&wt.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return nt(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new av(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return nt(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||wt.throwError("network does not support ENS",se.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+cd(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return nt(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(pt(e))throw n}typeof e!="string"&&wt.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return nt(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=hd(yield this.call({to:n,data:"0x691f3431"+cd(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return nt(this,void 0,void 0,function*(){let r=null;if(pt(e)){const l=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",c=yield this._getResolver(l,"getAvatar");if(!c)return null;r=new av(this,c,l);try{const d=yield r.getAvatar();if(d)return d.url}catch(d){if(d.code!==se.errors.CALL_EXCEPTION)throw d}try{const d=hd(yield this.call({to:c,data:"0x691f3431"+cd(l).substring(2)}),0);r=yield this.getResolver(d)}catch(d){if(d.code!==se.errors.CALL_EXCEPTION)throw d;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return wt.throwError(e+" not implemented",se.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new iT(_a(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],l=_a(e);return this._events=this._events.filter(c=>c.tag!==l?!0:(setTimeout(()=>{c.listener.apply(this,r)},0),n=!0,c.once?(i.push(c),!1):!0)),i.forEach(c=>{this._stopEvent(c)}),n}listenerCount(e){if(!e)return this._events.length;let r=_a(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=_a(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,l=_a(e);return this._events=this._events.filter(c=>c.tag!==l||c.listener!=r||i?!0:(i=!0,n.push(c),!1)),n.forEach(c=>{this._stopEvent(c)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=_a(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var no=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(p){try{m(n.next(p))}catch(x){c(x)}}function f(p){try{m(n.throw(p))}catch(x){c(x)}}function m(p){p.done?l(p.value):i(p.value).then(d,f)}m((n=n.apply(t,e||[])).next())})};const xr=new se(Br),uT=["call","estimateGas"];function rc(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=pt(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=rc(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return rc(JSON.parse(t),e)}catch{}return null}function mw(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const l=rc(e,!0);if(l)return l.data;xr.throwError("missing revert data in call exception; Transaction reverted without a reason string",se.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let l=rc(e.body,!1);l==null&&(l=rc(e,!1)),l&&xr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",se.errors.UNPREDICTABLE_GAS_LIMIT,{reason:l.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===se.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&xr.throwError("insufficient funds for intrinsic transaction cost",se.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&xr.throwError("nonce has already been used",se.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&xr.throwError("replacement fee too low",se.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&xr.throwError("legacy pre-eip-155 transactions not supported",se.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),uT.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&xr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",se.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function lv(t){return new Promise(function(e){setTimeout(e,t)})}function dT(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function ql(t){return t&&t.toLowerCase()}const Zm={};class pw extends Sc{constructor(e,r,n){if(super(),e!==Zm)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");me(this,"provider",r),n==null&&(n=0),typeof n=="string"?(me(this,"_address",this.provider.formatter.address(n)),me(this,"_index",null)):typeof n=="number"?(me(this,"_index",n),me(this,"_address",null)):xr.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return xr.throwError("cannot alter JSON-RPC Signer connection",se.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new fT(Zm,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&xr.throwError("unknown account #"+this._index,se.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=nr(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=nr(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>no(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&xr.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),yr({tx:yr(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&xr.throwArgumentError("from address mismatch","transaction",e):n.from=i;const l=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[l]).then(c=>c,c=>(typeof c.message=="string"&&c.message.match(/user denied/i)&&xr.throwError("user rejected transaction",se.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),mw("sendTransaction",c,l)))})}signTransaction(e){return xr.throwError("signing transactions is unsupported",se.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return no(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield Wa(()=>no(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return no(this,void 0,void 0,function*(){const r=typeof e=="string"?Bs(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[qe(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&xr.throwError("user rejected signing",se.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return no(this,void 0,void 0,function*(){const r=typeof e=="string"?Bs(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),qe(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&xr.throwError("user rejected signing",se.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return no(this,void 0,void 0,function*(){const i=yield An.resolveNames(e,r,n,c=>this.provider.resolveName(c)),l=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[l.toLowerCase(),JSON.stringify(An.getPayload(i.domain,r,i.value))])}catch(c){throw typeof c.message=="string"&&c.message.match(/user denied/i)&&xr.throwError("user rejected signing",se.errors.ACTION_REJECTED,{action:"_signTypedData",from:l,messageData:{domain:i.domain,types:r,value:i.value}}),c}})}unlock(e){return no(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class fT extends pw{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const hT={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Za extends zp{constructor(e,r){let n=r;n==null&&(n=new Promise((i,l)=>{setTimeout(()=>{this.detectNetwork().then(c=>{i(c)},c=>{l(c)})},0)})),super(n),e||(e=Rn(this.constructor,"defaultUrl")()),typeof e=="string"?me(this,"connection",Object.freeze({url:e})):me(this,"connection",Object.freeze(nr(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return no(this,void 0,void 0,function*(){yield lv(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=Rn(this.constructor,"getNetwork");try{return r(ce.from(e).toNumber())}catch(n){return xr.throwError("could not detect network",se.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return xr.throwError("could not detect network",se.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new pw(Zm,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Mn(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const l=Kd(this.connection,JSON.stringify(n),dT).then(c=>(this.emit("debug",{action:"response",request:n,response:c,provider:this}),c),c=>{throw this.emit("debug",{action:"response",error:c,request:n,provider:this}),c});return i&&(this._cache[e]=l,setTimeout(()=>{this._cache[e]=null},0)),l}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[ql(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[ql(r.address),r.blockTag]];case"getCode":return["eth_getCode",[ql(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[ql(r.address),Yt(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[Rn(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[Rn(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=ql(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return no(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&ce.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const l=yield this.getFeeData();l.maxFeePerGas==null&&l.maxPriorityFeePerGas==null&&(r=nr(r),r.transaction=nr(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&xr.throwError(e+" not implemented",se.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return mw(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(l){if(e._pendingFilter!=r)return null;let c=Promise.resolve();return l.forEach(function(d){e._emitted["t:"+d.toLowerCase()]="pending",c=c.then(function(){return e.getTransaction(d).then(function(f){return e.emit("pending",f),null})})}),c.then(function(){return lv(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(l=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=nr(hT);if(r)for(const l in r)r[l]&&(n[l]=!0);_E(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(l){if(e[l]==null)return;const c=Ud(ce.from(e[l]));l==="gasLimit"&&(l="gas"),i[l]=c}),["from","to","data"].forEach(function(l){e[l]!=null&&(i[l]=qe(e[l]))}),e.accessList&&(i.accessList=Ji(e.accessList)),i}}let nc=null;try{if(nc=WebSocket,nc==null)throw new Error("inject please")}catch{const e=new se(Br);nc=function(){e.throwError("WebSockets not supported in this environment",se.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var Sm=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(p){try{m(n.next(p))}catch(x){c(x)}}function f(p){try{m(n.throw(p))}catch(x){c(x)}}function m(p){p.done?l(p.value):i(p.value).then(d,f)}m((n=n.apply(t,e||[])).next())})};const $u=new se(Br);let mT=1;class Lp extends Za{constructor(e,r){r==="any"&&$u.throwError("WebSocketProvider does not support 'any' network yet",se.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,r):super("_websocket",r),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?me(this,"_websocket",new nc(this.connection.url)):me(this,"_websocket",e),me(this,"_requests",{}),me(this,"_subs",{}),me(this,"_subIds",{}),me(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(i=>{this.websocket.send(this._requests[i].payload)})},this.websocket.onmessage=i=>{const l=i.data,c=JSON.parse(l);if(c.id!=null){const d=String(c.id),f=this._requests[d];if(delete this._requests[d],c.result!==void 0)f.callback(null,c.result),this.emit("debug",{action:"response",request:JSON.parse(f.payload),response:c.result,provider:this});else{let m=null;c.error?(m=new Error(c.error.message||"unknown error"),me(m,"code",c.error.code||null),me(m,"response",l)):m=new Error("unknown error"),f.callback(m,void 0),this.emit("debug",{action:"response",error:m,request:JSON.parse(f.payload),provider:this})}}else if(c.method==="eth_subscription"){const d=this._subs[c.params.subscription];d&&d.processFunc(c.params.result)}else console.warn("this should not happen")};const n=setInterval(()=>{this.emit("poll")},1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){$u.throwError("cannot reset events block on WebSocketProvider",se.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){$u.throwError("cannot set polling interval on WebSocketProvider",se.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return Sm(this,void 0,void 0,function*(){return null})}set polling(e){e&&$u.throwError("cannot set polling on WebSocketProvider",se.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,r){const n=mT++;return new Promise((i,l)=>{function c(f,m){return f?l(f):i(m)}const d=JSON.stringify({method:e,params:r,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(d),provider:this}),this._requests[String(n)]={callback:c,payload:d},this._wsReady&&this.websocket.send(d)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,r,n){return Sm(this,void 0,void 0,function*(){let i=this._subIds[e];i==null&&(i=Promise.all(r).then(c=>this.send("eth_subscribe",c)),this._subIds[e]=i);const l=yield i;this._subs[l]={tag:e,processFunc:n}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],r=>{const n=ce.from(r.number).toNumber();this._emitted.block=n,this.emit("block",n)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],r=>{this.emit("pending",r)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],r=>{r.removed==null&&(r.removed=!1),this.emit(e.filter,this.formatter.filterLog(r))});break;case"tx":{const r=n=>{const i=n.hash;this.getTransactionReceipt(i).then(l=>{l&&this.emit(i,l)})};r(e),this._subscribe("tx",["newHeads"],n=>{this._events.filter(i=>i.type==="tx").forEach(r)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let r=e.tag;if(e.type==="tx"){if(this._events.filter(i=>i.type==="tx").length)return;r="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[r];n&&(delete this._subIds[r],n.then(i=>{this._subs[i]&&(delete this._subs[i],this.send("eth_unsubscribe",[i]))}))}destroy(){return Sm(this,void 0,void 0,function*(){this.websocket.readyState===nc.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var pT=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(p){try{m(n.next(p))}catch(x){c(x)}}function f(p){try{m(n.throw(p))}catch(x){c(x)}}function m(p){p.done?l(p.value):i(p.value).then(d,f)}m((n=n.apply(t,e||[])).next())})};const Yl=new se(Br);class gT extends Za{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return pT(this,void 0,void 0,function*(){let r=this.network;return r==null&&(r=yield e.detectNetwork.call(this),r||Yl.throwError("no network detected",se.errors.UNKNOWN_ERROR,{}),this._network==null&&(me(this,"_network",r),this.emit("network",r,null))),r})}}class po extends gT{constructor(e,r){Yl.checkAbstract(new.target,po),e=Rn(new.target,"getNetwork")(e),r=Rn(new.target,"getApiKey")(r);const n=Rn(new.target,"getUrl")(e,r);super(n,e),typeof r=="string"?me(this,"apiKey",r):r!=null&&Object.keys(r).forEach(i=>{me(this,i,r[i])})}_startPending(){Yl.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return Yl.throwError("API provider does not support signing",se.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,r){return Yl.throwError("not implemented; sub-classes must override getUrl",se.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const cv=new se(Br),md="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class yT extends Lp{constructor(e,r){const n=new gw(e,r),i=n.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(i,n.network),me(this,"apiKey",n.apiKey)}isCommunityResource(){return this.apiKey===md}}class gw extends po{static getWebSocketProvider(e,r){return new yT(e,r)}static getApiKey(e){return e==null?md:(e&&typeof e!="string"&&cv.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,r){let n=null;switch(e.name){case"homestead":n="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":n="eth-goerli.g.alchemy.com/v2/";break;case"sepolia":n="eth-sepolia.g.alchemy.com/v2/";break;case"matic":n="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":n="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":n="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":n="arb-goerli.g.alchemy.com/v2/";break;case"arbitrum-sepolia":n="arb-sepolia.g.alchemy.com/v2/";break;case"optimism":n="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":n="opt-goerli.g.alchemy.com/v2/";break;case"optimism-sepolia":n="opt-sepolia.g.alchemy.com/v2/";break;default:cv.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+n+r,throttleCallback:(i,l)=>(r===md&&Yd(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===md}}const xT=new se(Br),Wu="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function vT(t){switch(t){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"sepolia":return"rpc.ankr.com/eth_sepolia/";case"matic":return"rpc.ankr.com/polygon/";case"maticmum":return"rpc.ankr.com/polygon_mumbai/";case"optimism":return"rpc.ankr.com/optimism/";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet/";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return xT.throwArgumentError("unsupported network","name",t)}class bT extends po{isCommunityResource(){return this.apiKey===Wu}static getApiKey(e){return e??Wu}static getUrl(e,r){r==null&&(r=Wu);const n={allowGzip:!0,url:"https://"+vT(e.name)+r,throttleCallback:(i,l)=>(r.apiKey===Wu&&Yd(),Promise.resolve(!0))};return r.projectSecret!=null&&(n.user="",n.password=r.projectSecret),n}}var wT=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(p){try{m(n.next(p))}catch(x){c(x)}}function f(p){try{m(n.throw(p))}catch(x){c(x)}}function m(p){p.done?l(p.value):i(p.value).then(d,f)}m((n=n.apply(t,e||[])).next())})};const uv=new se(Br);class kT extends po{static getApiKey(e){return e!=null&&uv.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,r){let n=null;switch(e.name){case"homestead":n="https://cloudflare-eth.com/";break;default:uv.throwArgumentError("unsupported network","network",arguments[0])}return n}perform(e,r){const n=Object.create(null,{perform:{get:()=>super.perform}});return wT(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield n.perform.call(this,"getBlock",{blockTag:"latest"})).number:n.perform.call(this,e,r)})}}var qu=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(p){try{m(n.next(p))}catch(x){c(x)}}function f(p){try{m(n.throw(p))}catch(x){c(x)}}function m(p){p.done?l(p.value):i(p.value).then(d,f)}m((n=n.apply(t,e||[])).next())})};const Vo=new se(Br);function dv(t){const e={};for(let r in t){if(t[r]==null)continue;let n=t[r];r==="type"&&n===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?n=Ud(qe(n)):r==="accessList"?n="["+Ji(n).map(i=>`{address:"${i.address}",storageKeys:["${i.storageKeys.join('","')}"]}`).join(",")+"]":n=qe(n),e[r]=n)}return e}function NT(t){if(t.status==0&&(t.message==="No records found"||t.message==="No transactions found"))return t.result;if(t.status!=1||typeof t.message!="string"||!t.message.match(/^OK/)){const e=new Error("invalid response");throw e.result=JSON.stringify(t),(t.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return t.result}function fv(t){if(t&&t.status==0&&t.message=="NOTOK"&&(t.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(t),e.throttleRetry=!0,e}if(t.jsonrpc!="2.0"){const e=new Error("invalid response");throw e.result=JSON.stringify(t),e}if(t.error){const e=new Error(t.error.message||"unknown error");throw t.error.code&&(e.code=t.error.code),t.error.data&&(e.data=t.error.data),e}return t.result}function hv(t){if(t==="pending")throw new Error("pending not supported");return t==="latest"?t:parseInt(t.substring(2),16)}function Tm(t,e,r){if(t==="call"&&e.code===se.errors.SERVER_ERROR){const i=e.error;if(i&&(i.message.match(/reverted/i)||i.message.match(/VM execution error/i))){let l=i.data;if(l&&(l="0x"+l.replace(/^.*0x/i,"")),pt(l))return l;Vo.throwError("missing revert data in call exception",se.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let n=e.message;throw e.code===se.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?n=e.error.message:typeof e.body=="string"?n=e.body:typeof e.responseText=="string"&&(n=e.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&Vo.throwError("insufficient funds for intrinsic transaction cost",se.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&Vo.throwError("nonce has already been used",se.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),n.match(/another transaction with same nonce/)&&Vo.throwError("replacement fee too low",se.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),n.match(/execution failed due to an exception|execution reverted/)&&Vo.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",se.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}class CT extends zp{constructor(e,r){super(e),me(this,"baseUrl",this.getBaseUrl()),me(this,"apiKey",r||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return Vo.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,r){const n=Object.keys(r).reduce((l,c)=>{const d=r[c];return d!=null&&(l+=`&${c}=${d}`),l},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${n}${i}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,r){return r.module=e,r.apikey=this.apiKey,r}fetch(e,r,n){return qu(this,void 0,void 0,function*(){const i=n?this.getPostUrl():this.getUrl(e,r),l=n?this.getPostData(e,r):null,c=e==="proxy"?fv:NT;this.emit("debug",{action:"request",request:i,provider:this});const d={url:i,throttleSlotInterval:1e3,throttleCallback:(p,x)=>(this.isCommunityResource()&&Yd(),Promise.resolve(!0))};let f=null;l&&(d.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},f=Object.keys(l).map(p=>`${p}=${l[p]}`).join("&"));const m=yield Kd(d,f,c||fv);return this.emit("debug",{action:"response",request:i,response:Mn(m),provider:this}),m})}detectNetwork(){return qu(this,void 0,void 0,function*(){return this.network})}perform(e,r){const n=Object.create(null,{perform:{get:()=>super.perform}});return qu(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:r.address,tag:r.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:r.address,tag:r.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:r.address,tag:r.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:r.address,position:r.position,tag:r.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:r.signedTransaction},!0).catch(i=>Tm("sendTransaction",i,r.signedTransaction));case"getBlock":if(r.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:r.blockTag,boolean:r.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:r.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:r.transactionHash});case"call":{if(r.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const i=dv(r.transaction);i.module="proxy",i.action="eth_call";try{return yield this.fetch("proxy",i,!0)}catch(l){return Tm("call",l,r.transaction)}}case"estimateGas":{const i=dv(r.transaction);i.module="proxy",i.action="eth_estimateGas";try{return yield this.fetch("proxy",i,!0)}catch(l){return Tm("estimateGas",l,r.transaction)}}case"getLogs":{const i={action:"getLogs"};if(r.filter.fromBlock&&(i.fromBlock=hv(r.filter.fromBlock)),r.filter.toBlock&&(i.toBlock=hv(r.filter.toBlock)),r.filter.address&&(i.address=r.filter.address),r.filter.topics&&r.filter.topics.length>0&&(r.filter.topics.length>1&&Vo.throwError("unsupported topic count",se.errors.UNSUPPORTED_OPERATION,{topics:r.filter.topics}),r.filter.topics.length===1)){const d=r.filter.topics[0];(typeof d!="string"||d.length!==66)&&Vo.throwError("unsupported topic format",se.errors.UNSUPPORTED_OPERATION,{topic0:d}),i.topic0=d}const l=yield this.fetch("logs",i);let c={};for(let d=0;d<l.length;d++){const f=l[d];if(f.blockHash==null){if(c[f.blockNumber]==null){const m=yield this.getBlock(f.blockNumber);m&&(c[f.blockNumber]=m.hash)}f.blockHash=c[f.blockNumber]}}return l}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return n.perform.call(this,e,r)})}getHistory(e,r,n){return qu(this,void 0,void 0,function*(){const i={action:"txlist",address:yield this.resolveName(e),startblock:r??0,endblock:n??99999999,sort:"asc"};return(yield this.fetch("account",i)).map(c=>{["contractAddress","to"].forEach(function(f){c[f]==""&&delete c[f]}),c.creates==null&&c.contractAddress!=null&&(c.creates=c.contractAddress);const d=this.formatter.transactionResponse(c);return c.timeStamp&&(d.timestamp=parseInt(c.timeStamp)),d})})}isCommunityResource(){return this.apiKey==null}}var Pd=function(t,e,r,n){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(p){try{m(n.next(p))}catch(x){c(x)}}function f(p){try{m(n.throw(p))}catch(x){c(x)}}function m(p){p.done?l(p.value):i(p.value).then(d,f)}m((n=n.apply(t,e||[])).next())})};const Ri=new se(Br);function Hu(){return new Date().getTime()}function mv(t){let e=null;for(let r=0;r<t.length;r++){const n=t[r];if(n==null)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||e.ensAddress==null&&n.ensAddress==null)||Ri.throwArgumentError("provider mismatch","networks",t):e=n}return e}function pv(t,e){t=t.slice().sort();const r=Math.floor(t.length/2);if(t.length%2)return t[r];const n=t[r-1],i=t[r];return e!=null&&Math.abs(n-i)>e?null:(n+i)/2}function qa(t){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return JSON.stringify(t);if(typeof t=="string")return t;if(ce.isBigNumber(t))return t.toString();if(Array.isArray(t))return JSON.stringify(t.map(e=>qa(e)));if(typeof t=="object"){const e=Object.keys(t);return e.sort(),"{"+e.map(r=>{let n=t[r];return typeof n=="function"?n="[function]":n=qa(n),JSON.stringify(r)+":"+n}).join(",")+"}"}throw new Error("unknown value type: "+typeof t)}let ET=1;function gv(t){let e=null,r=null,n=new Promise(c=>{e=function(){r&&(clearTimeout(r),r=null),c()},r=setTimeout(e,t)});const i=c=>(n=n.then(c),n);function l(){return n}return{cancel:e,getPromise:l,wait:i}}const AT=[se.errors.CALL_EXCEPTION,se.errors.INSUFFICIENT_FUNDS,se.errors.NONCE_EXPIRED,se.errors.REPLACEMENT_UNDERPRICED,se.errors.UNPREDICTABLE_GAS_LIMIT],ST=["address","args","errorArgs","errorSignature","method","transaction"];function Gu(t,e){const r={weight:t.weight};return Object.defineProperty(r,"provider",{get:()=>t.provider}),t.start&&(r.start=t.start),e&&(r.duration=e-t.start),t.done&&(t.error?r.error=t.error:r.result=t.result||null),r}function TT(t,e){return function(r){const n={};r.forEach(l=>{const c=t(l.result);n[c]||(n[c]={count:0,result:l.result}),n[c].count++});const i=Object.keys(n);for(let l=0;l<i.length;l++){const c=n[i[l]];if(c.count>=e)return c.result}}}function PT(t,e,r){let n=qa;switch(e){case"getBlockNumber":return function(i){const l=i.map(d=>d.result);let c=pv(i.map(d=>d.result),2);if(c!=null)return c=Math.ceil(c),l.indexOf(c+1)>=0&&c++,c>=t._highestBlockNumber&&(t._highestBlockNumber=c),t._highestBlockNumber};case"getGasPrice":return function(i){const l=i.map(c=>c.result);return l.sort(),l[Math.floor(l.length/2)]};case"getEtherPrice":return function(i){return pv(i.map(l=>l.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(i){return i==null?null:(i=nr(i),i.confirmations=-1,qa(i))};break;case"getBlock":r.includeTransactions?n=function(i){return i==null?null:(i=nr(i),i.transactions=i.transactions.map(l=>(l=nr(l),l.confirmations=-1,l)),qa(i))}:n=function(i){return i==null?null:qa(i)};break;default:throw new Error("unknown method: "+e)}return TT(n,t.quorum)}function Hl(t,e){return Pd(this,void 0,void 0,function*(){const r=t.provider;return r.blockNumber!=null&&r.blockNumber>=e||e===-1?r:Wa(()=>new Promise((n,i)=>{setTimeout(function(){return r.blockNumber>=e?n(r):t.cancelled?n(null):n(void 0)},0)}),{oncePoll:r})})}function jT(t,e,r,n){return Pd(this,void 0,void 0,function*(){let i=t.provider;switch(r){case"getBlockNumber":case"getGasPrice":return i[r]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&pt(n.blockTag)&&(i=yield Hl(t,e)),i[r](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&pt(n.blockTag)&&(i=yield Hl(t,e)),i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&pt(n.blockTag)&&(i=yield Hl(t,e)),i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&pt(n.blockTag)&&(i=yield Hl(t,e)),r==="call"&&n.blockTag?i[r](n.transaction,n.blockTag):i[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[r](n.transactionHash);case"getLogs":{let l=n.filter;return(l.fromBlock&&pt(l.fromBlock)||l.toBlock&&pt(l.toBlock))&&(i=yield Hl(t,e)),i.getLogs(l)}}return Ri.throwError("unknown method error",se.errors.UNKNOWN_ERROR,{method:r,params:n})})}class RT extends zp{constructor(e,r){e.length===0&&Ri.throwArgumentError("missing providers","providers",e);const n=e.map((c,d)=>{if(Ac.isProvider(c)){const p=Zx(c)?2e3:750;return Object.freeze({provider:c,weight:1,stallTimeout:p,priority:1})}const f=nr(c);f.priority==null&&(f.priority=1),f.stallTimeout==null&&(f.stallTimeout=Zx(c)?2e3:750),f.weight==null&&(f.weight=1);const m=f.weight;return(m%1||m>512||m<1)&&Ri.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${d}].weight`,m),Object.freeze(f)}),i=n.reduce((c,d)=>c+d.weight,0);r==null?r=i/2:r>i&&Ri.throwArgumentError("quorum will always fail; larger than total weight","quorum",r);let l=mv(n.map(c=>c.provider.network));l==null&&(l=new Promise((c,d)=>{setTimeout(()=>{this.detectNetwork().then(c,d)},0)})),super(l),me(this,"providerConfigs",Object.freeze(n)),me(this,"quorum",r),this._highestBlockNumber=-1}detectNetwork(){return Pd(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(r=>r.provider.getNetwork()));return mv(e)})}perform(e,r){return Pd(this,void 0,void 0,function*(){if(e==="sendTransaction"){const f=yield Promise.all(this.providerConfigs.map(m=>m.provider.sendTransaction(r.signedTransaction).then(p=>p.hash,p=>p)));for(let m=0;m<f.length;m++){const p=f[m];if(typeof p=="string")return p}throw f[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const n=PT(this,e,r),i=HS(this.providerConfigs.map(nr));i.sort((f,m)=>f.priority-m.priority);const l=this._highestBlockNumber;let c=0,d=!0;for(;;){const f=Hu();let m=i.filter(w=>w.runner&&f-w.start<w.stallTimeout).reduce((w,P)=>w+P.weight,0);for(;m<this.quorum&&c<i.length;){const w=i[c++],P=ET++;w.start=Hu(),w.staller=gv(w.stallTimeout),w.staller.wait(()=>{w.staller=null}),w.runner=jT(w,l,e,r).then(E=>{w.done=!0,w.result=E,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:P,backend:Gu(w,Hu()),request:{method:e,params:Mn(r)},provider:this})},E=>{w.done=!0,w.error=E,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:P,backend:Gu(w,Hu()),request:{method:e,params:Mn(r)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:P,backend:Gu(w,null),request:{method:e,params:Mn(r)},provider:this}),m+=w.weight}const p=[];i.forEach(w=>{w.done||!w.runner||(p.push(w.runner),w.staller&&p.push(w.staller.getPromise()))}),p.length&&(yield Promise.race(p));const x=i.filter(w=>w.done&&w.error==null);if(x.length>=this.quorum){const w=n(x);if(w!==void 0)return i.forEach(P=>{P.staller&&P.staller.cancel(),P.cancelled=!0}),w;d||(yield gv(100).getPromise()),d=!1}const C=i.reduce((w,P)=>{if(!P.done||P.error==null)return w;const E=P.error.code;return AT.indexOf(E)>=0&&(w[E]||(w[E]={error:P.error,weight:0}),w[E].weight+=P.weight),w},{});if(Object.keys(C).forEach(w=>{const P=C[w];if(P.weight<this.quorum)return;i.forEach(D=>{D.staller&&D.staller.cancel(),D.cancelled=!0});const E=P.error,I={};ST.forEach(D=>{E[D]!=null&&(I[D]=E[D])}),Ri.throwError(E.reason||E.message,w,I)}),i.filter(w=>!w.done).length===0)break}return i.forEach(f=>{f.staller&&f.staller.cancel(),f.cancelled=!0}),Ri.throwError("failed to meet quorum",se.errors.SERVER_ERROR,{method:e,params:r,results:i.map(f=>Gu(f)),provider:this})})}}const MT=null,pd=new se(Br),Ql="84842078b09946638c03157f83405213";class IT extends Lp{constructor(e,r){const n=new yw(e,r),i=n.connection;i.password&&pd.throwError("INFURA WebSocket project secrets unsupported",se.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const l=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(l,e),me(this,"apiKey",n.projectId),me(this,"projectId",n.projectId),me(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===Ql}}class yw extends po{static getWebSocketProvider(e,r){return new IT(e,r)}static getApiKey(e){const r={apiKey:Ql,projectId:Ql,projectSecret:null};return e==null||(typeof e=="string"?r.projectId=e:e.projectSecret!=null?(pd.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),pd.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),r.projectId=e.projectId,r.projectSecret=e.projectSecret):e.projectId&&(r.projectId=e.projectId),r.apiKey=r.projectId),r}static getUrl(e,r){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"goerli":n="goerli.infura.io";break;case"sepolia":n="sepolia.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-goerli":n="optimism-goerli.infura.io";break;case"optimism-sepolia":n="optimism-sepolia.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":n="arbitrum-goerli.infura.io";break;case"arbitrum-sepolia":n="arbitrum-sepolia.infura.io";break;default:pd.throwError("unsupported network",se.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i={allowGzip:!0,url:"https://"+n+"/v3/"+r.projectId,throttleCallback:(l,c)=>(r.projectId===Ql&&Yd(),Promise.resolve(!0))};return r.projectSecret!=null&&(i.user="",i.password=r.projectSecret),i}isCommunityResource(){return this.projectId===Ql}}const Pm=new se(Br),_T="ETHERS_JS_SHARED";class DT extends po{static getApiKey(e){return e&&typeof e!="string"&&Pm.throwArgumentError("invalid apiKey","apiKey",e),e||_T}static getUrl(e,r){Pm.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let n=null;switch(e.name){case"homestead":n="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":n="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":n="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":n="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":n="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:Pm.throwArgumentError("unsupported network","network",arguments[0])}return n+"?apiKey="+r}}const yv=new se(Br),xv="62e1ad51b37b8e00394bda3b";class zT extends po{static getApiKey(e){const r={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return e==null?r.applicationId=xv:typeof e=="string"?r.applicationId=e:e.applicationSecretKey!=null?(r.applicationId=e.applicationId,r.applicationSecretKey=e.applicationSecretKey):e.applicationId?r.applicationId=e.applicationId:yv.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),r}static getUrl(e,r){let n=null;switch(e?e.name:"unknown"){case"goerli":n="eth-goerli.gateway.pokt.network";break;case"homestead":n="eth-mainnet.gateway.pokt.network";break;case"kovan":n="poa-kovan.gateway.pokt.network";break;case"matic":n="poly-mainnet.gateway.pokt.network";break;case"maticmum":n="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":n="eth-rinkeby.gateway.pokt.network";break;case"ropsten":n="eth-ropsten.gateway.pokt.network";break;default:yv.throwError("unsupported network",se.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i=`https://${n}/v1/lb/${r.applicationId}`,l={headers:{},url:i};return r.applicationSecretKey!=null&&(l.user="",l.password=r.applicationSecretKey),l}isCommunityResource(){return this.applicationId===xv}}const vv=new se(Br),LT="919b412a057b5e9c9b6dce193c5a60242d6efadb";class OT extends po{static getApiKey(e){return e&&typeof e!="string"&&vv.throwArgumentError("invalid apiKey","apiKey",e),e||LT}static getUrl(e,r){let n=null;switch(e.name){case"homestead":n="ethers.quiknode.pro";break;case"goerli":n="ethers.ethereum-goerli.quiknode.pro";break;case"sepolia":n="ethers.ethereum-sepolia.quiknode.pro";break;case"holesky":n="ethers.ethereum-holesky.quiknode.pro";break;case"arbitrum":n="ethers.arbitrum-mainnet.quiknode.pro";break;case"arbitrum-goerli":n="ethers.arbitrum-goerli.quiknode.pro";break;case"arbitrum-sepolia":n="ethers.arbitrum-sepolia.quiknode.pro";break;case"base":n="ethers.base-mainnet.quiknode.pro";break;case"base-goerli":n="ethers.base-goerli.quiknode.pro";break;case"base-spolia":n="ethers.base-sepolia.quiknode.pro";break;case"bnb":n="ethers.bsc.quiknode.pro";break;case"bnbt":n="ethers.bsc-testnet.quiknode.pro";break;case"matic":n="ethers.matic.quiknode.pro";break;case"maticmum":n="ethers.matic-testnet.quiknode.pro";break;case"optimism":n="ethers.optimism.quiknode.pro";break;case"optimism-goerli":n="ethers.optimism-goerli.quiknode.pro";break;case"optimism-sepolia":n="ethers.optimism-sepolia.quiknode.pro";break;case"xdai":n="ethers.xdai.quiknode.pro";break;default:vv.throwArgumentError("unsupported network","network",arguments[0])}return"https://"+n+"/"+r}}const bv=new se(Br);let FT=1;function wv(t,e){const r="Web3LegacyFetcher";return function(n,i){const l={method:n,params:i,id:FT++,jsonrpc:"2.0"};return new Promise((c,d)=>{this.emit("debug",{action:"request",fetcher:r,request:Mn(l),provider:this}),e(l,(f,m)=>{if(f)return this.emit("debug",{action:"response",fetcher:r,error:f,request:l,provider:this}),d(f);if(this.emit("debug",{action:"response",fetcher:r,request:l,response:m,provider:this}),m.error){const p=new Error(m.error.message);return p.code=m.error.code,p.data=m.error.data,d(p)}c(m.result)})})}}function BT(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Mn(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class Jo extends Za{constructor(e,r){e==null&&bv.throwArgumentError("missing provider","provider",e);let n=null,i=null,l=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),l=e,e.request?(n===""&&(n="eip-1193:"),i=BT(e)):e.sendAsync?i=wv(e,e.sendAsync.bind(e)):e.send?i=wv(e,e.send.bind(e)):bv.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),me(this,"jsonRpcFetchFunc",i),me(this,"provider",l)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}const kv=new se(Br);function Va(t,e){if(t==null&&(t="homestead"),typeof t=="string"){const n=t.match(/^(ws|http)s?:/i);if(n)switch(n[1].toLowerCase()){case"http":case"https":return new Za(t);case"ws":case"wss":return new Lp(t);default:kv.throwArgumentError("unsupported URL scheme","network",t)}}const r=dw(t);return(!r||!r._defaultProvider)&&kv.throwError("unsupported getDefaultProvider network",se.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:t}),r._defaultProvider({FallbackProvider:RT,AlchemyProvider:gw,AnkrProvider:bT,CloudflareProvider:kT,EtherscanProvider:CT,InfuraProvider:yw,JsonRpcProvider:Za,NodesmithProvider:DT,PocketProvider:zT,QuickNodeProvider:OT,Web3Provider:Jo,IpcProvider:MT},e)}const UT="units/5.8.0",$T=new se(UT),WT=["wei","kwei","mwei","gwei","szabo","finney","ether"];function al(t,e){return ad(t,e)}function _n(t,e){if(typeof t!="string"&&$T.throwArgumentError("value must be a string","value",t),typeof e=="string"){const r=WT.indexOf(e);r!==-1&&(e=3*r)}return Ps(t,e??18)}function Cr(t){return al(t,18)}function Xi(t){return _n(t,18)}const ct={1:{name:"Ethereum Mainnet",rpcUrl:"https://ethereum-rpc.publicnode.com",explorer:"https://etherscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},10:{name:"OP Mainnet",rpcUrl:"https://mainnet.optimism.io",explorer:"https://optimistic.etherscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},56:{name:"BNB Smart Chain",rpcUrl:"https://bsc.blockrazor.xyz",explorer:"https://bscscan.com",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},97:{name:"BNB Smart Chain Testnet",rpcUrl:"https://bsc-testnet-rpc.publicnode.com",explorer:"https://testnet.bscscan.com",nativeCurrency:{name:"Test BNB",symbol:"tBNB",decimals:18},contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},43113:{name:"Avalanche Fuji Testnet",rpcUrl:"https://avalanche-fuji.drpc.org",explorer:"https://testnet.snowscan.xyz",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},contractAddresses:{raffleManager:"0xBCD211473e397d16607aD8F2e2F634055e24D4d4",raffleDeployer:"0x217Aa07d4bE1ad9B711eF1843fD94E0AeB8f1A4f",revenueManager:"0x5abAF190A71Afea5870F241247853e8dE768bEf5",nftFactory:"0xE35523508B88c189FBEd16AEDC53830e4C26875a"}},43114:{name:"Avalanche C-Chain",rpcUrl:"https://avalanche.drpc.org",explorer:"https://snowscan.xyz",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},8453:{name:"Base Mainnet",rpcUrl:"https://base.drpc.org",explorer:"https://basescan.org",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},84532:{name:"Base Sepolia",rpcUrl:"https://base-sepolia-rpc.publicnode.com",explorer:"https://sepolia.basescan.org",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{raffleManager:"0x988113112B84572f9332e131e1A901b53dEfF5cf",raffleDeployer:"0xB7C827D4b90d7d753b97D7828FC04AB8EfF77258",revenueManager:"0x9d89F9948fbf82B7C3d0E53Bc497cB96ae2Ea466",nftFactory:"0x763Ca72A5deFa8c0125df20999fa819F8f3E2445"}},11155111:{name:"Ethereum Sepolia",rpcUrl:"https://sepolia.infura.io",explorer:"https://sepolia.etherscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{raffleManager:"0x0ed4c953be2F304B33d10494A2901e520Df6E526",raffleDeployer:"0xF93E17Dec038427EFCf4B5F7D327Db16dE21797D",revenueManager:"0xb5B2C625d2c2793e38Fdc839B769De0981B42134",nftFactory:"0x6F2E18c907303AeC1034Dec9A66ed91FFf5CB90f"}},11155420:{name:"OP Sepolia Testnet",rpcUrl:"https://sepolia.optimism.io",explorer:"https://sepolia-optimism.etherscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{raffleManager:"0x15479B8233779c4d935B8EFD9CA03d8aC9D1379E",raffleDeployer:"0x240d3184F81BF7D3523f40E718220AE3eaACC8Da",revenueManager:"0xa5558177cAb470C69aa9E701b7701F43Cec44ef0",nftFactory:"0xB5cDac0B3CbA54b26498b6aAe726E14D82D16C2E"}},2020:{name:"Ronin Mainnet",rpcUrl:"https://ronin.drpc.org",explorer:"https://app.roninchain.com/",nativeCurrency:{name:"Ronin",symbol:"RON",decimals:18},contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},2021:{name:"Ronin Saigon Testnet",rpcUrl:"https://saigon-testnet.roninchain.com/rpc",explorer:"https://saigon-app.roninchain.com/explorer",nativeCurrency:{name:"Ronin",symbol:"RON",decimals:18},contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},42161:{name:"Arbitrum One",rpcUrl:"https://arbitrum.drpc.org",explorer:"https://arbiscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{raffleManager:"0x...",raffleDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x..."}},421614:{name:"Arbitrum Sepolia",rpcUrl:"https://endpoints.omniatech.io/v1/arbitrum/sepolia/public",explorer:"https://sepolia.arbiscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{raffleManager:"0xF425Db442318D587f04280956F562C99e52818E3",raffleDeployer:"0xa86aDF75CdE7BA7c23204cdfa095Cd498629091a",revenueManager:"0xd496047e70CEafd89a05C1B63910F10d0180F283",nftFactory:"0x1dF3590f141b6E0992EcE00D65d314Cf5B97D848"}}},xw=b.createContext(),Ot=()=>{const t=b.useContext(xw);if(!t)throw new Error("useWallet must be used within a WalletProvider");return t},qT=({children:t})=>{const[e,r]=b.useState(null),[n,i]=b.useState(null),[l,c]=b.useState(""),[d,f]=b.useState(!1),[m,p]=b.useState(null),[x,C]=b.useState(!1),[w,P]=b.useState(null),[E,I]=b.useState(!1),[D,O]=b.useState(!1);b.useEffect(()=>{S()},[]),b.useEffect(()=>{if(window.ethereum)return window.ethereum.on("accountsChanged",U),window.ethereum.on("chainChanged",$),()=>{window.ethereum.removeListener("accountsChanged",U),window.ethereum.removeListener("chainChanged",$)}},[]),b.useEffect(()=>{m&&ct[m]?P(ct[m]):P(null)},[m]);const S=async()=>{if(window.ethereum)try{(await window.ethereum.request({method:"eth_accounts"})).length>0?await H("metamask"):I(!0)}catch(R){console.error("Error checking connection:",R),I(!0)}else I(!0)},U=R=>{R.length===0?V():c(R[0])},$=R=>{console.log("Chain changed to:",R),O(!0),p(parseInt(R,16)),setTimeout(async()=>{try{window.ethereum&&(await window.ethereum.request({method:"eth_accounts"})).length>0&&await H("metamask")}catch(h){console.error("Error reconnecting after chain change:",h)}finally{setTimeout(()=>{O(!1)},500)}},1500)},H=async R=>{C(!0);try{let h;switch(R){case"metamask":if(!window.ethereum)throw new Error("MetaMask is not installed");await window.ethereum.request({method:"eth_requestAccounts"}),h=new Jo(window.ethereum);break;default:throw new Error("Unsupported wallet type")}const v=h.getSigner(),A=await v.getAddress(),_=await h.getNetwork();r(h),i(v),c(A),p(_.chainId),f(!0),I(!0),localStorage.setItem("walletConnected",R)}catch(h){throw console.error("Error connecting wallet:",h),h}finally{C(!1)}},V=()=>{r(null),i(null),c(""),f(!1),p(null),I(!0),localStorage.removeItem("walletConnected")},W=async R=>{if(!window.ethereum)throw new Error("MetaMask is not installed");try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${R.toString(16)}`}]})}catch(h){throw h.code===4902?new Error("Please add this network to your wallet first"):h}},K=m&&ct[m],q={provider:e,signer:n,address:l,connected:d,chainId:m,loading:x,isInitialized:E,isReconnecting:D,connectWallet:H,disconnect:V,switchNetwork:W,addNetwork:async R=>{if(!window.ethereum)throw new Error("MetaMask is not installed");const h=ct[R];if(!h)throw new Error("Network config not found");try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${R.toString(16)}`,chainName:h.name,rpcUrls:[h.rpcUrl],blockExplorerUrls:[h.explorer],nativeCurrency:h.nativeCurrency||{name:"ETH",symbol:"ETH",decimals:18}}]})}catch(v){throw v}},formatAddress:R=>R?`${R.slice(0,6)}...${R.slice(-4)}`:"",networkInfo:w,isSupportedNetwork:K};return o.jsx(xw.Provider,{value:q,children:t})},HT=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"raffle",type:"address"}],name:"RaffleRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"bool",name:"whitelisted",type:"bool"}],name:"ERC20PrizeWhitelisted",type:"event"},{inputs:[],name:"getAllRaffles",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"addERC20Prize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAllTicketLimits",outputs:[{internalType:"uint256",name:"minPrized",type:"uint256"},{internalType:"uint256",name:"minNonPrized",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDurationLimits",outputs:[{internalType:"uint256",name:"min",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMaxTicketsPerParticipant",outputs:[{internalType:"uint256",name:"max",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minTicketLimitNonPrized",outputs:[{internalType:"uint256",name:"min",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTicketsPerParticipant",outputs:[{internalType:"uint256",name:"max",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"isERC20PrizeWhitelisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"collection",type:"address"}],name:"isInternalCollection",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_collection",type:"address"}],name:"isCollectionApproved",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],GT=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"raffle",type:"address"},{indexed:!0,internalType:"address",name:"creator",type:"address"}],name:"RaffleCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collection",type:"address"}],name:"PrizeCollectionCreated",type:"event"},{inputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"uint256",name:"ticketLimit",type:"uint256"},{internalType:"uint256",name:"winnersCount",type:"uint256"},{internalType:"uint256",name:"maxTicketsPerParticipant",type:"uint256"},{internalType:"bool",name:"isPrized",type:"bool"},{internalType:"uint256",name:"customTicketPrice",type:"uint256"},{internalType:"bool",name:"erc721Drop",type:"bool"},{internalType:"bool",name:"erc1155Drop",type:"bool"},{internalType:"address",name:"prizeCollection",type:"address"},{internalType:"uint8",name:"standard",type:"uint8"},{internalType:"uint256",name:"prizeTokenId",type:"uint256"},{internalType:"uint256",name:"amountPerWinner",type:"uint256"},{internalType:"string",name:"collectionName",type:"string"},{internalType:"string",name:"collectionSymbol",type:"string"},{internalType:"string",name:"collectionBaseURI",type:"string"},{internalType:"address",name:"creator",type:"address"},{internalType:"uint256",name:"royaltyPercentage",type:"uint256"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"address",name:"erc20PrizeToken",type:"address"},{internalType:"uint256",name:"erc20PrizeAmount",type:"uint256"},{internalType:"uint256",name:"nativePrizeAmount",type:"uint256"},{internalType:"uint8",name:"revealType",type:"uint8"},{internalType:"string",name:"unrevealedBaseURI",type:"string"},{internalType:"uint256",name:"revealTime",type:"uint256"},{internalType:"uint8",name:"mintingOrder",type:"uint8"},{internalType:"address",name:"holderTokenAddress",type:"address"},{internalType:"uint8",name:"holderTokenStandard",type:"uint8"},{internalType:"uint256",name:"minHolderTokenBalance",type:"uint256"},{internalType:"uint256",name:"holderTokenId",type:"uint256"}],internalType:"struct RaffleDeployer.RaffleParams",name:"p",type:"tuple"}],name:"createRaffle",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"}],VT=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AdminDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AdminWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"adminRevenue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"depositAdmin",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],KT=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collection",type:"address"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"uint8",name:"standard",type:"uint8"}],name:"PrizeCollectionCreated",type:"event"},{inputs:[{internalType:"uint8",name:"standard",type:"uint8"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"string",name:"baseURI",type:"string"},{internalType:"address",name:"initialOwner",type:"address"},{internalType:"uint256",name:"royaltyPercentage",type:"uint256"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"address",name:"raffleAddress",type:"address"}],name:"createPrizeCollection",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"erc1155Implementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"erc721Implementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"raffleManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"collection",type:"address"},{internalType:"bytes32",name:"signature",type:"bytes32"}],name:"validateSignature",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],YT=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"winner",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"PrizeMinted",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"salePrice",type:"uint256"}],name:"royaltyInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"royaltyPercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"royaltyRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_royaltyPercentage",type:"uint256"},{internalType:"address",name:"_royaltyRecipient",type:"address"}],name:"setRoyalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"minterLocked",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"minter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_minter",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lockMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"reveal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unrevealedBaseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"}],name:"creatorMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"creatorMintedCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"isRevealed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],QT=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"minter","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"PrizeMinted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"values","type":"uint256[]"}],"name":"TransferBatch","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"TransferSingle","type":"event"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"accounts","type":"address[]"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"}],"name":"balanceOfBatch","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"salePrice","type":"uint256"}],"name":"royaltyInfo","outputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"royaltyPercentage","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"royaltyRecipient","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeBatchTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_royaltyPercentage","type":"uint256"},{"internalType":"address","name":"_royaltyRecipient","type":"address"}],"name":"setRoyalty","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"name":"uri","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_minter","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setMinterApproval","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"lockMinterApproval","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unlockMinterApproval","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"reveal","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"uint256","name":"_maxSupply","type":"uint256"}],"name":"createNewToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"string","name":"_uri","type":"string"}],"name":"setURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unrevealedURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"creatorMint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"creatorMintedCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isRevealed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}]'),JT=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"participant",type:"address"},{indexed:!1,internalType:"uint256",name:"quantity",type:"uint256"}],name:"TicketsPurchased",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"winner",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"PrizeClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address[]",name:"winners",type:"address[]"}],name:"WinnersSelected",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RevenueWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"participant",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RefundClaimed",type:"event"},{anonymous:!1,inputs:[],name:"RaffleDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"participant",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"FullRefundForDeletion",type:"event"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"creator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"startTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"duration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ticketPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ticketLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"winnersCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTicketsPerParticipant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"isPrized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"prizeCollection",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"prizeTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"standard",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"state",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"isEscrowedPrize",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"erc20PrizeToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"erc20PrizeAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"nativePrizeAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalCreatorRevenue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"participants",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getParticipantsCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"ticketsPurchased",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"purchaseTickets",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"deleteRaffle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"winners",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"claimedWins",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"claimPrize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"claimPrizes",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"claimRefund",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"winner",type:"address"}],name:"mintToWinner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isWinner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"prizeClaimed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"refundClaimed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"refundableAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"depositEscrowPrize",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"withdrawEscrowedPrize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usesCustomPrice",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"refundedNonWinningTickets",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"winsPerAddress",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"participant",type:"address"}],name:"getRefundableAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_prizeCollection",type:"address"},{internalType:"uint8",name:"_standard",type:"uint8"},{internalType:"uint256",name:"_prizeTokenId",type:"uint256"},{internalType:"uint256",name:"_amountPerWinner",type:"uint256"}],name:"setExternalPrize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"requestRandomWords",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"activate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawCreatorRevenue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"endRaffle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isExternallyPrized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"amountPerWinner",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],XT=["function allowance(address owner, address spender) view returns (uint256)","function approve(address spender, uint256 amount) returns (bool)","function decimals() view returns (uint8)"],St={raffleManager:HT,raffleDeployer:GT,revenueManager:VT,nftFactory:KT,erc721Prize:YT,erc1155Prize:QT,raffle:[...JT,{inputs:[],name:"isRefundable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"holderTokenAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],erc20:XT};var ZT=t=>{switch(t){case"success":return rP;case"info":return sP;case"warning":return nP;case"error":return oP;default:return null}},eP=Array(12).fill(0),tP=({visible:t,className:e})=>xe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},xe.createElement("div",{className:"sonner-spinner"},eP.map((r,n)=>xe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),rP=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),nP=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),sP=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),oP=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),iP=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},xe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),xe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),aP=()=>{let[t,e]=xe.useState(document.hidden);return xe.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},ep=1,lP=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:ep++,l=this.toasts.find(d=>d.id===i),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:r}),{...d,...t,id:i,dismissible:c,title:r}):d):this.addToast({title:r,...n,dismissible:c,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0,l,c=n.then(async f=>{if(l=["resolve",f],xe.isValidElement(f))i=!1,this.create({id:r,type:"default",message:f});else if(uP(f)&&!f.ok){i=!1;let m=typeof e.error=="function"?await e.error(`HTTP error! status: ${f.status}`):e.error,p=typeof e.description=="function"?await e.description(`HTTP error! status: ${f.status}`):e.description;this.create({id:r,type:"error",message:m,description:p})}else if(e.success!==void 0){i=!1;let m=typeof e.success=="function"?await e.success(f):e.success,p=typeof e.description=="function"?await e.description(f):e.description;this.create({id:r,type:"success",message:m,description:p})}}).catch(async f=>{if(l=["reject",f],e.error!==void 0){i=!1;let m=typeof e.error=="function"?await e.error(f):e.error,p=typeof e.description=="function"?await e.description(f):e.description;this.create({id:r,type:"error",message:m,description:p})}}).finally(()=>{var f;i&&(this.dismiss(r),r=void 0),(f=e.finally)==null||f.call(e)}),d=()=>new Promise((f,m)=>c.then(()=>l[0]==="reject"?m(l[1]):f(l[1])).catch(m));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||ep++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},pn=new lP,cP=(t,e)=>{let r=(e==null?void 0:e.id)||ep++;return pn.addToast({title:t,...e,id:r}),r},uP=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",dP=cP,fP=()=>pn.toasts,hP=()=>pn.getActiveToasts(),Bo=Object.assign(dP,{success:pn.success,info:pn.info,warning:pn.warning,error:pn.error,custom:pn.custom,message:pn.message,promise:pn.promise,dismiss:pn.dismiss,loading:pn.loading},{getHistory:fP,getToasts:hP});function mP(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}mP(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Vu(t){return t.label!==void 0}var pP=3,gP="32px",yP="16px",Nv=4e3,xP=356,vP=14,bP=20,wP=200;function ls(...t){return t.filter(Boolean).join(" ")}function kP(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var NP=t=>{var e,r,n,i,l,c,d,f,m,p,x;let{invert:C,toast:w,unstyled:P,interacting:E,setHeights:I,visibleToasts:D,heights:O,index:S,toasts:U,expanded:$,removeToast:H,defaultRichColors:V,closeButton:W,style:K,cancelButtonStyle:Z,actionButtonStyle:Y,className:q="",descriptionClassName:R="",duration:h,position:v,gap:A,loadingIcon:_,expandByDefault:j,classNames:T,icons:L,closeButtonAriaLabel:k="Close toast",pauseWhenPageIsHidden:y}=t,[F,ee]=xe.useState(null),[z,Q]=xe.useState(null),[G,J]=xe.useState(!1),[te,ie]=xe.useState(!1),[fe,ue]=xe.useState(!1),[je,pe]=xe.useState(!1),[Ae,gt]=xe.useState(!1),[$e,He]=xe.useState(0),[Nt,Ke]=xe.useState(0),Ve=xe.useRef(w.duration||h||Nv),De=xe.useRef(null),Re=xe.useRef(null),Se=S===0,ht=S+1<=D,ke=w.type,Ne=w.dismissible!==!1,mt=w.className||"",Oe=w.descriptionClassName||"",Le=xe.useMemo(()=>O.findIndex(Ee=>Ee.toastId===w.id)||0,[O,w.id]),Pt=xe.useMemo(()=>{var Ee;return(Ee=w.closeButton)!=null?Ee:W},[w.closeButton,W]),at=xe.useMemo(()=>w.duration||h||Nv,[w.duration,h]),yt=xe.useRef(0),pr=xe.useRef(0),jt=xe.useRef(0),dt=xe.useRef(null),[_r,xt]=v.split("-"),Rt=xe.useMemo(()=>O.reduce((Ee,rt,Ge)=>Ge>=Le?Ee:Ee+rt.height,0),[O,Le]),or=aP(),Ct=w.invert||C,ft=ke==="loading";pr.current=xe.useMemo(()=>Le*A+Rt,[Le,Rt]),xe.useEffect(()=>{Ve.current=at},[at]),xe.useEffect(()=>{J(!0)},[]),xe.useEffect(()=>{let Ee=Re.current;if(Ee){let rt=Ee.getBoundingClientRect().height;return Ke(rt),I(Ge=>[{toastId:w.id,height:rt,position:w.position},...Ge]),()=>I(Ge=>Ge.filter(st=>st.toastId!==w.id))}},[I,w.id]),xe.useLayoutEffect(()=>{if(!G)return;let Ee=Re.current,rt=Ee.style.height;Ee.style.height="auto";let Ge=Ee.getBoundingClientRect().height;Ee.style.height=rt,Ke(Ge),I(st=>st.find(tr=>tr.toastId===w.id)?st.map(tr=>tr.toastId===w.id?{...tr,height:Ge}:tr):[{toastId:w.id,height:Ge,position:w.position},...st])},[G,w.title,w.description,I,w.id]);let fr=xe.useCallback(()=>{ie(!0),He(pr.current),I(Ee=>Ee.filter(rt=>rt.toastId!==w.id)),setTimeout(()=>{H(w)},wP)},[w,H,I,pr]);xe.useEffect(()=>{if(w.promise&&ke==="loading"||w.duration===1/0||w.type==="loading")return;let Ee;return $||E||y&&or?(()=>{if(jt.current<yt.current){let rt=new Date().getTime()-yt.current;Ve.current=Ve.current-rt}jt.current=new Date().getTime()})():Ve.current!==1/0&&(yt.current=new Date().getTime(),Ee=setTimeout(()=>{var rt;(rt=w.onAutoClose)==null||rt.call(w,w),fr()},Ve.current)),()=>clearTimeout(Ee)},[$,E,w,ke,y,or,fr]),xe.useEffect(()=>{w.delete&&fr()},[fr,w.delete]);function Mt(){var Ee,rt,Ge;return L!=null&&L.loading?xe.createElement("div",{className:ls(T==null?void 0:T.loader,(Ee=w==null?void 0:w.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":ke==="loading"},L.loading):_?xe.createElement("div",{className:ls(T==null?void 0:T.loader,(rt=w==null?void 0:w.classNames)==null?void 0:rt.loader,"sonner-loader"),"data-visible":ke==="loading"},_):xe.createElement(tP,{className:ls(T==null?void 0:T.loader,(Ge=w==null?void 0:w.classNames)==null?void 0:Ge.loader),visible:ke==="loading"})}return xe.createElement("li",{tabIndex:0,ref:Re,className:ls(q,mt,T==null?void 0:T.toast,(e=w==null?void 0:w.classNames)==null?void 0:e.toast,T==null?void 0:T.default,T==null?void 0:T[ke],(r=w==null?void 0:w.classNames)==null?void 0:r[ke]),"data-sonner-toast":"","data-rich-colors":(n=w.richColors)!=null?n:V,"data-styled":!(w.jsx||w.unstyled||P),"data-mounted":G,"data-promise":!!w.promise,"data-swiped":Ae,"data-removed":te,"data-visible":ht,"data-y-position":_r,"data-x-position":xt,"data-index":S,"data-front":Se,"data-swiping":fe,"data-dismissible":Ne,"data-type":ke,"data-invert":Ct,"data-swipe-out":je,"data-swipe-direction":z,"data-expanded":!!($||j&&G),style:{"--index":S,"--toasts-before":S,"--z-index":U.length-S,"--offset":`${te?$e:pr.current}px`,"--initial-height":j?"auto":`${Nt}px`,...K,...w.style},onDragEnd:()=>{ue(!1),ee(null),dt.current=null},onPointerDown:Ee=>{ft||!Ne||(De.current=new Date,He(pr.current),Ee.target.setPointerCapture(Ee.pointerId),Ee.target.tagName!=="BUTTON"&&(ue(!0),dt.current={x:Ee.clientX,y:Ee.clientY}))},onPointerUp:()=>{var Ee,rt,Ge,st;if(je||!Ne)return;dt.current=null;let tr=Number(((Ee=Re.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),it=Number(((rt=Re.current)==null?void 0:rt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ot=new Date().getTime()-((Ge=De.current)==null?void 0:Ge.getTime()),Kt=F==="x"?tr:it,vt=Math.abs(Kt)/ot;if(Math.abs(Kt)>=bP||vt>.11){He(pr.current),(st=w.onDismiss)==null||st.call(w,w),Q(F==="x"?tr>0?"right":"left":it>0?"down":"up"),fr(),pe(!0),gt(!1);return}ue(!1),ee(null)},onPointerMove:Ee=>{var rt,Ge,st,tr;if(!dt.current||!Ne||((rt=window.getSelection())==null?void 0:rt.toString().length)>0)return;let it=Ee.clientY-dt.current.y,ot=Ee.clientX-dt.current.x,Kt=(Ge=t.swipeDirections)!=null?Ge:kP(v);!F&&(Math.abs(ot)>1||Math.abs(it)>1)&&ee(Math.abs(ot)>Math.abs(it)?"x":"y");let vt={x:0,y:0};F==="y"?(Kt.includes("top")||Kt.includes("bottom"))&&(Kt.includes("top")&&it<0||Kt.includes("bottom")&&it>0)&&(vt.y=it):F==="x"&&(Kt.includes("left")||Kt.includes("right"))&&(Kt.includes("left")&&ot<0||Kt.includes("right")&&ot>0)&&(vt.x=ot),(Math.abs(vt.x)>0||Math.abs(vt.y)>0)&&gt(!0),(st=Re.current)==null||st.style.setProperty("--swipe-amount-x",`${vt.x}px`),(tr=Re.current)==null||tr.style.setProperty("--swipe-amount-y",`${vt.y}px`)}},Pt&&!w.jsx?xe.createElement("button",{"aria-label":k,"data-disabled":ft,"data-close-button":!0,onClick:ft||!Ne?()=>{}:()=>{var Ee;fr(),(Ee=w.onDismiss)==null||Ee.call(w,w)},className:ls(T==null?void 0:T.closeButton,(i=w==null?void 0:w.classNames)==null?void 0:i.closeButton)},(l=L==null?void 0:L.close)!=null?l:iP):null,w.jsx||b.isValidElement(w.title)?w.jsx?w.jsx:typeof w.title=="function"?w.title():w.title:xe.createElement(xe.Fragment,null,ke||w.icon||w.promise?xe.createElement("div",{"data-icon":"",className:ls(T==null?void 0:T.icon,(c=w==null?void 0:w.classNames)==null?void 0:c.icon)},w.promise||w.type==="loading"&&!w.icon?w.icon||Mt():null,w.type!=="loading"?w.icon||(L==null?void 0:L[ke])||ZT(ke):null):null,xe.createElement("div",{"data-content":"",className:ls(T==null?void 0:T.content,(d=w==null?void 0:w.classNames)==null?void 0:d.content)},xe.createElement("div",{"data-title":"",className:ls(T==null?void 0:T.title,(f=w==null?void 0:w.classNames)==null?void 0:f.title)},typeof w.title=="function"?w.title():w.title),w.description?xe.createElement("div",{"data-description":"",className:ls(R,Oe,T==null?void 0:T.description,(m=w==null?void 0:w.classNames)==null?void 0:m.description)},typeof w.description=="function"?w.description():w.description):null),b.isValidElement(w.cancel)?w.cancel:w.cancel&&Vu(w.cancel)?xe.createElement("button",{"data-button":!0,"data-cancel":!0,style:w.cancelButtonStyle||Z,onClick:Ee=>{var rt,Ge;Vu(w.cancel)&&Ne&&((Ge=(rt=w.cancel).onClick)==null||Ge.call(rt,Ee),fr())},className:ls(T==null?void 0:T.cancelButton,(p=w==null?void 0:w.classNames)==null?void 0:p.cancelButton)},w.cancel.label):null,b.isValidElement(w.action)?w.action:w.action&&Vu(w.action)?xe.createElement("button",{"data-button":!0,"data-action":!0,style:w.actionButtonStyle||Y,onClick:Ee=>{var rt,Ge;Vu(w.action)&&((Ge=(rt=w.action).onClick)==null||Ge.call(rt,Ee),!Ee.defaultPrevented&&fr())},className:ls(T==null?void 0:T.actionButton,(x=w==null?void 0:w.classNames)==null?void 0:x.actionButton)},w.action.label):null))};function Cv(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function CP(t,e){let r={};return[t,e].forEach((n,i)=>{let l=i===1,c=l?"--mobile-offset":"--offset",d=l?yP:gP;function f(m){["top","right","bottom","left"].forEach(p=>{r[`${c}-${p}`]=typeof m=="number"?`${m}px`:m})}typeof n=="number"||typeof n=="string"?f(n):typeof n=="object"?["top","right","bottom","left"].forEach(m=>{n[m]===void 0?r[`${c}-${m}`]=d:r[`${c}-${m}`]=typeof n[m]=="number"?`${n[m]}px`:n[m]}):f(d)}),r}var EP=b.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:l,closeButton:c,className:d,offset:f,mobileOffset:m,theme:p="light",richColors:x,duration:C,style:w,visibleToasts:P=pP,toastOptions:E,dir:I=Cv(),gap:D=vP,loadingIcon:O,icons:S,containerAriaLabel:U="Notifications",pauseWhenPageIsHidden:$}=t,[H,V]=xe.useState([]),W=xe.useMemo(()=>Array.from(new Set([n].concat(H.filter(y=>y.position).map(y=>y.position)))),[H,n]),[K,Z]=xe.useState([]),[Y,q]=xe.useState(!1),[R,h]=xe.useState(!1),[v,A]=xe.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),_=xe.useRef(null),j=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=xe.useRef(null),L=xe.useRef(!1),k=xe.useCallback(y=>{V(F=>{var ee;return(ee=F.find(z=>z.id===y.id))!=null&&ee.delete||pn.dismiss(y.id),F.filter(({id:z})=>z!==y.id)})},[]);return xe.useEffect(()=>pn.subscribe(y=>{if(y.dismiss){V(F=>F.map(ee=>ee.id===y.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{cb.flushSync(()=>{V(F=>{let ee=F.findIndex(z=>z.id===y.id);return ee!==-1?[...F.slice(0,ee),{...F[ee],...y},...F.slice(ee+1)]:[y,...F]})})})}),[]),xe.useEffect(()=>{if(p!=="system"){A(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),typeof window>"u")return;let y=window.matchMedia("(prefers-color-scheme: dark)");try{y.addEventListener("change",({matches:F})=>{A(F?"dark":"light")})}catch{y.addListener(({matches:ee})=>{try{A(ee?"dark":"light")}catch(z){console.error(z)}})}},[p]),xe.useEffect(()=>{H.length<=1&&q(!1)},[H]),xe.useEffect(()=>{let y=F=>{var ee,z;i.every(Q=>F[Q]||F.code===Q)&&(q(!0),(ee=_.current)==null||ee.focus()),F.code==="Escape"&&(document.activeElement===_.current||(z=_.current)!=null&&z.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[i]),xe.useEffect(()=>{if(_.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,L.current=!1)}},[_.current]),xe.createElement("section",{ref:e,"aria-label":`${U} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},W.map((y,F)=>{var ee;let[z,Q]=y.split("-");return H.length?xe.createElement("ol",{key:y,dir:I==="auto"?Cv():I,tabIndex:-1,ref:_,className:d,"data-sonner-toaster":!0,"data-theme":v,"data-y-position":z,"data-lifted":Y&&H.length>1&&!l,"data-x-position":Q,style:{"--front-toast-height":`${((ee=K[0])==null?void 0:ee.height)||0}px`,"--width":`${xP}px`,"--gap":`${D}px`,...w,...CP(f,m)},onBlur:G=>{L.current&&!G.currentTarget.contains(G.relatedTarget)&&(L.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||L.current||(L.current=!0,T.current=G.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{R||q(!1)},onDragEnd:()=>q(!1),onPointerDown:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||h(!0)},onPointerUp:()=>h(!1)},H.filter(G=>!G.position&&F===0||G.position===y).map((G,J)=>{var te,ie;return xe.createElement(NP,{key:G.id,icons:S,index:J,toast:G,defaultRichColors:x,duration:(te=E==null?void 0:E.duration)!=null?te:C,className:E==null?void 0:E.className,descriptionClassName:E==null?void 0:E.descriptionClassName,invert:r,visibleToasts:P,closeButton:(ie=E==null?void 0:E.closeButton)!=null?ie:c,interacting:R,position:y,style:E==null?void 0:E.style,unstyled:E==null?void 0:E.unstyled,classNames:E==null?void 0:E.classNames,cancelButtonStyle:E==null?void 0:E.cancelButtonStyle,actionButtonStyle:E==null?void 0:E.actionButtonStyle,removeToast:k,toasts:H.filter(fe=>fe.position==G.position),heights:K.filter(fe=>fe.position==G.position),setHeights:Z,expandByDefault:l,gap:D,loadingIcon:O,expanded:Y,pauseWhenPageIsHidden:$,swipeDirections:t.swipeDirections})})):null}))});class AP{constructor(){this.recentToasts=new Map,this.cleanupInterval=5e3,this.maxDuplicateWindow=3e3,setInterval(()=>{const e=Date.now();for(const[r,n]of this.recentToasts.entries())e-n>this.cleanupInterval&&this.recentToasts.delete(r)},this.cleanupInterval)}generateToastKey(e,r="default"){const n=String(e).toLowerCase().replace(/\s+/g," ").trim().replace(/0x[a-f0-9]{40,}/gi,"[address]").replace(/transaction:\s*0x[a-f0-9]+/gi,"[transaction]").replace(/\d+(\.\d+)?\s*(eth|matic|avax|bnb)/gi,"[amount]").replace(/attempt\s+\d+\/\d+/gi,"[attempt]");return`${r}:${n}`}isDuplicate(e,r="default"){const n=this.generateToastKey(e,r),i=Date.now(),l=this.recentToasts.get(n);return l&&i-l<this.maxDuplicateWindow?!0:(this.recentToasts.set(n,i),!1)}error(e,r={}){if(this.isDuplicate(e,"error")){console.log("Duplicate error toast prevented:",e);return}const n=this.processErrorMessage(e);return Bo.error(n,{duration:4e3,...r})}success(e,r={}){if(this.isDuplicate(e,"success")){console.log("Duplicate success toast prevented:",e);return}return Bo.success(e,{duration:3e3,...r})}info(e,r={}){if(this.isDuplicate(e,"info")){console.log("Duplicate info toast prevented:",e);return}return Bo.info(e,{duration:3e3,...r})}warning(e,r={}){if(this.isDuplicate(e,"warning")){console.log("Duplicate warning toast prevented:",e);return}return Bo.warning(e,{duration:4e3,...r})}processErrorMessage(e){if(!e)return"An unknown error occurred";let r=typeof e=="string"?e:e.message||e.toString();return r=r.replace(/^Error:\s*/i,"").replace(/^execution reverted:\s*/i,"").replace(/^call exception:\s*/i,"").replace(/^missing revert data in call exception;\s*/i,"").replace(/user rejected transaction/i,"Transaction was cancelled").replace(/insufficient funds/i,"Insufficient funds for transaction").replace(/gas required exceeds allowance/i,"Transaction requires more gas than available").replace(/nonce too low/i,"Transaction nonce error - please try again").replace(/replacement transaction underpriced/i,"Transaction fee too low - please increase gas price").replace(/network error/i,"Network connection error").replace(/timeout/i,"Request timed out").replace(/rate limit/i,"Too many requests - please wait a moment").replace(/contract not deployed/i,"Smart contract not found on this network").replace(/method not found/i,"Contract method not available").replace(/^./,n=>n.toUpperCase()),r.length>150&&(r=r.substring(0,147)+"..."),r}forceError(e,r={}){const n=this.processErrorMessage(e);return Bo.error(n,{duration:4e3,...r})}clearHistory(){this.recentToasts.clear()}loading(e,r={}){return Bo.loading(e,r)}dismiss(e){return Bo.dismiss(e)}promise(e,r={}){return Bo.promise(e,r)}}const ne=new AP,SP=({...t})=>o.jsx(EP,{theme:"dark",className:"toaster group",position:"bottom-right",expand:!0,richColors:!1,closeButton:!0,...t}),Op=()=>{if(typeof window>"u")return{name:"unknown",version:"unknown"};const t=navigator.userAgent,e={chrome:/Chrome\/(\d+)/.test(t),firefox:/Firefox\/(\d+)/.test(t),safari:/Safari\/(\d+)/.test(t)&&!/Chrome/.test(t),edge:/Edg\/(\d+)/.test(t),opera:/OPR\/(\d+)/.test(t),brave:navigator.brave&&navigator.brave.isBrave},r=Object.keys(e).find(l=>e[l])||"unknown",n=t.match(new RegExp(`${r==="edge"?"Edg":r}\\/(\\d+)`,"i")),i=n?n[1]:"unknown";return{name:r,version:i,userAgent:t,isMetaMaskBrowser:t.includes("MetaMask"),isMobile:/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)}},Fp=()=>{const t=Op(),e=t.isMobile||window.innerWidth<768,r={firefox:{timeout:15e3,retries:3,batchSize:3,useSequential:!0,delayBetweenCalls:200},safari:{timeout:2e4,retries:4,batchSize:2,useSequential:!0,delayBetweenCalls:300},edge:{timeout:12e3,retries:3,batchSize:4,useSequential:!1,delayBetweenCalls:100},chrome:{timeout:1e4,retries:3,batchSize:6,useSequential:!1,delayBetweenCalls:50},default:{timeout:12e3,retries:3,batchSize:4,useSequential:e,delayBetweenCalls:100}},n=r[t.name]||r.default;return e&&(n.timeout*=1.5,n.retries=Math.min(n.retries+1,5),n.batchSize=Math.min(n.batchSize,3),n.useSequential=!0,n.delayBetweenCalls*=2),{...n,browserInfo:t,isMobile:e}},jd=async(t,e,r={})=>{const{timeout:n=1e4,retries:i=3,fallbackValue:l=null,required:c=!1}=r;for(let d=1;d<=i;d++)try{const f=new Promise((p,x)=>setTimeout(()=>x(new Error(`Timeout calling ${e}`)),n));return{success:!0,result:await Promise.race([t(),f]),error:null}}catch(f){if(console.warn(`Attempt ${d}/${i} failed for ${e}:`,f.message),(f.message.includes("missing revert data")||f.message.includes("call exception")||f.code==="CALL_EXCEPTION")&&d<i){await new Promise(p=>setTimeout(p,1e3*d));continue}if(d===i){if(c)throw new Error(`Failed to call ${e} after ${i} attempts: ${f.message}`);return{success:!1,result:l,error:f.message}}}},TP=async(t,e={})=>{const r=Fp(),{useSequential:n=r.useSequential,batchSize:i=r.batchSize,delayBetweenCalls:l=r.delayBetweenCalls,timeout:c=r.timeout}=e;if(console.log(`🔧 Batch contract calls - Browser: ${r.browserInfo.name}, Sequential: ${n}, Batch size: ${i}`),n){const d=[];for(let f=0;f<t.length;f++){const m=t[f];try{l>0&&f>0&&await new Promise(x=>setTimeout(x,l));const p=await jd(m.method,m.name,{timeout:c,fallbackValue:m.fallback,required:m.required});d.push(p.success?p.result:m.fallback)}catch(p){if(console.error(`Sequential call failed for ${m.name}:`,p),m.required)throw p;d.push(m.fallback)}}return d}else{const d=[];for(let f=0;f<t.length;f+=i){const m=t.slice(f,f+i);try{const p=m.map(C=>jd(C.method,C.name,{timeout:c,fallbackValue:C.fallback,required:C.required}).then(w=>w.success?w.result:C.fallback).catch(w=>{if(console.error(`Batch call failed for ${C.name}:`,w),C.required)throw w;return C.fallback})),x=await Promise.all(p);d.push(...x),f+i<t.length&&l>0&&await new Promise(C=>setTimeout(C,l))}catch(p){console.error("Batch execution failed:",p),m.forEach(x=>{if(x.required)throw p;d.push(x.fallback)})}}return d}},PP=(t,e)=>{try{return typeof t[e]=="function"}catch{return!1}},Pi=(t,e,r=null)=>PP(t,e)?(...n)=>t[e](...n):(console.warn(`Method ${e} not found on contract`),()=>Promise.resolve(r)),vw=async t=>{if(!t)return 0;try{return(await t.getParticipantsCount()).toNumber()}catch(e){console.warn("getParticipantsCount failed, using fallback method:",e.message);let r=0,n=0;for(;;)try{await t.participants(n),r++,n++}catch{break}return r}},zi=t=>{var r;if(!t)return"Unknown error occurred";let e="";return typeof t=="string"?e=t:t.reason?e=t.reason:(r=t.data)!=null&&r.message?e=t.data.message:t.message?e=t.message:e=t.toString(),e=e.replace(/^Error:\s*/i,"").replace(/^execution reverted:\s*/i,"").replace(/^call exception:\s*/i,"").replace(/^missing revert data in call exception;\s*/i,"").replace(/Transaction reverted without a reason string/i,"Transaction failed").trim(),e||"Unknown error occurred"},Qd=(t,e={})=>{const r=zi(t).toLowerCase();return!(r.includes("user rejected")||r.includes("user denied")||(t==null?void 0:t.code)===4001||e.isReadOnly&&(r.includes("not found")||r.includes("does not exist")||r.includes("no tickets")||r.includes("unavailable")||r.includes("400")||r.includes("non-200 status code")||r.includes("failed to load")||r.includes("no data")||r.includes("empty result")||r.includes("no records"))||r.includes("network")||r.includes("timeout")||r.includes("connection")||r.includes("rate limit"))},sc=(t,e={})=>{const{context:r={},showToast:n=!0,logError:i=!0,fallbackMessage:l="An error occurred"}=e;i&&console.error("Error handled:",t,r);const c=zi(t);return n&&Qd(t,r)&&ne.error(c||l),c},jP=(t,e={})=>{const{operation:r="transaction",showToast:n=!0}=e,i=zi(t);return console.error(`Transaction error in ${r}:`,t),n&&Qd(t,{})&&ne.error(i),i},RP=(t,e,r={})=>{const{showToast:n=!1,isRequired:i=!1}=r,l=zi(t);return console.warn(`Contract call failed for ${e}:`,l),n&&(i||Qd(t,{isReadOnly:!0}))&&ne.error(`${e} failed: ${l}`),l},MP=()=>({handleError:(n,i={})=>sc(n,i),handleTransactionError:(n,i={})=>jP(n,i),handleContractCallError:(n,i,l={})=>RP(n,i,l),extractRevertReason:zi,shouldShowErrorToast:Qd}),bw=b.createContext(),Vt=()=>{const t=b.useContext(bw);if(!t)throw new Error("useContract must be used within a ContractProvider");return t},IP=({children:t})=>{const{signer:e,provider:r,connected:n,chainId:i,isInitialized:l,isReconnecting:c}=Ot(),[d,f]=b.useState({}),[m,p]=b.useState(!1);b.useEffect(()=>{if(n&&e&&l&&!c){p(!1);const S=setTimeout(()=>{x(),setTimeout(()=>{p(!0)},200)},100);return()=>clearTimeout(S)}else f({}),p(!1)},[n,e,l,c,i]);const x=()=>{var U,$,H,V,W,K,Z,Y,q,R,h,v,A,_,j,T;const S={};try{($=(U=ct[i])==null?void 0:U.contractAddresses)!=null&&$.raffleManager&&(S.raffleManager=new kt((V=(H=ct[i])==null?void 0:H.contractAddresses)==null?void 0:V.raffleManager,St.raffleManager,e)),(K=(W=ct[i])==null?void 0:W.contractAddresses)!=null&&K.raffleDeployer&&(S.raffleDeployer=new kt((Y=(Z=ct[i])==null?void 0:Z.contractAddresses)==null?void 0:Y.raffleDeployer,St.raffleDeployer,e)),(R=(q=ct[i])==null?void 0:q.contractAddresses)!=null&&R.revenueManager&&(S.revenueManager=new kt((v=(h=ct[i])==null?void 0:h.contractAddresses)==null?void 0:v.revenueManager,St.revenueManager,e)),(_=(A=ct[i])==null?void 0:A.contractAddresses)!=null&&_.nftFactory&&(S.nftFactory=new kt((T=(j=ct[i])==null?void 0:j.contractAddresses)==null?void 0:T.nftFactory,St.nftFactory,e)),f(S)}catch(L){console.error("Error initializing contracts:",L)}},C=(S,U)=>{if(!S)return console.warn("No address provided for contract instance"),null;if(!e&&!r)return console.warn("No signer or provider available for contract instance"),null;if(!St[U])return console.error(`ABI not found for type: ${U}`),null;try{const $=e||r;return new kt(S,St[U],$)}catch($){return console.error(`Error creating contract instance for ${U}:`,$),null}},w=async(S,...U)=>{var $;try{const H=await S(...U);return{success:!0,receipt:await H.wait(),hash:H.hash}}catch(H){let V="Transaction failed";return H!=null&&H.reason?V=H.reason:($=H==null?void 0:H.data)!=null&&$.message?V=H.data.message:H!=null&&H.message&&(V=H.message),console.error("Contract transaction failed:",V),{success:!1,error:V}}},P=async(S,U="unknown",...$)=>{var V;const H=Fp();try{const W=await jd(()=>S(...$),U,{timeout:H.timeout,retries:H.retries,required:!1});if(W.success)return{success:!0,result:W.result};throw new Error(W.error)}catch(W){let K="Contract call failed";return W.message.includes("missing revert data")||W.message.includes("call exception")||W.code==="CALL_EXCEPTION"?K="Network connectivity issue - please try again":W!=null&&W.reason?K=W.reason:(V=W==null?void 0:W.data)!=null&&V.message?K=W.data.message:W!=null&&W.message&&(K=W.message),sc(W,{context:{operation:U,isReadOnly:!0,isContractCall:!0},fallbackMessage:`${U} failed`}),{success:!1,error:K}}},E=xe.useRef({}),I=(S,U)=>(E.current[S]||(E.current[S]=[]),E.current[S].push(U),()=>{E.current[S]=E.current[S].filter($=>$!==U)}),D=(S,...U)=>{E.current[S]&&E.current[S].forEach($=>$(...U))};b.useEffect(()=>{if(!n||!e||!d.raffleDeployer)return;const S=(U,$)=>{D("RaffleCreated",{raffle:U,creator:$})};if(d.raffleDeployer.on("RaffleCreated",S),d.raffle){const U=H=>{D("WinnersSelected",{winners:H})};d.raffle.on("WinnersSelected",U);const $=(H,V)=>{D("PrizeClaimed",{winner:H,tokenId:V})};return d.raffle.on("PrizeClaimed",$),()=>{d.raffle.off("WinnersSelected",U),d.raffle.off("PrizeClaimed",$)}}return()=>{d.raffleDeployer.off("RaffleCreated",S)}},[n,e,d.raffleDeployer,d.raffle]);const O={contracts:d,getContractInstance:C,executeTransaction:w,executeCall:P,onContractEvent:I,isContractsReady:m};return o.jsx(bw.Provider,{value:O,children:t})},ww=b.createContext(),Bp=()=>{const t=b.useContext(ww);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},Uo=[{id:"light",name:"Light",icon:"Sun"},{id:"dark",name:"Dark",icon:"Moon"},{id:"dim-blue",name:"Dim Blue",icon:"Monitor"}],_P=({children:t})=>{const[e,r]=b.useState(()=>{const c=localStorage.getItem("theme");return c&&Uo.some(d=>d.id===c)?c:(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,"dark")});b.useEffect(()=>{const c=document.documentElement;Uo.forEach(d=>{c.classList.remove(d.id)}),c.classList.add(e),localStorage.setItem("theme",e)},[e]);const l={theme:e,setTheme:r,cycleTheme:()=>{const d=(Uo.findIndex(f=>f.id===e)+1)%Uo.length;r(Uo[d].id)},getCurrentTheme:()=>Uo.find(c=>c.id===e)||Uo[1],availableThemes:Uo,isDark:e==="dark",isLight:e==="light",isDimBlue:e==="dim-blue"};return o.jsx(ww.Provider,{value:l,children:t})},kw=b.createContext(),Up=()=>{const t=b.useContext(kw);if(!t)throw new Error("useCollabDetection must be used within a CollabDetectionProvider");return t},DP=({children:t})=>{const[e,r]=b.useState({}),[n,i]=b.useState({}),l=b.useCallback((w,P)=>{r(E=>({...E,[w]:P})),i(E=>{const I={...E};return delete I[w],I})},[]),c=b.useCallback((w,P)=>{i(E=>({...E,[w]:P}))},[]),d=b.useCallback(w=>e[w],[e]),f=b.useCallback(w=>n[w]||!1,[n]),m=b.useCallback(w=>{const P=e[w.address];return P==="nft_collab"||P==="whitelist_collab"?P:P===void 0&&n[w.address]&&w.isExternallyPrized?"nft_collab":w.isPrized?"prized":"non_prized"},[e,n]),p=b.useCallback(w=>{const P={non_prized:0,prized:0,nft_collab:0,whitelist_collab:0};return w.forEach(E=>{const I=m(E);P[I]=(P[I]||0)+1}),P},[m]),x=b.useCallback((w,P)=>!P||P.length===0?w:w.filter(E=>{const I=m(E);return P.includes(I)}),[m]),C={collabResults:e,loadingStates:n,updateCollabStatus:l,setCollabLoading:c,getCollabStatus:d,isCollabLoading:f,getEnhancedRaffleType:m,countEnhancedRaffleTypes:p,filterByEnhancedType:x};return o.jsx(kw.Provider,{value:C,children:t})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Xe=(t,e)=>{const r=b.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:d="",children:f,...m},p)=>b.createElement("svg",{ref:p,...zP,width:i,height:i,stroke:n,strokeWidth:c?Number(l)*24/Number(i):l,className:["lucide",`lucide-${LP(t)}`,d].join(" "),...m},[...e.map(([x,C])=>b.createElement(x,C)),...Array.isArray(f)?f:[f]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=Xe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=Xe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=Xe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=Xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=Xe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=Xe("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=Xe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=Xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=Xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=Xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=Xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=Xe("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=Xe("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=Xe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=Xe("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=Xe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=Xe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=Xe("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=Xe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=Xe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=Xe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=Xe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=Xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=Xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=Xe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=Xe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=Xe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=Xe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=Xe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=Xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=Xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=Xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=Xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=Xe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=Xe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=Xe("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=Xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=Xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=Xe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=Xe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=Xe("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=Xe("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=Xe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=Xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=Xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=Xe("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=Xe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=Xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=Xe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Pv(t,[e,r]){return Math.min(r,Math.max(e,t))}function Ue(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function ej(t,e){const r=b.createContext(e),n=l=>{const{children:c,...d}=l,f=b.useMemo(()=>d,Object.values(d));return o.jsx(r.Provider,{value:f,children:c})};n.displayName=t+"Provider";function i(l){const c=b.useContext(r);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[n,i]}function go(t,e=[]){let r=[];function n(l,c){const d=b.createContext(c),f=r.length;r=[...r,c];const m=x=>{var D;const{scope:C,children:w,...P}=x,E=((D=C==null?void 0:C[t])==null?void 0:D[f])||d,I=b.useMemo(()=>P,Object.values(P));return o.jsx(E.Provider,{value:I,children:w})};m.displayName=l+"Provider";function p(x,C){var E;const w=((E=C==null?void 0:C[t])==null?void 0:E[f])||d,P=b.useContext(w);if(P)return P;if(c!==void 0)return c;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[m,p]}const i=()=>{const l=r.map(c=>b.createContext(c));return function(d){const f=(d==null?void 0:d[t])||l;return b.useMemo(()=>({[`__scope${t}`]:{...d,[t]:f}}),[d,f])}};return i.scopeName=t,[n,tj(i,...e)]}function tj(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const c=n.reduce((d,{useScope:f,scopeName:m})=>{const x=f(l)[`__scope${m}`];return{...d,...x}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return r.scopeName=e.scopeName,r}function jv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Xd(...t){return e=>{let r=!1;const n=t.map(i=>{const l=jv(i,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let i=0;i<n.length;i++){const l=n[i];typeof l=="function"?l():jv(t[i],null)}}}}function Wt(...t){return b.useCallback(Xd(...t),t)}function Fi(t){const e=rj(t),r=b.forwardRef((n,i)=>{const{children:l,...c}=n,d=b.Children.toArray(l),f=d.find(sj);if(f){const m=f.props.children,p=d.map(x=>x===f?b.Children.count(m)>1?b.Children.only(null):b.isValidElement(m)?m.props.children:null:x);return o.jsx(e,{...c,ref:i,children:b.isValidElement(m)?b.cloneElement(m,void 0,p):null})}return o.jsx(e,{...c,ref:i,children:l})});return r.displayName=`${t}.Slot`,r}var Tw=Fi("Slot");function rj(t){const e=b.forwardRef((r,n)=>{const{children:i,...l}=r;if(b.isValidElement(i)){const c=ij(i),d=oj(l,i.props);return i.type!==b.Fragment&&(d.ref=n?Xd(n,c):c),b.cloneElement(i,d)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var nj=Symbol("radix.slottable");function sj(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===nj}function oj(t,e){const r={...e};for(const n in e){const i=t[n],l=e[n];/^on[A-Z]/.test(n)?i&&l?r[n]=(...d)=>{const f=l(...d);return i(...d),f}:i&&(r[n]=i):n==="style"?r[n]={...i,...l}:n==="className"&&(r[n]=[i,l].filter(Boolean).join(" "))}return{...t,...r}}function ij(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Vp(t){const e=t+"CollectionProvider",[r,n]=go(e),[i,l]=r(e,{collectionRef:{current:null},itemMap:new Map}),c=E=>{const{scope:I,children:D}=E,O=xe.useRef(null),S=xe.useRef(new Map).current;return o.jsx(i,{scope:I,itemMap:S,collectionRef:O,children:D})};c.displayName=e;const d=t+"CollectionSlot",f=Fi(d),m=xe.forwardRef((E,I)=>{const{scope:D,children:O}=E,S=l(d,D),U=Wt(I,S.collectionRef);return o.jsx(f,{ref:U,children:O})});m.displayName=d;const p=t+"CollectionItemSlot",x="data-radix-collection-item",C=Fi(p),w=xe.forwardRef((E,I)=>{const{scope:D,children:O,...S}=E,U=xe.useRef(null),$=Wt(I,U),H=l(p,D);return xe.useEffect(()=>(H.itemMap.set(U,{ref:U,...S}),()=>void H.itemMap.delete(U))),o.jsx(C,{[x]:"",ref:$,children:O})});w.displayName=p;function P(E){const I=l(t+"CollectionConsumer",E);return xe.useCallback(()=>{const O=I.collectionRef.current;if(!O)return[];const S=Array.from(O.querySelectorAll(`[${x}]`));return Array.from(I.itemMap.values()).sort((H,V)=>S.indexOf(H.ref.current)-S.indexOf(V.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:c,Slot:m,ItemSlot:w},P,n]}var aj=b.createContext(void 0);function Zd(t){const e=b.useContext(aj);return t||e||"ltr"}var lj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ut=lj.reduce((t,e)=>{const r=Fi(`Primitive.${e}`),n=b.forwardRef((i,l)=>{const{asChild:c,...d}=i,f=c?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(f,{...d,ref:l})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Pw(t,e){t&&wc.flushSync(()=>t.dispatchEvent(e))}function Us(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function cj(t,e=globalThis==null?void 0:globalThis.document){const r=Us(t);b.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var uj="DismissableLayer",op="dismissableLayer.update",dj="dismissableLayer.pointerDownOutside",fj="dismissableLayer.focusOutside",Rv,jw=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ef=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...f}=t,m=b.useContext(jw),[p,x]=b.useState(null),C=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=b.useState({}),P=Wt(e,V=>x(V)),E=Array.from(m.layers),[I]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),D=E.indexOf(I),O=p?E.indexOf(p):-1,S=m.layersWithOutsidePointerEventsDisabled.size>0,U=O>=D,$=pj(V=>{const W=V.target,K=[...m.branches].some(Z=>Z.contains(W));!U||K||(i==null||i(V),c==null||c(V),V.defaultPrevented||d==null||d())},C),H=gj(V=>{const W=V.target;[...m.branches].some(Z=>Z.contains(W))||(l==null||l(V),c==null||c(V),V.defaultPrevented||d==null||d())},C);return cj(V=>{O===m.layers.size-1&&(n==null||n(V),!V.defaultPrevented&&d&&(V.preventDefault(),d()))},C),b.useEffect(()=>{if(p)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Rv=C.body.style.pointerEvents,C.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(p)),m.layers.add(p),Mv(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(C.body.style.pointerEvents=Rv)}},[p,C,r,m]),b.useEffect(()=>()=>{p&&(m.layers.delete(p),m.layersWithOutsidePointerEventsDisabled.delete(p),Mv())},[p,m]),b.useEffect(()=>{const V=()=>w({});return document.addEventListener(op,V),()=>document.removeEventListener(op,V)},[]),o.jsx(ut.div,{...f,ref:P,style:{pointerEvents:S?U?"auto":"none":void 0,...t.style},onFocusCapture:Ue(t.onFocusCapture,H.onFocusCapture),onBlurCapture:Ue(t.onBlurCapture,H.onBlurCapture),onPointerDownCapture:Ue(t.onPointerDownCapture,$.onPointerDownCapture)})});ef.displayName=uj;var hj="DismissableLayerBranch",mj=b.forwardRef((t,e)=>{const r=b.useContext(jw),n=b.useRef(null),i=Wt(e,n);return b.useEffect(()=>{const l=n.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),o.jsx(ut.div,{...t,ref:i})});mj.displayName=hj;function pj(t,e=globalThis==null?void 0:globalThis.document){const r=Us(t),n=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const l=d=>{if(d.target&&!n.current){let f=function(){Rw(dj,r,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);n.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function gj(t,e=globalThis==null?void 0:globalThis.document){const r=Us(t),n=b.useRef(!1);return b.useEffect(()=>{const i=l=>{l.target&&!n.current&&Rw(fj,r,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Mv(){const t=new CustomEvent(op);document.dispatchEvent(t)}function Rw(t,e,r,{discrete:n}){const i=r.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?Pw(i,l):i.dispatchEvent(l)}var jm=0;function Kp(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Iv()),document.body.insertAdjacentElement("beforeend",t[1]??Iv()),jm++,()=>{jm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),jm--}},[])}function Iv(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Rm="focusScope.autoFocusOnMount",Mm="focusScope.autoFocusOnUnmount",_v={bubbles:!1,cancelable:!0},yj="FocusScope",tf=b.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...c}=t,[d,f]=b.useState(null),m=Us(i),p=Us(l),x=b.useRef(null),C=Wt(e,E=>f(E)),w=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let E=function(S){if(w.paused||!d)return;const U=S.target;d.contains(U)?x.current=U:qo(x.current,{select:!0})},I=function(S){if(w.paused||!d)return;const U=S.relatedTarget;U!==null&&(d.contains(U)||qo(x.current,{select:!0}))},D=function(S){if(document.activeElement===document.body)for(const $ of S)$.removedNodes.length>0&&qo(d)};document.addEventListener("focusin",E),document.addEventListener("focusout",I);const O=new MutationObserver(D);return d&&O.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",I),O.disconnect()}}},[n,d,w.paused]),b.useEffect(()=>{if(d){zv.add(w);const E=document.activeElement;if(!d.contains(E)){const D=new CustomEvent(Rm,_v);d.addEventListener(Rm,m),d.dispatchEvent(D),D.defaultPrevented||(xj(Nj(Mw(d)),{select:!0}),document.activeElement===E&&qo(d))}return()=>{d.removeEventListener(Rm,m),setTimeout(()=>{const D=new CustomEvent(Mm,_v);d.addEventListener(Mm,p),d.dispatchEvent(D),D.defaultPrevented||qo(E??document.body,{select:!0}),d.removeEventListener(Mm,p),zv.remove(w)},0)}}},[d,m,p,w]);const P=b.useCallback(E=>{if(!r&&!n||w.paused)return;const I=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,D=document.activeElement;if(I&&D){const O=E.currentTarget,[S,U]=vj(O);S&&U?!E.shiftKey&&D===U?(E.preventDefault(),r&&qo(S,{select:!0})):E.shiftKey&&D===S&&(E.preventDefault(),r&&qo(U,{select:!0})):D===O&&E.preventDefault()}},[r,n,w.paused]);return o.jsx(ut.div,{tabIndex:-1,...c,ref:C,onKeyDown:P})});tf.displayName=yj;function xj(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(qo(n,{select:e}),document.activeElement!==r)return}function vj(t){const e=Mw(t),r=Dv(e,t),n=Dv(e.reverse(),t);return[r,n]}function Mw(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Dv(t,e){for(const r of t)if(!bj(r,{upTo:e}))return r}function bj(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function wj(t){return t instanceof HTMLInputElement&&"select"in t}function qo(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&wj(t)&&e&&t.select()}}var zv=kj();function kj(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Lv(t,e),t.unshift(e)},remove(e){var r;t=Lv(t,e),(r=t[0])==null||r.resume()}}}function Lv(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Nj(t){return t.filter(e=>e.tagName!=="A")}var Qr=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},Cj=Np[" useId ".trim().toString()]||(()=>{}),Ej=0;function Os(t){const[e,r]=b.useState(Cj());return Qr(()=>{r(n=>n??String(Ej++))},[t]),t||(e?`radix-${e}`:"")}const Aj=["top","right","bottom","left"],Zo=Math.min,Pn=Math.max,Md=Math.round,Ku=Math.floor,Fs=t=>({x:t,y:t}),Sj={left:"right",right:"left",bottom:"top",top:"bottom"},Tj={start:"end",end:"start"};function ip(t,e,r){return Pn(t,Zo(e,r))}function co(t,e){return typeof t=="function"?t(e):t}function uo(t){return t.split("-")[0]}function ll(t){return t.split("-")[1]}function Yp(t){return t==="x"?"y":"x"}function Qp(t){return t==="y"?"height":"width"}const Pj=new Set(["top","bottom"]);function Ls(t){return Pj.has(uo(t))?"y":"x"}function Jp(t){return Yp(Ls(t))}function jj(t,e,r){r===void 0&&(r=!1);const n=ll(t),i=Jp(t),l=Qp(i);let c=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=Id(c)),[c,Id(c)]}function Rj(t){const e=Id(t);return[ap(t),e,ap(e)]}function ap(t){return t.replace(/start|end/g,e=>Tj[e])}const Ov=["left","right"],Fv=["right","left"],Mj=["top","bottom"],Ij=["bottom","top"];function _j(t,e,r){switch(t){case"top":case"bottom":return r?e?Fv:Ov:e?Ov:Fv;case"left":case"right":return e?Mj:Ij;default:return[]}}function Dj(t,e,r,n){const i=ll(t);let l=_j(uo(t),r==="start",n);return i&&(l=l.map(c=>c+"-"+i),e&&(l=l.concat(l.map(ap)))),l}function Id(t){return t.replace(/left|right|bottom|top/g,e=>Sj[e])}function zj(t){return{top:0,right:0,bottom:0,left:0,...t}}function Iw(t){return typeof t!="number"?zj(t):{top:t,right:t,bottom:t,left:t}}function _d(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function Bv(t,e,r){let{reference:n,floating:i}=t;const l=Ls(e),c=Jp(e),d=Qp(c),f=uo(e),m=l==="y",p=n.x+n.width/2-i.width/2,x=n.y+n.height/2-i.height/2,C=n[d]/2-i[d]/2;let w;switch(f){case"top":w={x:p,y:n.y-i.height};break;case"bottom":w={x:p,y:n.y+n.height};break;case"right":w={x:n.x+n.width,y:x};break;case"left":w={x:n.x-i.width,y:x};break;default:w={x:n.x,y:n.y}}switch(ll(e)){case"start":w[c]-=C*(r&&m?-1:1);break;case"end":w[c]+=C*(r&&m?-1:1);break}return w}const Lj=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:l=[],platform:c}=r,d=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:x}=Bv(m,n,f),C=n,w={},P=0;for(let E=0;E<d.length;E++){const{name:I,fn:D}=d[E],{x:O,y:S,data:U,reset:$}=await D({x:p,y:x,initialPlacement:n,placement:C,strategy:i,middlewareData:w,rects:m,platform:c,elements:{reference:t,floating:e}});p=O??p,x=S??x,w={...w,[I]:{...w[I],...U}},$&&P<=50&&(P++,typeof $=="object"&&($.placement&&(C=$.placement),$.rects&&(m=$.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:i}):$.rects),{x:p,y:x}=Bv(m,C,f)),E=-1)}return{x:p,y:x,placement:C,strategy:i,middlewareData:w}};async function yc(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:l,rects:c,elements:d,strategy:f}=t,{boundary:m="clippingAncestors",rootBoundary:p="viewport",elementContext:x="floating",altBoundary:C=!1,padding:w=0}=co(e,t),P=Iw(w),I=d[C?x==="floating"?"reference":"floating":x],D=_d(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(I)))==null||r?I:I.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:m,rootBoundary:p,strategy:f})),O=x==="floating"?{x:n,y:i,width:c.floating.width,height:c.floating.height}:c.reference,S=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),U=await(l.isElement==null?void 0:l.isElement(S))?await(l.getScale==null?void 0:l.getScale(S))||{x:1,y:1}:{x:1,y:1},$=_d(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:O,offsetParent:S,strategy:f}):O);return{top:(D.top-$.top+P.top)/U.y,bottom:($.bottom-D.bottom+P.bottom)/U.y,left:(D.left-$.left+P.left)/U.x,right:($.right-D.right+P.right)/U.x}}const Oj=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:l,platform:c,elements:d,middlewareData:f}=e,{element:m,padding:p=0}=co(t,e)||{};if(m==null)return{};const x=Iw(p),C={x:r,y:n},w=Jp(i),P=Qp(w),E=await c.getDimensions(m),I=w==="y",D=I?"top":"left",O=I?"bottom":"right",S=I?"clientHeight":"clientWidth",U=l.reference[P]+l.reference[w]-C[w]-l.floating[P],$=C[w]-l.reference[w],H=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let V=H?H[S]:0;(!V||!await(c.isElement==null?void 0:c.isElement(H)))&&(V=d.floating[S]||l.floating[P]);const W=U/2-$/2,K=V/2-E[P]/2-1,Z=Zo(x[D],K),Y=Zo(x[O],K),q=Z,R=V-E[P]-Y,h=V/2-E[P]/2+W,v=ip(q,h,R),A=!f.arrow&&ll(i)!=null&&h!==v&&l.reference[P]/2-(h<q?Z:Y)-E[P]/2<0,_=A?h<q?h-q:h-R:0;return{[w]:C[w]+_,data:{[w]:v,centerOffset:h-v-_,...A&&{alignmentOffset:_}},reset:A}}}),Fj=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:l,rects:c,initialPlacement:d,platform:f,elements:m}=e,{mainAxis:p=!0,crossAxis:x=!0,fallbackPlacements:C,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:E=!0,...I}=co(t,e);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const D=uo(i),O=Ls(d),S=uo(d)===d,U=await(f.isRTL==null?void 0:f.isRTL(m.floating)),$=C||(S||!E?[Id(d)]:Rj(d)),H=P!=="none";!C&&H&&$.push(...Dj(d,E,P,U));const V=[d,...$],W=await yc(e,I),K=[];let Z=((n=l.flip)==null?void 0:n.overflows)||[];if(p&&K.push(W[D]),x){const h=jj(i,c,U);K.push(W[h[0]],W[h[1]])}if(Z=[...Z,{placement:i,overflows:K}],!K.every(h=>h<=0)){var Y,q;const h=(((Y=l.flip)==null?void 0:Y.index)||0)+1,v=V[h];if(v&&(!(x==="alignment"?O!==Ls(v):!1)||Z.every(j=>j.overflows[0]>0&&Ls(j.placement)===O)))return{data:{index:h,overflows:Z},reset:{placement:v}};let A=(q=Z.filter(_=>_.overflows[0]<=0).sort((_,j)=>_.overflows[1]-j.overflows[1])[0])==null?void 0:q.placement;if(!A)switch(w){case"bestFit":{var R;const _=(R=Z.filter(j=>{if(H){const T=Ls(j.placement);return T===O||T==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(T=>T>0).reduce((T,L)=>T+L,0)]).sort((j,T)=>j[1]-T[1])[0])==null?void 0:R[0];_&&(A=_);break}case"initialPlacement":A=d;break}if(i!==A)return{reset:{placement:A}}}return{}}}};function Uv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function $v(t){return Aj.some(e=>t[e]>=0)}const Bj=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=co(t,e);switch(n){case"referenceHidden":{const l=await yc(e,{...i,elementContext:"reference"}),c=Uv(l,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:$v(c)}}}case"escaped":{const l=await yc(e,{...i,altBoundary:!0}),c=Uv(l,r.floating);return{data:{escapedOffsets:c,escaped:$v(c)}}}default:return{}}}}},_w=new Set(["left","top"]);async function Uj(t,e){const{placement:r,platform:n,elements:i}=t,l=await(n.isRTL==null?void 0:n.isRTL(i.floating)),c=uo(r),d=ll(r),f=Ls(r)==="y",m=_w.has(c)?-1:1,p=l&&f?-1:1,x=co(e,t);let{mainAxis:C,crossAxis:w,alignmentAxis:P}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return d&&typeof P=="number"&&(w=d==="end"?P*-1:P),f?{x:w*p,y:C*m}:{x:C*m,y:w*p}}const $j=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:l,placement:c,middlewareData:d}=e,f=await Uj(e,t);return c===((r=d.offset)==null?void 0:r.placement)&&(n=d.arrow)!=null&&n.alignmentOffset?{}:{x:i+f.x,y:l+f.y,data:{...f,placement:c}}}}},Wj=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:I=>{let{x:D,y:O}=I;return{x:D,y:O}}},...f}=co(t,e),m={x:r,y:n},p=await yc(e,f),x=Ls(uo(i)),C=Yp(x);let w=m[C],P=m[x];if(l){const I=C==="y"?"top":"left",D=C==="y"?"bottom":"right",O=w+p[I],S=w-p[D];w=ip(O,w,S)}if(c){const I=x==="y"?"top":"left",D=x==="y"?"bottom":"right",O=P+p[I],S=P-p[D];P=ip(O,P,S)}const E=d.fn({...e,[C]:w,[x]:P});return{...E,data:{x:E.x-r,y:E.y-n,enabled:{[C]:l,[x]:c}}}}}},qj=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:l,middlewareData:c}=e,{offset:d=0,mainAxis:f=!0,crossAxis:m=!0}=co(t,e),p={x:r,y:n},x=Ls(i),C=Yp(x);let w=p[C],P=p[x];const E=co(d,e),I=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(f){const S=C==="y"?"height":"width",U=l.reference[C]-l.floating[S]+I.mainAxis,$=l.reference[C]+l.reference[S]-I.mainAxis;w<U?w=U:w>$&&(w=$)}if(m){var D,O;const S=C==="y"?"width":"height",U=_w.has(uo(i)),$=l.reference[x]-l.floating[S]+(U&&((D=c.offset)==null?void 0:D[x])||0)+(U?0:I.crossAxis),H=l.reference[x]+l.reference[S]+(U?0:((O=c.offset)==null?void 0:O[x])||0)-(U?I.crossAxis:0);P<$?P=$:P>H&&(P=H)}return{[C]:w,[x]:P}}}},Hj=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:l,platform:c,elements:d}=e,{apply:f=()=>{},...m}=co(t,e),p=await yc(e,m),x=uo(i),C=ll(i),w=Ls(i)==="y",{width:P,height:E}=l.floating;let I,D;x==="top"||x==="bottom"?(I=x,D=C===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(D=x,I=C==="end"?"top":"bottom");const O=E-p.top-p.bottom,S=P-p.left-p.right,U=Zo(E-p[I],O),$=Zo(P-p[D],S),H=!e.middlewareData.shift;let V=U,W=$;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(W=S),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(V=O),H&&!C){const Z=Pn(p.left,0),Y=Pn(p.right,0),q=Pn(p.top,0),R=Pn(p.bottom,0);w?W=P-2*(Z!==0||Y!==0?Z+Y:Pn(p.left,p.right)):V=E-2*(q!==0||R!==0?q+R:Pn(p.top,p.bottom))}await f({...e,availableWidth:W,availableHeight:V});const K=await c.getDimensions(d.floating);return P!==K.width||E!==K.height?{reset:{rects:!0}}:{}}}};function rf(){return typeof window<"u"}function cl(t){return Dw(t)?(t.nodeName||"").toLowerCase():"#document"}function In(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function qs(t){var e;return(e=(Dw(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Dw(t){return rf()?t instanceof Node||t instanceof In(t).Node:!1}function ys(t){return rf()?t instanceof Element||t instanceof In(t).Element:!1}function $s(t){return rf()?t instanceof HTMLElement||t instanceof In(t).HTMLElement:!1}function Wv(t){return!rf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof In(t).ShadowRoot}const Gj=new Set(["inline","contents"]);function Rc(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=xs(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Gj.has(i)}const Vj=new Set(["table","td","th"]);function Kj(t){return Vj.has(cl(t))}const Yj=[":popover-open",":modal"];function nf(t){return Yj.some(e=>{try{return t.matches(e)}catch{return!1}})}const Qj=["transform","translate","scale","rotate","perspective"],Jj=["transform","translate","scale","rotate","perspective","filter"],Xj=["paint","layout","strict","content"];function Xp(t){const e=Zp(),r=ys(t)?xs(t):t;return Qj.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||Jj.some(n=>(r.willChange||"").includes(n))||Xj.some(n=>(r.contain||"").includes(n))}function Zj(t){let e=ei(t);for(;$s(e)&&!tl(e);){if(Xp(e))return e;if(nf(e))return null;e=ei(e)}return null}function Zp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const eR=new Set(["html","body","#document"]);function tl(t){return eR.has(cl(t))}function xs(t){return In(t).getComputedStyle(t)}function sf(t){return ys(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ei(t){if(cl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Wv(t)&&t.host||qs(t);return Wv(e)?e.host:e}function zw(t){const e=ei(t);return tl(e)?t.ownerDocument?t.ownerDocument.body:t.body:$s(e)&&Rc(e)?e:zw(e)}function xc(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=zw(t),l=i===((n=t.ownerDocument)==null?void 0:n.body),c=In(i);if(l){const d=lp(c);return e.concat(c,c.visualViewport||[],Rc(i)?i:[],d&&r?xc(d):[])}return e.concat(i,xc(i,[],r))}function lp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Lw(t){const e=xs(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=$s(t),l=i?t.offsetWidth:r,c=i?t.offsetHeight:n,d=Md(r)!==l||Md(n)!==c;return d&&(r=l,n=c),{width:r,height:n,$:d}}function eg(t){return ys(t)?t:t.contextElement}function Ya(t){const e=eg(t);if(!$s(e))return Fs(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:l}=Lw(e);let c=(l?Md(r.width):r.width)/n,d=(l?Md(r.height):r.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const tR=Fs(0);function Ow(t){const e=In(t);return!Zp()||!e.visualViewport?tR:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function rR(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==In(t)?!1:e}function Bi(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),l=eg(t);let c=Fs(1);e&&(n?ys(n)&&(c=Ya(n)):c=Ya(t));const d=rR(l,r,n)?Ow(l):Fs(0);let f=(i.left+d.x)/c.x,m=(i.top+d.y)/c.y,p=i.width/c.x,x=i.height/c.y;if(l){const C=In(l),w=n&&ys(n)?In(n):n;let P=C,E=lp(P);for(;E&&n&&w!==P;){const I=Ya(E),D=E.getBoundingClientRect(),O=xs(E),S=D.left+(E.clientLeft+parseFloat(O.paddingLeft))*I.x,U=D.top+(E.clientTop+parseFloat(O.paddingTop))*I.y;f*=I.x,m*=I.y,p*=I.x,x*=I.y,f+=S,m+=U,P=In(E),E=lp(P)}}return _d({width:p,height:x,x:f,y:m})}function tg(t,e){const r=sf(t).scrollLeft;return e?e.left+r:Bi(qs(t)).left+r}function Fw(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:tg(t,n)),l=n.top+e.scrollTop;return{x:i,y:l}}function nR(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const l=i==="fixed",c=qs(n),d=e?nf(e.floating):!1;if(n===c||d&&l)return r;let f={scrollLeft:0,scrollTop:0},m=Fs(1);const p=Fs(0),x=$s(n);if((x||!x&&!l)&&((cl(n)!=="body"||Rc(c))&&(f=sf(n)),$s(n))){const w=Bi(n);m=Ya(n),p.x=w.x+n.clientLeft,p.y=w.y+n.clientTop}const C=c&&!x&&!l?Fw(c,f,!0):Fs(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-f.scrollLeft*m.x+p.x+C.x,y:r.y*m.y-f.scrollTop*m.y+p.y+C.y}}function sR(t){return Array.from(t.getClientRects())}function oR(t){const e=qs(t),r=sf(t),n=t.ownerDocument.body,i=Pn(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),l=Pn(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+tg(t);const d=-r.scrollTop;return xs(n).direction==="rtl"&&(c+=Pn(e.clientWidth,n.clientWidth)-i),{width:i,height:l,x:c,y:d}}function iR(t,e){const r=In(t),n=qs(t),i=r.visualViewport;let l=n.clientWidth,c=n.clientHeight,d=0,f=0;if(i){l=i.width,c=i.height;const m=Zp();(!m||m&&e==="fixed")&&(d=i.offsetLeft,f=i.offsetTop)}return{width:l,height:c,x:d,y:f}}const aR=new Set(["absolute","fixed"]);function lR(t,e){const r=Bi(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,l=$s(t)?Ya(t):Fs(1),c=t.clientWidth*l.x,d=t.clientHeight*l.y,f=i*l.x,m=n*l.y;return{width:c,height:d,x:f,y:m}}function qv(t,e,r){let n;if(e==="viewport")n=iR(t,r);else if(e==="document")n=oR(qs(t));else if(ys(e))n=lR(e,r);else{const i=Ow(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return _d(n)}function Bw(t,e){const r=ei(t);return r===e||!ys(r)||tl(r)?!1:xs(r).position==="fixed"||Bw(r,e)}function cR(t,e){const r=e.get(t);if(r)return r;let n=xc(t,[],!1).filter(d=>ys(d)&&cl(d)!=="body"),i=null;const l=xs(t).position==="fixed";let c=l?ei(t):t;for(;ys(c)&&!tl(c);){const d=xs(c),f=Xp(c);!f&&d.position==="fixed"&&(i=null),(l?!f&&!i:!f&&d.position==="static"&&!!i&&aR.has(i.position)||Rc(c)&&!f&&Bw(t,c))?n=n.filter(p=>p!==c):i=d,c=ei(c)}return e.set(t,n),n}function uR(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const c=[...r==="clippingAncestors"?nf(e)?[]:cR(e,this._c):[].concat(r),n],d=c[0],f=c.reduce((m,p)=>{const x=qv(e,p,i);return m.top=Pn(x.top,m.top),m.right=Zo(x.right,m.right),m.bottom=Zo(x.bottom,m.bottom),m.left=Pn(x.left,m.left),m},qv(e,d,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function dR(t){const{width:e,height:r}=Lw(t);return{width:e,height:r}}function fR(t,e,r){const n=$s(e),i=qs(e),l=r==="fixed",c=Bi(t,!0,l,e);let d={scrollLeft:0,scrollTop:0};const f=Fs(0);function m(){f.x=tg(i)}if(n||!n&&!l)if((cl(e)!=="body"||Rc(i))&&(d=sf(e)),n){const w=Bi(e,!0,l,e);f.x=w.x+e.clientLeft,f.y=w.y+e.clientTop}else i&&m();l&&!n&&i&&m();const p=i&&!n&&!l?Fw(i,d):Fs(0),x=c.left+d.scrollLeft-f.x-p.x,C=c.top+d.scrollTop-f.y-p.y;return{x,y:C,width:c.width,height:c.height}}function Im(t){return xs(t).position==="static"}function Hv(t,e){if(!$s(t)||xs(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return qs(t)===r&&(r=r.ownerDocument.body),r}function Uw(t,e){const r=In(t);if(nf(t))return r;if(!$s(t)){let i=ei(t);for(;i&&!tl(i);){if(ys(i)&&!Im(i))return i;i=ei(i)}return r}let n=Hv(t,e);for(;n&&Kj(n)&&Im(n);)n=Hv(n,e);return n&&tl(n)&&Im(n)&&!Xp(n)?r:n||Zj(t)||r}const hR=async function(t){const e=this.getOffsetParent||Uw,r=this.getDimensions,n=await r(t.floating);return{reference:fR(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function mR(t){return xs(t).direction==="rtl"}const pR={convertOffsetParentRelativeRectToViewportRelativeRect:nR,getDocumentElement:qs,getClippingRect:uR,getOffsetParent:Uw,getElementRects:hR,getClientRects:sR,getDimensions:dR,getScale:Ya,isElement:ys,isRTL:mR};function $w(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function gR(t,e){let r=null,n;const i=qs(t);function l(){var d;clearTimeout(n),(d=r)==null||d.disconnect(),r=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),l();const m=t.getBoundingClientRect(),{left:p,top:x,width:C,height:w}=m;if(d||e(),!C||!w)return;const P=Ku(x),E=Ku(i.clientWidth-(p+C)),I=Ku(i.clientHeight-(x+w)),D=Ku(p),S={rootMargin:-P+"px "+-E+"px "+-I+"px "+-D+"px",threshold:Pn(0,Zo(1,f))||1};let U=!0;function $(H){const V=H[0].intersectionRatio;if(V!==f){if(!U)return c();V?c(!1,V):n=setTimeout(()=>{c(!1,1e-7)},1e3)}V===1&&!$w(m,t.getBoundingClientRect())&&c(),U=!1}try{r=new IntersectionObserver($,{...S,root:i.ownerDocument})}catch{r=new IntersectionObserver($,S)}r.observe(t)}return c(!0),l}function yR(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,m=eg(t),p=i||l?[...m?xc(m):[],...xc(e)]:[];p.forEach(D=>{i&&D.addEventListener("scroll",r,{passive:!0}),l&&D.addEventListener("resize",r)});const x=m&&d?gR(m,r):null;let C=-1,w=null;c&&(w=new ResizeObserver(D=>{let[O]=D;O&&O.target===m&&w&&(w.unobserve(e),cancelAnimationFrame(C),C=requestAnimationFrame(()=>{var S;(S=w)==null||S.observe(e)})),r()}),m&&!f&&w.observe(m),w.observe(e));let P,E=f?Bi(t):null;f&&I();function I(){const D=Bi(t);E&&!$w(E,D)&&r(),E=D,P=requestAnimationFrame(I)}return r(),()=>{var D;p.forEach(O=>{i&&O.removeEventListener("scroll",r),l&&O.removeEventListener("resize",r)}),x==null||x(),(D=w)==null||D.disconnect(),w=null,f&&cancelAnimationFrame(P)}}const xR=$j,vR=Wj,bR=Fj,wR=Hj,kR=Bj,Gv=Oj,NR=qj,CR=(t,e,r)=>{const n=new Map,i={platform:pR,...r},l={...i.platform,_c:n};return Lj(t,e,{...i,platform:l})};var ER=typeof document<"u",AR=function(){},yd=ER?b.useLayoutEffect:AR;function Dd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Dd(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const l=i[n];if(!(l==="_owner"&&t.$$typeof)&&!Dd(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function Ww(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Vv(t,e){const r=Ww(t);return Math.round(e*r)/r}function _m(t){const e=b.useRef(t);return yd(()=>{e.current=t}),e}function SR(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:f,open:m}=t,[p,x]=b.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[C,w]=b.useState(n);Dd(C,n)||w(n);const[P,E]=b.useState(null),[I,D]=b.useState(null),O=b.useCallback(j=>{j!==H.current&&(H.current=j,E(j))},[]),S=b.useCallback(j=>{j!==V.current&&(V.current=j,D(j))},[]),U=l||P,$=c||I,H=b.useRef(null),V=b.useRef(null),W=b.useRef(p),K=f!=null,Z=_m(f),Y=_m(i),q=_m(m),R=b.useCallback(()=>{if(!H.current||!V.current)return;const j={placement:e,strategy:r,middleware:C};Y.current&&(j.platform=Y.current),CR(H.current,V.current,j).then(T=>{const L={...T,isPositioned:q.current!==!1};h.current&&!Dd(W.current,L)&&(W.current=L,wc.flushSync(()=>{x(L)}))})},[C,e,r,Y,q]);yd(()=>{m===!1&&W.current.isPositioned&&(W.current.isPositioned=!1,x(j=>({...j,isPositioned:!1})))},[m]);const h=b.useRef(!1);yd(()=>(h.current=!0,()=>{h.current=!1}),[]),yd(()=>{if(U&&(H.current=U),$&&(V.current=$),U&&$){if(Z.current)return Z.current(U,$,R);R()}},[U,$,R,Z,K]);const v=b.useMemo(()=>({reference:H,floating:V,setReference:O,setFloating:S}),[O,S]),A=b.useMemo(()=>({reference:U,floating:$}),[U,$]),_=b.useMemo(()=>{const j={position:r,left:0,top:0};if(!A.floating)return j;const T=Vv(A.floating,p.x),L=Vv(A.floating,p.y);return d?{...j,transform:"translate("+T+"px, "+L+"px)",...Ww(A.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:T,top:L}},[r,d,A.floating,p.x,p.y]);return b.useMemo(()=>({...p,update:R,refs:v,elements:A,floatingStyles:_}),[p,R,v,A,_])}const TR=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?Gv({element:n.current,padding:i}).fn(r):{}:n?Gv({element:n,padding:i}).fn(r):{}}}},PR=(t,e)=>({...xR(t),options:[t,e]}),jR=(t,e)=>({...vR(t),options:[t,e]}),RR=(t,e)=>({...NR(t),options:[t,e]}),MR=(t,e)=>({...bR(t),options:[t,e]}),IR=(t,e)=>({...wR(t),options:[t,e]}),_R=(t,e)=>({...kR(t),options:[t,e]}),DR=(t,e)=>({...TR(t),options:[t,e]});var zR="Arrow",qw=b.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...l}=t;return o.jsx(ut.svg,{...l,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});qw.displayName=zR;var LR=qw;function Hw(t){const[e,r]=b.useState(void 0);return Qr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let c,d;if("borderBoxSize"in l){const f=l.borderBoxSize,m=Array.isArray(f)?f[0]:f;c=m.inlineSize,d=m.blockSize}else c=t.offsetWidth,d=t.offsetHeight;r({width:c,height:d})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var rg="Popper",[Gw,of]=go(rg),[OR,Vw]=Gw(rg),Kw=t=>{const{__scopePopper:e,children:r}=t,[n,i]=b.useState(null);return o.jsx(OR,{scope:e,anchor:n,onAnchorChange:i,children:r})};Kw.displayName=rg;var Yw="PopperAnchor",Qw=b.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,l=Vw(Yw,r),c=b.useRef(null),d=Wt(e,c);return b.useEffect(()=>{l.onAnchorChange((n==null?void 0:n.current)||c.current)}),n?null:o.jsx(ut.div,{...i,ref:d})});Qw.displayName=Yw;var ng="PopperContent",[FR,BR]=Gw(ng),Jw=b.forwardRef((t,e)=>{var G,J,te,ie,fe,ue;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:p=0,sticky:x="partial",hideWhenDetached:C=!1,updatePositionStrategy:w="optimized",onPlaced:P,...E}=t,I=Vw(ng,r),[D,O]=b.useState(null),S=Wt(e,je=>O(je)),[U,$]=b.useState(null),H=Hw(U),V=(H==null?void 0:H.width)??0,W=(H==null?void 0:H.height)??0,K=n+(l!=="center"?"-"+l:""),Z=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},Y=Array.isArray(m)?m:[m],q=Y.length>0,R={padding:Z,boundary:Y.filter($R),altBoundary:q},{refs:h,floatingStyles:v,placement:A,isPositioned:_,middlewareData:j}=SR({strategy:"fixed",placement:K,whileElementsMounted:(...je)=>yR(...je,{animationFrame:w==="always"}),elements:{reference:I.anchor},middleware:[PR({mainAxis:i+W,alignmentAxis:c}),f&&jR({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?RR():void 0,...R}),f&&MR({...R}),IR({...R,apply:({elements:je,rects:pe,availableWidth:Ae,availableHeight:gt})=>{const{width:$e,height:He}=pe.reference,Nt=je.floating.style;Nt.setProperty("--radix-popper-available-width",`${Ae}px`),Nt.setProperty("--radix-popper-available-height",`${gt}px`),Nt.setProperty("--radix-popper-anchor-width",`${$e}px`),Nt.setProperty("--radix-popper-anchor-height",`${He}px`)}}),U&&DR({element:U,padding:d}),WR({arrowWidth:V,arrowHeight:W}),C&&_R({strategy:"referenceHidden",...R})]}),[T,L]=e1(A),k=Us(P);Qr(()=>{_&&(k==null||k())},[_,k]);const y=(G=j.arrow)==null?void 0:G.x,F=(J=j.arrow)==null?void 0:J.y,ee=((te=j.arrow)==null?void 0:te.centerOffset)!==0,[z,Q]=b.useState();return Qr(()=>{D&&Q(window.getComputedStyle(D).zIndex)},[D]),o.jsx("div",{ref:h.setFloating,"data-radix-popper-content-wrapper":"",style:{...v,transform:_?v.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:z,"--radix-popper-transform-origin":[(ie=j.transformOrigin)==null?void 0:ie.x,(fe=j.transformOrigin)==null?void 0:fe.y].join(" "),...((ue=j.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(FR,{scope:r,placedSide:T,onArrowChange:$,arrowX:y,arrowY:F,shouldHideArrow:ee,children:o.jsx(ut.div,{"data-side":T,"data-align":L,...E,ref:S,style:{...E.style,animation:_?void 0:"none"}})})})});Jw.displayName=ng;var Xw="PopperArrow",UR={top:"bottom",right:"left",bottom:"top",left:"right"},Zw=b.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,l=BR(Xw,n),c=UR[l.placedSide];return o.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:o.jsx(LR,{...i,ref:r,style:{...i.style,display:"block"}})})});Zw.displayName=Xw;function $R(t){return t!==null}var WR=t=>({name:"transformOrigin",options:t,fn(e){var I,D,O;const{placement:r,rects:n,middlewareData:i}=e,c=((I=i.arrow)==null?void 0:I.centerOffset)!==0,d=c?0:t.arrowWidth,f=c?0:t.arrowHeight,[m,p]=e1(r),x={start:"0%",center:"50%",end:"100%"}[p],C=(((D=i.arrow)==null?void 0:D.x)??0)+d/2,w=(((O=i.arrow)==null?void 0:O.y)??0)+f/2;let P="",E="";return m==="bottom"?(P=c?x:`${C}px`,E=`${-f}px`):m==="top"?(P=c?x:`${C}px`,E=`${n.floating.height+f}px`):m==="right"?(P=`${-f}px`,E=c?x:`${w}px`):m==="left"&&(P=`${n.floating.width+f}px`,E=c?x:`${w}px`),{data:{x:P,y:E}}}});function e1(t){const[e,r="center"]=t.split("-");return[e,r]}var t1=Kw,r1=Qw,n1=Jw,s1=Zw,qR="Portal",af=b.forwardRef((t,e)=>{var d;const{container:r,...n}=t,[i,l]=b.useState(!1);Qr(()=>l(!0),[]);const c=r||i&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return c?cb.createPortal(o.jsx(ut.div,{...n,ref:e}),c):null});af.displayName=qR;var HR=Np[" useInsertionEffect ".trim().toString()]||Qr;function Ui({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,l,c]=GR({defaultProp:e,onChange:r}),d=t!==void 0,f=d?t:i;{const p=b.useRef(t!==void 0);b.useEffect(()=>{const x=p.current;x!==d&&console.warn(`${n} is changing from ${x?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,n])}const m=b.useCallback(p=>{var x;if(d){const C=VR(p)?p(t):p;C!==t&&((x=c.current)==null||x.call(c,C))}else l(p)},[d,t,l,c]);return[f,m]}function GR({defaultProp:t,onChange:e}){const[r,n]=b.useState(t),i=b.useRef(r),l=b.useRef(e);return HR(()=>{l.current=e},[e]),b.useEffect(()=>{var c;i.current!==r&&((c=l.current)==null||c.call(l,r),i.current=r)},[r,i]),[r,n,l]}function VR(t){return typeof t=="function"}function o1(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var i1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),KR="VisuallyHidden",YR=b.forwardRef((t,e)=>o.jsx(ut.span,{...t,ref:e,style:{...i1,...t.style}}));YR.displayName=KR;var QR=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Da=new WeakMap,Yu=new WeakMap,Qu={},Dm=0,a1=function(t){return t&&(t.host||a1(t.parentNode))},JR=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=a1(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},XR=function(t,e,r,n){var i=JR(e,Array.isArray(t)?t:[t]);Qu[r]||(Qu[r]=new WeakMap);var l=Qu[r],c=[],d=new Set,f=new Set(i),m=function(x){!x||d.has(x)||(d.add(x),m(x.parentNode))};i.forEach(m);var p=function(x){!x||f.has(x)||Array.prototype.forEach.call(x.children,function(C){if(d.has(C))p(C);else try{var w=C.getAttribute(n),P=w!==null&&w!=="false",E=(Da.get(C)||0)+1,I=(l.get(C)||0)+1;Da.set(C,E),l.set(C,I),c.push(C),E===1&&P&&Yu.set(C,!0),I===1&&C.setAttribute(r,"true"),P||C.setAttribute(n,"true")}catch(D){console.error("aria-hidden: cannot operate on ",C,D)}})};return p(e),d.clear(),Dm++,function(){c.forEach(function(x){var C=Da.get(x)-1,w=l.get(x)-1;Da.set(x,C),l.set(x,w),C||(Yu.has(x)||x.removeAttribute(n),Yu.delete(x)),w||x.removeAttribute(r)}),Dm--,Dm||(Da=new WeakMap,Da=new WeakMap,Yu=new WeakMap,Qu={})}},sg=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=QR(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),XR(n,i,r,"aria-hidden")):function(){return null}},Ds=function(){return Ds=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},Ds.apply(this,arguments)};function l1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function ZR(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,l;n<i;n++)(l||!(n in e))&&(l||(l=Array.prototype.slice.call(e,0,n)),l[n]=e[n]);return t.concat(l||Array.prototype.slice.call(e))}var xd="right-scroll-bar-position",vd="width-before-scroll-bar",e4="with-scroll-bars-hidden",t4="--removed-body-scroll-bar-size";function zm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function r4(t,e){var r=b.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var n4=typeof window<"u"?b.useLayoutEffect:b.useEffect,Kv=new WeakMap;function s4(t,e){var r=r4(null,function(n){return t.forEach(function(i){return zm(i,n)})});return n4(function(){var n=Kv.get(r);if(n){var i=new Set(n),l=new Set(t),c=r.current;i.forEach(function(d){l.has(d)||zm(d,null)}),l.forEach(function(d){i.has(d)||zm(d,c)})}Kv.set(r,t)},[t]),r}function o4(t){return t}function i4(t,e){e===void 0&&(e=o4);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(l){var c=e(l,n);return r.push(c),function(){r=r.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(n=!0;r.length;){var c=r;r=[],c.forEach(l)}r={push:function(d){return l(d)},filter:function(){return r}}},assignMedium:function(l){n=!0;var c=[];if(r.length){var d=r;r=[],d.forEach(l),c=r}var f=function(){var p=c;c=[],p.forEach(l)},m=function(){return Promise.resolve().then(f)};m(),r={push:function(p){c.push(p),m()},filter:function(p){return c=c.filter(p),r}}}};return i}function a4(t){t===void 0&&(t={});var e=i4(null);return e.options=Ds({async:!0,ssr:!1},t),e}var c1=function(t){var e=t.sideCar,r=l1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return b.createElement(n,Ds({},r))};c1.isSideCarExport=!0;function l4(t,e){return t.useMedium(e),c1}var u1=a4(),Lm=function(){},lf=b.forwardRef(function(t,e){var r=b.useRef(null),n=b.useState({onScrollCapture:Lm,onWheelCapture:Lm,onTouchMoveCapture:Lm}),i=n[0],l=n[1],c=t.forwardProps,d=t.children,f=t.className,m=t.removeScrollBar,p=t.enabled,x=t.shards,C=t.sideCar,w=t.noRelative,P=t.noIsolation,E=t.inert,I=t.allowPinchZoom,D=t.as,O=D===void 0?"div":D,S=t.gapMode,U=l1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=C,H=s4([r,e]),V=Ds(Ds({},U),i);return b.createElement(b.Fragment,null,p&&b.createElement($,{sideCar:u1,removeScrollBar:m,shards:x,noRelative:w,noIsolation:P,inert:E,setCallbacks:l,allowPinchZoom:!!I,lockRef:r,gapMode:S}),c?b.cloneElement(b.Children.only(d),Ds(Ds({},V),{ref:H})):b.createElement(O,Ds({},V,{className:f,ref:H}),d))});lf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lf.classNames={fullWidth:vd,zeroRight:xd};var c4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function u4(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=c4();return e&&t.setAttribute("nonce",e),t}function d4(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function f4(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var h4=function(){var t=0,e=null;return{add:function(r){t==0&&(e=u4())&&(d4(e,r),f4(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},m4=function(){var t=h4();return function(e,r){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},d1=function(){var t=m4(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},p4={left:0,top:0,right:0,gap:0},Om=function(t){return parseInt(t||"",10)||0},g4=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Om(r),Om(n),Om(i)]},y4=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return p4;var e=g4(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},x4=d1(),Qa="data-scroll-locked",v4=function(t,e,r,n){var i=t.left,l=t.top,c=t.right,d=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(e4,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(d,"px ").concat(n,`;
  }
  body[`).concat(Qa,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xd,` {
    right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(vd,` {
    margin-right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(xd," .").concat(xd,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(vd," .").concat(vd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Qa,`] {
    `).concat(t4,": ").concat(d,`px;
  }
`)},Yv=function(){var t=parseInt(document.body.getAttribute(Qa)||"0",10);return isFinite(t)?t:0},b4=function(){b.useEffect(function(){return document.body.setAttribute(Qa,(Yv()+1).toString()),function(){var t=Yv()-1;t<=0?document.body.removeAttribute(Qa):document.body.setAttribute(Qa,t.toString())}},[])},w4=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;b4();var l=b.useMemo(function(){return y4(i)},[i]);return b.createElement(x4,{styles:v4(l,!e,i,r?"":"!important")})},cp=!1;if(typeof window<"u")try{var Ju=Object.defineProperty({},"passive",{get:function(){return cp=!0,!0}});window.addEventListener("test",Ju,Ju),window.removeEventListener("test",Ju,Ju)}catch{cp=!1}var za=cp?{passive:!1}:!1,k4=function(t){return t.tagName==="TEXTAREA"},f1=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!k4(t)&&r[e]==="visible")},N4=function(t){return f1(t,"overflowY")},C4=function(t){return f1(t,"overflowX")},Qv=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=h1(t,n);if(i){var l=m1(t,n),c=l[1],d=l[2];if(c>d)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},E4=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},A4=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},h1=function(t,e){return t==="v"?N4(e):C4(e)},m1=function(t,e){return t==="v"?E4(e):A4(e)},S4=function(t,e){return t==="h"&&e==="rtl"?-1:1},T4=function(t,e,r,n,i){var l=S4(t,window.getComputedStyle(e).direction),c=l*n,d=r.target,f=e.contains(d),m=!1,p=c>0,x=0,C=0;do{if(!d)break;var w=m1(t,d),P=w[0],E=w[1],I=w[2],D=E-I-l*P;(P||D)&&h1(t,d)&&(x+=D,C+=P);var O=d.parentNode;d=O&&O.nodeType===Node.DOCUMENT_FRAGMENT_NODE?O.host:O}while(!f&&d!==document.body||f&&(e.contains(d)||e===d));return(p&&Math.abs(x)<1||!p&&Math.abs(C)<1)&&(m=!0),m},Xu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Jv=function(t){return[t.deltaX,t.deltaY]},Xv=function(t){return t&&"current"in t?t.current:t},P4=function(t,e){return t[0]===e[0]&&t[1]===e[1]},j4=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},R4=0,La=[];function M4(t){var e=b.useRef([]),r=b.useRef([0,0]),n=b.useRef(),i=b.useState(R4++)[0],l=b.useState(d1)[0],c=b.useRef(t);b.useEffect(function(){c.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var E=ZR([t.lockRef.current],(t.shards||[]).map(Xv),!0).filter(Boolean);return E.forEach(function(I){return I.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),E.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var d=b.useCallback(function(E,I){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!c.current.allowPinchZoom;var D=Xu(E),O=r.current,S="deltaX"in E?E.deltaX:O[0]-D[0],U="deltaY"in E?E.deltaY:O[1]-D[1],$,H=E.target,V=Math.abs(S)>Math.abs(U)?"h":"v";if("touches"in E&&V==="h"&&H.type==="range")return!1;var W=Qv(V,H);if(!W)return!0;if(W?$=V:($=V==="v"?"h":"v",W=Qv(V,H)),!W)return!1;if(!n.current&&"changedTouches"in E&&(S||U)&&(n.current=$),!$)return!0;var K=n.current||$;return T4(K,I,E,K==="h"?S:U)},[]),f=b.useCallback(function(E){var I=E;if(!(!La.length||La[La.length-1]!==l)){var D="deltaY"in I?Jv(I):Xu(I),O=e.current.filter(function($){return $.name===I.type&&($.target===I.target||I.target===$.shadowParent)&&P4($.delta,D)})[0];if(O&&O.should){I.cancelable&&I.preventDefault();return}if(!O){var S=(c.current.shards||[]).map(Xv).filter(Boolean).filter(function($){return $.contains(I.target)}),U=S.length>0?d(I,S[0]):!c.current.noIsolation;U&&I.cancelable&&I.preventDefault()}}},[]),m=b.useCallback(function(E,I,D,O){var S={name:E,delta:I,target:D,should:O,shadowParent:I4(D)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(U){return U!==S})},1)},[]),p=b.useCallback(function(E){r.current=Xu(E),n.current=void 0},[]),x=b.useCallback(function(E){m(E.type,Jv(E),E.target,d(E,t.lockRef.current))},[]),C=b.useCallback(function(E){m(E.type,Xu(E),E.target,d(E,t.lockRef.current))},[]);b.useEffect(function(){return La.push(l),t.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:C}),document.addEventListener("wheel",f,za),document.addEventListener("touchmove",f,za),document.addEventListener("touchstart",p,za),function(){La=La.filter(function(E){return E!==l}),document.removeEventListener("wheel",f,za),document.removeEventListener("touchmove",f,za),document.removeEventListener("touchstart",p,za)}},[]);var w=t.removeScrollBar,P=t.inert;return b.createElement(b.Fragment,null,P?b.createElement(l,{styles:j4(i)}):null,w?b.createElement(w4,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function I4(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const _4=l4(u1,M4);var cf=b.forwardRef(function(t,e){return b.createElement(lf,Ds({},t,{ref:e,sideCar:_4}))});cf.classNames=lf.classNames;var D4=[" ","Enter","ArrowUp","ArrowDown"],z4=[" ","Enter"],$i="Select",[uf,df,L4]=Vp($i),[ul,P_]=go($i,[L4,of]),ff=of(),[O4,ni]=ul($i),[F4,B4]=ul($i),p1=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:l,value:c,defaultValue:d,onValueChange:f,dir:m,name:p,autoComplete:x,disabled:C,required:w,form:P}=t,E=ff(e),[I,D]=b.useState(null),[O,S]=b.useState(null),[U,$]=b.useState(!1),H=Zd(m),[V,W]=Ui({prop:n,defaultProp:i??!1,onChange:l,caller:$i}),[K,Z]=Ui({prop:c,defaultProp:d,onChange:f,caller:$i}),Y=b.useRef(null),q=I?P||!!I.closest("form"):!0,[R,h]=b.useState(new Set),v=Array.from(R).map(A=>A.props.value).join(";");return o.jsx(t1,{...E,children:o.jsxs(O4,{required:w,scope:e,trigger:I,onTriggerChange:D,valueNode:O,onValueNodeChange:S,valueNodeHasChildren:U,onValueNodeHasChildrenChange:$,contentId:Os(),value:K,onValueChange:Z,open:V,onOpenChange:W,dir:H,triggerPointerDownPosRef:Y,disabled:C,children:[o.jsx(uf.Provider,{scope:e,children:o.jsx(F4,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(A=>{h(_=>new Set(_).add(A))},[]),onNativeOptionRemove:b.useCallback(A=>{h(_=>{const j=new Set(_);return j.delete(A),j})},[]),children:r})}),q?o.jsxs(L1,{"aria-hidden":!0,required:w,tabIndex:-1,name:p,autoComplete:x,value:K,onChange:A=>Z(A.target.value),disabled:C,form:P,children:[K===void 0?o.jsx("option",{value:""}):null,Array.from(R)]},v):null]})})};p1.displayName=$i;var g1="SelectTrigger",y1=b.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,l=ff(r),c=ni(g1,r),d=c.disabled||n,f=Wt(e,c.onTriggerChange),m=df(r),p=b.useRef("touch"),[x,C,w]=F1(E=>{const I=m().filter(S=>!S.disabled),D=I.find(S=>S.value===c.value),O=B1(I,E,D);O!==void 0&&c.onValueChange(O.value)}),P=E=>{d||(c.onOpenChange(!0),w()),E&&(c.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return o.jsx(r1,{asChild:!0,...l,children:o.jsx(ut.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":O1(c.value)?"":void 0,...i,ref:f,onClick:Ue(i.onClick,E=>{E.currentTarget.focus(),p.current!=="mouse"&&P(E)}),onPointerDown:Ue(i.onPointerDown,E=>{p.current=E.pointerType;const I=E.target;I.hasPointerCapture(E.pointerId)&&I.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(P(E),E.preventDefault())}),onKeyDown:Ue(i.onKeyDown,E=>{const I=x.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&C(E.key),!(I&&E.key===" ")&&D4.includes(E.key)&&(P(),E.preventDefault())})})})});y1.displayName=g1;var x1="SelectValue",v1=b.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:l,placeholder:c="",...d}=t,f=ni(x1,r),{onValueNodeHasChildrenChange:m}=f,p=l!==void 0,x=Wt(e,f.onValueNodeChange);return Qr(()=>{m(p)},[m,p]),o.jsx(ut.span,{...d,ref:x,style:{pointerEvents:"none"},children:O1(f.value)?o.jsx(o.Fragment,{children:c}):l})});v1.displayName=x1;var U4="SelectIcon",b1=b.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return o.jsx(ut.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});b1.displayName=U4;var $4="SelectPortal",w1=t=>o.jsx(af,{asChild:!0,...t});w1.displayName=$4;var Wi="SelectContent",k1=b.forwardRef((t,e)=>{const r=ni(Wi,t.__scopeSelect),[n,i]=b.useState();if(Qr(()=>{i(new DocumentFragment)},[]),!r.open){const l=n;return l?wc.createPortal(o.jsx(N1,{scope:t.__scopeSelect,children:o.jsx(uf.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),l):null}return o.jsx(C1,{...t,ref:e})});k1.displayName=Wi;var us=10,[N1,si]=ul(Wi),W4="SelectContentImpl",q4=Fi("SelectContent.RemoveScroll"),C1=b.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:l,onPointerDownOutside:c,side:d,sideOffset:f,align:m,alignOffset:p,arrowPadding:x,collisionBoundary:C,collisionPadding:w,sticky:P,hideWhenDetached:E,avoidCollisions:I,...D}=t,O=ni(Wi,r),[S,U]=b.useState(null),[$,H]=b.useState(null),V=Wt(e,G=>U(G)),[W,K]=b.useState(null),[Z,Y]=b.useState(null),q=df(r),[R,h]=b.useState(!1),v=b.useRef(!1);b.useEffect(()=>{if(S)return sg(S)},[S]),Kp();const A=b.useCallback(G=>{const[J,...te]=q().map(ue=>ue.ref.current),[ie]=te.slice(-1),fe=document.activeElement;for(const ue of G)if(ue===fe||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===J&&$&&($.scrollTop=0),ue===ie&&$&&($.scrollTop=$.scrollHeight),ue==null||ue.focus(),document.activeElement!==fe))return},[q,$]),_=b.useCallback(()=>A([W,S]),[A,W,S]);b.useEffect(()=>{R&&_()},[R,_]);const{onOpenChange:j,triggerPointerDownPosRef:T}=O;b.useEffect(()=>{if(S){let G={x:0,y:0};const J=ie=>{var fe,ue;G={x:Math.abs(Math.round(ie.pageX)-(((fe=T.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((ue=T.current)==null?void 0:ue.y)??0))}},te=ie=>{G.x<=10&&G.y<=10?ie.preventDefault():S.contains(ie.target)||j(!1),document.removeEventListener("pointermove",J),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",J),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",te,{capture:!0})}}},[S,j,T]),b.useEffect(()=>{const G=()=>j(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[j]);const[L,k]=F1(G=>{const J=q().filter(fe=>!fe.disabled),te=J.find(fe=>fe.ref.current===document.activeElement),ie=B1(J,G,te);ie&&setTimeout(()=>ie.ref.current.focus())}),y=b.useCallback((G,J,te)=>{const ie=!v.current&&!te;(O.value!==void 0&&O.value===J||ie)&&(K(G),ie&&(v.current=!0))},[O.value]),F=b.useCallback(()=>S==null?void 0:S.focus(),[S]),ee=b.useCallback((G,J,te)=>{const ie=!v.current&&!te;(O.value!==void 0&&O.value===J||ie)&&Y(G)},[O.value]),z=n==="popper"?up:E1,Q=z===up?{side:d,sideOffset:f,align:m,alignOffset:p,arrowPadding:x,collisionBoundary:C,collisionPadding:w,sticky:P,hideWhenDetached:E,avoidCollisions:I}:{};return o.jsx(N1,{scope:r,content:S,viewport:$,onViewportChange:H,itemRefCallback:y,selectedItem:W,onItemLeave:F,itemTextRefCallback:ee,focusSelectedItem:_,selectedItemText:Z,position:n,isPositioned:R,searchRef:L,children:o.jsx(cf,{as:q4,allowPinchZoom:!0,children:o.jsx(tf,{asChild:!0,trapped:O.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:Ue(i,G=>{var J;(J=O.trigger)==null||J.focus({preventScroll:!0}),G.preventDefault()}),children:o.jsx(ef,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>O.onOpenChange(!1),children:o.jsx(z,{role:"listbox",id:O.contentId,"data-state":O.open?"open":"closed",dir:O.dir,onContextMenu:G=>G.preventDefault(),...D,...Q,onPlaced:()=>h(!0),ref:V,style:{display:"flex",flexDirection:"column",outline:"none",...D.style},onKeyDown:Ue(D.onKeyDown,G=>{const J=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!J&&G.key.length===1&&k(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let ie=q().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(G.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const fe=G.target,ue=ie.indexOf(fe);ie=ie.slice(ue+1)}setTimeout(()=>A(ie)),G.preventDefault()}})})})})})})});C1.displayName=W4;var H4="SelectItemAlignedPosition",E1=b.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,l=ni(Wi,r),c=si(Wi,r),[d,f]=b.useState(null),[m,p]=b.useState(null),x=Wt(e,V=>p(V)),C=df(r),w=b.useRef(!1),P=b.useRef(!0),{viewport:E,selectedItem:I,selectedItemText:D,focusSelectedItem:O}=c,S=b.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&m&&E&&I&&D){const V=l.trigger.getBoundingClientRect(),W=m.getBoundingClientRect(),K=l.valueNode.getBoundingClientRect(),Z=D.getBoundingClientRect();if(l.dir!=="rtl"){const fe=Z.left-W.left,ue=K.left-fe,je=V.left-ue,pe=V.width+je,Ae=Math.max(pe,W.width),gt=window.innerWidth-us,$e=Pv(ue,[us,Math.max(us,gt-Ae)]);d.style.minWidth=pe+"px",d.style.left=$e+"px"}else{const fe=W.right-Z.right,ue=window.innerWidth-K.right-fe,je=window.innerWidth-V.right-ue,pe=V.width+je,Ae=Math.max(pe,W.width),gt=window.innerWidth-us,$e=Pv(ue,[us,Math.max(us,gt-Ae)]);d.style.minWidth=pe+"px",d.style.right=$e+"px"}const Y=C(),q=window.innerHeight-us*2,R=E.scrollHeight,h=window.getComputedStyle(m),v=parseInt(h.borderTopWidth,10),A=parseInt(h.paddingTop,10),_=parseInt(h.borderBottomWidth,10),j=parseInt(h.paddingBottom,10),T=v+A+R+j+_,L=Math.min(I.offsetHeight*5,T),k=window.getComputedStyle(E),y=parseInt(k.paddingTop,10),F=parseInt(k.paddingBottom,10),ee=V.top+V.height/2-us,z=q-ee,Q=I.offsetHeight/2,G=I.offsetTop+Q,J=v+A+G,te=T-J;if(J<=ee){const fe=Y.length>0&&I===Y[Y.length-1].ref.current;d.style.bottom="0px";const ue=m.clientHeight-E.offsetTop-E.offsetHeight,je=Math.max(z,Q+(fe?F:0)+ue+_),pe=J+je;d.style.height=pe+"px"}else{const fe=Y.length>0&&I===Y[0].ref.current;d.style.top="0px";const je=Math.max(ee,v+E.offsetTop+(fe?y:0)+Q)+te;d.style.height=je+"px",E.scrollTop=J-ee+E.offsetTop}d.style.margin=`${us}px 0`,d.style.minHeight=L+"px",d.style.maxHeight=q+"px",n==null||n(),requestAnimationFrame(()=>w.current=!0)}},[C,l.trigger,l.valueNode,d,m,E,I,D,l.dir,n]);Qr(()=>S(),[S]);const[U,$]=b.useState();Qr(()=>{m&&$(window.getComputedStyle(m).zIndex)},[m]);const H=b.useCallback(V=>{V&&P.current===!0&&(S(),O==null||O(),P.current=!1)},[S,O]);return o.jsx(V4,{scope:r,contentWrapper:d,shouldExpandOnScrollRef:w,onScrollButtonChange:H,children:o.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:U},children:o.jsx(ut.div,{...i,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});E1.displayName=H4;var G4="SelectPopperPosition",up=b.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=us,...l}=t,c=ff(r);return o.jsx(n1,{...c,...l,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});up.displayName=G4;var[V4,og]=ul(Wi,{}),dp="SelectViewport",A1=b.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,l=si(dp,r),c=og(dp,r),d=Wt(e,l.onViewportChange),f=b.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(uf.Slot,{scope:r,children:o.jsx(ut.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ue(i.onScroll,m=>{const p=m.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:C}=c;if(C!=null&&C.current&&x){const w=Math.abs(f.current-p.scrollTop);if(w>0){const P=window.innerHeight-us*2,E=parseFloat(x.style.minHeight),I=parseFloat(x.style.height),D=Math.max(E,I);if(D<P){const O=D+w,S=Math.min(P,O),U=O-S;x.style.height=S+"px",x.style.bottom==="0px"&&(p.scrollTop=U>0?U:0,x.style.justifyContent="flex-end")}}}f.current=p.scrollTop})})})]})});A1.displayName=dp;var S1="SelectGroup",[K4,Y4]=ul(S1),Q4=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Os();return o.jsx(K4,{scope:r,id:i,children:o.jsx(ut.div,{role:"group","aria-labelledby":i,...n,ref:e})})});Q4.displayName=S1;var T1="SelectLabel",J4=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Y4(T1,r);return o.jsx(ut.div,{id:i.id,...n,ref:e})});J4.displayName=T1;var zd="SelectItem",[X4,P1]=ul(zd),j1=b.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:l,...c}=t,d=ni(zd,r),f=si(zd,r),m=d.value===n,[p,x]=b.useState(l??""),[C,w]=b.useState(!1),P=Wt(e,O=>{var S;return(S=f.itemRefCallback)==null?void 0:S.call(f,O,n,i)}),E=Os(),I=b.useRef("touch"),D=()=>{i||(d.onValueChange(n),d.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(X4,{scope:r,value:n,disabled:i,textId:E,isSelected:m,onItemTextChange:b.useCallback(O=>{x(S=>S||((O==null?void 0:O.textContent)??"").trim())},[]),children:o.jsx(uf.ItemSlot,{scope:r,value:n,disabled:i,textValue:p,children:o.jsx(ut.div,{role:"option","aria-labelledby":E,"data-highlighted":C?"":void 0,"aria-selected":m&&C,"data-state":m?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...c,ref:P,onFocus:Ue(c.onFocus,()=>w(!0)),onBlur:Ue(c.onBlur,()=>w(!1)),onClick:Ue(c.onClick,()=>{I.current!=="mouse"&&D()}),onPointerUp:Ue(c.onPointerUp,()=>{I.current==="mouse"&&D()}),onPointerDown:Ue(c.onPointerDown,O=>{I.current=O.pointerType}),onPointerMove:Ue(c.onPointerMove,O=>{var S;I.current=O.pointerType,i?(S=f.onItemLeave)==null||S.call(f):I.current==="mouse"&&O.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ue(c.onPointerLeave,O=>{var S;O.currentTarget===document.activeElement&&((S=f.onItemLeave)==null||S.call(f))}),onKeyDown:Ue(c.onKeyDown,O=>{var U;((U=f.searchRef)==null?void 0:U.current)!==""&&O.key===" "||(z4.includes(O.key)&&D(),O.key===" "&&O.preventDefault())})})})})});j1.displayName=zd;var Jl="SelectItemText",R1=b.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...l}=t,c=ni(Jl,r),d=si(Jl,r),f=P1(Jl,r),m=B4(Jl,r),[p,x]=b.useState(null),C=Wt(e,D=>x(D),f.onItemTextChange,D=>{var O;return(O=d.itemTextRefCallback)==null?void 0:O.call(d,D,f.value,f.disabled)}),w=p==null?void 0:p.textContent,P=b.useMemo(()=>o.jsx("option",{value:f.value,disabled:f.disabled,children:w},f.value),[f.disabled,f.value,w]),{onNativeOptionAdd:E,onNativeOptionRemove:I}=m;return Qr(()=>(E(P),()=>I(P)),[E,I,P]),o.jsxs(o.Fragment,{children:[o.jsx(ut.span,{id:f.textId,...l,ref:C}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?wc.createPortal(l.children,c.valueNode):null]})});R1.displayName=Jl;var M1="SelectItemIndicator",I1=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return P1(M1,r).isSelected?o.jsx(ut.span,{"aria-hidden":!0,...n,ref:e}):null});I1.displayName=M1;var fp="SelectScrollUpButton",_1=b.forwardRef((t,e)=>{const r=si(fp,t.__scopeSelect),n=og(fp,t.__scopeSelect),[i,l]=b.useState(!1),c=Wt(e,n.onScrollButtonChange);return Qr(()=>{if(r.viewport&&r.isPositioned){let d=function(){const m=f.scrollTop>0;l(m)};const f=r.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),i?o.jsx(z1,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=r;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});_1.displayName=fp;var hp="SelectScrollDownButton",D1=b.forwardRef((t,e)=>{const r=si(hp,t.__scopeSelect),n=og(hp,t.__scopeSelect),[i,l]=b.useState(!1),c=Wt(e,n.onScrollButtonChange);return Qr(()=>{if(r.viewport&&r.isPositioned){let d=function(){const m=f.scrollHeight-f.clientHeight,p=Math.ceil(f.scrollTop)<m;l(p)};const f=r.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),i?o.jsx(z1,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=r;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});D1.displayName=hp;var z1=b.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,l=si("SelectScrollButton",r),c=b.useRef(null),d=df(r),f=b.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return b.useEffect(()=>()=>f(),[f]),Qr(()=>{var p;const m=d().find(x=>x.ref.current===document.activeElement);(p=m==null?void 0:m.ref.current)==null||p.scrollIntoView({block:"nearest"})},[d]),o.jsx(ut.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ue(i.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:Ue(i.onPointerMove,()=>{var m;(m=l.onItemLeave)==null||m.call(l),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:Ue(i.onPointerLeave,()=>{f()})})}),Z4="SelectSeparator",e5=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return o.jsx(ut.div,{"aria-hidden":!0,...n,ref:e})});e5.displayName=Z4;var mp="SelectArrow",t5=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=ff(r),l=ni(mp,r),c=si(mp,r);return l.open&&c.position==="popper"?o.jsx(s1,{...i,...n,ref:e}):null});t5.displayName=mp;var r5="SelectBubbleInput",L1=b.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=b.useRef(null),l=Wt(n,i),c=o1(e);return b.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==e&&p){const x=new Event("change",{bubbles:!0});p.call(d,e),d.dispatchEvent(x)}},[c,e]),o.jsx(ut.select,{...r,style:{...i1,...r.style},ref:l,defaultValue:e})});L1.displayName=r5;function O1(t){return t===""||t===void 0}function F1(t){const e=Us(t),r=b.useRef(""),n=b.useRef(0),i=b.useCallback(c=>{const d=r.current+c;e(d),function f(m){r.current=m,window.clearTimeout(n.current),m!==""&&(n.current=window.setTimeout(()=>f(""),1e3))}(d)},[e]),l=b.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,l]}function B1(t,e,r){const i=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=r?t.indexOf(r):-1;let c=n5(t,Math.max(l,0));i.length===1&&(c=c.filter(m=>m!==r));const f=c.find(m=>m.textValue.toLowerCase().startsWith(i.toLowerCase()));return f!==r?f:void 0}function n5(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var s5=p1,o5=y1,i5=v1,a5=b1,l5=w1,c5=k1,u5=A1,d5=j1,f5=R1,h5=I1,m5=_1,p5=D1;function U1(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=U1(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function $1(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=U1(t))&&(n&&(n+=" "),n+=e);return n}const ig="-",g5=t=>{const e=x5(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:c=>{const d=c.split(ig);return d[0]===""&&d.length!==1&&d.shift(),W1(d,e)||y5(c)},getConflictingClassGroupIds:(c,d)=>{const f=r[c]||[];return d&&n[c]?[...f,...n[c]]:f}}},W1=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?W1(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const l=t.join(ig);return(c=e.validators.find(({validator:d})=>d(l)))==null?void 0:c.classGroupId},Zv=/^\[(.+)\]$/,y5=t=>{if(Zv.test(t)){const e=Zv.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},x5=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return b5(Object.entries(t.classGroups),r).forEach(([l,c])=>{pp(c,n,l,e)}),n},pp=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const l=i===""?e:eb(e,i);l.classGroupId=r;return}if(typeof i=="function"){if(v5(i)){pp(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([l,c])=>{pp(c,eb(e,l),r,n)})})},eb=(t,e)=>{let r=t;return e.split(ig).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},v5=t=>t.isThemeGetter,b5=(t,e)=>e?t.map(([r,n])=>{const i=n.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([c,d])=>[e+c,d])):l);return[r,i]}):t,w5=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(l,c)=>{r.set(l,c),e++,e>t&&(e=0,n=r,r=new Map)};return{get(l){let c=r.get(l);if(c!==void 0)return c;if((c=n.get(l))!==void 0)return i(l,c),c},set(l,c){r.has(l)?r.set(l,c):i(l,c)}}},q1="!",k5=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],l=e.length,c=d=>{const f=[];let m=0,p=0,x;for(let I=0;I<d.length;I++){let D=d[I];if(m===0){if(D===i&&(n||d.slice(I,I+l)===e)){f.push(d.slice(p,I)),p=I+l;continue}if(D==="/"){x=I;continue}}D==="["?m++:D==="]"&&m--}const C=f.length===0?d:d.substring(p),w=C.startsWith(q1),P=w?C.substring(1):C,E=x&&x>p?x-p:void 0;return{modifiers:f,hasImportantModifier:w,baseClassName:P,maybePostfixModifierPosition:E}};return r?d=>r({className:d,parseClassName:c}):c},N5=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},C5=t=>({cache:w5(t.cacheSize),parseClassName:k5(t),...g5(t)}),E5=/\s+/,A5=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,l=[],c=t.trim().split(E5);let d="";for(let f=c.length-1;f>=0;f-=1){const m=c[f],{modifiers:p,hasImportantModifier:x,baseClassName:C,maybePostfixModifierPosition:w}=r(m);let P=!!w,E=n(P?C.substring(0,w):C);if(!E){if(!P){d=m+(d.length>0?" "+d:d);continue}if(E=n(C),!E){d=m+(d.length>0?" "+d:d);continue}P=!1}const I=N5(p).join(":"),D=x?I+q1:I,O=D+E;if(l.includes(O))continue;l.push(O);const S=i(E,P);for(let U=0;U<S.length;++U){const $=S[U];l.push(D+$)}d=m+(d.length>0?" "+d:d)}return d};function S5(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=H1(e))&&(n&&(n+=" "),n+=r);return n}const H1=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=H1(t[n]))&&(r&&(r+=" "),r+=e);return r};function T5(t,...e){let r,n,i,l=c;function c(f){const m=e.reduce((p,x)=>x(p),t());return r=C5(m),n=r.cache.get,i=r.cache.set,l=d,d(f)}function d(f){const m=n(f);if(m)return m;const p=A5(f,r);return i(f,p),p}return function(){return l(S5.apply(null,arguments))}}const er=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},G1=/^\[(?:([a-z-]+):)?(.+)\]$/i,P5=/^\d+\/\d+$/,j5=new Set(["px","full","screen"]),R5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,M5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,I5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,D5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,eo=t=>Ja(t)||j5.has(t)||P5.test(t),$o=t=>dl(t,"length",W5),Ja=t=>!!t&&!Number.isNaN(Number(t)),Fm=t=>dl(t,"number",Ja),Gl=t=>!!t&&Number.isInteger(Number(t)),z5=t=>t.endsWith("%")&&Ja(t.slice(0,-1)),lt=t=>G1.test(t),Wo=t=>R5.test(t),L5=new Set(["length","size","percentage"]),O5=t=>dl(t,L5,V1),F5=t=>dl(t,"position",V1),B5=new Set(["image","url"]),U5=t=>dl(t,B5,H5),$5=t=>dl(t,"",q5),Vl=()=>!0,dl=(t,e,r)=>{const n=G1.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},W5=t=>M5.test(t)&&!I5.test(t),V1=()=>!1,q5=t=>_5.test(t),H5=t=>D5.test(t),G5=()=>{const t=er("colors"),e=er("spacing"),r=er("blur"),n=er("brightness"),i=er("borderColor"),l=er("borderRadius"),c=er("borderSpacing"),d=er("borderWidth"),f=er("contrast"),m=er("grayscale"),p=er("hueRotate"),x=er("invert"),C=er("gap"),w=er("gradientColorStops"),P=er("gradientColorStopPositions"),E=er("inset"),I=er("margin"),D=er("opacity"),O=er("padding"),S=er("saturate"),U=er("scale"),$=er("sepia"),H=er("skew"),V=er("space"),W=er("translate"),K=()=>["auto","contain","none"],Z=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto",lt,e],q=()=>[lt,e],R=()=>["",eo,$o],h=()=>["auto",Ja,lt],v=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["solid","dashed","dotted","double","none"],_=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",lt],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>[Ja,lt];return{cacheSize:500,separator:":",theme:{colors:[Vl],spacing:[eo,$o],blur:["none","",Wo,lt],brightness:k(),borderColor:[t],borderRadius:["none","","full",Wo,lt],borderSpacing:q(),borderWidth:R(),contrast:k(),grayscale:T(),hueRotate:k(),invert:T(),gap:q(),gradientColorStops:[t],gradientColorStopPositions:[z5,$o],inset:Y(),margin:Y(),opacity:k(),padding:q(),saturate:k(),scale:k(),sepia:T(),skew:k(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",lt]}],container:["container"],columns:[{columns:[Wo]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...v(),lt]}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:K()}],"overscroll-x":[{"overscroll-x":K()}],"overscroll-y":[{"overscroll-y":K()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Gl,lt]}],basis:[{basis:Y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",lt]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",Gl,lt]}],"grid-cols":[{"grid-cols":[Vl]}],"col-start-end":[{col:["auto",{span:["full",Gl,lt]},lt]}],"col-start":[{"col-start":h()}],"col-end":[{"col-end":h()}],"grid-rows":[{"grid-rows":[Vl]}],"row-start-end":[{row:["auto",{span:[Gl,lt]},lt]}],"row-start":[{"row-start":h()}],"row-end":[{"row-end":h()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",lt]}],gap:[{gap:[C]}],"gap-x":[{"gap-x":[C]}],"gap-y":[{"gap-y":[C]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[O]}],px:[{px:[O]}],py:[{py:[O]}],ps:[{ps:[O]}],pe:[{pe:[O]}],pt:[{pt:[O]}],pr:[{pr:[O]}],pb:[{pb:[O]}],pl:[{pl:[O]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[V]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[V]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",lt,e]}],"min-w":[{"min-w":[lt,e,"min","max","fit"]}],"max-w":[{"max-w":[lt,e,"none","full","min","max","fit","prose",{screen:[Wo]},Wo]}],h:[{h:[lt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[lt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[lt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[lt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Wo,$o]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Fm]}],"font-family":[{font:[Vl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",lt]}],"line-clamp":[{"line-clamp":["none",Ja,Fm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",eo,lt]}],"list-image":[{"list-image":["none",lt]}],"list-style-type":[{list:["none","disc","decimal",lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[D]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[D]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",eo,$o]}],"underline-offset":[{"underline-offset":["auto",eo,lt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[D]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...v(),F5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",O5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},U5]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[P]}],"gradient-via-pos":[{via:[P]}],"gradient-to-pos":[{to:[P]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[D]}],"border-style":[{border:[...A(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[D]}],"divide-style":[{divide:A()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...A()]}],"outline-offset":[{"outline-offset":[eo,lt]}],"outline-w":[{outline:[eo,$o]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[D]}],"ring-offset-w":[{"ring-offset":[eo,$o]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Wo,$5]}],"shadow-color":[{shadow:[Vl]}],opacity:[{opacity:[D]}],"mix-blend":[{"mix-blend":[..._(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":_()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Wo,lt]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[x]}],saturate:[{saturate:[S]}],sepia:[{sepia:[$]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[D]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",lt]}],duration:[{duration:k()}],ease:[{ease:["linear","in","out","in-out",lt]}],delay:[{delay:k()}],animate:[{animate:["none","spin","ping","pulse","bounce",lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[U]}],"scale-x":[{"scale-x":[U]}],"scale-y":[{"scale-y":[U]}],rotate:[{rotate:[Gl,lt]}],"translate-x":[{"translate-x":[W]}],"translate-y":[{"translate-y":[W]}],"skew-x":[{"skew-x":[H]}],"skew-y":[{"skew-y":[H]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",lt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",lt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",lt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[eo,$o,Fm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},V5=T5(G5);function We(...t){return V5($1(t))}function qi({...t}){return o.jsx(s5,{"data-slot":"select",...t})}function Hi({...t}){return o.jsx(i5,{"data-slot":"select-value",...t})}function Gi({className:t,size:e="default",children:r,...n}){return o.jsxs(o5,{"data-slot":"select-trigger","data-size":e,className:We("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,o.jsx(a5,{asChild:!0,children:o.jsx(Li,{className:"size-4 opacity-70 text-foreground"})})]})}function Vi({className:t,children:e,position:r="popper",...n}){return o.jsx(l5,{children:o.jsxs(c5,{"data-slot":"select-content",className:We("bg-popover/90 backdrop-blur-md text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-xl border border-[#614E41] shadow-xl",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[o.jsx(K5,{}),o.jsx(u5,{className:We("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),o.jsx(Y5,{})]})})}function Kr({className:t,children:e,...r}){return o.jsxs(d5,{"data-slot":"select-item",className:We("focus:bg-accent focus:text-accent-foreground data-[state=checked]:bg-[#614E41]/15 hover:bg-[#614E41]/10 active:bg-[#614E41]/20 [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[o.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:o.jsx(h5,{children:o.jsx(UP,{className:"size-4"})})}),o.jsx(f5,{children:e})]})}function K5({className:t,...e}){return o.jsx(m5,{"data-slot":"select-scroll-up-button",className:We("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(pc,{className:"size-4"})})}function Y5({className:t,...e}){return o.jsx(p5,{"data-slot":"select-scroll-down-button",className:We("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(Li,{className:"size-4"})})}const Zu=t=>{if(!t)return"";if(typeof t=="string")return t;if(typeof t.message=="string")return t.message;try{return JSON.stringify(t)}catch{return String(t)}},K1=()=>{const{chainId:t,switchNetwork:e,addNetwork:r,isSupportedNetwork:n}=Ot(),[i,l]=xe.useState(!1),c=()=>Object.entries(ct).filter(([f,m])=>{const p=m.contractAddresses;return(p==null?void 0:p.raffleManager)&&p.raffleManager!=="0x..."&&(p==null?void 0:p.raffleDeployer)&&p.raffleDeployer!=="0x..."}),d=async f=>{var p;const m=parseInt(f,10);l(!0);try{await e(m)}catch(x){const C=Zu(x).toLowerCase();if(x&&x.code===4902||C.includes("add this network")||C.includes("unrecognized chain id")||x&&x.code===-32603)try{await r(m),setTimeout(async()=>{try{await e(m)}catch(w){setTimeout(()=>{window.ethereum&&window.ethereum.chainId&&parseInt(window.ethereum.chainId,16)!==m&&ne.error("Failed to switch to the new network after adding: "+Zu(w))},1e3)}},500)}catch(w){setTimeout(()=>{window.ethereum&&window.ethereum.chainId&&parseInt(window.ethereum.chainId,16)!==m&&ne.error("Failed to add network: "+Zu(w))},1e3)}else!((p=x.message)!=null&&p.includes("User rejected"))&&x.code!==4001&&setTimeout(()=>{window.ethereum&&window.ethereum.chainId&&parseInt(window.ethereum.chainId,16)!==m&&ne.error("Failed to switch network: "+Zu(x))},1e3)}finally{l(!1)}};return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(qi,{value:t?String(t):"",onValueChange:d,disabled:i,children:[o.jsx(Gi,{className:"min-w-[160px] sm:min-w-[180px] header-accent-surface text-foreground border-[#614E41]",children:o.jsx(Hi,{placeholder:"Select Network"})}),o.jsx(Vi,{className:"border border-[#614E41]",children:c().map(([f,m])=>o.jsx(Kr,{value:f,children:m.name},f))})]}),t&&(!n||!c().some(([f])=>parseInt(f)===t))&&o.jsx("span",{className:"text-xs text-red-500 ml-2",children:n?"Contracts Not Available":"Unsupported Network"})]})},gp=({className:t="",size:e="md",showIcon:r=!1,alt:n="Rafflehub",...i})=>{const{getCurrentTheme:l}=Bp(),d={xs:"h-4 w-auto",sm:"h-5 w-auto",md:"h-6 w-auto",lg:"h-8 w-auto",xl:"h-12 w-auto"}[e]||e,f=()=>r?"/images/logo/logo-icon.png":l().id==="light"?"/images/logo/logo-light.svg":"/images/logo/logo-dark.svg";return o.jsx("img",{src:f(),alt:n,className:`${d} transition-opacity duration-200 ${t}`,...i})},sr=()=>{const t=()=>{if(typeof window>"u")return{isMobile:!1,isTablet:!1,isDesktop:!0,isTouchDevice:!1,screenWidth:1024,isInitialized:!1};const n=window.innerWidth;return{isMobile:n<768,isTablet:n>=768&&n<1024,isDesktop:n>=1024,isTouchDevice:"ontouchstart"in window||navigator.maxTouchPoints>0,screenWidth:n,isInitialized:!0}},[e,r]=b.useState(t);return b.useEffect(()=>{const n=()=>{const c=window.innerWidth,d=window.innerHeight,f=e.isMobile&&Math.abs(c-e.screenWidth)<50&&Math.abs(d-window.screen.height)>200;if(f){console.log("Skipping breakpoint update - likely keyboard resize");return}const m={isMobile:c<768,isTablet:c>=768&&c<1024,isDesktop:c>=1024,isTouchDevice:"ontouchstart"in window||navigator.maxTouchPoints>0,screenWidth:c,isInitialized:!0};c<768&&console.log("Mobile detected:",{width:c,height:d,userAgent:navigator.userAgent,touchDevice:m.isTouchDevice,isKeyboardResize:f}),r(m)};n();let i;const l=()=>{clearTimeout(i),i=setTimeout(n,150)};return window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l),clearTimeout(i)}},[e.isMobile,e.screenWidth]),e};class Q5{constructor(){this.cache=new Map,this.cacheTimeout=300*1e3,this.retryAttempts=3,this.retryDelay=1e3,this.performanceMetrics=new Map,this.errorMetrics=new Map}initialize(e,r){this.walletContext=e,this.contractContext=r}getPlatformConfig(e=!1){const r=typeof window<"u"&&(/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768),n=e||r;return{maxRafflesToFetch:n?25:30,timeout:n?2e4:12e3,concurrency:n?2:4,batchDelay:n?200:100,retryDelay:n?2e3:1e3,maxRetries:n?2:3,useCache:!0,retryOnFailure:!0,progressiveLoading:n,prioritizeRecent:n}}createContractInstance(e,r,n=!1){var i,l,c;try{if(!e||e===Pe)throw new Error(`Invalid contract address for ${r}`);const d=St[r];if(!d)throw new Error(`ABI not found for ${r}`);const f=n?(i=this.walletContext)==null?void 0:i.provider:((l=this.walletContext)==null?void 0:l.signer)||((c=this.walletContext)==null?void 0:c.provider);if(!f)throw new Error("No signer or provider available");return new kt(e,d,f)}catch(d){return console.error(`Error creating contract instance for ${r}:`,d),null}}areContractsAvailable(){const{chainId:e}=this.walletContext||{};if(!e||!ct[e])return console.log("❌ Chain not supported or chainId missing:",{chainId:e}),!1;const r=ct[e].contractAddresses,n=(r==null?void 0:r.raffleManager)&&r.raffleManager!=="0x..."&&(r==null?void 0:r.raffleDeployer)&&r.raffleDeployer!=="0x...";return console.log("🔍 Contract availability check:",{chainId:e,isAvailable:n,raffleManager:r==null?void 0:r.raffleManager,raffleDeployer:r==null?void 0:r.raffleDeployer}),n}getRaffleManagerContract(){var r,n,i,l;const{chainId:e}=this.walletContext||{};if(!this.areContractsAvailable())return null;if((n=(r=this.contractContext)==null?void 0:r.contracts)!=null&&n.raffleManager)return this.contractContext.contracts.raffleManager;if(e&&((l=(i=ct[e])==null?void 0:i.contractAddresses)!=null&&l.raffleManager)){const c=ct[e].contractAddresses.raffleManager;return this.createContractInstance(c,"raffleManager",!0)}return null}async withRetry(e,r="",n={}){var m;const i=this.getPlatformConfig(n.isMobile),l=n.maxRetries||i.maxRetries,c=n.retryDelay||i.retryDelay,d=n.timeout||i.timeout;let f;(m=this.walletContext)==null||m.chainId;for(let p=1;p<=l;p++)try{return await Promise.race([e(),new Promise((x,C)=>setTimeout(()=>C(new Error("Operation timeout")),d))])}catch(x){if(f=x,console.warn(`${r} attempt ${p}/${l} failed:`,x.message),x.message.includes("user rejected")||x.message.includes("User denied")||x.code===4001||x.message.includes("Invalid contract address"))throw x;if(n.isMobile&&(x.message.includes("Network Error")||x.message.includes("CONNECTION ERROR")||x.code==="NETWORK_ERROR"))throw console.warn(`Mobile network error detected, skipping retries for ${r}`),x;if(p<l){const C=c*p;console.log(`Retrying ${r} in ${C}ms...`),await new Promise(w=>setTimeout(w,C))}}throw f}async getAllRaffleAddresses(){var c;const e=`raffleAddresses_${(c=this.walletContext)==null?void 0:c.chainId}`,r=this.cache.get(e);if(r&&Date.now()-r.timestamp<this.cacheTimeout)return r.data;if(!this.areContractsAvailable())throw new Error("CONTRACTS_NOT_AVAILABLE");const n=this.getRaffleManagerContract();if(!n)throw new Error("CONTRACTS_NOT_AVAILABLE");const l=(await this.withRetry(()=>n.getAllRaffles(),"getAllRaffles")||[]).slice().reverse();return this.cache.set(e,{data:l,timestamp:Date.now()}),l}async fetchRaffleDetails(e,r={}){var n,i,l,c,d,f,m,p,x,C,w,P,E,I,D,O,S,U,$,H,V;try{const W=this.createContractInstance(e,"raffle",!0);if(!W)return console.error(`Failed to create raffle contract for ${e}`),null;let K,Z,Y,q,R,h,v,A,_,j,T,L,k,y,F,ee,z,Q,G;r.isMobile?(K=await this.withRetry(()=>W.name(),`name-${e}`,r),Z=await this.withRetry(()=>W.creator(),`creator-${e}`,r),Y=await this.withRetry(()=>W.startTime(),`startTime-${e}`,r),q=await this.withRetry(()=>W.duration(),`duration-${e}`,r),R=await this.withRetry(()=>W.ticketPrice(),`ticketPrice-${e}`,r),h=await this.withRetry(()=>W.ticketLimit(),`ticketLimit-${e}`,r),v=await this.withRetry(()=>W.winnersCount(),`winnersCount-${e}`,r),A=await this.withRetry(()=>W.maxTicketsPerParticipant(),`maxTickets-${e}`,r),_=await this.withRetry(()=>W.state(),`state-${e}`,r),j=await((n=W.isPrized)==null?void 0:n.call(W).catch(()=>!1)),T=await((i=W.prizeCollection)==null?void 0:i.call(W).catch(()=>Pe)),L=await((l=W.prizeTokenId)==null?void 0:l.call(W).catch(()=>ce.from(0))),k=await((c=W.erc20PrizeToken)==null?void 0:c.call(W).catch(()=>Pe)),y=await((d=W.erc20PrizeAmount)==null?void 0:d.call(W).catch(()=>ce.from(0))),F=await((f=W.nativePrizeAmount)==null?void 0:f.call(W).catch(()=>ce.from(0))),ee=await((m=W.isExternallyPrized)==null?void 0:m.call(W).catch(te=>(console.warn(`isExternallyPrized failed for ${e}:`,te.message),!1))),z=await((p=W.standard)==null?void 0:p.call(W).catch(te=>{console.warn(`[RaffleService] standard failed for ${e}:`,te.message)})),Q=await((x=W.usesCustomPrice)==null?void 0:x.call(W).catch(te=>(console.warn(`[RaffleService] usesCustomPrice failed for ${e}:`,te.message),!1))),G=await((C=W.isEscrowedPrize)==null?void 0:C.call(W).catch(te=>(console.warn(`[RaffleService] isEscrowedPrize failed for ${e}:`,te.message),!1)))):[K,Z,Y,q,R,h,v,A,_,j,T,L,k,y,F,ee,z,Q,G]=await Promise.all([this.withRetry(()=>W.name(),`name-${e}`,r),this.withRetry(()=>W.creator(),`creator-${e}`,r),this.withRetry(()=>W.startTime(),`startTime-${e}`,r),this.withRetry(()=>W.duration(),`duration-${e}`,r),this.withRetry(()=>W.ticketPrice(),`ticketPrice-${e}`,r),this.withRetry(()=>W.ticketLimit(),`ticketLimit-${e}`,r),this.withRetry(()=>W.winnersCount(),`winnersCount-${e}`,r),this.withRetry(()=>W.maxTicketsPerParticipant(),`maxTickets-${e}`,r),this.withRetry(()=>W.state(),`state-${e}`,r),(w=W.isPrized)==null?void 0:w.call(W).catch(()=>!1),(P=W.prizeCollection)==null?void 0:P.call(W).catch(()=>Pe),(E=W.prizeTokenId)==null?void 0:E.call(W).catch(()=>ce.from(0)),(I=W.erc20PrizeToken)==null?void 0:I.call(W).catch(()=>Pe),(D=W.erc20PrizeAmount)==null?void 0:D.call(W).catch(()=>ce.from(0)),(O=W.nativePrizeAmount)==null?void 0:O.call(W).catch(()=>ce.from(0)),(S=W.isExternallyPrized)==null?void 0:S.call(W).catch(te=>(console.warn(`[RaffleService] isExternallyPrized failed for ${e}:`,te.message),!1)),(U=W.standard)==null?void 0:U.call(W).catch(te=>{console.warn(`[RaffleService] standard failed for ${e}:`,te.message)}),($=W.usesCustomPrice)==null?void 0:$.call(W).catch(te=>(console.warn(`[RaffleService] usesCustomPrice failed for ${e}:`,te.message),!1)),(H=W.isEscrowedPrize)==null?void 0:H.call(W).catch(te=>(console.warn(`[RaffleService] isEscrowedPrize failed for ${e}:`,te.message),!1))]);let J;switch(_){case 0:J="pending";break;case 1:J="active";break;case 2:J="drawing";break;case 3:J="completed";break;case 4:J="completed";break;case 5:J="ended";break;default:J="ended"}return{id:e,name:K,address:e,chainId:(V=this.walletContext)==null?void 0:V.chainId,creator:Z,startTime:Y.toNumber(),duration:q.toNumber(),ticketPrice:R,ticketLimit:h.toNumber(),ticketsSold:0,winnersCount:v.toNumber(),maxTicketsPerParticipant:A.toNumber(),isPrized:!!j,prizeCollection:T,prizeTokenId:L?L.toNumber?L.toNumber():Number(L):0,stateNum:_,state:J,erc20PrizeToken:k,erc20PrizeAmount:y,nativePrizeAmount:F,isExternallyPrized:ee,standard:z?z.toNumber?z.toNumber():Number(z):void 0,usesCustomPrice:Q,isEscrowedPrize:G}}catch(W){return console.error(`Error fetching raffle details for ${e}:`,W),null}}async processBatch(e,r={}){const n=this.getPlatformConfig(r.isMobile),i=r.batchSize||n.concurrency,l=r.batchDelay||n.batchDelay,c=r.onProgress,d=[],f=Math.ceil(e.length/i);console.log(`Processing ${e.length} raffles in ${f} batches (${i} per batch)`);for(let m=0;m<e.length;m+=i){const p=Math.floor(m/i)+1,x=e.slice(m,m+i);console.log(`Processing batch ${p}/${f} (${x.length} raffles)`);try{if(r.isMobile&&n.progressiveLoading)for(const C of x)try{const w=await this.fetchRaffleDetails(C,{isMobile:!0});w&&(d.push(w),c&&c(d.length,e.length)),await new Promise(P=>setTimeout(P,50))}catch(w){console.warn(`Failed to fetch raffle ${C}:`,w.message)}else{const C=x.map(E=>this.fetchRaffleDetails(E,{isMobile:r.isMobile})),P=(await Promise.allSettled(C)).filter(E=>E.status==="fulfilled"&&E.value!==null).map(E=>E.value);d.push(...P),c&&c(d.length,e.length)}m+i<e.length&&(console.log(`Waiting ${l}ms before next batch...`),await new Promise(C=>setTimeout(C,l)))}catch(C){console.error(`Error processing batch ${p}:`,C)}}return console.log(`Successfully processed ${d.length}/${e.length} raffles`),d}async fetchAllRaffles(e={}){var f,m,p;const{isMobile:r=!1,useCache:n=!0,maxRaffles:i=null}=e,l=this.getPlatformConfig(r),c=`allRaffles_${(f=this.walletContext)==null?void 0:f.chainId}_${r}`,d=this.startTimer("fetchAllRaffles",{isMobile:r,chainId:(m=this.walletContext)==null?void 0:m.chainId});if(n){const x=this.cache.get(c);if(x&&Date.now()-x.timestamp<this.cacheTimeout)return this.endTimer(d,{fromCache:!0,rafflCount:x.data.length}),x.data}try{const x=this.startTimer("getAllRaffleAddresses",{isMobile:r}),C=await this.getAllRaffleAddresses();if(this.endTimer(x,{addressCount:(C==null?void 0:C.length)||0}),!C||C.length===0)return this.endTimer(d,{rafflCount:0,fromCache:!1}),[];const w=i||l.maxRafflesToFetch,P=C.slice(0,w),E=this.startTimer("processBatch",{isMobile:r,totalAddresses:P.length,batchSize:l.concurrency}),I=await this.processBatch(P,{...l,isMobile:r,onProgress:(D,O)=>{console.log(`[RaffleService] Progress: ${D}/${O} raffles processed (${(D/O*100).toFixed(1)}%)`)}});return this.endTimer(E,{successfulRaffles:I.length,failedRaffles:P.length-I.length}),n&&this.cache.set(c,{data:I,timestamp:Date.now()}),this.endTimer(d,{rafflCount:I.length,fromCache:!1,totalAddresses:C.length,processedAddresses:P.length}),I}catch(x){throw this.trackError("fetchAllRaffles",x,{isMobile:r,chainId:(p=this.walletContext)==null?void 0:p.chainId}),this.endTimer(d,{error:!0,errorMessage:x.message}),x}}async searchRaffles(e,r={}){const n=await this.fetchAllRaffles(r),i=e.trim().toLowerCase();return n.filter(l=>(l.name||"").toLowerCase().includes(i)||(l.address||"").toLowerCase().includes(i)||(l.address||"").toLowerCase()===i)}clearCache(){this.cache.clear()}startTimer(e,r={}){const n=`${e}_${Date.now()}_${Math.random()}`;return this.performanceMetrics.set(n,{operation:e,context:r,startTime:performance.now(),platform:r.isMobile?"mobile":"desktop"}),n}endTimer(e,r={}){const n=this.performanceMetrics.get(e);if(!n)return;const i=performance.now(),l=i-n.startTime,c={...n,endTime:i,duration:l,...r};if(console.log(`[RaffleService] ${n.operation} completed in ${l.toFixed(2)}ms`,{platform:n.platform,context:n.context,...r}),this.performanceMetrics.set(e,c),this.performanceMetrics.size>100){const d=this.performanceMetrics.keys().next().value;this.performanceMetrics.delete(d)}return c}trackError(e,r,n={}){const i=`${e}_${n.isMobile?"mobile":"desktop"}`,l=this.errorMetrics.get(i)||{count:0,errors:[]};l.count++,l.errors.push({timestamp:Date.now(),message:r.message,stack:r.stack,context:n}),l.errors.length>10&&(l.errors=l.errors.slice(-10)),this.errorMetrics.set(i,l),console.error(`[RaffleService] Error in ${e} (${n.isMobile?"mobile":"desktop"}):`,r)}getPerformanceStats(){const e={mobile:{operations:{},totalOperations:0,avgDuration:0},desktop:{operations:{},totalOperations:0,avgDuration:0}};let r=0,n=0;for(const i of this.performanceMetrics.values()){if(!i.duration)continue;const l=i.platform,c=i.operation;e[l].operations[c]||(e[l].operations[c]={count:0,totalDuration:0,avgDuration:0,minDuration:1/0,maxDuration:0});const d=e[l].operations[c];d.count++,d.totalDuration+=i.duration,d.avgDuration=d.totalDuration/d.count,d.minDuration=Math.min(d.minDuration,i.duration),d.maxDuration=Math.max(d.maxDuration,i.duration),e[l].totalOperations++,l==="mobile"?r+=i.duration:n+=i.duration}return e.mobile.avgDuration=e.mobile.totalOperations>0?r/e.mobile.totalOperations:0,e.desktop.avgDuration=e.desktop.totalOperations>0?n/e.desktop.totalOperations:0,e}getErrorStats(){const e={};for(const[r,n]of this.errorMetrics.entries())e[r]={count:n.count,lastError:n.errors[n.errors.length-1],recentErrors:n.errors.slice(-3)};return e}getCacheStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys()),performance:this.getPerformanceStats(),errors:this.getErrorStats()}}}const ds=new Q5,J5=()=>{const[t,e]=b.useState(0),r=b.useCallback(()=>{e(n=>n+1)},[]);return{refreshTrigger:t,triggerRefresh:r}},X5=(t={})=>{const{autoFetch:e=!0,enablePolling:r=!1,pollingInterval:n=12e4,maxRaffles:i=null,useCache:l=!0}=t,c=Ot(),d=Vt(),{isMobile:f}=sr(),[m,p]=b.useState([]),[x,C]=b.useState(!1),[w,P]=b.useState(!1),[E,I]=b.useState(null),[D,O]=b.useState(null),S=b.useRef(null),U=b.useRef(!0);b.useEffect(()=>{c&&d&&ds.initialize(c,d)},[c,d]),b.useEffect(()=>{c!=null&&c.chainId&&(console.log("🔄 Network changed, clearing cache and resetting state"),ds.clearCache(),p([]),I(null),O(null))},[c==null?void 0:c.chainId]),b.useEffect(()=>()=>{U.current=!1,S.current&&clearInterval(S.current)},[]);const $=b.useCallback(async(Y=!1)=>{var q,R,h,v,A,_,j;if(console.log("🔍 fetchRaffles called:",{connected:c==null?void 0:c.connected,chainId:c==null?void 0:c.chainId,isBackground:Y,environment:"production",userAgent:typeof window<"u"?window.navigator.userAgent:"N/A",isMobile:f,maxRaffles:i}),!(c!=null&&c.connected)){console.log("❌ Wallet not connected"),p([]),I("Please connect your wallet to view raffles");return}if(!(c!=null&&c.chainId)){console.log("⏸️ ChainId not yet available, skipping fetch");return}if(c!=null&&c.isReconnecting){console.log("⏸️ Wallet is reconnecting, skipping fetch");return}if(!(d!=null&&d.isContractsReady)){console.log("⏸️ Contracts not ready yet, skipping fetch");return}if(!ds.areContractsAvailable()){console.log("⏸️ Contracts not available for current network, skipping fetch"),Y||(I("CONTRACTS_NOT_AVAILABLE"),p([]));return}if(!U.current){console.log("❌ Component unmounted");return}try{Y?P(!0):(C(!0),I(null));const T={isMobile:f,useCache:l,maxRaffles:i};console.log("🚀 Calling raffleService.fetchAllRaffles with options:",T);const L=await ds.fetchAllRaffles(T);if(console.log("✅ fetchAllRaffles completed:",{count:(L==null?void 0:L.length)||0,firstRaffle:((q=L==null?void 0:L[0])==null?void 0:q.name)||"N/A"}),!U.current)return;p(L),O(new Date),L.length===0?(console.log("⚠️ No raffles found"),I("NO_RAFFLES_FOUND")):(console.log("✅ Raffles set successfully"),I(null))}catch(T){if(!U.current)return;console.error("❌ Error fetching raffles:",{error:T.message,stack:T.stack,environment:"production",chainId:c==null?void 0:c.chainId});let L="NETWORK_ERROR";(R=T.message)!=null&&R.includes("CONTRACTS_NOT_AVAILABLE")?L="CONTRACTS_NOT_AVAILABLE":(h=T.message)!=null&&h.includes("Too Many Requests")?L="RATE_LIMIT":(v=T.message)!=null&&v.includes("timeout")?L="TIMEOUT":(A=T.message)!=null&&A.includes("network")?L="NETWORK_ERROR":((_=T.message)!=null&&_.includes("not available")||(j=T.message)!=null&&j.includes("RaffleManager contract not available"))&&(L="CONTRACTS_NOT_AVAILABLE"),I(L),Y||p([])}finally{if(!U.current)return;console.log("🏁 fetchRaffles completed, setting loading states"),Y?P(!1):C(!1)}},[c==null?void 0:c.connected,c==null?void 0:c.chainId,c==null?void 0:c.isReconnecting,d==null?void 0:d.isContractsReady,f,l,i]),H=b.useCallback(async Y=>{if(!(Y!=null&&Y.trim()))return[];try{const q={isMobile:f,useCache:!0,maxRaffles:null};return await ds.searchRaffles(Y,q)}catch(q){return console.error("Error searching raffles:",q),[]}},[f]),V=b.useCallback(async()=>{ds.clearCache(),await $(!1)},[$]),W=b.useCallback(async Y=>{try{return await ds.fetchRaffleDetails(Y)}catch(q){return console.error(`Error fetching raffle details for ${Y}:`,q),null}},[]);b.useEffect(()=>{if(console.log("🔄 Auto-fetch effect triggered:",{autoFetch:e,connected:c==null?void 0:c.connected,chainId:c==null?void 0:c.chainId,isReconnecting:c==null?void 0:c.isReconnecting,isContractsReady:d==null?void 0:d.isContractsReady,environment:"production"}),e&&(c!=null&&c.connected)&&(c!=null&&c.chainId)&&!(c!=null&&c.isReconnecting)&&(d!=null&&d.isContractsReady)){const Y=setTimeout(()=>{console.log("🚀 Triggering auto-fetch with full context ready"),$()},500);return()=>clearTimeout(Y)}else console.log("⏸️ Auto-fetch conditions not met:",{autoFetch:e,connected:c==null?void 0:c.connected,chainId:c==null?void 0:c.chainId,isReconnecting:c==null?void 0:c.isReconnecting,isContractsReady:d==null?void 0:d.isContractsReady})},[e,c==null?void 0:c.connected,c==null?void 0:c.chainId,c==null?void 0:c.isReconnecting,d==null?void 0:d.isContractsReady,$]),b.useEffect(()=>{if(r&&(c!=null&&c.connected)&&n>0)return S.current=setInterval(()=>{$(!0)},n),()=>{S.current&&(clearInterval(S.current),S.current=null)}},[r,c==null?void 0:c.connected,n,$]);const K=b.useCallback(()=>{const Y=Math.floor(Date.now()/1e3);return m.reduce((q,R)=>{const h=R.startTime,v=h+R.duration;return R.stateNum===0||Y<h?q.pending.push(R):R.stateNum===1&&Y>=h&&Y<v?q.active.push(R):R.stateNum===2?q.drawing.push(R):R.stateNum===3||R.stateNum===4?q.completed.push(R):q.ended.push(R),q},{pending:[],active:[],drawing:[],completed:[],ended:[]})},[m]),Z=b.useCallback(()=>ds.getCacheStats(),[]);return{raffles:m,categorizedRaffles:K(),loading:x,backgroundLoading:w,error:E,lastFetch:D,fetchRaffles:$,refreshRaffles:V,searchRaffles:H,getRaffleDetails:W,getCacheStats:Z,service:ds}},Z5=()=>{const[t,e]=b.useState([]),[r,n]=b.useState(!1),[i,l]=b.useState(null),{isMobile:c}=sr(),d=Ot(),f=Vt();b.useEffect(()=>{d&&f&&ds.initialize(d,f)},[d,f]);const m=b.useCallback(async x=>{if(!(x!=null&&x.trim())){e([]);return}n(!0),l(null);try{const C=await ds.searchRaffles(x,{isMobile:c,useCache:!0,maxRaffles:c?20:50});e(C)}catch(C){console.error("Search error:",C),l("Failed to search raffles"),e([])}finally{n(!1)}},[c]),p=b.useCallback(()=>{e([]),l(null)},[]);return{searchResults:t,searchLoading:r,searchError:i,search:m,clearSearch:p}},Y1=(t,e={})=>{const{onWinnersSelected:r,onStateChange:n,onPrizeClaimed:i,onTicketsPurchased:l,onRpcError:c,enablePolling:d=!0,pollingInterval:f=1e4,autoStart:m=!0,raffleState:p=null,enableStateConditionalListening:x=!0,stopOnCompletion:C=!1}=e,{getContractInstance:w,provider:P}=Vt(),{connected:E}=Ot(),[I,D]=b.useState(!1),[O,S]=b.useState(null),[U,$]=b.useState([]),[H,V]=b.useState(p),W=b.useRef(null),K=b.useRef([]),Z=b.useRef(null),Y=b.useRef(!0),q=b.useRef(p);b.useEffect(()=>{t&&w?W.current=w(t,"raffle"):W.current=null},[t,w]),b.useEffect(()=>{p!==q.current&&(console.log(`🔄 Raffle state updated: ${q.current} → ${p}`),V(p),q.current=p)},[p]);const R=b.useCallback(()=>{if(!x)return!0;if(C&&(H===4||H===7))return console.log(`🎧 Stopping winner selection listening - raffle completed (state=${H})`),!1;const y=H===null||[1,3,4,7].includes(H);return console.log(`🎧 Should listen check: state=${H}, shouldListen=${y}, stopOnCompletion=${C}`),y},[H,x,C]),h=b.useCallback((k,y)=>(...F)=>{var ee;try{if(Y.current&&y){console.log(`🎯 Raffle Event [${k}]:`,F);const z={eventName:k,args:F,timestamp:Date.now(),blockNumber:((ee=F[F.length-1])==null?void 0:ee.blockNumber)||null};$(Q=>[...Q.slice(-9),z]),k==="WinnersSelected"?(console.log("🏆 WinnersSelected event - triggering immediate callback with RPC resilience"),setTimeout(()=>{try{y(...F),setTimeout(()=>{Y.current&&W.current&&(console.log("🔄 Additional state poll after WinnersSelected event"),(async()=>{try{const G=await W.current.state(),J=G.toNumber?G.toNumber():Number(G);n&&n(J,null)}catch(G){console.warn("Error in additional state poll:",G)}})())},3e3)}catch(Q){console.error("Error in WinnersSelected callback:",Q)}},1e3)):y(...F)}}catch(z){console.error(`Error handling ${k} event:`,z)}},[]),v=b.useCallback(()=>{if(!(!W.current||!E)){if(!R()){console.log(`🎧 Skipping event listeners setup - raffle state ${H} doesn't require listening`);return}try{console.log(`🎧 Setting up event listeners for raffle: ${t} (state: ${H})`),K.current.forEach(({contract:y,event:F,handler:ee})=>{y.off(F,ee)}),K.current=[];const k=W.current;if(r){const y=h("WinnersSelected",(F,ee)=>{r(F,ee)});k.on("WinnersSelected",y),K.current.push({contract:k,event:"WinnersSelected",handler:y})}if(i){const y=h("PrizeClaimed",(F,ee,z)=>{i(F,ee,z)});k.on("PrizeClaimed",y),K.current.push({contract:k,event:"PrizeClaimed",handler:y})}if(l){const y=h("TicketsPurchased",(F,ee,z)=>{l(F,ee,z)});k.on("TicketsPurchased",y),K.current.push({contract:k,event:"TicketsPurchased",handler:y})}D(!0),console.log(`✅ Event listeners active for ${K.current.length} events`)}catch(k){console.error("Error setting up event listeners:",k),D(!1)}}},[t,E,r,i,l,h]),A=b.useCallback(()=>{console.log(`🧹 Cleaning up event listeners for raffle: ${t}`),K.current.forEach(({contract:k,event:y,handler:F})=>{try{k.off(y,F)}catch(ee){console.warn(`Error removing ${y} listener:`,ee)}}),K.current=[],D(!1)},[t]),_=b.useCallback(()=>{if(!d||!W.current||!n)return;if(C&&(H===4||H===7)){console.log(`📊 Stopping state polling - raffle completed (state=${H})`);return}const k=async()=>{let y=0;const F=3,ee=2e3;await(async()=>{try{if(!Y.current||!W.current)return;const Q=await(P==null?void 0:P.getBlockNumber().catch(async G=>{var J;if((J=G.message)!=null&&J.includes("500")&&y<F)return console.warn(`RPC 500 error on getBlockNumber, retrying (${y+1}/${F})...`),y===0&&c&&c(G),y++,await new Promise(te=>setTimeout(te,ee)),P==null?void 0:P.getBlockNumber();throw G}));if(Q&&Q!==O){S(Q);const G=await W.current.state().catch(async te=>{var ie;if((ie=te.message)!=null&&ie.includes("500")&&y<F)return console.warn(`RPC 500 error on state(), retrying (${y+1}/${F})...`),y===0&&c&&c(te),y++,await new Promise(fe=>setTimeout(fe,ee)),W.current.state();throw te}),J=G.toNumber?G.toNumber():Number(G);n&&n(J,Q)}}catch(Q){const G=Q.message||Q.toString();G.includes("500")||G.includes("Non-200 status code")?(console.warn("RPC server error during state polling, will retry on next cycle:",G),c&&c(Q)):console.warn("Error during state polling:",Q)}})()};k(),Z.current=setInterval(k,f),console.log(`📊 State polling enabled (${f}ms interval)`)},[d,n,P,O,f,C,H]),j=b.useCallback(()=>{Z.current&&(clearInterval(Z.current),Z.current=null,console.log("📊 State polling disabled"))},[]),T=b.useCallback(()=>{if(!t||!W.current){console.warn("Cannot start listening: missing raffle address or contract");return}v(),_()},[t,v,_]),L=b.useCallback(()=>{A(),j()},[A,j]);return b.useEffect(()=>(m&&t&&W.current&&E&&(console.log(`🔄 Auto-starting listeners due to dependency change (state: ${H})`),T()),()=>{L()}),[m,t,E,H,T,L]),b.useEffect(()=>()=>{Y.current=!1,L()},[L]),{isListening:I,eventHistory:U,lastBlockNumber:O,startListening:T,stopListening:L,clearEventHistory:()=>$([])}},tb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,rb=$1,ag=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return rb(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:l}=e,c=Object.keys(i).map(m=>{const p=r==null?void 0:r[m],x=l==null?void 0:l[m];if(p===null)return null;const C=tb(p)||tb(x);return i[m][C]}),d=r&&Object.entries(r).reduce((m,p)=>{let[x,C]=p;return C===void 0||(m[x]=C),m},{}),f=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((m,p)=>{let{class:x,className:C,...w}=p;return Object.entries(w).every(P=>{let[E,I]=P;return Array.isArray(I)?I.includes({...l,...d}[E]):{...l,...d}[E]===I})?[...m,x,C]:m},[]);return rb(t,c,f,r==null?void 0:r.class,r==null?void 0:r.className)},e3=ag("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90 focus-visible:ring-primary/20",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90 focus-visible:ring-destructive/20",outline:"border border-border bg-background shadow-sm hover:bg-muted hover:text-muted-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-muted hover:text-muted-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-success text-success-foreground shadow-sm hover:bg-success/90 focus-visible:ring-success/20",warning:"bg-warning text-warning-foreground shadow-sm hover:bg-warning/90 focus-visible:ring-warning/20",accent:"bg-accent text-accent-foreground shadow-sm hover:bg-accent/90 focus-visible:ring-accent/20"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 py-2 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 py-3 has-[>svg]:px-4",xl:"h-12 rounded-lg px-6 py-3 has-[>svg]:px-5",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function et({className:t,variant:e,size:r,asChild:n=!1,...i}){const l=n?Tw:"button";return o.jsx(l,{"data-slot":"button",className:We(e3({variant:e,size:r,className:t})),...i})}function t3(t,e){return b.useReducer((r,n)=>e[r][n]??r,t)}var yo=t=>{const{present:e,children:r}=t,n=r3(e),i=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),l=Wt(n.ref,n3(i));return typeof r=="function"||n.isPresent?b.cloneElement(i,{ref:l}):null};yo.displayName="Presence";function r3(t){const[e,r]=b.useState(),n=b.useRef(null),i=b.useRef(t),l=b.useRef("none"),c=t?"mounted":"unmounted",[d,f]=t3(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const m=ed(n.current);l.current=d==="mounted"?m:"none"},[d]),Qr(()=>{const m=n.current,p=i.current;if(p!==t){const C=l.current,w=ed(m);t?f("MOUNT"):w==="none"||(m==null?void 0:m.display)==="none"?f("UNMOUNT"):f(p&&C!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,f]),Qr(()=>{if(e){let m;const p=e.ownerDocument.defaultView??window,x=w=>{const E=ed(n.current).includes(w.animationName);if(w.target===e&&E&&(f("ANIMATION_END"),!i.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",m=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},C=w=>{w.target===e&&(l.current=ed(n.current))};return e.addEventListener("animationstart",C),e.addEventListener("animationcancel",x),e.addEventListener("animationend",x),()=>{p.clearTimeout(m),e.removeEventListener("animationstart",C),e.removeEventListener("animationcancel",x),e.removeEventListener("animationend",x)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:b.useCallback(m=>{n.current=m?getComputedStyle(m):null,r(m)},[])}}function ed(t){return(t==null?void 0:t.animationName)||"none"}function n3(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var hf="Dialog",[Q1,j_]=go(hf),[s3,vs]=Q1(hf),J1=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:l,modal:c=!0}=t,d=b.useRef(null),f=b.useRef(null),[m,p]=Ui({prop:n,defaultProp:i??!1,onChange:l,caller:hf});return o.jsx(s3,{scope:e,triggerRef:d,contentRef:f,contentId:Os(),titleId:Os(),descriptionId:Os(),open:m,onOpenChange:p,onOpenToggle:b.useCallback(()=>p(x=>!x),[p]),modal:c,children:r})};J1.displayName=hf;var X1="DialogTrigger",Z1=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=vs(X1,r),l=Wt(e,i.triggerRef);return o.jsx(ut.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ug(i.open),...n,ref:l,onClick:Ue(t.onClick,i.onOpenToggle)})});Z1.displayName=X1;var lg="DialogPortal",[o3,ek]=Q1(lg,{forceMount:void 0}),tk=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,l=vs(lg,e);return o.jsx(o3,{scope:e,forceMount:r,children:b.Children.map(n,c=>o.jsx(yo,{present:r||l.open,children:o.jsx(af,{asChild:!0,container:i,children:c})}))})};tk.displayName=lg;var Ld="DialogOverlay",rk=b.forwardRef((t,e)=>{const r=ek(Ld,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,l=vs(Ld,t.__scopeDialog);return l.modal?o.jsx(yo,{present:n||l.open,children:o.jsx(a3,{...i,ref:e})}):null});rk.displayName=Ld;var i3=Fi("DialogOverlay.RemoveScroll"),a3=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=vs(Ld,r);return o.jsx(cf,{as:i3,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(ut.div,{"data-state":ug(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Ki="DialogContent",nk=b.forwardRef((t,e)=>{const r=ek(Ki,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,l=vs(Ki,t.__scopeDialog);return o.jsx(yo,{present:n||l.open,children:l.modal?o.jsx(l3,{...i,ref:e}):o.jsx(c3,{...i,ref:e})})});nk.displayName=Ki;var l3=b.forwardRef((t,e)=>{const r=vs(Ki,t.__scopeDialog),n=b.useRef(null),i=Wt(e,r.contentRef,n);return b.useEffect(()=>{const l=n.current;if(l)return sg(l)},[]),o.jsx(sk,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(t.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ue(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:Ue(t.onFocusOutside,l=>l.preventDefault())})}),c3=b.forwardRef((t,e)=>{const r=vs(Ki,t.__scopeDialog),n=b.useRef(!1),i=b.useRef(!1);return o.jsx(sk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,d;(c=t.onCloseAutoFocus)==null||c.call(t,l),l.defaultPrevented||(n.current||(d=r.triggerRef.current)==null||d.focus(),l.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:l=>{var f,m;(f=t.onInteractOutside)==null||f.call(t,l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=l.target;((m=r.triggerRef.current)==null?void 0:m.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),sk=b.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:l,...c}=t,d=vs(Ki,r),f=b.useRef(null),m=Wt(e,f);return Kp(),o.jsxs(o.Fragment,{children:[o.jsx(tf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:l,children:o.jsx(ef,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":ug(d.open),...c,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(d3,{titleId:d.titleId}),o.jsx(h3,{contentRef:f,descriptionId:d.descriptionId})]})]})}),cg="DialogTitle",ok=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=vs(cg,r);return o.jsx(ut.h2,{id:i.titleId,...n,ref:e})});ok.displayName=cg;var ik="DialogDescription",u3=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=vs(ik,r);return o.jsx(ut.p,{id:i.descriptionId,...n,ref:e})});u3.displayName=ik;var ak="DialogClose",lk=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=vs(ak,r);return o.jsx(ut.button,{type:"button",...n,ref:e,onClick:Ue(t.onClick,()=>i.onOpenChange(!1))})});lk.displayName=ak;function ug(t){return t?"open":"closed"}var ck="DialogTitleWarning",[R_,uk]=ej(ck,{contentName:Ki,titleName:cg,docsSlug:"dialog"}),d3=({titleId:t})=>{const e=uk(ck),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},f3="DialogDescriptionWarning",h3=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${uk(f3).contentName}}.`;return b.useEffect(()=>{var l;const i=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},dk=J1,fk=Z1,hk=tk,mk=rk,pk=nk,gk=ok,m3=lk;function p3({...t}){return o.jsx(dk,{"data-slot":"sheet",...t})}function g3({...t}){return o.jsx(fk,{"data-slot":"sheet-trigger",...t})}function y3({...t}){return o.jsx(hk,{"data-slot":"sheet-portal",...t})}function x3({className:t,...e}){return o.jsx(mk,{"data-slot":"sheet-overlay",className:We("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function v3({className:t,children:e,side:r="right",...n}){return o.jsxs(y3,{children:[o.jsx(x3,{}),o.jsx(pk,{"data-slot":"sheet-content",className:We("bg-background text-foreground data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l border-border sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r border-border sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b border-border",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t border-border",t),...n,children:e})]})}function b3({className:t,...e}){return o.jsx("div",{"data-slot":"sheet-header",className:We("flex flex-col gap-1.5 p-4",t),...e})}function w3({className:t,...e}){return o.jsx(gk,{"data-slot":"sheet-title",className:We("text-foreground font-semibold text-lg",t),...e})}const k3=()=>{const{connected:t,address:e,formatAddress:r,disconnect:n,connectWallet:i}=Ot(),{theme:l,cycleTheme:c,getCurrentTheme:d}=Bp(),{isMobile:f,isInitialized:m}=sr(),p=fo();sl();const[x,C]=b.useState(!1),[w,P]=b.useState(!1),{searchResults:E,searchLoading:I,search:D,clearSearch:O}=Z5(),[S,U]=b.useState(""),$=b.useRef(null),H=b.useRef(null);b.useEffect(()=>{if(!w||!(S!=null&&S.trim())){O();return}const Y=setTimeout(()=>{D(S)},300);return()=>clearTimeout(Y)},[S,w,D,O]),b.useEffect(()=>{if(!w)return;const Y=q=>{var v;const R=q.target.closest(".mobile-component-container")||q.target.closest("[data-dashboard-card]")||q.target.closest("[data-profile-tab]")||q.target.closest(".dashboard-component")||q.target.closest(".profile-dashboard"),h=q.target.closest("[data-search-container]")||((v=H.current)==null?void 0:v.contains(q.target));R||h||(P(!1),U(""),O())};return document.addEventListener("mousedown",Y),document.addEventListener("touchstart",Y),()=>{document.removeEventListener("mousedown",Y),document.removeEventListener("touchstart",Y)}},[w,O]);const V=async()=>{try{await i("metamask"),C(!1)}catch(Y){console.error("Failed to connect wallet:",Y)}},W=Y=>{const q=typeof window<"u"&&window.ethereum&&window.ethereum.chainId?parseInt(window.ethereum.chainId,16):null,R=q&&ct[q]?ct[q].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):q||"",h=R?`/${R}/raffle/${Y}`:`/raffle/${Y}`;p(h),P(!1),U(""),O()},K=()=>{P(!w),w?(U(""),O()):setTimeout(()=>{$.current&&$.current.focus()},200)};if(!m||!f)return null;const Z=[{name:"Create Raffle",href:"/create-raffle",icon:"➕"},{name:"Profile",href:"/profile",icon:"👤"}];return f?o.jsxs(o.Fragment,{children:[o.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md border-b border-border/50",children:[o.jsxs("div",{className:"flex items-center justify-between h-14 px-4",children:[o.jsx(Zl,{to:"/",className:"flex items-center",children:o.jsx(gp,{size:"xs",className:"active:opacity-70"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(et,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:K,children:o.jsx(Hn,{className:"h-4 w-4"})}),o.jsxs(p3,{open:x,onOpenChange:C,children:[o.jsx(g3,{asChild:!0,children:o.jsx(et,{variant:"ghost",size:"icon",className:"h-9 w-9",children:o.jsx(VP,{className:"h-4 w-4"})})}),o.jsxs(v3,{side:"right",className:"w-64 p-0 bg-background",children:[o.jsx(b3,{className:"p-3 border-b border-border",children:o.jsx(w3,{className:"text-left text-foreground text-base",children:"Menu"})}),o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("div",{className:"p-3 border-b border-border",children:t?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center",children:o.jsx(sp,{className:"h-3 w-3 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs font-medium text-foreground",children:"Connected"}),o.jsx("p",{className:"text-xs text-muted-foreground font-mono truncate",children:r(e)})]})]}),o.jsx(et,{variant:"outline",size:"sm",onClick:n,className:"w-full text-foreground h-8",children:"Disconnect"})]}):o.jsxs(et,{onClick:V,className:"w-full bg-foreground text-background hover:bg-foreground/90 h-8",children:[o.jsx(sp,{className:"h-3 w-3 mr-2"}),"Connect Wallet"]})}),o.jsx("div",{className:"p-3",children:o.jsx("div",{className:"space-y-1",children:Z.map(Y=>o.jsxs(Zl,{to:Y.href,onClick:()=>C(!1),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-muted transition-colors text-foreground hover:text-foreground",children:[o.jsx("span",{className:"text-base",children:Y.icon}),o.jsx("span",{className:"text-sm font-medium text-foreground",children:Y.name})]},Y.href))})}),o.jsxs("div",{className:"p-3 border-t border-border space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs font-medium text-foreground",children:"Theme"}),o.jsxs(et,{variant:"outline",size:"sm",onClick:c,className:"h-7 w-7 p-0 border-border text-foreground hover:bg-muted",children:[d().icon==="Sun"&&o.jsx(Aw,{className:"h-3 w-3"}),d().icon==="Moon"&&o.jsx(Cw,{className:"h-3 w-3"}),d().icon==="Monitor"&&o.jsx(Nw,{className:"h-3 w-3"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs font-medium text-foreground",children:"Network"}),o.jsx(K1,{})]})]})]})]})]})]})]}),w&&o.jsx("div",{ref:H,"data-search-container":!0,className:"px-4 pb-3 border-t border-border/50 animate-in slide-in-from-top-2 duration-200",children:o.jsxs("div",{className:"relative",children:[o.jsx(Hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx("input",{ref:$,type:"text",placeholder:"Search raffle name or address...",value:S,onChange:Y=>U(Y.target.value),className:"w-full h-12 pl-10 pr-4 bg-muted/50 border border-border rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",autoFocus:!0}),w&&S&&o.jsxs("div",{className:"absolute left-0 right-0 top-full mt-2 z-50 bg-popover/95 backdrop-blur-md border border-border/50 rounded-xl max-h-60 overflow-y-auto shadow-xl",children:[I&&o.jsx("div",{className:"p-3 text-muted-foreground text-sm text-center",children:"Searching..."}),!I&&E.length>0&&o.jsx(o.Fragment,{children:E.map(Y=>o.jsxs("div",{className:"px-4 py-3 hover:bg-muted cursor-pointer border-b border-border/20 last:border-b-0",onClick:()=>W(Y.address),children:[o.jsx("div",{className:"font-semibold text-foreground text-sm mb-1",children:Y.name}),o.jsx("div",{className:"text-xs text-muted-foreground font-mono truncate",title:Y.address,children:Y.address})]},Y.address))}),!I&&S&&E.length===0&&o.jsxs("div",{className:"p-4 text-muted-foreground text-sm text-center",children:['No raffles found matching "',S,'"']})]})]})})]}),o.jsx("div",{className:"h-14"})]}):null};class N3 extends xe.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Mobile component error:",e,r)}render(){return this.state.hasError?o.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md border-b border-border/50",children:o.jsxs("div",{className:"flex items-center justify-between h-14 px-4",children:[o.jsx("div",{className:"text-lg font-bold text-foreground",style:{fontFamily:"Orbitron, monospace"},children:"Rafflhub"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Mobile Menu"})]})}):this.props.children}}var Bm="rovingFocusGroup.onEntryFocus",C3={bubbles:!1,cancelable:!0},Mc="RovingFocusGroup",[yp,yk,E3]=Vp(Mc),[A3,mf]=go(Mc,[E3]),[S3,T3]=A3(Mc),xk=b.forwardRef((t,e)=>o.jsx(yp.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(yp.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(P3,{...t,ref:e})})}));xk.displayName=Mc;var P3=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:p=!1,...x}=t,C=b.useRef(null),w=Wt(e,C),P=Zd(l),[E,I]=Ui({prop:c,defaultProp:d??null,onChange:f,caller:Mc}),[D,O]=b.useState(!1),S=Us(m),U=yk(r),$=b.useRef(!1),[H,V]=b.useState(0);return b.useEffect(()=>{const W=C.current;if(W)return W.addEventListener(Bm,S),()=>W.removeEventListener(Bm,S)},[S]),o.jsx(S3,{scope:r,orientation:n,dir:P,loop:i,currentTabStopId:E,onItemFocus:b.useCallback(W=>I(W),[I]),onItemShiftTab:b.useCallback(()=>O(!0),[]),onFocusableItemAdd:b.useCallback(()=>V(W=>W+1),[]),onFocusableItemRemove:b.useCallback(()=>V(W=>W-1),[]),children:o.jsx(ut.div,{tabIndex:D||H===0?-1:0,"data-orientation":n,...x,ref:w,style:{outline:"none",...t.style},onMouseDown:Ue(t.onMouseDown,()=>{$.current=!0}),onFocus:Ue(t.onFocus,W=>{const K=!$.current;if(W.target===W.currentTarget&&K&&!D){const Z=new CustomEvent(Bm,C3);if(W.currentTarget.dispatchEvent(Z),!Z.defaultPrevented){const Y=U().filter(A=>A.focusable),q=Y.find(A=>A.active),R=Y.find(A=>A.id===E),v=[q,R,...Y].filter(Boolean).map(A=>A.ref.current);wk(v,p)}}$.current=!1}),onBlur:Ue(t.onBlur,()=>O(!1))})})}),vk="RovingFocusGroupItem",bk=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:l,children:c,...d}=t,f=Os(),m=l||f,p=T3(vk,r),x=p.currentTabStopId===m,C=yk(r),{onFocusableItemAdd:w,onFocusableItemRemove:P,currentTabStopId:E}=p;return b.useEffect(()=>{if(n)return w(),()=>P()},[n,w,P]),o.jsx(yp.ItemSlot,{scope:r,id:m,focusable:n,active:i,children:o.jsx(ut.span,{tabIndex:x?0:-1,"data-orientation":p.orientation,...d,ref:e,onMouseDown:Ue(t.onMouseDown,I=>{n?p.onItemFocus(m):I.preventDefault()}),onFocus:Ue(t.onFocus,()=>p.onItemFocus(m)),onKeyDown:Ue(t.onKeyDown,I=>{if(I.key==="Tab"&&I.shiftKey){p.onItemShiftTab();return}if(I.target!==I.currentTarget)return;const D=M3(I,p.orientation,p.dir);if(D!==void 0){if(I.metaKey||I.ctrlKey||I.altKey||I.shiftKey)return;I.preventDefault();let S=C().filter(U=>U.focusable).map(U=>U.ref.current);if(D==="last")S.reverse();else if(D==="prev"||D==="next"){D==="prev"&&S.reverse();const U=S.indexOf(I.currentTarget);S=p.loop?I3(S,U+1):S.slice(U+1)}setTimeout(()=>wk(S))}}),children:typeof c=="function"?c({isCurrentTabStop:x,hasTabStop:E!=null}):c})})});bk.displayName=vk;var j3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function R3(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function M3(t,e,r){const n=R3(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return j3[n]}function wk(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function I3(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var kk=xk,Nk=bk,xp=["Enter"," "],_3=["ArrowDown","PageUp","Home"],Ck=["ArrowUp","PageDown","End"],D3=[..._3,...Ck],z3={ltr:[...xp,"ArrowRight"],rtl:[...xp,"ArrowLeft"]},L3={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ic="Menu",[vc,O3,F3]=Vp(Ic),[Zi,Ek]=go(Ic,[F3,of,mf]),pf=of(),Ak=mf(),[B3,ea]=Zi(Ic),[U3,_c]=Zi(Ic),Sk=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:l,modal:c=!0}=t,d=pf(e),[f,m]=b.useState(null),p=b.useRef(!1),x=Us(l),C=Zd(i);return b.useEffect(()=>{const w=()=>{p.current=!0,document.addEventListener("pointerdown",P,{capture:!0,once:!0}),document.addEventListener("pointermove",P,{capture:!0,once:!0})},P=()=>p.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",P,{capture:!0}),document.removeEventListener("pointermove",P,{capture:!0})}},[]),o.jsx(t1,{...d,children:o.jsx(B3,{scope:e,open:r,onOpenChange:x,content:f,onContentChange:m,children:o.jsx(U3,{scope:e,onClose:b.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:p,dir:C,modal:c,children:n})})})};Sk.displayName=Ic;var $3="MenuAnchor",dg=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=pf(r);return o.jsx(r1,{...i,...n,ref:e})});dg.displayName=$3;var fg="MenuPortal",[W3,Tk]=Zi(fg,{forceMount:void 0}),Pk=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,l=ea(fg,e);return o.jsx(W3,{scope:e,forceMount:r,children:o.jsx(yo,{present:r||l.open,children:o.jsx(af,{asChild:!0,container:i,children:n})})})};Pk.displayName=fg;var Gn="MenuContent",[q3,hg]=Zi(Gn),jk=b.forwardRef((t,e)=>{const r=Tk(Gn,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,l=ea(Gn,t.__scopeMenu),c=_c(Gn,t.__scopeMenu);return o.jsx(vc.Provider,{scope:t.__scopeMenu,children:o.jsx(yo,{present:n||l.open,children:o.jsx(vc.Slot,{scope:t.__scopeMenu,children:c.modal?o.jsx(H3,{...i,ref:e}):o.jsx(G3,{...i,ref:e})})})})}),H3=b.forwardRef((t,e)=>{const r=ea(Gn,t.__scopeMenu),n=b.useRef(null),i=Wt(e,n);return b.useEffect(()=>{const l=n.current;if(l)return sg(l)},[]),o.jsx(mg,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ue(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),G3=b.forwardRef((t,e)=>{const r=ea(Gn,t.__scopeMenu);return o.jsx(mg,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),V3=Fi("MenuContent.ScrollLock"),mg=b.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:f,onEscapeKeyDown:m,onPointerDownOutside:p,onFocusOutside:x,onInteractOutside:C,onDismiss:w,disableOutsideScroll:P,...E}=t,I=ea(Gn,r),D=_c(Gn,r),O=pf(r),S=Ak(r),U=O3(r),[$,H]=b.useState(null),V=b.useRef(null),W=Wt(e,V,I.onContentChange),K=b.useRef(0),Z=b.useRef(""),Y=b.useRef(0),q=b.useRef(null),R=b.useRef("right"),h=b.useRef(0),v=P?cf:b.Fragment,A=P?{as:V3,allowPinchZoom:!0}:void 0,_=T=>{var G,J;const L=Z.current+T,k=U().filter(te=>!te.disabled),y=document.activeElement,F=(G=k.find(te=>te.ref.current===y))==null?void 0:G.textValue,ee=k.map(te=>te.textValue),z=oM(ee,L,F),Q=(J=k.find(te=>te.textValue===z))==null?void 0:J.ref.current;(function te(ie){Z.current=ie,window.clearTimeout(K.current),ie!==""&&(K.current=window.setTimeout(()=>te(""),1e3))})(L),Q&&setTimeout(()=>Q.focus())};b.useEffect(()=>()=>window.clearTimeout(K.current),[]),Kp();const j=b.useCallback(T=>{var k,y;return R.current===((k=q.current)==null?void 0:k.side)&&aM(T,(y=q.current)==null?void 0:y.area)},[]);return o.jsx(q3,{scope:r,searchRef:Z,onItemEnter:b.useCallback(T=>{j(T)&&T.preventDefault()},[j]),onItemLeave:b.useCallback(T=>{var L;j(T)||((L=V.current)==null||L.focus(),H(null))},[j]),onTriggerLeave:b.useCallback(T=>{j(T)&&T.preventDefault()},[j]),pointerGraceTimerRef:Y,onPointerGraceIntentChange:b.useCallback(T=>{q.current=T},[]),children:o.jsx(v,{...A,children:o.jsx(tf,{asChild:!0,trapped:i,onMountAutoFocus:Ue(l,T=>{var L;T.preventDefault(),(L=V.current)==null||L.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:o.jsx(ef,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:m,onPointerDownOutside:p,onFocusOutside:x,onInteractOutside:C,onDismiss:w,children:o.jsx(kk,{asChild:!0,...S,dir:D.dir,orientation:"vertical",loop:n,currentTabStopId:$,onCurrentTabStopIdChange:H,onEntryFocus:Ue(f,T=>{D.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(n1,{role:"menu","aria-orientation":"vertical","data-state":Gk(I.open),"data-radix-menu-content":"",dir:D.dir,...O,...E,ref:W,style:{outline:"none",...E.style},onKeyDown:Ue(E.onKeyDown,T=>{const k=T.target.closest("[data-radix-menu-content]")===T.currentTarget,y=T.ctrlKey||T.altKey||T.metaKey,F=T.key.length===1;k&&(T.key==="Tab"&&T.preventDefault(),!y&&F&&_(T.key));const ee=V.current;if(T.target!==ee||!D3.includes(T.key))return;T.preventDefault();const Q=U().filter(G=>!G.disabled).map(G=>G.ref.current);Ck.includes(T.key)&&Q.reverse(),nM(Q)}),onBlur:Ue(t.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(K.current),Z.current="")}),onPointerMove:Ue(t.onPointerMove,bc(T=>{const L=T.target,k=h.current!==T.clientX;if(T.currentTarget.contains(L)&&k){const y=T.clientX>h.current?"right":"left";R.current=y,h.current=T.clientX}}))})})})})})})});jk.displayName=Gn;var K3="MenuGroup",pg=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return o.jsx(ut.div,{role:"group",...n,ref:e})});pg.displayName=K3;var Y3="MenuLabel",Rk=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return o.jsx(ut.div,{...n,ref:e})});Rk.displayName=Y3;var Od="MenuItem",nb="menu.itemSelect",gf=b.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,l=b.useRef(null),c=_c(Od,t.__scopeMenu),d=hg(Od,t.__scopeMenu),f=Wt(e,l),m=b.useRef(!1),p=()=>{const x=l.current;if(!r&&x){const C=new CustomEvent(nb,{bubbles:!0,cancelable:!0});x.addEventListener(nb,w=>n==null?void 0:n(w),{once:!0}),Pw(x,C),C.defaultPrevented?m.current=!1:c.onClose()}};return o.jsx(Mk,{...i,ref:f,disabled:r,onClick:Ue(t.onClick,p),onPointerDown:x=>{var C;(C=t.onPointerDown)==null||C.call(t,x),m.current=!0},onPointerUp:Ue(t.onPointerUp,x=>{var C;m.current||(C=x.currentTarget)==null||C.click()}),onKeyDown:Ue(t.onKeyDown,x=>{const C=d.searchRef.current!=="";r||C&&x.key===" "||xp.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});gf.displayName=Od;var Mk=b.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...l}=t,c=hg(Od,r),d=Ak(r),f=b.useRef(null),m=Wt(e,f),[p,x]=b.useState(!1),[C,w]=b.useState("");return b.useEffect(()=>{const P=f.current;P&&w((P.textContent??"").trim())},[l.children]),o.jsx(vc.ItemSlot,{scope:r,disabled:n,textValue:i??C,children:o.jsx(Nk,{asChild:!0,...d,focusable:!n,children:o.jsx(ut.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...l,ref:m,onPointerMove:Ue(t.onPointerMove,bc(P=>{n?c.onItemLeave(P):(c.onItemEnter(P),P.defaultPrevented||P.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ue(t.onPointerLeave,bc(P=>c.onItemLeave(P))),onFocus:Ue(t.onFocus,()=>x(!0)),onBlur:Ue(t.onBlur,()=>x(!1))})})})}),Q3="MenuCheckboxItem",Ik=b.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return o.jsx(Ok,{scope:t.__scopeMenu,checked:r,children:o.jsx(gf,{role:"menuitemcheckbox","aria-checked":Fd(r)?"mixed":r,...i,ref:e,"data-state":yg(r),onSelect:Ue(i.onSelect,()=>n==null?void 0:n(Fd(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Ik.displayName=Q3;var _k="MenuRadioGroup",[J3,X3]=Zi(_k,{value:void 0,onValueChange:()=>{}}),Dk=b.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,l=Us(n);return o.jsx(J3,{scope:t.__scopeMenu,value:r,onValueChange:l,children:o.jsx(pg,{...i,ref:e})})});Dk.displayName=_k;var zk="MenuRadioItem",Lk=b.forwardRef((t,e)=>{const{value:r,...n}=t,i=X3(zk,t.__scopeMenu),l=r===i.value;return o.jsx(Ok,{scope:t.__scopeMenu,checked:l,children:o.jsx(gf,{role:"menuitemradio","aria-checked":l,...n,ref:e,"data-state":yg(l),onSelect:Ue(n.onSelect,()=>{var c;return(c=i.onValueChange)==null?void 0:c.call(i,r)},{checkForDefaultPrevented:!1})})})});Lk.displayName=zk;var gg="MenuItemIndicator",[Ok,Z3]=Zi(gg,{checked:!1}),Fk=b.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,l=Z3(gg,r);return o.jsx(yo,{present:n||Fd(l.checked)||l.checked===!0,children:o.jsx(ut.span,{...i,ref:e,"data-state":yg(l.checked)})})});Fk.displayName=gg;var eM="MenuSeparator",Bk=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return o.jsx(ut.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});Bk.displayName=eM;var tM="MenuArrow",Uk=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=pf(r);return o.jsx(s1,{...i,...n,ref:e})});Uk.displayName=tM;var rM="MenuSub",[M_,$k]=Zi(rM),Xl="MenuSubTrigger",Wk=b.forwardRef((t,e)=>{const r=ea(Xl,t.__scopeMenu),n=_c(Xl,t.__scopeMenu),i=$k(Xl,t.__scopeMenu),l=hg(Xl,t.__scopeMenu),c=b.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:f}=l,m={__scopeMenu:t.__scopeMenu},p=b.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return b.useEffect(()=>p,[p]),b.useEffect(()=>{const x=d.current;return()=>{window.clearTimeout(x),f(null)}},[d,f]),o.jsx(dg,{asChild:!0,...m,children:o.jsx(Mk,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":Gk(r.open),...t,ref:Xd(e,i.onTriggerChange),onClick:x=>{var C;(C=t.onClick)==null||C.call(t,x),!(t.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ue(t.onPointerMove,bc(x=>{l.onItemEnter(x),!x.defaultPrevented&&!t.disabled&&!r.open&&!c.current&&(l.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{r.onOpenChange(!0),p()},100))})),onPointerLeave:Ue(t.onPointerLeave,bc(x=>{var w,P;p();const C=(w=r.content)==null?void 0:w.getBoundingClientRect();if(C){const E=(P=r.content)==null?void 0:P.dataset.side,I=E==="right",D=I?-5:5,O=C[I?"left":"right"],S=C[I?"right":"left"];l.onPointerGraceIntentChange({area:[{x:x.clientX+D,y:x.clientY},{x:O,y:C.top},{x:S,y:C.top},{x:S,y:C.bottom},{x:O,y:C.bottom}],side:E}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(x),x.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Ue(t.onKeyDown,x=>{var w;const C=l.searchRef.current!=="";t.disabled||C&&x.key===" "||z3[n.dir].includes(x.key)&&(r.onOpenChange(!0),(w=r.content)==null||w.focus(),x.preventDefault())})})})});Wk.displayName=Xl;var qk="MenuSubContent",Hk=b.forwardRef((t,e)=>{const r=Tk(Gn,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,l=ea(Gn,t.__scopeMenu),c=_c(Gn,t.__scopeMenu),d=$k(qk,t.__scopeMenu),f=b.useRef(null),m=Wt(e,f);return o.jsx(vc.Provider,{scope:t.__scopeMenu,children:o.jsx(yo,{present:n||l.open,children:o.jsx(vc.Slot,{scope:t.__scopeMenu,children:o.jsx(mg,{id:d.contentId,"aria-labelledby":d.triggerId,...i,ref:m,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var x;c.isUsingKeyboardRef.current&&((x=f.current)==null||x.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:Ue(t.onFocusOutside,p=>{p.target!==d.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Ue(t.onEscapeKeyDown,p=>{c.onClose(),p.preventDefault()}),onKeyDown:Ue(t.onKeyDown,p=>{var w;const x=p.currentTarget.contains(p.target),C=L3[c.dir].includes(p.key);x&&C&&(l.onOpenChange(!1),(w=d.trigger)==null||w.focus(),p.preventDefault())})})})})})});Hk.displayName=qk;function Gk(t){return t?"open":"closed"}function Fd(t){return t==="indeterminate"}function yg(t){return Fd(t)?"indeterminate":t?"checked":"unchecked"}function nM(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function sM(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function oM(t,e,r){const i=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=r?t.indexOf(r):-1;let c=sM(t,Math.max(l,0));i.length===1&&(c=c.filter(m=>m!==r));const f=c.find(m=>m.toLowerCase().startsWith(i.toLowerCase()));return f!==r?f:void 0}function iM(t,e){const{x:r,y:n}=t;let i=!1;for(let l=0,c=e.length-1;l<e.length;c=l++){const d=e[l],f=e[c],m=d.x,p=d.y,x=f.x,C=f.y;p>n!=C>n&&r<(x-m)*(n-p)/(C-p)+m&&(i=!i)}return i}function aM(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return iM(r,e)}function bc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var lM=Sk,cM=dg,uM=Pk,dM=jk,fM=pg,hM=Rk,mM=gf,pM=Ik,gM=Dk,yM=Lk,xM=Fk,vM=Bk,bM=Uk,wM=Wk,kM=Hk,yf="DropdownMenu",[NM,I_]=go(yf,[Ek]),sn=Ek(),[CM,Vk]=NM(yf),Kk=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:l,onOpenChange:c,modal:d=!0}=t,f=sn(e),m=b.useRef(null),[p,x]=Ui({prop:i,defaultProp:l??!1,onChange:c,caller:yf});return o.jsx(CM,{scope:e,triggerId:Os(),triggerRef:m,contentId:Os(),open:p,onOpenChange:x,onOpenToggle:b.useCallback(()=>x(C=>!C),[x]),modal:d,children:o.jsx(lM,{...f,open:p,onOpenChange:x,dir:n,modal:d,children:r})})};Kk.displayName=yf;var Yk="DropdownMenuTrigger",Qk=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,l=Vk(Yk,r),c=sn(r);return o.jsx(cM,{asChild:!0,...c,children:o.jsx(ut.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:Xd(e,l.triggerRef),onPointerDown:Ue(t.onPointerDown,d=>{!n&&d.button===0&&d.ctrlKey===!1&&(l.onOpenToggle(),l.open||d.preventDefault())}),onKeyDown:Ue(t.onKeyDown,d=>{n||(["Enter"," "].includes(d.key)&&l.onOpenToggle(),d.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});Qk.displayName=Yk;var EM="DropdownMenuPortal",Jk=t=>{const{__scopeDropdownMenu:e,...r}=t,n=sn(e);return o.jsx(uM,{...n,...r})};Jk.displayName=EM;var Xk="DropdownMenuContent",Zk=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Vk(Xk,r),l=sn(r),c=b.useRef(!1);return o.jsx(dM,{id:i.contentId,"aria-labelledby":i.triggerId,...l,...n,ref:e,onCloseAutoFocus:Ue(t.onCloseAutoFocus,d=>{var f;c.current||(f=i.triggerRef.current)==null||f.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:Ue(t.onInteractOutside,d=>{const f=d.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0,p=f.button===2||m;(!i.modal||p)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Zk.displayName=Xk;var AM="DropdownMenuGroup",SM=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=sn(r);return o.jsx(fM,{...i,...n,ref:e})});SM.displayName=AM;var TM="DropdownMenuLabel",PM=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=sn(r);return o.jsx(hM,{...i,...n,ref:e})});PM.displayName=TM;var jM="DropdownMenuItem",e2=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=sn(r);return o.jsx(mM,{...i,...n,ref:e})});e2.displayName=jM;var RM="DropdownMenuCheckboxItem",MM=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=sn(r);return o.jsx(pM,{...i,...n,ref:e})});MM.displayName=RM;var IM="DropdownMenuRadioGroup",_M=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=sn(r);return o.jsx(gM,{...i,...n,ref:e})});_M.displayName=IM;var DM="DropdownMenuRadioItem",zM=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=sn(r);return o.jsx(yM,{...i,...n,ref:e})});zM.displayName=DM;var LM="DropdownMenuItemIndicator",OM=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=sn(r);return o.jsx(xM,{...i,...n,ref:e})});OM.displayName=LM;var FM="DropdownMenuSeparator",BM=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=sn(r);return o.jsx(vM,{...i,...n,ref:e})});BM.displayName=FM;var UM="DropdownMenuArrow",$M=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=sn(r);return o.jsx(bM,{...i,...n,ref:e})});$M.displayName=UM;var WM="DropdownMenuSubTrigger",qM=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=sn(r);return o.jsx(wM,{...i,...n,ref:e})});qM.displayName=WM;var HM="DropdownMenuSubContent",GM=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=sn(r);return o.jsx(kM,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GM.displayName=HM;var VM=Kk,KM=Qk,YM=Jk,QM=Zk,JM=e2;function XM({...t}){return o.jsx(VM,{"data-slot":"dropdown-menu",...t})}function ZM({...t}){return o.jsx(KM,{"data-slot":"dropdown-menu-trigger",...t})}function eI({className:t,align:e="center",sideOffset:r=4,collisionPadding:n=8,avoidCollisions:i=!0,...l}){return o.jsx(YM,{children:o.jsx(QM,{"data-slot":"dropdown-menu-content",align:e,sideOffset:r,collisionPadding:n,avoidCollisions:i,className:We("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...l})})}function Um({className:t,inset:e,variant:r="default",...n}){return o.jsx(JM,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":r,className:We("focus:bg-accent focus:text-accent-foreground data-[variant=default]:hover:bg-[#614E41]/10 data-[variant=default]:focus:bg-[#614E41]/15 data-[variant=default]:active:bg-[#614E41]/20 data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}const tI=()=>{const{connected:t,address:e,formatAddress:r,disconnect:n,connectWallet:i,provider:l,chainId:c}=Ot(),{contracts:d,getContractInstance:f}=Vt(),{theme:m,cycleTheme:p,getCurrentTheme:x}=Bp(),{isMobile:C,isInitialized:w}=sr(),[P,E]=b.useState(!1);if(sl(),!w)return o.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md border-b border-[#614E41]",children:o.jsx("div",{className:"flex items-center justify-between h-16 px-4",children:o.jsx("div",{className:"flex items-center",children:o.jsx(gp,{size:"sm"})})})});if(C)return o.jsx(N3,{children:o.jsx(k3,{})});const I=async()=>{try{await i("metamask")}catch(j){console.error("Failed to connect wallet:",j)}},[D,O]=b.useState(""),[S,U]=b.useState([]),[$,H]=b.useState(!1),[V,W]=b.useState([]),K=b.useRef(null),Z=fo(),[Y,q]=b.useState(!1),[R,h]=b.useState(!1),v=b.useRef(null),A=b.useRef(!1);b.useEffect(()=>{const j=T=>{const L=T.target.closest(".mobile-component-container")||T.target.closest("[data-dashboard-card]")||T.target.closest("[data-profile-tab]")||T.target.closest(".dashboard-component")||T.target.closest(".profile-dashboard"),k=T.target.closest("[data-search-container]")||v.current&&v.current.contains(T.target);L||P&&!k&&!Y&&(E(!1),h(!1),O(""),U([]))};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[P,Y]),b.useEffect(()=>{(async()=>{if(!(!l||!c||!ct[c])&&!A.current)try{const T=ct[c].contractAddresses.raffleManager;if(!T){W([]),A.current=!0;return}const k=await new kt(T,St.raffleManager,l).getAllRaffles();if(!k||k.length===0){W([]),A.current=!0;return}const y=k.map(async z=>{try{if(!l)return null;const G=await new kt(z,St.raffle,l).name();return{address:z,name:G}}catch{return null}}),ee=(await Promise.all(y)).filter(z=>z);W(ee),A.current=!0}catch{W([]),A.current=!0}})()},[l,c]),b.useEffect(()=>{},[V]),b.useEffect(()=>{if(!P||!D){U([]);return}H(!0);const j=setTimeout(()=>{const T=D.trim().toLowerCase(),L=V.filter(k=>(k.name||"").trim().toLowerCase().includes(T)||(k.address||"").trim().toLowerCase()===T||(k.address||"").trim().toLowerCase().includes(T));U(L),H(!1)},300);return()=>clearTimeout(j)},[D,P,V]);const _=j=>{const T=c&&ct[c]?ct[c].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):c||"",L=T?`/${T}/raffle/${j}`:`/raffle/${j}`;Z(L),setTimeout(()=>{E(!1),O(""),U([])},150)};return b.useEffect(()=>{A.current=!1},[l,c]),o.jsx(o.Fragment,{children:o.jsx("header",{className:"relative w-full z-50 bg-background/80 backdrop-blur-md border-b border-[#614E41]",children:o.jsx("div",{className:"w-full px-0 py-0",children:o.jsx("div",{className:"bg-background/80 backdrop-blur-md border-b border-[#614E41] w-full",children:o.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[o.jsx("div",{className:"flex items-center gap-3",children:o.jsx(Zl,{to:"/",className:"flex items-center gap-3",children:o.jsx(gp,{size:"md",className:"hover:opacity-80"})})}),o.jsxs("div",{className:"flex items-center gap-4 w-full justify-end",children:[o.jsxs("div",{className:"flex items-center transition-all duration-300",style:{minWidth:"40px",marginRight:"0.5rem"},children:[o.jsx("button",{className:`p-2 hover:bg-muted rounded-md transition-colors text-lg ${P?"mr-2":""}`,onClick:()=>{E(j=>(j?h(!1):setTimeout(()=>{h(!0),K.current&&K.current.focus()},300),!j))},children:o.jsx(Hn,{className:"h-5 w-5"})}),o.jsxs("div",{ref:v,"data-search-container":!0,className:"overflow-visible transition-all duration-300 rounded-md bg-background",style:{width:P?"16rem":"0",marginLeft:"0",position:"relative",display:"inline-block",verticalAlign:"middle",overflow:"visible"},children:[o.jsx("input",{ref:K,type:"text",className:`transition-all duration-300 px-3 py-2 rounded-md bg-background text-sm ${R?"focus:outline-none focus:ring-2 focus:ring-primary border border-border":"border-0 outline-none shadow-none"} ${P?"w-64 opacity-100":"w-0 opacity-0 overflow-hidden"}`,style:{minWidth:P?"16rem":"0",maxWidth:P?"16rem":"0",boxSizing:"border-box",border:R?void 0:"none",outline:R?void 0:"none",boxShadow:R?void 0:"none",visibility:P?"visible":"hidden",pointerEvents:R?"auto":"none"},placeholder:"Search raffle name or address...",value:D,onChange:j=>{const T=j.target.value;O(T)},autoFocus:R}),P&&o.jsxs("div",{className:"absolute left-0 top-full mt-1 z-50 w-full",style:{boxSizing:"border-box",position:"absolute",top:"100%",left:0,right:0,zIndex:9999},onMouseEnter:()=>q(!0),onMouseLeave:()=>q(!1),children:[$&&o.jsx("div",{className:"p-2 text-muted-foreground text-xs bg-muted border border-border rounded",children:"Searching..."}),!$&&S.length>0&&o.jsx("div",{className:"bg-popover/90 backdrop-blur-md border border-border/50 rounded-xl max-h-60 overflow-y-auto shadow-xl custom-search-scrollbar",style:{overflowX:"hidden"},children:S.map(j=>o.jsxs("div",{className:"px-3 py-2 hover:bg-muted cursor-pointer text-sm border-b border-border/20",onMouseDown:()=>_(j.address),children:[o.jsx("div",{className:"font-semibold text-foreground",children:j.name}),o.jsx("div",{className:"text-xs text-muted-foreground font-mono",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block",maxWidth:"100%"},title:j.address,children:j.address})]},j.address))}),!$&&D&&S.length===0&&o.jsx("div",{className:"p-2 text-muted-foreground text-xs bg-muted border border-border rounded",children:"No results found."})]})]})]}),o.jsxs("button",{onClick:p,className:"p-2 hover:bg-muted rounded-md transition-colors",title:`Current: ${x().name} - Click to cycle themes`,children:[x().icon==="Sun"&&o.jsx(Aw,{className:"h-5 w-5"}),x().icon==="Moon"&&o.jsx(Cw,{className:"h-5 w-5"}),x().icon==="Monitor"&&o.jsx(Nw,{className:"h-5 w-5"})]}),o.jsx(K1,{}),t?o.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 header-accent-surface border border-[#614E41] rounded-md text-sm font-medium",children:[o.jsx("span",{children:r(e)}),o.jsx("button",{onClick:n,title:"Disconnect Wallet",className:"hover:bg-destructive/10 rounded-full p-1 transition-colors",children:o.jsx(HP,{className:"h-4 w-4 text-foreground opacity-80"})})]}):o.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-3 py-2 header-accent-surface text-foreground border border-[#614E41] rounded-md text-sm hover:opacity-95 transition-colors",children:[o.jsx(sp,{className:"h-4 w-4"}),o.jsx("span",{children:"Connect Wallet"})]}),o.jsxs(XM,{children:[o.jsx(ZM,{asChild:!0,children:o.jsx("button",{className:"flex items-center gap-2 px-3 py-2 header-accent-surface border border-[#614E41] rounded-md text-sm font-medium hover:opacity-95 transition-colors",children:"Menu"})}),o.jsxs(eI,{align:"end",sideOffset:8,collisionPadding:8,className:"w-56 bg-popover/90 backdrop-blur-md border border-[#614E41] mt-2 rounded-xl shadow-2xl py-2 z-40 ring-1 ring-border/20 flex flex-col",children:[o.jsx(Um,{asChild:!0,children:o.jsxs("a",{href:"https://rafflhub.gitbook.io/rafflhub",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-primary/10 transition-colors rounded-lg",children:[o.jsx(BP,{className:"h-5 w-5"})," Docs"]})}),o.jsx(Um,{asChild:!0,children:o.jsxs(Zl,{to:"/profile",className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-primary/10 transition-colors rounded-lg",children:[o.jsx(XP,{className:"h-5 w-5"})," Profile"]})}),o.jsx(Um,{asChild:!0,children:o.jsxs(Zl,{to:"/create-raffle",className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-primary/10 transition-colors rounded-lg",children:[o.jsx(zs,{className:"h-5 w-5"})," Create Raffle"]})})]})]})]})]})})})})})},io=({children:t,variant:e="default",className:r=""})=>{const{isMobile:n}=sr(),l=(()=>{switch(e){case"narrow":return"mx-auto px-4 sm:px-6 md:px-8 lg:px-12 xl:px-20 2xl:px-32";case"wide":return"container mx-auto px-4 sm:px-6 md:px-8 lg:px-12 xl:px-16 2xl:px-20";case"profile":return n?"mx-auto px-4":"mx-auto px-2 sm:px-3 md:px-4 lg:px-6 xl:px-8 2xl:px-10";case"default":default:return n?"mx-auto px-4":"mx-auto px-2 sm:px-3 md:px-4 lg:px-6 xl:px-8 2xl:px-10"}})();return o.jsx("div",{className:`${l} ${r}`,children:t})},rI=()=>{const t=new Date().getFullYear();return o.jsx("footer",{className:"bg-background/80 backdrop-blur-md border-t border-[#614E41] mt-auto shrink-0",children:o.jsx("div",{className:"w-full px-6 sm:px-8 lg:px-12 py-3 sm:py-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-3 sm:gap-4 w-full min-h-[60px] sm:min-h-0",children:[o.jsxs("div",{className:"text-sm text-muted-foreground sm:ml-0 flex-shrink-0",children:["© ",t," Rafflhub. All rights reserved."]}),o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 sm:mr-0 flex-shrink-0",children:[o.jsx("a",{href:"https://github.com/rafflhub",target:"_blank",rel:"noopener noreferrer",className:"p-2 sm:p-2 text-muted-foreground hover:text-foreground transition-colors duration-200 hover:bg-muted rounded-md",title:"GitHub",children:o.jsx(WP,{className:"h-5 w-5"})}),o.jsx("a",{href:"https://twitter.com/rafflhub",target:"_blank",rel:"noopener noreferrer",className:"p-2 sm:p-2 text-muted-foreground hover:text-foreground transition-colors duration-200 hover:bg-muted rounded-md",title:"Twitter",children:o.jsx(QP,{className:"h-5 w-5"})}),o.jsx("a",{href:"mailto:contact@rafflhub.com",className:"p-2 sm:p-2 text-muted-foreground hover:text-foreground transition-colors duration-200 hover:bg-muted rounded-md",title:"Contact",children:o.jsx(GP,{className:"h-5 w-5"})})]})]})})})};function tn({className:t,...e}){return o.jsx("div",{"data-slot":"card",className:We("bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex flex-col gap-6 hover:border-border/80",t),...e})}function ao({className:t,...e}){return o.jsx("div",{"data-slot":"card-header",className:We("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 py-4 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function lo({className:t,...e}){return o.jsx("div",{"data-slot":"card-title",className:We("leading-none font-semibold",t),...e})}function vp({className:t,...e}){return o.jsx("div",{"data-slot":"card-description",className:We("text-muted-foreground text-sm",t),...e})}function rn({className:t,...e}){return o.jsx("div",{"data-slot":"card-content",className:We("px-6 py-6",t),...e})}class nI extends xe.Component{constructor(r){super(r);Du(this,"handleRetry",()=>{this.setState(r=>({hasError:!1,error:null,errorInfo:null,retryCount:r.retryCount+1}))});Du(this,"handleGoHome",()=>{window.location.href="/"});Du(this,"getBrowserSpecificErrorInfo",()=>{const{error:r,browserInfo:n}=this.state,i=(r==null?void 0:r.message)||(r==null?void 0:r.toString())||"Unknown error";if(i.includes("missing revert data")||i.includes("call exception")||i.includes("CALL_EXCEPTION"))return{title:"Network Connection Issue",message:`Your browser (${(n==null?void 0:n.name)||"unknown"}) is experiencing connectivity issues with the blockchain network.`,suggestions:["Check your internet connection","Try refreshing the page","Switch to a different network and back",(n==null?void 0:n.name)==="firefox"?"Firefox may need extra time - please be patient":"Try using Chrome for better compatibility"]};if(i.includes("MetaMask")||i.includes("wallet"))return{title:"Wallet Connection Issue",message:"There was a problem connecting to your wallet.",suggestions:["Make sure MetaMask is installed and unlocked","Try disconnecting and reconnecting your wallet","Refresh the page and try again"]};const l=["Refresh the page and try again"];return(n==null?void 0:n.name)==="firefox"?l.push("Firefox users may experience slower loading - please be patient"):(n==null?void 0:n.name)==="safari"?l.push("Safari users should ensure they have the latest version"):(n==null?void 0:n.name)==="edge"&&l.push("Edge users may need to clear browser cache"),n!=null&&n.isMobile&&l.push("Mobile users: ensure stable internet connection"),{title:"Something went wrong",message:"An unexpected error occurred while loading the application.",suggestions:l}});this.state={hasError:!1,error:null,errorInfo:null,retryCount:0,browserInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){const i=Op();this.setState({error:r,errorInfo:n,browserInfo:i}),console.group("🚨 Error Boundary Caught Error"),console.log("Browser:",i),console.log("Error:",r),console.log("Error Info:",n),console.groupEnd(),window.gtag&&window.gtag("event","exception",{description:r.toString(),fatal:!1,custom_parameters:{browser:i.name,browser_version:i.version,is_mobile:i.isMobile}})}render(){if(this.state.hasError){const{isMobile:r=!1,fallbackComponent:n}=this.props,{error:i,retryCount:l,browserInfo:c}=this.state,d=this.getBrowserSpecificErrorInfo();return n?n(i,this.handleRetry,this.handleGoHome):r?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:o.jsxs(tn,{className:"w-full max-w-md",children:[o.jsxs(ao,{className:"text-center",children:[o.jsx(Ev,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),o.jsx(lo,{className:"text-lg",children:d.title})]}),o.jsxs(rn,{className:"space-y-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground text-center",children:d.message}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-semibold text-sm",children:"Try these solutions:"}),o.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:d.suggestions.map((f,m)=>o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"mr-2",children:"•"}),o.jsx("span",{children:f})]},m))})]}),l<3&&o.jsxs(et,{onClick:this.handleRetry,className:"w-full",variant:"default",children:[o.jsx(Oi,{className:"h-4 w-4 mr-2"}),"Try Again"]}),o.jsxs(et,{onClick:this.handleGoHome,variant:"outline",className:"w-full",children:[o.jsx(Av,{className:"h-4 w-4 mr-2"}),"Go Home"]}),!1]})]})}):o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:o.jsxs(tn,{className:"w-full max-w-2xl",children:[o.jsxs(ao,{className:"text-center",children:[o.jsx(Ev,{className:"h-16 w-16 text-destructive mx-auto mb-6"}),o.jsx(lo,{className:"text-2xl",children:"Oops! Something went wrong"})]}),o.jsxs(rn,{className:"space-y-6",children:[o.jsx("p",{className:"text-muted-foreground text-center",children:"The application encountered an unexpected error. This could be due to:"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 max-w-md mx-auto",children:[o.jsx("li",{children:"• Network connectivity issues"}),o.jsx("li",{children:"• Blockchain RPC provider problems"}),o.jsx("li",{children:"• Temporary service disruption"}),o.jsx("li",{children:"• Browser compatibility issues"})]}),o.jsxs("div",{className:"flex gap-4 justify-center",children:[l<3&&o.jsxs(et,{onClick:this.handleRetry,variant:"default",children:[o.jsx(Oi,{className:"h-4 w-4 mr-2"}),"Try Again"]}),o.jsxs(et,{onClick:this.handleGoHome,variant:"outline",children:[o.jsx(Av,{className:"h-4 w-4 mr-2"}),"Return Home"]})]}),!1]})]})})}return this.props.children}}const sI=ag("inline-flex items-center justify-center rounded-full border px-2 py-1 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20",outline:"text-foreground [a&]:hover:bg-muted"}},defaultVariants:{variant:"default"}});function oc({className:t,variant:e,asChild:r=!1,...n}){const i=r?Tw:"span";return o.jsx(i,{"data-slot":"badge",className:We(sI({variant:e}),t),...n})}const oI=()=>{const[t,e]=b.useState(!1);return b.useEffect(()=>{},[!1]),{component:null}},iI=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),t2=()=>{iI&&console.log("Mobile keyboard fix initialized (simplified version)")},r2=()=>{console.log("Mobile keyboard fix cleanup (simplified version)")},aI=t2,lI=r2,Ir=()=>{const{chainId:t,networkInfo:e}=Ot(),r=b.useMemo(()=>(e==null?void 0:e.nativeCurrency)||{symbol:"ETH",name:"Ether",decimals:18},[e]),n=b.useMemo(()=>(C,w={})=>{const{showSymbol:P=!0,decimals:E=4,fallbackSymbol:I=r.symbol}=w;if(C==null||C==="")return P?`0 ${r.symbol}`:"0";try{let D;ce.isBigNumber(C)?D=Cr(C):typeof C=="string"?/^0x/i.test(C)||/^[0-9]+$/.test(C)?D=Cr(C):D=C:typeof C=="number"?D=C.toString():D=Cr(C);const O=parseFloat(D);let S;if(!isFinite(O)||isNaN(O))S="0";else if(O===0)S="0";else if(O<Math.pow(10,-E)){const U=Math.max(E,8);S=O.toFixed(U),S=S.replace(/\.?0+$/,""),(S==="0"||S==="")&&(S=O.toFixed(U))}else S=O.toFixed(E),O>=.01&&(S=S.replace(/\.?0+$/,""));return P?`${S} ${r.symbol}`:S}catch(D){return console.warn("Error formatting amount:",D),P?`0 ${I}`:"0"}},[r.symbol]),i=b.useMemo(()=>C=>n(C,{decimals:8}),[n]),l=b.useMemo(()=>C=>n(C,{decimals:6}),[n]),c=b.useMemo(()=>C=>n(C,{decimals:6}),[n]),d=b.useMemo(()=>()=>r.symbol,[r.symbol]),f=b.useMemo(()=>()=>r,[r]),m=b.useMemo(()=>r.symbol==="ETH",[r.symbol]),p=b.useMemo(()=>r.symbol==="AVAX",[r.symbol]),x=b.useMemo(()=>(C="general")=>{switch(C){case"ticket":return`Ticket Price (${r.symbol})`;case"prize":return`Prize Amount (${r.symbol})`;case"revenue":return`Revenue (${r.symbol})`;case"amount":return`Amount (${r.symbol})`;default:return r.symbol}},[r.symbol]);return{nativeCurrency:r,getCurrencyInfo:f,getCurrencySymbol:d,getCurrencyLabel:x,formatAmount:n,formatTicketPrice:i,formatPrizeAmount:l,formatRevenueAmount:c,isEthNetwork:m,isAvaxNetwork:p,chainId:t,networkName:(e==null?void 0:e.name)||"Unknown Network"}},cI=({size:t="default",className:e="",text:r="",showText:n=!0})=>{const i={sm:"h-4 w-4",default:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"};return o.jsx("div",{className:We("flex items-center justify-center",e),children:o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(gd,{className:We("animate-spin text-primary",i[t])}),n&&r&&o.jsx("p",{className:"text-sm text-muted-foreground",children:r})]})})},n2=({message:t="Loading...",isMobile:e=!1,showProgress:r=!1,progress:n=0,maxProgress:i=100})=>o.jsx("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center bg-background",children:o.jsxs("div",{className:"text-center space-y-4 px-4",children:[o.jsx(cI,{size:e?"lg":"xl",text:t,showText:!0}),r&&o.jsxs("div",{className:"w-64 max-w-full mx-auto",children:[o.jsx("div",{className:"bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${n/i*100}%`}})}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[n," / ",i]})]})]})}),xg=({error:t,onRetry:e,isMobile:r=!1,showCreateButton:n=!0})=>{const i=fo(),l=m=>{switch(m){case"CONTRACTS_NOT_AVAILABLE":return{title:"Network Not Supported",message:"Rafflhub is not available on this network. Check back soon!",icon:o.jsx(Jt,{className:"h-8 w-8 text-orange-500"}),showRetry:!1,showCreate:!1};case"NO_RAFFLES_FOUND":return{title:"No Raffles Found",message:"No Raffles are found on this network! Be the first user to create a Raffle.",icon:o.jsx(Jt,{className:"h-8 w-8 text-blue-500"}),showRetry:!0,showCreate:!0};case"RATE_LIMIT":return{title:"Rate Limit Exceeded",message:"Too many requests. Please wait a moment and try again.",icon:o.jsx(Jt,{className:"h-8 w-8 text-yellow-500"}),showRetry:!0,showCreate:!1};case"TIMEOUT":return{title:"Request Timeout",message:"Request timed out. Please check your connection and try again.",icon:o.jsx(Jt,{className:"h-8 w-8 text-red-500"}),showRetry:!0,showCreate:!1};case"NETWORK_ERROR":default:return{title:"Network Error",message:"Unable to connect to the blockchain. Please check your connection and try again.",icon:o.jsx(Jt,{className:"h-8 w-8 text-red-500"}),showRetry:!0,showCreate:!1}}},c=()=>{i("/create-raffle")},d=typeof t=="string"?t:(t==null?void 0:t.message)||"NETWORK_ERROR",f=l(d);return o.jsx("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:o.jsxs("div",{className:"text-center max-w-md mx-auto",children:[o.jsx("div",{className:"flex justify-center mb-4",children:f.icon}),o.jsx("h3",{className:`font-semibold mb-3 ${r?"text-lg":"text-xl"}`,children:f.title}),o.jsx("p",{className:`text-muted-foreground mb-6 ${r?"text-sm":"text-base"}`,children:f.message}),o.jsxs("div",{className:`flex gap-3 ${r?"flex-col":"flex-row justify-center"}`,children:[f.showRetry&&e&&o.jsxs(et,{onClick:e,variant:"outline",className:`${r?"w-full":""}`,children:[o.jsx(Oi,{className:"h-4 w-4 mr-2"}),"Try Again"]}),f.showCreate&&n&&o.jsx(et,{onClick:c,className:`${r?"w-full":""}`,children:"Create Raffle"})]})]})})},s2=t=>({0:"pending",1:"active",2:"ended",3:"drawing",4:"completed",5:"deleted",6:"activation_failed",7:"all_prizes_claimed",8:"unengaged"})[t]||"ended",o2=t=>t.isExternallyPrized?"nft_collab":t.isPrized?"prized":"non_prized",i2=t=>t.isPrized?t.nativePrizeAmount&&t.nativePrizeAmount.gt&&t.nativePrizeAmount.gt(0)?"native":t.erc20PrizeToken&&t.erc20PrizeToken!==Pe&&t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0)?"erc20":t.prizeCollection&&t.prizeCollection!==Pe?"nft":"token_giveaway":null,a2=t=>{if(!t.isPrized)return[];const e=[];return t.nativePrizeAmount&&t.nativePrizeAmount.gt&&t.nativePrizeAmount.gt(0)&&e.push("native"),t.erc20PrizeToken&&t.erc20PrizeToken!==Pe&&t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0)&&e.push("erc20"),t.prizeCollection&&t.prizeCollection!==Pe&&(t.standard===0?e.push("erc721"):t.standard===1&&e.push("erc1155")),e},uI=(t,e)=>!t||t.length===0?[]:t.filter(n=>{if(e.raffleState&&e.raffleState.length>0){const i=s2(n.stateNum);if(!e.raffleState.includes(i))return!1}if(e.raffleType&&e.raffleType.length>0){const i=o2(n);if(!e.raffleType.includes(i))return!1}if(e.prizeType&&e.prizeType.length>0){if(!n.isPrized)return!1;const i=i2(n);if(!e.prizeType.includes(i))return!1}if(e.prizeStandard&&e.prizeStandard.length>0){if(!n.isPrized)return!1;const i=a2(n);if(!e.prizeStandard.some(c=>i.includes(c)))return!1}return!0}),dI=t=>{if(!t||t.length===0)return{raffleState:{},raffleType:{},prizeType:{},prizeStandard:{}};const e={raffleState:{},raffleType:{},prizeType:{},prizeStandard:{}};return t.forEach(r=>{const n=s2(r.stateNum);e.raffleState[n]=(e.raffleState[n]||0)+1;const i=o2(r);if(e.raffleType[i]=(e.raffleType[i]||0)+1,r.isPrized){const l=i2(r);l&&(e.prizeType[l]=(e.prizeType[l]||0)+1),a2(r).forEach(d=>{e.prizeStandard[d]=(e.prizeStandard[d]||0)+1})}}),e},sb=()=>({raffleState:[],raffleType:[],prizeType:[],prizeStandard:[]}),$m=t=>Object.values(t).every(e=>!e||e.length===0),fI=({onFilterChange:t,hasActiveFilters:e=!1,className:r=""})=>{const n=[{label:"Active",icon:Rd,filters:{raffleState:["active"]},description:"Currently running raffles"},{label:"Pending",icon:Hp,filters:{raffleState:["pending"]},description:"Raffles starting soon"},{label:"NFT Prizes",icon:Mi,filters:{raffleType:["prized"],prizeType:["nft"]},description:"Raffles with NFT prizes"},{label:"Whitelist",icon:el,filters:{raffleType:["non_prized"]},description:"Whitelist/Allowlist raffles"}],i=c=>{t(c)},l=()=>{t({raffleState:[],raffleType:[],prizeType:[],prizeStandard:[]})};return o.jsxs("div",{className:`space-y-2 sm:space-y-3 ${r}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Quick Filters"}),e&&o.jsx(et,{variant:"ghost",size:"sm",onClick:l,className:"text-xs h-5 sm:h-6 px-1.5 sm:px-2",children:"Clear"})]}),o.jsx("div",{className:"grid grid-cols-2 gap-1.5 sm:gap-2",children:n.map(c=>{const d=c.icon;return o.jsxs(et,{variant:"outline",size:"sm",onClick:()=>i(c.filters),className:"flex items-center justify-start gap-1.5 sm:gap-2 h-auto p-2 sm:p-3 text-left",title:c.description,children:[o.jsx(d,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),o.jsx("span",{className:"text-xs font-medium",children:c.label})]},c.label)})})]})},hI=`
  @media (max-width: 640px) {
    .mobile-checkbox-radio {
      width: 12px !important;
      height: 12px !important;
      min-width: 12px !important;
      min-height: 12px !important;
      max-width: 12px !important;
      max-height: 12px !important;
    }
  }
`,mI=({isOpen:t,onToggle:e,filters:r,onFiltersChange:n,raffleCount:i=0,allRaffles:l=[],className:c=""})=>{const{countEnhancedRaffleTypes:d}=Up(),[f,m]=b.useState({raffleState:!0,raffleType:!0,prizeType:!0,prizeStandard:!0}),p=b.useMemo(()=>{const D=dI(l),O=d(l);return{...D,raffleType:O}},[l,d]),x=b.useMemo(()=>({raffleState:[{value:"pending",label:"Pending",count:p.raffleState.pending||0},{value:"active",label:"Active",count:p.raffleState.active||0},{value:"ended",label:"Ended",count:p.raffleState.ended||0},{value:"drawing",label:"Drawing",count:p.raffleState.drawing||0},{value:"completed",label:"Completed",count:p.raffleState.completed||0},{value:"deleted",label:"Deleted",count:p.raffleState.deleted||0},{value:"activation_failed",label:"Activation Failed",count:p.raffleState.activation_failed||0},{value:"all_prizes_claimed",label:"Prizes Claimed",count:p.raffleState.all_prizes_claimed||0},{value:"unengaged",label:"Unengaged",count:p.raffleState.unengaged||0}],raffleType:[{value:"non_prized",label:"Whitelist",count:p.raffleType.non_prized||0},{value:"prized",label:"Prized",count:p.raffleType.prized||0},{value:"nft_collab",label:"NFT Collab",count:p.raffleType.nft_collab||0},{value:"whitelist_collab",label:"Whitelist Collab",count:p.raffleType.whitelist_collab||0}],prizeType:[{value:"nft",label:"NFT",count:p.prizeType.nft||0},{value:"erc20",label:"ERC20 Token",count:p.prizeType.erc20||0},{value:"eth",label:"ETH",count:p.prizeType.eth||0},{value:"token_giveaway",label:"Token Giveaway",count:p.prizeType.token_giveaway||0}],prizeStandard:[{value:"erc721",label:"ERC721",count:p.prizeStandard.erc721||0},{value:"erc1155",label:"ERC1155",count:p.prizeStandard.erc1155||0},{value:"erc20",label:"ERC20",count:p.prizeStandard.erc20||0},{value:"eth",label:"ETH",count:p.prizeStandard.eth||0}]}),[p]),C=b.useCallback(D=>{m(O=>({...O,[D]:!O[D]}))},[]),w=b.useCallback((D,O,S)=>{const U={...r};D==="raffleType"?U[D]=S?[O]:[]:(U[D]||(U[D]=[]),S?U[D]=[...U[D],O]:U[D]=U[D].filter($=>$!==O)),n(U)},[r,n]),P=b.useCallback(()=>{n({raffleState:[],raffleType:[],prizeType:[],prizeStandard:[]})},[n]),E=b.useMemo(()=>Object.values(r).some(D=>D.length>0),[r]),I=b.useCallback((D,O,S)=>{var W;const U=f[O],$=O==="raffleType",V=(O==="prizeType"||O==="prizeStandard")&&!((W=r.raffleType)!=null&&W.includes("prized"));return o.jsxs("div",{className:"border-b border-border/30 last:border-b-0",children:[o.jsxs("button",{onClick:()=>C(O),className:"w-full flex items-center justify-between p-3 sm:p-4 text-left hover:bg-muted/50 transition-colors",disabled:V,children:[o.jsx("span",{className:`text-sm sm:text-base font-medium ${V?"text-muted-foreground":""}`,children:D}),U?o.jsx(pc,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"}):o.jsx(Li,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"})]}),U&&!V&&o.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4 space-y-1 sm:space-y-2",children:S.map(K=>{var Y;const Z=((Y=r[O])==null?void 0:Y.includes(K.value))||!1;return o.jsxs("label",{className:"flex items-center space-x-2 sm:space-x-3 cursor-pointer hover:bg-muted/30 p-1.5 sm:p-2 rounded-md transition-colors",children:[o.jsx("input",{type:$?"radio":"checkbox",name:$?O:void 0,checked:Z,onChange:q=>w(O,K.value,q.target.checked),className:`mobile-checkbox-radio ${$?"h-3 w-3 sm:h-4 sm:w-4 text-primary bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-full focus:ring-0 focus:outline-none checked:bg-primary checked:border-primary appearance-none relative"+(Z?' after:content-[""] after:absolute after:top-1/2 after:left-1/2 after:transform after:-translate-x-1/2 after:-translate-y-1/2 after:w-1 after:h-1 sm:after:w-1.5 sm:after:h-1.5 after:bg-white after:rounded-full':""):"h-3 w-3 sm:h-4 sm:w-4 text-primary accent-primary bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded focus:ring-1 focus:ring-primary focus:ring-offset-0 checked:bg-primary checked:border-primary"}`,style:$?{minHeight:"12px",minWidth:"12px",maxHeight:"12px",maxWidth:"12px"}:{minHeight:"12px",minWidth:"12px",maxHeight:"12px",maxWidth:"12px"}}),o.jsx("span",{className:"flex-1 text-xs sm:text-sm leading-tight",children:K.label}),K.count>0&&o.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full",children:K.count})]},K.value)})}),V&&o.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4",children:o.jsx("p",{className:"text-xs text-muted-foreground italic",children:'Select "Prized" raffle type to enable this filter'})})]},O)},[f,r,w,C]);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:hI}}),t&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-30",onClick:e}),o.jsxs("div",{className:`
        fixed left-0
        top-14 sm:top-16
        h-[calc(100vh-3.5rem)] sm:h-[calc(100vh-4rem)]
        w-72 sm:w-80 md:w-96
        bg-background border-r border-border
        transform transition-transform duration-300 ease-in-out
        z-40
        flex flex-col
        ${t?"translate-x-0":"-translate-x-full"}
        ${c}
      `,children:[o.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-border bg-muted/20",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qp,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),o.jsx("h2",{className:"font-semibold text-base sm:text-lg",children:"Filter Raffles"})]}),o.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[E&&o.jsx(et,{variant:"ghost",size:"sm",onClick:P,className:"text-xs px-2 sm:px-3 h-7 sm:h-8 hover:bg-destructive/10 hover:text-destructive",children:"Clear All"}),o.jsx(et,{variant:"ghost",size:"sm",onClick:e,className:"hover:bg-muted h-7 w-7 sm:h-8 sm:w-8 p-0",title:"Close filters",children:o.jsx(Gp,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})]})]}),o.jsx("div",{className:"p-3 sm:p-4 bg-muted/30",children:o.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["Showing ",o.jsx("span",{className:"font-medium text-foreground",children:i})," raffles"]})}),o.jsx("div",{className:"p-3 sm:p-4 border-b border-border/30",children:o.jsx(fI,{onFilterChange:n,hasActiveFilters:E})}),o.jsxs("div",{className:"flex-1 overflow-y-auto",children:[I("Raffle State","raffleState",x.raffleState),I("Raffle Type","raffleType",x.raffleType),I("Prize Type","prizeType",x.prizeType),I("Prize Standard","prizeStandard",x.prizeStandard)]})]})]})},pI=({onClick:t,hasActiveFilters:e=!1,className:r="",variant:n="outline",size:i="default"})=>o.jsxs(et,{variant:e?"default":n,size:i,onClick:t,className:`
        relative flex items-center gap-2
        ${e?"bg-primary text-primary-foreground hover:bg-primary/90":""}
        ${r}
      `,children:[o.jsx(qp,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium",children:e?"Filters Applied":"Filter Raffles"}),e&&o.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs bg-primary-foreground/20 rounded-full",children:"Active"})]}),ob=({raffles:t=[],loading:e=!1,error:r=null,RaffleCardComponent:n,emptyMessage:i="No raffles found matching your filters.",className:l=""})=>e?o.jsx("div",{className:`space-y-6 ${l}`,children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((c,d)=>o.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-6 shadow-lg animate-pulse",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),o.jsx("div",{className:"h-3 bg-muted rounded w-1/2"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"h-3 bg-muted rounded"}),o.jsx("div",{className:"h-3 bg-muted rounded w-5/6"})]}),o.jsx("div",{className:"h-10 bg-muted rounded"})]})},d))})}):r?o.jsx("div",{className:l,children:o.jsx(xg,{error:r,onRetry:null,showCreateButton:!0})}):!t||t.length===0?o.jsx("div",{className:`flex flex-col items-center justify-center py-12 ${l}`,children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 mx-auto bg-muted/20 rounded-full flex items-center justify-center",children:o.jsx(Mi,{className:"w-8 h-8 text-muted-foreground"})}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"No Raffles Found"}),o.jsx("p",{className:"text-muted-foreground max-w-md",children:i})]})}):o.jsxs("div",{className:`space-y-6 ${l}`,children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("h2",{className:"text-xl font-semibold",children:[t.length," ",t.length===1?"Raffle":"Raffles"," Found"]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(c=>o.jsx(n,{raffle:c},c.id||c.address))})]}),gI=(t=[])=>{const{filterByEnhancedType:e}=Up(),[r,n]=b.useState(sb()),[i,l]=b.useState(!1),c=b.useMemo(()=>{if($m(r))return t;let D=t;r.raffleType&&r.raffleType.length>0&&(D=e(D,r.raffleType));const O={...r,raffleType:[]};return $m(O)||(D=uI(D,O)),D},[t,r,e]),d=b.useMemo(()=>!$m(r),[r]),f=b.useCallback(D=>{n(D)},[]),m=b.useCallback(()=>{n(sb())},[]),p=b.useCallback(()=>{l(D=>!D)},[]),x=b.useCallback(()=>{l(!0)},[]),C=b.useCallback(()=>{l(!1)},[]),w=b.useCallback(D=>{n(O=>({...O,raffleState:Array.isArray(D)?D:[D]}))},[]),P=b.useCallback(D=>{n(O=>({...O,raffleType:[D]}))},[]),E=b.useCallback(D=>{n(O=>({...O,prizeType:Array.isArray(D)?D:[D]}))},[]),I=b.useCallback(D=>{n(O=>({...O,prizeStandard:Array.isArray(D)?D:[D]}))},[]);return{filters:r,filteredRaffles:c,isFilterOpen:i,hasActiveFilters:d,updateFilters:f,clearFilters:m,toggleFilter:p,openFilter:x,closeFilter:C,filterByState:w,filterByType:P,filterByPrizeType:E,filterByPrizeStandard:I,totalRaffles:t.length,filteredCount:c.length}},yI=({initialCount:t=12,cacheTTLms:e=120*1e3,useCache:r=!0}={})=>{const{chainId:n,provider:i}=Ot(),[l,c]=b.useState([]),[d,f]=b.useState(!1),[m,p]=b.useState(null),x=b.useRef(!0),C=b.useMemo(()=>n?`raffle_summaries_${n}`:null,[n]),w=b.useMemo(()=>{var Y;if(i)return i;if(n&&((Y=ct[n])!=null&&Y.rpcUrl))try{return new Za(ct[n].rpcUrl)}catch{}return null},[i,n]),P=b.useCallback(()=>{var Y,q;return n&&((q=(Y=ct[n])==null?void 0:Y.contractAddresses)==null?void 0:q.raffleManager)},[n]),E=b.useCallback(()=>{if(!r||!C)return null;try{const Y=localStorage.getItem(C);if(!Y)return null;const q=JSON.parse(Y);return!(q!=null&&q.timestamp)||!Array.isArray(q==null?void 0:q.summaries)||Date.now()-q.timestamp>e?null:q.summaries}catch{return null}},[C,e,r]),I=b.useCallback(Y=>{if(!(!r||!C))try{localStorage.setItem(C,JSON.stringify({timestamp:Date.now(),summaries:Y}))}catch{}},[C,r]),D=b.useCallback(async()=>{const Y=P();if(!Y||!w)throw new Error("RaffleManager not available");return(await new kt(Y,St.raffleManager,w).getAllRaffles()||[]).slice().reverse()},[P,w]),O=(Y,q)=>{let R;return Promise.race([Y.finally(()=>clearTimeout(R)),new Promise((h,v)=>R=setTimeout(()=>v(new Error("timeout")),q))])},S=b.useCallback((Y,{name:q,startTime:R,duration:h,ticketPrice:v,ticketLimit:A,winnersCount:_,stateNum:j})=>({id:Y,address:Y,chainId:n,name:q,startTime:R!=null&&R.toNumber?R.toNumber():Number(R||0),duration:h!=null&&h.toNumber?h.toNumber():Number(h||0),ticketPrice:v,ticketLimit:A!=null&&A.toNumber?A.toNumber():Number(A||0),winnersCount:_!=null&&_.toNumber?_.toNumber():Number(_||0),stateNum:j!=null&&j.toNumber?j.toNumber():Number(j||5),isSummary:!0}),[n]),U="0xca11bde05977b3631167028862be2a173976ca11",$=[{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bool",name:"allowFailure",type:"bool"},{internalType:"bytes",name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"}],H=b.useCallback(async()=>{if(!w)return!1;try{const Y=await w.getCode(U);return Y&&Y!=="0x"}catch{return!1}},[w]),V=b.useCallback(async Y=>{const q=new Ym(St.raffle),R=[];for(const j of Y)R.push({target:j,allowFailure:!0,callData:q.encodeFunctionData("name",[])},{target:j,allowFailure:!0,callData:q.encodeFunctionData("startTime",[])},{target:j,allowFailure:!0,callData:q.encodeFunctionData("duration",[])},{target:j,allowFailure:!0,callData:q.encodeFunctionData("ticketPrice",[])},{target:j,allowFailure:!0,callData:q.encodeFunctionData("ticketLimit",[])},{target:j,allowFailure:!0,callData:q.encodeFunctionData("winnersCount",[])},{target:j,allowFailure:!0,callData:q.encodeFunctionData("state",[])});const v=await new kt(U,$,w).callStatic.aggregate3(R,{value:0}),A=7,_=[];for(let j=0;j<Y.length;j++){const T=j*A,L=(y,F)=>{const ee=v[T+y];if(!ee||!ee.success)return null;try{return q.decodeFunctionResult(F,ee.returnData)[0]}catch{return null}},k=S(Y[j],{name:L(0,"name")||"Raffle",startTime:L(1,"startTime")||ce.from(0),duration:L(2,"duration")||ce.from(0),ticketPrice:L(3,"ticketPrice")||ce.from(0),ticketLimit:L(4,"ticketLimit")||ce.from(0),winnersCount:L(5,"winnersCount")||ce.from(0),stateNum:L(6,"state")||ce.from(5)});_.push(k)}return _},[w,S]),W=b.useCallback(async(Y,q=8e3)=>{const R=new kt(Y,St.raffle,w),[h,v,A,_,j,T,L]=await Promise.all([O(R.name(),q).catch(()=>"Raffle"),O(R.startTime(),q).catch(()=>ce.from(0)),O(R.duration(),q).catch(()=>ce.from(0)),O(R.ticketPrice(),q).catch(()=>ce.from(0)),O(R.ticketLimit(),q).catch(()=>ce.from(0)),O(R.winnersCount(),q).catch(()=>ce.from(0)),O(R.state(),q).catch(()=>ce.from(5))]);return S(Y,{name:h,startTime:v,duration:A,ticketPrice:_,ticketLimit:j,winnersCount:T,stateNum:L})},[w,S]),K=b.useCallback(async()=>{if(!(!n||!w)){f(!0),p(null);try{const q=(await D()).slice(0,Math.max(1,t));let R=[];try{await H()&&(R=await V(q))}catch{}if(!R||R.length===0){const h=[];let A=0;async function _(){if(A>=q.length)return;const T=A++;try{const L=await W(q[T]);L&&h.push(L)}catch{}await _()}const j=Array.from({length:Math.min(3,q.length)},()=>_());await Promise.all(j),R=h}R.sort((h,v)=>q.indexOf(h.address)-q.indexOf(v.address)),x.current&&(c(R),I(R))}catch(Y){x.current&&p(Y.message||"Failed to load summaries")}finally{x.current&&f(!1)}}},[n,w,t,D,H,V,W,I]),Z=b.useCallback(()=>{K()},[K]);return b.useEffect(()=>(x.current=!0,()=>{x.current=!1}),[]),b.useEffect(()=>{if(!n)return;const Y=E();Y&&Y.length&&c(Y),K()},[n,E,K]),{summaries:l,loading:d,error:m,refresh:Z}},l2=(t,e)=>{const[r,n]=b.useState(0),[i,l]=b.useState(!1),{getContractInstance:c}=Vt();return b.useEffect(()=>{(async()=>{if(!t||e!==4&&e!==7){n(0);return}l(!0);try{const f=c(t,"raffle");if(!f){n(0);return}const m=await f.winnersCount(),p=m.toNumber?m.toNumber():Number(m);n(p)}catch(f){console.warn("Failed to fetch winner count for",t,f),n(0)}finally{l(!1)}})()},[t,e,c]),{winnerCount:r,loading:i}},c2=(t,e)=>t===7?e===1?"Prize Claimed":"Prizes Claimed":null,xI=["Pending","Active","Ended","Drawing","Completed","Deleted","Activation Failed","Prizes Claimed","Unengaged"],ib=({raffle:t})=>{var h;const e=fo(),{chainId:r}=Ot(),[n,i]=b.useState(""),[l,c]=b.useState(""),[d,f]=b.useState(""),{getContractInstance:m}=Vt(),{updateCollabStatus:p,setCollabLoading:x,getCollabStatus:C}=Up(),{formatTicketPrice:w,formatPrizeAmount:P,getCurrencySymbol:E}=Ir(),[I,D]=b.useState(null),{winnerCount:O}=l2(t.address,t.stateNum),[S,U]=b.useState(null),[$,H]=b.useState(null),[V,W]=b.useState(null);b.useEffect(()=>{let v;function A(){const T=Math.floor(Date.now()/1e3);let L="",k=0;if(t.stateNum===2||t.stateNum===3||t.stateNum===4||t.stateNum===5||t.stateNum===6||t.stateNum===7||t.stateNum===8){L="Duration",k=t.duration,i(L),c(j(k));return}T<t.startTime?(L="Starts In",k=t.startTime-T):(L="Ends In",k=t.startTime+t.duration-T),i(L),c(k>0?_(k):"Ended")}function _(T){const L=Math.floor(T/86400),k=Math.floor(T%86400/3600),y=Math.floor(T%3600/60),F=T%60;let ee="";return L>0&&(ee+=`${L}d `),(k>0||L>0)&&(ee+=`${k}h `),(y>0||k>0||L>0)&&(ee+=`${y}m `),ee+=`${F}s`,ee.trim()}function j(T){const L=Math.floor(T/86400),k=Math.floor(T%86400/3600),y=Math.floor(T%3600/60);let F="";return L>0&&(F+=`${L}d `),(k>0||L>0)&&(F+=`${k}h `),(y>0||k>0||L>0)&&(F+=`${y}m`),F||(F="0m"),F.trim()}return A(),v=setInterval(A,1e3),()=>clearInterval(v)},[t]),b.useEffect(()=>{let v=!0;return(async()=>{if(t.erc20PrizeToken&&t.erc20PrizeToken!==Pe){if(window.__erc20SymbolCache||(window.__erc20SymbolCache={}),window.__erc20SymbolCache[t.erc20PrizeToken]){f(window.__erc20SymbolCache[t.erc20PrizeToken]);return}await new Promise(_=>setTimeout(_,100));try{const _=window.ethereum?new Jo(window.ethereum):Va(),j=["function symbol() view returns (string)"],L=await new kt(t.erc20PrizeToken,j,_).symbol();v&&(f(L),window.__erc20SymbolCache[t.erc20PrizeToken]=L)}catch{v&&f("TOKEN")}}})(),()=>{v=!1}},[t.erc20PrizeToken]),b.useEffect(()=>{let v=!0;async function A(){try{const _=m&&m(t.address,"raffle");if(!_){v&&D(null);return}const j=await vw(_);v&&D(j)}catch{D(null)}}A()},[t.address,m]),b.useEffect(()=>{async function v(){if(!(!t.prizeCollection||t.prizeCollection===Pe))try{const A=m(t.address,"raffle");if(!A)return;const[_,j,T]=await Promise.all([A.isExternallyPrized().catch(()=>null),A.usesCustomPrice().catch(()=>null),A.isEscrowedPrize().catch(()=>null)]);W({isExternallyPrized:_,usesCustomPrice:j,isEscrowedPrize:T})}catch{}}v()},[t.address,t.prizeCollection,m]),b.useEffect(()=>{(async()=>{if(!t||!t.prizeCollection||t.prizeCollection===Pe){U(null),H(null);return}try{let A=null,_=null,j=null;if(typeof t.standard<"u"){const T=t.standard===0?"erc721Prize":"erc1155Prize";if(A=m(t.prizeCollection,T),A){try{typeof A.name=="function"&&(_=await A.name())}catch{_=null}try{typeof A.symbol=="function"&&(j=await A.symbol())}catch{j=null}}}else try{if(A=m(t.prizeCollection,"erc721Prize"),A){try{typeof A.name=="function"&&(_=await A.name())}catch{_=null}try{typeof A.symbol=="function"&&(j=await A.symbol())}catch{j=null}}}catch{try{if(A=m(t.prizeCollection,"erc1155Prize"),A){try{typeof A.name=="function"&&(_=await A.name())}catch{_=null}try{typeof A.symbol=="function"&&(j=await A.symbol())}catch{j=null}}}catch{}}U(_),H(j)}catch{U(null),H(null)}})()},[t,m]),b.useEffect(()=>{let v=!0;const A=async()=>{if(C(t.address)!==void 0)return;x(t.address,!0);let j=!1,T=0;const L=3;for(;T<L&&v;)try{const y=m(t.address,"raffle");if(!y)throw new Error("Failed to get contract instance");const F=await y.holderTokenAddress();j=F&&F!==Pe;break}catch{T++,T>=L?j=!1:await new Promise(F=>setTimeout(F,1e3*T))}if(!v)return;let k;t.isExternallyPrized?k="nft_collab":j?k="whitelist_collab":k="not_collab",p(t.address,k)};return t.address&&m?A():p(t.address,"not_collab"),()=>{v=!1}},[t,m,C,x,p]);const K=()=>{const A=(j=>{const T=c2(j,O);return T||xI[j]||"Unknown"})(t.stateNum),_={Pending:"bg-yellow-100 text-yellow-800",Active:"bg-green-100 text-green-800",Ended:"bg-red-100 text-red-800",Drawing:"bg-purple-100 text-purple-800",Completed:"bg-blue-100 text-blue-800",Deleted:"bg-gray-200 text-gray-800","Activation Failed":"bg-red-200 text-red-900","Prizes Claimed":"bg-blue-200 text-blue-900","Prize Claimed":"bg-blue-200 text-blue-900",Unengaged:"bg-gray-100 text-gray-800",Unknown:"bg-gray-100 text-gray-800"};return o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_[A]||_.Unknown}`,children:A})},Z=()=>{if(!t.prizeCollection||t.prizeCollection===Pe)return null;V&&V.isExternallyPrized!==null?V.isExternallyPrized:t.isExternallyPrized;const v=V&&V.usesCustomPrice!==null?V.usesCustomPrice===!0:t.usesCustomPrice===!0,A=V&&V.isEscrowedPrize!==null?V.isEscrowedPrize===!0:t.isEscrowedPrize===!0,_=!A;return A&&v?"Lucky NFT Sale":A&&!v?"NFT Giveaway":_&&!v?"NFT Drop (Free Mint)":_&&v?"NFT Drop (Paid Mint)":"NFT Prize"},Y=()=>{const v=C(t.address);if(v==="nft_collab")return"NFT Collab";if(v==="whitelist_collab")return"Whitelist Collab";if(v===void 0)return"Checking...";if(t.nativePrizeAmount&&t.nativePrizeAmount.gt&&t.nativePrizeAmount.gt(0))return`${E()} Giveaway`;if(t.erc20PrizeToken&&t.erc20PrizeToken!==Pe&&t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0))return"Token Giveaway";const A=Z();return A||(t.isPrized?"Token Giveaway":"Whitelist")},q=()=>t.nativePrizeAmount&&t.nativePrizeAmount.gt&&t.nativePrizeAmount.gt(0)?P(t.nativePrizeAmount):t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0)?`${al(t.erc20PrizeAmount,18)} ${d||"TOKEN"}`:null,R=()=>{const v=t.chainId||r,A=v&&ct[v]?ct[v].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):v||"",_=A?`/${A}/raffle/${t.address}`:`/raffle/${t.address}`;e(_)};return o.jsxs("div",{className:"landing-raffle-card bg-card/80 text-foreground backdrop-blur-sm border border-border/50 rounded-xl p-4 sm:p-6 shadow-lg hover:shadow-xl hover:border-border/80 transition-all duration-300 flex flex-col h-full group w-full max-w-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 min-w-0",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold truncate flex-1 mr-2 min-w-0",children:t.name}),o.jsx("div",{className:"flex-shrink-0",children:K()})]}),o.jsxs("div",{className:"space-y-2 mb-4 min-w-0",children:[o.jsxs("div",{className:"flex justify-between items-center text-xs sm:text-sm min-w-0",children:[o.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Creator:"}),o.jsxs("span",{className:"font-mono truncate ml-2",children:[(h=t.creator)==null?void 0:h.slice(0,10),"..."]})]}),o.jsxs("div",{className:"flex justify-between items-center text-xs sm:text-sm min-w-0",children:[o.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Ticket Fee:"}),o.jsx("span",{className:"truncate ml-2",children:w(t.ticketPrice||"0")})]}),o.jsxs("div",{className:"flex justify-between items-center text-xs sm:text-sm min-w-0",children:[o.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Tickets Sold:"}),o.jsx("span",{className:"truncate ml-2",children:I!==null?`${I} / ${t.ticketLimit}`:"Loading..."})]}),o.jsxs("div",{className:"flex justify-between items-center text-xs sm:text-sm min-w-0",children:[o.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Winners:"}),o.jsx("span",{className:"truncate ml-2",children:t.winnersCount})]}),o.jsxs("div",{className:"flex justify-between items-center text-xs sm:text-sm min-w-0",children:[o.jsxs("span",{className:"text-muted-foreground flex-shrink-0",children:[n,":"]}),o.jsx("span",{className:"truncate ml-2",children:l})]}),!t.isSummary&&o.jsxs("div",{className:"flex justify-between items-center text-xs sm:text-sm min-w-0",children:[o.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Type:"}),o.jsx("span",{className:"px-2 py-1 rounded-full text-xs sm:text-sm bg-muted/20 truncate ml-2",children:Y()})]}),(()=>{var j,T,L;if(Y(),!(t.prizeCollection&&t.prizeCollection!==Pe))return null;const A=V&&V.isEscrowedPrize!==null?V.isEscrowedPrize===!0:t.isEscrowedPrize===!0,_=!A;if(A){const k=t.prizeTokenId!==void 0&&t.prizeTokenId!==null?`#${t.prizeTokenId}`:"#Unknown",y=$?`${$} ${k}`:S?`${S} ${k}`:`${(j=t.prizeCollection)==null?void 0:j.slice(0,10)}... ${k}`;return o.jsxs("div",{className:"flex justify-between items-center text-xs sm:text-sm min-w-0",children:[o.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Prize Token ID:"}),o.jsx("span",{className:`truncate ml-2 ${$||S?"":"font-mono"}`,children:y})]})}else if(_){const k=S&&S.trim()!=="";t.standard===0||t.standard;const y=t.standard===1,F=y?`${(T=t.prizeCollection)==null?void 0:T.slice(0,10)}...`:k?S:`${(L=t.prizeCollection)==null?void 0:L.slice(0,10)}...`;return o.jsxs("div",{className:"flex justify-between items-center text-xs sm:text-sm min-w-0",children:[o.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Prize Collection:"}),o.jsx("span",{className:`truncate ml-2 ${k&&!y?"":"font-mono"}`,children:F})]})}return null})(),(()=>{const v=Y();return t.prizeCollection&&t.prizeCollection!==Pe&&t.isExternallyPrized===!1?null:v==="Token Giveaway"||v.includes("Giveaway")?o.jsxs("div",{className:"flex justify-between items-center text-xs sm:text-sm min-w-0",children:[o.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Prize Amount:"}),o.jsx("span",{className:"truncate ml-2",children:q()})]}):null})()]}),o.jsx(et,{onClick:R,className:"w-full mt-auto group-hover:scale-[1.02] transition-transform duration-200 bg-[#614E41] text-white hover:bg-[#4a3a30] border-0 text-sm sm:text-base py-2 sm:py-3",children:"Visit Raffle Page"})]})},vI=()=>{const{connected:t}=Ot(),{isMobile:e}=sr();Ir();const{raffles:r,loading:n,error:i,refreshRaffles:l}=X5({autoFetch:!0,enablePolling:!0,pollingInterval:12e4,maxRaffles:null}),{summaries:c}=yI({initialCount:12}),{filters:d,filteredRaffles:f,isFilterOpen:m,hasActiveFilters:p,updateFilters:x,clearFilters:C,toggleFilter:w,filteredCount:P}=gI(r);if(!t)return o.jsxs(io,{className:"py-4",children:[o.jsxs("div",{className:`text-center ${e?"mb-6":"mb-4"}`,children:[o.jsx("h1",{className:`font-bold ${e?"text-2xl mb-3":"text-4xl mb-4"}`,children:"Fairness and Transparency, On-Chain"}),o.jsx("p",{className:`text-muted-foreground max-w-2xl mx-auto ${e?"text-base":"text-xl"}`,children:"Rafflhub hosts decentralized raffles where every draw is public, auditable, and powered by Chainlink VRF. Enter for your chance to win!"})]}),o.jsxs("div",{className:`text-center ${e?"py-8":"py-16"}`,children:[o.jsx(Mi,{className:`text-muted-foreground mx-auto mb-4 ${e?"h-12 w-12":"h-16 w-16"}`}),o.jsx("h3",{className:`font-semibold mb-2 ${e?"text-xl":"text-2xl"}`,children:"Connect Your Wallet"}),o.jsx("p",{className:`text-muted-foreground mb-6 ${e?"text-sm":"text-base"}`,children:"Please connect your wallet to view and interact with raffles on the blockchain."})]})]});const E=e&&!p&&(!r||r.length===0)&&(c==null?void 0:c.length)>0;return!E&&n?o.jsx(io,{children:o.jsx(n2,{message:"Loading raffles from blockchain...",isMobile:e})}):!E&&i?o.jsxs(io,{className:"py-8",children:[o.jsxs("div",{className:"mb-8 text-center",children:[o.jsx("h1",{className:`font-bold ${e?"text-2xl mb-3":"text-4xl mb-4"}`,children:"Fairness and Transparency, On-Chain"}),o.jsx("p",{className:`text-muted-foreground max-w-2xl mx-auto ${e?"text-base":"text-xl"}`,children:"Rafflhub hosts decentralized raffles where every draw is public, auditable, and powered by Chainlink VRF. Enter for your chance to win!"})]}),o.jsx(xg,{error:i,onRetry:l,isMobile:e,showCreateButton:!0})]}):o.jsxs(o.Fragment,{children:[o.jsx(mI,{isOpen:m,onToggle:w,filters:d,onFiltersChange:x,raffleCount:P,allRaffles:r}),o.jsx("div",{className:"min-h-screen",style:{position:"relative",zIndex:1},children:o.jsxs(io,{className:"py-4",children:[o.jsxs("div",{className:`text-center ${e?"mb-6":"mb-8"}`,children:[o.jsx("h1",{className:`font-bold ${e?"text-2xl mb-3":"text-4xl mb-4"}`,children:"Fairness and Transparency, On-Chain"}),o.jsx("p",{className:`text-muted-foreground max-w-2xl mx-auto ${e?"text-base":"text-xl"}`,children:"Rafflhub hosts decentralized raffles where every draw is public, auditable, and powered by Chainlink VRF. Enter for your chance to win!"})]}),o.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[o.jsx(pI,{onClick:w,hasActiveFilters:p}),p&&o.jsx(et,{variant:"ghost",size:"sm",onClick:C,className:"text-muted-foreground hover:text-foreground",children:"Clear All Filters"})]}),E?o.jsx(ob,{raffles:c,loading:!1,error:null,RaffleCardComponent:ib,emptyMessage:"No raffles found."}):o.jsx(ob,{raffles:f,loading:n,error:i,RaffleCardComponent:ib,emptyMessage:p?"No raffles match your current filters. Try adjusting your filter criteria.":"There are currently no raffles available on the blockchain. Check back later or create your own!"})]})})]})},vg=xe.forwardRef(({type:t="text",value:e,onChange:r,placeholder:n,className:i,disabled:l=!1,required:c=!1,min:d,max:f,step:m,onFocus:p,onBlur:x,...C},w)=>{const{isMobile:P}=sr(),E=b.useRef(null),I=b.useCallback(O=>{P&&(E.current=O.target,O.target.style.transform="translateZ(0)"),p&&p(O)},[P,p]),D=b.useCallback(O=>{P&&E.current&&(O.target.style.transform=""),x&&x(O)},[P,x]);return o.jsx("input",{ref:w,type:t,value:e,onChange:r,placeholder:n,disabled:l,required:c,min:d,max:f,step:m,className:We("w-full px-3 py-2 border border-border rounded-md bg-background","text-foreground placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent","disabled:opacity-50 disabled:cursor-not-allowed","transition-colors duration-200",P&&["text-base","min-h-[44px]","touch-manipulation"],!P&&["text-sm","min-h-[40px]"],i),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onFocus:I,onBlur:D,style:{fontSize:P?"16px":void 0,...C.style},...C})});vg.displayName="ResponsiveInput";const bI=xe.forwardRef(({value:t,onChange:e,placeholder:r,className:n,rows:i=3,disabled:l=!1,required:c=!1,...d},f)=>{const{isMobile:m}=sr();return o.jsx("textarea",{ref:f,value:t,onChange:e,placeholder:r,disabled:l,required:c,rows:i,className:We("w-full px-3 py-2 border border-border rounded-md bg-background","text-foreground placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent","disabled:opacity-50 disabled:cursor-not-allowed","transition-colors duration-200 resize-vertical",m&&["text-base","min-h-[44px]","touch-manipulation"],!m&&["text-sm"],n),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,style:{fontSize:m?"16px":void 0,...d.style},...d})});bI.displayName="ResponsiveTextarea";const ms=xe.forwardRef(({value:t,onChange:e,placeholder:r,className:n,min:i,max:l,step:c="any",disabled:d=!1,required:f=!1,...m},p)=>{const{isMobile:x}=sr();return o.jsx(vg,{ref:p,type:"number",value:t,onChange:e,placeholder:r,min:i,max:l,step:c,disabled:d,required:f,className:We("[appearance:textfield]","[&::-webkit-outer-spin-button]:appearance-none","[&::-webkit-inner-spin-button]:appearance-none",n),inputMode:x?"decimal":void 0,pattern:x?"[0-9]*":void 0,...m})});ms.displayName="ResponsiveNumberInput";const Pr=xe.forwardRef(({value:t,onChange:e,placeholder:r="0x...",className:n,disabled:i=!1,required:l=!1,...c},d)=>o.jsx(vg,{ref:d,type:"text",value:t,onChange:e,placeholder:r,disabled:i,required:l,className:We("font-mono","tracking-tight",n),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,...c}));Pr.displayName="ResponsiveAddressInput";const wI=()=>{const{connected:t,address:e}=Ot(),{getContractInstance:r,executeTransaction:n}=Vt(),[i,l]=b.useState(!1),[c,d]=b.useState({address:"",type:null,royaltyPercentage:"",royaltyRecipient:""}),[f,m]=b.useState(null),[p,x]=b.useState(!1),[C,w]=b.useState(null),[P,E]=b.useState(!1),I=($,H)=>{d(V=>({...V,[$]:H}))},D=async $=>{try{if(!$)return;const H=await $.isRevealed();w(!!H)}catch(H){console.log("Could not fetch reveal status:",H.message),w(null)}},O=async()=>{if(!c.address||!t){ne.error("Please enter a collection address and connect your wallet");return}x(!0);try{let $=null,H=null;try{const h=r(c.address,"erc721Prize");if(h)try{await h.supportsInterface("0x80ac58cd")&&($=h,H="erc721")}catch{try{await h.totalSupply(),$=h,H="erc721"}catch{}}}catch{}if(!$)try{const h=r(c.address,"erc1155Prize");if(h)try{await h.supportsInterface("0xd9b67a26")&&($=h,H="erc1155")}catch{try{await h.uri(0),$=h,H="erc1155"}catch{}}}catch{}if(!$||!H)throw new Error("Invalid collection address or unsupported contract type");d(h=>({...h,type:H}));let V="Unknown Collection",W="Unknown",K="Unknown";try{typeof $.name=="function"&&(V=await $.name())}catch{}try{typeof $.symbol=="function"&&(W=await $.symbol())}catch{}try{typeof $.owner=="function"&&(K=await $.owner())}catch{}const Z=K!=="Unknown"&&K.toLowerCase()===e.toLowerCase(),Y=await $.royaltyInfo(1,1e4),q=await $.royaltyPercentage(),R=await $.royaltyRecipient();m({address:c.address,name:V,symbol:W,owner:K,type:H,isOwner:Z,currentRoyaltyPercentage:q.toString(),currentRoyaltyRecipient:R,royaltyAmount:Y[1].toString()}),d(h=>({...h,royaltyPercentage:(q.toNumber()/100).toString(),royaltyRecipient:R})),await D($)}catch($){console.error("Error loading collection info:",$),ne.error("Error loading collection info: "+$.message),m(null),w(null)}finally{x(!1)}},S=async()=>{if(!t||!f){ne.error("Please connect your wallet and load collection info first");return}if(!f.isOwner){ne.error("You are not the owner of this collection");return}const $=parseFloat(c.royaltyPercentage);if(isNaN($)||$<0){ne.error("Please enter a valid royalty percentage (minimum 0%)");return}if(!c.royaltyRecipient){ne.error("Please enter a royalty recipient address");return}l(!0);try{const H=c.type==="erc721"?"erc721Prize":"erc1155Prize",V=r(c.address,H);if(!V)throw new Error("Failed to create contract instance");const W=Math.floor($*100),K=await n(V.setRoyalty,W,c.royaltyRecipient);if(K.success)ne.success(`Royalty updated successfully! Transaction: ${K.hash}`),await O();else throw new Error(K.error)}catch(H){console.error("Error updating royalty:",H),ne.error("Error updating royalty: "+H.message)}finally{l(!1)}},U=async()=>{if(!t||!f){ne.error("Please connect your wallet and load collection info first");return}E(!0);try{const $=c.type==="erc721"?"erc721Prize":"erc1155Prize",H=r(c.address,$);if(!H)throw new Error("Failed to create contract instance");const V=await n(H.reveal);if(V.success)ne.success("Collection revealed successfully!"),await O();else throw new Error(V.error)}catch($){ne.error("Error revealing collection: "+($.message||$))}finally{E(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Address"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Pr,{value:c.address,onChange:$=>I("address",$.target.value),placeholder:"0x...",className:"flex-1"}),o.jsxs("button",{onClick:O,disabled:p||!t,className:"flex items-center gap-2 px-4 py-2 h-10 bg-[#614E41] text-white rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm text-sm",title:t?c.address?"Load collection information":"Please enter a collection address":"Please connect your wallet",children:[o.jsx(Hn,{className:"h-4 w-4"}),p?"Loading...":"Load Info"]})]})]})}),f&&o.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[o.jsx("h4",{className:"font-semibold mb-3",children:"Collection Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[f.type==="erc721"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Name:"})," ",f.name]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Symbol:"})," ",f.symbol]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Type:"})," ",f.type.toUpperCase()]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Owner:"})," ",f.isOwner?"You":"Other"]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Current Royalty:"})," ",(parseInt(f.currentRoyaltyPercentage)/100).toFixed(2),"%"]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Revealed:"})," ",C===null?"Unknown":C?"Yes":"No"]})]}),o.jsxs("div",{className:"mt-3 pt-3 border-t border-border",children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"mb-1",children:o.jsx("span",{className:"font-medium",children:"Address:"})}),o.jsx("div",{className:"font-mono text-xs break-all bg-background p-2 rounded border",children:f.address})]}),o.jsxs("div",{className:"text-sm mt-2",children:[o.jsx("div",{className:"mb-1",children:o.jsx("span",{className:"font-medium",children:"Royalty Recipient:"})}),o.jsx("div",{className:"font-mono text-xs break-all bg-background p-2 rounded border",children:f.currentRoyaltyRecipient})]})]}),o.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{className:"text-sm font-medium",children:"Reveal Status:"}),o.jsx("span",{className:"text-sm font-semibold",children:C===null?"Unknown":C?"Revealed":"Not Revealed"}),o.jsx("button",{onClick:U,disabled:P||C||!f.isOwner,className:"px-4 py-2 h-10 bg-[#614E41] text-white rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm text-sm",title:f.isOwner?C?"Collection already revealed":"Reveal collection":"Only collection owner can reveal",children:P?"Revealing...":"Reveal Collection"})]})}),!f.isOwner&&o.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[o.jsx(Jt,{className:"h-4 w-4 text-destructive"}),o.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot modify royalties."})]})]}),f&&f.isOwner&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-semibold",children:"Update Royalty Settings"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Royalty Percentage (%)"}),o.jsx(ms,{min:"0",step:"0.01",value:c.royaltyPercentage,onChange:$=>I("royaltyPercentage",$.target.value),placeholder:"2.5"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Royalty Recipient"}),o.jsx(Pr,{value:c.royaltyRecipient,onChange:$=>I("royaltyRecipient",$.target.value),placeholder:"0x..."})]})]}),o.jsxs("button",{onClick:S,disabled:i||!t||!f||!f.isOwner,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",title:t?f?f.isOwner?!c.royaltyPercentage||!c.royaltyRecipient?"Please fill in all required fields":"Update royalty settings":"Only collection owner can update royalties":"Please load collection info first":"Please connect your wallet",children:[o.jsx(rp,{className:"h-4 w-4"}),i?"Updating...":"Update Royalty Settings"]})]}),!t&&o.jsx("div",{className:"text-center p-4 bg-muted rounded-lg",children:o.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to manage collection royalties."})})]})},kI=()=>{const{connected:t,address:e}=Ot(),{getContractInstance:r,executeTransaction:n}=Vt(),[i,l]=b.useState(!1),[c,d]=b.useState({address:"",revenueAmount:"0",isOwner:!1,raffleState:"unknown"}),[f,m]=b.useState(!1),[p,x]=b.useState([]),[C,w]=b.useState(!1),[P,E]=b.useState({collectionAddress:"",collectionType:"erc721",recipient:"",quantity:"",tokenId:""}),[I,D]=b.useState(!1),[O,S]=b.useState(null),[U,$]=b.useState(!1),H=(v,A)=>{d(_=>({..._,[v]:A}))},V=(v,A)=>{E(_=>({..._,[v]:A}))},W=async()=>{if(!P.collectionAddress||!t){ne.error("Please enter a collection address and connect your wallet");return}$(!0);try{let v=null,A=null;try{const k=r(P.collectionAddress,"erc721Prize");if(k)try{await k.supportsInterface("0x80ac58cd")&&(v=k,A="erc721")}catch{try{await k.totalSupply(),v=k,A="erc721"}catch{}}}catch{}if(!v)try{const k=r(P.collectionAddress,"erc1155Prize");if(k)try{await k.supportsInterface("0xd9b67a26")&&(v=k,A="erc1155")}catch{try{await k.uri(0),v=k,A="erc1155"}catch{}}}catch{}if(!v||!A)throw new Error("Invalid collection address or unsupported contract type");E(k=>({...k,collectionType:A}));let _="Unknown Collection",j="Unknown",T="Unknown";try{typeof v.name=="function"&&(_=await v.name())}catch{}try{typeof v.symbol=="function"&&(j=await v.symbol())}catch{}try{typeof v.owner=="function"&&(T=await v.owner())}catch{}const L=T!=="Unknown"&&T.toLowerCase()===e.toLowerCase();S({name:_,symbol:j,owner:T,type:A,isOwner:L}),A==="erc1155"?ne.success("Collection loaded"):ne.success(`Collection loaded: ${_} (${A.toUpperCase()})`)}catch(v){console.error("Error loading collection info:",v),ne.error("Failed to load collection information: "+v.message),S(null)}finally{$(!1)}},K=async()=>{if(!t||!O){ne.error("Please connect your wallet and load collection info first");return}if(!O.isOwner){ne.error("You are not the owner of this collection");return}if(!P.recipient||!P.quantity){ne.error("Please fill in recipient address and quantity");return}if(P.collectionType==="erc1155"&&!P.tokenId){ne.error("Please specify token ID for ERC1155 minting");return}const v=parseInt(P.quantity);if(isNaN(v)||v<=0){ne.error("Please enter a valid quantity");return}D(!0);try{const A=P.collectionType==="erc721"?"erc721Prize":"erc1155Prize",_=r(P.collectionAddress,A);if(!_)throw new Error("Failed to create contract instance");let j;if(P.collectionType==="erc721")j=await n(_.creatorMint,P.recipient,v);else{const T=parseInt(P.tokenId);if(isNaN(T))throw new Error("Invalid token ID");j=await n(_.creatorMint,P.recipient,T,v)}if(j.success)ne.success(`Successfully minted ${v} token(s)! Transaction: ${j.hash}`),E(T=>({...T,recipient:"",quantity:"",tokenId:""}));else throw new Error(j.error)}catch(A){console.error("Error minting tokens:",A),ne.error("Error minting tokens: "+A.message)}finally{D(!1)}},Z=async v=>{if(!v||!t){ne.error("Please enter a raffle address and connect your wallet");return}m(!0);try{const A=r(v,"raffle");if(!A)throw new Error("Failed to create raffle contract instance");const[_,j,T]=await Promise.all([A.creator(),A.totalCreatorRevenue(),A.state()]),L=_.toLowerCase()===e.toLowerCase(),y=["Pending","Active","Ended","Drawing","Completed","Deleted","ActivationFailed","AllPrizesClaimed","Unengaged"][T]||"Unknown";d({address:v,revenueAmount:Cr(j),isCreator:L,raffleState:y,totalRevenue:j})}catch(A){console.error("Error loading raffle info:",A),ne.error("Error loading raffle info: "+A.message),d({address:v,revenueAmount:"0",isCreator:!1,raffleState:"error"})}finally{m(!1)}},Y=async()=>{if(t){w(!0);try{x([])}catch(v){console.error("Error loading created raffles:",v)}finally{w(!1)}}},q=async()=>{if(!t||!c.address){ne.error("Please connect your wallet and load raffle info first");return}if(!c.isCreator){ne.error("You are not the creator of this raffle");return}if(parseFloat(c.revenueAmount)<=0){ne.info("No revenue available for withdrawal");return}if(!["Completed","AllPrizesClaimed","Ended"].includes(c.raffleState)){ne.info(`Revenue can only be withdrawn from completed raffles. Current state: ${c.raffleState}`);return}l(!0);try{const A=r(c.address,"raffle");if(!A)throw new Error("Failed to create raffle contract instance");const _=await n(A.withdrawCreatorRevenue);if(_.success)ne.success(`Revenue withdrawn successfully! Transaction: ${_.hash}`),await Z(c.address);else throw new Error(_.error)}catch(A){console.error("Error withdrawing revenue:",A),ne.error("Error withdrawing revenue: "+A.message)}finally{l(!1)}};b.useEffect(()=>{t&&Y()},[t]);const R=v=>{switch(v){case"Completed":case"AllPrizesClaimed":return"text-green-600";case"Ended":return"text-red-600";case"Active":return"text-blue-600";case"Pending":return"text-yellow-600";case"Drawing":return"text-purple-600";default:return"text-muted-foreground"}},h=c.isCreator&&parseFloat(c.revenueAmount)>0&&["Completed","AllPrizesClaimed","Ended"].includes(c.raffleState);return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Raffle Contract Address"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Pr,{value:c.address,onChange:v=>H("address",v.target.value),placeholder:"0x...",className:"flex-1"}),o.jsxs("button",{onClick:()=>Z(c.address),disabled:f||!t,className:"flex items-center gap-2 px-4 py-2 h-10 bg-[#614E41] text-white rounded-md hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",title:t?c.address?"Load raffle information":"Please enter a raffle address":"Please connect your wallet",children:[o.jsx(Oi,{className:`h-4 w-4 ${f?"animate-spin":""}`}),f?"Loading...":"Load Info"]})]})]})}),c.address&&c.raffleState!=="unknown"&&o.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[o.jsx("h4",{className:"font-semibold mb-3",children:"Raffle Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Address:"}),o.jsx("div",{className:"font-mono break-all",children:c.address})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"State:"}),o.jsx("div",{className:`font-semibold ${R(c.raffleState)}`,children:c.raffleState})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Creator Revenue:"}),o.jsxs("div",{className:"font-semibold",children:[c.revenueAmount," ETH"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Your Role:"}),o.jsxs("div",{className:"flex items-center gap-2",children:[c.isCreator&&o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:[o.jsx(gs,{className:"h-3 w-3"}),"Creator"]}),c.isOwner&&o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:[o.jsx(gs,{className:"h-3 w-3"}),"Owner"]}),!c.isCreator&&!c.isOwner&&o.jsx("span",{className:"text-muted-foreground text-xs",children:"No special role"})]})]})]}),!c.isCreator&&o.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[o.jsx(Jt,{className:"h-4 w-4 text-destructive"}),o.jsx("span",{className:"text-sm text-destructive",children:"You are not the creator of this raffle and cannot withdraw revenue."})]}),c.isCreator&&parseFloat(c.revenueAmount)<=0&&o.jsxs("div",{className:"mt-3 p-3 bg-yellow-50/80 dark:bg-yellow-900/20 backdrop-blur-sm border border-yellow-200/50 dark:border-yellow-700/50 rounded-lg flex items-center gap-2",children:[o.jsx(Jt,{className:"h-4 w-4 text-yellow-600"}),o.jsx("span",{className:"text-sm text-yellow-800",children:"No revenue available for withdrawal."})]}),c.isCreator&&!["Completed","AllPrizesClaimed","Ended"].includes(c.raffleState)&&o.jsxs("div",{className:"mt-3 p-3 bg-blue-50/80 dark:bg-blue-900/20 backdrop-blur-sm border border-blue-200/50 dark:border-blue-700/50 rounded-lg flex items-center gap-2",children:[o.jsx(Jt,{className:"h-4 w-4 text-blue-600"}),o.jsx("span",{className:"text-sm text-blue-800",children:"Revenue can only be withdrawn from completed raffles."})]}),h&&o.jsxs("div",{className:"mt-3 p-3 bg-green-50/80 dark:bg-green-900/20 backdrop-blur-sm border border-green-200/50 dark:border-green-700/50 rounded-lg flex items-center gap-2",children:[o.jsx(gs,{className:"h-4 w-4 text-green-600"}),o.jsx("span",{className:"text-sm text-green-800",children:"Revenue is available for withdrawal!"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("button",{onClick:q,disabled:i||!t||!h,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",title:t?c.address?c.raffleState==="unknown"?"Raffle state unknown":c.isCreator?h?`Withdraw ${c.revenueAmount} ETH`:"Withdrawal not available - check raffle state and revenue amount":"Only raffle creator can withdraw revenue":"Please load raffle info first":"Please connect your wallet",children:[o.jsx(gc,{className:"h-4 w-4"}),i?"Withdrawing...":c.address&&c.revenueAmount?`Withdraw ${c.revenueAmount} ETH`:"Withdraw Revenue"]}),!h&&c.isCreator&&c.address&&o.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Withdrawal is not available at this time. Check the raffle state and revenue amount."})]}),!t&&o.jsx("div",{className:"text-center p-4 bg-muted rounded-lg",children:o.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to withdraw creator revenue."})}),o.jsxs("div",{className:"space-y-4 border-t border-border pt-6",children:[o.jsx("div",{className:"mb-4",children:o.jsx("h3",{className:"text-lg font-semibold",children:"Creator Mint"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Contract Address"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Pr,{value:P.collectionAddress,onChange:v=>V("collectionAddress",v.target.value),placeholder:"0x...",className:"flex-1"}),o.jsxs("button",{onClick:W,disabled:U||!t,className:"flex items-center gap-2 px-4 py-2 h-10 bg-[#614E41] text-white rounded-md hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:[o.jsx(Oi,{className:`h-4 w-4 ${U?"animate-spin":""}`}),U?"Loading...":"Load Info"]})]})]}),O&&o.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[O.type==="erc721"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Name:"})," ",O.name]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Symbol:"})," ",O.symbol]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Type:"})," ",O.type.toUpperCase()]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Owner:"})," ",O.isOwner?"You":"Other"]})]}),!O.isOwner&&o.jsxs("div",{className:"mt-2 p-2 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[o.jsx(Jt,{className:"h-4 w-4 text-destructive"}),o.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot mint tokens."})]})]}),O&&O.isOwner&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Recipient Address"}),o.jsx(Pr,{value:P.recipient,onChange:v=>V("recipient",v.target.value),placeholder:"0x..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity"}),o.jsx("input",{type:"number",value:P.quantity,onChange:v=>V("quantity",v.target.value),placeholder:"1",min:"1",className:"w-full px-3 py-2 border border-border rounded-md bg-background"})]})]}),O.type==="erc1155"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token ID"}),o.jsx("input",{type:"number",value:P.tokenId,onChange:v=>V("tokenId",v.target.value),placeholder:"1",min:"0",className:"w-full px-3 py-2 border border-border rounded-md bg-background"})]}),o.jsxs("button",{onClick:K,disabled:I||!t||!O.isOwner||!P.recipient||!P.quantity||O.type==="erc1155"&&!P.tokenId,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm",children:[o.jsx(ZP,{className:"h-4 w-4"}),I?"Minting...":`Mint ${O.type.toUpperCase()} Token(s)`]})]})]})]})]})};var NI="Label",u2=b.forwardRef((t,e)=>o.jsx(ut.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));u2.displayName=NI;var CI=u2;function Oa({className:t,...e}){return o.jsx(CI,{"data-slot":"label",className:We("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const EI=ag("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-red-600 dark:text-red-500 bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-red-600/90"}},defaultVariants:{variant:"default"}});function td({className:t,variant:e,...r}){return o.jsx("div",{"data-slot":"alert",role:"alert",className:We(EI({variant:e}),t),...r})}function rd({className:t,...e}){return o.jsx("div",{"data-slot":"alert-description",className:We("text-gray-500 dark:text-gray-400 col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}const AI=()=>{const{address:t,connected:e,provider:r}=Ot(),{getContractInstance:n}=Vt(),[i,l]=b.useState(!1),[c,d]=b.useState(""),[f,m]=b.useState(""),[p,x]=b.useState(""),[C,w]=b.useState(!1),[P,E]=b.useState(!1),[I,D]=b.useState(""),[O,S]=b.useState(""),[U,$]=b.useState(""),[H,V]=b.useState(""),[W,K]=b.useState(""),[Z,Y]=b.useState(null),q=async()=>{if(S(""),$(""),m(""),E(!1),D(""),w(!1),V(""),K(""),Y(null),!Kl(c)){S("Please enter a valid Ethereum contract address.");return}if(!r){S("Provider not available.");return}try{l(!0);let _=new kt(c,St.erc721Prize,r),j=!1;try{const T=await _.minterLocked();E(T);const L=await _.minter();D(L),Y("erc721"),j=!0}catch{_=new kt(c,St.erc1155Prize,r);try{const L=await _.minterLocked();E(L);const k=await _.minter();D(k),Y("erc1155")}catch(L){S("Failed to fetch collection: "+L.message),Y(null);return}}if(j){try{if(typeof _.name=="function"){const T=await _.name();V(T)}else V("N/A")}catch{V("N/A")}try{if(typeof _.symbol=="function"){const T=await _.symbol();K(T)}else K("N/A")}catch{K("N/A")}}else V("ERC1155 Collection"),K("N/A");m(c)}catch(_){S("Failed to fetch collection: "+_.message)}finally{l(!1)}};xe.useEffect(()=>{f&&p&&Kl(p)&&r&&R()},[p,f]);const R=async()=>{try{l(!0),S("");const j=await new kt(f,St.erc721Prize,r).minter();w(j.toLowerCase()===p.toLowerCase()),D(j)}catch(_){S("Failed to load collection details: "+_.message)}finally{l(!1)}},h=async _=>{if(!f||!p||!r){ne.error("Please fetch a collection and enter a valid minter address");return}if(!Kl(p)){ne.error("Please enter a valid Ethereum address");return}try{l(!0),S(""),$("");const j=r.getSigner();let T;Z==="erc721"?T=new kt(f,St.erc721Prize,j):Z==="erc1155"&&(T=new kt(f,St.erc1155Prize,j));let L;Z==="erc721"?L=await T.setMinterApproval(p,_):Z==="erc1155"&&(L=await T.setMinterApproval(p,_)),await L.wait(),ne.success(`Minter ${_?"set":"removed"} successfully!`),w(_),x("")}catch(j){ne.error(`Failed to set minter approval: ${zi(j)}`)}finally{l(!1)}},v=async()=>{if(!f||!r){ne.error("Please fetch a collection first");return}try{l(!0),S(""),$("");const _=r.getSigner();let j;Z==="erc721"?j=new kt(f,St.erc721Prize,_):Z==="erc1155"&&(j=new kt(f,St.erc1155Prize,_));let T;try{if(typeof j.owner=="function")T=await j.owner();else{ne.error("Contract does not support owner functionality");return}}catch{ne.error("Failed to get contract owner");return}const L=await _.getAddress();if(T.toLowerCase()!==L.toLowerCase()){ne.error("Only the contract owner can lock/unlock minter approval");return}let k;Z==="erc721"?P?(console.log("Attempting to unlock minter approval..."),k=await j.unlockMinterApproval()):(console.log("Attempting to lock minter approval..."),k=await j.lockMinterApproval()):Z==="erc1155"&&(P?(console.log("Attempting to unlock minter approval..."),k=await j.unlockMinterApproval()):(console.log("Attempting to lock minter approval..."),k=await j.lockMinterApproval())),console.log("Transaction sent:",k.hash),await k.wait(),ne.success(`Minter approval ${P?"unlocked":"locked"} successfully!`),E(!P)}catch(_){console.error("Error in toggleMinterApprovalLock:",_),ne.error(`Failed to ${P?"unlock":"lock"} minter approval: ${zi(_)}`)}finally{l(!1)}},A=_=>Kl(_);return e?o.jsxs(tn,{children:[o.jsxs(ao,{children:[o.jsxs(lo,{className:"flex items-center gap-2",children:[o.jsx(Ka,{className:"h-5 w-5"}),"Minter Approval Management"]}),o.jsx(vp,{children:"Manage and control minter approvals for your prize collections."})]}),o.jsxs(rn,{className:"space-y-6",children:[!e&&o.jsxs(td,{variant:"destructive",children:[o.jsx(Jt,{className:"h-4 w-4"}),o.jsx(rd,{children:"Please connect your wallet to load collection info and manage minter approvals."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oa,{htmlFor:"collection-address",children:"Collection Contract Address"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Pr,{id:"collection-address",placeholder:"0x...",value:c,onChange:_=>d(_.target.value),disabled:i||!e,className:"flex-1"}),o.jsxs(et,{onClick:q,disabled:i,className:"flex items-center gap-2 h-10 bg-[#614E41] text-white hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",title:e?c?"Load collection information":"Please enter a collection address":"Please connect your wallet",children:[o.jsx(Hn,{className:"h-4 w-4"}),i?"Loading...":"Load Info"]})]})]}),f&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oa,{children:"Collection Info"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{className:"font-semibold",children:H}),o.jsxs("span",{className:"text-muted-foreground",children:["(",W,")"]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oa,{children:"Collection Status"}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(oc,{variant:P?"destructive":"default",children:P?o.jsxs(o.Fragment,{children:[o.jsx(Sv,{className:"h-3 w-3 mr-1"}),"Minter Approval Locked"]}):o.jsxs(o.Fragment,{children:[o.jsx(Tv,{className:"h-3 w-3 mr-1"}),"Minter Approval Unlocked"]})})}),I&&o.jsxs("div",{className:"mt-2",children:[o.jsx(Oa,{className:"text-sm",children:"Current Minter"}),o.jsx("p",{className:"text-sm font-mono bg-muted p-2 rounded",children:I})]})]}),o.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oa,{htmlFor:"minter",children:"Minter Address"}),o.jsx(Pr,{id:"minter",placeholder:"0x...",value:p,onChange:_=>x(_.target.value),disabled:i}),p&&!A(p)&&o.jsx("p",{className:"text-sm text-red-600",children:"Invalid Ethereum address"})]}),p&&A(p)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Oa,{children:"Current Status"}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(oc,{variant:C?"default":"secondary",children:C?o.jsxs(o.Fragment,{children:[o.jsx(gs,{className:"h-3 w-3 mr-1"}),"Is Current Minter"]}):o.jsxs(o.Fragment,{children:[o.jsx(Jt,{className:"h-3 w-3 mr-1"}),"Not Current Minter"]})})}),C&&o.jsx("p",{className:"text-sm text-green-600",children:"This address is currently the minter for this collection."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[o.jsxs(et,{onClick:()=>h(!0),disabled:i||C||P,className:"flex-1 bg-[#614E41] text-white hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:p?A(p)?C?"Address is already the minter":P?"Minter approval is locked":"Set as minter":"Please enter a valid address":"Please enter a minter address",children:[i?o.jsx(gd,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(Ka,{className:"h-4 w-4 mr-2"}),"Set Minter"]}),o.jsxs(et,{onClick:()=>h(!1),disabled:i||!C||P,className:"flex-1 bg-[#614E41] text-white hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:p?A(p)?C?P?"Minter approval is locked":"Remove minter":"Address is not currently the minter":"Please enter a valid address":"Please enter a minter address",children:[i?o.jsx(gd,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(JP,{className:"h-4 w-4 mr-2"}),"Remove Minter"]})]}),o.jsxs(et,{onClick:v,disabled:i,variant:P?"default":"outline",className:`w-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${P?"bg-[#614E41] text-white hover:bg-[#4a3a30]":"border-[#614E41] text-[#614E41] hover:bg-[#614E41]/10"}`,title:P?"Unlock minter approval to allow changes":"Lock minter approval to prevent changes",children:[i?o.jsx(gd,{className:"h-4 w-4 mr-2 animate-spin"}):P?o.jsx(Tv,{className:"h-4 w-4 mr-2"}):o.jsx(Sv,{className:"h-4 w-4 mr-2"}),P?"Unlock Minter Approval":"Lock Minter Approval"]})]})]}),O&&o.jsxs(td,{variant:"destructive",children:[o.jsx(Jt,{className:"h-4 w-4"}),o.jsx(rd,{children:O})]}),U&&o.jsxs(td,{children:[o.jsx(gs,{className:"h-4 w-4"}),o.jsx(rd,{children:U})]})]})]}):o.jsxs(tn,{children:[o.jsxs(ao,{children:[o.jsxs(lo,{className:"flex items-center gap-2",children:[o.jsx(Ka,{className:"h-5 w-5"}),"Minter Approval Management"]}),o.jsx(vp,{children:"Please connect your wallet to manage minter approvals."})]}),o.jsx(rn,{children:o.jsxs(td,{children:[o.jsx(Jt,{className:"h-4 w-4"}),o.jsx(rd,{children:"Please connect your wallet to manage minter approvals."})]})})]})};var xf="Tabs",[SI,__]=go(xf,[mf]),d2=mf(),[TI,bg]=SI(xf),f2=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:l,orientation:c="horizontal",dir:d,activationMode:f="automatic",...m}=t,p=Zd(d),[x,C]=Ui({prop:n,onChange:i,defaultProp:l??"",caller:xf});return o.jsx(TI,{scope:r,baseId:Os(),value:x,onValueChange:C,orientation:c,dir:p,activationMode:f,children:o.jsx(ut.div,{dir:p,"data-orientation":c,...m,ref:e})})});f2.displayName=xf;var h2="TabsList",m2=b.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,l=bg(h2,r),c=d2(r);return o.jsx(kk,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:n,children:o.jsx(ut.div,{role:"tablist","aria-orientation":l.orientation,...i,ref:e})})});m2.displayName=h2;var p2="TabsTrigger",g2=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...l}=t,c=bg(p2,r),d=d2(r),f=v2(c.baseId,n),m=b2(c.baseId,n),p=n===c.value;return o.jsx(Nk,{asChild:!0,...d,focusable:!i,active:p,children:o.jsx(ut.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":m,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:f,...l,ref:e,onMouseDown:Ue(t.onMouseDown,x=>{!i&&x.button===0&&x.ctrlKey===!1?c.onValueChange(n):x.preventDefault()}),onKeyDown:Ue(t.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&c.onValueChange(n)}),onFocus:Ue(t.onFocus,()=>{const x=c.activationMode!=="manual";!p&&!i&&x&&c.onValueChange(n)})})})});g2.displayName=p2;var y2="TabsContent",x2=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:l,...c}=t,d=bg(y2,r),f=v2(d.baseId,n),m=b2(d.baseId,n),p=n===d.value,x=b.useRef(p);return b.useEffect(()=>{const C=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(C)},[]),o.jsx(yo,{present:i||p,children:({present:C})=>o.jsx(ut.div,{"data-state":p?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":f,hidden:!C,id:m,tabIndex:0,...c,ref:e,style:{...t.style,animationDuration:x.current?"0s":void 0},children:C&&l})})});x2.displayName=y2;function v2(t,e){return`${t}-trigger-${e}`}function b2(t,e){return`${t}-content-${e}`}var PI=f2,jI=m2,RI=g2,MI=x2;function II({className:t,...e}){return o.jsx(PI,{"data-slot":"tabs",className:We("flex flex-col gap-2",t),...e})}function _I({className:t,...e}){return o.jsx(jI,{"data-slot":"tabs-list",className:We("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...e})}function nd({className:t,...e}){return o.jsx(RI,{"data-slot":"tabs-trigger",className:We("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function sd({className:t,...e}){return o.jsx(MI,{"data-slot":"tabs-content",className:We("flex-1 outline-none",t),...e})}function DI({...t}){return o.jsx(dk,{"data-slot":"dialog",...t})}function zI({...t}){return o.jsx(fk,{"data-slot":"dialog-trigger",...t})}function LI({...t}){return o.jsx(hk,{"data-slot":"dialog-portal",...t})}function OI({className:t,...e}){return o.jsx(mk,{"data-slot":"dialog-overlay",className:We("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function FI({className:t,children:e,...r}){return o.jsxs(LI,{"data-slot":"dialog-portal",children:[o.jsx(OI,{}),o.jsxs(pk,{"data-slot":"dialog-content",className:We("bg-card/90 backdrop-blur-md text-card-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-xl border border-border/50 p-6 shadow-2xl duration-200 sm:max-w-lg",t),...r,children:[e,o.jsxs(m3,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none text-muted-foreground hover:text-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[o.jsx(Gp,{}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function BI({className:t,...e}){return o.jsx("div",{"data-slot":"dialog-header",className:We("flex flex-col gap-2 text-center sm:text-left",t),...e})}function UI({className:t,...e}){return o.jsx(gk,{"data-slot":"dialog-title",className:We("text-lg leading-none font-semibold text-foreground",t),...e})}const $I=({title:t,description:e,icon:r,component:n,defaultExpanded:i=!1,className:l="",isExpanded:c,onToggle:d,...f})=>{const[m,p]=b.useState(i),x=c!==void 0?c:m,{isMobile:C,isTablet:w,isDesktop:P}=sr(),[E,I]=b.useState(!1),D=()=>{d?d():p(!m)},O=()=>{I(!0)};return o.jsxs(tn,{"data-dashboard-card":"true",className:We("relative transition-all duration-300 ease-in-out",C&&"w-full",w&&"w-full",x&&["ring-2 ring-primary/20","shadow-lg",C&&"mb-4"],l),children:[o.jsxs(ao,{className:We("pb-3",C&&"pb-2"),children:[o.jsxs(lo,{className:We("flex items-center gap-2",C?"text-base":"text-lg"),children:[o.jsx("span",{className:"flex-1",children:t}),o.jsx(et,{variant:"ghost",size:"sm",onClick:D,className:We("ml-auto p-1 h-auto",C&&"p-2"),"aria-label":x?`Collapse ${t}`:`Expand ${t}`,children:x?o.jsx(pc,{className:We(C?"h-5 w-5":"h-4 w-4")}):o.jsx(Li,{className:We(C?"h-5 w-5":"h-4 w-4")})})]}),o.jsx(vp,{className:We("text-muted-foreground","text-sm"),children:e})]}),o.jsxs(rn,{className:We("pt-0",C&&"px-4 pb-4"),children:[P&&o.jsxs(DI,{open:E,onOpenChange:I,children:[o.jsx(zI,{asChild:!0,children:o.jsxs(et,{onClick:O,className:We("w-full bg-[#614E41] text-white","hover:bg-[#4a3a30] transition-all duration-200","shadow-sm hover:shadow-md h-10 text-sm"),children:[o.jsx($P,{className:"mr-2 h-4 w-4"}),"Open ",t]})}),o.jsxs(FI,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsx(BI,{children:o.jsx(UI,{className:"text-xl font-semibold",children:t})}),o.jsx("div",{className:"mt-4",children:n&&o.jsx(n,{})})]})]}),!P&&o.jsxs(o.Fragment,{children:[o.jsx(et,{onClick:D,className:We("w-full bg-[#614E41] text-white","hover:bg-[#4a3a30] transition-all duration-200","shadow-sm hover:shadow-md",C?"h-12 text-base":"h-10 text-sm",x&&"mb-4"),children:x?o.jsxs(o.Fragment,{children:[o.jsx(pc,{className:We("mr-2",C?"h-5 w-5":"h-4 w-4")}),"Close ",t]}):o.jsxs(o.Fragment,{children:[o.jsx(Li,{className:We("mr-2",C?"h-5 w-5":"h-4 w-4")}),"Open ",t]})}),x&&o.jsx("div",{className:We("transition-all duration-300 ease-in-out",C?"mobile-component-container":"desktop-component-container"),children:o.jsx("div",{className:We("border border-border rounded-lg p-4 bg-muted/30",C&&"p-3"),children:n&&o.jsx(n,{})})})]})]})]})},WI=()=>{const{connected:t,address:e}=Ot(),{getContractInstance:r,executeTransaction:n}=Vt(),{isMobile:i}=sr(),[l,c]=b.useState(!1),[d,f]=b.useState({address:""}),[m,p]=b.useState({tokenId:"",maxSupply:""}),[x,C]=b.useState({tokenId:"",tokenURI:""}),[w,P]=b.useState(null),[E,I]=b.useState(!1),D=(W,K)=>{f(Z=>({...Z,[W]:K}))},O=(W,K)=>{p(Z=>({...Z,[W]:K}))},S=(W,K)=>{C(Z=>({...Z,[W]:K}))},U=async W=>{try{const K=r(W,"erc1155Prize");if(K)try{if(await K.supportsInterface("0xd9b67a26"))return{type:"erc1155",contract:K}}catch{try{return await K.balanceOf(W,0),{type:"erc1155",contract:K}}catch{}}const Z=r(W,"erc721Prize");if(Z)try{if(await Z.supportsInterface("0x80ac58cd"))return{type:"erc721",contract:Z}}catch{try{return await Z.balanceOf(W),{type:"erc721",contract:Z}}catch{}}throw new Error("Contract does not support ERC721 or ERC1155 interfaces")}catch(K){throw console.error("Contract type detection error:",K),new Error("Unable to determine contract type. Please verify the contract address.")}},$=async()=>{if(!d.address||!t){ne.error("Please enter a collection address and connect your wallet");return}I(!0);try{const{type:W,contract:K}=await U(d.address);if(W!=="erc1155"){ne.error("❌ This component is only for ERC1155 collections. The provided address appears to be an ERC721 collection. Please use the appropriate component for ERC721 collections."),P({address:d.address,isOwner:!1,owner:"N/A",type:"erc721",isBlocked:!0}),I(!1);return}const Z=await K.owner(),Y=Z.toLowerCase()===e.toLowerCase();P({address:d.address,isOwner:Y,owner:Z,type:"erc1155"}),Y?ne.success("ERC1155 collection loaded successfully"):ne.error("You are not the owner of this collection")}catch(W){console.error("Error loading collection info:",W),ne.error("Failed to load collection info. Please verify the address is a valid ERC1155 collection."),P(null)}finally{I(!1)}},H=async()=>{if(!t||!e){ne.error("Please connect your wallet");return}if(!w||!w.isOwner||w.isBlocked){w!=null&&w.isBlocked?ne.error("This component only works with ERC1155 collections. The provided address is an ERC721 collection."):ne.error("Please load collection info first and ensure you are the owner");return}if(!m.tokenId||!m.maxSupply){ne.error("Please fill in all required fields");return}const W=parseInt(m.tokenId),K=parseInt(m.maxSupply);if(isNaN(W)||W<0){ne.error("Please enter a valid token ID (non-negative integer)");return}if(isNaN(K)||K<=0){ne.error("Please enter a valid max supply (positive integer)");return}c(!0);try{const Z=r(d.address,"erc1155Prize"),Y=await n(Z,"createNewToken",[W,K],{description:`Creating new token ID ${W} with max supply ${K}`,successMessage:`Token ID ${W} created successfully!`});if(Y.success)ne.success(`Token ID ${W} created successfully with max supply of ${K}!`),p({tokenId:"",maxSupply:""});else throw new Error(Y.error)}catch(Z){console.error("Error creating new token:",Z),ne.error(`Failed to create new token: ${Z.message}`)}finally{c(!1)}},V=async()=>{if(!t||!e){ne.error("Please connect your wallet");return}if(!w||!w.isOwner||w.isBlocked){w!=null&&w.isBlocked?ne.error("This component only works with ERC1155 collections. The provided address is an ERC721 collection."):ne.error("Please load collection info first and ensure you are the owner");return}if(!x.tokenId||!x.tokenURI){ne.error("Please fill in all required fields");return}const W=parseInt(x.tokenId);if(isNaN(W)||W<0){ne.error("Please enter a valid token ID (non-negative integer)");return}c(!0);try{const K=r(d.address,"erc1155Prize"),Z=await n(K,"setURI",[W,x.tokenURI.trim()],{description:`Setting URI for token ID ${W}`,successMessage:`URI set successfully for token ID ${W}!`});if(Z.success)ne.success(`URI set successfully for token ID ${W}!`),C({tokenId:"",tokenURI:""});else throw new Error(Z.error)}catch(K){console.error("Error setting URI:",K),ne.error(`Failed to set URI: ${K.message}`)}finally{c(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Collection Address"}),o.jsx(Pr,{value:d.address,onChange:W=>D("address",W.target.value),placeholder:"0x..."})]}),o.jsxs("button",{onClick:$,disabled:E||!t,className:"flex items-center gap-2 px-4 py-2 h-10 bg-[#614E41] text-white rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm text-sm",title:t?d.address?"Load collection information":"Please enter a collection address":"Please connect your wallet",children:[o.jsx(Hn,{className:"h-4 w-4"}),E?"Loading...":"Load Collection Info"]})]}),w&&o.jsxs("div",{className:`p-4 rounded-lg border ${w.isBlocked?"bg-destructive/10 border-destructive/20":"bg-muted/50"}`,children:[o.jsx("h4",{className:"text-sm text-muted-foreground mb-2",children:"Collection Information"}),o.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Address:"})," ",w.address]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Owner:"})," ",w.owner]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-muted-foreground",children:"You are owner:"})," ",w.isOwner?"✅ Yes":"❌ No"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Type:"})," ",w.type==="erc721"?"❌ ERC721 Collection (Incompatible)":"✅ ERC1155 Collection"]})]}),w.isBlocked&&o.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[o.jsx(Jt,{className:"h-4 w-4 text-destructive"}),o.jsx("span",{className:"text-sm text-destructive",children:"This component only works with ERC1155 collections. The provided address is an ERC721 collection. Please use the appropriate component for ERC721 collections."})]}),!w.isBlocked&&!w.isOwner&&o.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[o.jsx(Jt,{className:"h-4 w-4 text-destructive"}),o.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot create new tokens."})]})]}),w&&w.isOwner&&!w.isBlocked&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-sm text-muted-foreground",children:"Create New Token ID"}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Token ID"}),o.jsx(ms,{min:"0",value:m.tokenId,onChange:W=>O("tokenId",W.target.value),placeholder:"0"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Unique identifier for the new token"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Max Supply"}),o.jsx(ms,{min:"1",value:m.maxSupply,onChange:W=>O("maxSupply",W.target.value),placeholder:"100"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Maximum number of tokens that can be minted"})]})]}),o.jsxs("button",{onClick:H,disabled:l||!t||!w.isOwner||w.isBlocked||!m.tokenId||!m.maxSupply,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",title:t?w.isOwner?!m.tokenId||!m.maxSupply?"Please fill in all required fields":"Create new token ID":"Only collection owner can create new tokens":"Please connect your wallet",children:[o.jsx(zs,{className:"h-4 w-4"}),l?"Creating...":"Create New Token ID"]})]}),w&&w.isOwner&&!w.isBlocked&&o.jsxs("div",{className:"space-y-4 border-t border-border pt-6",children:[o.jsx("h4",{className:"text-sm text-muted-foreground",children:"Set Token URI"}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Token ID"}),o.jsx(ms,{min:"0",value:x.tokenId,onChange:W=>S("tokenId",W.target.value),placeholder:"0"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Token ID to set URI for"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Token URI"}),o.jsx("input",{type:"text",value:x.tokenURI,onChange:W=>S("tokenURI",W.target.value),placeholder:"https://example.com/metadata/{id}.json",className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-colors text-sm",style:i?{fontSize:"16px"}:{}}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Metadata URI for the token"})]})]}),o.jsxs("button",{onClick:V,disabled:l||!t||!w.isOwner||w.isBlocked||!x.tokenId||!x.tokenURI,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",title:t?w.isOwner?!x.tokenId||!x.tokenURI?"Please fill in all required fields":"Set token URI":"Only collection owner can set URIs":"Please connect your wallet",children:[o.jsx(Hn,{className:"h-4 w-4"}),l?"Setting...":"Set Token URI"]})]})]})},qI=({className:t="",showStats:e=!0,...r})=>{const{isMobile:n,isTablet:i,isDesktop:l}=sr(),[c,d]=b.useState(null),f=b.useRef(c);f.current=c;const m=[{id:"royalty",title:"Royalty & Reveal",description:"Reveal your collection and manage royalties",component:wI,priority:1},{id:"minter",title:"Minter Approval",description:"Manage minter approvals for collections",component:AI,priority:2},{id:"tokenCreator",title:"Create New Token ID & Set Token URI",description:"Add new token IDs to existing ERC1155 collections and set metadata URIs",component:WI,priority:3},{id:"revenue",title:"Creator Mint & Revenue Withdrawal",description:"Mint tokens to winners and withdraw revenue from your raffles",component:kI,priority:4}],p=w=>{d(c===w?null:w)},C=n?1:2;return o.jsxs("div",{className:We("w-full space-y-6",t),...r,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:We("font-semibold text-foreground",n?"text-lg":"text-xl"),children:"Creator Dashboard"}),o.jsx("p",{className:We("text-muted-foreground",n?"text-sm":"text-base"),children:"Manage your collections, royalties, and revenue"})]}),o.jsx("div",{className:We("grid gap-4 w-full",C===1&&"grid-cols-1",C===2&&"grid-cols-1 md:grid-cols-2",n&&"gap-3"),children:m.map(w=>o.jsx($I,{title:w.title,description:w.description,component:w.component,isExpanded:c===w.id,onToggle:()=>p(w.id),className:We(n&&["w-full",c===w.id&&"mb-2"],!n&&"h-fit")},w.id))}),n&&o.jsx("div",{className:"mt-6 p-3 bg-muted/50 rounded-lg border border-border/50",children:o.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Tap any card above to expand and access its functionality. Only one card can be open at a time on mobile."})})]})},HI=["Pending","Active","Ended","Drawing","Completed","Deleted","Activation Failed","Prizes Claimed","Unengaged"],w2=t=>{try{if(!t)return"Unknown";let e;return t instanceof Date?e=t:typeof t=="number"?e=new Date(t<1e12?t*1e3:t):e=new Date(t),isNaN(e.getTime())?"Unknown":e.toLocaleString()}catch{return"Unknown"}},GI=({raffle:t,onRaffleClick:e,formatRevenueAmount:r,getCurrencySymbol:n})=>{const{winnerCount:i}=l2(t.address,t.stateNum),l=()=>{const d=(m=>{const p=c2(m,i);return p||HI[m]||"Unknown"})(t.stateNum),f={Pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",Active:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",Ended:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",Drawing:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",Completed:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",Deleted:"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-300","Activation Failed":"bg-red-200 text-red-900 dark:bg-red-900/40 dark:text-red-300","Prizes Claimed":"bg-blue-200 text-blue-900 dark:bg-blue-900/40 dark:text-blue-300","Prize Claimed":"bg-blue-200 text-blue-900 dark:bg-blue-900/40 dark:text-blue-300",Unengaged:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",Unknown:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};return o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f[d]||f.Unknown}`,children:d})};return o.jsxs("div",{className:"bg-card border border-border rounded-lg p-5 hover:shadow-md transition-shadow min-h-[160px]",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm mb-1 truncate",children:t.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Ends: ",w2(t.endTime)]})]}),l()]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs mb-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Tickets Sold"}),o.jsxs("p",{className:"font-semibold",children:[t.ticketsSold||0,"/",t.maxTickets]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Revenue"}),o.jsx("p",{className:"font-semibold text-green-600",children:r(t.revenue||0)})]})]}),o.jsx("button",{onClick:()=>e(t.address),className:"w-full text-sm bg-[#614E41] text-white px-3 py-2 rounded-md hover:bg-[#4a3a30] transition-colors",children:"View Raffle"})]})},VI=({activities:t,createdRaffles:e,purchasedTickets:r,creatorStats:n,onDeleteRaffle:i,onViewRevenue:l,onClaimPrize:c,onClaimRefund:d})=>{const f=fo(),{chainId:m}=Ot(),[p,x]=b.useState("activity"),{isMobile:C}=sr(),{formatRevenueAmount:w,getCurrencySymbol:P}=Ir();b.useEffect(()=>(t2(),()=>r2()),[]);const[E,I]=b.useState({royalty:!1,minter:!1,tokenCreator:!1,revenue:!1});b.useEffect(()=>{if(C&&Object.values(E).some(Boolean))return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[E,C]),b.useEffect(()=>()=>{C&&(document.body.style.overflow="unset")},[C]);const D=()=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Recent Activity"}),o.jsxs(oc,{variant:"outline",children:[t.length," activities"]})]}),t.length===0?o.jsx(tn,{children:o.jsxs(rn,{className:"text-center py-8",children:[o.jsx($p,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"No activity yet"})]})}):o.jsx("div",{className:"space-y-3",children:t.slice(0,10).map(($,H)=>o.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 hover:shadow-lg transition-all duration-300",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"mt-1",children:$.icon}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-foreground",children:$.title}),o.jsx("p",{className:"text-sm text-muted-foreground",children:$.description}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:$.timestamp})]})]})},H))})]}),O=()=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"My Raffles"}),o.jsxs(oc,{variant:"outline",children:[e.length," raffles"]})]}),e.length===0?o.jsx(tn,{children:o.jsxs(rn,{className:"text-center py-8",children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"You haven't created any raffles yet"}),o.jsx(et,{onClick:()=>f("/create-raffle"),className:"bg-[#614E41] text-white hover:bg-[#4a3a30] transition-colors",children:"Create Your First Raffle"})]})}):o.jsx("div",{className:"grid gap-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:e.map($=>o.jsx(GI,{raffle:$,onRaffleClick:H=>{const V=m&&ct[m]?ct[m].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):m||"",W=V?`/${V}/raffle/${H}`:`/raffle/${H}`;f(W)},formatRevenueAmount:w,getCurrencySymbol:P},$.address))})]}),S=()=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Purchased Tickets"}),o.jsxs(oc,{variant:"outline",children:[r.length," tickets"]})]}),r.length===0?o.jsx(tn,{children:o.jsxs(rn,{className:"text-center py-8",children:[o.jsx(el,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"You haven't purchased any tickets yet"}),o.jsx(et,{onClick:()=>f("/"),className:"bg-[#614E41] text-white hover:bg-[#4a3a30] transition-colors",children:"Browse Raffles"})]})}):o.jsx("div",{className:"space-y-4",children:r.map($=>o.jsx(tn,{className:"hover:shadow-md transition-shadow",children:o.jsxs(rn,{className:"p-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0 mt-1",children:o.jsx(el,{className:"h-4 w-4 text-blue-500"})}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("h4",{className:"font-medium text-foreground text-sm",children:["Purchased ",$.ticketCount," ",$.raffleName||$.name," ticket",$.ticketCount>1?"s":""]}),o.jsxs("p",{className:"text-muted-foreground text-sm mt-1",children:[$.totalSpent," ",P()]})]}),o.jsx("span",{className:"text-sm text-muted-foreground flex-shrink-0",children:w2($.purchaseTime)})]})})]}),o.jsx("div",{className:"flex gap-2",children:$.canClaimPrize&&o.jsxs(et,{size:"sm",onClick:()=>c($),className:"flex-1 bg-[#614E41] text-white hover:bg-[#4a3a30] transition-colors",children:[o.jsx(FP,{className:"h-4 w-4 mr-1"}),"Claim Prize"]})})]})},$.id))})]}),U=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:`grid gap-4 ${C?"grid-cols-1":"md:grid-cols-2 lg:grid-cols-4"}`,children:[o.jsxs(tn,{className:C?"w-full overflow-hidden":"",children:[o.jsxs(ao,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(lo,{className:"text-sm font-medium",children:"Total Raffles"}),o.jsx(zs,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(rn,{children:[o.jsx("div",{className:"text-2xl font-bold",children:n.totalRaffles}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.activeRaffles," currently active"]})]})]}),o.jsxs(tn,{className:C?"w-full overflow-hidden":"",children:[o.jsxs(ao,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(lo,{className:"text-sm font-medium",children:"Total Revenue"}),o.jsx(gc,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(rn,{children:[o.jsx("div",{className:"text-2xl font-bold",children:w(n.totalRevenue)}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",n.monthlyRevenue," this month"]})]})]}),o.jsxs(tn,{className:C?"w-full overflow-hidden":"",children:[o.jsxs(ao,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(lo,{className:"text-sm font-medium",children:"Total Participants"}),o.jsx(Hp,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(rn,{children:[o.jsx("div",{className:"text-2xl font-bold",children:n.totalParticipants}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.uniqueParticipants," unique users"]})]})]}),o.jsxs(tn,{className:C?"w-full overflow-hidden":"",children:[o.jsxs(ao,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(lo,{className:"text-sm font-medium",children:"Success Rate"}),o.jsx(YP,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(rn,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[n.successRate,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed raffles"})]})]})]}),o.jsx(qI,{})]});return o.jsx(o.Fragment,{children:o.jsxs(II,{value:p,onValueChange:x,className:"w-full","data-profile-tab":"true",children:[C?o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[o.jsx("button",{onClick:()=>x("activity"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${p==="activity"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:o.jsx("span",{className:"text-sm font-medium",children:"Activity"})}),o.jsx("button",{onClick:()=>x("created"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${p==="created"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:o.jsx("span",{className:"text-sm font-medium",children:"Created"})}),o.jsx("button",{onClick:()=>x("purchased"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${p==="purchased"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:o.jsx("span",{className:"text-sm font-medium",children:"Purchased Tickets"})}),o.jsx("button",{onClick:()=>x("dashboard"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${p==="dashboard"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:o.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})})]}):o.jsxs(_I,{className:"grid w-full grid-cols-4",children:[o.jsx(nd,{value:"activity",children:"Activity"}),o.jsx(nd,{value:"created",children:"My Raffles"}),o.jsx(nd,{value:"purchased",children:"Purchased Tickets"}),o.jsx(nd,{value:"dashboard",children:"Dashboard"})]}),o.jsx(sd,{value:"activity",className:C?"mt-4":"mt-6",children:o.jsx(D,{})}),o.jsx(sd,{value:"created",className:C?"mt-4":"mt-6",children:o.jsx(O,{})}),o.jsx(sd,{value:"purchased",className:C?"mt-4":"mt-6",children:o.jsx(S,{})}),o.jsx(sd,{value:"dashboard",className:C?"mt-4":"mt-6",children:o.jsx(U,{})})]})})},to={defaultChainId:84532,profileBlockRangeLimit:5e4},k2=()=>{const{connected:t,address:e,provider:r,chainId:n}=Ot(),{contracts:i,getContractInstance:l,executeTransaction:c,executeCall:d}=Vt(),f=b.useMemo(()=>t,[t]),m=b.useMemo(()=>e,[e]),p=b.useMemo(()=>i,[i]),[x,C]=b.useState(!0),[w,P]=b.useState([]),[E,I]=b.useState([]),[D,O]=b.useState([]),[S,U]=b.useState({totalTicketsPurchased:0,totalRafflesCreated:0,totalPrizesWon:0,totalRevenueWithdrawn:"0",totalRefundsClaimed:0}),[$,H]=b.useState(!1),[V,W]=b.useState(null),K=b.useCallback(T=>{var L;if(T!=null&&T.reason)return T.reason;if((L=T==null?void 0:T.data)!=null&&L.message)return T.data.message;if(T!=null&&T.message){const k=T.message.match(/revert (.+)/);return k?k[1]:T.message}return"Transaction failed"},[]),Z=b.useCallback(T=>{switch(T){case 0:return"pending";case 1:return"active";case 2:return"drawing";case 3:return"completed";case 4:return"allPrizesClaimed";case 5:return"ended";default:return"unknown"}},[]),Y=T=>{var k;const L=(((T==null?void 0:T.message)||"")+" "+(((k=T==null?void 0:T.data)==null?void 0:k.message)||"")).toLowerCase();return L.includes("block range")||L.includes("range too large")||L.includes("range exceeded")||L.includes("too many blocks")||L.includes("exceed")||L.includes("limit")||L.includes("overflow")||L.includes("50000")||L.includes("10000")||L.includes("5000")},q=async(T,L,k,y,F=to==null?void 0:to.profileBlockRangeLimit,ee=2e3)=>{const z=[],Q=y-k;let G=Math.min(F,Math.max(ee,Q)),J=k;for(;J<=y;){const te=Math.min(J+G,y);try{const ie=await T.queryFilter(L,J,te);ie&&ie.length&&z.push(...ie),J=te+1}catch(ie){if(Y(ie))if(G>ee){G=Math.max(ee,Math.floor(G/2)),console.warn(`Adaptive queryFilter: reducing chunk to ${G} due to provider limits`);continue}else{console.warn(`Adaptive queryFilter: skipping segment ${J}-${te} (min chunk still failing)`),J=te+1;continue}throw ie}}return z},R=async(T,L,k,y,F=to==null?void 0:to.profileBlockRangeLimit,ee=2e3)=>{const z=[],Q=y-k;let G=Math.min(F,Math.max(ee,Q)),J=k;for(;J<=y;){const te=Math.min(J+G,y);try{const ie=await T.getLogs({...L,fromBlock:J,toBlock:te});ie&&ie.length&&z.push(...ie),J=te+1}catch(ie){if(Y(ie))if(G>ee){G=Math.max(ee,Math.floor(G/2)),console.warn(`Adaptive getLogs: reducing chunk to ${G} due to provider limits`);continue}else{console.warn(`Adaptive getLogs: skipping segment ${J}-${te} (min chunk still failing)`),J=te+1;continue}throw ie}}return z};b.useRef(new Map);const h=b.useCallback(async()=>{if(!f||!m||!r){console.log("Mobile: Missing requirements:",{stableConnected:f,stableAddress:!!m,provider:!!r});return}try{const T=[];let L=0,k=0,y=0,F=ce.from(0);console.log("Mobile: Available contracts:",{raffleDeployer:!!p.raffleDeployer,raffleManager:!!p.raffleManager,revenueManager:!!p.revenueManager});const ee=await r.getBlockNumber(),z=to.profileBlockRangeLimit||5e4,Q=Math.max(0,ee-z),G=ee;if(console.log("Profile: Fetching activity from block",Q,"to",G,`(${G-Q} blocks)`),p.raffleDeployer)try{const J=p.raffleDeployer.filters.RaffleCreated(null,m),te=await q(p.raffleDeployer,J,Q,G);console.log("Mobile: Found",te.length,"RaffleCreated events for address:",m);for(const ie of te){const fe=await r.getBlock(ie.blockNumber);try{const ue=l(ie.args.raffle,"raffle");let je=`Raffle ${ie.args.raffle.slice(0,8)}...`;if(ue){const pe=await d(ue.name,"name");pe.success&&pe.result&&(je=pe.result)}T.push({id:`created-${ie.args.raffle}`,type:"raffle_created",raffleAddress:ie.args.raffle,raffleName:je,timestamp:fe.timestamp*1e3,blockNumber:ie.blockNumber})}catch(ue){console.error("Mobile: Error processing RaffleCreated event:",ue)}}}catch(J){console.error("Mobile: Error fetching RaffleCreated events:",J)}if(p.raffleManager)try{const J=p.raffleManager.filters.RaffleRegistered(),te=await q(p.raffleManager,J,Q,G);console.log("Mobile: Found",te.length,"registered raffles");for(const ie of te){const fe=ie.args.raffle,ue=l(fe,"raffle");if(ue)try{const je=ue.filters.TicketsPurchased(m),pe=await ue.queryFilter(je,Q,G);for(const De of pe){const Re=await r.getBlock(De.blockNumber);try{const Se=await d(ue.name,"name"),ht=await d(ue.ticketPrice,"ticketPrice"),ke=Se.success?Se.result:`Raffle ${fe.slice(0,8)}...`,Ne=ht.success?ht.result:ce.from(0),mt=De.args.quantity.toNumber(),Oe=Ne.mul?Ne.mul(De.args.quantity):ce.from(0);T.push({id:`ticket-${De.transactionHash}`,type:"ticket_purchase",raffleAddress:fe,raffleName:ke,quantity:mt,amount:Cr(Oe),timestamp:Re.timestamp*1e3,blockNumber:De.blockNumber,transactionHash:De.transactionHash}),L+=mt}catch(Se){console.error("Mobile: Error processing ticket event:",Se)}}await Ae(ue,fe,Q);async function Ae(De,Re,Se){try{const ht=De.filters.PrizeClaimed(m),ke=await q(De,ht,Se,G);for(const Ne of ke){const mt=await r.getBlock(Ne.blockNumber);try{const Oe=await d(De.name,"name"),Le=Oe.success&&Oe.result?Oe.result:`Raffle ${Re.slice(0,8)}...`;T.push({id:`nft-prize-${Ne.transactionHash}`,type:"prize_claimed",prizeType:"NFT",raffleAddress:Re,raffleName:Le,tokenId:Ne.args.tokenId?Ne.args.tokenId.toString():"N/A",timestamp:mt.timestamp*1e3,blockNumber:Ne.blockNumber,transactionHash:Ne.transactionHash}),k++}catch(Oe){console.error("Mobile: Error processing NFT prize event:",Oe)}}try{const Ne={address:Re,topics:[Yo("Transfer(address,uint256)"),null,Yt(m,32)]},mt=await R(r,Ne,Se,G).catch(Oe=>{const Le=(Oe.message||"").toLowerCase();if(Le.includes("block range")||Le.includes("too large")||Le.includes("limit"))return console.warn("Mobile: getLogs block range error for native currency prizes, skipping:",Le),[];throw Oe});for(const Oe of mt){const Le=await r.getBlock(Oe.blockNumber);try{const Pt=await d(De.name,"name"),at=Pt.success&&Pt.result?Pt.result:`Raffle ${Re.slice(0,8)}...`;T.push({id:`native-prize-${Oe.transactionHash}`,type:"prize_claimed",prizeType:"Native Currency",raffleAddress:Re,raffleName:at,amount:Oe.data?Cr(Oe.data):"Unknown",timestamp:Le.timestamp*1e3,blockNumber:Oe.blockNumber,transactionHash:Oe.transactionHash}),k++}catch(Pt){console.error("Mobile: Error processing native currency prize event:",Pt)}}}catch{console.log("Mobile: Native currency prize tracking not available for this raffle")}try{const Ne=await d(De.erc20PrizeToken,"erc20PrizeToken");if(Ne.success&&Ne.result!==Pe){const mt={address:Ne.result,topics:[Yo("Transfer(address,address,uint256)"),Yt(Re,32),Yt(m,32)]},Oe=await R(r,mt,Se,G).catch(Le=>{const Pt=(Le.message||"").toLowerCase();if(Pt.includes("block range")||Pt.includes("too large")||Pt.includes("limit"))return console.warn("Mobile: getLogs block range error for ERC20 prizes, skipping:",Pt),[];throw Le});for(const Le of Oe){const Pt=await r.getBlock(Le.blockNumber);try{const at=await d(De.name,"name"),yt=at.success&&at.result?at.result:`Raffle ${Re.slice(0,8)}...`;T.push({id:`erc20-prize-${Le.transactionHash}`,type:"prize_claimed",prizeType:"ERC20 Token",raffleAddress:Re,raffleName:yt,amount:Le.data?al(Le.data,18):"Unknown",timestamp:Pt.timestamp*1e3,blockNumber:Le.blockNumber,transactionHash:Le.transactionHash}),k++}catch(at){console.error("Mobile: Error processing ERC20 prize event:",at)}}}}catch{console.log("Mobile: ERC20 prize tracking not available for this raffle")}}catch(ht){console.error("Mobile: Error in comprehensive prize tracking:",ht)}}const gt=ue.filters.RefundClaimed(m),$e=await q(ue,gt,Q,G);for(const De of $e){const Re=await r.getBlock(De.blockNumber);try{const Se=await d(ue.name,"name"),ht=Se.success&&Se.result?Se.result:`Raffle ${fe.slice(0,8)}...`;T.push({id:`refund-${De.transactionHash}`,type:"refund_claimed",raffleAddress:fe,raffleName:ht,amount:Cr(De.args.amount),timestamp:Re.timestamp*1e3,blockNumber:De.blockNumber,transactionHash:De.transactionHash}),y++}catch(Se){console.error("Mobile: Error processing refund event:",Se)}}const He=ue.filters.FullRefundForDeletion(m),Nt=await q(ue,He,Q,G);for(const De of Nt){const Re=await r.getBlock(De.blockNumber);try{const Se=await d(ue.name,"name"),ht=Se.success&&Se.result?Se.result:`Raffle ${fe.slice(0,8)}...`;T.push({id:`full-refund-${De.transactionHash}`,type:"refund_claimed",raffleAddress:fe,raffleName:ht,amount:Cr(De.args.amount),timestamp:Re.timestamp*1e3,blockNumber:De.blockNumber,transactionHash:De.transactionHash}),y++}catch(Se){console.error("Mobile: Error processing full refund event:",Se)}}const Ke=ue.filters.RevenueWithdrawn(m),Ve=await q(ue,Ke,Q,G);for(const De of Ve){const Re=await r.getBlock(De.blockNumber);try{const Se=await d(ue.name,"name"),ht=Se.success&&Se.result?Se.result:`Raffle ${fe.slice(0,8)}...`;T.push({id:`revenue-withdrawn-${De.transactionHash}`,type:"revenue_withdrawn",raffleAddress:fe,raffleName:ht,amount:Cr(De.args.amount),timestamp:Re.timestamp*1e3,blockNumber:De.blockNumber,transactionHash:De.transactionHash}),F=F.add?F.add(De.args.amount):ce.from(F).add(De.args.amount)}catch(Se){console.error("Mobile: Error processing revenue withdrawal event:",Se)}}}catch(je){console.error("Mobile: Error processing raffle events:",je)}}}catch(J){console.error("Mobile: Error fetching registered raffles:",J)}if(p.revenueManager)try{const J=p.revenueManager.filters.AdminWithdrawn(m),te=await q(p.revenueManager,J,Q,G);for(const ie of te){const fe=await r.getBlock(ie.blockNumber);try{T.push({id:`admin-${ie.transactionHash}`,type:"admin_withdrawn",amount:Cr(ie.args.amount),timestamp:fe.timestamp*1e3,blockNumber:ie.blockNumber,transactionHash:ie.transactionHash})}catch(ue){console.error("Mobile: Error processing admin withdrawal event:",ue)}}}catch(J){console.error("Mobile: Error fetching admin withdrawal events:",J)}T.sort((J,te)=>te.timestamp-J.timestamp),console.log("Mobile: Total activities found:",T.length),console.log("Mobile: Activity breakdown:",{totalTicketsPurchased:L,totalPrizesWon:k,totalRefundsClaimed:y,activitiesCount:T.length}),P(T),U(J=>({...J,totalTicketsPurchased:L,totalPrizesWon:k,totalRefundsClaimed:y,totalRevenueWithdrawn:F}))}catch(T){const L=(T.message||T.toString()||"").toLowerCase(),k=T.data?(T.data.message||T.data.toString()||"").toLowerCase():"",y=`${L} ${k}`;if(y.includes("block range")||y.includes("too large")||y.includes("exceed")||y.includes("limit")||y.includes("range too large")||y.includes("maximum")||y.includes("query returned more than")||y.includes("block range limit")||y.includes("too many blocks")||y.includes("range exceeded")||L.includes("10000")||L.includes("5000")||L.includes("50000")){console.warn("Mobile: Block range error detected (enhanced detection), suppressing toast:",L);return}sc(T,{context:{operation:"fetchOnChainActivity",isReadOnly:!0},fallbackMessage:"Failed to load activity data"})}},[f,m,r,p.raffleDeployer,p.raffleManager,p.revenueManager,d,l,Z]),v=b.useCallback(async()=>{if(!f||!m||!r){console.log("Mobile: Missing requirements for fetchCreatedRaffles:",{stableConnected:f,stableAddress:!!m,provider:!!r});return}try{const T=[];if(p.raffleDeployer){const L=await r.getBlockNumber(),k=to.profileBlockRangeLimit||5e4,y=Math.max(0,L-k),F=L;console.log("Profile: Fetching created raffles from RaffleDeployer from block",y,"to",F,`(${F-y} blocks)`);const ee=p.raffleDeployer.filters.RaffleCreated(null,m),z=await q(p.raffleDeployer,ee,y,F);console.log("Mobile: Found",z.length,"created raffles for address:",m);for(const Q of z)try{const G=Q.args.raffle,J=l(G,"raffle");if(!J)continue;const[te,ie,fe,ue,je,pe,Ae,gt]=await Promise.all([d(J.name,"name"),d(J.ticketPrice,"ticketPrice"),d(J.ticketLimit,"ticketLimit"),d(J.startTime,"startTime"),d(J.duration,"duration"),d(J.state,"state"),d(J.winnersCount,"winnersCount"),d(J.usesCustomPrice,"usesCustomPrice")]),$e=te.success?te.result:`Raffle ${G.slice(0,8)}...`,He=ie.success?ie.result:ce.from(0),Nt=fe.success?fe.result:ce.from(0),Ke=ue.success?ue.result:ce.from(0),Ve=je.success?je.result:ce.from(0),De=pe.success?pe.result:0,Re=Ae.success?Ae.result:ce.from(0),Se=gt.success?!!gt.result:!1,ht=await vw(J),ke=ce.from(ht),Ne=new Date(Ke.add(Ve).toNumber()*1e3);let mt=ce.from(0);Se&&He.mul?mt=He.mul(Re):mt=ce.from(0),T.push({address:G,chainId:n,name:$e,ticketPrice:Cr(He),maxTickets:Nt.toString(),ticketsSold:ke.toString(),endTime:Ne,state:Z(De),stateNum:De,revenue:Cr(mt),usesCustomPrice:Se})}catch(G){console.error(`Mobile: Error processing created raffle ${raffleAddress}:`,G)}}else console.log("Mobile: raffleDeployer contract not available");I(T),U(L=>({...L,totalRafflesCreated:T.length}))}catch(T){const L=(T.message||T.toString()||"").toLowerCase(),k=T.data?(T.data.message||T.data.toString()||"").toLowerCase():"",y=`${L} ${k}`;if(y.includes("block range")||y.includes("too large")||y.includes("exceed")||y.includes("limit")||y.includes("range too large")||y.includes("maximum")||y.includes("query returned more than")||y.includes("block range limit")||y.includes("too many blocks")||y.includes("range exceeded")||L.includes("10000")||L.includes("5000")||L.includes("50000")){console.warn("Mobile: Block range error in fetchCreatedRaffles (enhanced detection), suppressing toast:",L);return}sc(T,{context:{operation:"fetchCreatedRaffles",isReadOnly:!0},fallbackMessage:"Failed to load created raffles"})}},[f,m,r,p.raffleDeployer,d,l,Z]),A=b.useCallback(async()=>{if(!f||!m||!r){console.log("Missing requirements for fetchPurchasedTickets:",{stableConnected:f,stableAddress:!!m,provider:!!r});return}try{const T=[];if(p.raffleManager){const L=await r.getBlockNumber(),k=to.profileBlockRangeLimit||5e4,y=Math.max(0,L-k),F=L;console.log("Profile: Fetching purchased tickets using TicketsPurchased events from block",y,"to",F,`(${F-y} blocks)`);const ee=p.raffleManager.filters.RaffleRegistered(),z=await q(p.raffleManager,ee,y,F);console.log("Checking",z.length,"registered raffles for TicketsPurchased events");const Q=new Map;for(const G of z)try{const J=G.args.raffle;console.log(`Checking raffle ${J} for ticket purchases...`);const te=l(J,"raffle");if(!te){console.log(`No contract instance for raffle ${J}`);continue}const ie=te.filters.TicketsPurchased(m),fe=await q(te,ie,y,F);if(console.log(`Raffle ${J}: Found ${fe.length} TicketsPurchased events`),fe.length>0){let ue=0,je=ce.from(0),pe=null,Ae=`Raffle ${J.slice(0,8)}...`,gt=ce.from(0);for(const $e of fe){const He=await r.getBlock($e.blockNumber);try{const Nt=await d(te.name,"name"),Ke=await d(te.ticketPrice,"ticketPrice");Ae=Nt.success?Nt.result:`Raffle ${J.slice(0,8)}...`,gt=Ke.success?Ke.result:ce.from(0);const Ve=$e.args.quantity.toNumber(),De=gt.mul?gt.mul($e.args.quantity):ce.from(0);ue+=Ve,je=je.add(De),(!pe||He.timestamp<pe)&&(pe=He.timestamp),console.log(`Ticket event: ${Ve} tickets, ${Cr(De)} ETH`)}catch(Nt){console.error("Error processing individual ticket event:",Nt)}}if(ue>0){const[$e,He,Nt]=await Promise.all([d(te.state,"state"),d(te.startTime,"startTime"),d(te.duration,"duration")]),Ke=$e.success?$e.result:0,Ve=He.success?He.result:ce.from(0),De=Nt.success?Nt.result:ce.from(0),Re=new Date(Ve.add(De).toNumber()*1e3),Se={id:J,address:J,raffleName:Ae,name:Ae,ticketCount:ue,ticketPrice:Cr(gt),totalSpent:Cr(je),state:Z(Ke),endTime:Re,purchaseTime:pe||Ve.toNumber(),canClaimPrize:!1,canClaimRefund:!1,tickets:Array.from({length:ue},(ht,ke)=>ke.toString())};console.log(`Adding ticket data for ${Ae}:`,Se),T.push(Se)}}}catch(J){console.error(`Error processing TicketsPurchased events for raffle ${G.args.raffle}:`,J)}}else console.log("raffleManager contract not available");console.log("Setting purchased tickets:",T.length,"tickets found using TicketsPurchased events"),O(T)}catch(T){const L=(T.message||T.toString()||"").toLowerCase(),k=T.data?(T.data.message||T.data.toString()||"").toLowerCase():"",y=`${L} ${k}`;if(y.includes("block range")||y.includes("too large")||y.includes("exceed")||y.includes("limit")||y.includes("range too large")||y.includes("maximum")||y.includes("query returned more than")||y.includes("block range limit")||y.includes("too many blocks")||y.includes("range exceeded")||L.includes("10000")||L.includes("5000")||L.includes("50000")){console.warn("Mobile: Block range error in fetchPurchasedTickets (enhanced detection), suppressing toast:",L);return}sc(T,{context:{operation:"fetchPurchasedTickets",isReadOnly:!0},fallbackMessage:"Failed to load purchased tickets"})}},[f,m,r,p.raffleManager,d,l,Z]);b.useEffect(()=>{f&&m?(async()=>{C(!0);try{await Promise.all([h(),v(),A()])}catch(L){console.error("Error loading profile data:",L)}finally{C(!1)}})():(P([]),I([]),O([]),C(!1),H(!1),W(null),U({totalTicketsPurchased:0,totalRafflesCreated:0,totalPrizesWon:0,totalRevenueWithdrawn:"0",totalRefundsClaimed:0}))},[f,m,h,v,A]);const _=b.useCallback(async T=>{if(!T||!f){ne.error("Please connect your wallet");return}try{const L=l(T,"raffle");if(!L){ne.error("Invalid raffle contract");return}await c(L,"withdrawRevenue",[]),ne.success("Revenue withdrawn successfully!"),v(),H(!1),W(null)}catch(L){console.error("Error withdrawing revenue:",L),ne.error(K(L))}},[f,l,c,v,K]),j=b.useCallback(async T=>{if(!T||!f){ne.error("Please connect your wallet");return}try{const L=l(T,"raffle");if(!L){ne.error("Invalid raffle contract");return}await c(L,"claimRefund",[]),ne.success("Refund claimed successfully!"),A(),h()}catch(L){console.error("Error claiming refund:",L),ne.error(K(L))}},[f,l,c,A,h,K]);return{userActivity:w,createdRaffles:E,purchasedTickets:D,activityStats:S,loading:x,showRevenueModal:$,setShowRevenueModal:H,selectedRaffle:V,setSelectedRaffle:W,fetchOnChainActivity:h,fetchCreatedRaffles:v,fetchPurchasedTickets:A,withdrawRevenue:_,claimRefund:j,extractRevertReason:K,mapRaffleState:Z,creatorStats:{totalRaffles:E.length,activeRaffles:E.filter(T=>T.state==="active").length,totalRevenue:E.reduce((T,L)=>T+(parseFloat(L.revenue)||0),0).toFixed(4),monthlyRevenue:"0.0000",totalParticipants:E.reduce((T,L)=>T+parseInt(L.ticketsSold||0),0),uniqueParticipants:E.reduce((T,L)=>T+parseInt(L.ticketsSold||0),0),successRate:E.length>0?Math.round(E.filter(T=>T.state==="completed"||T.state==="allPrizesClaimed").length/E.length*100):0}}},KI=()=>{const{connected:t,address:e,provider:r}=Ot(),{getContractInstance:n,executeTransaction:i}=Vt(),l=fo(),[c,d]=b.useState("activity"),[f,m]=b.useState(null),{getCurrencySymbol:p,formatRevenueAmount:x}=Ir(),{userActivity:C,createdRaffles:w,purchasedTickets:P,loading:E,claimRefund:I}=k2(),[D,O]=b.useState({royalty:{loading:!1,collectionData:{address:"",type:null,royaltyPercentage:"",royaltyRecipient:""},collectionInfo:null,loadingInfo:!1,isRevealed:null,revealing:!1},minter:{loading:!1,collectionAddress:"",minterAddress:"",isApproved:!1,isLocked:!1,currentMinter:"",collectionName:"",collectionSymbol:"",collectionType:null,fetchedCollection:"",error:"",success:""},tokenCreator:{loading:!1,collectionData:{address:"",type:null},collectionInfo:null,loadingInfo:!1,tokenCreationData:{tokenId:"",maxSupply:""},uriData:{tokenId:"",tokenURI:""}},revenue:{loading:!1,raffleData:{address:"",isCreator:!1,revenueAmount:"0",raffleState:"unknown"},createdRaffles:[],mintData:{collectionAddress:"",collectionType:"erc721",recipient:"",quantity:"",tokenId:""},mintLoading:!1}});if(!t)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Connect Your Wallet"}),o.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to view your profile and activity."})]})});if(E)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading profile..."})]})});const S=()=>{const R=j=>{switch(j){case"ticket_purchase":return o.jsx(np,{className:"h-4 w-4 text-blue-500"});case"raffle_created":return o.jsx(zs,{className:"h-4 w-4 text-green-500"});case"prize_claimed":return o.jsx(tp,{className:"h-4 w-4 text-yellow-500"});case"refund_claimed":return o.jsx(Oi,{className:"h-4 w-4 text-orange-500"});default:return o.jsx($p,{className:"h-4 w-4 text-gray-500"})}},h=j=>{var k;const T=j.raffleName||j.name||`Raffle ${(k=j.raffleAddress)==null?void 0:k.slice(0,8)}...`,L=j.quantity||j.ticketCount||1;switch(j.type){case"ticket_purchase":return`Purchased ${L} ${T} ticket${L>1?"s":""}`;case"raffle_created":return`Created raffle "${T}"`;case"prize_won":return"Won Prize!";case"prize_claimed":return`Claimed prize from "${T}"`;case"refund_claimed":return"Claimed Refund";case"revenue_withdrawn":return`Withdrew revenue from "${T}"`;default:return"Activity"}},v=j=>{var L;const T=j.raffleName||j.name||`Raffle ${(L=j.raffleAddress)==null?void 0:L.slice(0,8)}...`;switch(j.type){case"ticket_purchase":return j.amount?`${j.amount} ${p()}`:"";case"prize_won":return`${T} • Congratulations!`;case"refund_claimed":return j.amount?`${T} • ${j.amount} ${p()}`:T;case"revenue_withdrawn":return j.amount?`${j.amount} ${p()}`:"";default:return T}},A=j=>{try{if(!j&&j!==0)return"Unknown";let T;if(j instanceof Date)T=j.getTime();else if(typeof j=="number")T=j<1e12?j*1e3:j;else{const z=new Date(j);T=isNaN(z.getTime())?null:z.getTime()}if(T==null)return"Unknown";const L=Date.now();let k=Math.floor((L-T)/1e3);if(k<0&&(k=0),k<60)return k<=1?"Just now":`${k}s ago`;const y=Math.floor(k/60);if(y<60)return`${y}m ago`;const F=Math.floor(y/60);return F<24?`${F}h ago`:`${Math.floor(F/24)}d ago`}catch{return"Unknown"}},_=j=>{const T=typeof window<"u"&&window.ethereum&&window.ethereum.chainId?parseInt(window.ethereum.chainId,16):null,L=T&&ct[T]?ct[T].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):T||"",k=L?`/${L}/raffle/${j}`:`/raffle/${j}`;l(k)};return!C||C.length===0?o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Rd,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Activity Yet"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Activity will appear here once you participate in raffles."})]})}):o.jsxs("div",{className:"p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Recent Activity"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[C.length," activities"]})]}),C.slice(0,10).map((j,T)=>o.jsx("div",{className:"bg-card border border-border rounded-lg p-4 hover:bg-muted/30 transition-colors",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0 mt-1",children:R(j.type)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-medium text-foreground text-sm",children:h(j)}),o.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:v(j)})]}),o.jsx("span",{className:"text-sm text-muted-foreground flex-shrink-0",children:A(j.timestamp)})]}),o.jsxs("div",{className:"flex gap-2 mt-3",children:[o.jsx("button",{onClick:()=>_(j.raffleAddress),className:"text-sm bg-[#614E41] text-white px-3 py-1.5 rounded-md hover:bg-[#4a3a30] transition-colors",children:"View Raffle"}),j.type==="ticket_purchase"&&j.state==="ended"&&o.jsx("button",{onClick:()=>I(j.raffleAddress),className:"text-sm bg-green-500/10 text-green-600 px-3 py-1.5 rounded-md hover:bg-green-500/20 transition-colors",children:"Claim Refund"})]})]})]})},j.id||T))]})},U=()=>f?$(f):o.jsxs("div",{className:"p-4 space-y-4 mobile-component-container",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Creator Dashboard"}),f&&o.jsx("button",{onClick:()=>m(null),className:"text-sm text-primary hover:text-primary/80",children:"← Back"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold",children:w.length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Raffles"})]}),o.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold",children:w.filter(R=>R.state==="active").length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Raffles"})]}),o.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold",children:x(w.reduce((R,h)=>R+(parseFloat(h.revenue)||0),0).toFixed(4))}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Revenue"})]}),o.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[o.jsxs("div",{className:"text-2xl font-bold",children:[w.length>0?Math.round(w.filter(R=>R.state==="completed").length/w.length*100):0,"%"]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Success Rate"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Creator Tools"}),o.jsx("button",{onClick:()=>m("royalty"),"data-dashboard-card":!0,className:"w-full bg-card border border-border rounded-lg p-4 text-left hover:bg-muted/30 transition-colors",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(rp,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Royalty & Reveal"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Manage royalties and reveal collections"})]})]})}),o.jsx("button",{onClick:()=>m("minter"),"data-dashboard-card":!0,className:"w-full bg-card border border-border rounded-lg p-4 text-left hover:bg-muted/30 transition-colors",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ka,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Minter Approval"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Manage minter approvals for collections"})]})]})}),o.jsx("button",{onClick:()=>m("tokenCreator"),"data-dashboard-card":!0,className:"w-full bg-card border border-border rounded-lg p-4 text-left hover:bg-muted/30 transition-colors",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(zs,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Create New Token ID & Set Token URI"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Add new token IDs to ERC1155 collections and set metadata URIs"})]})]})}),o.jsx("button",{onClick:()=>m("revenue"),"data-dashboard-card":!0,className:"w-full bg-card border border-border rounded-lg p-4 text-left hover:bg-muted/30 transition-colors",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(gc,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Creator Mint & Revenue Withdrawal"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Withdraw revenue from completed raffles"})]})]})})]})]}),$=R=>{const h=()=>m(null);switch(R){case"royalty":return H(h);case"minter":return V(h);case"tokenCreator":return W(h);case"revenue":return K(h);default:return U()}},H=R=>{var L;const h=D.royalty,v=k=>{O(y=>({...y,royalty:{...y.royalty,...k}}))},A=(k,y)=>{v({collectionData:{...h.collectionData,[k]:y}})},_=async()=>{if(!h.collectionData.address||!t){ne.error("Please enter a collection address and connect your wallet");return}v({loadingInfo:!0});try{let k=null,y=null;try{const ie=n(h.collectionData.address,"erc721Prize");if(ie)try{await ie.supportsInterface("0x80ac58cd")&&(k=ie,y="erc721")}catch{try{await ie.balanceOf(h.collectionData.address),k=ie,y="erc721"}catch{}}}catch{}if(!k)try{const ie=n(h.collectionData.address,"erc1155Prize");if(ie)try{await ie.supportsInterface("0xd9b67a26")&&(k=ie,y="erc1155")}catch{try{await ie.uri(0),k=ie,y="erc1155"}catch{}}}catch{}if(!k||!y)throw new Error("Invalid collection address or unsupported contract type");v({collectionData:{...h.collectionData,type:y}});let F="Unknown Collection",ee="Unknown",z="Unknown";try{typeof k.name=="function"&&(F=await k.name())}catch{}try{typeof k.symbol=="function"&&(ee=await k.symbol())}catch{}try{typeof k.owner=="function"&&(z=await k.owner())}catch{}const Q=z!=="Unknown"&&z.toLowerCase()===e.toLowerCase(),G=await k.royaltyInfo(1,1e4),J=await k.royaltyPercentage(),te=await k.royaltyRecipient();v({collectionInfo:{address:h.collectionData.address,name:F,symbol:ee,owner:z,type:y,isOwner:Q,currentRoyaltyPercentage:J.toString(),currentRoyaltyRecipient:te,royaltyAmount:G[1].toString()},collectionData:{...h.collectionData,type:y,royaltyPercentage:(J.toNumber()/100).toString(),royaltyRecipient:te}});try{const ie=await k.isRevealed();v({isRevealed:!!ie})}catch(ie){console.log("Could not fetch reveal status:",ie.message),v({isRevealed:null})}ne.success("Collection loaded successfully!")}catch(k){console.error("Error loading collection info:",k),ne.error("Error loading collection info: "+k.message),v({collectionInfo:null,isRevealed:null})}finally{v({loadingInfo:!1})}},j=async()=>{if(!t||!h.collectionInfo){ne.error("Please connect your wallet and load collection info first");return}if(!h.collectionInfo.isOwner){ne.error("You are not the owner of this collection");return}const k=parseFloat(h.collectionData.royaltyPercentage);if(isNaN(k)||k<0){ne.error("Please enter a valid royalty percentage (minimum 0%)");return}if(!h.collectionData.royaltyRecipient){ne.error("Please enter a royalty recipient address");return}v({loading:!0});try{const y=h.collectionData.type==="erc721"?"erc721Prize":"erc1155Prize",F=n(h.collectionData.address,y);if(!F)throw new Error("Failed to create contract instance");const ee=Math.floor(k*100),z=await i(F.setRoyalty,ee,h.collectionData.royaltyRecipient);if(z.success)ne.success(`Royalty updated successfully! Transaction: ${z.hash}`),await _();else throw new Error(z.error)}catch(y){console.error("Error updating royalty:",y),ne.error("Error updating royalty: "+y.message)}finally{v({loading:!1})}},T=async()=>{if(!t||!h.collectionInfo){ne.error("Please connect your wallet and load collection info first");return}v({revealing:!0});try{const k=h.collectionData.type==="erc721"?"erc721Prize":"erc1155Prize",y=n(h.collectionData.address,k);if(!y)throw new Error("Failed to create contract instance");const F=await i(y.reveal);if(F.success)ne.success("Collection revealed successfully!"),await _();else throw new Error(F.error)}catch(k){ne.error("Error revealing collection: "+(k.message||k))}finally{v({revealing:!1})}};return o.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("button",{onClick:R,className:"text-primary hover:text-primary/80",children:"← Back"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Royalty & Reveal"})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Address"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Pr,{value:h.collectionData.address,onChange:k=>A("address",k.target.value),placeholder:"0x...",className:"flex-1"}),o.jsxs("button",{onClick:_,disabled:h.loadingInfo||!t,className:"flex items-center gap-2 px-4 py-2 h-10 bg-[#614E41] text-white rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm text-sm",children:[o.jsx(Hn,{className:"h-4 w-4"}),h.loadingInfo?"Loading...":"Load"]})]})]})}),h.collectionInfo&&o.jsxs("div",{className:"bg-muted/50 border border-border rounded-lg p-4 space-y-3",children:[o.jsx("h4",{className:"font-semibold",children:"Collection Information"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"break-words",children:[o.jsx("span",{className:"font-medium",children:"Name:"})," ",h.collectionInfo.name]}),h.collectionInfo.symbol&&o.jsxs("div",{className:"break-words",children:[o.jsx("span",{className:"font-medium",children:"Symbol:"})," ",h.collectionInfo.symbol]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Type:"})," ",(L=h.collectionInfo.type)==null?void 0:L.toUpperCase()]}),o.jsxs("div",{className:"break-all",children:[o.jsx("span",{className:"font-medium",children:"Owner:"}),o.jsx("span",{className:"ml-1 font-mono text-xs",children:h.collectionInfo.owner})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Current Royalty:"})," ",(parseFloat(h.collectionInfo.currentRoyaltyPercentage)/100).toFixed(2),"%"]}),o.jsxs("div",{className:"break-all",children:[o.jsx("span",{className:"font-medium",children:"Royalty Recipient:"}),o.jsx("span",{className:"ml-1 font-mono text-xs",children:h.collectionInfo.currentRoyaltyRecipient})]}),h.isRevealed!==null&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Revealed:"})," ",h.isRevealed?"Yes":"No"]})]}),h.collectionInfo.isOwner&&h.isRevealed===!1&&o.jsx("button",{onClick:T,disabled:h.revealing||!t,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:h.revealing?"Revealing...":"Reveal Collection"})]}),h.collectionInfo&&h.collectionInfo.isOwner&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-semibold",children:"Update Royalty Settings"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Royalty Percentage (%)"}),o.jsx(ms,{min:"0",step:"0.01",value:h.collectionData.royaltyPercentage,onChange:k=>A("royaltyPercentage",k.target.value),placeholder:"2.5"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Royalty Recipient"}),o.jsx(Pr,{value:h.collectionData.royaltyRecipient,onChange:k=>A("royaltyRecipient",k.target.value),placeholder:"0x..."})]})]}),o.jsxs("button",{onClick:j,disabled:h.loading||!t||!h.collectionInfo||!h.collectionInfo.isOwner,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",children:[o.jsx(rp,{className:"h-4 w-4"}),h.loading?"Updating...":"Update Royalty Settings"]})]})]})},V=R=>{var k;const h=D.minter,v=y=>{O(F=>({...F,minter:{...F.minter,...y}}))},A=y=>Kl(y),_=y=>{if(y!=null&&y.reason)return y.reason;if(y!=null&&y.message){const F=y.message.match(/reason="([^"]+)"/);return F?F[1]:y.message}return"Transaction failed"},j=async()=>{if(v({error:"",success:"",fetchedCollection:"",isLocked:!1,currentMinter:"",isApproved:!1,collectionName:"",collectionSymbol:"",collectionType:null}),!A(h.collectionAddress)){v({error:"Please enter a valid Ethereum contract address."});return}if(!r){v({error:"Provider not available."});return}try{v({loading:!0});let y=new kt(h.collectionAddress,St.erc721Prize,r),F=!1,ee="",z="";try{const Q=await y.minterLocked(),G=await y.minter();v({isLocked:Q,currentMinter:G,collectionType:"erc721"}),F=!0}catch{y=new kt(h.collectionAddress,St.erc1155Prize,r);try{const G=await y.minterLocked(),J=await y.minter();v({isLocked:G,currentMinter:J,collectionType:"erc1155"})}catch(G){v({error:"Failed to fetch collection: "+G.message,collectionType:null,loading:!1});return}}if(F){try{typeof y.name=="function"?ee=await y.name():ee="N/A"}catch{ee="N/A"}try{typeof y.symbol=="function"?z=await y.symbol():z="N/A"}catch{z="N/A"}}else ee="ERC1155 Collection",z="N/A";v({fetchedCollection:h.collectionAddress,collectionName:ee,collectionSymbol:z,success:"Collection loaded successfully!",loading:!1})}catch(y){console.error("Error fetching collection:",y),v({error:"Failed to fetch collection: "+y.message,loading:!1})}},T=async y=>{if(!h.fetchedCollection||!r){ne.error("Please fetch a collection and enter a valid minter address");return}if(!h.minterAddress||!A(h.minterAddress)){ne.error("Please enter a valid Ethereum address");return}try{v({loading:!0,error:"",success:""});const F=r.getSigner();let ee;h.collectionType==="erc721"?ee=new kt(h.fetchedCollection,St.erc721Prize,F):h.collectionType==="erc1155"&&(ee=new kt(h.fetchedCollection,St.erc1155Prize,F)),await(await ee.setMinterApproval(h.minterAddress,y)).wait(),ne.success(`Minter ${y?"set":"removed"} successfully!`),v({isApproved:y,minterAddress:""})}catch(F){ne.error(`Failed to set minter approval: ${_(F)}`)}finally{v({loading:!1})}},L=async()=>{if(!h.fetchedCollection||!r){ne.error("Please fetch a collection first");return}try{v({loading:!0,error:"",success:""});const y=r.getSigner();let F;h.collectionType==="erc721"?F=new kt(h.fetchedCollection,St.erc721Prize,y):h.collectionType==="erc1155"&&(F=new kt(h.fetchedCollection,St.erc1155Prize,y));let ee;try{if(typeof F.owner=="function")ee=await F.owner();else{ne.error("Contract does not support owner functionality"),v({loading:!1});return}}catch{ne.error("Failed to get contract owner"),v({loading:!1});return}const z=await y.getAddress();if(ee.toLowerCase()!==z.toLowerCase()){ne.error("Only the contract owner can lock/unlock minter approval"),v({loading:!1});return}let Q;h.collectionType==="erc721"?h.isLocked?(console.log("Attempting to unlock minter approval..."),Q=await F.unlockMinterApproval()):(console.log("Attempting to lock minter approval..."),Q=await F.lockMinterApproval()):h.collectionType==="erc1155"&&(h.isLocked?(console.log("Attempting to unlock minter approval..."),Q=await F.unlockMinterApproval()):(console.log("Attempting to lock minter approval..."),Q=await F.lockMinterApproval())),console.log("Transaction sent:",Q.hash),await Q.wait(),ne.success(`Minter approval ${h.isLocked?"unlocked":"locked"} successfully!`),v({isLocked:!h.isLocked})}catch(y){console.error("Error in toggleMinterApprovalLock:",y),ne.error(`Failed to ${h.isLocked?"unlock":"lock"} minter approval: ${_(y)}`)}finally{v({loading:!1})}};return o.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("button",{onClick:R,className:"text-primary hover:text-primary/80",children:"← Back"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Minter Approval Management"})]}),h.error&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Jt,{className:"h-4 w-4 text-red-600"}),o.jsx("span",{className:"text-sm text-red-800",children:h.error})]})}),h.success&&o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:o.jsx("div",{className:"text-sm text-green-800",children:h.success})}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Address"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Pr,{value:h.collectionAddress,onChange:y=>v({collectionAddress:y.target.value}),placeholder:"0x...",className:"flex-1"}),o.jsxs("button",{onClick:j,disabled:h.loading||!t,className:"flex items-center gap-2 px-4 py-2 h-10 bg-[#614E41] text-white rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm text-sm",children:[o.jsx(Hn,{className:"h-4 w-4"}),h.loading?"Loading...":"Fetch Collection"]})]})]})}),h.fetchedCollection&&o.jsxs("div",{className:"bg-muted/50 border border-border rounded-lg p-4 space-y-3",children:[o.jsx("h4",{className:"font-semibold",children:"Collection Information"}),o.jsxs("div",{className:"text-sm space-y-2",children:[o.jsxs("div",{className:"break-all",children:[o.jsx("span",{className:"font-medium",children:"Address:"}),o.jsx("span",{className:"ml-1 font-mono text-xs",children:h.fetchedCollection})]}),o.jsxs("div",{className:"break-words",children:[o.jsx("span",{className:"font-medium",children:"Name:"})," ",h.collectionName]}),h.collectionSymbol&&o.jsxs("div",{className:"break-words",children:[o.jsx("span",{className:"font-medium",children:"Symbol:"})," ",h.collectionSymbol]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Type:"})," ",(k=h.collectionType)==null?void 0:k.toUpperCase()]}),o.jsxs("div",{className:"break-all",children:[o.jsx("span",{className:"font-medium",children:"Current Minter:"}),o.jsx("span",{className:"ml-1 font-mono text-xs",children:h.currentMinter||"None"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Minter Locked:"})," ",h.isLocked?"Yes":"No"]})]}),o.jsx("div",{className:"pt-2 border-t border-border",children:o.jsx("button",{onClick:L,disabled:h.loading||!t,className:"w-full bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:h.loading?"Processing...":h.isLocked?"Unlock Minter Approval":"Lock Minter Approval"})})]}),h.fetchedCollection&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Minter Address"}),o.jsx(Pr,{value:h.minterAddress,onChange:y=>v({minterAddress:y.target.value}),placeholder:"0x..."}),h.minterAddress&&h.isApproved&&o.jsx("p",{className:"text-sm text-green-600 mt-1",children:"✓ This address is currently the minter"})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("button",{onClick:()=>T(!0),disabled:h.loading||h.isApproved||h.isLocked||!h.minterAddress||!A(h.minterAddress),className:"w-full bg-[#614E41] text-white px-4 py-2 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",title:h.minterAddress?A(h.minterAddress)?h.isApproved?"Address is already the minter":h.isLocked?"Minter approval is locked":"Set as minter":"Please enter a valid address":"Please enter a minter address",children:[h.loading?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):o.jsx(Ka,{className:"h-4 w-4"}),"Set Minter"]}),o.jsxs("button",{onClick:()=>T(!1),disabled:h.loading||!h.isApproved||h.isLocked||!h.minterAddress||!A(h.minterAddress),className:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",title:h.minterAddress?A(h.minterAddress)?h.isApproved?h.isLocked?"Minter approval is locked":"Remove minter":"Address is not currently the minter":"Please enter a valid address":"Please enter a minter address",children:[h.loading?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):o.jsx(Ka,{className:"h-4 w-4"}),"Remove Minter"]})]})]}),h.isLocked&&h.fetchedCollection&&o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Jt,{className:"h-4 w-4 text-yellow-600"}),o.jsx("span",{className:"text-sm text-yellow-800",children:"Minter approval is locked for this collection. Use the unlock button above to enable changes."})]})})]})},W=R=>{const h=D.tokenCreator,v=L=>{O(k=>({...k,tokenCreator:{...k.tokenCreator,...L}}))},A=async L=>{try{const k=n(L,"erc1155Prize");if(k)try{if(await k.supportsInterface("0xd9b67a26"))return{type:"erc1155",contract:k}}catch{try{return await k.balanceOf(L,0),{type:"erc1155",contract:k}}catch{}}const y=n(L,"erc721Prize");if(y)try{if(await y.supportsInterface("0x80ac58cd"))return{type:"erc721",contract:y}}catch{try{return await y.balanceOf(L),{type:"erc721",contract:y}}catch{}}throw new Error("Contract is neither ERC721 nor ERC1155 compatible")}catch(k){throw new Error(`Failed to detect contract type: ${k.message}`)}},_=async()=>{if(!h.collectionData.address||!t){ne.error("Please enter a collection address");return}v({loadingInfo:!0});try{const{type:L,contract:k}=await A(h.collectionData.address);if(L!=="erc1155"){ne.error("❌ This component is only for ERC1155 collections. The provided address appears to be an ERC721 collection. Please use the appropriate component for ERC721 collections."),v({collectionInfo:{address:h.collectionData.address,isOwner:!1,owner:"N/A",type:"erc721",isBlocked:!0},loadingInfo:!1});return}const y=await k.owner(),F=y.toLowerCase()===e.toLowerCase();v({collectionInfo:{address:h.collectionData.address,isOwner:F,owner:y,type:"erc1155"},collectionData:{...h.collectionData,type:"erc1155"}}),F?ne.success("ERC1155 collection loaded successfully"):ne.error("You are not the owner of this collection")}catch(L){console.error("Error loading collection info:",L),ne.error("Failed to load collection info. Please verify the address is a valid ERC1155 collection."),v({collectionInfo:null})}finally{v({loadingInfo:!1})}},j=async()=>{if(!t||!h.collectionInfo){ne.error("Please connect your wallet and load collection info first");return}const L=parseInt(h.tokenCreationData.tokenId),k=parseInt(h.tokenCreationData.maxSupply);if(isNaN(L)||L<0){ne.error("Please enter a valid token ID");return}if(isNaN(k)||k<=0){ne.error("Please enter a valid max supply");return}v({loading:!0});try{const y=n(h.collectionData.address,"erc1155Prize"),F=await i(y,"createNewToken",[L,k],{description:`Creating new token ID ${L} with max supply ${k}`,successMessage:`Token ID ${L} created successfully!`});if(F.success)ne.success(`Token ID ${L} created successfully with max supply of ${k}!`),v({tokenCreationData:{tokenId:"",maxSupply:""}});else throw new Error(F.error)}catch(y){console.error("Error creating new token:",y),ne.error(`Failed to create new token: ${y.message}`)}finally{v({loading:!1})}},T=async()=>{if(!t||!h.collectionInfo){ne.error("Please connect your wallet and load collection info first");return}const L=parseInt(h.uriData.tokenId);if(isNaN(L)||L<0){ne.error("Please enter a valid token ID");return}if(!h.uriData.tokenURI){ne.error("Please enter a token URI");return}v({loading:!0});try{const k=n(h.collectionData.address,"erc1155Prize"),y=await i(k,"setURI",[L,h.uriData.tokenURI],{description:`Setting URI for token ID ${L}`,successMessage:`Token URI set successfully for token ID ${L}!`});if(y.success)ne.success(`Token URI set successfully for token ID ${L}!`),v({uriData:{tokenId:"",tokenURI:""}});else throw new Error(y.error)}catch(k){console.error("Error setting token URI:",k),ne.error(`Failed to set token URI: ${k.message}`)}finally{v({loading:!1})}};return o.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("button",{onClick:R,className:"text-primary hover:text-primary/80",children:"← Back"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Create New Token ID & Set Token URI"})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"ERC1155 Collection Address"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Pr,{value:h.collectionData.address,onChange:L=>v({collectionData:{...h.collectionData,address:L.target.value}}),placeholder:"0x...",className:"flex-1"}),o.jsxs("button",{onClick:_,disabled:h.loadingInfo||!t,className:"flex items-center gap-2 px-4 py-2 h-10 bg-[#614E41] text-white rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm text-sm",children:[o.jsx(Hn,{className:"h-4 w-4"}),h.loadingInfo?"Loading...":"Load"]})]})]})}),h.collectionInfo&&o.jsxs("div",{className:`p-4 rounded-lg border ${h.collectionInfo.isBlocked?"bg-destructive/10 border-destructive/20":"bg-muted/50"}`,children:[o.jsx("h4",{className:"text-sm text-muted-foreground mb-2",children:"Collection Information"}),o.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[o.jsxs("p",{className:"break-all",children:[o.jsx("span",{className:"text-muted-foreground",children:"Address:"})," ",h.collectionInfo.address]}),o.jsxs("p",{className:"break-all",children:[o.jsx("span",{className:"text-muted-foreground",children:"Owner:"})," ",h.collectionInfo.owner]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-muted-foreground",children:"You are owner:"})," ",h.collectionInfo.isOwner?"✅ Yes":"❌ No"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Type:"})," ",h.collectionInfo.type==="erc721"?"❌ ERC721 Collection (Incompatible)":"✅ ERC1155 Collection"]})]}),h.collectionInfo.isBlocked&&o.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[o.jsx(Jt,{className:"h-4 w-4 text-destructive"}),o.jsx("span",{className:"text-sm text-destructive",children:"This component only works with ERC1155 collections. The provided address is an ERC721 collection. Please use the appropriate component for ERC721 collections."})]}),!h.collectionInfo.isBlocked&&!h.collectionInfo.isOwner&&o.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[o.jsx(Jt,{className:"h-4 w-4 text-destructive"}),o.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot create new tokens."})]})]}),h.collectionInfo&&h.collectionInfo.isOwner&&!h.collectionInfo.isBlocked&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-semibold",children:"Create New Token ID"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token ID"}),o.jsx(ms,{min:"0",value:h.tokenCreationData.tokenId,onChange:L=>v({tokenCreationData:{...h.tokenCreationData,tokenId:L.target.value}}),placeholder:"1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Supply"}),o.jsx(ms,{min:"1",value:h.tokenCreationData.maxSupply,onChange:L=>v({tokenCreationData:{...h.tokenCreationData,maxSupply:L.target.value}}),placeholder:"100"})]})]}),o.jsxs("button",{onClick:j,disabled:h.loading||!t||!h.collectionInfo.isOwner||h.collectionInfo.isBlocked||!h.tokenCreationData.tokenId||!h.tokenCreationData.maxSupply,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",children:[o.jsx(zs,{className:"h-4 w-4"}),h.loading?"Creating...":"Create New Token ID"]})]}),h.collectionInfo&&h.collectionInfo.isOwner&&!h.collectionInfo.isBlocked&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-semibold",children:"Set Token URI"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token ID"}),o.jsx(ms,{min:"0",value:h.uriData.tokenId,onChange:L=>v({uriData:{...h.uriData,tokenId:L.target.value}}),placeholder:"1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token URI"}),o.jsx(Pr,{value:h.uriData.tokenURI,onChange:L=>v({uriData:{...h.uriData,tokenURI:L.target.value}}),placeholder:"https://..."})]})]}),o.jsxs("button",{onClick:T,disabled:h.loading||!t||!h.collectionInfo.isOwner||h.collectionInfo.isBlocked||!h.uriData.tokenId||!h.uriData.tokenURI,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",children:[o.jsx(Hn,{className:"h-4 w-4"}),h.loading?"Setting...":"Set Token URI"]})]})]})},K=R=>{const h=D.revenue,v=k=>{O(y=>({...y,revenue:{...y.revenue,...k}}))},A=async k=>{if(!k||!t){ne.error("Please enter a raffle address and connect your wallet");return}v({loading:!0});try{const y=n(k,"raffle");if(!y)throw new Error("Failed to create raffle contract instance");const[F,ee,z]=await Promise.all([y.creator(),y.totalCreatorRevenue(),y.state()]),Q=F.toLowerCase()===e.toLowerCase(),J=["Pending","Active","Ended","Drawing","Completed","Deleted","ActivationFailed","AllPrizesClaimed","Unengaged"][z]||"Unknown";v({raffleData:{address:k,revenueAmount:Cr(ee),isCreator:Q,raffleState:J,totalRevenue:ee}})}catch(y){console.error("Error loading raffle info:",y),ne.error("Error loading raffle info: "+y.message),v({raffleData:{address:k,revenueAmount:"0",isCreator:!1,raffleState:"error"}})}finally{v({loading:!1})}},_=async()=>{if(!t||!h.raffleData.address){ne.error("Please connect your wallet and load raffle info first");return}if(!h.raffleData.isCreator){ne.error("You are not the creator of this raffle");return}if(parseFloat(h.raffleData.revenueAmount)<=0){ne.info("No revenue available for withdrawal");return}if(!["Completed","AllPrizesClaimed","Ended"].includes(h.raffleData.raffleState)){ne.info(`Revenue can only be withdrawn from completed raffles. Current state: ${h.raffleData.raffleState}`);return}v({loading:!0});try{const y=n(h.raffleData.address,"raffle");if(!y)throw new Error("Failed to create raffle contract instance");const F=await i(y.withdrawCreatorRevenue);if(F.success)ne.success(`Revenue withdrawn successfully! Transaction: ${F.hash}`),await A(h.raffleData.address);else throw new Error(F.error)}catch(y){console.error("Error withdrawing revenue:",y),ne.error("Error withdrawing revenue: "+y.message)}finally{v({loading:!1})}},j=(k,y)=>{v({mintData:{...h.mintData,[k]:y}})},T=async()=>{if(!t||!e){ne.error("Please connect your wallet");return}if(!h.mintData.collectionAddress||!h.mintData.recipient||!h.mintData.quantity){ne.error("Please fill in all required fields");return}const k=parseInt(h.mintData.quantity);if(isNaN(k)||k<=0){ne.error("Please enter a valid quantity");return}if(h.mintData.collectionType==="erc1155"){const y=parseInt(h.mintData.tokenId);if(isNaN(y)||y<0){ne.error("Please enter a valid token ID for ERC1155");return}}v({mintLoading:!0});try{const y=h.mintData.collectionType==="erc721"?"erc721Prize":"erc1155Prize",F=n(h.mintData.collectionAddress,y);if(!F)throw new Error("Failed to create contract instance");let ee;if(h.mintData.collectionType==="erc721")ee=await i(F.creatorMint,h.mintData.recipient,k);else{const z=parseInt(h.mintData.tokenId);ee=await i(F.creatorMint,h.mintData.recipient,z,k)}if(ee.success)ne.success(`Successfully minted ${k} token(s)! Transaction: ${ee.hash}`),v({mintData:{...h.mintData,recipient:"",quantity:"",tokenId:""}});else throw new Error(ee.error)}catch(y){console.error("Error minting tokens:",y),ne.error("Error minting tokens: "+y.message)}finally{v({mintLoading:!1})}},L=h.raffleData.isCreator&&parseFloat(h.raffleData.revenueAmount)>0&&["Completed","AllPrizesClaimed","Ended"].includes(h.raffleData.raffleState);return o.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("button",{onClick:R,className:"text-primary hover:text-primary/80",children:"← Back"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Creator Mint & Revenue Withdrawal"})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Raffle Address"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Pr,{value:h.raffleData.address,onChange:k=>v({raffleData:{...h.raffleData,address:k.target.value}}),placeholder:"0x...",className:"flex-1"}),o.jsxs("button",{onClick:()=>A(h.raffleData.address),disabled:h.loading||!t,className:"flex items-center gap-2 px-4 py-2 h-10 bg-[#614E41] text-white rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm text-sm",children:[o.jsx(Hn,{className:"h-4 w-4"}),h.loading?"Loading...":"Load"]})]})]})}),w.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-semibold",children:"Your Created Raffles"}),o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:w.slice(0,5).map(k=>o.jsxs("button",{onClick:()=>A(k.address),className:"w-full text-left bg-muted/30 border border-border rounded-lg p-3 hover:bg-muted/50 transition-colors",children:[o.jsx("div",{className:"text-sm font-medium",children:k.name||`Raffle ${k.address.slice(0,8)}...`}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["State: ",k.state]})]},k.address))})]}),h.raffleData.address&&h.raffleData.raffleState!=="unknown"&&o.jsxs("div",{className:"bg-muted/50 border border-border rounded-lg p-4 space-y-3",children:[o.jsx("h4",{className:"font-semibold",children:"Raffle Information"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"break-all",children:[o.jsx("span",{className:"font-medium",children:"Address:"}),o.jsx("span",{className:"ml-1 font-mono text-xs",children:h.raffleData.address})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"State:"})," ",h.raffleData.raffleState]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"You are creator:"})," ",h.raffleData.isCreator?"Yes":"No"]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Available Revenue:"})," ",h.raffleData.revenueAmount," ",p()]})]}),h.raffleData.isCreator&&o.jsx("div",{className:"mt-4",children:L?o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:o.jsx("div",{className:"text-sm text-green-800",children:"✓ Revenue withdrawal is available"})}):o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:o.jsx("div",{className:"text-sm text-yellow-800",children:parseFloat(h.raffleData.revenueAmount)<=0?"No revenue available for withdrawal":`Revenue withdrawal not available - raffle state: ${h.raffleData.raffleState}`})})})]}),h.raffleData.isCreator&&o.jsxs("button",{onClick:_,disabled:h.loading||!t||!L,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",children:[o.jsx(gc,{className:"h-4 w-4"}),h.loading?"Withdrawing...":`Withdraw ${h.raffleData.revenueAmount} ${p()}`]}),o.jsxs("div",{className:"space-y-4 border-t border-border pt-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Creator Mint"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Mint tokens directly to winners or any address"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Type"}),o.jsxs(qi,{value:h.mintData.collectionType,onValueChange:k=>j("collectionType",k),children:[o.jsx(Gi,{children:o.jsx(Hi,{placeholder:"Select collection type"})}),o.jsxs(Vi,{children:[o.jsx(Kr,{value:"erc721",children:"ERC721"}),o.jsx(Kr,{value:"erc1155",children:"ERC1155"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Address"}),o.jsx(Pr,{value:h.mintData.collectionAddress,onChange:k=>j("collectionAddress",k.target.value),placeholder:"0x..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Recipient Address"}),o.jsx(Pr,{value:h.mintData.recipient,onChange:k=>j("recipient",k.target.value),placeholder:"0x..."})]}),h.mintData.collectionType==="erc1155"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token ID"}),o.jsx(ms,{min:"0",value:h.mintData.tokenId,onChange:k=>j("tokenId",k.target.value),placeholder:"0"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity"}),o.jsx(ms,{min:"1",value:h.mintData.quantity,onChange:k=>j("quantity",k.target.value),placeholder:"1"})]}),o.jsxs("button",{onClick:T,disabled:h.mintLoading||!t||!h.mintData.collectionAddress||!h.mintData.recipient||!h.mintData.quantity||h.mintData.collectionType==="erc1155"&&!h.mintData.tokenId,className:"w-full bg-green-600 text-white px-6 py-2.5 h-10 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",children:[o.jsx(zs,{className:"h-4 w-4"}),h.mintLoading?"Minting...":`Mint ${h.mintData.quantity||"1"} Token(s)`]}),!t&&o.jsx("div",{className:"text-center p-4 bg-muted rounded-lg",children:o.jsx("p",{className:"text-muted-foreground text-sm",children:"Please connect your wallet to use creator mint functionality."})})]})]})},Z=()=>{const R=h=>{const v=typeof window<"u"&&window.ethereum&&window.ethereum.chainId?parseInt(window.ethereum.chainId,16):null,A=v&&ct[v]?ct[v].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):v||"",_=A?`/${A}/raffle/${h}`:`/raffle/${h}`;l(_)};return!w||w.length===0?o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(tp,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Raffles Created Yet"}),o.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"You haven't created any raffles yet. Start by creating your first raffle!"}),o.jsx("button",{onClick:()=>l("/create-raffle"),className:"bg-[#614E41] text-white px-6 py-2 rounded-lg hover:bg-[#4a3a30] transition-colors",children:"Create Your First Raffle"})]})}):o.jsxs("div",{className:"p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"My Raffles"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[w.length," raffles"]})]}),w.map(h=>o.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 hover:bg-muted/30 transition-colors",children:[o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-medium text-foreground text-sm mb-1",children:h.name||`Raffle ${h.address.slice(0,8)}...`}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.jsx("span",{className:"font-medium",children:"State:"})," ",h.state]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.jsx("span",{className:"font-medium",children:"Tickets Sold:"})," ",h.ticketsSold||0," / ",h.maxTickets||"Unlimited"]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.jsx("span",{className:"font-medium",children:"Revenue:"})," ",x(h.revenue||"0")]})]})]}),o.jsx("div",{className:"flex flex-col gap-2",children:o.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${h.state==="active"?"bg-green-100 text-green-800":h.state==="completed"?"bg-blue-100 text-blue-800":h.state==="ended"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:h.state})})]}),o.jsx("div",{className:"flex gap-2 mt-3",children:o.jsx("button",{onClick:()=>R(h.address),className:"text-sm bg-primary/10 text-primary px-3 py-1.5 rounded-md hover:bg-primary/20 transition-colors",children:"View Details"})})]},h.address))]})},Y=()=>!P||P.length===0?o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(np,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Tickets Purchased Yet"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"You haven't purchased any raffle tickets yet. Browse active raffles to get started!"})]})}):o.jsxs("div",{className:"p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Purchased Tickets"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[P.length," tickets"]})]}),P.map((R,h)=>{var v;return o.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 hover:bg-muted/30 transition-colors",children:[o.jsx("div",{className:"flex items-start justify-between gap-3",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-medium text-foreground text-sm mb-1",children:R.raffleName||`Raffle ${(v=R.raffleAddress)==null?void 0:v.slice(0,8)}...`}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.jsx("span",{className:"font-medium",children:"Tickets:"})," ",R.quantity||R.ticketCount||1]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.jsx("span",{className:"font-medium",children:"Amount Paid:"})," ",R.amount||"0"," ",p()]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.jsx("span",{className:"font-medium",children:"State:"})," ",R.state||"Unknown"]})]})]})}),o.jsx("div",{className:"flex gap-2 mt-3",children:R.state==="ended"&&o.jsx("button",{onClick:()=>I(R.raffleAddress),className:"text-sm bg-green-500/10 text-green-600 px-3 py-1.5 rounded-md hover:bg-green-500/20 transition-colors",children:"Claim Refund"})})]},R.id||h)})]}),q=()=>c==="activity"?S():c==="created"?Z():c==="purchased"?Y():c==="dashboard"?U():S();return o.jsxs("div",{className:"min-h-screen bg-background overflow-x-hidden",children:[o.jsxs("div",{className:"bg-card border-b border-border p-4",children:[o.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Profile"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Track activities and manage your raffles"}),o.jsxs("div",{className:"bg-muted/50 border border-border/30 rounded-lg p-3",children:[o.jsx("p",{className:"text-sm font-medium",children:"Connected Account:"}),o.jsx("p",{className:"text-xs font-mono break-all",children:e})]})]}),o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[o.jsx("button",{onClick:()=>d("activity"),"data-profile-tab":!0,className:`p-4 rounded-lg border transition-colors ${c==="activity"?"border-primary bg-primary/10 text-primary":"border-border bg-background hover:bg-muted text-foreground"}`,children:o.jsx("span",{className:"text-sm font-medium",children:"Activity"})}),o.jsx("button",{onClick:()=>d("created"),"data-profile-tab":!0,className:`p-4 rounded-lg border transition-colors ${c==="created"?"border-primary bg-primary/10 text-primary":"border-border bg-background hover:bg-muted text-foreground"}`,children:o.jsx("span",{className:"text-sm font-medium",children:"My Raffles"})}),o.jsx("button",{onClick:()=>d("purchased"),"data-profile-tab":!0,className:`p-4 rounded-lg border transition-colors ${c==="purchased"?"border-primary bg-primary/10 text-primary":"border-border bg-background hover:bg-muted text-foreground"}`,children:o.jsx("span",{className:"text-sm font-medium",children:"Tickets"})}),o.jsx("button",{onClick:()=>d("dashboard"),"data-profile-tab":!0,className:`p-4 rounded-lg border transition-colors ${c==="dashboard"?"border-primary bg-primary/10 text-primary":"border-border bg-background hover:bg-muted text-foreground"}`,children:o.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})})]})}),o.jsx("div",{className:"pb-8",children:q()})]})},YI=()=>{const{isMobile:t,isInitialized:e}=sr();return e?t?o.jsx(KI,{}):o.jsx(QI,{}):o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold mb-2",style:{fontFamily:"Orbitron, monospace"},children:"Rafflhub"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading..."})]})})},QI=()=>{const{connected:t,address:e,provider:r,chainId:n}=Ot(),{contracts:i,getContractInstance:l,executeTransaction:c,executeCall:d}=Vt();fo();const{isMobile:f}=sr(),{getCurrencySymbol:m}=Ir(),{userActivity:p,createdRaffles:x,purchasedTickets:C,activityStats:w,loading:P,showRevenueModal:E,selectedRaffle:I,setSelectedRaffle:D,fetchOnChainActivity:O,fetchCreatedRaffles:S,fetchPurchasedTickets:U}=k2(),[$,H]=b.useState("activity"),V=b.useMemo(()=>p.map(R=>{const h=()=>{var T;const _=R.raffleName||R.name||`Raffle ${(T=R.raffleAddress)==null?void 0:T.slice(0,8)}...`,j=R.quantity||R.ticketCount||1;switch(R.type){case"ticket_purchase":return`Purchased ${j} ${_} ticket${j>1?"s":""}`;case"raffle_created":return`Created raffle "${_}"`;case"raffle_deleted":return`Deleted raffle "${_}"`;case"prize_won":return`Won prize in "${_}"`;case"prize_claimed":return`Claimed prize from "${_}"`;case"refund_claimed":return`Claimed refund from "${_}"`;case"revenue_withdrawn":return`Withdrew revenue from "${_}"`;case"admin_withdrawn":return`Admin withdrawal: ${R.amount} ${m()}`;default:return R.description||"Activity"}},v=()=>{switch(R.type){case"ticket_purchase":return R.amount?`${R.amount} ${m()}`:"";case"refund_claimed":return R.amount?`${R.amount} ${m()}`:"";default:return R.description||""}},A=()=>{switch(R.type){case"ticket_purchase":return o.jsx(np,{className:"h-4 w-4 text-blue-500"});case"raffle_created":return o.jsx(zs,{className:"h-4 w-4 text-green-500"});case"prize_claimed":return o.jsx(tp,{className:"h-4 w-4 text-yellow-500"});case"refund_claimed":return o.jsx(Oi,{className:"h-4 w-4 text-orange-500"});default:return o.jsx($p,{className:"h-4 w-4 text-gray-500"})}};return{...R,title:h(),description:v(),icon:A(),timestamp:R.timestamp?new Date(R.timestamp<1e12?R.timestamp*1e3:R.timestamp).toLocaleString():"Unknown date"}}),[p]);function W(R){var A,_;if(R!=null&&R.reason)return R.reason;if((A=R==null?void 0:R.data)!=null&&A.message)return R.data.message;const h=(R==null?void 0:R.message)||((_=R==null?void 0:R.data)==null?void 0:_.message)||(R==null?void 0:R.toString())||"",v=h.match(/execution reverted:?\s*([^\n]*)/i);return v&&v[1]?v[1].trim():h}const K=async R=>{let h=`Are you sure you want to delete "${R.name}"?`;if(R.ticketsSold>0&&(h+=`

This raffle has ${R.ticketsSold} sold tickets. Deletion will automatically process refunds for all participants.`),!!window.confirm(h))try{const v=l(R.address,"raffle");if(!v)throw new Error("Failed to get raffle contract");const A=await c(v.deleteRaffle);if(A.success){const _=R.ticketsSold>0?`Raffle deleted successfully! Refunds have been processed automatically for ${R.ticketsSold} sold tickets.`:"Raffle deleted successfully!";ne.success(_),setLoading(!0),await Promise.all([O(),S(),U()]),setLoading(!1)}else throw new Error(A.error)}catch(v){ne.error(W(v))}},Z=R=>{D(R),setShowRevenueModal(!0)},Y=async R=>{try{const h=l(R.raffleAddress,"raffle");if(!h)throw new Error("Failed to get raffle contract");let v;if(R.prizeAmount>1?v=await c(h.claimPrizes,R.prizeAmount):v=await c(h.claimPrize),v.success)ne.success("Prize claimed successfully!"),setLoading(!0),await Promise.all([O(),S(),U()]),setLoading(!1);else throw new Error(v.error)}catch(h){ne.error(W(h))}},q=async R=>{try{const h=l(R.raffleAddress,"raffle");if(!h)throw new Error("Failed to get raffle contract");const v=await h.refundedNonWinningTickets(e),A=v&&v.gt&&v.gt(0),_=await c(h.claimRefund);if(_.success)ne.success("Refund claimed successfully!"),setLoading(!0),await Promise.all([O(),S(),U()]),setLoading(!1);else throw new Error(_.error)}catch(h){ne.error(W(h))}};return t?o.jsxs(io,{variant:"profile",className:f?"py-4":"py-8",children:[o.jsxs("div",{className:f?"mb-6":"mb-8",children:[o.jsx("div",{className:`${f?"mb-4":"flex items-center justify-between mb-4"}`,children:o.jsxs("div",{children:[o.jsx("h1",{className:`font-bold mb-2 ${f?"text-2xl":"text-3xl"}`,children:"Profile"}),o.jsx("p",{className:`text-muted-foreground ${f?"text-sm":"text-base"}`,children:"Track activities, manage your raffles, revenue and collections"})]})}),o.jsxs("div",{className:`mt-4 bg-muted/50 backdrop-blur-sm border border-border/30 rounded-lg ${f?"p-3":"p-4"}`,children:[o.jsx("p",{className:"text-sm font-medium",children:"Connected Account:"}),o.jsx("p",{className:`font-mono ${f?"text-xs break-all":"text-sm"}`,children:e})]})]}),!f&&o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:`font-semibold mb-4 ${f?"text-lg":"text-xl"}`,children:"Activity Overview"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 hover:shadow-lg transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(el,{className:"h-8 w-8 text-blue-500"}),o.jsxs("div",{children:[o.jsx("p",{className:`font-bold ${f?"text-lg":"text-2xl"}`,children:w.totalTicketsPurchased}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Tickets Purchased"})]})]})}),o.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 hover:shadow-lg transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(zs,{className:"h-8 w-8 text-green-500"}),o.jsxs("div",{children:[o.jsx("p",{className:`font-bold ${f?"text-lg":"text-2xl"}`,children:w.totalRafflesCreated}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Raffles Created"})]})]})}),o.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 hover:shadow-lg transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Mi,{className:"h-8 w-8 text-yellow-500"}),o.jsxs("div",{children:[o.jsx("p",{className:`font-bold ${f?"text-lg":"text-2xl"}`,children:w.totalPrizesWon}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Prizes Won"})]})]})}),o.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 hover:shadow-lg transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(gc,{className:"h-8 w-8 text-emerald-500"}),o.jsxs("div",{children:[o.jsx("p",{className:`font-bold ${f?"text-lg":"text-2xl"}`,children:w.totalRevenueWithdrawn&&w.totalRevenueWithdrawn.toString?parseFloat(Cr(w.totalRevenueWithdrawn)).toFixed(4):"0.0000"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Creator Revenue Withdrawn"})]})]})}),o.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 hover:shadow-lg transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(KP,{className:"h-8 w-8 text-orange-500"}),o.jsxs("div",{children:[o.jsx("p",{className:`font-bold ${f?"text-lg":"text-2xl"}`,children:w.totalRefundsClaimed}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Refunds Claimed"})]})]})})]})]}),P?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading..."})]}):o.jsx(VI,{activities:V,createdRaffles:x,purchasedTickets:C,creatorStats:{totalRaffles:x.length,activeRaffles:x.filter(R=>R.state==="active").length,totalRevenue:x.reduce((R,h)=>R+(parseFloat(h.revenue)||0),0).toFixed(4),monthlyRevenue:"0.0000",totalParticipants:x.reduce((R,h)=>R+h.ticketsSold,0),uniqueParticipants:x.reduce((R,h)=>R+h.ticketsSold,0),successRate:x.length>0?Math.round(x.filter(R=>R.state==="completed").length/x.length*100):0},onDeleteRaffle:K,onViewRevenue:Z,onClaimPrize:Y,onClaimRefund:q}),E&&I&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-card/90 backdrop-blur-md border border-border/50 rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revenue Details"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Raffle:"}),o.jsx("span",{className:"font-medium",children:I.name})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Total Revenue:"}),o.jsxs("span",{className:"font-medium",children:[Cr(I.totalRevenue)," ETH"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Tickets Sold:"}),o.jsx("span",{className:"font-medium",children:I.ticketsSold})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx("button",{onClick:()=>setShowRevenueModal(!1),className:"flex-1 bg-[#614E41] text-white px-4 py-2 rounded-md hover:bg-[#4a3a30] transition-colors",children:"Close"}),o.jsx("button",{onClick:()=>{setShowRevenueModal(!1)},className:"flex-1 bg-[#614E41] text-white px-4 py-2 rounded-md hover:bg-[#4a3a30] transition-colors",children:"Withdraw"})]})]})})]}):o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Connect Your Wallet"}),o.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to view your profile and activity."})]})})};var vf="Switch",[JI,D_]=go(vf),[XI,ZI]=JI(vf),N2=b.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:l,required:c,disabled:d,value:f="on",onCheckedChange:m,form:p,...x}=t,[C,w]=b.useState(null),P=Wt(e,S=>w(S)),E=b.useRef(!1),I=C?p||!!C.closest("form"):!0,[D,O]=Ui({prop:i,defaultProp:l??!1,onChange:m,caller:vf});return o.jsxs(XI,{scope:r,checked:D,disabled:d,children:[o.jsx(ut.button,{type:"button",role:"switch","aria-checked":D,"aria-required":c,"data-state":S2(D),"data-disabled":d?"":void 0,disabled:d,value:f,...x,ref:P,onClick:Ue(t.onClick,S=>{O(U=>!U),I&&(E.current=S.isPropagationStopped(),E.current||S.stopPropagation())})}),I&&o.jsx(A2,{control:C,bubbles:!E.current,name:n,value:f,checked:D,required:c,disabled:d,form:p,style:{transform:"translateX(-100%)"}})]})});N2.displayName=vf;var C2="SwitchThumb",E2=b.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=ZI(C2,r);return o.jsx(ut.span,{"data-state":S2(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});E2.displayName=C2;var e_="SwitchBubbleInput",A2=b.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},l)=>{const c=b.useRef(null),d=Wt(c,l),f=o1(r),m=Hw(e);return b.useEffect(()=>{const p=c.current;if(!p)return;const x=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(x,"checked").set;if(f!==r&&w){const P=new Event("click",{bubbles:n});w.call(p,r),p.dispatchEvent(P)}},[f,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:d,style:{...i.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});A2.displayName=e_;function S2(t){return t?"checked":"unchecked"}var t_=N2,r_=E2;function n_({className:t,size:e="default",...r}){const n={default:{root:"h-5 w-9 rounded-full",thumb:"h-4 w-4 rounded-full data-[state=checked]:translate-x-4"},mobile:{root:"h-7 w-12 rounded-full",thumb:"h-5 w-5 rounded-full data-[state=checked]:translate-x-5"},large:{root:"h-8 w-14 rounded-full",thumb:"h-7 w-7 rounded-full data-[state=checked]:translate-x-6"}},i=n[e]||n.default;return o.jsx(t_,{"data-slot":"switch",className:We("peer inline-flex shrink-0 cursor-pointer items-center border-2 border-transparent transition-all duration-200 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-muted hover:data-[state=unchecked]:bg-muted/80 active:scale-95",i.root,t),...r,children:o.jsx(r_,{"data-slot":"switch-thumb",className:We("pointer-events-none block bg-background shadow-lg ring-0 transition-all duration-200 ease-in-out data-[state=unchecked]:translate-x-0 data-[state=checked]:shadow-xl",i.thumb)})})}const xo=({tokenGatedEnabled:t,onTokenGatedChange:e,formData:r,handleChange:n,required:i=!1,useFormDataEnabled:l=!1})=>{const{isMobile:c}=sr(),d=l?r.tokenGatedEnabled:t,f=l?m=>n("tokenGatedEnabled",m):e;return o.jsxs(o.Fragment,{children:[c?o.jsx("div",{className:"p-4 bg-card/50 rounded-xl border border-border/50 mb-4 shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between gap-4 cursor-pointer select-none transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 hover:bg-muted/10 active:bg-muted/20 rounded-lg p-1 -m-1",onClick:()=>f(!d),onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),f(!d))},tabIndex:0,role:"button","aria-label":`${d?"Disable":"Enable"} token-gated access`,children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"font-medium block cursor-pointer text-base mb-1",children:"Enable Token-Gated Access"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Restrict raffle participation to token holders"})]}),o.jsx(gs,{className:`h-6 w-6 transition-colors duration-200 ${d?"text-green-600":"text-muted-foreground/40"}`})]})}):o.jsx("div",{className:"mb-2",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(n_,{checked:d,onCheckedChange:f,size:"default"}),o.jsx("div",{className:"flex-1 cursor-pointer select-none transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 hover:text-foreground/80 active:text-foreground",onClick:()=>f(!d),onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),f(!d))},tabIndex:0,role:"button","aria-label":`${d?"Disable":"Enable"} token-gated access`,children:o.jsx("label",{className:"font-medium block cursor-pointer text-sm",children:"Enable Token-Gated Access"})})]})}),d&&o.jsx("div",{className:"p-4 border rounded-lg bg-muted/10 mb-4",children:o.jsxs("div",{className:`${c?"space-y-4":"grid grid-cols-1 md:grid-cols-2 gap-4"}`,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block font-medium mb-1 text-base",children:"Token Address"}),o.jsx("input",{type:"text",value:r.holderTokenAddress||"",onChange:m=>n("holderTokenAddress",m.target.value),className:`w-full border border-border rounded-lg bg-background font-mono ${c?"px-4 py-3 text-base":"px-3 py-2.5 text-base"}`,placeholder:"0x...",required:i&&d})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block font-medium mb-1 text-base",children:"Token Standard"}),o.jsxs(qi,{value:r.holderTokenStandard||"0",onValueChange:m=>n("holderTokenStandard",m),required:i&&d,children:[o.jsx(Gi,{className:`w-full border border-border rounded-lg bg-background ${c?"px-4 py-3 text-base h-12":"px-3 py-2.5 text-base"}`,children:o.jsx(Hi,{placeholder:"Select Token Standard"})}),o.jsxs(Vi,{children:[o.jsx(Kr,{value:"0",children:"ERC721"}),o.jsx(Kr,{value:"1",children:"ERC1155"}),o.jsx(Kr,{value:"2",children:"ERC20"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block font-medium mb-1 text-base",children:"Minimum Holder Balance"}),o.jsx("input",{type:"number",value:r.minHolderTokenBalance||"",onChange:m=>n("minHolderTokenBalance",m.target.value),className:`w-full border border-border rounded-lg bg-background ${c?"px-4 py-3 text-base":"px-3 py-2.5 text-base"}`,placeholder:"Minimum balance required to enter",required:i&&d})]}),r.holderTokenStandard==="1"&&o.jsxs("div",{children:[o.jsx("label",{className:"block font-medium mb-1 text-base",children:"Token ID"}),o.jsx("input",{type:"number",value:r.holderTokenId||"",onChange:m=>n("holderTokenId",m.target.value),className:`w-full border border-border rounded-lg bg-background ${c?"px-4 py-3 text-base":"px-3 py-2.5 text-base"}`,placeholder:"Token ID (for ERC1155)",required:i&&d})]})]})})]})},s_=({isOpen:t,onToggle:e,raffleType:r,setRaffleType:n,nftStandard:i,setNftStandard:l,erc721Source:c,setErc721Source:d,erc1155Source:f,setErc1155Source:m,className:p=""})=>{const{isMobile:x}=sr(),{getCurrencySymbol:C}=Ir(),[w,P]=b.useState({raffleType:!0,nftConfiguration:!0,collectionSource:!0}),E=b.useMemo(()=>{const K=C();return[{value:"Whitelist/Allowlist",label:"Whitelist/Allowlist",description:"Whitelist Campaigns"},{value:"NFTDrop",label:"NFT Drop",description:"Raffles with Mintable NFT Prizes"},{value:"Lucky Sale/NFT Giveaway",label:"Lucky Sale/NFT Giveaway",description:"Discounted NFT sales/NFT Giveaways"},{value:"Native Token Giveaway",label:`${K} Giveaway`,description:"Native Coin Giveaways"},{value:"ERC20 Token Giveaway",label:"ERC20 Token Giveaway",description:"Token Giveaways"}]},[C]),I=[{value:"ERC721",label:"ERC721"},{value:"ERC1155",label:"ERC1155"}],D=[{value:"New ERC721 Collection",label:"New ERC721 Collection",description:"Deploy new collection"},{value:"Existing ERC721 Collection",label:"Existing ERC721 Collection",description:"Use existing collection"}],O=[{value:"New ERC1155 Collection",label:"New ERC1155 Collection",description:"Deploy new collection"},{value:"Existing ERC1155 Collection",label:"Existing ERC1155 Collection",description:"Use existing collection"}],S=b.useCallback(K=>{P(Z=>({...Z,[K]:!Z[K]}))},[]),U=b.useCallback(()=>{n("Whitelist/Allowlist"),l("ERC721"),d("New ERC721 Collection"),m("New ERC1155 Collection")},[n,l,d,m]),$=b.useMemo(()=>r!=="Whitelist/Allowlist"||i!=="ERC721"||c!=="New ERC721 Collection"||f!=="New ERC1155 Collection",[r,i,c,f]),H=r==="NFTDrop"||r==="Lucky Sale/NFT Giveaway",V=r==="NFTDrop",W=b.useCallback((K,Z,Y,q,R,h=!1)=>{const v=w[Z];return o.jsxs("div",{className:"border-b border-border/30 last:border-b-0",children:[o.jsxs("button",{onClick:()=>S(Z),className:"w-full flex items-center justify-between p-3 sm:p-4 text-left hover:bg-muted/50 transition-colors",disabled:h,children:[o.jsx("span",{className:`text-sm sm:text-base font-medium ${h?"text-muted-foreground":""}`,children:K}),v?o.jsx(pc,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"}):o.jsx(Li,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"})]}),v&&!h&&o.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4 space-y-1 sm:space-y-2",children:Y.map(A=>{const _=q===A.value;return o.jsxs("label",{className:"flex items-start space-x-2 sm:space-x-3 cursor-pointer hover:bg-muted/30 p-1.5 sm:p-2 rounded-md transition-colors",children:[o.jsx("input",{type:"radio",name:Z,checked:_,onChange:()=>R(A.value),className:`mt-1 h-3 w-3 sm:h-4 sm:w-4 text-primary bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-full focus:ring-0 focus:outline-none checked:bg-primary checked:border-primary appearance-none relative ${_?'after:content-[""] after:absolute after:top-1/2 after:left-1/2 after:transform after:-translate-x-1/2 after:-translate-y-1/2 after:w-1 after:h-1 sm:after:w-1.5 sm:after:h-1.5 after:bg-white after:rounded-full':""}`,style:{minHeight:"12px",minWidth:"12px",maxHeight:"12px",maxWidth:"12px"}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("span",{className:"text-xs sm:text-sm font-medium leading-tight",children:A.label}),A.description&&o.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:A.description})]})]},A.value)})}),h&&o.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4",children:o.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Select appropriate raffle type to enable this filter"})})]},Z)},[w,S]);return o.jsxs(o.Fragment,{children:[t&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-30",onClick:e}),o.jsxs("div",{className:`
        fixed left-0
        top-14 sm:top-16
        h-[calc(100vh-3.5rem)] sm:h-[calc(100vh-4rem)]
        w-64 sm:w-72 md:w-80
        bg-background border-r border-border
        transform transition-transform duration-300 ease-in-out
        z-40
        flex flex-col
        ${t?"translate-x-0":"-translate-x-full"}
        ${p}
      `,children:[o.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-border bg-muted/20",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qp,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),o.jsx("h2",{className:"font-semibold text-base sm:text-lg",children:"Create Raffle"})]}),o.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[$&&o.jsx(et,{variant:"ghost",size:"sm",onClick:U,className:"text-xs px-2 sm:px-3 h-7 sm:h-8 hover:bg-destructive/10 hover:text-destructive",children:"Reset"}),o.jsx(et,{variant:"ghost",size:"sm",onClick:e,className:"hover:bg-muted h-7 w-7 sm:h-8 sm:w-8 p-0",title:"Close filters",children:o.jsx(Gp,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})]})]}),o.jsx("div",{className:"p-3 sm:p-4 bg-muted/30",children:o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Configure Raffle type and Prizes"})}),o.jsxs("div",{className:"flex-1 overflow-y-auto",children:[W("Raffle Type","raffleType",E,r,n),H&&W("NFT Standard","nftConfiguration",I,i,l),V&&i==="ERC721"&&W("ERC721 Source","collectionSource",D,c,d),V&&i==="ERC1155"&&W("ERC1155 Source","collectionSource",O,f,m)]})]})]})},o_=()=>{const{connected:t,address:e}=Ot(),{contracts:r,executeTransaction:n}=Vt(),{isMobile:i}=sr(),l=vo(r,!1),[c,d]=b.useState(!1),[f,m]=b.useState(!1),[p,x]=b.useState({name:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),C=(P,E)=>{x(I=>({...I,[P]:E}))},w=async P=>{if(P.preventDefault(),!t||!r.raffleDeployer){ne.error("Please connect your wallet and ensure contracts are configured");return}d(!0);try{const E=Math.floor(new Date(p.startTime).getTime()/1e3),I=parseInt(p.duration)*60,D=f&&p.holderTokenAddress?p.holderTokenAddress:Pe,O=f?parseInt(p.holderTokenStandard):0,S=f&&p.minHolderTokenBalance?_n(p.minHolderTokenBalance,18):ce.from(0),U=f&&p.holderTokenId?parseInt(p.holderTokenId):0,$={name:p.name,startTime:E,duration:I,ticketLimit:parseInt(p.ticketLimit),winnersCount:parseInt(p.winnersCount),maxTicketsPerParticipant:1,isPrized:!1,customTicketPrice:0,erc721Drop:!1,erc1155Drop:!1,prizeCollection:Pe,standard:0,prizeTokenId:0,amountPerWinner:0,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:Pe,maxSupply:0,erc20PrizeToken:Pe,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,mintingOrder:0,holderTokenAddress:D,holderTokenStandard:O,minHolderTokenBalance:S,holderTokenId:U};let H={success:!1};try{const V=await r.raffleDeployer.createRaffle($);H={success:!0,receipt:await V.wait(),hash:V.hash}}catch(V){H={success:!1,error:V.message}}if(H.success)ne.success("Your raffle was created successfully!"),x({name:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),m(!1);else throw new Error(H.error)}catch(E){console.error("Error creating raffle:",E),ne.error(ta(E))}finally{d(!1)}};return o.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(Wp,{className:"h-5 w-5"}),o.jsx("h3",{className:"text-xl font-semibold",children:"Whitelist Raffle"})]}),o.jsxs("form",{onSubmit:w,className:"space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Raffle Name"}),o.jsx("input",{type:"text",value:p.name||"",onChange:P=>C("name",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),o.jsx("input",{type:"datetime-local",value:p.startTime||"",onChange:P=>C("startTime",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),o.jsx("input",{type:"number",value:p.duration||"",onChange:P=>C("duration",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minDuration&&l.maxDuration&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",Math.ceil(Number(l.minDuration)/60)," min, Max Allowed: ",Math.floor(Number(l.maxDuration)/60)," min"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),o.jsx("input",{type:"number",value:p.ticketLimit||"",onChange:P=>C("ticketLimit",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minTicket&&l.maxTicket&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",l.minTicket,", Max Allowed: ",l.maxTicket]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Winner Count"}),o.jsx("input",{type:"number",value:p.winnersCount||"",onChange:P=>C("winnersCount",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per Participant"}),o.jsx("input",{type:"number",value:1,disabled:!0,className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]})]}),o.jsx(xo,{tokenGatedEnabled:f,onTokenGatedChange:m,formData:p,handleChange:C,required:!0}),o.jsx("div",{className:"flex gap-4",children:o.jsx(et,{type:"submit",disabled:c||!t,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:c?"Creating...":"Create Raffle"})})]})]})},i_=()=>{const{connected:t,address:e,provider:r}=Ot(),{contracts:n,executeTransaction:i}=Vt(),{getCurrencyLabel:l}=Ir(),c=vo(n,!0),[d,f]=b.useState(!1),[m,p]=b.useState({name:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",customTicketPrice:"",collectionName:"",collectionSymbol:"",baseURI:"",maxSupply:"",royaltyPercentage:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",mintingOrder:"0",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""});b.useEffect(()=>{e&&!m.royaltyRecipient&&p(w=>({...w,royaltyRecipient:e}))},[e]);const x=(w,P)=>{p(E=>({...E,[w]:P}))},C=async w=>{if(w.preventDefault(),!t||!n.raffleDeployer||!r){ne.error("Please connect your wallet and ensure contracts are configured");return}f(!0);try{const P=r.getSigner(),E=Math.floor(new Date(m.startTime).getTime()/1e3),I=parseInt(m.duration)*60,D=m.customTicketPrice?Xi(m.customTicketPrice):0;let O=parseInt(m.revealType),S=m.unrevealedBaseURI,U=0;O===2&&(U=Math.floor(new Date(m.revealTime).getTime()/1e3)),O!==2&&(S="",U=0);const $={name:m.name,startTime:E,duration:I,ticketLimit:parseInt(m.ticketLimit),winnersCount:parseInt(m.winnersCount),maxTicketsPerParticipant:parseInt(m.maxTicketsPerParticipant),isPrized:!0,customTicketPrice:D,erc721Drop:!1,erc1155Drop:!1,prizeCollection:Pe,standard:0,prizeTokenId:0,amountPerWinner:1,collectionName:m.collectionName,collectionSymbol:m.collectionSymbol,collectionBaseURI:m.baseURI,creator:e,royaltyPercentage:m.royaltyPercentage?parseInt(m.royaltyPercentage)*100:0,royaltyRecipient:m.royaltyRecipient,maxSupply:parseInt(m.maxSupply||m.winnersCount),erc20PrizeToken:Pe,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:O,unrevealedBaseURI:S,revealTime:U,mintingOrder:parseInt(m.mintingOrder),holderTokenAddress:m.tokenGatedEnabled?m.holderTokenAddress:Pe,holderTokenStandard:m.tokenGatedEnabled?parseInt(m.holderTokenStandard):0,minHolderTokenBalance:m.tokenGatedEnabled&&m.minHolderTokenBalance!==""&&m.minHolderTokenBalance!==void 0?_n(m.minHolderTokenBalance,18):ce.from(0),holderTokenId:m.tokenGatedEnabled&&(m.holderTokenStandard==="0"||m.holderTokenStandard==="1")?parseInt(m.holderTokenId):0};await(await n.raffleDeployer.connect(P).createRaffle($)).wait(),ne.success("Your raffle was created successfully!"),p({name:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",customTicketPrice:"",collectionName:"",collectionSymbol:"",baseURI:"",maxSupply:"",royaltyPercentage:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",mintingOrder:"0",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(P){console.error("Error creating raffle:",P),ne.error(ta(P))}finally{f(!1)}};return o.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(Jd,{className:"h-5 w-5"}),o.jsx("h3",{className:"text-xl font-semibold",children:"New ERC721 Collection Raffle"})]}),o.jsxs("form",{onSubmit:C,className:"space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Raffle Name"}),o.jsx("input",{type:"text",value:m.name||"",onChange:w=>x("name",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),o.jsx("input",{type:"datetime-local",value:m.startTime||"",onChange:w=>x("startTime",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),o.jsx("input",{type:"number",value:m.duration||"",onChange:w=>x("duration",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),c.minDuration&&c.maxDuration&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",Math.ceil(Number(c.minDuration)/60)," min, Max Allowed: ",Math.floor(Number(c.maxDuration)/60)," min"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),o.jsx("input",{type:"number",value:m.ticketLimit||"",onChange:w=>x("ticketLimit",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),c.minTicket&&c.maxTicket&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",c.minTicket,", Max Allowed: ",c.maxTicket]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Winners"}),o.jsx("input",{type:"number",value:m.winnersCount||"",onChange:w=>x("winnersCount",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per Participant"}),o.jsx("input",{type:"number",value:m.maxTicketsPerParticipant||"",onChange:w=>x("maxTicketsPerParticipant",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),typeof c.maxTicketsPerParticipant=="string"&&c.maxTicketsPerParticipant!==""?o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max Allowed: ",c.maxTicketsPerParticipant]}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:l("ticket")}),o.jsx("input",{type:"number",step:"0.001",value:m.customTicketPrice||"",onChange:w=>x("customTicketPrice",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",placeholder:"Leave empty to use protocol default"})]})]}),o.jsxs("div",{className:"bg-muted/20 border border-border rounded-xl p-4 mt-4",children:[o.jsx("h4",{className:"font-semibold text-base mb-4",children:"NFT Collection Info"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Collection Name"}),o.jsx("input",{type:"text",value:m.collectionName||"",onChange:w=>x("collectionName",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Collection Symbol"}),o.jsx("input",{type:"text",value:m.collectionSymbol||"",onChange:w=>x("collectionSymbol",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Base URI"}),o.jsx("input",{type:"url",value:m.baseURI||"",onChange:w=>x("baseURI",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Supply"}),o.jsx("input",{type:"number",value:m.maxSupply||"",onChange:w=>x("maxSupply",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Royalty Percentage (%)"}),o.jsx("input",{type:"number",value:m.royaltyPercentage||"",onChange:w=>x("royaltyPercentage",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",min:"0",step:"0.01",placeholder:"e.g. 5 for 5%"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"Enter as a percentage (e.g. 5 for 5%)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Royalty Recipient"}),o.jsx("input",{type:"text",value:m.royaltyRecipient||"",onChange:w=>x("royaltyRecipient",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0,pattern:"^0x[a-fA-F0-9]{40}$"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"Must be a valid Ethereum address"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Reveal Type"}),o.jsxs(qi,{value:m.revealType,onValueChange:w=>x("revealType",w),required:!0,children:[o.jsx(Gi,{className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",children:o.jsx(Hi,{placeholder:"Select Reveal Type"})}),o.jsxs(Vi,{children:[o.jsx(Kr,{value:"0",children:"Instant Reveal"}),o.jsx(Kr,{value:"1",children:"Manual Reveal"}),o.jsx(Kr,{value:"2",children:"Scheduled Reveal"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Minting Order"}),o.jsxs(qi,{value:m.mintingOrder,onValueChange:w=>x("mintingOrder",w),required:!0,children:[o.jsx(Gi,{className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",children:o.jsx(Hi,{placeholder:"Select Minting Order"})}),o.jsxs(Vi,{children:[o.jsx(Kr,{value:"0",children:"Linear (1, 2, 3, ...)"}),o.jsx(Kr,{value:"1",children:"Random (e.g., 57, 12, 98, ...)"})]})]}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"Linear: Token IDs are minted sequentially. Random: Token IDs are minted in random order."})]}),(m.revealType==="1"||m.revealType==="2")&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Unrevealed Base URI"}),o.jsx("input",{type:"url",value:m.unrevealedBaseURI||"",onChange:w=>x("unrevealedBaseURI",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:m.revealType==="1"||m.revealType==="2"})]}),m.revealType==="2"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Reveal Time"}),o.jsx("input",{type:"datetime-local",value:m.revealTime||"",onChange:w=>x("revealTime",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:m.revealType==="2"})]})]})]}),o.jsx(xo,{formData:m,handleChange:x,required:!0,useFormDataEnabled:!0}),o.jsx("div",{className:"flex gap-4",children:o.jsx(et,{type:"submit",disabled:d||!t,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:d?"Creating...":"Create Raffle"})})]})]})};function a_(){const{connected:t,address:e,provider:r}=Ot(),{contracts:n,executeTransaction:i}=Vt(),{getCurrencyLabel:l}=Ir(),c=vo(n,!0),[d,f]=b.useState(!1),[m,p]=b.useState(!1),[x,C]=b.useState({name:"",collection:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerUser:"",ticketPrice:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),w=(D,O)=>{C(S=>({...S,[D]:O}))},P=async D=>{if(D.preventDefault(),!t||!n.raffleDeployer||!r){ne.error("Please connect your wallet and ensure contracts are configured");return}f(!0);try{const O=r.getSigner(),S=Math.floor(new Date(x.startTime).getTime()/1e3),U=parseInt(x.duration)*60,$=x.ticketPrice?Xi(x.ticketPrice):0,H=m&&x.holderTokenAddress?x.holderTokenAddress:Pe,V=m?parseInt(x.holderTokenStandard):0,W=m&&x.minHolderTokenBalance?_n(x.minHolderTokenBalance,18):0,K=m&&x.holderTokenId?parseInt(x.holderTokenId):0,Z={name:x.name,startTime:S,duration:U,ticketLimit:parseInt(x.ticketLimit),winnersCount:parseInt(x.winnersCount),maxTicketsPerParticipant:parseInt(x.maxTicketsPerUser),isPrized:!0,customTicketPrice:$,erc721Drop:!0,erc1155Drop:!1,prizeCollection:x.collection,standard:0,prizeTokenId:0,amountPerWinner:1,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:Pe,maxSupply:0,erc20PrizeToken:Pe,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,mintingOrder:0,holderTokenAddress:H,holderTokenStandard:V,minHolderTokenBalance:W,holderTokenId:K};await(await n.raffleDeployer.connect(O).createRaffle(Z)).wait(),ne.success("Your raffle was created successfully!"),C({name:"",collection:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerUser:"",ticketPrice:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),p(!1)}catch(O){console.error("Error creating raffle:",O),ne.error(ta(O))}finally{f(!1)}},{status:E,checking:I}=P2(x.collection,n);return b.useEffect(()=>{x.collection&&!I&&E!==null&&(E?ne.success("This collection is approved"):ne.error("This collection is not approved"))},[x.collection,I,E]),o.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(Ew,{className:"h-5 w-5"}),o.jsx("h3",{className:"text-xl font-semibold",children:"Existing ERC721 Prize Raffle"})]}),o.jsxs("form",{onSubmit:P,className:"space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Raffle Name"}),o.jsx("input",{type:"text",value:x.name||"",onChange:D=>w("name",D.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Collection Address"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",value:x.collection||"",onChange:D=>w("collection",D.target.value),className:"w-full px-3 py-2.5 pr-10 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),x.collection&&!I&&E===!0&&o.jsx(gs,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-600"}),x.collection&&!I&&E===!1&&o.jsx(jc,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-red-600"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),o.jsx("input",{type:"datetime-local",value:x.startTime||"",onChange:D=>w("startTime",D.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),o.jsx("input",{type:"number",min:"1",value:x.duration||"",onChange:D=>w("duration",D.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),o.jsx("input",{type:"number",min:"1",value:x.ticketLimit||"",onChange:D=>w("ticketLimit",D.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Winner Count"}),o.jsx("input",{type:"number",value:x.winnersCount||"",onChange:D=>w("winnersCount",D.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per User"}),o.jsx("input",{type:"number",min:"1",value:x.maxTicketsPerUser||"",onChange:D=>w("maxTicketsPerUser",D.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),typeof c.maxTicketsPerParticipant=="string"&&c.maxTicketsPerParticipant!==""?o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max Allowed: ",c.maxTicketsPerParticipant]}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-base font-medium mb-2",children:[l("ticket")," ",o.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"(Enter 0 for NFT giveaway)"})]}),o.jsx("input",{type:"number",min:"0",step:"any",value:x.ticketPrice||"",onChange:D=>w("ticketPrice",D.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsx(xo,{tokenGatedEnabled:m,onTokenGatedChange:p,formData:x,handleChange:w,required:!0}),o.jsx("div",{className:"flex gap-4",children:o.jsx(et,{type:"submit",className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:"Create Raffle"})})]})]})}function l_(){const{connected:t,address:e,provider:r}=Ot(),{contracts:n}=Vt(),{getCurrencyLabel:i}=Ir(),l=vo(n,!0),[c,d]=b.useState(!1),[f,m]=b.useState({name:"",collectionAddress:"",tokenId:"",amountPerWinner:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",ticketPrice:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),p=(P,E)=>{m(I=>({...I,[P]:E}))},x=async P=>{if(P.preventDefault(),!t||!n.raffleDeployer||!r){ne.error("Please connect your wallet and ensure contracts are configured");return}d(!0);try{const E=r.getSigner(),I=Math.floor(new Date(f.startTime).getTime()/1e3),D=parseInt(f.duration)*60,O=f.ticketPrice?Xi(f.ticketPrice):0,S={name:f.name,startTime:I,duration:D,ticketLimit:parseInt(f.ticketLimit),winnersCount:parseInt(f.winnersCount),maxTicketsPerParticipant:parseInt(f.maxTicketsPerParticipant),isPrized:!0,customTicketPrice:O,erc721Drop:!1,erc1155Drop:!0,prizeCollection:f.collectionAddress,standard:1,prizeTokenId:parseInt(f.tokenId),amountPerWinner:parseInt(f.amountPerWinner),collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:Pe,maxSupply:0,erc20PrizeToken:Pe,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,mintingOrder:0,holderTokenAddress:f.tokenGatedEnabled?f.holderTokenAddress:Pe,holderTokenStandard:f.tokenGatedEnabled?parseInt(f.holderTokenStandard):0,minHolderTokenBalance:f.tokenGatedEnabled?_n(f.minHolderTokenBalance,18):0,holderTokenId:f.tokenGatedEnabled&&(f.holderTokenStandard==="0"||f.holderTokenStandard==="1")?parseInt(f.holderTokenId):0};await(await n.raffleDeployer.connect(E).createRaffle(S)).wait(),ne.success("Your raffle was created successfully!"),m({name:"",collectionAddress:"",tokenId:"",amountPerWinner:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",ticketPrice:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(E){console.error("Error creating raffle:",E),ne.error(E.message||"Error creating raffle")}finally{d(!1)}},{status:C,checking:w}=P2(f.collectionAddress,n);return b.useEffect(()=>{f.collectionAddress&&!w&&C!==null&&(C?ne.success("This collection is approved"):ne.error("This collection is not approved"))},[f.collectionAddress,w,C]),o.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(Ew,{className:"h-5 w-5"}),o.jsx("h3",{className:"text-xl font-semibold",children:"Existing ERC1155 Collection Raffle"})]}),o.jsxs("form",{onSubmit:x,className:"space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Raffle Name"}),o.jsx("input",{type:"text",value:f.name||"",onChange:P=>p("name",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Collection Address"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",value:f.collectionAddress||"",onChange:P=>p("collectionAddress",P.target.value),className:"w-full px-3 py-2.5 pr-10 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),f.collectionAddress&&!w&&C===!0&&o.jsx(gs,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-600"}),f.collectionAddress&&!w&&C===!1&&o.jsx(jc,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-red-600"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Token ID"}),o.jsx("input",{type:"number",min:"0",value:f.tokenId||"",onChange:P=>p("tokenId",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Amount Per Winner"}),o.jsx("input",{type:"number",min:"1",value:f.amountPerWinner||"",onChange:P=>p("amountPerWinner",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),o.jsx("input",{type:"datetime-local",value:f.startTime||"",onChange:P=>p("startTime",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),o.jsx("input",{type:"number",value:f.duration||"",onChange:P=>p("duration",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minDuration&&l.maxDuration&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",Math.ceil(Number(l.minDuration)/60)," min, Max Allowed: ",Math.floor(Number(l.maxDuration)/60)," min"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),o.jsx("input",{type:"number",value:f.ticketLimit||"",onChange:P=>p("ticketLimit",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minTicket&&l.maxTicket&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",l.minTicket,", Max Allowed: ",l.maxTicket]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Winners Count"}),o.jsx("input",{type:"number",value:f.winnersCount||"",onChange:P=>p("winnersCount",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per Participant"}),o.jsx("input",{type:"number",value:f.maxTicketsPerParticipant||"",onChange:P=>p("maxTicketsPerParticipant",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),typeof l.maxTicketsPerParticipant=="string"&&l.maxTicketsPerParticipant!==""?o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max Allowed: ",l.maxTicketsPerParticipant]}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:i("ticket")}),o.jsx("input",{type:"number",step:"0.001",value:f.ticketPrice||"",onChange:P=>p("ticketPrice",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",placeholder:"Leave empty to use protocol default"})]})]}),o.jsx(xo,{formData:f,handleChange:p,required:!0,useFormDataEnabled:!0}),o.jsx("div",{className:"flex gap-4",children:o.jsx(et,{type:"submit",disabled:c||!t,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:c?"Creating...":"Create Raffle"})})]})]})}const c_=()=>{const{connected:t,chainId:e}=Ot(),{contracts:r}=Vt();Ir();const n=()=>{if(!e||!ct[e])return!1;const Z=ct[e].contractAddresses;return(Z==null?void 0:Z.raffleDeployer)&&Z.raffleDeployer!=="0x..."&&(Z==null?void 0:Z.raffleManager)&&Z.raffleManager!=="0x..."},[i,l]=b.useState(null),[c,d]=b.useState("Whitelist/Allowlist"),[f,m]=b.useState("ERC721"),[p,x]=b.useState("New ERC721 Collection"),[C,w]=b.useState("Internal NFT Prize"),[P,E]=b.useState("Internal NFT Prize"),[I,D]=b.useState("Internal NFT Prize"),[O,S]=b.useState("New ERC1155 Collection"),[U,$]=b.useState(""),[H,V]=b.useState(!1);b.useEffect(()=>{(async()=>{if(c==="NFTDrop"&&f==="ERC721"&&p==="Existing ERC721 Collection"&&r.raffleManager)try{const Y=await r.raffleManager.toggleAllowExistingCollection();l(!!Y)}catch{l(!1)}})()},[c,f,p,r.raffleManager]),b.useEffect(()=>{c==="NFTDrop"&&f==="ERC721"&&p==="New ERC721 Collection"&&$("")},[c,f,p]);const W=()=>{if(c==="Whitelist/Allowlist")return o.jsx(o_,{});if(c==="NFTDrop"){if(f==="ERC721"){if(p==="New ERC721 Collection")return o.jsx(i_,{});if(p==="Existing ERC721 Collection")return o.jsx(a_,{collectionAddress:U,setCollectionAddress:$})}if(f==="ERC1155"){if(O==="New ERC1155 Collection")return o.jsx(p_,{});if(O==="Existing ERC1155 Collection")return o.jsx(l_,{})}}if(c==="Lucky Sale/NFT Giveaway"){if(f==="ERC721")return o.jsx(u_,{});if(f==="ERC1155")return o.jsx(d_,{})}return c==="Native Token Giveaway"?o.jsx(f_,{}):c==="ERC20 Token Giveaway"?o.jsx(h_,{}):null},{isMobile:K}=sr();return t?n()?o.jsx("div",{className:"min-h-screen bg-background pb-6",children:o.jsxs("div",{className:`${K?"px-4":"container mx-auto px-8"}`,children:[o.jsxs("div",{className:`text-center ${K?"mb-6 mt-4":"mb-4"}`,children:[o.jsx("h1",{className:`font-bold ${K?"text-2xl mb-2":"text-4xl mb-4"}`,children:"Create an on-chain raffle for your community"}),o.jsxs("p",{className:`font-semibold ${K?"text-base":"text-2xl"}`,children:["Configure your raffle ",o.jsx("a",{href:"#",onClick:Z=>{Z.preventDefault(),V(!0)},className:"text-primary hover:text-primary/90 no-underline font-medium transition-colors",children:"here"})]})]}),o.jsx("div",{className:`max-w-7xl mx-auto ${K?"mt-6":"mt-16"}`,children:K?o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"w-full",children:W()})}):o.jsx("div",{className:"flex gap-2 items-start",children:o.jsx("div",{className:"flex-1",children:W()})})}),o.jsx(s_,{isOpen:H,onToggle:()=>V(!H),raffleType:c,setRaffleType:d,nftStandard:f,setNftStandard:m,erc721Source:p,setErc721Source:x,erc1155Source:O,setErc1155Source:S})]})}):o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx(xg,{error:"CONTRACTS_NOT_AVAILABLE",onRetry:null,isMobile:K,showCreateButton:!1})}):o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(zs,{className:`mx-auto mb-4 text-muted-foreground ${K?"h-12 w-12":"h-16 w-16"}`}),o.jsx("h2",{className:`font-bold mb-2 ${K?"text-xl":"text-2xl"}`,children:"Connect Your Wallet"}),o.jsx("p",{className:`text-muted-foreground ${K?"text-sm":"text-base"}`,children:"Please connect your wallet to create raffles and deploy collections."})]})})};function u_(){const{connected:t,address:e,provider:r}=Ot(),{contracts:n}=Vt(),{isMobile:i}=sr(),{getCurrencyLabel:l}=Ir(),c=vo(n,!0),[d,f]=b.useState(!1),[m,p]=b.useState({name:"",collectionAddress:"",tokenId:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",ticketPrice:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),x=(E,I)=>{p(D=>({...D,[E]:I}))},C=async E=>{if(E.preventDefault(),!t||!n.raffleDeployer||!r){ne.error("Please connect your wallet and ensure contracts are configured");return}f(!0);try{const I=r.getSigner(),D=await wg({signer:I,tokenAddress:m.collectionAddress,prizeType:"erc721",spender:n.raffleDeployer.address,tokenId:m.tokenId});if(!D.success){ne.error("Token approval failed: "+D.error),f(!1);return}D.alreadyApproved||(ne.success("ERC721 approval successful!"),await new Promise(V=>setTimeout(V,2e3)));const O=Math.floor(new Date(m.startTime).getTime()/1e3),S=parseInt(m.duration)*60,U=m.ticketPrice?Xi(m.ticketPrice):0,$={name:m.name,startTime:O,duration:S,ticketLimit:parseInt(m.ticketLimit),winnersCount:parseInt(m.winnersCount),maxTicketsPerParticipant:parseInt(m.maxTicketsPerParticipant),isPrized:!0,customTicketPrice:U,erc721Drop:!1,prizeCollection:m.collectionAddress,standard:0,prizeTokenId:parseInt(m.tokenId),amountPerWinner:1,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:Pe,maxSupply:0,erc20PrizeToken:Pe,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,mintingOrder:0,holderTokenAddress:m.tokenGatedEnabled?m.holderTokenAddress:Pe,holderTokenStandard:m.tokenGatedEnabled?parseInt(m.holderTokenStandard):0,minHolderTokenBalance:m.tokenGatedEnabled&&m.minHolderTokenBalance!==""&&m.minHolderTokenBalance!==void 0?_n(m.minHolderTokenBalance,18):ce.from(0),holderTokenId:m.tokenGatedEnabled&&(m.holderTokenStandard==="0"||m.holderTokenStandard==="1")?parseInt(m.holderTokenId):0};await(await n.raffleDeployer.connect(I).createRaffle($)).wait(),ne.success("Your raffle was created successfully!"),p({name:"",collectionAddress:"",tokenId:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",ticketPrice:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(I){console.error("Error creating raffle:",I),ne.error(ta(I))}finally{f(!1)}},{status:w,checking:P}=T2(m.collectionAddress,n);return b.useEffect(()=>{m.collectionAddress&&!P&&w!==null&&(w?ne.success("This collection is approved"):ne.error("This collection is not approved"))},[m.collectionAddress,P,w]),o.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(Jd,{className:"h-5 w-5"}),o.jsx("h3",{className:`font-semibold ${i?"text-lg":"text-xl"}`,children:"Lucky Sale (ERC721 Escrowed Prize)"})]}),o.jsxs("form",{onSubmit:C,className:"space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:`block font-medium mb-2 ${i?"text-sm":"text-base"}`,children:"Raffle Name"}),o.jsx("input",{type:"text",value:m.name||"",onChange:E=>x("name",E.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:`block font-medium mb-2 ${i?"text-sm":"text-base"}`,children:"Prize Collection Address"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",value:m.collectionAddress||"",onChange:E=>x("collectionAddress",E.target.value),className:"w-full px-3 py-2.5 pr-10 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),m.collectionAddress&&!P&&w===!0&&o.jsx(gs,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-600"}),m.collectionAddress&&!P&&w===!1&&o.jsx(jc,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-red-600"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Token ID"}),o.jsx("input",{type:"number",min:"0",value:m.tokenId||"",onChange:E=>x("tokenId",E.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),o.jsx("input",{type:"datetime-local",value:m.startTime||"",onChange:E=>x("startTime",E.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),o.jsx("input",{type:"number",value:m.duration||"",onChange:E=>x("duration",E.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),c.minDuration&&c.maxDuration&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",Math.ceil(Number(c.minDuration)/60)," min, Max Allowed: ",Math.floor(Number(c.maxDuration)/60)," min"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),o.jsx("input",{type:"number",value:m.ticketLimit||"",onChange:E=>x("ticketLimit",E.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),c.minTicket&&c.maxTicket&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",c.minTicket,", Max Allowed: ",c.maxTicket]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Winner Count"}),o.jsx("input",{type:"number",value:m.winnersCount||"",onChange:E=>x("winnersCount",E.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per Participant"}),o.jsx("input",{type:"number",value:m.maxTicketsPerParticipant||"",onChange:E=>x("maxTicketsPerParticipant",E.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),typeof c.maxTicketsPerParticipant=="string"&&c.maxTicketsPerParticipant!==""?o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max Allowed: ",c.maxTicketsPerParticipant]}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-base font-medium mb-2",children:[l("ticket")," ",o.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"(Enter 0 for NFT giveaway)"})]}),o.jsx("input",{type:"number",step:"any",value:m.ticketPrice||"",onChange:E=>x("ticketPrice",E.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsx(xo,{formData:m,handleChange:x,required:!0,useFormDataEnabled:!0}),o.jsx("div",{className:"flex gap-4",children:o.jsx(et,{type:"submit",disabled:d||!t,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:d?"Approving & Creating...":"Approve Prize & Create Raffle"})})]})]})}function d_(){const{connected:t,address:e,provider:r}=Ot(),{contracts:n}=Vt(),{getCurrencyLabel:i}=Ir(),l=vo(n,!0),[c,d]=b.useState(!1),[f,m]=b.useState({name:"",collectionAddress:"",tokenId:"",unitsPerWinner:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",ticketPrice:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),p=(P,E)=>{m(I=>({...I,[P]:E}))},x=async P=>{if(P.preventDefault(),!t||!n.raffleDeployer||!r){ne.error("Please connect your wallet and ensure contracts are configured");return}d(!0);try{const E=r.getSigner(),I=await wg({signer:E,tokenAddress:f.collectionAddress,prizeType:"erc1155",spender:n.raffleDeployer.address});if(!I.success){ne.error("Token approval failed: "+I.error),d(!1);return}I.alreadyApproved||(ne.success("ERC1155 approval successful!"),await new Promise(V=>setTimeout(V,2e3)));const D=Math.floor(new Date(f.startTime).getTime()/1e3),O=parseInt(f.duration)*60,S=f.ticketPrice?Xi(f.ticketPrice):0,U=f.unitsPerWinner?parseInt(f.unitsPerWinner):1,$={name:f.name,startTime:D,duration:O,ticketLimit:parseInt(f.ticketLimit),winnersCount:parseInt(f.winnersCount),maxTicketsPerParticipant:parseInt(f.maxTicketsPerParticipant),isPrized:!0,customTicketPrice:S,erc721Drop:!1,prizeCollection:f.collectionAddress,standard:1,prizeTokenId:parseInt(f.tokenId),amountPerWinner:U,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:Pe,maxSupply:0,erc20PrizeToken:Pe,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,mintingOrder:0,holderTokenAddress:f.tokenGatedEnabled?f.holderTokenAddress:Pe,holderTokenStandard:f.tokenGatedEnabled?parseInt(f.holderTokenStandard):0,minHolderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance!==""&&f.minHolderTokenBalance!==void 0?_n(f.minHolderTokenBalance,18):ce.from(0),holderTokenId:f.tokenGatedEnabled&&(f.holderTokenStandard==="0"||f.holderTokenStandard==="1")?parseInt(f.holderTokenId):0};await(await n.raffleDeployer.connect(E).createRaffle($)).wait(),ne.success("Your raffle was created successfully!"),m({name:"",collectionAddress:"",tokenId:"",unitsPerWinner:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",ticketPrice:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(E){console.error("Error creating raffle:",E),ne.error(ta(E))}finally{d(!1)}},{status:C,checking:w}=T2(f.collectionAddress,n);return b.useEffect(()=>{f.collectionAddress&&!w&&C!==null&&(C?ne.success("This collection is approved"):ne.error("This collection is not approved"))},[f.collectionAddress,w,C]),o.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(Jd,{className:"h-5 w-5"}),o.jsx("h3",{className:"text-xl font-semibold",children:"Lucky Sale (ERC1155 Escrowed Prize)"})]}),o.jsxs("form",{onSubmit:x,className:"space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Raffle Name"}),o.jsx("input",{type:"text",value:f.name||"",onChange:P=>p("name",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Collection Address"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",value:f.collectionAddress||"",onChange:P=>p("collectionAddress",P.target.value),className:"w-full px-3 py-2.5 pr-10 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),f.collectionAddress&&!w&&C===!0&&o.jsx(gs,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-600"}),f.collectionAddress&&!w&&C===!1&&o.jsx(jc,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-red-600"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Token ID"}),o.jsx("input",{type:"number",min:"0",value:f.tokenId||"",onChange:P=>p("tokenId",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Units Per Winner"}),o.jsx("input",{type:"number",min:"1",value:f.unitsPerWinner||"",onChange:P=>p("unitsPerWinner",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),o.jsx("input",{type:"datetime-local",value:f.startTime||"",onChange:P=>p("startTime",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),o.jsx("input",{type:"number",value:f.duration||"",onChange:P=>p("duration",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minDuration&&l.maxDuration&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",Math.ceil(Number(l.minDuration)/60)," min, Max Allowed: ",Math.floor(Number(l.maxDuration)/60)," min"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),o.jsx("input",{type:"number",value:f.ticketLimit||"",onChange:P=>p("ticketLimit",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minTicket&&l.maxTicket&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",l.minTicket,", Max Allowed: ",l.maxTicket]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Winner Count"}),o.jsx("input",{type:"number",value:f.winnersCount||"",onChange:P=>p("winnersCount",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per Participant"}),o.jsx("input",{type:"number",value:f.maxTicketsPerParticipant||"",onChange:P=>p("maxTicketsPerParticipant",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),typeof l.maxTicketsPerParticipant=="string"&&l.maxTicketsPerParticipant!==""?o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max Allowed: ",l.maxTicketsPerParticipant]}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-base font-medium mb-2",children:[i("ticket")," ",o.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"(Enter 0 for NFT giveaway)"})]}),o.jsx("input",{type:"number",step:"any",value:f.ticketPrice||"",onChange:P=>p("ticketPrice",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsx(xo,{formData:f,handleChange:p,required:!0,useFormDataEnabled:!0}),o.jsx("div",{className:"flex gap-4",children:o.jsx(et,{type:"submit",disabled:c||!t,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:c?"Approving & Creating...":"Approve Prize & Create Raffle"})})]})]})}function f_(){const{connected:t,address:e,provider:r}=Ot(),{contracts:n,executeTransaction:i}=Vt(),{isMobile:l}=sr(),{getCurrencyLabel:c}=Ir(),d=vo(n,!0),[f,m]=b.useState(!1),[p,x]=b.useState({name:"",ethAmount:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),C=(P,E)=>{x(I=>({...I,[P]:E}))},w=async P=>{if(P.preventDefault(),!t||!n.raffleDeployer||!r){ne.error("Please connect your wallet and ensure contracts are configured");return}m(!0);try{const E=r.getSigner(),I=Math.floor(new Date(p.startTime).getTime()/1e3),D=parseInt(p.duration)*60,O=p.ethAmount?Xi(p.ethAmount):0,S={name:p.name,startTime:I,duration:D,ticketLimit:parseInt(p.ticketLimit),winnersCount:parseInt(p.winnersCount),maxTicketsPerParticipant:parseInt(p.maxTicketsPerParticipant),isPrized:!0,customTicketPrice:0,erc721Drop:!1,prizeCollection:Pe,standard:3,prizeTokenId:0,amountPerWinner:0,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:Pe,maxSupply:0,erc20PrizeToken:Pe,erc20PrizeAmount:ce.from(0),nativePrizeAmount:O,revealType:0,unrevealedBaseURI:"",revealTime:0,mintingOrder:0,holderTokenAddress:p.tokenGatedEnabled?p.holderTokenAddress:Pe,holderTokenStandard:p.tokenGatedEnabled?parseInt(p.holderTokenStandard):0,minHolderTokenBalance:p.tokenGatedEnabled&&p.minHolderTokenBalance!==""&&p.minHolderTokenBalance!==void 0?_n(p.minHolderTokenBalance,18):ce.from(0),holderTokenId:p.tokenGatedEnabled&&(p.holderTokenStandard==="0"||p.holderTokenStandard==="1")?parseInt(p.holderTokenId):0};let U={success:!1};try{const $=await n.raffleDeployer.connect(E).createRaffle(S,{value:O});U={success:!0,receipt:await $.wait(),hash:$.hash}}catch($){U={success:!1,error:$.message}}if(U.success)ne.success("Your raffle was created successfully!"),x({name:"",ethAmount:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:""});else throw new Error(U.error)}catch(E){console.error("Error creating raffle:",E),ne.error(ta(E))}finally{m(!1)}};return o.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(Wp,{className:"h-5 w-5"}),o.jsxs("h3",{className:`font-semibold ${l?"text-lg":"text-xl"}`,children:[c()," Giveaway"]})]}),o.jsxs("form",{onSubmit:w,className:"space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:`block font-medium mb-2 ${l?"text-sm":"text-base"}`,children:"Raffle Name"}),o.jsx("input",{type:"text",value:p.name||"",onChange:P=>C("name",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:c("prize")}),o.jsx("input",{type:"number",min:"0.00000001",step:"any",value:p.ethAmount||"",onChange:P=>C("ethAmount",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),o.jsx("input",{type:"datetime-local",value:p.startTime||"",onChange:P=>C("startTime",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),o.jsx("input",{type:"number",value:p.duration||"",onChange:P=>C("duration",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),d.minDuration&&d.maxDuration&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",Math.ceil(Number(d.minDuration)/60)," min, Max Allowed: ",Math.floor(Number(d.maxDuration)/60)," min"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),o.jsx("input",{type:"number",value:p.ticketLimit||"",onChange:P=>C("ticketLimit",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),d.minTicket&&d.maxTicket&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",d.minTicket,", Max Allowed: ",d.maxTicket]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Winner Count"}),o.jsx("input",{type:"number",value:p.winnersCount||"",onChange:P=>C("winnersCount",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per Participant"}),o.jsx("input",{type:"number",value:p.maxTicketsPerParticipant||"",onChange:P=>C("maxTicketsPerParticipant",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),typeof d.maxTicketsPerParticipant=="string"&&d.maxTicketsPerParticipant!==""?o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max Allowed: ",d.maxTicketsPerParticipant]}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]})]}),o.jsx(xo,{formData:p,handleChange:C,required:!0,useFormDataEnabled:!0}),o.jsx("div",{className:"flex gap-4",children:o.jsx(et,{type:"submit",disabled:f||!t,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:f?"Creating...":"Create Raffle"})})]})]})}function h_(){const{connected:t,address:e,provider:r}=Ot(),{contracts:n}=Vt(),{isMobile:i}=sr(),l=vo(n,!0),[c,d]=b.useState(!1),[f,m]=b.useState({name:"",tokenAddress:"",tokenAmount:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),[p,x]=b.useState(null),[C,w]=b.useState(!1);b.useEffect(()=>{let I=!1;async function D(O){if(!(n!=null&&n.raffleManager)||!O||O.length!==42){x(null);return}w(!0);try{const S=await n.raffleManager.isERC20PrizeWhitelisted(O);I||x(S)}catch{I||x(!1)}finally{I||w(!1)}}return D(f.tokenAddress),()=>{I=!0}},[f.tokenAddress,n]),b.useEffect(()=>{f.tokenAddress&&!C&&p!==null&&(p?ne.success("This token is approved"):ne.error("This token is not approved"))},[f.tokenAddress,C,p]);const P=(I,D)=>{m(O=>({...O,[I]:D}))},E=async I=>{if(I.preventDefault(),!t||!n.raffleDeployer||!r){ne.error("Please connect your wallet and ensure contracts are configured");return}d(!0);try{const D=r.getSigner(),O=await wg({signer:D,tokenAddress:f.tokenAddress,prizeType:"erc20",spender:n.raffleDeployer.address,amount:f.tokenAmount});if(!O.success){ne.error("Token approval failed: "+O.error),d(!1);return}O.alreadyApproved||(ne.success("ERC20 approval successful!"),await new Promise(K=>setTimeout(K,2e3)));const S=await new kt(f.tokenAddress,St.erc20,D).decimals(),U=Math.floor(new Date(f.startTime).getTime()/1e3),$=parseInt(f.duration)*60,H=f.tokenAmount?_n(f.tokenAmount,S):ce.from(0),V={name:f.name,startTime:U,duration:$,ticketLimit:parseInt(f.ticketLimit),winnersCount:parseInt(f.winnersCount),maxTicketsPerParticipant:parseInt(f.maxTicketsPerParticipant),isPrized:!0,customTicketPrice:ce.from(0),erc721Drop:!1,prizeCollection:Pe,standard:2,prizeTokenId:0,amountPerWinner:0,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:Pe,maxSupply:0,erc20PrizeToken:f.tokenAddress,erc20PrizeAmount:H,nativePrizeAmount:ce.from(0),revealType:0,unrevealedBaseURI:"",revealTime:0,mintingOrder:0,holderTokenAddress:f.tokenGatedEnabled?f.holderTokenAddress:Pe,holderTokenStandard:f.tokenGatedEnabled?parseInt(f.holderTokenStandard):0,minHolderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance!==""&&f.minHolderTokenBalance!==void 0?_n(f.minHolderTokenBalance,18):ce.from(0),holderTokenId:f.tokenGatedEnabled&&(f.holderTokenStandard==="0"||f.holderTokenStandard==="1")?parseInt(f.holderTokenId):0};await(await n.raffleDeployer.connect(D).createRaffle(V)).wait(),ne.success("Your raffle was created successfully!"),m({name:"",tokenAddress:"",tokenAmount:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:""})}catch(D){console.error("Error creating raffle:",D),ne.error(ta(D))}finally{d(!1)}};return o.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(Wp,{className:"h-5 w-5"}),o.jsx("h3",{className:`font-semibold ${i?"text-lg":"text-xl"}`,children:"ERC20 Token Giveaway"})]}),o.jsxs("form",{onSubmit:E,className:"space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Raffle Name"}),o.jsx("input",{type:"text",value:f.name||"",onChange:I=>P("name",I.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"ERC20 Token Address"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",value:f.tokenAddress||"",onChange:I=>P("tokenAddress",I.target.value),className:"w-full px-3 py-2.5 pr-10 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),f.tokenAddress&&!C&&p===!0&&o.jsx(gs,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-600"}),f.tokenAddress&&!C&&p===!1&&o.jsx(jc,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-red-600"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Total Token Amount"}),o.jsx("input",{type:"number",min:"0.00000001",step:"any",value:f.tokenAmount||"",onChange:I=>P("tokenAmount",I.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),o.jsx("input",{type:"datetime-local",value:f.startTime||"",onChange:I=>P("startTime",I.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),o.jsx("input",{type:"number",value:f.duration||"",onChange:I=>P("duration",I.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minDuration&&l.maxDuration&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",Math.ceil(Number(l.minDuration)/60)," min, Max Allowed: ",Math.floor(Number(l.maxDuration)/60)," min"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),o.jsx("input",{type:"number",value:f.ticketLimit||"",onChange:I=>P("ticketLimit",I.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minTicket&&l.maxTicket&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",l.minTicket,", Max Allowed: ",l.maxTicket]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Winner Count"}),o.jsx("input",{type:"number",value:f.winnersCount||"",onChange:I=>P("winnersCount",I.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per Participant"}),o.jsx("input",{type:"number",value:f.maxTicketsPerParticipant||"",onChange:I=>P("maxTicketsPerParticipant",I.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),typeof l.maxTicketsPerParticipant=="string"&&l.maxTicketsPerParticipant!==""?o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max Allowed: ",l.maxTicketsPerParticipant]}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]})]}),o.jsx(xo,{formData:f,handleChange:P,required:!0,useFormDataEnabled:!0}),o.jsx("div",{className:"flex gap-4",children:o.jsx(et,{type:"submit",disabled:c||!t,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:c?"Approving & Creating...":"Approve Prize & Create Raffle"})})]})]})}async function m_(t,e,r,n,i,l){try{let c;const d=await t.getAddress();if(r==="erc20"){c=new kt(e,St.erc20,t);const f=await c.decimals(),m=_n(i,f),p=await c.allowance(d,n);if(p.gte(m))return!0;if(p.isZero())try{const x=await t.provider.getBlockNumber(),C=Math.max(0,x-1e3),w="0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925",P="0x"+d.slice(2).padStart(64,"0"),E="0x"+n.slice(2).padStart(64,"0"),I=await t.provider.getLogs({address:e,topics:[w,P,E],fromBlock:C,toBlock:x});for(const D of I)if(ce.from(D.data).gte(m))return!0}catch{}return!1}else if(r==="erc721"){c=new kt(e,St.erc721Prize,t);const f=await c.getApproved(l);return f&&f.toLowerCase()===n.toLowerCase()}else if(r==="erc1155")return c=new kt(e,St.erc1155Prize,t),await c.isApprovedForAll(d,n);return!1}catch{return!1}}async function wg({signer:t,tokenAddress:e,prizeType:r,spender:n,amount:i,tokenId:l}){try{if(await m_(t,e,r,n,i,l))return{success:!0,alreadyApproved:!0};let d,f;if(r==="erc20"){d=new kt(e,St.erc20,t);const m=await d.decimals(),p=_n(i,m);f=await d.approve(n,p)}else r==="erc721"?(d=new kt(e,St.erc721Prize,t),f=await d.approve(n,l)):r==="erc1155"&&(d=new kt(e,St.erc1155Prize,t),f=await d.setApprovalForAll(n,!0));return await f.wait(),await new Promise(m=>setTimeout(m,2e3)),{success:!0}}catch(c){return{success:!1,error:c.message}}}function ta(t){var n,i;if(t!=null&&t.reason)return t.reason;if((n=t==null?void 0:t.data)!=null&&n.message)return t.data.message;const e=(t==null?void 0:t.message)||((i=t==null?void 0:t.data)==null?void 0:i.message)||(t==null?void 0:t.toString())||"",r=e.match(/execution reverted:?\s*([^\n]*)/i);return r&&r[1]?r[1].trim():e}function p_(){const{connected:t,address:e,provider:r}=Ot(),{contracts:n}=Vt(),{getCurrencyLabel:i}=Ir(),l=vo(n,!0),[c,d]=b.useState(!1),[f,m]=b.useState({name:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",customTicketPrice:"",baseURI:"",maxSupply:"",royaltyPercentage:"",prizeTokenId:"1",amountPerWinner:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""});b.useEffect(()=>{e&&!f.royaltyRecipient&&m(C=>({...C,royaltyRecipient:e}))},[e]);const p=(C,w)=>{m(P=>({...P,[C]:w}))},x=async C=>{if(C.preventDefault(),!t||!n.raffleDeployer||!r){ne.error("Please connect your wallet and ensure contracts are configured");return}d(!0);try{const w=r.getSigner(),P=Math.floor(new Date(f.startTime).getTime()/1e3),E=parseInt(f.duration)*60,I=f.customTicketPrice?Xi(f.customTicketPrice):0;let D=parseInt(f.revealType),O=f.unrevealedBaseURI,S=0;D===2&&(S=Math.floor(new Date(f.revealTime).getTime()/1e3)),D!==2&&(O="",S=0);const U={name:f.name,startTime:P,duration:E,ticketLimit:parseInt(f.ticketLimit),winnersCount:parseInt(f.winnersCount),maxTicketsPerParticipant:parseInt(f.maxTicketsPerParticipant),isPrized:!0,customTicketPrice:I,erc721Drop:!1,erc1155Drop:!1,prizeCollection:Pe,standard:1,prizeTokenId:parseInt(f.prizeTokenId),amountPerWinner:parseInt(f.amountPerWinner),collectionName:"",collectionSymbol:"",collectionBaseURI:f.baseURI,creator:e,royaltyPercentage:f.royaltyPercentage?parseInt(f.royaltyPercentage)*100:0,royaltyRecipient:f.royaltyRecipient,maxSupply:parseInt(f.maxSupply||f.winnersCount),erc20PrizeToken:Pe,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:D,unrevealedBaseURI:O,revealTime:S,mintingOrder:0,holderTokenAddress:f.tokenGatedEnabled?f.holderTokenAddress:Pe,holderTokenStandard:f.tokenGatedEnabled?parseInt(f.holderTokenStandard):0,minHolderTokenBalance:f.tokenGatedEnabled&&f.minHolderTokenBalance!==""&&f.minHolderTokenBalance!==void 0?_n(f.minHolderTokenBalance,18):ce.from(0),holderTokenId:f.tokenGatedEnabled&&(f.holderTokenStandard==="0"||f.holderTokenStandard==="1")?parseInt(f.holderTokenId):0};await(await n.raffleDeployer.connect(w).createRaffle(U)).wait(),ne.success("Your raffle was created successfully!"),m({name:"",startTime:"",duration:"",ticketLimit:"",winnersCount:"",maxTicketsPerParticipant:"",customTicketPrice:"",baseURI:"",maxSupply:"",royaltyPercentage:"",prizeTokenId:"1",amountPerWinner:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(w){console.error("Error creating raffle:",w),ne.error(w.message||"Error creating raffle")}finally{d(!1)}};return o.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(Jd,{className:"h-5 w-5"}),o.jsx("h3",{className:"text-xl font-semibold",children:"New ERC1155 Collection Raffle"})]}),o.jsxs("form",{onSubmit:x,className:"space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Raffle Name"}),o.jsx("input",{type:"text",value:f.name||"",onChange:C=>p("name",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),o.jsx("input",{type:"datetime-local",value:f.startTime||"",onChange:C=>p("startTime",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Duration (minutes)"}),o.jsx("input",{type:"number",value:f.duration||"",onChange:C=>p("duration",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minDuration&&l.maxDuration&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",Math.ceil(Number(l.minDuration)/60)," min, Max Allowed: ",Math.floor(Number(l.maxDuration)/60)," min"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Ticket Limit"}),o.jsx("input",{type:"number",value:f.ticketLimit||"",onChange:C=>p("ticketLimit",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),l.minTicket&&l.maxTicket&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Min Allowed: ",l.minTicket,", Max Allowed: ",l.maxTicket]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Winners Count"}),o.jsx("input",{type:"number",value:f.winnersCount||"",onChange:C=>p("winnersCount",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Tickets Per Participant"}),o.jsx("input",{type:"number",value:f.maxTicketsPerParticipant||"",onChange:C=>p("maxTicketsPerParticipant",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0}),(console.log("maxTicketsPerParticipant limit:",l.maxTicketsPerParticipant),null),typeof l.maxTicketsPerParticipant=="string"&&l.maxTicketsPerParticipant!==""?o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max Allowed: ",l.maxTicketsPerParticipant]}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:i("ticket")}),o.jsx("input",{type:"number",step:"0.001",value:f.customTicketPrice||"",onChange:C=>p("customTicketPrice",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",placeholder:"Leave empty to use protocol default"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Token ID"}),o.jsx("input",{type:"number",value:f.prizeTokenId||"",onChange:C=>p("prizeTokenId",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Amount Per Winner"}),o.jsx("input",{type:"number",value:f.amountPerWinner||"",onChange:C=>p("amountPerWinner",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]})]}),o.jsxs("div",{className:"bg-muted/20 border border-border rounded-xl p-4 mt-4",children:[o.jsx("h4",{className:"font-semibold text-base mb-4",children:"NFT Collection Info"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Base URI"}),o.jsx("input",{type:"url",value:f.baseURI||"",onChange:C=>p("baseURI",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Supply"}),o.jsx("input",{type:"number",value:f.maxSupply||"",onChange:C=>p("maxSupply",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Royalty Percentage (%)"}),o.jsx("input",{type:"number",value:f.royaltyPercentage||"",onChange:C=>p("royaltyPercentage",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",min:"0",step:"0.01",placeholder:"e.g. 5 for 5%"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"Enter as a percentage (e.g. 5 for 5%)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Royalty Recipient"}),o.jsx("input",{type:"text",value:f.royaltyRecipient||"",onChange:C=>p("royaltyRecipient",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0,pattern:"^0x[a-fA-F0-9]{40}$"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"Must be a valid Ethereum address"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Reveal Type"}),o.jsxs(qi,{value:f.revealType,onValueChange:C=>p("revealType",C),required:!0,children:[o.jsx(Gi,{className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",children:o.jsx(Hi,{placeholder:"Select Reveal Type"})}),o.jsxs(Vi,{children:[o.jsx(Kr,{value:"0",children:"Instant Reveal"}),o.jsx(Kr,{value:"1",children:"Manual Reveal"}),o.jsx(Kr,{value:"2",children:"Scheduled Reveal"})]})]})]}),(f.revealType==="1"||f.revealType==="2")&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Unrevealed Base URI"}),o.jsx("input",{type:"url",value:f.unrevealedBaseURI||"",onChange:C=>p("unrevealedBaseURI",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:f.revealType==="1"||f.revealType==="2"})]}),f.revealType==="2"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium mb-2",children:"Reveal Time"}),o.jsx("input",{type:"datetime-local",value:f.revealTime||"",onChange:C=>p("revealTime",C.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:f.revealType==="2"})]})]})]}),o.jsx(xo,{formData:f,handleChange:p,required:!0,useFormDataEnabled:!0}),o.jsx("div",{className:"flex gap-4",children:o.jsx(et,{type:"submit",disabled:c||!t,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:c?"Creating...":"Create Raffle"})})]})]})}function vo(t,e){const[r,n]=b.useState({minTicket:void 0,maxTicket:void 0,minDuration:void 0,maxDuration:void 0,maxTicketsPerParticipant:void 0});return b.useEffect(()=>{if(!(t!=null&&t.raffleManager))return;async function i(){var l,c,d,f,m,p,x,C;try{if(e){const[w,P,E]=await Promise.all([t.raffleManager.getAllTicketLimits(),t.raffleManager.getDurationLimits(),t.raffleManager.getMaxTicketsPerParticipant()]);n({minTicket:(l=w.minPrized)==null?void 0:l.toString(),maxTicket:(c=w.max)==null?void 0:c.toString(),minDuration:(d=P.min)==null?void 0:d.toString(),maxDuration:(f=P.max)==null?void 0:f.toString(),maxTicketsPerParticipant:E==null?void 0:E.toString()})}else{const[w,P,E]=await Promise.all([t.raffleManager.getAllTicketLimits(),t.raffleManager.getDurationLimits(),t.raffleManager.maxTicketsPerParticipant()]);n({minTicket:(m=w.minNonPrized)==null?void 0:m.toString(),maxTicket:(p=w.max)==null?void 0:p.toString(),minDuration:(x=P.min)==null?void 0:x.toString(),maxDuration:(C=P.max)==null?void 0:C.toString(),maxTicketsPerParticipant:E==null?void 0:E.toString()})}}catch{}}i()},[t,e]),r}function T2(t,e){const[r,n]=b.useState(null),[i,l]=b.useState(!1);return b.useEffect(()=>{let c=!1;async function d(f){if(!(e!=null&&e.raffleManager)||!f||f.length!==42){n(null);return}l(!0);try{const m=await e.raffleManager.isCollectionApproved(f);c||n(m)}catch(m){console.warn("[useCollectionWhitelistStatus] Failed to check collection approval:",m.message),c||n(!1)}finally{c||l(!1)}}return d(t),()=>{c=!0}},[t,e]),{status:r,checking:i}}function P2(t,e){const[r,n]=b.useState(null),[i,l]=b.useState(!1);return b.useEffect(()=>{let c=!1;async function d(f){if(!(e!=null&&e.raffleManager)||!f||f.length!==42){n(null);return}l(!0);try{const m=await e.raffleManager.isInternalCollection(f);c||n(m)}catch{c||n(!1)}finally{c||l(!1)}}return d(t),()=>{c=!0}},[t,e]),{status:r,checking:i}}function g_(t){if(!t)return null;if(/^\d+$/.test(t))return parseInt(t,10);const e=Object.entries(ct),r=t.toLowerCase();for(const[n,i]of e)if(i.name.toLowerCase().replace(/[^a-z0-9]+/g,"-")===r)return parseInt(n,10);return null}function y_({className:t,type:e,...r}){return o.jsx("input",{type:e,"data-slot":"input",className:We("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}const bp=["Pending","Active","Ended","Drawing","Completed","Deleted","Activation Failed","Prizes Claimed","Unengaged"];function Ms(t){var n,i;if(t!=null&&t.reason)return t.reason;if((n=t==null?void 0:t.data)!=null&&n.message)return t.data.message;const e=(t==null?void 0:t.message)||((i=t==null?void 0:t.data)==null?void 0:i.message)||(t==null?void 0:t.toString())||"",r=e.match(/execution reverted:?\s*([^\n]*)/i);return r&&r[1]?r[1].trim():e}const x_=({raffle:t,onPurchase:e,timeRemaining:r,winners:n,shouldShowClaimPrize:i,prizeAlreadyClaimed:l,claimingPrize:c,handleClaimPrize:d,shouldShowClaimRefund:f,claimingRefund:m,handleClaimRefund:p,refundableAmount:x,isMintableERC721:C,showMintInput:w,setShowMintInput:P,mintWinnerAddress:E,setMintWinnerAddress:I,mintingToWinner:D,handleMintToWinner:O,isEscrowedPrize:S,isExternallyPrized:U,isPrized:$,isMobile:H,onStateChange:V})=>{var Re,Se,ht;const{connected:W,address:K}=Ot(),{getContractInstance:Z,executeTransaction:Y}=Vt(),{formatTicketPrice:q,getCurrencySymbol:R}=Ir(),[h,v]=b.useState(1),[A,_]=b.useState(!1),[j,T]=b.useState(0),[L,k]=b.useState(null),[y,F]=b.useState(!1),[ee,z]=b.useState(null),[Q,G]=b.useState(!1),[J,te]=b.useState(!1);b.useEffect(()=>{ie()},[t.address,K]),b.useEffect(()=>{async function ke(){if(t.address)try{const Ne=Z(t.address,"raffle");if(!Ne)return;const mt=await Ne.usesCustomPrice();z(mt)}catch{z(null)}}ke()},[t.address,Z]);const ie=async()=>{if(!t.address||!K){T(0),k(null);return}try{const ke=Z(t.address,"raffle");if(!ke)return;const Ne=await ke.ticketsPurchased(K);T(Ne.toNumber?Ne.toNumber():Number(Ne));let mt=0;try{mt=(await ke.getParticipantsCount()).toNumber()}catch{let Le=0;for(;;)try{await ke.participants(Le),mt++,Le++}catch{break}}mt>0&&Ne>0?k((Ne/mt*100).toFixed(2)):k(null)}catch{T(0),k(null)}},fe=async()=>{if(!W){ne.error("Please connect your wallet first");return}_(!0);try{await e(h)}catch(ke){ne.error(Ms(ke))}finally{_(!1)}},ue=()=>{var ke;return((ke=t.state)==null?void 0:ke.toLowerCase())==="active"},je=()=>{const ke=Math.floor(Date.now()/1e3),Ne=t.startTime+t.duration;return t.state==="Active"&&ke>=Ne||r==="Ended"},pe=async()=>{F(!0);try{const ke=Z(t.address,"raffle");if(!ke)throw new Error("Failed to get raffle contract");const Ne=await Y(ke.activate);if(Ne.success)ne.success("Raffle activated successfully!"),V&&V();else throw new Error(Ne.error)}catch(ke){ne.error(Ms(ke))}finally{F(!1)}},Ae=async()=>{te(!0);try{const ke=Z(t.address,"raffle");if(!ke)throw new Error("Failed to get raffle contract");const Ne=await Y(ke.requestRandomWords);if(Ne.success)ne.success("Randomness requested successfully!"),V&&V();else throw new Error(Ne.error)}catch(ke){ne.error(Ms(ke))}finally{te(!1)}},gt=async()=>{G(!0);try{const ke=Z(t.address,"raffle");if(!ke)throw new Error("Failed to get raffle contract");const Ne=await Y(ke.endRaffle);if(Ne.success)ne.success("Raffle ended successfully!"),V&&V();else throw new Error(Ne.error)}catch(ke){ne.error(Ms(ke))}finally{G(!1)}},$e=()=>i&&!l,He=()=>t.isPrized&&(t.stateNum===4||t.stateNum===7||t.stateNum===8)&&x&&x.gt&&x.gt(0),Nt=Math.floor(Date.now()/1e3),Ke=t&&t.startTime?Nt>=t.startTime:!1,Ve=t.ticketLimit-t.ticketsSold,De=Math.min(Ve,t.maxTicketsPerParticipant);return o.jsxs("div",{className:"detail-beige-card bg-card/80 text-foreground backdrop-blur-sm border border-[#614E41] rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[o.jsx(el,{className:"h-5 w-5"}),"Purchase Tickets"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-muted-foreground",children:["Ticket Price",ee===!0?" (set by Creator)":ee===!1?" (Protocol Ticket Fee)":"",":"]}),o.jsx("p",{className:`font-semibold ${H?"text-base":"text-lg"}`,children:q(t.ticketPrice||"0")})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Remaining tickets:"}),o.jsx("p",{className:`font-semibold ${H?"text-base":"text-lg"}`,children:t.ticketLimit-t.ticketsSold})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Your tickets:"}),o.jsx("p",{className:`font-semibold ${H?"text-base":"text-lg"}`,children:j||0})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Winning Chance:"}),o.jsx("p",{className:`font-semibold ${H?"text-base":"text-lg"}`,children:L!==null?`${L}%`:"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Max per user:"}),o.jsx("p",{className:`font-semibold ${H?"text-base":"text-lg"}`,children:t.maxTicketsPerParticipant})]}),He&&x&&x.gt&&x.gt(0)&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Your Refundable Amount:"}),o.jsxs("p",{className:`font-semibold ${H?"text-base":"text-lg"}`,children:[Cr(x)," ETH"]})]}),o.jsx("div",{})]}),t.stateNum===4||t.stateNum===7||t.stateNum===8?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"hidden lg:block",children:o.jsx("div",{className:"p-4 bg-muted/20 backdrop-blur-sm border border-border/20 rounded-lg",children:o.jsxs("div",{className:"text-center text-muted-foreground",children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:"Your Participation Summary"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"block text-muted-foreground",children:"Tickets Purchased"}),o.jsx("span",{className:"font-semibold text-base",children:j||0})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-muted-foreground",children:"Total Spent"}),o.jsx("span",{className:"font-semibold text-base",children:j>0?q(ce.from(t.ticketPrice).mul(j)):`0 ${R()}`})]})]})]})})}),$e()||He()?o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[$e()&&o.jsx("button",{onClick:d,disabled:c||!W,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50",children:c?C&&!S?"Minting...":"Claiming...":C&&!S?"Mint Prize":"Claim Prize"}),He()&&o.jsx("button",{onClick:p,disabled:m||!W,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50",children:m?"Claiming...":"Claim Refund"})]}):o.jsx("button",{disabled:!0,className:"w-full bg-muted text-muted-foreground px-6 py-3 rounded-lg opacity-60 cursor-not-allowed flex items-center justify-center gap-2",children:"Raffle Ended"})]}):o.jsxs(o.Fragment,{children:[!ue()&&!(((Re=t.state)==null?void 0:Re.toLowerCase())==="pending"&&Ke)&&o.jsx("div",{className:"hidden lg:block",children:o.jsx("div",{className:"p-4 bg-muted/20 backdrop-blur-sm border border-border/20 rounded-lg",children:o.jsxs("div",{className:"text-center text-muted-foreground",children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:"Your Participation Summary"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"block text-muted-foreground",children:"Tickets Purchased"}),o.jsx("span",{className:"font-semibold text-base",children:j||0})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-muted-foreground",children:"Total Spent"}),o.jsx("span",{className:"font-semibold text-base",children:j>0?q(ce.from(t.ticketPrice).mul(j)):`0 ${R()}`})]})]})]})})}),((Se=t.state)==null?void 0:Se.toLowerCase())==="pending"&&Ke?o.jsx("button",{onClick:pe,disabled:y,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:y?"Activating...":"Activate Raffle"}):((ht=t.state)==null?void 0:ht.toLowerCase())==="pending"&&!Ke?o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:"text-muted-foreground text-sm",children:"Raffle will be available for activation at the scheduled start time."})}):t.stateNum===2&&((K==null?void 0:K.toLowerCase())===t.creator.toLowerCase()||j>0)?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:Ae,disabled:J,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:J?"Requesting...":"Request Randomness"}),o.jsxs("p",{className:"text-muted-foreground mt-4 text-center text-sm",children:["The raffle has ended. ",(K==null?void 0:K.toLowerCase())===t.creator.toLowerCase()?"As the creator":"As a participant",", you can request the randomness to initiate winner selection."]})]}):t.state==="Completed"||t.stateNum===4||t.stateNum===7?o.jsx("button",{disabled:!0,className:"w-full bg-muted text-muted-foreground px-6 py-3 rounded-lg opacity-60 cursor-not-allowed flex items-center justify-center gap-2",children:"Raffle Ended"}):je()?o.jsx("button",{onClick:gt,disabled:Q,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:Q?"Ending...":"End Raffle"}):De<=0?o.jsx("button",{disabled:!0,className:"w-full bg-muted text-muted-foreground px-6 py-3 rounded-lg opacity-60 cursor-not-allowed flex items-center justify-center gap-2",children:"Raffle Ended"}):j>=t.maxTicketsPerParticipant?o.jsx("button",{disabled:!0,className:"w-full bg-muted text-muted-foreground px-6 py-3 rounded-lg opacity-60 cursor-not-allowed flex items-center justify-center gap-2",children:"Limit Reached"}):o.jsxs(o.Fragment,{children:[ue()?o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Quantity"}),o.jsx(y_,{type:"number",min:1,max:t.maxTicketsPerParticipant,value:h,onChange:ke=>v(Math.max(1,Math.min(t.maxTicketsPerParticipant,parseInt(ke.target.value)||1))),className:"focus:outline-none focus:ring-0 focus-visible:ring-0"}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Maximum: ",t.maxTicketsPerParticipant," tickets"]})]}),o.jsx("div",{className:"p-4 bg-muted/50 backdrop-blur-sm border border-border/30 rounded-lg",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"font-medium",children:"Total Cost:"}),o.jsx("span",{className:`font-bold ${H?"text-base":"text-lg"}`,children:q(ce.from(t.ticketPrice).mul(h))})]})})]}):null,o.jsxs("button",{onClick:fe,disabled:A||!W||!ue(),className:"w-full bg-primary text-primary-foreground px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 shadow-sm",children:[o.jsx(el,{className:"h-4 w-4"}),A?"Processing...":`Purchase ${h} Ticket${h>1?"s":""}`]})]}),!W&&o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to purchase tickets."})})]}),!W&&o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to purchase tickets."})})]})]})},v_=({raffle:t,isMintableERC721:e})=>{const{getContractInstance:r}=Vt(),[n,i]=b.useState(null),[l,c]=b.useState(!0),[d,f]=b.useState(null),m=["https://ipfs.io/ipfs/","https://gateway.pinata.cloud/ipfs/","https://cloudflare-ipfs.com/ipfs/","https://dweb.link/ipfs/","https://ipfs.infura.io/ipfs/"],p=(I,D)=>{const O=[],S=I.replace(/\/$/,""),U=D.toString();if(I.includes(`/${U}`)||I.endsWith(`/${U}`)||I.endsWith(U))O.push(I),I.includes(".json")||O.push(`${I}.json`);else{if(O.push(`${S}/${D}`),O.push(`${S}${D}`),O.push(`${S}/${D}.json`),O.push(`${S}${D}.json`),I.includes("{id}")){const H=BigInt(D).toString(16).padStart(64,"0");O.push(I.replace("{id}",D)),O.push(I.replace("{id}",H))}O.push(I)}return[...new Set(O)]},x=I=>{if(!I.startsWith("ipfs://"))return[I];const D=I.replace("ipfs://","");return m.map(O=>`${O}${D}`)},C=I=>{const D=["image","image_url","imageUrl","animation_url","animationUrl","media","artwork"];for(const O of D)if(I[O]){let S=I[O];return S.startsWith("ipfs://")&&(S=S.replace("ipfs://","https://ipfs.io/ipfs/")),S}return null},w=async(I,D=1e4)=>{const O=new AbortController,S=setTimeout(()=>O.abort(),D);try{const U=await fetch(I,{signal:O.signal,headers:{Accept:"application/json, text/plain, */*"}});return clearTimeout(S),U}catch(U){throw clearTimeout(S),U}},P=async I=>{for(const D of I)try{const O=await w(D);if(O.ok){const S=O.headers.get("content-type");try{const U=await O.json();if(U&&typeof U=="object"){const $=C(U);if($)return{metadata:U,imageUrl:$,sourceUri:D}}}catch{if(S!=null&&S.startsWith("image/")||D.match(/\.(jpg|jpeg|png|gif|svg|webp)$/i))return{metadata:{image:D},imageUrl:D,sourceUri:D}}}}catch{continue}throw new Error("All metadata fetch attempts failed")};return b.useEffect(()=>{async function I(){if(t.isPrized||t.prizeCollection&&t.prizeCollection!==Pe||t.standard!==void 0&&t.prizeTokenId!==void 0){c(!0),i(null),f(null);try{let S=null;const U=t.standard===0?"erc721Prize":"erc1155Prize",$=r(t.prizeCollection,U);let H;if(t.isExternallyPrized===!0?H=!0:t.isExternallyPrized===!1?H=!1:H=!(t.prizeTokenId&&t.prizeTokenId.toString()!=="0"&&t.prizeTokenId!==0),!$){i(null),c(!1);return}if(t.standard===0)if(H)try{if(S=await $.unrevealedBaseURI(),!S||S.trim()==="")try{S=await $.tokenURI(t.prizeTokenId)}catch{i(null),c(!1);return}}catch{try{S=await $.tokenURI(t.prizeTokenId)}catch{i(null),c(!1);return}}else try{S=await $.tokenURI(t.prizeTokenId)}catch{i(null),c(!1);return}else if(t.standard===1)if(H){let Z=null,Y=null;try{Z=await $.unrevealedURI()}catch{}try{Y=await $.tokenURI(t.prizeTokenId)}catch{}if(Y&&Y.trim()!=="")S=Y;else if(Z&&Z.trim()!=="")S=Z;else try{S=await $.uri(t.prizeTokenId)}catch{i(null),c(!1);return}}else try{S=await $.uri(t.prizeTokenId)}catch{i(null),c(!1);return}else{i(null),c(!1);return}if(!S||S.trim()===""){i(null),c(!1);return}const V=p(S,t.prizeTokenId),W=[];for(const Z of V)Z.startsWith("ipfs://")?W.push(...x(Z)):W.push(Z);const K=await P(W);i(K.imageUrl),f(K.sourceUri)}catch{i(null),f(null)}c(!1)}}(t.isPrized||t.prizeCollection&&t.prizeCollection!==Pe||t.standard!==void 0&&t.prizeTokenId!==void 0)&&I()},[t,r,e]),t.isPrized||t.prizeCollection&&t.prizeCollection!==Pe||t.standard!==void 0&&t.prizeTokenId!==void 0?l?o.jsx(tn,{className:"detail-beige-card h-full flex flex-col items-center justify-center text-foreground border border-[#614E41] rounded-xl",children:o.jsx(rn,{className:"flex flex-col items-center justify-center",children:o.jsx("div",{className:"w-64 h-64 flex items-center justify-center border rounded-lg bg-muted/30",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full mx-auto mb-2"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading prize image..."})]})})})}):n?o.jsx(tn,{className:"detail-beige-card h-full flex flex-col items-center justify-center text-foreground border border-[#614E41] rounded-xl",children:o.jsx(rn,{className:"flex flex-col items-center justify-center",children:o.jsx("img",{src:n,alt:"Prize Art",className:"w-64 h-64 object-contain rounded-lg border",style:{background:"#fff"},onError:I=>{i(null)}})})}):null:null},b_=({winner:t,index:e,raffle:r,connectedAddress:n,onToggleExpand:i,isExpanded:l,stats:c,onLoadStats:d,collectionName:f,isEscrowedPrize:m})=>{const p=n&&t.address.toLowerCase()===n.toLowerCase(),{formatPrizeAmount:x}=Ir(),[C,w]=xe.useState("TOKEN"),[P,E]=xe.useState(null),[I,D]=xe.useState(null),{getContractInstance:O}=Vt();xe.useEffect(()=>{let V=!0;async function W(){if(!(!r.erc20PrizeToken||r.erc20PrizeToken===Pe))try{if(window.__erc20SymbolCache||(window.__erc20SymbolCache={}),window.__erc20SymbolCache[r.erc20PrizeToken]){V&&w(window.__erc20SymbolCache[r.erc20PrizeToken]);return}const K=window.ethereum?new Jo(window.ethereum):Va(),Z=["function symbol() view returns (string)"],q=await new kt(r.erc20PrizeToken,Z,K).symbol();V&&(w(q),window.__erc20SymbolCache[r.erc20PrizeToken]=q)}catch{V&&w("TOKEN")}}return W(),()=>{V=!1}},[r.erc20PrizeToken]),xe.useEffect(()=>{let V=!0;return(async()=>{if(!r.isPrized){V&&E(null);return}try{const K=O(r.address,"raffle");if(!K){console.warn("Failed to get raffle contract instance"),V&&E(r.amountPerWinner||1);return}const Z=await K.amountPerWinner(),Y=Z.toNumber?Z.toNumber():Number(Z);V&&(E(Y),console.log(`✅ Successfully fetched amountPerWinner from contract ${r.address}:`,Y))}catch(K){if(console.warn(`❌ Failed to fetch amountPerWinner from contract ${r.address}, using fallback:`,K.message),V){const Z=r.amountPerWinner||1;E(Z),console.log(`📋 Using fallback amountPerWinner for ${r.address}:`,Z)}}})(),()=>{V=!1}},[r.address,r.isPrized,r.amountPerWinner,O]),xe.useEffect(()=>{(async()=>{if(!r||!r.prizeCollection||r.prizeCollection===Pe){D(null);return}try{let W=null,K=null;if(typeof r.standard<"u"){const Z=r.standard===0?"erc721Prize":"erc1155Prize";if(W=O(r.prizeCollection,Z),W)try{typeof W.symbol=="function"&&(K=await W.symbol())}catch{K=null}}else try{W=O(r.prizeCollection,"erc721Prize"),W&&typeof W.symbol=="function"&&(K=await W.symbol())}catch{try{W=O(r.prizeCollection,"erc1155Prize"),W&&typeof W.symbol=="function"&&(K=await W.symbol())}catch{}}D(K),K&&console.log(`✅ Successfully fetched collection symbol for ${r.prizeCollection}:`,K)}catch(W){console.warn("Failed to fetch collection symbol:",W),D(null)}})()},[r,O]);const S=V=>V,U=()=>{var W;if(!r.isPrized)return"No Prize";if(P===null&&r.isPrized)return"Loading prize info...";const V=P!==null?P:r.amountPerWinner||1;if(r.nativePrizeAmount&&r.nativePrizeAmount.gt&&r.nativePrizeAmount.gt(0)){console.log("🔍 Native Prize Debug:",{totalPrizeAmount:r.nativePrizeAmount.toString(),winnersCount:r.winnersCount,amountPerWinnerFromContract:V,amountPerWinnerType:typeof V});const K=r.winnersCount||1,Z=r.nativePrizeAmount.div(K);console.log(`💰 Native calculation: ${r.nativePrizeAmount.toString()} / ${K} = ${Z.toString()}`);const Y=x(Z);return console.log(`💰 Native prize display: ${Y} (prizePerWinner: ${Z.toString()})`),Y}if(r.erc20PrizeToken&&r.erc20PrizeToken!==Pe&&r.erc20PrizeAmount&&r.erc20PrizeAmount.gt&&r.erc20PrizeAmount.gt(0)){console.log("🔍 ERC20 Prize Debug:",{totalPrizeAmount:r.erc20PrizeAmount.toString(),winnersCount:r.winnersCount,amountPerWinnerFromContract:V,amountPerWinnerType:typeof V});const K=r.winnersCount||1,Z=r.erc20PrizeAmount.div(K);console.log(`💰 ERC20 calculation: ${r.erc20PrizeAmount.toString()} / ${K} = ${Z.toString()}`);const Y=al(Z,18),q=`${Y} ${C}`;return console.log(`💰 ERC20 prize display: ${q} (prizePerWinner: ${Z.toString()}, formatted: ${Y})`),q}if(r.prizeCollection&&r.prizeCollection!==Pe){if(r.standard===0)if(m){const K=(W=r.prizeTokenId)!=null&&W.toString?r.prizeTokenId.toString():r.prizeTokenId,Z=K!=null&&K!=="0"?`#${K}`:"#Unknown";console.log("🔍 Escrowed ERC721 token ID debug:",{rawTokenId:r.prizeTokenId,stringTokenId:K,prizeId:Z,isEscrowedPrize:m});let Y;return I?Y=`${I} ${Z}`:f?Y=`${f} ${Z}`:Y=`ERC721 NFT ${Z}`,console.log(`🏆 Escrowed ERC721 prize display: ${Y} (symbol: ${I}, name: ${f}, tokenId: ${r.prizeTokenId})`),Y}else{const Z=`${V} ${I||f||"ERC721 NFT"}`;return console.log(`🎨 Mintable ERC721 prize display: ${Z} (symbol: ${I}, name: ${f}, amount: ${V})`),Z}if(r.standard===1)return`${V} ${f||"ERC1155 Token"}`}return"Prize Available"},H=r.isPrized?t.prizeClaimed?{text:"Claimed",color:"text-green-700",icon:"green-dot",bgColor:"bg-green-100"}:{text:"Unclaimed",color:"text-orange-700",icon:"⏳",bgColor:"bg-orange-100"}:{text:"No Prize",color:"text-muted-foreground",icon:"—",bgColor:"bg-muted/20"};return o.jsx("div",{className:`detail-beige-card text-foreground bg-card border-2 rounded-xl transition-all duration-200 hover:shadow-md ${p?"border-yellow-400 winner-card-highlight":"border-[#614E41]"}`,children:o.jsxs("div",{className:"px-2 py-3 sm:px-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2.5 min-w-0 flex-1",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${p?"bg-yellow-400":"bg-primary"}`})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("div",{className:"font-mono text-sm font-medium break-all",title:t.address,children:S(t.address)}),p&&o.jsx("div",{className:"text-xs winner-text-highlight font-medium mt-0.5",children:"Your Address"})]})]}),o.jsx("button",{onClick:()=>i(t,e),className:"winner-card-expand flex-shrink-0 p-1 sm:p-1.5 rounded-md hover:bg-transparent active:bg-transparent focus:bg-transparent transition-colors focus-visible:outline-none focus-visible:ring-0",title:l?"Hide details":"View details",children:o.jsx(Li,{className:`h-4 w-4 transition-transform duration-200 ${l?"rotate-180":""}`})})]}),r.isPrized&&o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-3 text-sm",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Prize"}),o.jsx("div",{className:"font-medium",children:U()})]}),o.jsxs("div",{className:"space-y-0.5 sm:text-right",children:[o.jsx("span",{className:"text-muted-foreground text-xs tracking-wide block",children:"Status"}),o.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-medium ${H.bgColor} ${H.color}`,children:[H.icon==="green-dot"?o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-600 dark:bg-green-400"}):o.jsx("span",{children:H.icon}),o.jsx("span",{children:H.text})]})]})]}),l&&o.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:c?c.error?o.jsxs("div",{className:"text-center py-4",children:[o.jsx(Jt,{className:"h-6 w-6 text-red-500 mx-auto mb-2"}),o.jsx("div",{className:"text-red-500 text-sm font-medium",children:c.error})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Participation Details"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Tickets Purchased"}),o.jsx("div",{className:"font-semibold text-base",children:c.ticketsPurchased})]}),o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Winning Tickets"}),o.jsx("div",{className:"font-semibold text-base text-green-600",children:c.winningTickets})]}),o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Losing Tickets"}),o.jsx("div",{className:"font-semibold text-base text-red-600",children:c.losingTickets})]}),o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Win Rate"}),o.jsx("div",{className:"font-semibold text-base",children:c.ticketsPurchased>0?`${(c.winningTickets/c.ticketsPurchased*100).toFixed(1)}%`:"0%"})]})]})]}):o.jsxs("div",{className:"text-center py-4",children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary mx-auto mb-2"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading participation details..."})]})})]})})},w_=({raffle:t,isMintableERC721:e,isEscrowedPrize:r,isMobile:n,onWinnerCountChange:i})=>{var q;const{getContractInstance:l,executeTransaction:c}=Vt(),{address:d}=Ot();Ir();const[f,m]=b.useState([]),[p,x]=b.useState(!1),[C,w]=b.useState(null),[P,E]=b.useState({}),[I,D]=b.useState(null),[O,S]=b.useState(null),[U,$]=b.useState(null),H=(t==null?void 0:t.stateNum)===4||(t==null?void 0:t.stateNum)===7,V=!!t&&!H,{isListening:W}=Y1(t==null?void 0:t.address,{onWinnersSelected:(R,h)=>{D(h==null?void 0:h.transactionHash),$(Date.now()),K(),setTimeout(()=>{K()},5e3)},onStateChange:(R,h)=>{(R===4||R===7)&&($(Date.now()),setTimeout(()=>{K()},1e3),setTimeout(()=>{K()},6e3))},onPrizeClaimed:(R,h,v)=>{setTimeout(()=>{K()},1e3)},onRpcError:R=>{console.warn("WinnersSection RPC error:",R)},enablePolling:!0,pollingInterval:(t==null?void 0:t.stateNum)===3?8e3:12e3,autoStart:V,raffleState:(t==null?void 0:t.stateNum)||null,enableStateConditionalListening:!0,stopOnCompletion:!0});b.useEffect(()=>{D(null)},[t]),b.useEffect(()=>{(async()=>{if(!t||!t.prizeCollection||t.prizeCollection===Pe){S(null);return}try{const v=await l(t.prizeCollection,t.standard===0?"erc721Prize":"erc1155Prize").name();S(v)}catch{S(null)}})()},[t,l]);const K=b.useCallback(async()=>{if(!t){m([]),i==null||i(0);return}if(![2,4,7].includes(t.stateNum)){m([]),i==null||i(0);return}x(!0);try{const h=l&&l(t.address,"raffle");if(!h){m([]),i==null||i(0),x(!1);return}const v=await h.winnersCount(),A=v.toNumber?v.toNumber():Number(v);if(A===0){m([]),i==null||i(0),x(!1);return}const _=[];for(let j=0;j<A;j++)try{const T=await h.winners(j);if(T===Pe||T==="0x0000000000000000000000000000000000000000")continue;const L=await h.claimedWins(T),k=await h.prizeClaimed(T);_.push({address:T,index:j,claimedWins:L.toNumber?L.toNumber():Number(L),prizeClaimed:k})}catch{continue}m(_),i==null||i(_.length)}catch{m([]),i==null||i(0)}finally{x(!1)}},[t,l]);b.useEffect(()=>{K()},[K,U]);const Z=()=>{switch(bp[t.stateNum]||"Unknown"){case"Pending":return o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Rd,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Raffle Pending"}),o.jsx("p",{className:"text-muted-foreground",children:"Winners will be announced after the raffle ends and drawing is complete."})]});case"Active":return o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Hp,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Raffle Active"}),o.jsx("p",{className:"text-muted-foreground",children:"Raffle is currently active. Winners will be announced after it ends."})]});case"Ended":return o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Rd,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Raffle Ended"}),o.jsx("p",{className:"text-muted-foreground",children:"Raffle has ended. Waiting for winner selection."})]});case"Drawing":return o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Drawing in Progress"}),o.jsx("p",{className:"text-muted-foreground",children:"Winners are being selected. Please wait..."})]});case"Completed":case"Prizes Claimed":return o.jsx("div",{className:"space-y-4",children:p?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading winners..."})]}):f.length>0?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{className:"text-sm text-muted-foreground",children:[f.length," winner",f.length!==1?"s":""," selected"]})}),o.jsx("div",{className:"max-h-96 overflow-y-auto pr-2",children:o.jsx("div",{className:"space-y-3 pb-4",children:f.map((h,v)=>o.jsx(b_,{winner:h,index:v,raffle:t,connectedAddress:d,onToggleExpand:Y,isExpanded:C===v,stats:P[h.address],onLoadStats:Y,collectionName:O,isEscrowedPrize:r},h.index))})})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Mi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"No winners data available."})]})});case"Deleted":return o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Sw,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Raffle Deleted"}),o.jsx("p",{className:"text-muted-foreground",children:"This raffle has been deleted and is no longer active."})]});case"Activation Failed":return o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Jt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Activation Failed"}),o.jsx("p",{className:"text-muted-foreground",children:"Raffle activation failed. Please contact support or try again."})]});case"Unengaged":return o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Jt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Unengaged Raffle"}),o.jsx("p",{className:"text-muted-foreground",children:"This raffle did not receive enough engagement and was closed."})]});default:return o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Jt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Unknown raffle state."})]})}},Y=async(R,h)=>{if(C===h){w(null);return}if(w(h),!P[R.address])try{const v=l(t.address,"raffle"),A=await v.ticketsPurchased(R.address),_=await v.winsPerAddress(R.address),j=await v.prizeClaimed(R.address),T=A.toNumber?A.toNumber():Number(A),L=_.toNumber?_.toNumber():Number(_);E(k=>({...k,[R.address]:{ticketsPurchased:T,winningTickets:L,losingTickets:T-L,prizeClaimed:!!j}}))}catch{E(A=>({...A,[R.address]:{error:"Failed to fetch stats"}}))}};return o.jsxs("div",{className:"detail-beige-card bg-card/80 text-foreground backdrop-blur-sm border border-[#614E41] rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[o.jsx(Mi,{className:"h-5 w-5"}),"Winners",I&&o.jsxs("a",{href:j2(I),target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 underline flex items-center gap-1 ml-2",title:"View winner selection transaction",children:[o.jsx(Mi,{className:"h-4 w-4"}),"Transaction"]}),W&&((q=t==null?void 0:t.state)==null?void 0:q.toLowerCase())!=="pending"&&o.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ml-2 ${f.length>0?"bg-green-500":"bg-orange-500"}`,title:f.length>0?"Real-time updates active - Winners displayed":"Real-time updates active - Waiting for winners"})]}),o.jsx("div",{className:"overflow-y-auto",children:Z()})]})};function k_({token:t,amount:e}){const[r,n]=xe.useState("TOKEN");return xe.useEffect(()=>{let i=!0;async function l(){try{if(window.__erc20SymbolCache||(window.__erc20SymbolCache={}),window.__erc20SymbolCache[t]){n(window.__erc20SymbolCache[t]);return}const c=window.ethereum?new Jo(window.ethereum):Va(),d=["function symbol() view returns (string)"],m=await new kt(t,d,c).symbol();i&&(n(m),window.__erc20SymbolCache[t]=m)}catch{i&&n("TOKEN")}}return l(),()=>{i=!1}},[t]),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Prize Amount:"}),o.jsxs("span",{children:[al(e,18)," ",r]})]})}function N_(t){return t?t.state==="Deleted"?{label:"All Tickets Refundable",refundable:!0,reason:"Raffle was deleted before ending. All tickets are refundable."}:t.isPrized&&t.winnersCount===1&&t.standard!==void 0&&(t.standard===0||t.standard===1)?{label:"Tickets Refundable if Deleted",refundable:!1,reason:"Single-winner NFT raffles are not refundable unless deleted before ending."}:{label:"Non-winning Tickets Refundable",refundable:!0,reason:"This raffle supports refunds for non-winning tickets."}:{label:"Non-Refundable",refundable:!1,reason:"Unknown"}}function j2(t,e){let r=1;typeof e=="number"?r=e:window.ethereum&&window.ethereum.chainId&&(r=parseInt(window.ethereum.chainId,16));const n={1:"https://etherscan.io",5:"https://goerli.etherscan.io",11155111:"https://sepolia.etherscan.io",137:"https://polygonscan.com",80001:"https://mumbai.polygonscan.com",10:"https://optimistic.etherscan.io",420:"https://goerli-optimism.etherscan.io",42161:"https://arbiscan.io",56:"https://bscscan.com",97:"https://testnet.bscscan.com",43114:"https://snowtrace.io",43113:"https://testnet.snowtrace.io",8453:"https://basescan.org",84531:"https://goerli.basescan.org",84532:"https://sepolia.basescan.org",11155420:"https://sepolia-optimism.etherscan.io"};return`${n[r]||n[1]}/address/${t}`}const ab=()=>{var Dc,aa,fl,la;const{raffleAddress:t}=Yy(),r=Yy().chainSlug,n=fo(),{connected:i,address:l,provider:c,isInitialized:d,isReconnecting:f}=Ot(),{getContractInstance:m,executeTransaction:p,isContractsReady:x}=Vt(),{isMobile:C}=sr(),{formatTicketPrice:w,formatPrizeAmount:P}=Ir(),E=b.useCallback(()=>{var Ce;const he=(Ce=c==null?void 0:c.network)==null?void 0:Ce.chainId,we=he&&ct[he]?ct[he].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):he||"";return`${we?`/${we}`:""}/raffle/${t}`},[c,t]),{refreshTrigger:I,triggerRefresh:D}=J5(),{handleError:O}=MP(),[S,U]=b.useState(null),[$,H]=b.useState(!0),[V,W]=b.useState(null),[K,Z]=b.useState(""),[Y,q]=b.useState(!1),[R,h]=b.useState(!1),[v,A]=b.useState(null),[_,j]=b.useState(!1),[T,L]=b.useState(!1),[k,y]=b.useState(!1),[F,ee]=b.useState(!1),[z,Q]=b.useState(null),[G,J]=b.useState(0),[te,ie]=b.useState(!1),[fe,ue]=b.useState(!1),[je,pe]=b.useState(!1),[Ae,gt]=b.useState(!1),[$e,He]=b.useState(!1),[Nt,Ke]=b.useState(!1),[Ve,De]=b.useState(!1),[Re,Se]=b.useState(null),[ht,ke]=b.useState(!1);b.useEffect(()=>{async function he(){var Ce;if(!r)return;const we=g_(r);if(we&&!(!i||!window.ethereum))try{if(((Ce=c==null?void 0:c.network)==null?void 0:Ce.chainId)!==we)try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${we.toString(16)}`}]})}catch(Fe){if((Fe==null?void 0:Fe.code)===4902&&ct[we]){const Ht=ct[we];await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${we.toString(16)}`,chainName:Ht.name,rpcUrls:[Ht.rpcUrl],blockExplorerUrls:[Ht.explorer],nativeCurrency:Ht.nativeCurrency||{name:"ETH",symbol:"ETH",decimals:18}}]}),await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${we.toString(16)}`}]})}}}catch(Fe){console.warn("Network switch via URL failed (non-fatal):",Fe)}}he()},[r,i,c]);const[Ne,mt]=b.useState(!1),[Oe,Le]=b.useState(""),[Pt,at]=b.useState(!1),yt=b.useRef(null);b.useEffect(()=>{if(!Ne)return;function he(we){yt.current&&!yt.current.contains(we.target)&&mt(!1)}return document.addEventListener("mousedown",he),()=>{document.removeEventListener("mousedown",he)}},[Ne]);const pr=async()=>{at(!0);try{const he=m(S.address,"raffle");if(!he)throw new Error("Failed to get raffle contract");if(!Oe||Oe.length!==42)throw new Error("Please enter a valid address");const we=await p(()=>he.mintToWinner(Oe));if(we.success)ne.success("mintToWinner() executed successfully!"),window.location.reload();else throw new Error(we.error)}catch(he){ne.error(Ms(he))}finally{at(!1)}},[jt,dt]=b.useState(!1),_r=b.useRef(null),[xt,Rt]=b.useState(""),[or,Ct]=b.useState(0),[ft,fr]=b.useState(""),[Mt,Ee]=b.useState(""),[rt,Ge]=b.useState(!1),st=async()=>{Ge(!0);try{const he=m(S.address,"raffle");if(!he)throw new Error("Failed to get raffle contract");if(!xt||xt.length!==42)throw new Error("Please enter a valid address");let we=ft,Ce=Mt;if(or===0)we=0,Ce=1;else if(we===""||Ce==="")throw new Error("Token ID and Amount Per Winner are required");const Fe=await p(()=>he.setExternalPrize(xt,or,we,Ce));if(Fe.success)ne.success("Prize assigned successfully!"),window.location.reload();else throw new Error(Fe.error)}catch(he){ne.error(Ms(he))}finally{Ge(!1)}};b.useEffect(()=>{if(!jt)return;function he(we){_r.current&&!_r.current.contains(we.target)&&dt(!1)}return document.addEventListener("mousedown",he),()=>{document.removeEventListener("mousedown",he)}},[jt]);const tr=b.useMemo(()=>i,[i]),it=b.useMemo(()=>l,[l]),ot=b.useMemo(()=>t,[t]),Kt=(S==null?void 0:S.stateNum)===4||(S==null?void 0:S.stateNum)===7,vt=!!S&&!Kt;Y1(t,{onWinnersSelected:(he,we)=>{ne.success(`Winners have been selected! ${he.length} winner${he.length!==1?"s":""} chosen.`),J(0),Q(null),D(),setTimeout(()=>{D()},5e3)},onStateChange:(he,we)=>{he!==3&&(J(0),Q(null)),D()},onPrizeClaimed:(he,we,Ce)=>{ne.success(`Prize claimed by ${he.slice(0,6)}...${he.slice(-4)}!`),D()},onTicketsPurchased:(he,we,Ce)=>{he.toLowerCase()!==(l==null?void 0:l.toLowerCase())&&ne.info(`${we.toString()} ticket${we.toString()!=="1"?"s":""} purchased by ${he.slice(0,6)}...${he.slice(-4)}`),D()},onRpcError:he=>{console.warn("RPC error detected:",he)},enablePolling:!0,pollingInterval:(S==null?void 0:S.stateNum)===3?1e4:15e3,autoStart:vt,raffleState:(S==null?void 0:S.stateNum)||null,enableStateConditionalListening:!0,stopOnCompletion:!0});const At=b.useCallback(async()=>{H(!0),W(null);try{if(!ot)throw new Error("No raffle address provided");if(!d||f)throw new Error("Wallet is initializing, please wait...");if(!m)throw new Error("Contract context not ready");const he=Fp(),we=Op(),Ce=m(ot,"raffle");if(!Ce)throw new Error("Failed to create contract instance - no signer/provider available");const Fe=await jd(()=>Ce.name(),"name",{timeout:he.timeout,retries:he.retries,required:!0});if(!Fe.success)throw new Error(`Contract connectivity test failed: ${Fe.error}`);const Ht=[{method:()=>Ce.name(),name:"name",required:!0,fallback:"Unknown Raffle"},{method:()=>Ce.creator(),name:"creator",required:!0,fallback:Pe},{method:()=>Ce.startTime(),name:"startTime",required:!0,fallback:ce.from(0)},{method:()=>Ce.duration(),name:"duration",required:!0,fallback:ce.from(0)},{method:()=>Ce.ticketPrice(),name:"ticketPrice",required:!0,fallback:ce.from(0)},{method:()=>Ce.ticketLimit(),name:"ticketLimit",required:!0,fallback:ce.from(0)},{method:()=>Ce.winnersCount(),name:"winnersCount",required:!0,fallback:ce.from(0)},{method:()=>Ce.maxTicketsPerParticipant(),name:"maxTicketsPerParticipant",required:!0,fallback:ce.from(0)},{method:()=>Ce.isPrized(),name:"isPrized",required:!0,fallback:!1},{method:()=>Ce.prizeCollection(),name:"prizeCollection",required:!0,fallback:Pe},{method:()=>Ce.prizeTokenId(),name:"prizeTokenId",required:!0,fallback:ce.from(0)},{method:()=>Ce.standard(),name:"standard",required:!0,fallback:ce.from(0)},{method:()=>Ce.state(),name:"state",required:!0,fallback:ce.from(0)},{method:Pi(Ce,"erc20PrizeToken",Pe),name:"erc20PrizeToken",required:!1,fallback:Pe},{method:Pi(Ce,"erc20PrizeAmount",ce.from(0)),name:"erc20PrizeAmount",required:!1,fallback:ce.from(0)},{method:Pi(Ce,"nativePrizeAmount",ce.from(0)),name:"nativePrizeAmount",required:!1,fallback:ce.from(0)},{method:Pi(Ce,"usesCustomPrice",!1),name:"usesCustomPrice",required:!1,fallback:!1},{method:Pi(Ce,"isRefundable",!1),name:"isRefundable",required:!1,fallback:!1},{method:Pi(Ce,"isExternallyPrized",!1),name:"isExternallyPrized",required:!1,fallback:!1},{method:Pi(Ce,"amountPerWinner",ce.from(1)),name:"amountPerWinner",required:!1,fallback:ce.from(1)}],[Xr,Ur,bs,ko,ca,hl,ua,wn,ws,Zn,ui,di,es,kf,zc,fi,Nf,Lc,hi,mi]=await TP(Ht,{timeout:he.timeout,useSequential:he.useSequential,batchSize:he.batchSize,delayBetweenCalls:he.delayBetweenCalls});let da=0;try{da=(await Ce.getParticipantsCount()).toNumber()}catch{let Ns=0;for(;;)try{await Ce.participants(Ns),da++,Ns++}catch{break}}let ks=0,No=wn.toNumber();if(i&&l)try{ks=(await Ce.ticketsPurchased(l)).toNumber(),No=Math.max(0,wn.toNumber()-ks)}catch{let Ns=0;for(;Ns<da;)try{(await Ce.participants(Ns)).toLowerCase()===l.toLowerCase()&&ks++,Ns++}catch{break}No=Math.max(0,wn.toNumber()-ks)}const Hs=!!ws,pi={address:t,name:Xr,creator:Ur,startTime:bs.toNumber(),duration:ko.toNumber(),ticketPrice:ca,ticketLimit:hl.toNumber(),ticketsSold:da,winnersCount:ua.toNumber(),maxTicketsPerParticipant:wn.toNumber(),isPrized:Hs,prizeCollection:Hs?Zn:null,stateNum:es,state:bp[es]||"Unknown",erc20PrizeToken:kf,erc20PrizeAmount:zc,nativePrizeAmount:fi,usesCustomPrice:Nf,standard:di,prizeTokenId:ui,amountPerWinner:mi?mi.toNumber?mi.toNumber():Number(mi):1};U(pi),Se(Lc),ke(hi);let Oc=Zn;if(hi)try{Oc=await Ce.prizeCollection()}catch{}U({...pi,prizeCollection:Oc})}catch(he){const we=O(he,{context:{operation:"fetchRaffleData",isReadOnly:!0},fallbackMessage:"Failed to load raffle data"});W(we)}finally{H(!1)}},[ot,m,tr,it,d,f,I]);b.useEffect(()=>{ot&&m&&d&&!f&&At()},[At,ot,m,d,f,I]),b.useEffect(()=>{(async()=>{if(!S||!S.prizeCollection||S.prizeCollection===Pe){A(null);return}try{const Ce=await m(S.prizeCollection,S.standard===0?"erc721Prize":"erc1155Prize").name();A(Ce)}catch{A(null)}})()},[S,m]);const Jr=b.useCallback(he=>{const we=Math.floor(he/86400),Ce=Math.floor(he%86400/3600),Fe=Math.floor(he%3600/60),Ht=he%60;let Xr="";return we>0&&(Xr+=`${we}d `),(Ce>0||we>0)&&(Xr+=`${Ce}h `),(Fe>0||Ce>0||we>0)&&(Xr+=`${Fe}m `),Xr+=`${Ht}s`,Xr.trim()},[]),It=b.useCallback(he=>{const we=Math.floor(he/86400),Ce=Math.floor(he%86400/3600),Fe=Math.floor(he%3600/60);let Ht="";return we>0&&(Ht+=`${we}d `),(Ce>0||we>0)&&(Ht+=`${Ce}h `),(Fe>0||Ce>0||we>0)&&(Ht+=`${Fe}m`),Ht||(Ht="0m"),Ht.trim()},[]),_t=b.useCallback(()=>{if(!S)return;const he=Math.floor(Date.now()/1e3);let we="",Ce=0;if([2,3,4,5,6,7,8].includes(S.stateNum)){we="Duration",Ce=S.duration,on(we),an(It(Ce));return}he<S.startTime?(we="Starts In",Ce=S.startTime-he):(we="Ends In",Ce=S.startTime+S.duration-he),on(we),an(Ce>0?Jr(Ce):"Ended")},[S,Jr,It]);b.useEffect(()=>{if(!S)return;_t();const he=setInterval(_t,1e3);return()=>clearInterval(he)},[_t]),b.useEffect(()=>{async function he(){if(t&&m)try{const we=m(t,"raffle");if(we){const Ce=await we.isEscrowedPrize();q(Ce)}}catch{q(!1)}}he()},[t,m]),b.useEffect(()=>{(async()=>{if(S&&S.standard===1&&S.prizeCollection&&l&&l.toLowerCase()===S.creator.toLowerCase()){y(!0);try{const Ce=(window.ethereum?new Jo(window.ethereum):Va()).getSigner(),Ht=await new kt(S.prizeCollection,St.erc1155Prize,Ce).isApprovedForAll(l,S.address);L(Ht)}catch{L(!1)}finally{y(!1)}}})()},[S,l]),b.useEffect(()=>{(async()=>{if(S&&S.erc20PrizeToken&&S.erc20PrizeToken!==Pe&&S.erc20PrizeAmount&&l&&l.toLowerCase()===S.creator.toLowerCase()){pe(!0);try{const Ce=(window.ethereum?new Jo(window.ethereum):Va()).getSigner(),Ht=await new kt(S.erc20PrizeToken,St.erc20,Ce).allowance(l,S.address);ue(Ht.gte(S.erc20PrizeAmount))}catch{ue(!1)}finally{pe(!1)}}})()},[S,l]),b.useEffect(()=>{(async()=>{if(S&&S.standard===0&&S.prizeCollection&&typeof S.prizeTokenId<"u"&&l&&l.toLowerCase()===S.creator.toLowerCase()){Ke(!0);try{const Ce=(window.ethereum?new Jo(window.ethereum):Va()).getSigner(),Fe=new kt(S.prizeCollection,St.erc721Prize,Ce),Ht=await Fe.getApproved(S.prizeTokenId);if(Ht&&Ht.toLowerCase()===S.address.toLowerCase())He(!0);else{const Xr=await Fe.isApprovedForAll(l,S.address);He(Xr)}}catch{He(!1)}finally{Ke(!1)}}})()},[S,l]);const Qn=async he=>{if(!i||!S)throw new Error("Wallet not connected or raffle not loaded");const we=m(S.address,"raffle");if(!we)throw new Error("Failed to get raffle contract");const Ce=ce.from(S.ticketPrice).mul(he),Fe=await p(we.purchaseTickets,he,{value:Ce});if(Fe.success)ne.success(`Successfully purchased ${he} ticket${he>1?"s":""}!`),D();else throw new Error(Fe.error)},$t=async()=>{if(!(!S||!m)){j(!0);try{const he=m(S.address,"raffle");if(!he)throw new Error("Contract instance not available");await(await he.deleteRaffle()).wait(),ne.success("Raffle deleted successfully!"),n("/")}catch(he){ne.error(Ms(he))}finally{j(!1)}}},Ft=()=>i&&(l==null?void 0:l.toLowerCase())===(S==null?void 0:S.creator.toLowerCase())&&((S==null?void 0:S.state)==="Pending"||(S==null?void 0:S.state)==="Active")&&(Re===!0||(S==null?void 0:S.usesCustomPrice)===!0),Dr=()=>{if(!S)return null;const we=(Fe=>Fe===7?li===1?"Prize Claimed":"Prizes Claimed":bp[Fe]||"Unknown")(S.stateNum),Ce={Pending:"bg-yellow-100 text-yellow-800",Active:"bg-green-100 text-green-800",Ended:"bg-red-100 text-red-800",Drawing:"bg-purple-100 text-purple-800",Completed:"bg-blue-100 text-blue-800",Deleted:"bg-gray-200 text-gray-800","Activation Failed":"bg-red-200 text-red-900","Prizes Claimed":"bg-blue-200 text-blue-900","Prize Claimed":"bg-blue-200 text-blue-900",Unengaged:"bg-gray-100 text-gray-800",Unknown:"bg-gray-100 text-gray-800"};return o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Ce[we]||Ce.Unknown}`,children:we})};async function Bt(){h(!0);try{await(await m(t,"raffle").withdrawEscrowedPrize()).wait(),ne.success("Prize withdrawn successfully!")}catch(he){ne.error(Ms(he))}finally{h(!1)}}const Ut=Math.floor(Date.now()/1e3);S&&S.startTime&&Ut>=S.startTime;const[zn,on]=b.useState(""),[yn,an]=b.useState(""),[xn,bo]=b.useState(!1),[oi,qt]=b.useState(!1),[ii,Jn]=b.useState(!1),[wo,vn]=b.useState(!1),[ra,ai]=b.useState(!1),[bn,br]=b.useState(null),[Xn,wr]=b.useState(null),[li,bf]=b.useState(0);b.useEffect(()=>{(async()=>{if(!S||!l||S.stateNum!==4&&S.stateNum!==7){Jn(!1),vn(!1),br(null),wr(null);return}try{const we=m&&m(S.address,"raffle");if(!we)return;const Ce=await we.winnersCount(),Fe=Ce.toNumber?Ce.toNumber():Number(Ce);let Ht=!1,Xr=null;for(let Ur=0;Ur<Fe;Ur++)try{const bs=await we.winners(Ur);if(bs.toLowerCase()===l.toLowerCase()){const ko=await we.claimedWins(bs),ca=await we.prizeClaimed(bs);Ht=!0,Xr={address:bs,index:Ur,claimedWins:ko.toNumber?ko.toNumber():Number(ko),prizeClaimed:!!ca};break}}catch{continue}if(Jn(Ht),wr(Xr),S.isPrized)try{const Ur=await we.getRefundableAmount(l);br(Ur),vn(Ur&&Ur.gt&&Ur.gt(0))}catch{br(null),vn(!1)}}catch{Jn(!1),vn(!1),br(null),wr(null)}})()},[S,m,l]),b.useEffect(()=>{S&&(S.stateNum===3?z||(Q(Date.now()),console.log("🎯 Raffle entered Drawing state - starting auto-refresh monitoring")):z&&(Q(null),J(0),console.log("🎯 Raffle left Drawing state - stopping auto-refresh monitoring")))},[S==null?void 0:S.stateNum,z]),b.useEffect(()=>{if(!z||(S==null?void 0:S.stateNum)!==3)return;console.log("🔄 Starting auto-refresh timer for Drawing state (every 15 seconds)");const he=setInterval(()=>{ie(!0),J(we=>we+1),console.log(`🔄 Auto-refreshing raffle data in Drawing state (attempt ${G+1})`),(G+1)%4===1&&ne.info("Checking for winner selection...",{duration:2e3}),D(),setTimeout(()=>{ie(!1)},3e3)},15e3);return()=>{console.log("🔄 Stopping auto-refresh timer for Drawing state"),clearInterval(he)}},[z,S==null?void 0:S.stateNum,G,D]);const wf=!!Xn&&(S==null?void 0:S.isPrized)&&((S==null?void 0:S.stateNum)===4||(S==null?void 0:S.stateNum)===7),na=Xn&&Xn.prizeClaimed,sa=(S==null?void 0:S.isPrized)&&((S==null?void 0:S.stateNum)===4||(S==null?void 0:S.stateNum)===7)&&wo&&bn&&bn.gt&&bn.gt(0),ci=async()=>{if(!l||!S||!m){ne.error("Please connect your wallet to claim your prize");return}if(!ii||!Xn){ne.error("You are not a winner of this raffle");return}if(Xn.prizeClaimed){ne.error("You have already claimed your prize");return}bo(!0);try{const he=m(S.address,"raffle");if(!he)throw new Error("Failed to get raffle contract");const we=await p(he.claimPrize);if(we.success){let Ce="prize";S.nativePrizeAmount&&S.nativePrizeAmount.gt&&S.nativePrizeAmount.gt(0)?Ce=P(S.nativePrizeAmount):S.erc20PrizeToken&&S.erc20PrizeToken!==Pe&&S.erc20PrizeAmount&&S.erc20PrizeAmount.gt&&S.erc20PrizeAmount.gt(0)?Ce=`${al(S.erc20PrizeAmount,18)} ERC20 tokens`:S.prizeCollection&&S.prizeCollection!==Pe&&(Ce=S.standard===0?"ERC721 NFT":"ERC1155 NFT"),ne.success(`Successfully claimed your ${Ce}!`),window.location.reload()}else throw new Error(we.error)}catch(he){ne.error(Ms(he))}finally{bo(!1)}},oa=async()=>{if(!l||!S||!m){ne.error("Please connect your wallet to claim your refund");return}qt(!0);try{const he=m(S.address,"raffle");if(!he)throw new Error("Failed to get raffle contract");const we=await p(he.claimRefund);if(we.success)ne.success("Successfully claimed your refund!"),D();else throw new Error(we.error)}catch(he){ne.error(Ms(he))}finally{qt(!1)}};if($||f)return o.jsx(io,{children:o.jsx(n2,{message:f?"Reconnecting wallet...":"Loading raffle details...",isMobile:C})});if(V&&!$&&!f){const he=V.toLowerCase().includes("wallet")||V.toLowerCase().includes("signer")||V.toLowerCase().includes("initializing");return o.jsx(io,{variant:"wide",className:"py-8",children:o.jsxs("div",{className:"text-center py-16",children:[o.jsx(Jt,{className:"h-16 w-16 text-destructive mx-auto mb-4"}),o.jsx("h2",{className:C?"text-lg font-semibold mb-2":"text-2xl font-semibold mb-2",children:he?"Wallet Connection Issue":"Failed to Load Raffle"}),o.jsx("p",{className:"text-muted-foreground mb-4 max-w-md mx-auto",children:he?"Please ensure your wallet is connected and try again.":V}),o.jsxs("div",{className:"flex gap-4 justify-center",children:[o.jsx("button",{onClick:At,className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 transition-colors",children:"Try Again"}),o.jsx("button",{onClick:()=>n("/"),className:"bg-muted text-muted-foreground px-4 py-2 rounded-md hover:bg-muted/80 transition-colors",children:"Back to Home"})]})]})})}if(!S)return o.jsx(io,{variant:"wide",className:"py-8",children:o.jsxs("div",{className:"text-center py-16",children:[o.jsx(Jt,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),o.jsx("h2",{className:C?"text-lg font-semibold mb-2":"text-2xl font-semibold mb-2",children:"Raffle Not Found"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"The raffle you're looking for doesn't exist or has been removed."}),o.jsx("button",{onClick:()=>n("/"),className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 transition-colors",children:"Back to Home"})]})});const ia=S&&S.prizeCollection&&S.prizeCollection!==Pe&&S.standard===0&&S.isExternallyPrized===!0;return o.jsxs(io,{variant:"wide",className:"py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("button",{onClick:()=>n("/"),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors mb-4",children:[o.jsx(OP,{className:"h-4 w-4"}),"Back to Raffles"]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h1",{className:C?"text-xl font-bold mb-2":"text-3xl font-bold mb-2",children:S.name}),o.jsx("button",{onClick:()=>{const he=`${window.location.origin}${E()}`;navigator.clipboard.writeText(he).then(()=>{ne.success("Share link copied to clipboard")}).catch(()=>{ne.error("Failed to copy link")})},title:"Copy share link",className:"ml-2 p-1 rounded text-muted-foreground hover:text-foreground focus:outline-none active:outline-none hover:bg-transparent active:bg-transparent",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:o.jsx("path",{d:"M3.9 12a5 5 0 0 1 5-5h2v2h-2a3 3 0 0 0 0 6h2v2h-2a5 5 0 0 1-5-5zm7-1h2v2h-2v-2zm4.1-4a5 5 0 0 1 0 10h-2v-2h2a3 3 0 0 0 0-6h-2V7h2z"})})})]}),o.jsx("div",{className:"mt-2",children:o.jsxs("p",{className:"text-muted-foreground",children:["Created by ",S.creator.slice(0,10),"...",S.creator.slice(-8)]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-3 gap-2 w-full sm:w-auto",children:[Dr(),(te||(S==null?void 0:S.stateNum)===3&&z)&&o.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-sm",children:[o.jsx("div",{className:"animate-spin h-3 w-3 border border-blue-500 border-t-transparent rounded-full"}),C?"Checking for winners...":"Checking for winner selection..."]}),Ft()&&o.jsxs(et,{onClick:$t,className:"flex items-center gap-2 bg-[#614E41] text-white px-4 py-2 rounded-md hover:bg-[#4a3a30] transition-colors text-sm font-medium",title:S.ticketsSold>0?"Delete raffle (refunds will be processed automatically)":"Delete this raffle",disabled:_,children:[o.jsx(Sw,{className:"h-4 w-4"}),_?"Deleting...":"Delete Raffle"]}),i&&(l==null?void 0:l.toLowerCase())===S.creator.toLowerCase()&&(S.isPrized||ia||!S.isPrized&&ht)&&S.prizeCollection&&S.prizeCollection!==Pe&&(!S.erc20PrizeAmount||((aa=(Dc=S.erc20PrizeAmount).isZero)==null?void 0:aa.call(Dc))||S.erc20PrizeAmount==="0")&&(!S.nativePrizeAmount||((la=(fl=S.nativePrizeAmount).isZero)==null?void 0:la.call(fl))||S.nativePrizeAmount==="0")&&!Y&&o.jsx("div",{className:"flex flex-col sm:flex-row gap-2 items-center",children:Ne?o.jsxs("div",{ref:yt,className:"flex flex-col sm:flex-row gap-2 items-center",children:[o.jsx("input",{type:"text",placeholder:"Enter winner address",value:Oe,onChange:he=>Le(he.target.value),className:"px-3 py-2.5 border-2 border-[#614E41] rounded-md bg-background w-72 font-mono focus:outline-none focus:ring-0",disabled:Pt}),o.jsx(et,{onClick:pr,disabled:Pt||!Oe||Oe.length!==42,className:"bg-[#614E41] text-white px-4 py-2 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50",children:Pt?"Minting...":"Submit"}),o.jsx(et,{variant:"outline",onClick:()=>mt(!1),disabled:Pt,className:"sm:ml-2 border-2 border-[#614E41]",children:"Cancel"})]}):o.jsx(et,{onClick:()=>mt(!0),className:"bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:"Mint to Winner"})}),i&&(l==null?void 0:l.toLowerCase())===S.creator.toLowerCase()&&Y&&S.standard===1&&o.jsx(et,{onClick:Bt,className:"sm:ml-2 bg-warning text-warning-foreground hover:bg-warning/90",disabled:R,children:R?"Withdrawing...":"Withdraw Prize"}),!S.isPrized&&S.stateNum===0&&i&&(l==null?void 0:l.toLowerCase())===S.creator.toLowerCase()&&o.jsx("div",{className:"flex flex-col sm:flex-row gap-2 items-center",children:jt?o.jsxs("div",{ref:_r,className:"flex flex-col sm:flex-row gap-2 items-center bg-background p-2 rounded-md relative z-10 w-full sm:w-auto",children:[o.jsx("input",{type:"text",placeholder:"Prize collection address",value:xt,onChange:he=>Rt(he.target.value),className:"px-3 py-2.5 border-2 border-[#614E41] rounded-md bg-background w-full sm:w-56 font-mono focus:outline-none focus:ring-0",disabled:rt}),o.jsx("div",{className:"w-full sm:w-auto",children:o.jsxs(qi,{value:String(or),onValueChange:he=>Ct(Number(he)),children:[o.jsx(Gi,{className:"w-full px-3 py-2.5 text-base border-2 border-[#614E41] rounded-lg bg-background",children:o.jsx(Hi,{placeholder:"Select Prize Standard"})}),o.jsxs(Vi,{children:[o.jsx(Kr,{value:"0",children:"ERC721"}),o.jsx(Kr,{value:"1",children:"ERC1155"})]})]})}),o.jsx("input",{type:"number",placeholder:"Prize Token ID",value:or===0?0:ft,onChange:he=>fr(he.target.value),className:"px-3 py-2.5 border-2 border-[#614E41] rounded-md bg-background w-full sm:w-32 focus:outline-none focus:ring-0",disabled:rt||or===0}),o.jsx("input",{type:"number",placeholder:"Amount Per Winner",value:or===0?1:Mt,onChange:he=>Ee(he.target.value),className:"px-3 py-2.5 border-2 border-[#614E41] rounded-md bg-background w-full sm:w-32 focus:outline-none focus:ring-0",disabled:rt||or===0}),o.jsx(et,{onClick:st,disabled:rt||!xt||xt.length!==42||or!==0&&(ft===""||Mt===""),className:"bg-[#614E41] text-white px-4 py-2 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50",children:rt?"Assigning...":"Submit"}),o.jsx(et,{variant:"outline",onClick:()=>dt(!1),disabled:rt,className:"sm:ml-2 border-2 border-[#614E41]",children:"Cancel"})]}):o.jsx(et,{onClick:()=>dt(!0),className:"bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:"Assign Prize"})})]})]}),Ft()&&S.ticketsSold>0&&o.jsx("div",{className:"mt-4 p-4 bg-blue-50/80 dark:bg-blue-900/20 backdrop-blur-sm border border-blue-200/50 dark:border-blue-700/50 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-800",children:["ℹ️ As the raffle creator, you can delete this raffle. Deletion will automatically process refunds for all ",S.ticketsSold," sold tickets."]})})]}),o.jsx("div",{className:"detail-beige-card mb-8 p-6 bg-card/80 text-foreground backdrop-blur-sm border border-[#614E41] rounded-xl shadow-lg",children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 text-center items-center",children:[o.jsxs("div",{children:[o.jsx("p",{className:`font-bold ${C?"text-lg":"text-2xl"}`,children:S.ticketsSold}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Tickets Sold"})]}),o.jsxs("div",{children:[o.jsx("p",{className:`font-bold ${C?"text-lg":"text-2xl"}`,children:S.ticketLimit}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Tickets"})]}),o.jsxs("div",{children:[o.jsx("p",{className:`font-bold ${C?"text-lg":"text-2xl"}`,children:S.winnersCount}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Winners"})]}),o.jsxs("div",{children:[o.jsx("p",{className:`font-bold ${C?"text-lg":"text-2xl"}`,children:yn}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:zn})]}),o.jsx("div",{className:"flex justify-center lg:justify-end items-center h-full w-full",children:Re&&S&&S.standard!==2&&S.standard!==3&&(()=>{const{refundable:he,reason:we,label:Ce}=N_(S);return o.jsxs("span",{className:`px-3 py-1 rounded-full font-semibold ${he?"bg-green-100 text-green-800":"bg-gray-200 text-gray-800"} text-xs`,title:we,style:{whiteSpace:"nowrap"},children:[Ce,o.jsx(qP,{className:"inline-block ml-1 h-4 w-4 text-gray-400 align-middle",title:we})]})})()})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsx(x_,{raffle:S,onPurchase:Qn,timeRemaining:K,winners:[],shouldShowClaimPrize:wf,prizeAlreadyClaimed:na,claimingPrize:xn,handleClaimPrize:ci,shouldShowClaimRefund:sa,claimingRefund:oi,handleClaimRefund:oa,refundableAmount:bn,isMintableERC721:ia,showMintInput:Ne,setShowMintInput:mt,mintWinnerAddress:Oe,setMintWinnerAddress:Le,mintingToWinner:Pt,handleMintToWinner:pr,isEscrowedPrize:Y,isExternallyPrized:ht,isPrized:S.isPrized,isMobile:C,onStateChange:D}),o.jsx(w_,{raffle:S,isMintableERC721:ia,isEscrowedPrize:Y,isMobile:C,onWinnerCountChange:bf})]}),o.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"detail-beige-card bg-card/80 text-foreground backdrop-blur-sm border border-[#614E41] rounded-xl p-6 shadow-lg h-full",children:[o.jsx("h3",{className:`font-semibold mb-4 ${C?"text-base":"text-lg"}`,children:"Raffle Details"}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Contract Address:"}),o.jsx("span",{className:"font-mono",children:C?`${S.address.slice(0,12)}...`:`${S.address.slice(0,10)}...${S.address.slice(-8)}`})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Start Time:"}),o.jsx("span",{children:new Date(S.startTime*1e3).toLocaleString()})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Duration:"}),o.jsx("span",{children:It(S.duration)})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Ticket Price:"}),o.jsx("span",{children:w(S.ticketPrice)})]}),S.nativePrizeAmount&&S.nativePrizeAmount.gt&&S.nativePrizeAmount.gt(0)&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Prize Amount:"}),o.jsx("span",{children:P(S.nativePrizeAmount)})]}),S.erc20PrizeToken&&S.erc20PrizeToken!==Pe&&S.erc20PrizeAmount&&S.erc20PrizeAmount.gt&&S.erc20PrizeAmount.gt(0)&&o.jsx(k_,{token:S.erc20PrizeToken,amount:S.erc20PrizeAmount}),S.prizeCollection&&S.prizeCollection!==Pe&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Prize Collection:"}),o.jsx("a",{href:j2(S.prizeCollection,S.chainId),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-200",title:S.prizeCollection,children:v||`${S.prizeCollection.slice(0,10)}...${S.prizeCollection.slice(-8)}`})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:Y?"Prize Type:":"Collection Type:"}),o.jsx("span",{className:"font-semibold",children:(()=>{if(typeof Y=="boolean"&&typeof S.standard<"u"){if(!Y&&S.standard===0)return"Mintable ERC721";if(!Y&&S.standard===1)return"Mintable ERC1155";if(Y&&S.standard===0)return"Escrowed ERC721";if(Y&&S.standard===1)return"Escrowed ERC1155"}return"Unknown"})()})]}),Y&&S.prizeTokenId!==void 0&&S.prizeTokenId!==null&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Prize Token ID:"}),o.jsx("span",{className:"font-mono font-semibold",children:S.prizeTokenId.toString?S.prizeTokenId.toString():S.prizeTokenId})]})]})]})]}),o.jsx(v_,{raffle:S,isMintableERC721:ia})]})]})]})},C_=()=>{const{isMobile:t,isInitialized:e}=sr(),{component:r}=oI();return b.useEffect(()=>(aI(),()=>{lI()}),[]),e?o.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[o.jsx(tI,{}),o.jsx("div",{style:{height:"80px"}}),o.jsx("main",{className:"flex-1 min-h-0",children:o.jsxs(aE,{children:[o.jsx(Fa,{path:"/",element:o.jsx(vI,{})}),o.jsx(Fa,{path:"/profile",element:o.jsx(YI,{})}),o.jsx(Fa,{path:"/create-raffle",element:o.jsx(c_,{})}),o.jsx(Fa,{path:"/raffle/:raffleAddress",element:o.jsx(ab,{})}),o.jsx(Fa,{path:"/:chainSlug/raffle/:raffleAddress",element:o.jsx(ab,{})})]})}),o.jsx(rI,{}),o.jsx(SP,{}),r]}):o.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold mb-2",style:{fontFamily:"Orbitron, monospace"},children:"Rafflhub"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading..."})]})})};function E_(){return o.jsx(nI,{children:o.jsx(_P,{children:o.jsx(qT,{children:o.jsx(IP,{children:o.jsx(DP,{children:o.jsx(mE,{children:o.jsx(C_,{})})})})})})})}const A_=console.error;console.error=(...t)=>{const e=t.join(" ");e.includes("Invalid Sentry Dsn")||e.includes("Sentry")||A_.apply(console,t)};console.log("main.jsx is executing...");const wp=document.getElementById("root");console.log("Root element found:",wp);if(wp){const t=gC.createRoot(wp);console.log("React root created"),t.render(o.jsx(E_,{})),console.log("React app rendered")}else console.error("Root element not found!");

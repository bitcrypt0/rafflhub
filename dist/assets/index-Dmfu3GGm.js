var zD=Object.defineProperty;var FD=(r,e,t)=>e in r?zD(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var hg=(r,e,t)=>FD(r,typeof e!="symbol"?e+"":e,t);function nj(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var BD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function el(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function ok(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var Wv={exports:{}},xh={},Hv={exports:{}},Jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TC;function $D(){if(TC)return Jt;TC=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function y(M){return M===null||typeof M!="object"?null:(M=p&&M[p]||M["@@iterator"],typeof M=="function"?M:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function w(M,N,R){this.props=M,this.context=N,this.refs=x,this.updater=R||m}w.prototype.isReactComponent={},w.prototype.setState=function(M,N){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,N,"setState")},w.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function A(){}A.prototype=w.prototype;function P(M,N,R){this.props=M,this.context=N,this.refs=x,this.updater=R||m}var I=P.prototype=new A;I.constructor=P,b(I,w.prototype),I.isPureReactComponent=!0;var T=Array.isArray,U=Object.prototype.hasOwnProperty,B={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function G(M,N,R){var X,$={},Y=null,Q=null;if(N!=null)for(X in N.ref!==void 0&&(Q=N.ref),N.key!==void 0&&(Y=""+N.key),N)U.call(N,X)&&!H.hasOwnProperty(X)&&($[X]=N[X]);var Z=arguments.length-2;if(Z===1)$.children=R;else if(1<Z){for(var te=Array(Z),ce=0;ce<Z;ce++)te[ce]=arguments[ce+2];$.children=te}if(M&&M.defaultProps)for(X in Z=M.defaultProps,Z)$[X]===void 0&&($[X]=Z[X]);return{$$typeof:r,type:M,key:Y,ref:Q,props:$,_owner:B.current}}function W(M,N){return{$$typeof:r,type:M.type,key:N,ref:M.ref,props:M.props,_owner:M._owner}}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function K(M){var N={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(R){return N[R]})}var q=/\/+/g;function D(M,N){return typeof M=="object"&&M!==null&&M.key!=null?K(""+M.key):N.toString(36)}function v(M,N,R,X,$){var Y=typeof M;(Y==="undefined"||Y==="boolean")&&(M=null);var Q=!1;if(M===null)Q=!0;else switch(Y){case"string":case"number":Q=!0;break;case"object":switch(M.$$typeof){case r:case e:Q=!0}}if(Q)return Q=M,$=$(Q),M=X===""?"."+D(Q,0):X,T($)?(R="",M!=null&&(R=M.replace(q,"$&/")+"/"),v($,N,R,"",function(ce){return ce})):$!=null&&(V($)&&($=W($,R+(!$.key||Q&&Q.key===$.key?"":(""+$.key).replace(q,"$&/")+"/")+M)),N.push($)),1;if(Q=0,X=X===""?".":X+":",T(M))for(var Z=0;Z<M.length;Z++){Y=M[Z];var te=X+D(Y,Z);Q+=v(Y,N,R,te,$)}else if(te=y(M),typeof te=="function")for(M=te.call(M),Z=0;!(Y=M.next()).done;)Y=Y.value,te=X+D(Y,Z++),Q+=v(Y,N,R,te,$);else if(Y==="object")throw N=String(M),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return Q}function S(M,N,R){if(M==null)return M;var X=[],$=0;return v(M,X,"","",function(Y){return N.call(R,Y,$++)}),X}function _(M){if(M._status===-1){var N=M._result;N=N(),N.then(function(R){(M._status===0||M._status===-1)&&(M._status=1,M._result=R)},function(R){(M._status===0||M._status===-1)&&(M._status=2,M._result=R)}),M._status===-1&&(M._status=0,M._result=N)}if(M._status===1)return M._result.default;throw M._result}var j={current:null},O={transition:null},z={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:O,ReactCurrentOwner:B};function E(){throw Error("act(...) is not supported in production builds of React.")}return Jt.Children={map:S,forEach:function(M,N,R){S(M,function(){N.apply(this,arguments)},R)},count:function(M){var N=0;return S(M,function(){N++}),N},toArray:function(M){return S(M,function(N){return N})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Jt.Component=w,Jt.Fragment=t,Jt.Profiler=i,Jt.PureComponent=P,Jt.StrictMode=n,Jt.Suspense=u,Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,Jt.act=E,Jt.cloneElement=function(M,N,R){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var X=b({},M.props),$=M.key,Y=M.ref,Q=M._owner;if(N!=null){if(N.ref!==void 0&&(Y=N.ref,Q=B.current),N.key!==void 0&&($=""+N.key),M.type&&M.type.defaultProps)var Z=M.type.defaultProps;for(te in N)U.call(N,te)&&!H.hasOwnProperty(te)&&(X[te]=N[te]===void 0&&Z!==void 0?Z[te]:N[te])}var te=arguments.length-2;if(te===1)X.children=R;else if(1<te){Z=Array(te);for(var ce=0;ce<te;ce++)Z[ce]=arguments[ce+2];X.children=Z}return{$$typeof:r,type:M.type,key:$,ref:Y,props:X,_owner:Q}},Jt.createContext=function(M){return M={$$typeof:o,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:s,_context:M},M.Consumer=M},Jt.createElement=G,Jt.createFactory=function(M){var N=G.bind(null,M);return N.type=M,N},Jt.createRef=function(){return{current:null}},Jt.forwardRef=function(M){return{$$typeof:a,render:M}},Jt.isValidElement=V,Jt.lazy=function(M){return{$$typeof:h,_payload:{_status:-1,_result:M},_init:_}},Jt.memo=function(M,N){return{$$typeof:d,type:M,compare:N===void 0?null:N}},Jt.startTransition=function(M){var N=O.transition;O.transition={};try{M()}finally{O.transition=N}},Jt.unstable_act=E,Jt.useCallback=function(M,N){return j.current.useCallback(M,N)},Jt.useContext=function(M){return j.current.useContext(M)},Jt.useDebugValue=function(){},Jt.useDeferredValue=function(M){return j.current.useDeferredValue(M)},Jt.useEffect=function(M,N){return j.current.useEffect(M,N)},Jt.useId=function(){return j.current.useId()},Jt.useImperativeHandle=function(M,N,R){return j.current.useImperativeHandle(M,N,R)},Jt.useInsertionEffect=function(M,N){return j.current.useInsertionEffect(M,N)},Jt.useLayoutEffect=function(M,N){return j.current.useLayoutEffect(M,N)},Jt.useMemo=function(M,N){return j.current.useMemo(M,N)},Jt.useReducer=function(M,N,R){return j.current.useReducer(M,N,R)},Jt.useRef=function(M){return j.current.useRef(M)},Jt.useState=function(M){return j.current.useState(M)},Jt.useSyncExternalStore=function(M,N,R){return j.current.useSyncExternalStore(M,N,R)},Jt.useTransition=function(){return j.current.useTransition()},Jt.version="18.3.1",Jt}var AC;function ak(){return AC||(AC=1,Hv.exports=$D()),Hv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jC;function UD(){if(jC)return xh;jC=1;var r=ak(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,u,d){var h,p={},y=null,m=null;d!==void 0&&(y=""+d),u.key!==void 0&&(y=""+u.key),u.ref!==void 0&&(m=u.ref);for(h in u)n.call(u,h)&&!s.hasOwnProperty(h)&&(p[h]=u[h]);if(a&&a.defaultProps)for(h in u=a.defaultProps,u)p[h]===void 0&&(p[h]=u[h]);return{$$typeof:e,type:a,key:y,ref:m,props:p,_owner:i.current}}return xh.Fragment=t,xh.jsx=o,xh.jsxs=o,xh}var PC;function qD(){return PC||(PC=1,Wv.exports=UD()),Wv.exports}var l=qD(),C=ak();const ve=el(C),lk=nj({__proto__:null,default:ve},[C]);var pg={},Vv={exports:{}},Hi={},Gv={exports:{}},Kv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RC;function WD(){return RC||(RC=1,function(r){function e(O,z){var E=O.length;O.push(z);e:for(;0<E;){var M=E-1>>>1,N=O[M];if(0<i(N,z))O[M]=z,O[E]=N,E=M;else break e}}function t(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var z=O[0],E=O.pop();if(E!==z){O[0]=E;e:for(var M=0,N=O.length,R=N>>>1;M<R;){var X=2*(M+1)-1,$=O[X],Y=X+1,Q=O[Y];if(0>i($,E))Y<N&&0>i(Q,$)?(O[M]=Q,O[Y]=E,M=Y):(O[M]=$,O[X]=E,M=X);else if(Y<N&&0>i(Q,E))O[M]=Q,O[Y]=E,M=Y;else break e}}return z}function i(O,z){var E=O.sortIndex-z.sortIndex;return E!==0?E:O.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();r.unstable_now=function(){return o.now()-a}}var u=[],d=[],h=1,p=null,y=3,m=!1,b=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(O){for(var z=t(d);z!==null;){if(z.callback===null)n(d);else if(z.startTime<=O)n(d),z.sortIndex=z.expirationTime,e(u,z);else break;z=t(d)}}function T(O){if(x=!1,I(O),!b)if(t(u)!==null)b=!0,_(U);else{var z=t(d);z!==null&&j(T,z.startTime-O)}}function U(O,z){b=!1,x&&(x=!1,A(G),G=-1),m=!0;var E=y;try{for(I(z),p=t(u);p!==null&&(!(p.expirationTime>z)||O&&!K());){var M=p.callback;if(typeof M=="function"){p.callback=null,y=p.priorityLevel;var N=M(p.expirationTime<=z);z=r.unstable_now(),typeof N=="function"?p.callback=N:p===t(u)&&n(u),I(z)}else n(u);p=t(u)}if(p!==null)var R=!0;else{var X=t(d);X!==null&&j(T,X.startTime-z),R=!1}return R}finally{p=null,y=E,m=!1}}var B=!1,H=null,G=-1,W=5,V=-1;function K(){return!(r.unstable_now()-V<W)}function q(){if(H!==null){var O=r.unstable_now();V=O;var z=!0;try{z=H(!0,O)}finally{z?D():(B=!1,H=null)}}else B=!1}var D;if(typeof P=="function")D=function(){P(q)};else if(typeof MessageChannel<"u"){var v=new MessageChannel,S=v.port2;v.port1.onmessage=q,D=function(){S.postMessage(null)}}else D=function(){w(q,0)};function _(O){H=O,B||(B=!0,D())}function j(O,z){G=w(function(){O(r.unstable_now())},z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(O){O.callback=null},r.unstable_continueExecution=function(){b||m||(b=!0,_(U))},r.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<O?Math.floor(1e3/O):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return t(u)},r.unstable_next=function(O){switch(y){case 1:case 2:case 3:var z=3;break;default:z=y}var E=y;y=z;try{return O()}finally{y=E}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var E=y;y=O;try{return z()}finally{y=E}},r.unstable_scheduleCallback=function(O,z,E){var M=r.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?M+E:M):E=M,O){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=E+N,O={id:h++,callback:z,priorityLevel:O,startTime:E,expirationTime:N,sortIndex:-1},E>M?(O.sortIndex=E,e(d,O),t(u)===null&&O===t(d)&&(x?(A(G),G=-1):x=!0,j(T,E-M))):(O.sortIndex=N,e(u,O),b||m||(b=!0,_(U))),O},r.unstable_shouldYield=K,r.unstable_wrapCallback=function(O){var z=y;return function(){var E=y;y=z;try{return O.apply(this,arguments)}finally{y=E}}}}(Kv)),Kv}var IC;function HD(){return IC||(IC=1,Gv.exports=WD()),Gv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MC;function VD(){if(MC)return Hi;MC=1;var r=ak(),e=HD();function t(c){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+c,g=1;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(c,f){o(c,f),o(c+"Capture",f)}function o(c,f){for(i[c]=f,c=0;c<f.length;c++)n.add(f[c])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function y(c){return u.call(p,c)?!0:u.call(h,c)?!1:d.test(c)?p[c]=!0:(h[c]=!0,!1)}function m(c,f,g,k){if(g!==null&&g.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return k?!1:g!==null?!g.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function b(c,f,g,k){if(f===null||typeof f>"u"||m(c,f,g,k))return!0;if(k)return!1;if(g!==null)switch(g.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function x(c,f,g,k,L,F,J){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=k,this.attributeNamespace=L,this.mustUseProperty=g,this.propertyName=c,this.type=f,this.sanitizeURL=F,this.removeEmptyString=J}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){w[c]=new x(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var f=c[0];w[f]=new x(f,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){w[c]=new x(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){w[c]=new x(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){w[c]=new x(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){w[c]=new x(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){w[c]=new x(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){w[c]=new x(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){w[c]=new x(c,5,!1,c.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function P(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var f=c.replace(A,P);w[f]=new x(f,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var f=c.replace(A,P);w[f]=new x(f,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var f=c.replace(A,P);w[f]=new x(f,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){w[c]=new x(c,1,!1,c.toLowerCase(),null,!1,!1)}),w.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){w[c]=new x(c,1,!1,c.toLowerCase(),null,!0,!0)});function I(c,f,g,k){var L=w.hasOwnProperty(f)?w[f]:null;(L!==null?L.type!==0:k||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(b(f,g,L,k)&&(g=null),k||L===null?y(f)&&(g===null?c.removeAttribute(f):c.setAttribute(f,""+g)):L.mustUseProperty?c[L.propertyName]=g===null?L.type===3?!1:"":g:(f=L.attributeName,k=L.attributeNamespace,g===null?c.removeAttribute(f):(L=L.type,g=L===3||L===4&&g===!0?"":""+g,k?c.setAttributeNS(k,f,g):c.setAttribute(f,g))))}var T=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),B=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),K=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),O=Symbol.iterator;function z(c){return c===null||typeof c!="object"?null:(c=O&&c[O]||c["@@iterator"],typeof c=="function"?c:null)}var E=Object.assign,M;function N(c){if(M===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);M=f&&f[1]||""}return`
`+M+c}var R=!1;function X(c,f){if(!c||R)return"";R=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(me){var k=me}Reflect.construct(c,[],f)}else{try{f.call()}catch(me){k=me}c.call(f.prototype)}else{try{throw Error()}catch(me){k=me}c()}}catch(me){if(me&&k&&typeof me.stack=="string"){for(var L=me.stack.split(`
`),F=k.stack.split(`
`),J=L.length-1,re=F.length-1;1<=J&&0<=re&&L[J]!==F[re];)re--;for(;1<=J&&0<=re;J--,re--)if(L[J]!==F[re]){if(J!==1||re!==1)do if(J--,re--,0>re||L[J]!==F[re]){var ie=`
`+L[J].replace(" at new "," at ");return c.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",c.displayName)),ie}while(1<=J&&0<=re);break}}}finally{R=!1,Error.prepareStackTrace=g}return(c=c?c.displayName||c.name:"")?N(c):""}function $(c){switch(c.tag){case 5:return N(c.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return c=X(c.type,!1),c;case 11:return c=X(c.type.render,!1),c;case 1:return c=X(c.type,!0),c;default:return""}}function Y(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case H:return"Fragment";case B:return"Portal";case W:return"Profiler";case G:return"StrictMode";case D:return"Suspense";case v:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case K:return(c.displayName||"Context")+".Consumer";case V:return(c._context.displayName||"Context")+".Provider";case q:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case S:return f=c.displayName||null,f!==null?f:Y(c.type)||"Memo";case _:f=c._payload,c=c._init;try{return Y(c(f))}catch{}}return null}function Q(c){var f=c.type;switch(c.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=f.render,c=c.displayName||c.name||"",f.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y(f);case 8:return f===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function Z(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function te(c){var f=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function ce(c){var f=te(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,f),k=""+c[f];if(!c.hasOwnProperty(f)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var L=g.get,F=g.set;return Object.defineProperty(c,f,{configurable:!0,get:function(){return L.call(this)},set:function(J){k=""+J,F.call(this,J)}}),Object.defineProperty(c,f,{enumerable:g.enumerable}),{getValue:function(){return k},setValue:function(J){k=""+J},stopTracking:function(){c._valueTracker=null,delete c[f]}}}}function ne(c){c._valueTracker||(c._valueTracker=ce(c))}function ue(c){if(!c)return!1;var f=c._valueTracker;if(!f)return!0;var g=f.getValue(),k="";return c&&(k=te(c)?c.checked?"true":"false":c.value),c=k,c!==g?(f.setValue(c),!0):!1}function xe(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function ye(c,f){var g=f.checked;return E({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??c._wrapperState.initialChecked})}function Se(c,f){var g=f.defaultValue==null?"":f.defaultValue,k=f.checked!=null?f.checked:f.defaultChecked;g=Z(f.value!=null?f.value:g),c._wrapperState={initialChecked:k,initialValue:g,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function pt(c,f){f=f.checked,f!=null&&I(c,"checked",f,!1)}function ae(c,f){pt(c,f);var g=Z(f.value),k=f.type;if(g!=null)k==="number"?(g===0&&c.value===""||c.value!=g)&&(c.value=""+g):c.value!==""+g&&(c.value=""+g);else if(k==="submit"||k==="reset"){c.removeAttribute("value");return}f.hasOwnProperty("value")?Rt(c,f.type,g):f.hasOwnProperty("defaultValue")&&Rt(c,f.type,Z(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(c.defaultChecked=!!f.defaultChecked)}function Ye(c,f,g){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var k=f.type;if(!(k!=="submit"&&k!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+c._wrapperState.initialValue,g||f===c.value||(c.value=f),c.defaultValue=f}g=c.name,g!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,g!==""&&(c.name=g)}function Rt(c,f,g){(f!=="number"||xe(c.ownerDocument)!==c)&&(g==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+g&&(c.defaultValue=""+g))}var Xe=Array.isArray;function Ie(c,f,g,k){if(c=c.options,f){f={};for(var L=0;L<g.length;L++)f["$"+g[L]]=!0;for(g=0;g<c.length;g++)L=f.hasOwnProperty("$"+c[g].value),c[g].selected!==L&&(c[g].selected=L),L&&k&&(c[g].defaultSelected=!0)}else{for(g=""+Z(g),f=null,L=0;L<c.length;L++){if(c[L].value===g){c[L].selected=!0,k&&(c[L].defaultSelected=!0);return}f!==null||c[L].disabled||(f=c[L])}f!==null&&(f.selected=!0)}}function Gt(c,f){if(f.dangerouslySetInnerHTML!=null)throw Error(t(91));return E({},f,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function tt(c,f){var g=f.value;if(g==null){if(g=f.children,f=f.defaultValue,g!=null){if(f!=null)throw Error(t(92));if(Xe(g)){if(1<g.length)throw Error(t(93));g=g[0]}f=g}f==null&&(f=""),g=f}c._wrapperState={initialValue:Z(g)}}function xt(c,f){var g=Z(f.value),k=Z(f.defaultValue);g!=null&&(g=""+g,g!==c.value&&(c.value=g),f.defaultValue==null&&c.defaultValue!==g&&(c.defaultValue=g)),k!=null&&(c.defaultValue=""+k)}function Me(c){var f=c.textContent;f===c._wrapperState.initialValue&&f!==""&&f!==null&&(c.value=f)}function oe(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(c,f){return c==null||c==="http://www.w3.org/1999/xhtml"?oe(f):c==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var Oe,Te=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,g,k,L){MSApp.execUnsafeLocalFunction(function(){return c(f,g,k,L)})}:c}(function(c,f){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=f;else{for(Oe=Oe||document.createElement("div"),Oe.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=Oe.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;f.firstChild;)c.appendChild(f.firstChild)}});function Re(c,f){if(f){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=f;return}}c.textContent=f}var jt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qe=["Webkit","ms","Moz","O"];Object.keys(jt).forEach(function(c){qe.forEach(function(f){f=f+c.charAt(0).toUpperCase()+c.substring(1),jt[f]=jt[c]})});function rt(c,f,g){return f==null||typeof f=="boolean"||f===""?"":g||typeof f!="number"||f===0||jt.hasOwnProperty(c)&&jt[c]?(""+f).trim():f+"px"}function Ht(c,f){c=c.style;for(var g in f)if(f.hasOwnProperty(g)){var k=g.indexOf("--")===0,L=rt(g,f[g],k);g==="float"&&(g="cssFloat"),k?c.setProperty(g,L):c[g]=L}}var vt=E({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ot(c,f){if(f){if(vt[c]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(t(137,c));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(t(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(t(61))}if(f.style!=null&&typeof f.style!="object")throw Error(t(62))}}function dr(c,f){if(c.indexOf("-")===-1)return typeof f.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=null;function Be(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Ir=null,Nt=null,St=null;function or(c){if(c=nh(c)){if(typeof Ir!="function")throw Error(t(280));var f=c.stateNode;f&&(f=Tm(f),Ir(c.stateNode,c.type,f))}}function Dt(c){Nt?St?St.push(c):St=[c]:Nt=c}function De(){if(Nt){var c=Nt,f=St;if(St=Nt=null,or(c),f)for(c=0;c<f.length;c++)or(f[c])}}function dt(c,f){return c(f)}function it(){}var Pe=!1;function $e(c,f,g){if(Pe)return c(f,g);Pe=!0;try{return dt(c,f,g)}finally{Pe=!1,(Nt!==null||St!==null)&&(it(),De())}}function ze(c,f){var g=c.stateNode;if(g===null)return null;var k=Tm(g);if(k===null)return null;g=k[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(k=!k.disabled)||(c=c.type,k=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!k;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(t(231,f,typeof g));return g}var be=!1;if(a)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){be=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch{be=!1}function Ne(c,f,g,k,L,F,J,re,ie){var me=Array.prototype.slice.call(arguments,3);try{f.apply(g,me)}catch(Ee){this.onError(Ee)}}var Le=!1,fr=null,Ge=!1,at=null,kr={onError:function(c){Le=!0,fr=c}};function wt(c,f,g,k,L,F,J,re,ie){Le=!1,fr=null,Ne.apply(kr,arguments)}function yt(c,f,g,k,L,F,J,re,ie){if(wt.apply(this,arguments),Le){if(Le){var me=fr;Le=!1,fr=null}else throw Error(t(198));Ge||(Ge=!0,at=me)}}function Lt(c){var f=c,g=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(g=f.return),c=f.return;while(c)}return f.tag===3?g:null}function zt(c){if(c.tag===13){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function mt(c){if(Lt(c)!==c)throw Error(t(188))}function Tr(c){var f=c.alternate;if(!f){if(f=Lt(c),f===null)throw Error(t(188));return f!==c?null:c}for(var g=c,k=f;;){var L=g.return;if(L===null)break;var F=L.alternate;if(F===null){if(k=L.return,k!==null){g=k;continue}break}if(L.child===F.child){for(F=L.child;F;){if(F===g)return mt(L),c;if(F===k)return mt(L),f;F=F.sibling}throw Error(t(188))}if(g.return!==k.return)g=L,k=F;else{for(var J=!1,re=L.child;re;){if(re===g){J=!0,g=L,k=F;break}if(re===k){J=!0,k=L,g=F;break}re=re.sibling}if(!J){for(re=F.child;re;){if(re===g){J=!0,g=F,k=L;break}if(re===k){J=!0,k=F,g=L;break}re=re.sibling}if(!J)throw Error(t(189))}}if(g.alternate!==k)throw Error(t(190))}if(g.tag!==3)throw Error(t(188));return g.stateNode.current===g?c:f}function Mr(c){return c=Tr(c),c!==null?hr(c):null}function hr(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var f=hr(c);if(f!==null)return f;c=c.sibling}return null}var vr=e.unstable_scheduleCallback,_r=e.unstable_cancelCallback,oi=e.unstable_shouldYield,Os=e.unstable_requestPaint,Ft=e.unstable_now,Ar=e.unstable_getCurrentPriorityLevel,gn=e.unstable_ImmediatePriority,ns=e.unstable_UserBlockingPriority,is=e.unstable_NormalPriority,Fi=e.unstable_LowPriority,Tn=e.unstable_IdlePriority,Kn=null,un=null;function Yn(c){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Kn,c,void 0,(c.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:Lu,xa=Math.log,yx=Math.LN2;function Lu(c){return c>>>=0,c===0?32:31-(xa(c)/yx|0)|0}var Pf=64,Rf=4194304;function Fo(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function va(c,f){var g=c.pendingLanes;if(g===0)return 0;var k=0,L=c.suspendedLanes,F=c.pingedLanes,J=g&268435455;if(J!==0){var re=J&~L;re!==0?k=Fo(re):(F&=J,F!==0&&(k=Fo(F)))}else J=g&~L,J!==0?k=Fo(J):F!==0&&(k=Fo(F));if(k===0)return 0;if(f!==0&&f!==k&&(f&L)===0&&(L=k&-k,F=f&-f,L>=F||L===16&&(F&4194240)!==0))return f;if((k&4)!==0&&(k|=g&16),f=c.entangledLanes,f!==0)for(c=c.entanglements,f&=k;0<f;)g=31-Jn(f),L=1<<g,k|=c[g],f&=~L;return k}function vc(c,f){switch(c){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function If(c,f){for(var g=c.suspendedLanes,k=c.pingedLanes,L=c.expirationTimes,F=c.pendingLanes;0<F;){var J=31-Jn(F),re=1<<J,ie=L[J];ie===-1?((re&g)===0||(re&k)!==0)&&(L[J]=vc(re,f)):ie<=f&&(c.expiredLanes|=re),F&=~re}}function Mf(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function mm(){var c=Pf;return Pf<<=1,(Pf&4194240)===0&&(Pf=64),c}function Of(c){for(var f=[],g=0;31>g;g++)f.push(c);return f}function bc(c,f,g){c.pendingLanes|=f,f!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,f=31-Jn(f),c[f]=g}function xx(c,f){var g=c.pendingLanes&~f;c.pendingLanes=f,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=f,c.mutableReadLanes&=f,c.entangledLanes&=f,f=c.entanglements;var k=c.eventTimes;for(c=c.expirationTimes;0<g;){var L=31-Jn(g),F=1<<L;f[L]=0,k[L]=-1,c[L]=-1,g&=~F}}function Df(c,f){var g=c.entangledLanes|=f;for(c=c.entanglements;g;){var k=31-Jn(g),L=1<<k;L&f|c[k]&f&&(c[k]|=f),g&=~L}}var br=0;function wc(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var Lf,zu,zf,Ff,ge,we=!1,We=[],Tt=null,Ut=null,Sr=null,Yr=new Map,Qn=new Map,Or=[],kc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fo(c,f){switch(c){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ut=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":Yr.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qn.delete(f.pointerId)}}function ll(c,f,g,k,L,F){return c===null||c.nativeEvent!==F?(c={blockedOn:f,domEventName:g,eventSystemFlags:k,nativeEvent:F,targetContainers:[L]},f!==null&&(f=nh(f),f!==null&&zu(f)),c):(c.eventSystemFlags|=k,f=c.targetContainers,L!==null&&f.indexOf(L)===-1&&f.push(L),c)}function pr(c,f,g,k,L){switch(f){case"focusin":return Tt=ll(Tt,c,f,g,k,L),!0;case"dragenter":return Ut=ll(Ut,c,f,g,k,L),!0;case"mouseover":return Sr=ll(Sr,c,f,g,k,L),!0;case"pointerover":var F=L.pointerId;return Yr.set(F,ll(Yr.get(F)||null,c,f,g,k,L)),!0;case"gotpointercapture":return F=L.pointerId,Qn.set(F,ll(Qn.get(F)||null,c,f,g,k,L)),!0}return!1}function gm(c){var f=Tc(c.target);if(f!==null){var g=Lt(f);if(g!==null){if(f=g.tag,f===13){if(f=zt(g),f!==null){c.blockedOn=f,ge(c.priority,function(){zf(g)});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function _c(c){if(c.blockedOn!==null)return!1;for(var f=c.targetContainers;0<f.length;){var g=Uf(c.domEventName,c.eventSystemFlags,f[0],c.nativeEvent);if(g===null){g=c.nativeEvent;var k=new g.constructor(g.type,g);bt=k,g.target.dispatchEvent(k),bt=null}else return f=nh(g),f!==null&&zu(f),c.blockedOn=g,!1;f.shift()}return!0}function Bf(c,f,g){_c(c)&&g.delete(f)}function vx(){we=!1,Tt!==null&&_c(Tt)&&(Tt=null),Ut!==null&&_c(Ut)&&(Ut=null),Sr!==null&&_c(Sr)&&(Sr=null),Yr.forEach(Bf),Qn.forEach(Bf)}function Ec(c,f){c.blockedOn===f&&(c.blockedOn=null,we||(we=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vx)))}function Cc(c){function f(L){return Ec(L,c)}if(0<We.length){Ec(We[0],c);for(var g=1;g<We.length;g++){var k=We[g];k.blockedOn===c&&(k.blockedOn=null)}}for(Tt!==null&&Ec(Tt,c),Ut!==null&&Ec(Ut,c),Sr!==null&&Ec(Sr,c),Yr.forEach(f),Qn.forEach(f),g=0;g<Or.length;g++)k=Or[g],k.blockedOn===c&&(k.blockedOn=null);for(;0<Or.length&&(g=Or[0],g.blockedOn===null);)gm(g),g.blockedOn===null&&Or.shift()}var cl=T.ReactCurrentBatchConfig,Fu=!0;function bx(c,f,g,k){var L=br,F=cl.transition;cl.transition=null;try{br=1,$f(c,f,g,k)}finally{br=L,cl.transition=F}}function wx(c,f,g,k){var L=br,F=cl.transition;cl.transition=null;try{br=4,$f(c,f,g,k)}finally{br=L,cl.transition=F}}function $f(c,f,g,k){if(Fu){var L=Uf(c,f,g,k);if(L===null)Mx(c,f,k,ba,g),fo(c,k);else if(pr(L,c,f,g,k))k.stopPropagation();else if(fo(c,k),f&4&&-1<kc.indexOf(c)){for(;L!==null;){var F=nh(L);if(F!==null&&Lf(F),F=Uf(c,f,g,k),F===null&&Mx(c,f,k,ba,g),F===L)break;L=F}L!==null&&k.stopPropagation()}else Mx(c,f,k,null,g)}}var ba=null;function Uf(c,f,g,k){if(ba=null,c=Be(k),c=Tc(c),c!==null)if(f=Lt(c),f===null)c=null;else if(g=f.tag,g===13){if(c=zt(f),c!==null)return c;c=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;c=null}else f!==c&&(c=null);return ba=c,null}function qf(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ar()){case gn:return 1;case ns:return 4;case is:case Fi:return 16;case Tn:return 536870912;default:return 16}default:return 16}}var Bo=null,Wf=null,ul=null;function ym(){if(ul)return ul;var c,f=Wf,g=f.length,k,L="value"in Bo?Bo.value:Bo.textContent,F=L.length;for(c=0;c<g&&f[c]===L[c];c++);var J=g-c;for(k=1;k<=J&&f[g-k]===L[F-k];k++);return ul=L.slice(c,1<k?1-k:void 0)}function Bu(c){var f=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&f===13&&(c=13)):c=f,c===10&&(c=13),32<=c||c===13?c:0}function $u(){return!0}function xm(){return!1}function _i(c){function f(g,k,L,F,J){this._reactName=g,this._targetInst=L,this.type=k,this.nativeEvent=F,this.target=J,this.currentTarget=null;for(var re in c)c.hasOwnProperty(re)&&(g=c[re],this[re]=g?g(F):F[re]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?$u:xm,this.isPropagationStopped=xm,this}return E(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=$u)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=$u)},persist:function(){},isPersistent:$u}),f}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dl=_i(wa),$o=E({},wa,{view:0,detail:0}),Sc=_i($o),Hf,Vf,Uo,ka=E({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_x,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Uo&&(Uo&&c.type==="mousemove"?(Hf=c.screenX-Uo.screenX,Vf=c.screenY-Uo.screenY):Vf=Hf=0,Uo=c),Hf)},movementY:function(c){return"movementY"in c?c.movementY:Vf}}),Gf=_i(ka),vm=E({},ka,{dataTransfer:0}),y2=_i(vm),kx=E({},$o,{relatedTarget:0}),Ds=_i(kx),ss=E({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),bm=_i(ss),Jr=E({},wa,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),ho=_i(Jr),Nc=E({},wa,{data:0}),x2=_i(Nc),bO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _O(c){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(c):(c=kO[c])?!!f[c]:!1}function _x(){return _O}var EO=E({},$o,{key:function(c){if(c.key){var f=bO[c.key]||c.key;if(f!=="Unidentified")return f}return c.type==="keypress"?(c=Bu(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?wO[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_x,charCode:function(c){return c.type==="keypress"?Bu(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Bu(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),CO=_i(EO),SO=E({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v2=_i(SO),NO=E({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_x}),TO=_i(NO),AO=E({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),jO=_i(AO),PO=E({},ka,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),RO=_i(PO),IO=[9,13,27,32],Ex=a&&"CompositionEvent"in window,Kf=null;a&&"documentMode"in document&&(Kf=document.documentMode);var MO=a&&"TextEvent"in window&&!Kf,b2=a&&(!Ex||Kf&&8<Kf&&11>=Kf),w2=" ",k2=!1;function _2(c,f){switch(c){case"keyup":return IO.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E2(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Uu=!1;function OO(c,f){switch(c){case"compositionend":return E2(f);case"keypress":return f.which!==32?null:(k2=!0,w2);case"textInput":return c=f.data,c===w2&&k2?null:c;default:return null}}function DO(c,f){if(Uu)return c==="compositionend"||!Ex&&_2(c,f)?(c=ym(),ul=Wf=Bo=null,Uu=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return b2&&f.locale!=="ko"?null:f.data;default:return null}}var LO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C2(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f==="input"?!!LO[c.type]:f==="textarea"}function S2(c,f,g,k){Dt(k),f=Cm(f,"onChange"),0<f.length&&(g=new dl("onChange","change",null,g,k),c.push({event:g,listeners:f}))}var Yf=null,Jf=null;function zO(c){W2(c,0)}function wm(c){var f=Gu(c);if(ue(f))return c}function FO(c,f){if(c==="change")return f}var N2=!1;if(a){var Cx;if(a){var Sx="oninput"in document;if(!Sx){var T2=document.createElement("div");T2.setAttribute("oninput","return;"),Sx=typeof T2.oninput=="function"}Cx=Sx}else Cx=!1;N2=Cx&&(!document.documentMode||9<document.documentMode)}function A2(){Yf&&(Yf.detachEvent("onpropertychange",j2),Jf=Yf=null)}function j2(c){if(c.propertyName==="value"&&wm(Jf)){var f=[];S2(f,Jf,c,Be(c)),$e(zO,f)}}function BO(c,f,g){c==="focusin"?(A2(),Yf=f,Jf=g,Yf.attachEvent("onpropertychange",j2)):c==="focusout"&&A2()}function $O(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return wm(Jf)}function UO(c,f){if(c==="click")return wm(f)}function qO(c,f){if(c==="input"||c==="change")return wm(f)}function WO(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var po=typeof Object.is=="function"?Object.is:WO;function Qf(c,f){if(po(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var g=Object.keys(c),k=Object.keys(f);if(g.length!==k.length)return!1;for(k=0;k<g.length;k++){var L=g[k];if(!u.call(f,L)||!po(c[L],f[L]))return!1}return!0}function P2(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function R2(c,f){var g=P2(c);c=0;for(var k;g;){if(g.nodeType===3){if(k=c+g.textContent.length,c<=f&&k>=f)return{node:g,offset:f-c};c=k}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=P2(g)}}function I2(c,f){return c&&f?c===f?!0:c&&c.nodeType===3?!1:f&&f.nodeType===3?I2(c,f.parentNode):"contains"in c?c.contains(f):c.compareDocumentPosition?!!(c.compareDocumentPosition(f)&16):!1:!1}function M2(){for(var c=window,f=xe();f instanceof c.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)c=f.contentWindow;else break;f=xe(c.document)}return f}function Nx(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f&&(f==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||f==="textarea"||c.contentEditable==="true")}function HO(c){var f=M2(),g=c.focusedElem,k=c.selectionRange;if(f!==g&&g&&g.ownerDocument&&I2(g.ownerDocument.documentElement,g)){if(k!==null&&Nx(g)){if(f=k.start,c=k.end,c===void 0&&(c=f),"selectionStart"in g)g.selectionStart=f,g.selectionEnd=Math.min(c,g.value.length);else if(c=(f=g.ownerDocument||document)&&f.defaultView||window,c.getSelection){c=c.getSelection();var L=g.textContent.length,F=Math.min(k.start,L);k=k.end===void 0?F:Math.min(k.end,L),!c.extend&&F>k&&(L=k,k=F,F=L),L=R2(g,F);var J=R2(g,k);L&&J&&(c.rangeCount!==1||c.anchorNode!==L.node||c.anchorOffset!==L.offset||c.focusNode!==J.node||c.focusOffset!==J.offset)&&(f=f.createRange(),f.setStart(L.node,L.offset),c.removeAllRanges(),F>k?(c.addRange(f),c.extend(J.node,J.offset)):(f.setEnd(J.node,J.offset),c.addRange(f)))}}for(f=[],c=g;c=c.parentNode;)c.nodeType===1&&f.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<f.length;g++)c=f[g],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var VO=a&&"documentMode"in document&&11>=document.documentMode,qu=null,Tx=null,Xf=null,Ax=!1;function O2(c,f,g){var k=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Ax||qu==null||qu!==xe(k)||(k=qu,"selectionStart"in k&&Nx(k)?k={start:k.selectionStart,end:k.selectionEnd}:(k=(k.ownerDocument&&k.ownerDocument.defaultView||window).getSelection(),k={anchorNode:k.anchorNode,anchorOffset:k.anchorOffset,focusNode:k.focusNode,focusOffset:k.focusOffset}),Xf&&Qf(Xf,k)||(Xf=k,k=Cm(Tx,"onSelect"),0<k.length&&(f=new dl("onSelect","select",null,f,g),c.push({event:f,listeners:k}),f.target=qu)))}function km(c,f){var g={};return g[c.toLowerCase()]=f.toLowerCase(),g["Webkit"+c]="webkit"+f,g["Moz"+c]="moz"+f,g}var Wu={animationend:km("Animation","AnimationEnd"),animationiteration:km("Animation","AnimationIteration"),animationstart:km("Animation","AnimationStart"),transitionend:km("Transition","TransitionEnd")},jx={},D2={};a&&(D2=document.createElement("div").style,"AnimationEvent"in window||(delete Wu.animationend.animation,delete Wu.animationiteration.animation,delete Wu.animationstart.animation),"TransitionEvent"in window||delete Wu.transitionend.transition);function _m(c){if(jx[c])return jx[c];if(!Wu[c])return c;var f=Wu[c],g;for(g in f)if(f.hasOwnProperty(g)&&g in D2)return jx[c]=f[g];return c}var L2=_m("animationend"),z2=_m("animationiteration"),F2=_m("animationstart"),B2=_m("transitionend"),$2=new Map,U2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fl(c,f){$2.set(c,f),s(f,[c])}for(var Px=0;Px<U2.length;Px++){var Rx=U2[Px],GO=Rx.toLowerCase(),KO=Rx[0].toUpperCase()+Rx.slice(1);fl(GO,"on"+KO)}fl(L2,"onAnimationEnd"),fl(z2,"onAnimationIteration"),fl(F2,"onAnimationStart"),fl("dblclick","onDoubleClick"),fl("focusin","onFocus"),fl("focusout","onBlur"),fl(B2,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zf));function q2(c,f,g){var k=c.type||"unknown-event";c.currentTarget=g,yt(k,f,void 0,c),c.currentTarget=null}function W2(c,f){f=(f&4)!==0;for(var g=0;g<c.length;g++){var k=c[g],L=k.event;k=k.listeners;e:{var F=void 0;if(f)for(var J=k.length-1;0<=J;J--){var re=k[J],ie=re.instance,me=re.currentTarget;if(re=re.listener,ie!==F&&L.isPropagationStopped())break e;q2(L,re,me),F=ie}else for(J=0;J<k.length;J++){if(re=k[J],ie=re.instance,me=re.currentTarget,re=re.listener,ie!==F&&L.isPropagationStopped())break e;q2(L,re,me),F=ie}}}if(Ge)throw c=at,Ge=!1,at=null,c}function $r(c,f){var g=f[Bx];g===void 0&&(g=f[Bx]=new Set);var k=c+"__bubble";g.has(k)||(H2(f,c,2,!1),g.add(k))}function Ix(c,f,g){var k=0;f&&(k|=4),H2(g,c,k,f)}var Em="_reactListening"+Math.random().toString(36).slice(2);function eh(c){if(!c[Em]){c[Em]=!0,n.forEach(function(g){g!=="selectionchange"&&(YO.has(g)||Ix(g,!1,c),Ix(g,!0,c))});var f=c.nodeType===9?c:c.ownerDocument;f===null||f[Em]||(f[Em]=!0,Ix("selectionchange",!1,f))}}function H2(c,f,g,k){switch(qf(f)){case 1:var L=bx;break;case 4:L=wx;break;default:L=$f}g=L.bind(null,f,g,c),L=void 0,!be||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(L=!0),k?L!==void 0?c.addEventListener(f,g,{capture:!0,passive:L}):c.addEventListener(f,g,!0):L!==void 0?c.addEventListener(f,g,{passive:L}):c.addEventListener(f,g,!1)}function Mx(c,f,g,k,L){var F=k;if((f&1)===0&&(f&2)===0&&k!==null)e:for(;;){if(k===null)return;var J=k.tag;if(J===3||J===4){var re=k.stateNode.containerInfo;if(re===L||re.nodeType===8&&re.parentNode===L)break;if(J===4)for(J=k.return;J!==null;){var ie=J.tag;if((ie===3||ie===4)&&(ie=J.stateNode.containerInfo,ie===L||ie.nodeType===8&&ie.parentNode===L))return;J=J.return}for(;re!==null;){if(J=Tc(re),J===null)return;if(ie=J.tag,ie===5||ie===6){k=F=J;continue e}re=re.parentNode}}k=k.return}$e(function(){var me=F,Ee=Be(g),Ce=[];e:{var _e=$2.get(c);if(_e!==void 0){var Ue=dl,Ze=c;switch(c){case"keypress":if(Bu(g)===0)break e;case"keydown":case"keyup":Ue=CO;break;case"focusin":Ze="focus",Ue=Ds;break;case"focusout":Ze="blur",Ue=Ds;break;case"beforeblur":case"afterblur":Ue=Ds;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=Gf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=y2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=TO;break;case L2:case z2:case F2:Ue=bm;break;case B2:Ue=jO;break;case"scroll":Ue=Sc;break;case"wheel":Ue=RO;break;case"copy":case"cut":case"paste":Ue=ho;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=v2}var nt=(f&4)!==0,dn=!nt&&c==="scroll",fe=nt?_e!==null?_e+"Capture":null:_e;nt=[];for(var le=me,pe;le!==null;){pe=le;var je=pe.stateNode;if(pe.tag===5&&je!==null&&(pe=je,fe!==null&&(je=ze(le,fe),je!=null&&nt.push(th(le,je,pe)))),dn)break;le=le.return}0<nt.length&&(_e=new Ue(_e,Ze,null,g,Ee),Ce.push({event:_e,listeners:nt}))}}if((f&7)===0){e:{if(_e=c==="mouseover"||c==="pointerover",Ue=c==="mouseout"||c==="pointerout",_e&&g!==bt&&(Ze=g.relatedTarget||g.fromElement)&&(Tc(Ze)||Ze[_a]))break e;if((Ue||_e)&&(_e=Ee.window===Ee?Ee:(_e=Ee.ownerDocument)?_e.defaultView||_e.parentWindow:window,Ue?(Ze=g.relatedTarget||g.toElement,Ue=me,Ze=Ze?Tc(Ze):null,Ze!==null&&(dn=Lt(Ze),Ze!==dn||Ze.tag!==5&&Ze.tag!==6)&&(Ze=null)):(Ue=null,Ze=me),Ue!==Ze)){if(nt=Gf,je="onMouseLeave",fe="onMouseEnter",le="mouse",(c==="pointerout"||c==="pointerover")&&(nt=v2,je="onPointerLeave",fe="onPointerEnter",le="pointer"),dn=Ue==null?_e:Gu(Ue),pe=Ze==null?_e:Gu(Ze),_e=new nt(je,le+"leave",Ue,g,Ee),_e.target=dn,_e.relatedTarget=pe,je=null,Tc(Ee)===me&&(nt=new nt(fe,le+"enter",Ze,g,Ee),nt.target=pe,nt.relatedTarget=dn,je=nt),dn=je,Ue&&Ze)t:{for(nt=Ue,fe=Ze,le=0,pe=nt;pe;pe=Hu(pe))le++;for(pe=0,je=fe;je;je=Hu(je))pe++;for(;0<le-pe;)nt=Hu(nt),le--;for(;0<pe-le;)fe=Hu(fe),pe--;for(;le--;){if(nt===fe||fe!==null&&nt===fe.alternate)break t;nt=Hu(nt),fe=Hu(fe)}nt=null}else nt=null;Ue!==null&&V2(Ce,_e,Ue,nt,!1),Ze!==null&&dn!==null&&V2(Ce,dn,Ze,nt,!0)}}e:{if(_e=me?Gu(me):window,Ue=_e.nodeName&&_e.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&_e.type==="file")var lt=FO;else if(C2(_e))if(N2)lt=qO;else{lt=$O;var kt=BO}else(Ue=_e.nodeName)&&Ue.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(lt=UO);if(lt&&(lt=lt(c,me))){S2(Ce,lt,g,Ee);break e}kt&&kt(c,_e,me),c==="focusout"&&(kt=_e._wrapperState)&&kt.controlled&&_e.type==="number"&&Rt(_e,"number",_e.value)}switch(kt=me?Gu(me):window,c){case"focusin":(C2(kt)||kt.contentEditable==="true")&&(qu=kt,Tx=me,Xf=null);break;case"focusout":Xf=Tx=qu=null;break;case"mousedown":Ax=!0;break;case"contextmenu":case"mouseup":case"dragend":Ax=!1,O2(Ce,g,Ee);break;case"selectionchange":if(VO)break;case"keydown":case"keyup":O2(Ce,g,Ee)}var _t;if(Ex)e:{switch(c){case"compositionstart":var It="onCompositionStart";break e;case"compositionend":It="onCompositionEnd";break e;case"compositionupdate":It="onCompositionUpdate";break e}It=void 0}else Uu?_2(c,g)&&(It="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(It="onCompositionStart");It&&(b2&&g.locale!=="ko"&&(Uu||It!=="onCompositionStart"?It==="onCompositionEnd"&&Uu&&(_t=ym()):(Bo=Ee,Wf="value"in Bo?Bo.value:Bo.textContent,Uu=!0)),kt=Cm(me,It),0<kt.length&&(It=new x2(It,c,null,g,Ee),Ce.push({event:It,listeners:kt}),_t?It.data=_t:(_t=E2(g),_t!==null&&(It.data=_t)))),(_t=MO?OO(c,g):DO(c,g))&&(me=Cm(me,"onBeforeInput"),0<me.length&&(Ee=new x2("onBeforeInput","beforeinput",null,g,Ee),Ce.push({event:Ee,listeners:me}),Ee.data=_t))}W2(Ce,f)})}function th(c,f,g){return{instance:c,listener:f,currentTarget:g}}function Cm(c,f){for(var g=f+"Capture",k=[];c!==null;){var L=c,F=L.stateNode;L.tag===5&&F!==null&&(L=F,F=ze(c,g),F!=null&&k.unshift(th(c,F,L)),F=ze(c,f),F!=null&&k.push(th(c,F,L))),c=c.return}return k}function Hu(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function V2(c,f,g,k,L){for(var F=f._reactName,J=[];g!==null&&g!==k;){var re=g,ie=re.alternate,me=re.stateNode;if(ie!==null&&ie===k)break;re.tag===5&&me!==null&&(re=me,L?(ie=ze(g,F),ie!=null&&J.unshift(th(g,ie,re))):L||(ie=ze(g,F),ie!=null&&J.push(th(g,ie,re)))),g=g.return}J.length!==0&&c.push({event:f,listeners:J})}var JO=/\r\n?/g,QO=/\u0000|\uFFFD/g;function G2(c){return(typeof c=="string"?c:""+c).replace(JO,`
`).replace(QO,"")}function Sm(c,f,g){if(f=G2(f),G2(c)!==f&&g)throw Error(t(425))}function Nm(){}var Ox=null,Dx=null;function Lx(c,f){return c==="textarea"||c==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var zx=typeof setTimeout=="function"?setTimeout:void 0,XO=typeof clearTimeout=="function"?clearTimeout:void 0,K2=typeof Promise=="function"?Promise:void 0,ZO=typeof queueMicrotask=="function"?queueMicrotask:typeof K2<"u"?function(c){return K2.resolve(null).then(c).catch(eD)}:zx;function eD(c){setTimeout(function(){throw c})}function Fx(c,f){var g=f,k=0;do{var L=g.nextSibling;if(c.removeChild(g),L&&L.nodeType===8)if(g=L.data,g==="/$"){if(k===0){c.removeChild(L),Cc(f);return}k--}else g!=="$"&&g!=="$?"&&g!=="$!"||k++;g=L}while(g);Cc(f)}function hl(c){for(;c!=null;c=c.nextSibling){var f=c.nodeType;if(f===1||f===3)break;if(f===8){if(f=c.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return c}function Y2(c){c=c.previousSibling;for(var f=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(f===0)return c;f--}else g==="/$"&&f++}c=c.previousSibling}return null}var Vu=Math.random().toString(36).slice(2),qo="__reactFiber$"+Vu,rh="__reactProps$"+Vu,_a="__reactContainer$"+Vu,Bx="__reactEvents$"+Vu,tD="__reactListeners$"+Vu,rD="__reactHandles$"+Vu;function Tc(c){var f=c[qo];if(f)return f;for(var g=c.parentNode;g;){if(f=g[_a]||g[qo]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(c=Y2(c);c!==null;){if(g=c[qo])return g;c=Y2(c)}return f}c=g,g=c.parentNode}return null}function nh(c){return c=c[qo]||c[_a],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Gu(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(t(33))}function Tm(c){return c[rh]||null}var $x=[],Ku=-1;function pl(c){return{current:c}}function Ur(c){0>Ku||(c.current=$x[Ku],$x[Ku]=null,Ku--)}function Dr(c,f){Ku++,$x[Ku]=c.current,c.current=f}var ml={},ai=pl(ml),Bi=pl(!1),Ac=ml;function Yu(c,f){var g=c.type.contextTypes;if(!g)return ml;var k=c.stateNode;if(k&&k.__reactInternalMemoizedUnmaskedChildContext===f)return k.__reactInternalMemoizedMaskedChildContext;var L={},F;for(F in g)L[F]=f[F];return k&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=f,c.__reactInternalMemoizedMaskedChildContext=L),L}function $i(c){return c=c.childContextTypes,c!=null}function Am(){Ur(Bi),Ur(ai)}function J2(c,f,g){if(ai.current!==ml)throw Error(t(168));Dr(ai,f),Dr(Bi,g)}function Q2(c,f,g){var k=c.stateNode;if(f=f.childContextTypes,typeof k.getChildContext!="function")return g;k=k.getChildContext();for(var L in k)if(!(L in f))throw Error(t(108,Q(c)||"Unknown",L));return E({},g,k)}function jm(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||ml,Ac=ai.current,Dr(ai,c),Dr(Bi,Bi.current),!0}function X2(c,f,g){var k=c.stateNode;if(!k)throw Error(t(169));g?(c=Q2(c,f,Ac),k.__reactInternalMemoizedMergedChildContext=c,Ur(Bi),Ur(ai),Dr(ai,c)):Ur(Bi),Dr(Bi,g)}var Ea=null,Pm=!1,Ux=!1;function Z2(c){Ea===null?Ea=[c]:Ea.push(c)}function nD(c){Pm=!0,Z2(c)}function gl(){if(!Ux&&Ea!==null){Ux=!0;var c=0,f=br;try{var g=Ea;for(br=1;c<g.length;c++){var k=g[c];do k=k(!0);while(k!==null)}Ea=null,Pm=!1}catch(L){throw Ea!==null&&(Ea=Ea.slice(c+1)),vr(gn,gl),L}finally{br=f,Ux=!1}}return null}var Ju=[],Qu=0,Rm=null,Im=0,Ls=[],zs=0,jc=null,Ca=1,Sa="";function Pc(c,f){Ju[Qu++]=Im,Ju[Qu++]=Rm,Rm=c,Im=f}function eE(c,f,g){Ls[zs++]=Ca,Ls[zs++]=Sa,Ls[zs++]=jc,jc=c;var k=Ca;c=Sa;var L=32-Jn(k)-1;k&=~(1<<L),g+=1;var F=32-Jn(f)+L;if(30<F){var J=L-L%5;F=(k&(1<<J)-1).toString(32),k>>=J,L-=J,Ca=1<<32-Jn(f)+L|g<<L|k,Sa=F+c}else Ca=1<<F|g<<L|k,Sa=c}function qx(c){c.return!==null&&(Pc(c,1),eE(c,1,0))}function Wx(c){for(;c===Rm;)Rm=Ju[--Qu],Ju[Qu]=null,Im=Ju[--Qu],Ju[Qu]=null;for(;c===jc;)jc=Ls[--zs],Ls[zs]=null,Sa=Ls[--zs],Ls[zs]=null,Ca=Ls[--zs],Ls[zs]=null}var os=null,as=null,Hr=!1,mo=null;function tE(c,f){var g=Us(5,null,null,0);g.elementType="DELETED",g.stateNode=f,g.return=c,f=c.deletions,f===null?(c.deletions=[g],c.flags|=16):f.push(g)}function rE(c,f){switch(c.tag){case 5:var g=c.type;return f=f.nodeType!==1||g.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(c.stateNode=f,os=c,as=hl(f.firstChild),!0):!1;case 6:return f=c.pendingProps===""||f.nodeType!==3?null:f,f!==null?(c.stateNode=f,os=c,as=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(g=jc!==null?{id:Ca,overflow:Sa}:null,c.memoizedState={dehydrated:f,treeContext:g,retryLane:1073741824},g=Us(18,null,null,0),g.stateNode=f,g.return=c,c.child=g,os=c,as=null,!0):!1;default:return!1}}function Hx(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Vx(c){if(Hr){var f=as;if(f){var g=f;if(!rE(c,f)){if(Hx(c))throw Error(t(418));f=hl(g.nextSibling);var k=os;f&&rE(c,f)?tE(k,g):(c.flags=c.flags&-4097|2,Hr=!1,os=c)}}else{if(Hx(c))throw Error(t(418));c.flags=c.flags&-4097|2,Hr=!1,os=c}}}function nE(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;os=c}function Mm(c){if(c!==os)return!1;if(!Hr)return nE(c),Hr=!0,!1;var f;if((f=c.tag!==3)&&!(f=c.tag!==5)&&(f=c.type,f=f!=="head"&&f!=="body"&&!Lx(c.type,c.memoizedProps)),f&&(f=as)){if(Hx(c))throw iE(),Error(t(418));for(;f;)tE(c,f),f=hl(f.nextSibling)}if(nE(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(t(317));e:{for(c=c.nextSibling,f=0;c;){if(c.nodeType===8){var g=c.data;if(g==="/$"){if(f===0){as=hl(c.nextSibling);break e}f--}else g!=="$"&&g!=="$!"&&g!=="$?"||f++}c=c.nextSibling}as=null}}else as=os?hl(c.stateNode.nextSibling):null;return!0}function iE(){for(var c=as;c;)c=hl(c.nextSibling)}function Xu(){as=os=null,Hr=!1}function Gx(c){mo===null?mo=[c]:mo.push(c)}var iD=T.ReactCurrentBatchConfig;function ih(c,f,g){if(c=g.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(t(309));var k=g.stateNode}if(!k)throw Error(t(147,c));var L=k,F=""+c;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===F?f.ref:(f=function(J){var re=L.refs;J===null?delete re[F]:re[F]=J},f._stringRef=F,f)}if(typeof c!="string")throw Error(t(284));if(!g._owner)throw Error(t(290,c))}return c}function Om(c,f){throw c=Object.prototype.toString.call(f),Error(t(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c))}function sE(c){var f=c._init;return f(c._payload)}function oE(c){function f(fe,le){if(c){var pe=fe.deletions;pe===null?(fe.deletions=[le],fe.flags|=16):pe.push(le)}}function g(fe,le){if(!c)return null;for(;le!==null;)f(fe,le),le=le.sibling;return null}function k(fe,le){for(fe=new Map;le!==null;)le.key!==null?fe.set(le.key,le):fe.set(le.index,le),le=le.sibling;return fe}function L(fe,le){return fe=El(fe,le),fe.index=0,fe.sibling=null,fe}function F(fe,le,pe){return fe.index=pe,c?(pe=fe.alternate,pe!==null?(pe=pe.index,pe<le?(fe.flags|=2,le):pe):(fe.flags|=2,le)):(fe.flags|=1048576,le)}function J(fe){return c&&fe.alternate===null&&(fe.flags|=2),fe}function re(fe,le,pe,je){return le===null||le.tag!==6?(le=zv(pe,fe.mode,je),le.return=fe,le):(le=L(le,pe),le.return=fe,le)}function ie(fe,le,pe,je){var lt=pe.type;return lt===H?Ee(fe,le,pe.props.children,je,pe.key):le!==null&&(le.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===_&&sE(lt)===le.type)?(je=L(le,pe.props),je.ref=ih(fe,le,pe),je.return=fe,je):(je=sg(pe.type,pe.key,pe.props,null,fe.mode,je),je.ref=ih(fe,le,pe),je.return=fe,je)}function me(fe,le,pe,je){return le===null||le.tag!==4||le.stateNode.containerInfo!==pe.containerInfo||le.stateNode.implementation!==pe.implementation?(le=Fv(pe,fe.mode,je),le.return=fe,le):(le=L(le,pe.children||[]),le.return=fe,le)}function Ee(fe,le,pe,je,lt){return le===null||le.tag!==7?(le=Fc(pe,fe.mode,je,lt),le.return=fe,le):(le=L(le,pe),le.return=fe,le)}function Ce(fe,le,pe){if(typeof le=="string"&&le!==""||typeof le=="number")return le=zv(""+le,fe.mode,pe),le.return=fe,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case U:return pe=sg(le.type,le.key,le.props,null,fe.mode,pe),pe.ref=ih(fe,null,le),pe.return=fe,pe;case B:return le=Fv(le,fe.mode,pe),le.return=fe,le;case _:var je=le._init;return Ce(fe,je(le._payload),pe)}if(Xe(le)||z(le))return le=Fc(le,fe.mode,pe,null),le.return=fe,le;Om(fe,le)}return null}function _e(fe,le,pe,je){var lt=le!==null?le.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number")return lt!==null?null:re(fe,le,""+pe,je);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case U:return pe.key===lt?ie(fe,le,pe,je):null;case B:return pe.key===lt?me(fe,le,pe,je):null;case _:return lt=pe._init,_e(fe,le,lt(pe._payload),je)}if(Xe(pe)||z(pe))return lt!==null?null:Ee(fe,le,pe,je,null);Om(fe,pe)}return null}function Ue(fe,le,pe,je,lt){if(typeof je=="string"&&je!==""||typeof je=="number")return fe=fe.get(pe)||null,re(le,fe,""+je,lt);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case U:return fe=fe.get(je.key===null?pe:je.key)||null,ie(le,fe,je,lt);case B:return fe=fe.get(je.key===null?pe:je.key)||null,me(le,fe,je,lt);case _:var kt=je._init;return Ue(fe,le,pe,kt(je._payload),lt)}if(Xe(je)||z(je))return fe=fe.get(pe)||null,Ee(le,fe,je,lt,null);Om(le,je)}return null}function Ze(fe,le,pe,je){for(var lt=null,kt=null,_t=le,It=le=0,Bn=null;_t!==null&&It<pe.length;It++){_t.index>It?(Bn=_t,_t=null):Bn=_t.sibling;var yr=_e(fe,_t,pe[It],je);if(yr===null){_t===null&&(_t=Bn);break}c&&_t&&yr.alternate===null&&f(fe,_t),le=F(yr,le,It),kt===null?lt=yr:kt.sibling=yr,kt=yr,_t=Bn}if(It===pe.length)return g(fe,_t),Hr&&Pc(fe,It),lt;if(_t===null){for(;It<pe.length;It++)_t=Ce(fe,pe[It],je),_t!==null&&(le=F(_t,le,It),kt===null?lt=_t:kt.sibling=_t,kt=_t);return Hr&&Pc(fe,It),lt}for(_t=k(fe,_t);It<pe.length;It++)Bn=Ue(_t,fe,It,pe[It],je),Bn!==null&&(c&&Bn.alternate!==null&&_t.delete(Bn.key===null?It:Bn.key),le=F(Bn,le,It),kt===null?lt=Bn:kt.sibling=Bn,kt=Bn);return c&&_t.forEach(function(Cl){return f(fe,Cl)}),Hr&&Pc(fe,It),lt}function nt(fe,le,pe,je){var lt=z(pe);if(typeof lt!="function")throw Error(t(150));if(pe=lt.call(pe),pe==null)throw Error(t(151));for(var kt=lt=null,_t=le,It=le=0,Bn=null,yr=pe.next();_t!==null&&!yr.done;It++,yr=pe.next()){_t.index>It?(Bn=_t,_t=null):Bn=_t.sibling;var Cl=_e(fe,_t,yr.value,je);if(Cl===null){_t===null&&(_t=Bn);break}c&&_t&&Cl.alternate===null&&f(fe,_t),le=F(Cl,le,It),kt===null?lt=Cl:kt.sibling=Cl,kt=Cl,_t=Bn}if(yr.done)return g(fe,_t),Hr&&Pc(fe,It),lt;if(_t===null){for(;!yr.done;It++,yr=pe.next())yr=Ce(fe,yr.value,je),yr!==null&&(le=F(yr,le,It),kt===null?lt=yr:kt.sibling=yr,kt=yr);return Hr&&Pc(fe,It),lt}for(_t=k(fe,_t);!yr.done;It++,yr=pe.next())yr=Ue(_t,fe,It,yr.value,je),yr!==null&&(c&&yr.alternate!==null&&_t.delete(yr.key===null?It:yr.key),le=F(yr,le,It),kt===null?lt=yr:kt.sibling=yr,kt=yr);return c&&_t.forEach(function(LD){return f(fe,LD)}),Hr&&Pc(fe,It),lt}function dn(fe,le,pe,je){if(typeof pe=="object"&&pe!==null&&pe.type===H&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case U:e:{for(var lt=pe.key,kt=le;kt!==null;){if(kt.key===lt){if(lt=pe.type,lt===H){if(kt.tag===7){g(fe,kt.sibling),le=L(kt,pe.props.children),le.return=fe,fe=le;break e}}else if(kt.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===_&&sE(lt)===kt.type){g(fe,kt.sibling),le=L(kt,pe.props),le.ref=ih(fe,kt,pe),le.return=fe,fe=le;break e}g(fe,kt);break}else f(fe,kt);kt=kt.sibling}pe.type===H?(le=Fc(pe.props.children,fe.mode,je,pe.key),le.return=fe,fe=le):(je=sg(pe.type,pe.key,pe.props,null,fe.mode,je),je.ref=ih(fe,le,pe),je.return=fe,fe=je)}return J(fe);case B:e:{for(kt=pe.key;le!==null;){if(le.key===kt)if(le.tag===4&&le.stateNode.containerInfo===pe.containerInfo&&le.stateNode.implementation===pe.implementation){g(fe,le.sibling),le=L(le,pe.children||[]),le.return=fe,fe=le;break e}else{g(fe,le);break}else f(fe,le);le=le.sibling}le=Fv(pe,fe.mode,je),le.return=fe,fe=le}return J(fe);case _:return kt=pe._init,dn(fe,le,kt(pe._payload),je)}if(Xe(pe))return Ze(fe,le,pe,je);if(z(pe))return nt(fe,le,pe,je);Om(fe,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"?(pe=""+pe,le!==null&&le.tag===6?(g(fe,le.sibling),le=L(le,pe),le.return=fe,fe=le):(g(fe,le),le=zv(pe,fe.mode,je),le.return=fe,fe=le),J(fe)):g(fe,le)}return dn}var Zu=oE(!0),aE=oE(!1),Dm=pl(null),Lm=null,ed=null,Kx=null;function Yx(){Kx=ed=Lm=null}function Jx(c){var f=Dm.current;Ur(Dm),c._currentValue=f}function Qx(c,f,g){for(;c!==null;){var k=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,k!==null&&(k.childLanes|=f)):k!==null&&(k.childLanes&f)!==f&&(k.childLanes|=f),c===g)break;c=c.return}}function td(c,f){Lm=c,Kx=ed=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&f)!==0&&(Ui=!0),c.firstContext=null)}function Fs(c){var f=c._currentValue;if(Kx!==c)if(c={context:c,memoizedValue:f,next:null},ed===null){if(Lm===null)throw Error(t(308));ed=c,Lm.dependencies={lanes:0,firstContext:c}}else ed=ed.next=c;return f}var Rc=null;function Xx(c){Rc===null?Rc=[c]:Rc.push(c)}function lE(c,f,g,k){var L=f.interleaved;return L===null?(g.next=g,Xx(f)):(g.next=L.next,L.next=g),f.interleaved=g,Na(c,k)}function Na(c,f){c.lanes|=f;var g=c.alternate;for(g!==null&&(g.lanes|=f),g=c,c=c.return;c!==null;)c.childLanes|=f,g=c.alternate,g!==null&&(g.childLanes|=f),g=c,c=c.return;return g.tag===3?g.stateNode:null}var yl=!1;function Zx(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cE(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Ta(c,f){return{eventTime:c,lane:f,tag:0,payload:null,callback:null,next:null}}function xl(c,f,g){var k=c.updateQueue;if(k===null)return null;if(k=k.shared,(mr&2)!==0){var L=k.pending;return L===null?f.next=f:(f.next=L.next,L.next=f),k.pending=f,Na(c,g)}return L=k.interleaved,L===null?(f.next=f,Xx(k)):(f.next=L.next,L.next=f),k.interleaved=f,Na(c,g)}function zm(c,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194240)!==0)){var k=f.lanes;k&=c.pendingLanes,g|=k,f.lanes=g,Df(c,g)}}function uE(c,f){var g=c.updateQueue,k=c.alternate;if(k!==null&&(k=k.updateQueue,g===k)){var L=null,F=null;if(g=g.firstBaseUpdate,g!==null){do{var J={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};F===null?L=F=J:F=F.next=J,g=g.next}while(g!==null);F===null?L=F=f:F=F.next=f}else L=F=f;g={baseState:k.baseState,firstBaseUpdate:L,lastBaseUpdate:F,shared:k.shared,effects:k.effects},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=f:c.next=f,g.lastBaseUpdate=f}function Fm(c,f,g,k){var L=c.updateQueue;yl=!1;var F=L.firstBaseUpdate,J=L.lastBaseUpdate,re=L.shared.pending;if(re!==null){L.shared.pending=null;var ie=re,me=ie.next;ie.next=null,J===null?F=me:J.next=me,J=ie;var Ee=c.alternate;Ee!==null&&(Ee=Ee.updateQueue,re=Ee.lastBaseUpdate,re!==J&&(re===null?Ee.firstBaseUpdate=me:re.next=me,Ee.lastBaseUpdate=ie))}if(F!==null){var Ce=L.baseState;J=0,Ee=me=ie=null,re=F;do{var _e=re.lane,Ue=re.eventTime;if((k&_e)===_e){Ee!==null&&(Ee=Ee.next={eventTime:Ue,lane:0,tag:re.tag,payload:re.payload,callback:re.callback,next:null});e:{var Ze=c,nt=re;switch(_e=f,Ue=g,nt.tag){case 1:if(Ze=nt.payload,typeof Ze=="function"){Ce=Ze.call(Ue,Ce,_e);break e}Ce=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=nt.payload,_e=typeof Ze=="function"?Ze.call(Ue,Ce,_e):Ze,_e==null)break e;Ce=E({},Ce,_e);break e;case 2:yl=!0}}re.callback!==null&&re.lane!==0&&(c.flags|=64,_e=L.effects,_e===null?L.effects=[re]:_e.push(re))}else Ue={eventTime:Ue,lane:_e,tag:re.tag,payload:re.payload,callback:re.callback,next:null},Ee===null?(me=Ee=Ue,ie=Ce):Ee=Ee.next=Ue,J|=_e;if(re=re.next,re===null){if(re=L.shared.pending,re===null)break;_e=re,re=_e.next,_e.next=null,L.lastBaseUpdate=_e,L.shared.pending=null}}while(!0);if(Ee===null&&(ie=Ce),L.baseState=ie,L.firstBaseUpdate=me,L.lastBaseUpdate=Ee,f=L.shared.interleaved,f!==null){L=f;do J|=L.lane,L=L.next;while(L!==f)}else F===null&&(L.shared.lanes=0);Oc|=J,c.lanes=J,c.memoizedState=Ce}}function dE(c,f,g){if(c=f.effects,f.effects=null,c!==null)for(f=0;f<c.length;f++){var k=c[f],L=k.callback;if(L!==null){if(k.callback=null,k=g,typeof L!="function")throw Error(t(191,L));L.call(k)}}}var sh={},Wo=pl(sh),oh=pl(sh),ah=pl(sh);function Ic(c){if(c===sh)throw Error(t(174));return c}function ev(c,f){switch(Dr(ah,f),Dr(oh,c),Dr(Wo,sh),c=f.nodeType,c){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:he(null,"");break;default:c=c===8?f.parentNode:f,f=c.namespaceURI||null,c=c.tagName,f=he(f,c)}Ur(Wo),Dr(Wo,f)}function rd(){Ur(Wo),Ur(oh),Ur(ah)}function fE(c){Ic(ah.current);var f=Ic(Wo.current),g=he(f,c.type);f!==g&&(Dr(oh,c),Dr(Wo,g))}function tv(c){oh.current===c&&(Ur(Wo),Ur(oh))}var Qr=pl(0);function Bm(c){for(var f=c;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var rv=[];function nv(){for(var c=0;c<rv.length;c++)rv[c]._workInProgressVersionPrimary=null;rv.length=0}var $m=T.ReactCurrentDispatcher,iv=T.ReactCurrentBatchConfig,Mc=0,Xr=null,An=null,zn=null,Um=!1,lh=!1,ch=0,sD=0;function li(){throw Error(t(321))}function sv(c,f){if(f===null)return!1;for(var g=0;g<f.length&&g<c.length;g++)if(!po(c[g],f[g]))return!1;return!0}function ov(c,f,g,k,L,F){if(Mc=F,Xr=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,$m.current=c===null||c.memoizedState===null?cD:uD,c=g(k,L),lh){F=0;do{if(lh=!1,ch=0,25<=F)throw Error(t(301));F+=1,zn=An=null,f.updateQueue=null,$m.current=dD,c=g(k,L)}while(lh)}if($m.current=Hm,f=An!==null&&An.next!==null,Mc=0,zn=An=Xr=null,Um=!1,f)throw Error(t(300));return c}function av(){var c=ch!==0;return ch=0,c}function Ho(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?Xr.memoizedState=zn=c:zn=zn.next=c,zn}function Bs(){if(An===null){var c=Xr.alternate;c=c!==null?c.memoizedState:null}else c=An.next;var f=zn===null?Xr.memoizedState:zn.next;if(f!==null)zn=f,An=c;else{if(c===null)throw Error(t(310));An=c,c={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},zn===null?Xr.memoizedState=zn=c:zn=zn.next=c}return zn}function uh(c,f){return typeof f=="function"?f(c):f}function lv(c){var f=Bs(),g=f.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=c;var k=An,L=k.baseQueue,F=g.pending;if(F!==null){if(L!==null){var J=L.next;L.next=F.next,F.next=J}k.baseQueue=L=F,g.pending=null}if(L!==null){F=L.next,k=k.baseState;var re=J=null,ie=null,me=F;do{var Ee=me.lane;if((Mc&Ee)===Ee)ie!==null&&(ie=ie.next={lane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),k=me.hasEagerState?me.eagerState:c(k,me.action);else{var Ce={lane:Ee,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null};ie===null?(re=ie=Ce,J=k):ie=ie.next=Ce,Xr.lanes|=Ee,Oc|=Ee}me=me.next}while(me!==null&&me!==F);ie===null?J=k:ie.next=re,po(k,f.memoizedState)||(Ui=!0),f.memoizedState=k,f.baseState=J,f.baseQueue=ie,g.lastRenderedState=k}if(c=g.interleaved,c!==null){L=c;do F=L.lane,Xr.lanes|=F,Oc|=F,L=L.next;while(L!==c)}else L===null&&(g.lanes=0);return[f.memoizedState,g.dispatch]}function cv(c){var f=Bs(),g=f.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=c;var k=g.dispatch,L=g.pending,F=f.memoizedState;if(L!==null){g.pending=null;var J=L=L.next;do F=c(F,J.action),J=J.next;while(J!==L);po(F,f.memoizedState)||(Ui=!0),f.memoizedState=F,f.baseQueue===null&&(f.baseState=F),g.lastRenderedState=F}return[F,k]}function hE(){}function pE(c,f){var g=Xr,k=Bs(),L=f(),F=!po(k.memoizedState,L);if(F&&(k.memoizedState=L,Ui=!0),k=k.queue,uv(yE.bind(null,g,k,c),[c]),k.getSnapshot!==f||F||zn!==null&&zn.memoizedState.tag&1){if(g.flags|=2048,dh(9,gE.bind(null,g,k,L,f),void 0,null),Fn===null)throw Error(t(349));(Mc&30)!==0||mE(g,f,L)}return L}function mE(c,f,g){c.flags|=16384,c={getSnapshot:f,value:g},f=Xr.updateQueue,f===null?(f={lastEffect:null,stores:null},Xr.updateQueue=f,f.stores=[c]):(g=f.stores,g===null?f.stores=[c]:g.push(c))}function gE(c,f,g,k){f.value=g,f.getSnapshot=k,xE(f)&&vE(c)}function yE(c,f,g){return g(function(){xE(f)&&vE(c)})}function xE(c){var f=c.getSnapshot;c=c.value;try{var g=f();return!po(c,g)}catch{return!0}}function vE(c){var f=Na(c,1);f!==null&&vo(f,c,1,-1)}function bE(c){var f=Ho();return typeof c=="function"&&(c=c()),f.memoizedState=f.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uh,lastRenderedState:c},f.queue=c,c=c.dispatch=lD.bind(null,Xr,c),[f.memoizedState,c]}function dh(c,f,g,k){return c={tag:c,create:f,destroy:g,deps:k,next:null},f=Xr.updateQueue,f===null?(f={lastEffect:null,stores:null},Xr.updateQueue=f,f.lastEffect=c.next=c):(g=f.lastEffect,g===null?f.lastEffect=c.next=c:(k=g.next,g.next=c,c.next=k,f.lastEffect=c)),c}function wE(){return Bs().memoizedState}function qm(c,f,g,k){var L=Ho();Xr.flags|=c,L.memoizedState=dh(1|f,g,void 0,k===void 0?null:k)}function Wm(c,f,g,k){var L=Bs();k=k===void 0?null:k;var F=void 0;if(An!==null){var J=An.memoizedState;if(F=J.destroy,k!==null&&sv(k,J.deps)){L.memoizedState=dh(f,g,F,k);return}}Xr.flags|=c,L.memoizedState=dh(1|f,g,F,k)}function kE(c,f){return qm(8390656,8,c,f)}function uv(c,f){return Wm(2048,8,c,f)}function _E(c,f){return Wm(4,2,c,f)}function EE(c,f){return Wm(4,4,c,f)}function CE(c,f){if(typeof f=="function")return c=c(),f(c),function(){f(null)};if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function SE(c,f,g){return g=g!=null?g.concat([c]):null,Wm(4,4,CE.bind(null,f,c),g)}function dv(){}function NE(c,f){var g=Bs();f=f===void 0?null:f;var k=g.memoizedState;return k!==null&&f!==null&&sv(f,k[1])?k[0]:(g.memoizedState=[c,f],c)}function TE(c,f){var g=Bs();f=f===void 0?null:f;var k=g.memoizedState;return k!==null&&f!==null&&sv(f,k[1])?k[0]:(c=c(),g.memoizedState=[c,f],c)}function AE(c,f,g){return(Mc&21)===0?(c.baseState&&(c.baseState=!1,Ui=!0),c.memoizedState=g):(po(g,f)||(g=mm(),Xr.lanes|=g,Oc|=g,c.baseState=!0),f)}function oD(c,f){var g=br;br=g!==0&&4>g?g:4,c(!0);var k=iv.transition;iv.transition={};try{c(!1),f()}finally{br=g,iv.transition=k}}function jE(){return Bs().memoizedState}function aD(c,f,g){var k=kl(c);if(g={lane:k,action:g,hasEagerState:!1,eagerState:null,next:null},PE(c))RE(f,g);else if(g=lE(c,f,g,k),g!==null){var L=Ci();vo(g,c,k,L),IE(g,f,k)}}function lD(c,f,g){var k=kl(c),L={lane:k,action:g,hasEagerState:!1,eagerState:null,next:null};if(PE(c))RE(f,L);else{var F=c.alternate;if(c.lanes===0&&(F===null||F.lanes===0)&&(F=f.lastRenderedReducer,F!==null))try{var J=f.lastRenderedState,re=F(J,g);if(L.hasEagerState=!0,L.eagerState=re,po(re,J)){var ie=f.interleaved;ie===null?(L.next=L,Xx(f)):(L.next=ie.next,ie.next=L),f.interleaved=L;return}}catch{}finally{}g=lE(c,f,L,k),g!==null&&(L=Ci(),vo(g,c,k,L),IE(g,f,k))}}function PE(c){var f=c.alternate;return c===Xr||f!==null&&f===Xr}function RE(c,f){lh=Um=!0;var g=c.pending;g===null?f.next=f:(f.next=g.next,g.next=f),c.pending=f}function IE(c,f,g){if((g&4194240)!==0){var k=f.lanes;k&=c.pendingLanes,g|=k,f.lanes=g,Df(c,g)}}var Hm={readContext:Fs,useCallback:li,useContext:li,useEffect:li,useImperativeHandle:li,useInsertionEffect:li,useLayoutEffect:li,useMemo:li,useReducer:li,useRef:li,useState:li,useDebugValue:li,useDeferredValue:li,useTransition:li,useMutableSource:li,useSyncExternalStore:li,useId:li,unstable_isNewReconciler:!1},cD={readContext:Fs,useCallback:function(c,f){return Ho().memoizedState=[c,f===void 0?null:f],c},useContext:Fs,useEffect:kE,useImperativeHandle:function(c,f,g){return g=g!=null?g.concat([c]):null,qm(4194308,4,CE.bind(null,f,c),g)},useLayoutEffect:function(c,f){return qm(4194308,4,c,f)},useInsertionEffect:function(c,f){return qm(4,2,c,f)},useMemo:function(c,f){var g=Ho();return f=f===void 0?null:f,c=c(),g.memoizedState=[c,f],c},useReducer:function(c,f,g){var k=Ho();return f=g!==void 0?g(f):f,k.memoizedState=k.baseState=f,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:f},k.queue=c,c=c.dispatch=aD.bind(null,Xr,c),[k.memoizedState,c]},useRef:function(c){var f=Ho();return c={current:c},f.memoizedState=c},useState:bE,useDebugValue:dv,useDeferredValue:function(c){return Ho().memoizedState=c},useTransition:function(){var c=bE(!1),f=c[0];return c=oD.bind(null,c[1]),Ho().memoizedState=c,[f,c]},useMutableSource:function(){},useSyncExternalStore:function(c,f,g){var k=Xr,L=Ho();if(Hr){if(g===void 0)throw Error(t(407));g=g()}else{if(g=f(),Fn===null)throw Error(t(349));(Mc&30)!==0||mE(k,f,g)}L.memoizedState=g;var F={value:g,getSnapshot:f};return L.queue=F,kE(yE.bind(null,k,F,c),[c]),k.flags|=2048,dh(9,gE.bind(null,k,F,g,f),void 0,null),g},useId:function(){var c=Ho(),f=Fn.identifierPrefix;if(Hr){var g=Sa,k=Ca;g=(k&~(1<<32-Jn(k)-1)).toString(32)+g,f=":"+f+"R"+g,g=ch++,0<g&&(f+="H"+g.toString(32)),f+=":"}else g=sD++,f=":"+f+"r"+g.toString(32)+":";return c.memoizedState=f},unstable_isNewReconciler:!1},uD={readContext:Fs,useCallback:NE,useContext:Fs,useEffect:uv,useImperativeHandle:SE,useInsertionEffect:_E,useLayoutEffect:EE,useMemo:TE,useReducer:lv,useRef:wE,useState:function(){return lv(uh)},useDebugValue:dv,useDeferredValue:function(c){var f=Bs();return AE(f,An.memoizedState,c)},useTransition:function(){var c=lv(uh)[0],f=Bs().memoizedState;return[c,f]},useMutableSource:hE,useSyncExternalStore:pE,useId:jE,unstable_isNewReconciler:!1},dD={readContext:Fs,useCallback:NE,useContext:Fs,useEffect:uv,useImperativeHandle:SE,useInsertionEffect:_E,useLayoutEffect:EE,useMemo:TE,useReducer:cv,useRef:wE,useState:function(){return cv(uh)},useDebugValue:dv,useDeferredValue:function(c){var f=Bs();return An===null?f.memoizedState=c:AE(f,An.memoizedState,c)},useTransition:function(){var c=cv(uh)[0],f=Bs().memoizedState;return[c,f]},useMutableSource:hE,useSyncExternalStore:pE,useId:jE,unstable_isNewReconciler:!1};function go(c,f){if(c&&c.defaultProps){f=E({},f),c=c.defaultProps;for(var g in c)f[g]===void 0&&(f[g]=c[g]);return f}return f}function fv(c,f,g,k){f=c.memoizedState,g=g(k,f),g=g==null?f:E({},f,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var Vm={isMounted:function(c){return(c=c._reactInternals)?Lt(c)===c:!1},enqueueSetState:function(c,f,g){c=c._reactInternals;var k=Ci(),L=kl(c),F=Ta(k,L);F.payload=f,g!=null&&(F.callback=g),f=xl(c,F,L),f!==null&&(vo(f,c,L,k),zm(f,c,L))},enqueueReplaceState:function(c,f,g){c=c._reactInternals;var k=Ci(),L=kl(c),F=Ta(k,L);F.tag=1,F.payload=f,g!=null&&(F.callback=g),f=xl(c,F,L),f!==null&&(vo(f,c,L,k),zm(f,c,L))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var g=Ci(),k=kl(c),L=Ta(g,k);L.tag=2,f!=null&&(L.callback=f),f=xl(c,L,k),f!==null&&(vo(f,c,k,g),zm(f,c,k))}};function ME(c,f,g,k,L,F,J){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(k,F,J):f.prototype&&f.prototype.isPureReactComponent?!Qf(g,k)||!Qf(L,F):!0}function OE(c,f,g){var k=!1,L=ml,F=f.contextType;return typeof F=="object"&&F!==null?F=Fs(F):(L=$i(f)?Ac:ai.current,k=f.contextTypes,F=(k=k!=null)?Yu(c,L):ml),f=new f(g,F),c.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vm,c.stateNode=f,f._reactInternals=c,k&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=L,c.__reactInternalMemoizedMaskedChildContext=F),f}function DE(c,f,g,k){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,k),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,k),f.state!==c&&Vm.enqueueReplaceState(f,f.state,null)}function hv(c,f,g,k){var L=c.stateNode;L.props=g,L.state=c.memoizedState,L.refs={},Zx(c);var F=f.contextType;typeof F=="object"&&F!==null?L.context=Fs(F):(F=$i(f)?Ac:ai.current,L.context=Yu(c,F)),L.state=c.memoizedState,F=f.getDerivedStateFromProps,typeof F=="function"&&(fv(c,f,F,g),L.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(f=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),f!==L.state&&Vm.enqueueReplaceState(L,L.state,null),Fm(c,g,L,k),L.state=c.memoizedState),typeof L.componentDidMount=="function"&&(c.flags|=4194308)}function nd(c,f){try{var g="",k=f;do g+=$(k),k=k.return;while(k);var L=g}catch(F){L=`
Error generating stack: `+F.message+`
`+F.stack}return{value:c,source:f,stack:L,digest:null}}function pv(c,f,g){return{value:c,source:null,stack:g??null,digest:f??null}}function mv(c,f){try{console.error(f.value)}catch(g){setTimeout(function(){throw g})}}var fD=typeof WeakMap=="function"?WeakMap:Map;function LE(c,f,g){g=Ta(-1,g),g.tag=3,g.payload={element:null};var k=f.value;return g.callback=function(){Zm||(Zm=!0,jv=k),mv(c,f)},g}function zE(c,f,g){g=Ta(-1,g),g.tag=3;var k=c.type.getDerivedStateFromError;if(typeof k=="function"){var L=f.value;g.payload=function(){return k(L)},g.callback=function(){mv(c,f)}}var F=c.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(g.callback=function(){mv(c,f),typeof k!="function"&&(bl===null?bl=new Set([this]):bl.add(this));var J=f.stack;this.componentDidCatch(f.value,{componentStack:J!==null?J:""})}),g}function FE(c,f,g){var k=c.pingCache;if(k===null){k=c.pingCache=new fD;var L=new Set;k.set(f,L)}else L=k.get(f),L===void 0&&(L=new Set,k.set(f,L));L.has(g)||(L.add(g),c=SD.bind(null,c,f,g),f.then(c,c))}function BE(c){do{var f;if((f=c.tag===13)&&(f=c.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return c;c=c.return}while(c!==null);return null}function $E(c,f,g,k,L){return(c.mode&1)===0?(c===f?c.flags|=65536:(c.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(f=Ta(-1,1),f.tag=2,xl(g,f,1))),g.lanes|=1),c):(c.flags|=65536,c.lanes=L,c)}var hD=T.ReactCurrentOwner,Ui=!1;function Ei(c,f,g,k){f.child=c===null?aE(f,null,g,k):Zu(f,c.child,g,k)}function UE(c,f,g,k,L){g=g.render;var F=f.ref;return td(f,L),k=ov(c,f,g,k,F,L),g=av(),c!==null&&!Ui?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~L,Aa(c,f,L)):(Hr&&g&&qx(f),f.flags|=1,Ei(c,f,k,L),f.child)}function qE(c,f,g,k,L){if(c===null){var F=g.type;return typeof F=="function"&&!Lv(F)&&F.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(f.tag=15,f.type=F,WE(c,f,F,k,L)):(c=sg(g.type,null,k,f,f.mode,L),c.ref=f.ref,c.return=f,f.child=c)}if(F=c.child,(c.lanes&L)===0){var J=F.memoizedProps;if(g=g.compare,g=g!==null?g:Qf,g(J,k)&&c.ref===f.ref)return Aa(c,f,L)}return f.flags|=1,c=El(F,k),c.ref=f.ref,c.return=f,f.child=c}function WE(c,f,g,k,L){if(c!==null){var F=c.memoizedProps;if(Qf(F,k)&&c.ref===f.ref)if(Ui=!1,f.pendingProps=k=F,(c.lanes&L)!==0)(c.flags&131072)!==0&&(Ui=!0);else return f.lanes=c.lanes,Aa(c,f,L)}return gv(c,f,g,k,L)}function HE(c,f,g){var k=f.pendingProps,L=k.children,F=c!==null?c.memoizedState:null;if(k.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dr(sd,ls),ls|=g;else{if((g&1073741824)===0)return c=F!==null?F.baseLanes|g:g,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:c,cachePool:null,transitions:null},f.updateQueue=null,Dr(sd,ls),ls|=c,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},k=F!==null?F.baseLanes:g,Dr(sd,ls),ls|=k}else F!==null?(k=F.baseLanes|g,f.memoizedState=null):k=g,Dr(sd,ls),ls|=k;return Ei(c,f,L,g),f.child}function VE(c,f){var g=f.ref;(c===null&&g!==null||c!==null&&c.ref!==g)&&(f.flags|=512,f.flags|=2097152)}function gv(c,f,g,k,L){var F=$i(g)?Ac:ai.current;return F=Yu(f,F),td(f,L),g=ov(c,f,g,k,F,L),k=av(),c!==null&&!Ui?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~L,Aa(c,f,L)):(Hr&&k&&qx(f),f.flags|=1,Ei(c,f,g,L),f.child)}function GE(c,f,g,k,L){if($i(g)){var F=!0;jm(f)}else F=!1;if(td(f,L),f.stateNode===null)Km(c,f),OE(f,g,k),hv(f,g,k,L),k=!0;else if(c===null){var J=f.stateNode,re=f.memoizedProps;J.props=re;var ie=J.context,me=g.contextType;typeof me=="object"&&me!==null?me=Fs(me):(me=$i(g)?Ac:ai.current,me=Yu(f,me));var Ee=g.getDerivedStateFromProps,Ce=typeof Ee=="function"||typeof J.getSnapshotBeforeUpdate=="function";Ce||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(re!==k||ie!==me)&&DE(f,J,k,me),yl=!1;var _e=f.memoizedState;J.state=_e,Fm(f,k,J,L),ie=f.memoizedState,re!==k||_e!==ie||Bi.current||yl?(typeof Ee=="function"&&(fv(f,g,Ee,k),ie=f.memoizedState),(re=yl||ME(f,g,re,k,_e,ie,me))?(Ce||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount()),typeof J.componentDidMount=="function"&&(f.flags|=4194308)):(typeof J.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=k,f.memoizedState=ie),J.props=k,J.state=ie,J.context=me,k=re):(typeof J.componentDidMount=="function"&&(f.flags|=4194308),k=!1)}else{J=f.stateNode,cE(c,f),re=f.memoizedProps,me=f.type===f.elementType?re:go(f.type,re),J.props=me,Ce=f.pendingProps,_e=J.context,ie=g.contextType,typeof ie=="object"&&ie!==null?ie=Fs(ie):(ie=$i(g)?Ac:ai.current,ie=Yu(f,ie));var Ue=g.getDerivedStateFromProps;(Ee=typeof Ue=="function"||typeof J.getSnapshotBeforeUpdate=="function")||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(re!==Ce||_e!==ie)&&DE(f,J,k,ie),yl=!1,_e=f.memoizedState,J.state=_e,Fm(f,k,J,L);var Ze=f.memoizedState;re!==Ce||_e!==Ze||Bi.current||yl?(typeof Ue=="function"&&(fv(f,g,Ue,k),Ze=f.memoizedState),(me=yl||ME(f,g,me,k,_e,Ze,ie)||!1)?(Ee||typeof J.UNSAFE_componentWillUpdate!="function"&&typeof J.componentWillUpdate!="function"||(typeof J.componentWillUpdate=="function"&&J.componentWillUpdate(k,Ze,ie),typeof J.UNSAFE_componentWillUpdate=="function"&&J.UNSAFE_componentWillUpdate(k,Ze,ie)),typeof J.componentDidUpdate=="function"&&(f.flags|=4),typeof J.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof J.componentDidUpdate!="function"||re===c.memoizedProps&&_e===c.memoizedState||(f.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||re===c.memoizedProps&&_e===c.memoizedState||(f.flags|=1024),f.memoizedProps=k,f.memoizedState=Ze),J.props=k,J.state=Ze,J.context=ie,k=me):(typeof J.componentDidUpdate!="function"||re===c.memoizedProps&&_e===c.memoizedState||(f.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||re===c.memoizedProps&&_e===c.memoizedState||(f.flags|=1024),k=!1)}return yv(c,f,g,k,F,L)}function yv(c,f,g,k,L,F){VE(c,f);var J=(f.flags&128)!==0;if(!k&&!J)return L&&X2(f,g,!1),Aa(c,f,F);k=f.stateNode,hD.current=f;var re=J&&typeof g.getDerivedStateFromError!="function"?null:k.render();return f.flags|=1,c!==null&&J?(f.child=Zu(f,c.child,null,F),f.child=Zu(f,null,re,F)):Ei(c,f,re,F),f.memoizedState=k.state,L&&X2(f,g,!0),f.child}function KE(c){var f=c.stateNode;f.pendingContext?J2(c,f.pendingContext,f.pendingContext!==f.context):f.context&&J2(c,f.context,!1),ev(c,f.containerInfo)}function YE(c,f,g,k,L){return Xu(),Gx(L),f.flags|=256,Ei(c,f,g,k),f.child}var xv={dehydrated:null,treeContext:null,retryLane:0};function vv(c){return{baseLanes:c,cachePool:null,transitions:null}}function JE(c,f,g){var k=f.pendingProps,L=Qr.current,F=!1,J=(f.flags&128)!==0,re;if((re=J)||(re=c!==null&&c.memoizedState===null?!1:(L&2)!==0),re?(F=!0,f.flags&=-129):(c===null||c.memoizedState!==null)&&(L|=1),Dr(Qr,L&1),c===null)return Vx(f),c=f.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((f.mode&1)===0?f.lanes=1:c.data==="$!"?f.lanes=8:f.lanes=1073741824,null):(J=k.children,c=k.fallback,F?(k=f.mode,F=f.child,J={mode:"hidden",children:J},(k&1)===0&&F!==null?(F.childLanes=0,F.pendingProps=J):F=og(J,k,0,null),c=Fc(c,k,g,null),F.return=f,c.return=f,F.sibling=c,f.child=F,f.child.memoizedState=vv(g),f.memoizedState=xv,c):bv(f,J));if(L=c.memoizedState,L!==null&&(re=L.dehydrated,re!==null))return pD(c,f,J,k,re,L,g);if(F){F=k.fallback,J=f.mode,L=c.child,re=L.sibling;var ie={mode:"hidden",children:k.children};return(J&1)===0&&f.child!==L?(k=f.child,k.childLanes=0,k.pendingProps=ie,f.deletions=null):(k=El(L,ie),k.subtreeFlags=L.subtreeFlags&14680064),re!==null?F=El(re,F):(F=Fc(F,J,g,null),F.flags|=2),F.return=f,k.return=f,k.sibling=F,f.child=k,k=F,F=f.child,J=c.child.memoizedState,J=J===null?vv(g):{baseLanes:J.baseLanes|g,cachePool:null,transitions:J.transitions},F.memoizedState=J,F.childLanes=c.childLanes&~g,f.memoizedState=xv,k}return F=c.child,c=F.sibling,k=El(F,{mode:"visible",children:k.children}),(f.mode&1)===0&&(k.lanes=g),k.return=f,k.sibling=null,c!==null&&(g=f.deletions,g===null?(f.deletions=[c],f.flags|=16):g.push(c)),f.child=k,f.memoizedState=null,k}function bv(c,f){return f=og({mode:"visible",children:f},c.mode,0,null),f.return=c,c.child=f}function Gm(c,f,g,k){return k!==null&&Gx(k),Zu(f,c.child,null,g),c=bv(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function pD(c,f,g,k,L,F,J){if(g)return f.flags&256?(f.flags&=-257,k=pv(Error(t(422))),Gm(c,f,J,k)):f.memoizedState!==null?(f.child=c.child,f.flags|=128,null):(F=k.fallback,L=f.mode,k=og({mode:"visible",children:k.children},L,0,null),F=Fc(F,L,J,null),F.flags|=2,k.return=f,F.return=f,k.sibling=F,f.child=k,(f.mode&1)!==0&&Zu(f,c.child,null,J),f.child.memoizedState=vv(J),f.memoizedState=xv,F);if((f.mode&1)===0)return Gm(c,f,J,null);if(L.data==="$!"){if(k=L.nextSibling&&L.nextSibling.dataset,k)var re=k.dgst;return k=re,F=Error(t(419)),k=pv(F,k,void 0),Gm(c,f,J,k)}if(re=(J&c.childLanes)!==0,Ui||re){if(k=Fn,k!==null){switch(J&-J){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}L=(L&(k.suspendedLanes|J))!==0?0:L,L!==0&&L!==F.retryLane&&(F.retryLane=L,Na(c,L),vo(k,c,L,-1))}return Dv(),k=pv(Error(t(421))),Gm(c,f,J,k)}return L.data==="$?"?(f.flags|=128,f.child=c.child,f=ND.bind(null,c),L._reactRetry=f,null):(c=F.treeContext,as=hl(L.nextSibling),os=f,Hr=!0,mo=null,c!==null&&(Ls[zs++]=Ca,Ls[zs++]=Sa,Ls[zs++]=jc,Ca=c.id,Sa=c.overflow,jc=f),f=bv(f,k.children),f.flags|=4096,f)}function QE(c,f,g){c.lanes|=f;var k=c.alternate;k!==null&&(k.lanes|=f),Qx(c.return,f,g)}function wv(c,f,g,k,L){var F=c.memoizedState;F===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:k,tail:g,tailMode:L}:(F.isBackwards=f,F.rendering=null,F.renderingStartTime=0,F.last=k,F.tail=g,F.tailMode=L)}function XE(c,f,g){var k=f.pendingProps,L=k.revealOrder,F=k.tail;if(Ei(c,f,k.children,g),k=Qr.current,(k&2)!==0)k=k&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&QE(c,g,f);else if(c.tag===19)QE(c,g,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}k&=1}if(Dr(Qr,k),(f.mode&1)===0)f.memoizedState=null;else switch(L){case"forwards":for(g=f.child,L=null;g!==null;)c=g.alternate,c!==null&&Bm(c)===null&&(L=g),g=g.sibling;g=L,g===null?(L=f.child,f.child=null):(L=g.sibling,g.sibling=null),wv(f,!1,L,g,F);break;case"backwards":for(g=null,L=f.child,f.child=null;L!==null;){if(c=L.alternate,c!==null&&Bm(c)===null){f.child=L;break}c=L.sibling,L.sibling=g,g=L,L=c}wv(f,!0,g,null,F);break;case"together":wv(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Km(c,f){(f.mode&1)===0&&c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2)}function Aa(c,f,g){if(c!==null&&(f.dependencies=c.dependencies),Oc|=f.lanes,(g&f.childLanes)===0)return null;if(c!==null&&f.child!==c.child)throw Error(t(153));if(f.child!==null){for(c=f.child,g=El(c,c.pendingProps),f.child=g,g.return=f;c.sibling!==null;)c=c.sibling,g=g.sibling=El(c,c.pendingProps),g.return=f;g.sibling=null}return f.child}function mD(c,f,g){switch(f.tag){case 3:KE(f),Xu();break;case 5:fE(f);break;case 1:$i(f.type)&&jm(f);break;case 4:ev(f,f.stateNode.containerInfo);break;case 10:var k=f.type._context,L=f.memoizedProps.value;Dr(Dm,k._currentValue),k._currentValue=L;break;case 13:if(k=f.memoizedState,k!==null)return k.dehydrated!==null?(Dr(Qr,Qr.current&1),f.flags|=128,null):(g&f.child.childLanes)!==0?JE(c,f,g):(Dr(Qr,Qr.current&1),c=Aa(c,f,g),c!==null?c.sibling:null);Dr(Qr,Qr.current&1);break;case 19:if(k=(g&f.childLanes)!==0,(c.flags&128)!==0){if(k)return XE(c,f,g);f.flags|=128}if(L=f.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),Dr(Qr,Qr.current),k)break;return null;case 22:case 23:return f.lanes=0,HE(c,f,g)}return Aa(c,f,g)}var ZE,kv,eC,tC;ZE=function(c,f){for(var g=f.child;g!==null;){if(g.tag===5||g.tag===6)c.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},kv=function(){},eC=function(c,f,g,k){var L=c.memoizedProps;if(L!==k){c=f.stateNode,Ic(Wo.current);var F=null;switch(g){case"input":L=ye(c,L),k=ye(c,k),F=[];break;case"select":L=E({},L,{value:void 0}),k=E({},k,{value:void 0}),F=[];break;case"textarea":L=Gt(c,L),k=Gt(c,k),F=[];break;default:typeof L.onClick!="function"&&typeof k.onClick=="function"&&(c.onclick=Nm)}ot(g,k);var J;g=null;for(me in L)if(!k.hasOwnProperty(me)&&L.hasOwnProperty(me)&&L[me]!=null)if(me==="style"){var re=L[me];for(J in re)re.hasOwnProperty(J)&&(g||(g={}),g[J]="")}else me!=="dangerouslySetInnerHTML"&&me!=="children"&&me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&me!=="autoFocus"&&(i.hasOwnProperty(me)?F||(F=[]):(F=F||[]).push(me,null));for(me in k){var ie=k[me];if(re=L!=null?L[me]:void 0,k.hasOwnProperty(me)&&ie!==re&&(ie!=null||re!=null))if(me==="style")if(re){for(J in re)!re.hasOwnProperty(J)||ie&&ie.hasOwnProperty(J)||(g||(g={}),g[J]="");for(J in ie)ie.hasOwnProperty(J)&&re[J]!==ie[J]&&(g||(g={}),g[J]=ie[J])}else g||(F||(F=[]),F.push(me,g)),g=ie;else me==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,re=re?re.__html:void 0,ie!=null&&re!==ie&&(F=F||[]).push(me,ie)):me==="children"?typeof ie!="string"&&typeof ie!="number"||(F=F||[]).push(me,""+ie):me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&(i.hasOwnProperty(me)?(ie!=null&&me==="onScroll"&&$r("scroll",c),F||re===ie||(F=[])):(F=F||[]).push(me,ie))}g&&(F=F||[]).push("style",g);var me=F;(f.updateQueue=me)&&(f.flags|=4)}},tC=function(c,f,g,k){g!==k&&(f.flags|=4)};function fh(c,f){if(!Hr)switch(c.tailMode){case"hidden":f=c.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var k=null;g!==null;)g.alternate!==null&&(k=g),g=g.sibling;k===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:k.sibling=null}}function ci(c){var f=c.alternate!==null&&c.alternate.child===c.child,g=0,k=0;if(f)for(var L=c.child;L!==null;)g|=L.lanes|L.childLanes,k|=L.subtreeFlags&14680064,k|=L.flags&14680064,L.return=c,L=L.sibling;else for(L=c.child;L!==null;)g|=L.lanes|L.childLanes,k|=L.subtreeFlags,k|=L.flags,L.return=c,L=L.sibling;return c.subtreeFlags|=k,c.childLanes=g,f}function gD(c,f,g){var k=f.pendingProps;switch(Wx(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ci(f),null;case 1:return $i(f.type)&&Am(),ci(f),null;case 3:return k=f.stateNode,rd(),Ur(Bi),Ur(ai),nv(),k.pendingContext&&(k.context=k.pendingContext,k.pendingContext=null),(c===null||c.child===null)&&(Mm(f)?f.flags|=4:c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,mo!==null&&(Iv(mo),mo=null))),kv(c,f),ci(f),null;case 5:tv(f);var L=Ic(ah.current);if(g=f.type,c!==null&&f.stateNode!=null)eC(c,f,g,k,L),c.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!k){if(f.stateNode===null)throw Error(t(166));return ci(f),null}if(c=Ic(Wo.current),Mm(f)){k=f.stateNode,g=f.type;var F=f.memoizedProps;switch(k[qo]=f,k[rh]=F,c=(f.mode&1)!==0,g){case"dialog":$r("cancel",k),$r("close",k);break;case"iframe":case"object":case"embed":$r("load",k);break;case"video":case"audio":for(L=0;L<Zf.length;L++)$r(Zf[L],k);break;case"source":$r("error",k);break;case"img":case"image":case"link":$r("error",k),$r("load",k);break;case"details":$r("toggle",k);break;case"input":Se(k,F),$r("invalid",k);break;case"select":k._wrapperState={wasMultiple:!!F.multiple},$r("invalid",k);break;case"textarea":tt(k,F),$r("invalid",k)}ot(g,F),L=null;for(var J in F)if(F.hasOwnProperty(J)){var re=F[J];J==="children"?typeof re=="string"?k.textContent!==re&&(F.suppressHydrationWarning!==!0&&Sm(k.textContent,re,c),L=["children",re]):typeof re=="number"&&k.textContent!==""+re&&(F.suppressHydrationWarning!==!0&&Sm(k.textContent,re,c),L=["children",""+re]):i.hasOwnProperty(J)&&re!=null&&J==="onScroll"&&$r("scroll",k)}switch(g){case"input":ne(k),Ye(k,F,!0);break;case"textarea":ne(k),Me(k);break;case"select":case"option":break;default:typeof F.onClick=="function"&&(k.onclick=Nm)}k=L,f.updateQueue=k,k!==null&&(f.flags|=4)}else{J=L.nodeType===9?L:L.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=oe(g)),c==="http://www.w3.org/1999/xhtml"?g==="script"?(c=J.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof k.is=="string"?c=J.createElement(g,{is:k.is}):(c=J.createElement(g),g==="select"&&(J=c,k.multiple?J.multiple=!0:k.size&&(J.size=k.size))):c=J.createElementNS(c,g),c[qo]=f,c[rh]=k,ZE(c,f,!1,!1),f.stateNode=c;e:{switch(J=dr(g,k),g){case"dialog":$r("cancel",c),$r("close",c),L=k;break;case"iframe":case"object":case"embed":$r("load",c),L=k;break;case"video":case"audio":for(L=0;L<Zf.length;L++)$r(Zf[L],c);L=k;break;case"source":$r("error",c),L=k;break;case"img":case"image":case"link":$r("error",c),$r("load",c),L=k;break;case"details":$r("toggle",c),L=k;break;case"input":Se(c,k),L=ye(c,k),$r("invalid",c);break;case"option":L=k;break;case"select":c._wrapperState={wasMultiple:!!k.multiple},L=E({},k,{value:void 0}),$r("invalid",c);break;case"textarea":tt(c,k),L=Gt(c,k),$r("invalid",c);break;default:L=k}ot(g,L),re=L;for(F in re)if(re.hasOwnProperty(F)){var ie=re[F];F==="style"?Ht(c,ie):F==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,ie!=null&&Te(c,ie)):F==="children"?typeof ie=="string"?(g!=="textarea"||ie!=="")&&Re(c,ie):typeof ie=="number"&&Re(c,""+ie):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(i.hasOwnProperty(F)?ie!=null&&F==="onScroll"&&$r("scroll",c):ie!=null&&I(c,F,ie,J))}switch(g){case"input":ne(c),Ye(c,k,!1);break;case"textarea":ne(c),Me(c);break;case"option":k.value!=null&&c.setAttribute("value",""+Z(k.value));break;case"select":c.multiple=!!k.multiple,F=k.value,F!=null?Ie(c,!!k.multiple,F,!1):k.defaultValue!=null&&Ie(c,!!k.multiple,k.defaultValue,!0);break;default:typeof L.onClick=="function"&&(c.onclick=Nm)}switch(g){case"button":case"input":case"select":case"textarea":k=!!k.autoFocus;break e;case"img":k=!0;break e;default:k=!1}}k&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return ci(f),null;case 6:if(c&&f.stateNode!=null)tC(c,f,c.memoizedProps,k);else{if(typeof k!="string"&&f.stateNode===null)throw Error(t(166));if(g=Ic(ah.current),Ic(Wo.current),Mm(f)){if(k=f.stateNode,g=f.memoizedProps,k[qo]=f,(F=k.nodeValue!==g)&&(c=os,c!==null))switch(c.tag){case 3:Sm(k.nodeValue,g,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Sm(k.nodeValue,g,(c.mode&1)!==0)}F&&(f.flags|=4)}else k=(g.nodeType===9?g:g.ownerDocument).createTextNode(k),k[qo]=f,f.stateNode=k}return ci(f),null;case 13:if(Ur(Qr),k=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Hr&&as!==null&&(f.mode&1)!==0&&(f.flags&128)===0)iE(),Xu(),f.flags|=98560,F=!1;else if(F=Mm(f),k!==null&&k.dehydrated!==null){if(c===null){if(!F)throw Error(t(318));if(F=f.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(t(317));F[qo]=f}else Xu(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;ci(f),F=!1}else mo!==null&&(Iv(mo),mo=null),F=!0;if(!F)return f.flags&65536?f:null}return(f.flags&128)!==0?(f.lanes=g,f):(k=k!==null,k!==(c!==null&&c.memoizedState!==null)&&k&&(f.child.flags|=8192,(f.mode&1)!==0&&(c===null||(Qr.current&1)!==0?jn===0&&(jn=3):Dv())),f.updateQueue!==null&&(f.flags|=4),ci(f),null);case 4:return rd(),kv(c,f),c===null&&eh(f.stateNode.containerInfo),ci(f),null;case 10:return Jx(f.type._context),ci(f),null;case 17:return $i(f.type)&&Am(),ci(f),null;case 19:if(Ur(Qr),F=f.memoizedState,F===null)return ci(f),null;if(k=(f.flags&128)!==0,J=F.rendering,J===null)if(k)fh(F,!1);else{if(jn!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(J=Bm(c),J!==null){for(f.flags|=128,fh(F,!1),k=J.updateQueue,k!==null&&(f.updateQueue=k,f.flags|=4),f.subtreeFlags=0,k=g,g=f.child;g!==null;)F=g,c=k,F.flags&=14680066,J=F.alternate,J===null?(F.childLanes=0,F.lanes=c,F.child=null,F.subtreeFlags=0,F.memoizedProps=null,F.memoizedState=null,F.updateQueue=null,F.dependencies=null,F.stateNode=null):(F.childLanes=J.childLanes,F.lanes=J.lanes,F.child=J.child,F.subtreeFlags=0,F.deletions=null,F.memoizedProps=J.memoizedProps,F.memoizedState=J.memoizedState,F.updateQueue=J.updateQueue,F.type=J.type,c=J.dependencies,F.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),g=g.sibling;return Dr(Qr,Qr.current&1|2),f.child}c=c.sibling}F.tail!==null&&Ft()>od&&(f.flags|=128,k=!0,fh(F,!1),f.lanes=4194304)}else{if(!k)if(c=Bm(J),c!==null){if(f.flags|=128,k=!0,g=c.updateQueue,g!==null&&(f.updateQueue=g,f.flags|=4),fh(F,!0),F.tail===null&&F.tailMode==="hidden"&&!J.alternate&&!Hr)return ci(f),null}else 2*Ft()-F.renderingStartTime>od&&g!==1073741824&&(f.flags|=128,k=!0,fh(F,!1),f.lanes=4194304);F.isBackwards?(J.sibling=f.child,f.child=J):(g=F.last,g!==null?g.sibling=J:f.child=J,F.last=J)}return F.tail!==null?(f=F.tail,F.rendering=f,F.tail=f.sibling,F.renderingStartTime=Ft(),f.sibling=null,g=Qr.current,Dr(Qr,k?g&1|2:g&1),f):(ci(f),null);case 22:case 23:return Ov(),k=f.memoizedState!==null,c!==null&&c.memoizedState!==null!==k&&(f.flags|=8192),k&&(f.mode&1)!==0?(ls&1073741824)!==0&&(ci(f),f.subtreeFlags&6&&(f.flags|=8192)):ci(f),null;case 24:return null;case 25:return null}throw Error(t(156,f.tag))}function yD(c,f){switch(Wx(f),f.tag){case 1:return $i(f.type)&&Am(),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return rd(),Ur(Bi),Ur(ai),nv(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 5:return tv(f),null;case 13:if(Ur(Qr),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(t(340));Xu()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return Ur(Qr),null;case 4:return rd(),null;case 10:return Jx(f.type._context),null;case 22:case 23:return Ov(),null;case 24:return null;default:return null}}var Ym=!1,ui=!1,xD=typeof WeakSet=="function"?WeakSet:Set,Je=null;function id(c,f){var g=c.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(k){on(c,f,k)}else g.current=null}function _v(c,f,g){try{g()}catch(k){on(c,f,k)}}var rC=!1;function vD(c,f){if(Ox=Fu,c=M2(),Nx(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var k=g.getSelection&&g.getSelection();if(k&&k.rangeCount!==0){g=k.anchorNode;var L=k.anchorOffset,F=k.focusNode;k=k.focusOffset;try{g.nodeType,F.nodeType}catch{g=null;break e}var J=0,re=-1,ie=-1,me=0,Ee=0,Ce=c,_e=null;t:for(;;){for(var Ue;Ce!==g||L!==0&&Ce.nodeType!==3||(re=J+L),Ce!==F||k!==0&&Ce.nodeType!==3||(ie=J+k),Ce.nodeType===3&&(J+=Ce.nodeValue.length),(Ue=Ce.firstChild)!==null;)_e=Ce,Ce=Ue;for(;;){if(Ce===c)break t;if(_e===g&&++me===L&&(re=J),_e===F&&++Ee===k&&(ie=J),(Ue=Ce.nextSibling)!==null)break;Ce=_e,_e=Ce.parentNode}Ce=Ue}g=re===-1||ie===-1?null:{start:re,end:ie}}else g=null}g=g||{start:0,end:0}}else g=null;for(Dx={focusedElem:c,selectionRange:g},Fu=!1,Je=f;Je!==null;)if(f=Je,c=f.child,(f.subtreeFlags&1028)!==0&&c!==null)c.return=f,Je=c;else for(;Je!==null;){f=Je;try{var Ze=f.alternate;if((f.flags&1024)!==0)switch(f.tag){case 0:case 11:case 15:break;case 1:if(Ze!==null){var nt=Ze.memoizedProps,dn=Ze.memoizedState,fe=f.stateNode,le=fe.getSnapshotBeforeUpdate(f.elementType===f.type?nt:go(f.type,nt),dn);fe.__reactInternalSnapshotBeforeUpdate=le}break;case 3:var pe=f.stateNode.containerInfo;pe.nodeType===1?pe.textContent="":pe.nodeType===9&&pe.documentElement&&pe.removeChild(pe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(je){on(f,f.return,je)}if(c=f.sibling,c!==null){c.return=f.return,Je=c;break}Je=f.return}return Ze=rC,rC=!1,Ze}function hh(c,f,g){var k=f.updateQueue;if(k=k!==null?k.lastEffect:null,k!==null){var L=k=k.next;do{if((L.tag&c)===c){var F=L.destroy;L.destroy=void 0,F!==void 0&&_v(f,g,F)}L=L.next}while(L!==k)}}function Jm(c,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&c)===c){var k=g.create;g.destroy=k()}g=g.next}while(g!==f)}}function Ev(c){var f=c.ref;if(f!==null){var g=c.stateNode;switch(c.tag){case 5:c=g;break;default:c=g}typeof f=="function"?f(c):f.current=c}}function nC(c){var f=c.alternate;f!==null&&(c.alternate=null,nC(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&(delete f[qo],delete f[rh],delete f[Bx],delete f[tD],delete f[rD])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function iC(c){return c.tag===5||c.tag===3||c.tag===4}function sC(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||iC(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Cv(c,f,g){var k=c.tag;if(k===5||k===6)c=c.stateNode,f?g.nodeType===8?g.parentNode.insertBefore(c,f):g.insertBefore(c,f):(g.nodeType===8?(f=g.parentNode,f.insertBefore(c,g)):(f=g,f.appendChild(c)),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=Nm));else if(k!==4&&(c=c.child,c!==null))for(Cv(c,f,g),c=c.sibling;c!==null;)Cv(c,f,g),c=c.sibling}function Sv(c,f,g){var k=c.tag;if(k===5||k===6)c=c.stateNode,f?g.insertBefore(c,f):g.appendChild(c);else if(k!==4&&(c=c.child,c!==null))for(Sv(c,f,g),c=c.sibling;c!==null;)Sv(c,f,g),c=c.sibling}var Xn=null,yo=!1;function vl(c,f,g){for(g=g.child;g!==null;)oC(c,f,g),g=g.sibling}function oC(c,f,g){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Kn,g)}catch{}switch(g.tag){case 5:ui||id(g,f);case 6:var k=Xn,L=yo;Xn=null,vl(c,f,g),Xn=k,yo=L,Xn!==null&&(yo?(c=Xn,g=g.stateNode,c.nodeType===8?c.parentNode.removeChild(g):c.removeChild(g)):Xn.removeChild(g.stateNode));break;case 18:Xn!==null&&(yo?(c=Xn,g=g.stateNode,c.nodeType===8?Fx(c.parentNode,g):c.nodeType===1&&Fx(c,g),Cc(c)):Fx(Xn,g.stateNode));break;case 4:k=Xn,L=yo,Xn=g.stateNode.containerInfo,yo=!0,vl(c,f,g),Xn=k,yo=L;break;case 0:case 11:case 14:case 15:if(!ui&&(k=g.updateQueue,k!==null&&(k=k.lastEffect,k!==null))){L=k=k.next;do{var F=L,J=F.destroy;F=F.tag,J!==void 0&&((F&2)!==0||(F&4)!==0)&&_v(g,f,J),L=L.next}while(L!==k)}vl(c,f,g);break;case 1:if(!ui&&(id(g,f),k=g.stateNode,typeof k.componentWillUnmount=="function"))try{k.props=g.memoizedProps,k.state=g.memoizedState,k.componentWillUnmount()}catch(re){on(g,f,re)}vl(c,f,g);break;case 21:vl(c,f,g);break;case 22:g.mode&1?(ui=(k=ui)||g.memoizedState!==null,vl(c,f,g),ui=k):vl(c,f,g);break;default:vl(c,f,g)}}function aC(c){var f=c.updateQueue;if(f!==null){c.updateQueue=null;var g=c.stateNode;g===null&&(g=c.stateNode=new xD),f.forEach(function(k){var L=TD.bind(null,c,k);g.has(k)||(g.add(k),k.then(L,L))})}}function xo(c,f){var g=f.deletions;if(g!==null)for(var k=0;k<g.length;k++){var L=g[k];try{var F=c,J=f,re=J;e:for(;re!==null;){switch(re.tag){case 5:Xn=re.stateNode,yo=!1;break e;case 3:Xn=re.stateNode.containerInfo,yo=!0;break e;case 4:Xn=re.stateNode.containerInfo,yo=!0;break e}re=re.return}if(Xn===null)throw Error(t(160));oC(F,J,L),Xn=null,yo=!1;var ie=L.alternate;ie!==null&&(ie.return=null),L.return=null}catch(me){on(L,f,me)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)lC(f,c),f=f.sibling}function lC(c,f){var g=c.alternate,k=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(xo(f,c),Vo(c),k&4){try{hh(3,c,c.return),Jm(3,c)}catch(nt){on(c,c.return,nt)}try{hh(5,c,c.return)}catch(nt){on(c,c.return,nt)}}break;case 1:xo(f,c),Vo(c),k&512&&g!==null&&id(g,g.return);break;case 5:if(xo(f,c),Vo(c),k&512&&g!==null&&id(g,g.return),c.flags&32){var L=c.stateNode;try{Re(L,"")}catch(nt){on(c,c.return,nt)}}if(k&4&&(L=c.stateNode,L!=null)){var F=c.memoizedProps,J=g!==null?g.memoizedProps:F,re=c.type,ie=c.updateQueue;if(c.updateQueue=null,ie!==null)try{re==="input"&&F.type==="radio"&&F.name!=null&&pt(L,F),dr(re,J);var me=dr(re,F);for(J=0;J<ie.length;J+=2){var Ee=ie[J],Ce=ie[J+1];Ee==="style"?Ht(L,Ce):Ee==="dangerouslySetInnerHTML"?Te(L,Ce):Ee==="children"?Re(L,Ce):I(L,Ee,Ce,me)}switch(re){case"input":ae(L,F);break;case"textarea":xt(L,F);break;case"select":var _e=L._wrapperState.wasMultiple;L._wrapperState.wasMultiple=!!F.multiple;var Ue=F.value;Ue!=null?Ie(L,!!F.multiple,Ue,!1):_e!==!!F.multiple&&(F.defaultValue!=null?Ie(L,!!F.multiple,F.defaultValue,!0):Ie(L,!!F.multiple,F.multiple?[]:"",!1))}L[rh]=F}catch(nt){on(c,c.return,nt)}}break;case 6:if(xo(f,c),Vo(c),k&4){if(c.stateNode===null)throw Error(t(162));L=c.stateNode,F=c.memoizedProps;try{L.nodeValue=F}catch(nt){on(c,c.return,nt)}}break;case 3:if(xo(f,c),Vo(c),k&4&&g!==null&&g.memoizedState.isDehydrated)try{Cc(f.containerInfo)}catch(nt){on(c,c.return,nt)}break;case 4:xo(f,c),Vo(c);break;case 13:xo(f,c),Vo(c),L=c.child,L.flags&8192&&(F=L.memoizedState!==null,L.stateNode.isHidden=F,!F||L.alternate!==null&&L.alternate.memoizedState!==null||(Av=Ft())),k&4&&aC(c);break;case 22:if(Ee=g!==null&&g.memoizedState!==null,c.mode&1?(ui=(me=ui)||Ee,xo(f,c),ui=me):xo(f,c),Vo(c),k&8192){if(me=c.memoizedState!==null,(c.stateNode.isHidden=me)&&!Ee&&(c.mode&1)!==0)for(Je=c,Ee=c.child;Ee!==null;){for(Ce=Je=Ee;Je!==null;){switch(_e=Je,Ue=_e.child,_e.tag){case 0:case 11:case 14:case 15:hh(4,_e,_e.return);break;case 1:id(_e,_e.return);var Ze=_e.stateNode;if(typeof Ze.componentWillUnmount=="function"){k=_e,g=_e.return;try{f=k,Ze.props=f.memoizedProps,Ze.state=f.memoizedState,Ze.componentWillUnmount()}catch(nt){on(k,g,nt)}}break;case 5:id(_e,_e.return);break;case 22:if(_e.memoizedState!==null){dC(Ce);continue}}Ue!==null?(Ue.return=_e,Je=Ue):dC(Ce)}Ee=Ee.sibling}e:for(Ee=null,Ce=c;;){if(Ce.tag===5){if(Ee===null){Ee=Ce;try{L=Ce.stateNode,me?(F=L.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none"):(re=Ce.stateNode,ie=Ce.memoizedProps.style,J=ie!=null&&ie.hasOwnProperty("display")?ie.display:null,re.style.display=rt("display",J))}catch(nt){on(c,c.return,nt)}}}else if(Ce.tag===6){if(Ee===null)try{Ce.stateNode.nodeValue=me?"":Ce.memoizedProps}catch(nt){on(c,c.return,nt)}}else if((Ce.tag!==22&&Ce.tag!==23||Ce.memoizedState===null||Ce===c)&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===c)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===c)break e;Ee===Ce&&(Ee=null),Ce=Ce.return}Ee===Ce&&(Ee=null),Ce.sibling.return=Ce.return,Ce=Ce.sibling}}break;case 19:xo(f,c),Vo(c),k&4&&aC(c);break;case 21:break;default:xo(f,c),Vo(c)}}function Vo(c){var f=c.flags;if(f&2){try{e:{for(var g=c.return;g!==null;){if(iC(g)){var k=g;break e}g=g.return}throw Error(t(160))}switch(k.tag){case 5:var L=k.stateNode;k.flags&32&&(Re(L,""),k.flags&=-33);var F=sC(c);Sv(c,F,L);break;case 3:case 4:var J=k.stateNode.containerInfo,re=sC(c);Cv(c,re,J);break;default:throw Error(t(161))}}catch(ie){on(c,c.return,ie)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function bD(c,f,g){Je=c,cC(c)}function cC(c,f,g){for(var k=(c.mode&1)!==0;Je!==null;){var L=Je,F=L.child;if(L.tag===22&&k){var J=L.memoizedState!==null||Ym;if(!J){var re=L.alternate,ie=re!==null&&re.memoizedState!==null||ui;re=Ym;var me=ui;if(Ym=J,(ui=ie)&&!me)for(Je=L;Je!==null;)J=Je,ie=J.child,J.tag===22&&J.memoizedState!==null?fC(L):ie!==null?(ie.return=J,Je=ie):fC(L);for(;F!==null;)Je=F,cC(F),F=F.sibling;Je=L,Ym=re,ui=me}uC(c)}else(L.subtreeFlags&8772)!==0&&F!==null?(F.return=L,Je=F):uC(c)}}function uC(c){for(;Je!==null;){var f=Je;if((f.flags&8772)!==0){var g=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:ui||Jm(5,f);break;case 1:var k=f.stateNode;if(f.flags&4&&!ui)if(g===null)k.componentDidMount();else{var L=f.elementType===f.type?g.memoizedProps:go(f.type,g.memoizedProps);k.componentDidUpdate(L,g.memoizedState,k.__reactInternalSnapshotBeforeUpdate)}var F=f.updateQueue;F!==null&&dE(f,F,k);break;case 3:var J=f.updateQueue;if(J!==null){if(g=null,f.child!==null)switch(f.child.tag){case 5:g=f.child.stateNode;break;case 1:g=f.child.stateNode}dE(f,J,g)}break;case 5:var re=f.stateNode;if(g===null&&f.flags&4){g=re;var ie=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":ie.autoFocus&&g.focus();break;case"img":ie.src&&(g.src=ie.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var me=f.alternate;if(me!==null){var Ee=me.memoizedState;if(Ee!==null){var Ce=Ee.dehydrated;Ce!==null&&Cc(Ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ui||f.flags&512&&Ev(f)}catch(_e){on(f,f.return,_e)}}if(f===c){Je=null;break}if(g=f.sibling,g!==null){g.return=f.return,Je=g;break}Je=f.return}}function dC(c){for(;Je!==null;){var f=Je;if(f===c){Je=null;break}var g=f.sibling;if(g!==null){g.return=f.return,Je=g;break}Je=f.return}}function fC(c){for(;Je!==null;){var f=Je;try{switch(f.tag){case 0:case 11:case 15:var g=f.return;try{Jm(4,f)}catch(ie){on(f,g,ie)}break;case 1:var k=f.stateNode;if(typeof k.componentDidMount=="function"){var L=f.return;try{k.componentDidMount()}catch(ie){on(f,L,ie)}}var F=f.return;try{Ev(f)}catch(ie){on(f,F,ie)}break;case 5:var J=f.return;try{Ev(f)}catch(ie){on(f,J,ie)}}}catch(ie){on(f,f.return,ie)}if(f===c){Je=null;break}var re=f.sibling;if(re!==null){re.return=f.return,Je=re;break}Je=f.return}}var wD=Math.ceil,Qm=T.ReactCurrentDispatcher,Nv=T.ReactCurrentOwner,$s=T.ReactCurrentBatchConfig,mr=0,Fn=null,yn=null,Zn=0,ls=0,sd=pl(0),jn=0,ph=null,Oc=0,Xm=0,Tv=0,mh=null,qi=null,Av=0,od=1/0,ja=null,Zm=!1,jv=null,bl=null,eg=!1,wl=null,tg=0,gh=0,Pv=null,rg=-1,ng=0;function Ci(){return(mr&6)!==0?Ft():rg!==-1?rg:rg=Ft()}function kl(c){return(c.mode&1)===0?1:(mr&2)!==0&&Zn!==0?Zn&-Zn:iD.transition!==null?(ng===0&&(ng=mm()),ng):(c=br,c!==0||(c=window.event,c=c===void 0?16:qf(c.type)),c)}function vo(c,f,g,k){if(50<gh)throw gh=0,Pv=null,Error(t(185));bc(c,g,k),((mr&2)===0||c!==Fn)&&(c===Fn&&((mr&2)===0&&(Xm|=g),jn===4&&_l(c,Zn)),Wi(c,k),g===1&&mr===0&&(f.mode&1)===0&&(od=Ft()+500,Pm&&gl()))}function Wi(c,f){var g=c.callbackNode;If(c,f);var k=va(c,c===Fn?Zn:0);if(k===0)g!==null&&_r(g),c.callbackNode=null,c.callbackPriority=0;else if(f=k&-k,c.callbackPriority!==f){if(g!=null&&_r(g),f===1)c.tag===0?nD(pC.bind(null,c)):Z2(pC.bind(null,c)),ZO(function(){(mr&6)===0&&gl()}),g=null;else{switch(wc(k)){case 1:g=gn;break;case 4:g=ns;break;case 16:g=is;break;case 536870912:g=Tn;break;default:g=is}g=kC(g,hC.bind(null,c))}c.callbackPriority=f,c.callbackNode=g}}function hC(c,f){if(rg=-1,ng=0,(mr&6)!==0)throw Error(t(327));var g=c.callbackNode;if(ad()&&c.callbackNode!==g)return null;var k=va(c,c===Fn?Zn:0);if(k===0)return null;if((k&30)!==0||(k&c.expiredLanes)!==0||f)f=ig(c,k);else{f=k;var L=mr;mr|=2;var F=gC();(Fn!==c||Zn!==f)&&(ja=null,od=Ft()+500,Lc(c,f));do try{ED();break}catch(re){mC(c,re)}while(!0);Yx(),Qm.current=F,mr=L,yn!==null?f=0:(Fn=null,Zn=0,f=jn)}if(f!==0){if(f===2&&(L=Mf(c),L!==0&&(k=L,f=Rv(c,L))),f===1)throw g=ph,Lc(c,0),_l(c,k),Wi(c,Ft()),g;if(f===6)_l(c,k);else{if(L=c.current.alternate,(k&30)===0&&!kD(L)&&(f=ig(c,k),f===2&&(F=Mf(c),F!==0&&(k=F,f=Rv(c,F))),f===1))throw g=ph,Lc(c,0),_l(c,k),Wi(c,Ft()),g;switch(c.finishedWork=L,c.finishedLanes=k,f){case 0:case 1:throw Error(t(345));case 2:zc(c,qi,ja);break;case 3:if(_l(c,k),(k&130023424)===k&&(f=Av+500-Ft(),10<f)){if(va(c,0)!==0)break;if(L=c.suspendedLanes,(L&k)!==k){Ci(),c.pingedLanes|=c.suspendedLanes&L;break}c.timeoutHandle=zx(zc.bind(null,c,qi,ja),f);break}zc(c,qi,ja);break;case 4:if(_l(c,k),(k&4194240)===k)break;for(f=c.eventTimes,L=-1;0<k;){var J=31-Jn(k);F=1<<J,J=f[J],J>L&&(L=J),k&=~F}if(k=L,k=Ft()-k,k=(120>k?120:480>k?480:1080>k?1080:1920>k?1920:3e3>k?3e3:4320>k?4320:1960*wD(k/1960))-k,10<k){c.timeoutHandle=zx(zc.bind(null,c,qi,ja),k);break}zc(c,qi,ja);break;case 5:zc(c,qi,ja);break;default:throw Error(t(329))}}}return Wi(c,Ft()),c.callbackNode===g?hC.bind(null,c):null}function Rv(c,f){var g=mh;return c.current.memoizedState.isDehydrated&&(Lc(c,f).flags|=256),c=ig(c,f),c!==2&&(f=qi,qi=g,f!==null&&Iv(f)),c}function Iv(c){qi===null?qi=c:qi.push.apply(qi,c)}function kD(c){for(var f=c;;){if(f.flags&16384){var g=f.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var k=0;k<g.length;k++){var L=g[k],F=L.getSnapshot;L=L.value;try{if(!po(F(),L))return!1}catch{return!1}}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function _l(c,f){for(f&=~Tv,f&=~Xm,c.suspendedLanes|=f,c.pingedLanes&=~f,c=c.expirationTimes;0<f;){var g=31-Jn(f),k=1<<g;c[g]=-1,f&=~k}}function pC(c){if((mr&6)!==0)throw Error(t(327));ad();var f=va(c,0);if((f&1)===0)return Wi(c,Ft()),null;var g=ig(c,f);if(c.tag!==0&&g===2){var k=Mf(c);k!==0&&(f=k,g=Rv(c,k))}if(g===1)throw g=ph,Lc(c,0),_l(c,f),Wi(c,Ft()),g;if(g===6)throw Error(t(345));return c.finishedWork=c.current.alternate,c.finishedLanes=f,zc(c,qi,ja),Wi(c,Ft()),null}function Mv(c,f){var g=mr;mr|=1;try{return c(f)}finally{mr=g,mr===0&&(od=Ft()+500,Pm&&gl())}}function Dc(c){wl!==null&&wl.tag===0&&(mr&6)===0&&ad();var f=mr;mr|=1;var g=$s.transition,k=br;try{if($s.transition=null,br=1,c)return c()}finally{br=k,$s.transition=g,mr=f,(mr&6)===0&&gl()}}function Ov(){ls=sd.current,Ur(sd)}function Lc(c,f){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;if(g!==-1&&(c.timeoutHandle=-1,XO(g)),yn!==null)for(g=yn.return;g!==null;){var k=g;switch(Wx(k),k.tag){case 1:k=k.type.childContextTypes,k!=null&&Am();break;case 3:rd(),Ur(Bi),Ur(ai),nv();break;case 5:tv(k);break;case 4:rd();break;case 13:Ur(Qr);break;case 19:Ur(Qr);break;case 10:Jx(k.type._context);break;case 22:case 23:Ov()}g=g.return}if(Fn=c,yn=c=El(c.current,null),Zn=ls=f,jn=0,ph=null,Tv=Xm=Oc=0,qi=mh=null,Rc!==null){for(f=0;f<Rc.length;f++)if(g=Rc[f],k=g.interleaved,k!==null){g.interleaved=null;var L=k.next,F=g.pending;if(F!==null){var J=F.next;F.next=L,k.next=J}g.pending=k}Rc=null}return c}function mC(c,f){do{var g=yn;try{if(Yx(),$m.current=Hm,Um){for(var k=Xr.memoizedState;k!==null;){var L=k.queue;L!==null&&(L.pending=null),k=k.next}Um=!1}if(Mc=0,zn=An=Xr=null,lh=!1,ch=0,Nv.current=null,g===null||g.return===null){jn=1,ph=f,yn=null;break}e:{var F=c,J=g.return,re=g,ie=f;if(f=Zn,re.flags|=32768,ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var me=ie,Ee=re,Ce=Ee.tag;if((Ee.mode&1)===0&&(Ce===0||Ce===11||Ce===15)){var _e=Ee.alternate;_e?(Ee.updateQueue=_e.updateQueue,Ee.memoizedState=_e.memoizedState,Ee.lanes=_e.lanes):(Ee.updateQueue=null,Ee.memoizedState=null)}var Ue=BE(J);if(Ue!==null){Ue.flags&=-257,$E(Ue,J,re,F,f),Ue.mode&1&&FE(F,me,f),f=Ue,ie=me;var Ze=f.updateQueue;if(Ze===null){var nt=new Set;nt.add(ie),f.updateQueue=nt}else Ze.add(ie);break e}else{if((f&1)===0){FE(F,me,f),Dv();break e}ie=Error(t(426))}}else if(Hr&&re.mode&1){var dn=BE(J);if(dn!==null){(dn.flags&65536)===0&&(dn.flags|=256),$E(dn,J,re,F,f),Gx(nd(ie,re));break e}}F=ie=nd(ie,re),jn!==4&&(jn=2),mh===null?mh=[F]:mh.push(F),F=J;do{switch(F.tag){case 3:F.flags|=65536,f&=-f,F.lanes|=f;var fe=LE(F,ie,f);uE(F,fe);break e;case 1:re=ie;var le=F.type,pe=F.stateNode;if((F.flags&128)===0&&(typeof le.getDerivedStateFromError=="function"||pe!==null&&typeof pe.componentDidCatch=="function"&&(bl===null||!bl.has(pe)))){F.flags|=65536,f&=-f,F.lanes|=f;var je=zE(F,re,f);uE(F,je);break e}}F=F.return}while(F!==null)}xC(g)}catch(lt){f=lt,yn===g&&g!==null&&(yn=g=g.return);continue}break}while(!0)}function gC(){var c=Qm.current;return Qm.current=Hm,c===null?Hm:c}function Dv(){(jn===0||jn===3||jn===2)&&(jn=4),Fn===null||(Oc&268435455)===0&&(Xm&268435455)===0||_l(Fn,Zn)}function ig(c,f){var g=mr;mr|=2;var k=gC();(Fn!==c||Zn!==f)&&(ja=null,Lc(c,f));do try{_D();break}catch(L){mC(c,L)}while(!0);if(Yx(),mr=g,Qm.current=k,yn!==null)throw Error(t(261));return Fn=null,Zn=0,jn}function _D(){for(;yn!==null;)yC(yn)}function ED(){for(;yn!==null&&!oi();)yC(yn)}function yC(c){var f=wC(c.alternate,c,ls);c.memoizedProps=c.pendingProps,f===null?xC(c):yn=f,Nv.current=null}function xC(c){var f=c;do{var g=f.alternate;if(c=f.return,(f.flags&32768)===0){if(g=gD(g,f,ls),g!==null){yn=g;return}}else{if(g=yD(g,f),g!==null){g.flags&=32767,yn=g;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{jn=6,yn=null;return}}if(f=f.sibling,f!==null){yn=f;return}yn=f=c}while(f!==null);jn===0&&(jn=5)}function zc(c,f,g){var k=br,L=$s.transition;try{$s.transition=null,br=1,CD(c,f,g,k)}finally{$s.transition=L,br=k}return null}function CD(c,f,g,k){do ad();while(wl!==null);if((mr&6)!==0)throw Error(t(327));g=c.finishedWork;var L=c.finishedLanes;if(g===null)return null;if(c.finishedWork=null,c.finishedLanes=0,g===c.current)throw Error(t(177));c.callbackNode=null,c.callbackPriority=0;var F=g.lanes|g.childLanes;if(xx(c,F),c===Fn&&(yn=Fn=null,Zn=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||eg||(eg=!0,kC(is,function(){return ad(),null})),F=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||F){F=$s.transition,$s.transition=null;var J=br;br=1;var re=mr;mr|=4,Nv.current=null,vD(c,g),lC(g,c),HO(Dx),Fu=!!Ox,Dx=Ox=null,c.current=g,bD(g),Os(),mr=re,br=J,$s.transition=F}else c.current=g;if(eg&&(eg=!1,wl=c,tg=L),F=c.pendingLanes,F===0&&(bl=null),Yn(g.stateNode),Wi(c,Ft()),f!==null)for(k=c.onRecoverableError,g=0;g<f.length;g++)L=f[g],k(L.value,{componentStack:L.stack,digest:L.digest});if(Zm)throw Zm=!1,c=jv,jv=null,c;return(tg&1)!==0&&c.tag!==0&&ad(),F=c.pendingLanes,(F&1)!==0?c===Pv?gh++:(gh=0,Pv=c):gh=0,gl(),null}function ad(){if(wl!==null){var c=wc(tg),f=$s.transition,g=br;try{if($s.transition=null,br=16>c?16:c,wl===null)var k=!1;else{if(c=wl,wl=null,tg=0,(mr&6)!==0)throw Error(t(331));var L=mr;for(mr|=4,Je=c.current;Je!==null;){var F=Je,J=F.child;if((Je.flags&16)!==0){var re=F.deletions;if(re!==null){for(var ie=0;ie<re.length;ie++){var me=re[ie];for(Je=me;Je!==null;){var Ee=Je;switch(Ee.tag){case 0:case 11:case 15:hh(8,Ee,F)}var Ce=Ee.child;if(Ce!==null)Ce.return=Ee,Je=Ce;else for(;Je!==null;){Ee=Je;var _e=Ee.sibling,Ue=Ee.return;if(nC(Ee),Ee===me){Je=null;break}if(_e!==null){_e.return=Ue,Je=_e;break}Je=Ue}}}var Ze=F.alternate;if(Ze!==null){var nt=Ze.child;if(nt!==null){Ze.child=null;do{var dn=nt.sibling;nt.sibling=null,nt=dn}while(nt!==null)}}Je=F}}if((F.subtreeFlags&2064)!==0&&J!==null)J.return=F,Je=J;else e:for(;Je!==null;){if(F=Je,(F.flags&2048)!==0)switch(F.tag){case 0:case 11:case 15:hh(9,F,F.return)}var fe=F.sibling;if(fe!==null){fe.return=F.return,Je=fe;break e}Je=F.return}}var le=c.current;for(Je=le;Je!==null;){J=Je;var pe=J.child;if((J.subtreeFlags&2064)!==0&&pe!==null)pe.return=J,Je=pe;else e:for(J=le;Je!==null;){if(re=Je,(re.flags&2048)!==0)try{switch(re.tag){case 0:case 11:case 15:Jm(9,re)}}catch(lt){on(re,re.return,lt)}if(re===J){Je=null;break e}var je=re.sibling;if(je!==null){je.return=re.return,Je=je;break e}Je=re.return}}if(mr=L,gl(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Kn,c)}catch{}k=!0}return k}finally{br=g,$s.transition=f}}return!1}function vC(c,f,g){f=nd(g,f),f=LE(c,f,1),c=xl(c,f,1),f=Ci(),c!==null&&(bc(c,1,f),Wi(c,f))}function on(c,f,g){if(c.tag===3)vC(c,c,g);else for(;f!==null;){if(f.tag===3){vC(f,c,g);break}else if(f.tag===1){var k=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(bl===null||!bl.has(k))){c=nd(g,c),c=zE(f,c,1),f=xl(f,c,1),c=Ci(),f!==null&&(bc(f,1,c),Wi(f,c));break}}f=f.return}}function SD(c,f,g){var k=c.pingCache;k!==null&&k.delete(f),f=Ci(),c.pingedLanes|=c.suspendedLanes&g,Fn===c&&(Zn&g)===g&&(jn===4||jn===3&&(Zn&130023424)===Zn&&500>Ft()-Av?Lc(c,0):Tv|=g),Wi(c,f)}function bC(c,f){f===0&&((c.mode&1)===0?f=1:(f=Rf,Rf<<=1,(Rf&130023424)===0&&(Rf=4194304)));var g=Ci();c=Na(c,f),c!==null&&(bc(c,f,g),Wi(c,g))}function ND(c){var f=c.memoizedState,g=0;f!==null&&(g=f.retryLane),bC(c,g)}function TD(c,f){var g=0;switch(c.tag){case 13:var k=c.stateNode,L=c.memoizedState;L!==null&&(g=L.retryLane);break;case 19:k=c.stateNode;break;default:throw Error(t(314))}k!==null&&k.delete(f),bC(c,g)}var wC;wC=function(c,f,g){if(c!==null)if(c.memoizedProps!==f.pendingProps||Bi.current)Ui=!0;else{if((c.lanes&g)===0&&(f.flags&128)===0)return Ui=!1,mD(c,f,g);Ui=(c.flags&131072)!==0}else Ui=!1,Hr&&(f.flags&1048576)!==0&&eE(f,Im,f.index);switch(f.lanes=0,f.tag){case 2:var k=f.type;Km(c,f),c=f.pendingProps;var L=Yu(f,ai.current);td(f,g),L=ov(null,f,k,c,L,g);var F=av();return f.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,$i(k)?(F=!0,jm(f)):F=!1,f.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,Zx(f),L.updater=Vm,f.stateNode=L,L._reactInternals=f,hv(f,k,c,g),f=yv(null,f,k,!0,F,g)):(f.tag=0,Hr&&F&&qx(f),Ei(null,f,L,g),f=f.child),f;case 16:k=f.elementType;e:{switch(Km(c,f),c=f.pendingProps,L=k._init,k=L(k._payload),f.type=k,L=f.tag=jD(k),c=go(k,c),L){case 0:f=gv(null,f,k,c,g);break e;case 1:f=GE(null,f,k,c,g);break e;case 11:f=UE(null,f,k,c,g);break e;case 14:f=qE(null,f,k,go(k.type,c),g);break e}throw Error(t(306,k,""))}return f;case 0:return k=f.type,L=f.pendingProps,L=f.elementType===k?L:go(k,L),gv(c,f,k,L,g);case 1:return k=f.type,L=f.pendingProps,L=f.elementType===k?L:go(k,L),GE(c,f,k,L,g);case 3:e:{if(KE(f),c===null)throw Error(t(387));k=f.pendingProps,F=f.memoizedState,L=F.element,cE(c,f),Fm(f,k,null,g);var J=f.memoizedState;if(k=J.element,F.isDehydrated)if(F={element:k,isDehydrated:!1,cache:J.cache,pendingSuspenseBoundaries:J.pendingSuspenseBoundaries,transitions:J.transitions},f.updateQueue.baseState=F,f.memoizedState=F,f.flags&256){L=nd(Error(t(423)),f),f=YE(c,f,k,g,L);break e}else if(k!==L){L=nd(Error(t(424)),f),f=YE(c,f,k,g,L);break e}else for(as=hl(f.stateNode.containerInfo.firstChild),os=f,Hr=!0,mo=null,g=aE(f,null,k,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Xu(),k===L){f=Aa(c,f,g);break e}Ei(c,f,k,g)}f=f.child}return f;case 5:return fE(f),c===null&&Vx(f),k=f.type,L=f.pendingProps,F=c!==null?c.memoizedProps:null,J=L.children,Lx(k,L)?J=null:F!==null&&Lx(k,F)&&(f.flags|=32),VE(c,f),Ei(c,f,J,g),f.child;case 6:return c===null&&Vx(f),null;case 13:return JE(c,f,g);case 4:return ev(f,f.stateNode.containerInfo),k=f.pendingProps,c===null?f.child=Zu(f,null,k,g):Ei(c,f,k,g),f.child;case 11:return k=f.type,L=f.pendingProps,L=f.elementType===k?L:go(k,L),UE(c,f,k,L,g);case 7:return Ei(c,f,f.pendingProps,g),f.child;case 8:return Ei(c,f,f.pendingProps.children,g),f.child;case 12:return Ei(c,f,f.pendingProps.children,g),f.child;case 10:e:{if(k=f.type._context,L=f.pendingProps,F=f.memoizedProps,J=L.value,Dr(Dm,k._currentValue),k._currentValue=J,F!==null)if(po(F.value,J)){if(F.children===L.children&&!Bi.current){f=Aa(c,f,g);break e}}else for(F=f.child,F!==null&&(F.return=f);F!==null;){var re=F.dependencies;if(re!==null){J=F.child;for(var ie=re.firstContext;ie!==null;){if(ie.context===k){if(F.tag===1){ie=Ta(-1,g&-g),ie.tag=2;var me=F.updateQueue;if(me!==null){me=me.shared;var Ee=me.pending;Ee===null?ie.next=ie:(ie.next=Ee.next,Ee.next=ie),me.pending=ie}}F.lanes|=g,ie=F.alternate,ie!==null&&(ie.lanes|=g),Qx(F.return,g,f),re.lanes|=g;break}ie=ie.next}}else if(F.tag===10)J=F.type===f.type?null:F.child;else if(F.tag===18){if(J=F.return,J===null)throw Error(t(341));J.lanes|=g,re=J.alternate,re!==null&&(re.lanes|=g),Qx(J,g,f),J=F.sibling}else J=F.child;if(J!==null)J.return=F;else for(J=F;J!==null;){if(J===f){J=null;break}if(F=J.sibling,F!==null){F.return=J.return,J=F;break}J=J.return}F=J}Ei(c,f,L.children,g),f=f.child}return f;case 9:return L=f.type,k=f.pendingProps.children,td(f,g),L=Fs(L),k=k(L),f.flags|=1,Ei(c,f,k,g),f.child;case 14:return k=f.type,L=go(k,f.pendingProps),L=go(k.type,L),qE(c,f,k,L,g);case 15:return WE(c,f,f.type,f.pendingProps,g);case 17:return k=f.type,L=f.pendingProps,L=f.elementType===k?L:go(k,L),Km(c,f),f.tag=1,$i(k)?(c=!0,jm(f)):c=!1,td(f,g),OE(f,k,L),hv(f,k,L,g),yv(null,f,k,!0,c,g);case 19:return XE(c,f,g);case 22:return HE(c,f,g)}throw Error(t(156,f.tag))};function kC(c,f){return vr(c,f)}function AD(c,f,g,k){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Us(c,f,g,k){return new AD(c,f,g,k)}function Lv(c){return c=c.prototype,!(!c||!c.isReactComponent)}function jD(c){if(typeof c=="function")return Lv(c)?1:0;if(c!=null){if(c=c.$$typeof,c===q)return 11;if(c===S)return 14}return 2}function El(c,f){var g=c.alternate;return g===null?(g=Us(c.tag,f,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=f,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&14680064,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,f=c.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g}function sg(c,f,g,k,L,F){var J=2;if(k=c,typeof c=="function")Lv(c)&&(J=1);else if(typeof c=="string")J=5;else e:switch(c){case H:return Fc(g.children,L,F,f);case G:J=8,L|=8;break;case W:return c=Us(12,g,f,L|2),c.elementType=W,c.lanes=F,c;case D:return c=Us(13,g,f,L),c.elementType=D,c.lanes=F,c;case v:return c=Us(19,g,f,L),c.elementType=v,c.lanes=F,c;case j:return og(g,L,F,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case V:J=10;break e;case K:J=9;break e;case q:J=11;break e;case S:J=14;break e;case _:J=16,k=null;break e}throw Error(t(130,c==null?c:typeof c,""))}return f=Us(J,g,f,L),f.elementType=c,f.type=k,f.lanes=F,f}function Fc(c,f,g,k){return c=Us(7,c,k,f),c.lanes=g,c}function og(c,f,g,k){return c=Us(22,c,k,f),c.elementType=j,c.lanes=g,c.stateNode={isHidden:!1},c}function zv(c,f,g){return c=Us(6,c,null,f),c.lanes=g,c}function Fv(c,f,g){return f=Us(4,c.children!==null?c.children:[],c.key,f),f.lanes=g,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function PD(c,f,g,k,L){this.tag=f,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Of(0),this.expirationTimes=Of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Of(0),this.identifierPrefix=k,this.onRecoverableError=L,this.mutableSourceEagerHydrationData=null}function Bv(c,f,g,k,L,F,J,re,ie){return c=new PD(c,f,g,re,ie),f===1?(f=1,F===!0&&(f|=8)):f=0,F=Us(3,null,null,f),c.current=F,F.stateNode=c,F.memoizedState={element:k,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zx(F),c}function RD(c,f,g){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:k==null?null:""+k,children:c,containerInfo:f,implementation:g}}function _C(c){if(!c)return ml;c=c._reactInternals;e:{if(Lt(c)!==c||c.tag!==1)throw Error(t(170));var f=c;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if($i(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(t(171))}if(c.tag===1){var g=c.type;if($i(g))return Q2(c,g,f)}return f}function EC(c,f,g,k,L,F,J,re,ie){return c=Bv(g,k,!0,c,L,F,J,re,ie),c.context=_C(null),g=c.current,k=Ci(),L=kl(g),F=Ta(k,L),F.callback=f??null,xl(g,F,L),c.current.lanes=L,bc(c,L,k),Wi(c,k),c}function ag(c,f,g,k){var L=f.current,F=Ci(),J=kl(L);return g=_C(g),f.context===null?f.context=g:f.pendingContext=g,f=Ta(F,J),f.payload={element:c},k=k===void 0?null:k,k!==null&&(f.callback=k),c=xl(L,f,J),c!==null&&(vo(c,L,J,F),zm(c,L,J)),J}function lg(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function CC(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<f?g:f}}function $v(c,f){CC(c,f),(c=c.alternate)&&CC(c,f)}function ID(){return null}var SC=typeof reportError=="function"?reportError:function(c){console.error(c)};function Uv(c){this._internalRoot=c}cg.prototype.render=Uv.prototype.render=function(c){var f=this._internalRoot;if(f===null)throw Error(t(409));ag(c,f,null,null)},cg.prototype.unmount=Uv.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var f=c.containerInfo;Dc(function(){ag(null,c,null,null)}),f[_a]=null}};function cg(c){this._internalRoot=c}cg.prototype.unstable_scheduleHydration=function(c){if(c){var f=Ff();c={blockedOn:null,target:c,priority:f};for(var g=0;g<Or.length&&f!==0&&f<Or[g].priority;g++);Or.splice(g,0,c),g===0&&gm(c)}};function qv(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function ug(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function NC(){}function MD(c,f,g,k,L){if(L){if(typeof k=="function"){var F=k;k=function(){var me=lg(J);F.call(me)}}var J=EC(f,k,c,0,null,!1,!1,"",NC);return c._reactRootContainer=J,c[_a]=J.current,eh(c.nodeType===8?c.parentNode:c),Dc(),J}for(;L=c.lastChild;)c.removeChild(L);if(typeof k=="function"){var re=k;k=function(){var me=lg(ie);re.call(me)}}var ie=Bv(c,0,!1,null,null,!1,!1,"",NC);return c._reactRootContainer=ie,c[_a]=ie.current,eh(c.nodeType===8?c.parentNode:c),Dc(function(){ag(f,ie,g,k)}),ie}function dg(c,f,g,k,L){var F=g._reactRootContainer;if(F){var J=F;if(typeof L=="function"){var re=L;L=function(){var ie=lg(J);re.call(ie)}}ag(f,J,c,L)}else J=MD(g,f,c,L,k);return lg(J)}Lf=function(c){switch(c.tag){case 3:var f=c.stateNode;if(f.current.memoizedState.isDehydrated){var g=Fo(f.pendingLanes);g!==0&&(Df(f,g|1),Wi(f,Ft()),(mr&6)===0&&(od=Ft()+500,gl()))}break;case 13:Dc(function(){var k=Na(c,1);if(k!==null){var L=Ci();vo(k,c,1,L)}}),$v(c,1)}},zu=function(c){if(c.tag===13){var f=Na(c,134217728);if(f!==null){var g=Ci();vo(f,c,134217728,g)}$v(c,134217728)}},zf=function(c){if(c.tag===13){var f=kl(c),g=Na(c,f);if(g!==null){var k=Ci();vo(g,c,f,k)}$v(c,f)}},Ff=function(){return br},ge=function(c,f){var g=br;try{return br=c,f()}finally{br=g}},Ir=function(c,f,g){switch(f){case"input":if(ae(c,g),f=g.name,g.type==="radio"&&f!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<g.length;f++){var k=g[f];if(k!==c&&k.form===c.form){var L=Tm(k);if(!L)throw Error(t(90));ue(k),ae(k,L)}}}break;case"textarea":xt(c,g);break;case"select":f=g.value,f!=null&&Ie(c,!!g.multiple,f,!1)}},dt=Mv,it=Dc;var OD={usingClientEntryPoint:!1,Events:[nh,Gu,Tm,Dt,De,Mv]},yh={findFiberByHostInstance:Tc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DD={bundleType:yh.bundleType,version:yh.version,rendererPackageName:yh.rendererPackageName,rendererConfig:yh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Mr(c),c===null?null:c.stateNode},findFiberByHostInstance:yh.findFiberByHostInstance||ID,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fg.isDisabled&&fg.supportsFiber)try{Kn=fg.inject(DD),un=fg}catch{}}return Hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OD,Hi.createPortal=function(c,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qv(f))throw Error(t(200));return RD(c,f,null,g)},Hi.createRoot=function(c,f){if(!qv(c))throw Error(t(299));var g=!1,k="",L=SC;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(k=f.identifierPrefix),f.onRecoverableError!==void 0&&(L=f.onRecoverableError)),f=Bv(c,1,!1,null,null,g,!1,k,L),c[_a]=f.current,eh(c.nodeType===8?c.parentNode:c),new Uv(f)},Hi.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(t(188)):(c=Object.keys(c).join(","),Error(t(268,c)));return c=Mr(f),c=c===null?null:c.stateNode,c},Hi.flushSync=function(c){return Dc(c)},Hi.hydrate=function(c,f,g){if(!ug(f))throw Error(t(200));return dg(null,c,f,!0,g)},Hi.hydrateRoot=function(c,f,g){if(!qv(c))throw Error(t(405));var k=g!=null&&g.hydratedSources||null,L=!1,F="",J=SC;if(g!=null&&(g.unstable_strictMode===!0&&(L=!0),g.identifierPrefix!==void 0&&(F=g.identifierPrefix),g.onRecoverableError!==void 0&&(J=g.onRecoverableError)),f=EC(f,null,c,1,g??null,L,!1,F,J),c[_a]=f.current,eh(c),k)for(c=0;c<k.length;c++)g=k[c],L=g._getVersion,L=L(g._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[g,L]:f.mutableSourceEagerHydrationData.push(g,L);return new cg(f)},Hi.render=function(c,f,g){if(!ug(f))throw Error(t(200));return dg(null,c,f,!1,g)},Hi.unmountComponentAtNode=function(c){if(!ug(c))throw Error(t(40));return c._reactRootContainer?(Dc(function(){dg(null,null,c,!1,function(){c._reactRootContainer=null,c[_a]=null})}),!0):!1},Hi.unstable_batchedUpdates=Mv,Hi.unstable_renderSubtreeIntoContainer=function(c,f,g,k){if(!ug(g))throw Error(t(200));if(c==null||c._reactInternals===void 0)throw Error(t(38));return dg(c,f,g,!1,k)},Hi.version="18.3.1-next-f1338f8080-20240426",Hi}var OC;function ij(){if(OC)return Vv.exports;OC=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vv.exports=VD(),Vv.exports}var DC;function GD(){if(DC)return pg;DC=1;var r=ij();return pg.createRoot=r.createRoot,pg.hydrateRoot=r.hydrateRoot,pg}var KD=GD(),Gp=ij();const sj=el(Gp);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gp(){return gp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},gp.apply(this,arguments)}var Fl;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Fl||(Fl={}));const LC="popstate";function YD(r){r===void 0&&(r={});function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return Sw("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:I0(i)}return QD(e,t,null,r)}function Sn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function oj(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JD(){return Math.random().toString(36).substr(2,8)}function zC(r,e){return{usr:r.state,key:r.key,idx:e}}function Sw(r,e,t,n){return t===void 0&&(t=null),gp({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?xf(e):e,{state:t,key:e&&e.key||n||JD()})}function I0(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function xf(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function QD(r,e,t,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=Fl.Pop,u=null,d=h();d==null&&(d=0,o.replaceState(gp({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function p(){a=Fl.Pop;let w=h(),A=w==null?null:w-d;d=w,u&&u({action:a,location:x.location,delta:A})}function y(w,A){a=Fl.Push;let P=Sw(x.location,w,A);d=h()+1;let I=zC(P,d),T=x.createHref(P);try{o.pushState(I,"",T)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(T)}s&&u&&u({action:a,location:x.location,delta:1})}function m(w,A){a=Fl.Replace;let P=Sw(x.location,w,A);d=h();let I=zC(P,d),T=x.createHref(P);o.replaceState(I,"",T),s&&u&&u({action:a,location:x.location,delta:0})}function b(w){let A=i.location.origin!=="null"?i.location.origin:i.location.href,P=typeof w=="string"?w:I0(w);return P=P.replace(/ $/,"%20"),Sn(A,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,A)}let x={get action(){return a},get location(){return r(i,o)},listen(w){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(LC,p),u=w,()=>{i.removeEventListener(LC,p),u=null}},createHref(w){return e(i,w)},createURL:b,encodeLocation(w){let A=b(w);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:m,go(w){return o.go(w)}};return x}var FC;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(FC||(FC={}));function XD(r,e,t){return t===void 0&&(t="/"),ZD(r,e,t)}function ZD(r,e,t,n){let i=typeof e=="string"?xf(e):e,s=ck(i.pathname||"/",t);if(s==null)return null;let o=aj(r);e6(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let d=f6(s);a=c6(o[u],d)}return a}function aj(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Sn(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let d=Gl([n,u.relativePath]),h=t.concat(u);s.children&&s.children.length>0&&(Sn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),aj(s.children,e,h,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:a6(d,s.index),routesMeta:h})};return r.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of lj(s.path))i(s,o,u)}),e}function lj(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=lj(n.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>r.startsWith("/")&&u===""?"/":u)}function e6(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:l6(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const t6=/^:[\w-]+$/,r6=3,n6=2,i6=1,s6=10,o6=-2,BC=r=>r==="*";function a6(r,e){let t=r.split("/"),n=t.length;return t.some(BC)&&(n+=o6),e&&(n+=n6),t.filter(i=>!BC(i)).reduce((i,s)=>i+(t6.test(s)?r6:s===""?i6:s6),n)}function l6(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function c6(r,e,t){let{routesMeta:n}=r,i={},s="/",o=[];for(let a=0;a<n.length;++a){let u=n[a],d=a===n.length-1,h=s==="/"?e:e.slice(s.length)||"/",p=u6({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),y=u.route;if(!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Gl([s,p.pathname]),pathnameBase:g6(Gl([s,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(s=Gl([s,p.pathnameBase]))}return o}function u6(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=d6(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((d,h,p)=>{let{paramName:y,isOptional:m}=h;if(y==="*"){let x=a[p]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const b=a[p];return m&&!b?d[y]=void 0:d[y]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:r}}function d6(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),oj(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(n.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function f6(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oj(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function ck(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function h6(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?xf(r):r;return{pathname:t?t.startsWith("/")?t:p6(t,e):e,search:y6(n),hash:x6(i)}}function p6(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Yv(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function m6(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function cj(r,e){let t=m6(r);return e?t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function uj(r,e,t,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=xf(r):(i=gp({},r),Sn(!i.pathname||!i.pathname.includes("?"),Yv("?","pathname","search",i)),Sn(!i.pathname||!i.pathname.includes("#"),Yv("#","pathname","hash",i)),Sn(!i.search||!i.search.includes("#"),Yv("#","search","hash",i)));let s=r===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let p=e.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}a=p>=0?e[p]:"/"}let u=h6(i,a),d=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}const Gl=r=>r.join("/").replace(/\/\/+/g,"/"),g6=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),y6=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,x6=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function v6(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const dj=["post","put","patch","delete"];new Set(dj);const b6=["get",...dj];new Set(b6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yp(){return yp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},yp.apply(this,arguments)}const uk=C.createContext(null),w6=C.createContext(null),Nu=C.createContext(null),Ey=C.createContext(null),uc=C.createContext({outlet:null,matches:[],isDataRoute:!1}),fj=C.createContext(null);function k6(r,e){let{relative:t}=e===void 0?{}:e;Kp()||Sn(!1);let{basename:n,navigator:i}=C.useContext(Nu),{hash:s,pathname:o,search:a}=pj(r,{relative:t}),u=o;return n!=="/"&&(u=o==="/"?n:Gl([n,o])),i.createHref({pathname:u,search:a,hash:s})}function Kp(){return C.useContext(Ey)!=null}function Tu(){return Kp()||Sn(!1),C.useContext(Ey).location}function hj(r){C.useContext(Nu).static||C.useLayoutEffect(r)}function Do(){let{isDataRoute:r}=C.useContext(uc);return r?O6():_6()}function _6(){Kp()||Sn(!1);let r=C.useContext(uk),{basename:e,future:t,navigator:n}=C.useContext(Nu),{matches:i}=C.useContext(uc),{pathname:s}=Tu(),o=JSON.stringify(cj(i,t.v7_relativeSplatPath)),a=C.useRef(!1);return hj(()=>{a.current=!0}),C.useCallback(function(d,h){if(h===void 0&&(h={}),!a.current)return;if(typeof d=="number"){n.go(d);return}let p=uj(d,JSON.parse(o),s,h.relative==="path");r==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Gl([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,o,s,r])}function $C(){let{matches:r}=C.useContext(uc),e=r[r.length-1];return e?e.params:{}}function pj(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=C.useContext(Nu),{matches:i}=C.useContext(uc),{pathname:s}=Tu(),o=JSON.stringify(cj(i,n.v7_relativeSplatPath));return C.useMemo(()=>uj(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function E6(r,e){return C6(r,e)}function C6(r,e,t,n){Kp()||Sn(!1);let{navigator:i}=C.useContext(Nu),{matches:s}=C.useContext(uc),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=Tu(),h;if(e){var p;let w=typeof e=="string"?xf(e):e;u==="/"||(p=w.pathname)!=null&&p.startsWith(u)||Sn(!1),h=w}else h=d;let y=h.pathname||"/",m=y;if(u!=="/"){let w=u.replace(/^\//,"").split("/");m="/"+y.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=XD(r,{pathname:m}),x=j6(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Gl([u,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:Gl([u,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,t,n);return e&&x?C.createElement(Ey.Provider,{value:{location:yp({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Fl.Pop}},x):x}function S6(){let r=M6(),e=v6(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:i},t):null,null)}const N6=C.createElement(S6,null);class T6 extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?C.createElement(uc.Provider,{value:this.props.routeContext},C.createElement(fj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function A6(r){let{routeContext:e,match:t,children:n}=r,i=C.useContext(uk);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(uc.Provider,{value:e},n)}function j6(r,e,t,n){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var s;if(!t)return null;if(t.errors)r=t.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,a=(i=t)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);h>=0||Sn(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,d=-1;if(t&&n&&n.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:y,errors:m}=t,b=p.route.loader&&y[p.route.id]===void 0&&(!m||m[p.route.id]===void 0);if(p.route.lazy||b){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,p,y)=>{let m,b=!1,x=null,w=null;t&&(m=a&&p.route.id?a[p.route.id]:void 0,x=p.route.errorElement||N6,u&&(d<0&&y===0?(D6("route-fallback"),b=!0,w=null):d===y&&(b=!0,w=p.route.hydrateFallbackElement||null)));let A=e.concat(o.slice(0,y+1)),P=()=>{let I;return m?I=x:b?I=w:p.route.Component?I=C.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=h,C.createElement(A6,{match:p,routeContext:{outlet:h,matches:A,isDataRoute:t!=null},children:I})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?C.createElement(T6,{location:t.location,revalidation:t.revalidation,component:x,error:m,children:P(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):P()},null)}var mj=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(mj||{}),gj=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(gj||{});function P6(r){let e=C.useContext(uk);return e||Sn(!1),e}function R6(r){let e=C.useContext(w6);return e||Sn(!1),e}function I6(r){let e=C.useContext(uc);return e||Sn(!1),e}function yj(r){let e=I6(),t=e.matches[e.matches.length-1];return t.route.id||Sn(!1),t.route.id}function M6(){var r;let e=C.useContext(fj),t=R6(),n=yj();return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function O6(){let{router:r}=P6(mj.UseNavigateStable),e=yj(gj.UseNavigateStable),t=C.useRef(!1);return hj(()=>{t.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,yp({fromRouteId:e},s)))},[r,e])}const UC={};function D6(r,e,t){UC[r]||(UC[r]=!0)}function L6(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function Ko(r){Sn(!1)}function z6(r){let{basename:e="/",children:t=null,location:n,navigationType:i=Fl.Pop,navigator:s,static:o=!1,future:a}=r;Kp()&&Sn(!1);let u=e.replace(/^\/*/,"/"),d=C.useMemo(()=>({basename:u,navigator:s,static:o,future:yp({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof n=="string"&&(n=xf(n));let{pathname:h="/",search:p="",hash:y="",state:m=null,key:b="default"}=n,x=C.useMemo(()=>{let w=ck(h,u);return w==null?null:{location:{pathname:w,search:p,hash:y,state:m,key:b},navigationType:i}},[u,h,p,y,m,b,i]);return x==null?null:C.createElement(Nu.Provider,{value:d},C.createElement(Ey.Provider,{children:t,value:x}))}function F6(r){let{children:e,location:t}=r;return E6(Nw(e),t)}new Promise(()=>{});function Nw(r,e){e===void 0&&(e=[]);let t=[];return C.Children.forEach(r,(n,i)=>{if(!C.isValidElement(n))return;let s=[...e,i];if(n.type===C.Fragment){t.push.apply(t,Nw(n.props.children,s));return}n.type!==Ko&&Sn(!1),!n.props.index||!n.props.children||Sn(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Nw(n.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tw(){return Tw=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Tw.apply(this,arguments)}function B6(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function $6(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function U6(r,e){return r.button===0&&(!e||e==="_self")&&!$6(r)}function Aw(r){return r===void 0&&(r=""),new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,t)=>{let n=r[t];return e.concat(Array.isArray(n)?n.map(i=>[t,i]):[[t,n]])},[]))}function q6(r,e){let t=Aw(r);return e&&e.forEach((n,i)=>{t.has(i)||e.getAll(i).forEach(s=>{t.append(i,s)})}),t}const W6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],H6="6";try{window.__reactRouterVersion=H6}catch{}const V6="startTransition",qC=lk[V6];function G6(r){let{basename:e,children:t,future:n,window:i}=r,s=C.useRef();s.current==null&&(s.current=YD({window:i,v5Compat:!0}));let o=s.current,[a,u]=C.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},h=C.useCallback(p=>{d&&qC?qC(()=>u(p)):u(p)},[u,d]);return C.useLayoutEffect(()=>o.listen(h),[o,h]),C.useEffect(()=>L6(n),[n]),C.createElement(z6,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:n})}const K6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Y6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,su=C.forwardRef(function(e,t){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:d,preventScrollReset:h,viewTransition:p}=e,y=B6(e,W6),{basename:m}=C.useContext(Nu),b,x=!1;if(typeof d=="string"&&Y6.test(d)&&(b=d,K6))try{let I=new URL(window.location.href),T=d.startsWith("//")?new URL(I.protocol+d):new URL(d),U=ck(T.pathname,m);T.origin===I.origin&&U!=null?d=U+T.search+T.hash:x=!0}catch{}let w=k6(d,{relative:i}),A=J6(d,{replace:o,state:a,target:u,preventScrollReset:h,relative:i,viewTransition:p});function P(I){n&&n(I),I.defaultPrevented||A(I)}return C.createElement("a",Tw({},y,{href:b||w,onClick:x||s?n:P,ref:t,target:u}))});var WC;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(WC||(WC={}));var HC;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(HC||(HC={}));function J6(r,e){let{target:t,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,u=Do(),d=Tu(),h=pj(r,{relative:o});return C.useCallback(p=>{if(U6(p,t)){p.preventDefault();let y=n!==void 0?n:I0(d)===I0(h);u(r,{replace:y,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[d,u,h,n,i,t,r,s,o,a])}function Q6(r){let e=C.useRef(Aw(r)),t=C.useRef(!1),n=Tu(),i=C.useMemo(()=>q6(n.search,t.current?null:e.current),[n.search]),s=Do(),o=C.useCallback((a,u)=>{const d=Aw(typeof a=="function"?a(i):a);t.current=!0,s("?"+d,u)},[s,i]);return[i,o]}var l0={exports:{}};const X6={},Z6=Object.freeze(Object.defineProperty({__proto__:null,default:X6},Symbol.toStringTag,{value:"Module"})),eL=ok(Z6);var tL=l0.exports,VC;function rL(){return VC||(VC=1,function(r){(function(e,t){function n(D,v){if(!D)throw new Error(v||"Assertion failed")}function i(D,v){D.super_=v;var S=function(){};S.prototype=v.prototype,D.prototype=new S,D.prototype.constructor=D}function s(D,v,S){if(s.isBN(D))return D;this.negative=0,this.words=null,this.length=0,this.red=null,D!==null&&((v==="le"||v==="be")&&(S=v,v=10),this._init(D||0,v||10,S||"be"))}typeof e=="object"?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=eL.Buffer}catch{}s.isBN=function(v){return v instanceof s?!0:v!==null&&typeof v=="object"&&v.constructor.wordSize===s.wordSize&&Array.isArray(v.words)},s.max=function(v,S){return v.cmp(S)>0?v:S},s.min=function(v,S){return v.cmp(S)<0?v:S},s.prototype._init=function(v,S,_){if(typeof v=="number")return this._initNumber(v,S,_);if(typeof v=="object")return this._initArray(v,S,_);S==="hex"&&(S=16),n(S===(S|0)&&S>=2&&S<=36),v=v.toString().replace(/\s+/g,"");var j=0;v[0]==="-"&&(j++,this.negative=1),j<v.length&&(S===16?this._parseHex(v,j,_):(this._parseBase(v,S,j),_==="le"&&this._initArray(this.toArray(),S,_)))},s.prototype._initNumber=function(v,S,_){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[v&67108863],this.length=1):v<4503599627370496?(this.words=[v&67108863,v/67108864&67108863],this.length=2):(n(v<9007199254740992),this.words=[v&67108863,v/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),S,_)},s.prototype._initArray=function(v,S,_){if(n(typeof v.length=="number"),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var O,z,E=0;if(_==="be")for(j=v.length-1,O=0;j>=0;j-=3)z=v[j]|v[j-1]<<8|v[j-2]<<16,this.words[O]|=z<<E&67108863,this.words[O+1]=z>>>26-E&67108863,E+=24,E>=26&&(E-=26,O++);else if(_==="le")for(j=0,O=0;j<v.length;j+=3)z=v[j]|v[j+1]<<8|v[j+2]<<16,this.words[O]|=z<<E&67108863,this.words[O+1]=z>>>26-E&67108863,E+=24,E>=26&&(E-=26,O++);return this._strip()};function a(D,v){var S=D.charCodeAt(v);if(S>=48&&S<=57)return S-48;if(S>=65&&S<=70)return S-55;if(S>=97&&S<=102)return S-87;n(!1,"Invalid character in "+D)}function u(D,v,S){var _=a(D,S);return S-1>=v&&(_|=a(D,S-1)<<4),_}s.prototype._parseHex=function(v,S,_){this.length=Math.ceil((v.length-S)/6),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var O=0,z=0,E;if(_==="be")for(j=v.length-1;j>=S;j-=2)E=u(v,S,j)<<O,this.words[z]|=E&67108863,O>=18?(O-=18,z+=1,this.words[z]|=E>>>26):O+=8;else{var M=v.length-S;for(j=M%2===0?S+1:S;j<v.length;j+=2)E=u(v,S,j)<<O,this.words[z]|=E&67108863,O>=18?(O-=18,z+=1,this.words[z]|=E>>>26):O+=8}this._strip()};function d(D,v,S,_){for(var j=0,O=0,z=Math.min(D.length,S),E=v;E<z;E++){var M=D.charCodeAt(E)-48;j*=_,M>=49?O=M-49+10:M>=17?O=M-17+10:O=M,n(M>=0&&O<_,"Invalid character"),j+=O}return j}s.prototype._parseBase=function(v,S,_){this.words=[0],this.length=1;for(var j=0,O=1;O<=67108863;O*=S)j++;j--,O=O/S|0;for(var z=v.length-_,E=z%j,M=Math.min(z,z-E)+_,N=0,R=_;R<M;R+=j)N=d(v,R,R+j,S),this.imuln(O),this.words[0]+N<67108864?this.words[0]+=N:this._iaddn(N);if(E!==0){var X=1;for(N=d(v,R,v.length,S),R=0;R<E;R++)X*=S;this.imuln(X),this.words[0]+N<67108864?this.words[0]+=N:this._iaddn(N)}this._strip()},s.prototype.copy=function(v){v.words=new Array(this.length);for(var S=0;S<this.length;S++)v.words[S]=this.words[S];v.length=this.length,v.negative=this.negative,v.red=this.red};function h(D,v){D.words=v.words,D.length=v.length,D.negative=v.negative,D.red=v.red}if(s.prototype._move=function(v){h(v,this)},s.prototype.clone=function(){var v=new s(null);return this.copy(v),v},s.prototype._expand=function(v){for(;this.length<v;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{s.prototype.inspect=p}else s.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(v,S){v=v||10,S=S|0||1;var _;if(v===16||v==="hex"){_="";for(var j=0,O=0,z=0;z<this.length;z++){var E=this.words[z],M=((E<<j|O)&16777215).toString(16);O=E>>>24-j&16777215,j+=2,j>=26&&(j-=26,z--),O!==0||z!==this.length-1?_=y[6-M.length]+M+_:_=M+_}for(O!==0&&(_=O.toString(16)+_);_.length%S!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(v===(v|0)&&v>=2&&v<=36){var N=m[v],R=b[v];_="";var X=this.clone();for(X.negative=0;!X.isZero();){var $=X.modrn(R).toString(v);X=X.idivn(R),X.isZero()?_=$+_:_=y[N-$.length]+$+_}for(this.isZero()&&(_="0"+_);_.length%S!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var v=this.words[0];return this.length===2?v+=this.words[1]*67108864:this.length===3&&this.words[2]===1?v+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-v:v},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(v,S){return this.toArrayLike(o,v,S)}),s.prototype.toArray=function(v,S){return this.toArrayLike(Array,v,S)};var x=function(v,S){return v.allocUnsafe?v.allocUnsafe(S):new v(S)};s.prototype.toArrayLike=function(v,S,_){this._strip();var j=this.byteLength(),O=_||Math.max(1,j);n(j<=O,"byte array longer than desired length"),n(O>0,"Requested array length <= 0");var z=x(v,O),E=S==="le"?"LE":"BE";return this["_toArrayLike"+E](z,j),z},s.prototype._toArrayLikeLE=function(v,S){for(var _=0,j=0,O=0,z=0;O<this.length;O++){var E=this.words[O]<<z|j;v[_++]=E&255,_<v.length&&(v[_++]=E>>8&255),_<v.length&&(v[_++]=E>>16&255),z===6?(_<v.length&&(v[_++]=E>>24&255),j=0,z=0):(j=E>>>24,z+=2)}if(_<v.length)for(v[_++]=j;_<v.length;)v[_++]=0},s.prototype._toArrayLikeBE=function(v,S){for(var _=v.length-1,j=0,O=0,z=0;O<this.length;O++){var E=this.words[O]<<z|j;v[_--]=E&255,_>=0&&(v[_--]=E>>8&255),_>=0&&(v[_--]=E>>16&255),z===6?(_>=0&&(v[_--]=E>>24&255),j=0,z=0):(j=E>>>24,z+=2)}if(_>=0)for(v[_--]=j;_>=0;)v[_--]=0},Math.clz32?s.prototype._countBits=function(v){return 32-Math.clz32(v)}:s.prototype._countBits=function(v){var S=v,_=0;return S>=4096&&(_+=13,S>>>=13),S>=64&&(_+=7,S>>>=7),S>=8&&(_+=4,S>>>=4),S>=2&&(_+=2,S>>>=2),_+S},s.prototype._zeroBits=function(v){if(v===0)return 26;var S=v,_=0;return(S&8191)===0&&(_+=13,S>>>=13),(S&127)===0&&(_+=7,S>>>=7),(S&15)===0&&(_+=4,S>>>=4),(S&3)===0&&(_+=2,S>>>=2),(S&1)===0&&_++,_},s.prototype.bitLength=function(){var v=this.words[this.length-1],S=this._countBits(v);return(this.length-1)*26+S};function w(D){for(var v=new Array(D.bitLength()),S=0;S<v.length;S++){var _=S/26|0,j=S%26;v[S]=D.words[_]>>>j&1}return v}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var v=0,S=0;S<this.length;S++){var _=this._zeroBits(this.words[S]);if(v+=_,_!==26)break}return v},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(v){return this.negative!==0?this.abs().inotn(v).iaddn(1):this.clone()},s.prototype.fromTwos=function(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var S=0;S<v.length;S++)this.words[S]=this.words[S]|v.words[S];return this._strip()},s.prototype.ior=function(v){return n((this.negative|v.negative)===0),this.iuor(v)},s.prototype.or=function(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},s.prototype.uor=function(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},s.prototype.iuand=function(v){var S;this.length>v.length?S=v:S=this;for(var _=0;_<S.length;_++)this.words[_]=this.words[_]&v.words[_];return this.length=S.length,this._strip()},s.prototype.iand=function(v){return n((this.negative|v.negative)===0),this.iuand(v)},s.prototype.and=function(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},s.prototype.uand=function(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},s.prototype.iuxor=function(v){var S,_;this.length>v.length?(S=this,_=v):(S=v,_=this);for(var j=0;j<_.length;j++)this.words[j]=S.words[j]^_.words[j];if(this!==S)for(;j<S.length;j++)this.words[j]=S.words[j];return this.length=S.length,this._strip()},s.prototype.ixor=function(v){return n((this.negative|v.negative)===0),this.iuxor(v)},s.prototype.xor=function(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},s.prototype.uxor=function(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},s.prototype.inotn=function(v){n(typeof v=="number"&&v>=0);var S=Math.ceil(v/26)|0,_=v%26;this._expand(S),_>0&&S--;for(var j=0;j<S;j++)this.words[j]=~this.words[j]&67108863;return _>0&&(this.words[j]=~this.words[j]&67108863>>26-_),this._strip()},s.prototype.notn=function(v){return this.clone().inotn(v)},s.prototype.setn=function(v,S){n(typeof v=="number"&&v>=0);var _=v/26|0,j=v%26;return this._expand(_+1),S?this.words[_]=this.words[_]|1<<j:this.words[_]=this.words[_]&~(1<<j),this._strip()},s.prototype.iadd=function(v){var S;if(this.negative!==0&&v.negative===0)return this.negative=0,S=this.isub(v),this.negative^=1,this._normSign();if(this.negative===0&&v.negative!==0)return v.negative=0,S=this.isub(v),v.negative=1,S._normSign();var _,j;this.length>v.length?(_=this,j=v):(_=v,j=this);for(var O=0,z=0;z<j.length;z++)S=(_.words[z]|0)+(j.words[z]|0)+O,this.words[z]=S&67108863,O=S>>>26;for(;O!==0&&z<_.length;z++)S=(_.words[z]|0)+O,this.words[z]=S&67108863,O=S>>>26;if(this.length=_.length,O!==0)this.words[this.length]=O,this.length++;else if(_!==this)for(;z<_.length;z++)this.words[z]=_.words[z];return this},s.prototype.add=function(v){var S;return v.negative!==0&&this.negative===0?(v.negative=0,S=this.sub(v),v.negative^=1,S):v.negative===0&&this.negative!==0?(this.negative=0,S=v.sub(this),this.negative=1,S):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},s.prototype.isub=function(v){if(v.negative!==0){v.negative=0;var S=this.iadd(v);return v.negative=1,S._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var _=this.cmp(v);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;var j,O;_>0?(j=this,O=v):(j=v,O=this);for(var z=0,E=0;E<O.length;E++)S=(j.words[E]|0)-(O.words[E]|0)+z,z=S>>26,this.words[E]=S&67108863;for(;z!==0&&E<j.length;E++)S=(j.words[E]|0)+z,z=S>>26,this.words[E]=S&67108863;if(z===0&&E<j.length&&j!==this)for(;E<j.length;E++)this.words[E]=j.words[E];return this.length=Math.max(this.length,E),j!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(v){return this.clone().isub(v)};function A(D,v,S){S.negative=v.negative^D.negative;var _=D.length+v.length|0;S.length=_,_=_-1|0;var j=D.words[0]|0,O=v.words[0]|0,z=j*O,E=z&67108863,M=z/67108864|0;S.words[0]=E;for(var N=1;N<_;N++){for(var R=M>>>26,X=M&67108863,$=Math.min(N,v.length-1),Y=Math.max(0,N-D.length+1);Y<=$;Y++){var Q=N-Y|0;j=D.words[Q]|0,O=v.words[Y]|0,z=j*O+X,R+=z/67108864|0,X=z&67108863}S.words[N]=X|0,M=R|0}return M!==0?S.words[N]=M|0:S.length--,S._strip()}var P=function(v,S,_){var j=v.words,O=S.words,z=_.words,E=0,M,N,R,X=j[0]|0,$=X&8191,Y=X>>>13,Q=j[1]|0,Z=Q&8191,te=Q>>>13,ce=j[2]|0,ne=ce&8191,ue=ce>>>13,xe=j[3]|0,ye=xe&8191,Se=xe>>>13,pt=j[4]|0,ae=pt&8191,Ye=pt>>>13,Rt=j[5]|0,Xe=Rt&8191,Ie=Rt>>>13,Gt=j[6]|0,tt=Gt&8191,xt=Gt>>>13,Me=j[7]|0,oe=Me&8191,he=Me>>>13,Oe=j[8]|0,Te=Oe&8191,Re=Oe>>>13,jt=j[9]|0,qe=jt&8191,rt=jt>>>13,Ht=O[0]|0,vt=Ht&8191,ot=Ht>>>13,dr=O[1]|0,bt=dr&8191,Be=dr>>>13,Ir=O[2]|0,Nt=Ir&8191,St=Ir>>>13,or=O[3]|0,Dt=or&8191,De=or>>>13,dt=O[4]|0,it=dt&8191,Pe=dt>>>13,$e=O[5]|0,ze=$e&8191,be=$e>>>13,Fe=O[6]|0,Ne=Fe&8191,Le=Fe>>>13,fr=O[7]|0,Ge=fr&8191,at=fr>>>13,kr=O[8]|0,wt=kr&8191,yt=kr>>>13,Lt=O[9]|0,zt=Lt&8191,mt=Lt>>>13;_.negative=v.negative^S.negative,_.length=19,M=Math.imul($,vt),N=Math.imul($,ot),N=N+Math.imul(Y,vt)|0,R=Math.imul(Y,ot);var Tr=(E+M|0)+((N&8191)<<13)|0;E=(R+(N>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,M=Math.imul(Z,vt),N=Math.imul(Z,ot),N=N+Math.imul(te,vt)|0,R=Math.imul(te,ot),M=M+Math.imul($,bt)|0,N=N+Math.imul($,Be)|0,N=N+Math.imul(Y,bt)|0,R=R+Math.imul(Y,Be)|0;var Mr=(E+M|0)+((N&8191)<<13)|0;E=(R+(N>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,M=Math.imul(ne,vt),N=Math.imul(ne,ot),N=N+Math.imul(ue,vt)|0,R=Math.imul(ue,ot),M=M+Math.imul(Z,bt)|0,N=N+Math.imul(Z,Be)|0,N=N+Math.imul(te,bt)|0,R=R+Math.imul(te,Be)|0,M=M+Math.imul($,Nt)|0,N=N+Math.imul($,St)|0,N=N+Math.imul(Y,Nt)|0,R=R+Math.imul(Y,St)|0;var hr=(E+M|0)+((N&8191)<<13)|0;E=(R+(N>>>13)|0)+(hr>>>26)|0,hr&=67108863,M=Math.imul(ye,vt),N=Math.imul(ye,ot),N=N+Math.imul(Se,vt)|0,R=Math.imul(Se,ot),M=M+Math.imul(ne,bt)|0,N=N+Math.imul(ne,Be)|0,N=N+Math.imul(ue,bt)|0,R=R+Math.imul(ue,Be)|0,M=M+Math.imul(Z,Nt)|0,N=N+Math.imul(Z,St)|0,N=N+Math.imul(te,Nt)|0,R=R+Math.imul(te,St)|0,M=M+Math.imul($,Dt)|0,N=N+Math.imul($,De)|0,N=N+Math.imul(Y,Dt)|0,R=R+Math.imul(Y,De)|0;var vr=(E+M|0)+((N&8191)<<13)|0;E=(R+(N>>>13)|0)+(vr>>>26)|0,vr&=67108863,M=Math.imul(ae,vt),N=Math.imul(ae,ot),N=N+Math.imul(Ye,vt)|0,R=Math.imul(Ye,ot),M=M+Math.imul(ye,bt)|0,N=N+Math.imul(ye,Be)|0,N=N+Math.imul(Se,bt)|0,R=R+Math.imul(Se,Be)|0,M=M+Math.imul(ne,Nt)|0,N=N+Math.imul(ne,St)|0,N=N+Math.imul(ue,Nt)|0,R=R+Math.imul(ue,St)|0,M=M+Math.imul(Z,Dt)|0,N=N+Math.imul(Z,De)|0,N=N+Math.imul(te,Dt)|0,R=R+Math.imul(te,De)|0,M=M+Math.imul($,it)|0,N=N+Math.imul($,Pe)|0,N=N+Math.imul(Y,it)|0,R=R+Math.imul(Y,Pe)|0;var _r=(E+M|0)+((N&8191)<<13)|0;E=(R+(N>>>13)|0)+(_r>>>26)|0,_r&=67108863,M=Math.imul(Xe,vt),N=Math.imul(Xe,ot),N=N+Math.imul(Ie,vt)|0,R=Math.imul(Ie,ot),M=M+Math.imul(ae,bt)|0,N=N+Math.imul(ae,Be)|0,N=N+Math.imul(Ye,bt)|0,R=R+Math.imul(Ye,Be)|0,M=M+Math.imul(ye,Nt)|0,N=N+Math.imul(ye,St)|0,N=N+Math.imul(Se,Nt)|0,R=R+Math.imul(Se,St)|0,M=M+Math.imul(ne,Dt)|0,N=N+Math.imul(ne,De)|0,N=N+Math.imul(ue,Dt)|0,R=R+Math.imul(ue,De)|0,M=M+Math.imul(Z,it)|0,N=N+Math.imul(Z,Pe)|0,N=N+Math.imul(te,it)|0,R=R+Math.imul(te,Pe)|0,M=M+Math.imul($,ze)|0,N=N+Math.imul($,be)|0,N=N+Math.imul(Y,ze)|0,R=R+Math.imul(Y,be)|0;var oi=(E+M|0)+((N&8191)<<13)|0;E=(R+(N>>>13)|0)+(oi>>>26)|0,oi&=67108863,M=Math.imul(tt,vt),N=Math.imul(tt,ot),N=N+Math.imul(xt,vt)|0,R=Math.imul(xt,ot),M=M+Math.imul(Xe,bt)|0,N=N+Math.imul(Xe,Be)|0,N=N+Math.imul(Ie,bt)|0,R=R+Math.imul(Ie,Be)|0,M=M+Math.imul(ae,Nt)|0,N=N+Math.imul(ae,St)|0,N=N+Math.imul(Ye,Nt)|0,R=R+Math.imul(Ye,St)|0,M=M+Math.imul(ye,Dt)|0,N=N+Math.imul(ye,De)|0,N=N+Math.imul(Se,Dt)|0,R=R+Math.imul(Se,De)|0,M=M+Math.imul(ne,it)|0,N=N+Math.imul(ne,Pe)|0,N=N+Math.imul(ue,it)|0,R=R+Math.imul(ue,Pe)|0,M=M+Math.imul(Z,ze)|0,N=N+Math.imul(Z,be)|0,N=N+Math.imul(te,ze)|0,R=R+Math.imul(te,be)|0,M=M+Math.imul($,Ne)|0,N=N+Math.imul($,Le)|0,N=N+Math.imul(Y,Ne)|0,R=R+Math.imul(Y,Le)|0;var Os=(E+M|0)+((N&8191)<<13)|0;E=(R+(N>>>13)|0)+(Os>>>26)|0,Os&=67108863,M=Math.imul(oe,vt),N=Math.imul(oe,ot),N=N+Math.imul(he,vt)|0,R=Math.imul(he,ot),M=M+Math.imul(tt,bt)|0,N=N+Math.imul(tt,Be)|0,N=N+Math.imul(xt,bt)|0,R=R+Math.imul(xt,Be)|0,M=M+Math.imul(Xe,Nt)|0,N=N+Math.imul(Xe,St)|0,N=N+Math.imul(Ie,Nt)|0,R=R+Math.imul(Ie,St)|0,M=M+Math.imul(ae,Dt)|0,N=N+Math.imul(ae,De)|0,N=N+Math.imul(Ye,Dt)|0,R=R+Math.imul(Ye,De)|0,M=M+Math.imul(ye,it)|0,N=N+Math.imul(ye,Pe)|0,N=N+Math.imul(Se,it)|0,R=R+Math.imul(Se,Pe)|0,M=M+Math.imul(ne,ze)|0,N=N+Math.imul(ne,be)|0,N=N+Math.imul(ue,ze)|0,R=R+Math.imul(ue,be)|0,M=M+Math.imul(Z,Ne)|0,N=N+Math.imul(Z,Le)|0,N=N+Math.imul(te,Ne)|0,R=R+Math.imul(te,Le)|0,M=M+Math.imul($,Ge)|0,N=N+Math.imul($,at)|0,N=N+Math.imul(Y,Ge)|0,R=R+Math.imul(Y,at)|0;var Ft=(E+M|0)+((N&8191)<<13)|0;E=(R+(N>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,M=Math.imul(Te,vt),N=Math.imul(Te,ot),N=N+Math.imul(Re,vt)|0,R=Math.imul(Re,ot),M=M+Math.imul(oe,bt)|0,N=N+Math.imul(oe,Be)|0,N=N+Math.imul(he,bt)|0,R=R+Math.imul(he,Be)|0,M=M+Math.imul(tt,Nt)|0,N=N+Math.imul(tt,St)|0,N=N+Math.imul(xt,Nt)|0,R=R+Math.imul(xt,St)|0,M=M+Math.imul(Xe,Dt)|0,N=N+Math.imul(Xe,De)|0,N=N+Math.imul(Ie,Dt)|0,R=R+Math.imul(Ie,De)|0,M=M+Math.imul(ae,it)|0,N=N+Math.imul(ae,Pe)|0,N=N+Math.imul(Ye,it)|0,R=R+Math.imul(Ye,Pe)|0,M=M+Math.imul(ye,ze)|0,N=N+Math.imul(ye,be)|0,N=N+Math.imul(Se,ze)|0,R=R+Math.imul(Se,be)|0,M=M+Math.imul(ne,Ne)|0,N=N+Math.imul(ne,Le)|0,N=N+Math.imul(ue,Ne)|0,R=R+Math.imul(ue,Le)|0,M=M+Math.imul(Z,Ge)|0,N=N+Math.imul(Z,at)|0,N=N+Math.imul(te,Ge)|0,R=R+Math.imul(te,at)|0,M=M+Math.imul($,wt)|0,N=N+Math.imul($,yt)|0,N=N+Math.imul(Y,wt)|0,R=R+Math.imul(Y,yt)|0;var Ar=(E+M|0)+((N&8191)<<13)|0;E=(R+(N>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,M=Math.imul(qe,vt),N=Math.imul(qe,ot),N=N+Math.imul(rt,vt)|0,R=Math.imul(rt,ot),M=M+Math.imul(Te,bt)|0,N=N+Math.imul(Te,Be)|0,N=N+Math.imul(Re,bt)|0,R=R+Math.imul(Re,Be)|0,M=M+Math.imul(oe,Nt)|0,N=N+Math.imul(oe,St)|0,N=N+Math.imul(he,Nt)|0,R=R+Math.imul(he,St)|0,M=M+Math.imul(tt,Dt)|0,N=N+Math.imul(tt,De)|0,N=N+Math.imul(xt,Dt)|0,R=R+Math.imul(xt,De)|0,M=M+Math.imul(Xe,it)|0,N=N+Math.imul(Xe,Pe)|0,N=N+Math.imul(Ie,it)|0,R=R+Math.imul(Ie,Pe)|0,M=M+Math.imul(ae,ze)|0,N=N+Math.imul(ae,be)|0,N=N+Math.imul(Ye,ze)|0,R=R+Math.imul(Ye,be)|0,M=M+Math.imul(ye,Ne)|0,N=N+Math.imul(ye,Le)|0,N=N+Math.imul(Se,Ne)|0,R=R+Math.imul(Se,Le)|0,M=M+Math.imul(ne,Ge)|0,N=N+Math.imul(ne,at)|0,N=N+Math.imul(ue,Ge)|0,R=R+Math.imul(ue,at)|0,M=M+Math.imul(Z,wt)|0,N=N+Math.imul(Z,yt)|0,N=N+Math.imul(te,wt)|0,R=R+Math.imul(te,yt)|0,M=M+Math.imul($,zt)|0,N=N+Math.imul($,mt)|0,N=N+Math.imul(Y,zt)|0,R=R+Math.imul(Y,mt)|0;var gn=(E+M|0)+((N&8191)<<13)|0;E=(R+(N>>>13)|0)+(gn>>>26)|0,gn&=67108863,M=Math.imul(qe,bt),N=Math.imul(qe,Be),N=N+Math.imul(rt,bt)|0,R=Math.imul(rt,Be),M=M+Math.imul(Te,Nt)|0,N=N+Math.imul(Te,St)|0,N=N+Math.imul(Re,Nt)|0,R=R+Math.imul(Re,St)|0,M=M+Math.imul(oe,Dt)|0,N=N+Math.imul(oe,De)|0,N=N+Math.imul(he,Dt)|0,R=R+Math.imul(he,De)|0,M=M+Math.imul(tt,it)|0,N=N+Math.imul(tt,Pe)|0,N=N+Math.imul(xt,it)|0,R=R+Math.imul(xt,Pe)|0,M=M+Math.imul(Xe,ze)|0,N=N+Math.imul(Xe,be)|0,N=N+Math.imul(Ie,ze)|0,R=R+Math.imul(Ie,be)|0,M=M+Math.imul(ae,Ne)|0,N=N+Math.imul(ae,Le)|0,N=N+Math.imul(Ye,Ne)|0,R=R+Math.imul(Ye,Le)|0,M=M+Math.imul(ye,Ge)|0,N=N+Math.imul(ye,at)|0,N=N+Math.imul(Se,Ge)|0,R=R+Math.imul(Se,at)|0,M=M+Math.imul(ne,wt)|0,N=N+Math.imul(ne,yt)|0,N=N+Math.imul(ue,wt)|0,R=R+Math.imul(ue,yt)|0,M=M+Math.imul(Z,zt)|0,N=N+Math.imul(Z,mt)|0,N=N+Math.imul(te,zt)|0,R=R+Math.imul(te,mt)|0;var ns=(E+M|0)+((N&8191)<<13)|0;E=(R+(N>>>13)|0)+(ns>>>26)|0,ns&=67108863,M=Math.imul(qe,Nt),N=Math.imul(qe,St),N=N+Math.imul(rt,Nt)|0,R=Math.imul(rt,St),M=M+Math.imul(Te,Dt)|0,N=N+Math.imul(Te,De)|0,N=N+Math.imul(Re,Dt)|0,R=R+Math.imul(Re,De)|0,M=M+Math.imul(oe,it)|0,N=N+Math.imul(oe,Pe)|0,N=N+Math.imul(he,it)|0,R=R+Math.imul(he,Pe)|0,M=M+Math.imul(tt,ze)|0,N=N+Math.imul(tt,be)|0,N=N+Math.imul(xt,ze)|0,R=R+Math.imul(xt,be)|0,M=M+Math.imul(Xe,Ne)|0,N=N+Math.imul(Xe,Le)|0,N=N+Math.imul(Ie,Ne)|0,R=R+Math.imul(Ie,Le)|0,M=M+Math.imul(ae,Ge)|0,N=N+Math.imul(ae,at)|0,N=N+Math.imul(Ye,Ge)|0,R=R+Math.imul(Ye,at)|0,M=M+Math.imul(ye,wt)|0,N=N+Math.imul(ye,yt)|0,N=N+Math.imul(Se,wt)|0,R=R+Math.imul(Se,yt)|0,M=M+Math.imul(ne,zt)|0,N=N+Math.imul(ne,mt)|0,N=N+Math.imul(ue,zt)|0,R=R+Math.imul(ue,mt)|0;var is=(E+M|0)+((N&8191)<<13)|0;E=(R+(N>>>13)|0)+(is>>>26)|0,is&=67108863,M=Math.imul(qe,Dt),N=Math.imul(qe,De),N=N+Math.imul(rt,Dt)|0,R=Math.imul(rt,De),M=M+Math.imul(Te,it)|0,N=N+Math.imul(Te,Pe)|0,N=N+Math.imul(Re,it)|0,R=R+Math.imul(Re,Pe)|0,M=M+Math.imul(oe,ze)|0,N=N+Math.imul(oe,be)|0,N=N+Math.imul(he,ze)|0,R=R+Math.imul(he,be)|0,M=M+Math.imul(tt,Ne)|0,N=N+Math.imul(tt,Le)|0,N=N+Math.imul(xt,Ne)|0,R=R+Math.imul(xt,Le)|0,M=M+Math.imul(Xe,Ge)|0,N=N+Math.imul(Xe,at)|0,N=N+Math.imul(Ie,Ge)|0,R=R+Math.imul(Ie,at)|0,M=M+Math.imul(ae,wt)|0,N=N+Math.imul(ae,yt)|0,N=N+Math.imul(Ye,wt)|0,R=R+Math.imul(Ye,yt)|0,M=M+Math.imul(ye,zt)|0,N=N+Math.imul(ye,mt)|0,N=N+Math.imul(Se,zt)|0,R=R+Math.imul(Se,mt)|0;var Fi=(E+M|0)+((N&8191)<<13)|0;E=(R+(N>>>13)|0)+(Fi>>>26)|0,Fi&=67108863,M=Math.imul(qe,it),N=Math.imul(qe,Pe),N=N+Math.imul(rt,it)|0,R=Math.imul(rt,Pe),M=M+Math.imul(Te,ze)|0,N=N+Math.imul(Te,be)|0,N=N+Math.imul(Re,ze)|0,R=R+Math.imul(Re,be)|0,M=M+Math.imul(oe,Ne)|0,N=N+Math.imul(oe,Le)|0,N=N+Math.imul(he,Ne)|0,R=R+Math.imul(he,Le)|0,M=M+Math.imul(tt,Ge)|0,N=N+Math.imul(tt,at)|0,N=N+Math.imul(xt,Ge)|0,R=R+Math.imul(xt,at)|0,M=M+Math.imul(Xe,wt)|0,N=N+Math.imul(Xe,yt)|0,N=N+Math.imul(Ie,wt)|0,R=R+Math.imul(Ie,yt)|0,M=M+Math.imul(ae,zt)|0,N=N+Math.imul(ae,mt)|0,N=N+Math.imul(Ye,zt)|0,R=R+Math.imul(Ye,mt)|0;var Tn=(E+M|0)+((N&8191)<<13)|0;E=(R+(N>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,M=Math.imul(qe,ze),N=Math.imul(qe,be),N=N+Math.imul(rt,ze)|0,R=Math.imul(rt,be),M=M+Math.imul(Te,Ne)|0,N=N+Math.imul(Te,Le)|0,N=N+Math.imul(Re,Ne)|0,R=R+Math.imul(Re,Le)|0,M=M+Math.imul(oe,Ge)|0,N=N+Math.imul(oe,at)|0,N=N+Math.imul(he,Ge)|0,R=R+Math.imul(he,at)|0,M=M+Math.imul(tt,wt)|0,N=N+Math.imul(tt,yt)|0,N=N+Math.imul(xt,wt)|0,R=R+Math.imul(xt,yt)|0,M=M+Math.imul(Xe,zt)|0,N=N+Math.imul(Xe,mt)|0,N=N+Math.imul(Ie,zt)|0,R=R+Math.imul(Ie,mt)|0;var Kn=(E+M|0)+((N&8191)<<13)|0;E=(R+(N>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,M=Math.imul(qe,Ne),N=Math.imul(qe,Le),N=N+Math.imul(rt,Ne)|0,R=Math.imul(rt,Le),M=M+Math.imul(Te,Ge)|0,N=N+Math.imul(Te,at)|0,N=N+Math.imul(Re,Ge)|0,R=R+Math.imul(Re,at)|0,M=M+Math.imul(oe,wt)|0,N=N+Math.imul(oe,yt)|0,N=N+Math.imul(he,wt)|0,R=R+Math.imul(he,yt)|0,M=M+Math.imul(tt,zt)|0,N=N+Math.imul(tt,mt)|0,N=N+Math.imul(xt,zt)|0,R=R+Math.imul(xt,mt)|0;var un=(E+M|0)+((N&8191)<<13)|0;E=(R+(N>>>13)|0)+(un>>>26)|0,un&=67108863,M=Math.imul(qe,Ge),N=Math.imul(qe,at),N=N+Math.imul(rt,Ge)|0,R=Math.imul(rt,at),M=M+Math.imul(Te,wt)|0,N=N+Math.imul(Te,yt)|0,N=N+Math.imul(Re,wt)|0,R=R+Math.imul(Re,yt)|0,M=M+Math.imul(oe,zt)|0,N=N+Math.imul(oe,mt)|0,N=N+Math.imul(he,zt)|0,R=R+Math.imul(he,mt)|0;var Yn=(E+M|0)+((N&8191)<<13)|0;E=(R+(N>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,M=Math.imul(qe,wt),N=Math.imul(qe,yt),N=N+Math.imul(rt,wt)|0,R=Math.imul(rt,yt),M=M+Math.imul(Te,zt)|0,N=N+Math.imul(Te,mt)|0,N=N+Math.imul(Re,zt)|0,R=R+Math.imul(Re,mt)|0;var Jn=(E+M|0)+((N&8191)<<13)|0;E=(R+(N>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,M=Math.imul(qe,zt),N=Math.imul(qe,mt),N=N+Math.imul(rt,zt)|0,R=Math.imul(rt,mt);var xa=(E+M|0)+((N&8191)<<13)|0;return E=(R+(N>>>13)|0)+(xa>>>26)|0,xa&=67108863,z[0]=Tr,z[1]=Mr,z[2]=hr,z[3]=vr,z[4]=_r,z[5]=oi,z[6]=Os,z[7]=Ft,z[8]=Ar,z[9]=gn,z[10]=ns,z[11]=is,z[12]=Fi,z[13]=Tn,z[14]=Kn,z[15]=un,z[16]=Yn,z[17]=Jn,z[18]=xa,E!==0&&(z[19]=E,_.length++),_};Math.imul||(P=A);function I(D,v,S){S.negative=v.negative^D.negative,S.length=D.length+v.length;for(var _=0,j=0,O=0;O<S.length-1;O++){var z=j;j=0;for(var E=_&67108863,M=Math.min(O,v.length-1),N=Math.max(0,O-D.length+1);N<=M;N++){var R=O-N,X=D.words[R]|0,$=v.words[N]|0,Y=X*$,Q=Y&67108863;z=z+(Y/67108864|0)|0,Q=Q+E|0,E=Q&67108863,z=z+(Q>>>26)|0,j+=z>>>26,z&=67108863}S.words[O]=E,_=z,z=j}return _!==0?S.words[O]=_:S.length--,S._strip()}function T(D,v,S){return I(D,v,S)}s.prototype.mulTo=function(v,S){var _,j=this.length+v.length;return this.length===10&&v.length===10?_=P(this,v,S):j<63?_=A(this,v,S):j<1024?_=I(this,v,S):_=T(this,v,S),_},s.prototype.mul=function(v){var S=new s(null);return S.words=new Array(this.length+v.length),this.mulTo(v,S)},s.prototype.mulf=function(v){var S=new s(null);return S.words=new Array(this.length+v.length),T(this,v,S)},s.prototype.imul=function(v){return this.clone().mulTo(v,this)},s.prototype.imuln=function(v){var S=v<0;S&&(v=-v),n(typeof v=="number"),n(v<67108864);for(var _=0,j=0;j<this.length;j++){var O=(this.words[j]|0)*v,z=(O&67108863)+(_&67108863);_>>=26,_+=O/67108864|0,_+=z>>>26,this.words[j]=z&67108863}return _!==0&&(this.words[j]=_,this.length++),this.length=v===0?1:this.length,S?this.ineg():this},s.prototype.muln=function(v){return this.clone().imuln(v)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(v){var S=w(v);if(S.length===0)return new s(1);for(var _=this,j=0;j<S.length&&S[j]===0;j++,_=_.sqr());if(++j<S.length)for(var O=_.sqr();j<S.length;j++,O=O.sqr())S[j]!==0&&(_=_.mul(O));return _},s.prototype.iushln=function(v){n(typeof v=="number"&&v>=0);var S=v%26,_=(v-S)/26,j=67108863>>>26-S<<26-S,O;if(S!==0){var z=0;for(O=0;O<this.length;O++){var E=this.words[O]&j,M=(this.words[O]|0)-E<<S;this.words[O]=M|z,z=E>>>26-S}z&&(this.words[O]=z,this.length++)}if(_!==0){for(O=this.length-1;O>=0;O--)this.words[O+_]=this.words[O];for(O=0;O<_;O++)this.words[O]=0;this.length+=_}return this._strip()},s.prototype.ishln=function(v){return n(this.negative===0),this.iushln(v)},s.prototype.iushrn=function(v,S,_){n(typeof v=="number"&&v>=0);var j;S?j=(S-S%26)/26:j=0;var O=v%26,z=Math.min((v-O)/26,this.length),E=67108863^67108863>>>O<<O,M=_;if(j-=z,j=Math.max(0,j),M){for(var N=0;N<z;N++)M.words[N]=this.words[N];M.length=z}if(z!==0)if(this.length>z)for(this.length-=z,N=0;N<this.length;N++)this.words[N]=this.words[N+z];else this.words[0]=0,this.length=1;var R=0;for(N=this.length-1;N>=0&&(R!==0||N>=j);N--){var X=this.words[N]|0;this.words[N]=R<<26-O|X>>>O,R=X&E}return M&&R!==0&&(M.words[M.length++]=R),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(v,S,_){return n(this.negative===0),this.iushrn(v,S,_)},s.prototype.shln=function(v){return this.clone().ishln(v)},s.prototype.ushln=function(v){return this.clone().iushln(v)},s.prototype.shrn=function(v){return this.clone().ishrn(v)},s.prototype.ushrn=function(v){return this.clone().iushrn(v)},s.prototype.testn=function(v){n(typeof v=="number"&&v>=0);var S=v%26,_=(v-S)/26,j=1<<S;if(this.length<=_)return!1;var O=this.words[_];return!!(O&j)},s.prototype.imaskn=function(v){n(typeof v=="number"&&v>=0);var S=v%26,_=(v-S)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(S!==0&&_++,this.length=Math.min(_,this.length),S!==0){var j=67108863^67108863>>>S<<S;this.words[this.length-1]&=j}return this._strip()},s.prototype.maskn=function(v){return this.clone().imaskn(v)},s.prototype.iaddn=function(v){return n(typeof v=="number"),n(v<67108864),v<0?this.isubn(-v):this.negative!==0?this.length===1&&(this.words[0]|0)<=v?(this.words[0]=v-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},s.prototype._iaddn=function(v){this.words[0]+=v;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},s.prototype.isubn=function(v){if(n(typeof v=="number"),n(v<67108864),v<0)return this.iaddn(-v);if(this.negative!==0)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this._strip()},s.prototype.addn=function(v){return this.clone().iaddn(v)},s.prototype.subn=function(v){return this.clone().isubn(v)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(v,S,_){var j=v.length+_,O;this._expand(j);var z,E=0;for(O=0;O<v.length;O++){z=(this.words[O+_]|0)+E;var M=(v.words[O]|0)*S;z-=M&67108863,E=(z>>26)-(M/67108864|0),this.words[O+_]=z&67108863}for(;O<this.length-_;O++)z=(this.words[O+_]|0)+E,E=z>>26,this.words[O+_]=z&67108863;if(E===0)return this._strip();for(n(E===-1),E=0,O=0;O<this.length;O++)z=-(this.words[O]|0)+E,E=z>>26,this.words[O]=z&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(v,S){var _=this.length-v.length,j=this.clone(),O=v,z=O.words[O.length-1]|0,E=this._countBits(z);_=26-E,_!==0&&(O=O.ushln(_),j.iushln(_),z=O.words[O.length-1]|0);var M=j.length-O.length,N;if(S!=="mod"){N=new s(null),N.length=M+1,N.words=new Array(N.length);for(var R=0;R<N.length;R++)N.words[R]=0}var X=j.clone()._ishlnsubmul(O,1,M);X.negative===0&&(j=X,N&&(N.words[M]=1));for(var $=M-1;$>=0;$--){var Y=(j.words[O.length+$]|0)*67108864+(j.words[O.length+$-1]|0);for(Y=Math.min(Y/z|0,67108863),j._ishlnsubmul(O,Y,$);j.negative!==0;)Y--,j.negative=0,j._ishlnsubmul(O,1,$),j.isZero()||(j.negative^=1);N&&(N.words[$]=Y)}return N&&N._strip(),j._strip(),S!=="div"&&_!==0&&j.iushrn(_),{div:N||null,mod:j}},s.prototype.divmod=function(v,S,_){if(n(!v.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var j,O,z;return this.negative!==0&&v.negative===0?(z=this.neg().divmod(v,S),S!=="mod"&&(j=z.div.neg()),S!=="div"&&(O=z.mod.neg(),_&&O.negative!==0&&O.iadd(v)),{div:j,mod:O}):this.negative===0&&v.negative!==0?(z=this.divmod(v.neg(),S),S!=="mod"&&(j=z.div.neg()),{div:j,mod:z.mod}):(this.negative&v.negative)!==0?(z=this.neg().divmod(v.neg(),S),S!=="div"&&(O=z.mod.neg(),_&&O.negative!==0&&O.isub(v)),{div:z.div,mod:O}):v.length>this.length||this.cmp(v)<0?{div:new s(0),mod:this}:v.length===1?S==="div"?{div:this.divn(v.words[0]),mod:null}:S==="mod"?{div:null,mod:new s(this.modrn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new s(this.modrn(v.words[0]))}:this._wordDiv(v,S)},s.prototype.div=function(v){return this.divmod(v,"div",!1).div},s.prototype.mod=function(v){return this.divmod(v,"mod",!1).mod},s.prototype.umod=function(v){return this.divmod(v,"mod",!0).mod},s.prototype.divRound=function(v){var S=this.divmod(v);if(S.mod.isZero())return S.div;var _=S.div.negative!==0?S.mod.isub(v):S.mod,j=v.ushrn(1),O=v.andln(1),z=_.cmp(j);return z<0||O===1&&z===0?S.div:S.div.negative!==0?S.div.isubn(1):S.div.iaddn(1)},s.prototype.modrn=function(v){var S=v<0;S&&(v=-v),n(v<=67108863);for(var _=(1<<26)%v,j=0,O=this.length-1;O>=0;O--)j=(_*j+(this.words[O]|0))%v;return S?-j:j},s.prototype.modn=function(v){return this.modrn(v)},s.prototype.idivn=function(v){var S=v<0;S&&(v=-v),n(v<=67108863);for(var _=0,j=this.length-1;j>=0;j--){var O=(this.words[j]|0)+_*67108864;this.words[j]=O/v|0,_=O%v}return this._strip(),S?this.ineg():this},s.prototype.divn=function(v){return this.clone().idivn(v)},s.prototype.egcd=function(v){n(v.negative===0),n(!v.isZero());var S=this,_=v.clone();S.negative!==0?S=S.umod(v):S=S.clone();for(var j=new s(1),O=new s(0),z=new s(0),E=new s(1),M=0;S.isEven()&&_.isEven();)S.iushrn(1),_.iushrn(1),++M;for(var N=_.clone(),R=S.clone();!S.isZero();){for(var X=0,$=1;(S.words[0]&$)===0&&X<26;++X,$<<=1);if(X>0)for(S.iushrn(X);X-- >0;)(j.isOdd()||O.isOdd())&&(j.iadd(N),O.isub(R)),j.iushrn(1),O.iushrn(1);for(var Y=0,Q=1;(_.words[0]&Q)===0&&Y<26;++Y,Q<<=1);if(Y>0)for(_.iushrn(Y);Y-- >0;)(z.isOdd()||E.isOdd())&&(z.iadd(N),E.isub(R)),z.iushrn(1),E.iushrn(1);S.cmp(_)>=0?(S.isub(_),j.isub(z),O.isub(E)):(_.isub(S),z.isub(j),E.isub(O))}return{a:z,b:E,gcd:_.iushln(M)}},s.prototype._invmp=function(v){n(v.negative===0),n(!v.isZero());var S=this,_=v.clone();S.negative!==0?S=S.umod(v):S=S.clone();for(var j=new s(1),O=new s(0),z=_.clone();S.cmpn(1)>0&&_.cmpn(1)>0;){for(var E=0,M=1;(S.words[0]&M)===0&&E<26;++E,M<<=1);if(E>0)for(S.iushrn(E);E-- >0;)j.isOdd()&&j.iadd(z),j.iushrn(1);for(var N=0,R=1;(_.words[0]&R)===0&&N<26;++N,R<<=1);if(N>0)for(_.iushrn(N);N-- >0;)O.isOdd()&&O.iadd(z),O.iushrn(1);S.cmp(_)>=0?(S.isub(_),j.isub(O)):(_.isub(S),O.isub(j))}var X;return S.cmpn(1)===0?X=j:X=O,X.cmpn(0)<0&&X.iadd(v),X},s.prototype.gcd=function(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var S=this.clone(),_=v.clone();S.negative=0,_.negative=0;for(var j=0;S.isEven()&&_.isEven();j++)S.iushrn(1),_.iushrn(1);do{for(;S.isEven();)S.iushrn(1);for(;_.isEven();)_.iushrn(1);var O=S.cmp(_);if(O<0){var z=S;S=_,_=z}else if(O===0||_.cmpn(1)===0)break;S.isub(_)}while(!0);return _.iushln(j)},s.prototype.invm=function(v){return this.egcd(v).a.umod(v)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(v){return this.words[0]&v},s.prototype.bincn=function(v){n(typeof v=="number");var S=v%26,_=(v-S)/26,j=1<<S;if(this.length<=_)return this._expand(_+1),this.words[_]|=j,this;for(var O=j,z=_;O!==0&&z<this.length;z++){var E=this.words[z]|0;E+=O,O=E>>>26,E&=67108863,this.words[z]=E}return O!==0&&(this.words[z]=O,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(v){var S=v<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;this._strip();var _;if(this.length>1)_=1;else{S&&(v=-v),n(v<=67108863,"Number is too big");var j=this.words[0]|0;_=j===v?0:j<v?-1:1}return this.negative!==0?-_|0:_},s.prototype.cmp=function(v){if(this.negative!==0&&v.negative===0)return-1;if(this.negative===0&&v.negative!==0)return 1;var S=this.ucmp(v);return this.negative!==0?-S|0:S},s.prototype.ucmp=function(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var S=0,_=this.length-1;_>=0;_--){var j=this.words[_]|0,O=v.words[_]|0;if(j!==O){j<O?S=-1:j>O&&(S=1);break}}return S},s.prototype.gtn=function(v){return this.cmpn(v)===1},s.prototype.gt=function(v){return this.cmp(v)===1},s.prototype.gten=function(v){return this.cmpn(v)>=0},s.prototype.gte=function(v){return this.cmp(v)>=0},s.prototype.ltn=function(v){return this.cmpn(v)===-1},s.prototype.lt=function(v){return this.cmp(v)===-1},s.prototype.lten=function(v){return this.cmpn(v)<=0},s.prototype.lte=function(v){return this.cmp(v)<=0},s.prototype.eqn=function(v){return this.cmpn(v)===0},s.prototype.eq=function(v){return this.cmp(v)===0},s.red=function(v){return new K(v)},s.prototype.toRed=function(v){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),v.convertTo(this)._forceRed(v)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(v){return this.red=v,this},s.prototype.forceRed=function(v){return n(!this.red,"Already a number in reduction context"),this._forceRed(v)},s.prototype.redAdd=function(v){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},s.prototype.redIAdd=function(v){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},s.prototype.redSub=function(v){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},s.prototype.redISub=function(v){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},s.prototype.redShl=function(v){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},s.prototype.redMul=function(v){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},s.prototype.redIMul=function(v){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(v){return n(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)};var U={k256:null,p224:null,p192:null,p25519:null};function B(D,v){this.name=D,this.p=new s(v,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B.prototype._tmp=function(){var v=new s(null);return v.words=new Array(Math.ceil(this.n/13)),v},B.prototype.ireduce=function(v){var S=v,_;do this.split(S,this.tmp),S=this.imulK(S),S=S.iadd(this.tmp),_=S.bitLength();while(_>this.n);var j=_<this.n?-1:S.ucmp(this.p);return j===0?(S.words[0]=0,S.length=1):j>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},B.prototype.split=function(v,S){v.iushrn(this.n,0,S)},B.prototype.imulK=function(v){return v.imul(this.k)};function H(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(H,B),H.prototype.split=function(v,S){for(var _=4194303,j=Math.min(v.length,9),O=0;O<j;O++)S.words[O]=v.words[O];if(S.length=j,v.length<=9){v.words[0]=0,v.length=1;return}var z=v.words[9];for(S.words[S.length++]=z&_,O=10;O<v.length;O++){var E=v.words[O]|0;v.words[O-10]=(E&_)<<4|z>>>22,z=E}z>>>=22,v.words[O-10]=z,z===0&&v.length>10?v.length-=10:v.length-=9},H.prototype.imulK=function(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var S=0,_=0;_<v.length;_++){var j=v.words[_]|0;S+=j*977,v.words[_]=S&67108863,S=j*64+(S/67108864|0)}return v.words[v.length-1]===0&&(v.length--,v.words[v.length-1]===0&&v.length--),v};function G(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(G,B);function W(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,B);function V(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(V,B),V.prototype.imulK=function(v){for(var S=0,_=0;_<v.length;_++){var j=(v.words[_]|0)*19+S,O=j&67108863;j>>>=26,v.words[_]=O,S=j}return S!==0&&(v.words[v.length++]=S),v},s._prime=function(v){if(U[v])return U[v];var S;if(v==="k256")S=new H;else if(v==="p224")S=new G;else if(v==="p192")S=new W;else if(v==="p25519")S=new V;else throw new Error("Unknown prime "+v);return U[v]=S,S};function K(D){if(typeof D=="string"){var v=s._prime(D);this.m=v.p,this.prime=v}else n(D.gtn(1),"modulus must be greater than 1"),this.m=D,this.prime=null}K.prototype._verify1=function(v){n(v.negative===0,"red works only with positives"),n(v.red,"red works only with red numbers")},K.prototype._verify2=function(v,S){n((v.negative|S.negative)===0,"red works only with positives"),n(v.red&&v.red===S.red,"red works only with red numbers")},K.prototype.imod=function(v){return this.prime?this.prime.ireduce(v)._forceRed(this):(h(v,v.umod(this.m)._forceRed(this)),v)},K.prototype.neg=function(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},K.prototype.add=function(v,S){this._verify2(v,S);var _=v.add(S);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},K.prototype.iadd=function(v,S){this._verify2(v,S);var _=v.iadd(S);return _.cmp(this.m)>=0&&_.isub(this.m),_},K.prototype.sub=function(v,S){this._verify2(v,S);var _=v.sub(S);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},K.prototype.isub=function(v,S){this._verify2(v,S);var _=v.isub(S);return _.cmpn(0)<0&&_.iadd(this.m),_},K.prototype.shl=function(v,S){return this._verify1(v),this.imod(v.ushln(S))},K.prototype.imul=function(v,S){return this._verify2(v,S),this.imod(v.imul(S))},K.prototype.mul=function(v,S){return this._verify2(v,S),this.imod(v.mul(S))},K.prototype.isqr=function(v){return this.imul(v,v.clone())},K.prototype.sqr=function(v){return this.mul(v,v)},K.prototype.sqrt=function(v){if(v.isZero())return v.clone();var S=this.m.andln(3);if(n(S%2===1),S===3){var _=this.m.add(new s(1)).iushrn(2);return this.pow(v,_)}for(var j=this.m.subn(1),O=0;!j.isZero()&&j.andln(1)===0;)O++,j.iushrn(1);n(!j.isZero());var z=new s(1).toRed(this),E=z.redNeg(),M=this.m.subn(1).iushrn(1),N=this.m.bitLength();for(N=new s(2*N*N).toRed(this);this.pow(N,M).cmp(E)!==0;)N.redIAdd(E);for(var R=this.pow(N,j),X=this.pow(v,j.addn(1).iushrn(1)),$=this.pow(v,j),Y=O;$.cmp(z)!==0;){for(var Q=$,Z=0;Q.cmp(z)!==0;Z++)Q=Q.redSqr();n(Z<Y);var te=this.pow(R,new s(1).iushln(Y-Z-1));X=X.redMul(te),R=te.redSqr(),$=$.redMul(R),Y=Z}return X},K.prototype.invm=function(v){var S=v._invmp(this.m);return S.negative!==0?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},K.prototype.pow=function(v,S){if(S.isZero())return new s(1).toRed(this);if(S.cmpn(1)===0)return v.clone();var _=4,j=new Array(1<<_);j[0]=new s(1).toRed(this),j[1]=v;for(var O=2;O<j.length;O++)j[O]=this.mul(j[O-1],v);var z=j[0],E=0,M=0,N=S.bitLength()%26;for(N===0&&(N=26),O=S.length-1;O>=0;O--){for(var R=S.words[O],X=N-1;X>=0;X--){var $=R>>X&1;if(z!==j[0]&&(z=this.sqr(z)),$===0&&E===0){M=0;continue}E<<=1,E|=$,M++,!(M!==_&&(O!==0||X!==0))&&(z=this.mul(z,j[E]),M=0,E=0)}N=26}return z},K.prototype.convertTo=function(v){var S=v.umod(this.m);return S===v?S.clone():S},K.prototype.convertFrom=function(v){var S=v.clone();return S.red=null,S},s.mont=function(v){return new q(v)};function q(D){K.call(this,D),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(q,K),q.prototype.convertTo=function(v){return this.imod(v.ushln(this.shift))},q.prototype.convertFrom=function(v){var S=this.imod(v.mul(this.rinv));return S.red=null,S},q.prototype.imul=function(v,S){if(v.isZero()||S.isZero())return v.words[0]=0,v.length=1,v;var _=v.imul(S),j=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=_.isub(j).iushrn(this.shift),z=O;return O.cmp(this.m)>=0?z=O.isub(this.m):O.cmpn(0)<0&&(z=O.iadd(this.m)),z._forceRed(this)},q.prototype.mul=function(v,S){if(v.isZero()||S.isZero())return new s(0)._forceRed(this);var _=v.mul(S),j=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=_.isub(j).iushrn(this.shift),z=O;return O.cmp(this.m)>=0?z=O.isub(this.m):O.cmpn(0)<0&&(z=O.iadd(this.m)),z._forceRed(this)},q.prototype.invm=function(v){var S=this.imod(v._invmp(this.m).mul(this.r2));return S._forceRed(this)}})(r,tL)}(l0)),l0.exports}var nL=rL();const Mt=el(nL),iL="logger/5.8.0";let GC=!1,KC=!1;const c0={debug:1,default:2,info:2,warning:3,error:4,off:5};let YC=c0.default,Jv=null;function sL(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(r){return r.message}return null}const JC=sL();var jw;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(jw||(jw={}));var No;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(No||(No={}));const QC="0123456789abcdef";class se{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();c0[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(YC>c0[n])&&console.log.apply(console,t)}debug(...e){this._log(se.levels.DEBUG,e)}info(...e){this._log(se.levels.INFO,e)}warn(...e){this._log(se.levels.WARNING,e)}makeError(e,t,n){if(KC)return this.makeError("censored error",t,{});t||(t=se.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(u=>{const d=n[u];try{if(d instanceof Uint8Array){let h="";for(let p=0;p<d.length;p++)h+=QC[d[p]>>4],h+=QC[d[p]&15];i.push(u+"=Uint8Array(0x"+h+")")}else i.push(u+"="+JSON.stringify(d))}catch{i.push(u+"="+JSON.stringify(n[u].toString()))}}),i.push(`code=${t}`),i.push(`version=${this.version}`);const s=e;let o="";switch(t){case No.NUMERIC_FAULT:{o="NUMERIC_FAULT";const u=e;switch(u){case"overflow":case"underflow":case"division-by-zero":o+="-"+u;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case No.CALL_EXCEPTION:case No.INSUFFICIENT_FUNDS:case No.MISSING_NEW:case No.NONCE_EXPIRED:case No.REPLACEMENT_UNDERPRICED:case No.TRANSACTION_REPLACED:case No.UNPREDICTABLE_GAS_LIMIT:o=t;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=t,Object.keys(n).forEach(function(u){a[u]=n[u]}),a}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,se.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,i){e||this.throwError(t,n,i)}assertArgument(e,t,n,i){e||this.throwArgumentError(t,n,i)}checkNormalize(e){JC&&this.throwError("platform missing String.prototype.normalize",se.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:JC})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,se.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,se.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,se.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,se.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",se.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",se.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",se.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Jv||(Jv=new se(iL)),Jv}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",se.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),GC){if(!e)return;this.globalLogger().throwError("error censorship permanent",se.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}KC=!!e,GC=!!t}static setLogLevel(e){const t=c0[e.toLowerCase()];if(t==null){se.globalLogger().warn("invalid log level - "+e);return}YC=t}static from(e){return new se(e)}}se.errors=No;se.levels=jw;const oL="bytes/5.8.0",an=new se(oL);function xj(r){return!!r.toHexString}function Ld(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return Ld(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function dk(r){return Yt(r)&&!(r.length%2)||vf(r)}function XC(r){return typeof r=="number"&&r==r&&r%1===0}function vf(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!XC(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!XC(t)||t<0||t>=256)return!1}return!0}function Ct(r,e){if(e||(e={}),typeof r=="number"){an.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Ld(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),xj(r)&&(r=r.toHexString()),Yt(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":an.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let i=0;i<t.length;i+=2)n.push(parseInt(t.substring(i,i+2),16));return Ld(new Uint8Array(n))}return vf(r)?Ld(new Uint8Array(r)):an.throwArgumentError("invalid arrayify value","value",r)}function _s(r){const e=r.map(i=>Ct(i)),t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Ld(n)}function Xd(r){let e=Ct(r);if(e.length===0)return e;let t=0;for(;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}function aL(r,e){r=Ct(r),r.length>e&&an.throwArgumentError("value out of range","value",arguments[0]);const t=new Uint8Array(e);return t.set(r,e-r.length),Ld(t)}function Yt(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const Qv="0123456789abcdef";function ft(r,e){if(e||(e={}),typeof r=="number"){an.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=Qv[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),xj(r))return r.toHexString();if(Yt(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":an.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(vf(r)){let t="0x";for(let n=0;n<r.length;n++){let i=r[n];t+=Qv[(i&240)>>4]+Qv[i&15]}return t}return an.throwArgumentError("invalid hexlify value","value",r)}function pu(r){if(typeof r!="string")r=ft(r);else if(!Yt(r)||r.length%2)return null;return(r.length-2)/2}function pi(r,e,t){return typeof r!="string"?r=ft(r):(!Yt(r)||r.length%2)&&an.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}function Ji(r){let e="0x";return r.forEach(t=>{e+=ft(t).substring(2)}),e}function Cy(r){const e=lL(ft(r,{hexPad:"left"}));return e==="0x"?"0x0":e}function lL(r){typeof r!="string"&&(r=ft(r)),Yt(r)||an.throwArgumentError("invalid hex string","value",r),r=r.substring(2);let e=0;for(;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}function Kr(r,e){for(typeof r!="string"?r=ft(r):Yt(r)||an.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&an.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}function Sy(r){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(dk(r)){let t=Ct(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=ft(t.slice(0,32)),e.s=ft(t.slice(32,64))):t.length===65?(e.r=ft(t.slice(0,32)),e.s=ft(t.slice(32,64)),e.v=t[64]):an.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:an.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=ft(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){const i=aL(Ct(e._vs),32);e._vs=ft(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&an.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),i[0]&=127;const o=ft(i);e.s==null?e.s=o:e.s!==o&&an.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?an.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&an.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!Yt(e.r)?an.throwArgumentError("signature missing or invalid r","signature",r):e.r=Kr(e.r,32),e.s==null||!Yt(e.s)?an.throwArgumentError("signature missing or invalid s","signature",r):e.s=Kr(e.s,32);const t=Ct(e.s);t[0]>=128&&an.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(t[0]|=128);const n=ft(t);e._vs&&(Yt(e._vs)||an.throwArgumentError("signature invalid _vs","signature",r),e._vs=Kr(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&an.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const vj="bignumber/5.8.0";var M0=Mt.BN;const Ma=new se(vj),Xv={},ZC=9007199254740991;function cL(r){return r!=null&&(de.isBigNumber(r)||typeof r=="number"&&r%1===0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||Yt(r)||typeof r=="bigint"||vf(r))}let eS=!1;class de{constructor(e,t){e!==Xv&&Ma.throwError("cannot call constructor directly; use BigNumber.from",se.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Vi(sr(this).fromTwos(e))}toTwos(e){return Vi(sr(this).toTwos(e))}abs(){return this._hex[0]==="-"?de.from(this._hex.substring(1)):this}add(e){return Vi(sr(this).add(sr(e)))}sub(e){return Vi(sr(this).sub(sr(e)))}div(e){return de.from(e).isZero()&&qs("division-by-zero","div"),Vi(sr(this).div(sr(e)))}mul(e){return Vi(sr(this).mul(sr(e)))}mod(e){const t=sr(e);return t.isNeg()&&qs("division-by-zero","mod"),Vi(sr(this).umod(t))}pow(e){const t=sr(e);return t.isNeg()&&qs("negative-power","pow"),Vi(sr(this).pow(t))}and(e){const t=sr(e);return(this.isNegative()||t.isNeg())&&qs("unbound-bitwise-result","and"),Vi(sr(this).and(t))}or(e){const t=sr(e);return(this.isNegative()||t.isNeg())&&qs("unbound-bitwise-result","or"),Vi(sr(this).or(t))}xor(e){const t=sr(e);return(this.isNegative()||t.isNeg())&&qs("unbound-bitwise-result","xor"),Vi(sr(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&qs("negative-width","mask"),Vi(sr(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&qs("negative-width","shl"),Vi(sr(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&qs("negative-width","shr"),Vi(sr(this).shrn(e))}eq(e){return sr(this).eq(sr(e))}lt(e){return sr(this).lt(sr(e))}lte(e){return sr(this).lte(sr(e))}gt(e){return sr(this).gt(sr(e))}gte(e){return sr(this).gte(sr(e))}isNegative(){return this._hex[0]==="-"}isZero(){return sr(this).isZero()}toNumber(){try{return sr(this).toNumber()}catch{qs("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ma.throwError("this platform does not support BigInt",se.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?eS||(eS=!0,Ma.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ma.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",se.errors.UNEXPECTED_ARGUMENT,{}):Ma.throwError("BigNumber.toString does not accept parameters",se.errors.UNEXPECTED_ARGUMENT,{})),sr(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof de)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new de(Xv,xp(e)):e.match(/^-?[0-9]+$/)?new de(Xv,xp(new M0(e))):Ma.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&qs("underflow","BigNumber.from",e),(e>=ZC||e<=-ZC)&&qs("overflow","BigNumber.from",e),de.from(String(e));const t=e;if(typeof t=="bigint")return de.from(t.toString());if(vf(t))return de.from(ft(t));if(t)if(t.toHexString){const n=t.toHexString();if(typeof n=="string")return de.from(n)}else{let n=t._hex;if(n==null&&t.type==="BigNumber"&&(n=t.hex),typeof n=="string"&&(Yt(n)||n[0]==="-"&&Yt(n.substring(1))))return de.from(n)}return Ma.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function xp(r){if(typeof r!="string")return xp(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&Ma.throwArgumentError("invalid hex","value",r),r=xp(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function Vi(r){return de.from(xp(r))}function sr(r){const e=de.from(r).toHexString();return e[0]==="-"?new M0("-"+e.substring(3),16):new M0(e.substring(2),16)}function qs(r,e,t){const n={fault:r,operation:e};return t!=null&&(n.value=t),Ma.throwError(r,se.errors.NUMERIC_FAULT,n)}function uL(r){return new M0(r,36).toString(16)}const Mi=new se(vj),Hh={},bj=de.from(0),wj=de.from(-1);function kj(r,e,t,n){const i={fault:e,operation:t};return n!==void 0&&(i.value=n),Mi.throwError(r,se.errors.NUMERIC_FAULT,i)}let Vh="0";for(;Vh.length<256;)Vh+=Vh;function fk(r){if(typeof r!="number")try{r=de.from(r).toNumber()}catch{}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+Vh.substring(0,r):Mi.throwArgumentError("invalid decimal size","decimals",r)}function u0(r,e){e==null&&(e=0);const t=fk(e);r=de.from(r);const n=r.lt(bj);n&&(r=r.mul(wj));let i=r.mod(t).toString();for(;i.length<t.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=r.div(t).toString();return t.length===1?r=s:r=s+"."+i,n&&(r="-"+r),r}function Yo(r,e){e==null&&(e=0);const t=fk(e);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&Mi.throwArgumentError("invalid decimal value","value",r);const n=r.substring(0,1)==="-";n&&(r=r.substring(1)),r==="."&&Mi.throwArgumentError("missing value","value",r);const i=r.split(".");i.length>2&&Mi.throwArgumentError("too many decimal points","value",r);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>t.length-1&&kj("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<t.length-1;)o+="0";const a=de.from(s),u=de.from(o);let d=a.mul(t).add(u);return n&&(d=d.mul(wj)),d}class zd{constructor(e,t,n,i){e!==Hh&&Mi.throwError("cannot use FixedFormat constructor; use FixedFormat.from",se.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=n,this.decimals=i,this.name=(t?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=fk(i),Object.freeze(this)}static from(e){if(e instanceof zd)return e;typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Mi.throwArgumentError("invalid fixed format","format",e),t=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,u)=>e[o]==null?u:(typeof e[o]!==a&&Mi.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);t=s("signed","boolean",t),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&Mi.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&Mi.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new zd(Hh,t,n,i)}}class ei{constructor(e,t,n,i){e!==Hh&&Mi.throwError("cannot use FixedNumber constructor; use FixedNumber.from",se.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=t,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Mi.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=Yo(this._value,this.format.decimals),n=Yo(e._value,e.format.decimals);return ei.fromValue(t.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=Yo(this._value,this.format.decimals),n=Yo(e._value,e.format.decimals);return ei.fromValue(t.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=Yo(this._value,this.format.decimals),n=Yo(e._value,e.format.decimals);return ei.fromValue(t.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=Yo(this._value,this.format.decimals),n=Yo(e._value,e.format.decimals);return ei.fromValue(t.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=ei.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(t=t.subUnsafe(tS.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=ei.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(t=t.addUnsafe(tS.toFormat(t.format))),t}round(e){e==null&&(e=0);const t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&Mi.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const n=ei.from("1"+Vh.substring(0,e),this.format),i=dL.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Mi.throwArgumentError("invalid byte width","width",e);const t=de.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Kr(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return ei.fromString(this._value,e)}static fromValue(e,t,n){return n==null&&t!=null&&!cL(t)&&(n=t,t=null),t==null&&(t=0),n==null&&(n="fixed"),ei.fromString(u0(e,t),zd.from(n))}static fromString(e,t){t==null&&(t="fixed");const n=zd.from(t),i=Yo(e,n.decimals);!n.signed&&i.lt(bj)&&kj("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=Kr(s,n.width/8));const o=u0(i,n.decimals);return new ei(Hh,s,o,n)}static fromBytes(e,t){t==null&&(t="fixed");const n=zd.from(t);if(Ct(e).length>n.width/8)throw new Error("overflow");let i=de.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=u0(i,n.decimals);return new ei(Hh,s,o,n)}static from(e,t){if(typeof e=="string")return ei.fromString(e,t);if(vf(e))return ei.fromBytes(e,t);try{return ei.fromValue(e,0,t)}catch(n){if(n.code!==se.errors.INVALID_ARGUMENT)throw n}return Mi.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const tS=ei.from(1),dL=ei.from("0.5"),fL="properties/5.8.0";var hL=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{d(n.next(h))}catch(p){o(p)}}function u(h){try{d(n.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):i(h.value).then(a,u)}d((n=n.apply(r,e||[])).next())})};const O0=new se(fL);function ke(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}function Es(r,e){for(let t=0;t<32;t++){if(r[e])return r[e];if(!r.prototype||typeof r.prototype!="object")break;r=Object.getPrototypeOf(r.prototype).constructor}return null}function wn(r){return hL(this,void 0,void 0,function*(){const e=Object.keys(r).map(n=>{const i=r[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function pL(r,e){(!r||typeof r!="object")&&O0.throwArgumentError("invalid object","object",r),Object.keys(r).forEach(t=>{e[t]||O0.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)})}function Gr(r){const e={};for(const t in r)e[t]=r[t];return e}const mL={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function _j(r){if(r==null||mL[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;const e=Object.keys(r);for(let t=0;t<e.length;t++){let n=null;try{n=r[e[t]]}catch{continue}if(!_j(n))return!1}return!0}return O0.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function gL(r){if(_j(r))return r;if(Array.isArray(r))return Object.freeze(r.map(e=>Ns(e)));if(typeof r=="object"){const e={};for(const t in r){const n=r[t];n!==void 0&&ke(e,t,Ns(n))}return e}return O0.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function Ns(r){return gL(r)}class Yp{constructor(e){for(const t in e)this[t]=Ns(e[t])}}const Jp="abi/5.8.0",ar=new se(Jp),mu={};let rS={calldata:!0,memory:!0,storage:!0},yL={calldata:!0,memory:!0};function mg(r,e){if(r==="bytes"||r==="string"){if(rS[e])return!0}else if(r==="address"){if(e==="payable")return!0}else if((r.indexOf("[")>=0||r==="tuple")&&yL[e])return!0;return(rS[e]||e==="payable")&&ar.throwArgumentError("invalid modifier","name",e),!1}function xL(r,e){let t=r;function n(a){ar.throwArgumentError(`unexpected character at position ${a}`,"param",r)}r=r.replace(/\s/g," ");function i(a){let u={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(u.indexed=!1),u}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<r.length;a++){let u=r[a];switch(u){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=kd(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),mg(o.type,o.name)&&(o.name=""),o.type=kd(o.type);let d=o;o=o.parent,o||n(a),delete d.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),mg(o.type,o.name)&&(o.name=""),o.type=kd(o.type);let h=i(o.parent);o.parent.components.push(h),delete o.parent,o=h;break;case" ":o.state.allowType&&o.type!==""&&(o.type=kd(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):mg(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=u,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=u,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=u,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=u,delete o.state.allowArray):o.state.readArray?o.type+=u:n(a)}}return o.parent&&ar.throwArgumentError("unexpected eof","param",r),delete s.state,o.name==="indexed"?(e||n(t.length-7),o.indexed&&n(t.length-7),o.indexed=!0,o.name=""):mg(o.type,o.name)&&(o.name=""),s.type=kd(s.type),s}function d0(r,e){for(let t in e)ke(r,t,e[t])}const xr=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),vL=new RegExp(/^(.*)\[([0-9]*)\]$/);class qn{constructor(e,t){e!==mu&&ar.throwError("use fromString",se.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),d0(this,t);let n=this.type.match(vL);n?d0(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:qn.fromObject({type:n[1],components:this.components}),baseType:"array"}):d0(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=xr.sighash),xr[e]||ar.throwArgumentError("invalid format type","format",e),e===xr.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let t="";return this.baseType==="array"?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==xr.sighash&&(t+=this.type),t+="("+this.components.map(n=>n.format(e)).join(e===xr.full?", ":",")+")"):t+=this.type,e!==xr.sighash&&(this.indexed===!0&&(t+=" indexed"),e===xr.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return typeof e=="string"?qn.fromString(e,t):qn.fromObject(e)}static fromObject(e){return qn.isParamType(e)?e:new qn(mu,{name:e.name||null,type:kd(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(qn.fromObject):null})}static fromString(e,t){function n(i){return qn.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(xL(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function vp(r,e){return wL(r).map(t=>qn.fromString(t,e))}class Wa{constructor(e,t){e!==mu&&ar.throwError("use a static from method",se.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),d0(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return Wa.isFragment(e)?e:typeof e=="string"?Wa.fromString(e):Wa.fromObject(e)}static fromObject(e){if(Wa.isFragment(e))return e;switch(e.type){case"function":return na.fromObject(e);case"event":return $a.fromObject(e);case"constructor":return ra.fromObject(e);case"error":return Ol.fromObject(e);case"fallback":case"receive":return null}return ar.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?$a.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?na.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?ra.fromString(e.trim()):e.split(" ")[0]==="error"?Ol.fromString(e.substring(5).trim()):ar.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class $a extends Wa{format(e){if(e||(e=xr.sighash),xr[e]||ar.throwArgumentError("invalid format type","format",e),e===xr.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==xr.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===xr.full?", ":",")+") ",e!==xr.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return typeof e=="string"?$a.fromString(e):$a.fromObject(e)}static fromObject(e){if($a.isEventFragment(e))return e;e.type!=="event"&&ar.throwArgumentError("invalid event object","value",e);const t={name:bp(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(qn.fromObject):[],type:"event"};return new $a(mu,t)}static fromString(e){let t=e.match(wp);t||ar.throwArgumentError("invalid event string","value",e);let n=!1;return t[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:ar.warn("unknown modifier: "+i)}}),$a.fromObject({name:t[1].trim(),anonymous:n,inputs:vp(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function Ej(r,e){e.gas=null;let t=r.split("@");return t.length!==1?(t.length>2&&ar.throwArgumentError("invalid human-readable ABI signature","value",r),t[1].match(/^[0-9]+$/)||ar.throwArgumentError("invalid human-readable ABI signature gas","value",r),e.gas=de.from(t[1]),t[0]):r}function Cj(r,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",r.split(" ").forEach(t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}})}function Sj(r){let e={constant:!1,payable:!0,stateMutability:"payable"};return r.stateMutability!=null?(e.stateMutability=r.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",r.constant!=null&&!!r.constant!==e.constant&&ar.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",r),e.payable=e.stateMutability==="payable",r.payable!=null&&!!r.payable!==e.payable&&ar.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",r)):r.payable!=null?(e.payable=!!r.payable,r.constant==null&&!e.payable&&r.type!=="constructor"&&ar.throwArgumentError("unable to determine stateMutability","value",r),e.constant=!!r.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&ar.throwArgumentError("cannot have constant payable function","value",r)):r.constant!=null?(e.constant=!!r.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):r.type!=="constructor"&&ar.throwArgumentError("unable to determine stateMutability","value",r),e}class ra extends Wa{format(e){if(e||(e=xr.sighash),xr[e]||ar.throwArgumentError("invalid format type","format",e),e===xr.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===xr.sighash&&ar.throwError("cannot format a constructor for sighash",se.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(n=>n.format(e)).join(e===xr.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "),t.trim()}static from(e){return typeof e=="string"?ra.fromString(e):ra.fromObject(e)}static fromObject(e){if(ra.isConstructorFragment(e))return e;e.type!=="constructor"&&ar.throwArgumentError("invalid constructor object","value",e);let t=Sj(e);t.constant&&ar.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(qn.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?de.from(e.gas):null};return new ra(mu,n)}static fromString(e){let t={type:"constructor"};e=Ej(e,t);let n=e.match(wp);return(!n||n[1].trim()!=="constructor")&&ar.throwArgumentError("invalid constructor string","value",e),t.inputs=vp(n[2].trim(),!1),Cj(n[3].trim(),t),ra.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class na extends ra{format(e){if(e||(e=xr.sighash),xr[e]||ar.throwArgumentError("invalid format type","format",e),e===xr.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==xr.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===xr.full?", ":",")+") ",e!==xr.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return typeof e=="string"?na.fromString(e):na.fromObject(e)}static fromObject(e){if(na.isFunctionFragment(e))return e;e.type!=="function"&&ar.throwArgumentError("invalid function object","value",e);let t=Sj(e);const n={type:e.type,name:bp(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(qn.fromObject):[],outputs:e.outputs?e.outputs.map(qn.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?de.from(e.gas):null};return new na(mu,n)}static fromString(e){let t={type:"function"};e=Ej(e,t);let n=e.split(" returns ");n.length>2&&ar.throwArgumentError("invalid function string","value",e);let i=n[0].match(wp);if(i||ar.throwArgumentError("invalid function signature","value",e),t.name=i[1].trim(),t.name&&bp(t.name),t.inputs=vp(i[2],!1),Cj(i[3].trim(),t),n.length>1){let s=n[1].match(wp);(s[1].trim()!=""||s[3].trim()!="")&&ar.throwArgumentError("unexpected tokens","value",e),t.outputs=vp(s[2],!1)}else t.outputs=[];return na.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function nS(r){const e=r.format();return(e==="Error(string)"||e==="Panic(uint256)")&&ar.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",r),r}class Ol extends Wa{format(e){if(e||(e=xr.sighash),xr[e]||ar.throwArgumentError("invalid format type","format",e),e===xr.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==xr.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===xr.full?", ":",")+") ",t.trim()}static from(e){return typeof e=="string"?Ol.fromString(e):Ol.fromObject(e)}static fromObject(e){if(Ol.isErrorFragment(e))return e;e.type!=="error"&&ar.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:bp(e.name),inputs:e.inputs?e.inputs.map(qn.fromObject):[]};return nS(new Ol(mu,t))}static fromString(e){let t={type:"error"},n=e.match(wp);return n||ar.throwArgumentError("invalid error signature","value",e),t.name=n[1].trim(),t.name&&bp(t.name),t.inputs=vp(n[2],!1),nS(Ol.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function kd(r){return r.match(/^uint($|[^1-9])/)?r="uint256"+r.substring(4):r.match(/^int($|[^1-9])/)&&(r="int256"+r.substring(3)),r}const bL=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function bp(r){return(!r||!r.match(bL))&&ar.throwArgumentError(`invalid identifier "${r}"`,"value",r),r}const wp=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function wL(r){r=r.trim();let e=[],t="",n=0;for(let i=0;i<r.length;i++){let s=r[i];s===","&&n===0?(e.push(t),t=""):(t+=s,s==="("?n++:s===")"&&(n--,n===-1&&ar.throwArgumentError("unbalanced parenthesis","value",r)))}return t&&e.push(t),e}const hk=new se(Jp);function kL(r){const e=[],t=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{t(o,i[s])}catch(a){e.push({path:o,error:a})}}};return t([],r),e}class tl{constructor(e,t,n,i){this.name=e,this.type=t,this.localName=n,this.dynamic=i}_throwError(e,t){hk.throwArgumentError(e,this.localName,t)}}class Pw{constructor(e){ke(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Ji(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(_s(e._data))}writeBytes(e){let t=Ct(e);const n=t.length%this.wordSize;return n&&(t=_s([t,this._padding.slice(n)])),this._writeData(t)}_getValue(e){let t=Ct(de.from(e));return t.length>this.wordSize&&hk.throwError("value out-of-bounds",se.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=_s([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class D0{constructor(e,t,n,i){ke(this,"_data",Ct(e)),ke(this,"wordSize",t||32),ke(this,"_coerceFunc",n),ke(this,"allowLoose",i),this._offset=0}get data(){return ft(this._data)}get consumed(){return this._offset}static coerce(e,t){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):D0.coerce(e,t)}_peekBytes(e,t,n){let i=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+t<=this._data.length?i=t:hk.throwError("data out-of-bounds",se.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new D0(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let n=this._peekBytes(0,e,!!t);return this._offset+=n.length,n.slice(0,e)}readValue(){return de.from(this.readBytes(this.wordSize))}}var Zv={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */var iS;function _L(){return iS||(iS=1,function(r){(function(){var e="input is invalid type",t="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=BD:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&r.exports,u=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",d="0123456789abcdef".split(""),h=[31,7936,2031616,520093696],p=[4,1024,262144,67108864],y=[1,256,65536,16777216],m=[6,1536,393216,100663296],b=[0,8,16,24],x=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],w=[224,256,384,512],A=[128,256],P=["hex","buffer","arrayBuffer","array","digest"],I={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function($){return Object.prototype.toString.call($)==="[object Array]"}),u&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function($){return typeof $=="object"&&$.buffer&&$.buffer.constructor===ArrayBuffer});for(var T=function($,Y,Q){return function(Z){return new N($,Y,$).update(Z)[Q]()}},U=function($,Y,Q){return function(Z,te){return new N($,Y,te).update(Z)[Q]()}},B=function($,Y,Q){return function(Z,te,ce,ne){return v["cshake"+$].update(Z,te,ce,ne)[Q]()}},H=function($,Y,Q){return function(Z,te,ce,ne){return v["kmac"+$].update(Z,te,ce,ne)[Q]()}},G=function($,Y,Q,Z){for(var te=0;te<P.length;++te){var ce=P[te];$[ce]=Y(Q,Z,ce)}return $},W=function($,Y){var Q=T($,Y,"hex");return Q.create=function(){return new N($,Y,$)},Q.update=function(Z){return Q.create().update(Z)},G(Q,T,$,Y)},V=function($,Y){var Q=U($,Y,"hex");return Q.create=function(Z){return new N($,Y,Z)},Q.update=function(Z,te){return Q.create(te).update(Z)},G(Q,U,$,Y)},K=function($,Y){var Q=I[$],Z=B($,Y,"hex");return Z.create=function(te,ce,ne){return!ce&&!ne?v["shake"+$].create(te):new N($,Y,te).bytepad([ce,ne],Q)},Z.update=function(te,ce,ne,ue){return Z.create(ce,ne,ue).update(te)},G(Z,B,$,Y)},q=function($,Y){var Q=I[$],Z=H($,Y,"hex");return Z.create=function(te,ce,ne){return new R($,Y,ce).bytepad(["KMAC",ne],Q).bytepad([te],Q)},Z.update=function(te,ce,ne,ue){return Z.create(te,ne,ue).update(ce)},G(Z,H,$,Y)},D=[{name:"keccak",padding:y,bits:w,createMethod:W},{name:"sha3",padding:m,bits:w,createMethod:W},{name:"shake",padding:h,bits:A,createMethod:V},{name:"cshake",padding:p,bits:A,createMethod:K},{name:"kmac",padding:p,bits:A,createMethod:q}],v={},S=[],_=0;_<D.length;++_)for(var j=D[_],O=j.bits,z=0;z<O.length;++z){var E=j.name+"_"+O[z];if(S.push(E),v[E]=j.createMethod(O[z],j.padding),j.name!=="sha3"){var M=j.name+O[z];S.push(M),v[M]=v[E]}}function N($,Y,Q){this.blocks=[],this.s=[],this.padding=Y,this.outputBits=Q,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-($<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Q>>5,this.extraBytes=(Q&31)>>3;for(var Z=0;Z<50;++Z)this.s[Z]=0}N.prototype.update=function($){if(this.finalized)throw new Error(t);var Y,Q=typeof $;if(Q!=="string"){if(Q==="object"){if($===null)throw new Error(e);if(u&&$.constructor===ArrayBuffer)$=new Uint8Array($);else if(!Array.isArray($)&&(!u||!ArrayBuffer.isView($)))throw new Error(e)}else throw new Error(e);Y=!0}for(var Z=this.blocks,te=this.byteCount,ce=$.length,ne=this.blockCount,ue=0,xe=this.s,ye,Se;ue<ce;){if(this.reset)for(this.reset=!1,Z[0]=this.block,ye=1;ye<ne+1;++ye)Z[ye]=0;if(Y)for(ye=this.start;ue<ce&&ye<te;++ue)Z[ye>>2]|=$[ue]<<b[ye++&3];else for(ye=this.start;ue<ce&&ye<te;++ue)Se=$.charCodeAt(ue),Se<128?Z[ye>>2]|=Se<<b[ye++&3]:Se<2048?(Z[ye>>2]|=(192|Se>>6)<<b[ye++&3],Z[ye>>2]|=(128|Se&63)<<b[ye++&3]):Se<55296||Se>=57344?(Z[ye>>2]|=(224|Se>>12)<<b[ye++&3],Z[ye>>2]|=(128|Se>>6&63)<<b[ye++&3],Z[ye>>2]|=(128|Se&63)<<b[ye++&3]):(Se=65536+((Se&1023)<<10|$.charCodeAt(++ue)&1023),Z[ye>>2]|=(240|Se>>18)<<b[ye++&3],Z[ye>>2]|=(128|Se>>12&63)<<b[ye++&3],Z[ye>>2]|=(128|Se>>6&63)<<b[ye++&3],Z[ye>>2]|=(128|Se&63)<<b[ye++&3]);if(this.lastByteIndex=ye,ye>=te){for(this.start=ye-te,this.block=Z[ne],ye=0;ye<ne;++ye)xe[ye]^=Z[ye];X(xe),this.reset=!0}else this.start=ye}return this},N.prototype.encode=function($,Y){var Q=$&255,Z=1,te=[Q];for($=$>>8,Q=$&255;Q>0;)te.unshift(Q),$=$>>8,Q=$&255,++Z;return Y?te.push(Z):te.unshift(Z),this.update(te),te.length},N.prototype.encodeString=function($){var Y,Q=typeof $;if(Q!=="string"){if(Q==="object"){if($===null)throw new Error(e);if(u&&$.constructor===ArrayBuffer)$=new Uint8Array($);else if(!Array.isArray($)&&(!u||!ArrayBuffer.isView($)))throw new Error(e)}else throw new Error(e);Y=!0}var Z=0,te=$.length;if(Y)Z=te;else for(var ce=0;ce<$.length;++ce){var ne=$.charCodeAt(ce);ne<128?Z+=1:ne<2048?Z+=2:ne<55296||ne>=57344?Z+=3:(ne=65536+((ne&1023)<<10|$.charCodeAt(++ce)&1023),Z+=4)}return Z+=this.encode(Z*8),this.update($),Z},N.prototype.bytepad=function($,Y){for(var Q=this.encode(Y),Z=0;Z<$.length;++Z)Q+=this.encodeString($[Z]);var te=Y-Q%Y,ce=[];return ce.length=te,this.update(ce),this},N.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var $=this.blocks,Y=this.lastByteIndex,Q=this.blockCount,Z=this.s;if($[Y>>2]|=this.padding[Y&3],this.lastByteIndex===this.byteCount)for($[0]=$[Q],Y=1;Y<Q+1;++Y)$[Y]=0;for($[Q-1]|=2147483648,Y=0;Y<Q;++Y)Z[Y]^=$[Y];X(Z)}},N.prototype.toString=N.prototype.hex=function(){this.finalize();for(var $=this.blockCount,Y=this.s,Q=this.outputBlocks,Z=this.extraBytes,te=0,ce=0,ne="",ue;ce<Q;){for(te=0;te<$&&ce<Q;++te,++ce)ue=Y[te],ne+=d[ue>>4&15]+d[ue&15]+d[ue>>12&15]+d[ue>>8&15]+d[ue>>20&15]+d[ue>>16&15]+d[ue>>28&15]+d[ue>>24&15];ce%$===0&&(X(Y),te=0)}return Z&&(ue=Y[te],ne+=d[ue>>4&15]+d[ue&15],Z>1&&(ne+=d[ue>>12&15]+d[ue>>8&15]),Z>2&&(ne+=d[ue>>20&15]+d[ue>>16&15])),ne},N.prototype.arrayBuffer=function(){this.finalize();var $=this.blockCount,Y=this.s,Q=this.outputBlocks,Z=this.extraBytes,te=0,ce=0,ne=this.outputBits>>3,ue;Z?ue=new ArrayBuffer(Q+1<<2):ue=new ArrayBuffer(ne);for(var xe=new Uint32Array(ue);ce<Q;){for(te=0;te<$&&ce<Q;++te,++ce)xe[ce]=Y[te];ce%$===0&&X(Y)}return Z&&(xe[te]=Y[te],ue=ue.slice(0,ne)),ue},N.prototype.buffer=N.prototype.arrayBuffer,N.prototype.digest=N.prototype.array=function(){this.finalize();for(var $=this.blockCount,Y=this.s,Q=this.outputBlocks,Z=this.extraBytes,te=0,ce=0,ne=[],ue,xe;ce<Q;){for(te=0;te<$&&ce<Q;++te,++ce)ue=ce<<2,xe=Y[te],ne[ue]=xe&255,ne[ue+1]=xe>>8&255,ne[ue+2]=xe>>16&255,ne[ue+3]=xe>>24&255;ce%$===0&&X(Y)}return Z&&(ue=ce<<2,xe=Y[te],ne[ue]=xe&255,Z>1&&(ne[ue+1]=xe>>8&255),Z>2&&(ne[ue+2]=xe>>16&255)),ne};function R($,Y,Q){N.call(this,$,Y,Q)}R.prototype=new N,R.prototype.finalize=function(){return this.encode(this.outputBits,!0),N.prototype.finalize.call(this)};var X=function($){var Y,Q,Z,te,ce,ne,ue,xe,ye,Se,pt,ae,Ye,Rt,Xe,Ie,Gt,tt,xt,Me,oe,he,Oe,Te,Re,jt,qe,rt,Ht,vt,ot,dr,bt,Be,Ir,Nt,St,or,Dt,De,dt,it,Pe,$e,ze,be,Fe,Ne,Le,fr,Ge,at,kr,wt,yt,Lt,zt,mt,Tr,Mr,hr,vr,_r;for(Z=0;Z<48;Z+=2)te=$[0]^$[10]^$[20]^$[30]^$[40],ce=$[1]^$[11]^$[21]^$[31]^$[41],ne=$[2]^$[12]^$[22]^$[32]^$[42],ue=$[3]^$[13]^$[23]^$[33]^$[43],xe=$[4]^$[14]^$[24]^$[34]^$[44],ye=$[5]^$[15]^$[25]^$[35]^$[45],Se=$[6]^$[16]^$[26]^$[36]^$[46],pt=$[7]^$[17]^$[27]^$[37]^$[47],ae=$[8]^$[18]^$[28]^$[38]^$[48],Ye=$[9]^$[19]^$[29]^$[39]^$[49],Y=ae^(ne<<1|ue>>>31),Q=Ye^(ue<<1|ne>>>31),$[0]^=Y,$[1]^=Q,$[10]^=Y,$[11]^=Q,$[20]^=Y,$[21]^=Q,$[30]^=Y,$[31]^=Q,$[40]^=Y,$[41]^=Q,Y=te^(xe<<1|ye>>>31),Q=ce^(ye<<1|xe>>>31),$[2]^=Y,$[3]^=Q,$[12]^=Y,$[13]^=Q,$[22]^=Y,$[23]^=Q,$[32]^=Y,$[33]^=Q,$[42]^=Y,$[43]^=Q,Y=ne^(Se<<1|pt>>>31),Q=ue^(pt<<1|Se>>>31),$[4]^=Y,$[5]^=Q,$[14]^=Y,$[15]^=Q,$[24]^=Y,$[25]^=Q,$[34]^=Y,$[35]^=Q,$[44]^=Y,$[45]^=Q,Y=xe^(ae<<1|Ye>>>31),Q=ye^(Ye<<1|ae>>>31),$[6]^=Y,$[7]^=Q,$[16]^=Y,$[17]^=Q,$[26]^=Y,$[27]^=Q,$[36]^=Y,$[37]^=Q,$[46]^=Y,$[47]^=Q,Y=Se^(te<<1|ce>>>31),Q=pt^(ce<<1|te>>>31),$[8]^=Y,$[9]^=Q,$[18]^=Y,$[19]^=Q,$[28]^=Y,$[29]^=Q,$[38]^=Y,$[39]^=Q,$[48]^=Y,$[49]^=Q,Rt=$[0],Xe=$[1],be=$[11]<<4|$[10]>>>28,Fe=$[10]<<4|$[11]>>>28,rt=$[20]<<3|$[21]>>>29,Ht=$[21]<<3|$[20]>>>29,Mr=$[31]<<9|$[30]>>>23,hr=$[30]<<9|$[31]>>>23,it=$[40]<<18|$[41]>>>14,Pe=$[41]<<18|$[40]>>>14,Be=$[2]<<1|$[3]>>>31,Ir=$[3]<<1|$[2]>>>31,Ie=$[13]<<12|$[12]>>>20,Gt=$[12]<<12|$[13]>>>20,Ne=$[22]<<10|$[23]>>>22,Le=$[23]<<10|$[22]>>>22,vt=$[33]<<13|$[32]>>>19,ot=$[32]<<13|$[33]>>>19,vr=$[42]<<2|$[43]>>>30,_r=$[43]<<2|$[42]>>>30,wt=$[5]<<30|$[4]>>>2,yt=$[4]<<30|$[5]>>>2,Nt=$[14]<<6|$[15]>>>26,St=$[15]<<6|$[14]>>>26,tt=$[25]<<11|$[24]>>>21,xt=$[24]<<11|$[25]>>>21,fr=$[34]<<15|$[35]>>>17,Ge=$[35]<<15|$[34]>>>17,dr=$[45]<<29|$[44]>>>3,bt=$[44]<<29|$[45]>>>3,Te=$[6]<<28|$[7]>>>4,Re=$[7]<<28|$[6]>>>4,Lt=$[17]<<23|$[16]>>>9,zt=$[16]<<23|$[17]>>>9,or=$[26]<<25|$[27]>>>7,Dt=$[27]<<25|$[26]>>>7,Me=$[36]<<21|$[37]>>>11,oe=$[37]<<21|$[36]>>>11,at=$[47]<<24|$[46]>>>8,kr=$[46]<<24|$[47]>>>8,$e=$[8]<<27|$[9]>>>5,ze=$[9]<<27|$[8]>>>5,jt=$[18]<<20|$[19]>>>12,qe=$[19]<<20|$[18]>>>12,mt=$[29]<<7|$[28]>>>25,Tr=$[28]<<7|$[29]>>>25,De=$[38]<<8|$[39]>>>24,dt=$[39]<<8|$[38]>>>24,he=$[48]<<14|$[49]>>>18,Oe=$[49]<<14|$[48]>>>18,$[0]=Rt^~Ie&tt,$[1]=Xe^~Gt&xt,$[10]=Te^~jt&rt,$[11]=Re^~qe&Ht,$[20]=Be^~Nt&or,$[21]=Ir^~St&Dt,$[30]=$e^~be&Ne,$[31]=ze^~Fe&Le,$[40]=wt^~Lt&mt,$[41]=yt^~zt&Tr,$[2]=Ie^~tt&Me,$[3]=Gt^~xt&oe,$[12]=jt^~rt&vt,$[13]=qe^~Ht&ot,$[22]=Nt^~or&De,$[23]=St^~Dt&dt,$[32]=be^~Ne&fr,$[33]=Fe^~Le&Ge,$[42]=Lt^~mt&Mr,$[43]=zt^~Tr&hr,$[4]=tt^~Me&he,$[5]=xt^~oe&Oe,$[14]=rt^~vt&dr,$[15]=Ht^~ot&bt,$[24]=or^~De&it,$[25]=Dt^~dt&Pe,$[34]=Ne^~fr&at,$[35]=Le^~Ge&kr,$[44]=mt^~Mr&vr,$[45]=Tr^~hr&_r,$[6]=Me^~he&Rt,$[7]=oe^~Oe&Xe,$[16]=vt^~dr&Te,$[17]=ot^~bt&Re,$[26]=De^~it&Be,$[27]=dt^~Pe&Ir,$[36]=fr^~at&$e,$[37]=Ge^~kr&ze,$[46]=Mr^~vr&wt,$[47]=hr^~_r&yt,$[8]=he^~Rt&Ie,$[9]=Oe^~Xe&Gt,$[18]=dr^~Te&jt,$[19]=bt^~Re&qe,$[28]=it^~Be&Nt,$[29]=Pe^~Ir&St,$[38]=at^~$e&be,$[39]=kr^~ze&Fe,$[48]=vr^~wt&Lt,$[49]=_r^~yt&zt,$[0]^=x[Z],$[1]^=x[Z+1]};if(a)r.exports=v;else for(_=0;_<S.length;++_)i[S[_]]=v[S[_]]})()}(Zv)),Zv.exports}var EL=_L();const CL=el(EL);function Dn(r){return"0x"+CL.keccak_256(Ct(r))}const SL="rlp/5.8.0",Xo=new se(SL);function sS(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function oS(r,e,t){let n=0;for(let i=0;i<t;i++)n=n*256+r[e+i];return n}function Nj(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(s){n=n.concat(Nj(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=sS(n.length);return i.unshift(247+i.length),i.concat(n)}dk(r)||Xo.throwArgumentError("RLP object must be BytesLike","object",r);const e=Array.prototype.slice.call(Ct(r));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=sS(e.length);return t.unshift(183+t.length),t.concat(e)}function Ny(r){return ft(Nj(r))}function aS(r,e,t,n){const i=[];for(;t<e+1+n;){const s=Tj(r,t);i.push(s.result),t+=s.consumed,t>e+1+n&&Xo.throwError("child data too short",se.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function Tj(r,e){if(r.length===0&&Xo.throwError("data too short",se.errors.BUFFER_OVERRUN,{}),r[e]>=248){const t=r[e]-247;e+1+t>r.length&&Xo.throwError("data short segment too short",se.errors.BUFFER_OVERRUN,{});const n=oS(r,e+1,t);return e+1+t+n>r.length&&Xo.throwError("data long segment too short",se.errors.BUFFER_OVERRUN,{}),aS(r,e,e+1+t,t+n)}else if(r[e]>=192){const t=r[e]-192;return e+1+t>r.length&&Xo.throwError("data array too short",se.errors.BUFFER_OVERRUN,{}),aS(r,e,e+1,t)}else if(r[e]>=184){const t=r[e]-183;e+1+t>r.length&&Xo.throwError("data array too short",se.errors.BUFFER_OVERRUN,{});const n=oS(r,e+1,t);e+1+t+n>r.length&&Xo.throwError("data array too short",se.errors.BUFFER_OVERRUN,{});const i=ft(r.slice(e+1+t,e+1+t+n));return{consumed:1+t+n,result:i}}else if(r[e]>=128){const t=r[e]-128;e+1+t>r.length&&Xo.throwError("data too short",se.errors.BUFFER_OVERRUN,{});const n=ft(r.slice(e+1,e+1+t));return{consumed:1+t,result:n}}return{consumed:1,result:ft(r[e])}}function pk(r){const e=Ct(r),t=Tj(e,0);return t.consumed!==e.length&&Xo.throwArgumentError("invalid rlp data","data",r),t.result}const NL="address/5.8.0",Td=new se(NL);function lS(r){Yt(r,20)||Td.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const n=Ct(Dn(t));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const TL=9007199254740991;function AL(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const mk={};for(let r=0;r<10;r++)mk[String(r)]=String(r);for(let r=0;r<26;r++)mk[String.fromCharCode(65+r)]=String(10+r);const cS=Math.floor(AL(TL));function jL(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>mk[n]).join("");for(;e.length>=cS;){let n=e.substring(0,cS);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function Hn(r){let e=null;if(typeof r!="string"&&Td.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=lS(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&Td.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==jL(r)&&Td.throwArgumentError("bad icap checksum","address",r),e=uL(r.substring(4));e.length<40;)e="0"+e;e=lS("0x"+e)}else Td.throwArgumentError("invalid address","address",r);return e}function rn(r){try{return Hn(r),!0}catch{}return!1}function Aj(r){let e=null;try{e=Hn(r.from)}catch{Td.throwArgumentError("missing from address","transaction",r)}const t=Xd(Ct(de.from(r.nonce).toHexString()));return Hn(pi(Dn(Ny([e,t])),12))}class PL extends tl{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=Hn(t)}catch(n){this._throwError(n.message,t)}return e.writeValue(t)}decode(e){return Hn(Kr(e.readValue().toHexString(),20))}}class RL extends tl{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const Ad=new se(Jp);function jj(r,e,t){let n=null;if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let u={};n=e.map(d=>{const h=d.localName;return h||Ad.throwError("cannot encode object for signature with missing names",se.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:t}),u[h]&&Ad.throwError("cannot encode object for signature with duplicate names",se.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:t}),u[h]=!0,t[h]})}else Ad.throwArgumentError("invalid tuple value","tuple",t);e.length!==n.length&&Ad.throwArgumentError("types/value length mismatch","tuple",t);let i=new Pw(r.wordSize),s=new Pw(r.wordSize),o=[];e.forEach((u,d)=>{let h=n[d];if(u.dynamic){let p=s.length;u.encode(s,h);let y=i.writeUpdatableValue();o.push(m=>{y(m+p)})}else u.encode(i,h)}),o.forEach(u=>{u(i.length)});let a=r.appendWriter(i);return a+=r.appendWriter(s),a}function Pj(r,e){let t=[],n=r.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=r.readValue(),u=n.subReader(a.toNumber());try{o=s.decode(u)}catch(d){if(d.code===se.errors.BUFFER_OVERRUN)throw d;o=d,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(r)}catch(a){if(a.code===se.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&t.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),t[a]!=null))return;const u=t[o];u instanceof Error?Object.defineProperty(t,a,{enumerable:!0,get:()=>{throw u}}):t[a]=u});for(let s=0;s<t.length;s++){const o=t[s];o instanceof Error&&Object.defineProperty(t,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(t)}class IL extends tl{constructor(e,t,n){const i=e.type+"["+(t>=0?t:"")+"]",s=t===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let n=this.length;n===-1&&(n=t.length,e.writeValue(t.length)),Ad.checkArgumentCount(t.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<t.length;s++)i.push(this.coder);return jj(e,i,t)}decode(e){let t=this.length;t===-1&&(t=e.readValue().toNumber(),t*32>e._data.length&&Ad.throwError("insufficient data length",se.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let n=[];for(let i=0;i<t;i++)n.push(new RL(this.coder));return e.coerce(this.name,Pj(e,n))}}class ML extends tl{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class Rj extends tl{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=Ct(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class OL extends Rj{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,ft(super.decode(e)))}}class DL extends tl{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let n=Ct(t);return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return e.coerce(this.name,ft(e.readBytes(this.size)))}}class LL extends tl{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const He="0x0000000000000000000000000000000000000000",zL=de.from(-1),Ij=de.from(0),FL=de.from(1),BL=de.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),$L="0x0000000000000000000000000000000000000000000000000000000000000000";class UL extends tl{constructor(e,t,n){const i=(t?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let n=de.from(t),i=BL.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(FL).mul(zL)))&&this._throwError("value out-of-bounds",t)}else(n.lt(Ij)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",t);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let t=e.readValue().mask(this.size*8);return this.signed&&(t=t.fromTwos(this.size*8)),e.coerce(this.name,t)}}const qL="strings/5.8.0",Mj=new se(qL);var kp;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(kp||(kp={}));var hs;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(hs||(hs={}));function WL(r,e,t,n,i){return Mj.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function Oj(r,e,t,n,i){if(r===hs.BAD_PREFIX||r===hs.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<t.length&&t[o]>>6===2;o++)s++;return s}return r===hs.OVERRUN?t.length-e-1:0}function HL(r,e,t,n,i){return r===hs.OVERLONG?(n.push(i),0):(n.push(65533),Oj(r,e,t))}const VL=Object.freeze({error:WL,ignore:Oj,replace:HL});function Dj(r,e){e==null&&(e=VL.error),r=Ct(r);const t=[];let n=0;for(;n<r.length;){const i=r[n++];if(i>>7===0){t.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(hs.UNEXPECTED_CONTINUE,n-1,r,t):n+=e(hs.BAD_PREFIX,n-1,r,t);continue}if(n-1+s>=r.length){n+=e(hs.OVERRUN,n-1,r,t);continue}let a=i&(1<<8-s-1)-1;for(let u=0;u<s;u++){let d=r[n];if((d&192)!=128){n+=e(hs.MISSING_CONTINUE,n,r,t),a=null;break}a=a<<6|d&63,n++}if(a!==null){if(a>1114111){n+=e(hs.OUT_OF_RANGE,n-1-s,r,t,a);continue}if(a>=55296&&a<=57343){n+=e(hs.UTF16_SURROGATE,n-1-s,r,t,a);continue}if(a<=o){n+=e(hs.OVERLONG,n-1-s,r,t,a);continue}t.push(a)}}return t}function da(r,e=kp.current){e!=kp.current&&(Mj.checkNormalize(),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){const i=r.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){n++;const s=r.charCodeAt(n);if(n>=r.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return Ct(t)}function GL(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Qp(r,e){return GL(Dj(r,e))}function KL(r,e=kp.current){return Dj(da(r,e))}class YL extends Rj{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,da(t))}decode(e){return Qp(super.decode(e))}}class gg extends tl{constructor(e,t){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,t,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const t=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||t[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,t){return jj(e,this.coders,t)}decode(e){return e.coerce(this.name,Pj(e,this.coders))}}const yg=new se(Jp),JL=new RegExp(/^bytes([0-9]*)$/),QL=new RegExp(/^(u?int)([0-9]*)$/);class XL{constructor(e){ke(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new PL(e.name);case"bool":return new ML(e.name);case"string":return new YL(e.name);case"bytes":return new OL(e.name);case"array":return new IL(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new gg((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new LL(e.name)}let t=e.type.match(QL);if(t){let n=parseInt(t[2]||"256");return(n===0||n>256||n%8!==0)&&yg.throwArgumentError("invalid "+t[1]+" bit length","param",e),new UL(n/8,t[1]==="int",e.name)}if(t=e.type.match(JL),t){let n=parseInt(t[1]);return(n===0||n>32)&&yg.throwArgumentError("invalid bytes length","param",e),new DL(n,e.name)}return yg.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new D0(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new Pw(this._getWordSize())}getDefaultValue(e){const t=e.map(i=>this._getCoder(qn.from(i)));return new gg(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&yg.throwError("types/values length mismatch",se.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const n=e.map(o=>this._getCoder(qn.from(o))),i=new gg(n,"_"),s=this._getWriter();return i.encode(s,t),s.data}decode(e,t,n){const i=e.map(o=>this._getCoder(qn.from(o)));return new gg(i,"_").decode(this._getReader(Ct(t),n))}}const ZL=new XL;function jd(r){return Dn(da(r))}const Lj="hash/5.8.0";function zj(r){r=atob(r);const e=[];for(let t=0;t<r.length;t++)e.push(r.charCodeAt(t));return Ct(e)}function Fj(r){r=Ct(r);let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return btoa(e)}function Bj(r,e){e==null&&(e=1);const t=[],n=t.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):t.push(a)})};return i(r,e),t}function ez(r){const e={};for(let t=0;t<r.length;t++){const n=r[t];e[n[0]]=n[1]}return e}function tz(r){let e=0;function t(){return r[e++]<<8|r[e++]}let n=t(),i=1,s=[0,1];for(let U=1;U<n;U++)s.push(i+=t());let o=t(),a=e;e+=o;let u=0,d=0;function h(){return u==0&&(d=d<<8|r[e++],u=8),d>>--u&1}const p=31,y=Math.pow(2,p),m=y>>>1,b=m>>1,x=y-1;let w=0;for(let U=0;U<p;U++)w=w<<1|h();let A=[],P=0,I=y;for(;;){let U=Math.floor(((w-P+1)*i-1)/I),B=0,H=n;for(;H-B>1;){let V=B+H>>>1;U<s[V]?H=V:B=V}if(B==0)break;A.push(B);let G=P+Math.floor(I*s[B]/i),W=P+Math.floor(I*s[B+1]/i)-1;for(;((G^W)&m)==0;)w=w<<1&x|h(),G=G<<1&x,W=W<<1&x|1;for(;G&~W&b;)w=w&m|w<<1&x>>>1|h(),G=G<<1^m,W=(W^m)<<1|m|1;P=G,I=1+W-G}let T=n-4;return A.map(U=>{switch(U-T){case 3:return T+65792+(r[a++]<<16|r[a++]<<8|r[a++]);case 2:return T+256+(r[a++]<<8|r[a++]);case 1:return T+r[a++];default:return U-1}})}function rz(r){let e=0;return()=>r[e++]}function nz(r){return rz(tz(r))}function iz(r){return r&1?~r>>1:r>>1}function sz(r,e){let t=Array(r);for(let n=0;n<r;n++)t[n]=1+e();return t}function uS(r,e){let t=Array(r);for(let n=0,i=-1;n<r;n++)t[n]=i+=1+e();return t}function oz(r,e){let t=Array(r);for(let n=0,i=0;n<r;n++)t[n]=i+=iz(e());return t}function L0(r,e){let t=uS(r(),r),n=r(),i=uS(n,r),s=sz(n,r);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)t.push(i[o]+a);return e?t.map(o=>e[o]):t}function az(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(cz(t,r))}for(;;){let t=r()-1;if(t<0)break;e.push(uz(t,r))}return ez(Bj(e))}function lz(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(t)}return e}function $j(r,e,t){let n=Array(r).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)oz(r,t).forEach((s,o)=>n[o].push(s));return n}function cz(r,e){let t=1+e(),n=e(),i=lz(e),s=$j(i.length,1+r,e);return Bj(s.map((o,a)=>{const u=o[0],d=o.slice(1);return Array(i[a]).fill(void 0).map((h,p)=>{let y=p*n;return[u+p*t,d.map(m=>m+y)]})}))}function uz(r,e){let t=1+e();return $j(t,1+r,e).map(i=>[i[0],i.slice(1)])}function dz(r){let e=L0(r).sort((n,i)=>n-i);return t();function t(){let n=[];for(;;){let d=L0(r,e);if(d.length==0)break;n.push({set:new Set(d),node:t()})}n.sort((d,h)=>h.set.size-d.set.size);let i=r(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,u=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:u}}}function fz(){return nz(zj("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Ty=fz(),hz=new Set(L0(Ty)),pz=new Set(L0(Ty)),mz=az(Ty),gz=dz(Ty),dS=45,fS=95;function Uj(r){return KL(r)}function yz(r){return r.filter(e=>e!=65039)}function qj(r){for(let e of r.split(".")){let t=Uj(e);try{for(let n=t.lastIndexOf(fS)-1;n>=0;n--)if(t[n]!==fS)throw new Error("underscore only allowed at start");if(t.length>=4&&t.every(n=>n<128)&&t[2]===dS&&t[3]===dS)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return r}function xz(r){return qj(vz(r,yz))}function vz(r,e){let t=Uj(r).reverse(),n=[];for(;t.length;){let i=wz(t);if(i){n.push(...e(i));continue}let s=t.pop();if(hz.has(s)){n.push(s);continue}if(pz.has(s))continue;let o=mz[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return qj(bz(String.fromCodePoint(...n)))}function bz(r){return r.normalize("NFC")}function wz(r,e){var t;let n=gz,i,s,o=[],a=r.length;for(;a;){let u=r[--a];if(n=(t=n.branches.find(d=>d.set.has(u)))===null||t===void 0?void 0:t.node,!n)break;if(n.save)s=u;else if(n.check&&u===s)break;o.push(u),n.fe0f&&(o.push(65039),a>0&&r[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),r.length=a)}return i}const kz=new se(Lj),Wj=new Uint8Array(32);Wj.fill(0);function hS(r){if(r.length===0)throw new Error("invalid ENS name; empty component");return r}function Hj(r){const e=da(xz(r)),t=[];if(r.length===0)return t;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(t.push(hS(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return t.push(hS(e.slice(n))),t}function f0(r){typeof r!="string"&&kz.throwArgumentError("invalid ENS name; not a string","name",r);let e=Wj;const t=Hj(r);for(;t.length;)e=Dn(_s([e,Dn(t.pop())]));return ft(e)}function _z(r){return ft(_s(Hj(r).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}var Ez=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{d(n.next(h))}catch(p){o(p)}}function u(h){try{d(n.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):i(h.value).then(a,u)}d((n=n.apply(r,e||[])).next())})};const en=new se(Lj),Vj=new Uint8Array(32);Vj.fill(0);const Cz=de.from(-1),Gj=de.from(0),Kj=de.from(1),Sz=de.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Nz(r){const e=Ct(r),t=e.length%32;return t?Ji([e,Vj.slice(t)]):ft(e)}const Tz=Kr(Kj.toHexString(),32),Az=Kr(Gj.toHexString(),32),pS={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},eb=["name","version","chainId","verifyingContract","salt"];function mS(r){return function(e){return typeof e!="string"&&en.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const jz={name:mS("name"),version:mS("version"),chainId:function(r){try{return de.from(r).toString()}catch{}return en.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",r)},verifyingContract:function(r){try{return Hn(r).toLowerCase()}catch{}return en.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){try{const e=Ct(r);if(e.length!==32)throw new Error("bad length");return ft(e)}catch{}return en.throwArgumentError('invalid domain value "salt"',"domain.salt",r)}};function tb(r){{const e=r.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&en.throwArgumentError("invalid numeric width","type",r);const i=Sz.mask(t?n-1:n),s=t?i.add(Kj).mul(Cz):Gj;return function(o){const a=de.from(o);return(a.lt(s)||a.gt(i))&&en.throwArgumentError(`value out-of-bounds for ${r}`,"value",o),Kr(a.toTwos(256).toHexString(),32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&en.throwArgumentError("invalid bytes width","type",r),function(n){return Ct(n).length!==t&&en.throwArgumentError(`invalid length for ${r}`,"value",n),Nz(n)}}}switch(r){case"address":return function(e){return Kr(Hn(e),32)};case"bool":return function(e){return e?Tz:Az};case"bytes":return function(e){return Dn(e)};case"string":return function(e){return jd(e)}}return null}function gS(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}class us{constructor(e){ke(this,"types",Object.freeze(Ns(e))),ke(this,"_encoderCache",{}),ke(this,"_types",{});const t={},n={},i={};Object.keys(e).forEach(a=>{t[a]={},n[a]=[],i[a]={}});for(const a in e){const u={};e[a].forEach(d=>{u[d.name]&&en.throwArgumentError(`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(a)}`,"types",e),u[d.name]=!0;const h=d.type.match(/^([^\x5b]*)(\x5b|$)/)[1];h===a&&en.throwArgumentError(`circular type reference to ${JSON.stringify(h)}`,"types",e),!tb(h)&&(n[h]||en.throwArgumentError(`unknown type ${JSON.stringify(h)}`,"types",e),n[h].push(a),t[a][h]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?en.throwArgumentError("missing primary type","types",e):s.length>1&&en.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),ke(this,"primaryType",s[0]);function o(a,u){u[a]&&en.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),u[a]=!0,Object.keys(t[a]).forEach(d=>{n[d]&&(o(d,u),Object.keys(u).forEach(h=>{i[h][d]=!0}))}),delete u[a]}o(this.primaryType,{});for(const a in i){const u=Object.keys(i[a]);u.sort(),this._types[a]=gS(a,e[a])+u.map(d=>gS(d,e[d])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const i=tb(e);if(i)return i}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const i=t[1],s=this.getEncoder(i),o=parseInt(t[3]);return a=>{o>=0&&a.length!==o&&en.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let u=a.map(s);return this._types[i]&&(u=u.map(Dn)),Dn(Ji(u))}}const n=this.types[e];if(n){const i=jd(this._types[e]);return s=>{const o=n.map(({name:a,type:u})=>{const d=this.getEncoder(u)(s[a]);return this._types[u]?Dn(d):d});return o.unshift(i),Ji(o)}}return en.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||en.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Dn(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(tb(e))return n(e,t);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&t.length!==a&&en.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(u=>this._visit(o,u,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:u})=>(o[a]=this._visit(u,t[a],n),o),{}):en.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new us(e)}static getPrimaryType(e){return us.from(e).primaryType}static hashStruct(e,t,n){return us.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){const i=pS[n];i||en.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:i})}return t.sort((n,i)=>eb.indexOf(n.name)-eb.indexOf(i.name)),us.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return Ji(["0x1901",us.hashDomain(e),us.from(t).hash(n)])}static hash(e,t,n){return Dn(us.encode(e,t,n))}static resolveNames(e,t,n,i){return Ez(this,void 0,void 0,function*(){e=Gr(e);const s={};e.verifyingContract&&!Yt(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=us.from(t);o.visit(n,(a,u)=>(a==="address"&&!Yt(u,20)&&(s[u]="0x"),u));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,u)=>a==="address"&&s[u]?s[u]:u),{domain:e,value:n}})}static getPayload(e,t,n){us.hashDomain(e);const i={},s=[];eb.forEach(u=>{const d=e[u];d!=null&&(i[u]=jz[u](d),s.push({name:u,type:pS[u]}))});const o=us.from(t),a=Gr(t);return a.EIP712Domain?en.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(u,d)=>{if(u.match(/^bytes(\d*)/))return ft(Ct(d));if(u.match(/^u?int/))return de.from(d).toString();switch(u){case"address":return d.toLowerCase();case"bool":return!!d;case"string":return typeof d!="string"&&en.throwArgumentError("invalid string","value",d),d}return en.throwArgumentError("unsupported type","type",u)})}}}const Zr=new se(Jp);class Pz extends Yp{}class Rz extends Yp{}class Iz extends Yp{}class Rw extends Yp{static isIndexed(e){return!!(e&&e._isIndexed)}}const Mz={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function yS(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);return t.error=e,t}class Iw{constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,ke(this,"fragments",t.map(n=>Wa.from(n)).filter(n=>n!=null)),ke(this,"_abiCoder",Es(new.target,"getAbiCoder")()),ke(this,"functions",{}),ke(this,"errors",{}),ke(this,"events",{}),ke(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){Zr.warn("duplicate definition - constructor");return}ke(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){Zr.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||ke(this,"deploy",ra.from({payable:!1,type:"constructor"})),ke(this,"_isInterface",!0)}format(e){e||(e=xr.full),e===xr.sighash&&Zr.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map(n=>n.format(e));return e===xr.json?JSON.stringify(t.map(n=>JSON.parse(n))):t}static getAbiCoder(){return ZL}static getAddress(e){return Hn(e)}static getSighash(e){return pi(jd(e.format()),0,4)}static getEventTopic(e){return jd(e.format())}getFunction(e){if(Yt(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];Zr.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?Zr.throwArgumentError("no matching function","name",n):i.length>1&&Zr.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const t=this.functions[na.fromString(e).format()];return t||Zr.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(Yt(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];Zr.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?Zr.throwArgumentError("no matching event","name",n):i.length>1&&Zr.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const t=this.events[$a.fromString(e).format()];return t||Zr.throwArgumentError("no matching event","signature",e),t}getError(e){if(Yt(e)){const n=Es(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}Zr.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?Zr.throwArgumentError("no matching error","name",n):i.length>1&&Zr.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const t=this.errors[na.fromString(e).format()];return t||Zr.throwArgumentError("no matching error","signature",e),t}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch{throw t}}return Es(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Es(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){typeof e=="string"&&(e=this.getError(e));const n=Ct(t);return ft(n.slice(0,4))!==this.getSighash(e)&&Zr.throwArgumentError(`data signature does not match error ${e.name}.`,"data",ft(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,t){return typeof e=="string"&&(e=this.getError(e)),ft(_s([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){typeof e=="string"&&(e=this.getFunction(e));const n=Ct(t);return ft(n.slice(0,4))!==this.getSighash(e)&&Zr.throwArgumentError(`data signature does not match function ${e.name}.`,"data",ft(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,t){return typeof e=="string"&&(e=this.getFunction(e)),ft(_s([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){typeof e=="string"&&(e=this.getFunction(e));let n=Ct(t),i=null,s="",o=null,a=null,u=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const d=ft(n.slice(0,4)),h=Mz[d];if(h)o=this._abiCoder.decode(h.inputs,n.slice(4)),a=h.name,u=h.signature,h.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const p=this.getError(d);o=this._abiCoder.decode(p.inputs,n.slice(4)),a=p.name,u=p.format()}catch{}break}}return Zr.throwError("call revert exception"+s,se.errors.CALL_EXCEPTION,{method:e.format(),data:ft(t),errorArgs:o,errorName:a,errorSignature:u,reason:i})}encodeFunctionResult(e,t){return typeof e=="string"&&(e=this.getFunction(e)),ft(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){typeof e=="string"&&(e=this.getEvent(e)),t.length>e.inputs.length&&Zr.throwError("too many arguments for "+e.format(),se.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?jd(o):s.type==="bytes"?Dn(ft(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=de.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),Kr(ft(o),32));for(t.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&Zr.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?Zr.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(u=>i(a,u))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&Zr.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((o,a)=>{const u=t[a];if(o.indexed)if(o.type==="string")n.push(jd(u));else if(o.type==="bytes")n.push(Dn(u));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[u]))}else i.push(o),s.push(u)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let y=this.getEventTopic(e);(!Yt(n[0],32)||n[0].toLowerCase()!==y)&&Zr.throwError("fragment/topic mismatch",se.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:y,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((y,m)=>{y.indexed?y.type==="string"||y.type==="bytes"||y.baseType==="tuple"||y.baseType==="array"?(i.push(qn.fromObject({type:"bytes32",name:y.name})),o.push(!0)):(i.push(y),o.push(!1)):(s.push(y),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,_s(n)):null,u=this._abiCoder.decode(s,t,!0),d=[],h=0,p=0;e.inputs.forEach((y,m)=>{if(y.indexed)if(a==null)d[m]=new Rw({_isIndexed:!0,hash:null});else if(o[m])d[m]=new Rw({_isIndexed:!0,hash:a[p++]});else try{d[m]=a[p++]}catch(b){d[m]=b}else try{d[m]=u[h++]}catch(b){d[m]=b}if(y.name&&d[y.name]==null){const b=d[m];b instanceof Error?Object.defineProperty(d,y.name,{enumerable:!0,get:()=>{throw yS(`property ${JSON.stringify(y.name)}`,b)}}):d[y.name]=b}});for(let y=0;y<d.length;y++){const m=d[y];m instanceof Error&&Object.defineProperty(d,y,{enumerable:!0,get:()=>{throw yS(`index ${y}`,m)}})}return Object.freeze(d)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new Rz({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:de.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Pz({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=ft(e);let n=this.getError(t.substring(0,10).toLowerCase());return n?new Iz({args:this._abiCoder.decode(n.inputs,"0x"+t.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const Oz="abstract-provider/5.8.0";var Dz=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{d(n.next(h))}catch(p){o(p)}}function u(h){try{d(n.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):i(h.value).then(a,u)}d((n=n.apply(r,e||[])).next())})};const Lz=new se(Oz);class zz extends Yp{static isForkEvent(e){return!!(e&&e._isForkEvent)}}let gk=class Yj{constructor(){Lz.checkAbstract(new.target,Yj),ke(this,"_isProvider",!0)}getFeeData(){return Dz(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield wn({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=de.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}};const Fz="abstract-signer/5.8.0";var bo=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{d(n.next(h))}catch(p){o(p)}}function u(h){try{d(n.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):i(h.value).then(a,u)}d((n=n.apply(r,e||[])).next())})};const Ws=new se(Fz),Bz=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],$z=[se.errors.INSUFFICIENT_FUNDS,se.errors.NONCE_EXPIRED,se.errors.REPLACEMENT_UNDERPRICED];class Xp{constructor(){Ws.checkAbstract(new.target,Xp),ke(this,"_isSigner",!0)}getBalance(e){return bo(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return bo(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return bo(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield wn(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return bo(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield wn(this.checkTransaction(e));return yield this.provider.call(n,t)})}sendTransaction(e){return bo(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),n=yield this.signTransaction(t);return yield this.provider.sendTransaction(n)})}getChainId(){return bo(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return bo(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return bo(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return bo(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)Bz.indexOf(n)===-1&&Ws.throwArgumentError("invalid transaction key: "+n,"transaction",e);const t=Gr(e);return t.from==null?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Ws.throwArgumentError("from address mismatch","transaction",e),n[0])),t}populateTransaction(e){return bo(this,void 0,void 0,function*(){const t=yield wn(this.checkTransaction(e));t.to!=null&&(t.to=Promise.resolve(t.to).then(i=>bo(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&Ws.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),t.to.catch(i=>{}));const n=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||n)?Ws.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(t.type===0||t.type===1)&&n&&Ws.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(t.type===2||t.type==null)&&t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)t.type=2;else if(t.type===0||t.type===1)t.gasPrice==null&&(t.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(t.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(t.type=2,t.gasPrice!=null){const s=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=s,t.maxPriorityFeePerGas=s}else t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&Ws.throwError("network does not support EIP-1559",se.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),t.gasPrice==null&&(t.gasPrice=i.gasPrice),t.type=0):Ws.throwError("failed to get consistent fee data",se.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else t.type===2&&(t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return t.nonce==null&&(t.nonce=this.getTransactionCount("pending")),t.gasLimit==null&&(t.gasLimit=this.estimateGas(t).catch(i=>{if($z.indexOf(i.code)>=0)throw i;return Ws.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",se.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:t})})),t.chainId==null?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Ws.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield wn(t)})}_checkProvider(e){this.provider||Ws.throwError("missing provider",se.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class yk extends Xp{constructor(e,t){super(),ke(this,"address",e),ke(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{Ws.throwError(e,se.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new yk(this.address,e)}}var rb={},Nr={},nb,xS;function Zp(){if(xS)return nb;xS=1,nb=r;function r(e,t){if(!e)throw new Error(t||"Assertion failed")}return r.equal=function(t,n,i){if(t!=n)throw new Error(i||"Assertion failed: "+t+" != "+n)},nb}var xg={exports:{}},vS;function Uz(){return vS||(vS=1,typeof Object.create=="function"?xg.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:xg.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),xg.exports}var bS;function ma(){if(bS)return Nr;bS=1;var r=Zp(),e=Uz();Nr.inherits=e;function t(q,D){return(q.charCodeAt(D)&64512)!==55296||D<0||D+1>=q.length?!1:(q.charCodeAt(D+1)&64512)===56320}function n(q,D){if(Array.isArray(q))return q.slice();if(!q)return[];var v=[];if(typeof q=="string")if(D){if(D==="hex")for(q=q.replace(/[^a-z0-9]+/ig,""),q.length%2!==0&&(q="0"+q),_=0;_<q.length;_+=2)v.push(parseInt(q[_]+q[_+1],16))}else for(var S=0,_=0;_<q.length;_++){var j=q.charCodeAt(_);j<128?v[S++]=j:j<2048?(v[S++]=j>>6|192,v[S++]=j&63|128):t(q,_)?(j=65536+((j&1023)<<10)+(q.charCodeAt(++_)&1023),v[S++]=j>>18|240,v[S++]=j>>12&63|128,v[S++]=j>>6&63|128,v[S++]=j&63|128):(v[S++]=j>>12|224,v[S++]=j>>6&63|128,v[S++]=j&63|128)}else for(_=0;_<q.length;_++)v[_]=q[_]|0;return v}Nr.toArray=n;function i(q){for(var D="",v=0;v<q.length;v++)D+=a(q[v].toString(16));return D}Nr.toHex=i;function s(q){var D=q>>>24|q>>>8&65280|q<<8&16711680|(q&255)<<24;return D>>>0}Nr.htonl=s;function o(q,D){for(var v="",S=0;S<q.length;S++){var _=q[S];D==="little"&&(_=s(_)),v+=u(_.toString(16))}return v}Nr.toHex32=o;function a(q){return q.length===1?"0"+q:q}Nr.zero2=a;function u(q){return q.length===7?"0"+q:q.length===6?"00"+q:q.length===5?"000"+q:q.length===4?"0000"+q:q.length===3?"00000"+q:q.length===2?"000000"+q:q.length===1?"0000000"+q:q}Nr.zero8=u;function d(q,D,v,S){var _=v-D;r(_%4===0);for(var j=new Array(_/4),O=0,z=D;O<j.length;O++,z+=4){var E;S==="big"?E=q[z]<<24|q[z+1]<<16|q[z+2]<<8|q[z+3]:E=q[z+3]<<24|q[z+2]<<16|q[z+1]<<8|q[z],j[O]=E>>>0}return j}Nr.join32=d;function h(q,D){for(var v=new Array(q.length*4),S=0,_=0;S<q.length;S++,_+=4){var j=q[S];D==="big"?(v[_]=j>>>24,v[_+1]=j>>>16&255,v[_+2]=j>>>8&255,v[_+3]=j&255):(v[_+3]=j>>>24,v[_+2]=j>>>16&255,v[_+1]=j>>>8&255,v[_]=j&255)}return v}Nr.split32=h;function p(q,D){return q>>>D|q<<32-D}Nr.rotr32=p;function y(q,D){return q<<D|q>>>32-D}Nr.rotl32=y;function m(q,D){return q+D>>>0}Nr.sum32=m;function b(q,D,v){return q+D+v>>>0}Nr.sum32_3=b;function x(q,D,v,S){return q+D+v+S>>>0}Nr.sum32_4=x;function w(q,D,v,S,_){return q+D+v+S+_>>>0}Nr.sum32_5=w;function A(q,D,v,S){var _=q[D],j=q[D+1],O=S+j>>>0,z=(O<S?1:0)+v+_;q[D]=z>>>0,q[D+1]=O}Nr.sum64=A;function P(q,D,v,S){var _=D+S>>>0,j=(_<D?1:0)+q+v;return j>>>0}Nr.sum64_hi=P;function I(q,D,v,S){var _=D+S;return _>>>0}Nr.sum64_lo=I;function T(q,D,v,S,_,j,O,z){var E=0,M=D;M=M+S>>>0,E+=M<D?1:0,M=M+j>>>0,E+=M<j?1:0,M=M+z>>>0,E+=M<z?1:0;var N=q+v+_+O+E;return N>>>0}Nr.sum64_4_hi=T;function U(q,D,v,S,_,j,O,z){var E=D+S+j+z;return E>>>0}Nr.sum64_4_lo=U;function B(q,D,v,S,_,j,O,z,E,M){var N=0,R=D;R=R+S>>>0,N+=R<D?1:0,R=R+j>>>0,N+=R<j?1:0,R=R+z>>>0,N+=R<z?1:0,R=R+M>>>0,N+=R<M?1:0;var X=q+v+_+O+E+N;return X>>>0}Nr.sum64_5_hi=B;function H(q,D,v,S,_,j,O,z,E,M){var N=D+S+j+z+M;return N>>>0}Nr.sum64_5_lo=H;function G(q,D,v){var S=D<<32-v|q>>>v;return S>>>0}Nr.rotr64_hi=G;function W(q,D,v){var S=q<<32-v|D>>>v;return S>>>0}Nr.rotr64_lo=W;function V(q,D,v){return q>>>v}Nr.shr64_hi=V;function K(q,D,v){var S=q<<32-v|D>>>v;return S>>>0}return Nr.shr64_lo=K,Nr}var ib={},wS;function em(){if(wS)return ib;wS=1;var r=ma(),e=Zp();function t(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return ib.BlockHash=t,t.prototype.update=function(i,s){if(i=r.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=r.join32(i,0,i.length-o,this.endian);for(var a=0;a<i.length;a+=this._delta32)this._update(i,a,a+this._delta32)}return this},t.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},t.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,a=new Array(o+this.padLength);a[0]=128;for(var u=1;u<o;u++)a[u]=0;if(i<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)a[u++]=0;a[u++]=0,a[u++]=0,a[u++]=0,a[u++]=0,a[u++]=i>>>24&255,a[u++]=i>>>16&255,a[u++]=i>>>8&255,a[u++]=i&255}else for(a[u++]=i&255,a[u++]=i>>>8&255,a[u++]=i>>>16&255,a[u++]=i>>>24&255,a[u++]=0,a[u++]=0,a[u++]=0,a[u++]=0,d=8;d<this.padLength;d++)a[u++]=0;return a},ib}var Bc={},Go={},kS;function Jj(){if(kS)return Go;kS=1;var r=ma(),e=r.rotr32;function t(h,p,y,m){if(h===0)return n(p,y,m);if(h===1||h===3)return s(p,y,m);if(h===2)return i(p,y,m)}Go.ft_1=t;function n(h,p,y){return h&p^~h&y}Go.ch32=n;function i(h,p,y){return h&p^h&y^p&y}Go.maj32=i;function s(h,p,y){return h^p^y}Go.p32=s;function o(h){return e(h,2)^e(h,13)^e(h,22)}Go.s0_256=o;function a(h){return e(h,6)^e(h,11)^e(h,25)}Go.s1_256=a;function u(h){return e(h,7)^e(h,18)^h>>>3}Go.g0_256=u;function d(h){return e(h,17)^e(h,19)^h>>>10}return Go.g1_256=d,Go}var sb,_S;function qz(){if(_S)return sb;_S=1;var r=ma(),e=em(),t=Jj(),n=r.rotl32,i=r.sum32,s=r.sum32_5,o=t.ft_1,a=e.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return r.inherits(d,a),sb=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(p,y){for(var m=this.W,b=0;b<16;b++)m[b]=p[y+b];for(;b<m.length;b++)m[b]=n(m[b-3]^m[b-8]^m[b-14]^m[b-16],1);var x=this.h[0],w=this.h[1],A=this.h[2],P=this.h[3],I=this.h[4];for(b=0;b<m.length;b++){var T=~~(b/20),U=s(n(x,5),o(T,w,A,P),I,m[b],u[T]);I=P,P=A,A=n(w,30),w=x,x=U}this.h[0]=i(this.h[0],x),this.h[1]=i(this.h[1],w),this.h[2]=i(this.h[2],A),this.h[3]=i(this.h[3],P),this.h[4]=i(this.h[4],I)},d.prototype._digest=function(p){return p==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},sb}var ob,ES;function Qj(){if(ES)return ob;ES=1;var r=ma(),e=em(),t=Jj(),n=Zp(),i=r.sum32,s=r.sum32_4,o=r.sum32_5,a=t.ch32,u=t.maj32,d=t.s0_256,h=t.s1_256,p=t.g0_256,y=t.g1_256,m=e.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function x(){if(!(this instanceof x))return new x;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}return r.inherits(x,m),ob=x,x.blockSize=512,x.outSize=256,x.hmacStrength=192,x.padLength=64,x.prototype._update=function(A,P){for(var I=this.W,T=0;T<16;T++)I[T]=A[P+T];for(;T<I.length;T++)I[T]=s(y(I[T-2]),I[T-7],p(I[T-15]),I[T-16]);var U=this.h[0],B=this.h[1],H=this.h[2],G=this.h[3],W=this.h[4],V=this.h[5],K=this.h[6],q=this.h[7];for(n(this.k.length===I.length),T=0;T<I.length;T++){var D=o(q,h(W),a(W,V,K),this.k[T],I[T]),v=i(d(U),u(U,B,H));q=K,K=V,V=W,W=i(G,D),G=H,H=B,B=U,U=i(D,v)}this.h[0]=i(this.h[0],U),this.h[1]=i(this.h[1],B),this.h[2]=i(this.h[2],H),this.h[3]=i(this.h[3],G),this.h[4]=i(this.h[4],W),this.h[5]=i(this.h[5],V),this.h[6]=i(this.h[6],K),this.h[7]=i(this.h[7],q)},x.prototype._digest=function(A){return A==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},ob}var ab,CS;function Wz(){if(CS)return ab;CS=1;var r=ma(),e=Qj();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return r.inherits(t,e),ab=t,t.blockSize=512,t.outSize=224,t.hmacStrength=192,t.padLength=64,t.prototype._digest=function(i){return i==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")},ab}var lb,SS;function Xj(){if(SS)return lb;SS=1;var r=ma(),e=em(),t=Zp(),n=r.rotr64_hi,i=r.rotr64_lo,s=r.shr64_hi,o=r.shr64_lo,a=r.sum64,u=r.sum64_hi,d=r.sum64_lo,h=r.sum64_4_hi,p=r.sum64_4_lo,y=r.sum64_5_hi,m=r.sum64_5_lo,b=e.BlockHash,x=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function w(){if(!(this instanceof w))return new w;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=x,this.W=new Array(160)}r.inherits(w,b),lb=w,w.blockSize=1024,w.outSize=512,w.hmacStrength=192,w.padLength=128,w.prototype._prepareBlock=function(v,S){for(var _=this.W,j=0;j<32;j++)_[j]=v[S+j];for(;j<_.length;j+=2){var O=K(_[j-4],_[j-3]),z=q(_[j-4],_[j-3]),E=_[j-14],M=_[j-13],N=W(_[j-30],_[j-29]),R=V(_[j-30],_[j-29]),X=_[j-32],$=_[j-31];_[j]=h(O,z,E,M,N,R,X,$),_[j+1]=p(O,z,E,M,N,R,X,$)}},w.prototype._update=function(v,S){this._prepareBlock(v,S);var _=this.W,j=this.h[0],O=this.h[1],z=this.h[2],E=this.h[3],M=this.h[4],N=this.h[5],R=this.h[6],X=this.h[7],$=this.h[8],Y=this.h[9],Q=this.h[10],Z=this.h[11],te=this.h[12],ce=this.h[13],ne=this.h[14],ue=this.h[15];t(this.k.length===_.length);for(var xe=0;xe<_.length;xe+=2){var ye=ne,Se=ue,pt=H($,Y),ae=G($,Y),Ye=A($,Y,Q,Z,te),Rt=P($,Y,Q,Z,te,ce),Xe=this.k[xe],Ie=this.k[xe+1],Gt=_[xe],tt=_[xe+1],xt=y(ye,Se,pt,ae,Ye,Rt,Xe,Ie,Gt,tt),Me=m(ye,Se,pt,ae,Ye,Rt,Xe,Ie,Gt,tt);ye=U(j,O),Se=B(j,O),pt=I(j,O,z,E,M),ae=T(j,O,z,E,M,N);var oe=u(ye,Se,pt,ae),he=d(ye,Se,pt,ae);ne=te,ue=ce,te=Q,ce=Z,Q=$,Z=Y,$=u(R,X,xt,Me),Y=d(X,X,xt,Me),R=M,X=N,M=z,N=E,z=j,E=O,j=u(xt,Me,oe,he),O=d(xt,Me,oe,he)}a(this.h,0,j,O),a(this.h,2,z,E),a(this.h,4,M,N),a(this.h,6,R,X),a(this.h,8,$,Y),a(this.h,10,Q,Z),a(this.h,12,te,ce),a(this.h,14,ne,ue)},w.prototype._digest=function(v){return v==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function A(D,v,S,_,j){var O=D&S^~D&j;return O<0&&(O+=4294967296),O}function P(D,v,S,_,j,O){var z=v&_^~v&O;return z<0&&(z+=4294967296),z}function I(D,v,S,_,j){var O=D&S^D&j^S&j;return O<0&&(O+=4294967296),O}function T(D,v,S,_,j,O){var z=v&_^v&O^_&O;return z<0&&(z+=4294967296),z}function U(D,v){var S=n(D,v,28),_=n(v,D,2),j=n(v,D,7),O=S^_^j;return O<0&&(O+=4294967296),O}function B(D,v){var S=i(D,v,28),_=i(v,D,2),j=i(v,D,7),O=S^_^j;return O<0&&(O+=4294967296),O}function H(D,v){var S=n(D,v,14),_=n(D,v,18),j=n(v,D,9),O=S^_^j;return O<0&&(O+=4294967296),O}function G(D,v){var S=i(D,v,14),_=i(D,v,18),j=i(v,D,9),O=S^_^j;return O<0&&(O+=4294967296),O}function W(D,v){var S=n(D,v,1),_=n(D,v,8),j=s(D,v,7),O=S^_^j;return O<0&&(O+=4294967296),O}function V(D,v){var S=i(D,v,1),_=i(D,v,8),j=o(D,v,7),O=S^_^j;return O<0&&(O+=4294967296),O}function K(D,v){var S=n(D,v,19),_=n(v,D,29),j=s(D,v,6),O=S^_^j;return O<0&&(O+=4294967296),O}function q(D,v){var S=i(D,v,19),_=i(v,D,29),j=o(D,v,6),O=S^_^j;return O<0&&(O+=4294967296),O}return lb}var cb,NS;function Hz(){if(NS)return cb;NS=1;var r=ma(),e=Xj();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return r.inherits(t,e),cb=t,t.blockSize=1024,t.outSize=384,t.hmacStrength=192,t.padLength=128,t.prototype._digest=function(i){return i==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")},cb}var TS;function Vz(){return TS||(TS=1,Bc.sha1=qz(),Bc.sha224=Wz(),Bc.sha256=Qj(),Bc.sha384=Hz(),Bc.sha512=Xj()),Bc}var ub={},AS;function Gz(){if(AS)return ub;AS=1;var r=ma(),e=em(),t=r.rotl32,n=r.sum32,i=r.sum32_3,s=r.sum32_4,o=e.BlockHash;function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}r.inherits(a,o),ub.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(w,A){for(var P=this.h[0],I=this.h[1],T=this.h[2],U=this.h[3],B=this.h[4],H=P,G=I,W=T,V=U,K=B,q=0;q<80;q++){var D=n(t(s(P,u(q,I,T,U),w[p[q]+A],d(q)),m[q]),B);P=B,B=U,U=t(T,10),T=I,I=D,D=n(t(s(H,u(79-q,G,W,V),w[y[q]+A],h(q)),b[q]),K),H=K,K=V,V=t(W,10),W=G,G=D}D=i(this.h[1],T,V),this.h[1]=i(this.h[2],U,K),this.h[2]=i(this.h[3],B,H),this.h[3]=i(this.h[4],P,G),this.h[4]=i(this.h[0],I,W),this.h[0]=D},a.prototype._digest=function(w){return w==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};function u(x,w,A,P){return x<=15?w^A^P:x<=31?w&A|~w&P:x<=47?(w|~A)^P:x<=63?w&P|A&~P:w^(A|~P)}function d(x){return x<=15?0:x<=31?1518500249:x<=47?1859775393:x<=63?2400959708:2840853838}function h(x){return x<=15?1352829926:x<=31?1548603684:x<=47?1836072691:x<=63?2053994217:0}var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ub}var db,jS;function Kz(){if(jS)return db;jS=1;var r=ma(),e=Zp();function t(n,i,s){if(!(this instanceof t))return new t(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(i,s))}return db=t,t.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},t.prototype.update=function(i,s){return this.inner.update(i,s),this},t.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},db}var PS;function Yz(){return PS||(PS=1,function(r){var e=r;e.utils=ma(),e.common=em(),e.sha=Vz(),e.ripemd=Gz(),e.hmac=Kz(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(rb)),rb}var Jz=Yz();const Jo=el(Jz);function bf(r,e,t){return t={path:e,exports:{},require:function(n,i){return Qz(n,i??t.path)}},r(t,t.exports),t.exports}function Qz(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var xk=Zj;function Zj(r,e){if(!r)throw new Error(e||"Assertion failed")}Zj.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var Po=bf(function(r,e){var t=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var u=[];if(typeof o!="string"){for(var d=0;d<o.length;d++)u[d]=o[d]|0;return u}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var d=0;d<o.length;d+=2)u.push(parseInt(o[d]+o[d+1],16))}else for(var d=0;d<o.length;d++){var h=o.charCodeAt(d),p=h>>8,y=h&255;p?u.push(p,y):u.push(y)}return u}t.toArray=n;function i(o){return o.length===1?"0"+o:o}t.zero2=i;function s(o){for(var a="",u=0;u<o.length;u++)a+=i(o[u].toString(16));return a}t.toHex=s,t.encode=function(a,u){return u==="hex"?s(a):a}}),Ms=bf(function(r,e){var t=e;t.assert=xk,t.toArray=Po.toArray,t.zero2=Po.zero2,t.toHex=Po.toHex,t.encode=Po.encode;function n(u,d,h){var p=new Array(Math.max(u.bitLength(),h)+1),y;for(y=0;y<p.length;y+=1)p[y]=0;var m=1<<d+1,b=u.clone();for(y=0;y<p.length;y++){var x,w=b.andln(m-1);b.isOdd()?(w>(m>>1)-1?x=(m>>1)-w:x=w,b.isubn(x)):x=0,p[y]=x,b.iushrn(1)}return p}t.getNAF=n;function i(u,d){var h=[[],[]];u=u.clone(),d=d.clone();for(var p=0,y=0,m;u.cmpn(-p)>0||d.cmpn(-y)>0;){var b=u.andln(3)+p&3,x=d.andln(3)+y&3;b===3&&(b=-1),x===3&&(x=-1);var w;(b&1)===0?w=0:(m=u.andln(7)+p&7,(m===3||m===5)&&x===2?w=-b:w=b),h[0].push(w);var A;(x&1)===0?A=0:(m=d.andln(7)+y&7,(m===3||m===5)&&b===2?A=-x:A=x),h[1].push(A),2*p===w+1&&(p=1-p),2*y===A+1&&(y=1-y),u.iushrn(1),d.iushrn(1)}return h}t.getJSF=i;function s(u,d,h){var p="_"+d;u.prototype[d]=function(){return this[p]!==void 0?this[p]:this[p]=h.call(this)}}t.cachedProperty=s;function o(u){return typeof u=="string"?t.toArray(u,"hex"):u}t.parseBytes=o;function a(u){return new Mt(u,"hex","le")}t.intFromLE=a}),z0=Ms.getNAF,Xz=Ms.getJSF,F0=Ms.assert;function dc(r,e){this.type=r,this.p=new Mt(e.p,16),this.red=e.prime?Mt.red(e.prime):Mt.mont(this.p),this.zero=new Mt(0).toRed(this.red),this.one=new Mt(1).toRed(this.red),this.two=new Mt(2).toRed(this.red),this.n=e.n&&new Mt(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Au=dc;dc.prototype.point=function(){throw new Error("Not implemented")};dc.prototype.validate=function(){throw new Error("Not implemented")};dc.prototype._fixedNafMul=function(e,t){F0(e.precomputed);var n=e._getDoubles(),i=z0(t,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,u;for(a=0;a<i.length;a+=n.step){u=0;for(var d=a+n.step-1;d>=a;d--)u=(u<<1)+i[d];o.push(u)}for(var h=this.jpoint(null,null,null),p=this.jpoint(null,null,null),y=s;y>0;y--){for(a=0;a<o.length;a++)u=o[a],u===y?p=p.mixedAdd(n.points[a]):u===-y&&(p=p.mixedAdd(n.points[a].neg()));h=h.add(p)}return h.toP()};dc.prototype._wnafMul=function(e,t){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=z0(t,n,this._bitLength),a=this.jpoint(null,null,null),u=o.length-1;u>=0;u--){for(var d=0;u>=0&&o[u]===0;u--)d++;if(u>=0&&d++,a=a.dblp(d),u<0)break;var h=o[u];F0(h!==0),e.type==="affine"?h>0?a=a.mixedAdd(s[h-1>>1]):a=a.mixedAdd(s[-h-1>>1].neg()):h>0?a=a.add(s[h-1>>1]):a=a.add(s[-h-1>>1].neg())}return e.type==="affine"?a.toP():a};dc.prototype._wnafMulAdd=function(e,t,n,i,s){var o=this._wnafT1,a=this._wnafT2,u=this._wnafT3,d=0,h,p,y;for(h=0;h<i;h++){y=t[h];var m=y._getNAFPoints(e);o[h]=m.wnd,a[h]=m.points}for(h=i-1;h>=1;h-=2){var b=h-1,x=h;if(o[b]!==1||o[x]!==1){u[b]=z0(n[b],o[b],this._bitLength),u[x]=z0(n[x],o[x],this._bitLength),d=Math.max(u[b].length,d),d=Math.max(u[x].length,d);continue}var w=[t[b],null,null,t[x]];t[b].y.cmp(t[x].y)===0?(w[1]=t[b].add(t[x]),w[2]=t[b].toJ().mixedAdd(t[x].neg())):t[b].y.cmp(t[x].y.redNeg())===0?(w[1]=t[b].toJ().mixedAdd(t[x]),w[2]=t[b].add(t[x].neg())):(w[1]=t[b].toJ().mixedAdd(t[x]),w[2]=t[b].toJ().mixedAdd(t[x].neg()));var A=[-3,-1,-5,-7,0,7,5,1,3],P=Xz(n[b],n[x]);for(d=Math.max(P[0].length,d),u[b]=new Array(d),u[x]=new Array(d),p=0;p<d;p++){var I=P[0][p]|0,T=P[1][p]|0;u[b][p]=A[(I+1)*3+(T+1)],u[x][p]=0,a[b]=w}}var U=this.jpoint(null,null,null),B=this._wnafT4;for(h=d;h>=0;h--){for(var H=0;h>=0;){var G=!0;for(p=0;p<i;p++)B[p]=u[p][h]|0,B[p]!==0&&(G=!1);if(!G)break;H++,h--}if(h>=0&&H++,U=U.dblp(H),h<0)break;for(p=0;p<i;p++){var W=B[p];W!==0&&(W>0?y=a[p][W-1>>1]:W<0&&(y=a[p][-W-1>>1].neg()),y.type==="affine"?U=U.mixedAdd(y):U=U.add(y))}}for(h=0;h<i;h++)a[h]=null;return s?U:U.toP()};function ao(r,e){this.curve=r,this.type=e,this.precomputed=null}dc.BasePoint=ao;ao.prototype.eq=function(){throw new Error("Not implemented")};ao.prototype.validate=function(){return this.curve.validate(this)};dc.prototype.decodePoint=function(e,t){e=Ms.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?F0(e[e.length-1]%2===0):e[0]===7&&F0(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};ao.prototype.encodeCompressed=function(e){return this.encode(e,!0)};ao.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))};ao.prototype.encode=function(e,t){return Ms.encode(this._encode(t),e)};ao.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};ao.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};ao.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<t;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};ao.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)t[s]=t[s-1].add(i);return{wnd:e,points:t}};ao.prototype._getBeta=function(){return null};ao.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var vk=bf(function(r){typeof Object.create=="function"?r.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(t,n){if(n){t.super_=n;var i=function(){};i.prototype=n.prototype,t.prototype=new i,t.prototype.constructor=t}}}),Zz=Ms.assert;function lo(r){Au.call(this,"short",r),this.a=new Mt(r.a,16).toRed(this.red),this.b=new Mt(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}vk(lo,Au);var eF=lo;lo.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new Mt(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)n=new Mt(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))===0?n=s[0]:(n=s[1],Zz(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new Mt(a.a,16),b:new Mt(a.b,16)}}):o=this._getEndoBasis(n),{beta:t,lambda:n,basis:o}}};lo.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Mt.mont(e),n=new Mt(2).toRed(t).redInvm(),i=n.redNeg(),s=new Mt(3).toRed(t).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};lo.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new Mt(1),o=new Mt(0),a=new Mt(0),u=new Mt(1),d,h,p,y,m,b,x,w=0,A,P;n.cmpn(0)!==0;){var I=i.div(n);A=i.sub(I.mul(n)),P=a.sub(I.mul(s));var T=u.sub(I.mul(o));if(!p&&A.cmp(t)<0)d=x.neg(),h=s,p=A.neg(),y=P;else if(p&&++w===2)break;x=A,i=n,n=A,a=s,s=P,u=o,o=T}m=A.neg(),b=P;var U=p.sqr().add(y.sqr()),B=m.sqr().add(b.sqr());return B.cmp(U)>=0&&(m=d,b=h),p.negative&&(p=p.neg(),y=y.neg()),m.negative&&(m=m.neg(),b=b.neg()),[{a:p,b:y},{a:m,b}]};lo.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],i=t[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),u=o.mul(i.a),d=s.mul(n.b),h=o.mul(i.b),p=e.sub(a).sub(u),y=d.add(h).neg();return{k1:p,k2:y}};lo.prototype.pointFromX=function(e,t){e=new Mt(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(t&&!s||!t&&s)&&(i=i.redNeg()),this.point(e,i)};lo.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,i=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};lo.prototype._endoWnafMulAdd=function(e,t,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),u=e[o],d=u._getBeta();a.k1.negative&&(a.k1.ineg(),u=u.neg(!0)),a.k2.negative&&(a.k2.ineg(),d=d.neg(!0)),i[o*2]=u,i[o*2+1]=d,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var h=this._wnafMulAdd(1,i,s,o*2,n),p=0;p<o*2;p++)i[p]=null,s[p]=null;return h};function Gn(r,e,t,n){Au.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Mt(e,16),this.y=new Mt(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}vk(Gn,Au.BasePoint);lo.prototype.point=function(e,t,n){return new Gn(this,e,t,n)};lo.prototype.pointFromJSON=function(e,t){return Gn.fromJSON(this,e,t)};Gn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}};Gn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Gn.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=t[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Gn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Gn.prototype.isInfinity=function(){return this.inf};Gn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Gn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Gn.prototype.getX=function(){return this.x.fromRed()};Gn.prototype.getY=function(){return this.y.fromRed()};Gn.prototype.mul=function(e){return e=new Mt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Gn.prototype.mulAdd=function(e,t,n){var i=[this,t],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Gn.prototype.jmulAdd=function(e,t,n){var i=[this,t],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Gn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Gn.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return t};Gn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function ii(r,e,t,n){Au.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Mt(0)):(this.x=new Mt(e,16),this.y=new Mt(t,16),this.z=new Mt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}vk(ii,Au.BasePoint);lo.prototype.jpoint=function(e,t,n){return new ii(this,e,t,n)};ii.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(n,i)};ii.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ii.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(t),s=e.x.redMul(n),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),u=i.redSub(s),d=o.redSub(a);if(u.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=u.redSqr(),p=h.redMul(u),y=i.redMul(h),m=d.redSqr().redIAdd(p).redISub(y).redISub(y),b=d.redMul(y.redISub(m)).redISub(o.redMul(p)),x=this.z.redMul(e.z).redMul(u);return this.curve.jpoint(m,b,x)};ii.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,i=e.x.redMul(t),s=this.y,o=e.y.redMul(t).redMul(this.z),a=n.redSub(i),u=s.redSub(o);if(a.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=a.redSqr(),h=d.redMul(a),p=n.redMul(d),y=u.redSqr().redIAdd(h).redISub(p).redISub(p),m=u.redMul(p.redISub(y)).redISub(s.redMul(h)),b=this.z.redMul(a);return this.curve.jpoint(y,m,b)};ii.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,u=this.z,d=u.redSqr().redSqr(),h=a.redAdd(a);for(t=0;t<e;t++){var p=o.redSqr(),y=h.redSqr(),m=y.redSqr(),b=p.redAdd(p).redIAdd(p).redIAdd(i.redMul(d)),x=o.redMul(y),w=b.redSqr().redISub(x.redAdd(x)),A=x.redISub(w),P=b.redMul(A);P=P.redIAdd(P).redISub(m);var I=h.redMul(u);t+1<e&&(d=d.redMul(m)),o=w,u=I,h=P}return this.curve.jpoint(o,h.redMul(s),u)};ii.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ii.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var u=i.redAdd(i).redIAdd(i),d=u.redSqr().redISub(a).redISub(a),h=o.redIAdd(o);h=h.redIAdd(h),h=h.redIAdd(h),e=d,t=u.redMul(a.redISub(d)).redISub(h),n=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),y=this.y.redSqr(),m=y.redSqr(),b=this.x.redAdd(y).redSqr().redISub(p).redISub(m);b=b.redIAdd(b);var x=p.redAdd(p).redIAdd(p),w=x.redSqr(),A=m.redIAdd(m);A=A.redIAdd(A),A=A.redIAdd(A),e=w.redISub(b).redISub(b),t=x.redMul(b.redISub(e)).redISub(A),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)};ii.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var u=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),d=u.redSqr().redISub(a).redISub(a);e=d;var h=o.redIAdd(o);h=h.redIAdd(h),h=h.redIAdd(h),t=u.redMul(a.redISub(d)).redISub(h),n=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),y=this.y.redSqr(),m=this.x.redMul(y),b=this.x.redSub(p).redMul(this.x.redAdd(p));b=b.redAdd(b).redIAdd(b);var x=m.redIAdd(m);x=x.redIAdd(x);var w=x.redAdd(x);e=b.redSqr().redISub(w),n=this.y.redAdd(this.z).redSqr().redISub(y).redISub(p);var A=y.redSqr();A=A.redIAdd(A),A=A.redIAdd(A),A=A.redIAdd(A),t=b.redMul(x.redISub(e)).redISub(A)}return this.curve.jpoint(e,t,n)};ii.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=t.redSqr(),a=n.redSqr(),u=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),d=t.redAdd(t);d=d.redIAdd(d);var h=d.redMul(a),p=u.redSqr().redISub(h.redAdd(h)),y=h.redISub(p),m=a.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var b=u.redMul(y).redISub(m),x=n.redAdd(n).redMul(i);return this.curve.jpoint(p,b,x)};ii.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),i=t.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var u=a.redSqr(),d=i.redIAdd(i);d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var h=s.redIAdd(a).redSqr().redISub(o).redISub(u).redISub(d),p=t.redMul(h);p=p.redIAdd(p),p=p.redIAdd(p);var y=this.x.redMul(u).redISub(p);y=y.redIAdd(y),y=y.redIAdd(y);var m=this.y.redMul(h.redMul(d.redISub(h)).redISub(a.redMul(u)));m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var b=this.z.redAdd(a).redSqr().redISub(n).redISub(u);return this.curve.jpoint(y,m,b)};ii.prototype.mul=function(e,t){return e=new Mt(e,t),this.curve._wnafMul(this,e)};ii.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};ii.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};ii.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ii.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var h0=bf(function(r,e){var t=e;t.base=Au,t.short=eF,t.mont=null,t.edwards=null}),p0=bf(function(r,e){var t=e,n=Ms.assert;function i(a){a.type==="short"?this.curve=new h0.short(a):a.type==="edwards"?this.curve=new h0.edwards(a):this.curve=new h0.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=i;function s(a,u){Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){var d=new i(u);return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,value:d}),d}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Jo.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Jo.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Jo.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Jo.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Jo.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Jo.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Jo.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Jo.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function ec(r){if(!(this instanceof ec))return new ec(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Po.toArray(r.entropy,r.entropyEnc||"hex"),t=Po.toArray(r.nonce,r.nonceEnc||"hex"),n=Po.toArray(r.pers,r.persEnc||"hex");xk(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,n)}var eP=ec;ec.prototype._init=function(e,t,n){var i=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};ec.prototype._hmac=function(){return new Jo.hmac(this.hash,this.K)};ec.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};ec.prototype.reseed=function(e,t,n,i){typeof t!="string"&&(i=n,n=t,t=null),e=Po.toArray(e,t),n=Po.toArray(n,i),xk(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};ec.prototype.generate=function(e,t,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=n,n=t,t=null),n&&(n=Po.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,Po.encode(o,t)};var Mw=Ms.assert;function bi(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var bk=bi;bi.fromPublic=function(e,t,n){return t instanceof bi?t:new bi(e,{pub:t,pubEnc:n})};bi.fromPrivate=function(e,t,n){return t instanceof bi?t:new bi(e,{priv:t,privEnc:n})};bi.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};bi.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};bi.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};bi.prototype._importPrivate=function(e,t){this.priv=new Mt(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};bi.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?Mw(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Mw(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};bi.prototype.derive=function(e){return e.validate()||Mw(e.validate(),"public point not validated"),e.mul(this.priv).getX()};bi.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)};bi.prototype.verify=function(e,t,n){return this.ec.verify(e,t,this,void 0,n)};bi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var tF=Ms.assert;function Ay(r,e){if(r instanceof Ay)return r;this._importDER(r,e)||(tF(r.r&&r.s,"Signature without r or s"),this.r=new Mt(r.r,16),this.s=new Mt(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var jy=Ay;function rF(){this.place=0}function fb(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4||r[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=r[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function RS(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}Ay.prototype._importDER=function(e,t){e=Ms.toArray(e,t);var n=new rF;if(e[n.place++]!==48)return!1;var i=fb(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=fb(e,n);if(s===!1||(e[n.place]&128)!==0)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=fb(e,n);if(a===!1||e.length!==a+n.place||(e[n.place]&128)!==0)return!1;var u=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new Mt(o),this.s=new Mt(u),this.recoveryParam=null,!0};function hb(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}Ay.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=RS(t),n=RS(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];hb(i,t.length),i=i.concat(t),i.push(2),hb(i,n.length);var s=i.concat(n),o=[48];return hb(o,s.length),o=o.concat(s),Ms.encode(o,e)};var nF=function(){throw new Error("unsupported")},Xc=Ms.assert;function oo(r){if(!(this instanceof oo))return new oo(r);typeof r=="string"&&(Xc(Object.prototype.hasOwnProperty.call(p0,r),"Unknown curve "+r),r=p0[r]),r instanceof p0.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var iF=oo;oo.prototype.keyPair=function(e){return new bk(this,e)};oo.prototype.keyFromPrivate=function(e,t){return bk.fromPrivate(this,e,t)};oo.prototype.keyFromPublic=function(e,t){return bk.fromPublic(this,e,t)};oo.prototype.genKeyPair=function(e){e||(e={});for(var t=new eP({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||nF(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Mt(2));;){var s=new Mt(t.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};oo.prototype._truncateToN=function(e,t,n){var i;if(Mt.isBN(e)||typeof e=="number")e=new Mt(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new Mt(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new Mt(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};oo.prototype.sign=function(e,t,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!Mt.isBN(e)){Xc(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Xc(e.length>>>0===e.length);for(var s=0;s<e.length;s++)Xc((e[s]&255)===e[s])}t=this.keyFromPrivate(t,n),e=this._truncateToN(e,!1,i.msgBitLength),Xc(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=t.getPrivate().toArray("be",o),u=e.toArray("be",o);Xc(new Mt(u).eq(e),"Can not sign message");for(var d=new eP({hash:this.hash,entropy:a,nonce:u,pers:i.pers,persEnc:i.persEnc||"utf8"}),h=this.n.sub(new Mt(1)),p=0;;p++){var y=i.k?i.k(p):new Mt(d.generate(this.n.byteLength()));if(y=this._truncateToN(y,!0),!(y.cmpn(1)<=0||y.cmp(h)>=0)){var m=this.g.mul(y);if(!m.isInfinity()){var b=m.getX(),x=b.umod(this.n);if(x.cmpn(0)!==0){var w=y.invm(this.n).mul(x.mul(t.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var A=(m.getY().isOdd()?1:0)|(b.cmp(x)!==0?2:0);return i.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),A^=1),new jy({r:x,s:w,recoveryParam:A})}}}}}};oo.prototype.verify=function(e,t,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),t=new jy(t,"hex");var o=t.r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var u=a.invm(this.n),d=u.mul(e).umod(this.n),h=u.mul(o).umod(this.n),p;return this.curve._maxwellTrick?(p=this.g.jmulAdd(d,n.getPublic(),h),p.isInfinity()?!1:p.eqXToP(o)):(p=this.g.mulAdd(d,n.getPublic(),h),p.isInfinity()?!1:p.getX().umod(this.n).cmp(o)===0)};oo.prototype.recoverPubKey=function(r,e,t,n){Xc((3&t)===t,"The recovery param is more than two bits"),e=new jy(e,n);var i=this.n,s=new Mt(r),o=e.r,a=e.s,u=t&1,d=t>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");d?o=this.curve.pointFromX(o.add(this.curve.n),u):o=this.curve.pointFromX(o,u);var h=e.r.invm(i),p=i.sub(s).mul(h).umod(i),y=a.mul(h).umod(i);return this.g.mulAdd(p,o,y)};oo.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new jy(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(r,e,i)}catch{continue}if(s.eq(t))return i}throw new Error("Unable to find valid recovery factor")};var sF=bf(function(r,e){var t=e;t.version="6.6.1",t.utils=Ms,t.rand=function(){throw new Error("unsupported")},t.curve=h0,t.curves=p0,t.ec=iF,t.eddsa=null}),oF=sF.ec;const aF="signing-key/5.8.0",Ow=new se(aF);let pb=null;function Ml(){return pb||(pb=new oF("secp256k1")),pb}class lF{constructor(e){ke(this,"curve","secp256k1"),ke(this,"privateKey",ft(e)),pu(this.privateKey)!==32&&Ow.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=Ml().keyFromPrivate(Ct(this.privateKey));ke(this,"publicKey","0x"+t.getPublic(!1,"hex")),ke(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),ke(this,"_isSigningKey",!0)}_addPoint(e){const t=Ml().keyFromPublic(Ct(this.publicKey)),n=Ml().keyFromPublic(Ct(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const t=Ml().keyFromPrivate(Ct(this.privateKey)),n=Ct(e);n.length!==32&&Ow.throwArgumentError("bad digest length","digest",e);const i=t.sign(n,{canonical:!0});return Sy({recoveryParam:i.recoveryParam,r:Kr("0x"+i.r.toString(16),32),s:Kr("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const t=Ml().keyFromPrivate(Ct(this.privateKey)),n=Ml().keyFromPublic(Ct(tP(e)));return Kr("0x"+t.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function cF(r,e){const t=Sy(e),n={r:Ct(t.r),s:Ct(t.s)};return"0x"+Ml().recoverPubKey(Ct(r),n,t.recoveryParam).encode("hex",!1)}function tP(r,e){const t=Ct(r);return t.length===32?new lF(t).publicKey:t.length===33?"0x"+Ml().keyFromPublic(t).getPublic(!1,"hex"):t.length===65?ft(t):Ow.throwArgumentError("invalid public or private key","key","[REDACTED]")}const uF="transactions/5.8.0",rl=new se(uF);var IS;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(IS||(IS={}));function wk(r){return r==="0x"?null:Hn(r)}function mi(r){return r==="0x"?Ij:de.from(r)}function dF(r){const e=tP(r);return Hn(pi(Dn(pi(e,1)),12))}function rP(r,e){return dF(cF(Ct(r),e))}function ps(r,e){const t=Xd(de.from(r).toHexString());return t.length>32&&rl.throwArgumentError("invalid length for "+e,"transaction:"+e,r),t}function mb(r,e){return{address:Hn(r),storageKeys:(e||[]).map((t,n)=>(pu(t)!==32&&rl.throwArgumentError("invalid access list storageKey",`accessList[${r}:${n}]`,t),t.toLowerCase()))}}function ju(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?(t.length>2&&rl.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,t),mb(t[0],t[1])):mb(t.address,t.storageKeys));const e=Object.keys(r).map(t=>{const n=r[t].reduce((i,s)=>(i[s]=!0,i),{});return mb(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}function nP(r){return ju(r).map(e=>[e.address,e.storageKeys])}function fF(r,e){if(r.gasPrice!=null){const n=de.from(r.gasPrice),i=de.from(r.maxFeePerGas||0);n.eq(i)||rl.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const t=[ps(r.chainId||0,"chainId"),ps(r.nonce||0,"nonce"),ps(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ps(r.maxFeePerGas||0,"maxFeePerGas"),ps(r.gasLimit||0,"gasLimit"),r.to!=null?Hn(r.to):"0x",ps(r.value||0,"value"),r.data||"0x",nP(r.accessList||[])];if(e){const n=Sy(e);t.push(ps(n.recoveryParam,"recoveryParam")),t.push(Xd(n.r)),t.push(Xd(n.s))}return Ji(["0x02",Ny(t)])}function hF(r,e){const t=[ps(r.chainId||0,"chainId"),ps(r.nonce||0,"nonce"),ps(r.gasPrice||0,"gasPrice"),ps(r.gasLimit||0,"gasLimit"),r.to!=null?Hn(r.to):"0x",ps(r.value||0,"value"),r.data||"0x",nP(r.accessList||[])];if(e){const n=Sy(e);t.push(ps(n.recoveryParam,"recoveryParam")),t.push(Xd(n.r)),t.push(Xd(n.s))}return Ji(["0x01",Ny(t)])}function iP(r,e,t){try{const n=mi(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");r.v=n}catch{rl.throwArgumentError("invalid v for transaction type: 1","v",e[0])}r.r=Kr(e[1],32),r.s=Kr(e[2],32);try{const n=Dn(t(r));r.from=rP(n,{r:r.r,s:r.s,recoveryParam:r.v})}catch{}}function pF(r){const e=pk(r.slice(1));e.length!==9&&e.length!==12&&rl.throwArgumentError("invalid component count for transaction type: 2","payload",ft(r));const t=mi(e[2]),n=mi(e[3]),i={type:2,chainId:mi(e[0]).toNumber(),nonce:mi(e[1]).toNumber(),maxPriorityFeePerGas:t,maxFeePerGas:n,gasPrice:null,gasLimit:mi(e[4]),to:wk(e[5]),value:mi(e[6]),data:e[7],accessList:ju(e[8])};return e.length===9||(i.hash=Dn(r),iP(i,e.slice(9),fF)),i}function mF(r){const e=pk(r.slice(1));e.length!==8&&e.length!==11&&rl.throwArgumentError("invalid component count for transaction type: 1","payload",ft(r));const t={type:1,chainId:mi(e[0]).toNumber(),nonce:mi(e[1]).toNumber(),gasPrice:mi(e[2]),gasLimit:mi(e[3]),to:wk(e[4]),value:mi(e[5]),data:e[6],accessList:ju(e[7])};return e.length===8||(t.hash=Dn(r),iP(t,e.slice(8),hF)),t}function gF(r){const e=pk(r);e.length!==9&&e.length!==6&&rl.throwArgumentError("invalid raw transaction","rawTransaction",r);const t={nonce:mi(e[0]).toNumber(),gasPrice:mi(e[1]),gasLimit:mi(e[2]),to:wk(e[3]),value:mi(e[4]),data:e[5],chainId:0};if(e.length===6)return t;try{t.v=de.from(e[6]).toNumber()}catch{return t}if(t.r=Kr(e[7],32),t.s=Kr(e[8],32),de.from(t.r).isZero()&&de.from(t.s).isZero())t.chainId=t.v,t.v=0;else{t.chainId=Math.floor((t.v-35)/2),t.chainId<0&&(t.chainId=0);let n=t.v-27;const i=e.slice(0,6);t.chainId!==0&&(i.push(ft(t.chainId)),i.push("0x"),i.push("0x"),n-=t.chainId*2+8);const s=Dn(Ny(i));try{t.from=rP(s,{r:ft(t.r),s:ft(t.s),recoveryParam:n})}catch{}t.hash=Dn(r)}return t.type=null,t}function yF(r){const e=Ct(r);if(e[0]>127)return gF(e);switch(e[0]){case 1:return mF(e);case 2:return pF(e)}return rl.throwError(`unsupported transaction type: ${e[0]}`,se.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const xF="contracts/5.8.0";var gu=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{d(n.next(h))}catch(p){o(p)}}function u(h){try{d(n.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):i(h.value).then(a,u)}d((n=n.apply(r,e||[])).next())})};const hn=new se(xF);function B0(r,e){return gu(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&hn.throwArgumentError("invalid address or ENS name","name",t);try{return Hn(t)}catch{}r||hn.throwError("a provider or signer is needed to resolve ENS names",se.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield r.resolveName(t);return n==null&&hn.throwArgumentError("resolver or addr is not configured for ENS name","name",t),n})}function m0(r,e,t){return gu(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((n,i)=>m0(r,Array.isArray(e)?e[i]:e[n.name],n))):t.type==="address"?yield B0(r,e):t.type==="tuple"?yield m0(r,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>m0(r,n,t.arrayChildren))):Promise.reject(hn.makeError("invalid value for array",se.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function Py(r,e,t){return gu(this,void 0,void 0,function*(){let n={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(n=Gr(t.pop())),hn.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),r.signer?n.from?n.from=wn({override:B0(r.signer,n.from),signer:r.signer.getAddress()}).then(d=>gu(this,void 0,void 0,function*(){return Hn(d.signer)!==d.override&&hn.throwError("Contract with a Signer cannot override from",se.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),d.override})):n.from=r.signer.getAddress():n.from&&(n.from=B0(r.provider,n.from));const i=yield wn({args:m0(r.signer||r.provider,t,e.inputs),address:r.resolvedAddress,overrides:wn(n)||{}}),s=r.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(a.nonce!=null&&(o.nonce=de.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=de.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=de.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=de.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=de.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=ju(a.accessList)),o.gasLimit==null&&e.gas!=null){let d=21e3;const h=Ct(s);for(let p=0;p<h.length;p++)d+=4,h[p]&&(d+=64);o.gasLimit=de.from(e.gas).add(d)}if(a.value){const d=de.from(a.value);!d.isZero()&&!e.payable&&hn.throwError("non-payable method cannot override value",se.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=d}a.customData&&(o.customData=Gr(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const u=Object.keys(n).filter(d=>n[d]!=null);return u.length&&hn.throwError(`cannot override ${u.map(d=>JSON.stringify(d)).join(",")}`,se.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:u}),o})}function vF(r,e){return function(...t){return Py(r,e,t)}}function bF(r,e){const t=r.signer||r.provider;return function(...n){return gu(this,void 0,void 0,function*(){t||hn.throwError("estimate require a provider or signer",se.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield Py(r,e,n);return yield t.estimateGas(i)})}}function wF(r,e){const t=e.wait.bind(e);e.wait=n=>t(n).then(i=>(i.events=i.logs.map(s=>{let o=Ns(s),a=null;try{a=r.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(u,d)=>r.interface.decodeEventLog(a.eventFragment,u,d),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>r.provider,o.getBlock=()=>r.provider.getBlock(i.blockHash),o.getTransaction=()=>r.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function sP(r,e,t){const n=r.signer||r.provider;return function(...i){return gu(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const u=Gr(i.pop());u.blockTag!=null&&(s=yield u.blockTag),delete u.blockTag,i.push(u)}r.deployTransaction!=null&&(yield r._deployed(s));const o=yield Py(r,e,i),a=yield n.call(o,s);try{let u=r.interface.decodeFunctionResult(e,a);return t&&e.outputs.length===1&&(u=u[0]),u}catch(u){throw u.code===se.errors.CALL_EXCEPTION&&(u.address=r.address,u.args=i,u.transaction=o),u}})}}function kF(r,e){return function(...t){return gu(this,void 0,void 0,function*(){r.signer||hn.throwError("sending a transaction requires a signer",se.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),r.deployTransaction!=null&&(yield r._deployed());const n=yield Py(r,e,t),i=yield r.signer.sendTransaction(n);return wF(r,i),i})}}function MS(r,e,t){return e.constant?sP(r,e,t):kF(r,e)}function oP(r){return r.address&&(r.topics==null||r.topics.length===0)?"*":(r.address||"*")+"@"+(r.topics?r.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class _p{constructor(e,t){ke(this,"tag",e),ke(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(n=>t||n.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class _F extends _p{constructor(){super("error",null)}}class OS extends _p{constructor(e,t,n,i){const s={address:e};let o=t.getEventTopic(n);i?(o!==i[0]&&hn.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(oP(s),s),ke(this,"address",e),ke(this,"interface",t),ke(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,n)=>this.interface.decodeEventLog(this.fragment,t,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=kL(e.args);if(t.length)throw t[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class DS extends _p{constructor(e,t){super("*",{address:e}),ke(this,"address",e),ke(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(n,i)=>this.interface.decodeEventLog(t.eventFragment,n,i),e.args=t.args}catch{}}}class EF{constructor(e,t,n){ke(this,"interface",Es(new.target,"getInterface")(t)),n==null?(ke(this,"provider",null),ke(this,"signer",null)):Xp.isSigner(n)?(ke(this,"provider",n.provider||null),ke(this,"signer",n)):gk.isProvider(n)?(ke(this,"provider",n),ke(this,"signer",null)):hn.throwArgumentError("invalid signer or provider","signerOrProvider",n),ke(this,"callStatic",{}),ke(this,"estimateGas",{}),ke(this,"functions",{}),ke(this,"populateTransaction",{}),ke(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const u=this.interface.events[a];ke(this.filters,a,(...d)=>({address:this.address,topics:this.interface.encodeFilterTopics(u,d)})),o[u.name]||(o[u.name]=[]),o[u.name].push(a)}),Object.keys(o).forEach(a=>{const u=o[a];u.length===1?ke(this.filters,a,this.filters[u[0]]):hn.warn(`Duplicate definition of ${a} (${u.join(", ")})`)})}if(ke(this,"_runningEvents",{}),ke(this,"_wrappedEmits",{}),e==null&&hn.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ke(this,"address",e),this.provider)ke(this,"resolvedAddress",B0(this.provider,e));else try{ke(this,"resolvedAddress",Promise.resolve(Hn(e)))}catch{hn.throwError("provider is required to use ENS name as contract address",se.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){hn.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const u=a.name;i[`%${u}`]||(i[`%${u}`]=[]),i[`%${u}`].push(o)}this[o]==null&&ke(this,o,MS(this,a,!0)),this.functions[o]==null&&ke(this.functions,o,MS(this,a,!1)),this.callStatic[o]==null&&ke(this.callStatic,o,sP(this,a,!0)),this.populateTransaction[o]==null&&ke(this.populateTransaction,o,vF(this,a)),this.estimateGas[o]==null&&ke(this.estimateGas,o,bF(this,a))}),Object.keys(i).forEach(o=>{const a=i[o];if(a.length>1)return;o=o.substring(1);const u=a[0];try{this[o]==null&&ke(this,o,this[u])}catch{}this.functions[o]==null&&ke(this.functions,o,this.functions[u]),this.callStatic[o]==null&&ke(this.callStatic,o,this.callStatic[u]),this.populateTransaction[o]==null&&ke(this.populateTransaction,o,this.populateTransaction[u]),this.estimateGas[o]==null&&ke(this.estimateGas,o,this.estimateGas[u])})}static getContractAddress(e){return Aj(e)}static getInterface(e){return Iw.isInterface(e)?e:new Iw(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&hn.throwError("contract not deployed",se.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||hn.throwError("sending a transactions require a signer",se.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=Gr(e||{});return["from","to"].forEach(function(n){t[n]!=null&&hn.throwError("cannot override "+n,se.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new yk(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ke(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Rw.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new _F);if(e==="event")return this._normalizeRunningEvent(new _p("event",null));if(e==="*")return this._normalizeRunningEvent(new DS(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new OS(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new OS(this.address,this.interface,i,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new _p(oP(t),t))}return this._normalizeRunningEvent(new DS(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,n){const i=Ns(t);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(t.blockHash),i.getTransaction=()=>this.provider.getTransaction(t.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(i),i}_addEventListener(e,t,n){if(this.provider||hn.throwError("events require a provider or a signer with a provider",se.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let o=this._wrapEvent(e,s,t);if(o.decodeError==null)try{const a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,t,n){const i=this._getRunningEvent(e),s=Gr(i.filter);return typeof t=="string"&&Yt(t,32)?(n!=null&&hn.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=t):(s.fromBlock=t??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(i,a,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(t)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,n)=>t+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{t.push(i)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(t),this._checkRunningEvents(n),this}removeListener(e,t){return this.off(e,t)}}class At extends EF{}class aP{constructor(e){ke(this,"alphabet",e),ke(this,"base",e.length),ke(this,"_alphabetMap",{}),ke(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=Ct(e);if(t.length===0)return"";let n=[0];for(let s=0;s<t.length;++s){let o=t[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;t[s]===0&&s<t.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<t.length;++o)s+=t[o]*this.base,t[o]=s&255,s>>=8;for(;s>0;)t.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)t.push(0);return Ct(new Uint8Array(t.reverse()))}}new aP("abcdefghijklmnopqrstuvwxyz234567");const Dw=new aP("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function LS(r){return"0x"+Jo.sha256().update(Ct(r)).digest("hex")}function CF(r){r=r.slice();for(let e=r.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1)),n=r[e];r[e]=r[t],r[t]=n}return r}const SF="networks/5.8.0",zS=new se(SF);function NF(r){return r&&typeof r.renetwork=="function"}function To(r){const e=function(t,n){n==null&&(n={});const i=[];if(t.InfuraProvider&&n.infura!=="-")try{i.push(new t.InfuraProvider(r,n.infura))}catch{}if(t.EtherscanProvider&&n.etherscan!=="-")try{i.push(new t.EtherscanProvider(r,n.etherscan))}catch{}if(t.AlchemyProvider&&n.alchemy!=="-")try{i.push(new t.AlchemyProvider(r,n.alchemy))}catch{}if(t.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new t.PocketProvider(r,n.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(t.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new t.CloudflareProvider(r))}catch{}if(t.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],o=new t.AnkrProvider(r,n.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(t.QuickNodeProvider&&n.quicknode!=="-")try{i.push(new t.QuickNodeProvider(r,n.quicknode))}catch{}if(i.length===0)return null;if(t.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:r==="homestead"&&(s=2),new t.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(t){return To(t)},e}function $0(r,e){const t=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(r,e):null};return t.renetwork=function(n){return $0(r,n)},t}const FS={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:To("homestead")},BS={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:To("ropsten")},$S={chainId:63,name:"classicMordor",_defaultProvider:$0("https://www.ethercluster.com/mordor","classicMordor")},vg={unspecified:{chainId:0,name:"unspecified"},homestead:FS,mainnet:FS,morden:{chainId:2,name:"morden"},ropsten:BS,testnet:BS,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:To("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:To("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:To("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:To("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:To("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:$0("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:$S,classicTestnet:$S,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:$0("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:To("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:To("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:To("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function lP(r){if(r==null)return null;if(typeof r=="number"){for(const n in vg){const i=vg[n];if(i.chainId===r)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:r,name:"unknown"}}if(typeof r=="string"){const n=vg[r];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=vg[r.name];if(!e)return typeof r.chainId!="number"&&zS.throwArgumentError("invalid network chainId","network",r),r;r.chainId!==0&&r.chainId!==e.chainId&&zS.throwArgumentError("network chainId mismatch","network",r);let t=r._defaultProvider||null;return t==null&&e._defaultProvider&&(NF(e._defaultProvider)?t=e._defaultProvider.renetwork(r):t=e._defaultProvider),{name:r.name,chainId:e.chainId,ensAddress:r.ensAddress||e.ensAddress||null,_defaultProvider:t}}const TF="web/5.8.0";var AF=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{d(n.next(h))}catch(p){o(p)}}function u(h){try{d(n.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):i(h.value).then(a,u)}d((n=n.apply(r,e||[])).next())})};function jF(r,e){return AF(this,void 0,void 0,function*(){e==null&&(e={});const t={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(t.mode="cors",t.cache="no-cache",t.credentials="same-origin",t.redirect="follow",t.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(t.mode=o.mode),o.cache&&(t.cache=o.cache),o.credentials&&(t.credentials=o.credentials),o.redirect&&(t.redirect=o.redirect),o.referrer&&(t.referrer=o.referrer)}const n=yield fetch(r,t),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:Ct(new Uint8Array(i))}})}var PF=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{d(n.next(h))}catch(p){o(p)}}function u(h){try{d(n.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):i(h.value).then(a,u)}d((n=n.apply(r,e||[])).next())})};const ko=new se(TF);function US(r){return new Promise(e=>{setTimeout(e,r)})}function Sl(r,e){if(r==null)return null;if(typeof r=="string")return r;if(dk(r)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Qp(r)}catch{}return ft(r)}return r}function RF(r){return da(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function IF(r,e,t){const n=typeof r=="object"&&r.throttleLimit!=null?r.throttleLimit:12;ko.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof r=="object"?r.throttleCallback:null,s=typeof r=="object"&&typeof r.throttleSlotInterval=="number"?r.throttleSlotInterval:100;ko.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof r=="object"?!!r.errorPassThrough:!1,a={};let u=null;const d={method:"GET"};let h=!1,p=120*1e3;if(typeof r=="string")u=r;else if(typeof r=="object"){if((r==null||r.url==null)&&ko.throwArgumentError("missing URL","connection.url",r),u=r.url,typeof r.timeout=="number"&&r.timeout>0&&(p=r.timeout),r.headers)for(const A in r.headers)a[A.toLowerCase()]={key:A,value:String(r.headers[A])},["if-none-match","if-modified-since"].indexOf(A.toLowerCase())>=0&&(h=!0);if(d.allowGzip=!!r.allowGzip,r.user!=null&&r.password!=null){u.substring(0,6)!=="https:"&&r.allowInsecureAuthentication!==!0&&ko.throwError("basic authentication requires a secure https url",se.errors.INVALID_ARGUMENT,{argument:"url",url:u,user:r.user,password:"[REDACTED]"});const A=r.user+":"+r.password;a.authorization={key:"Authorization",value:"Basic "+Fj(da(A))}}r.skipFetchSetup!=null&&(d.skipFetchSetup=!!r.skipFetchSetup),r.fetchOptions!=null&&(d.fetchOptions=Gr(r.fetchOptions))}const y=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),m=u?u.match(y):null;if(m)try{const A={statusCode:200,statusMessage:"OK",headers:{"content-type":m[1]||"text/plain"},body:m[2]?zj(m[3]):RF(m[3])};let P=A.body;return t&&(P=t(A.body,A)),Promise.resolve(P)}catch(A){ko.throwError("processing response error",se.errors.SERVER_ERROR,{body:Sl(m[1],m[2]),error:A,requestBody:null,requestMethod:"GET",url:u})}e&&(d.method="POST",d.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const b={};Object.keys(a).forEach(A=>{const P=a[A];b[P.key]=P.value}),d.headers=b;const x=function(){let A=null;return{promise:new Promise(function(T,U){p&&(A=setTimeout(()=>{A!=null&&(A=null,U(ko.makeError("timeout",se.errors.TIMEOUT,{requestBody:Sl(d.body,b["content-type"]),requestMethod:d.method,timeout:p,url:u})))},p))}),cancel:function(){A!=null&&(clearTimeout(A),A=null)}}}(),w=function(){return PF(this,void 0,void 0,function*(){for(let A=0;A<n;A++){let P=null;try{if(P=yield jF(u,d),A<n){if(P.statusCode===301||P.statusCode===302){const T=P.headers.location||"";if(d.method==="GET"&&T.match(/^https:/)){u=P.headers.location;continue}}else if(P.statusCode===429){let T=!0;if(i&&(T=yield i(A,u)),T){let U=0;const B=P.headers["retry-after"];typeof B=="string"&&B.match(/^[1-9][0-9]*$/)?U=parseInt(B)*1e3:U=s*parseInt(String(Math.random()*Math.pow(2,A))),yield US(U);continue}}}}catch(T){P=T.response,P==null&&(x.cancel(),ko.throwError("missing response",se.errors.SERVER_ERROR,{requestBody:Sl(d.body,b["content-type"]),requestMethod:d.method,serverError:T,url:u}))}let I=P.body;if(h&&P.statusCode===304?I=null:!o&&(P.statusCode<200||P.statusCode>=300)&&(x.cancel(),ko.throwError("bad response",se.errors.SERVER_ERROR,{status:P.statusCode,headers:P.headers,body:Sl(I,P.headers?P.headers["content-type"]:null),requestBody:Sl(d.body,b["content-type"]),requestMethod:d.method,url:u})),t)try{const T=yield t(I,P);return x.cancel(),T}catch(T){if(T.throttleRetry&&A<n){let U=!0;if(i&&(U=yield i(A,u)),U){const B=s*parseInt(String(Math.random()*Math.pow(2,A)));yield US(B);continue}}x.cancel(),ko.throwError("processing response error",se.errors.SERVER_ERROR,{body:Sl(I,P.headers?P.headers["content-type"]:null),error:T,requestBody:Sl(d.body,b["content-type"]),requestMethod:d.method,url:u})}return x.cancel(),I}return ko.throwError("failed response",se.errors.SERVER_ERROR,{requestBody:Sl(d.body,b["content-type"]),requestMethod:d.method,url:u})})}();return Promise.race([x.promise,w])}function Ry(r,e,t){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(Qp(s))}catch(u){ko.throwError("invalid JSON",se.errors.SERVER_ERROR,{body:s,error:u})}return t&&(a=t(a,o)),a},i=null;if(e!=null){i=da(e);const s=typeof r=="string"?{url:r}:Gr(r);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=Gr(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},r=s}return IF(r,i,n)}function Pd(r,e){return e||(e={}),e=Gr(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(t,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let u=0;function d(){return r().then(function(h){if(h!==void 0)o()&&t(h);else if(e.oncePoll)e.oncePoll.once("poll",d);else if(e.onceBlock)e.onceBlock.once("block",d);else if(!s){if(u++,u>a){o()&&n(new Error("retry limit reached"));return}let p=e.interval*parseInt(String(Math.random()*Math.pow(2,u)));p<e.floor&&(p=e.floor),p>e.ceiling&&(p=e.ceiling),setTimeout(d,p)}return null},function(h){o()&&n(h)})}d()})}var gb,qS;function MF(){if(qS)return gb;qS=1;for(var r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",e={},t=0;t<r.length;t++){var n=r.charAt(t);if(e[n]!==void 0)throw new TypeError(n+" is ambiguous");e[n]=t}function i(x){var w=x>>25;return(x&33554431)<<5^-(w>>0&1)&996825010^-(w>>1&1)&642813549^-(w>>2&1)&513874426^-(w>>3&1)&1027748829^-(w>>4&1)&705979059}function s(x){for(var w=1,A=0;A<x.length;++A){var P=x.charCodeAt(A);if(P<33||P>126)return"Invalid prefix ("+x+")";w=i(w)^P>>5}for(w=i(w),A=0;A<x.length;++A){var I=x.charCodeAt(A);w=i(w)^I&31}return w}function o(x,w,A){if(A=A||90,x.length+7+w.length>A)throw new TypeError("Exceeds length limit");x=x.toLowerCase();var P=s(x);if(typeof P=="string")throw new Error(P);for(var I=x+"1",T=0;T<w.length;++T){var U=w[T];if(U>>5!==0)throw new Error("Non 5-bit word");P=i(P)^U,I+=r.charAt(U)}for(T=0;T<6;++T)P=i(P);for(P^=1,T=0;T<6;++T){var B=P>>(5-T)*5&31;I+=r.charAt(B)}return I}function a(x,w){if(w=w||90,x.length<8)return x+" too short";if(x.length>w)return"Exceeds length limit";var A=x.toLowerCase(),P=x.toUpperCase();if(x!==A&&x!==P)return"Mixed-case string "+x;x=A;var I=x.lastIndexOf("1");if(I===-1)return"No separator character for "+x;if(I===0)return"Missing prefix for "+x;var T=x.slice(0,I),U=x.slice(I+1);if(U.length<6)return"Data too short";var B=s(T);if(typeof B=="string")return B;for(var H=[],G=0;G<U.length;++G){var W=U.charAt(G),V=e[W];if(V===void 0)return"Unknown character "+W;B=i(B)^V,!(G+6>=U.length)&&H.push(V)}return B!==1?"Invalid checksum for "+x:{prefix:T,words:H}}function u(){var x=a.apply(null,arguments);if(typeof x=="object")return x}function d(x){var w=a.apply(null,arguments);if(typeof w=="object")return w;throw new Error(w)}function h(x,w,A,P){for(var I=0,T=0,U=(1<<A)-1,B=[],H=0;H<x.length;++H)for(I=I<<w|x[H],T+=w;T>=A;)T-=A,B.push(I>>T&U);if(P)T>0&&B.push(I<<A-T&U);else{if(T>=w)return"Excess padding";if(I<<A-T&U)return"Non-zero padding"}return B}function p(x){var w=h(x,8,5,!0);if(Array.isArray(w))return w}function y(x){var w=h(x,8,5,!0);if(Array.isArray(w))return w;throw new Error(w)}function m(x){var w=h(x,5,8,!1);if(Array.isArray(w))return w}function b(x){var w=h(x,5,8,!1);if(Array.isArray(w))return w;throw new Error(w)}return gb={decodeUnsafe:u,decode:d,encode:o,toWordsUnsafe:p,toWords:y,fromWordsUnsafe:m,fromWords:b},gb}var OF=MF();const WS=el(OF),si="providers/5.8.0",vh=new se(si);class et{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),u=this.number.bind(this),d=this.type.bind(this),h=p=>this.data(p,!0);return e.transaction={hash:o,type:d,accessList:et.allowNull(this.accessList.bind(this),null),blockHash:et.allowNull(o,null),blockNumber:et.allowNull(u,null),transactionIndex:et.allowNull(u,null),confirmations:et.allowNull(u,null),from:t,gasPrice:et.allowNull(n),maxPriorityFeePerGas:et.allowNull(n),maxFeePerGas:et.allowNull(n),gasLimit:n,to:et.allowNull(t,null),value:n,nonce:u,data:s,r:et.allowNull(this.uint256),s:et.allowNull(this.uint256),v:et.allowNull(u),creates:et.allowNull(t,null),raw:et.allowNull(s)},e.transactionRequest={from:et.allowNull(t),nonce:et.allowNull(u),gasLimit:et.allowNull(n),gasPrice:et.allowNull(n),maxPriorityFeePerGas:et.allowNull(n),maxFeePerGas:et.allowNull(n),to:et.allowNull(t),value:et.allowNull(n),data:et.allowNull(h),type:et.allowNull(u),accessList:et.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:u,blockNumber:u,transactionHash:o,address:t,topics:et.arrayOf(o),data:s,logIndex:u,blockHash:o},e.receipt={to:et.allowNull(this.address,null),from:et.allowNull(this.address,null),contractAddress:et.allowNull(t,null),transactionIndex:u,root:et.allowNull(a),gasUsed:n,logsBloom:et.allowNull(s),blockHash:o,transactionHash:o,logs:et.arrayOf(this.receiptLog.bind(this)),blockNumber:u,confirmations:et.allowNull(u,null),cumulativeGasUsed:n,effectiveGasPrice:et.allowNull(n),status:et.allowNull(u),type:d},e.block={hash:et.allowNull(o),parentHash:o,number:u,timestamp:u,nonce:et.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:et.allowNull(t),extraData:s,transactions:et.allowNull(et.arrayOf(o)),baseFeePerGas:et.allowNull(n)},e.blockWithTransactions=Gr(e.block),e.blockWithTransactions.transactions=et.allowNull(et.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:et.allowNull(i,void 0),toBlock:et.allowNull(i,void 0),blockHash:et.allowNull(o,void 0),address:et.allowNull(t,void 0),topics:et.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:et.allowNull(u),blockHash:et.allowNull(o),transactionIndex:u,removed:et.allowNull(this.boolean.bind(this)),address:t,data:et.allowFalsish(s,"0x"),topics:et.arrayOf(o),transactionHash:o,logIndex:u},e}accessList(e){return ju(e||[])}number(e){return e==="0x"?0:de.from(e).toNumber()}type(e){return e==="0x"||e==null?0:de.from(e).toNumber()}bigNumber(e){return de.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return typeof e=="string"&&(!t&&e.substring(0,2)!=="0x"&&(e="0x"+e),Yt(e))?e.toLowerCase():vh.throwArgumentError("invalid hash","value",e)}data(e,t){const n=this.hex(e,t);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Hn(e)}callAddress(e){if(!Yt(e,32))return null;const t=Hn(pi(e,12));return t===He?null:t}contractAddress(e){return Aj(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Yt(e))return Cy(e);throw new Error("invalid blockTag")}hash(e,t){const n=this.hex(e,t);return pu(n)!==32?vh.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const t=de.from(e);try{return t.toNumber()}catch{}return null}uint256(e){if(!Yt(e))throw new Error("invalid uint256");return Kr(e,32)}_block(e,t){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=et.check(t,e);return i._difficulty=n==null?null:de.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return et.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&de.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const t=et.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;Yt(n)&&(n=de.from(n).toNumber()),t.chainId=n}else{let n=e.networkId;n==null&&t.v==null&&(n=e.chainId),Yt(n)&&(n=de.from(n).toNumber()),typeof n!="number"&&t.v!=null&&(n=(t.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),t.chainId=n}return t.blockHash&&t.blockHash.replace(/0/g,"")==="x"&&(t.blockHash=null),t}transaction(e){return yF(e)}receiptLog(e){return et.check(this.formats.receiptLog,e)}receipt(e){const t=et.check(this.formats.receipt,e);if(t.root!=null)if(t.root.length<=4){const n=de.from(t.root).toNumber();n===0||n===1?(t.status!=null&&t.status!==n&&vh.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=n,delete t.root):vh.throwArgumentError("invalid alt-root-status","value.root",t.root)}else t.root.length!==66&&vh.throwArgumentError("invalid root hash","value.root",t.root);return t.status!=null&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(t=>this.topics(t)):e!=null?this.hash(e,!0):null}filter(e){return et.check(this.formats.filter,e)}filterLog(e){return et.check(this.formats.filterLog,e)}static check(e,t){const n={};for(const i in e)try{const s=e[i](t[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=t[i],s}return n}static allowNull(e,t){return function(n){return n==null?t:e(n)}}static allowFalsish(e,t){return function(n){return n?e(n):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const n=[];return t.forEach(function(i){n.push(e(i))}),n}}}function DF(r){return r&&typeof r.isCommunityResource=="function"}function HS(r){return DF(r)&&r.isCommunityResource()}let VS=!1;function Iy(){VS||(VS=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var Bt=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{d(n.next(h))}catch(p){o(p)}}function u(h){try{d(n.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):i(h.value).then(a,u)}d((n=n.apply(r,e||[])).next())})};const Qt=new se(si),LF=10;function GS(r){return r==null?"null":(pu(r)!==32&&Qt.throwArgumentError("invalid topic","topic",r),r.toLowerCase())}function KS(r){for(r=r.slice();r.length>0&&r[r.length-1]==null;)r.pop();return r.map(e=>{if(Array.isArray(e)){const t={};e.forEach(i=>{t[GS(i)]=!0});const n=Object.keys(t);return n.sort(),n.join("|")}else return GS(e)}).join("&")}function zF(r){return r===""?[]:r.split(/&/g).map(e=>{if(e==="")return[];const t=e.split("|").map(n=>n==="null"?null:n);return t.length===1?t[0]:t})}function ld(r){if(typeof r=="string"){if(r=r.toLowerCase(),pu(r)===32)return"tx:"+r;if(r.indexOf(":")===-1)return r}else{if(Array.isArray(r))return"filter:*:"+KS(r);if(zz.isForkEvent(r))throw Qt.warn("not implemented"),new Error("not implemented");if(r&&typeof r=="object")return"filter:"+(r.address||"*")+":"+KS(r.topics||[])}throw new Error("invalid event - "+r)}function bh(){return new Date().getTime()}function YS(r){return new Promise(e=>{setTimeout(e,r)})}const FF=["block","network","pending","poll"];let BF=class{constructor(e,t,n){ke(this,"tag",e),ke(this,"listener",t),ke(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const t=e[1],n=zF(e[2]),i={};return n.length>0&&(i.topics=n),t&&t!=="*"&&(i.address=t),i}pollable(){return this.tag.indexOf(":")>=0||FF.indexOf(this.tag)>=0}};const $F={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function yb(r){return Kr(de.from(r).toHexString(),32)}function JS(r){return Dw.encode(_s([r,pi(LS(LS(r)),0,4)]))}const cP=new RegExp("^(ipfs)://(.*)$","i"),QS=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),cP,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function g0(r,e){try{return Qp(Ep(r,e))}catch{}return null}function Ep(r,e){if(r==="0x")return null;const t=de.from(pi(r,e,e+32)).toNumber(),n=de.from(pi(r,t,t+32)).toNumber();return pi(r,t+32,t+32+n)}function xb(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):Qt.throwArgumentError("unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}function XS(r){const e=Ct(r);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function UF(r){if(r.length%32===0)return r;const e=new Uint8Array(Math.ceil(r.length/32)*32);return e.set(r),e}function uP(r){const e=[];let t=0;for(let n=0;n<r.length;n++)e.push(null),t+=32;for(let n=0;n<r.length;n++){const i=Ct(r[n]);e[n]=XS(t),e.push(XS(i.length)),e.push(UF(i)),t+=32+Math.ceil(i.length/32)*32}return Ji(e)}class ZS{constructor(e,t,n,i){ke(this,"provider",e),ke(this,"name",n),ke(this,"address",e.formatter.address(t)),ke(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>de.from(e).eq(1)).catch(e=>{if(e.code===se.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return Bt(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:Ji([e,f0(this.name),t||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=Ji(["0x9061b923",uP([_z(this.name),n.data])]));try{let s=yield this.provider.call(n);return Ct(s).length%32===4&&Qt.throwError("resolver threw error",se.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=Ep(s,0)),s}catch(s){if(s.code===se.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,t){return Bt(this,void 0,void 0,function*(){const n=yield this._fetch(e,t);return n!=null?Ep(n,0):null})}_getAddress(e,t){const n=$F[String(e)];if(n==null&&Qt.throwError(`unsupported coin type: ${e}`,se.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(t);const i=Ct(t);if(n.p2pkh!=null){const s=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return JS(_s([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return JS(_s([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=WS.toWords(i.slice(2));return a.unshift(o),WS.encode(n.prefix,a)}}return null}getAddress(e){return Bt(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===$L?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===se.errors.CALL_EXCEPTION)return null;throw i}const t=yield this._fetchBytes("0xf1cb7e06",yb(e));if(t==null||t==="0x")return null;const n=this._getAddress(e,t);return n==null&&Qt.throwError("invalid or unsupported coin data",se.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),n})}getAvatar(){return Bt(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(t==null)return null;for(let n=0;n<QS.length;n++){const i=t.match(QS[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:xb(t)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:t});const a=this._resolvedAddress||(yield this.getAddress()),u=(i[2]||"").split("/");if(u.length!==2)return null;const d=yield this.provider.formatter.address(u[0]),h=Kr(de.from(u[1]).toHexString(),32);if(s==="erc721"){const x=this.provider.formatter.callAddress(yield this.provider.call({to:d,data:Ji(["0x6352211e",h])}));if(a!==x)return null;e.push({type:"owner",content:x})}else if(s==="erc1155"){const x=de.from(yield this.provider.call({to:d,data:Ji(["0x00fdd58e",Kr(a,32),h])}));if(x.isZero())return null;e.push({type:"balance",content:x.toString()})}const p={to:this.provider.formatter.address(u[0]),data:Ji([o,h])};let y=g0(yield this.provider.call(p),0);if(y==null)return null;e.push({type:"metadata-url-base",content:y}),s==="erc1155"&&(y=y.replace("{id}",h.substring(2)),e.push({type:"metadata-url-expanded",content:y})),y.match(/^ipfs:/i)&&(y=xb(y)),e.push({type:"metadata-url",content:y});const m=yield Ry(y);if(!m)return null;e.push({type:"metadata",content:JSON.stringify(m)});let b=m.image;if(typeof b!="string")return null;if(!b.match(/^(https:\/\/|data:)/i)){if(b.match(cP)==null)return null;e.push({type:"url-ipfs",content:b}),b=xb(b)}return e.push({type:"url",content:b}),{linkage:e,url:b}}}}}catch{}return null})}getContentHash(){return Bt(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const o=parseInt(t[3],16);if(t[4].length===o*2)return"ipfs://"+Dw.encode("0x"+t[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+Dw.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===64)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===68){const o={"=":"","+":"-","/":"_"};return"sia://"+Fj("0x"+s[1]).replace(/[=+\/]/g,u=>o[u])}return Qt.throwError("invalid or unsupported content hash data",se.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Bt(this,void 0,void 0,function*(){let t=da(e);t=_s([yb(64),yb(t.length),t]),t.length%32!==0&&(t=_s([t,Kr("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",ft(t));return n==null||n==="0x"?null:Qp(n)})}}let vb=null,qF=1;class kk extends gk{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),ke(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(t=>{}),this._ready().catch(t=>{});else{const t=Es(new.target,"getNetwork")(e);t?(ke(this,"_network",t),this.emit("network",t,null)):Qt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Bt(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Qt.throwError("no network detected",se.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:ke(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Pd(()=>this._ready().then(e=>e,e=>{if(!(e.code===se.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return vb==null&&(vb=new et),vb}static getNetwork(e){return lP(e??"homestead")}ccipReadFetch(e,t,n){return Bt(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=t.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const u=n[a],d=u.replace("{sender}",i).replace("{data}",s),h=u.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),p=yield Ry({url:d,errorPassThrough:!0},h,(m,b)=>(m.status=b.statusCode,m));if(p.data)return p.data;const y=p.message||"unknown error";if(p.status>=400&&p.status<500)return Qt.throwError(`response not found during CCIP fetch: ${y}`,se.errors.SERVER_ERROR,{url:u,errorMessage:y});o.push(y)}return Qt.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,se.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return Bt(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(bh()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const t=bh(),n=wn({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=bh();return i=de.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:t,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return Bt(this,void 0,void 0,function*(){const e=qF++,t=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)Qt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",Qt.makeError("network block skew detected",se.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});t.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(u=>{i._inflight=!1,u.length!==0&&u.forEach(d=>{d.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=d.blockNumber),this._emitted["b:"+d.blockHash]=d.blockNumber,this._emitted["t:"+d.transactionHash]=d.blockNumber,this.emit(s,d)})}).catch(u=>{this.emit("error",u),i._inflight=!1});t.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Bt(this,void 0,void 0,function*(){return Qt.throwError("provider does not support network detection",se.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Bt(this,void 0,void 0,function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield YS(0),this._network;const n=Qt.makeError("underlying network changed",se.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=bh();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(t=>((this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=bh(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,n){return Bt(this,void 0,void 0,function*(){return this._waitForTransaction(e,t??1,n||0,null)})}_waitForTransaction(e,t,n,i){return Bt(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=t?s:new Promise((o,a)=>{const u=[];let d=!1;const h=function(){return d?!0:(d=!0,u.forEach(y=>{y()}),!1)},p=y=>{y.confirmations<t||h()||o(y)};if(this.on(e,p),u.push(()=>{this.removeListener(e,p)}),i){let y=i.startBlock,m=null;const b=x=>Bt(this,void 0,void 0,function*(){d||(yield YS(1e3),this.getTransactionCount(i.from).then(w=>Bt(this,void 0,void 0,function*(){if(!d){if(w<=i.nonce)y=x;else{{const A=yield this.getTransaction(e);if(A&&A.blockNumber!=null)return}for(m==null&&(m=y-3,m<i.startBlock&&(m=i.startBlock));m<=x;){if(d)return;const A=yield this.getBlockWithTransactions(m);for(let P=0;P<A.transactions.length;P++){const I=A.transactions[P];if(I.hash===e)return;if(I.from===i.from&&I.nonce===i.nonce){if(d)return;const T=yield this.waitForTransaction(I.hash,t);if(h())return;let U="replaced";I.data===i.data&&I.to===i.to&&I.value.eq(i.value)?U="repriced":I.data==="0x"&&I.from===I.to&&I.value.isZero()&&(U="cancelled"),a(Qt.makeError("transaction was replaced",se.errors.TRANSACTION_REPLACED,{cancelled:U==="replaced"||U==="cancelled",reason:U,replacement:this._wrapTransaction(I),hash:e,receipt:T}));return}}m++}}d||this.once("block",b)}}),w=>{d||this.once("block",b)}))});if(d)return;this.once("block",b),u.push(()=>{this.removeListener("block",b)})}if(typeof n=="number"&&n>0){const y=setTimeout(()=>{h()||a(Qt.makeError("timeout exceeded",se.errors.TIMEOUT,{timeout:n}))},n);y.unref&&y.unref(),u.push(()=>{clearTimeout(y)})}})})}getBlockNumber(){return Bt(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return de.from(e)}catch(t){return Qt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield wn({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getBalance",n);try{return de.from(i)}catch(s){return Qt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,t){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield wn({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getTransactionCount",n);try{return de.from(i).toNumber()}catch(s){return Qt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,t){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield wn({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getCode",n);try{return ft(i)}catch(s){return Qt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,t,n){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield wn({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(t).then(o=>Cy(o))}),s=yield this.perform("getStorageAt",i);try{return ft(s)}catch(o){return Qt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,t,n){if(t!=null&&pu(t)!==32)throw new Error("invalid response - sendTransaction");const i=e;return t!=null&&e.hash!==t&&Qt.throwError("Transaction hash mismatch from Provider.sendTransaction.",se.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),i.wait=(s,o)=>Bt(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const u=yield this._waitForTransaction(e.hash,s,o,a);return u==null&&s===0?null:(this._emitted["t:"+e.hash]=u.blockNumber,u.status===0&&Qt.throwError("transaction failed",se.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:u}),u)}),i}sendTransaction(e){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then(s=>ft(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return Bt(this,void 0,void 0,function*(){const t=yield e,n={};return["from","to"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(s=>s?de.from(s):null))}),["type"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(s=>s??null))}),t.accessList&&(n.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(s=>s?ft(s):null))}),this.formatter.transactionRequest(yield wn(n))})}_getFilter(e){return Bt(this,void 0,void 0,function*(){e=yield e;const t={};return e.address!=null&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(t[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(t[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield wn(t))})}_call(e,t,n){return Bt(this,void 0,void 0,function*(){n>=LF&&Qt.throwError("CCIP read exceeded maximum redirections",se.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:t});if(n>=0&&t==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&pu(s)%32===4)try{const o=pi(s,4),a=pi(o,0,32);de.from(a).eq(i)||Qt.throwError("CCIP Read sender did not match",se.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const u=[],d=de.from(pi(o,32,64)).toNumber(),h=de.from(pi(o,d,d+32)).toNumber(),p=pi(o,d+32);for(let A=0;A<h;A++){const P=g0(p,A*32);P==null&&Qt.throwError("CCIP Read contained corrupt URL string",se.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),u.push(P)}const y=Ep(o,64);de.from(pi(o,100,128)).isZero()||Qt.throwError("CCIP Read callback selector included junk",se.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const m=pi(o,96,100),b=Ep(o,128),x=yield this.ccipReadFetch(e,y,u);x==null&&Qt.throwError("CCIP Read disabled or provided no URLs",se.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const w={to:i,data:Ji([m,uP([x,b])])};return this._call(w,t,n+1)}catch(o){if(o.code===se.errors.SERVER_ERROR)throw o}try{return ft(s)}catch(o){return Qt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:s,error:o})}})}call(e,t){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield wn({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield wn({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",t);try{return de.from(n)}catch(i){return Qt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:n,error:i})}})}_getAddress(e){return Bt(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Qt.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return t==null&&Qt.throwError("ENS name not configured",se.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return Bt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!t};if(Yt(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),Yt(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{Qt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Pd(()=>Bt(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(t){let o=null;for(let u=0;u<s.transactions.length;u++){const d=s.transactions[u];if(d.blockNumber==null)d.confirmations=0;else if(d.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let h=o-d.blockNumber+1;h<=0&&(h=1),d.confirmations=h}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(u=>this._wrapTransaction(u)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Bt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return Pd(()=>Bt(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",t);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return Bt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return Pd(()=>Bt(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",t);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield wn({filter:this._getFilter(e)}),n=yield this.perform("getLogs",t);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),et.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return Bt(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Bt(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Qt.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return Bt(this,void 0,void 0,function*(){let t=e;for(;;){if(t===""||t==="."||e!=="eth"&&t==="eth")return null;const n=yield this._getResolver(t,"getResolver");if(n!=null){const i=new ZS(this,n,e);return t!==e&&!(yield i.supportsWildcard())?null:i}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return Bt(this,void 0,void 0,function*(){t==null&&(t="ENS");const n=yield this.getNetwork();n.ensAddress||Qt.throwError("network does not support ENS",se.errors.UNSUPPORTED_OPERATION,{operation:t,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+f0(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return Bt(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(Yt(e))throw n}typeof e!="string"&&Qt.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return Bt(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const t=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(t,"lookupAddress");if(n==null)return null;const i=g0(yield this.call({to:n,data:"0x691f3431"+f0(t).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return Bt(this,void 0,void 0,function*(){let t=null;if(Yt(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;t=new ZS(this,o,s);try{const a=yield t.getAvatar();if(a)return a.url}catch(a){if(a.code!==se.errors.CALL_EXCEPTION)throw a}try{const a=g0(yield this.call({to:o,data:"0x691f3431"+f0(s).substring(2)}),0);t=yield this.getResolver(a)}catch(a){if(a.code!==se.errors.CALL_EXCEPTION)throw a;return null}}else if(t=yield this.getResolver(e),!t)return null;const n=yield t.getAvatar();return n==null?null:n.url})}perform(e,t){return Qt.throwError(e+" not implemented",se.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_addEventListener(e,t,n){const i=new BF(ld(e),t,n);return this._events.push(i),this._startEvent(i),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let n=!1,i=[],s=ld(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,t)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let t=ld(e);return this._events.filter(n=>n.tag===t).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let t=ld(e);return this._events.filter(n=>n.tag===t).map(n=>n.listener)}off(e,t){if(t==null)return this.removeAllListeners(e);const n=[];let i=!1,s=ld(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=t||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let t=[];if(e==null)t=this._events,this._events=[];else{const n=ld(e);this._events=this._events.filter(i=>i.tag!==n?!0:(t.push(i),!1))}return t.forEach(n=>{this._stopEvent(n)}),this}}var Oa=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{d(n.next(h))}catch(p){o(p)}}function u(h){try{d(n.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):i(h.value).then(a,u)}d((n=n.apply(r,e||[])).next())})};const kn=new se(si),WF=["call","estimateGas"];function Gh(r,e){if(r==null)return null;if(typeof r.message=="string"&&r.message.match("reverted")){const t=Yt(r.data)?r.data:null;if(!e||t)return{message:r.message,data:t}}if(typeof r=="object"){for(const t in r){const n=Gh(r[t],e);if(n)return n}return null}if(typeof r=="string")try{return Gh(JSON.parse(r),e)}catch{}return null}function dP(r,e,t){const n=t.transaction||t.signedTransaction;if(r==="call"){const s=Gh(e,!0);if(s)return s.data;kn.throwError("missing revert data in call exception; Transaction reverted without a reason string",se.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(r==="estimateGas"){let s=Gh(e.body,!1);s==null&&(s=Gh(e,!1)),s&&kn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",se.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:r,transaction:n,error:e})}let i=e.message;throw e.code===se.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&kn.throwError("insufficient funds for intrinsic transaction cost",se.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:n}),i.match(/nonce (is )?too low/i)&&kn.throwError("nonce has already been used",se.errors.NONCE_EXPIRED,{error:e,method:r,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&kn.throwError("replacement fee too low",se.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:n}),i.match(/only replay-protected/i)&&kn.throwError("legacy pre-eip-155 transactions not supported",se.errors.UNSUPPORTED_OPERATION,{error:e,method:r,transaction:n}),WF.indexOf(r)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&kn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",se.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:n}),e}function eN(r){return new Promise(function(e){setTimeout(e,r)})}function HF(r){if(r.error){const e=new Error(r.error.message);throw e.code=r.error.code,e.data=r.error.data,e}return r.result}function wh(r){return r&&r.toLowerCase()}const Lw={};class fP extends Xp{constructor(e,t,n){if(super(),e!==Lw)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");ke(this,"provider",t),n==null&&(n=0),typeof n=="string"?(ke(this,"_address",this.provider.formatter.address(n)),ke(this,"_index",null)):typeof n=="number"?(ke(this,"_index",n),ke(this,"_address",null)):kn.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return kn.throwError("cannot alter JSON-RPC Signer connection",se.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new VF(Lw,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&kn.throwError("unknown account #"+this._index,se.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Gr(e);const t=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Gr(e);n.from=t,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>Oa(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&kn.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),wn({tx:wn(e),sender:t}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&kn.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&kn.throwError("user rejected transaction",se.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),dP("sendTransaction",o,s)))})}signTransaction(e){return kn.throwError("signing transactions is unsupported",se.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Oa(this,void 0,void 0,function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield Pd(()=>Oa(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,t)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return Oa(this,void 0,void 0,function*(){const t=typeof e=="string"?da(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[ft(t),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&kn.throwError("user rejected signing",se.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return Oa(this,void 0,void 0,function*(){const t=typeof e=="string"?da(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),ft(t)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&kn.throwError("user rejected signing",se.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,t,n){return Oa(this,void 0,void 0,function*(){const i=yield us.resolveNames(e,t,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(us.getPayload(i.domain,t,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&kn.throwError("user rejected signing",se.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:t,value:i.value}}),o}})}unlock(e){return Oa(this,void 0,void 0,function*(){const t=this.provider,n=yield this.getAddress();return t.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class VF extends fP{sendTransaction(e){return this.sendUncheckedTransaction(e).then(t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(t,n)}))}}const GF={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Zd extends kk{constructor(e,t){let n=t;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(n),e||(e=Es(this.constructor,"defaultUrl")()),typeof e=="string"?ke(this,"connection",Object.freeze({url:e})):ke(this,"connection",Object.freeze(Gr(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Oa(this,void 0,void 0,function*(){yield eN(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const t=Es(this.constructor,"getNetwork");try{return t(de.from(e).toNumber())}catch(n){return kn.throwError("could not detect network",se.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return kn.throwError("could not detect network",se.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new fP(Lw,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(t=>this.formatter.address(t)))}send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Ns(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=Ry(this.connection,JSON.stringify(n),HF).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[wh(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[wh(t.address),t.blockTag]];case"getCode":return["eth_getCode",[wh(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[wh(t.address),Kr(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[Es(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[Es(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&t.filter.address!=null&&(t.filter.address=wh(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return Oa(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=t.transaction;if(i&&i.type!=null&&de.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(t=Gr(t),t.transaction=Gr(i),delete t.transaction.type)}}const n=this.prepareRequest(e,t);n==null&&kn.throwError(e+" not implemented",se.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return dP(e,i,t)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=t)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(u){return e.emit("pending",u),null})})}),o.then(function(){return eN(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const n=Gr(GF);if(t)for(const s in t)t[s]&&(n[s]=!0);pL(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=Cy(de.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=ft(e[s]))}),e.accessList&&(i.accessList=ju(e.accessList)),i}}let Kh=null;try{if(Kh=WebSocket,Kh==null)throw new Error("inject please")}catch{const e=new se(si);Kh=function(){e.throwError("WebSockets not supported in this environment",se.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var bb=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{d(n.next(h))}catch(p){o(p)}}function u(h){try{d(n.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):i(h.value).then(a,u)}d((n=n.apply(r,e||[])).next())})};const bg=new se(si);let KF=1;class _k extends Zd{constructor(e,t){t==="any"&&bg.throwError("WebSocketProvider does not support 'any' network yet",se.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,t):super("_websocket",t),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?ke(this,"_websocket",new Kh(this.connection.url)):ke(this,"_websocket",e),ke(this,"_requests",{}),ke(this,"_subs",{}),ke(this,"_subIds",{}),ke(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(i=>{this.websocket.send(this._requests[i].payload)})},this.websocket.onmessage=i=>{const s=i.data,o=JSON.parse(s);if(o.id!=null){const a=String(o.id),u=this._requests[a];if(delete this._requests[a],o.result!==void 0)u.callback(null,o.result),this.emit("debug",{action:"response",request:JSON.parse(u.payload),response:o.result,provider:this});else{let d=null;o.error?(d=new Error(o.error.message||"unknown error"),ke(d,"code",o.error.code||null),ke(d,"response",s)):d=new Error("unknown error"),u.callback(d,void 0),this.emit("debug",{action:"response",error:d,request:JSON.parse(u.payload),provider:this})}}else if(o.method==="eth_subscription"){const a=this._subs[o.params.subscription];a&&a.processFunc(o.params.result)}else console.warn("this should not happen")};const n=setInterval(()=>{this.emit("poll")},1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){bg.throwError("cannot reset events block on WebSocketProvider",se.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){bg.throwError("cannot set polling interval on WebSocketProvider",se.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return bb(this,void 0,void 0,function*(){return null})}set polling(e){e&&bg.throwError("cannot set polling on WebSocketProvider",se.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const n=KF++;return new Promise((i,s)=>{function o(u,d){return u?s(u):i(d)}const a=JSON.stringify({method:e,params:t,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(a),provider:this}),this._requests[String(n)]={callback:o,payload:a},this._wsReady&&this.websocket.send(a)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,n){return bb(this,void 0,void 0,function*(){let i=this._subIds[e];i==null&&(i=Promise.all(t).then(o=>this.send("eth_subscribe",o)),this._subIds[e]=i);const s=yield i;this._subs[s]={tag:e,processFunc:n}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],t=>{const n=de.from(t.number).toNumber();this._emitted.block=n,this.emit("block",n)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],t=>{this.emit("pending",t)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],t=>{t.removed==null&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))});break;case"tx":{const t=n=>{const i=n.hash;this.getTransactionReceipt(i).then(s=>{s&&this.emit(i,s)})};t(e),this._subscribe("tx",["newHeads"],n=>{this._events.filter(i=>i.type==="tx").forEach(t)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let t=e.tag;if(e.type==="tx"){if(this._events.filter(i=>i.type==="tx").length)return;t="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[t];n&&(delete this._subIds[t],n.then(i=>{this._subs[i]&&(delete this._subs[i],this.send("eth_unsubscribe",[i]))}))}destroy(){return bb(this,void 0,void 0,function*(){this.websocket.readyState===Kh.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var YF=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{d(n.next(h))}catch(p){o(p)}}function u(h){try{d(n.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):i(h.value).then(a,u)}d((n=n.apply(r,e||[])).next())})};const Ih=new se(si);class JF extends Zd{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return YF(this,void 0,void 0,function*(){let t=this.network;return t==null&&(t=yield e.detectNetwork.call(this),t||Ih.throwError("no network detected",se.errors.UNKNOWN_ERROR,{}),this._network==null&&(ke(this,"_network",t),this.emit("network",t,null))),t})}}class nl extends JF{constructor(e,t){Ih.checkAbstract(new.target,nl),e=Es(new.target,"getNetwork")(e),t=Es(new.target,"getApiKey")(t);const n=Es(new.target,"getUrl")(e,t);super(n,e),typeof t=="string"?ke(this,"apiKey",t):t!=null&&Object.keys(t).forEach(i=>{ke(this,i,t[i])})}_startPending(){Ih.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return Ih.throwError("API provider does not support signing",se.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return Ih.throwError("not implemented; sub-classes must override getUrl",se.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const tN=new se(si),y0="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class QF extends _k{constructor(e,t){const n=new hP(e,t),i=n.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(i,n.network),ke(this,"apiKey",n.apiKey)}isCommunityResource(){return this.apiKey===y0}}class hP extends nl{static getWebSocketProvider(e,t){return new QF(e,t)}static getApiKey(e){return e==null?y0:(e&&typeof e!="string"&&tN.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":n="eth-goerli.g.alchemy.com/v2/";break;case"sepolia":n="eth-sepolia.g.alchemy.com/v2/";break;case"matic":n="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":n="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":n="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":n="arb-goerli.g.alchemy.com/v2/";break;case"arbitrum-sepolia":n="arb-sepolia.g.alchemy.com/v2/";break;case"optimism":n="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":n="opt-goerli.g.alchemy.com/v2/";break;case"optimism-sepolia":n="opt-sepolia.g.alchemy.com/v2/";break;default:tN.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+n+t,throttleCallback:(i,s)=>(t===y0&&Iy(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===y0}}const XF=new se(si),wg="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function ZF(r){switch(r){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"sepolia":return"rpc.ankr.com/eth_sepolia/";case"matic":return"rpc.ankr.com/polygon/";case"maticmum":return"rpc.ankr.com/polygon_mumbai/";case"optimism":return"rpc.ankr.com/optimism/";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet/";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return XF.throwArgumentError("unsupported network","name",r)}class e8 extends nl{isCommunityResource(){return this.apiKey===wg}static getApiKey(e){return e??wg}static getUrl(e,t){t==null&&(t=wg);const n={allowGzip:!0,url:"https://"+ZF(e.name)+t,throttleCallback:(i,s)=>(t.apiKey===wg&&Iy(),Promise.resolve(!0))};return t.projectSecret!=null&&(n.user="",n.password=t.projectSecret),n}}var t8=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{d(n.next(h))}catch(p){o(p)}}function u(h){try{d(n.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):i(h.value).then(a,u)}d((n=n.apply(r,e||[])).next())})};const rN=new se(si);class r8 extends nl{static getApiKey(e){return e!=null&&rN.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="https://cloudflare-eth.com/";break;default:rN.throwArgumentError("unsupported network","network",arguments[0])}return n}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return t8(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield n.perform.call(this,"getBlock",{blockTag:"latest"})).number:n.perform.call(this,e,t)})}}var kg=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{d(n.next(h))}catch(p){o(p)}}function u(h){try{d(n.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):i(h.value).then(a,u)}d((n=n.apply(r,e||[])).next())})};const Dl=new se(si);function nN(r){const e={};for(let t in r){if(r[t]==null)continue;let n=r[t];t==="type"&&n===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[t]?n=Cy(ft(n)):t==="accessList"?n="["+ju(n).map(i=>`{address:"${i.address}",storageKeys:["${i.storageKeys.join('","')}"]}`).join(",")+"]":n=ft(n),e[t]=n)}return e}function n8(r){if(r.status==0&&(r.message==="No records found"||r.message==="No transactions found"))return r.result;if(r.status!=1||typeof r.message!="string"||!r.message.match(/^OK/)){const e=new Error("invalid response");throw e.result=JSON.stringify(r),(r.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return r.result}function iN(r){if(r&&r.status==0&&r.message=="NOTOK"&&(r.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(r),e.throttleRetry=!0,e}if(r.jsonrpc!="2.0"){const e=new Error("invalid response");throw e.result=JSON.stringify(r),e}if(r.error){const e=new Error(r.error.message||"unknown error");throw r.error.code&&(e.code=r.error.code),r.error.data&&(e.data=r.error.data),e}return r.result}function sN(r){if(r==="pending")throw new Error("pending not supported");return r==="latest"?r:parseInt(r.substring(2),16)}function wb(r,e,t){if(r==="call"&&e.code===se.errors.SERVER_ERROR){const i=e.error;if(i&&(i.message.match(/reverted/i)||i.message.match(/VM execution error/i))){let s=i.data;if(s&&(s="0x"+s.replace(/^.*0x/i,"")),Yt(s))return s;Dl.throwError("missing revert data in call exception",se.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let n=e.message;throw e.code===se.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?n=e.error.message:typeof e.body=="string"?n=e.body:typeof e.responseText=="string"&&(n=e.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&Dl.throwError("insufficient funds for intrinsic transaction cost",se.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:t}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&Dl.throwError("nonce has already been used",se.errors.NONCE_EXPIRED,{error:e,method:r,transaction:t}),n.match(/another transaction with same nonce/)&&Dl.throwError("replacement fee too low",se.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:t}),n.match(/execution failed due to an exception|execution reverted/)&&Dl.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",se.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:t}),e}class i8 extends kk{constructor(e,t){super(e),ke(this,"baseUrl",this.getBaseUrl()),ke(this,"apiKey",t||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return Dl.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){const n=Object.keys(t).reduce((s,o)=>{const a=t[o];return a!=null&&(s+=`&${o}=${a}`),s},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${n}${i}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,n){return kg(this,void 0,void 0,function*(){const i=n?this.getPostUrl():this.getUrl(e,t),s=n?this.getPostData(e,t):null,o=e==="proxy"?iN:n8;this.emit("debug",{action:"request",request:i,provider:this});const a={url:i,throttleSlotInterval:1e3,throttleCallback:(h,p)=>(this.isCommunityResource()&&Iy(),Promise.resolve(!0))};let u=null;s&&(a.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},u=Object.keys(s).map(h=>`${h}=${s[h]}`).join("&"));const d=yield Ry(a,u,o||iN);return this.emit("debug",{action:"response",request:i,response:Ns(d),provider:this}),d})}detectNetwork(){return kg(this,void 0,void 0,function*(){return this.network})}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return kg(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(i=>wb("sendTransaction",i,t.signedTransaction));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if(t.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const i=nN(t.transaction);i.module="proxy",i.action="eth_call";try{return yield this.fetch("proxy",i,!0)}catch(s){return wb("call",s,t.transaction)}}case"estimateGas":{const i=nN(t.transaction);i.module="proxy",i.action="eth_estimateGas";try{return yield this.fetch("proxy",i,!0)}catch(s){return wb("estimateGas",s,t.transaction)}}case"getLogs":{const i={action:"getLogs"};if(t.filter.fromBlock&&(i.fromBlock=sN(t.filter.fromBlock)),t.filter.toBlock&&(i.toBlock=sN(t.filter.toBlock)),t.filter.address&&(i.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&Dl.throwError("unsupported topic count",se.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),t.filter.topics.length===1)){const a=t.filter.topics[0];(typeof a!="string"||a.length!==66)&&Dl.throwError("unsupported topic format",se.errors.UNSUPPORTED_OPERATION,{topic0:a}),i.topic0=a}const s=yield this.fetch("logs",i);let o={};for(let a=0;a<s.length;a++){const u=s[a];if(u.blockHash==null){if(o[u.blockNumber]==null){const d=yield this.getBlock(u.blockNumber);d&&(o[u.blockNumber]=d.hash)}u.blockHash=o[u.blockNumber]}}return s}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return n.perform.call(this,e,t)})}getHistory(e,t,n){return kg(this,void 0,void 0,function*(){const i={action:"txlist",address:yield this.resolveName(e),startblock:t??0,endblock:n??99999999,sort:"asc"};return(yield this.fetch("account",i)).map(o=>{["contractAddress","to"].forEach(function(u){o[u]==""&&delete o[u]}),o.creates==null&&o.contractAddress!=null&&(o.creates=o.contractAddress);const a=this.formatter.transactionResponse(o);return o.timeStamp&&(a.timestamp=parseInt(o.timeStamp)),a})})}isCommunityResource(){return this.apiKey==null}}var U0=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{d(n.next(h))}catch(p){o(p)}}function u(h){try{d(n.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):i(h.value).then(a,u)}d((n=n.apply(r,e||[])).next())})};const Zc=new se(si);function _g(){return new Date().getTime()}function oN(r){let e=null;for(let t=0;t<r.length;t++){const n=r[t];if(n==null)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||e.ensAddress==null&&n.ensAddress==null)||Zc.throwArgumentError("provider mismatch","networks",r):e=n}return e}function aN(r,e){r=r.slice().sort();const t=Math.floor(r.length/2);if(r.length%2)return r[t];const n=r[t-1],i=r[t];return e!=null&&Math.abs(n-i)>e?null:(n+i)/2}function Rd(r){if(r===null)return"null";if(typeof r=="number"||typeof r=="boolean")return JSON.stringify(r);if(typeof r=="string")return r;if(de.isBigNumber(r))return r.toString();if(Array.isArray(r))return JSON.stringify(r.map(e=>Rd(e)));if(typeof r=="object"){const e=Object.keys(r);return e.sort(),"{"+e.map(t=>{let n=r[t];return typeof n=="function"?n="[function]":n=Rd(n),JSON.stringify(t)+":"+n}).join(",")+"}"}throw new Error("unknown value type: "+typeof r)}let s8=1;function lN(r){let e=null,t=null,n=new Promise(o=>{e=function(){t&&(clearTimeout(t),t=null),o()},t=setTimeout(e,r)});const i=o=>(n=n.then(o),n);function s(){return n}return{cancel:e,getPromise:s,wait:i}}const o8=[se.errors.CALL_EXCEPTION,se.errors.INSUFFICIENT_FUNDS,se.errors.NONCE_EXPIRED,se.errors.REPLACEMENT_UNDERPRICED,se.errors.UNPREDICTABLE_GAS_LIMIT],a8=["address","args","errorArgs","errorSignature","method","transaction"];function Eg(r,e){const t={weight:r.weight};return Object.defineProperty(t,"provider",{get:()=>r.provider}),r.start&&(t.start=r.start),e&&(t.duration=e-r.start),r.done&&(r.error?t.error=r.error:t.result=r.result||null),t}function l8(r,e){return function(t){const n={};t.forEach(s=>{const o=r(s.result);n[o]||(n[o]={count:0,result:s.result}),n[o].count++});const i=Object.keys(n);for(let s=0;s<i.length;s++){const o=n[i[s]];if(o.count>=e)return o.result}}}function c8(r,e,t){let n=Rd;switch(e){case"getBlockNumber":return function(i){const s=i.map(a=>a.result);let o=aN(i.map(a=>a.result),2);if(o!=null)return o=Math.ceil(o),s.indexOf(o+1)>=0&&o++,o>=r._highestBlockNumber&&(r._highestBlockNumber=o),r._highestBlockNumber};case"getGasPrice":return function(i){const s=i.map(o=>o.result);return s.sort(),s[Math.floor(s.length/2)]};case"getEtherPrice":return function(i){return aN(i.map(s=>s.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(i){return i==null?null:(i=Gr(i),i.confirmations=-1,Rd(i))};break;case"getBlock":t.includeTransactions?n=function(i){return i==null?null:(i=Gr(i),i.transactions=i.transactions.map(s=>(s=Gr(s),s.confirmations=-1,s)),Rd(i))}:n=function(i){return i==null?null:Rd(i)};break;default:throw new Error("unknown method: "+e)}return l8(n,r.quorum)}function kh(r,e){return U0(this,void 0,void 0,function*(){const t=r.provider;return t.blockNumber!=null&&t.blockNumber>=e||e===-1?t:Pd(()=>new Promise((n,i)=>{setTimeout(function(){return t.blockNumber>=e?n(t):r.cancelled?n(null):n(void 0)},0)}),{oncePoll:t})})}function u8(r,e,t,n){return U0(this,void 0,void 0,function*(){let i=r.provider;switch(t){case"getBlockNumber":case"getGasPrice":return i[t]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&Yt(n.blockTag)&&(i=yield kh(r,e)),i[t](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&Yt(n.blockTag)&&(i=yield kh(r,e)),i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&Yt(n.blockTag)&&(i=yield kh(r,e)),i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&Yt(n.blockTag)&&(i=yield kh(r,e)),t==="call"&&n.blockTag?i[t](n.transaction,n.blockTag):i[t](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[t](n.transactionHash);case"getLogs":{let s=n.filter;return(s.fromBlock&&Yt(s.fromBlock)||s.toBlock&&Yt(s.toBlock))&&(i=yield kh(r,e)),i.getLogs(s)}}return Zc.throwError("unknown method error",se.errors.UNKNOWN_ERROR,{method:t,params:n})})}class d8 extends kk{constructor(e,t){e.length===0&&Zc.throwArgumentError("missing providers","providers",e);const n=e.map((o,a)=>{if(gk.isProvider(o)){const h=HS(o)?2e3:750;return Object.freeze({provider:o,weight:1,stallTimeout:h,priority:1})}const u=Gr(o);u.priority==null&&(u.priority=1),u.stallTimeout==null&&(u.stallTimeout=HS(o)?2e3:750),u.weight==null&&(u.weight=1);const d=u.weight;return(d%1||d>512||d<1)&&Zc.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${a}].weight`,d),Object.freeze(u)}),i=n.reduce((o,a)=>o+a.weight,0);t==null?t=i/2:t>i&&Zc.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let s=oN(n.map(o=>o.provider.network));s==null&&(s=new Promise((o,a)=>{setTimeout(()=>{this.detectNetwork().then(o,a)},0)})),super(s),ke(this,"providerConfigs",Object.freeze(n)),ke(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return U0(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(t=>t.provider.getNetwork()));return oN(e)})}perform(e,t){return U0(this,void 0,void 0,function*(){if(e==="sendTransaction"){const u=yield Promise.all(this.providerConfigs.map(d=>d.provider.sendTransaction(t.signedTransaction).then(h=>h.hash,h=>h)));for(let d=0;d<u.length;d++){const h=u[d];if(typeof h=="string")return h}throw u[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const n=c8(this,e,t),i=CF(this.providerConfigs.map(Gr));i.sort((u,d)=>u.priority-d.priority);const s=this._highestBlockNumber;let o=0,a=!0;for(;;){const u=_g();let d=i.filter(m=>m.runner&&u-m.start<m.stallTimeout).reduce((m,b)=>m+b.weight,0);for(;d<this.quorum&&o<i.length;){const m=i[o++],b=s8++;m.start=_g(),m.staller=lN(m.stallTimeout),m.staller.wait(()=>{m.staller=null}),m.runner=u8(m,s,e,t).then(x=>{m.done=!0,m.result=x,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:b,backend:Eg(m,_g()),request:{method:e,params:Ns(t)},provider:this})},x=>{m.done=!0,m.error=x,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:b,backend:Eg(m,_g()),request:{method:e,params:Ns(t)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:b,backend:Eg(m,null),request:{method:e,params:Ns(t)},provider:this}),d+=m.weight}const h=[];i.forEach(m=>{m.done||!m.runner||(h.push(m.runner),m.staller&&h.push(m.staller.getPromise()))}),h.length&&(yield Promise.race(h));const p=i.filter(m=>m.done&&m.error==null);if(p.length>=this.quorum){const m=n(p);if(m!==void 0)return i.forEach(b=>{b.staller&&b.staller.cancel(),b.cancelled=!0}),m;a||(yield lN(100).getPromise()),a=!1}const y=i.reduce((m,b)=>{if(!b.done||b.error==null)return m;const x=b.error.code;return o8.indexOf(x)>=0&&(m[x]||(m[x]={error:b.error,weight:0}),m[x].weight+=b.weight),m},{});if(Object.keys(y).forEach(m=>{const b=y[m];if(b.weight<this.quorum)return;i.forEach(A=>{A.staller&&A.staller.cancel(),A.cancelled=!0});const x=b.error,w={};a8.forEach(A=>{x[A]!=null&&(w[A]=x[A])}),Zc.throwError(x.reason||x.message,m,w)}),i.filter(m=>!m.done).length===0)break}return i.forEach(u=>{u.staller&&u.staller.cancel(),u.cancelled=!0}),Zc.throwError("failed to meet quorum",se.errors.SERVER_ERROR,{method:e,params:t,results:i.map(u=>Eg(u)),provider:this})})}}const f8=null,x0=new se(si),Mh="84842078b09946638c03157f83405213";class h8 extends _k{constructor(e,t){const n=new pP(e,t),i=n.connection;i.password&&x0.throwError("INFURA WebSocket project secrets unsupported",se.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const s=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(s,e),ke(this,"apiKey",n.projectId),ke(this,"projectId",n.projectId),ke(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===Mh}}class pP extends nl{static getWebSocketProvider(e,t){return new h8(e,t)}static getApiKey(e){const t={apiKey:Mh,projectId:Mh,projectSecret:null};return e==null||(typeof e=="string"?t.projectId=e:e.projectSecret!=null?(x0.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),x0.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"goerli":n="goerli.infura.io";break;case"sepolia":n="sepolia.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-goerli":n="optimism-goerli.infura.io";break;case"optimism-sepolia":n="optimism-sepolia.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":n="arbitrum-goerli.infura.io";break;case"arbitrum-sepolia":n="arbitrum-sepolia.infura.io";break;default:x0.throwError("unsupported network",se.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i={allowGzip:!0,url:"https://"+n+"/v3/"+t.projectId,throttleCallback:(s,o)=>(t.projectId===Mh&&Iy(),Promise.resolve(!0))};return t.projectSecret!=null&&(i.user="",i.password=t.projectSecret),i}isCommunityResource(){return this.projectId===Mh}}const kb=new se(si),p8="ETHERS_JS_SHARED";class m8 extends nl{static getApiKey(e){return e&&typeof e!="string"&&kb.throwArgumentError("invalid apiKey","apiKey",e),e||p8}static getUrl(e,t){kb.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let n=null;switch(e.name){case"homestead":n="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":n="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":n="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":n="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":n="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:kb.throwArgumentError("unsupported network","network",arguments[0])}return n+"?apiKey="+t}}const cN=new se(si),uN="62e1ad51b37b8e00394bda3b";class g8 extends nl{static getApiKey(e){const t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return e==null?t.applicationId=uN:typeof e=="string"?t.applicationId=e:e.applicationSecretKey!=null?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:cN.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"goerli":n="eth-goerli.gateway.pokt.network";break;case"homestead":n="eth-mainnet.gateway.pokt.network";break;case"kovan":n="poa-kovan.gateway.pokt.network";break;case"matic":n="poly-mainnet.gateway.pokt.network";break;case"maticmum":n="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":n="eth-rinkeby.gateway.pokt.network";break;case"ropsten":n="eth-ropsten.gateway.pokt.network";break;default:cN.throwError("unsupported network",se.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i=`https://${n}/v1/lb/${t.applicationId}`,s={headers:{},url:i};return t.applicationSecretKey!=null&&(s.user="",s.password=t.applicationSecretKey),s}isCommunityResource(){return this.applicationId===uN}}const dN=new se(si),y8="919b412a057b5e9c9b6dce193c5a60242d6efadb";class x8 extends nl{static getApiKey(e){return e&&typeof e!="string"&&dN.throwArgumentError("invalid apiKey","apiKey",e),e||y8}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="ethers.quiknode.pro";break;case"goerli":n="ethers.ethereum-goerli.quiknode.pro";break;case"sepolia":n="ethers.ethereum-sepolia.quiknode.pro";break;case"holesky":n="ethers.ethereum-holesky.quiknode.pro";break;case"arbitrum":n="ethers.arbitrum-mainnet.quiknode.pro";break;case"arbitrum-goerli":n="ethers.arbitrum-goerli.quiknode.pro";break;case"arbitrum-sepolia":n="ethers.arbitrum-sepolia.quiknode.pro";break;case"base":n="ethers.base-mainnet.quiknode.pro";break;case"base-goerli":n="ethers.base-goerli.quiknode.pro";break;case"base-spolia":n="ethers.base-sepolia.quiknode.pro";break;case"bnb":n="ethers.bsc.quiknode.pro";break;case"bnbt":n="ethers.bsc-testnet.quiknode.pro";break;case"matic":n="ethers.matic.quiknode.pro";break;case"maticmum":n="ethers.matic-testnet.quiknode.pro";break;case"optimism":n="ethers.optimism.quiknode.pro";break;case"optimism-goerli":n="ethers.optimism-goerli.quiknode.pro";break;case"optimism-sepolia":n="ethers.optimism-sepolia.quiknode.pro";break;case"xdai":n="ethers.xdai.quiknode.pro";break;default:dN.throwArgumentError("unsupported network","network",arguments[0])}return"https://"+n+"/"+t}}const fN=new se(si);let v8=1;function hN(r,e){const t="Web3LegacyFetcher";return function(n,i){const s={method:n,params:i,id:v8++,jsonrpc:"2.0"};return new Promise((o,a)=>{this.emit("debug",{action:"request",fetcher:t,request:Ns(s),provider:this}),e(s,(u,d)=>{if(u)return this.emit("debug",{action:"response",fetcher:t,error:u,request:s,provider:this}),a(u);if(this.emit("debug",{action:"response",fetcher:t,request:s,response:d,provider:this}),d.error){const h=new Error(d.error.message);return h.code=d.error.code,h.data=d.error.data,a(h)}o(d.result)})})}}function b8(r){return function(e,t){t==null&&(t=[]);const n={method:e,params:t};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Ns(n),provider:this}),r.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class Kl extends Zd{constructor(e,t){e==null&&fN.throwArgumentError("missing provider","provider",e);let n=null,i=null,s=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),s=e,e.request?(n===""&&(n="eip-1193:"),i=b8(e)):e.sendAsync?i=hN(e,e.sendAsync.bind(e)):e.send?i=hN(e,e.send.bind(e)):fN.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,t),ke(this,"jsonRpcFetchFunc",i),ke(this,"provider",s)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const pN=new se(si);function Fd(r,e){if(r==null&&(r="homestead"),typeof r=="string"){const n=r.match(/^(ws|http)s?:/i);if(n)switch(n[1].toLowerCase()){case"http":case"https":return new Zd(r);case"ws":case"wss":return new _k(r);default:pN.throwArgumentError("unsupported URL scheme","network",r)}}const t=lP(r);return(!t||!t._defaultProvider)&&pN.throwError("unsupported getDefaultProvider network",se.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:r}),t._defaultProvider({FallbackProvider:d8,AlchemyProvider:hP,AnkrProvider:e8,CloudflareProvider:r8,EtherscanProvider:i8,InfuraProvider:pP,JsonRpcProvider:Zd,NodesmithProvider:m8,PocketProvider:g8,QuickNodeProvider:x8,Web3Provider:Kl,IpcProvider:f8},e)}const w8="units/5.8.0",k8=new se(w8),_8=["wei","kwei","mwei","gwei","szabo","finney","ether"];function tm(r,e){return u0(r,e)}function Ln(r,e){if(typeof r!="string"&&k8.throwArgumentError("value must be a string","value",r),typeof e=="string"){const t=_8.indexOf(e);t!==-1&&(e=3*t)}return Yo(r,e??18)}function Ii(r){return tm(r,18)}function fc(r){return Ln(r,18)}const $t={1:{name:"Ethereum Mainnet",rpcUrl:"https://ethereum-rpc.publicnode.com",explorer:"https://etherscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},10:{name:"OP Mainnet",rpcUrl:"https://mainnet.optimism.io",explorer:"https://optimistic.etherscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},56:{name:"BNB Smart Chain",rpcUrl:"https://bsc.blockrazor.xyz",explorer:"https://bscscan.com",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},97:{name:"BNB Smart Chain Testnet",rpcUrl:"https://bsc-testnet-rpc.publicnode.com",explorer:"https://testnet.bscscan.com",nativeCurrency:{name:"Test BNB",symbol:"tBNB",decimals:18},contractAddresses:{protocolManager:"0xa3F0AF8E90644bF0a371fABf8Ed688371352E2Fb",poolDeployer:"0x422D280BFd76f4533F670706AA0eeC63A2e1330a",revenueManager:"0x2472e38aE1b868D1Dd0EFB59762D4e5f793a551f",nftFactory:"0xb52606980b0a000adfc27F0de0DC49d2CDA1d6a5",socialEngagementManager:"0x..."}},43113:{name:"Avalanche Fuji Testnet",rpcUrl:"https://avalanche-fuji.drpc.org",explorer:"https://testnet.snowscan.xyz",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},43114:{name:"Avalanche C-Chain",rpcUrl:"https://avalanche.drpc.org",explorer:"https://snowscan.xyz",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},8453:{name:"Base Mainnet",rpcUrl:"https://base.drpc.org",explorer:"https://basescan.org",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},84532:{name:"Base Sepolia",rpcUrl:"https://base-sepolia-rpc.publicnode.com",explorer:"https://sepolia.basescan.org",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0xd8B3ff54Acf92A12146A490B09588aD01142d882",poolDeployer:"0xA05cfC6642017d6678b0845Fe87F522980fD66e8",revenueManager:"0x3ff06D40476350Ef92Cf19A4B018D98b1E8C30d4",nftFactory:"0x6e30CfA9f20532d09cfCB3E62D3D791B7f99cE89",socialEngagementManager:"0xC1536c882C4Fec5a37014fE8ce7e4D2E9d7A4b4E"}},11155111:{name:"Ethereum Sepolia",rpcUrl:"https://sepolia.infura.io",explorer:"https://sepolia.etherscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},11155420:{name:"OP Sepolia Testnet",rpcUrl:"https://sepolia.optimism.io",explorer:"https://sepolia-optimism.etherscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},2020:{name:"Ronin Mainnet",rpcUrl:"https://ronin.drpc.org",explorer:"https://app.roninchain.com/",nativeCurrency:{name:"Ronin",symbol:"RON",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},2021:{name:"Ronin Saigon Testnet",rpcUrl:"https://saigon-testnet.roninchain.com/rpc",explorer:"https://saigon-app.roninchain.com/explorer",nativeCurrency:{name:"Ronin",symbol:"RON",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},42161:{name:"Arbitrum One",rpcUrl:"https://arbitrum.drpc.org",explorer:"https://arbiscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}},421614:{name:"Arbitrum Sepolia",rpcUrl:"https://endpoints.omniatech.io/v1/arbitrum/sepolia/public",explorer:"https://sepolia.arbiscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contractAddresses:{protocolManager:"0x...",poolDeployer:"0x...",revenueManager:"0x...",nftFactory:"0x...",socialEngagementManager:"0x..."}}},mP=C.createContext(),ur=()=>{const r=C.useContext(mP);if(!r)throw new Error("useWallet must be used within a WalletProvider");return r},E8=({children:r})=>{const[e,t]=C.useState(null),[n,i]=C.useState(null),[s,o]=C.useState(""),[a,u]=C.useState(!1),[d,h]=C.useState(null),[p,y]=C.useState(!1),[m,b]=C.useState(null),[x,w]=C.useState(!1),[A,P]=C.useState(!1);C.useEffect(()=>{I()},[]),C.useEffect(()=>{if(window.ethereum)return window.ethereum.on("accountsChanged",T),window.ethereum.on("chainChanged",U),()=>{window.ethereum.removeListener("accountsChanged",T),window.ethereum.removeListener("chainChanged",U)}},[]),C.useEffect(()=>{d&&$t[d]?b($t[d]):b(null)},[d]);const I=async()=>{if(window.ethereum)try{(await window.ethereum.request({method:"eth_accounts"})).length>0?await B("metamask"):w(!0)}catch(D){console.error("Error checking connection:",D),w(!0)}else w(!0)},T=D=>{D.length===0?H():o(D[0])},U=D=>{console.log("Chain changed to:",D),P(!0),h(parseInt(D,16)),setTimeout(async()=>{try{window.ethereum&&(await window.ethereum.request({method:"eth_accounts"})).length>0&&await B("metamask")}catch(v){console.error("Error reconnecting after chain change:",v)}finally{setTimeout(()=>{P(!1)},500)}},1500)},B=async D=>{y(!0);try{let v;switch(D){case"metamask":if(!window.ethereum)throw new Error("MetaMask is not installed");await window.ethereum.request({method:"eth_requestAccounts"}),v=new Kl(window.ethereum);break;default:throw new Error("Unsupported wallet type")}const S=v.getSigner(),_=await S.getAddress(),j=await v.getNetwork();t(v),i(S),o(_),h(j.chainId),u(!0),w(!0),localStorage.setItem("walletConnected",D)}catch(v){throw console.error("Error connecting wallet:",v),v}finally{y(!1)}},H=()=>{t(null),i(null),o(""),u(!1),h(null),w(!0),localStorage.removeItem("walletConnected")},G=async D=>{if(!window.ethereum)throw new Error("MetaMask is not installed");try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${D.toString(16)}`}]})}catch(v){throw v.code===4902?new Error("Please add this network to your wallet first"):v}},W=d&&$t[d],q={provider:e,signer:n,address:s,connected:a,chainId:d,loading:p,isInitialized:x,isReconnecting:A,connectWallet:B,disconnect:H,switchNetwork:G,addNetwork:async D=>{if(!window.ethereum)throw new Error("MetaMask is not installed");const v=$t[D];if(!v)throw new Error("Network config not found");try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${D.toString(16)}`,chainName:v.name,rpcUrls:[v.rpcUrl],blockExplorerUrls:[v.explorer],nativeCurrency:v.nativeCurrency||{name:"ETH",symbol:"ETH",decimals:18}}]})}catch(S){throw S}},formatAddress:D=>D?`${D.slice(0,6)}...${D.slice(-4)}`:"",networkInfo:m,isSupportedNetwork:W};return l.jsx(mP.Provider,{value:q,children:r})},C8=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"}],name:"PoolRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"bool",name:"whitelisted",type:"bool"}],name:"ERC20PrizeWhitelisted",type:"event"},{inputs:[],name:"getAllPools",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"creator",type:"address"}],name:"getPoolsByCreator",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"pool",type:"address"}],name:"getPoolCreator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"poolCreationTimestamps",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"addERC20Prize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAllSlotLimits",outputs:[{internalType:"uint256",name:"minPrized",type:"uint256"},{internalType:"uint256",name:"minNonPrized",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDurationLimits",outputs:[{internalType:"uint256",name:"min",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMaxSlotsPerParticipant",outputs:[{internalType:"uint256",name:"max",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minSlotLimitNonPrized",outputs:[{internalType:"uint256",name:"min",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxSlotsPerParticipant",outputs:[{internalType:"uint256",name:"max",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"isERC20PrizeWhitelisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"collection",type:"address"}],name:"isInternalCollection",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isVRFConsumer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_collection",type:"address"}],name:"isCollectionApproved",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],S8=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"},{indexed:!0,internalType:"address",name:"creator",type:"address"}],name:"PoolCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collection",type:"address"}],name:"PrizeCollectionCreated",type:"event"},{inputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"uint256",name:"slotLimit",type:"uint256"},{internalType:"uint256",name:"winnersCount",type:"uint256"},{internalType:"uint256",name:"maxSlotsPerParticipant",type:"uint256"},{internalType:"bool",name:"isPrized",type:"bool"},{internalType:"uint256",name:"customSlotFee",type:"uint256"},{internalType:"bool",name:"erc721Drop",type:"bool"},{internalType:"bool",name:"erc1155Drop",type:"bool"},{internalType:"address",name:"prizeCollection",type:"address"},{internalType:"uint8",name:"standard",type:"uint8"},{internalType:"uint256",name:"prizeTokenId",type:"uint256"},{internalType:"uint256",name:"amountPerWinner",type:"uint256"},{internalType:"string",name:"collectionName",type:"string"},{internalType:"string",name:"collectionSymbol",type:"string"},{internalType:"string",name:"collectionBaseURI",type:"string"},{internalType:"address",name:"creator",type:"address"},{internalType:"uint256",name:"royaltyPercentage",type:"uint256"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"address",name:"erc20PrizeToken",type:"address"},{internalType:"uint256",name:"erc20PrizeAmount",type:"uint256"},{internalType:"uint256",name:"nativePrizeAmount",type:"uint256"},{internalType:"uint8",name:"revealType",type:"uint8"},{internalType:"string",name:"unrevealedBaseURI",type:"string"},{internalType:"uint256",name:"revealTime",type:"uint256"},{internalType:"address",name:"holderTokenAddress",type:"address"},{internalType:"uint8",name:"holderTokenStandard",type:"uint8"},{internalType:"uint256",name:"minHolderTokenBalance",type:"uint256"},{internalType:"uint256",name:"holderTokenBalance",type:"uint256"},{internalType:"uint256",name:"holderTokenId",type:"uint256"},{internalType:"bool",name:"socialEngagementRequired",type:"bool"},{internalType:"string",name:"socialTaskDescription",type:"string"}],internalType:"struct PoolDeployer.PoolParams",name:"p",type:"tuple"}],name:"createPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"}],N8=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AdminDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AdminWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"adminRevenue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"depositAdmin",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],T8=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collection",type:"address"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"uint8",name:"standard",type:"uint8"}],name:"PrizeCollectionCreated",type:"event"},{inputs:[{internalType:"uint8",name:"standard",type:"uint8"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"string",name:"baseURI",type:"string"},{internalType:"address",name:"initialOwner",type:"address"},{internalType:"uint256",name:"royaltyPercentage",type:"uint256"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"address",name:"poolAddress",type:"address"}],name:"createPrizeCollection",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"erc1155Implementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"erc721Implementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocolManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"collection",type:"address"},{internalType:"bytes32",name:"signature",type:"bytes32"}],name:"validateSignature",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],A8=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"winner",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"PrizeMinted",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"salePrice",type:"uint256"}],name:"royaltyInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"royaltyPercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"royaltyRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_royaltyPercentage",type:"uint256"},{internalType:"address",name:"_royaltyRecipient",type:"address"}],name:"setRoyalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isRoyaltyEnforcementExempt",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bool",name:"exempt",type:"bool"}],name:"setRoyaltyEnforcementExemption",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"minterLocked",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"minter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_minter",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lockMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"reveal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unrevealedBaseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"}],name:"creatorMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"creatorMintedCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"isRevealed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_kol",type:"address"},{internalType:"uint256",name:"_poolLimit",type:"uint256"},{internalType:"uint256",name:"_enforcedSlotFee",type:"uint256"}],name:"approveKOL",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_kol",type:"address"}],name:"getKOLApprovalDetails",outputs:[{internalType:"bool",name:"approved",type:"bool"},{internalType:"uint256",name:"poolLimit",type:"uint256"},{internalType:"uint256",name:"enforcedSlotFee",type:"uint256"},{internalType:"uint256",name:"poolCount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_kol",type:"address"}],name:"revokeKOL",outputs:[],stateMutability:"nonpayable",type:"function"}],j8=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"minter","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"PrizeMinted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"values","type":"uint256[]"}],"name":"TransferBatch","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"TransferSingle","type":"event"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"accounts","type":"address[]"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"}],"name":"balanceOfBatch","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"salePrice","type":"uint256"}],"name":"royaltyInfo","outputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"royaltyPercentage","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"royaltyRecipient","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeBatchTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_royaltyPercentage","type":"uint256"},{"internalType":"address","name":"_royaltyRecipient","type":"address"}],"name":"setRoyalty","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"isRoyaltyEnforcementExempt","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"bool","name":"exempt","type":"bool"}],"name":"setRoyaltyEnforcementExemption","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"name":"uri","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_minter","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setMinterApproval","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"lockMinterApproval","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unlockMinterApproval","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"reveal","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"uint256","name":"_maxSupply","type":"uint256"}],"name":"createNewToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"string","name":"_uri","type":"string"}],"name":"setURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unrevealedURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"creatorMint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"creatorMintedCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isRevealed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_kol","type":"address"},{"internalType":"uint256","name":"_poolLimit","type":"uint256"},{"internalType":"uint256","name":"_enforcedSlotFee","type":"uint256"}],"name":"approveKOL","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_kol","type":"address"}],"name":"getKOLApprovalDetails","outputs":[{"internalType":"bool","name":"approved","type":"bool"},{"internalType":"uint256","name":"poolLimit","type":"uint256"},{"internalType":"uint256","name":"enforcedSlotFee","type":"uint256"},{"internalType":"uint256","name":"poolCount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_kol","type":"address"}],"name":"revokeKOL","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),P8=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"participant","type":"address"},{"indexed":false,"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"SlotsPurchased","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"winner","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"PrizeClaimed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address[]","name":"winners","type":"address[]"}],"name":"WinnersSelected","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"recipient","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RevenueWithdrawn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"participant","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RefundClaimed","type":"event"},{"anonymous":false,"inputs":[],"name":"PoolDeleted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"participant","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"FullRefundForDeletion","type":"event"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"creator","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"startTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"duration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"slotFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"slotLimit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"winnersCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxSlotsPerParticipant","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isPrized","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"prizeCollection","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"prizeTokenId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"standard","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"state","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isEscrowedPrize","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"erc20PrizeToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"erc20PrizeAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nativePrizeAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalCreatorRevenue","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"participants","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getParticipantsCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"slotsPurchased","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"quantity","type":"uint256"},{"internalType":"uint256","name":"_nonce","type":"uint256"},{"internalType":"uint256","name":"_deadline","type":"uint256"},{"internalType":"bytes","name":"_signature","type":"bytes"}],"name":"purchaseSlots","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"getUniqueParticipantsCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"deletePool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"winners","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"claimedWins","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"claimPrize","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"claimPrizes","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"claimRefund","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"winner","type":"address"}],"name":"mintToWinner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isWinner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"prizeClaimed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"refundClaimed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"refundableAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"depositEscrowPrize","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"withdrawEscrowedPrize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"usesCustomFee","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"refundedNonWinningSlots","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"winsPerAddress","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"participant","type":"address"}],"name":"getRefundableAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"participant","type":"address"}],"name":"getSlotsPurchased","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"lastPurchaseBlock","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"purchaseTimestamps","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_prizeCollection","type":"address"},{"internalType":"uint8","name":"_standard","type":"uint8"},{"internalType":"uint256","name":"_prizeTokenId","type":"uint256"},{"internalType":"uint256","name":"_amountPerWinner","type":"uint256"}],"name":"setExternalPrize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"requestRandomWords","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"activate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawCreatorRevenue","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"endPool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"isExternallyPrized","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"amountPerWinner","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"socialEngagementRequired","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"hasCompletedSocialEngagement","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getActualPoolDuration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"s_vrf_subscriptionId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"removeFromVRFSubscription","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),R8=[{inputs:[{internalType:"address",name:"",type:"address"}],name:"tasks",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"},{internalType:"address",name:"_pool",type:"address"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"verify",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"signer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"usedSignatures",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],I8=["function allowance(address owner, address spender) view returns (uint256)","function approve(address spender, uint256 amount) returns (bool)","function decimals() view returns (uint8)"],gt={protocolManager:C8,poolDeployer:S8,revenueManager:N8,nftFactory:T8,erc721Prize:A8,erc1155Prize:j8,socialEngagementManager:R8,pool:[...P8,{inputs:[],name:"isRefundable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"holderTokenAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],erc20:I8};var M8=r=>{switch(r){case"success":return L8;case"info":return F8;case"warning":return z8;case"error":return B8;default:return null}},O8=Array(12).fill(0),D8=({visible:r,className:e})=>ve.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":r},ve.createElement("div",{className:"sonner-spinner"},O8.map((t,n)=>ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),L8=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),z8=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),F8=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),B8=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$8=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),U8=()=>{let[r,e]=ve.useState(document.hidden);return ve.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),r},zw=1,q8=class{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{let e=this.subscribers.indexOf(r);this.subscribers.splice(e,1)}),this.publish=r=>{this.subscribers.forEach(e=>e(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var e;let{message:t,...n}=r,i=typeof(r==null?void 0:r.id)=="number"||((e=r.id)==null?void 0:e.length)>0?r.id:zw++,s=this.toasts.find(a=>a.id===i),o=r.dismissible===void 0?!0:r.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...r,id:i,title:t}),{...a,...r,id:i,dismissible:o,title:t}):a):this.addToast({title:t,...n,dismissible:o,id:i}),i},this.dismiss=r=>(this.dismissedToasts.add(r),r||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:r,dismiss:!0})),r),this.message=(r,e)=>this.create({...e,message:r}),this.error=(r,e)=>this.create({...e,message:r,type:"error"}),this.success=(r,e)=>this.create({...e,type:"success",message:r}),this.info=(r,e)=>this.create({...e,type:"info",message:r}),this.warning=(r,e)=>this.create({...e,type:"warning",message:r}),this.loading=(r,e)=>this.create({...e,type:"loading",message:r}),this.promise=(r,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:r,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=r instanceof Promise?r:r(),i=t!==void 0,s,o=n.then(async u=>{if(s=["resolve",u],ve.isValidElement(u))i=!1,this.create({id:t,type:"default",message:u});else if(H8(u)&&!u.ok){i=!1;let d=typeof e.error=="function"?await e.error(`HTTP error! status: ${u.status}`):e.error,h=typeof e.description=="function"?await e.description(`HTTP error! status: ${u.status}`):e.description;this.create({id:t,type:"error",message:d,description:h})}else if(e.success!==void 0){i=!1;let d=typeof e.success=="function"?await e.success(u):e.success,h=typeof e.description=="function"?await e.description(u):e.description;this.create({id:t,type:"success",message:d,description:h})}}).catch(async u=>{if(s=["reject",u],e.error!==void 0){i=!1;let d=typeof e.error=="function"?await e.error(u):e.error,h=typeof e.description=="function"?await e.description(u):e.description;this.create({id:t,type:"error",message:d,description:h})}}).finally(()=>{var u;i&&(this.dismiss(t),t=void 0),(u=e.finally)==null||u.call(e)}),a=()=>new Promise((u,d)=>o.then(()=>s[0]==="reject"?d(s[1]):u(s[1])).catch(d));return typeof t!="string"&&typeof t!="number"?{unwrap:a}:Object.assign(t,{unwrap:a})},this.custom=(r,e)=>{let t=(e==null?void 0:e.id)||zw++;return this.create({jsx:r(t),id:t,...e}),t},this.getActiveToasts=()=>this.toasts.filter(r=>!this.dismissedToasts.has(r.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ki=new q8,W8=(r,e)=>{let t=(e==null?void 0:e.id)||zw++;return Ki.addToast({title:r,...e,id:t}),t},H8=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",V8=W8,G8=()=>Ki.toasts,K8=()=>Ki.getActiveToasts(),Ri=Object.assign(V8,{success:Ki.success,info:Ki.info,warning:Ki.warning,error:Ki.error,custom:Ki.custom,message:Ki.message,promise:Ki.promise,dismiss:Ki.dismiss,loading:Ki.loading},{getHistory:G8,getToasts:K8});function Y8(r,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r))}Y8(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Cg(r){return r.label!==void 0}var J8=3,Q8="32px",X8="16px",mN=4e3,Z8=356,eB=14,tB=20,rB=200;function wo(...r){return r.filter(Boolean).join(" ")}function nB(r){let[e,t]=r.split("-"),n=[];return e&&n.push(e),t&&n.push(t),n}var iB=r=>{var e,t,n,i,s,o,a,u,d,h,p;let{invert:y,toast:m,unstyled:b,interacting:x,setHeights:w,visibleToasts:A,heights:P,index:I,toasts:T,expanded:U,removeToast:B,defaultRichColors:H,closeButton:G,style:W,cancelButtonStyle:V,actionButtonStyle:K,className:q="",descriptionClassName:D="",duration:v,position:S,gap:_,loadingIcon:j,expandByDefault:O,classNames:z,icons:E,closeButtonAriaLabel:M="Close toast",pauseWhenPageIsHidden:N}=r,[R,X]=ve.useState(null),[$,Y]=ve.useState(null),[Q,Z]=ve.useState(!1),[te,ce]=ve.useState(!1),[ne,ue]=ve.useState(!1),[xe,ye]=ve.useState(!1),[Se,pt]=ve.useState(!1),[ae,Ye]=ve.useState(0),[Rt,Xe]=ve.useState(0),Ie=ve.useRef(m.duration||v||mN),Gt=ve.useRef(null),tt=ve.useRef(null),xt=I===0,Me=I+1<=A,oe=m.type,he=m.dismissible!==!1,Oe=m.className||"",Te=m.descriptionClassName||"",Re=ve.useMemo(()=>P.findIndex(De=>De.toastId===m.id)||0,[P,m.id]),jt=ve.useMemo(()=>{var De;return(De=m.closeButton)!=null?De:G},[m.closeButton,G]),qe=ve.useMemo(()=>m.duration||v||mN,[m.duration,v]),rt=ve.useRef(0),Ht=ve.useRef(0),vt=ve.useRef(0),ot=ve.useRef(null),[dr,bt]=S.split("-"),Be=ve.useMemo(()=>P.reduce((De,dt,it)=>it>=Re?De:De+dt.height,0),[P,Re]),Ir=U8(),Nt=m.invert||y,St=oe==="loading";Ht.current=ve.useMemo(()=>Re*_+Be,[Re,Be]),ve.useEffect(()=>{Ie.current=qe},[qe]),ve.useEffect(()=>{Z(!0)},[]),ve.useEffect(()=>{let De=tt.current;if(De){let dt=De.getBoundingClientRect().height;return Xe(dt),w(it=>[{toastId:m.id,height:dt,position:m.position},...it]),()=>w(it=>it.filter(Pe=>Pe.toastId!==m.id))}},[w,m.id]),ve.useLayoutEffect(()=>{if(!Q)return;let De=tt.current,dt=De.style.height;De.style.height="auto";let it=De.getBoundingClientRect().height;De.style.height=dt,Xe(it),w(Pe=>Pe.find($e=>$e.toastId===m.id)?Pe.map($e=>$e.toastId===m.id?{...$e,height:it}:$e):[{toastId:m.id,height:it,position:m.position},...Pe])},[Q,m.title,m.description,w,m.id]);let or=ve.useCallback(()=>{ce(!0),Ye(Ht.current),w(De=>De.filter(dt=>dt.toastId!==m.id)),setTimeout(()=>{B(m)},rB)},[m,B,w,Ht]);ve.useEffect(()=>{if(m.promise&&oe==="loading"||m.duration===1/0||m.type==="loading")return;let De;return U||x||N&&Ir?(()=>{if(vt.current<rt.current){let dt=new Date().getTime()-rt.current;Ie.current=Ie.current-dt}vt.current=new Date().getTime()})():Ie.current!==1/0&&(rt.current=new Date().getTime(),De=setTimeout(()=>{var dt;(dt=m.onAutoClose)==null||dt.call(m,m),or()},Ie.current)),()=>clearTimeout(De)},[U,x,m,oe,N,Ir,or]),ve.useEffect(()=>{m.delete&&or()},[or,m.delete]);function Dt(){var De,dt,it;return E!=null&&E.loading?ve.createElement("div",{className:wo(z==null?void 0:z.loader,(De=m==null?void 0:m.classNames)==null?void 0:De.loader,"sonner-loader"),"data-visible":oe==="loading"},E.loading):j?ve.createElement("div",{className:wo(z==null?void 0:z.loader,(dt=m==null?void 0:m.classNames)==null?void 0:dt.loader,"sonner-loader"),"data-visible":oe==="loading"},j):ve.createElement(D8,{className:wo(z==null?void 0:z.loader,(it=m==null?void 0:m.classNames)==null?void 0:it.loader),visible:oe==="loading"})}return ve.createElement("li",{tabIndex:0,ref:tt,className:wo(q,Oe,z==null?void 0:z.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,z==null?void 0:z.default,z==null?void 0:z[oe],(t=m==null?void 0:m.classNames)==null?void 0:t[oe]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:H,"data-styled":!(m.jsx||m.unstyled||b),"data-mounted":Q,"data-promise":!!m.promise,"data-swiped":Se,"data-removed":te,"data-visible":Me,"data-y-position":dr,"data-x-position":bt,"data-index":I,"data-front":xt,"data-swiping":ne,"data-dismissible":he,"data-type":oe,"data-invert":Nt,"data-swipe-out":xe,"data-swipe-direction":$,"data-expanded":!!(U||O&&Q),style:{"--index":I,"--toasts-before":I,"--z-index":T.length-I,"--offset":`${te?ae:Ht.current}px`,"--initial-height":O?"auto":`${Rt}px`,...W,...m.style},onDragEnd:()=>{ue(!1),X(null),ot.current=null},onPointerDown:De=>{St||!he||(Gt.current=new Date,Ye(Ht.current),De.target.setPointerCapture(De.pointerId),De.target.tagName!=="BUTTON"&&(ue(!0),ot.current={x:De.clientX,y:De.clientY}))},onPointerUp:()=>{var De,dt,it,Pe;if(xe||!he)return;ot.current=null;let $e=Number(((De=tt.current)==null?void 0:De.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ze=Number(((dt=tt.current)==null?void 0:dt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),be=new Date().getTime()-((it=Gt.current)==null?void 0:it.getTime()),Fe=R==="x"?$e:ze,Ne=Math.abs(Fe)/be;if(Math.abs(Fe)>=tB||Ne>.11){Ye(Ht.current),(Pe=m.onDismiss)==null||Pe.call(m,m),Y(R==="x"?$e>0?"right":"left":ze>0?"down":"up"),or(),ye(!0),pt(!1);return}ue(!1),X(null)},onPointerMove:De=>{var dt,it,Pe,$e;if(!ot.current||!he||((dt=window.getSelection())==null?void 0:dt.toString().length)>0)return;let ze=De.clientY-ot.current.y,be=De.clientX-ot.current.x,Fe=(it=r.swipeDirections)!=null?it:nB(S);!R&&(Math.abs(be)>1||Math.abs(ze)>1)&&X(Math.abs(be)>Math.abs(ze)?"x":"y");let Ne={x:0,y:0};R==="y"?(Fe.includes("top")||Fe.includes("bottom"))&&(Fe.includes("top")&&ze<0||Fe.includes("bottom")&&ze>0)&&(Ne.y=ze):R==="x"&&(Fe.includes("left")||Fe.includes("right"))&&(Fe.includes("left")&&be<0||Fe.includes("right")&&be>0)&&(Ne.x=be),(Math.abs(Ne.x)>0||Math.abs(Ne.y)>0)&&pt(!0),(Pe=tt.current)==null||Pe.style.setProperty("--swipe-amount-x",`${Ne.x}px`),($e=tt.current)==null||$e.style.setProperty("--swipe-amount-y",`${Ne.y}px`)}},jt&&!m.jsx?ve.createElement("button",{"aria-label":M,"data-disabled":St,"data-close-button":!0,onClick:St||!he?()=>{}:()=>{var De;or(),(De=m.onDismiss)==null||De.call(m,m)},className:wo(z==null?void 0:z.closeButton,(i=m==null?void 0:m.classNames)==null?void 0:i.closeButton)},(s=E==null?void 0:E.close)!=null?s:$8):null,m.jsx||C.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:ve.createElement(ve.Fragment,null,oe||m.icon||m.promise?ve.createElement("div",{"data-icon":"",className:wo(z==null?void 0:z.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Dt():null,m.type!=="loading"?m.icon||(E==null?void 0:E[oe])||M8(oe):null):null,ve.createElement("div",{"data-content":"",className:wo(z==null?void 0:z.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},ve.createElement("div",{"data-title":"",className:wo(z==null?void 0:z.title,(u=m==null?void 0:m.classNames)==null?void 0:u.title)},typeof m.title=="function"?m.title():m.title),m.description?ve.createElement("div",{"data-description":"",className:wo(D,Te,z==null?void 0:z.description,(d=m==null?void 0:m.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),C.isValidElement(m.cancel)?m.cancel:m.cancel&&Cg(m.cancel)?ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||V,onClick:De=>{var dt,it;Cg(m.cancel)&&he&&((it=(dt=m.cancel).onClick)==null||it.call(dt,De),or())},className:wo(z==null?void 0:z.cancelButton,(h=m==null?void 0:m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,C.isValidElement(m.action)?m.action:m.action&&Cg(m.action)?ve.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||K,onClick:De=>{var dt,it;Cg(m.action)&&((it=(dt=m.action).onClick)==null||it.call(dt,De),!De.defaultPrevented&&or())},className:wo(z==null?void 0:z.actionButton,(p=m==null?void 0:m.classNames)==null?void 0:p.actionButton)},m.action.label):null))};function gN(){if(typeof window>"u"||typeof document>"u")return"ltr";let r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function sB(r,e){let t={};return[r,e].forEach((n,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",a=s?X8:Q8;function u(d){["top","right","bottom","left"].forEach(h=>{t[`${o}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?u(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?t[`${o}-${d}`]=a:t[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):u(a)}),t}var oB=C.forwardRef(function(r,e){let{invert:t,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:u,mobileOffset:d,theme:h="light",richColors:p,duration:y,style:m,visibleToasts:b=J8,toastOptions:x,dir:w=gN(),gap:A=eB,loadingIcon:P,icons:I,containerAriaLabel:T="Notifications",pauseWhenPageIsHidden:U}=r,[B,H]=ve.useState([]),G=ve.useMemo(()=>Array.from(new Set([n].concat(B.filter(N=>N.position).map(N=>N.position)))),[B,n]),[W,V]=ve.useState([]),[K,q]=ve.useState(!1),[D,v]=ve.useState(!1),[S,_]=ve.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),j=ve.useRef(null),O=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=ve.useRef(null),E=ve.useRef(!1),M=ve.useCallback(N=>{H(R=>{var X;return(X=R.find($=>$.id===N.id))!=null&&X.delete||Ki.dismiss(N.id),R.filter(({id:$})=>$!==N.id)})},[]);return ve.useEffect(()=>Ki.subscribe(N=>{if(N.dismiss){H(R=>R.map(X=>X.id===N.id?{...X,delete:!0}:X));return}setTimeout(()=>{sj.flushSync(()=>{H(R=>{let X=R.findIndex($=>$.id===N.id);return X!==-1?[...R.slice(0,X),{...R[X],...N},...R.slice(X+1)]:[N,...R]})})})}),[]),ve.useEffect(()=>{if(h!=="system"){_(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?_("dark"):_("light")),typeof window>"u")return;let N=window.matchMedia("(prefers-color-scheme: dark)");try{N.addEventListener("change",({matches:R})=>{_(R?"dark":"light")})}catch{N.addListener(({matches:X})=>{try{_(X?"dark":"light")}catch($){console.error($)}})}},[h]),ve.useEffect(()=>{B.length<=1&&q(!1)},[B]),ve.useEffect(()=>{let N=R=>{var X,$;i.every(Y=>R[Y]||R.code===Y)&&(q(!0),(X=j.current)==null||X.focus()),R.code==="Escape"&&(document.activeElement===j.current||($=j.current)!=null&&$.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[i]),ve.useEffect(()=>{if(j.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,E.current=!1)}},[j.current]),ve.createElement("section",{ref:e,"aria-label":`${T} ${O}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},G.map((N,R)=>{var X;let[$,Y]=N.split("-");return B.length?ve.createElement("ol",{key:N,dir:w==="auto"?gN():w,tabIndex:-1,ref:j,className:a,"data-sonner-toaster":!0,"data-theme":S,"data-y-position":$,"data-lifted":K&&B.length>1&&!s,"data-x-position":Y,style:{"--front-toast-height":`${((X=W[0])==null?void 0:X.height)||0}px`,"--width":`${Z8}px`,"--gap":`${A}px`,...m,...sB(u,d)},onBlur:Q=>{E.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(E.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||E.current||(E.current=!0,z.current=Q.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{D||q(!1)},onDragEnd:()=>q(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||v(!0)},onPointerUp:()=>v(!1)},B.filter(Q=>!Q.position&&R===0||Q.position===N).map((Q,Z)=>{var te,ce;return ve.createElement(iB,{key:Q.id,icons:I,index:Z,toast:Q,defaultRichColors:p,duration:(te=x==null?void 0:x.duration)!=null?te:y,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:t,visibleToasts:b,closeButton:(ce=x==null?void 0:x.closeButton)!=null?ce:o,interacting:D,position:N,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:M,toasts:B.filter(ne=>ne.position==Q.position),heights:W.filter(ne=>ne.position==Q.position),setHeights:V,expandByDefault:s,gap:A,loadingIcon:P,expanded:K,pauseWhenPageIsHidden:U,swipeDirections:r.swipeDirections})})):null}))});class aB{constructor(){this.recentToasts=new Map,this.cleanupInterval=5e3,this.maxDuplicateWindow=3e3,setInterval(()=>{const e=Date.now();for(const[t,n]of this.recentToasts.entries())e-n>this.cleanupInterval&&this.recentToasts.delete(t)},this.cleanupInterval)}generateToastKey(e,t="default"){const n=String(e).toLowerCase().replace(/\s+/g," ").trim().replace(/0x[a-f0-9]{40,}/gi,"[address]").replace(/transaction:\s*0x[a-f0-9]+/gi,"[transaction]").replace(/\d+(\.\d+)?\s*(eth|matic|avax|bnb)/gi,"[amount]").replace(/attempt\s+\d+\/\d+/gi,"[attempt]");return`${t}:${n}`}isDuplicate(e,t="default"){const n=this.generateToastKey(e,t),i=Date.now(),s=this.recentToasts.get(n);return s&&i-s<this.maxDuplicateWindow?!0:(this.recentToasts.set(n,i),!1)}error(e,t={}){if(this.isDuplicate(e,"error")){console.log("Duplicate error toast prevented:",e);return}const n=this.processErrorMessage(e);return Ri.error(n,{duration:4e3,...t})}success(e,t={}){if(this.isDuplicate(e,"success")){console.log("Duplicate success toast prevented:",e);return}return Ri.success(e,{duration:3e3,...t})}info(e,t={}){if(this.isDuplicate(e,"info")){console.log("Duplicate info toast prevented:",e);return}return Ri.info(e,{duration:3e3,...t})}warning(e,t={}){if(this.isDuplicate(e,"warning")){console.log("Duplicate warning toast prevented:",e);return}return Ri.warning(e,{duration:4e3,...t})}processErrorMessage(e){if(!e)return"An unknown error occurred";let t=typeof e=="string"?e:e.message||e.toString();return t=t.replace(/^Error:\s*/i,"").replace(/^execution reverted:\s*/i,"").replace(/^call exception:\s*/i,"").replace(/^missing revert data in call exception;\s*/i,"").replace(/user rejected transaction/i,"Transaction was cancelled").replace(/insufficient funds/i,"Insufficient funds for transaction").replace(/gas required exceeds allowance/i,"Transaction requires more gas than available").replace(/nonce too low/i,"Transaction nonce error - please try again").replace(/replacement transaction underpriced/i,"Transaction fee too low - please increase gas price").replace(/network error/i,"Network connection error").replace(/timeout/i,"Request timed out").replace(/rate limit/i,"Too many requests - please wait a moment").replace(/contract not deployed/i,"Smart contract not found on this network").replace(/method not found/i,"Contract method not available").replace(/^./,n=>n.toUpperCase()),t.length>150&&(t=t.substring(0,147)+"..."),t}forceError(e,t={}){const n=this.processErrorMessage(e);return Ri.error(n,{duration:4e3,...t})}clearHistory(){this.recentToasts.clear()}loading(e,t={}){return Ri.loading(e,t)}dismiss(e){return Ri.dismiss(e)}promise(e,t={}){return Ri.promise(e,t)}}const ee=new aB,lB=({...r})=>l.jsx(oB,{theme:"dark",className:"toaster group",position:"bottom-right",expand:!0,richColors:!1,closeButton:!0,...r}),Ek=()=>{if(typeof window>"u")return{name:"unknown",version:"unknown"};const r=navigator.userAgent,e={chrome:/Chrome\/(\d+)/.test(r),firefox:/Firefox\/(\d+)/.test(r),safari:/Safari\/(\d+)/.test(r)&&!/Chrome/.test(r),edge:/Edg\/(\d+)/.test(r),opera:/OPR\/(\d+)/.test(r),brave:navigator.brave&&navigator.brave.isBrave},t=Object.keys(e).find(s=>e[s])||"unknown",n=r.match(new RegExp(`${t==="edge"?"Edg":t}\\/(\\d+)`,"i")),i=n?n[1]:"unknown";return{name:t,version:i,userAgent:r,isMetaMaskBrowser:r.includes("MetaMask"),isMobile:/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(r)}},Ck=()=>{const r=Ek(),e=r.isMobile||window.innerWidth<768,t={firefox:{timeout:15e3,retries:3,batchSize:3,useSequential:!0,delayBetweenCalls:200},safari:{timeout:2e4,retries:4,batchSize:2,useSequential:!0,delayBetweenCalls:300},edge:{timeout:12e3,retries:3,batchSize:4,useSequential:!1,delayBetweenCalls:100},chrome:{timeout:1e4,retries:3,batchSize:6,useSequential:!1,delayBetweenCalls:50},default:{timeout:12e3,retries:3,batchSize:4,useSequential:e,delayBetweenCalls:100}},n=t[r.name]||t.default;return e&&(n.timeout*=1.5,n.retries=Math.min(n.retries+1,5),n.batchSize=Math.min(n.batchSize,3),n.useSequential=!0,n.delayBetweenCalls*=2),{...n,browserInfo:r,isMobile:e}},q0=async(r,e,t={})=>{const{timeout:n=1e4,retries:i=3,fallbackValue:s=null,required:o=!1}=t;for(let a=1;a<=i;a++)try{const u=new Promise((h,p)=>setTimeout(()=>p(new Error(`Timeout calling ${e}`)),n));return{success:!0,result:await Promise.race([r(),u]),error:null}}catch(u){if(console.warn(`Attempt ${a}/${i} failed for ${e}:`,u.message),(u.message.includes("missing revert data")||u.message.includes("call exception")||u.code==="CALL_EXCEPTION")&&a<i){await new Promise(h=>setTimeout(h,1e3*a));continue}if(a===i){if(o)throw new Error(`Failed to call ${e} after ${i} attempts: ${u.message}`);return{success:!1,result:s,error:u.message}}}},cB=async(r,e={})=>{const t=Ck(),{useSequential:n=t.useSequential,batchSize:i=t.batchSize,delayBetweenCalls:s=t.delayBetweenCalls,timeout:o=t.timeout}=e;if(console.log(` Batch contract calls - Browser: ${t.browserInfo.name}, Sequential: ${n}, Batch size: ${i}`),n){const a=[];for(let u=0;u<r.length;u++){const d=r[u];try{s>0&&u>0&&await new Promise(p=>setTimeout(p,s));const h=await q0(d.method,d.name,{timeout:o,fallbackValue:d.fallback,required:d.required});a.push(h.success?h.result:d.fallback)}catch(h){if(console.error(`Sequential call failed for ${d.name}:`,h),d.required)throw h;a.push(d.fallback)}}return a}else{const a=[];for(let u=0;u<r.length;u+=i){const d=r.slice(u,u+i);try{const h=d.map(y=>q0(y.method,y.name,{timeout:o,fallbackValue:y.fallback,required:y.required}).then(m=>m.success?m.result:y.fallback).catch(m=>{if(console.error(`Batch call failed for ${y.name}:`,m),y.required)throw m;return y.fallback})),p=await Promise.all(h);a.push(...p),u+i<r.length&&s>0&&await new Promise(y=>setTimeout(y,s))}catch(h){console.error("Batch execution failed:",h),d.forEach(p=>{if(p.required)throw h;a.push(p.fallback)})}}return a}},uB=(r,e)=>{try{return typeof r[e]=="function"}catch{return!1}},Pa=(r,e,t=null)=>uB(r,e)?(...n)=>r[e](...n):(console.warn(`Method ${e} not found on contract`),()=>Promise.resolve(t)),gP=async r=>{if(!r)return 0;try{return(await r.getParticipantsCount()).toNumber()}catch(e){console.warn("getParticipantsCount failed, using fallback method:",e.message);let t=0,n=0;for(;;)try{await r.participants(n),t++,n++}catch{break}return t}},gi=r=>{var t;if(!r)return"Unknown error occurred";let e="";return typeof r=="string"?e=r:r.reason?e=r.reason:(t=r.data)!=null&&t.message?e=r.data.message:r.message?e=r.message:e=r.toString(),e=e.replace(/^Error:\s*/i,"").replace(/^execution reverted:\s*/i,"").replace(/^call exception:\s*/i,"").replace(/^missing revert data in call exception;\s*/i,"").replace(/Transaction reverted without a reason string/i,"Transaction failed").trim(),e||"Unknown error occurred"},My=(r,e={})=>{const t=gi(r).toLowerCase();return!(t.includes("user rejected")||t.includes("user denied")||(r==null?void 0:r.code)===4001||e.isReadOnly&&(t.includes("not found")||t.includes("does not exist")||t.includes("no tickets")||t.includes("unavailable")||t.includes("400")||t.includes("non-200 status code")||t.includes("failed to load")||t.includes("no data")||t.includes("empty result")||t.includes("no records"))||t.includes("network")||t.includes("timeout")||t.includes("connection")||t.includes("rate limit"))},Yh=(r,e={})=>{const{context:t={},showToast:n=!0,logError:i=!0,fallbackMessage:s="An error occurred"}=e;i&&console.error("Error handled:",r,t);const o=gi(r);return n&&My(r,t)&&ee.error(o||s),o},dB=(r,e={})=>{const{operation:t="transaction",showToast:n=!0}=e,i=gi(r);return console.error(`Transaction error in ${t}:`,r),n&&My(r,{})&&ee.error(i),i},fB=(r,e,t={})=>{const{showToast:n=!1,isRequired:i=!1}=t,s=gi(r);return console.warn(`Contract call failed for ${e}:`,s),n&&(i||My(r,{isReadOnly:!0}))&&ee.error(`${e} failed: ${s}`),s},hB=()=>({handleError:(n,i={})=>Yh(n,i),handleTransactionError:(n,i={})=>dB(n,i),handleContractCallError:(n,i,s={})=>fB(n,i,s),extractRevertReason:gi,shouldShowErrorToast:My}),yP=C.createContext(),Cr=()=>{const r=C.useContext(yP);if(!r)throw new Error("useContract must be used within a ContractProvider");return r},pB=({children:r})=>{const{signer:e,provider:t,connected:n,chainId:i,isInitialized:s,isReconnecting:o}=ur(),[a,u]=C.useState({}),[d,h]=C.useState(!1);C.useEffect(()=>{if(n&&e&&s&&!o){h(!1);const I=setTimeout(()=>{p(),setTimeout(()=>{h(!0)},200)},100);return()=>clearTimeout(I)}else u({}),h(!1)},[n,e,s,o,i]);const p=()=>{var T,U,B,H,G,W,V,K,q,D,v,S,_,j,O,z;const I={};try{(U=(T=$t[i])==null?void 0:T.contractAddresses)!=null&&U.protocolManager&&(I.protocolManager=new At((H=(B=$t[i])==null?void 0:B.contractAddresses)==null?void 0:H.protocolManager,gt.protocolManager,e)),(W=(G=$t[i])==null?void 0:G.contractAddresses)!=null&&W.poolDeployer&&(I.poolDeployer=new At((K=(V=$t[i])==null?void 0:V.contractAddresses)==null?void 0:K.poolDeployer,gt.poolDeployer,e)),(D=(q=$t[i])==null?void 0:q.contractAddresses)!=null&&D.revenueManager&&(I.revenueManager=new At((S=(v=$t[i])==null?void 0:v.contractAddresses)==null?void 0:S.revenueManager,gt.revenueManager,e)),(j=(_=$t[i])==null?void 0:_.contractAddresses)!=null&&j.nftFactory&&(I.nftFactory=new At((z=(O=$t[i])==null?void 0:O.contractAddresses)==null?void 0:z.nftFactory,gt.nftFactory,e)),u(I)}catch(E){console.error("Error initializing contracts:",E)}},y=(I,T)=>{if(!I)return console.warn("No address provided for contract instance"),null;if(!e&&!t)return console.warn("No signer or provider available for contract instance"),null;if(!gt[T])return console.error(`ABI not found for type: ${T}`),null;try{const U=e||t;return new At(I,gt[T],U)}catch(U){return console.error(`Error creating contract instance for ${T}:`,U),null}},m=async(I,...T)=>{var U;try{const B=await I(...T);return{success:!0,receipt:await B.wait(),hash:B.hash}}catch(B){let H="Transaction failed";return B!=null&&B.reason?H=B.reason:(U=B==null?void 0:B.data)!=null&&U.message?H=B.data.message:B!=null&&B.message&&(H=B.message),console.error("Contract transaction failed:",H),{success:!1,error:H}}},b=async(I,T="unknown",...U)=>{var H;const B=Ck();try{const G=await q0(()=>I(...U),T,{timeout:B.timeout,retries:B.retries,required:!1});if(G.success)return{success:!0,result:G.result};throw new Error(G.error)}catch(G){let W="Contract call failed";return G.message.includes("missing revert data")||G.message.includes("call exception")||G.code==="CALL_EXCEPTION"?W="Network connectivity issue - please try again":G!=null&&G.reason?W=G.reason:(H=G==null?void 0:G.data)!=null&&H.message?W=G.data.message:G!=null&&G.message&&(W=G.message),Yh(G,{context:{operation:T,isReadOnly:!0,isContractCall:!0},fallbackMessage:`${T} failed`}),{success:!1,error:W}}},x=ve.useRef({}),w=(I,T)=>(x.current[I]||(x.current[I]=[]),x.current[I].push(T),()=>{x.current[I]=x.current[I].filter(U=>U!==T)}),A=(I,...T)=>{x.current[I]&&x.current[I].forEach(U=>U(...T))};C.useEffect(()=>{if(!n||!e||!a.poolDeployer)return;const I=(T,U)=>{A("PoolCreated",{pool:T,creator:U})};if(a.poolDeployer.on("PoolCreated",I),a.pool){const T=B=>{A("WinnersSelected",{winners:B})};a.pool.on("WinnersSelected",T);const U=(B,H)=>{A("PrizeClaimed",{winner:B,tokenId:H})};return a.pool.on("PrizeClaimed",U),()=>{a.pool.off("WinnersSelected",T),a.pool.off("PrizeClaimed",U)}}return()=>{a.poolDeployer.off("PoolCreated",I)}},[n,e,a.poolDeployer,a.pool]);const P={contracts:a,getContractInstance:y,executeTransaction:m,executeCall:b,onContractEvent:w,isContractsReady:d};return l.jsx(yP.Provider,{value:P,children:r})},xP=C.createContext(),Oy=()=>{const r=C.useContext(xP);if(!r)throw new Error("useTheme must be used within a ThemeProvider");return r},Nl=[{id:"light",name:"Light",icon:"Sun"},{id:"dark",name:"Dark",icon:"Moon"},{id:"dim-blue",name:"Dim Blue",icon:"Monitor"}],mB=({children:r})=>{const[e,t]=C.useState(()=>{const o=localStorage.getItem("theme");return o&&Nl.some(a=>a.id===o)?o:(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,"dark")});C.useEffect(()=>{const o=document.documentElement;Nl.forEach(a=>{o.classList.remove(a.id)}),o.classList.add(e),localStorage.setItem("theme",e)},[e]);const s={theme:e,setTheme:t,cycleTheme:()=>{const a=(Nl.findIndex(u=>u.id===e)+1)%Nl.length;t(Nl[a].id)},getCurrentTheme:()=>Nl.find(o=>o.id===e)||Nl[1],availableThemes:Nl,isDark:e==="dark",isLight:e==="light",isDimBlue:e==="dim-blue"};return l.jsx(xP.Provider,{value:s,children:r})},vP=C.createContext(),Sk=()=>{const r=C.useContext(vP);if(!r)throw new Error("useCollabDetection must be used within a CollabDetectionProvider");return r},gB=({children:r})=>{const[e,t]=C.useState({}),[n,i]=C.useState({}),s=C.useCallback((m,b)=>{t(x=>({...x,[m]:b})),i(x=>{const w={...x};return delete w[m],w})},[]),o=C.useCallback((m,b)=>{i(x=>({...x,[m]:b}))},[]),a=C.useCallback(m=>e[m],[e]),u=C.useCallback(m=>n[m]||!1,[n]),d=C.useCallback(m=>{const b=e[m.address];return b==="nft_collab"||b==="whitelist_collab"?b:b===void 0&&n[m.address]&&m.isExternallyPrized||(b==="not_collab"||b===void 0)&&m.isExternallyPrized?"nft_collab":m.isPrized?"prized":"non_prized"},[e,n]),h=C.useCallback(m=>{const b={non_prized:0,prized:0,nft_collab:0,whitelist_collab:0};return m.forEach(x=>{const w=d(x);b[w]=(b[w]||0)+1}),b},[d]),p=C.useCallback((m,b)=>!b||b.length===0?m:m.filter(x=>{const w=d(x);return b.includes(w)}),[d]),y={collabResults:e,loadingStates:n,updateCollabStatus:s,setCollabLoading:o,getCollabStatus:a,isCollabLoading:u,getEnhancedRaffleType:d,countEnhancedRaffleTypes:h,filterByEnhancedType:p};return l.jsx(vP.Provider,{value:y,children:r})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ve=(r,e)=>{const t=C.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:u,...d},h)=>C.createElement("svg",{ref:h,...yB,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${xB(r)}`,a].join(" "),...d},[...e.map(([p,y])=>C.createElement(p,y)),...Array.isArray(u)?u:[u]]));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=Ve("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=Ve("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=Ve("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=Ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=Ve("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=Ve("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=Ve("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=Ve("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=Ve("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=Ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=Ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=Ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=Ve("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=Ve("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=Ve("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=Ve("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=Ve("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=Ve("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=Ve("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=Ve("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=Ve("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=Ve("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=Ve("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=Ve("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=Ve("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=Ve("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=Ve("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=Ve("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=Ve("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=Ve("LockKeyhole",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=Ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=Ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=Ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=Ve("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=Ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=Ve("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=Ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=Ve("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=Ve("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=Ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=Ve("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=Ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=Ve("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=Ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=Ve("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=Ve("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=Ve("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=Ve("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=Ve("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=Ve("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=Ve("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=Ve("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=Ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=Ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=Ve("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=Ve("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=Ve("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=Ve("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=Ve("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=Ve("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=Ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=Ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=Ve("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=Ve("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=Ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=Ve("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=Ve("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function _N(r,[e,t]){return Math.min(t,Math.max(e,r))}function Ke(r,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(r==null||r(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function $B(r,e){const t=C.createContext(e),n=s=>{const{children:o,...a}=s,u=C.useMemo(()=>a,Object.values(a));return l.jsx(t.Provider,{value:u,children:o})};n.displayName=r+"Provider";function i(s){const o=C.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${r}\``)}return[n,i]}function co(r,e=[]){let t=[];function n(s,o){const a=C.createContext(o),u=t.length;t=[...t,o];const d=p=>{var A;const{scope:y,children:m,...b}=p,x=((A=y==null?void 0:y[r])==null?void 0:A[u])||a,w=C.useMemo(()=>b,Object.values(b));return l.jsx(x.Provider,{value:w,children:m})};d.displayName=s+"Provider";function h(p,y){var x;const m=((x=y==null?void 0:y[r])==null?void 0:x[u])||a,b=C.useContext(m);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[d,h]}const i=()=>{const s=t.map(o=>C.createContext(o));return function(a){const u=(a==null?void 0:a[r])||s;return C.useMemo(()=>({[`__scope${r}`]:{...a,[r]:u}}),[a,u])}};return i.scopeName=r,[n,UB(i,...e)]}function UB(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const n=r.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((a,{useScope:u,scopeName:d})=>{const p=u(s)[`__scope${d}`];return{...a,...p}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function EN(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function Ly(...r){return e=>{let t=!1;const n=r.map(i=>{const s=EN(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():EN(r[i],null)}}}}function gr(...r){return C.useCallback(Ly(...r),r)}function yu(r){const e=qB(r),t=C.forwardRef((n,i)=>{const{children:s,...o}=n,a=C.Children.toArray(s),u=a.find(HB);if(u){const d=u.props.children,h=a.map(p=>p===u?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:p);return l.jsx(e,{...o,ref:i,children:C.isValidElement(d)?C.cloneElement(d,void 0,h):null})}return l.jsx(e,{...o,ref:i,children:s})});return t.displayName=`${r}.Slot`,t}var EP=yu("Slot");function qB(r){const e=C.forwardRef((t,n)=>{const{children:i,...s}=t;if(C.isValidElement(i)){const o=GB(i),a=VB(s,i.props);return i.type!==C.Fragment&&(a.ref=n?Ly(n,o):o),C.cloneElement(i,a)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var CP=Symbol("radix.slottable");function WB(r){const e=({children:t})=>l.jsx(l.Fragment,{children:t});return e.displayName=`${r}.Slottable`,e.__radixId=CP,e}function HB(r){return C.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===CP}function VB(r,e){const t={...e};for(const n in e){const i=r[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?t[n]=(...a)=>{const u=s(...a);return i(...a),u}:i&&(t[n]=i):n==="style"?t[n]={...i,...s}:n==="className"&&(t[n]=[i,s].filter(Boolean).join(" "))}return{...r,...t}}function GB(r){var n,i;let e=(n=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(i=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function zy(r){const e=r+"CollectionProvider",[t,n]=co(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:w,children:A}=x,P=ve.useRef(null),I=ve.useRef(new Map).current;return l.jsx(i,{scope:w,itemMap:I,collectionRef:P,children:A})};o.displayName=e;const a=r+"CollectionSlot",u=yu(a),d=ve.forwardRef((x,w)=>{const{scope:A,children:P}=x,I=s(a,A),T=gr(w,I.collectionRef);return l.jsx(u,{ref:T,children:P})});d.displayName=a;const h=r+"CollectionItemSlot",p="data-radix-collection-item",y=yu(h),m=ve.forwardRef((x,w)=>{const{scope:A,children:P,...I}=x,T=ve.useRef(null),U=gr(w,T),B=s(h,A);return ve.useEffect(()=>(B.itemMap.set(T,{ref:T,...I}),()=>void B.itemMap.delete(T))),l.jsx(y,{[p]:"",ref:U,children:P})});m.displayName=h;function b(x){const w=s(r+"CollectionConsumer",x);return ve.useCallback(()=>{const P=w.collectionRef.current;if(!P)return[];const I=Array.from(P.querySelectorAll(`[${p}]`));return Array.from(w.itemMap.values()).sort((B,H)=>I.indexOf(B.ref.current)-I.indexOf(H.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:m},b,n]}var KB=C.createContext(void 0);function rm(r){const e=C.useContext(KB);return r||e||"ltr"}var YB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ot=YB.reduce((r,e)=>{const t=yu(`Primitive.${e}`),n=C.forwardRef((i,s)=>{const{asChild:o,...a}=i,u=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(u,{...a,ref:s})});return n.displayName=`Primitive.${e}`,{...r,[e]:n}},{});function SP(r,e){r&&Gp.flushSync(()=>r.dispatchEvent(e))}function fa(r){const e=C.useRef(r);return C.useEffect(()=>{e.current=r}),C.useMemo(()=>(...t)=>{var n;return(n=e.current)==null?void 0:n.call(e,...t)},[])}function JB(r,e=globalThis==null?void 0:globalThis.document){const t=fa(r);C.useEffect(()=>{const n=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[t,e])}var QB="DismissableLayer",Vw="dismissableLayer.update",XB="dismissableLayer.pointerDownOutside",ZB="dismissableLayer.focusOutside",CN,NP=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nm=C.forwardRef((r,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...u}=r,d=C.useContext(NP),[h,p]=C.useState(null),y=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=C.useState({}),b=gr(e,H=>p(H)),x=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),A=x.indexOf(w),P=h?x.indexOf(h):-1,I=d.layersWithOutsidePointerEventsDisabled.size>0,T=P>=A,U=r$(H=>{const G=H.target,W=[...d.branches].some(V=>V.contains(G));!T||W||(i==null||i(H),o==null||o(H),H.defaultPrevented||a==null||a())},y),B=n$(H=>{const G=H.target;[...d.branches].some(V=>V.contains(G))||(s==null||s(H),o==null||o(H),H.defaultPrevented||a==null||a())},y);return JB(H=>{P===d.layers.size-1&&(n==null||n(H),!H.defaultPrevented&&a&&(H.preventDefault(),a()))},y),C.useEffect(()=>{if(h)return t&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(CN=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),SN(),()=>{t&&d.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=CN)}},[h,y,t,d]),C.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),SN())},[h,d]),C.useEffect(()=>{const H=()=>m({});return document.addEventListener(Vw,H),()=>document.removeEventListener(Vw,H)},[]),l.jsx(Ot.div,{...u,ref:b,style:{pointerEvents:I?T?"auto":"none":void 0,...r.style},onFocusCapture:Ke(r.onFocusCapture,B.onFocusCapture),onBlurCapture:Ke(r.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Ke(r.onPointerDownCapture,U.onPointerDownCapture)})});nm.displayName=QB;var e$="DismissableLayerBranch",t$=C.forwardRef((r,e)=>{const t=C.useContext(NP),n=C.useRef(null),i=gr(e,n);return C.useEffect(()=>{const s=n.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),l.jsx(Ot.div,{...r,ref:i})});t$.displayName=e$;function r$(r,e=globalThis==null?void 0:globalThis.document){const t=fa(r),n=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const s=a=>{if(a.target&&!n.current){let u=function(){TP(XB,t,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>n.current=!0}}function n$(r,e=globalThis==null?void 0:globalThis.document){const t=fa(r),n=C.useRef(!1);return C.useEffect(()=>{const i=s=>{s.target&&!n.current&&TP(ZB,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function SN(){const r=new CustomEvent(Vw);document.dispatchEvent(r)}function TP(r,e,t,{discrete:n}){const i=t.originalEvent.target,s=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(r,e,{once:!0}),n?SP(i,s):i.dispatchEvent(s)}var _b=0;function Pk(){C.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??NN()),document.body.insertAdjacentElement("beforeend",r[1]??NN()),_b++,()=>{_b===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),_b--}},[])}function NN(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var Eb="focusScope.autoFocusOnMount",Cb="focusScope.autoFocusOnUnmount",TN={bubbles:!1,cancelable:!0},i$="FocusScope",Fy=C.forwardRef((r,e)=>{const{loop:t=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=r,[a,u]=C.useState(null),d=fa(i),h=fa(s),p=C.useRef(null),y=gr(e,x=>u(x)),m=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(n){let x=function(I){if(m.paused||!a)return;const T=I.target;a.contains(T)?p.current=T:Rl(p.current,{select:!0})},w=function(I){if(m.paused||!a)return;const T=I.relatedTarget;T!==null&&(a.contains(T)||Rl(p.current,{select:!0}))},A=function(I){if(document.activeElement===document.body)for(const U of I)U.removedNodes.length>0&&Rl(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const P=new MutationObserver(A);return a&&P.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),P.disconnect()}}},[n,a,m.paused]),C.useEffect(()=>{if(a){jN.add(m);const x=document.activeElement;if(!a.contains(x)){const A=new CustomEvent(Eb,TN);a.addEventListener(Eb,d),a.dispatchEvent(A),A.defaultPrevented||(s$(u$(AP(a)),{select:!0}),document.activeElement===x&&Rl(a))}return()=>{a.removeEventListener(Eb,d),setTimeout(()=>{const A=new CustomEvent(Cb,TN);a.addEventListener(Cb,h),a.dispatchEvent(A),A.defaultPrevented||Rl(x??document.body,{select:!0}),a.removeEventListener(Cb,h),jN.remove(m)},0)}}},[a,d,h,m]);const b=C.useCallback(x=>{if(!t&&!n||m.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,A=document.activeElement;if(w&&A){const P=x.currentTarget,[I,T]=o$(P);I&&T?!x.shiftKey&&A===T?(x.preventDefault(),t&&Rl(I,{select:!0})):x.shiftKey&&A===I&&(x.preventDefault(),t&&Rl(T,{select:!0})):A===P&&x.preventDefault()}},[t,n,m.paused]);return l.jsx(Ot.div,{tabIndex:-1,...o,ref:y,onKeyDown:b})});Fy.displayName=i$;function s$(r,{select:e=!1}={}){const t=document.activeElement;for(const n of r)if(Rl(n,{select:e}),document.activeElement!==t)return}function o$(r){const e=AP(r),t=AN(e,r),n=AN(e.reverse(),r);return[t,n]}function AP(r){const e=[],t=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function AN(r,e){for(const t of r)if(!a$(t,{upTo:e}))return t}function a$(r,{upTo:e}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(e!==void 0&&r===e)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function l$(r){return r instanceof HTMLInputElement&&"select"in r}function Rl(r,{select:e=!1}={}){if(r&&r.focus){const t=document.activeElement;r.focus({preventScroll:!0}),r!==t&&l$(r)&&e&&r.select()}}var jN=c$();function c$(){let r=[];return{add(e){const t=r[0];e!==t&&(t==null||t.pause()),r=PN(r,e),r.unshift(e)},remove(e){var t;r=PN(r,e),(t=r[0])==null||t.resume()}}}function PN(r,e){const t=[...r],n=t.indexOf(e);return n!==-1&&t.splice(n,1),t}function u$(r){return r.filter(e=>e.tagName!=="A")}var ni=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},d$=lk[" useId ".trim().toString()]||(()=>{}),f$=0;function Ts(r){const[e,t]=C.useState(d$());return ni(()=>{t(n=>n??String(f$++))},[r]),e?`radix-${e}`:""}const h$=["top","right","bottom","left"],tc=Math.min,gs=Math.max,Y0=Math.round,Sg=Math.floor,ca=r=>({x:r,y:r}),p$={left:"right",right:"left",bottom:"top",top:"bottom"},m$={start:"end",end:"start"};function Gw(r,e,t){return gs(r,tc(e,t))}function Ja(r,e){return typeof r=="function"?r(e):r}function Qa(r){return r.split("-")[0]}function kf(r){return r.split("-")[1]}function Rk(r){return r==="x"?"y":"x"}function Ik(r){return r==="y"?"height":"width"}const g$=new Set(["top","bottom"]);function oa(r){return g$.has(Qa(r))?"y":"x"}function Mk(r){return Rk(oa(r))}function y$(r,e,t){t===void 0&&(t=!1);const n=kf(r),i=Mk(r),s=Ik(i);let o=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=J0(o)),[o,J0(o)]}function x$(r){const e=J0(r);return[Kw(r),e,Kw(e)]}function Kw(r){return r.replace(/start|end/g,e=>m$[e])}const RN=["left","right"],IN=["right","left"],v$=["top","bottom"],b$=["bottom","top"];function w$(r,e,t){switch(r){case"top":case"bottom":return t?e?IN:RN:e?RN:IN;case"left":case"right":return e?v$:b$;default:return[]}}function k$(r,e,t,n){const i=kf(r);let s=w$(Qa(r),t==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Kw)))),s}function J0(r){return r.replace(/left|right|bottom|top/g,e=>p$[e])}function _$(r){return{top:0,right:0,bottom:0,left:0,...r}}function jP(r){return typeof r!="number"?_$(r):{top:r,right:r,bottom:r,left:r}}function Q0(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}function MN(r,e,t){let{reference:n,floating:i}=r;const s=oa(e),o=Mk(e),a=Ik(o),u=Qa(e),d=s==="y",h=n.x+n.width/2-i.width/2,p=n.y+n.height/2-i.height/2,y=n[a]/2-i[a]/2;let m;switch(u){case"top":m={x:h,y:n.y-i.height};break;case"bottom":m={x:h,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:p};break;case"left":m={x:n.x-i.width,y:p};break;default:m={x:n.x,y:n.y}}switch(kf(e)){case"start":m[o]-=y*(t&&d?-1:1);break;case"end":m[o]+=y*(t&&d?-1:1);break}return m}const E$=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:r,floating:e,strategy:i}),{x:h,y:p}=MN(d,n,u),y=n,m={},b=0;for(let x=0;x<a.length;x++){const{name:w,fn:A}=a[x],{x:P,y:I,data:T,reset:U}=await A({x:h,y:p,initialPlacement:n,placement:y,strategy:i,middlewareData:m,rects:d,platform:o,elements:{reference:r,floating:e}});h=P??h,p=I??p,m={...m,[w]:{...m[w],...T}},U&&b<=50&&(b++,typeof U=="object"&&(U.placement&&(y=U.placement),U.rects&&(d=U.rects===!0?await o.getElementRects({reference:r,floating:e,strategy:i}):U.rects),{x:h,y:p}=MN(d,y,u)),x=-1)}return{x:h,y:p,placement:y,strategy:i,middlewareData:m}};async function Np(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:a,strategy:u}=r,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:y=!1,padding:m=0}=Ja(e,r),b=jP(m),w=a[y?p==="floating"?"reference":"floating":p],A=Q0(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(w)))==null||t?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:u})),P=p==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),T=await(s.isElement==null?void 0:s.isElement(I))?await(s.getScale==null?void 0:s.getScale(I))||{x:1,y:1}:{x:1,y:1},U=Q0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:P,offsetParent:I,strategy:u}):P);return{top:(A.top-U.top+b.top)/T.y,bottom:(U.bottom-A.bottom+b.bottom)/T.y,left:(A.left-U.left+b.left)/T.x,right:(U.right-A.right+b.right)/T.x}}const C$=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:s,platform:o,elements:a,middlewareData:u}=e,{element:d,padding:h=0}=Ja(r,e)||{};if(d==null)return{};const p=jP(h),y={x:t,y:n},m=Mk(i),b=Ik(m),x=await o.getDimensions(d),w=m==="y",A=w?"top":"left",P=w?"bottom":"right",I=w?"clientHeight":"clientWidth",T=s.reference[b]+s.reference[m]-y[m]-s.floating[b],U=y[m]-s.reference[m],B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let H=B?B[I]:0;(!H||!await(o.isElement==null?void 0:o.isElement(B)))&&(H=a.floating[I]||s.floating[b]);const G=T/2-U/2,W=H/2-x[b]/2-1,V=tc(p[A],W),K=tc(p[P],W),q=V,D=H-x[b]-K,v=H/2-x[b]/2+G,S=Gw(q,v,D),_=!u.arrow&&kf(i)!=null&&v!==S&&s.reference[b]/2-(v<q?V:K)-x[b]/2<0,j=_?v<q?v-q:v-D:0;return{[m]:y[m]+j,data:{[m]:S,centerOffset:v-S-j,..._&&{alignmentOffset:j}},reset:_}}}),S$=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:u,elements:d}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:y,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...w}=Ja(r,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const A=Qa(i),P=oa(a),I=Qa(a)===a,T=await(u.isRTL==null?void 0:u.isRTL(d.floating)),U=y||(I||!x?[J0(a)]:x$(a)),B=b!=="none";!y&&B&&U.push(...k$(a,x,b,T));const H=[a,...U],G=await Np(e,w),W=[];let V=((n=s.flip)==null?void 0:n.overflows)||[];if(h&&W.push(G[A]),p){const v=y$(i,o,T);W.push(G[v[0]],G[v[1]])}if(V=[...V,{placement:i,overflows:W}],!W.every(v=>v<=0)){var K,q;const v=(((K=s.flip)==null?void 0:K.index)||0)+1,S=H[v];if(S&&(!(p==="alignment"?P!==oa(S):!1)||V.every(O=>O.overflows[0]>0&&oa(O.placement)===P)))return{data:{index:v,overflows:V},reset:{placement:S}};let _=(q=V.filter(j=>j.overflows[0]<=0).sort((j,O)=>j.overflows[1]-O.overflows[1])[0])==null?void 0:q.placement;if(!_)switch(m){case"bestFit":{var D;const j=(D=V.filter(O=>{if(B){const z=oa(O.placement);return z===P||z==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(z=>z>0).reduce((z,E)=>z+E,0)]).sort((O,z)=>O[1]-z[1])[0])==null?void 0:D[0];j&&(_=j);break}case"initialPlacement":_=a;break}if(i!==_)return{reset:{placement:_}}}return{}}}};function ON(r,e){return{top:r.top-e.height,right:r.right-e.width,bottom:r.bottom-e.height,left:r.left-e.width}}function DN(r){return h$.some(e=>r[e]>=0)}const N$=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(e){const{rects:t}=e,{strategy:n="referenceHidden",...i}=Ja(r,e);switch(n){case"referenceHidden":{const s=await Np(e,{...i,elementContext:"reference"}),o=ON(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:DN(o)}}}case"escaped":{const s=await Np(e,{...i,altBoundary:!0}),o=ON(s,t.floating);return{data:{escapedOffsets:o,escaped:DN(o)}}}default:return{}}}}},PP=new Set(["left","top"]);async function T$(r,e){const{placement:t,platform:n,elements:i}=r,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Qa(t),a=kf(t),u=oa(t)==="y",d=PP.has(o)?-1:1,h=s&&u?-1:1,p=Ja(e,r);let{mainAxis:y,crossAxis:m,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof b=="number"&&(m=a==="end"?b*-1:b),u?{x:m*h,y:y*d}:{x:y*d,y:m*h}}const A$=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:s,placement:o,middlewareData:a}=e,u=await T$(e,r);return o===((t=a.offset)==null?void 0:t.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},j$=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(e){const{x:t,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:A,y:P}=w;return{x:A,y:P}}},...u}=Ja(r,e),d={x:t,y:n},h=await Np(e,u),p=oa(Qa(i)),y=Rk(p);let m=d[y],b=d[p];if(s){const w=y==="y"?"top":"left",A=y==="y"?"bottom":"right",P=m+h[w],I=m-h[A];m=Gw(P,m,I)}if(o){const w=p==="y"?"top":"left",A=p==="y"?"bottom":"right",P=b+h[w],I=b-h[A];b=Gw(P,b,I)}const x=a.fn({...e,[y]:m,[p]:b});return{...x,data:{x:x.x-t,y:x.y-n,enabled:{[y]:s,[p]:o}}}}}},P$=function(r){return r===void 0&&(r={}),{options:r,fn(e){const{x:t,y:n,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:u=!0,crossAxis:d=!0}=Ja(r,e),h={x:t,y:n},p=oa(i),y=Rk(p);let m=h[y],b=h[p];const x=Ja(a,e),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(u){const I=y==="y"?"height":"width",T=s.reference[y]-s.floating[I]+w.mainAxis,U=s.reference[y]+s.reference[I]-w.mainAxis;m<T?m=T:m>U&&(m=U)}if(d){var A,P;const I=y==="y"?"width":"height",T=PP.has(Qa(i)),U=s.reference[p]-s.floating[I]+(T&&((A=o.offset)==null?void 0:A[p])||0)+(T?0:w.crossAxis),B=s.reference[p]+s.reference[I]+(T?0:((P=o.offset)==null?void 0:P[p])||0)-(T?w.crossAxis:0);b<U?b=U:b>B&&(b=B)}return{[y]:m,[p]:b}}}},R$=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(e){var t,n;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:u=()=>{},...d}=Ja(r,e),h=await Np(e,d),p=Qa(i),y=kf(i),m=oa(i)==="y",{width:b,height:x}=s.floating;let w,A;p==="top"||p==="bottom"?(w=p,A=y===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(A=p,w=y==="end"?"top":"bottom");const P=x-h.top-h.bottom,I=b-h.left-h.right,T=tc(x-h[w],P),U=tc(b-h[A],I),B=!e.middlewareData.shift;let H=T,G=U;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(G=I),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(H=P),B&&!y){const V=gs(h.left,0),K=gs(h.right,0),q=gs(h.top,0),D=gs(h.bottom,0);m?G=b-2*(V!==0||K!==0?V+K:gs(h.left,h.right)):H=x-2*(q!==0||D!==0?q+D:gs(h.top,h.bottom))}await u({...e,availableWidth:G,availableHeight:H});const W=await o.getDimensions(a.floating);return b!==W.width||x!==W.height?{reset:{rects:!0}}:{}}}};function By(){return typeof window<"u"}function _f(r){return RP(r)?(r.nodeName||"").toLowerCase():"#document"}function As(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function ga(r){var e;return(e=(RP(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function RP(r){return By()?r instanceof Node||r instanceof As(r).Node:!1}function Io(r){return By()?r instanceof Element||r instanceof As(r).Element:!1}function ha(r){return By()?r instanceof HTMLElement||r instanceof As(r).HTMLElement:!1}function LN(r){return!By()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof As(r).ShadowRoot}const I$=new Set(["inline","contents"]);function im(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=Mo(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!I$.has(i)}const M$=new Set(["table","td","th"]);function O$(r){return M$.has(_f(r))}const D$=[":popover-open",":modal"];function $y(r){return D$.some(e=>{try{return r.matches(e)}catch{return!1}})}const L$=["transform","translate","scale","rotate","perspective"],z$=["transform","translate","scale","rotate","perspective","filter"],F$=["paint","layout","strict","content"];function Ok(r){const e=Dk(),t=Io(r)?Mo(r):r;return L$.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||z$.some(n=>(t.willChange||"").includes(n))||F$.some(n=>(t.contain||"").includes(n))}function B$(r){let e=rc(r);for(;ha(e)&&!sf(e);){if(Ok(e))return e;if($y(e))return null;e=rc(e)}return null}function Dk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const $$=new Set(["html","body","#document"]);function sf(r){return $$.has(_f(r))}function Mo(r){return As(r).getComputedStyle(r)}function Uy(r){return Io(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function rc(r){if(_f(r)==="html")return r;const e=r.assignedSlot||r.parentNode||LN(r)&&r.host||ga(r);return LN(e)?e.host:e}function IP(r){const e=rc(r);return sf(e)?r.ownerDocument?r.ownerDocument.body:r.body:ha(e)&&im(e)?e:IP(e)}function Tp(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=IP(r),s=i===((n=r.ownerDocument)==null?void 0:n.body),o=As(i);if(s){const a=Yw(o);return e.concat(o,o.visualViewport||[],im(i)?i:[],a&&t?Tp(a):[])}return e.concat(i,Tp(i,[],t))}function Yw(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function MP(r){const e=Mo(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=ha(r),s=i?r.offsetWidth:t,o=i?r.offsetHeight:n,a=Y0(t)!==s||Y0(n)!==o;return a&&(t=s,n=o),{width:t,height:n,$:a}}function Lk(r){return Io(r)?r:r.contextElement}function $d(r){const e=Lk(r);if(!ha(e))return ca(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:s}=MP(e);let o=(s?Y0(t.width):t.width)/n,a=(s?Y0(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const U$=ca(0);function OP(r){const e=As(r);return!Dk()||!e.visualViewport?U$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function q$(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==As(r)?!1:e}function xu(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),s=Lk(r);let o=ca(1);e&&(n?Io(n)&&(o=$d(n)):o=$d(r));const a=q$(s,t,n)?OP(s):ca(0);let u=(i.left+a.x)/o.x,d=(i.top+a.y)/o.y,h=i.width/o.x,p=i.height/o.y;if(s){const y=As(s),m=n&&Io(n)?As(n):n;let b=y,x=Yw(b);for(;x&&n&&m!==b;){const w=$d(x),A=x.getBoundingClientRect(),P=Mo(x),I=A.left+(x.clientLeft+parseFloat(P.paddingLeft))*w.x,T=A.top+(x.clientTop+parseFloat(P.paddingTop))*w.y;u*=w.x,d*=w.y,h*=w.x,p*=w.y,u+=I,d+=T,b=As(x),x=Yw(b)}}return Q0({width:h,height:p,x:u,y:d})}function zk(r,e){const t=Uy(r).scrollLeft;return e?e.left+t:xu(ga(r)).left+t}function DP(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),i=n.left+e.scrollLeft-(t?0:zk(r,n)),s=n.top+e.scrollTop;return{x:i,y:s}}function W$(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const s=i==="fixed",o=ga(n),a=e?$y(e.floating):!1;if(n===o||a&&s)return t;let u={scrollLeft:0,scrollTop:0},d=ca(1);const h=ca(0),p=ha(n);if((p||!p&&!s)&&((_f(n)!=="body"||im(o))&&(u=Uy(n)),ha(n))){const m=xu(n);d=$d(n),h.x=m.x+n.clientLeft,h.y=m.y+n.clientTop}const y=o&&!p&&!s?DP(o,u,!0):ca(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-u.scrollLeft*d.x+h.x+y.x,y:t.y*d.y-u.scrollTop*d.y+h.y+y.y}}function H$(r){return Array.from(r.getClientRects())}function V$(r){const e=ga(r),t=Uy(r),n=r.ownerDocument.body,i=gs(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=gs(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-t.scrollLeft+zk(r);const a=-t.scrollTop;return Mo(n).direction==="rtl"&&(o+=gs(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:a}}function G$(r,e){const t=As(r),n=ga(r),i=t.visualViewport;let s=n.clientWidth,o=n.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;const d=Dk();(!d||d&&e==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:a,y:u}}const K$=new Set(["absolute","fixed"]);function Y$(r,e){const t=xu(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,s=ha(r)?$d(r):ca(1),o=r.clientWidth*s.x,a=r.clientHeight*s.y,u=i*s.x,d=n*s.y;return{width:o,height:a,x:u,y:d}}function zN(r,e,t){let n;if(e==="viewport")n=G$(r,t);else if(e==="document")n=V$(ga(r));else if(Io(e))n=Y$(e,t);else{const i=OP(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Q0(n)}function LP(r,e){const t=rc(r);return t===e||!Io(t)||sf(t)?!1:Mo(t).position==="fixed"||LP(t,e)}function J$(r,e){const t=e.get(r);if(t)return t;let n=Tp(r,[],!1).filter(a=>Io(a)&&_f(a)!=="body"),i=null;const s=Mo(r).position==="fixed";let o=s?rc(r):r;for(;Io(o)&&!sf(o);){const a=Mo(o),u=Ok(o);!u&&a.position==="fixed"&&(i=null),(s?!u&&!i:!u&&a.position==="static"&&!!i&&K$.has(i.position)||im(o)&&!u&&LP(r,o))?n=n.filter(h=>h!==o):i=a,o=rc(o)}return e.set(r,n),n}function Q$(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const o=[...t==="clippingAncestors"?$y(e)?[]:J$(e,this._c):[].concat(t),n],a=o[0],u=o.reduce((d,h)=>{const p=zN(e,h,i);return d.top=gs(p.top,d.top),d.right=tc(p.right,d.right),d.bottom=tc(p.bottom,d.bottom),d.left=gs(p.left,d.left),d},zN(e,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function X$(r){const{width:e,height:t}=MP(r);return{width:e,height:t}}function Z$(r,e,t){const n=ha(e),i=ga(e),s=t==="fixed",o=xu(r,!0,s,e);let a={scrollLeft:0,scrollTop:0};const u=ca(0);function d(){u.x=zk(i)}if(n||!n&&!s)if((_f(e)!=="body"||im(i))&&(a=Uy(e)),n){const m=xu(e,!0,s,e);u.x=m.x+e.clientLeft,u.y=m.y+e.clientTop}else i&&d();s&&!n&&i&&d();const h=i&&!n&&!s?DP(i,a):ca(0),p=o.left+a.scrollLeft-u.x-h.x,y=o.top+a.scrollTop-u.y-h.y;return{x:p,y,width:o.width,height:o.height}}function Sb(r){return Mo(r).position==="static"}function FN(r,e){if(!ha(r)||Mo(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return ga(r)===t&&(t=t.ownerDocument.body),t}function zP(r,e){const t=As(r);if($y(r))return t;if(!ha(r)){let i=rc(r);for(;i&&!sf(i);){if(Io(i)&&!Sb(i))return i;i=rc(i)}return t}let n=FN(r,e);for(;n&&O$(n)&&Sb(n);)n=FN(n,e);return n&&sf(n)&&Sb(n)&&!Ok(n)?t:n||B$(r)||t}const eU=async function(r){const e=this.getOffsetParent||zP,t=this.getDimensions,n=await t(r.floating);return{reference:Z$(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function tU(r){return Mo(r).direction==="rtl"}const rU={convertOffsetParentRelativeRectToViewportRelativeRect:W$,getDocumentElement:ga,getClippingRect:Q$,getOffsetParent:zP,getElementRects:eU,getClientRects:H$,getDimensions:X$,getScale:$d,isElement:Io,isRTL:tU};function FP(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function nU(r,e){let t=null,n;const i=ga(r);function s(){var a;clearTimeout(n),(a=t)==null||a.disconnect(),t=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),s();const d=r.getBoundingClientRect(),{left:h,top:p,width:y,height:m}=d;if(a||e(),!y||!m)return;const b=Sg(p),x=Sg(i.clientWidth-(h+y)),w=Sg(i.clientHeight-(p+m)),A=Sg(h),I={rootMargin:-b+"px "+-x+"px "+-w+"px "+-A+"px",threshold:gs(0,tc(1,u))||1};let T=!0;function U(B){const H=B[0].intersectionRatio;if(H!==u){if(!T)return o();H?o(!1,H):n=setTimeout(()=>{o(!1,1e-7)},1e3)}H===1&&!FP(d,r.getBoundingClientRect())&&o(),T=!1}try{t=new IntersectionObserver(U,{...I,root:i.ownerDocument})}catch{t=new IntersectionObserver(U,I)}t.observe(r)}return o(!0),s}function iU(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,d=Lk(r),h=i||s?[...d?Tp(d):[],...Tp(e)]:[];h.forEach(A=>{i&&A.addEventListener("scroll",t,{passive:!0}),s&&A.addEventListener("resize",t)});const p=d&&a?nU(d,t):null;let y=-1,m=null;o&&(m=new ResizeObserver(A=>{let[P]=A;P&&P.target===d&&m&&(m.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var I;(I=m)==null||I.observe(e)})),t()}),d&&!u&&m.observe(d),m.observe(e));let b,x=u?xu(r):null;u&&w();function w(){const A=xu(r);x&&!FP(x,A)&&t(),x=A,b=requestAnimationFrame(w)}return t(),()=>{var A;h.forEach(P=>{i&&P.removeEventListener("scroll",t),s&&P.removeEventListener("resize",t)}),p==null||p(),(A=m)==null||A.disconnect(),m=null,u&&cancelAnimationFrame(b)}}const sU=A$,oU=j$,aU=S$,lU=R$,cU=N$,BN=C$,uU=P$,dU=(r,e,t)=>{const n=new Map,i={platform:rU,...t},s={...i.platform,_c:n};return E$(r,e,{...i,platform:s})};var fU=typeof document<"u",hU=function(){},b0=fU?C.useLayoutEffect:hU;function X0(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!X0(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const s=i[n];if(!(s==="_owner"&&r.$$typeof)&&!X0(r[s],e[s]))return!1}return!0}return r!==r&&e!==e}function BP(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function $N(r,e){const t=BP(r);return Math.round(e*t)/t}function Nb(r){const e=C.useRef(r);return b0(()=>{e.current=r}),e}function pU(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:u,open:d}=r,[h,p]=C.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[y,m]=C.useState(n);X0(y,n)||m(n);const[b,x]=C.useState(null),[w,A]=C.useState(null),P=C.useCallback(O=>{O!==B.current&&(B.current=O,x(O))},[]),I=C.useCallback(O=>{O!==H.current&&(H.current=O,A(O))},[]),T=s||b,U=o||w,B=C.useRef(null),H=C.useRef(null),G=C.useRef(h),W=u!=null,V=Nb(u),K=Nb(i),q=Nb(d),D=C.useCallback(()=>{if(!B.current||!H.current)return;const O={placement:e,strategy:t,middleware:y};K.current&&(O.platform=K.current),dU(B.current,H.current,O).then(z=>{const E={...z,isPositioned:q.current!==!1};v.current&&!X0(G.current,E)&&(G.current=E,Gp.flushSync(()=>{p(E)}))})},[y,e,t,K,q]);b0(()=>{d===!1&&G.current.isPositioned&&(G.current.isPositioned=!1,p(O=>({...O,isPositioned:!1})))},[d]);const v=C.useRef(!1);b0(()=>(v.current=!0,()=>{v.current=!1}),[]),b0(()=>{if(T&&(B.current=T),U&&(H.current=U),T&&U){if(V.current)return V.current(T,U,D);D()}},[T,U,D,V,W]);const S=C.useMemo(()=>({reference:B,floating:H,setReference:P,setFloating:I}),[P,I]),_=C.useMemo(()=>({reference:T,floating:U}),[T,U]),j=C.useMemo(()=>{const O={position:t,left:0,top:0};if(!_.floating)return O;const z=$N(_.floating,h.x),E=$N(_.floating,h.y);return a?{...O,transform:"translate("+z+"px, "+E+"px)",...BP(_.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:z,top:E}},[t,a,_.floating,h.x,h.y]);return C.useMemo(()=>({...h,update:D,refs:S,elements:_,floatingStyles:j}),[h,D,S,_,j])}const mU=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:i}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?BN({element:n.current,padding:i}).fn(t):{}:n?BN({element:n,padding:i}).fn(t):{}}}},gU=(r,e)=>({...sU(r),options:[r,e]}),yU=(r,e)=>({...oU(r),options:[r,e]}),xU=(r,e)=>({...uU(r),options:[r,e]}),vU=(r,e)=>({...aU(r),options:[r,e]}),bU=(r,e)=>({...lU(r),options:[r,e]}),wU=(r,e)=>({...cU(r),options:[r,e]}),kU=(r,e)=>({...mU(r),options:[r,e]});var _U="Arrow",$P=C.forwardRef((r,e)=>{const{children:t,width:n=10,height:i=5,...s}=r;return l.jsx(Ot.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?t:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});$P.displayName=_U;var EU=$P;function UP(r){const[e,t]=C.useState(void 0);return ni(()=>{if(r){t({width:r.offsetWidth,height:r.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const u=s.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,a=d.blockSize}else o=r.offsetWidth,a=r.offsetHeight;t({width:o,height:a})});return n.observe(r,{box:"border-box"}),()=>n.unobserve(r)}else t(void 0)},[r]),e}var Fk="Popper",[qP,Ef]=co(Fk),[CU,WP]=qP(Fk),HP=r=>{const{__scopePopper:e,children:t}=r,[n,i]=C.useState(null);return l.jsx(CU,{scope:e,anchor:n,onAnchorChange:i,children:t})};HP.displayName=Fk;var VP="PopperAnchor",GP=C.forwardRef((r,e)=>{const{__scopePopper:t,virtualRef:n,...i}=r,s=WP(VP,t),o=C.useRef(null),a=gr(e,o);return C.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:l.jsx(Ot.div,{...i,ref:a})});GP.displayName=VP;var Bk="PopperContent",[SU,NU]=qP(Bk),KP=C.forwardRef((r,e)=>{var Q,Z,te,ce,ne,ue;const{__scopePopper:t,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:y=!1,updatePositionStrategy:m="optimized",onPlaced:b,...x}=r,w=WP(Bk,t),[A,P]=C.useState(null),I=gr(e,xe=>P(xe)),[T,U]=C.useState(null),B=UP(T),H=(B==null?void 0:B.width)??0,G=(B==null?void 0:B.height)??0,W=n+(s!=="center"?"-"+s:""),V=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},K=Array.isArray(d)?d:[d],q=K.length>0,D={padding:V,boundary:K.filter(AU),altBoundary:q},{refs:v,floatingStyles:S,placement:_,isPositioned:j,middlewareData:O}=pU({strategy:"fixed",placement:W,whileElementsMounted:(...xe)=>iU(...xe,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[gU({mainAxis:i+G,alignmentAxis:o}),u&&yU({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?xU():void 0,...D}),u&&vU({...D}),bU({...D,apply:({elements:xe,rects:ye,availableWidth:Se,availableHeight:pt})=>{const{width:ae,height:Ye}=ye.reference,Rt=xe.floating.style;Rt.setProperty("--radix-popper-available-width",`${Se}px`),Rt.setProperty("--radix-popper-available-height",`${pt}px`),Rt.setProperty("--radix-popper-anchor-width",`${ae}px`),Rt.setProperty("--radix-popper-anchor-height",`${Ye}px`)}}),T&&kU({element:T,padding:a}),jU({arrowWidth:H,arrowHeight:G}),y&&wU({strategy:"referenceHidden",...D})]}),[z,E]=QP(_),M=fa(b);ni(()=>{j&&(M==null||M())},[j,M]);const N=(Q=O.arrow)==null?void 0:Q.x,R=(Z=O.arrow)==null?void 0:Z.y,X=((te=O.arrow)==null?void 0:te.centerOffset)!==0,[$,Y]=C.useState();return ni(()=>{A&&Y(window.getComputedStyle(A).zIndex)},[A]),l.jsx("div",{ref:v.setFloating,"data-radix-popper-content-wrapper":"",style:{...S,transform:j?S.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:$,"--radix-popper-transform-origin":[(ce=O.transformOrigin)==null?void 0:ce.x,(ne=O.transformOrigin)==null?void 0:ne.y].join(" "),...((ue=O.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:l.jsx(SU,{scope:t,placedSide:z,onArrowChange:U,arrowX:N,arrowY:R,shouldHideArrow:X,children:l.jsx(Ot.div,{"data-side":z,"data-align":E,...x,ref:I,style:{...x.style,animation:j?void 0:"none"}})})})});KP.displayName=Bk;var YP="PopperArrow",TU={top:"bottom",right:"left",bottom:"top",left:"right"},JP=C.forwardRef(function(e,t){const{__scopePopper:n,...i}=e,s=NU(YP,n),o=TU[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(EU,{...i,ref:t,style:{...i.style,display:"block"}})})});JP.displayName=YP;function AU(r){return r!==null}var jU=r=>({name:"transformOrigin",options:r,fn(e){var w,A,P;const{placement:t,rects:n,middlewareData:i}=e,o=((w=i.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:r.arrowWidth,u=o?0:r.arrowHeight,[d,h]=QP(t),p={start:"0%",center:"50%",end:"100%"}[h],y=(((A=i.arrow)==null?void 0:A.x)??0)+a/2,m=(((P=i.arrow)==null?void 0:P.y)??0)+u/2;let b="",x="";return d==="bottom"?(b=o?p:`${y}px`,x=`${-u}px`):d==="top"?(b=o?p:`${y}px`,x=`${n.floating.height+u}px`):d==="right"?(b=`${-u}px`,x=o?p:`${m}px`):d==="left"&&(b=`${n.floating.width+u}px`,x=o?p:`${m}px`),{data:{x:b,y:x}}}});function QP(r){const[e,t="center"]=r.split("-");return[e,t]}var $k=HP,Uk=GP,qk=KP,Wk=JP,PU="Portal",sm=C.forwardRef((r,e)=>{var a;const{container:t,...n}=r,[i,s]=C.useState(!1);ni(()=>s(!0),[]);const o=t||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?sj.createPortal(l.jsx(Ot.div,{...n,ref:e}),o):null});sm.displayName=PU;var RU=lk[" useInsertionEffect ".trim().toString()]||ni;function Oo({prop:r,defaultProp:e,onChange:t=()=>{},caller:n}){const[i,s,o]=IU({defaultProp:e,onChange:t}),a=r!==void 0,u=a?r:i;{const h=C.useRef(r!==void 0);C.useEffect(()=>{const p=h.current;p!==a&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,n])}const d=C.useCallback(h=>{var p;if(a){const y=MU(h)?h(r):h;y!==r&&((p=o.current)==null||p.call(o,y))}else s(h)},[a,r,s,o]);return[u,d]}function IU({defaultProp:r,onChange:e}){const[t,n]=C.useState(r),i=C.useRef(t),s=C.useRef(e);return RU(()=>{s.current=e},[e]),C.useEffect(()=>{var o;i.current!==t&&((o=s.current)==null||o.call(s,t),i.current=t)},[t,i]),[t,n,s]}function MU(r){return typeof r=="function"}function XP(r){const e=C.useRef({value:r,previous:r});return C.useMemo(()=>(e.current.value!==r&&(e.current.previous=e.current.value,e.current.value=r),e.current.previous),[r])}var ZP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),OU="VisuallyHidden",eR=C.forwardRef((r,e)=>l.jsx(Ot.span,{...r,ref:e,style:{...ZP,...r.style}}));eR.displayName=OU;var DU=eR,LU=function(r){if(typeof document>"u")return null;var e=Array.isArray(r)?r[0]:r;return e.ownerDocument.body},cd=new WeakMap,Ng=new WeakMap,Tg={},Tb=0,tR=function(r){return r&&(r.host||tR(r.parentNode))},zU=function(r,e){return e.map(function(t){if(r.contains(t))return t;var n=tR(t);return n&&r.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",r,". Doing nothing"),null)}).filter(function(t){return!!t})},FU=function(r,e,t,n){var i=zU(e,Array.isArray(r)?r:[r]);Tg[t]||(Tg[t]=new WeakMap);var s=Tg[t],o=[],a=new Set,u=new Set(i),d=function(p){!p||a.has(p)||(a.add(p),d(p.parentNode))};i.forEach(d);var h=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(y){if(a.has(y))h(y);else try{var m=y.getAttribute(n),b=m!==null&&m!=="false",x=(cd.get(y)||0)+1,w=(s.get(y)||0)+1;cd.set(y,x),s.set(y,w),o.push(y),x===1&&b&&Ng.set(y,!0),w===1&&y.setAttribute(t,"true"),b||y.setAttribute(n,"true")}catch(A){console.error("aria-hidden: cannot operate on ",y,A)}})};return h(e),a.clear(),Tb++,function(){o.forEach(function(p){var y=cd.get(p)-1,m=s.get(p)-1;cd.set(p,y),s.set(p,m),y||(Ng.has(p)||p.removeAttribute(n),Ng.delete(p)),m||p.removeAttribute(t)}),Tb--,Tb||(cd=new WeakMap,cd=new WeakMap,Ng=new WeakMap,Tg={})}},Hk=function(r,e,t){t===void 0&&(t="data-aria-hidden");var n=Array.from(Array.isArray(r)?r:[r]),i=LU(r);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),FU(n,i,t,"aria-hidden")):function(){return null}},Jw=function(r,e){return Jw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},Jw(r,e)};function rR(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Jw(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Xs=function(){return Xs=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Xs.apply(this,arguments)};function hc(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function nR(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}function iR(r,e){return function(t,n){e(t,n,r)}}function sR(r,e,t,n,i,s){function o(A){if(A!==void 0&&typeof A!="function")throw new TypeError("Function expected");return A}for(var a=n.kind,u=a==="getter"?"get":a==="setter"?"set":"value",d=!e&&r?n.static?r:r.prototype:null,h=e||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),p,y=!1,m=t.length-1;m>=0;m--){var b={};for(var x in n)b[x]=x==="access"?{}:n[x];for(var x in n.access)b.access[x]=n.access[x];b.addInitializer=function(A){if(y)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(A||null))};var w=(0,t[m])(a==="accessor"?{get:h.get,set:h.set}:h[u],b);if(a==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(p=o(w.get))&&(h.get=p),(p=o(w.set))&&(h.set=p),(p=o(w.init))&&i.unshift(p)}else(p=o(w))&&(a==="field"?i.unshift(p):h[u]=p)}d&&Object.defineProperty(d,n.name,h),y=!0}function oR(r,e,t){for(var n=arguments.length>2,i=0;i<e.length;i++)t=n?e[i].call(r,t):e[i].call(r);return n?t:void 0}function aR(r){return typeof r=="symbol"?r:"".concat(r)}function lR(r,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function cR(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function st(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{d(n.next(h))}catch(p){o(p)}}function u(h){try{d(n.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):i(h.value).then(a,u)}d((n=n.apply(r,e||[])).next())})}function uR(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(d){return function(h){return u([d,h])}}function u(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(t=0)),t;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,i=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){t.label=d[1];break}if(d[0]===6&&t.label<s[1]){t.label=s[1],s=d;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(d);break}s[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(r,t)}catch(h){d=[6,h],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var qy=Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]};function dR(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&qy(e,r,t)}function Z0(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vk(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s}function fR(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(Vk(arguments[e]));return r}function hR(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Gk(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))}function of(r){return this instanceof of?(this.v=r,this):new of(r)}function pR(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(b){return Promise.resolve(b).then(m,p)}}function a(m,b){n[m]&&(i[m]=function(x){return new Promise(function(w,A){s.push([m,x,w,A])>1||u(m,x)})},b&&(i[m]=b(i[m])))}function u(m,b){try{d(n[m](b))}catch(x){y(s[0][3],x)}}function d(m){m.value instanceof of?Promise.resolve(m.value.v).then(h,p):y(s[0][2],m)}function h(m){u("next",m)}function p(m){u("throw",m)}function y(m,b){m(b),s.shift(),s.length&&u(s[0][0],s[0][1])}}function mR(r){var e,t;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=r[i]?function(o){return(t=!t)?{value:of(r[i](o)),done:!1}:s?s(o):o}:s}}function gR(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Z0=="function"?Z0(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=r[s]&&function(o){return new Promise(function(a,u){o=r[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(d){s({value:d,done:a})},o)}}function yR(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}var BU=Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e},Qw=function(r){return Qw=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},Qw(r)};function xR(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t=Qw(r),n=0;n<t.length;n++)t[n]!=="default"&&qy(e,r,t[n]);return BU(e,r),e}function vR(r){return r&&r.__esModule?r:{default:r}}function bR(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)}function wR(r,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t}function kR(r,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?e===r:r.has(e)}function _R(r,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],t&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),r.stack.push({value:e,dispose:n,async:t})}else t&&r.stack.push({async:!0});return e}var $U=typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var n=new Error(t);return n.name="SuppressedError",n.error=r,n.suppressed=e,n};function ER(r){function e(s){r.error=r.hasError?new $U(s,r.error,"An error was suppressed during disposal."):s,r.hasError=!0}var t,n=0;function i(){for(;t=r.stack.pop();)try{if(!t.async&&n===1)return n=0,r.stack.push(t),Promise.resolve().then(i);if(t.dispose){var s=t.dispose.call(t.value);if(t.async)return n|=2,Promise.resolve(s).then(i,function(o){return e(o),i()})}else n|=1}catch(o){e(o)}if(n===1)return r.hasError?Promise.reject(r.error):Promise.resolve();if(r.hasError)throw r.error}return i()}function CR(r,e){return typeof r=="string"&&/^\.\.?\//.test(r)?r.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,n,i,s,o){return n?e?".jsx":".js":i&&(!s||!o)?t:i+s+"."+o.toLowerCase()+"js"}):r}const UU={__extends:rR,__assign:Xs,__rest:hc,__decorate:nR,__param:iR,__esDecorate:sR,__runInitializers:oR,__propKey:aR,__setFunctionName:lR,__metadata:cR,__awaiter:st,__generator:uR,__createBinding:qy,__exportStar:dR,__values:Z0,__read:Vk,__spread:fR,__spreadArrays:hR,__spreadArray:Gk,__await:of,__asyncGenerator:pR,__asyncDelegator:mR,__asyncValues:gR,__makeTemplateObject:yR,__importStar:xR,__importDefault:vR,__classPrivateFieldGet:bR,__classPrivateFieldSet:wR,__classPrivateFieldIn:kR,__addDisposableResource:_R,__disposeResources:ER,__rewriteRelativeImportExtension:CR},qU=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:_R,get __assign(){return Xs},__asyncDelegator:mR,__asyncGenerator:pR,__asyncValues:gR,__await:of,__awaiter:st,__classPrivateFieldGet:bR,__classPrivateFieldIn:kR,__classPrivateFieldSet:wR,__createBinding:qy,__decorate:nR,__disposeResources:ER,__esDecorate:sR,__exportStar:dR,__extends:rR,__generator:uR,__importDefault:vR,__importStar:xR,__makeTemplateObject:yR,__metadata:cR,__param:iR,__propKey:aR,__read:Vk,__rest:hc,__rewriteRelativeImportExtension:CR,__runInitializers:oR,__setFunctionName:lR,__spread:fR,__spreadArray:Gk,__spreadArrays:hR,__values:Z0,default:UU},Symbol.toStringTag,{value:"Module"}));var w0="right-scroll-bar-position",k0="width-before-scroll-bar",WU="with-scroll-bars-hidden",HU="--removed-body-scroll-bar-size";function Ab(r,e){return typeof r=="function"?r(e):r&&(r.current=e),r}function VU(r,e){var t=C.useState(function(){return{value:r,callback:e,facade:{get current(){return t.value},set current(n){var i=t.value;i!==n&&(t.value=n,t.callback(n,i))}}}})[0];return t.callback=e,t.facade}var GU=typeof window<"u"?C.useLayoutEffect:C.useEffect,UN=new WeakMap;function KU(r,e){var t=VU(null,function(n){return r.forEach(function(i){return Ab(i,n)})});return GU(function(){var n=UN.get(t);if(n){var i=new Set(n),s=new Set(r),o=t.current;i.forEach(function(a){s.has(a)||Ab(a,null)}),s.forEach(function(a){i.has(a)||Ab(a,o)})}UN.set(t,r)},[r]),t}function YU(r){return r}function JU(r,e){e===void 0&&(e=YU);var t=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:r},useMedium:function(s){var o=e(s,n);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(n=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){n=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var u=function(){var h=o;o=[],h.forEach(s)},d=function(){return Promise.resolve().then(u)};d(),t={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),t}}}};return i}function QU(r){r===void 0&&(r={});var e=JU(null);return e.options=Xs({async:!0,ssr:!1},r),e}var SR=function(r){var e=r.sideCar,t=hc(r,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return C.createElement(n,Xs({},t))};SR.isSideCarExport=!0;function XU(r,e){return r.useMedium(e),SR}var NR=QU(),jb=function(){},Wy=C.forwardRef(function(r,e){var t=C.useRef(null),n=C.useState({onScrollCapture:jb,onWheelCapture:jb,onTouchMoveCapture:jb}),i=n[0],s=n[1],o=r.forwardProps,a=r.children,u=r.className,d=r.removeScrollBar,h=r.enabled,p=r.shards,y=r.sideCar,m=r.noRelative,b=r.noIsolation,x=r.inert,w=r.allowPinchZoom,A=r.as,P=A===void 0?"div":A,I=r.gapMode,T=hc(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),U=y,B=KU([t,e]),H=Xs(Xs({},T),i);return C.createElement(C.Fragment,null,h&&C.createElement(U,{sideCar:NR,removeScrollBar:d,shards:p,noRelative:m,noIsolation:b,inert:x,setCallbacks:s,allowPinchZoom:!!w,lockRef:t,gapMode:I}),o?C.cloneElement(C.Children.only(a),Xs(Xs({},H),{ref:B})):C.createElement(P,Xs({},H,{className:u,ref:B}),a))});Wy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wy.classNames={fullWidth:k0,zeroRight:w0};var ZU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function e7(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var e=ZU();return e&&r.setAttribute("nonce",e),r}function t7(r,e){r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}function r7(r){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(r)}var n7=function(){var r=0,e=null;return{add:function(t){r==0&&(e=e7())&&(t7(e,t),r7(e)),r++},remove:function(){r--,!r&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},i7=function(){var r=n7();return function(e,t){C.useEffect(function(){return r.add(e),function(){r.remove()}},[e&&t])}},TR=function(){var r=i7(),e=function(t){var n=t.styles,i=t.dynamic;return r(n,i),null};return e},s7={left:0,top:0,right:0,gap:0},Pb=function(r){return parseInt(r||"",10)||0},o7=function(r){var e=window.getComputedStyle(document.body),t=e[r==="padding"?"paddingLeft":"marginLeft"],n=e[r==="padding"?"paddingTop":"marginTop"],i=e[r==="padding"?"paddingRight":"marginRight"];return[Pb(t),Pb(n),Pb(i)]},a7=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return s7;var e=o7(r),t=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-t+e[2]-e[0])}},l7=TR(),Ud="data-scroll-locked",c7=function(r,e,t,n){var i=r.left,s=r.top,o=r.right,a=r.gap;return t===void 0&&(t="margin"),`
  .`.concat(WU,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Ud,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(w0,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(k0,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(w0," .").concat(w0,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(k0," .").concat(k0,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ud,`] {
    `).concat(HU,": ").concat(a,`px;
  }
`)},qN=function(){var r=parseInt(document.body.getAttribute(Ud)||"0",10);return isFinite(r)?r:0},u7=function(){C.useEffect(function(){return document.body.setAttribute(Ud,(qN()+1).toString()),function(){var r=qN()-1;r<=0?document.body.removeAttribute(Ud):document.body.setAttribute(Ud,r.toString())}},[])},d7=function(r){var e=r.noRelative,t=r.noImportant,n=r.gapMode,i=n===void 0?"margin":n;u7();var s=C.useMemo(function(){return a7(i)},[i]);return C.createElement(l7,{styles:c7(s,!e,i,t?"":"!important")})},Xw=!1;if(typeof window<"u")try{var Ag=Object.defineProperty({},"passive",{get:function(){return Xw=!0,!0}});window.addEventListener("test",Ag,Ag),window.removeEventListener("test",Ag,Ag)}catch{Xw=!1}var ud=Xw?{passive:!1}:!1,f7=function(r){return r.tagName==="TEXTAREA"},AR=function(r,e){if(!(r instanceof Element))return!1;var t=window.getComputedStyle(r);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!f7(r)&&t[e]==="visible")},h7=function(r){return AR(r,"overflowY")},p7=function(r){return AR(r,"overflowX")},WN=function(r,e){var t=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=jR(r,n);if(i){var s=PR(r,n),o=s[1],a=s[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==t.body);return!1},m7=function(r){var e=r.scrollTop,t=r.scrollHeight,n=r.clientHeight;return[e,t,n]},g7=function(r){var e=r.scrollLeft,t=r.scrollWidth,n=r.clientWidth;return[e,t,n]},jR=function(r,e){return r==="v"?h7(e):p7(e)},PR=function(r,e){return r==="v"?m7(e):g7(e)},y7=function(r,e){return r==="h"&&e==="rtl"?-1:1},x7=function(r,e,t,n,i){var s=y7(r,window.getComputedStyle(e).direction),o=s*n,a=t.target,u=e.contains(a),d=!1,h=o>0,p=0,y=0;do{if(!a)break;var m=PR(r,a),b=m[0],x=m[1],w=m[2],A=x-w-s*b;(b||A)&&jR(r,a)&&(p+=A,y+=b);var P=a.parentNode;a=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(h&&Math.abs(p)<1||!h&&Math.abs(y)<1)&&(d=!0),d},jg=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},HN=function(r){return[r.deltaX,r.deltaY]},VN=function(r){return r&&"current"in r?r.current:r},v7=function(r,e){return r[0]===e[0]&&r[1]===e[1]},b7=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},w7=0,dd=[];function k7(r){var e=C.useRef([]),t=C.useRef([0,0]),n=C.useRef(),i=C.useState(w7++)[0],s=C.useState(TR)[0],o=C.useRef(r);C.useEffect(function(){o.current=r},[r]),C.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(i));var x=Gk([r.lockRef.current],(r.shards||[]).map(VN),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[r.inert,r.lockRef.current,r.shards]);var a=C.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var A=jg(x),P=t.current,I="deltaX"in x?x.deltaX:P[0]-A[0],T="deltaY"in x?x.deltaY:P[1]-A[1],U,B=x.target,H=Math.abs(I)>Math.abs(T)?"h":"v";if("touches"in x&&H==="h"&&B.type==="range")return!1;var G=WN(H,B);if(!G)return!0;if(G?U=H:(U=H==="v"?"h":"v",G=WN(H,B)),!G)return!1;if(!n.current&&"changedTouches"in x&&(I||T)&&(n.current=U),!U)return!0;var W=n.current||U;return x7(W,w,x,W==="h"?I:T)},[]),u=C.useCallback(function(x){var w=x;if(!(!dd.length||dd[dd.length-1]!==s)){var A="deltaY"in w?HN(w):jg(w),P=e.current.filter(function(U){return U.name===w.type&&(U.target===w.target||w.target===U.shadowParent)&&v7(U.delta,A)})[0];if(P&&P.should){w.cancelable&&w.preventDefault();return}if(!P){var I=(o.current.shards||[]).map(VN).filter(Boolean).filter(function(U){return U.contains(w.target)}),T=I.length>0?a(w,I[0]):!o.current.noIsolation;T&&w.cancelable&&w.preventDefault()}}},[]),d=C.useCallback(function(x,w,A,P){var I={name:x,delta:w,target:A,should:P,shadowParent:_7(A)};e.current.push(I),setTimeout(function(){e.current=e.current.filter(function(T){return T!==I})},1)},[]),h=C.useCallback(function(x){t.current=jg(x),n.current=void 0},[]),p=C.useCallback(function(x){d(x.type,HN(x),x.target,a(x,r.lockRef.current))},[]),y=C.useCallback(function(x){d(x.type,jg(x),x.target,a(x,r.lockRef.current))},[]);C.useEffect(function(){return dd.push(s),r.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:y}),document.addEventListener("wheel",u,ud),document.addEventListener("touchmove",u,ud),document.addEventListener("touchstart",h,ud),function(){dd=dd.filter(function(x){return x!==s}),document.removeEventListener("wheel",u,ud),document.removeEventListener("touchmove",u,ud),document.removeEventListener("touchstart",h,ud)}},[]);var m=r.removeScrollBar,b=r.inert;return C.createElement(C.Fragment,null,b?C.createElement(s,{styles:b7(i)}):null,m?C.createElement(d7,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function _7(r){for(var e=null;r!==null;)r instanceof ShadowRoot&&(e=r.host,r=r.host),r=r.parentNode;return e}const E7=XU(NR,k7);var Hy=C.forwardRef(function(r,e){return C.createElement(Wy,Xs({},r,{ref:e,sideCar:E7}))});Hy.classNames=Wy.classNames;var C7=[" ","Enter","ArrowUp","ArrowDown"],S7=[" ","Enter"],vu="Select",[Vy,Gy,N7]=zy(vu),[Cf,sie]=co(vu,[N7,Ef]),Ky=Ef(),[T7,pc]=Cf(vu),[A7,j7]=Cf(vu),RR=r=>{const{__scopeSelect:e,children:t,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:u,dir:d,name:h,autoComplete:p,disabled:y,required:m,form:b}=r,x=Ky(e),[w,A]=C.useState(null),[P,I]=C.useState(null),[T,U]=C.useState(!1),B=rm(d),[H,G]=Oo({prop:n,defaultProp:i??!1,onChange:s,caller:vu}),[W,V]=Oo({prop:o,defaultProp:a,onChange:u,caller:vu}),K=C.useRef(null),q=w?b||!!w.closest("form"):!0,[D,v]=C.useState(new Set),S=Array.from(D).map(_=>_.props.value).join(";");return l.jsx($k,{...x,children:l.jsxs(T7,{required:m,scope:e,trigger:w,onTriggerChange:A,valueNode:P,onValueNodeChange:I,valueNodeHasChildren:T,onValueNodeHasChildrenChange:U,contentId:Ts(),value:W,onValueChange:V,open:H,onOpenChange:G,dir:B,triggerPointerDownPosRef:K,disabled:y,children:[l.jsx(Vy.Provider,{scope:e,children:l.jsx(A7,{scope:r.__scopeSelect,onNativeOptionAdd:C.useCallback(_=>{v(j=>new Set(j).add(_))},[]),onNativeOptionRemove:C.useCallback(_=>{v(j=>{const O=new Set(j);return O.delete(_),O})},[]),children:t})}),q?l.jsxs(eI,{"aria-hidden":!0,required:m,tabIndex:-1,name:h,autoComplete:p,value:W,onChange:_=>V(_.target.value),disabled:y,form:b,children:[W===void 0?l.jsx("option",{value:""}):null,Array.from(D)]},S):null]})})};RR.displayName=vu;var IR="SelectTrigger",MR=C.forwardRef((r,e)=>{const{__scopeSelect:t,disabled:n=!1,...i}=r,s=Ky(t),o=pc(IR,t),a=o.disabled||n,u=gr(e,o.onTriggerChange),d=Gy(t),h=C.useRef("touch"),[p,y,m]=rI(x=>{const w=d().filter(I=>!I.disabled),A=w.find(I=>I.value===o.value),P=nI(w,x,A);P!==void 0&&o.onValueChange(P.value)}),b=x=>{a||(o.onOpenChange(!0),m()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return l.jsx(Uk,{asChild:!0,...s,children:l.jsx(Ot.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":tI(o.value)?"":void 0,...i,ref:u,onClick:Ke(i.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&b(x)}),onPointerDown:Ke(i.onPointerDown,x=>{h.current=x.pointerType;const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(b(x),x.preventDefault())}),onKeyDown:Ke(i.onKeyDown,x=>{const w=p.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&y(x.key),!(w&&x.key===" ")&&C7.includes(x.key)&&(b(),x.preventDefault())})})})});MR.displayName=IR;var OR="SelectValue",DR=C.forwardRef((r,e)=>{const{__scopeSelect:t,className:n,style:i,children:s,placeholder:o="",...a}=r,u=pc(OR,t),{onValueNodeHasChildrenChange:d}=u,h=s!==void 0,p=gr(e,u.onValueNodeChange);return ni(()=>{d(h)},[d,h]),l.jsx(Ot.span,{...a,ref:p,style:{pointerEvents:"none"},children:tI(u.value)?l.jsx(l.Fragment,{children:o}):s})});DR.displayName=OR;var P7="SelectIcon",LR=C.forwardRef((r,e)=>{const{__scopeSelect:t,children:n,...i}=r;return l.jsx(Ot.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});LR.displayName=P7;var R7="SelectPortal",zR=r=>l.jsx(sm,{asChild:!0,...r});zR.displayName=R7;var bu="SelectContent",FR=C.forwardRef((r,e)=>{const t=pc(bu,r.__scopeSelect),[n,i]=C.useState();if(ni(()=>{i(new DocumentFragment)},[]),!t.open){const s=n;return s?Gp.createPortal(l.jsx(BR,{scope:r.__scopeSelect,children:l.jsx(Vy.Slot,{scope:r.__scopeSelect,children:l.jsx("div",{children:r.children})})}),s):null}return l.jsx($R,{...r,ref:e})});FR.displayName=bu;var So=10,[BR,mc]=Cf(bu),I7="SelectContentImpl",M7=yu("SelectContent.RemoveScroll"),$R=C.forwardRef((r,e)=>{const{__scopeSelect:t,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:u,align:d,alignOffset:h,arrowPadding:p,collisionBoundary:y,collisionPadding:m,sticky:b,hideWhenDetached:x,avoidCollisions:w,...A}=r,P=pc(bu,t),[I,T]=C.useState(null),[U,B]=C.useState(null),H=gr(e,Q=>T(Q)),[G,W]=C.useState(null),[V,K]=C.useState(null),q=Gy(t),[D,v]=C.useState(!1),S=C.useRef(!1);C.useEffect(()=>{if(I)return Hk(I)},[I]),Pk();const _=C.useCallback(Q=>{const[Z,...te]=q().map(ue=>ue.ref.current),[ce]=te.slice(-1),ne=document.activeElement;for(const ue of Q)if(ue===ne||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===Z&&U&&(U.scrollTop=0),ue===ce&&U&&(U.scrollTop=U.scrollHeight),ue==null||ue.focus(),document.activeElement!==ne))return},[q,U]),j=C.useCallback(()=>_([G,I]),[_,G,I]);C.useEffect(()=>{D&&j()},[D,j]);const{onOpenChange:O,triggerPointerDownPosRef:z}=P;C.useEffect(()=>{if(I){let Q={x:0,y:0};const Z=ce=>{var ne,ue;Q={x:Math.abs(Math.round(ce.pageX)-(((ne=z.current)==null?void 0:ne.x)??0)),y:Math.abs(Math.round(ce.pageY)-(((ue=z.current)==null?void 0:ue.y)??0))}},te=ce=>{Q.x<=10&&Q.y<=10?ce.preventDefault():I.contains(ce.target)||O(!1),document.removeEventListener("pointermove",Z),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",te,{capture:!0})}}},[I,O,z]),C.useEffect(()=>{const Q=()=>O(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[O]);const[E,M]=rI(Q=>{const Z=q().filter(ne=>!ne.disabled),te=Z.find(ne=>ne.ref.current===document.activeElement),ce=nI(Z,Q,te);ce&&setTimeout(()=>ce.ref.current.focus())}),N=C.useCallback((Q,Z,te)=>{const ce=!S.current&&!te;(P.value!==void 0&&P.value===Z||ce)&&(W(Q),ce&&(S.current=!0))},[P.value]),R=C.useCallback(()=>I==null?void 0:I.focus(),[I]),X=C.useCallback((Q,Z,te)=>{const ce=!S.current&&!te;(P.value!==void 0&&P.value===Z||ce)&&K(Q)},[P.value]),$=n==="popper"?Zw:UR,Y=$===Zw?{side:a,sideOffset:u,align:d,alignOffset:h,arrowPadding:p,collisionBoundary:y,collisionPadding:m,sticky:b,hideWhenDetached:x,avoidCollisions:w}:{};return l.jsx(BR,{scope:t,content:I,viewport:U,onViewportChange:B,itemRefCallback:N,selectedItem:G,onItemLeave:R,itemTextRefCallback:X,focusSelectedItem:j,selectedItemText:V,position:n,isPositioned:D,searchRef:E,children:l.jsx(Hy,{as:M7,allowPinchZoom:!0,children:l.jsx(Fy,{asChild:!0,trapped:P.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:Ke(i,Q=>{var Z;(Z=P.trigger)==null||Z.focus({preventScroll:!0}),Q.preventDefault()}),children:l.jsx(nm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>P.onOpenChange(!1),children:l.jsx($,{role:"listbox",id:P.contentId,"data-state":P.open?"open":"closed",dir:P.dir,onContextMenu:Q=>Q.preventDefault(),...A,...Y,onPlaced:()=>v(!0),ref:H,style:{display:"flex",flexDirection:"column",outline:"none",...A.style},onKeyDown:Ke(A.onKeyDown,Q=>{const Z=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!Z&&Q.key.length===1&&M(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let ce=q().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const ne=Q.target,ue=ce.indexOf(ne);ce=ce.slice(ue+1)}setTimeout(()=>_(ce)),Q.preventDefault()}})})})})})})});$R.displayName=I7;var O7="SelectItemAlignedPosition",UR=C.forwardRef((r,e)=>{const{__scopeSelect:t,onPlaced:n,...i}=r,s=pc(bu,t),o=mc(bu,t),[a,u]=C.useState(null),[d,h]=C.useState(null),p=gr(e,H=>h(H)),y=Gy(t),m=C.useRef(!1),b=C.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:A,focusSelectedItem:P}=o,I=C.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&d&&x&&w&&A){const H=s.trigger.getBoundingClientRect(),G=d.getBoundingClientRect(),W=s.valueNode.getBoundingClientRect(),V=A.getBoundingClientRect();if(s.dir!=="rtl"){const ne=V.left-G.left,ue=W.left-ne,xe=H.left-ue,ye=H.width+xe,Se=Math.max(ye,G.width),pt=window.innerWidth-So,ae=_N(ue,[So,Math.max(So,pt-Se)]);a.style.minWidth=ye+"px",a.style.left=ae+"px"}else{const ne=G.right-V.right,ue=window.innerWidth-W.right-ne,xe=window.innerWidth-H.right-ue,ye=H.width+xe,Se=Math.max(ye,G.width),pt=window.innerWidth-So,ae=_N(ue,[So,Math.max(So,pt-Se)]);a.style.minWidth=ye+"px",a.style.right=ae+"px"}const K=y(),q=window.innerHeight-So*2,D=x.scrollHeight,v=window.getComputedStyle(d),S=parseInt(v.borderTopWidth,10),_=parseInt(v.paddingTop,10),j=parseInt(v.borderBottomWidth,10),O=parseInt(v.paddingBottom,10),z=S+_+D+O+j,E=Math.min(w.offsetHeight*5,z),M=window.getComputedStyle(x),N=parseInt(M.paddingTop,10),R=parseInt(M.paddingBottom,10),X=H.top+H.height/2-So,$=q-X,Y=w.offsetHeight/2,Q=w.offsetTop+Y,Z=S+_+Q,te=z-Z;if(Z<=X){const ne=K.length>0&&w===K[K.length-1].ref.current;a.style.bottom="0px";const ue=d.clientHeight-x.offsetTop-x.offsetHeight,xe=Math.max($,Y+(ne?R:0)+ue+j),ye=Z+xe;a.style.height=ye+"px"}else{const ne=K.length>0&&w===K[0].ref.current;a.style.top="0px";const xe=Math.max(X,S+x.offsetTop+(ne?N:0)+Y)+te;a.style.height=xe+"px",x.scrollTop=Z-X+x.offsetTop}a.style.margin=`${So}px 0`,a.style.minHeight=E+"px",a.style.maxHeight=q+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[y,s.trigger,s.valueNode,a,d,x,w,A,s.dir,n]);ni(()=>I(),[I]);const[T,U]=C.useState();ni(()=>{d&&U(window.getComputedStyle(d).zIndex)},[d]);const B=C.useCallback(H=>{H&&b.current===!0&&(I(),P==null||P(),b.current=!1)},[I,P]);return l.jsx(L7,{scope:t,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:B,children:l.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:l.jsx(Ot.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});UR.displayName=O7;var D7="SelectPopperPosition",Zw=C.forwardRef((r,e)=>{const{__scopeSelect:t,align:n="start",collisionPadding:i=So,...s}=r,o=Ky(t);return l.jsx(qk,{...o,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Zw.displayName=D7;var[L7,Kk]=Cf(bu,{}),e1="SelectViewport",qR=C.forwardRef((r,e)=>{const{__scopeSelect:t,nonce:n,...i}=r,s=mc(e1,t),o=Kk(e1,t),a=gr(e,s.onViewportChange),u=C.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(Vy.Slot,{scope:t,children:l.jsx(Ot.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ke(i.onScroll,d=>{const h=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:y}=o;if(y!=null&&y.current&&p){const m=Math.abs(u.current-h.scrollTop);if(m>0){const b=window.innerHeight-So*2,x=parseFloat(p.style.minHeight),w=parseFloat(p.style.height),A=Math.max(x,w);if(A<b){const P=A+m,I=Math.min(b,P),T=P-I;p.style.height=I+"px",p.style.bottom==="0px"&&(h.scrollTop=T>0?T:0,p.style.justifyContent="flex-end")}}}u.current=h.scrollTop})})})]})});qR.displayName=e1;var WR="SelectGroup",[z7,F7]=Cf(WR),B7=C.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r,i=Ts();return l.jsx(z7,{scope:t,id:i,children:l.jsx(Ot.div,{role:"group","aria-labelledby":i,...n,ref:e})})});B7.displayName=WR;var HR="SelectLabel",$7=C.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r,i=F7(HR,t);return l.jsx(Ot.div,{id:i.id,...n,ref:e})});$7.displayName=HR;var ey="SelectItem",[U7,VR]=Cf(ey),GR=C.forwardRef((r,e)=>{const{__scopeSelect:t,value:n,disabled:i=!1,textValue:s,...o}=r,a=pc(ey,t),u=mc(ey,t),d=a.value===n,[h,p]=C.useState(s??""),[y,m]=C.useState(!1),b=gr(e,P=>{var I;return(I=u.itemRefCallback)==null?void 0:I.call(u,P,n,i)}),x=Ts(),w=C.useRef("touch"),A=()=>{i||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(U7,{scope:t,value:n,disabled:i,textId:x,isSelected:d,onItemTextChange:C.useCallback(P=>{p(I=>I||((P==null?void 0:P.textContent)??"").trim())},[]),children:l.jsx(Vy.ItemSlot,{scope:t,value:n,disabled:i,textValue:h,children:l.jsx(Ot.div,{role:"option","aria-labelledby":x,"data-highlighted":y?"":void 0,"aria-selected":d&&y,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:b,onFocus:Ke(o.onFocus,()=>m(!0)),onBlur:Ke(o.onBlur,()=>m(!1)),onClick:Ke(o.onClick,()=>{w.current!=="mouse"&&A()}),onPointerUp:Ke(o.onPointerUp,()=>{w.current==="mouse"&&A()}),onPointerDown:Ke(o.onPointerDown,P=>{w.current=P.pointerType}),onPointerMove:Ke(o.onPointerMove,P=>{var I;w.current=P.pointerType,i?(I=u.onItemLeave)==null||I.call(u):w.current==="mouse"&&P.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ke(o.onPointerLeave,P=>{var I;P.currentTarget===document.activeElement&&((I=u.onItemLeave)==null||I.call(u))}),onKeyDown:Ke(o.onKeyDown,P=>{var T;((T=u.searchRef)==null?void 0:T.current)!==""&&P.key===" "||(S7.includes(P.key)&&A(),P.key===" "&&P.preventDefault())})})})})});GR.displayName=ey;var Oh="SelectItemText",KR=C.forwardRef((r,e)=>{const{__scopeSelect:t,className:n,style:i,...s}=r,o=pc(Oh,t),a=mc(Oh,t),u=VR(Oh,t),d=j7(Oh,t),[h,p]=C.useState(null),y=gr(e,A=>p(A),u.onItemTextChange,A=>{var P;return(P=a.itemTextRefCallback)==null?void 0:P.call(a,A,u.value,u.disabled)}),m=h==null?void 0:h.textContent,b=C.useMemo(()=>l.jsx("option",{value:u.value,disabled:u.disabled,children:m},u.value),[u.disabled,u.value,m]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=d;return ni(()=>(x(b),()=>w(b)),[x,w,b]),l.jsxs(l.Fragment,{children:[l.jsx(Ot.span,{id:u.textId,...s,ref:y}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Gp.createPortal(s.children,o.valueNode):null]})});KR.displayName=Oh;var YR="SelectItemIndicator",JR=C.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r;return VR(YR,t).isSelected?l.jsx(Ot.span,{"aria-hidden":!0,...n,ref:e}):null});JR.displayName=YR;var t1="SelectScrollUpButton",QR=C.forwardRef((r,e)=>{const t=mc(t1,r.__scopeSelect),n=Kk(t1,r.__scopeSelect),[i,s]=C.useState(!1),o=gr(e,n.onScrollButtonChange);return ni(()=>{if(t.viewport&&t.isPositioned){let a=function(){const d=u.scrollTop>0;s(d)};const u=t.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?l.jsx(ZR,{...r,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=t;a&&u&&(a.scrollTop=a.scrollTop-u.offsetHeight)}}):null});QR.displayName=t1;var r1="SelectScrollDownButton",XR=C.forwardRef((r,e)=>{const t=mc(r1,r.__scopeSelect),n=Kk(r1,r.__scopeSelect),[i,s]=C.useState(!1),o=gr(e,n.onScrollButtonChange);return ni(()=>{if(t.viewport&&t.isPositioned){let a=function(){const d=u.scrollHeight-u.clientHeight,h=Math.ceil(u.scrollTop)<d;s(h)};const u=t.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?l.jsx(ZR,{...r,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=t;a&&u&&(a.scrollTop=a.scrollTop+u.offsetHeight)}}):null});XR.displayName=r1;var ZR=C.forwardRef((r,e)=>{const{__scopeSelect:t,onAutoScroll:n,...i}=r,s=mc("SelectScrollButton",t),o=C.useRef(null),a=Gy(t),u=C.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return C.useEffect(()=>()=>u(),[u]),ni(()=>{var h;const d=a().find(p=>p.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),l.jsx(Ot.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ke(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ke(i.onPointerMove,()=>{var d;(d=s.onItemLeave)==null||d.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ke(i.onPointerLeave,()=>{u()})})}),q7="SelectSeparator",W7=C.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r;return l.jsx(Ot.div,{"aria-hidden":!0,...n,ref:e})});W7.displayName=q7;var n1="SelectArrow",H7=C.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r,i=Ky(t),s=pc(n1,t),o=mc(n1,t);return s.open&&o.position==="popper"?l.jsx(Wk,{...i,...n,ref:e}):null});H7.displayName=n1;var V7="SelectBubbleInput",eI=C.forwardRef(({__scopeSelect:r,value:e,...t},n)=>{const i=C.useRef(null),s=gr(n,i),o=XP(e);return C.useEffect(()=>{const a=i.current;if(!a)return;const u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==e&&h){const p=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(p)}},[o,e]),l.jsx(Ot.select,{...t,style:{...ZP,...t.style},ref:s,defaultValue:e})});eI.displayName=V7;function tI(r){return r===""||r===void 0}function rI(r){const e=fa(r),t=C.useRef(""),n=C.useRef(0),i=C.useCallback(o=>{const a=t.current+o;e(a),function u(d){t.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>u(""),1e3))}(a)},[e]),s=C.useCallback(()=>{t.current="",window.clearTimeout(n.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(n.current),[]),[t,i,s]}function nI(r,e,t){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=t?r.indexOf(t):-1;let o=G7(r,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==t));const u=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==t?u:void 0}function G7(r,e){return r.map((t,n)=>r[(e+n)%r.length])}var K7=RR,Y7=MR,J7=DR,Q7=LR,X7=zR,Z7=FR,e9=qR,t9=GR,r9=KR,n9=JR,i9=QR,s9=XR;function iI(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=iI(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function sI(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=iI(r))&&(n&&(n+=" "),n+=e);return n}const Yk="-",o9=r=>{const e=l9(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:o=>{const a=o.split(Yk);return a[0]===""&&a.length!==1&&a.shift(),oI(a,e)||a9(o)},getConflictingClassGroupIds:(o,a)=>{const u=t[o]||[];return a&&n[o]?[...u,...n[o]]:u}}},oI=(r,e)=>{var o;if(r.length===0)return e.classGroupId;const t=r[0],n=e.nextPart.get(t),i=n?oI(r.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=r.join(Yk);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},GN=/^\[(.+)\]$/,a9=r=>{if(GN.test(r)){const e=GN.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},l9=r=>{const{theme:e,prefix:t}=r,n={nextPart:new Map,validators:[]};return u9(Object.entries(r.classGroups),t).forEach(([s,o])=>{i1(o,n,s,e)}),n},i1=(r,e,t,n)=>{r.forEach(i=>{if(typeof i=="string"){const s=i===""?e:KN(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(c9(i)){i1(i(n),e,t,n);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,o])=>{i1(o,KN(e,s),t,n)})})},KN=(r,e)=>{let t=r;return e.split(Yk).forEach(n=>{t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t},c9=r=>r.isThemeGetter,u9=(r,e)=>e?r.map(([t,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[t,i]}):r,d9=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,n=new Map;const i=(s,o)=>{t.set(s,o),e++,e>r&&(e=0,n=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){t.has(s)?t.set(s,o):i(s,o)}}},aI="!",f9=r=>{const{separator:e,experimentalParseClassName:t}=r,n=e.length===1,i=e[0],s=e.length,o=a=>{const u=[];let d=0,h=0,p;for(let w=0;w<a.length;w++){let A=a[w];if(d===0){if(A===i&&(n||a.slice(w,w+s)===e)){u.push(a.slice(h,w)),h=w+s;continue}if(A==="/"){p=w;continue}}A==="["?d++:A==="]"&&d--}const y=u.length===0?a:a.substring(h),m=y.startsWith(aI),b=m?y.substring(1):y,x=p&&p>h?p-h:void 0;return{modifiers:u,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:x}};return t?a=>t({className:a,parseClassName:o}):o},h9=r=>{if(r.length<=1)return r;const e=[];let t=[];return r.forEach(n=>{n[0]==="["?(e.push(...t.sort(),n),t=[]):t.push(n)}),e.push(...t.sort()),e},p9=r=>({cache:d9(r.cacheSize),parseClassName:f9(r),...o9(r)}),m9=/\s+/,g9=(r,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],o=r.trim().split(m9);let a="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:h,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:m}=t(d);let b=!!m,x=n(b?y.substring(0,m):y);if(!x){if(!b){a=d+(a.length>0?" "+a:a);continue}if(x=n(y),!x){a=d+(a.length>0?" "+a:a);continue}b=!1}const w=h9(h).join(":"),A=p?w+aI:w,P=A+x;if(s.includes(P))continue;s.push(P);const I=i(x,b);for(let T=0;T<I.length;++T){const U=I[T];s.push(A+U)}a=d+(a.length>0?" "+a:a)}return a};function y9(){let r=0,e,t,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=lI(e))&&(n&&(n+=" "),n+=t);return n}const lI=r=>{if(typeof r=="string")return r;let e,t="";for(let n=0;n<r.length;n++)r[n]&&(e=lI(r[n]))&&(t&&(t+=" "),t+=e);return t};function x9(r,...e){let t,n,i,s=o;function o(u){const d=e.reduce((h,p)=>p(h),r());return t=p9(d),n=t.cache.get,i=t.cache.set,s=a,a(u)}function a(u){const d=n(u);if(d)return d;const h=g9(u,t);return i(u,h),h}return function(){return s(y9.apply(null,arguments))}}const qr=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},cI=/^\[(?:([a-z-]+):)?(.+)\]$/i,v9=/^\d+\/\d+$/,b9=new Set(["px","full","screen"]),w9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,k9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,E9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,C9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ra=r=>qd(r)||b9.has(r)||v9.test(r),Tl=r=>Sf(r,"length",I9),qd=r=>!!r&&!Number.isNaN(Number(r)),Rb=r=>Sf(r,"number",qd),_h=r=>!!r&&Number.isInteger(Number(r)),S9=r=>r.endsWith("%")&&qd(r.slice(0,-1)),qt=r=>cI.test(r),Al=r=>w9.test(r),N9=new Set(["length","size","percentage"]),T9=r=>Sf(r,N9,uI),A9=r=>Sf(r,"position",uI),j9=new Set(["image","url"]),P9=r=>Sf(r,j9,O9),R9=r=>Sf(r,"",M9),Eh=()=>!0,Sf=(r,e,t)=>{const n=cI.exec(r);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):t(n[2]):!1},I9=r=>k9.test(r)&&!_9.test(r),uI=()=>!1,M9=r=>E9.test(r),O9=r=>C9.test(r),D9=()=>{const r=qr("colors"),e=qr("spacing"),t=qr("blur"),n=qr("brightness"),i=qr("borderColor"),s=qr("borderRadius"),o=qr("borderSpacing"),a=qr("borderWidth"),u=qr("contrast"),d=qr("grayscale"),h=qr("hueRotate"),p=qr("invert"),y=qr("gap"),m=qr("gradientColorStops"),b=qr("gradientColorStopPositions"),x=qr("inset"),w=qr("margin"),A=qr("opacity"),P=qr("padding"),I=qr("saturate"),T=qr("scale"),U=qr("sepia"),B=qr("skew"),H=qr("space"),G=qr("translate"),W=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],K=()=>["auto",qt,e],q=()=>[qt,e],D=()=>["",Ra,Tl],v=()=>["auto",qd,qt],S=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_=()=>["solid","dashed","dotted","double","none"],j=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",qt],E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[qd,qt];return{cacheSize:500,separator:":",theme:{colors:[Eh],spacing:[Ra,Tl],blur:["none","",Al,qt],brightness:M(),borderColor:[r],borderRadius:["none","","full",Al,qt],borderSpacing:q(),borderWidth:D(),contrast:M(),grayscale:z(),hueRotate:M(),invert:z(),gap:q(),gradientColorStops:[r],gradientColorStopPositions:[S9,Tl],inset:K(),margin:K(),opacity:M(),padding:q(),saturate:M(),scale:M(),sepia:z(),skew:M(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",qt]}],container:["container"],columns:[{columns:[Al]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...S(),qt]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_h,qt]}],basis:[{basis:K()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qt]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",_h,qt]}],"grid-cols":[{"grid-cols":[Eh]}],"col-start-end":[{col:["auto",{span:["full",_h,qt]},qt]}],"col-start":[{"col-start":v()}],"col-end":[{"col-end":v()}],"grid-rows":[{"grid-rows":[Eh]}],"row-start-end":[{row:["auto",{span:[_h,qt]},qt]}],"row-start":[{"row-start":v()}],"row-end":[{"row-end":v()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qt]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[P]}],px:[{px:[P]}],py:[{py:[P]}],ps:[{ps:[P]}],pe:[{pe:[P]}],pt:[{pt:[P]}],pr:[{pr:[P]}],pb:[{pb:[P]}],pl:[{pl:[P]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[H]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[H]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qt,e]}],"min-w":[{"min-w":[qt,e,"min","max","fit"]}],"max-w":[{"max-w":[qt,e,"none","full","min","max","fit","prose",{screen:[Al]},Al]}],h:[{h:[qt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Al,Tl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Rb]}],"font-family":[{font:[Eh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qt]}],"line-clamp":[{"line-clamp":["none",qd,Rb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ra,qt]}],"list-image":[{"list-image":["none",qt]}],"list-style-type":[{list:["none","disc","decimal",qt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[A]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[A]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ra,Tl]}],"underline-offset":[{"underline-offset":["auto",Ra,qt]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[A]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...S(),A9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",T9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},P9]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[A]}],"border-style":[{border:[..._(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[A]}],"divide-style":[{divide:_()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",..._()]}],"outline-offset":[{"outline-offset":[Ra,qt]}],"outline-w":[{outline:[Ra,Tl]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[A]}],"ring-offset-w":[{"ring-offset":[Ra,Tl]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",Al,R9]}],"shadow-color":[{shadow:[Eh]}],opacity:[{opacity:[A]}],"mix-blend":[{"mix-blend":[...j(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":j()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Al,qt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[I]}],sepia:[{sepia:[U]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[A]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[U]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qt]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",qt]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",qt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[_h,qt]}],"translate-x":[{"translate-x":[G]}],"translate-y":[{"translate-y":[G]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qt]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qt]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qt]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[Ra,Tl,Rb]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},L9=x9(D9);function ct(...r){return L9(sI(r))}function nc({...r}){return l.jsx(K7,{"data-slot":"select",...r})}function ic({...r}){return l.jsx(J7,{"data-slot":"select-value",...r})}function sc({className:r,size:e="default",children:t,...n}){return l.jsxs(Y7,{"data-slot":"select-trigger","data-size":e,className:ct("border-[#614E41] data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-[#614E41] focus-visible:ring-[#614E41]/40 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...n,children:[t,l.jsx(Q7,{asChild:!0,children:l.jsx(Ya,{className:"size-4 opacity-70 text-foreground"})})]})}function oc({className:r,children:e,position:t="popper",...n}){return l.jsx(X7,{children:l.jsxs(Z7,{"data-slot":"select-content",className:ct("bg-popover/90 backdrop-blur-md text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-xl border border-[#614E41] shadow-xl",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:t,...n,children:[l.jsx(z9,{}),l.jsx(e9,{className:ct("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),l.jsx(F9,{})]})})}function Wn({className:r,children:e,...t}){return l.jsxs(t9,{"data-slot":"select-item",className:ct("focus:bg-accent focus:text-accent-foreground data-[state=checked]:bg-[#614E41]/15 hover:bg-[#614E41]/10 active:bg-[#614E41]/20 [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),...t,children:[l.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:l.jsx(n9,{children:l.jsx(kB,{className:"size-4"})})}),l.jsx(r9,{children:e})]})}function z9({className:r,...e}){return l.jsx(i9,{"data-slot":"select-scroll-up-button",className:ct("flex cursor-default items-center justify-center py-1",r),...e,children:l.jsx(ef,{className:"size-4"})})}function F9({className:r,...e}){return l.jsx(s9,{"data-slot":"select-scroll-down-button",className:ct("flex cursor-default items-center justify-center py-1",r),...e,children:l.jsx(Ya,{className:"size-4"})})}const Pg=r=>{if(!r)return"";if(typeof r=="string")return r;if(typeof r.message=="string")return r.message;try{return JSON.stringify(r)}catch{return String(r)}},dI=()=>{const{chainId:r,switchNetwork:e,addNetwork:t,isSupportedNetwork:n}=ur(),[i,s]=ve.useState(!1),o=()=>Object.entries($t).filter(([d,h])=>{const p=h.contractAddresses;return(p==null?void 0:p.protocolManager)&&p.protocolManager!=="0x..."&&(p==null?void 0:p.poolDeployer)&&p.poolDeployer!=="0x..."}),a=o(),u=async d=>{var p;const h=parseInt(d,10);s(!0);try{await e(h)}catch(y){const m=Pg(y).toLowerCase();if(y&&y.code===4902||m.includes("add this network")||m.includes("unrecognized chain id")||y&&y.code===-32603)try{await t(h),setTimeout(async()=>{try{await e(h)}catch(b){setTimeout(()=>{window.ethereum&&window.ethereum.chainId&&parseInt(window.ethereum.chainId,16)!==h&&ee.error("Failed to switch to the new network after adding: "+Pg(b))},1e3)}},500)}catch(b){setTimeout(()=>{window.ethereum&&window.ethereum.chainId&&parseInt(window.ethereum.chainId,16)!==h&&ee.error("Failed to add network: "+Pg(b))},1e3)}else!((p=y.message)!=null&&p.includes("User rejected"))&&y.code!==4001&&setTimeout(()=>{window.ethereum&&window.ethereum.chainId&&parseInt(window.ethereum.chainId,16)!==h&&ee.error("Failed to switch network: "+Pg(y))},1e3)}finally{s(!1)}};return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(nc,{value:r?String(r):"",onValueChange:u,disabled:i,children:[l.jsx(sc,{className:"min-w-[160px] sm:min-w-[180px] header-accent-surface text-foreground border-[#614E41]",children:l.jsx(ic,{placeholder:"Select Network"})}),l.jsx(oc,{className:"border border-[#614E41]",children:o().map(([d,h])=>l.jsx(Wn,{value:d,children:h.name},d))})]}),a.length===0&&l.jsx("span",{className:"text-xs text-red-500 ml-2",children:"Contracts Not Available"}),r&&n&&a.length>0&&!a.some(([d])=>parseInt(d)===r)&&l.jsx("span",{className:"text-xs text-red-500 ml-2",children:"Unsupported Network"})]})},Id=({className:r="",size:e="md",showIcon:t=!1,alt:n="Rafflehub",...i})=>{const{getCurrentTheme:s}=Oy(),a={xs:"h-4 w-auto",sm:"h-5 w-auto",md:"h-6 w-auto",lg:"h-8 w-auto",xl:"h-12 w-auto"}[e]||e,u=()=>t?"/images/logo/logo-icon.png":s().id==="light"?"/images/logo/logo-light.svg":"/images/logo/logo-dark.svg";return l.jsx("img",{src:u(),alt:n,className:`${a} transition-opacity duration-200 ${r}`,...i})},Wr=()=>{const r=()=>{if(typeof window>"u")return{isMobile:!1,isTablet:!1,isDesktop:!0,isTouchDevice:!1,screenWidth:1024,isInitialized:!1};const n=window.innerWidth;return{isMobile:n<768,isTablet:n>=768&&n<1024,isDesktop:n>=1024,isTouchDevice:"ontouchstart"in window||navigator.maxTouchPoints>0,screenWidth:n,isInitialized:!0}},[e,t]=C.useState(r);return C.useEffect(()=>{const n=()=>{const o=window.innerWidth,a=window.innerHeight,u=e.isMobile&&Math.abs(o-e.screenWidth)<50&&Math.abs(a-window.screen.height)>200;if(u){console.log("Skipping breakpoint update - likely keyboard resize");return}const d={isMobile:o<768,isTablet:o>=768&&o<1024,isDesktop:o>=1024,isTouchDevice:"ontouchstart"in window||navigator.maxTouchPoints>0,screenWidth:o,isInitialized:!0};o<768&&console.log("Mobile detected:",{width:o,height:a,userAgent:navigator.userAgent,touchDevice:d.isTouchDevice,isKeyboardResize:u}),t(d)};n();let i;const s=()=>{clearTimeout(i),i=setTimeout(n,150)};return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s),clearTimeout(i)}},[e.isMobile,e.screenWidth]),e};class B9{constructor(){this.cache=new Map,this.cacheTimeout=300*1e3,this.retryAttempts=3,this.retryDelay=1e3,this.performanceMetrics=new Map,this.errorMetrics=new Map}initialize(e,t){this.walletContext=e,this.contractContext=t}getPlatformConfig(e=!1){const t=typeof window<"u"&&(/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768),n=e||t;return{maxRafflesToFetch:n?25:30,timeout:n?2e4:12e3,concurrency:n?2:4,batchDelay:n?200:100,retryDelay:n?2e3:1e3,maxRetries:n?2:3,useCache:!0,retryOnFailure:!0,progressiveLoading:n,prioritizeRecent:n}}createContractInstance(e,t,n=!1){var i,s,o;try{if(!e||e===He)throw new Error(`Invalid contract address for ${t}`);const a=gt[t];if(!a)throw new Error(`ABI not found for ${t}`);const u=n?(i=this.walletContext)==null?void 0:i.provider:((s=this.walletContext)==null?void 0:s.signer)||((o=this.walletContext)==null?void 0:o.provider);if(!u)throw new Error("No signer or provider available");return new At(e,a,u)}catch(a){return console.error(`Error creating contract instance for ${t}:`,a),null}}areContractsAvailable(){const{chainId:e}=this.walletContext||{};if(!e||!$t[e])return console.log(" Chain not supported or chainId missing:",{chainId:e}),!1;const t=$t[e].contractAddresses,n=(t==null?void 0:t.protocolManager)&&t.protocolManager!=="0x..."&&(t==null?void 0:t.poolDeployer)&&t.poolDeployer!=="0x...";return console.log(" Contract availability check:",{chainId:e,isAvailable:n,protocolManager:t==null?void 0:t.protocolManager,poolDeployer:t==null?void 0:t.poolDeployer}),n}getProtocolManagerContract(){var t,n,i,s;const{chainId:e}=this.walletContext||{};if(!this.areContractsAvailable())return null;if((n=(t=this.contractContext)==null?void 0:t.contracts)!=null&&n.protocolManager)return this.contractContext.contracts.protocolManager;if(e&&((s=(i=$t[e])==null?void 0:i.contractAddresses)!=null&&s.protocolManager)){const o=$t[e].contractAddresses.protocolManager;return this.createContractInstance(o,"protocolManager",!0)}return null}async withRetry(e,t="",n={}){var d;const i=this.getPlatformConfig(n.isMobile),s=n.maxRetries||i.maxRetries,o=n.retryDelay||i.retryDelay,a=n.timeout||i.timeout;let u;(d=this.walletContext)==null||d.chainId;for(let h=1;h<=s;h++)try{return await Promise.race([e(),new Promise((p,y)=>setTimeout(()=>y(new Error("Operation timeout")),a))])}catch(p){if(u=p,console.warn(`${t} attempt ${h}/${s} failed:`,p.message),p.message.includes("user rejected")||p.message.includes("User denied")||p.code===4001||p.message.includes("Invalid contract address"))throw p;if(n.isMobile&&(p.message.includes("Network Error")||p.message.includes("CONNECTION ERROR")||p.code==="NETWORK_ERROR"))throw console.warn(`Mobile network error detected, skipping retries for ${t}`),p;if(h<s){const y=o*h;console.log(`Retrying ${t} in ${y}ms...`),await new Promise(m=>setTimeout(m,y))}}throw u}async getAllRaffleAddresses(){var o;const e=`raffleAddresses_${(o=this.walletContext)==null?void 0:o.chainId}`,t=this.cache.get(e);if(t&&Date.now()-t.timestamp<this.cacheTimeout)return t.data;if(!this.areContractsAvailable())throw new Error("CONTRACTS_NOT_AVAILABLE");const n=this.getProtocolManagerContract();if(!n)throw new Error("CONTRACTS_NOT_AVAILABLE");const s=(await this.withRetry(()=>n.getAllPools(),"getAllPools")||[]).slice().reverse();return this.cache.set(e,{data:s,timestamp:Date.now()}),s}async fetchRaffleDetails(e,t={}){var n,i,s,o,a,u,d,h,p,y,m,b,x,w,A,P,I,T,U,B,H,G;try{const W=this.createContractInstance(e,"pool",!0);if(!W)return console.error(`Failed to create raffle contract for ${e}`),null;let V,K,q,D,v,S,_,j,O,z,E,M,N,R,X,$,Y,Q,Z;t.isMobile?(V=await this.withRetry(()=>W.name(),`name-${e}`,t),K=await this.withRetry(()=>W.creator(),`creator-${e}`,t),q=await this.withRetry(()=>W.startTime(),`startTime-${e}`,t),D=await this.withRetry(()=>W.duration(),`duration-${e}`,t),v=await this.withRetry(()=>W.slotFee(),`slotFee-${e}`,t),S=await this.withRetry(()=>W.slotLimit(),`slotLimit-${e}`,t),_=await this.withRetry(()=>W.winnersCount(),`winnersCount-${e}`,t),j=await this.withRetry(()=>W.maxSlotsPerParticipant(),`maxSlots-${e}`,t),O=await this.withRetry(()=>W.state(),`state-${e}`,t),z=await((n=W.isPrized)==null?void 0:n.call(W).catch(()=>!1)),E=await((i=W.prizeCollection)==null?void 0:i.call(W).catch(()=>He)),M=await((s=W.prizeTokenId)==null?void 0:s.call(W).catch(()=>de.from(0))),N=await((o=W.erc20PrizeToken)==null?void 0:o.call(W).catch(()=>He)),R=await((a=W.erc20PrizeAmount)==null?void 0:a.call(W).catch(()=>de.from(0))),X=await((u=W.nativePrizeAmount)==null?void 0:u.call(W).catch(()=>de.from(0))),$=await((d=W.isExternallyPrized)==null?void 0:d.call(W).catch(ne=>(console.warn(`isExternallyPrized failed for ${e}:`,ne.message),!1))),Y=await((h=W.standard)==null?void 0:h.call(W).catch(ne=>{console.warn(`[RaffleService] standard failed for ${e}:`,ne.message)})),Q=await((p=W.usesCustomFee)==null?void 0:p.call(W).catch(ne=>(console.warn(`[RaffleService] usesCustomFee failed for ${e}:`,ne.message),!1))),Z=await((y=W.isEscrowedPrize)==null?void 0:y.call(W).catch(ne=>(console.warn(`[RaffleService] isEscrowedPrize failed for ${e}:`,ne.message),!1)))):[V,K,q,D,v,S,_,j,O,z,E,M,N,R,X,$,Y,Q,Z]=await Promise.all([this.withRetry(()=>W.name(),`name-${e}`,t),this.withRetry(()=>W.creator(),`creator-${e}`,t),this.withRetry(()=>W.startTime(),`startTime-${e}`,t),this.withRetry(()=>W.duration(),`duration-${e}`,t),this.withRetry(()=>W.slotFee(),`slotFee-${e}`,t),this.withRetry(()=>W.slotLimit(),`slotLimit-${e}`,t),this.withRetry(()=>W.winnersCount(),`winnersCount-${e}`,t),this.withRetry(()=>W.maxSlotsPerParticipant(),`maxSlots-${e}`,t),this.withRetry(()=>W.state(),`state-${e}`,t),(m=W.isPrized)==null?void 0:m.call(W).catch(()=>!1),(b=W.prizeCollection)==null?void 0:b.call(W).catch(()=>He),(x=W.prizeTokenId)==null?void 0:x.call(W).catch(()=>de.from(0)),(w=W.erc20PrizeToken)==null?void 0:w.call(W).catch(()=>He),(A=W.erc20PrizeAmount)==null?void 0:A.call(W).catch(()=>de.from(0)),(P=W.nativePrizeAmount)==null?void 0:P.call(W).catch(()=>de.from(0)),(I=W.isExternallyPrized)==null?void 0:I.call(W).catch(ne=>(console.warn(`[RaffleService] isExternallyPrized failed for ${e}:`,ne.message),!1)),(T=W.standard)==null?void 0:T.call(W).catch(ne=>{console.warn(`[RaffleService] standard failed for ${e}:`,ne.message)}),(U=W.usesCustomFee)==null?void 0:U.call(W).catch(ne=>(console.warn(`[RaffleService] usesCustomFee failed for ${e}:`,ne.message),!1)),(B=W.isEscrowedPrize)==null?void 0:B.call(W).catch(ne=>(console.warn(`[RaffleService] isEscrowedPrize failed for ${e}:`,ne.message),!1))]);let te;switch(O){case 0:te="pending";break;case 1:te="active";break;case 2:te="drawing";break;case 3:te="completed";break;case 4:te="completed";break;case 5:te="ended";break;default:te="ended"}let ce;if([2,3,4,5,6,7,8].includes(O))try{const ne=await((H=W.getActualPoolDuration)==null?void 0:H.call(W));ne&&(ce=ne.toNumber?ne.toNumber():Number(ne))}catch{}return{id:e,name:V,address:e,chainId:(G=this.walletContext)==null?void 0:G.chainId,creator:K,startTime:q.toNumber(),duration:D.toNumber(),actualDuration:ce,slotFee:v,ticketLimit:S.toNumber(),slotLimit:S.toNumber(),ticketsSold:0,winnersCount:_.toNumber(),maxTicketsPerParticipant:j.toNumber(),isPrized:!!z,prizeCollection:E,prizeTokenId:M?M.toNumber?M.toNumber():Number(M):0,stateNum:O,state:te,erc20PrizeToken:N,erc20PrizeAmount:R,nativePrizeAmount:X,isExternallyPrized:$,standard:Y!=null?Y.toNumber?Y.toNumber():Number(Y):void 0,usesCustomFee:Q,isEscrowedPrize:Z}}catch(W){return console.error(`Error fetching raffle details for ${e}:`,W),null}}async processBatch(e,t={}){const n=this.getPlatformConfig(t.isMobile),i=t.batchSize||n.concurrency,s=t.batchDelay||n.batchDelay,o=t.onProgress,a=[],u=Math.ceil(e.length/i);console.log(`Processing ${e.length} raffles in ${u} batches (${i} per batch)`);for(let d=0;d<e.length;d+=i){const h=Math.floor(d/i)+1,p=e.slice(d,d+i);console.log(`Processing batch ${h}/${u} (${p.length} raffles)`);try{if(t.isMobile&&n.progressiveLoading)for(const y of p)try{const m=await this.fetchRaffleDetails(y,{isMobile:!0});m&&(a.push(m),o&&o(a.length,e.length)),await new Promise(b=>setTimeout(b,50))}catch(m){console.warn(`Failed to fetch raffle ${y}:`,m.message)}else{const y=p.map(x=>this.fetchRaffleDetails(x,{isMobile:t.isMobile})),b=(await Promise.allSettled(y)).filter(x=>x.status==="fulfilled"&&x.value!==null).map(x=>x.value);a.push(...b),o&&o(a.length,e.length)}d+i<e.length&&(console.log(`Waiting ${s}ms before next batch...`),await new Promise(y=>setTimeout(y,s)))}catch(y){console.error(`Error processing batch ${h}:`,y)}}return console.log(`Successfully processed ${a.length}/${e.length} raffles`),a}async fetchAllRaffles(e={}){var u,d,h;const{isMobile:t=!1,useCache:n=!0,maxRaffles:i=null}=e,s=this.getPlatformConfig(t),o=`allRaffles_${(u=this.walletContext)==null?void 0:u.chainId}_${t}`,a=this.startTimer("fetchAllRaffles",{isMobile:t,chainId:(d=this.walletContext)==null?void 0:d.chainId});if(n){const p=this.cache.get(o);if(p&&Date.now()-p.timestamp<this.cacheTimeout)return this.endTimer(a,{fromCache:!0,rafflCount:p.data.length}),p.data}try{const p=this.startTimer("getAllRaffleAddresses",{isMobile:t}),y=await this.getAllRaffleAddresses();if(this.endTimer(p,{addressCount:(y==null?void 0:y.length)||0}),!y||y.length===0)return this.endTimer(a,{rafflCount:0,fromCache:!1}),[];const m=i||s.maxRafflesToFetch,b=y.slice(0,m),x=this.startTimer("processBatch",{isMobile:t,totalAddresses:b.length,batchSize:s.concurrency}),w=await this.processBatch(b,{...s,isMobile:t,onProgress:(A,P)=>{console.log(`[RaffleService] Progress: ${A}/${P} raffles processed (${(A/P*100).toFixed(1)}%)`)}});return this.endTimer(x,{successfulRaffles:w.length,failedRaffles:b.length-w.length}),n&&this.cache.set(o,{data:w,timestamp:Date.now()}),this.endTimer(a,{rafflCount:w.length,fromCache:!1,totalAddresses:y.length,processedAddresses:b.length}),w}catch(p){throw this.trackError("fetchAllRaffles",p,{isMobile:t,chainId:(h=this.walletContext)==null?void 0:h.chainId}),this.endTimer(a,{error:!0,errorMessage:p.message}),p}}async searchRaffles(e,t={}){const n=await this.fetchAllRaffles(t),i=e.trim().toLowerCase();return n.filter(s=>(s.name||"").toLowerCase().includes(i)||(s.address||"").toLowerCase().includes(i)||(s.address||"").toLowerCase()===i)}clearCache(){this.cache.clear()}startTimer(e,t={}){const n=`${e}_${Date.now()}_${Math.random()}`;return this.performanceMetrics.set(n,{operation:e,context:t,startTime:performance.now(),platform:t.isMobile?"mobile":"desktop"}),n}endTimer(e,t={}){const n=this.performanceMetrics.get(e);if(!n)return;const i=performance.now(),s=i-n.startTime,o={...n,endTime:i,duration:s,...t};if(console.log(`[RaffleService] ${n.operation} completed in ${s.toFixed(2)}ms`,{platform:n.platform,context:n.context,...t}),this.performanceMetrics.set(e,o),this.performanceMetrics.size>100){const a=this.performanceMetrics.keys().next().value;this.performanceMetrics.delete(a)}return o}trackError(e,t,n={}){const i=`${e}_${n.isMobile?"mobile":"desktop"}`,s=this.errorMetrics.get(i)||{count:0,errors:[]};s.count++,s.errors.push({timestamp:Date.now(),message:t.message,stack:t.stack,context:n}),s.errors.length>10&&(s.errors=s.errors.slice(-10)),this.errorMetrics.set(i,s),console.error(`[RaffleService] Error in ${e} (${n.isMobile?"mobile":"desktop"}):`,t)}getPerformanceStats(){const e={mobile:{operations:{},totalOperations:0,avgDuration:0},desktop:{operations:{},totalOperations:0,avgDuration:0}};let t=0,n=0;for(const i of this.performanceMetrics.values()){if(!i.duration)continue;const s=i.platform,o=i.operation;e[s].operations[o]||(e[s].operations[o]={count:0,totalDuration:0,avgDuration:0,minDuration:1/0,maxDuration:0});const a=e[s].operations[o];a.count++,a.totalDuration+=i.duration,a.avgDuration=a.totalDuration/a.count,a.minDuration=Math.min(a.minDuration,i.duration),a.maxDuration=Math.max(a.maxDuration,i.duration),e[s].totalOperations++,s==="mobile"?t+=i.duration:n+=i.duration}return e.mobile.avgDuration=e.mobile.totalOperations>0?t/e.mobile.totalOperations:0,e.desktop.avgDuration=e.desktop.totalOperations>0?n/e.desktop.totalOperations:0,e}getErrorStats(){const e={};for(const[t,n]of this.errorMetrics.entries())e[t]={count:n.count,lastError:n.errors[n.errors.length-1],recentErrors:n.errors.slice(-3)};return e}getCacheStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys()),performance:this.getPerformanceStats(),errors:this.getErrorStats()}}}const Hs=new B9,$9=()=>{const[r,e]=C.useState(0),t=C.useCallback(()=>{e(n=>n+1)},[]);return{refreshTrigger:r,triggerRefresh:t}},U9=(r={})=>{const{autoFetch:e=!0,enablePolling:t=!1,pollingInterval:n=12e4,maxRaffles:i=null,useCache:s=!0}=r,o=ur(),a=Cr(),{isMobile:u}=Wr(),[d,h]=C.useState([]),[p,y]=C.useState(!1),[m,b]=C.useState(!1),[x,w]=C.useState(null),[A,P]=C.useState(null),I=C.useRef(null),T=C.useRef(!0);C.useEffect(()=>{o&&a&&Hs.initialize(o,a)},[o,a]),C.useEffect(()=>{o!=null&&o.chainId&&(console.log(" Network changed, clearing cache and resetting state"),Hs.clearCache(),h([]),w(null),P(null))},[o==null?void 0:o.chainId]),C.useEffect(()=>()=>{T.current=!1,I.current&&clearInterval(I.current)},[]);const U=C.useCallback(async(K=!1)=>{var q,D,v,S,_,j,O;if(console.log(" fetchRaffles called:",{connected:o==null?void 0:o.connected,chainId:o==null?void 0:o.chainId,isBackground:K,environment:"production",userAgent:typeof window<"u"?window.navigator.userAgent:"N/A",isMobile:u,maxRaffles:i}),!(o!=null&&o.connected)){console.log(" Wallet not connected"),h([]),w("Please connect your wallet to view raffles");return}if(!(o!=null&&o.chainId)){console.log(" ChainId not yet available, skipping fetch");return}if(o!=null&&o.isReconnecting){console.log(" Wallet is reconnecting, skipping fetch");return}if(!(a!=null&&a.isContractsReady)){console.log(" Contracts not ready yet, skipping fetch");return}if(!Hs.areContractsAvailable()){console.log(" Contracts not available for current network, skipping fetch"),K||(w("CONTRACTS_NOT_AVAILABLE"),h([]));return}if(!T.current){console.log(" Component unmounted");return}try{K?b(!0):(y(!0),w(null));const z={isMobile:u,useCache:s,maxRaffles:i};console.log(" Calling raffleService.fetchAllRaffles with options:",z);const E=await Hs.fetchAllRaffles(z);if(console.log(" fetchAllRaffles completed:",{count:(E==null?void 0:E.length)||0,firstRaffle:((q=E==null?void 0:E[0])==null?void 0:q.name)||"N/A"}),!T.current)return;h(E),P(new Date),E.length===0?(console.log(" No raffles found"),w("NO_RAFFLES_FOUND")):(console.log(" Raffles set successfully"),w(null))}catch(z){if(!T.current)return;console.error(" Error fetching raffles:",{error:z.message,stack:z.stack,environment:"production",chainId:o==null?void 0:o.chainId});let E="NETWORK_ERROR";(D=z.message)!=null&&D.includes("CONTRACTS_NOT_AVAILABLE")?E="CONTRACTS_NOT_AVAILABLE":(v=z.message)!=null&&v.includes("Too Many Requests")?E="RATE_LIMIT":(S=z.message)!=null&&S.includes("timeout")?E="TIMEOUT":(_=z.message)!=null&&_.includes("network")?E="NETWORK_ERROR":((j=z.message)!=null&&j.includes("not available")||(O=z.message)!=null&&O.includes("ProtocolManager contract not available"))&&(E="CONTRACTS_NOT_AVAILABLE"),w(E),K||h([])}finally{if(!T.current)return;console.log(" fetchRaffles completed, setting loading states"),K?b(!1):y(!1)}},[o==null?void 0:o.connected,o==null?void 0:o.chainId,o==null?void 0:o.isReconnecting,a==null?void 0:a.isContractsReady,u,s,i]),B=C.useCallback(async K=>{if(!(K!=null&&K.trim()))return[];try{const q={isMobile:u,useCache:!0,maxRaffles:null};return await Hs.searchRaffles(K,q)}catch(q){return console.error("Error searching raffles:",q),[]}},[u]),H=C.useCallback(async()=>{Hs.clearCache(),await U(!1)},[U]),G=C.useCallback(async K=>{try{return await Hs.fetchRaffleDetails(K)}catch(q){return console.error(`Error fetching raffle details for ${K}:`,q),null}},[]);C.useEffect(()=>{if(console.log(" Auto-fetch effect triggered:",{autoFetch:e,connected:o==null?void 0:o.connected,chainId:o==null?void 0:o.chainId,isReconnecting:o==null?void 0:o.isReconnecting,isContractsReady:a==null?void 0:a.isContractsReady,environment:"production"}),e&&(o!=null&&o.connected)&&(o!=null&&o.chainId)&&!(o!=null&&o.isReconnecting)&&(a!=null&&a.isContractsReady)){const K=setTimeout(()=>{console.log(" Triggering auto-fetch with full context ready"),U()},500);return()=>clearTimeout(K)}else console.log(" Auto-fetch conditions not met:",{autoFetch:e,connected:o==null?void 0:o.connected,chainId:o==null?void 0:o.chainId,isReconnecting:o==null?void 0:o.isReconnecting,isContractsReady:a==null?void 0:a.isContractsReady})},[e,o==null?void 0:o.connected,o==null?void 0:o.chainId,o==null?void 0:o.isReconnecting,a==null?void 0:a.isContractsReady,U]),C.useEffect(()=>{if(t&&(o!=null&&o.connected)&&n>0)return I.current=setInterval(()=>{Hs.fetchAllRaffles({isMobile:u,useCache:!1,maxRaffles:i}).then(K=>{T.current&&(h(K),P(new Date))}).catch(()=>{})},n),()=>{I.current&&(clearInterval(I.current),I.current=null)}},[t,o==null?void 0:o.connected,n,U]);const W=C.useCallback(()=>{const K=Math.floor(Date.now()/1e3);return d.reduce((q,D)=>{const v=D.startTime,S=v+D.duration;return D.stateNum===0||K<v?q.pending.push(D):D.stateNum===1&&K>=v&&K<S?q.active.push(D):D.stateNum===2?q.ended.push(D):D.stateNum===3?q.drawing.push(D):D.stateNum===4?q.completed.push(D):D.stateNum===5||D.stateNum===6?q.ended.push(D):D.stateNum===7?q.completed.push(D):(D.stateNum,q.ended.push(D)),q},{pending:[],active:[],drawing:[],completed:[],ended:[]})},[d]),V=C.useCallback(()=>Hs.getCacheStats(),[]);return{raffles:d,categorizedRaffles:W(),loading:p,backgroundLoading:m,error:x,lastFetch:A,fetchRaffles:U,refreshRaffles:H,searchRaffles:B,getRaffleDetails:G,getCacheStats:V,service:Hs}},q9=()=>{const[r,e]=C.useState([]),[t,n]=C.useState(!1),[i,s]=C.useState(null),{isMobile:o}=Wr(),a=ur(),u=Cr();C.useEffect(()=>{a&&u&&Hs.initialize(a,u)},[a,u]);const d=C.useCallback(async p=>{if(!(p!=null&&p.trim())){e([]);return}n(!0),s(null);try{const y=await Hs.searchRaffles(p,{isMobile:o,useCache:!0,maxRaffles:o?20:50});e(y)}catch(y){console.error("Search error:",y),s("Failed to search raffles"),e([])}finally{n(!1)}},[o]),h=C.useCallback(()=>{e([]),s(null)},[]);return{searchResults:r,searchLoading:t,searchError:i,search:d,clearSearch:h}},fI=(r,e={})=>{const{onWinnersSelected:t,onStateChange:n,onPrizeClaimed:i,onTicketsPurchased:s,onRpcError:o,enablePolling:a=!0,pollingInterval:u=1e4,autoStart:d=!0,raffleState:h=null,enableStateConditionalListening:p=!0,stopOnCompletion:y=!1}=e,{getContractInstance:m,provider:b}=Cr(),{connected:x}=ur(),[w,A]=C.useState(!1),[P,I]=C.useState(null),[T,U]=C.useState([]),[B,H]=C.useState(h),G=C.useRef(null),W=C.useRef([]),V=C.useRef(null),K=C.useRef(!0),q=C.useRef(h);C.useEffect(()=>{r&&m?G.current=m(r,"pool"):G.current=null},[r,m]),C.useEffect(()=>{h!==q.current&&(console.log(` Raffle state updated: ${q.current}  ${h}`),H(h),q.current=h)},[h]);const D=C.useCallback(()=>{if(!p)return!0;if(y&&(B===4||B===7))return console.log(` Stopping winner selection listening - raffle completed (state=${B})`),!1;const N=B===null||[1,3,4,7].includes(B);return console.log(` Should listen check: state=${B}, shouldListen=${N}, stopOnCompletion=${y}`),N},[B,p,y]),v=C.useCallback((M,N)=>(...R)=>{var X;try{if(K.current&&N){console.log(` Raffle Event [${M}]:`,R);const $={eventName:M,args:R,timestamp:Date.now(),blockNumber:((X=R[R.length-1])==null?void 0:X.blockNumber)||null};U(Y=>[...Y.slice(-9),$]),M==="WinnersSelected"?(console.log(" WinnersSelected event - triggering immediate callback with RPC resilience"),setTimeout(()=>{try{N(...R),setTimeout(()=>{K.current&&G.current&&(console.log(" Additional state poll after WinnersSelected event"),(async()=>{try{const Q=await G.current.state(),Z=Q.toNumber?Q.toNumber():Number(Q);n&&n(Z,null)}catch(Q){console.warn("Error in additional state poll:",Q)}})())},3e3)}catch(Y){console.error("Error in WinnersSelected callback:",Y)}},1e3)):N(...R)}}catch($){console.error(`Error handling ${M} event:`,$)}},[]),S=C.useCallback(()=>{if(!(!G.current||!x)){if(!D()){console.log(` Skipping event listeners setup - raffle state ${B} doesn't require listening`);return}try{console.log(` Setting up event listeners for raffle: ${r} (state: ${B})`),W.current.forEach(({contract:N,event:R,handler:X})=>{N.off(R,X)}),W.current=[];const M=G.current;if(t){const N=v("WinnersSelected",(R,X)=>{t(R,X)});M.on("WinnersSelected",N),W.current.push({contract:M,event:"WinnersSelected",handler:N})}if(i){const N=v("PrizeClaimed",(R,X,$)=>{i(R,X,$)});M.on("PrizeClaimed",N),W.current.push({contract:M,event:"PrizeClaimed",handler:N})}if(s){const N=v("SlotsPurchased",(R,X,$)=>{s(R,X,$)});M.on("SlotsPurchased",N),W.current.push({contract:M,event:"SlotsPurchased",handler:N})}A(!0),console.log(` Event listeners active for ${W.current.length} events`)}catch(M){console.error("Error setting up event listeners:",M),A(!1)}}},[r,x,t,i,s,v]),_=C.useCallback(()=>{console.log(` Cleaning up event listeners for raffle: ${r}`),W.current.forEach(({contract:M,event:N,handler:R})=>{try{M.off(N,R)}catch(X){console.warn(`Error removing ${N} listener:`,X)}}),W.current=[],A(!1)},[r]),j=C.useCallback(()=>{if(!a||!G.current||!n)return;if(y&&(B===4||B===7)){console.log(` Stopping state polling - raffle completed (state=${B})`);return}const M=async()=>{let N=0;const R=3,X=2e3;await(async()=>{try{if(!K.current||!G.current)return;const Y=await(b==null?void 0:b.getBlockNumber().catch(async Q=>{var Z;if((Z=Q.message)!=null&&Z.includes("500")&&N<R)return console.warn(`RPC 500 error on getBlockNumber, retrying (${N+1}/${R})...`),N===0&&o&&o(Q),N++,await new Promise(te=>setTimeout(te,X)),b==null?void 0:b.getBlockNumber();throw Q}));if(Y&&Y!==P){I(Y);const Q=await G.current.state().catch(async te=>{var ce;if((ce=te.message)!=null&&ce.includes("500")&&N<R)return console.warn(`RPC 500 error on state(), retrying (${N+1}/${R})...`),N===0&&o&&o(te),N++,await new Promise(ne=>setTimeout(ne,X)),G.current.state();throw te}),Z=Q.toNumber?Q.toNumber():Number(Q);n&&n(Z,Y)}}catch(Y){const Q=Y.message||Y.toString();Q.includes("500")||Q.includes("Non-200 status code")?(console.warn("RPC server error during state polling, will retry on next cycle:",Q),o&&o(Y)):console.warn("Error during state polling:",Y)}})()};M(),V.current=setInterval(M,u),console.log(` State polling enabled (${u}ms interval)`)},[a,n,b,P,u,y,B]),O=C.useCallback(()=>{V.current&&(clearInterval(V.current),V.current=null,console.log(" State polling disabled"))},[]),z=C.useCallback(()=>{if(!r||!G.current){console.warn("Cannot start listening: missing raffle address or contract");return}S(),j()},[r,S,j]),E=C.useCallback(()=>{_(),O()},[_,O]);return C.useEffect(()=>(d&&r&&G.current&&x&&(console.log(` Auto-starting listeners due to dependency change (state: ${B})`),z()),()=>{E()}),[d,r,x,B,z,E]),C.useEffect(()=>()=>{K.current=!1,E()},[E]),{isListening:w,eventHistory:T,lastBlockNumber:P,startListening:z,stopListening:E,clearEventHistory:()=>U([])}},YN=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,JN=sI,Jk=(r,e)=>t=>{var n;if((e==null?void 0:e.variants)==null)return JN(r,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(d=>{const h=t==null?void 0:t[d],p=s==null?void 0:s[d];if(h===null)return null;const y=YN(h)||YN(p);return i[d][y]}),a=t&&Object.entries(t).reduce((d,h)=>{let[p,y]=h;return y===void 0||(d[p]=y),d},{}),u=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,h)=>{let{class:p,className:y,...m}=h;return Object.entries(m).every(b=>{let[x,w]=b;return Array.isArray(w)?w.includes({...s,...a}[x]):{...s,...a}[x]===w})?[...d,p,y]:d},[]);return JN(r,o,u,t==null?void 0:t.class,t==null?void 0:t.className)},W9=Jk("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90 focus-visible:ring-primary/20",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90 focus-visible:ring-destructive/20",outline:"border border-border bg-background shadow-sm hover:bg-muted hover:text-muted-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-muted hover:text-muted-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-success text-success-foreground shadow-sm hover:bg-success/90 focus-visible:ring-success/20",warning:"bg-warning text-warning-foreground shadow-sm hover:bg-warning/90 focus-visible:ring-warning/20",accent:"bg-accent text-accent-foreground shadow-sm hover:bg-accent/90 focus-visible:ring-accent/20"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 py-2 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 py-3 has-[>svg]:px-4",xl:"h-12 rounded-lg px-6 py-3 has-[>svg]:px-5",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}}),ut=C.forwardRef(function({className:e,variant:t,size:n,asChild:i=!1,...s},o){const a=i?EP:"button";return l.jsx(a,{ref:o,"data-slot":"button",className:ct(W9({variant:t,size:n,className:e})),...s})});ut.displayName="Button";function H9(r,e){return C.useReducer((t,n)=>e[t][n]??t,r)}var uo=r=>{const{present:e,children:t}=r,n=V9(e),i=typeof t=="function"?t({present:n.isPresent}):C.Children.only(t),s=gr(n.ref,G9(i));return typeof t=="function"||n.isPresent?C.cloneElement(i,{ref:s}):null};uo.displayName="Presence";function V9(r){const[e,t]=C.useState(),n=C.useRef(null),i=C.useRef(r),s=C.useRef("none"),o=r?"mounted":"unmounted",[a,u]=H9(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const d=Rg(n.current);s.current=a==="mounted"?d:"none"},[a]),ni(()=>{const d=n.current,h=i.current;if(h!==r){const y=s.current,m=Rg(d);r?u("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(h&&y!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=r}},[r,u]),ni(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,p=m=>{const x=Rg(n.current).includes(m.animationName);if(m.target===e&&x&&(u("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},y=m=>{m.target===e&&(s.current=Rg(n.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:C.useCallback(d=>{n.current=d?getComputedStyle(d):null,t(d)},[])}}function Rg(r){return(r==null?void 0:r.animationName)||"none"}function G9(r){var n,i;let e=(n=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(i=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var Yy="Dialog",[hI,oie]=co(Yy),[K9,Lo]=hI(Yy),pI=r=>{const{__scopeDialog:e,children:t,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=r,a=C.useRef(null),u=C.useRef(null),[d,h]=Oo({prop:n,defaultProp:i??!1,onChange:s,caller:Yy});return l.jsx(K9,{scope:e,triggerRef:a,contentRef:u,contentId:Ts(),titleId:Ts(),descriptionId:Ts(),open:d,onOpenChange:h,onOpenToggle:C.useCallback(()=>h(p=>!p),[h]),modal:o,children:t})};pI.displayName=Yy;var mI="DialogTrigger",gI=C.forwardRef((r,e)=>{const{__scopeDialog:t,...n}=r,i=Lo(mI,t),s=gr(e,i.triggerRef);return l.jsx(Ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Zk(i.open),...n,ref:s,onClick:Ke(r.onClick,i.onOpenToggle)})});gI.displayName=mI;var Qk="DialogPortal",[Y9,yI]=hI(Qk,{forceMount:void 0}),xI=r=>{const{__scopeDialog:e,forceMount:t,children:n,container:i}=r,s=Lo(Qk,e);return l.jsx(Y9,{scope:e,forceMount:t,children:C.Children.map(n,o=>l.jsx(uo,{present:t||s.open,children:l.jsx(sm,{asChild:!0,container:i,children:o})}))})};xI.displayName=Qk;var ty="DialogOverlay",vI=C.forwardRef((r,e)=>{const t=yI(ty,r.__scopeDialog),{forceMount:n=t.forceMount,...i}=r,s=Lo(ty,r.__scopeDialog);return s.modal?l.jsx(uo,{present:n||s.open,children:l.jsx(Q9,{...i,ref:e})}):null});vI.displayName=ty;var J9=yu("DialogOverlay.RemoveScroll"),Q9=C.forwardRef((r,e)=>{const{__scopeDialog:t,...n}=r,i=Lo(ty,t);return l.jsx(Hy,{as:J9,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(Ot.div,{"data-state":Zk(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),wu="DialogContent",bI=C.forwardRef((r,e)=>{const t=yI(wu,r.__scopeDialog),{forceMount:n=t.forceMount,...i}=r,s=Lo(wu,r.__scopeDialog);return l.jsx(uo,{present:n||s.open,children:s.modal?l.jsx(X9,{...i,ref:e}):l.jsx(Z9,{...i,ref:e})})});bI.displayName=wu;var X9=C.forwardRef((r,e)=>{const t=Lo(wu,r.__scopeDialog),n=C.useRef(null),i=gr(e,t.contentRef,n);return C.useEffect(()=>{const s=n.current;if(s)return Hk(s)},[]),l.jsx(wI,{...r,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(r.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ke(r.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Ke(r.onFocusOutside,s=>s.preventDefault())})}),Z9=C.forwardRef((r,e)=>{const t=Lo(wu,r.__scopeDialog),n=C.useRef(!1),i=C.useRef(!1);return l.jsx(wI,{...r,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=r.onCloseAutoFocus)==null||o.call(r,s),s.defaultPrevented||(n.current||(a=t.triggerRef.current)==null||a.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var u,d;(u=r.onInteractOutside)==null||u.call(r,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((d=t.triggerRef.current)==null?void 0:d.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),wI=C.forwardRef((r,e)=>{const{__scopeDialog:t,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=r,a=Lo(wu,t),u=C.useRef(null),d=gr(e,u);return Pk(),l.jsxs(l.Fragment,{children:[l.jsx(Fy,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(nm,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Zk(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(tq,{titleId:a.titleId}),l.jsx(nq,{contentRef:u,descriptionId:a.descriptionId})]})]})}),Xk="DialogTitle",kI=C.forwardRef((r,e)=>{const{__scopeDialog:t,...n}=r,i=Lo(Xk,t);return l.jsx(Ot.h2,{id:i.titleId,...n,ref:e})});kI.displayName=Xk;var _I="DialogDescription",eq=C.forwardRef((r,e)=>{const{__scopeDialog:t,...n}=r,i=Lo(_I,t);return l.jsx(Ot.p,{id:i.descriptionId,...n,ref:e})});eq.displayName=_I;var EI="DialogClose",CI=C.forwardRef((r,e)=>{const{__scopeDialog:t,...n}=r,i=Lo(EI,t);return l.jsx(Ot.button,{type:"button",...n,ref:e,onClick:Ke(r.onClick,()=>i.onOpenChange(!1))})});CI.displayName=EI;function Zk(r){return r?"open":"closed"}var SI="DialogTitleWarning",[aie,NI]=$B(SI,{contentName:wu,titleName:Xk,docsSlug:"dialog"}),tq=({titleId:r})=>{const e=NI(SI),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{r&&(document.getElementById(r)||console.error(t))},[t,r]),null},rq="DialogDescriptionWarning",nq=({contentRef:r,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${NI(rq).contentName}}.`;return C.useEffect(()=>{var s;const i=(s=r.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,r,e]),null},TI=pI,AI=gI,jI=xI,PI=vI,RI=bI,II=kI,iq=CI;function sq({...r}){return l.jsx(TI,{"data-slot":"sheet",...r})}function oq({...r}){return l.jsx(AI,{"data-slot":"sheet-trigger",...r})}function aq({...r}){return l.jsx(jI,{"data-slot":"sheet-portal",...r})}const lq=C.forwardRef(({className:r,...e},t)=>l.jsx(PI,{ref:t,"data-slot":"sheet-overlay",className:ct("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r),...e})),cq=C.forwardRef(({className:r,children:e,side:t="right",...n},i)=>l.jsxs(aq,{children:[l.jsx(lq,{}),l.jsx(RI,{ref:i,"data-slot":"sheet-content",className:ct("bg-background text-foreground data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",t==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l border-border sm:max-w-sm",t==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r border-border sm:max-w-sm",t==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b border-border",t==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t border-border",r),...n,children:e})]}));function uq({className:r,...e}){return l.jsx("div",{"data-slot":"sheet-header",className:ct("flex flex-col gap-1.5 p-4",r),...e})}function dq({className:r,...e}){return l.jsx(II,{"data-slot":"sheet-title",className:ct("text-foreground font-semibold text-lg",r),...e})}const fq=()=>{const{connected:r,address:e,formatAddress:t,disconnect:n,connectWallet:i}=ur(),{theme:s,cycleTheme:o,getCurrentTheme:a}=Oy(),{isMobile:u,isInitialized:d}=Wr(),h=Do(),p=Tu(),[y,m]=C.useState(!1),[b,x]=C.useState(!1),{searchResults:w,searchLoading:A,search:P,clearSearch:I}=q9(),[T,U]=C.useState(""),B=C.useRef(null),H=C.useRef(null);C.useEffect(()=>{if(!b||!(T!=null&&T.trim())){I();return}const D=setTimeout(()=>{P(T)},300);return()=>clearTimeout(D)},[T,b,P,I]),C.useEffect(()=>{if(!b)return;const D=v=>{var j;const S=v.target.closest(".mobile-component-container")||v.target.closest("[data-dashboard-card]")||v.target.closest("[data-profile-tab]")||v.target.closest(".dashboard-component")||v.target.closest(".profile-dashboard"),_=v.target.closest("[data-search-container]")||((j=H.current)==null?void 0:j.contains(v.target));S||_||(x(!1),U(""),I())};return document.addEventListener("mousedown",D),document.addEventListener("touchstart",D),()=>{document.removeEventListener("mousedown",D),document.removeEventListener("touchstart",D)}},[b,I]);const G=async()=>{try{await i("metamask"),m(!1)}catch(D){console.error("Failed to connect wallet:",D)}},W=D=>{const v=typeof window<"u"&&window.ethereum&&window.ethereum.chainId?parseInt(window.ethereum.chainId,16):null,S=v&&$t[v]?$t[v].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):v||"",_=S?`/${S}/raffle/${D}`:`/raffle/${D}`;h(_),x(!1),U(""),I()},V=()=>{x(!b),b?(U(""),I()):setTimeout(()=>{B.current&&B.current.focus()},200)};if(!d||!u)return null;const K=[{name:"Create Raffle",href:"/create-raffle",icon:""},{name:"Profile",href:"/profile",icon:""}];return u?p.pathname==="/"?l.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md border-b border-[#614E41]",children:l.jsxs("div",{className:"flex items-center justify-between h-14 px-4",children:[l.jsx("span",{className:"flex items-center cursor-default select-none",children:l.jsx(Id,{size:"xs",className:"active:opacity-70"})}),l.jsxs("button",{onClick:o,className:"p-2 hover:bg-muted rounded-md transition-colors",title:`Current: ${a().name} - Click to cycle themes`,children:[a().icon==="Sun"&&l.jsx(G0,{className:"h-5 w-5"}),a().icon==="Moon"&&l.jsx(V0,{className:"h-5 w-5"}),a().icon==="Monitor"&&l.jsx(H0,{className:"h-5 w-5"})]})]})}):l.jsxs(l.Fragment,{children:[l.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md border-b border-[#614E41]",children:[l.jsxs("div",{className:"flex items-center justify-between h-14 px-4",children:[l.jsx(su,{to:"/app",className:"flex items-center outline-none focus:outline-none focus-visible:outline-none focus:ring-0 focus-visible:ring-0",children:l.jsx(Id,{size:"xs",className:"active:opacity-70"})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ut,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:V,children:l.jsx(Ua,{className:"h-4 w-4"})}),l.jsxs(sq,{open:y,onOpenChange:m,children:[l.jsx(oq,{asChild:!0,children:l.jsx(ut,{variant:"ghost",size:"icon",className:"h-9 w-9",children:l.jsx(wP,{className:"h-4 w-4"})})}),l.jsxs(cq,{side:"right",className:"w-64 p-0 bg-background",children:[l.jsx(uq,{className:"p-3 border-b border-[#614E41]",children:l.jsx(dq,{className:"text-left text-foreground text-base",children:"Menu"})}),l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx("div",{className:"p-3 border-b border-[#614E41]",children:r?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center",children:l.jsx(Ww,{className:"h-3 w-3 text-primary"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs font-medium text-foreground",children:"Connected"}),l.jsx("p",{className:"text-xs text-muted-foreground font-mono truncate",children:t(e)})]})]}),l.jsx(ut,{variant:"outline",size:"sm",onClick:n,className:"w-full text-foreground h-8 border-[#614E41]",children:"Disconnect"})]}):l.jsxs(ut,{onClick:G,className:"w-full bg-foreground text-background hover:bg-foreground/90 h-8",children:[l.jsx(Ww,{className:"h-3 w-3 mr-2"}),"Connect Wallet"]})}),l.jsx("div",{className:"p-3",children:l.jsx("div",{className:"space-y-1",children:K.map(D=>l.jsxs(su,{to:D.href,onClick:()=>m(!1),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-muted transition-colors text-foreground hover:text-foreground",children:[l.jsx("span",{className:"text-base",children:D.icon}),l.jsx("span",{className:"text-sm font-medium text-foreground",children:D.name})]},D.href))})}),l.jsxs("div",{className:"p-3 border-t border-[#614E41] space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs font-medium text-foreground",children:"Theme"}),l.jsxs(ut,{variant:"outline",size:"sm",onClick:o,className:"h-7 w-7 p-0 border-border text-foreground hover:bg-muted",children:[a().icon==="Sun"&&l.jsx(G0,{className:"h-3 w-3"}),a().icon==="Moon"&&l.jsx(V0,{className:"h-3 w-3"}),a().icon==="Monitor"&&l.jsx(H0,{className:"h-3 w-3"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs font-medium text-foreground",children:"Network"}),l.jsx(dI,{})]})]})]})]})]})]})]}),b&&l.jsx("div",{ref:H,"data-search-container":!0,className:"px-4 pb-3 border-t border-[#614E41]/50 animate-in slide-in-from-top-2 duration-200",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ua,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx("input",{ref:B,type:"text",placeholder:"Search raffle name or address...",value:T,onChange:D=>U(D.target.value),className:"w-full h-12 pl-10 pr-4 bg-muted/50 border border-border rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",autoFocus:!0}),b&&T&&l.jsxs("div",{className:"absolute left-0 right-0 top-full mt-2 z-50 bg-popover/95 backdrop-blur-md border border-border/50 rounded-xl max-h-60 overflow-y-auto shadow-xl",children:[A&&l.jsx("div",{className:"p-3 text-muted-foreground text-sm text-center",children:"Searching..."}),!A&&w.length>0&&l.jsx(l.Fragment,{children:w.map(D=>l.jsxs("div",{className:"px-4 py-3 hover:bg-muted cursor-pointer border-b border-border/20 last:border-b-0",onClick:()=>W(D.address),children:[l.jsx("div",{className:"font-semibold text-foreground text-sm mb-1",children:D.name}),l.jsx("div",{className:"text-xs text-muted-foreground font-mono truncate",title:D.address,children:D.address})]},D.address))}),!A&&T&&w.length===0&&l.jsxs("div",{className:"p-4 text-muted-foreground text-sm text-center",children:['No raffles found matching "',T,'"']})]})]})})]}),l.jsx("div",{className:"h-14"})]}):null};class hq extends ve.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Mobile component error:",e,t)}render(){return this.state.hasError?l.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md border-b border-border/50",children:l.jsxs("div",{className:"flex items-center justify-between h-14 px-4",children:[l.jsx("div",{className:"text-lg font-bold text-foreground",style:{fontFamily:"Orbitron, monospace"},children:"Rafflhub"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Mobile Menu"})]})}):this.props.children}}var Ib="rovingFocusGroup.onEntryFocus",pq={bubbles:!1,cancelable:!0},om="RovingFocusGroup",[s1,MI,mq]=zy(om),[gq,Jy]=co(om,[mq]),[yq,xq]=gq(om),OI=C.forwardRef((r,e)=>l.jsx(s1.Provider,{scope:r.__scopeRovingFocusGroup,children:l.jsx(s1.Slot,{scope:r.__scopeRovingFocusGroup,children:l.jsx(vq,{...r,ref:e})})}));OI.displayName=om;var vq=C.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...p}=r,y=C.useRef(null),m=gr(e,y),b=rm(s),[x,w]=Oo({prop:o,defaultProp:a??null,onChange:u,caller:om}),[A,P]=C.useState(!1),I=fa(d),T=MI(t),U=C.useRef(!1),[B,H]=C.useState(0);return C.useEffect(()=>{const G=y.current;if(G)return G.addEventListener(Ib,I),()=>G.removeEventListener(Ib,I)},[I]),l.jsx(yq,{scope:t,orientation:n,dir:b,loop:i,currentTabStopId:x,onItemFocus:C.useCallback(G=>w(G),[w]),onItemShiftTab:C.useCallback(()=>P(!0),[]),onFocusableItemAdd:C.useCallback(()=>H(G=>G+1),[]),onFocusableItemRemove:C.useCallback(()=>H(G=>G-1),[]),children:l.jsx(Ot.div,{tabIndex:A||B===0?-1:0,"data-orientation":n,...p,ref:m,style:{outline:"none",...r.style},onMouseDown:Ke(r.onMouseDown,()=>{U.current=!0}),onFocus:Ke(r.onFocus,G=>{const W=!U.current;if(G.target===G.currentTarget&&W&&!A){const V=new CustomEvent(Ib,pq);if(G.currentTarget.dispatchEvent(V),!V.defaultPrevented){const K=T().filter(_=>_.focusable),q=K.find(_=>_.active),D=K.find(_=>_.id===x),S=[q,D,...K].filter(Boolean).map(_=>_.ref.current);zI(S,h)}}U.current=!1}),onBlur:Ke(r.onBlur,()=>P(!1))})})}),DI="RovingFocusGroupItem",LI=C.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,focusable:n=!0,active:i=!1,tabStopId:s,children:o,...a}=r,u=Ts(),d=s||u,h=xq(DI,t),p=h.currentTabStopId===d,y=MI(t),{onFocusableItemAdd:m,onFocusableItemRemove:b,currentTabStopId:x}=h;return C.useEffect(()=>{if(n)return m(),()=>b()},[n,m,b]),l.jsx(s1.ItemSlot,{scope:t,id:d,focusable:n,active:i,children:l.jsx(Ot.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:Ke(r.onMouseDown,w=>{n?h.onItemFocus(d):w.preventDefault()}),onFocus:Ke(r.onFocus,()=>h.onItemFocus(d)),onKeyDown:Ke(r.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){h.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const A=kq(w,h.orientation,h.dir);if(A!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let I=y().filter(T=>T.focusable).map(T=>T.ref.current);if(A==="last")I.reverse();else if(A==="prev"||A==="next"){A==="prev"&&I.reverse();const T=I.indexOf(w.currentTarget);I=h.loop?_q(I,T+1):I.slice(T+1)}setTimeout(()=>zI(I))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:x!=null}):o})})});LI.displayName=DI;var bq={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function wq(r,e){return e!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function kq(r,e,t){const n=wq(r.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return bq[n]}function zI(r,e=!1){const t=document.activeElement;for(const n of r)if(n===t||(n.focus({preventScroll:e}),document.activeElement!==t))return}function _q(r,e){return r.map((t,n)=>r[(e+n)%r.length])}var FI=OI,BI=LI,o1=["Enter"," "],Eq=["ArrowDown","PageUp","Home"],$I=["ArrowUp","PageDown","End"],Cq=[...Eq,...$I],Sq={ltr:[...o1,"ArrowRight"],rtl:[...o1,"ArrowLeft"]},Nq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},am="Menu",[Ap,Tq,Aq]=zy(am),[Pu,UI]=co(am,[Aq,Ef,Jy]),Qy=Ef(),qI=Jy(),[jq,Ru]=Pu(am),[Pq,lm]=Pu(am),WI=r=>{const{__scopeMenu:e,open:t=!1,children:n,dir:i,onOpenChange:s,modal:o=!0}=r,a=Qy(e),[u,d]=C.useState(null),h=C.useRef(!1),p=fa(s),y=rm(i);return C.useEffect(()=>{const m=()=>{h.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>h.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),l.jsx($k,{...a,children:l.jsx(jq,{scope:e,open:t,onOpenChange:p,content:u,onContentChange:d,children:l.jsx(Pq,{scope:e,onClose:C.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:h,dir:y,modal:o,children:n})})})};WI.displayName=am;var Rq="MenuAnchor",e_=C.forwardRef((r,e)=>{const{__scopeMenu:t,...n}=r,i=Qy(t);return l.jsx(Uk,{...i,...n,ref:e})});e_.displayName=Rq;var t_="MenuPortal",[Iq,HI]=Pu(t_,{forceMount:void 0}),VI=r=>{const{__scopeMenu:e,forceMount:t,children:n,container:i}=r,s=Ru(t_,e);return l.jsx(Iq,{scope:e,forceMount:t,children:l.jsx(uo,{present:t||s.open,children:l.jsx(sm,{asChild:!0,container:i,children:n})})})};VI.displayName=t_;var io="MenuContent",[Mq,r_]=Pu(io),GI=C.forwardRef((r,e)=>{const t=HI(io,r.__scopeMenu),{forceMount:n=t.forceMount,...i}=r,s=Ru(io,r.__scopeMenu),o=lm(io,r.__scopeMenu);return l.jsx(Ap.Provider,{scope:r.__scopeMenu,children:l.jsx(uo,{present:n||s.open,children:l.jsx(Ap.Slot,{scope:r.__scopeMenu,children:o.modal?l.jsx(Oq,{...i,ref:e}):l.jsx(Dq,{...i,ref:e})})})})}),Oq=C.forwardRef((r,e)=>{const t=Ru(io,r.__scopeMenu),n=C.useRef(null),i=gr(e,n);return C.useEffect(()=>{const s=n.current;if(s)return Hk(s)},[]),l.jsx(n_,{...r,ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Ke(r.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),Dq=C.forwardRef((r,e)=>{const t=Ru(io,r.__scopeMenu);return l.jsx(n_,{...r,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),Lq=yu("MenuContent.ScrollLock"),n_=C.forwardRef((r,e)=>{const{__scopeMenu:t,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:u,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:y,onDismiss:m,disableOutsideScroll:b,...x}=r,w=Ru(io,t),A=lm(io,t),P=Qy(t),I=qI(t),T=Tq(t),[U,B]=C.useState(null),H=C.useRef(null),G=gr(e,H,w.onContentChange),W=C.useRef(0),V=C.useRef(""),K=C.useRef(0),q=C.useRef(null),D=C.useRef("right"),v=C.useRef(0),S=b?Hy:C.Fragment,_=b?{as:Lq,allowPinchZoom:!0}:void 0,j=z=>{var Q,Z;const E=V.current+z,M=T().filter(te=>!te.disabled),N=document.activeElement,R=(Q=M.find(te=>te.ref.current===N))==null?void 0:Q.textValue,X=M.map(te=>te.textValue),$=Yq(X,E,R),Y=(Z=M.find(te=>te.textValue===$))==null?void 0:Z.ref.current;(function te(ce){V.current=ce,window.clearTimeout(W.current),ce!==""&&(W.current=window.setTimeout(()=>te(""),1e3))})(E),Y&&setTimeout(()=>Y.focus())};C.useEffect(()=>()=>window.clearTimeout(W.current),[]),Pk();const O=C.useCallback(z=>{var M,N;return D.current===((M=q.current)==null?void 0:M.side)&&Qq(z,(N=q.current)==null?void 0:N.area)},[]);return l.jsx(Mq,{scope:t,searchRef:V,onItemEnter:C.useCallback(z=>{O(z)&&z.preventDefault()},[O]),onItemLeave:C.useCallback(z=>{var E;O(z)||((E=H.current)==null||E.focus(),B(null))},[O]),onTriggerLeave:C.useCallback(z=>{O(z)&&z.preventDefault()},[O]),pointerGraceTimerRef:K,onPointerGraceIntentChange:C.useCallback(z=>{q.current=z},[]),children:l.jsx(S,{..._,children:l.jsx(Fy,{asChild:!0,trapped:i,onMountAutoFocus:Ke(s,z=>{var E;z.preventDefault(),(E=H.current)==null||E.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(nm,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:y,onDismiss:m,children:l.jsx(FI,{asChild:!0,...I,dir:A.dir,orientation:"vertical",loop:n,currentTabStopId:U,onCurrentTabStopIdChange:B,onEntryFocus:Ke(u,z=>{A.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(qk,{role:"menu","aria-orientation":"vertical","data-state":cM(w.open),"data-radix-menu-content":"",dir:A.dir,...P,...x,ref:G,style:{outline:"none",...x.style},onKeyDown:Ke(x.onKeyDown,z=>{const M=z.target.closest("[data-radix-menu-content]")===z.currentTarget,N=z.ctrlKey||z.altKey||z.metaKey,R=z.key.length===1;M&&(z.key==="Tab"&&z.preventDefault(),!N&&R&&j(z.key));const X=H.current;if(z.target!==X||!Cq.includes(z.key))return;z.preventDefault();const Y=T().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);$I.includes(z.key)&&Y.reverse(),Gq(Y)}),onBlur:Ke(r.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(W.current),V.current="")}),onPointerMove:Ke(r.onPointerMove,jp(z=>{const E=z.target,M=v.current!==z.clientX;if(z.currentTarget.contains(E)&&M){const N=z.clientX>v.current?"right":"left";D.current=N,v.current=z.clientX}}))})})})})})})});GI.displayName=io;var zq="MenuGroup",i_=C.forwardRef((r,e)=>{const{__scopeMenu:t,...n}=r;return l.jsx(Ot.div,{role:"group",...n,ref:e})});i_.displayName=zq;var Fq="MenuLabel",KI=C.forwardRef((r,e)=>{const{__scopeMenu:t,...n}=r;return l.jsx(Ot.div,{...n,ref:e})});KI.displayName=Fq;var ry="MenuItem",QN="menu.itemSelect",Xy=C.forwardRef((r,e)=>{const{disabled:t=!1,onSelect:n,...i}=r,s=C.useRef(null),o=lm(ry,r.__scopeMenu),a=r_(ry,r.__scopeMenu),u=gr(e,s),d=C.useRef(!1),h=()=>{const p=s.current;if(!t&&p){const y=new CustomEvent(QN,{bubbles:!0,cancelable:!0});p.addEventListener(QN,m=>n==null?void 0:n(m),{once:!0}),SP(p,y),y.defaultPrevented?d.current=!1:o.onClose()}};return l.jsx(YI,{...i,ref:u,disabled:t,onClick:Ke(r.onClick,h),onPointerDown:p=>{var y;(y=r.onPointerDown)==null||y.call(r,p),d.current=!0},onPointerUp:Ke(r.onPointerUp,p=>{var y;d.current||(y=p.currentTarget)==null||y.click()}),onKeyDown:Ke(r.onKeyDown,p=>{const y=a.searchRef.current!=="";t||y&&p.key===" "||o1.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Xy.displayName=ry;var YI=C.forwardRef((r,e)=>{const{__scopeMenu:t,disabled:n=!1,textValue:i,...s}=r,o=r_(ry,t),a=qI(t),u=C.useRef(null),d=gr(e,u),[h,p]=C.useState(!1),[y,m]=C.useState("");return C.useEffect(()=>{const b=u.current;b&&m((b.textContent??"").trim())},[s.children]),l.jsx(Ap.ItemSlot,{scope:t,disabled:n,textValue:i??y,children:l.jsx(BI,{asChild:!0,...a,focusable:!n,children:l.jsx(Ot.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:d,onPointerMove:Ke(r.onPointerMove,jp(b=>{n?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ke(r.onPointerLeave,jp(b=>o.onItemLeave(b))),onFocus:Ke(r.onFocus,()=>p(!0)),onBlur:Ke(r.onBlur,()=>p(!1))})})})}),Bq="MenuCheckboxItem",JI=C.forwardRef((r,e)=>{const{checked:t=!1,onCheckedChange:n,...i}=r;return l.jsx(tM,{scope:r.__scopeMenu,checked:t,children:l.jsx(Xy,{role:"menuitemcheckbox","aria-checked":ny(t)?"mixed":t,...i,ref:e,"data-state":o_(t),onSelect:Ke(i.onSelect,()=>n==null?void 0:n(ny(t)?!0:!t),{checkForDefaultPrevented:!1})})})});JI.displayName=Bq;var QI="MenuRadioGroup",[$q,Uq]=Pu(QI,{value:void 0,onValueChange:()=>{}}),XI=C.forwardRef((r,e)=>{const{value:t,onValueChange:n,...i}=r,s=fa(n);return l.jsx($q,{scope:r.__scopeMenu,value:t,onValueChange:s,children:l.jsx(i_,{...i,ref:e})})});XI.displayName=QI;var ZI="MenuRadioItem",eM=C.forwardRef((r,e)=>{const{value:t,...n}=r,i=Uq(ZI,r.__scopeMenu),s=t===i.value;return l.jsx(tM,{scope:r.__scopeMenu,checked:s,children:l.jsx(Xy,{role:"menuitemradio","aria-checked":s,...n,ref:e,"data-state":o_(s),onSelect:Ke(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,t)},{checkForDefaultPrevented:!1})})})});eM.displayName=ZI;var s_="MenuItemIndicator",[tM,qq]=Pu(s_,{checked:!1}),rM=C.forwardRef((r,e)=>{const{__scopeMenu:t,forceMount:n,...i}=r,s=qq(s_,t);return l.jsx(uo,{present:n||ny(s.checked)||s.checked===!0,children:l.jsx(Ot.span,{...i,ref:e,"data-state":o_(s.checked)})})});rM.displayName=s_;var Wq="MenuSeparator",nM=C.forwardRef((r,e)=>{const{__scopeMenu:t,...n}=r;return l.jsx(Ot.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});nM.displayName=Wq;var Hq="MenuArrow",iM=C.forwardRef((r,e)=>{const{__scopeMenu:t,...n}=r,i=Qy(t);return l.jsx(Wk,{...i,...n,ref:e})});iM.displayName=Hq;var Vq="MenuSub",[lie,sM]=Pu(Vq),Dh="MenuSubTrigger",oM=C.forwardRef((r,e)=>{const t=Ru(Dh,r.__scopeMenu),n=lm(Dh,r.__scopeMenu),i=sM(Dh,r.__scopeMenu),s=r_(Dh,r.__scopeMenu),o=C.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:u}=s,d={__scopeMenu:r.__scopeMenu},h=C.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return C.useEffect(()=>h,[h]),C.useEffect(()=>{const p=a.current;return()=>{window.clearTimeout(p),u(null)}},[a,u]),l.jsx(e_,{asChild:!0,...d,children:l.jsx(YI,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":cM(t.open),...r,ref:Ly(e,i.onTriggerChange),onClick:p=>{var y;(y=r.onClick)==null||y.call(r,p),!(r.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Ke(r.onPointerMove,jp(p=>{s.onItemEnter(p),!p.defaultPrevented&&!r.disabled&&!t.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{t.onOpenChange(!0),h()},100))})),onPointerLeave:Ke(r.onPointerLeave,jp(p=>{var m,b;h();const y=(m=t.content)==null?void 0:m.getBoundingClientRect();if(y){const x=(b=t.content)==null?void 0:b.dataset.side,w=x==="right",A=w?-5:5,P=y[w?"left":"right"],I=y[w?"right":"left"];s.onPointerGraceIntentChange({area:[{x:p.clientX+A,y:p.clientY},{x:P,y:y.top},{x:I,y:y.top},{x:I,y:y.bottom},{x:P,y:y.bottom}],side:x}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(p),p.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ke(r.onKeyDown,p=>{var m;const y=s.searchRef.current!=="";r.disabled||y&&p.key===" "||Sq[n.dir].includes(p.key)&&(t.onOpenChange(!0),(m=t.content)==null||m.focus(),p.preventDefault())})})})});oM.displayName=Dh;var aM="MenuSubContent",lM=C.forwardRef((r,e)=>{const t=HI(io,r.__scopeMenu),{forceMount:n=t.forceMount,...i}=r,s=Ru(io,r.__scopeMenu),o=lm(io,r.__scopeMenu),a=sM(aM,r.__scopeMenu),u=C.useRef(null),d=gr(e,u);return l.jsx(Ap.Provider,{scope:r.__scopeMenu,children:l.jsx(uo,{present:n||s.open,children:l.jsx(Ap.Slot,{scope:r.__scopeMenu,children:l.jsx(n_,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var p;o.isUsingKeyboardRef.current&&((p=u.current)==null||p.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Ke(r.onFocusOutside,h=>{h.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ke(r.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:Ke(r.onKeyDown,h=>{var m;const p=h.currentTarget.contains(h.target),y=Nq[o.dir].includes(h.key);p&&y&&(s.onOpenChange(!1),(m=a.trigger)==null||m.focus(),h.preventDefault())})})})})})});lM.displayName=aM;function cM(r){return r?"open":"closed"}function ny(r){return r==="indeterminate"}function o_(r){return ny(r)?"indeterminate":r?"checked":"unchecked"}function Gq(r){const e=document.activeElement;for(const t of r)if(t===e||(t.focus(),document.activeElement!==e))return}function Kq(r,e){return r.map((t,n)=>r[(e+n)%r.length])}function Yq(r,e,t){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=t?r.indexOf(t):-1;let o=Kq(r,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==t));const u=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return u!==t?u:void 0}function Jq(r,e){const{x:t,y:n}=r;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],u=e[o],d=a.x,h=a.y,p=u.x,y=u.y;h>n!=y>n&&t<(p-d)*(n-h)/(y-h)+d&&(i=!i)}return i}function Qq(r,e){if(!e)return!1;const t={x:r.clientX,y:r.clientY};return Jq(t,e)}function jp(r){return e=>e.pointerType==="mouse"?r(e):void 0}var Xq=WI,Zq=e_,eW=VI,tW=GI,rW=i_,nW=KI,iW=Xy,sW=JI,oW=XI,aW=eM,lW=rM,cW=nM,uW=iM,dW=oM,fW=lM,Zy="DropdownMenu",[hW,cie]=co(Zy,[UI]),zi=UI(),[pW,uM]=hW(Zy),dM=r=>{const{__scopeDropdownMenu:e,children:t,dir:n,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=r,u=zi(e),d=C.useRef(null),[h,p]=Oo({prop:i,defaultProp:s??!1,onChange:o,caller:Zy});return l.jsx(pW,{scope:e,triggerId:Ts(),triggerRef:d,contentId:Ts(),open:h,onOpenChange:p,onOpenToggle:C.useCallback(()=>p(y=>!y),[p]),modal:a,children:l.jsx(Xq,{...u,open:h,onOpenChange:p,dir:n,modal:a,children:t})})};dM.displayName=Zy;var fM="DropdownMenuTrigger",hM=C.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,disabled:n=!1,...i}=r,s=uM(fM,t),o=zi(t);return l.jsx(Zq,{asChild:!0,...o,children:l.jsx(Ot.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:Ly(e,s.triggerRef),onPointerDown:Ke(r.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Ke(r.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});hM.displayName=fM;var mW="DropdownMenuPortal",pM=r=>{const{__scopeDropdownMenu:e,...t}=r,n=zi(e);return l.jsx(eW,{...n,...t})};pM.displayName=mW;var mM="DropdownMenuContent",gM=C.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,i=uM(mM,t),s=zi(t),o=C.useRef(!1);return l.jsx(tW,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:e,onCloseAutoFocus:Ke(r.onCloseAutoFocus,a=>{var u;o.current||(u=i.triggerRef.current)==null||u.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Ke(r.onInteractOutside,a=>{const u=a.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,h=u.button===2||d;(!i.modal||h)&&(o.current=!0)}),style:{...r.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gM.displayName=mM;var gW="DropdownMenuGroup",yW=C.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,i=zi(t);return l.jsx(rW,{...i,...n,ref:e})});yW.displayName=gW;var xW="DropdownMenuLabel",vW=C.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,i=zi(t);return l.jsx(nW,{...i,...n,ref:e})});vW.displayName=xW;var bW="DropdownMenuItem",yM=C.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,i=zi(t);return l.jsx(iW,{...i,...n,ref:e})});yM.displayName=bW;var wW="DropdownMenuCheckboxItem",kW=C.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,i=zi(t);return l.jsx(sW,{...i,...n,ref:e})});kW.displayName=wW;var _W="DropdownMenuRadioGroup",EW=C.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,i=zi(t);return l.jsx(oW,{...i,...n,ref:e})});EW.displayName=_W;var CW="DropdownMenuRadioItem",SW=C.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,i=zi(t);return l.jsx(aW,{...i,...n,ref:e})});SW.displayName=CW;var NW="DropdownMenuItemIndicator",TW=C.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,i=zi(t);return l.jsx(lW,{...i,...n,ref:e})});TW.displayName=NW;var AW="DropdownMenuSeparator",jW=C.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,i=zi(t);return l.jsx(cW,{...i,...n,ref:e})});jW.displayName=AW;var PW="DropdownMenuArrow",RW=C.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,i=zi(t);return l.jsx(uW,{...i,...n,ref:e})});RW.displayName=PW;var IW="DropdownMenuSubTrigger",MW=C.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,i=zi(t);return l.jsx(dW,{...i,...n,ref:e})});MW.displayName=IW;var OW="DropdownMenuSubContent",DW=C.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,i=zi(t);return l.jsx(fW,{...i,...n,ref:e,style:{...r.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DW.displayName=OW;var LW=dM,zW=hM,FW=pM,BW=gM,$W=yM;function UW({...r}){return l.jsx(LW,{"data-slot":"dropdown-menu",...r})}function qW({...r}){return l.jsx(zW,{"data-slot":"dropdown-menu-trigger",...r})}function WW({className:r,align:e="center",sideOffset:t=4,collisionPadding:n=8,avoidCollisions:i=!0,...s}){return l.jsx(FW,{children:l.jsx(BW,{"data-slot":"dropdown-menu-content",align:e,sideOffset:t,collisionPadding:n,avoidCollisions:i,className:ct("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",r),...s})})}function Mb({className:r,inset:e,variant:t="default",...n}){return l.jsx($W,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":t,className:ct("focus:bg-accent focus:text-accent-foreground data-[variant=default]:hover:bg-[#614E41]/10 data-[variant=default]:focus:bg-[#614E41]/15 data-[variant=default]:active:bg-[#614E41]/20 data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...n})}const HW=()=>{const{connected:r,address:e,formatAddress:t,disconnect:n,connectWallet:i,provider:s,chainId:o}=ur(),{contracts:a,getContractInstance:u}=Cr(),{theme:d,cycleTheme:h,getCurrentTheme:p}=Oy(),{isMobile:y,isInitialized:m}=Wr(),[b,x]=C.useState(!1),A=Tu().pathname==="/",P=async()=>{try{await i("metamask")}catch(E){console.error("Failed to connect wallet:",E)}},[I,T]=C.useState(""),[U,B]=C.useState([]),[H,G]=C.useState(!1),[W,V]=C.useState([]),K=C.useRef(null),q=Do(),[D,v]=C.useState(!1),[S,_]=C.useState(!1),j=C.useRef(null),O=C.useRef(!1);C.useEffect(()=>{const E=M=>{const N=M.target.closest(".mobile-component-container")||M.target.closest("[data-dashboard-card]")||M.target.closest("[data-profile-tab]")||M.target.closest(".dashboard-component")||M.target.closest(".profile-dashboard"),R=M.target.closest("[data-search-container]")||j.current&&j.current.contains(M.target);N||b&&!R&&!D&&(x(!1),_(!1),T(""),B([]))};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[b,D]),C.useEffect(()=>{(async()=>{if(!(!s||!o||!$t[o])&&!O.current)try{const M=$t[o].contractAddresses.protocolManager;if(!M){V([]),O.current=!0;return}const R=await new At(M,gt.protocolManager,s).getAllPools();if(!R||R.length===0){V([]),O.current=!0;return}const X=R.map(async Q=>{try{if(!s)return null;const te=await new At(Q,gt.pool,s).name();return{address:Q,name:te}}catch{return null}}),Y=(await Promise.all(X)).filter(Q=>Q);V(Y),O.current=!0}catch{V([]),O.current=!0}})()},[s,o]),C.useEffect(()=>{},[W]),C.useEffect(()=>{if(!b||!I){B([]);return}G(!0);const E=setTimeout(()=>{const M=I.trim().toLowerCase(),N=W.filter(R=>(R.name||"").trim().toLowerCase().includes(M)||(R.address||"").trim().toLowerCase()===M||(R.address||"").trim().toLowerCase().includes(M));B(N),G(!1)},300);return()=>clearTimeout(E)},[I,b,W]);const z=E=>{const M=o&&$t[o]?$t[o].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):o||"",N=M?`/${M}/raffle/${E}`:`/raffle/${E}`;q(N),setTimeout(()=>{x(!1),T(""),B([])},150)};return C.useEffect(()=>{O.current=!1},[s,o]),l.jsx(l.Fragment,{children:m?y?l.jsx(hq,{children:l.jsx(fq,{})}):l.jsx("header",{className:"relative w-full z-50 bg-background/80 backdrop-blur-md border-b border-[#614E41]",children:l.jsx("div",{className:"w-full px-0 py-0",children:l.jsx("div",{className:"bg-background/80 backdrop-blur-md border-b border-[#614E41] w-full",children:l.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[l.jsx("div",{className:"flex items-center gap-3",children:A?l.jsx("span",{className:"flex items-center gap-3 cursor-default select-none",children:l.jsx(Id,{size:"md"})}):r?l.jsx(su,{to:"/app",className:"flex items-center gap-3 outline-none focus:outline-none focus-visible:outline-none focus:ring-0 focus-visible:ring-0",children:l.jsx(Id,{size:"md",className:"hover:opacity-80"})}):l.jsx("span",{className:"flex items-center gap-3 cursor-default select-none",children:l.jsx(Id,{size:"md"})})}),l.jsx("div",{className:"flex items-center gap-4 w-full justify-end",children:A?l.jsx(l.Fragment,{children:l.jsxs("button",{onClick:h,className:"p-2 hover:bg-muted rounded-md transition-colors",title:`Current: ${p().name} - Click to cycle themes`,children:[p().icon==="Sun"&&l.jsx(G0,{className:"h-5 w-5"}),p().icon==="Moon"&&l.jsx(V0,{className:"h-5 w-5"}),p().icon==="Monitor"&&l.jsx(H0,{className:"h-5 w-5"})]})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center transition-all duration-300",style:{minWidth:"40px",marginRight:"0.5rem"},children:[l.jsx("button",{className:`p-2 hover:bg-muted rounded-md transition-colors text-lg ${b?"mr-2":""}`,onClick:()=>{x(E=>(E?_(!1):setTimeout(()=>{_(!0),K.current&&K.current.focus()},300),!E))},children:l.jsx(Ua,{className:"h-5 w-5"})}),l.jsxs("div",{ref:j,"data-search-container":!0,className:"overflow-visible transition-all duration-300 rounded-md bg-background",style:{width:b?"16rem":"0",marginLeft:"0",position:"relative",display:"inline-block",verticalAlign:"middle",overflow:"visible"},children:[l.jsx("input",{ref:K,type:"text",className:`transition-all duration-300 px-3 py-2 rounded-md bg-background text-sm ${S?"focus:outline-none focus:ring-2 focus:ring-primary border border-border":"border-0 outline-none shadow-none"} ${b?"w-64 opacity-100":"w-0 opacity-0 overflow-hidden"}`,style:{minWidth:b?"16rem":"0",maxWidth:b?"16rem":"0",boxSizing:"border-box",border:S?void 0:"none",outline:S?void 0:"none",boxShadow:S?void 0:"none",visibility:b?"visible":"hidden",pointerEvents:S?"auto":"none"},placeholder:"Search raffle name or address...",value:I,onChange:E=>{const M=E.target.value;T(M)},autoFocus:S}),b&&l.jsxs("div",{className:"absolute left-0 top-full mt-1 z-50 w-full",style:{boxSizing:"border-box",position:"absolute",top:"100%",left:0,right:0,zIndex:9999},onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),children:[H&&l.jsx("div",{className:"p-2 text-muted-foreground text-xs bg-muted border border-border rounded",children:"Searching..."}),!H&&U.length>0&&l.jsx("div",{className:"bg-popover/90 backdrop-blur-md border border-border/50 rounded-xl max-h-60 overflow-y-auto shadow-xl custom-search-scrollbar",style:{overflowX:"hidden"},children:U.map(E=>l.jsxs("div",{className:"px-3 py-2 hover:bg-muted cursor-pointer text-sm border-b border-border/20",onMouseDown:()=>z(E.address),children:[l.jsx("div",{className:"font-semibold text-foreground",children:E.name}),l.jsx("div",{className:"text-xs text-muted-foreground font-mono",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block",maxWidth:"100%"},title:E.address,children:E.address})]},E.address))}),!H&&I&&U.length===0&&l.jsx("div",{className:"p-2 text-muted-foreground text-xs bg-muted border border-border rounded",children:"No results found."})]})]})]}),l.jsxs("button",{onClick:h,className:"p-2 hover:bg-muted rounded-md transition-colors",title:`Current: ${p().name} - Click to cycle themes`,children:[p().icon==="Sun"&&l.jsx(G0,{className:"h-5 w-5"}),p().icon==="Moon"&&l.jsx(V0,{className:"h-5 w-5"}),p().icon==="Monitor"&&l.jsx(H0,{className:"h-5 w-5"})]}),l.jsx(dI,{}),r?l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 header-accent-surface border border-[#614E41] rounded-md text-sm font-medium",children:[l.jsx("span",{children:t(e)}),l.jsx("button",{onClick:n,title:"Disconnect Wallet",className:"hover:bg-destructive/10 rounded-full p-1 transition-colors",children:l.jsx(PB,{className:"h-4 w-4 text-foreground opacity-80"})})]}):l.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-3 py-2 header-accent-surface text-foreground border border-[#614E41] rounded-md text-sm hover:opacity-95 transition-colors",children:[l.jsx(Ww,{className:"h-4 w-4"}),l.jsx("span",{children:"Connect Wallet"})]}),l.jsxs(UW,{children:[l.jsx(qW,{asChild:!0,children:l.jsx("button",{className:"inline-flex items-center justify-center h-9 w-9 rounded-md hover:bg-muted transition-colors","aria-label":"Open menu",children:l.jsx(wP,{className:"h-5 w-5"})})}),l.jsxs(WW,{align:"end",sideOffset:8,collisionPadding:8,className:"w-56 bg-popover/90 backdrop-blur-md border border-[#614E41] mt-2 rounded-xl shadow-2xl py-2 z-40 ring-1 ring-border/20 flex flex-col",children:[l.jsx(Mb,{asChild:!0,children:l.jsxs("a",{href:"https://rafflhub.gitbook.io/rafflhub",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-primary/10 transition-colors rounded-lg",children:[l.jsx(wB,{className:"h-5 w-5"})," Docs"]})}),l.jsx(Mb,{asChild:!0,children:l.jsxs(su,{to:"/profile",className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-primary/10 transition-colors rounded-lg",children:[l.jsx(FB,{className:"h-5 w-5"})," Profile"]})}),l.jsx(Mb,{asChild:!0,children:l.jsxs(su,{to:"/create-raffle",className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-primary/10 transition-colors rounded-lg",children:[l.jsx(sa,{className:"h-5 w-5"})," Create Raffle"]})})]})]})]})})]})})})}):l.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md border-b border-[#614E41]",children:l.jsx("div",{className:"flex items-center justify-between h-16 px-4",children:l.jsx("div",{className:"flex items-center",children:l.jsx(Id,{size:"sm"})})})})})},Va=({children:r,variant:e="default",className:t=""})=>{const{isMobile:n}=Wr(),s=(()=>{switch(e){case"narrow":return"mx-auto px-4 sm:px-6 md:px-8 lg:px-12 xl:px-20 2xl:px-32";case"wide":return"container mx-auto px-4 sm:px-6 md:px-8 lg:px-12 xl:px-16 2xl:px-20";case"profile":return n?"mx-auto px-4":"mx-auto px-2 sm:px-3 md:px-4 lg:px-6 xl:px-8 2xl:px-10";case"default":default:return n?"mx-auto px-4":"mx-auto px-2 sm:px-3 md:px-4 lg:px-6 xl:px-8 2xl:px-10"}})();return l.jsx("div",{className:`${s} ${t}`,children:r})},VW=({className:r})=>l.jsx("svg",{className:r,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M13.54 12a6.8 6.8 0 01-6.77 6.82A6.8 6.8 0 010 12a6.8 6.8 0 016.77-6.82A6.8 6.8 0 0113.54 12zM20.96 12c0 3.54-1.51 6.42-3.38 6.42-1.87 0-3.39-2.88-3.39-6.42s1.52-6.42 3.39-6.42 3.38 2.88 3.38 6.42M24 12c0 3.17-.53 5.75-1.19 5.75-.66 0-1.19-2.58-1.19-5.75s.53-5.75 1.19-5.75C23.47 6.25 24 8.83 24 12z"})}),GW=()=>{const r=new Date().getFullYear();return l.jsx("footer",{className:"bg-background/80 backdrop-blur-md border-t border-[#614E41] mt-auto shrink-0",children:l.jsx("div",{className:"w-full px-4 sm:px-8 lg:px-12 py-2 sm:py-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between justify-center items-center gap-2 sm:gap-4 w-full min-h-[44px] sm:min-h-0 text-center",children:[l.jsxs("div",{className:"text-sm text-muted-foreground sm:ml-0 flex-shrink-0",children:[" ",r," Rafflhub. All rights reserved."]}),l.jsxs("div",{className:"flex items-center gap-4 sm:gap-4 sm:mr-0 flex-shrink-0 justify-center",children:[l.jsx("a",{href:"https://medium.com/@rafflhub",target:"_blank",rel:"noopener noreferrer",className:"p-2 text-muted-foreground hover:text-foreground transition-colors duration-200 hover:bg-muted rounded-md",title:"Medium",children:l.jsx(VW,{className:"h-5 w-5"})}),l.jsx("a",{href:"https://twitter.com/rafflhub",target:"_blank",rel:"noopener noreferrer",className:"p-2 text-muted-foreground hover:text-foreground transition-colors duration-200 hover:bg-muted rounded-md",title:"Twitter",children:l.jsx(K0,{className:"h-5 w-5"})})]})]})})})};function In({className:r,...e}){return l.jsx("div",{"data-slot":"card",className:ct("bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex flex-col gap-6 hover:border-border/80",r),...e})}function Zs({className:r,...e}){return l.jsx("div",{"data-slot":"card-header",className:ct("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 py-4 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...e})}function eo({className:r,...e}){return l.jsx("div",{"data-slot":"card-title",className:ct("leading-none font-semibold",r),...e})}function Pp({className:r,...e}){return l.jsx("div",{"data-slot":"card-description",className:ct("text-muted-foreground text-sm",r),...e})}function Mn({className:r,...e}){return l.jsx("div",{"data-slot":"card-content",className:ct("px-6 py-6",r),...e})}class KW extends ve.Component{constructor(t){super(t);hg(this,"handleRetry",()=>{this.setState(t=>({hasError:!1,error:null,errorInfo:null,retryCount:t.retryCount+1}))});hg(this,"handleGoHome",()=>{window.location.href="/"});hg(this,"getBrowserSpecificErrorInfo",()=>{const{error:t,browserInfo:n}=this.state,i=(t==null?void 0:t.message)||(t==null?void 0:t.toString())||"Unknown error";if(i.includes("missing revert data")||i.includes("call exception")||i.includes("CALL_EXCEPTION"))return{title:"Network Connection Issue",message:`Your browser (${(n==null?void 0:n.name)||"unknown"}) is experiencing connectivity issues with the blockchain network.`,suggestions:["Check your internet connection","Try refreshing the page","Switch to a different network and back",(n==null?void 0:n.name)==="firefox"?"Firefox may need extra time - please be patient":"Try using Chrome for better compatibility"]};if(i.includes("MetaMask")||i.includes("wallet"))return{title:"Wallet Connection Issue",message:"There was a problem connecting to your wallet.",suggestions:["Make sure MetaMask is installed and unlocked","Try disconnecting and reconnecting your wallet","Refresh the page and try again"]};const s=["Refresh the page and try again"];return(n==null?void 0:n.name)==="firefox"?s.push("Firefox users may experience slower loading - please be patient"):(n==null?void 0:n.name)==="safari"?s.push("Safari users should ensure they have the latest version"):(n==null?void 0:n.name)==="edge"&&s.push("Edge users may need to clear browser cache"),n!=null&&n.isMobile&&s.push("Mobile users: ensure stable internet connection"),{title:"Something went wrong",message:"An unexpected error occurred while loading the application.",suggestions:s}});this.state={hasError:!1,error:null,errorInfo:null,retryCount:0,browserInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){const i=Ek();this.setState({error:t,errorInfo:n,browserInfo:i}),console.group(" Error Boundary Caught Error"),console.log("Browser:",i),console.log("Error:",t),console.log("Error Info:",n),console.groupEnd(),window.gtag&&window.gtag("event","exception",{description:t.toString(),fatal:!1,custom_parameters:{browser:i.name,browser_version:i.version,is_mobile:i.isMobile}})}render(){if(this.state.hasError){const{isMobile:t=!1,fallbackComponent:n}=this.props,{error:i,retryCount:s,browserInfo:o}=this.state,a=this.getBrowserSpecificErrorInfo();return n?n(i,this.handleRetry,this.handleGoHome):t?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:l.jsxs(In,{className:"w-full max-w-md",children:[l.jsxs(Zs,{className:"text-center",children:[l.jsx(yN,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),l.jsx(eo,{className:"text-lg",children:a.title})]}),l.jsxs(Mn,{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground text-center",children:a.message}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-semibold text-sm",children:"Try these solutions:"}),l.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:a.suggestions.map((u,d)=>l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"mr-2",children:""}),l.jsx("span",{children:u})]},d))})]}),s<3&&l.jsxs(ut,{onClick:this.handleRetry,className:"w-full",variant:"default",children:[l.jsx(tf,{className:"h-4 w-4 mr-2"}),"Try Again"]}),l.jsxs(ut,{onClick:this.handleGoHome,variant:"outline",className:"w-full",children:[l.jsx(vN,{className:"h-4 w-4 mr-2"}),"Go Home"]}),!1]})]})}):l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:l.jsxs(In,{className:"w-full max-w-2xl",children:[l.jsxs(Zs,{className:"text-center",children:[l.jsx(yN,{className:"h-16 w-16 text-destructive mx-auto mb-6"}),l.jsx(eo,{className:"text-2xl",children:"Oops! Something went wrong"})]}),l.jsxs(Mn,{className:"space-y-6",children:[l.jsx("p",{className:"text-muted-foreground text-center",children:"The application encountered an unexpected error. This could be due to:"}),l.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 max-w-md mx-auto",children:[l.jsx("li",{children:" Network connectivity issues"}),l.jsx("li",{children:" Blockchain RPC provider problems"}),l.jsx("li",{children:" Temporary service disruption"}),l.jsx("li",{children:" Browser compatibility issues"})]}),l.jsxs("div",{className:"flex gap-4 justify-center",children:[s<3&&l.jsxs(ut,{onClick:this.handleRetry,variant:"default",children:[l.jsx(tf,{className:"h-4 w-4 mr-2"}),"Try Again"]}),l.jsxs(ut,{onClick:this.handleGoHome,variant:"outline",children:[l.jsx(vN,{className:"h-4 w-4 mr-2"}),"Return Home"]})]}),!1]})]})})}return this.props.children}}const YW=Jk("inline-flex items-center justify-center rounded-full border px-2 py-1 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20",outline:"text-foreground [a&]:hover:bg-muted"}},defaultVariants:{variant:"default"}});function Jl({className:r,variant:e,asChild:t=!1,...n}){const i=t?EP:"span";return l.jsx(i,{"data-slot":"badge",className:ct(YW({variant:e}),r),...n})}const JW=()=>{const[r,e]=C.useState(!1);return C.useEffect(()=>{},[!1]),{component:null}},QW=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),xM=()=>{QW&&console.log("Mobile keyboard fix initialized (simplified version)")},vM=()=>{console.log("Mobile keyboard fix cleanup (simplified version)")},XW=xM,ZW=vM;let Ob=null;function eH(){if(typeof window>"u"||typeof document>"u")return()=>{};const r={capture:!0},e=t=>{const n=t.target;if(!n||!(n instanceof Element))return;const i=n.closest('input[type="number"]');i&&(i.disabled||i.readOnly||i.dataset&&i.dataset.wheelAllowed==="true"||i.blur())};return document.addEventListener("wheel",e,r),Ob=()=>{document.removeEventListener("wheel",e,r),Ob=null},Ob}function Da(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function bM(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var js={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},af={duration:.5,overwrite:!1,delay:0},a_,ri,Vr,to=1e8,Pr=1/to,a1=Math.PI*2,tH=a1/4,rH=0,wM=Math.sqrt,nH=Math.cos,iH=Math.sin,Vn=function(e){return typeof e=="string"},cn=function(e){return typeof e=="function"},Xa=function(e){return typeof e=="number"},l_=function(e){return typeof e>"u"},pa=function(e){return typeof e=="object"},Qi=function(e){return e!==!1},c_=function(){return typeof window<"u"},Ig=function(e){return cn(e)||Vn(e)},kM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},wi=Array.isArray,l1=/(?:-?\.?\d|\.)+/gi,_M=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Md=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Db=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,EM=/[+-]=-?[.\d]+/,CM=/[^,'"\[\]\s]+/gi,sH=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,nn,Zo,c1,u_,Rs={},iy={},SM,NM=function(e){return(iy=lf(e,Rs))&&ts},d_=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Rp=function(e,t){return!t&&console.warn(e)},TM=function(e,t){return e&&(Rs[e]=t)&&iy&&(iy[e]=t)||Rs},Ip=function(){return 0},oH={suppressEvents:!0,isStart:!0,kill:!1},_0={suppressEvents:!0,kill:!1},aH={suppressEvents:!0},f_={},Ql=[],u1={},AM,ms={},Lb={},XN=30,E0=[],h_="",p_=function(e){var t=e[0],n,i;if(pa(t)||cn(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(i=E0.length;i--&&!E0[i].targetTest(t););n=E0[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new ZM(e[i],n)))||e.splice(i,1);return e},au=function(e){return e._gsap||p_(ro(e))[0]._gsap},jM=function(e,t,n){return(n=e[t])&&cn(n)?e[t]():l_(n)&&e.getAttribute&&e.getAttribute(t)||n},Xi=function(e,t){return(e=e.split(",")).forEach(t)||e},pn=function(e){return Math.round(e*1e5)/1e5||0},En=function(e){return Math.round(e*1e7)/1e7||0},Wd=function(e,t){var n=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+i:n==="-"?e-i:n==="*"?e*i:e/i},lH=function(e,t){for(var n=t.length,i=0;e.indexOf(t[i])<0&&++i<n;);return i<n},sy=function(){var e=Ql.length,t=Ql.slice(0),n,i;for(u1={},Ql.length=0,n=0;n<e;n++)i=t[n],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},m_=function(e){return!!(e._initted||e._startAt||e.add)},PM=function(e,t,n,i){Ql.length&&!ri&&sy(),e.render(t,n,!!(ri&&t<0&&m_(e))),Ql.length&&!ri&&sy()},RM=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(CM).length<2?t:Vn(e)?e.trim():e},IM=function(e){return e},Is=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},cH=function(e){return function(t,n){for(var i in n)i in t||i==="duration"&&e||i==="ease"||(t[i]=n[i])}},lf=function(e,t){for(var n in t)e[n]=t[n];return e},ZN=function r(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=pa(t[n])?r(e[n]||(e[n]={}),t[n]):t[n]);return e},oy=function(e,t){var n={},i;for(i in e)i in t||(n[i]=e[i]);return n},Xh=function(e){var t=e.parent||nn,n=e.keyframes?cH(wi(e.keyframes)):Is;if(Qi(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},uH=function(e,t){for(var n=e.length,i=n===t.length;i&&n--&&e[n]===t[n];);return n<0},MM=function(e,t,n,i,s){var o=e[i],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},ex=function(e,t,n,i){n===void 0&&(n="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[n]===t&&(e[n]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},ac=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},lu=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},dH=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},d1=function(e,t,n,i){return e._startAt&&(ri?e._startAt.revert(_0):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},fH=function r(e){return!e||e._ts&&r(e.parent)},eT=function(e){return e._repeat?cf(e._tTime,e=e.duration()+e._rDelay)*e:0},cf=function(e,t){var n=Math.floor(e=En(e/t));return e&&n===e?n-1:n},ay=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},tx=function(e){return e._end=En(e._start+(e._tDur/Math.abs(e._ts||e._rts||Pr)||0))},rx=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=En(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),tx(e),n._dirty||lu(n,e)),e},OM=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=ay(e.rawTime(),t),(!t._dur||cm(0,t.totalDuration(),n)-t._tTime>Pr)&&t.render(n,!0)),lu(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-Pr}},ia=function(e,t,n,i){return t.parent&&ac(t),t._start=En((Xa(n)?n:n||e!==nn?Vs(e,n,t):e._time)+t._delay),t._end=En(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),MM(e,t,"_first","_last",e._sort?"_start":0),f1(t)||(e._recent=t),i||OM(e,t),e._ts<0&&rx(e,e._tTime),e},DM=function(e,t){return(Rs.ScrollTrigger||d_("scrollTrigger",t))&&Rs.ScrollTrigger.create(t,e)},LM=function(e,t,n,i,s){if(y_(e,t,s),!e._initted)return 1;if(!n&&e._pt&&!ri&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&AM!==vs.frame)return Ql.push(e),e._lazy=[s,i],1},hH=function r(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||r(t))},f1=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},pH=function(e,t,n,i){var s=e.ratio,o=t<0||!t&&(!e._start&&hH(e)&&!(!e._initted&&f1(e))||(e._ts<0||e._dp._ts<0)&&!f1(e))?0:1,a=e._rDelay,u=0,d,h,p;if(a&&e._repeat&&(u=cm(0,e._tDur,t),h=cf(u,a),e._yoyo&&h&1&&(o=1-o),h!==cf(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||ri||i||e._zTime===Pr||!t&&e._zTime){if(!e._initted&&LM(e,t,i,n,u))return;for(p=e._zTime,e._zTime=t||(n?Pr:0),n||(n=t&&!p),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=u,d=e._pt;d;)d.r(o,d.d),d=d._next;t<0&&d1(e,t,n,!0),e._onUpdate&&!n&&Cs(e,"onUpdate"),u&&e._repeat&&!n&&e.parent&&Cs(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&ac(e,1),!n&&!ri&&(Cs(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},mH=function(e,t,n){var i;if(n>t)for(i=e._first;i&&i._start<=n;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},uf=function(e,t,n,i){var s=e._repeat,o=En(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:En(o*(s+1)+e._rDelay*s):o,a>0&&!i&&rx(e,e._tTime=e._tDur*a),e.parent&&tx(e),n||lu(e.parent,e),e},tT=function(e){return e instanceof Oi?lu(e):uf(e,e._dur)},gH={_start:0,endTime:Ip,totalDuration:Ip},Vs=function r(e,t,n){var i=e.labels,s=e._recent||gH,o=e.duration()>=to?s.endTime(!1):e._dur,a,u,d;return Vn(t)&&(isNaN(t)||t in i)?(u=t.charAt(0),d=t.substr(-1)==="%",a=t.indexOf("="),u==="<"||u===">"?(a>=0&&(t=t.replace(/=/,"")),(u==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(d?(a<0?s:n).totalDuration()/100:1)):a<0?(t in i||(i[t]=o),i[t]):(u=parseFloat(t.charAt(a-1)+t.substr(a+1)),d&&n&&(u=u/100*(wi(n)?n[0]:n).totalDuration()),a>1?r(e,t.substr(0,a-1),n)+u:o+u)):t==null?o:+t},Zh=function(e,t,n){var i=Xa(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],a,u;if(i&&(o.duration=t[1]),o.parent=n,e){for(a=o,u=n;u&&!("immediateRender"in a);)a=u.vars.defaults||{},u=Qi(u.vars.inherit)&&u.parent;o.immediateRender=Qi(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new _n(t[0],o,t[s+1])},gc=function(e,t){return e||e===0?t(e):t},cm=function(e,t,n){return n<e?e:n>t?t:n},yi=function(e,t){return!Vn(e)||!(t=sH.exec(e))?"":t[1]},yH=function(e,t,n){return gc(n,function(i){return cm(e,t,i)})},h1=[].slice,zM=function(e,t){return e&&pa(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&pa(e[0]))&&!e.nodeType&&e!==Zo},xH=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(i){var s;return Vn(i)&&!t||zM(i,1)?(s=n).push.apply(s,ro(i)):n.push(i)})||n},ro=function(e,t,n){return Vr&&!t&&Vr.selector?Vr.selector(e):Vn(e)&&!n&&(c1||!df())?h1.call((t||u_).querySelectorAll(e),0):wi(e)?xH(e,n):zM(e)?h1.call(e,0):e?[e]:[]},p1=function(e){return e=ro(e)[0]||Rp("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return ro(t,n.querySelectorAll?n:n===e?Rp("Invalid scope")||u_.createElement("div"):e)}},FM=function(e){return e.sort(function(){return .5-Math.random()})},BM=function(e){if(cn(e))return e;var t=pa(e)?e:{each:e},n=cu(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},a=i>0&&i<1,u=isNaN(i)||a,d=t.axis,h=i,p=i;return Vn(i)?h=p={center:.5,edges:.5,end:1}[i]||0:!a&&u&&(h=i[0],p=i[1]),function(y,m,b){var x=(b||t).length,w=o[x],A,P,I,T,U,B,H,G,W;if(!w){if(W=t.grid==="auto"?0:(t.grid||[1,to])[1],!W){for(H=-to;H<(H=b[W++].getBoundingClientRect().left)&&W<x;);W<x&&W--}for(w=o[x]=[],A=u?Math.min(W,x)*h-.5:i%W,P=W===to?0:u?x*p/W-.5:i/W|0,H=0,G=to,B=0;B<x;B++)I=B%W-A,T=P-(B/W|0),w[B]=U=d?Math.abs(d==="y"?T:I):wM(I*I+T*T),U>H&&(H=U),U<G&&(G=U);i==="random"&&FM(w),w.max=H-G,w.min=G,w.v=x=(parseFloat(t.amount)||parseFloat(t.each)*(W>x?x-1:d?d==="y"?x/W:W:Math.max(W,x/W))||0)*(i==="edges"?-1:1),w.b=x<0?s-x:s,w.u=yi(t.amount||t.each)||0,n=n&&x<0?JM(n):n}return x=(w[y]-w.min)/w.max||0,En(w.b+(n?n(x):x)*w.v)+w.u}},m1=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var i=En(Math.round(parseFloat(n)/e)*e*t);return(i-i%1)/t+(Xa(n)?0:yi(n))}},$M=function(e,t){var n=wi(e),i,s;return!n&&pa(e)&&(i=n=e.radius||to,e.values?(e=ro(e.values),(s=!Xa(e[0]))&&(i*=i)):e=m1(e.increment)),gc(t,n?cn(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),u=parseFloat(s?o.y:0),d=to,h=0,p=e.length,y,m;p--;)s?(y=e[p].x-a,m=e[p].y-u,y=y*y+m*m):y=Math.abs(e[p]-a),y<d&&(d=y,h=p);return h=!i||d<=i?e[h]:o,s||h===o||Xa(o)?h:h+yi(o)}:m1(e))},UM=function(e,t,n,i){return gc(wi(e)?!t:n===!0?!!(n=0):!i,function(){return wi(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*i)/i})},vH=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){return t.reduce(function(s,o){return o(s)},i)}},bH=function(e,t){return function(n){return e(parseFloat(n))+(t||yi(n))}},wH=function(e,t,n){return WM(e,t,0,1,n)},qM=function(e,t,n){return gc(n,function(i){return e[~~t(i)]})},kH=function r(e,t,n){var i=t-e;return wi(e)?qM(e,r(0,e.length),t):gc(n,function(s){return(i+(s-e)%i)%i+e})},_H=function r(e,t,n){var i=t-e,s=i*2;return wi(e)?qM(e,r(0,e.length-1),t):gc(n,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},Mp=function(e){for(var t=0,n="",i,s,o,a;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?CM:l1),n+=e.substr(t,i-t)+UM(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return n+e.substr(t,e.length-t)},WM=function(e,t,n,i,s){var o=t-e,a=i-n;return gc(s,function(u){return n+((u-e)/o*a||0)})},EH=function r(e,t,n,i){var s=isNaN(e+t)?0:function(m){return(1-m)*e+m*t};if(!s){var o=Vn(e),a={},u,d,h,p,y;if(n===!0&&(i=1)&&(n=null),o)e={p:e},t={p:t};else if(wi(e)&&!wi(t)){for(h=[],p=e.length,y=p-2,d=1;d<p;d++)h.push(r(e[d-1],e[d]));p--,s=function(b){b*=p;var x=Math.min(y,~~b);return h[x](b-x)},n=t}else i||(e=lf(wi(e)?[]:{},e));if(!h){for(u in t)g_.call(a,e,u,"get",t[u]);s=function(b){return b_(b,a)||(o?e.p:e)}}}return gc(n,s)},rT=function(e,t,n){var i=e.labels,s=to,o,a,u;for(o in i)a=i[o]-t,a<0==!!n&&a&&s>(a=Math.abs(a))&&(u=o,s=a);return u},Cs=function(e,t,n){var i=e.vars,s=i[t],o=Vr,a=e._ctx,u,d,h;if(s)return u=i[t+"Params"],d=i.callbackScope||e,n&&Ql.length&&sy(),a&&(Vr=a),h=u?s.apply(d,u):s.call(d),Vr=o,h},Lh=function(e){return ac(e),e.scrollTrigger&&e.scrollTrigger.kill(!!ri),e.progress()<1&&Cs(e,"onInterrupt"),e},Od,HM=[],VM=function(e){if(e)if(e=!e.name&&e.default||e,c_()||e.headless){var t=e.name,n=cn(e),i=t&&!n&&e.init?function(){this._props=[]}:e,s={init:Ip,render:b_,add:g_,kill:BH,modifier:FH,rawVars:0},o={targetTest:0,get:0,getSetter:v_,aliases:{},register:0};if(df(),e!==i){if(ms[t])return;Is(i,Is(oy(e,s),o)),lf(i.prototype,lf(s,oy(e,o))),ms[i.prop=t]=i,e.targetTest&&(E0.push(i),f_[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}TM(t,i),e.register&&e.register(ts,i,Zi)}else HM.push(e)},jr=255,zh={aqua:[0,jr,jr],lime:[0,jr,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,jr],navy:[0,0,128],white:[jr,jr,jr],olive:[128,128,0],yellow:[jr,jr,0],orange:[jr,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[jr,0,0],pink:[jr,192,203],cyan:[0,jr,jr],transparent:[jr,jr,jr,0]},zb=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*jr+.5|0},GM=function(e,t,n){var i=e?Xa(e)?[e>>16,e>>8&jr,e&jr]:0:zh.black,s,o,a,u,d,h,p,y,m,b;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),zh[e])i=zh[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&jr,i&jr,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&jr,e&jr]}else if(e.substr(0,3)==="hsl"){if(i=b=e.match(l1),!t)u=+i[0]%360/360,d=+i[1]/100,h=+i[2]/100,o=h<=.5?h*(d+1):h+d-h*d,s=h*2-o,i.length>3&&(i[3]*=1),i[0]=zb(u+1/3,s,o),i[1]=zb(u,s,o),i[2]=zb(u-1/3,s,o);else if(~e.indexOf("="))return i=e.match(_M),n&&i.length<4&&(i[3]=1),i}else i=e.match(l1)||zh.transparent;i=i.map(Number)}return t&&!b&&(s=i[0]/jr,o=i[1]/jr,a=i[2]/jr,p=Math.max(s,o,a),y=Math.min(s,o,a),h=(p+y)/2,p===y?u=d=0:(m=p-y,d=h>.5?m/(2-p-y):m/(p+y),u=p===s?(o-a)/m+(o<a?6:0):p===o?(a-s)/m+2:(s-o)/m+4,u*=60),i[0]=~~(u+.5),i[1]=~~(d*100+.5),i[2]=~~(h*100+.5)),n&&i.length<4&&(i[3]=1),i},KM=function(e){var t=[],n=[],i=-1;return e.split(Xl).forEach(function(s){var o=s.match(Md)||[];t.push.apply(t,o),n.push(i+=o.length+1)}),t.c=n,t},nT=function(e,t,n){var i="",s=(e+i).match(Xl),o=t?"hsla(":"rgba(",a=0,u,d,h,p;if(!s)return e;if(s=s.map(function(y){return(y=GM(y,t,1))&&o+(t?y[0]+","+y[1]+"%,"+y[2]+"%,"+y[3]:y.join(","))+")"}),n&&(h=KM(e),u=n.c,u.join(i)!==h.c.join(i)))for(d=e.replace(Xl,"1").split(Md),p=d.length-1;a<p;a++)i+=d[a]+(~u.indexOf(a)?s.shift()||o+"0,0,0,0)":(h.length?h:s.length?s:n).shift());if(!d)for(d=e.split(Xl),p=d.length-1;a<p;a++)i+=d[a]+s[a];return i+d[p]},Xl=function(){var r="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in zh)r+="|"+e+"\\b";return new RegExp(r+")","gi")}(),CH=/hsl[a]?\(/,YM=function(e){var t=e.join(" "),n;if(Xl.lastIndex=0,Xl.test(t))return n=CH.test(t),e[1]=nT(e[1],n),e[0]=nT(e[0],n,KM(e[1])),!0},Op,vs=function(){var r=Date.now,e=500,t=33,n=r(),i=n,s=1e3/240,o=s,a=[],u,d,h,p,y,m,b=function x(w){var A=r()-i,P=w===!0,I,T,U,B;if((A>e||A<0)&&(n+=A-t),i+=A,U=i-n,I=U-o,(I>0||P)&&(B=++p.frame,y=U-p.time*1e3,p.time=U=U/1e3,o+=I+(I>=s?4:s-I),T=1),P||(u=d(x)),T)for(m=0;m<a.length;m++)a[m](U,y,B,w)};return p={time:0,frame:0,tick:function(){b(!0)},deltaRatio:function(w){return y/(1e3/(w||60))},wake:function(){SM&&(!c1&&c_()&&(Zo=c1=window,u_=Zo.document||{},Rs.gsap=ts,(Zo.gsapVersions||(Zo.gsapVersions=[])).push(ts.version),NM(iy||Zo.GreenSockGlobals||!Zo.gsap&&Zo||{}),HM.forEach(VM)),h=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&p.sleep(),d=h||function(w){return setTimeout(w,o-p.time*1e3+1|0)},Op=1,b(2))},sleep:function(){(h?cancelAnimationFrame:clearTimeout)(u),Op=0,d=Ip},lagSmoothing:function(w,A){e=w||1/0,t=Math.min(A||33,e)},fps:function(w){s=1e3/(w||240),o=p.time*1e3+s},add:function(w,A,P){var I=A?function(T,U,B,H){w(T,U,B,H),p.remove(I)}:w;return p.remove(w),a[P?"unshift":"push"](I),df(),I},remove:function(w,A){~(A=a.indexOf(w))&&a.splice(A,1)&&m>=A&&m--},_listeners:a},p}(),df=function(){return!Op&&vs.wake()},lr={},SH=/^[\d.\-M][\d.\-,\s]/,NH=/["']/g,TH=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),i=n[0],s=1,o=n.length,a,u,d;s<o;s++)u=n[s],a=s!==o-1?u.lastIndexOf(","):u.length,d=u.substr(0,a),t[i]=isNaN(d)?d.replace(NH,"").trim():+d,i=u.substr(a+1).trim();return t},AH=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<n?e.indexOf(")",n+1):n)},jH=function(e){var t=(e+"").split("("),n=lr[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[TH(t[1])]:AH(e).split(",").map(RM)):lr._CE&&SH.test(e)?lr._CE("",e):n},JM=function(e){return function(t){return 1-e(1-t)}},QM=function r(e,t){for(var n=e._first,i;n;)n instanceof Oi?r(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?r(n.timeline,t):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=t)),n=n._next},cu=function(e,t){return e&&(cn(e)?e:lr[e]||jH(e))||t},Iu=function(e,t,n,i){n===void 0&&(n=function(u){return 1-t(1-u)}),i===void 0&&(i=function(u){return u<.5?t(u*2)/2:1-t((1-u)*2)/2});var s={easeIn:t,easeOut:n,easeInOut:i},o;return Xi(e,function(a){lr[a]=Rs[a]=s,lr[o=a.toLowerCase()]=n;for(var u in s)lr[o+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=lr[a+"."+u]=s[u]}),s},XM=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},Fb=function r(e,t,n){var i=t>=1?t:1,s=(n||(e?.3:.45))/(t<1?t:1),o=s/a1*(Math.asin(1/i)||0),a=function(h){return h===1?1:i*Math.pow(2,-10*h)*iH((h-o)*s)+1},u=e==="out"?a:e==="in"?function(d){return 1-a(1-d)}:XM(a);return s=a1/s,u.config=function(d,h){return r(e,d,h)},u},Bb=function r(e,t){t===void 0&&(t=1.70158);var n=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:XM(n);return i.config=function(s){return r(e,s)},i};Xi("Linear,Quad,Cubic,Quart,Quint,Strong",function(r,e){var t=e<5?e+1:e;Iu(r+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});lr.Linear.easeNone=lr.none=lr.Linear.easeIn;Iu("Elastic",Fb("in"),Fb("out"),Fb());(function(r,e){var t=1/e,n=2*t,i=2.5*t,s=function(a){return a<t?r*a*a:a<n?r*Math.pow(a-1.5/e,2)+.75:a<i?r*(a-=2.25/e)*a+.9375:r*Math.pow(a-2.625/e,2)+.984375};Iu("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Iu("Expo",function(r){return Math.pow(2,10*(r-1))*r+r*r*r*r*r*r*(1-r)});Iu("Circ",function(r){return-(wM(1-r*r)-1)});Iu("Sine",function(r){return r===1?1:-nH(r*tH)+1});Iu("Back",Bb("in"),Bb("out"),Bb());lr.SteppedEase=lr.steps=Rs.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,i=e+(t?0:1),s=t?1:0,o=1-Pr;return function(a){return((i*cm(0,o,a)|0)+s)*n}}};af.ease=lr["quad.out"];Xi("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(r){return h_+=r+","+r+"Params,"});var ZM=function(e,t){this.id=rH++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:jM,this.set=t?t.getSetter:v_},Dp=function(){function r(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,uf(this,+t.duration,1,1),this.data=t.data,Vr&&(this._ctx=Vr,Vr.data.push(this)),Op||vs.wake()}var e=r.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,uf(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,i){if(df(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(rx(this,n),!s._dp||s.parent||OM(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&ia(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Pr||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),PM(this,n,i)),this},e.time=function(n,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+eT(this))%(this._dur+this._rDelay)||(n?this._dur:0),i):this._time},e.totalProgress=function(n,i){return arguments.length?this.totalTime(this.totalDuration()*n,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+eT(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,i):this._repeat?cf(this._tTime,s)+1:1},e.timeScale=function(n,i){if(!arguments.length)return this._rts===-Pr?0:this._rts;if(this._rts===n)return this;var s=this.parent&&this._ts?ay(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-Pr?0:this._rts,this.totalTime(cm(-Math.abs(this._delay),this.totalDuration(),s),i!==!1),tx(this),dH(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(df(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Pr&&(this._tTime-=Pr)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&ia(i,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(Qi(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var i=this.parent||this._dp;return i?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?ay(i.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=aH);var i=ri;return ri=n,m_(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),ri=i,this},e.globalTime=function(n){for(var i=this,s=arguments.length?n:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(n):s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,tT(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var i=this._time;return this._rDelay=n,tT(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,i){return this.totalTime(Vs(this,n),Qi(i))},e.restart=function(n,i){return this.play().totalTime(n?-this._delay:0,Qi(i)),this._dur||(this._zTime=-Pr),this},e.play=function(n,i){return n!=null&&this.seek(n,i),this.reversed(!1).paused(!1)},e.reverse=function(n,i){return n!=null&&this.seek(n||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(n,i){return n!=null&&this.seek(n,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-Pr:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Pr,this},e.isActive=function(){var n=this.parent||this._dp,i=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=i&&s<this.endTime(!0)-Pr)},e.eventCallback=function(n,i,s){var o=this.vars;return arguments.length>1?(i?(o[n]=i,s&&(o[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=i)):delete o[n],this):o[n]},e.then=function(n){var i=this;return new Promise(function(s){var o=cn(n)?n:IM,a=function(){var d=i.then;i.then=null,cn(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=d),s(o),i.then=d};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){Lh(this)},r}();Is(Dp.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Pr,_prom:0,_ps:!1,_rts:1});var Oi=function(r){bM(e,r);function e(n,i){var s;return n===void 0&&(n={}),s=r.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=Qi(n.sortChildren),nn&&ia(n.parent||nn,Da(s),i),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&DM(Da(s),n.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return Zh(0,arguments,this),this},t.from=function(i,s,o){return Zh(1,arguments,this),this},t.fromTo=function(i,s,o,a){return Zh(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,Xh(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new _n(i,s,Vs(this,o),1),this},t.call=function(i,s,o){return ia(this,_n.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,a,u,d,h){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=d,o.onCompleteParams=h,o.parent=this,new _n(i,o,Vs(this,u)),this},t.staggerFrom=function(i,s,o,a,u,d,h){return o.runBackwards=1,Xh(o).immediateRender=Qi(o.immediateRender),this.staggerTo(i,s,o,a,u,d,h)},t.staggerFromTo=function(i,s,o,a,u,d,h,p){return a.startAt=o,Xh(a).immediateRender=Qi(a.immediateRender),this.staggerTo(i,s,a,u,d,h,p)},t.render=function(i,s,o){var a=this._time,u=this._dirty?this.totalDuration():this._tDur,d=this._dur,h=i<=0?0:En(i),p=this._zTime<0!=i<0&&(this._initted||!d),y,m,b,x,w,A,P,I,T,U,B,H;if(this!==nn&&h>u&&i>=0&&(h=u),h!==this._tTime||o||p){if(a!==this._time&&d&&(h+=this._time-a,i+=this._time-a),y=h,T=this._start,I=this._ts,A=!I,p&&(d||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(B=this._yoyo,w=d+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(w*100+i,s,o);if(y=En(h%w),h===u?(x=this._repeat,y=d):(U=En(h/w),x=~~U,x&&x===U&&(y=d,x--),y>d&&(y=d)),U=cf(this._tTime,w),!a&&this._tTime&&U!==x&&this._tTime-U*w-this._dur<=0&&(U=x),B&&x&1&&(y=d-y,H=1),x!==U&&!this._lock){var G=B&&U&1,W=G===(B&&x&1);if(x<U&&(G=!G),a=G?0:h%d?d:h,this._lock=1,this.render(a||(H?0:En(x*w)),s,!d)._lock=0,this._tTime=h,!s&&this.parent&&Cs(this,"onRepeat"),this.vars.repeatRefresh&&!H&&(this.invalidate()._lock=1),a&&a!==this._time||A!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,u=this._tDur,W&&(this._lock=2,a=G?d:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!H&&this.invalidate()),this._lock=0,!this._ts&&!A)return this;QM(this,H)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(P=mH(this,En(a),En(y)),P&&(h-=y-(y=P._start))),this._tTime=h,this._time=y,this._act=!I,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&h&&!s&&!U&&(Cs(this,"onStart"),this._tTime!==h))return this;if(y>=a&&i>=0)for(m=this._first;m;){if(b=m._next,(m._act||y>=m._start)&&m._ts&&P!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(y-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(y-m._start)*m._ts,s,o),y!==this._time||!this._ts&&!A){P=0,b&&(h+=this._zTime=-Pr);break}}m=b}else{m=this._last;for(var V=i<0?i:y;m;){if(b=m._prev,(m._act||V<=m._end)&&m._ts&&P!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(V-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(V-m._start)*m._ts,s,o||ri&&m_(m)),y!==this._time||!this._ts&&!A){P=0,b&&(h+=this._zTime=V?-Pr:Pr);break}}m=b}}if(P&&!s&&(this.pause(),P.render(y>=a?0:-Pr)._zTime=y>=a?1:-1,this._ts))return this._start=T,tx(this),this.render(i,s,o);this._onUpdate&&!s&&Cs(this,"onUpdate",!0),(h===u&&this._tTime>=this.totalDuration()||!h&&a)&&(T===this._start||Math.abs(I)!==Math.abs(this._ts))&&(this._lock||((i||!d)&&(h===u&&this._ts>0||!h&&this._ts<0)&&ac(this,1),!s&&!(i<0&&!a)&&(h||a||!u)&&(Cs(this,h===u&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<u&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(Xa(s)||(s=Vs(this,s,i)),!(i instanceof Dp)){if(wi(i))return i.forEach(function(a){return o.add(a,s)}),this;if(Vn(i))return this.addLabel(i,s);if(cn(i))i=_n.delayedCall(0,i);else return this}return this!==i?ia(this,i,s):this},t.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-to);for(var u=[],d=this._first;d;)d._start>=a&&(d instanceof _n?s&&u.push(d):(o&&u.push(d),i&&u.push.apply(u,d.getChildren(!0,s,o)))),d=d._next;return u},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return Vn(i)?this.removeLabel(i):cn(i)?this.killTweensOf(i):(i.parent===this&&ex(this,i),i===this._recent&&(this._recent=this._last),lu(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=En(vs.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),r.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=Vs(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var a=_n.delayedCall(0,s||Ip,o);return a.data="isPause",this._hasPause=1,ia(this,a,Vs(this,i))},t.removePause=function(i){var s=this._first;for(i=Vs(this,i);s;)s._start===i&&s.data==="isPause"&&ac(s),s=s._next},t.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),u=a.length;u--;)Bl!==a[u]&&a[u].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],a=ro(i),u=this._first,d=Xa(s),h;u;)u instanceof _n?lH(u._targets,a)&&(d?(!Bl||u._initted&&u._ts)&&u.globalTime(0)<=s&&u.globalTime(u.totalDuration())>s:!s||u.isActive())&&o.push(u):(h=u.getTweensOf(a,s)).length&&o.push.apply(o,h),u=u._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,a=Vs(o,i),u=s,d=u.startAt,h=u.onStart,p=u.onStartParams,y=u.immediateRender,m,b=_n.to(o,Is({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(d&&"time"in d?d.time:o._time))/o.timeScale())||Pr,onStart:function(){if(o.pause(),!m){var w=s.duration||Math.abs((a-(d&&"time"in d?d.time:o._time))/o.timeScale());b._dur!==w&&uf(b,w,0,1).render(b._time,!0,!0),m=1}h&&h.apply(b,p||[])}},s));return y?b.render(0):b},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,Is({startAt:{time:Vs(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),rT(this,Vs(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),rT(this,Vs(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Pr)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,u=this.labels,d;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(d in u)u[d]>=o&&(u[d]+=i);return lu(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return r.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),lu(this)},t.totalDuration=function(i){var s=0,o=this,a=o._last,u=to,d,h,p;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(p=o.parent;a;)d=a._prev,a._dirty&&a.totalDuration(),h=a._start,h>u&&o._sort&&a._ts&&!o._lock?(o._lock=1,ia(o,a,h-a._delay,1)._lock=0):u=h,h<0&&a._ts&&(s-=h,(!p&&!o._dp||p&&p.smoothChildTiming)&&(o._start+=h/o._ts,o._time-=h,o._tTime-=h),o.shiftChildren(-h,!1,-1/0),u=0),a._end>s&&a._ts&&(s=a._end),a=d;uf(o,o===nn&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(nn._ts&&(PM(nn,ay(i,nn)),AM=vs.frame),vs.frame>=XN){XN+=js.autoSleep||120;var s=nn._first;if((!s||!s._ts)&&js.autoSleep&&vs._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||vs.sleep()}}},e}(Dp);Is(Oi.prototype,{_lock:0,_hasPause:0,_forcing:0});var PH=function(e,t,n,i,s,o,a){var u=new Zi(this._pt,e,t,0,1,s4,null,s),d=0,h=0,p,y,m,b,x,w,A,P;for(u.b=n,u.e=i,n+="",i+="",(A=~i.indexOf("random("))&&(i=Mp(i)),o&&(P=[n,i],o(P,e,t),n=P[0],i=P[1]),y=n.match(Db)||[];p=Db.exec(i);)b=p[0],x=i.substring(d,p.index),m?m=(m+1)%5:x.substr(-5)==="rgba("&&(m=1),b!==y[h++]&&(w=parseFloat(y[h-1])||0,u._pt={_next:u._pt,p:x||h===1?x:",",s:w,c:b.charAt(1)==="="?Wd(w,b)-w:parseFloat(b)-w,m:m&&m<4?Math.round:0},d=Db.lastIndex);return u.c=d<i.length?i.substring(d,i.length):"",u.fp=a,(EM.test(i)||A)&&(u.e=0),this._pt=u,u},g_=function(e,t,n,i,s,o,a,u,d,h){cn(i)&&(i=i(s||0,e,o));var p=e[t],y=n!=="get"?n:cn(p)?d?e[t.indexOf("set")||!cn(e["get"+t.substr(3)])?t:"get"+t.substr(3)](d):e[t]():p,m=cn(p)?d?DH:n4:x_,b;if(Vn(i)&&(~i.indexOf("random(")&&(i=Mp(i)),i.charAt(1)==="="&&(b=Wd(y,i)+(yi(y)||0),(b||b===0)&&(i=b))),!h||y!==i||g1)return!isNaN(y*i)&&i!==""?(b=new Zi(this._pt,e,t,+y||0,i-(y||0),typeof p=="boolean"?zH:i4,0,m),d&&(b.fp=d),a&&b.modifier(a,this,e),this._pt=b):(!p&&!(t in e)&&d_(t,i),PH.call(this,e,t,y,i,m,u||js.stringFilter,d))},RH=function(e,t,n,i,s){if(cn(e)&&(e=ep(e,s,t,n,i)),!pa(e)||e.style&&e.nodeType||wi(e)||kM(e))return Vn(e)?ep(e,s,t,n,i):e;var o={},a;for(a in e)o[a]=ep(e[a],s,t,n,i);return o},e4=function(e,t,n,i,s,o){var a,u,d,h;if(ms[e]&&(a=new ms[e]).init(s,a.rawVars?t[e]:RH(t[e],i,s,o,n),n,i,o)!==!1&&(n._pt=u=new Zi(n._pt,s,e,0,1,a.render,a,0,a.priority),n!==Od))for(d=n._ptLookup[n._targets.indexOf(s)],h=a._props.length;h--;)d[a._props[h]]=u;return a},Bl,g1,y_=function r(e,t,n){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,u=i.lazy,d=i.onUpdate,h=i.runBackwards,p=i.yoyoEase,y=i.keyframes,m=i.autoRevert,b=e._dur,x=e._startAt,w=e._targets,A=e.parent,P=A&&A.data==="nested"?A.vars.targets:w,I=e._overwrite==="auto"&&!a_,T=e.timeline,U,B,H,G,W,V,K,q,D,v,S,_,j;if(T&&(!y||!s)&&(s="none"),e._ease=cu(s,af.ease),e._yEase=p?JM(cu(p===!0?s:p,af.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!T&&!!i.runBackwards,!T||y&&!i.stagger){if(q=w[0]?au(w[0]).harness:0,_=q&&i[q.prop],U=oy(i,f_),x&&(x._zTime<0&&x.progress(1),t<0&&h&&a&&!m?x.render(-1,!0):x.revert(h&&b?_0:oH),x._lazy=0),o){if(ac(e._startAt=_n.set(w,Is({data:"isStart",overwrite:!1,parent:A,immediateRender:!0,lazy:!x&&Qi(u),startAt:null,delay:0,onUpdate:d&&function(){return Cs(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ri||!a&&!m)&&e._startAt.revert(_0),a&&b&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(h&&b&&!x){if(t&&(a=!1),H=Is({overwrite:!1,data:"isFromStart",lazy:a&&!x&&Qi(u),immediateRender:a,stagger:0,parent:A},U),_&&(H[q.prop]=_),ac(e._startAt=_n.set(w,H)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ri?e._startAt.revert(_0):e._startAt.render(-1,!0)),e._zTime=t,!a)r(e._startAt,Pr,Pr);else if(!t)return}for(e._pt=e._ptCache=0,u=b&&Qi(u)||u&&!b,B=0;B<w.length;B++){if(W=w[B],K=W._gsap||p_(w)[B]._gsap,e._ptLookup[B]=v={},u1[K.id]&&Ql.length&&sy(),S=P===w?B:P.indexOf(W),q&&(D=new q).init(W,_||U,e,S,P)!==!1&&(e._pt=G=new Zi(e._pt,W,D.name,0,1,D.render,D,0,D.priority),D._props.forEach(function(O){v[O]=G}),D.priority&&(V=1)),!q||_)for(H in U)ms[H]&&(D=e4(H,U,e,S,W,P))?D.priority&&(V=1):v[H]=G=g_.call(e,W,H,"get",U[H],S,P,0,i.stringFilter);e._op&&e._op[B]&&e.kill(W,e._op[B]),I&&e._pt&&(Bl=e,nn.killTweensOf(W,v,e.globalTime(t)),j=!e.parent,Bl=0),e._pt&&u&&(u1[K.id]=1)}V&&o4(e),e._onInit&&e._onInit(e)}e._onUpdate=d,e._initted=(!e._op||e._pt)&&!j,y&&t<=0&&T.render(to,!0,!0)},IH=function(e,t,n,i,s,o,a,u){var d=(e._pt&&e._ptCache||(e._ptCache={}))[t],h,p,y,m;if(!d)for(d=e._ptCache[t]=[],y=e._ptLookup,m=e._targets.length;m--;){if(h=y[m][t],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==t&&h.fp!==t;)h=h._next;if(!h)return g1=1,e.vars[t]="+=0",y_(e,a),g1=0,u?Rp(t+" not eligible for reset"):1;d.push(h)}for(m=d.length;m--;)p=d[m],h=p._pt||p,h.s=(i||i===0)&&!s?i:h.s+(i||0)+o*h.c,h.c=n-h.s,p.e&&(p.e=pn(n)+yi(p.e)),p.b&&(p.b=h.s+yi(p.b))},MH=function(e,t){var n=e[0]?au(e[0]).harness:0,i=n&&n.aliases,s,o,a,u;if(!i)return t;s=lf({},t);for(o in i)if(o in s)for(u=i[o].split(","),a=u.length;a--;)s[u[a]]=s[o];return s},OH=function(e,t,n,i){var s=t.ease||i||"power1.inOut",o,a;if(wi(t))a=n[e]||(n[e]=[]),t.forEach(function(u,d){return a.push({t:d/(t.length-1)*100,v:u,e:s})});else for(o in t)a=n[o]||(n[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},ep=function(e,t,n,i,s){return cn(e)?e.call(t,n,i,s):Vn(e)&&~e.indexOf("random(")?Mp(e):e},t4=h_+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",r4={};Xi(t4+",id,stagger,delay,duration,paused,scrollTrigger",function(r){return r4[r]=1});var _n=function(r){bM(e,r);function e(n,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=r.call(this,o?i:Xh(i))||this;var u=a.vars,d=u.duration,h=u.delay,p=u.immediateRender,y=u.stagger,m=u.overwrite,b=u.keyframes,x=u.defaults,w=u.scrollTrigger,A=u.yoyoEase,P=i.parent||nn,I=(wi(n)||kM(n)?Xa(n[0]):"length"in i)?[n]:ro(n),T,U,B,H,G,W,V,K;if(a._targets=I.length?p_(I):Rp("GSAP target "+n+" not found. https://gsap.com",!js.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=m,b||y||Ig(d)||Ig(h)){if(i=a.vars,T=a.timeline=new Oi({data:"nested",defaults:x||{},targets:P&&P.data==="nested"?P.vars.targets:I}),T.kill(),T.parent=T._dp=Da(a),T._start=0,y||Ig(d)||Ig(h)){if(H=I.length,V=y&&BM(y),pa(y))for(G in y)~t4.indexOf(G)&&(K||(K={}),K[G]=y[G]);for(U=0;U<H;U++)B=oy(i,r4),B.stagger=0,A&&(B.yoyoEase=A),K&&lf(B,K),W=I[U],B.duration=+ep(d,Da(a),U,W,I),B.delay=(+ep(h,Da(a),U,W,I)||0)-a._delay,!y&&H===1&&B.delay&&(a._delay=h=B.delay,a._start+=h,B.delay=0),T.to(W,B,V?V(U,W,I):0),T._ease=lr.none;T.duration()?d=h=0:a.timeline=0}else if(b){Xh(Is(T.vars.defaults,{ease:"none"})),T._ease=cu(b.ease||i.ease||"none");var q=0,D,v,S;if(wi(b))b.forEach(function(_){return T.to(I,_,">")}),T.duration();else{B={};for(G in b)G==="ease"||G==="easeEach"||OH(G,b[G],B,b.easeEach);for(G in B)for(D=B[G].sort(function(_,j){return _.t-j.t}),q=0,U=0;U<D.length;U++)v=D[U],S={ease:v.e,duration:(v.t-(U?D[U-1].t:0))/100*d},S[G]=v.v,T.to(I,S,q),q+=S.duration;T.duration()<d&&T.to({},{duration:d-T.duration()})}}d||a.duration(d=T.duration())}else a.timeline=0;return m===!0&&!a_&&(Bl=Da(a),nn.killTweensOf(I),Bl=0),ia(P,Da(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(p||!d&&!b&&a._start===En(P._time)&&Qi(p)&&fH(Da(a))&&P.data!=="nested")&&(a._tTime=-Pr,a.render(Math.max(0,-h)||0)),w&&DM(Da(a),w),a}var t=e.prototype;return t.render=function(i,s,o){var a=this._time,u=this._tDur,d=this._dur,h=i<0,p=i>u-Pr&&!h?u:i<Pr?0:i,y,m,b,x,w,A,P,I,T;if(!d)pH(this,i,s,o);else if(p!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h||this._lazy){if(y=p,I=this.timeline,this._repeat){if(x=d+this._rDelay,this._repeat<-1&&h)return this.totalTime(x*100+i,s,o);if(y=En(p%x),p===u?(b=this._repeat,y=d):(w=En(p/x),b=~~w,b&&b===w?(y=d,b--):y>d&&(y=d)),A=this._yoyo&&b&1,A&&(T=this._yEase,y=d-y),w=cf(this._tTime,x),y===a&&!o&&this._initted&&b===w)return this._tTime=p,this;b!==w&&(I&&this._yEase&&QM(I,A),this.vars.repeatRefresh&&!A&&!this._lock&&y!==x&&this._initted&&(this._lock=o=1,this.render(En(x*b),!0).invalidate()._lock=0))}if(!this._initted){if(LM(this,h?i:y,o,s,p))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&b!==w))return this;if(d!==this._dur)return this.render(i,s,o)}if(this._tTime=p,this._time=y,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=P=(T||this._ease)(y/d),this._from&&(this.ratio=P=1-P),!a&&p&&!s&&!w&&(Cs(this,"onStart"),this._tTime!==p))return this;for(m=this._pt;m;)m.r(P,m.d),m=m._next;I&&I.render(i<0?i:I._dur*I._ease(y/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(h&&d1(this,i,s,o),Cs(this,"onUpdate")),this._repeat&&b!==w&&this.vars.onRepeat&&!s&&this.parent&&Cs(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(h&&!this._onUpdate&&d1(this,i,!0,!0),(i||!d)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&ac(this,1),!s&&!(h&&!a)&&(p||a||A)&&(Cs(this,p===u?"onComplete":"onReverseComplete",!0),this._prom&&!(p<u&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),r.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,a,u){Op||vs.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||y_(this,d),h=this._ease(d/this._dur),IH(this,i,s,o,a,h,d,u)?this.resetTo(i,s,o,a,1):(rx(this,0),this.parent||MM(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Lh(this):this.scrollTrigger&&this.scrollTrigger.kill(!!ri),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,Bl&&Bl.vars.overwrite!==!0)._first||Lh(this),this.parent&&o!==this.timeline.totalDuration()&&uf(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,u=i?ro(i):a,d=this._ptLookup,h=this._pt,p,y,m,b,x,w,A;if((!s||s==="all")&&uH(a,u))return s==="all"&&(this._pt=0),Lh(this);for(p=this._op=this._op||[],s!=="all"&&(Vn(s)&&(x={},Xi(s,function(P){return x[P]=1}),s=x),s=MH(a,s)),A=a.length;A--;)if(~u.indexOf(a[A])){y=d[A],s==="all"?(p[A]=s,b=y,m={}):(m=p[A]=p[A]||{},b=s);for(x in b)w=y&&y[x],w&&((!("kill"in w.d)||w.d.kill(x)===!0)&&ex(this,w,"_pt"),delete y[x]),m!=="all"&&(m[x]=1)}return this._initted&&!this._pt&&h&&Lh(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return Zh(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return Zh(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return nn.killTweensOf(i,s,o)},e}(Dp);Is(_n.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Xi("staggerTo,staggerFrom,staggerFromTo",function(r){_n[r]=function(){var e=new Oi,t=h1.call(arguments,0);return t.splice(r==="staggerFromTo"?5:4,0,0),e[r].apply(e,t)}});var x_=function(e,t,n){return e[t]=n},n4=function(e,t,n){return e[t](n)},DH=function(e,t,n,i){return e[t](i.fp,n)},LH=function(e,t,n){return e.setAttribute(t,n)},v_=function(e,t){return cn(e[t])?n4:l_(e[t])&&e.setAttribute?LH:x_},i4=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},zH=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},s4=function(e,t){var n=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+i,n=n._next;i+=t.c}t.set(t.t,t.p,i,t)},b_=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},FH=function(e,t,n,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,n),s=o},BH=function(e){for(var t=this._pt,n,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?ex(this,t,"_pt"):t.dep||(n=1),t=i;return!n},$H=function(e,t,n,i){i.mSet(e,t,i.m.call(i.tween,n,i.mt),i)},o4=function(e){for(var t=e._pt,n,i,s,o;t;){for(n=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=n}e._pt=s},Zi=function(){function r(t,n,i,s,o,a,u,d,h){this.t=n,this.s=s,this.c=o,this.p=i,this.r=a||i4,this.d=u||this,this.set=d||x_,this.pr=h||0,this._next=t,t&&(t._prev=this)}var e=r.prototype;return e.modifier=function(n,i,s){this.mSet=this.mSet||this.set,this.set=$H,this.m=n,this.mt=s,this.tween=i},r}();Xi(h_+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(r){return f_[r]=1});Rs.TweenMax=Rs.TweenLite=_n;Rs.TimelineLite=Rs.TimelineMax=Oi;nn=new Oi({sortChildren:!1,defaults:af,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});js.stringFilter=YM;var uu=[],C0={},UH=[],iT=0,qH=0,$b=function(e){return(C0[e]||UH).map(function(t){return t()})},y1=function(){var e=Date.now(),t=[];e-iT>2&&($b("matchMediaInit"),uu.forEach(function(n){var i=n.queries,s=n.conditions,o,a,u,d;for(a in i)o=Zo.matchMedia(i[a]).matches,o&&(u=1),o!==s[a]&&(s[a]=o,d=1);d&&(n.revert(),u&&t.push(n))}),$b("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(i){return n.add(null,i)})}),iT=e,$b("matchMedia"))},a4=function(){function r(t,n){this.selector=n&&p1(n),this.data=[],this._r=[],this.isReverted=!1,this.id=qH++,t&&this.add(t)}var e=r.prototype;return e.add=function(n,i,s){cn(n)&&(s=i,i=n,n=cn);var o=this,a=function(){var d=Vr,h=o.selector,p;return d&&d!==o&&d.data.push(o),s&&(o.selector=p1(s)),Vr=o,p=i.apply(o,arguments),cn(p)&&o._r.push(p),Vr=d,o.selector=h,o.isReverted=!1,p};return o.last=a,n===cn?a(o,function(u){return o.add(null,u)}):n?o[n]=a:a},e.ignore=function(n){var i=Vr;Vr=null,n(this),Vr=i},e.getTweens=function(){var n=[];return this.data.forEach(function(i){return i instanceof r?n.push.apply(n,i.getTweens()):i instanceof _n&&!(i.parent&&i.parent.data==="nested")&&n.push(i)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,i){var s=this;if(n?function(){for(var a=s.getTweens(),u=s.data.length,d;u--;)d=s.data[u],d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(h){return a.splice(a.indexOf(h),1)}));for(a.map(function(h){return{g:h._dur||h._delay||h._sat&&!h._sat.vars.immediateRender?h.globalTime(0):-1/0,t:h}}).sort(function(h,p){return p.g-h.g||-1/0}).forEach(function(h){return h.t.revert(n)}),u=s.data.length;u--;)d=s.data[u],d instanceof Oi?d.data!=="nested"&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof _n)&&d.revert&&d.revert(n);s._r.forEach(function(h){return h(n,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=uu.length;o--;)uu[o].id===this.id&&uu.splice(o,1)},e.revert=function(n){this.kill(n||{})},r}(),WH=function(){function r(t){this.contexts=[],this.scope=t,Vr&&Vr.data.push(this)}var e=r.prototype;return e.add=function(n,i,s){pa(n)||(n={matches:n});var o=new a4(0,s||this.scope),a=o.conditions={},u,d,h;Vr&&!o.selector&&(o.selector=Vr.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=n;for(d in n)d==="all"?h=1:(u=Zo.matchMedia(n[d]),u&&(uu.indexOf(o)<0&&uu.push(o),(a[d]=u.matches)&&(h=1),u.addListener?u.addListener(y1):u.addEventListener("change",y1)));return h&&i(o,function(p){return o.add(null,p)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(i){return i.kill(n,!0)})},r}(),ly={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(i){return VM(i)})},timeline:function(e){return new Oi(e)},getTweensOf:function(e,t){return nn.getTweensOf(e,t)},getProperty:function(e,t,n,i){Vn(e)&&(e=ro(e)[0]);var s=au(e||{}).get,o=n?IM:RM;return n==="native"&&(n=""),e&&(t?o((ms[t]&&ms[t].get||s)(e,t,n,i)):function(a,u,d){return o((ms[a]&&ms[a].get||s)(e,a,u,d))})},quickSetter:function(e,t,n){if(e=ro(e),e.length>1){var i=e.map(function(h){return ts.quickSetter(h,t,n)}),s=i.length;return function(h){for(var p=s;p--;)i[p](h)}}e=e[0]||{};var o=ms[t],a=au(e),u=a.harness&&(a.harness.aliases||{})[t]||t,d=o?function(h){var p=new o;Od._pt=0,p.init(e,n?h+n:h,Od,0,[e]),p.render(1,p),Od._pt&&b_(1,Od)}:a.set(e,u);return o?d:function(h){return d(e,u,n?h+n:h,a,1)}},quickTo:function(e,t,n){var i,s=ts.to(e,Is((i={},i[t]="+=0.1",i.paused=!0,i.stagger=0,i),n||{})),o=function(u,d,h){return s.resetTo(t,u,d,h)};return o.tween=s,o},isTweening:function(e){return nn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=cu(e.ease,af.ease)),ZN(af,e||{})},config:function(e){return ZN(js,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!ms[a]&&!Rs[a]&&Rp(t+" effect requires "+a+" plugin.")}),Lb[t]=function(a,u,d){return n(ro(a),Is(u||{},s),d)},o&&(Oi.prototype[t]=function(a,u,d){return this.add(Lb[t](a,pa(u)?u:(d=u)&&{},this),d)})},registerEase:function(e,t){lr[e]=cu(t)},parseEase:function(e,t){return arguments.length?cu(e,t):lr},getById:function(e){return nn.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new Oi(e),i,s;for(n.smoothChildTiming=Qi(e.smoothChildTiming),nn.remove(n),n._dp=0,n._time=n._tTime=nn._time,i=nn._first;i;)s=i._next,(t||!(!i._dur&&i instanceof _n&&i.vars.onComplete===i._targets[0]))&&ia(n,i,i._start-i._delay),i=s;return ia(nn,n,0),n},context:function(e,t){return e?new a4(e,t):Vr},matchMedia:function(e){return new WH(e)},matchMediaRefresh:function(){return uu.forEach(function(e){var t=e.conditions,n,i;for(i in t)t[i]&&(t[i]=!1,n=1);n&&e.revert()})||y1()},addEventListener:function(e,t){var n=C0[e]||(C0[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=C0[e],i=n&&n.indexOf(t);i>=0&&n.splice(i,1)},utils:{wrap:kH,wrapYoyo:_H,distribute:BM,random:UM,snap:$M,normalize:wH,getUnit:yi,clamp:yH,splitColor:GM,toArray:ro,selector:p1,mapRange:WM,pipe:vH,unitize:bH,interpolate:EH,shuffle:FM},install:NM,effects:Lb,ticker:vs,updateRoot:Oi.updateRoot,plugins:ms,globalTimeline:nn,core:{PropTween:Zi,globals:TM,Tween:_n,Timeline:Oi,Animation:Dp,getCache:au,_removeLinkedListItem:ex,reverting:function(){return ri},context:function(e){return e&&Vr&&(Vr.data.push(e),e._ctx=Vr),Vr},suppressOverwrites:function(e){return a_=e}}};Xi("to,from,fromTo,delayedCall,set,killTweensOf",function(r){return ly[r]=_n[r]});vs.add(Oi.updateRoot);Od=ly.to({},{duration:0});var HH=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},VH=function(e,t){var n=e._targets,i,s,o;for(i in t)for(s=n.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=HH(o,i)),o&&o.modifier&&o.modifier(t[i],e,n[s],i))},Ub=function(e,t){return{name:e,headless:1,rawVars:1,init:function(i,s,o){o._onInit=function(a){var u,d;if(Vn(s)&&(u={},Xi(s,function(h){return u[h]=1}),s=u),t){u={};for(d in s)u[d]=t(s[d]);s=u}VH(a,s)}}}},ts=ly.registerPlugin({name:"attr",init:function(e,t,n,i,s){var o,a,u;this.tween=n;for(o in t)u=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(u||0)+"",t[o],i,s,0,0,o),a.op=o,a.b=u,this._props.push(o)},render:function(e,t){for(var n=t._pt;n;)ri?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},Ub("roundProps",m1),Ub("modifiers"),Ub("snap",$M))||ly;_n.version=Oi.version=ts.version="3.13.0";SM=1;c_()&&df();lr.Power0;lr.Power1;lr.Power2;lr.Power3;lr.Power4;lr.Linear;lr.Quad;lr.Cubic;lr.Quart;lr.Quint;lr.Strong;lr.Elastic;lr.Back;lr.SteppedEase;lr.Bounce;lr.Sine;lr.Expo;lr.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var sT,$l,Hd,w_,ru,oT,k_,GH=function(){return typeof window<"u"},Za={},Kc=180/Math.PI,Vd=Math.PI/180,fd=Math.atan2,aT=1e8,__=/([A-Z])/g,KH=/(left|right|width|margin|padding|x)/i,YH=/[\s,\(]\S/,aa={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},x1=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},JH=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},QH=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},XH=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},l4=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},c4=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},ZH=function(e,t,n){return e.style[t]=n},eV=function(e,t,n){return e.style.setProperty(t,n)},tV=function(e,t,n){return e._gsap[t]=n},rV=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},nV=function(e,t,n,i,s){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(s,o)},iV=function(e,t,n,i,s){var o=e._gsap;o[t]=n,o.renderTransform(s,o)},sn="transform",es=sn+"Origin",sV=function r(e,t){var n=this,i=this.target,s=i.style,o=i._gsap;if(e in Za&&s){if(this.tfm=this.tfm||{},e!=="transform")e=aa[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return n.tfm[a]=za(i,a)}):this.tfm[e]=o.x?o[e]:za(i,e),e===es&&(this.tfm.zOrigin=o.zOrigin);else return aa.transform.split(",").forEach(function(a){return r.call(n,a,t)});if(this.props.indexOf(sn)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(es,t,"")),e=sn}(s||t)&&this.props.push(e,t,s[e])},u4=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},oV=function(){var e=this.props,t=this.target,n=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(__,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=k_(),(!s||!s.isStart)&&!n[sn]&&(u4(n),i.zOrigin&&n[es]&&(n[es]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},d4=function(e,t){var n={target:e,props:[],revert:oV,save:sV};return e._gsap||ts.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(i){return n.save(i)}),n},f4,v1=function(e,t){var n=$l.createElementNS?$l.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):$l.createElement(e);return n&&n.style?n:$l.createElement(e)},no=function r(e,t,n){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(__,"-$1").toLowerCase())||i.getPropertyValue(t)||!n&&r(e,ff(t)||t,1)||""},lT="O,Moz,ms,Ms,Webkit".split(","),ff=function(e,t,n){var i=t||ru,s=i.style,o=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(lT[o]+e in s););return o<0?null:(o===3?"ms":o>=0?lT[o]:"")+e},b1=function(){GH()&&window.document&&(sT=window,$l=sT.document,Hd=$l.documentElement,ru=v1("div")||{style:{}},v1("div"),sn=ff(sn),es=sn+"Origin",ru.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",f4=!!ff("perspective"),k_=ts.core.reverting,w_=1)},cT=function(e){var t=e.ownerSVGElement,n=v1("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),s;i.style.display="block",n.appendChild(i),Hd.appendChild(n);try{s=i.getBBox()}catch{}return n.removeChild(i),Hd.removeChild(n),s},uT=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},h4=function(e){var t,n;try{t=e.getBBox()}catch{t=cT(e),n=1}return t&&(t.width||t.height)||n||(t=cT(e)),t&&!t.width&&!t.x&&!t.y?{x:+uT(e,["x","cx","x1"])||0,y:+uT(e,["y","cy","y1"])||0,width:0,height:0}:t},p4=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&h4(e))},ku=function(e,t){if(t){var n=e.style,i;t in Za&&t!==es&&(t=sn),n.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(i==="--"?t:t.replace(__,"-$1").toLowerCase())):n.removeAttribute(t)}},Ul=function(e,t,n,i,s,o){var a=new Zi(e._pt,t,n,0,1,o?c4:l4);return e._pt=a,a.b=i,a.e=s,e._props.push(n),a},dT={deg:1,rad:1,turn:1},aV={grid:1,flex:1},lc=function r(e,t,n,i){var s=parseFloat(n)||0,o=(n+"").trim().substr((s+"").length)||"px",a=ru.style,u=KH.test(t),d=e.tagName.toLowerCase()==="svg",h=(d?"client":"offset")+(u?"Width":"Height"),p=100,y=i==="px",m=i==="%",b,x,w,A;if(i===o||!s||dT[i]||dT[o])return s;if(o!=="px"&&!y&&(s=r(e,t,n,"px")),A=e.getCTM&&p4(e),(m||o==="%")&&(Za[t]||~t.indexOf("adius")))return b=A?e.getBBox()[u?"width":"height"]:e[h],pn(m?s/b*p:s/100*b);if(a[u?"width":"height"]=p+(y?o:i),x=i!=="rem"&&~t.indexOf("adius")||i==="em"&&e.appendChild&&!d?e:e.parentNode,A&&(x=(e.ownerSVGElement||{}).parentNode),(!x||x===$l||!x.appendChild)&&(x=$l.body),w=x._gsap,w&&m&&w.width&&u&&w.time===vs.time&&!w.uncache)return pn(s/w.width*p);if(m&&(t==="height"||t==="width")){var P=e.style[t];e.style[t]=p+i,b=e[h],P?e.style[t]=P:ku(e,t)}else(m||o==="%")&&!aV[no(x,"display")]&&(a.position=no(e,"position")),x===e&&(a.position="static"),x.appendChild(ru),b=ru[h],x.removeChild(ru),a.position="absolute";return u&&m&&(w=au(x),w.time=vs.time,w.width=x[h]),pn(y?b*s/p:b&&s?p/b*s:0)},za=function(e,t,n,i){var s;return w_||b1(),t in aa&&t!=="transform"&&(t=aa[t],~t.indexOf(",")&&(t=t.split(",")[0])),Za[t]&&t!=="transform"?(s=zp(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:uy(no(e,es))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=cy[t]&&cy[t](e,t,n)||no(e,t)||jM(e,t)||(t==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?lc(e,t,s,n)+n:s},lV=function(e,t,n,i){if(!n||n==="none"){var s=ff(t,e,1),o=s&&no(e,s,1);o&&o!==n?(t=s,n=o):t==="borderColor"&&(n=no(e,"borderTopColor"))}var a=new Zi(this._pt,e.style,t,0,1,s4),u=0,d=0,h,p,y,m,b,x,w,A,P,I,T,U;if(a.b=n,a.e=i,n+="",i+="",i.substring(0,6)==="var(--"&&(i=no(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(x=e.style[t],e.style[t]=i,i=no(e,t)||i,x?e.style[t]=x:ku(e,t)),h=[n,i],YM(h),n=h[0],i=h[1],y=n.match(Md)||[],U=i.match(Md)||[],U.length){for(;p=Md.exec(i);)w=p[0],P=i.substring(u,p.index),b?b=(b+1)%5:(P.substr(-5)==="rgba("||P.substr(-5)==="hsla(")&&(b=1),w!==(x=y[d++]||"")&&(m=parseFloat(x)||0,T=x.substr((m+"").length),w.charAt(1)==="="&&(w=Wd(m,w)+T),A=parseFloat(w),I=w.substr((A+"").length),u=Md.lastIndex-I.length,I||(I=I||js.units[t]||T,u===i.length&&(i+=I,a.e+=I)),T!==I&&(m=lc(e,t,x,I)||0),a._pt={_next:a._pt,p:P||d===1?P:",",s:m,c:A-m,m:b&&b<4||t==="zIndex"?Math.round:0});a.c=u<i.length?i.substring(u,i.length):""}else a.r=t==="display"&&i==="none"?c4:l4;return EM.test(i)&&(a.e=0),this._pt=a,a},fT={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},cV=function(e){var t=e.split(" "),n=t[0],i=t[1]||"50%";return(n==="top"||n==="bottom"||i==="left"||i==="right")&&(e=n,n=i,i=e),t[0]=fT[n]||n,t[1]=fT[i]||i,t.join(" ")},uV=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,i=n.style,s=t.u,o=n._gsap,a,u,d;if(s==="all"||s===!0)i.cssText="",u=1;else for(s=s.split(","),d=s.length;--d>-1;)a=s[d],Za[a]&&(u=1,a=a==="transformOrigin"?es:sn),ku(n,a);u&&(ku(n,sn),o&&(o.svg&&n.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",zp(n,1),o.uncache=1,u4(i)))}},cy={clearProps:function(e,t,n,i,s){if(s.data!=="isFromStart"){var o=e._pt=new Zi(e._pt,t,n,0,0,uV);return o.u=i,o.pr=-10,o.tween=s,e._props.push(n),1}}},Lp=[1,0,0,1,0,0],m4={},g4=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},hT=function(e){var t=no(e,sn);return g4(t)?Lp:t.substr(7).match(_M).map(pn)},E_=function(e,t){var n=e._gsap||au(e),i=e.style,s=hT(e),o,a,u,d;return n.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,s=[u.a,u.b,u.c,u.d,u.e,u.f],s.join(",")==="1,0,0,1,0,0"?Lp:s):(s===Lp&&!e.offsetParent&&e!==Hd&&!n.svg&&(u=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(d=1,a=e.nextElementSibling,Hd.appendChild(e)),s=hT(e),u?i.display=u:ku(e,"display"),d&&(a?o.insertBefore(e,a):o?o.appendChild(e):Hd.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},w1=function(e,t,n,i,s,o){var a=e._gsap,u=s||E_(e,!0),d=a.xOrigin||0,h=a.yOrigin||0,p=a.xOffset||0,y=a.yOffset||0,m=u[0],b=u[1],x=u[2],w=u[3],A=u[4],P=u[5],I=t.split(" "),T=parseFloat(I[0])||0,U=parseFloat(I[1])||0,B,H,G,W;n?u!==Lp&&(H=m*w-b*x)&&(G=T*(w/H)+U*(-x/H)+(x*P-w*A)/H,W=T*(-b/H)+U*(m/H)-(m*P-b*A)/H,T=G,U=W):(B=h4(e),T=B.x+(~I[0].indexOf("%")?T/100*B.width:T),U=B.y+(~(I[1]||I[0]).indexOf("%")?U/100*B.height:U)),i||i!==!1&&a.smooth?(A=T-d,P=U-h,a.xOffset=p+(A*m+P*x)-A,a.yOffset=y+(A*b+P*w)-P):a.xOffset=a.yOffset=0,a.xOrigin=T,a.yOrigin=U,a.smooth=!!i,a.origin=t,a.originIsAbsolute=!!n,e.style[es]="0px 0px",o&&(Ul(o,a,"xOrigin",d,T),Ul(o,a,"yOrigin",h,U),Ul(o,a,"xOffset",p,a.xOffset),Ul(o,a,"yOffset",y,a.yOffset)),e.setAttribute("data-svg-origin",T+" "+U)},zp=function(e,t){var n=e._gsap||new ZM(e);if("x"in n&&!t&&!n.uncache)return n;var i=e.style,s=n.scaleX<0,o="px",a="deg",u=getComputedStyle(e),d=no(e,es)||"0",h,p,y,m,b,x,w,A,P,I,T,U,B,H,G,W,V,K,q,D,v,S,_,j,O,z,E,M,N,R,X,$;return h=p=y=x=w=A=P=I=T=0,m=b=1,n.svg=!!(e.getCTM&&p4(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(i[sn]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[sn]!=="none"?u[sn]:"")),i.scale=i.rotate=i.translate="none"),H=E_(e,n.svg),n.svg&&(n.uncache?(O=e.getBBox(),d=n.xOrigin-O.x+"px "+(n.yOrigin-O.y)+"px",j=""):j=!t&&e.getAttribute("data-svg-origin"),w1(e,j||d,!!j||n.originIsAbsolute,n.smooth!==!1,H)),U=n.xOrigin||0,B=n.yOrigin||0,H!==Lp&&(K=H[0],q=H[1],D=H[2],v=H[3],h=S=H[4],p=_=H[5],H.length===6?(m=Math.sqrt(K*K+q*q),b=Math.sqrt(v*v+D*D),x=K||q?fd(q,K)*Kc:0,P=D||v?fd(D,v)*Kc+x:0,P&&(b*=Math.abs(Math.cos(P*Vd))),n.svg&&(h-=U-(U*K+B*D),p-=B-(U*q+B*v))):($=H[6],R=H[7],E=H[8],M=H[9],N=H[10],X=H[11],h=H[12],p=H[13],y=H[14],G=fd($,N),w=G*Kc,G&&(W=Math.cos(-G),V=Math.sin(-G),j=S*W+E*V,O=_*W+M*V,z=$*W+N*V,E=S*-V+E*W,M=_*-V+M*W,N=$*-V+N*W,X=R*-V+X*W,S=j,_=O,$=z),G=fd(-D,N),A=G*Kc,G&&(W=Math.cos(-G),V=Math.sin(-G),j=K*W-E*V,O=q*W-M*V,z=D*W-N*V,X=v*V+X*W,K=j,q=O,D=z),G=fd(q,K),x=G*Kc,G&&(W=Math.cos(G),V=Math.sin(G),j=K*W+q*V,O=S*W+_*V,q=q*W-K*V,_=_*W-S*V,K=j,S=O),w&&Math.abs(w)+Math.abs(x)>359.9&&(w=x=0,A=180-A),m=pn(Math.sqrt(K*K+q*q+D*D)),b=pn(Math.sqrt(_*_+$*$)),G=fd(S,_),P=Math.abs(G)>2e-4?G*Kc:0,T=X?1/(X<0?-X:X):0),n.svg&&(j=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!g4(no(e,sn)),j&&e.setAttribute("transform",j))),Math.abs(P)>90&&Math.abs(P)<270&&(s?(m*=-1,P+=x<=0?180:-180,x+=x<=0?180:-180):(b*=-1,P+=P<=0?180:-180)),t=t||n.uncache,n.x=h-((n.xPercent=h&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=p-((n.yPercent=p&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-p)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=y+o,n.scaleX=pn(m),n.scaleY=pn(b),n.rotation=pn(x)+a,n.rotationX=pn(w)+a,n.rotationY=pn(A)+a,n.skewX=P+a,n.skewY=I+a,n.transformPerspective=T+o,(n.zOrigin=parseFloat(d.split(" ")[2])||!t&&n.zOrigin||0)&&(i[es]=uy(d)),n.xOffset=n.yOffset=0,n.force3D=js.force3D,n.renderTransform=n.svg?fV:f4?y4:dV,n.uncache=0,n},uy=function(e){return(e=e.split(" "))[0]+" "+e[1]},qb=function(e,t,n){var i=yi(t);return pn(parseFloat(t)+parseFloat(lc(e,"x",n+"px",i)))+i},dV=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,y4(e,t)},$c="0deg",Ch="0px",Uc=") ",y4=function(e,t){var n=t||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,u=n.z,d=n.rotation,h=n.rotationY,p=n.rotationX,y=n.skewX,m=n.skewY,b=n.scaleX,x=n.scaleY,w=n.transformPerspective,A=n.force3D,P=n.target,I=n.zOrigin,T="",U=A==="auto"&&e&&e!==1||A===!0;if(I&&(p!==$c||h!==$c)){var B=parseFloat(h)*Vd,H=Math.sin(B),G=Math.cos(B),W;B=parseFloat(p)*Vd,W=Math.cos(B),o=qb(P,o,H*W*-I),a=qb(P,a,-Math.sin(B)*-I),u=qb(P,u,G*W*-I+I)}w!==Ch&&(T+="perspective("+w+Uc),(i||s)&&(T+="translate("+i+"%, "+s+"%) "),(U||o!==Ch||a!==Ch||u!==Ch)&&(T+=u!==Ch||U?"translate3d("+o+", "+a+", "+u+") ":"translate("+o+", "+a+Uc),d!==$c&&(T+="rotate("+d+Uc),h!==$c&&(T+="rotateY("+h+Uc),p!==$c&&(T+="rotateX("+p+Uc),(y!==$c||m!==$c)&&(T+="skew("+y+", "+m+Uc),(b!==1||x!==1)&&(T+="scale("+b+", "+x+Uc),P.style[sn]=T||"translate(0, 0)"},fV=function(e,t){var n=t||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,u=n.rotation,d=n.skewX,h=n.skewY,p=n.scaleX,y=n.scaleY,m=n.target,b=n.xOrigin,x=n.yOrigin,w=n.xOffset,A=n.yOffset,P=n.forceCSS,I=parseFloat(o),T=parseFloat(a),U,B,H,G,W;u=parseFloat(u),d=parseFloat(d),h=parseFloat(h),h&&(h=parseFloat(h),d+=h,u+=h),u||d?(u*=Vd,d*=Vd,U=Math.cos(u)*p,B=Math.sin(u)*p,H=Math.sin(u-d)*-y,G=Math.cos(u-d)*y,d&&(h*=Vd,W=Math.tan(d-h),W=Math.sqrt(1+W*W),H*=W,G*=W,h&&(W=Math.tan(h),W=Math.sqrt(1+W*W),U*=W,B*=W)),U=pn(U),B=pn(B),H=pn(H),G=pn(G)):(U=p,G=y,B=H=0),(I&&!~(o+"").indexOf("px")||T&&!~(a+"").indexOf("px"))&&(I=lc(m,"x",o,"px"),T=lc(m,"y",a,"px")),(b||x||w||A)&&(I=pn(I+b-(b*U+x*H)+w),T=pn(T+x-(b*B+x*G)+A)),(i||s)&&(W=m.getBBox(),I=pn(I+i/100*W.width),T=pn(T+s/100*W.height)),W="matrix("+U+","+B+","+H+","+G+","+I+","+T+")",m.setAttribute("transform",W),P&&(m.style[sn]=W)},hV=function(e,t,n,i,s){var o=360,a=Vn(s),u=parseFloat(s)*(a&&~s.indexOf("rad")?Kc:1),d=u-i,h=i+d+"deg",p,y;return a&&(p=s.split("_")[1],p==="short"&&(d%=o,d!==d%(o/2)&&(d+=d<0?o:-o)),p==="cw"&&d<0?d=(d+o*aT)%o-~~(d/o)*o:p==="ccw"&&d>0&&(d=(d-o*aT)%o-~~(d/o)*o)),e._pt=y=new Zi(e._pt,t,n,i,d,JH),y.e=h,y.u="deg",e._props.push(n),y},pT=function(e,t){for(var n in t)e[n]=t[n];return e},pV=function(e,t,n){var i=pT({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=n.style,a,u,d,h,p,y,m,b;i.svg?(d=n.getAttribute("transform"),n.setAttribute("transform",""),o[sn]=t,a=zp(n,1),ku(n,sn),n.setAttribute("transform",d)):(d=getComputedStyle(n)[sn],o[sn]=t,a=zp(n,1),o[sn]=d);for(u in Za)d=i[u],h=a[u],d!==h&&s.indexOf(u)<0&&(m=yi(d),b=yi(h),p=m!==b?lc(n,u,d,b):parseFloat(d),y=parseFloat(h),e._pt=new Zi(e._pt,a,u,p,y-p,x1),e._pt.u=b||0,e._props.push(u));pT(a,i)};Xi("padding,margin,Width,Radius",function(r,e){var t="Top",n="Right",i="Bottom",s="Left",o=(e<3?[t,n,i,s]:[t+s,t+n,i+n,i+s]).map(function(a){return e<2?r+a:"border"+a+r});cy[e>1?"border"+r:r]=function(a,u,d,h,p){var y,m;if(arguments.length<4)return y=o.map(function(b){return za(a,b,d)}),m=y.join(" "),m.split(y[0]).length===5?y[0]:m;y=(h+"").split(" "),m={},o.forEach(function(b,x){return m[b]=y[x]=y[x]||y[(x-1)/2|0]}),a.init(u,m,p)}});var x4={name:"css",register:b1,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,i,s){var o=this._props,a=e.style,u=n.vars.startAt,d,h,p,y,m,b,x,w,A,P,I,T,U,B,H,G;w_||b1(),this.styles=this.styles||d4(e),G=this.styles.props,this.tween=n;for(x in t)if(x!=="autoRound"&&(h=t[x],!(ms[x]&&e4(x,t,n,i,e,s)))){if(m=typeof h,b=cy[x],m==="function"&&(h=h.call(n,i,e,s),m=typeof h),m==="string"&&~h.indexOf("random(")&&(h=Mp(h)),b)b(this,e,x,h,n)&&(H=1);else if(x.substr(0,2)==="--")d=(getComputedStyle(e).getPropertyValue(x)+"").trim(),h+="",Xl.lastIndex=0,Xl.test(d)||(w=yi(d),A=yi(h)),A?w!==A&&(d=lc(e,x,d,A)+A):w&&(h+=w),this.add(a,"setProperty",d,h,i,s,0,0,x),o.push(x),G.push(x,0,a[x]);else if(m!=="undefined"){if(u&&x in u?(d=typeof u[x]=="function"?u[x].call(n,i,e,s):u[x],Vn(d)&&~d.indexOf("random(")&&(d=Mp(d)),yi(d+"")||d==="auto"||(d+=js.units[x]||yi(za(e,x))||""),(d+"").charAt(1)==="="&&(d=za(e,x))):d=za(e,x),y=parseFloat(d),P=m==="string"&&h.charAt(1)==="="&&h.substr(0,2),P&&(h=h.substr(2)),p=parseFloat(h),x in aa&&(x==="autoAlpha"&&(y===1&&za(e,"visibility")==="hidden"&&p&&(y=0),G.push("visibility",0,a.visibility),Ul(this,a,"visibility",y?"inherit":"hidden",p?"inherit":"hidden",!p)),x!=="scale"&&x!=="transform"&&(x=aa[x],~x.indexOf(",")&&(x=x.split(",")[0]))),I=x in Za,I){if(this.styles.save(x),m==="string"&&h.substring(0,6)==="var(--"&&(h=no(e,h.substring(4,h.indexOf(")"))),p=parseFloat(h)),T||(U=e._gsap,U.renderTransform&&!t.parseTransform||zp(e,t.parseTransform),B=t.smoothOrigin!==!1&&U.smooth,T=this._pt=new Zi(this._pt,a,sn,0,1,U.renderTransform,U,0,-1),T.dep=1),x==="scale")this._pt=new Zi(this._pt,U,"scaleY",U.scaleY,(P?Wd(U.scaleY,P+p):p)-U.scaleY||0,x1),this._pt.u=0,o.push("scaleY",x),x+="X";else if(x==="transformOrigin"){G.push(es,0,a[es]),h=cV(h),U.svg?w1(e,h,0,B,0,this):(A=parseFloat(h.split(" ")[2])||0,A!==U.zOrigin&&Ul(this,U,"zOrigin",U.zOrigin,A),Ul(this,a,x,uy(d),uy(h)));continue}else if(x==="svgOrigin"){w1(e,h,1,B,0,this);continue}else if(x in m4){hV(this,U,x,y,P?Wd(y,P+h):h);continue}else if(x==="smoothOrigin"){Ul(this,U,"smooth",U.smooth,h);continue}else if(x==="force3D"){U[x]=h;continue}else if(x==="transform"){pV(this,h,e);continue}}else x in a||(x=ff(x)||x);if(I||(p||p===0)&&(y||y===0)&&!YH.test(h)&&x in a)w=(d+"").substr((y+"").length),p||(p=0),A=yi(h)||(x in js.units?js.units[x]:w),w!==A&&(y=lc(e,x,d,A)),this._pt=new Zi(this._pt,I?U:a,x,y,(P?Wd(y,P+p):p)-y,!I&&(A==="px"||x==="zIndex")&&t.autoRound!==!1?XH:x1),this._pt.u=A||0,w!==A&&A!=="%"&&(this._pt.b=d,this._pt.r=QH);else if(x in a)lV.call(this,e,x,d,P?P+h:h);else if(x in e)this.add(e,x,d||e[x],P?P+h:h,i,s);else if(x!=="parseTransform"){d_(x,h);continue}I||(x in a?G.push(x,0,a[x]):typeof e[x]=="function"?G.push(x,2,e[x]()):G.push(x,1,d||e[x])),o.push(x)}}H&&o4(this)},render:function(e,t){if(t.tween._time||!k_())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:za,aliases:aa,getSetter:function(e,t,n){var i=aa[t];return i&&i.indexOf(",")<0&&(t=i),t in Za&&t!==es&&(e._gsap.x||za(e,"x"))?n&&oT===n?t==="scale"?rV:tV:(oT=n||{})&&(t==="scale"?nV:iV):e.style&&!l_(e.style[t])?ZH:~t.indexOf("-")?eV:v_(e,t)},core:{_removeProperty:ku,_getMatrix:E_}};ts.utils.checkPrefix=ff;ts.core.getStyleSaver=d4;(function(r,e,t,n){var i=Xi(r+","+e+","+t,function(s){Za[s]=1});Xi(e,function(s){js.units[s]="deg",m4[s]=1}),aa[i[13]]=r+","+e,Xi(n,function(s){var o=s.split(":");aa[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Xi("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(r){js.units[r]="px"});ts.registerPlugin(x4);var Fa=ts.registerPlugin(x4)||ts;Fa.core.Tween;function mV(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function gV(r,e,t){return e&&mV(r.prototype,e),r}/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var ti,S0,bs,ql,Wl,Gd,v4,Yc,tp,b4,Ga,_o,w4,k4=function(){return ti||typeof window<"u"&&(ti=window.gsap)&&ti.registerPlugin&&ti},_4=1,Dd=[],Zt=[],ua=[],rp=Date.now,k1=function(e,t){return t},yV=function(){var e=tp.core,t=e.bridge||{},n=e._scrollers,i=e._proxies;n.push.apply(n,Zt),i.push.apply(i,ua),Zt=n,ua=i,k1=function(o,a){return t[o](a)}},Zl=function(e,t){return~ua.indexOf(e)&&ua[ua.indexOf(e)+1][t]},np=function(e){return!!~b4.indexOf(e)},Ni=function(e,t,n,i,s){return e.addEventListener(t,n,{passive:i!==!1,capture:!!s})},Si=function(e,t,n,i){return e.removeEventListener(t,n,!!i)},Mg="scrollLeft",Og="scrollTop",_1=function(){return Ga&&Ga.isPressed||Zt.cache++},dy=function(e,t){var n=function i(s){if(s||s===0){_4&&(bs.history.scrollRestoration="manual");var o=Ga&&Ga.isPressed;s=i.v=Math.round(s)||(Ga&&Ga.iOS?1:0),e(s),i.cacheID=Zt.cache,o&&k1("ss",s)}else(t||Zt.cache!==i.cacheID||k1("ref"))&&(i.cacheID=Zt.cache,i.v=e());return i.v+i.offset};return n.offset=0,e&&n},Di={s:Mg,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:dy(function(r){return arguments.length?bs.scrollTo(r,On.sc()):bs.pageXOffset||ql[Mg]||Wl[Mg]||Gd[Mg]||0})},On={s:Og,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Di,sc:dy(function(r){return arguments.length?bs.scrollTo(Di.sc(),r):bs.pageYOffset||ql[Og]||Wl[Og]||Gd[Og]||0})},Yi=function(e,t){return(t&&t._ctx&&t._ctx.selector||ti.utils.toArray)(e)[0]||(typeof e=="string"&&ti.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},xV=function(e,t){for(var n=t.length;n--;)if(t[n]===e||t[n].contains(e))return!0;return!1},cc=function(e,t){var n=t.s,i=t.sc;np(e)&&(e=ql.scrollingElement||Wl);var s=Zt.indexOf(e),o=i===On.sc?1:2;!~s&&(s=Zt.push(e)-1),Zt[s+o]||Ni(e,"scroll",_1);var a=Zt[s+o],u=a||(Zt[s+o]=dy(Zl(e,n),!0)||(np(e)?i:dy(function(d){return arguments.length?e[n]=d:e[n]})));return u.target=e,a||(u.smooth=ti.getProperty(e,"scrollBehavior")==="smooth"),u},E1=function(e,t,n){var i=e,s=e,o=rp(),a=o,u=t||50,d=Math.max(500,u*3),h=function(b,x){var w=rp();x||w-o>u?(s=i,i=b,a=o,o=w):n?i+=b:i=s+(b-s)/(w-a)*(o-a)},p=function(){s=i=n?0:i,a=o=0},y=function(b){var x=a,w=s,A=rp();return(b||b===0)&&b!==i&&h(b),o===a||A-a>d?0:(i+(n?w:-w))/((n?A:o)-x)*1e3};return{update:h,reset:p,getVelocity:y}},Sh=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},mT=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},E4=function(){tp=ti.core.globals().ScrollTrigger,tp&&tp.core&&yV()},C4=function(e){return ti=e||k4(),!S0&&ti&&typeof document<"u"&&document.body&&(bs=window,ql=document,Wl=ql.documentElement,Gd=ql.body,b4=[bs,ql,Wl,Gd],ti.utils.clamp,w4=ti.core.context||function(){},Yc="onpointerenter"in Gd?"pointer":"mouse",v4=mn.isTouch=bs.matchMedia&&bs.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in bs||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,_o=mn.eventTypes=("ontouchstart"in Wl?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Wl?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return _4=0},500),E4(),S0=1),S0};Di.op=On;Zt.cache=0;var mn=function(){function r(t){this.init(t)}var e=r.prototype;return e.init=function(n){S0||C4(ti)||console.warn("Please gsap.registerPlugin(Observer)"),tp||E4();var i=n.tolerance,s=n.dragMinimum,o=n.type,a=n.target,u=n.lineHeight,d=n.debounce,h=n.preventDefault,p=n.onStop,y=n.onStopDelay,m=n.ignore,b=n.wheelSpeed,x=n.event,w=n.onDragStart,A=n.onDragEnd,P=n.onDrag,I=n.onPress,T=n.onRelease,U=n.onRight,B=n.onLeft,H=n.onUp,G=n.onDown,W=n.onChangeX,V=n.onChangeY,K=n.onChange,q=n.onToggleX,D=n.onToggleY,v=n.onHover,S=n.onHoverEnd,_=n.onMove,j=n.ignoreCheck,O=n.isNormalizer,z=n.onGestureStart,E=n.onGestureEnd,M=n.onWheel,N=n.onEnable,R=n.onDisable,X=n.onClick,$=n.scrollSpeed,Y=n.capture,Q=n.allowClicks,Z=n.lockAxis,te=n.onLockAxis;this.target=a=Yi(a)||Wl,this.vars=n,m&&(m=ti.utils.toArray(m)),i=i||1e-9,s=s||0,b=b||1,$=$||1,o=o||"wheel,touch,pointer",d=d!==!1,u||(u=parseFloat(bs.getComputedStyle(Gd).lineHeight)||22);var ce,ne,ue,xe,ye,Se,pt,ae=this,Ye=0,Rt=0,Xe=n.passive||!h&&n.passive!==!1,Ie=cc(a,Di),Gt=cc(a,On),tt=Ie(),xt=Gt(),Me=~o.indexOf("touch")&&!~o.indexOf("pointer")&&_o[0]==="pointerdown",oe=np(a),he=a.ownerDocument||ql,Oe=[0,0,0],Te=[0,0,0],Re=0,jt=function(){return Re=rp()},qe=function($e,ze){return(ae.event=$e)&&m&&xV($e.target,m)||ze&&Me&&$e.pointerType!=="touch"||j&&j($e,ze)},rt=function(){ae._vx.reset(),ae._vy.reset(),ne.pause(),p&&p(ae)},Ht=function(){var $e=ae.deltaX=mT(Oe),ze=ae.deltaY=mT(Te),be=Math.abs($e)>=i,Fe=Math.abs(ze)>=i;K&&(be||Fe)&&K(ae,$e,ze,Oe,Te),be&&(U&&ae.deltaX>0&&U(ae),B&&ae.deltaX<0&&B(ae),W&&W(ae),q&&ae.deltaX<0!=Ye<0&&q(ae),Ye=ae.deltaX,Oe[0]=Oe[1]=Oe[2]=0),Fe&&(G&&ae.deltaY>0&&G(ae),H&&ae.deltaY<0&&H(ae),V&&V(ae),D&&ae.deltaY<0!=Rt<0&&D(ae),Rt=ae.deltaY,Te[0]=Te[1]=Te[2]=0),(xe||ue)&&(_&&_(ae),ue&&(w&&ue===1&&w(ae),P&&P(ae),ue=0),xe=!1),Se&&!(Se=!1)&&te&&te(ae),ye&&(M(ae),ye=!1),ce=0},vt=function($e,ze,be){Oe[be]+=$e,Te[be]+=ze,ae._vx.update($e),ae._vy.update(ze),d?ce||(ce=requestAnimationFrame(Ht)):Ht()},ot=function($e,ze){Z&&!pt&&(ae.axis=pt=Math.abs($e)>Math.abs(ze)?"x":"y",Se=!0),pt!=="y"&&(Oe[2]+=$e,ae._vx.update($e,!0)),pt!=="x"&&(Te[2]+=ze,ae._vy.update(ze,!0)),d?ce||(ce=requestAnimationFrame(Ht)):Ht()},dr=function($e){if(!qe($e,1)){$e=Sh($e,h);var ze=$e.clientX,be=$e.clientY,Fe=ze-ae.x,Ne=be-ae.y,Le=ae.isDragging;ae.x=ze,ae.y=be,(Le||(Fe||Ne)&&(Math.abs(ae.startX-ze)>=s||Math.abs(ae.startY-be)>=s))&&(ue=Le?2:1,Le||(ae.isDragging=!0),ot(Fe,Ne))}},bt=ae.onPress=function(Pe){qe(Pe,1)||Pe&&Pe.button||(ae.axis=pt=null,ne.pause(),ae.isPressed=!0,Pe=Sh(Pe),Ye=Rt=0,ae.startX=ae.x=Pe.clientX,ae.startY=ae.y=Pe.clientY,ae._vx.reset(),ae._vy.reset(),Ni(O?a:he,_o[1],dr,Xe,!0),ae.deltaX=ae.deltaY=0,I&&I(ae))},Be=ae.onRelease=function(Pe){if(!qe(Pe,1)){Si(O?a:he,_o[1],dr,!0);var $e=!isNaN(ae.y-ae.startY),ze=ae.isDragging,be=ze&&(Math.abs(ae.x-ae.startX)>3||Math.abs(ae.y-ae.startY)>3),Fe=Sh(Pe);!be&&$e&&(ae._vx.reset(),ae._vy.reset(),h&&Q&&ti.delayedCall(.08,function(){if(rp()-Re>300&&!Pe.defaultPrevented){if(Pe.target.click)Pe.target.click();else if(he.createEvent){var Ne=he.createEvent("MouseEvents");Ne.initMouseEvent("click",!0,!0,bs,1,Fe.screenX,Fe.screenY,Fe.clientX,Fe.clientY,!1,!1,!1,!1,0,null),Pe.target.dispatchEvent(Ne)}}})),ae.isDragging=ae.isGesturing=ae.isPressed=!1,p&&ze&&!O&&ne.restart(!0),ue&&Ht(),A&&ze&&A(ae),T&&T(ae,be)}},Ir=function($e){return $e.touches&&$e.touches.length>1&&(ae.isGesturing=!0)&&z($e,ae.isDragging)},Nt=function(){return(ae.isGesturing=!1)||E(ae)},St=function($e){if(!qe($e)){var ze=Ie(),be=Gt();vt((ze-tt)*$,(be-xt)*$,1),tt=ze,xt=be,p&&ne.restart(!0)}},or=function($e){if(!qe($e)){$e=Sh($e,h),M&&(ye=!0);var ze=($e.deltaMode===1?u:$e.deltaMode===2?bs.innerHeight:1)*b;vt($e.deltaX*ze,$e.deltaY*ze,0),p&&!O&&ne.restart(!0)}},Dt=function($e){if(!qe($e)){var ze=$e.clientX,be=$e.clientY,Fe=ze-ae.x,Ne=be-ae.y;ae.x=ze,ae.y=be,xe=!0,p&&ne.restart(!0),(Fe||Ne)&&ot(Fe,Ne)}},De=function($e){ae.event=$e,v(ae)},dt=function($e){ae.event=$e,S(ae)},it=function($e){return qe($e)||Sh($e,h)&&X(ae)};ne=ae._dc=ti.delayedCall(y||.25,rt).pause(),ae.deltaX=ae.deltaY=0,ae._vx=E1(0,50,!0),ae._vy=E1(0,50,!0),ae.scrollX=Ie,ae.scrollY=Gt,ae.isDragging=ae.isGesturing=ae.isPressed=!1,w4(this),ae.enable=function(Pe){return ae.isEnabled||(Ni(oe?he:a,"scroll",_1),o.indexOf("scroll")>=0&&Ni(oe?he:a,"scroll",St,Xe,Y),o.indexOf("wheel")>=0&&Ni(a,"wheel",or,Xe,Y),(o.indexOf("touch")>=0&&v4||o.indexOf("pointer")>=0)&&(Ni(a,_o[0],bt,Xe,Y),Ni(he,_o[2],Be),Ni(he,_o[3],Be),Q&&Ni(a,"click",jt,!0,!0),X&&Ni(a,"click",it),z&&Ni(he,"gesturestart",Ir),E&&Ni(he,"gestureend",Nt),v&&Ni(a,Yc+"enter",De),S&&Ni(a,Yc+"leave",dt),_&&Ni(a,Yc+"move",Dt)),ae.isEnabled=!0,ae.isDragging=ae.isGesturing=ae.isPressed=xe=ue=!1,ae._vx.reset(),ae._vy.reset(),tt=Ie(),xt=Gt(),Pe&&Pe.type&&bt(Pe),N&&N(ae)),ae},ae.disable=function(){ae.isEnabled&&(Dd.filter(function(Pe){return Pe!==ae&&np(Pe.target)}).length||Si(oe?he:a,"scroll",_1),ae.isPressed&&(ae._vx.reset(),ae._vy.reset(),Si(O?a:he,_o[1],dr,!0)),Si(oe?he:a,"scroll",St,Y),Si(a,"wheel",or,Y),Si(a,_o[0],bt,Y),Si(he,_o[2],Be),Si(he,_o[3],Be),Si(a,"click",jt,!0),Si(a,"click",it),Si(he,"gesturestart",Ir),Si(he,"gestureend",Nt),Si(a,Yc+"enter",De),Si(a,Yc+"leave",dt),Si(a,Yc+"move",Dt),ae.isEnabled=ae.isPressed=ae.isDragging=!1,R&&R(ae))},ae.kill=ae.revert=function(){ae.disable();var Pe=Dd.indexOf(ae);Pe>=0&&Dd.splice(Pe,1),Ga===ae&&(Ga=0)},Dd.push(ae),O&&np(a)&&(Ga=ae),ae.enable(x)},gV(r,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),r}();mn.version="3.13.0";mn.create=function(r){return new mn(r)};mn.register=C4;mn.getAll=function(){return Dd.slice()};mn.getById=function(r){return Dd.filter(function(e){return e.vars.id===r})[0]};k4()&&ti.registerPlugin(mn);/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Qe,_d,Xt,zr,ys,Er,C_,fy,Fp,ip,Fh,Dg,fi,nx,C1,ji,gT,yT,Ed,S4,Wb,N4,Ai,S1,T4,A4,Il,N1,S_,Kd,N_,hy,T1,Hb,Lg=1,hi=Date.now,Vb=hi(),so=0,Bh=0,xT=function(e,t,n){var i=fs(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=i,i?e.substr(6,e.length-7):e},vT=function(e,t){return t&&(!fs(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},vV=function r(){return Bh&&requestAnimationFrame(r)},bT=function(){return nx=1},wT=function(){return nx=0},ea=function(e){return e},$h=function(e){return Math.round(e*1e5)/1e5||0},j4=function(){return typeof window<"u"},P4=function(){return Qe||j4()&&(Qe=window.gsap)&&Qe.registerPlugin&&Qe},_u=function(e){return!!~C_.indexOf(e)},R4=function(e){return(e==="Height"?N_:Xt["inner"+e])||ys["client"+e]||Er["client"+e]},I4=function(e){return Zl(e,"getBoundingClientRect")||(_u(e)?function(){return P0.width=Xt.innerWidth,P0.height=N_,P0}:function(){return qa(e)})},bV=function(e,t,n){var i=n.d,s=n.d2,o=n.a;return(o=Zl(e,"getBoundingClientRect"))?function(){return o()[i]}:function(){return(t?R4(s):e["client"+s])||0}},wV=function(e,t){return!t||~ua.indexOf(e)?I4(e):function(){return P0}},la=function(e,t){var n=t.s,i=t.d2,s=t.d,o=t.a;return Math.max(0,(n="scroll"+i)&&(o=Zl(e,n))?o()-I4(e)()[s]:_u(e)?(ys[n]||Er[n])-R4(i):e[n]-e["offset"+i])},zg=function(e,t){for(var n=0;n<Ed.length;n+=3)(!t||~t.indexOf(Ed[n+1]))&&e(Ed[n],Ed[n+1],Ed[n+2])},fs=function(e){return typeof e=="string"},xi=function(e){return typeof e=="function"},Uh=function(e){return typeof e=="number"},Jc=function(e){return typeof e=="object"},Nh=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},Gb=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return t(e)}):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},hd=Math.abs,M4="left",O4="top",T_="right",A_="bottom",du="width",fu="height",sp="Right",op="Left",ap="Top",lp="Bottom",bn="padding",Ys="margin",hf="Width",j_="Height",Rn="px",Js=function(e){return Xt.getComputedStyle(e)},kV=function(e){var t=Js(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},kT=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},qa=function(e,t){var n=t&&Js(e)[C1]!=="matrix(1, 0, 0, 1, 0, 0)"&&Qe.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return n&&n.progress(0).kill(),i},py=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},D4=function(e){var t=[],n=e.labels,i=e.duration(),s;for(s in n)t.push(n[s]/i);return t},_V=function(e){return function(t){return Qe.utils.snap(D4(e),t)}},P_=function(e){var t=Qe.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(i,s){return i-s});return n?function(i,s,o){o===void 0&&(o=.001);var a;if(!s)return t(i);if(s>0){for(i-=o,a=0;a<n.length;a++)if(n[a]>=i)return n[a];return n[a-1]}else for(a=n.length,i+=o;a--;)if(n[a]<=i)return n[a];return n[0]}:function(i,s,o){o===void 0&&(o=.001);var a=t(i);return!s||Math.abs(a-i)<o||a-i<0==s<0?a:t(s<0?i-e:i+e)}},EV=function(e){return function(t,n){return P_(D4(e))(t,n.direction)}},Fg=function(e,t,n,i){return n.split(",").forEach(function(s){return e(t,s,i)})},Un=function(e,t,n,i,s){return e.addEventListener(t,n,{passive:!i,capture:!!s})},$n=function(e,t,n,i){return e.removeEventListener(t,n,!!i)},Bg=function(e,t,n){n=n&&n.wheelHandler,n&&(e(t,"wheel",n),e(t,"touchmove",n))},_T={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},$g={toggleActions:"play",anticipatePin:0},my={top:0,left:0,center:.5,bottom:1,right:1},N0=function(e,t){if(fs(e)){var n=e.indexOf("="),i=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(i*=t/100),e=e.substr(0,n-1)),e=i+(e in my?my[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},Ug=function(e,t,n,i,s,o,a,u){var d=s.startColor,h=s.endColor,p=s.fontSize,y=s.indent,m=s.fontWeight,b=zr.createElement("div"),x=_u(n)||Zl(n,"pinType")==="fixed",w=e.indexOf("scroller")!==-1,A=x?Er:n,P=e.indexOf("start")!==-1,I=P?d:h,T="border-color:"+I+";font-size:"+p+";color:"+I+";font-weight:"+m+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return T+="position:"+((w||u)&&x?"fixed;":"absolute;"),(w||u||!x)&&(T+=(i===On?T_:A_)+":"+(o+parseFloat(y))+"px;"),a&&(T+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),b._isStart=P,b.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),b.style.cssText=T,b.innerText=t||t===0?e+"-"+t:e,A.children[0]?A.insertBefore(b,A.children[0]):A.appendChild(b),b._offset=b["offset"+i.op.d2],T0(b,0,i,P),b},T0=function(e,t,n,i){var s={display:"block"},o=n[i?"os2":"p2"],a=n[i?"p2":"os2"];e._isFlipped=i,s[n.a+"Percent"]=i?-100:0,s[n.a]=i?"1px":0,s["border"+o+hf]=1,s["border"+a+hf]=0,s[n.p]=t+"px",Qe.set(e,s)},Kt=[],A1={},Bp,ET=function(){return hi()-so>34&&(Bp||(Bp=requestAnimationFrame(Ka)))},pd=function(){(!Ai||!Ai.isPressed||Ai.startX>Er.clientWidth)&&(Zt.cache++,Ai?Bp||(Bp=requestAnimationFrame(Ka)):Ka(),so||Cu("scrollStart"),so=hi())},Kb=function(){A4=Xt.innerWidth,T4=Xt.innerHeight},qh=function(e){Zt.cache++,(e===!0||!fi&&!N4&&!zr.fullscreenElement&&!zr.webkitFullscreenElement&&(!S1||A4!==Xt.innerWidth||Math.abs(Xt.innerHeight-T4)>Xt.innerHeight*.25))&&fy.restart(!0)},Eu={},CV=[],L4=function r(){return $n(er,"scrollEnd",r)||nu(!0)},Cu=function(e){return Eu[e]&&Eu[e].map(function(t){return t()})||CV},ds=[],z4=function(e){for(var t=0;t<ds.length;t+=5)(!e||ds[t+4]&&ds[t+4].query===e)&&(ds[t].style.cssText=ds[t+1],ds[t].getBBox&&ds[t].setAttribute("transform",ds[t+2]||""),ds[t+3].uncache=1)},R_=function(e,t){var n;for(ji=0;ji<Kt.length;ji++)n=Kt[ji],n&&(!t||n._ctx===t)&&(e?n.kill(1):n.revert(!0,!0));hy=!0,t&&z4(t),t||Cu("revert")},F4=function(e,t){Zt.cache++,(t||!Pi)&&Zt.forEach(function(n){return xi(n)&&n.cacheID++&&(n.rec=0)}),fs(e)&&(Xt.history.scrollRestoration=S_=e)},Pi,hu=0,CT,SV=function(){if(CT!==hu){var e=CT=hu;requestAnimationFrame(function(){return e===hu&&nu(!0)})}},B4=function(){Er.appendChild(Kd),N_=!Ai&&Kd.offsetHeight||Xt.innerHeight,Er.removeChild(Kd)},ST=function(e){return Fp(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},nu=function(e,t){if(ys=zr.documentElement,Er=zr.body,C_=[Xt,zr,ys,Er],so&&!e&&!hy){Un(er,"scrollEnd",L4);return}B4(),Pi=er.isRefreshing=!0,Zt.forEach(function(i){return xi(i)&&++i.cacheID&&(i.rec=i())});var n=Cu("refreshInit");S4&&er.sort(),t||R_(),Zt.forEach(function(i){xi(i)&&(i.smooth&&(i.target.style.scrollBehavior="auto"),i(0))}),Kt.slice(0).forEach(function(i){return i.refresh()}),hy=!1,Kt.forEach(function(i){if(i._subPinOffset&&i.pin){var s=i.vars.horizontal?"offsetWidth":"offsetHeight",o=i.pin[s];i.revert(!0,1),i.adjustPinSpacing(i.pin[s]-o),i.refresh()}}),T1=1,ST(!0),Kt.forEach(function(i){var s=la(i.scroller,i._dir),o=i.vars.end==="max"||i._endClamp&&i.end>s,a=i._startClamp&&i.start>=s;(o||a)&&i.setPositions(a?s-1:i.start,o?Math.max(a?s:i.start+1,s):i.end,!0)}),ST(!1),T1=0,n.forEach(function(i){return i&&i.render&&i.render(-1)}),Zt.forEach(function(i){xi(i)&&(i.smooth&&requestAnimationFrame(function(){return i.target.style.scrollBehavior="smooth"}),i.rec&&i(i.rec))}),F4(S_,1),fy.pause(),hu++,Pi=2,Ka(2),Kt.forEach(function(i){return xi(i.vars.onRefresh)&&i.vars.onRefresh(i)}),Pi=er.isRefreshing=!1,Cu("refresh")},j1=0,A0=1,cp,Ka=function(e){if(e===2||!Pi&&!hy){er.isUpdating=!0,cp&&cp.update(0);var t=Kt.length,n=hi(),i=n-Vb>=50,s=t&&Kt[0].scroll();if(A0=j1>s?-1:1,Pi||(j1=s),i&&(so&&!nx&&n-so>200&&(so=0,Cu("scrollEnd")),Fh=Vb,Vb=n),A0<0){for(ji=t;ji-- >0;)Kt[ji]&&Kt[ji].update(0,i);A0=1}else for(ji=0;ji<t;ji++)Kt[ji]&&Kt[ji].update(0,i);er.isUpdating=!1}Bp=0},P1=[M4,O4,A_,T_,Ys+lp,Ys+sp,Ys+ap,Ys+op,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],j0=P1.concat([du,fu,"boxSizing","max"+hf,"max"+j_,"position",Ys,bn,bn+ap,bn+sp,bn+lp,bn+op]),NV=function(e,t,n){Yd(n);var i=e._gsap;if(i.spacerIsNative)Yd(i.spacerState);else if(e._gsap.swappedIn){var s=t.parentNode;s&&(s.insertBefore(e,t),s.removeChild(t))}e._gsap.swappedIn=!1},Yb=function(e,t,n,i){if(!e._gsap.swappedIn){for(var s=P1.length,o=t.style,a=e.style,u;s--;)u=P1[s],o[u]=n[u];o.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(o.display="inline-block"),a[A_]=a[T_]="auto",o.flexBasis=n.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[du]=py(e,Di)+Rn,o[fu]=py(e,On)+Rn,o[bn]=a[Ys]=a[O4]=a[M4]="0",Yd(i),a[du]=a["max"+hf]=n[du],a[fu]=a["max"+j_]=n[fu],a[bn]=n[bn],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},TV=/([A-Z])/g,Yd=function(e){if(e){var t=e.t.style,n=e.length,i=0,s,o;for((e.t._gsap||Qe.core.getCache(e.t)).uncache=1;i<n;i+=2)o=e[i+1],s=e[i],o?t[s]=o:t[s]&&t.removeProperty(s.replace(TV,"-$1").toLowerCase())}},qg=function(e){for(var t=j0.length,n=e.style,i=[],s=0;s<t;s++)i.push(j0[s],n[j0[s]]);return i.t=e,i},AV=function(e,t,n){for(var i=[],s=e.length,o=n?8:0,a;o<s;o+=2)a=e[o],i.push(a,a in t?t[a]:e[o+1]);return i.t=e.t,i},P0={left:0,top:0},NT=function(e,t,n,i,s,o,a,u,d,h,p,y,m,b){xi(e)&&(e=e(u)),fs(e)&&e.substr(0,3)==="max"&&(e=y+(e.charAt(4)==="="?N0("0"+e.substr(3),n):0));var x=m?m.time():0,w,A,P;if(m&&m.seek(0),isNaN(e)||(e=+e),Uh(e))m&&(e=Qe.utils.mapRange(m.scrollTrigger.start,m.scrollTrigger.end,0,y,e)),a&&T0(a,n,i,!0);else{xi(t)&&(t=t(u));var I=(e||"0").split(" "),T,U,B,H;P=Yi(t,u)||Er,T=qa(P)||{},(!T||!T.left&&!T.top)&&Js(P).display==="none"&&(H=P.style.display,P.style.display="block",T=qa(P),H?P.style.display=H:P.style.removeProperty("display")),U=N0(I[0],T[i.d]),B=N0(I[1]||"0",n),e=T[i.p]-d[i.p]-h+U+s-B,a&&T0(a,B,i,n-B<20||a._isStart&&B>20),n-=n-B}if(b&&(u[b]=e||-.001,e<0&&(e=0)),o){var G=e+n,W=o._isStart;w="scroll"+i.d2,T0(o,G,i,W&&G>20||!W&&(p?Math.max(Er[w],ys[w]):o.parentNode[w])<=G+1),p&&(d=qa(a),p&&(o.style[i.op.p]=d[i.op.p]-i.op.m-o._offset+Rn))}return m&&P&&(w=qa(P),m.seek(y),A=qa(P),m._caScrollDist=w[i.p]-A[i.p],e=e/m._caScrollDist*y),m&&m.seek(x),m?e:Math.round(e)},jV=/(webkit|moz|length|cssText|inset)/i,TT=function(e,t,n,i){if(e.parentNode!==t){var s=e.style,o,a;if(t===Er){e._stOrig=s.cssText,a=Js(e);for(o in a)!+o&&!jV.test(o)&&a[o]&&typeof s[o]=="string"&&o!=="0"&&(s[o]=a[o]);s.top=n,s.left=i}else s.cssText=e._stOrig;Qe.core.getCache(e).uncache=1,t.appendChild(e)}},$4=function(e,t,n){var i=t,s=i;return function(o){var a=Math.round(e());return a!==i&&a!==s&&Math.abs(a-i)>3&&Math.abs(a-s)>3&&(o=a,n&&n()),s=i,i=Math.round(o),i}},Wg=function(e,t,n){var i={};i[t.p]="+="+n,Qe.set(e,i)},AT=function(e,t){var n=cc(e,t),i="_scroll"+t.p2,s=function o(a,u,d,h,p){var y=o.tween,m=u.onComplete,b={};d=d||n();var x=$4(n,d,function(){y.kill(),o.tween=0});return p=h&&p||0,h=h||a-d,y&&y.kill(),u[i]=a,u.inherit=!1,u.modifiers=b,b[i]=function(){return x(d+h*y.ratio+p*y.ratio*y.ratio)},u.onUpdate=function(){Zt.cache++,o.tween&&Ka()},u.onComplete=function(){o.tween=0,m&&m.call(y)},y=o.tween=Qe.to(e,u),y};return e[i]=n,n.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},Un(e,"wheel",n.wheelHandler),er.isTouch&&Un(e,"touchmove",n.wheelHandler),s},er=function(){function r(t,n){_d||r.register(Qe)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),N1(this),this.init(t,n)}var e=r.prototype;return e.init=function(n,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Bh){this.update=this.refresh=this.kill=ea;return}n=kT(fs(n)||Uh(n)||n.nodeType?{trigger:n}:n,$g);var s=n,o=s.onUpdate,a=s.toggleClass,u=s.id,d=s.onToggle,h=s.onRefresh,p=s.scrub,y=s.trigger,m=s.pin,b=s.pinSpacing,x=s.invalidateOnRefresh,w=s.anticipatePin,A=s.onScrubComplete,P=s.onSnapComplete,I=s.once,T=s.snap,U=s.pinReparent,B=s.pinSpacer,H=s.containerAnimation,G=s.fastScrollEnd,W=s.preventOverlaps,V=n.horizontal||n.containerAnimation&&n.horizontal!==!1?Di:On,K=!p&&p!==0,q=Yi(n.scroller||Xt),D=Qe.core.getCache(q),v=_u(q),S=("pinType"in n?n.pinType:Zl(q,"pinType")||v&&"fixed")==="fixed",_=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],j=K&&n.toggleActions.split(" "),O="markers"in n?n.markers:$g.markers,z=v?0:parseFloat(Js(q)["border"+V.p2+hf])||0,E=this,M=n.onRefreshInit&&function(){return n.onRefreshInit(E)},N=bV(q,v,V),R=wV(q,v),X=0,$=0,Y=0,Q=cc(q,V),Z,te,ce,ne,ue,xe,ye,Se,pt,ae,Ye,Rt,Xe,Ie,Gt,tt,xt,Me,oe,he,Oe,Te,Re,jt,qe,rt,Ht,vt,ot,dr,bt,Be,Ir,Nt,St,or,Dt,De,dt;if(E._startClamp=E._endClamp=!1,E._dir=V,w*=45,E.scroller=q,E.scroll=H?H.time.bind(H):Q,ne=Q(),E.vars=n,i=i||n.animation,"refreshPriority"in n&&(S4=1,n.refreshPriority===-9999&&(cp=E)),D.tweenScroll=D.tweenScroll||{top:AT(q,On),left:AT(q,Di)},E.tweenTo=Z=D.tweenScroll[V.p],E.scrubDuration=function(be){Ir=Uh(be)&&be,Ir?Be?Be.duration(be):Be=Qe.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Ir,paused:!0,onComplete:function(){return A&&A(E)}}):(Be&&Be.progress(1).kill(),Be=0)},i&&(i.vars.lazy=!1,i._initted&&!E.isReverted||i.vars.immediateRender!==!1&&n.immediateRender!==!1&&i.duration()&&i.render(0,!0,!0),E.animation=i.pause(),i.scrollTrigger=E,E.scrubDuration(p),dr=0,u||(u=i.vars.id)),T&&((!Jc(T)||T.push)&&(T={snapTo:T}),"scrollBehavior"in Er.style&&Qe.set(v?[Er,ys]:q,{scrollBehavior:"auto"}),Zt.forEach(function(be){return xi(be)&&be.target===(v?zr.scrollingElement||ys:q)&&(be.smooth=!1)}),ce=xi(T.snapTo)?T.snapTo:T.snapTo==="labels"?_V(i):T.snapTo==="labelsDirectional"?EV(i):T.directional!==!1?function(be,Fe){return P_(T.snapTo)(be,hi()-$<500?0:Fe.direction)}:Qe.utils.snap(T.snapTo),Nt=T.duration||{min:.1,max:2},Nt=Jc(Nt)?ip(Nt.min,Nt.max):ip(Nt,Nt),St=Qe.delayedCall(T.delay||Ir/2||.1,function(){var be=Q(),Fe=hi()-$<500,Ne=Z.tween;if((Fe||Math.abs(E.getVelocity())<10)&&!Ne&&!nx&&X!==be){var Le=(be-xe)/Ie,fr=i&&!K?i.totalProgress():Le,Ge=Fe?0:(fr-bt)/(hi()-Fh)*1e3||0,at=Qe.utils.clamp(-Le,1-Le,hd(Ge/2)*Ge/.185),kr=Le+(T.inertia===!1?0:at),wt,yt,Lt=T,zt=Lt.onStart,mt=Lt.onInterrupt,Tr=Lt.onComplete;if(wt=ce(kr,E),Uh(wt)||(wt=kr),yt=Math.max(0,Math.round(xe+wt*Ie)),be<=ye&&be>=xe&&yt!==be){if(Ne&&!Ne._initted&&Ne.data<=hd(yt-be))return;T.inertia===!1&&(at=wt-Le),Z(yt,{duration:Nt(hd(Math.max(hd(kr-fr),hd(wt-fr))*.185/Ge/.05||0)),ease:T.ease||"power3",data:hd(yt-be),onInterrupt:function(){return St.restart(!0)&&mt&&mt(E)},onComplete:function(){E.update(),X=Q(),i&&!K&&(Be?Be.resetTo("totalProgress",wt,i._tTime/i._tDur):i.progress(wt)),dr=bt=i&&!K?i.totalProgress():E.progress,P&&P(E),Tr&&Tr(E)}},be,at*Ie,yt-be-at*Ie),zt&&zt(E,Z.tween)}}else E.isActive&&X!==be&&St.restart(!0)}).pause()),u&&(A1[u]=E),y=E.trigger=Yi(y||m!==!0&&m),dt=y&&y._gsap&&y._gsap.stRevert,dt&&(dt=dt(E)),m=m===!0?y:Yi(m),fs(a)&&(a={targets:y,className:a}),m&&(b===!1||b===Ys||(b=!b&&m.parentNode&&m.parentNode.style&&Js(m.parentNode).display==="flex"?!1:bn),E.pin=m,te=Qe.core.getCache(m),te.spacer?Gt=te.pinState:(B&&(B=Yi(B),B&&!B.nodeType&&(B=B.current||B.nativeElement),te.spacerIsNative=!!B,B&&(te.spacerState=qg(B))),te.spacer=Me=B||zr.createElement("div"),Me.classList.add("pin-spacer"),u&&Me.classList.add("pin-spacer-"+u),te.pinState=Gt=qg(m)),n.force3D!==!1&&Qe.set(m,{force3D:!0}),E.spacer=Me=te.spacer,ot=Js(m),jt=ot[b+V.os2],he=Qe.getProperty(m),Oe=Qe.quickSetter(m,V.a,Rn),Yb(m,Me,ot),xt=qg(m)),O){Rt=Jc(O)?kT(O,_T):_T,ae=Ug("scroller-start",u,q,V,Rt,0),Ye=Ug("scroller-end",u,q,V,Rt,0,ae),oe=ae["offset"+V.op.d2];var it=Yi(Zl(q,"content")||q);Se=this.markerStart=Ug("start",u,it,V,Rt,oe,0,H),pt=this.markerEnd=Ug("end",u,it,V,Rt,oe,0,H),H&&(De=Qe.quickSetter([Se,pt],V.a,Rn)),!S&&!(ua.length&&Zl(q,"fixedMarkers")===!0)&&(kV(v?Er:q),Qe.set([ae,Ye],{force3D:!0}),rt=Qe.quickSetter(ae,V.a,Rn),vt=Qe.quickSetter(Ye,V.a,Rn))}if(H){var Pe=H.vars.onUpdate,$e=H.vars.onUpdateParams;H.eventCallback("onUpdate",function(){E.update(0,0,1),Pe&&Pe.apply(H,$e||[])})}if(E.previous=function(){return Kt[Kt.indexOf(E)-1]},E.next=function(){return Kt[Kt.indexOf(E)+1]},E.revert=function(be,Fe){if(!Fe)return E.kill(!0);var Ne=be!==!1||!E.enabled,Le=fi;Ne!==E.isReverted&&(Ne&&(or=Math.max(Q(),E.scroll.rec||0),Y=E.progress,Dt=i&&i.progress()),Se&&[Se,pt,ae,Ye].forEach(function(fr){return fr.style.display=Ne?"none":"block"}),Ne&&(fi=E,E.update(Ne)),m&&(!U||!E.isActive)&&(Ne?NV(m,Me,Gt):Yb(m,Me,Js(m),qe)),Ne||E.update(Ne),fi=Le,E.isReverted=Ne)},E.refresh=function(be,Fe,Ne,Le){if(!((fi||!E.enabled)&&!Fe)){if(m&&be&&so){Un(r,"scrollEnd",L4);return}!Pi&&M&&M(E),fi=E,Z.tween&&!Ne&&(Z.tween.kill(),Z.tween=0),Be&&Be.pause(),x&&i&&(i.revert({kill:!1}).invalidate(),i.getChildren&&i.getChildren(!0,!0,!1).forEach(function(Yn){return Yn.vars.immediateRender&&Yn.render(0,!0,!0)})),E.isReverted||E.revert(!0,!0),E._subPinOffset=!1;var fr=N(),Ge=R(),at=H?H.duration():la(q,V),kr=Ie<=.01||!Ie,wt=0,yt=Le||0,Lt=Jc(Ne)?Ne.end:n.end,zt=n.endTrigger||y,mt=Jc(Ne)?Ne.start:n.start||(n.start===0||!y?0:m?"0 0":"0 100%"),Tr=E.pinnedContainer=n.pinnedContainer&&Yi(n.pinnedContainer,E),Mr=y&&Math.max(0,Kt.indexOf(E))||0,hr=Mr,vr,_r,oi,Os,Ft,Ar,gn,ns,is,Fi,Tn,Kn,un;for(O&&Jc(Ne)&&(Kn=Qe.getProperty(ae,V.p),un=Qe.getProperty(Ye,V.p));hr-- >0;)Ar=Kt[hr],Ar.end||Ar.refresh(0,1)||(fi=E),gn=Ar.pin,gn&&(gn===y||gn===m||gn===Tr)&&!Ar.isReverted&&(Fi||(Fi=[]),Fi.unshift(Ar),Ar.revert(!0,!0)),Ar!==Kt[hr]&&(Mr--,hr--);for(xi(mt)&&(mt=mt(E)),mt=xT(mt,"start",E),xe=NT(mt,y,fr,V,Q(),Se,ae,E,Ge,z,S,at,H,E._startClamp&&"_startClamp")||(m?-.001:0),xi(Lt)&&(Lt=Lt(E)),fs(Lt)&&!Lt.indexOf("+=")&&(~Lt.indexOf(" ")?Lt=(fs(mt)?mt.split(" ")[0]:"")+Lt:(wt=N0(Lt.substr(2),fr),Lt=fs(mt)?mt:(H?Qe.utils.mapRange(0,H.duration(),H.scrollTrigger.start,H.scrollTrigger.end,xe):xe)+wt,zt=y)),Lt=xT(Lt,"end",E),ye=Math.max(xe,NT(Lt||(zt?"100% 0":at),zt,fr,V,Q()+wt,pt,Ye,E,Ge,z,S,at,H,E._endClamp&&"_endClamp"))||-.001,wt=0,hr=Mr;hr--;)Ar=Kt[hr],gn=Ar.pin,gn&&Ar.start-Ar._pinPush<=xe&&!H&&Ar.end>0&&(vr=Ar.end-(E._startClamp?Math.max(0,Ar.start):Ar.start),(gn===y&&Ar.start-Ar._pinPush<xe||gn===Tr)&&isNaN(mt)&&(wt+=vr*(1-Ar.progress)),gn===m&&(yt+=vr));if(xe+=wt,ye+=wt,E._startClamp&&(E._startClamp+=wt),E._endClamp&&!Pi&&(E._endClamp=ye||-.001,ye=Math.min(ye,la(q,V))),Ie=ye-xe||(xe-=.01)&&.001,kr&&(Y=Qe.utils.clamp(0,1,Qe.utils.normalize(xe,ye,or))),E._pinPush=yt,Se&&wt&&(vr={},vr[V.a]="+="+wt,Tr&&(vr[V.p]="-="+Q()),Qe.set([Se,pt],vr)),m&&!(T1&&E.end>=la(q,V)))vr=Js(m),Os=V===On,oi=Q(),Te=parseFloat(he(V.a))+yt,!at&&ye>1&&(Tn=(v?zr.scrollingElement||ys:q).style,Tn={style:Tn,value:Tn["overflow"+V.a.toUpperCase()]},v&&Js(Er)["overflow"+V.a.toUpperCase()]!=="scroll"&&(Tn.style["overflow"+V.a.toUpperCase()]="scroll")),Yb(m,Me,vr),xt=qg(m),_r=qa(m,!0),ns=S&&cc(q,Os?Di:On)(),b?(qe=[b+V.os2,Ie+yt+Rn],qe.t=Me,hr=b===bn?py(m,V)+Ie+yt:0,hr&&(qe.push(V.d,hr+Rn),Me.style.flexBasis!=="auto"&&(Me.style.flexBasis=hr+Rn)),Yd(qe),Tr&&Kt.forEach(function(Yn){Yn.pin===Tr&&Yn.vars.pinSpacing!==!1&&(Yn._subPinOffset=!0)}),S&&Q(or)):(hr=py(m,V),hr&&Me.style.flexBasis!=="auto"&&(Me.style.flexBasis=hr+Rn)),S&&(Ft={top:_r.top+(Os?oi-xe:ns)+Rn,left:_r.left+(Os?ns:oi-xe)+Rn,boxSizing:"border-box",position:"fixed"},Ft[du]=Ft["max"+hf]=Math.ceil(_r.width)+Rn,Ft[fu]=Ft["max"+j_]=Math.ceil(_r.height)+Rn,Ft[Ys]=Ft[Ys+ap]=Ft[Ys+sp]=Ft[Ys+lp]=Ft[Ys+op]="0",Ft[bn]=vr[bn],Ft[bn+ap]=vr[bn+ap],Ft[bn+sp]=vr[bn+sp],Ft[bn+lp]=vr[bn+lp],Ft[bn+op]=vr[bn+op],tt=AV(Gt,Ft,U),Pi&&Q(0)),i?(is=i._initted,Wb(1),i.render(i.duration(),!0,!0),Re=he(V.a)-Te+Ie+yt,Ht=Math.abs(Ie-Re)>1,S&&Ht&&tt.splice(tt.length-2,2),i.render(0,!0,!0),is||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),Wb(0)):Re=Ie,Tn&&(Tn.value?Tn.style["overflow"+V.a.toUpperCase()]=Tn.value:Tn.style.removeProperty("overflow-"+V.a));else if(y&&Q()&&!H)for(_r=y.parentNode;_r&&_r!==Er;)_r._pinOffset&&(xe-=_r._pinOffset,ye-=_r._pinOffset),_r=_r.parentNode;Fi&&Fi.forEach(function(Yn){return Yn.revert(!1,!0)}),E.start=xe,E.end=ye,ne=ue=Pi?or:Q(),!H&&!Pi&&(ne<or&&Q(or),E.scroll.rec=0),E.revert(!1,!0),$=hi(),St&&(X=-1,St.restart(!0)),fi=0,i&&K&&(i._initted||Dt)&&i.progress()!==Dt&&i.progress(Dt||0,!0).render(i.time(),!0,!0),(kr||Y!==E.progress||H||x||i&&!i._initted)&&(i&&!K&&(i._initted||Y||i.vars.immediateRender!==!1)&&i.totalProgress(H&&xe<-.001&&!Y?Qe.utils.normalize(xe,ye,0):Y,!0),E.progress=kr||(ne-xe)/Ie===Y?0:Y),m&&b&&(Me._pinOffset=Math.round(E.progress*Re)),Be&&Be.invalidate(),isNaN(Kn)||(Kn-=Qe.getProperty(ae,V.p),un-=Qe.getProperty(Ye,V.p),Wg(ae,V,Kn),Wg(Se,V,Kn-(Le||0)),Wg(Ye,V,un),Wg(pt,V,un-(Le||0))),kr&&!Pi&&E.update(),h&&!Pi&&!Xe&&(Xe=!0,h(E),Xe=!1)}},E.getVelocity=function(){return(Q()-ue)/(hi()-Fh)*1e3||0},E.endAnimation=function(){Nh(E.callbackAnimation),i&&(Be?Be.progress(1):i.paused()?K||Nh(i,E.direction<0,1):Nh(i,i.reversed()))},E.labelToScroll=function(be){return i&&i.labels&&(xe||E.refresh()||xe)+i.labels[be]/i.duration()*Ie||0},E.getTrailing=function(be){var Fe=Kt.indexOf(E),Ne=E.direction>0?Kt.slice(0,Fe).reverse():Kt.slice(Fe+1);return(fs(be)?Ne.filter(function(Le){return Le.vars.preventOverlaps===be}):Ne).filter(function(Le){return E.direction>0?Le.end<=xe:Le.start>=ye})},E.update=function(be,Fe,Ne){if(!(H&&!Ne&&!be)){var Le=Pi===!0?or:E.scroll(),fr=be?0:(Le-xe)/Ie,Ge=fr<0?0:fr>1?1:fr||0,at=E.progress,kr,wt,yt,Lt,zt,mt,Tr,Mr;if(Fe&&(ue=ne,ne=H?Q():Le,T&&(bt=dr,dr=i&&!K?i.totalProgress():Ge)),w&&m&&!fi&&!Lg&&so&&(!Ge&&xe<Le+(Le-ue)/(hi()-Fh)*w?Ge=1e-4:Ge===1&&ye>Le+(Le-ue)/(hi()-Fh)*w&&(Ge=.9999)),Ge!==at&&E.enabled){if(kr=E.isActive=!!Ge&&Ge<1,wt=!!at&&at<1,mt=kr!==wt,zt=mt||!!Ge!=!!at,E.direction=Ge>at?1:-1,E.progress=Ge,zt&&!fi&&(yt=Ge&&!at?0:Ge===1?1:at===1?2:3,K&&(Lt=!mt&&j[yt+1]!=="none"&&j[yt+1]||j[yt],Mr=i&&(Lt==="complete"||Lt==="reset"||Lt in i))),W&&(mt||Mr)&&(Mr||p||!i)&&(xi(W)?W(E):E.getTrailing(W).forEach(function(oi){return oi.endAnimation()})),K||(Be&&!fi&&!Lg?(Be._dp._time-Be._start!==Be._time&&Be.render(Be._dp._time-Be._start),Be.resetTo?Be.resetTo("totalProgress",Ge,i._tTime/i._tDur):(Be.vars.totalProgress=Ge,Be.invalidate().restart())):i&&i.totalProgress(Ge,!!(fi&&($||be)))),m){if(be&&b&&(Me.style[b+V.os2]=jt),!S)Oe($h(Te+Re*Ge));else if(zt){if(Tr=!be&&Ge>at&&ye+1>Le&&Le+1>=la(q,V),U)if(!be&&(kr||Tr)){var hr=qa(m,!0),vr=Le-xe;TT(m,Er,hr.top+(V===On?vr:0)+Rn,hr.left+(V===On?0:vr)+Rn)}else TT(m,Me);Yd(kr||Tr?tt:xt),Ht&&Ge<1&&kr||Oe(Te+(Ge===1&&!Tr?Re:0))}}T&&!Z.tween&&!fi&&!Lg&&St.restart(!0),a&&(mt||I&&Ge&&(Ge<1||!Hb))&&Fp(a.targets).forEach(function(oi){return oi.classList[kr||I?"add":"remove"](a.className)}),o&&!K&&!be&&o(E),zt&&!fi?(K&&(Mr&&(Lt==="complete"?i.pause().totalProgress(1):Lt==="reset"?i.restart(!0).pause():Lt==="restart"?i.restart(!0):i[Lt]()),o&&o(E)),(mt||!Hb)&&(d&&mt&&Gb(E,d),_[yt]&&Gb(E,_[yt]),I&&(Ge===1?E.kill(!1,1):_[yt]=0),mt||(yt=Ge===1?1:3,_[yt]&&Gb(E,_[yt]))),G&&!kr&&Math.abs(E.getVelocity())>(Uh(G)?G:2500)&&(Nh(E.callbackAnimation),Be?Be.progress(1):Nh(i,Lt==="reverse"?1:!Ge,1))):K&&o&&!fi&&o(E)}if(vt){var _r=H?Le/H.duration()*(H._caScrollDist||0):Le;rt(_r+(ae._isFlipped?1:0)),vt(_r)}De&&De(-Le/H.duration()*(H._caScrollDist||0))}},E.enable=function(be,Fe){E.enabled||(E.enabled=!0,Un(q,"resize",qh),v||Un(q,"scroll",pd),M&&Un(r,"refreshInit",M),be!==!1&&(E.progress=Y=0,ne=ue=X=Q()),Fe!==!1&&E.refresh())},E.getTween=function(be){return be&&Z?Z.tween:Be},E.setPositions=function(be,Fe,Ne,Le){if(H){var fr=H.scrollTrigger,Ge=H.duration(),at=fr.end-fr.start;be=fr.start+at*be/Ge,Fe=fr.start+at*Fe/Ge}E.refresh(!1,!1,{start:vT(be,Ne&&!!E._startClamp),end:vT(Fe,Ne&&!!E._endClamp)},Le),E.update()},E.adjustPinSpacing=function(be){if(qe&&be){var Fe=qe.indexOf(V.d)+1;qe[Fe]=parseFloat(qe[Fe])+be+Rn,qe[1]=parseFloat(qe[1])+be+Rn,Yd(qe)}},E.disable=function(be,Fe){if(E.enabled&&(be!==!1&&E.revert(!0,!0),E.enabled=E.isActive=!1,Fe||Be&&Be.pause(),or=0,te&&(te.uncache=1),M&&$n(r,"refreshInit",M),St&&(St.pause(),Z.tween&&Z.tween.kill()&&(Z.tween=0)),!v)){for(var Ne=Kt.length;Ne--;)if(Kt[Ne].scroller===q&&Kt[Ne]!==E)return;$n(q,"resize",qh),v||$n(q,"scroll",pd)}},E.kill=function(be,Fe){E.disable(be,Fe),Be&&!Fe&&Be.kill(),u&&delete A1[u];var Ne=Kt.indexOf(E);Ne>=0&&Kt.splice(Ne,1),Ne===ji&&A0>0&&ji--,Ne=0,Kt.forEach(function(Le){return Le.scroller===E.scroller&&(Ne=1)}),Ne||Pi||(E.scroll.rec=0),i&&(i.scrollTrigger=null,be&&i.revert({kill:!1}),Fe||i.kill()),Se&&[Se,pt,ae,Ye].forEach(function(Le){return Le.parentNode&&Le.parentNode.removeChild(Le)}),cp===E&&(cp=0),m&&(te&&(te.uncache=1),Ne=0,Kt.forEach(function(Le){return Le.pin===m&&Ne++}),Ne||(te.spacer=0)),n.onKill&&n.onKill(E)},Kt.push(E),E.enable(!1,!1),dt&&dt(E),i&&i.add&&!Ie){var ze=E.update;E.update=function(){E.update=ze,Zt.cache++,xe||ye||E.refresh()},Qe.delayedCall(.01,E.update),Ie=.01,xe=ye=0}else E.refresh();m&&SV()},r.register=function(n){return _d||(Qe=n||P4(),j4()&&window.document&&r.enable(),_d=Bh),_d},r.defaults=function(n){if(n)for(var i in n)$g[i]=n[i];return $g},r.disable=function(n,i){Bh=0,Kt.forEach(function(o){return o[i?"kill":"disable"](n)}),$n(Xt,"wheel",pd),$n(zr,"scroll",pd),clearInterval(Dg),$n(zr,"touchcancel",ea),$n(Er,"touchstart",ea),Fg($n,zr,"pointerdown,touchstart,mousedown",bT),Fg($n,zr,"pointerup,touchend,mouseup",wT),fy.kill(),zg($n);for(var s=0;s<Zt.length;s+=3)Bg($n,Zt[s],Zt[s+1]),Bg($n,Zt[s],Zt[s+2])},r.enable=function(){if(Xt=window,zr=document,ys=zr.documentElement,Er=zr.body,Qe&&(Fp=Qe.utils.toArray,ip=Qe.utils.clamp,N1=Qe.core.context||ea,Wb=Qe.core.suppressOverwrites||ea,S_=Xt.history.scrollRestoration||"auto",j1=Xt.pageYOffset||0,Qe.core.globals("ScrollTrigger",r),Er)){Bh=1,Kd=document.createElement("div"),Kd.style.height="100vh",Kd.style.position="absolute",B4(),vV(),mn.register(Qe),r.isTouch=mn.isTouch,Il=mn.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),S1=mn.isTouch===1,Un(Xt,"wheel",pd),C_=[Xt,zr,ys,Er],Qe.matchMedia?(r.matchMedia=function(d){var h=Qe.matchMedia(),p;for(p in d)h.add(p,d[p]);return h},Qe.addEventListener("matchMediaInit",function(){return R_()}),Qe.addEventListener("matchMediaRevert",function(){return z4()}),Qe.addEventListener("matchMedia",function(){nu(0,1),Cu("matchMedia")}),Qe.matchMedia().add("(orientation: portrait)",function(){return Kb(),Kb})):console.warn("Requires GSAP 3.11.0 or later"),Kb(),Un(zr,"scroll",pd);var n=Er.hasAttribute("style"),i=Er.style,s=i.borderTopStyle,o=Qe.core.Animation.prototype,a,u;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",a=qa(Er),On.m=Math.round(a.top+On.sc())||0,Di.m=Math.round(a.left+Di.sc())||0,s?i.borderTopStyle=s:i.removeProperty("border-top-style"),n||(Er.setAttribute("style",""),Er.removeAttribute("style")),Dg=setInterval(ET,250),Qe.delayedCall(.5,function(){return Lg=0}),Un(zr,"touchcancel",ea),Un(Er,"touchstart",ea),Fg(Un,zr,"pointerdown,touchstart,mousedown",bT),Fg(Un,zr,"pointerup,touchend,mouseup",wT),C1=Qe.utils.checkPrefix("transform"),j0.push(C1),_d=hi(),fy=Qe.delayedCall(.2,nu).pause(),Ed=[zr,"visibilitychange",function(){var d=Xt.innerWidth,h=Xt.innerHeight;zr.hidden?(gT=d,yT=h):(gT!==d||yT!==h)&&qh()},zr,"DOMContentLoaded",nu,Xt,"load",nu,Xt,"resize",qh],zg(Un),Kt.forEach(function(d){return d.enable(0,1)}),u=0;u<Zt.length;u+=3)Bg($n,Zt[u],Zt[u+1]),Bg($n,Zt[u],Zt[u+2])}},r.config=function(n){"limitCallbacks"in n&&(Hb=!!n.limitCallbacks);var i=n.syncInterval;i&&clearInterval(Dg)||(Dg=i)&&setInterval(ET,i),"ignoreMobileResize"in n&&(S1=r.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(zg($n)||zg(Un,n.autoRefreshEvents||"none"),N4=(n.autoRefreshEvents+"").indexOf("resize")===-1)},r.scrollerProxy=function(n,i){var s=Yi(n),o=Zt.indexOf(s),a=_u(s);~o&&Zt.splice(o,a?6:2),i&&(a?ua.unshift(Xt,i,Er,i,ys,i):ua.unshift(s,i))},r.clearMatchMedia=function(n){Kt.forEach(function(i){return i._ctx&&i._ctx.query===n&&i._ctx.kill(!0,!0)})},r.isInViewport=function(n,i,s){var o=(fs(n)?Yi(n):n).getBoundingClientRect(),a=o[s?du:fu]*i||0;return s?o.right-a>0&&o.left+a<Xt.innerWidth:o.bottom-a>0&&o.top+a<Xt.innerHeight},r.positionInViewport=function(n,i,s){fs(n)&&(n=Yi(n));var o=n.getBoundingClientRect(),a=o[s?du:fu],u=i==null?a/2:i in my?my[i]*a:~i.indexOf("%")?parseFloat(i)*a/100:parseFloat(i)||0;return s?(o.left+u)/Xt.innerWidth:(o.top+u)/Xt.innerHeight},r.killAll=function(n){if(Kt.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),n!==!0){var i=Eu.killAll||[];Eu={},i.forEach(function(s){return s()})}},r}();er.version="3.13.0";er.saveStyles=function(r){return r?Fp(r).forEach(function(e){if(e&&e.style){var t=ds.indexOf(e);t>=0&&ds.splice(t,5),ds.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Qe.core.getCache(e),N1())}}):ds};er.revert=function(r,e){return R_(!r,e)};er.create=function(r,e){return new er(r,e)};er.refresh=function(r){return r?qh(!0):(_d||er.register())&&nu(!0)};er.update=function(r){return++Zt.cache&&Ka(r===!0?2:0)};er.clearScrollMemory=F4;er.maxScroll=function(r,e){return la(r,e?Di:On)};er.getScrollFunc=function(r,e){return cc(Yi(r),e?Di:On)};er.getById=function(r){return A1[r]};er.getAll=function(){return Kt.filter(function(r){return r.vars.id!=="ScrollSmoother"})};er.isScrolling=function(){return!!so};er.snapDirectional=P_;er.addEventListener=function(r,e){var t=Eu[r]||(Eu[r]=[]);~t.indexOf(e)||t.push(e)};er.removeEventListener=function(r,e){var t=Eu[r],n=t&&t.indexOf(e);n>=0&&t.splice(n,1)};er.batch=function(r,e){var t=[],n={},i=e.interval||.016,s=e.batchMax||1e9,o=function(d,h){var p=[],y=[],m=Qe.delayedCall(i,function(){h(p,y),p=[],y=[]}).pause();return function(b){p.length||m.restart(!0),p.push(b.trigger),y.push(b),s<=p.length&&m.progress(1)}},a;for(a in e)n[a]=a.substr(0,2)==="on"&&xi(e[a])&&a!=="onRefreshInit"?o(a,e[a]):e[a];return xi(s)&&(s=s(),Un(er,"refresh",function(){return s=e.batchMax()})),Fp(r).forEach(function(u){var d={};for(a in n)d[a]=n[a];d.trigger=u,t.push(er.create(d))}),t};var jT=function(e,t,n,i){return t>i?e(i):t<0&&e(0),n>i?(i-t)/(n-t):n<0?t/(t-n):1},Jb=function r(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(mn.isTouch?" pinch-zoom":""):"none",e===ys&&r(Er,t)},Hg={auto:1,scroll:1},PV=function(e){var t=e.event,n=e.target,i=e.axis,s=(t.changedTouches?t.changedTouches[0]:t).target,o=s._gsap||Qe.core.getCache(s),a=hi(),u;if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s!==Er&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(Hg[(u=Js(s)).overflowY]||Hg[u.overflowX]));)s=s.parentNode;o._isScroll=s&&s!==n&&!_u(s)&&(Hg[(u=Js(s)).overflowY]||Hg[u.overflowX]),o._isScrollT=a}(o._isScroll||i==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},U4=function(e,t,n,i){return mn.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:i=i&&PV,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return n&&Un(zr,mn.eventTypes[0],RT,!1,!0)},onDisable:function(){return $n(zr,mn.eventTypes[0],RT,!0)}})},RV=/(input|label|select|textarea)/i,PT,RT=function(e){var t=RV.test(e.target.tagName);(t||PT)&&(e._gsapAllow=!0,PT=t)},IV=function(e){Jc(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,n=t.normalizeScrollX,i=t.momentum,s=t.allowNestedScroll,o=t.onRelease,a,u,d=Yi(e.target)||ys,h=Qe.core.globals().ScrollSmoother,p=h&&h.get(),y=Il&&(e.content&&Yi(e.content)||p&&e.content!==!1&&!p.smooth()&&p.content()),m=cc(d,On),b=cc(d,Di),x=1,w=(mn.isTouch&&Xt.visualViewport?Xt.visualViewport.scale*Xt.visualViewport.width:Xt.outerWidth)/Xt.innerWidth,A=0,P=xi(i)?function(){return i(a)}:function(){return i||2.8},I,T,U=U4(d,e.type,!0,s),B=function(){return T=!1},H=ea,G=ea,W=function(){u=la(d,On),G=ip(Il?1:0,u),n&&(H=ip(0,la(d,Di))),I=hu},V=function(){y._gsap.y=$h(parseFloat(y._gsap.y)+m.offset)+"px",y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(y._gsap.y)+", 0, 1)",m.offset=m.cacheID=0},K=function(){if(T){requestAnimationFrame(B);var O=$h(a.deltaY/2),z=G(m.v-O);if(y&&z!==m.v+m.offset){m.offset=z-m.v;var E=$h((parseFloat(y&&y._gsap.y)||0)-m.offset);y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+E+", 0, 1)",y._gsap.y=E+"px",m.cacheID=Zt.cache,Ka()}return!0}m.offset&&V(),T=!0},q,D,v,S,_=function(){W(),q.isActive()&&q.vars.scrollY>u&&(m()>u?q.progress(1)&&m(u):q.resetTo("scrollY",u))};return y&&Qe.set(y,{y:"+=0"}),e.ignoreCheck=function(j){return Il&&j.type==="touchmove"&&K()||x>1.05&&j.type!=="touchstart"||a.isGesturing||j.touches&&j.touches.length>1},e.onPress=function(){T=!1;var j=x;x=$h((Xt.visualViewport&&Xt.visualViewport.scale||1)/w),q.pause(),j!==x&&Jb(d,x>1.01?!0:n?!1:"x"),D=b(),v=m(),W(),I=hu},e.onRelease=e.onGestureStart=function(j,O){if(m.offset&&V(),!O)S.restart(!0);else{Zt.cache++;var z=P(),E,M;n&&(E=b(),M=E+z*.05*-j.velocityX/.227,z*=jT(b,E,M,la(d,Di)),q.vars.scrollX=H(M)),E=m(),M=E+z*.05*-j.velocityY/.227,z*=jT(m,E,M,la(d,On)),q.vars.scrollY=G(M),q.invalidate().duration(z).play(.01),(Il&&q.vars.scrollY>=u||E>=u-1)&&Qe.to({},{onUpdate:_,duration:z})}o&&o(j)},e.onWheel=function(){q._ts&&q.pause(),hi()-A>1e3&&(I=0,A=hi())},e.onChange=function(j,O,z,E,M){if(hu!==I&&W(),O&&n&&b(H(E[2]===O?D+(j.startX-j.x):b()+O-E[1])),z){m.offset&&V();var N=M[2]===z,R=N?v+j.startY-j.y:m()+z-M[1],X=G(R);N&&R!==X&&(v+=X-R),m(X)}(z||O)&&Ka()},e.onEnable=function(){Jb(d,n?!1:"x"),er.addEventListener("refresh",_),Un(Xt,"resize",_),m.smooth&&(m.target.style.scrollBehavior="auto",m.smooth=b.smooth=!1),U.enable()},e.onDisable=function(){Jb(d,!0),$n(Xt,"resize",_),er.removeEventListener("refresh",_),U.kill()},e.lockAxis=e.lockAxis!==!1,a=new mn(e),a.iOS=Il,Il&&!m()&&m(1),Il&&Qe.ticker.add(ea),S=a._dc,q=Qe.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:$4(m,m(),function(){return q.pause()})},onUpdate:Ka,onComplete:S.vars.onComplete}),a};er.sort=function(r){if(xi(r))return Kt.sort(r);var e=Xt.pageYOffset||0;return er.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+Xt.innerHeight}),Kt.sort(r||function(t,n){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};er.observe=function(r){return new mn(r)};er.normalizeScroll=function(r){if(typeof r>"u")return Ai;if(r===!0&&Ai)return Ai.enable();if(r===!1){Ai&&Ai.kill(),Ai=r;return}var e=r instanceof mn?r:IV(r);return Ai&&Ai.target===e.target&&Ai.kill(),_u(e.target)&&(Ai=e),e};er.core={_getVelocityProp:E1,_inputObserver:U4,_scrollers:Zt,_proxies:ua,bridge:{ss:function(){so||Cu("scrollStart"),so=hi()},ref:function(){return fi}}};P4()&&Qe.registerPlugin(er);function MV(r,e){const t={};return(r[r.length-1]===""?[...r,""]:r).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const OV=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,DV=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,LV={};function IT(r,e){return(LV.jsx?DV:OV).test(r)}const zV=/[ \t\n\f\r]/g;function FV(r){return typeof r=="object"?r.type==="text"?MT(r.value):!1:MT(r)}function MT(r){return r.replace(zV,"")===""}class um{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}um.prototype.normal={};um.prototype.property={};um.prototype.space=void 0;function q4(r,e){const t={},n={};for(const i of r)Object.assign(t,i.property),Object.assign(n,i.normal);return new um(t,n,e)}function R1(r){return r.toLowerCase()}class rs{constructor(e,t){this.attribute=t,this.property=e}}rs.prototype.attribute="";rs.prototype.booleanish=!1;rs.prototype.boolean=!1;rs.prototype.commaOrSpaceSeparated=!1;rs.prototype.commaSeparated=!1;rs.prototype.defined=!1;rs.prototype.mustUseProperty=!1;rs.prototype.number=!1;rs.prototype.overloadedBoolean=!1;rs.prototype.property="";rs.prototype.spaceSeparated=!1;rs.prototype.space=void 0;let BV=0;const Wt=Mu(),xn=Mu(),I1=Mu(),Ae=Mu(),Fr=Mu(),Jd=Mu(),cs=Mu();function Mu(){return 2**++BV}const M1=Object.freeze(Object.defineProperty({__proto__:null,boolean:Wt,booleanish:xn,commaOrSpaceSeparated:cs,commaSeparated:Jd,number:Ae,overloadedBoolean:I1,spaceSeparated:Fr},Symbol.toStringTag,{value:"Module"})),Qb=Object.keys(M1);class I_ extends rs{constructor(e,t,n,i){let s=-1;if(super(e,t),OT(this,"space",i),typeof n=="number")for(;++s<Qb.length;){const o=Qb[s];OT(this,Qb[s],(n&M1[o])===M1[o])}}}I_.prototype.defined=!0;function OT(r,e,t){t&&(r[e]=t)}function Nf(r){const e={},t={};for(const[n,i]of Object.entries(r.properties)){const s=new I_(n,r.transform(r.attributes||{},n),i,r.space);r.mustUseProperty&&r.mustUseProperty.includes(n)&&(s.mustUseProperty=!0),e[n]=s,t[R1(n)]=n,t[R1(s.attribute)]=n}return new um(e,t,r.space)}const W4=Nf({properties:{ariaActiveDescendant:null,ariaAtomic:xn,ariaAutoComplete:null,ariaBusy:xn,ariaChecked:xn,ariaColCount:Ae,ariaColIndex:Ae,ariaColSpan:Ae,ariaControls:Fr,ariaCurrent:null,ariaDescribedBy:Fr,ariaDetails:null,ariaDisabled:xn,ariaDropEffect:Fr,ariaErrorMessage:null,ariaExpanded:xn,ariaFlowTo:Fr,ariaGrabbed:xn,ariaHasPopup:null,ariaHidden:xn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Fr,ariaLevel:Ae,ariaLive:null,ariaModal:xn,ariaMultiLine:xn,ariaMultiSelectable:xn,ariaOrientation:null,ariaOwns:Fr,ariaPlaceholder:null,ariaPosInSet:Ae,ariaPressed:xn,ariaReadOnly:xn,ariaRelevant:null,ariaRequired:xn,ariaRoleDescription:Fr,ariaRowCount:Ae,ariaRowIndex:Ae,ariaRowSpan:Ae,ariaSelected:xn,ariaSetSize:Ae,ariaSort:null,ariaValueMax:Ae,ariaValueMin:Ae,ariaValueNow:Ae,ariaValueText:null,role:null},transform(r,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function H4(r,e){return e in r?r[e]:e}function V4(r,e){return H4(r,e.toLowerCase())}const $V=Nf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Jd,acceptCharset:Fr,accessKey:Fr,action:null,allow:null,allowFullScreen:Wt,allowPaymentRequest:Wt,allowUserMedia:Wt,alt:null,as:null,async:Wt,autoCapitalize:null,autoComplete:Fr,autoFocus:Wt,autoPlay:Wt,blocking:Fr,capture:null,charSet:null,checked:Wt,cite:null,className:Fr,cols:Ae,colSpan:null,content:null,contentEditable:xn,controls:Wt,controlsList:Fr,coords:Ae|Jd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Wt,defer:Wt,dir:null,dirName:null,disabled:Wt,download:I1,draggable:xn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Wt,formTarget:null,headers:Fr,height:Ae,hidden:I1,high:Ae,href:null,hrefLang:null,htmlFor:Fr,httpEquiv:Fr,id:null,imageSizes:null,imageSrcSet:null,inert:Wt,inputMode:null,integrity:null,is:null,isMap:Wt,itemId:null,itemProp:Fr,itemRef:Fr,itemScope:Wt,itemType:Fr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Wt,low:Ae,manifest:null,max:null,maxLength:Ae,media:null,method:null,min:null,minLength:Ae,multiple:Wt,muted:Wt,name:null,nonce:null,noModule:Wt,noValidate:Wt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Wt,optimum:Ae,pattern:null,ping:Fr,placeholder:null,playsInline:Wt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Wt,referrerPolicy:null,rel:Fr,required:Wt,reversed:Wt,rows:Ae,rowSpan:Ae,sandbox:Fr,scope:null,scoped:Wt,seamless:Wt,selected:Wt,shadowRootClonable:Wt,shadowRootDelegatesFocus:Wt,shadowRootMode:null,shape:null,size:Ae,sizes:null,slot:null,span:Ae,spellCheck:xn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ae,step:null,style:null,tabIndex:Ae,target:null,title:null,translate:null,type:null,typeMustMatch:Wt,useMap:null,value:xn,width:Ae,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Fr,axis:null,background:null,bgColor:null,border:Ae,borderColor:null,bottomMargin:Ae,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Wt,declare:Wt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ae,leftMargin:Ae,link:null,longDesc:null,lowSrc:null,marginHeight:Ae,marginWidth:Ae,noResize:Wt,noHref:Wt,noShade:Wt,noWrap:Wt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ae,rules:null,scheme:null,scrolling:xn,standby:null,summary:null,text:null,topMargin:Ae,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ae,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Wt,disableRemotePlayback:Wt,prefix:null,property:null,results:Ae,security:null,unselectable:null},space:"html",transform:V4}),UV=Nf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:cs,accentHeight:Ae,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ae,amplitude:Ae,arabicForm:null,ascent:Ae,attributeName:null,attributeType:null,azimuth:Ae,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ae,by:null,calcMode:null,capHeight:Ae,className:Fr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ae,diffuseConstant:Ae,direction:null,display:null,dur:null,divisor:Ae,dominantBaseline:null,download:Wt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ae,enableBackground:null,end:null,event:null,exponent:Ae,externalResourcesRequired:null,fill:null,fillOpacity:Ae,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Jd,g2:Jd,glyphName:Jd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ae,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ae,horizOriginX:Ae,horizOriginY:Ae,id:null,ideographic:Ae,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ae,k:Ae,k1:Ae,k2:Ae,k3:Ae,k4:Ae,kernelMatrix:cs,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ae,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ae,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ae,overlineThickness:Ae,paintOrder:null,panose1:null,path:null,pathLength:Ae,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Fr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ae,pointsAtY:Ae,pointsAtZ:Ae,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:cs,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:cs,rev:cs,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:cs,requiredFeatures:cs,requiredFonts:cs,requiredFormats:cs,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ae,specularExponent:Ae,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ae,strikethroughThickness:Ae,string:null,stroke:null,strokeDashArray:cs,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ae,strokeOpacity:Ae,strokeWidth:null,style:null,surfaceScale:Ae,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:cs,tabIndex:Ae,tableValues:null,target:null,targetX:Ae,targetY:Ae,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:cs,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ae,underlineThickness:Ae,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ae,values:null,vAlphabetic:Ae,vMathematical:Ae,vectorEffect:null,vHanging:Ae,vIdeographic:Ae,version:null,vertAdvY:Ae,vertOriginX:Ae,vertOriginY:Ae,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ae,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:H4}),G4=Nf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(r,e){return"xlink:"+e.slice(5).toLowerCase()}}),K4=Nf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:V4}),Y4=Nf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(r,e){return"xml:"+e.slice(3).toLowerCase()}}),qV={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},WV=/[A-Z]/g,DT=/-[a-z]/g,HV=/^data[-\w.:]+$/i;function VV(r,e){const t=R1(e);let n=e,i=rs;if(t in r.normal)return r.property[r.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&HV.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(DT,KV);n="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!DT.test(s)){let o=s.replace(WV,GV);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=I_}return new i(n,e)}function GV(r){return"-"+r.toLowerCase()}function KV(r){return r.charAt(1).toUpperCase()}const YV=q4([W4,$V,G4,K4,Y4],"html"),M_=q4([W4,UV,G4,K4,Y4],"svg");function JV(r){return r.join(" ").trim()}var md={},Xb,LT;function QV(){if(LT)return Xb;LT=1;var r=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,u=`
`,d="/",h="*",p="",y="comment",m="declaration";Xb=function(x,w){if(typeof x!="string")throw new TypeError("First argument must be a string");if(!x)return[];w=w||{};var A=1,P=1;function I(D){var v=D.match(e);v&&(A+=v.length);var S=D.lastIndexOf(u);P=~S?D.length-S:P+D.length}function T(){var D={line:A,column:P};return function(v){return v.position=new U(D),G(),v}}function U(D){this.start=D,this.end={line:A,column:P},this.source=w.source}U.prototype.content=x;function B(D){var v=new Error(w.source+":"+A+":"+P+": "+D);if(v.reason=D,v.filename=w.source,v.line=A,v.column=P,v.source=x,!w.silent)throw v}function H(D){var v=D.exec(x);if(v){var S=v[0];return I(S),x=x.slice(S.length),v}}function G(){H(t)}function W(D){var v;for(D=D||[];v=V();)v!==!1&&D.push(v);return D}function V(){var D=T();if(!(d!=x.charAt(0)||h!=x.charAt(1))){for(var v=2;p!=x.charAt(v)&&(h!=x.charAt(v)||d!=x.charAt(v+1));)++v;if(v+=2,p===x.charAt(v-1))return B("End of comment missing");var S=x.slice(2,v-2);return P+=2,I(S),x=x.slice(v),P+=2,D({type:y,comment:S})}}function K(){var D=T(),v=H(n);if(v){if(V(),!H(i))return B("property missing ':'");var S=H(s),_=D({type:m,property:b(v[0].replace(r,p)),value:S?b(S[0].replace(r,p)):p});return H(o),_}}function q(){var D=[];W(D);for(var v;v=K();)v!==!1&&(D.push(v),W(D));return D}return G(),q()};function b(x){return x?x.replace(a,p):p}return Xb}var zT;function XV(){if(zT)return md;zT=1;var r=md&&md.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(md,"__esModule",{value:!0}),md.default=t;var e=r(QV());function t(n,i){var s=null;if(!n||typeof n!="string")return s;var o=(0,e.default)(n),a=typeof i=="function";return o.forEach(function(u){if(u.type==="declaration"){var d=u.property,h=u.value;a?i(d,h,u):h&&(s=s||{},s[d]=h)}}),s}return md}var Th={},FT;function ZV(){if(FT)return Th;FT=1,Object.defineProperty(Th,"__esModule",{value:!0}),Th.camelCase=void 0;var r=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(d){return!d||t.test(d)||r.test(d)},o=function(d,h){return h.toUpperCase()},a=function(d,h){return"".concat(h,"-")},u=function(d,h){return h===void 0&&(h={}),s(d)?d:(d=d.toLowerCase(),h.reactCompat?d=d.replace(i,a):d=d.replace(n,a),d.replace(e,o))};return Th.camelCase=u,Th}var Ah,BT;function eG(){if(BT)return Ah;BT=1;var r=Ah&&Ah.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=r(XV()),t=ZV();function n(i,s){var o={};return!i||typeof i!="string"||(0,e.default)(i,function(a,u){a&&u&&(o[(0,t.camelCase)(a,s)]=u)}),o}return n.default=n,Ah=n,Ah}var tG=eG();const rG=el(tG),J4=Q4("end"),O_=Q4("start");function Q4(r){return e;function e(t){const n=t&&t.position&&t.position[r]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function nG(r){const e=O_(r),t=J4(r);if(e&&t)return{start:e,end:t}}function up(r){return!r||typeof r!="object"?"":"position"in r||"type"in r?$T(r.position):"start"in r||"end"in r?$T(r):"line"in r||"column"in r?O1(r):""}function O1(r){return UT(r&&r.line)+":"+UT(r&&r.column)}function $T(r){return O1(r&&r.start)+"-"+O1(r&&r.end)}function UT(r){return r&&typeof r=="number"?r:1}class ki extends Error{constructor(e,t,n){super(),typeof t=="string"&&(n=t,t=void 0);let i="",s={},o=!1;if(t&&("line"in t&&"column"in t?s={place:t}:"start"in t&&"end"in t?s={place:t}:"type"in t?s={ancestors:[t],place:t.position}:s={...t}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof n=="string"){const u=n.indexOf(":");u===-1?s.ruleId=n:(s.source=n.slice(0,u),s.ruleId=n.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=up(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}ki.prototype.file="";ki.prototype.name="";ki.prototype.reason="";ki.prototype.message="";ki.prototype.stack="";ki.prototype.column=void 0;ki.prototype.line=void 0;ki.prototype.ancestors=void 0;ki.prototype.cause=void 0;ki.prototype.fatal=void 0;ki.prototype.place=void 0;ki.prototype.ruleId=void 0;ki.prototype.source=void 0;const D_={}.hasOwnProperty,iG=new Map,sG=/[A-Z]/g,oG=new Set(["table","tbody","thead","tfoot","tr"]),aG=new Set(["td","th"]),X4="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function lG(r,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let n;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=gG(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=mG(t,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:n,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?M_:YV,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=Z4(i,r,void 0);return s&&typeof s!="string"?s:i.create(r,i.Fragment,{children:s||void 0},void 0)}function Z4(r,e,t){if(e.type==="element")return cG(r,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return uG(r,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return fG(r,e,t);if(e.type==="mdxjsEsm")return dG(r,e);if(e.type==="root")return hG(r,e,t);if(e.type==="text")return pG(r,e)}function cG(r,e,t){const n=r.schema;let i=n;e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=M_,r.schema=i),r.ancestors.push(e);const s=t3(r,e.tagName,!1),o=yG(r,e);let a=z_(r,e);return oG.has(e.tagName)&&(a=a.filter(function(u){return typeof u=="string"?!FV(u):!0})),e3(r,o,s,e),L_(o,a),r.ancestors.pop(),r.schema=n,r.create(e,s,o,t)}function uG(r,e){if(e.data&&e.data.estree&&r.evaluater){const n=e.data.estree.body[0];return n.type,r.evaluater.evaluateExpression(n.expression)}$p(r,e.position)}function dG(r,e){if(e.data&&e.data.estree&&r.evaluater)return r.evaluater.evaluateProgram(e.data.estree);$p(r,e.position)}function fG(r,e,t){const n=r.schema;let i=n;e.name==="svg"&&n.space==="html"&&(i=M_,r.schema=i),r.ancestors.push(e);const s=e.name===null?r.Fragment:t3(r,e.name,!0),o=xG(r,e),a=z_(r,e);return e3(r,o,s,e),L_(o,a),r.ancestors.pop(),r.schema=n,r.create(e,s,o,t)}function hG(r,e,t){const n={};return L_(n,z_(r,e)),r.create(e,r.Fragment,n,t)}function pG(r,e){return e.value}function e3(r,e,t,n){typeof t!="string"&&t!==r.Fragment&&r.passNode&&(e.node=n)}function L_(r,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(r.children=t)}}function mG(r,e,t){return n;function n(i,s,o,a){const d=Array.isArray(o.children)?t:e;return a?d(s,o,a):d(s,o)}}function gG(r,e){return t;function t(n,i,s,o){const a=Array.isArray(s.children),u=O_(n);return e(i,s,o,a,{columnNumber:u?u.column-1:void 0,fileName:r,lineNumber:u?u.line:void 0},void 0)}}function yG(r,e){const t={};let n,i;for(i in e.properties)if(i!=="children"&&D_.call(e.properties,i)){const s=vG(r,i,e.properties[i]);if(s){const[o,a]=s;r.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&aG.has(e.tagName)?n=a:t[o]=a}}if(n){const s=t.style||(t.style={});s[r.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return t}function xG(r,e){const t={};for(const n of e.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&r.evaluater){const s=n.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(t,r.evaluater.evaluateExpression(a.argument))}else $p(r,e.position);else{const i=n.name;let s;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&r.evaluater){const a=n.value.data.estree.body[0];a.type,s=r.evaluater.evaluateExpression(a.expression)}else $p(r,e.position);else s=n.value===null?!0:n.value;t[i]=s}return t}function z_(r,e){const t=[];let n=-1;const i=r.passKeys?new Map:iG;for(;++n<e.children.length;){const s=e.children[n];let o;if(r.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const d=i.get(u)||0;o=u+"-"+d,i.set(u,d+1)}}const a=Z4(r,s,o);a!==void 0&&t.push(a)}return t}function vG(r,e,t){const n=VV(r.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=n.commaSeparated?MV(t):JV(t)),n.property==="style"){let i=typeof t=="object"?t:bG(r,String(t));return r.stylePropertyNameCase==="css"&&(i=wG(i)),["style",i]}return[r.elementAttributeNameCase==="react"&&n.space?qV[n.property]||n.property:n.attribute,t]}}function bG(r,e){try{return rG(e,{reactCompat:!0})}catch(t){if(r.ignoreInvalidStyle)return{};const n=t,i=new ki("Cannot parse `style` attribute",{ancestors:r.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=r.filePath||void 0,i.url=X4+"#cannot-parse-style-attribute",i}}function t3(r,e,t){let n;if(!t)n={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=IT(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}n=o}else n=IT(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(n.type==="Literal"){const i=n.value;return D_.call(r.components,i)?r.components[i]:i}if(r.evaluater)return r.evaluater.evaluateExpression(n);$p(r)}function $p(r,e){const t=new ki("Cannot handle MDX estrees without `createEvaluater`",{ancestors:r.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=r.filePath||void 0,t.url=X4+"#cannot-handle-mdx-estrees-without-createevaluater",t}function wG(r){const e={};let t;for(t in r)D_.call(r,t)&&(e[kG(t)]=r[t]);return e}function kG(r){let e=r.replace(sG,_G);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function _G(r){return"-"+r.toLowerCase()}const Zb={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},EG={};function F_(r,e){const t=EG,n=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return r3(r,n,i)}function r3(r,e,t){if(CG(r)){if("value"in r)return r.type==="html"&&!t?"":r.value;if(e&&"alt"in r&&r.alt)return r.alt;if("children"in r)return qT(r.children,e,t)}return Array.isArray(r)?qT(r,e,t):""}function qT(r,e,t){const n=[];let i=-1;for(;++i<r.length;)n[i]=r3(r[i],e,t);return n.join("")}function CG(r){return!!(r&&typeof r=="object")}const WT=document.createElement("i");function B_(r){const e="&"+r+";";WT.innerHTML=e;const t=WT.textContent;return t.charCodeAt(t.length-1)===59&&r!=="semi"||t===e?!1:t}function Ps(r,e,t,n){const i=r.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,n.length<1e4)o=Array.from(n),o.unshift(e,t),r.splice(...o);else for(t&&r.splice(e,t);s<n.length;)o=n.slice(s,s+1e4),o.unshift(e,0),r.splice(...o),s+=1e4,e+=1e4}function Qs(r,e){return r.length>0?(Ps(r,r.length,0,e),r):e}const HT={}.hasOwnProperty;function n3(r){const e={};let t=-1;for(;++t<r.length;)SG(e,r[t]);return e}function SG(r,e){let t;for(t in e){const i=(HT.call(r,t)?r[t]:void 0)||(r[t]={}),s=e[t];let o;if(s)for(o in s){HT.call(i,o)||(i[o]=[]);const a=s[o];NG(i[o],Array.isArray(a)?a:a?[a]:[])}}}function NG(r,e){let t=-1;const n=[];for(;++t<e.length;)(e[t].add==="after"?r:n).push(e[t]);Ps(r,0,0,n)}function i3(r,e){const t=Number.parseInt(r,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function Ro(r){return r.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Li=yc(/[A-Za-z]/),vi=yc(/[\dA-Za-z]/),TG=yc(/[#-'*+\--9=?A-Z^-~]/);function gy(r){return r!==null&&(r<32||r===127)}const D1=yc(/\d/),AG=yc(/[\dA-Fa-f]/),jG=yc(/[!-/:-@[-`{-~]/);function Et(r){return r!==null&&r<-2}function Rr(r){return r!==null&&(r<0||r===32)}function ir(r){return r===-2||r===-1||r===32}const ix=yc(new RegExp("\\p{P}|\\p{S}","u")),Su=yc(/\s/);function yc(r){return e;function e(t){return t!==null&&t>-1&&r.test(String.fromCharCode(t))}}function Tf(r){const e=[];let t=-1,n=0,i=0;for(;++t<r.length;){const s=r.charCodeAt(t);let o="";if(s===37&&vi(r.charCodeAt(t+1))&&vi(r.charCodeAt(t+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=r.charCodeAt(t+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(r.slice(n,t),encodeURIComponent(o)),n=t+i+1,o=""),i&&(t+=i,i=0)}return e.join("")+r.slice(n)}function cr(r,e,t,n){const i=n?n-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return ir(u)?(r.enter(t),a(u)):e(u)}function a(u){return ir(u)&&s++<i?(r.consume(u),a):(r.exit(t),e(u))}}const PG={tokenize:RG};function RG(r){const e=r.attempt(this.parser.constructs.contentInitial,n,i);let t;return e;function n(a){if(a===null){r.consume(a);return}return r.enter("lineEnding"),r.consume(a),r.exit("lineEnding"),cr(r,e,"linePrefix")}function i(a){return r.enter("paragraph"),s(a)}function s(a){const u=r.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=u),t=u,o(a)}function o(a){if(a===null){r.exit("chunkText"),r.exit("paragraph"),r.consume(a);return}return Et(a)?(r.consume(a),r.exit("chunkText"),s):(r.consume(a),o)}}const IG={tokenize:MG},VT={tokenize:OG};function MG(r){const e=this,t=[];let n=0,i,s,o;return a;function a(I){if(n<t.length){const T=t[n];return e.containerState=T[1],r.attempt(T[0].continuation,u,d)(I)}return d(I)}function u(I){if(n++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&P();const T=e.events.length;let U=T,B;for(;U--;)if(e.events[U][0]==="exit"&&e.events[U][1].type==="chunkFlow"){B=e.events[U][1].end;break}A(n);let H=T;for(;H<e.events.length;)e.events[H][1].end={...B},H++;return Ps(e.events,U+1,0,e.events.slice(T)),e.events.length=H,d(I)}return a(I)}function d(I){if(n===t.length){if(!i)return y(I);if(i.currentConstruct&&i.currentConstruct.concrete)return b(I);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},r.check(VT,h,p)(I)}function h(I){return i&&P(),A(n),y(I)}function p(I){return e.parser.lazy[e.now().line]=n!==t.length,o=e.now().offset,b(I)}function y(I){return e.containerState={},r.attempt(VT,m,b)(I)}function m(I){return n++,t.push([e.currentConstruct,e.containerState]),y(I)}function b(I){if(I===null){i&&P(),A(0),r.consume(I);return}return i=i||e.parser.flow(e.now()),r.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),x(I)}function x(I){if(I===null){w(r.exit("chunkFlow"),!0),A(0),r.consume(I);return}return Et(I)?(r.consume(I),w(r.exit("chunkFlow")),n=0,e.interrupt=void 0,a):(r.consume(I),x)}function w(I,T){const U=e.sliceStream(I);if(T&&U.push(null),I.previous=s,s&&(s.next=I),s=I,i.defineSkip(I.start),i.write(U),e.parser.lazy[I.start.line]){let B=i.events.length;for(;B--;)if(i.events[B][1].start.offset<o&&(!i.events[B][1].end||i.events[B][1].end.offset>o))return;const H=e.events.length;let G=H,W,V;for(;G--;)if(e.events[G][0]==="exit"&&e.events[G][1].type==="chunkFlow"){if(W){V=e.events[G][1].end;break}W=!0}for(A(n),B=H;B<e.events.length;)e.events[B][1].end={...V},B++;Ps(e.events,G+1,0,e.events.slice(H)),e.events.length=B}}function A(I){let T=t.length;for(;T-- >I;){const U=t[T];e.containerState=U[1],U[0].exit.call(e,r)}t.length=I}function P(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function OG(r,e,t){return cr(r,r.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function pf(r){if(r===null||Rr(r)||Su(r))return 1;if(ix(r))return 2}function sx(r,e,t){const n=[];let i=-1;for(;++i<r.length;){const s=r[i].resolveAll;s&&!n.includes(s)&&(e=s(e,t),n.push(s))}return e}const L1={name:"attention",resolveAll:DG,tokenize:LG};function DG(r,e){let t=-1,n,i,s,o,a,u,d,h;for(;++t<r.length;)if(r[t][0]==="enter"&&r[t][1].type==="attentionSequence"&&r[t][1]._close){for(n=t;n--;)if(r[n][0]==="exit"&&r[n][1].type==="attentionSequence"&&r[n][1]._open&&e.sliceSerialize(r[n][1]).charCodeAt(0)===e.sliceSerialize(r[t][1]).charCodeAt(0)){if((r[n][1]._close||r[t][1]._open)&&(r[t][1].end.offset-r[t][1].start.offset)%3&&!((r[n][1].end.offset-r[n][1].start.offset+r[t][1].end.offset-r[t][1].start.offset)%3))continue;u=r[n][1].end.offset-r[n][1].start.offset>1&&r[t][1].end.offset-r[t][1].start.offset>1?2:1;const p={...r[n][1].end},y={...r[t][1].start};GT(p,-u),GT(y,u),o={type:u>1?"strongSequence":"emphasisSequence",start:p,end:{...r[n][1].end}},a={type:u>1?"strongSequence":"emphasisSequence",start:{...r[t][1].start},end:y},s={type:u>1?"strongText":"emphasisText",start:{...r[n][1].end},end:{...r[t][1].start}},i={type:u>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},r[n][1].end={...o.start},r[t][1].start={...a.end},d=[],r[n][1].end.offset-r[n][1].start.offset&&(d=Qs(d,[["enter",r[n][1],e],["exit",r[n][1],e]])),d=Qs(d,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),d=Qs(d,sx(e.parser.constructs.insideSpan.null,r.slice(n+1,t),e)),d=Qs(d,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),r[t][1].end.offset-r[t][1].start.offset?(h=2,d=Qs(d,[["enter",r[t][1],e],["exit",r[t][1],e]])):h=0,Ps(r,n-1,t-n+3,d),t=n+d.length-h-2;break}}for(t=-1;++t<r.length;)r[t][1].type==="attentionSequence"&&(r[t][1].type="data");return r}function LG(r,e){const t=this.parser.constructs.attentionMarkers.null,n=this.previous,i=pf(n);let s;return o;function o(u){return s=u,r.enter("attentionSequence"),a(u)}function a(u){if(u===s)return r.consume(u),a;const d=r.exit("attentionSequence"),h=pf(u),p=!h||h===2&&i||t.includes(u),y=!i||i===2&&h||t.includes(n);return d._open=!!(s===42?p:p&&(i||!y)),d._close=!!(s===42?y:y&&(h||!p)),e(u)}}function GT(r,e){r.column+=e,r.offset+=e,r._bufferIndex+=e}const zG={name:"autolink",tokenize:FG};function FG(r,e,t){let n=0;return i;function i(m){return r.enter("autolink"),r.enter("autolinkMarker"),r.consume(m),r.exit("autolinkMarker"),r.enter("autolinkProtocol"),s}function s(m){return Li(m)?(r.consume(m),o):m===64?t(m):d(m)}function o(m){return m===43||m===45||m===46||vi(m)?(n=1,a(m)):d(m)}function a(m){return m===58?(r.consume(m),n=0,u):(m===43||m===45||m===46||vi(m))&&n++<32?(r.consume(m),a):(n=0,d(m))}function u(m){return m===62?(r.exit("autolinkProtocol"),r.enter("autolinkMarker"),r.consume(m),r.exit("autolinkMarker"),r.exit("autolink"),e):m===null||m===32||m===60||gy(m)?t(m):(r.consume(m),u)}function d(m){return m===64?(r.consume(m),h):TG(m)?(r.consume(m),d):t(m)}function h(m){return vi(m)?p(m):t(m)}function p(m){return m===46?(r.consume(m),n=0,h):m===62?(r.exit("autolinkProtocol").type="autolinkEmail",r.enter("autolinkMarker"),r.consume(m),r.exit("autolinkMarker"),r.exit("autolink"),e):y(m)}function y(m){if((m===45||vi(m))&&n++<63){const b=m===45?y:p;return r.consume(m),b}return t(m)}}const dm={partial:!0,tokenize:BG};function BG(r,e,t){return n;function n(s){return ir(s)?cr(r,i,"linePrefix")(s):i(s)}function i(s){return s===null||Et(s)?e(s):t(s)}}const s3={continuation:{tokenize:UG},exit:qG,name:"blockQuote",tokenize:$G};function $G(r,e,t){const n=this;return i;function i(o){if(o===62){const a=n.containerState;return a.open||(r.enter("blockQuote",{_container:!0}),a.open=!0),r.enter("blockQuotePrefix"),r.enter("blockQuoteMarker"),r.consume(o),r.exit("blockQuoteMarker"),s}return t(o)}function s(o){return ir(o)?(r.enter("blockQuotePrefixWhitespace"),r.consume(o),r.exit("blockQuotePrefixWhitespace"),r.exit("blockQuotePrefix"),e):(r.exit("blockQuotePrefix"),e(o))}}function UG(r,e,t){const n=this;return i;function i(o){return ir(o)?cr(r,s,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return r.attempt(s3,e,t)(o)}}function qG(r){r.exit("blockQuote")}const o3={name:"characterEscape",tokenize:WG};function WG(r,e,t){return n;function n(s){return r.enter("characterEscape"),r.enter("escapeMarker"),r.consume(s),r.exit("escapeMarker"),i}function i(s){return jG(s)?(r.enter("characterEscapeValue"),r.consume(s),r.exit("characterEscapeValue"),r.exit("characterEscape"),e):t(s)}}const a3={name:"characterReference",tokenize:HG};function HG(r,e,t){const n=this;let i=0,s,o;return a;function a(p){return r.enter("characterReference"),r.enter("characterReferenceMarker"),r.consume(p),r.exit("characterReferenceMarker"),u}function u(p){return p===35?(r.enter("characterReferenceMarkerNumeric"),r.consume(p),r.exit("characterReferenceMarkerNumeric"),d):(r.enter("characterReferenceValue"),s=31,o=vi,h(p))}function d(p){return p===88||p===120?(r.enter("characterReferenceMarkerHexadecimal"),r.consume(p),r.exit("characterReferenceMarkerHexadecimal"),r.enter("characterReferenceValue"),s=6,o=AG,h):(r.enter("characterReferenceValue"),s=7,o=D1,h(p))}function h(p){if(p===59&&i){const y=r.exit("characterReferenceValue");return o===vi&&!B_(n.sliceSerialize(y))?t(p):(r.enter("characterReferenceMarker"),r.consume(p),r.exit("characterReferenceMarker"),r.exit("characterReference"),e)}return o(p)&&i++<s?(r.consume(p),h):t(p)}}const KT={partial:!0,tokenize:GG},YT={concrete:!0,name:"codeFenced",tokenize:VG};function VG(r,e,t){const n=this,i={partial:!0,tokenize:U};let s=0,o=0,a;return u;function u(B){return d(B)}function d(B){const H=n.events[n.events.length-1];return s=H&&H[1].type==="linePrefix"?H[2].sliceSerialize(H[1],!0).length:0,a=B,r.enter("codeFenced"),r.enter("codeFencedFence"),r.enter("codeFencedFenceSequence"),h(B)}function h(B){return B===a?(o++,r.consume(B),h):o<3?t(B):(r.exit("codeFencedFenceSequence"),ir(B)?cr(r,p,"whitespace")(B):p(B))}function p(B){return B===null||Et(B)?(r.exit("codeFencedFence"),n.interrupt?e(B):r.check(KT,x,T)(B)):(r.enter("codeFencedFenceInfo"),r.enter("chunkString",{contentType:"string"}),y(B))}function y(B){return B===null||Et(B)?(r.exit("chunkString"),r.exit("codeFencedFenceInfo"),p(B)):ir(B)?(r.exit("chunkString"),r.exit("codeFencedFenceInfo"),cr(r,m,"whitespace")(B)):B===96&&B===a?t(B):(r.consume(B),y)}function m(B){return B===null||Et(B)?p(B):(r.enter("codeFencedFenceMeta"),r.enter("chunkString",{contentType:"string"}),b(B))}function b(B){return B===null||Et(B)?(r.exit("chunkString"),r.exit("codeFencedFenceMeta"),p(B)):B===96&&B===a?t(B):(r.consume(B),b)}function x(B){return r.attempt(i,T,w)(B)}function w(B){return r.enter("lineEnding"),r.consume(B),r.exit("lineEnding"),A}function A(B){return s>0&&ir(B)?cr(r,P,"linePrefix",s+1)(B):P(B)}function P(B){return B===null||Et(B)?r.check(KT,x,T)(B):(r.enter("codeFlowValue"),I(B))}function I(B){return B===null||Et(B)?(r.exit("codeFlowValue"),P(B)):(r.consume(B),I)}function T(B){return r.exit("codeFenced"),e(B)}function U(B,H,G){let W=0;return V;function V(S){return B.enter("lineEnding"),B.consume(S),B.exit("lineEnding"),K}function K(S){return B.enter("codeFencedFence"),ir(S)?cr(B,q,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):q(S)}function q(S){return S===a?(B.enter("codeFencedFenceSequence"),D(S)):G(S)}function D(S){return S===a?(W++,B.consume(S),D):W>=o?(B.exit("codeFencedFenceSequence"),ir(S)?cr(B,v,"whitespace")(S):v(S)):G(S)}function v(S){return S===null||Et(S)?(B.exit("codeFencedFence"),H(S)):G(S)}}}function GG(r,e,t){const n=this;return i;function i(o){return o===null?t(o):(r.enter("lineEnding"),r.consume(o),r.exit("lineEnding"),s)}function s(o){return n.parser.lazy[n.now().line]?t(o):e(o)}}const ew={name:"codeIndented",tokenize:YG},KG={partial:!0,tokenize:JG};function YG(r,e,t){const n=this;return i;function i(d){return r.enter("codeIndented"),cr(r,s,"linePrefix",5)(d)}function s(d){const h=n.events[n.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(d):t(d)}function o(d){return d===null?u(d):Et(d)?r.attempt(KG,o,u)(d):(r.enter("codeFlowValue"),a(d))}function a(d){return d===null||Et(d)?(r.exit("codeFlowValue"),o(d)):(r.consume(d),a)}function u(d){return r.exit("codeIndented"),e(d)}}function JG(r,e,t){const n=this;return i;function i(o){return n.parser.lazy[n.now().line]?t(o):Et(o)?(r.enter("lineEnding"),r.consume(o),r.exit("lineEnding"),i):cr(r,s,"linePrefix",5)(o)}function s(o){const a=n.events[n.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):Et(o)?i(o):t(o)}}const QG={name:"codeText",previous:ZG,resolve:XG,tokenize:eK};function XG(r){let e=r.length-4,t=3,n,i;if((r[t][1].type==="lineEnding"||r[t][1].type==="space")&&(r[e][1].type==="lineEnding"||r[e][1].type==="space")){for(n=t;++n<e;)if(r[n][1].type==="codeTextData"){r[t][1].type="codeTextPadding",r[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(n=t-1,e++;++n<=e;)i===void 0?n!==e&&r[n][1].type!=="lineEnding"&&(i=n):(n===e||r[n][1].type==="lineEnding")&&(r[i][1].type="codeTextData",n!==i+2&&(r[i][1].end=r[n-1][1].end,r.splice(i+2,n-i-2),e-=n-i-2,n=i+2),i=void 0);return r}function ZG(r){return r!==96||this.events[this.events.length-1][1].type==="characterEscape"}function eK(r,e,t){let n=0,i,s;return o;function o(p){return r.enter("codeText"),r.enter("codeTextSequence"),a(p)}function a(p){return p===96?(r.consume(p),n++,a):(r.exit("codeTextSequence"),u(p))}function u(p){return p===null?t(p):p===32?(r.enter("space"),r.consume(p),r.exit("space"),u):p===96?(s=r.enter("codeTextSequence"),i=0,h(p)):Et(p)?(r.enter("lineEnding"),r.consume(p),r.exit("lineEnding"),u):(r.enter("codeTextData"),d(p))}function d(p){return p===null||p===32||p===96||Et(p)?(r.exit("codeTextData"),u(p)):(r.consume(p),d)}function h(p){return p===96?(r.consume(p),i++,h):i===n?(r.exit("codeTextSequence"),r.exit("codeText"),e(p)):(s.type="codeTextData",d(p))}}class tK{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=t??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const i=t||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&jh(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),jh(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),jh(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);jh(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);jh(this.left,t.reverse())}}}function jh(r,e){let t=0;if(e.length<1e4)r.push(...e);else for(;t<e.length;)r.push(...e.slice(t,t+1e4)),t+=1e4}function l3(r){const e={};let t=-1,n,i,s,o,a,u,d;const h=new tK(r);for(;++t<h.length;){for(;t in e;)t=e[t];if(n=h.get(t),t&&n[1].type==="chunkFlow"&&h.get(t-1)[1].type==="listItemPrefix"&&(u=n[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(n[0]==="enter")n[1].contentType&&(Object.assign(e,rK(h,t)),t=e[t],d=!0);else if(n[1]._container){for(s=t,i=void 0;s--;)if(o=h.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(n[1].end={...h.get(i)[1].start},a=h.slice(i,t),a.unshift(n),h.splice(i,t-i+1,a))}}return Ps(r,0,Number.POSITIVE_INFINITY,h.slice(0)),!d}function rK(r,e){const t=r.get(e)[1],n=r.get(e)[2];let i=e-1;const s=[];let o=t._tokenizer;o||(o=n.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,u=[],d={};let h,p,y=-1,m=t,b=0,x=0;const w=[x];for(;m;){for(;r.get(++i)[1]!==m;);s.push(i),m._tokenizer||(h=n.sliceStream(m),m.next||h.push(null),p&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),p=m,m=m.next}for(m=t;++y<a.length;)a[y][0]==="exit"&&a[y-1][0]==="enter"&&a[y][1].type===a[y-1][1].type&&a[y][1].start.line!==a[y][1].end.line&&(x=y+1,w.push(x),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):w.pop(),y=w.length;y--;){const A=a.slice(w[y],w[y+1]),P=s.pop();u.push([P,P+A.length-1]),r.splice(P,2,A)}for(u.reverse(),y=-1;++y<u.length;)d[b+u[y][0]]=b+u[y][1],b+=u[y][1]-u[y][0]-1;return d}const nK={resolve:sK,tokenize:oK},iK={partial:!0,tokenize:aK};function sK(r){return l3(r),r}function oK(r,e){let t;return n;function n(a){return r.enter("content"),t=r.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Et(a)?r.check(iK,o,s)(a):(r.consume(a),i)}function s(a){return r.exit("chunkContent"),r.exit("content"),e(a)}function o(a){return r.consume(a),r.exit("chunkContent"),t.next=r.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function aK(r,e,t){const n=this;return i;function i(o){return r.exit("chunkContent"),r.enter("lineEnding"),r.consume(o),r.exit("lineEnding"),cr(r,s,"linePrefix")}function s(o){if(o===null||Et(o))return t(o);const a=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):r.interrupt(n.parser.constructs.flow,t,e)(o)}}function c3(r,e,t,n,i,s,o,a,u){const d=u||Number.POSITIVE_INFINITY;let h=0;return p;function p(A){return A===60?(r.enter(n),r.enter(i),r.enter(s),r.consume(A),r.exit(s),y):A===null||A===32||A===41||gy(A)?t(A):(r.enter(n),r.enter(o),r.enter(a),r.enter("chunkString",{contentType:"string"}),x(A))}function y(A){return A===62?(r.enter(s),r.consume(A),r.exit(s),r.exit(i),r.exit(n),e):(r.enter(a),r.enter("chunkString",{contentType:"string"}),m(A))}function m(A){return A===62?(r.exit("chunkString"),r.exit(a),y(A)):A===null||A===60||Et(A)?t(A):(r.consume(A),A===92?b:m)}function b(A){return A===60||A===62||A===92?(r.consume(A),m):m(A)}function x(A){return!h&&(A===null||A===41||Rr(A))?(r.exit("chunkString"),r.exit(a),r.exit(o),r.exit(n),e(A)):h<d&&A===40?(r.consume(A),h++,x):A===41?(r.consume(A),h--,x):A===null||A===32||A===40||gy(A)?t(A):(r.consume(A),A===92?w:x)}function w(A){return A===40||A===41||A===92?(r.consume(A),x):x(A)}}function u3(r,e,t,n,i,s){const o=this;let a=0,u;return d;function d(m){return r.enter(n),r.enter(i),r.consume(m),r.exit(i),r.enter(s),h}function h(m){return a>999||m===null||m===91||m===93&&!u||m===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?t(m):m===93?(r.exit(s),r.enter(i),r.consume(m),r.exit(i),r.exit(n),e):Et(m)?(r.enter("lineEnding"),r.consume(m),r.exit("lineEnding"),h):(r.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===null||m===91||m===93||Et(m)||a++>999?(r.exit("chunkString"),h(m)):(r.consume(m),u||(u=!ir(m)),m===92?y:p)}function y(m){return m===91||m===92||m===93?(r.consume(m),a++,p):p(m)}}function d3(r,e,t,n,i,s){let o;return a;function a(y){return y===34||y===39||y===40?(r.enter(n),r.enter(i),r.consume(y),r.exit(i),o=y===40?41:y,u):t(y)}function u(y){return y===o?(r.enter(i),r.consume(y),r.exit(i),r.exit(n),e):(r.enter(s),d(y))}function d(y){return y===o?(r.exit(s),u(o)):y===null?t(y):Et(y)?(r.enter("lineEnding"),r.consume(y),r.exit("lineEnding"),cr(r,d,"linePrefix")):(r.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===o||y===null||Et(y)?(r.exit("chunkString"),d(y)):(r.consume(y),y===92?p:h)}function p(y){return y===o||y===92?(r.consume(y),h):h(y)}}function dp(r,e){let t;return n;function n(i){return Et(i)?(r.enter("lineEnding"),r.consume(i),r.exit("lineEnding"),t=!0,n):ir(i)?cr(r,n,t?"linePrefix":"lineSuffix")(i):e(i)}}const lK={name:"definition",tokenize:uK},cK={partial:!0,tokenize:dK};function uK(r,e,t){const n=this;let i;return s;function s(m){return r.enter("definition"),o(m)}function o(m){return u3.call(n,r,a,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return i=Ro(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),m===58?(r.enter("definitionMarker"),r.consume(m),r.exit("definitionMarker"),u):t(m)}function u(m){return Rr(m)?dp(r,d)(m):d(m)}function d(m){return c3(r,h,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function h(m){return r.attempt(cK,p,p)(m)}function p(m){return ir(m)?cr(r,y,"whitespace")(m):y(m)}function y(m){return m===null||Et(m)?(r.exit("definition"),n.parser.defined.push(i),e(m)):t(m)}}function dK(r,e,t){return n;function n(a){return Rr(a)?dp(r,i)(a):t(a)}function i(a){return d3(r,s,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return ir(a)?cr(r,o,"whitespace")(a):o(a)}function o(a){return a===null||Et(a)?e(a):t(a)}}const fK={name:"hardBreakEscape",tokenize:hK};function hK(r,e,t){return n;function n(s){return r.enter("hardBreakEscape"),r.consume(s),i}function i(s){return Et(s)?(r.exit("hardBreakEscape"),e(s)):t(s)}}const pK={name:"headingAtx",resolve:mK,tokenize:gK};function mK(r,e){let t=r.length-2,n=3,i,s;return r[n][1].type==="whitespace"&&(n+=2),t-2>n&&r[t][1].type==="whitespace"&&(t-=2),r[t][1].type==="atxHeadingSequence"&&(n===t-1||t-4>n&&r[t-2][1].type==="whitespace")&&(t-=n+1===t?2:4),t>n&&(i={type:"atxHeadingText",start:r[n][1].start,end:r[t][1].end},s={type:"chunkText",start:r[n][1].start,end:r[t][1].end,contentType:"text"},Ps(r,n,t-n+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),r}function gK(r,e,t){let n=0;return i;function i(h){return r.enter("atxHeading"),s(h)}function s(h){return r.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&n++<6?(r.consume(h),o):h===null||Rr(h)?(r.exit("atxHeadingSequence"),a(h)):t(h)}function a(h){return h===35?(r.enter("atxHeadingSequence"),u(h)):h===null||Et(h)?(r.exit("atxHeading"),e(h)):ir(h)?cr(r,a,"whitespace")(h):(r.enter("atxHeadingText"),d(h))}function u(h){return h===35?(r.consume(h),u):(r.exit("atxHeadingSequence"),a(h))}function d(h){return h===null||h===35||Rr(h)?(r.exit("atxHeadingText"),a(h)):(r.consume(h),d)}}const yK=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],JT=["pre","script","style","textarea"],xK={concrete:!0,name:"htmlFlow",resolveTo:wK,tokenize:kK},vK={partial:!0,tokenize:EK},bK={partial:!0,tokenize:_K};function wK(r){let e=r.length;for(;e--&&!(r[e][0]==="enter"&&r[e][1].type==="htmlFlow"););return e>1&&r[e-2][1].type==="linePrefix"&&(r[e][1].start=r[e-2][1].start,r[e+1][1].start=r[e-2][1].start,r.splice(e-2,2)),r}function kK(r,e,t){const n=this;let i,s,o,a,u;return d;function d(R){return h(R)}function h(R){return r.enter("htmlFlow"),r.enter("htmlFlowData"),r.consume(R),p}function p(R){return R===33?(r.consume(R),y):R===47?(r.consume(R),s=!0,x):R===63?(r.consume(R),i=3,n.interrupt?e:E):Li(R)?(r.consume(R),o=String.fromCharCode(R),w):t(R)}function y(R){return R===45?(r.consume(R),i=2,m):R===91?(r.consume(R),i=5,a=0,b):Li(R)?(r.consume(R),i=4,n.interrupt?e:E):t(R)}function m(R){return R===45?(r.consume(R),n.interrupt?e:E):t(R)}function b(R){const X="CDATA[";return R===X.charCodeAt(a++)?(r.consume(R),a===X.length?n.interrupt?e:q:b):t(R)}function x(R){return Li(R)?(r.consume(R),o=String.fromCharCode(R),w):t(R)}function w(R){if(R===null||R===47||R===62||Rr(R)){const X=R===47,$=o.toLowerCase();return!X&&!s&&JT.includes($)?(i=1,n.interrupt?e(R):q(R)):yK.includes(o.toLowerCase())?(i=6,X?(r.consume(R),A):n.interrupt?e(R):q(R)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?t(R):s?P(R):I(R))}return R===45||vi(R)?(r.consume(R),o+=String.fromCharCode(R),w):t(R)}function A(R){return R===62?(r.consume(R),n.interrupt?e:q):t(R)}function P(R){return ir(R)?(r.consume(R),P):V(R)}function I(R){return R===47?(r.consume(R),V):R===58||R===95||Li(R)?(r.consume(R),T):ir(R)?(r.consume(R),I):V(R)}function T(R){return R===45||R===46||R===58||R===95||vi(R)?(r.consume(R),T):U(R)}function U(R){return R===61?(r.consume(R),B):ir(R)?(r.consume(R),U):I(R)}function B(R){return R===null||R===60||R===61||R===62||R===96?t(R):R===34||R===39?(r.consume(R),u=R,H):ir(R)?(r.consume(R),B):G(R)}function H(R){return R===u?(r.consume(R),u=null,W):R===null||Et(R)?t(R):(r.consume(R),H)}function G(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||Rr(R)?U(R):(r.consume(R),G)}function W(R){return R===47||R===62||ir(R)?I(R):t(R)}function V(R){return R===62?(r.consume(R),K):t(R)}function K(R){return R===null||Et(R)?q(R):ir(R)?(r.consume(R),K):t(R)}function q(R){return R===45&&i===2?(r.consume(R),_):R===60&&i===1?(r.consume(R),j):R===62&&i===4?(r.consume(R),M):R===63&&i===3?(r.consume(R),E):R===93&&i===5?(r.consume(R),z):Et(R)&&(i===6||i===7)?(r.exit("htmlFlowData"),r.check(vK,N,D)(R)):R===null||Et(R)?(r.exit("htmlFlowData"),D(R)):(r.consume(R),q)}function D(R){return r.check(bK,v,N)(R)}function v(R){return r.enter("lineEnding"),r.consume(R),r.exit("lineEnding"),S}function S(R){return R===null||Et(R)?D(R):(r.enter("htmlFlowData"),q(R))}function _(R){return R===45?(r.consume(R),E):q(R)}function j(R){return R===47?(r.consume(R),o="",O):q(R)}function O(R){if(R===62){const X=o.toLowerCase();return JT.includes(X)?(r.consume(R),M):q(R)}return Li(R)&&o.length<8?(r.consume(R),o+=String.fromCharCode(R),O):q(R)}function z(R){return R===93?(r.consume(R),E):q(R)}function E(R){return R===62?(r.consume(R),M):R===45&&i===2?(r.consume(R),E):q(R)}function M(R){return R===null||Et(R)?(r.exit("htmlFlowData"),N(R)):(r.consume(R),M)}function N(R){return r.exit("htmlFlow"),e(R)}}function _K(r,e,t){const n=this;return i;function i(o){return Et(o)?(r.enter("lineEnding"),r.consume(o),r.exit("lineEnding"),s):t(o)}function s(o){return n.parser.lazy[n.now().line]?t(o):e(o)}}function EK(r,e,t){return n;function n(i){return r.enter("lineEnding"),r.consume(i),r.exit("lineEnding"),r.attempt(dm,e,t)}}const CK={name:"htmlText",tokenize:SK};function SK(r,e,t){const n=this;let i,s,o;return a;function a(E){return r.enter("htmlText"),r.enter("htmlTextData"),r.consume(E),u}function u(E){return E===33?(r.consume(E),d):E===47?(r.consume(E),U):E===63?(r.consume(E),I):Li(E)?(r.consume(E),G):t(E)}function d(E){return E===45?(r.consume(E),h):E===91?(r.consume(E),s=0,b):Li(E)?(r.consume(E),P):t(E)}function h(E){return E===45?(r.consume(E),m):t(E)}function p(E){return E===null?t(E):E===45?(r.consume(E),y):Et(E)?(o=p,j(E)):(r.consume(E),p)}function y(E){return E===45?(r.consume(E),m):p(E)}function m(E){return E===62?_(E):E===45?y(E):p(E)}function b(E){const M="CDATA[";return E===M.charCodeAt(s++)?(r.consume(E),s===M.length?x:b):t(E)}function x(E){return E===null?t(E):E===93?(r.consume(E),w):Et(E)?(o=x,j(E)):(r.consume(E),x)}function w(E){return E===93?(r.consume(E),A):x(E)}function A(E){return E===62?_(E):E===93?(r.consume(E),A):x(E)}function P(E){return E===null||E===62?_(E):Et(E)?(o=P,j(E)):(r.consume(E),P)}function I(E){return E===null?t(E):E===63?(r.consume(E),T):Et(E)?(o=I,j(E)):(r.consume(E),I)}function T(E){return E===62?_(E):I(E)}function U(E){return Li(E)?(r.consume(E),B):t(E)}function B(E){return E===45||vi(E)?(r.consume(E),B):H(E)}function H(E){return Et(E)?(o=H,j(E)):ir(E)?(r.consume(E),H):_(E)}function G(E){return E===45||vi(E)?(r.consume(E),G):E===47||E===62||Rr(E)?W(E):t(E)}function W(E){return E===47?(r.consume(E),_):E===58||E===95||Li(E)?(r.consume(E),V):Et(E)?(o=W,j(E)):ir(E)?(r.consume(E),W):_(E)}function V(E){return E===45||E===46||E===58||E===95||vi(E)?(r.consume(E),V):K(E)}function K(E){return E===61?(r.consume(E),q):Et(E)?(o=K,j(E)):ir(E)?(r.consume(E),K):W(E)}function q(E){return E===null||E===60||E===61||E===62||E===96?t(E):E===34||E===39?(r.consume(E),i=E,D):Et(E)?(o=q,j(E)):ir(E)?(r.consume(E),q):(r.consume(E),v)}function D(E){return E===i?(r.consume(E),i=void 0,S):E===null?t(E):Et(E)?(o=D,j(E)):(r.consume(E),D)}function v(E){return E===null||E===34||E===39||E===60||E===61||E===96?t(E):E===47||E===62||Rr(E)?W(E):(r.consume(E),v)}function S(E){return E===47||E===62||Rr(E)?W(E):t(E)}function _(E){return E===62?(r.consume(E),r.exit("htmlTextData"),r.exit("htmlText"),e):t(E)}function j(E){return r.exit("htmlTextData"),r.enter("lineEnding"),r.consume(E),r.exit("lineEnding"),O}function O(E){return ir(E)?cr(r,z,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):z(E)}function z(E){return r.enter("htmlTextData"),o(E)}}const $_={name:"labelEnd",resolveAll:jK,resolveTo:PK,tokenize:RK},NK={tokenize:IK},TK={tokenize:MK},AK={tokenize:OK};function jK(r){let e=-1;const t=[];for(;++e<r.length;){const n=r[e][1];if(t.push(r[e]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",e+=i}}return r.length!==t.length&&Ps(r,0,r.length,t),r}function PK(r,e){let t=r.length,n=0,i,s,o,a;for(;t--;)if(i=r[t][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;r[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(r[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=t,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(o=t);const u={type:r[s][1].type==="labelLink"?"link":"image",start:{...r[s][1].start},end:{...r[r.length-1][1].end}},d={type:"label",start:{...r[s][1].start},end:{...r[o][1].end}},h={type:"labelText",start:{...r[s+n+2][1].end},end:{...r[o-2][1].start}};return a=[["enter",u,e],["enter",d,e]],a=Qs(a,r.slice(s+1,s+n+3)),a=Qs(a,[["enter",h,e]]),a=Qs(a,sx(e.parser.constructs.insideSpan.null,r.slice(s+n+4,o-3),e)),a=Qs(a,[["exit",h,e],r[o-2],r[o-1],["exit",d,e]]),a=Qs(a,r.slice(o+1)),a=Qs(a,[["exit",u,e]]),Ps(r,s,r.length,a),r}function RK(r,e,t){const n=this;let i=n.events.length,s,o;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){s=n.events[i][1];break}return a;function a(y){return s?s._inactive?p(y):(o=n.parser.defined.includes(Ro(n.sliceSerialize({start:s.end,end:n.now()}))),r.enter("labelEnd"),r.enter("labelMarker"),r.consume(y),r.exit("labelMarker"),r.exit("labelEnd"),u):t(y)}function u(y){return y===40?r.attempt(NK,h,o?h:p)(y):y===91?r.attempt(TK,h,o?d:p)(y):o?h(y):p(y)}function d(y){return r.attempt(AK,h,p)(y)}function h(y){return e(y)}function p(y){return s._balanced=!0,t(y)}}function IK(r,e,t){return n;function n(p){return r.enter("resource"),r.enter("resourceMarker"),r.consume(p),r.exit("resourceMarker"),i}function i(p){return Rr(p)?dp(r,s)(p):s(p)}function s(p){return p===41?h(p):c3(r,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function o(p){return Rr(p)?dp(r,u)(p):h(p)}function a(p){return t(p)}function u(p){return p===34||p===39||p===40?d3(r,d,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function d(p){return Rr(p)?dp(r,h)(p):h(p)}function h(p){return p===41?(r.enter("resourceMarker"),r.consume(p),r.exit("resourceMarker"),r.exit("resource"),e):t(p)}}function MK(r,e,t){const n=this;return i;function i(a){return u3.call(n,r,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return n.parser.defined.includes(Ro(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?e(a):t(a)}function o(a){return t(a)}}function OK(r,e,t){return n;function n(s){return r.enter("reference"),r.enter("referenceMarker"),r.consume(s),r.exit("referenceMarker"),i}function i(s){return s===93?(r.enter("referenceMarker"),r.consume(s),r.exit("referenceMarker"),r.exit("reference"),e):t(s)}}const DK={name:"labelStartImage",resolveAll:$_.resolveAll,tokenize:LK};function LK(r,e,t){const n=this;return i;function i(a){return r.enter("labelImage"),r.enter("labelImageMarker"),r.consume(a),r.exit("labelImageMarker"),s}function s(a){return a===91?(r.enter("labelMarker"),r.consume(a),r.exit("labelMarker"),r.exit("labelImage"),o):t(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in n.parser.constructs?t(a):e(a)}}const zK={name:"labelStartLink",resolveAll:$_.resolveAll,tokenize:FK};function FK(r,e,t){const n=this;return i;function i(o){return r.enter("labelLink"),r.enter("labelMarker"),r.consume(o),r.exit("labelMarker"),r.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?t(o):e(o)}}const tw={name:"lineEnding",tokenize:BK};function BK(r,e){return t;function t(n){return r.enter("lineEnding"),r.consume(n),r.exit("lineEnding"),cr(r,e,"linePrefix")}}const R0={name:"thematicBreak",tokenize:$K};function $K(r,e,t){let n=0,i;return s;function s(d){return r.enter("thematicBreak"),o(d)}function o(d){return i=d,a(d)}function a(d){return d===i?(r.enter("thematicBreakSequence"),u(d)):n>=3&&(d===null||Et(d))?(r.exit("thematicBreak"),e(d)):t(d)}function u(d){return d===i?(r.consume(d),n++,u):(r.exit("thematicBreakSequence"),ir(d)?cr(r,a,"whitespace")(d):a(d))}}const Gi={continuation:{tokenize:HK},exit:GK,name:"list",tokenize:WK},UK={partial:!0,tokenize:KK},qK={partial:!0,tokenize:VK};function WK(r,e,t){const n=this,i=n.events[n.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(m){const b=n.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!n.containerState.marker||m===n.containerState.marker:D1(m)){if(n.containerState.type||(n.containerState.type=b,r.enter(b,{_container:!0})),b==="listUnordered")return r.enter("listItemPrefix"),m===42||m===45?r.check(R0,t,d)(m):d(m);if(!n.interrupt||m===49)return r.enter("listItemPrefix"),r.enter("listItemValue"),u(m)}return t(m)}function u(m){return D1(m)&&++o<10?(r.consume(m),u):(!n.interrupt||o<2)&&(n.containerState.marker?m===n.containerState.marker:m===41||m===46)?(r.exit("listItemValue"),d(m)):t(m)}function d(m){return r.enter("listItemMarker"),r.consume(m),r.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||m,r.check(dm,n.interrupt?t:h,r.attempt(UK,y,p))}function h(m){return n.containerState.initialBlankLine=!0,s++,y(m)}function p(m){return ir(m)?(r.enter("listItemPrefixWhitespace"),r.consume(m),r.exit("listItemPrefixWhitespace"),y):t(m)}function y(m){return n.containerState.size=s+n.sliceSerialize(r.exit("listItemPrefix"),!0).length,e(m)}}function HK(r,e,t){const n=this;return n.containerState._closeFlow=void 0,r.check(dm,i,s);function i(a){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,cr(r,e,"listItemIndent",n.containerState.size+1)(a)}function s(a){return n.containerState.furtherBlankLines||!ir(a)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,o(a)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,r.attempt(qK,e,o)(a))}function o(a){return n.containerState._closeFlow=!0,n.interrupt=void 0,cr(r,r.attempt(Gi,e,t),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function VK(r,e,t){const n=this;return cr(r,i,"listItemIndent",n.containerState.size+1);function i(s){const o=n.events[n.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===n.containerState.size?e(s):t(s)}}function GK(r){r.exit(this.containerState.type)}function KK(r,e,t){const n=this;return cr(r,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=n.events[n.events.length-1];return!ir(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):t(s)}}const QT={name:"setextUnderline",resolveTo:YK,tokenize:JK};function YK(r,e){let t=r.length,n,i,s;for(;t--;)if(r[t][0]==="enter"){if(r[t][1].type==="content"){n=t;break}r[t][1].type==="paragraph"&&(i=t)}else r[t][1].type==="content"&&r.splice(t,1),!s&&r[t][1].type==="definition"&&(s=t);const o={type:"setextHeading",start:{...r[n][1].start},end:{...r[r.length-1][1].end}};return r[i][1].type="setextHeadingText",s?(r.splice(i,0,["enter",o,e]),r.splice(s+1,0,["exit",r[n][1],e]),r[n][1].end={...r[s][1].end}):r[n][1]=o,r.push(["exit",o,e]),r}function JK(r,e,t){const n=this;let i;return s;function s(d){let h=n.events.length,p;for(;h--;)if(n.events[h][1].type!=="lineEnding"&&n.events[h][1].type!=="linePrefix"&&n.events[h][1].type!=="content"){p=n.events[h][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||p)?(r.enter("setextHeadingLine"),i=d,o(d)):t(d)}function o(d){return r.enter("setextHeadingLineSequence"),a(d)}function a(d){return d===i?(r.consume(d),a):(r.exit("setextHeadingLineSequence"),ir(d)?cr(r,u,"lineSuffix")(d):u(d))}function u(d){return d===null||Et(d)?(r.exit("setextHeadingLine"),e(d)):t(d)}}const QK={tokenize:XK};function XK(r){const e=this,t=r.attempt(dm,n,r.attempt(this.parser.constructs.flowInitial,i,cr(r,r.attempt(this.parser.constructs.flow,i,r.attempt(nK,i)),"linePrefix")));return t;function n(s){if(s===null){r.consume(s);return}return r.enter("lineEndingBlank"),r.consume(s),r.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function i(s){if(s===null){r.consume(s);return}return r.enter("lineEnding"),r.consume(s),r.exit("lineEnding"),e.currentConstruct=void 0,t}}const ZK={resolveAll:h3()},eY=f3("string"),tY=f3("text");function f3(r){return{resolveAll:h3(r==="text"?rY:void 0),tokenize:e};function e(t){const n=this,i=this.parser.constructs[r],s=t.attempt(i,o,a);return o;function o(h){return d(h)?s(h):a(h)}function a(h){if(h===null){t.consume(h);return}return t.enter("data"),t.consume(h),u}function u(h){return d(h)?(t.exit("data"),s(h)):(t.consume(h),u)}function d(h){if(h===null)return!0;const p=i[h];let y=-1;if(p)for(;++y<p.length;){const m=p[y];if(!m.previous||m.previous.call(n,n.previous))return!0}return!1}}}function h3(r){return e;function e(t,n){let i=-1,s;for(;++i<=t.length;)s===void 0?t[i]&&t[i][1].type==="data"&&(s=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),i=s+2),s=void 0);return r?r(t,n):t}}function rY(r,e){let t=0;for(;++t<=r.length;)if((t===r.length||r[t][1].type==="lineEnding")&&r[t-1][1].type==="data"){const n=r[t-1][1],i=e.sliceStream(n);let s=i.length,o=-1,a=0,u;for(;s--;){const d=i[s];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(d===-2)u=!0,a++;else if(d!==-1){s++;break}}if(e._contentTypeTextTrailing&&t===r.length&&(a=0),a){const d={type:t===r.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:n.start._bufferIndex+o,_index:n.start._index+s,line:n.end.line,column:n.end.column-a,offset:n.end.offset-a},end:{...n.end}};n.end={...d.start},n.start.offset===n.end.offset?Object.assign(n,d):(r.splice(t,0,["enter",d,e],["exit",d,e]),t+=2)}t++}return r}const nY={42:Gi,43:Gi,45:Gi,48:Gi,49:Gi,50:Gi,51:Gi,52:Gi,53:Gi,54:Gi,55:Gi,56:Gi,57:Gi,62:s3},iY={91:lK},sY={[-2]:ew,[-1]:ew,32:ew},oY={35:pK,42:R0,45:[QT,R0],60:xK,61:QT,95:R0,96:YT,126:YT},aY={38:a3,92:o3},lY={[-5]:tw,[-4]:tw,[-3]:tw,33:DK,38:a3,42:L1,60:[zG,CK],91:zK,92:[fK,o3],93:$_,95:L1,96:QG},cY={null:[L1,ZK]},uY={null:[42,95]},dY={null:[]},fY=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:uY,contentInitial:iY,disable:dY,document:nY,flow:oY,flowInitial:sY,insideSpan:cY,string:aY,text:lY},Symbol.toStringTag,{value:"Module"}));function hY(r,e,t){let n={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const i={},s=[];let o=[],a=[];const u={attempt:H(U),check:H(B),consume:P,enter:I,exit:T,interrupt:H(B,{interrupt:!0})},d={code:null,containerState:{},defineSkip:x,events:[],now:b,parser:r,previous:null,sliceSerialize:y,sliceStream:m,write:p};let h=e.tokenize.call(d,u);return e.resolveAll&&s.push(e),d;function p(K){return o=Qs(o,K),w(),o[o.length-1]!==null?[]:(G(e,0),d.events=sx(s,d.events,d),d.events)}function y(K,q){return mY(m(K),q)}function m(K){return pY(o,K)}function b(){const{_bufferIndex:K,_index:q,line:D,column:v,offset:S}=n;return{_bufferIndex:K,_index:q,line:D,column:v,offset:S}}function x(K){i[K.line]=K.column,V()}function w(){let K;for(;n._index<o.length;){const q=o[n._index];if(typeof q=="string")for(K=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===K&&n._bufferIndex<q.length;)A(q.charCodeAt(n._bufferIndex));else A(q)}}function A(K){h=h(K)}function P(K){Et(K)?(n.line++,n.column=1,n.offset+=K===-3?2:1,V()):K!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===o[n._index].length&&(n._bufferIndex=-1,n._index++)),d.previous=K}function I(K,q){const D=q||{};return D.type=K,D.start=b(),d.events.push(["enter",D,d]),a.push(D),D}function T(K){const q=a.pop();return q.end=b(),d.events.push(["exit",q,d]),q}function U(K,q){G(K,q.from)}function B(K,q){q.restore()}function H(K,q){return D;function D(v,S,_){let j,O,z,E;return Array.isArray(v)?N(v):"tokenize"in v?N([v]):M(v);function M(Y){return Q;function Q(Z){const te=Z!==null&&Y[Z],ce=Z!==null&&Y.null,ne=[...Array.isArray(te)?te:te?[te]:[],...Array.isArray(ce)?ce:ce?[ce]:[]];return N(ne)(Z)}}function N(Y){return j=Y,O=0,Y.length===0?_:R(Y[O])}function R(Y){return Q;function Q(Z){return E=W(),z=Y,Y.partial||(d.currentConstruct=Y),Y.name&&d.parser.constructs.disable.null.includes(Y.name)?$():Y.tokenize.call(q?Object.assign(Object.create(d),q):d,u,X,$)(Z)}}function X(Y){return K(z,E),S}function $(Y){return E.restore(),++O<j.length?R(j[O]):_}}}function G(K,q){K.resolveAll&&!s.includes(K)&&s.push(K),K.resolve&&Ps(d.events,q,d.events.length-q,K.resolve(d.events.slice(q),d)),K.resolveTo&&(d.events=K.resolveTo(d.events,d))}function W(){const K=b(),q=d.previous,D=d.currentConstruct,v=d.events.length,S=Array.from(a);return{from:v,restore:_};function _(){n=K,d.previous=q,d.currentConstruct=D,d.events.length=v,a=S,V()}}function V(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function pY(r,e){const t=e.start._index,n=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(t===i)o=[r[t].slice(n,s)];else{if(o=r.slice(t,i),n>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(n):o.shift()}s>0&&o.push(r[i].slice(0,s))}return o}function mY(r,e){let t=-1;const n=[];let i;for(;++t<r.length;){const s=r[t];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,n.push(o)}return n.join("")}function gY(r){const n={constructs:n3([fY,...(r||{}).extensions||[]]),content:i(PG),defined:[],document:i(IG),flow:i(QK),lazy:{},string:i(eY),text:i(tY)};return n;function i(s){return o;function o(a){return hY(n,s,a)}}}function yY(r){for(;!l3(r););return r}const XT=/[\0\t\n\r]/g;function xY(){let r=1,e="",t=!0,n;return i;function i(s,o,a){const u=[];let d,h,p,y,m;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),p=0,e="",t&&(s.charCodeAt(0)===65279&&p++,t=void 0);p<s.length;){if(XT.lastIndex=p,d=XT.exec(s),y=d&&d.index!==void 0?d.index:s.length,m=s.charCodeAt(y),!d){e=s.slice(p);break}if(m===10&&p===y&&n)u.push(-3),n=void 0;else switch(n&&(u.push(-5),n=void 0),p<y&&(u.push(s.slice(p,y)),r+=y-p),m){case 0:{u.push(65533),r++;break}case 9:{for(h=Math.ceil(r/4)*4,u.push(-2);r++<h;)u.push(-1);break}case 10:{u.push(-4),r=1;break}default:n=!0,r=1}p=y+1}return a&&(n&&u.push(-5),e&&u.push(e),u.push(null)),u}}const vY=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function bY(r){return r.replace(vY,wY)}function wY(r,e,t){if(e)return e;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),s=i===120||i===88;return i3(t.slice(s?2:1),s?16:10)}return B_(t)||r}const p3={}.hasOwnProperty;function kY(r,e,t){return typeof e!="string"&&(t=e,e=void 0),_Y(t)(yY(gY(t).document().write(xY()(r,e,!0))))}function _Y(r){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Rt),autolinkProtocol:W,autolinkEmail:W,atxHeading:s(Se),blockQuote:s(ce),characterEscape:W,characterReference:W,codeFenced:s(ne),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ne,o),codeText:s(ue,o),codeTextData:W,data:W,codeFlowValue:W,definition:s(xe),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(ye),hardBreakEscape:s(pt),hardBreakTrailing:s(pt),htmlFlow:s(ae,o),htmlFlowData:W,htmlText:s(ae,o),htmlTextData:W,image:s(Ye),label:o,link:s(Rt),listItem:s(Ie),listItemValue:y,listOrdered:s(Xe,p),listUnordered:s(Xe),paragraph:s(Gt),reference:R,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Se),strong:s(tt),thematicBreak:s(Me)},exit:{atxHeading:u(),atxHeadingSequence:U,autolink:u(),autolinkEmail:te,autolinkProtocol:Z,blockQuote:u(),characterEscapeValue:V,characterReferenceMarkerHexadecimal:$,characterReferenceMarkerNumeric:$,characterReferenceValue:Y,characterReference:Q,codeFenced:u(w),codeFencedFence:x,codeFencedFenceInfo:m,codeFencedFenceMeta:b,codeFlowValue:V,codeIndented:u(A),codeText:u(S),codeTextData:V,data:V,definition:u(),definitionDestinationString:T,definitionLabelString:P,definitionTitleString:I,emphasis:u(),hardBreakEscape:u(q),hardBreakTrailing:u(q),htmlFlow:u(D),htmlFlowData:V,htmlText:u(v),htmlTextData:V,image:u(j),label:z,labelText:O,lineEnding:K,link:u(_),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:X,resourceDestinationString:E,resourceTitleString:M,resource:N,setextHeading:u(G),setextHeadingLineSequence:H,setextHeadingText:B,strong:u(),thematicBreak:u()}};m3(e,(r||{}).mdastExtensions||[]);const t={};return n;function n(oe){let he={type:"root",children:[]};const Oe={stack:[he],tokenStack:[],config:e,enter:a,exit:d,buffer:o,resume:h,data:t},Te=[];let Re=-1;for(;++Re<oe.length;)if(oe[Re][1].type==="listOrdered"||oe[Re][1].type==="listUnordered")if(oe[Re][0]==="enter")Te.push(Re);else{const jt=Te.pop();Re=i(oe,jt,Re)}for(Re=-1;++Re<oe.length;){const jt=e[oe[Re][0]];p3.call(jt,oe[Re][1].type)&&jt[oe[Re][1].type].call(Object.assign({sliceSerialize:oe[Re][2].sliceSerialize},Oe),oe[Re][1])}if(Oe.tokenStack.length>0){const jt=Oe.tokenStack[Oe.tokenStack.length-1];(jt[1]||ZT).call(Oe,void 0,jt[0])}for(he.position={start:jl(oe.length>0?oe[0][1].start:{line:1,column:1,offset:0}),end:jl(oe.length>0?oe[oe.length-2][1].end:{line:1,column:1,offset:0})},Re=-1;++Re<e.transforms.length;)he=e.transforms[Re](he)||he;return he}function i(oe,he,Oe){let Te=he-1,Re=-1,jt=!1,qe,rt,Ht,vt;for(;++Te<=Oe;){const ot=oe[Te];switch(ot[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ot[0]==="enter"?Re++:Re--,vt=void 0;break}case"lineEndingBlank":{ot[0]==="enter"&&(qe&&!vt&&!Re&&!Ht&&(Ht=Te),vt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:vt=void 0}if(!Re&&ot[0]==="enter"&&ot[1].type==="listItemPrefix"||Re===-1&&ot[0]==="exit"&&(ot[1].type==="listUnordered"||ot[1].type==="listOrdered")){if(qe){let dr=Te;for(rt=void 0;dr--;){const bt=oe[dr];if(bt[1].type==="lineEnding"||bt[1].type==="lineEndingBlank"){if(bt[0]==="exit")continue;rt&&(oe[rt][1].type="lineEndingBlank",jt=!0),bt[1].type="lineEnding",rt=dr}else if(!(bt[1].type==="linePrefix"||bt[1].type==="blockQuotePrefix"||bt[1].type==="blockQuotePrefixWhitespace"||bt[1].type==="blockQuoteMarker"||bt[1].type==="listItemIndent"))break}Ht&&(!rt||Ht<rt)&&(qe._spread=!0),qe.end=Object.assign({},rt?oe[rt][1].start:ot[1].end),oe.splice(rt||Te,0,["exit",qe,ot[2]]),Te++,Oe++}if(ot[1].type==="listItemPrefix"){const dr={type:"listItem",_spread:!1,start:Object.assign({},ot[1].start),end:void 0};qe=dr,oe.splice(Te,0,["enter",dr,ot[2]]),Te++,Oe++,Ht=void 0,vt=!0}}}return oe[he][1]._spread=jt,Oe}function s(oe,he){return Oe;function Oe(Te){a.call(this,oe(Te),Te),he&&he.call(this,Te)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(oe,he,Oe){this.stack[this.stack.length-1].children.push(oe),this.stack.push(oe),this.tokenStack.push([he,Oe||void 0]),oe.position={start:jl(he.start),end:void 0}}function u(oe){return he;function he(Oe){oe&&oe.call(this,Oe),d.call(this,Oe)}}function d(oe,he){const Oe=this.stack.pop(),Te=this.tokenStack.pop();if(Te)Te[0].type!==oe.type&&(he?he.call(this,oe,Te[0]):(Te[1]||ZT).call(this,oe,Te[0]));else throw new Error("Cannot close `"+oe.type+"` ("+up({start:oe.start,end:oe.end})+"): its not open");Oe.position.end=jl(oe.end)}function h(){return F_(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function y(oe){if(this.data.expectingFirstListItemValue){const he=this.stack[this.stack.length-2];he.start=Number.parseInt(this.sliceSerialize(oe),10),this.data.expectingFirstListItemValue=void 0}}function m(){const oe=this.resume(),he=this.stack[this.stack.length-1];he.lang=oe}function b(){const oe=this.resume(),he=this.stack[this.stack.length-1];he.meta=oe}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const oe=this.resume(),he=this.stack[this.stack.length-1];he.value=oe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function A(){const oe=this.resume(),he=this.stack[this.stack.length-1];he.value=oe.replace(/(\r?\n|\r)$/g,"")}function P(oe){const he=this.resume(),Oe=this.stack[this.stack.length-1];Oe.label=he,Oe.identifier=Ro(this.sliceSerialize(oe)).toLowerCase()}function I(){const oe=this.resume(),he=this.stack[this.stack.length-1];he.title=oe}function T(){const oe=this.resume(),he=this.stack[this.stack.length-1];he.url=oe}function U(oe){const he=this.stack[this.stack.length-1];if(!he.depth){const Oe=this.sliceSerialize(oe).length;he.depth=Oe}}function B(){this.data.setextHeadingSlurpLineEnding=!0}function H(oe){const he=this.stack[this.stack.length-1];he.depth=this.sliceSerialize(oe).codePointAt(0)===61?1:2}function G(){this.data.setextHeadingSlurpLineEnding=void 0}function W(oe){const Oe=this.stack[this.stack.length-1].children;let Te=Oe[Oe.length-1];(!Te||Te.type!=="text")&&(Te=xt(),Te.position={start:jl(oe.start),end:void 0},Oe.push(Te)),this.stack.push(Te)}function V(oe){const he=this.stack.pop();he.value+=this.sliceSerialize(oe),he.position.end=jl(oe.end)}function K(oe){const he=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Oe=he.children[he.children.length-1];Oe.position.end=jl(oe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(he.type)&&(W.call(this,oe),V.call(this,oe))}function q(){this.data.atHardBreak=!0}function D(){const oe=this.resume(),he=this.stack[this.stack.length-1];he.value=oe}function v(){const oe=this.resume(),he=this.stack[this.stack.length-1];he.value=oe}function S(){const oe=this.resume(),he=this.stack[this.stack.length-1];he.value=oe}function _(){const oe=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";oe.type+="Reference",oe.referenceType=he,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;this.data.referenceType=void 0}function j(){const oe=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";oe.type+="Reference",oe.referenceType=he,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;this.data.referenceType=void 0}function O(oe){const he=this.sliceSerialize(oe),Oe=this.stack[this.stack.length-2];Oe.label=bY(he),Oe.identifier=Ro(he).toLowerCase()}function z(){const oe=this.stack[this.stack.length-1],he=this.resume(),Oe=this.stack[this.stack.length-1];if(this.data.inReference=!0,Oe.type==="link"){const Te=oe.children;Oe.children=Te}else Oe.alt=he}function E(){const oe=this.resume(),he=this.stack[this.stack.length-1];he.url=oe}function M(){const oe=this.resume(),he=this.stack[this.stack.length-1];he.title=oe}function N(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function X(oe){const he=this.resume(),Oe=this.stack[this.stack.length-1];Oe.label=he,Oe.identifier=Ro(this.sliceSerialize(oe)).toLowerCase(),this.data.referenceType="full"}function $(oe){this.data.characterReferenceType=oe.type}function Y(oe){const he=this.sliceSerialize(oe),Oe=this.data.characterReferenceType;let Te;Oe?(Te=i3(he,Oe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Te=B_(he);const Re=this.stack[this.stack.length-1];Re.value+=Te}function Q(oe){const he=this.stack.pop();he.position.end=jl(oe.end)}function Z(oe){V.call(this,oe);const he=this.stack[this.stack.length-1];he.url=this.sliceSerialize(oe)}function te(oe){V.call(this,oe);const he=this.stack[this.stack.length-1];he.url="mailto:"+this.sliceSerialize(oe)}function ce(){return{type:"blockquote",children:[]}}function ne(){return{type:"code",lang:null,meta:null,value:""}}function ue(){return{type:"inlineCode",value:""}}function xe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ye(){return{type:"emphasis",children:[]}}function Se(){return{type:"heading",depth:0,children:[]}}function pt(){return{type:"break"}}function ae(){return{type:"html",value:""}}function Ye(){return{type:"image",title:null,url:"",alt:null}}function Rt(){return{type:"link",title:null,url:"",children:[]}}function Xe(oe){return{type:"list",ordered:oe.type==="listOrdered",start:null,spread:oe._spread,children:[]}}function Ie(oe){return{type:"listItem",spread:oe._spread,checked:null,children:[]}}function Gt(){return{type:"paragraph",children:[]}}function tt(){return{type:"strong",children:[]}}function xt(){return{type:"text",value:""}}function Me(){return{type:"thematicBreak"}}}function jl(r){return{line:r.line,column:r.column,offset:r.offset}}function m3(r,e){let t=-1;for(;++t<e.length;){const n=e[t];Array.isArray(n)?m3(r,n):EY(r,n)}}function EY(r,e){let t;for(t in e)if(p3.call(e,t))switch(t){case"canContainEols":{const n=e[t];n&&r[t].push(...n);break}case"transforms":{const n=e[t];n&&r[t].push(...n);break}case"enter":case"exit":{const n=e[t];n&&Object.assign(r[t],n);break}}}function ZT(r,e){throw r?new Error("Cannot close `"+r.type+"` ("+up({start:r.start,end:r.end})+"): a different token (`"+e.type+"`, "+up({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+up({start:e.start,end:e.end})+") is still open")}function CY(r){const e=this;e.parser=t;function t(n){return kY(n,{...e.data("settings"),...r,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function SY(r,e){const t={type:"element",tagName:"blockquote",properties:{},children:r.wrap(r.all(e),!0)};return r.patch(e,t),r.applyData(e,t)}function NY(r,e){const t={type:"element",tagName:"br",properties:{},children:[]};return r.patch(e,t),[r.applyData(e,t),{type:"text",value:`
`}]}function TY(r,e){const t=e.value?e.value+`
`:"",n={};e.lang&&(n.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:t}]};return e.meta&&(i.data={meta:e.meta}),r.patch(e,i),i=r.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},r.patch(e,i),i}function AY(r,e){const t={type:"element",tagName:"del",properties:{},children:r.all(e)};return r.patch(e,t),r.applyData(e,t)}function jY(r,e){const t={type:"element",tagName:"em",properties:{},children:r.all(e)};return r.patch(e,t),r.applyData(e,t)}function PY(r,e){const t=typeof r.options.clobberPrefix=="string"?r.options.clobberPrefix:"user-content-",n=String(e.identifier).toUpperCase(),i=Tf(n.toLowerCase()),s=r.footnoteOrder.indexOf(n);let o,a=r.footnoteCounts.get(n);a===void 0?(a=0,r.footnoteOrder.push(n),o=r.footnoteOrder.length):o=s+1,a+=1,r.footnoteCounts.set(n,a);const u={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+i,id:t+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};r.patch(e,u);const d={type:"element",tagName:"sup",properties:{},children:[u]};return r.patch(e,d),r.applyData(e,d)}function RY(r,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:r.all(e)};return r.patch(e,t),r.applyData(e,t)}function IY(r,e){if(r.options.allowDangerousHtml){const t={type:"raw",value:e.value};return r.patch(e,t),r.applyData(e,t)}}function g3(r,e){const t=e.referenceType;let n="]";if(t==="collapsed"?n+="[]":t==="full"&&(n+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+n}];const i=r.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=n:i.push({type:"text",value:n}),i}function MY(r,e){const t=String(e.identifier).toUpperCase(),n=r.definitionById.get(t);if(!n)return g3(r,e);const i={src:Tf(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"img",properties:i,children:[]};return r.patch(e,s),r.applyData(e,s)}function OY(r,e){const t={src:Tf(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const n={type:"element",tagName:"img",properties:t,children:[]};return r.patch(e,n),r.applyData(e,n)}function DY(r,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};r.patch(e,t);const n={type:"element",tagName:"code",properties:{},children:[t]};return r.patch(e,n),r.applyData(e,n)}function LY(r,e){const t=String(e.identifier).toUpperCase(),n=r.definitionById.get(t);if(!n)return g3(r,e);const i={href:Tf(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"a",properties:i,children:r.all(e)};return r.patch(e,s),r.applyData(e,s)}function zY(r,e){const t={href:Tf(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const n={type:"element",tagName:"a",properties:t,children:r.all(e)};return r.patch(e,n),r.applyData(e,n)}function FY(r,e,t){const n=r.all(e),i=t?BY(t):y3(e),s={},o=[];if(typeof e.checked=="boolean"){const h=n[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},n.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<n.length;){const h=n[a];(i||a!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?o.push(...h.children):o.push(h)}const u=n[n.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:s,children:o};return r.patch(e,d),r.applyData(e,d)}function BY(r){let e=!1;if(r.type==="list"){e=r.spread||!1;const t=r.children;let n=-1;for(;!e&&++n<t.length;)e=y3(t[n])}return e}function y3(r){const e=r.spread;return e??r.children.length>1}function $Y(r,e){const t={},n=r.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++i<n.length;){const o=n[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:r.wrap(n,!0)};return r.patch(e,s),r.applyData(e,s)}function UY(r,e){const t={type:"element",tagName:"p",properties:{},children:r.all(e)};return r.patch(e,t),r.applyData(e,t)}function qY(r,e){const t={type:"root",children:r.wrap(r.all(e))};return r.patch(e,t),r.applyData(e,t)}function WY(r,e){const t={type:"element",tagName:"strong",properties:{},children:r.all(e)};return r.patch(e,t),r.applyData(e,t)}function HY(r,e){const t=r.all(e),n=t.shift(),i=[];if(n){const o={type:"element",tagName:"thead",properties:{},children:r.wrap([n],!0)};r.patch(e.children[0],o),i.push(o)}if(t.length>0){const o={type:"element",tagName:"tbody",properties:{},children:r.wrap(t,!0)},a=O_(e.children[1]),u=J4(e.children[e.children.length-1]);a&&u&&(o.position={start:a,end:u}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:r.wrap(i,!0)};return r.patch(e,s),r.applyData(e,s)}function VY(r,e,t){const n=t?t.children:void 0,s=(n?n.indexOf(e):1)===0?"th":"td",o=t&&t.type==="table"?t.align:void 0,a=o?o.length:e.children.length;let u=-1;const d=[];for(;++u<a;){const p=e.children[u],y={},m=o?o[u]:void 0;m&&(y.align=m);let b={type:"element",tagName:s,properties:y,children:[]};p&&(b.children=r.all(p),r.patch(p,b),b=r.applyData(p,b)),d.push(b)}const h={type:"element",tagName:"tr",properties:{},children:r.wrap(d,!0)};return r.patch(e,h),r.applyData(e,h)}function GY(r,e){const t={type:"element",tagName:"td",properties:{},children:r.all(e)};return r.patch(e,t),r.applyData(e,t)}const eA=9,tA=32;function KY(r){const e=String(r),t=/\r?\n|\r/g;let n=t.exec(e),i=0;const s=[];for(;n;)s.push(rA(e.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=t.exec(e);return s.push(rA(e.slice(i),i>0,!1)),s.join("")}function rA(r,e,t){let n=0,i=r.length;if(e){let s=r.codePointAt(n);for(;s===eA||s===tA;)n++,s=r.codePointAt(n)}if(t){let s=r.codePointAt(i-1);for(;s===eA||s===tA;)i--,s=r.codePointAt(i-1)}return i>n?r.slice(n,i):""}function YY(r,e){const t={type:"text",value:KY(String(e.value))};return r.patch(e,t),r.applyData(e,t)}function JY(r,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return r.patch(e,t),r.applyData(e,t)}const QY={blockquote:SY,break:NY,code:TY,delete:AY,emphasis:jY,footnoteReference:PY,heading:RY,html:IY,imageReference:MY,image:OY,inlineCode:DY,linkReference:LY,link:zY,listItem:FY,list:$Y,paragraph:UY,root:qY,strong:WY,table:HY,tableCell:GY,tableRow:VY,text:YY,thematicBreak:JY,toml:Vg,yaml:Vg,definition:Vg,footnoteDefinition:Vg};function Vg(){}const x3=-1,ox=0,fp=1,yy=2,U_=3,q_=4,W_=5,H_=6,v3=7,b3=8,nA=typeof self=="object"?self:globalThis,XY=(r,e)=>{const t=(i,s)=>(r.set(s,i),i),n=i=>{if(r.has(i))return r.get(i);const[s,o]=e[i];switch(s){case ox:case x3:return t(o,i);case fp:{const a=t([],i);for(const u of o)a.push(n(u));return a}case yy:{const a=t({},i);for(const[u,d]of o)a[n(u)]=n(d);return a}case U_:return t(new Date(o),i);case q_:{const{source:a,flags:u}=o;return t(new RegExp(a,u),i)}case W_:{const a=t(new Map,i);for(const[u,d]of o)a.set(n(u),n(d));return a}case H_:{const a=t(new Set,i);for(const u of o)a.add(n(u));return a}case v3:{const{name:a,message:u}=o;return t(new nA[a](u),i)}case b3:return t(BigInt(o),i);case"BigInt":return t(Object(BigInt(o)),i);case"ArrayBuffer":return t(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return t(new DataView(a),o)}}return t(new nA[s](o),i)};return n},iA=r=>XY(new Map,r)(0),gd="",{toString:ZY}={},{keys:eJ}=Object,Ph=r=>{const e=typeof r;if(e!=="object"||!r)return[ox,e];const t=ZY.call(r).slice(8,-1);switch(t){case"Array":return[fp,gd];case"Object":return[yy,gd];case"Date":return[U_,gd];case"RegExp":return[q_,gd];case"Map":return[W_,gd];case"Set":return[H_,gd];case"DataView":return[fp,t]}return t.includes("Array")?[fp,t]:t.includes("Error")?[v3,t]:[yy,t]},Gg=([r,e])=>r===ox&&(e==="function"||e==="symbol"),tJ=(r,e,t,n)=>{const i=(o,a)=>{const u=n.push(o)-1;return t.set(a,u),u},s=o=>{if(t.has(o))return t.get(o);let[a,u]=Ph(o);switch(a){case ox:{let h=o;switch(u){case"bigint":a=b3,h=o.toString();break;case"function":case"symbol":if(r)throw new TypeError("unable to serialize "+u);h=null;break;case"undefined":return i([x3],o)}return i([a,h],o)}case fp:{if(u){let y=o;return u==="DataView"?y=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(y=new Uint8Array(o)),i([u,[...y]],o)}const h=[],p=i([a,h],o);for(const y of o)h.push(s(y));return p}case yy:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const h=[],p=i([a,h],o);for(const y of eJ(o))(r||!Gg(Ph(o[y])))&&h.push([s(y),s(o[y])]);return p}case U_:return i([a,o.toISOString()],o);case q_:{const{source:h,flags:p}=o;return i([a,{source:h,flags:p}],o)}case W_:{const h=[],p=i([a,h],o);for(const[y,m]of o)(r||!(Gg(Ph(y))||Gg(Ph(m))))&&h.push([s(y),s(m)]);return p}case H_:{const h=[],p=i([a,h],o);for(const y of o)(r||!Gg(Ph(y)))&&h.push(s(y));return p}}const{message:d}=o;return i([a,{name:u,message:d}],o)};return s},sA=(r,{json:e,lossy:t}={})=>{const n=[];return tJ(!(e||t),!!e,new Map,n)(r),n},xy=typeof structuredClone=="function"?(r,e)=>e&&("json"in e||"lossy"in e)?iA(sA(r,e)):structuredClone(r):(r,e)=>iA(sA(r,e));function rJ(r,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function nJ(r,e){return"Back to reference "+(r+1)+(e>1?"-"+e:"")}function iJ(r){const e=typeof r.options.clobberPrefix=="string"?r.options.clobberPrefix:"user-content-",t=r.options.footnoteBackContent||rJ,n=r.options.footnoteBackLabel||nJ,i=r.options.footnoteLabel||"Footnotes",s=r.options.footnoteLabelTagName||"h2",o=r.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let u=-1;for(;++u<r.footnoteOrder.length;){const d=r.footnoteById.get(r.footnoteOrder[u]);if(!d)continue;const h=r.all(d),p=String(d.identifier).toUpperCase(),y=Tf(p.toLowerCase());let m=0;const b=[],x=r.footnoteCounts.get(p);for(;x!==void 0&&++m<=x;){b.length>0&&b.push({type:"text",value:" "});let P=typeof t=="string"?t:t(u,m);typeof P=="string"&&(P={type:"text",value:P}),b.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+y+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(u,m),className:["data-footnote-backref"]},children:Array.isArray(P)?P:[P]})}const w=h[h.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const P=w.children[w.children.length-1];P&&P.type==="text"?P.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...b)}else h.push(...b);const A={type:"element",tagName:"li",properties:{id:e+"fn-"+y},children:r.wrap(h,!0)};r.patch(d,A),a.push(A)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...xy(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:r.wrap(a,!0)},{type:"text",value:`
`}]}}const ax=function(r){if(r==null)return lJ;if(typeof r=="function")return lx(r);if(typeof r=="object")return Array.isArray(r)?sJ(r):oJ(r);if(typeof r=="string")return aJ(r);throw new Error("Expected function, string, or object as test")};function sJ(r){const e=[];let t=-1;for(;++t<r.length;)e[t]=ax(r[t]);return lx(n);function n(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function oJ(r){const e=r;return lx(t);function t(n){const i=n;let s;for(s in r)if(i[s]!==e[s])return!1;return!0}}function aJ(r){return lx(e);function e(t){return t&&t.type===r}}function lx(r){return e;function e(t,n,i){return!!(cJ(t)&&r.call(this,t,typeof n=="number"?n:void 0,i||void 0))}}function lJ(){return!0}function cJ(r){return r!==null&&typeof r=="object"&&"type"in r}const w3=[],uJ=!0,z1=!1,dJ="skip";function k3(r,e,t,n){let i;typeof e=="function"&&typeof t!="function"?(n=t,t=e):i=e;const s=ax(i),o=n?-1:1;a(r,void 0,[])();function a(u,d,h){const p=u&&typeof u=="object"?u:{};if(typeof p.type=="string"){const m=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(u.type+(m?"<"+m+">":""))+")"})}return y;function y(){let m=w3,b,x,w;if((!e||s(u,d,h[h.length-1]||void 0))&&(m=fJ(t(u,h)),m[0]===z1))return m;if("children"in u&&u.children){const A=u;if(A.children&&m[0]!==dJ)for(x=(n?A.children.length:-1)+o,w=h.concat(A);x>-1&&x<A.children.length;){const P=A.children[x];if(b=a(P,x,w)(),b[0]===z1)return b;x=typeof b[1]=="number"?b[1]:x+o}}return m}}}function fJ(r){return Array.isArray(r)?r:typeof r=="number"?[uJ,r]:r==null?w3:[r]}function V_(r,e,t,n){let i,s,o;typeof e=="function"&&typeof t!="function"?(s=void 0,o=e,i=t):(s=e,o=t,i=n),k3(r,s,a,i);function a(u,d){const h=d[d.length-1],p=h?h.children.indexOf(u):void 0;return o(u,p,h)}}const F1={}.hasOwnProperty,hJ={};function pJ(r,e){const t=e||hJ,n=new Map,i=new Map,s=new Map,o={...QY,...t.handlers},a={all:d,applyData:gJ,definitionById:n,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:u,options:t,patch:mJ,wrap:xJ};return V_(r,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?n:i,y=String(h.identifier).toUpperCase();p.has(y)||p.set(y,h)}}),a;function u(h,p){const y=h.type,m=a.handlers[y];if(F1.call(a.handlers,y)&&m)return m(a,h,p);if(a.options.passThrough&&a.options.passThrough.includes(y)){if("children"in h){const{children:x,...w}=h,A=xy(w);return A.children=a.all(h),A}return xy(h)}return(a.options.unknownHandler||yJ)(a,h,p)}function d(h){const p=[];if("children"in h){const y=h.children;let m=-1;for(;++m<y.length;){const b=a.one(y[m],h);if(b){if(m&&y[m-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=oA(b.value)),!Array.isArray(b)&&b.type==="element")){const x=b.children[0];x&&x.type==="text"&&(x.value=oA(x.value))}Array.isArray(b)?p.push(...b):p.push(b)}}}return p}}function mJ(r,e){r.position&&(e.position=nG(r))}function gJ(r,e){let t=e;if(r&&r.data){const n=r.data.hName,i=r.data.hChildren,s=r.data.hProperties;if(typeof n=="string")if(t.type==="element")t.tagName=n;else{const o="children"in t?t.children:[t];t={type:"element",tagName:n,properties:{},children:o}}t.type==="element"&&s&&Object.assign(t.properties,xy(s)),"children"in t&&t.children&&i!==null&&i!==void 0&&(t.children=i)}return t}function yJ(r,e){const t=e.data||{},n="value"in e&&!(F1.call(t,"hProperties")||F1.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:r.all(e)};return r.patch(e,n),r.applyData(e,n)}function xJ(r,e){const t=[];let n=-1;for(e&&t.push({type:"text",value:`
`});++n<r.length;)n&&t.push({type:"text",value:`
`}),t.push(r[n]);return e&&r.length>0&&t.push({type:"text",value:`
`}),t}function oA(r){let e=0,t=r.charCodeAt(e);for(;t===9||t===32;)e++,t=r.charCodeAt(e);return r.slice(e)}function aA(r,e){const t=pJ(r,e),n=t.one(r,void 0),i=iJ(t),s=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function vJ(r,e){return r&&"run"in r?async function(t,n){const i=aA(t,{file:n,...e});await r.run(i,n)}:function(t,n){return aA(t,{file:n,...r||e})}}function lA(r){if(r)throw r}var rw,cA;function bJ(){if(cA)return rw;cA=1;var r=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},s=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var h=r.call(d,"constructor"),p=d.constructor&&d.constructor.prototype&&r.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!h&&!p)return!1;var y;for(y in d);return typeof y>"u"||r.call(d,y)},o=function(d,h){t&&h.name==="__proto__"?t(d,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):d[h.name]=h.newValue},a=function(d,h){if(h==="__proto__")if(r.call(d,h)){if(n)return n(d,h).value}else return;return d[h]};return rw=function u(){var d,h,p,y,m,b,x=arguments[0],w=1,A=arguments.length,P=!1;for(typeof x=="boolean"&&(P=x,x=arguments[1]||{},w=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});w<A;++w)if(d=arguments[w],d!=null)for(h in d)p=a(x,h),y=a(d,h),x!==y&&(P&&y&&(s(y)||(m=i(y)))?(m?(m=!1,b=p&&i(p)?p:[]):b=p&&s(p)?p:{},o(x,{name:h,newValue:u(P,b,y)})):typeof y<"u"&&o(x,{name:h,newValue:y}));return x},rw}var wJ=bJ();const nw=el(wJ);function B1(r){if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)}function kJ(){const r=[],e={run:t,use:n};return e;function t(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...d){const h=r[++s];let p=-1;if(u){o(u);return}for(;++p<i.length;)(d[p]===null||d[p]===void 0)&&(d[p]=i[p]);i=d,h?_J(h,a)(...d):o(null,...d)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return r.push(i),e}}function _J(r,e){let t;return n;function n(...o){const a=r.length>o.length;let u;a&&o.push(i);try{u=r.apply(this,o)}catch(d){const h=d;if(a&&t)throw h;return i(h)}a||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){t||(t=!0,e(o,...a))}function s(o){i(null,o)}}const Qo={basename:EJ,dirname:CJ,extname:SJ,join:NJ,sep:"/"};function EJ(r,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');fm(r);let t=0,n=-1,i=r.length,s;if(e===void 0||e.length===0||e.length>r.length){for(;i--;)if(r.codePointAt(i)===47){if(s){t=i+1;break}}else n<0&&(s=!0,n=i+1);return n<0?"":r.slice(t,n)}if(e===r)return"";let o=-1,a=e.length-1;for(;i--;)if(r.codePointAt(i)===47){if(s){t=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(r.codePointAt(i)===e.codePointAt(a--)?a<0&&(n=i):(a=-1,n=o));return t===n?n=o:n<0&&(n=r.length),r.slice(t,n)}function CJ(r){if(fm(r),r.length===0)return".";let e=-1,t=r.length,n;for(;--t;)if(r.codePointAt(t)===47){if(n){e=t;break}}else n||(n=!0);return e<0?r.codePointAt(0)===47?"/":".":e===1&&r.codePointAt(0)===47?"//":r.slice(0,e)}function SJ(r){fm(r);let e=r.length,t=-1,n=0,i=-1,s=0,o;for(;e--;){const a=r.codePointAt(e);if(a===47){if(o){n=e+1;break}continue}t<0&&(o=!0,t=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||t<0||s===0||s===1&&i===t-1&&i===n+1?"":r.slice(i,t)}function NJ(...r){let e=-1,t;for(;++e<r.length;)fm(r[e]),r[e]&&(t=t===void 0?r[e]:t+"/"+r[e]);return t===void 0?".":TJ(t)}function TJ(r){fm(r);const e=r.codePointAt(0)===47;let t=AJ(r,!e);return t.length===0&&!e&&(t="."),t.length>0&&r.codePointAt(r.length-1)===47&&(t+="/"),e?"/"+t:t}function AJ(r,e){let t="",n=0,i=-1,s=0,o=-1,a,u;for(;++o<=r.length;){if(o<r.length)a=r.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(t.length<2||n!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(u=t.lastIndexOf("/"),u!==t.length-1){u<0?(t="",n=0):(t=t.slice(0,u),n=t.length-1-t.lastIndexOf("/")),i=o,s=0;continue}}else if(t.length>0){t="",n=0,i=o,s=0;continue}}e&&(t=t.length>0?t+"/..":"..",n=2)}else t.length>0?t+="/"+r.slice(i+1,o):t=r.slice(i+1,o),n=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return t}function fm(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}const jJ={cwd:PJ};function PJ(){return"/"}function $1(r){return!!(r!==null&&typeof r=="object"&&"href"in r&&r.href&&"protocol"in r&&r.protocol&&r.auth===void 0)}function RJ(r){if(typeof r=="string")r=new URL(r);else if(!$1(r)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+r+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(r.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return IJ(r)}function IJ(r){if(r.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const e=r.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const n=e.codePointAt(t+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const iw=["history","path","basename","stem","extname","dirname"];class _3{constructor(e){let t;e?$1(e)?t={path:e}:typeof e=="string"||MJ(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":jJ.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<iw.length;){const s=iw[n];s in t&&t[s]!==void 0&&t[s]!==null&&(this[s]=s==="history"?[...t[s]]:t[s])}let i;for(i in t)iw.includes(i)||(this[i]=t[i])}get basename(){return typeof this.path=="string"?Qo.basename(this.path):void 0}set basename(e){ow(e,"basename"),sw(e,"basename"),this.path=Qo.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Qo.dirname(this.path):void 0}set dirname(e){uA(this.basename,"dirname"),this.path=Qo.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Qo.extname(this.path):void 0}set extname(e){if(sw(e,"extname"),uA(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Qo.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){$1(e)&&(e=RJ(e)),ow(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Qo.basename(this.path,this.extname):void 0}set stem(e){ow(e,"stem"),sw(e,"stem"),this.path=Qo.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const i=this.message(e,t,n);throw i.fatal=!0,i}info(e,t,n){const i=this.message(e,t,n);return i.fatal=void 0,i}message(e,t,n){const i=new ki(e,t,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function sw(r,e){if(r&&r.includes(Qo.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Qo.sep+"`")}function ow(r,e){if(!r)throw new Error("`"+e+"` cannot be empty")}function uA(r,e){if(!r)throw new Error("Setting `"+e+"` requires `path` to be set too")}function MJ(r){return!!(r&&typeof r=="object"&&"byteLength"in r&&"byteOffset"in r)}const OJ=function(r){const n=this.constructor.prototype,i=n[r],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,n),s},DJ={}.hasOwnProperty;class G_ extends OJ{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=kJ()}copy(){const e=new G_;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(nw(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(cw("data",this.frozen),this.namespace[e]=t,this):DJ.call(this.namespace,e)&&this.namespace[e]||void 0:e?(cw("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=t.call(e,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=Kg(e),n=this.parser||this.Parser;return aw("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),aw("process",this.parser||this.Parser),lw("process",this.compiler||this.Compiler),t?i(void 0,t):new Promise(i);function i(s,o){const a=Kg(e),u=n.parse(a);n.run(u,a,function(h,p,y){if(h||!p||!y)return d(h);const m=p,b=n.stringify(m,y);FJ(b)?y.value=b:y.result=b,d(h,y)});function d(h,p){h||!p?o(h):s?s(p):t(void 0,p)}}}processSync(e){let t=!1,n;return this.freeze(),aw("processSync",this.parser||this.Parser),lw("processSync",this.compiler||this.Compiler),this.process(e,i),fA("processSync","process",t),n;function i(s,o){t=!0,lA(s),n=o}}run(e,t,n){dA(e),this.freeze();const i=this.transformers;return!n&&typeof t=="function"&&(n=t,t=void 0),n?s(void 0,n):new Promise(s);function s(o,a){const u=Kg(t);i.run(e,u,d);function d(h,p,y){const m=p||e;h?a(h):o?o(m):n(void 0,m,y)}}}runSync(e,t){let n=!1,i;return this.run(e,t,s),fA("runSync","run",n),i;function s(o,a){lA(o),i=a,n=!0}}stringify(e,t){this.freeze();const n=Kg(t),i=this.compiler||this.Compiler;return lw("stringify",i),dA(e),i(e,n)}use(e,...t){const n=this.attachers,i=this.namespace;if(cw("use",this.frozen),e!=null)if(typeof e=="function")u(e,t);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(d){if(typeof d=="function")u(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[h,...p]=d;u(h,p)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(d.plugins),d.settings&&(i.settings=nw(!0,i.settings,d.settings))}function a(d){let h=-1;if(d!=null)if(Array.isArray(d))for(;++h<d.length;){const p=d[h];s(p)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function u(d,h){let p=-1,y=-1;for(;++p<n.length;)if(n[p][0]===d){y=p;break}if(y===-1)n.push([d,...h]);else if(h.length>0){let[m,...b]=h;const x=n[y][1];B1(x)&&B1(m)&&(m=nw(!0,x,m)),n[y]=[d,m,...b]}}}}const LJ=new G_().freeze();function aw(r,e){if(typeof e!="function")throw new TypeError("Cannot `"+r+"` without `parser`")}function lw(r,e){if(typeof e!="function")throw new TypeError("Cannot `"+r+"` without `compiler`")}function cw(r,e){if(e)throw new Error("Cannot call `"+r+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function dA(r){if(!B1(r)||typeof r.type!="string")throw new TypeError("Expected node, got `"+r+"`")}function fA(r,e,t){if(!t)throw new Error("`"+r+"` finished async. Use `"+e+"` instead")}function Kg(r){return zJ(r)?r:new _3(r)}function zJ(r){return!!(r&&typeof r=="object"&&"message"in r&&"messages"in r)}function FJ(r){return typeof r=="string"||BJ(r)}function BJ(r){return!!(r&&typeof r=="object"&&"byteLength"in r&&"byteOffset"in r)}const $J="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",hA=[],pA={allowDangerousHtml:!0},UJ=/^(https?|ircs?|mailto|xmpp)$/i,qJ=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function WJ(r){const e=HJ(r),t=VJ(r);return GJ(e.runSync(e.parse(t),t),r)}function HJ(r){const e=r.rehypePlugins||hA,t=r.remarkPlugins||hA,n=r.remarkRehypeOptions?{...r.remarkRehypeOptions,...pA}:pA;return LJ().use(CY).use(t).use(vJ,n).use(e)}function VJ(r){const e=r.children||"",t=new _3;return typeof e=="string"&&(t.value=e),t}function GJ(r,e){const t=e.allowedElements,n=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,u=e.urlTransform||KJ;for(const h of qJ)Object.hasOwn(e,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+$J+h.id,void 0);return V_(r,d),lG(r,{Fragment:l.Fragment,components:i,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function d(h,p,y){if(h.type==="raw"&&y&&typeof p=="number")return o?y.children.splice(p,1):y.children[p]={type:"text",value:h.value},p;if(h.type==="element"){let m;for(m in Zb)if(Object.hasOwn(Zb,m)&&Object.hasOwn(h.properties,m)){const b=h.properties[m],x=Zb[m];(x===null||x.includes(h.tagName))&&(h.properties[m]=u(String(b||""),m,h))}}if(h.type==="element"){let m=t?!t.includes(h.tagName):s?s.includes(h.tagName):!1;if(!m&&n&&typeof p=="number"&&(m=!n(h,p,y)),m&&y&&typeof p=="number")return a&&h.children?y.children.splice(p,1,...h.children):y.children.splice(p,1),p}}}function KJ(r){const e=r.indexOf(":"),t=r.indexOf("?"),n=r.indexOf("#"),i=r.indexOf("/");return e===-1||i!==-1&&e>i||t!==-1&&e>t||n!==-1&&e>n||UJ.test(r.slice(0,e))?r:""}function mA(r,e){const t=String(r);if(typeof e!="string")throw new TypeError("Expected character");let n=0,i=t.indexOf(e);for(;i!==-1;)n++,i=t.indexOf(e,i+e.length);return n}function YJ(r){if(typeof r!="string")throw new TypeError("Expected a string");return r.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function JJ(r,e,t){const i=ax((t||{}).ignore||[]),s=QJ(e);let o=-1;for(;++o<s.length;)k3(r,"text",a);function a(d,h){let p=-1,y;for(;++p<h.length;){const m=h[p],b=y?y.children:void 0;if(i(m,b?b.indexOf(m):void 0,y))return;y=m}if(y)return u(d,h)}function u(d,h){const p=h[h.length-1],y=s[o][0],m=s[o][1];let b=0;const w=p.children.indexOf(d);let A=!1,P=[];y.lastIndex=0;let I=y.exec(d.value);for(;I;){const T=I.index,U={index:I.index,input:I.input,stack:[...h,d]};let B=m(...I,U);if(typeof B=="string"&&(B=B.length>0?{type:"text",value:B}:void 0),B===!1?y.lastIndex=T+1:(b!==T&&P.push({type:"text",value:d.value.slice(b,T)}),Array.isArray(B)?P.push(...B):B&&P.push(B),b=T+I[0].length,A=!0),!y.global)break;I=y.exec(d.value)}return A?(b<d.value.length&&P.push({type:"text",value:d.value.slice(b)}),p.children.splice(w,1,...P)):P=[d],w+P.length}}function QJ(r){const e=[];if(!Array.isArray(r))throw new TypeError("Expected find and replace tuple or list of tuples");const t=!r[0]||Array.isArray(r[0])?r:[r];let n=-1;for(;++n<t.length;){const i=t[n];e.push([XJ(i[0]),ZJ(i[1])])}return e}function XJ(r){return typeof r=="string"?new RegExp(YJ(r),"g"):r}function ZJ(r){return typeof r=="function"?r:function(){return r}}const uw="phrasing",dw=["autolink","link","image","label"];function eQ(){return{transforms:[aQ],enter:{literalAutolink:rQ,literalAutolinkEmail:fw,literalAutolinkHttp:fw,literalAutolinkWww:fw},exit:{literalAutolink:oQ,literalAutolinkEmail:sQ,literalAutolinkHttp:nQ,literalAutolinkWww:iQ}}}function tQ(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:uw,notInConstruct:dw},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:uw,notInConstruct:dw},{character:":",before:"[ps]",after:"\\/",inConstruct:uw,notInConstruct:dw}]}}function rQ(r){this.enter({type:"link",title:null,url:"",children:[]},r)}function fw(r){this.config.enter.autolinkProtocol.call(this,r)}function nQ(r){this.config.exit.autolinkProtocol.call(this,r)}function iQ(r){this.config.exit.data.call(this,r);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(r)}function sQ(r){this.config.exit.autolinkEmail.call(this,r)}function oQ(r){this.exit(r)}function aQ(r){JJ(r,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,lQ],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),cQ]],{ignore:["link","linkReference"]})}function lQ(r,e,t,n,i){let s="";if(!E3(i)||(/^w/i.test(e)&&(t=e+t,e="",s="http://"),!uQ(t)))return!1;const o=dQ(t+n);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function cQ(r,e,t,n){return!E3(n,!0)||/[-\d_]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+t,children:[{type:"text",value:e+"@"+t}]}}function uQ(r){const e=r.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function dQ(r){const e=/[!"&'),.:;<>?\]}]+$/.exec(r);if(!e)return[r,void 0];r=r.slice(0,e.index);let t=e[0],n=t.indexOf(")");const i=mA(r,"(");let s=mA(r,")");for(;n!==-1&&i>s;)r+=t.slice(0,n+1),t=t.slice(n+1),n=t.indexOf(")"),s++;return[r,t]}function E3(r,e){const t=r.input.charCodeAt(r.index-1);return(r.index===0||Su(t)||ix(t))&&(!e||t!==47)}C3.peek=bQ;function fQ(){this.buffer()}function hQ(r){this.enter({type:"footnoteReference",identifier:"",label:""},r)}function pQ(){this.buffer()}function mQ(r){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},r)}function gQ(r){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=Ro(this.sliceSerialize(r)).toLowerCase(),t.label=e}function yQ(r){this.exit(r)}function xQ(r){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=Ro(this.sliceSerialize(r)).toLowerCase(),t.label=e}function vQ(r){this.exit(r)}function bQ(){return"["}function C3(r,e,t,n){const i=t.createTracker(n);let s=i.move("[^");const o=t.enter("footnoteReference"),a=t.enter("reference");return s+=i.move(t.safe(t.associationId(r),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function wQ(){return{enter:{gfmFootnoteCallString:fQ,gfmFootnoteCall:hQ,gfmFootnoteDefinitionLabelString:pQ,gfmFootnoteDefinition:mQ},exit:{gfmFootnoteCallString:gQ,gfmFootnoteCall:yQ,gfmFootnoteDefinitionLabelString:xQ,gfmFootnoteDefinition:vQ}}}function kQ(r){let e=!1;return r&&r.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:t,footnoteReference:C3},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function t(n,i,s,o){const a=s.createTracker(o);let u=a.move("[^");const d=s.enter("footnoteDefinition"),h=s.enter("label");return u+=a.move(s.safe(s.associationId(n),{before:u,after:"]"})),h(),u+=a.move("]:"),n.children&&n.children.length>0&&(a.shift(4),u+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(n,a.current()),e?S3:_Q))),d(),u}}function _Q(r,e,t){return e===0?r:S3(r,e,t)}function S3(r,e,t){return(t?"":"    ")+r}const EQ=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];N3.peek=AQ;function CQ(){return{canContainEols:["delete"],enter:{strikethrough:NQ},exit:{strikethrough:TQ}}}function SQ(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:EQ}],handlers:{delete:N3}}}function NQ(r){this.enter({type:"delete",children:[]},r)}function TQ(r){this.exit(r)}function N3(r,e,t,n){const i=t.createTracker(n),s=t.enter("strikethrough");let o=i.move("~~");return o+=t.containerPhrasing(r,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function AQ(){return"~"}function jQ(r){return r.length}function PQ(r,e){const t=e||{},n=(t.align||[]).concat(),i=t.stringLength||jQ,s=[],o=[],a=[],u=[];let d=0,h=-1;for(;++h<r.length;){const x=[],w=[];let A=-1;for(r[h].length>d&&(d=r[h].length);++A<r[h].length;){const P=RQ(r[h][A]);if(t.alignDelimiters!==!1){const I=i(P);w[A]=I,(u[A]===void 0||I>u[A])&&(u[A]=I)}x.push(P)}o[h]=x,a[h]=w}let p=-1;if(typeof n=="object"&&"length"in n)for(;++p<d;)s[p]=gA(n[p]);else{const x=gA(n);for(;++p<d;)s[p]=x}p=-1;const y=[],m=[];for(;++p<d;){const x=s[p];let w="",A="";x===99?(w=":",A=":"):x===108?w=":":x===114&&(A=":");let P=t.alignDelimiters===!1?1:Math.max(1,u[p]-w.length-A.length);const I=w+"-".repeat(P)+A;t.alignDelimiters!==!1&&(P=w.length+P+A.length,P>u[p]&&(u[p]=P),m[p]=P),y[p]=I}o.splice(1,0,y),a.splice(1,0,m),h=-1;const b=[];for(;++h<o.length;){const x=o[h],w=a[h];p=-1;const A=[];for(;++p<d;){const P=x[p]||"";let I="",T="";if(t.alignDelimiters!==!1){const U=u[p]-(w[p]||0),B=s[p];B===114?I=" ".repeat(U):B===99?U%2?(I=" ".repeat(U/2+.5),T=" ".repeat(U/2-.5)):(I=" ".repeat(U/2),T=I):T=" ".repeat(U)}t.delimiterStart!==!1&&!p&&A.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&P==="")&&(t.delimiterStart!==!1||p)&&A.push(" "),t.alignDelimiters!==!1&&A.push(I),A.push(P),t.alignDelimiters!==!1&&A.push(T),t.padding!==!1&&A.push(" "),(t.delimiterEnd!==!1||p!==d-1)&&A.push("|")}b.push(t.delimiterEnd===!1?A.join("").replace(/ +$/,""):A.join(""))}return b.join(`
`)}function RQ(r){return r==null?"":String(r)}function gA(r){const e=typeof r=="string"?r.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function IQ(r,e,t,n){const i=t.enter("blockquote"),s=t.createTracker(n);s.move("> "),s.shift(2);const o=t.indentLines(t.containerFlow(r,s.current()),MQ);return i(),o}function MQ(r,e,t){return">"+(t?"":" ")+r}function OQ(r,e){return yA(r,e.inConstruct,!0)&&!yA(r,e.notInConstruct,!1)}function yA(r,e,t){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return t;let n=-1;for(;++n<e.length;)if(r.includes(e[n]))return!0;return!1}function xA(r,e,t,n){let i=-1;for(;++i<t.unsafe.length;)if(t.unsafe[i].character===`
`&&OQ(t.stack,t.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function DQ(r,e){const t=String(r);let n=t.indexOf(e),i=n,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++s>o&&(o=s):s=1,i=n+e.length,n=t.indexOf(e,i);return o}function LQ(r,e){return!!(e.options.fences===!1&&r.value&&!r.lang&&/[^ \r\n]/.test(r.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(r.value))}function zQ(r){const e=r.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function FQ(r,e,t,n){const i=zQ(t),s=r.value||"",o=i==="`"?"GraveAccent":"Tilde";if(LQ(r,t)){const p=t.enter("codeIndented"),y=t.indentLines(s,BQ);return p(),y}const a=t.createTracker(n),u=i.repeat(Math.max(DQ(s,i)+1,3)),d=t.enter("codeFenced");let h=a.move(u);if(r.lang){const p=t.enter(`codeFencedLang${o}`);h+=a.move(t.safe(r.lang,{before:h,after:" ",encode:["`"],...a.current()})),p()}if(r.lang&&r.meta){const p=t.enter(`codeFencedMeta${o}`);h+=a.move(" "),h+=a.move(t.safe(r.meta,{before:h,after:`
`,encode:["`"],...a.current()})),p()}return h+=a.move(`
`),s&&(h+=a.move(s+`
`)),h+=a.move(u),d(),h}function BQ(r,e,t){return(t?"":"    ")+r}function K_(r){const e=r.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function $Q(r,e,t,n){const i=K_(t),s=i==='"'?"Quote":"Apostrophe",o=t.enter("definition");let a=t.enter("label");const u=t.createTracker(n);let d=u.move("[");return d+=u.move(t.safe(t.associationId(r),{before:d,after:"]",...u.current()})),d+=u.move("]: "),a(),!r.url||/[\0- \u007F]/.test(r.url)?(a=t.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(t.safe(r.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(a=t.enter("destinationRaw"),d+=u.move(t.safe(r.url,{before:d,after:r.title?" ":`
`,...u.current()}))),a(),r.title&&(a=t.enter(`title${s}`),d+=u.move(" "+i),d+=u.move(t.safe(r.title,{before:d,after:i,...u.current()})),d+=u.move(i),a()),o(),d}function UQ(r){const e=r.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Up(r){return"&#x"+r.toString(16).toUpperCase()+";"}function vy(r,e,t){const n=pf(r),i=pf(e);return n===void 0?i===void 0?t==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}T3.peek=qQ;function T3(r,e,t,n){const i=UQ(t),s=t.enter("emphasis"),o=t.createTracker(n),a=o.move(i);let u=o.move(t.containerPhrasing(r,{after:i,before:a,...o.current()}));const d=u.charCodeAt(0),h=vy(n.before.charCodeAt(n.before.length-1),d,i);h.inside&&(u=Up(d)+u.slice(1));const p=u.charCodeAt(u.length-1),y=vy(n.after.charCodeAt(0),p,i);y.inside&&(u=u.slice(0,-1)+Up(p));const m=o.move(i);return s(),t.attentionEncodeSurroundingInfo={after:y.outside,before:h.outside},a+u+m}function qQ(r,e,t){return t.options.emphasis||"*"}function WQ(r,e){let t=!1;return V_(r,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return t=!0,z1}),!!((!r.depth||r.depth<3)&&F_(r)&&(e.options.setext||t))}function HQ(r,e,t,n){const i=Math.max(Math.min(6,r.depth||1),1),s=t.createTracker(n);if(WQ(r,t)){const h=t.enter("headingSetext"),p=t.enter("phrasing"),y=t.containerPhrasing(r,{...s.current(),before:`
`,after:`
`});return p(),h(),y+`
`+(i===1?"=":"-").repeat(y.length-(Math.max(y.lastIndexOf("\r"),y.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=t.enter("headingAtx"),u=t.enter("phrasing");s.move(o+" ");let d=t.containerPhrasing(r,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(d)&&(d=Up(d.charCodeAt(0))+d.slice(1)),d=d?o+" "+d:o,t.options.closeAtx&&(d+=" "+o),u(),a(),d}A3.peek=VQ;function A3(r){return r.value||""}function VQ(){return"<"}j3.peek=GQ;function j3(r,e,t,n){const i=K_(t),s=i==='"'?"Quote":"Apostrophe",o=t.enter("image");let a=t.enter("label");const u=t.createTracker(n);let d=u.move("![");return d+=u.move(t.safe(r.alt,{before:d,after:"]",...u.current()})),d+=u.move("]("),a(),!r.url&&r.title||/[\0- \u007F]/.test(r.url)?(a=t.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(t.safe(r.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(a=t.enter("destinationRaw"),d+=u.move(t.safe(r.url,{before:d,after:r.title?" ":")",...u.current()}))),a(),r.title&&(a=t.enter(`title${s}`),d+=u.move(" "+i),d+=u.move(t.safe(r.title,{before:d,after:i,...u.current()})),d+=u.move(i),a()),d+=u.move(")"),o(),d}function GQ(){return"!"}P3.peek=KQ;function P3(r,e,t,n){const i=r.referenceType,s=t.enter("imageReference");let o=t.enter("label");const a=t.createTracker(n);let u=a.move("![");const d=t.safe(r.alt,{before:u,after:"]",...a.current()});u+=a.move(d+"]["),o();const h=t.stack;t.stack=[],o=t.enter("reference");const p=t.safe(t.associationId(r),{before:u,after:"]",...a.current()});return o(),t.stack=h,s(),i==="full"||!d||d!==p?u+=a.move(p+"]"):i==="shortcut"?u=u.slice(0,-1):u+=a.move("]"),u}function KQ(){return"!"}R3.peek=YQ;function R3(r,e,t){let n=r.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++s<t.unsafe.length;){const o=t.unsafe[s],a=t.compilePattern(o);let u;if(o.atBreak)for(;u=a.exec(n);){let d=u.index;n.charCodeAt(d)===10&&n.charCodeAt(d-1)===13&&d--,n=n.slice(0,d)+" "+n.slice(u.index+1)}}return i+n+i}function YQ(){return"`"}function I3(r,e){const t=F_(r);return!!(!e.options.resourceLink&&r.url&&!r.title&&r.children&&r.children.length===1&&r.children[0].type==="text"&&(t===r.url||"mailto:"+t===r.url)&&/^[a-z][a-z+.-]+:/i.test(r.url)&&!/[\0- <>\u007F]/.test(r.url))}M3.peek=JQ;function M3(r,e,t,n){const i=K_(t),s=i==='"'?"Quote":"Apostrophe",o=t.createTracker(n);let a,u;if(I3(r,t)){const h=t.stack;t.stack=[],a=t.enter("autolink");let p=o.move("<");return p+=o.move(t.containerPhrasing(r,{before:p,after:">",...o.current()})),p+=o.move(">"),a(),t.stack=h,p}a=t.enter("link"),u=t.enter("label");let d=o.move("[");return d+=o.move(t.containerPhrasing(r,{before:d,after:"](",...o.current()})),d+=o.move("]("),u(),!r.url&&r.title||/[\0- \u007F]/.test(r.url)?(u=t.enter("destinationLiteral"),d+=o.move("<"),d+=o.move(t.safe(r.url,{before:d,after:">",...o.current()})),d+=o.move(">")):(u=t.enter("destinationRaw"),d+=o.move(t.safe(r.url,{before:d,after:r.title?" ":")",...o.current()}))),u(),r.title&&(u=t.enter(`title${s}`),d+=o.move(" "+i),d+=o.move(t.safe(r.title,{before:d,after:i,...o.current()})),d+=o.move(i),u()),d+=o.move(")"),a(),d}function JQ(r,e,t){return I3(r,t)?"<":"["}O3.peek=QQ;function O3(r,e,t,n){const i=r.referenceType,s=t.enter("linkReference");let o=t.enter("label");const a=t.createTracker(n);let u=a.move("[");const d=t.containerPhrasing(r,{before:u,after:"]",...a.current()});u+=a.move(d+"]["),o();const h=t.stack;t.stack=[],o=t.enter("reference");const p=t.safe(t.associationId(r),{before:u,after:"]",...a.current()});return o(),t.stack=h,s(),i==="full"||!d||d!==p?u+=a.move(p+"]"):i==="shortcut"?u=u.slice(0,-1):u+=a.move("]"),u}function QQ(){return"["}function Y_(r){const e=r.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function XQ(r){const e=Y_(r),t=r.options.bulletOther;if(!t)return e==="*"?"-":"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(t===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+t+"`) to be different");return t}function ZQ(r){const e=r.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function D3(r){const e=r.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function eX(r,e,t,n){const i=t.enter("list"),s=t.bulletCurrent;let o=r.ordered?ZQ(t):Y_(t);const a=r.ordered?o==="."?")":".":XQ(t);let u=e&&t.bulletLastUsed?o===t.bulletLastUsed:!1;if(!r.ordered){const h=r.children?r.children[0]:void 0;if((o==="*"||o==="-")&&h&&(!h.children||!h.children[0])&&t.stack[t.stack.length-1]==="list"&&t.stack[t.stack.length-2]==="listItem"&&t.stack[t.stack.length-3]==="list"&&t.stack[t.stack.length-4]==="listItem"&&t.indexStack[t.indexStack.length-1]===0&&t.indexStack[t.indexStack.length-2]===0&&t.indexStack[t.indexStack.length-3]===0&&(u=!0),D3(t)===o&&h){let p=-1;for(;++p<r.children.length;){const y=r.children[p];if(y&&y.type==="listItem"&&y.children&&y.children[0]&&y.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(o=a),t.bulletCurrent=o;const d=t.containerFlow(r,n);return t.bulletLastUsed=o,t.bulletCurrent=s,i(),d}function tX(r){const e=r.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function rX(r,e,t,n){const i=tX(t);let s=t.bulletCurrent||Y_(t);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(t.options.incrementListMarker===!1?0:e.children.indexOf(r))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||r.spread))&&(o=Math.ceil(o/4)*4);const a=t.createTracker(n);a.move(s+" ".repeat(o-s.length)),a.shift(o);const u=t.enter("listItem"),d=t.indentLines(t.containerFlow(r,a.current()),h);return u(),d;function h(p,y,m){return y?(m?"":" ".repeat(o))+p:(m?s:s+" ".repeat(o-s.length))+p}}function nX(r,e,t,n){const i=t.enter("paragraph"),s=t.enter("phrasing"),o=t.containerPhrasing(r,n);return s(),i(),o}const iX=ax(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function sX(r,e,t,n){return(r.children.some(function(o){return iX(o)})?t.containerPhrasing:t.containerFlow).call(t,r,n)}function oX(r){const e=r.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}L3.peek=aX;function L3(r,e,t,n){const i=oX(t),s=t.enter("strong"),o=t.createTracker(n),a=o.move(i+i);let u=o.move(t.containerPhrasing(r,{after:i,before:a,...o.current()}));const d=u.charCodeAt(0),h=vy(n.before.charCodeAt(n.before.length-1),d,i);h.inside&&(u=Up(d)+u.slice(1));const p=u.charCodeAt(u.length-1),y=vy(n.after.charCodeAt(0),p,i);y.inside&&(u=u.slice(0,-1)+Up(p));const m=o.move(i+i);return s(),t.attentionEncodeSurroundingInfo={after:y.outside,before:h.outside},a+u+m}function aX(r,e,t){return t.options.strong||"*"}function lX(r,e,t,n){return t.safe(r.value,n)}function cX(r){const e=r.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function uX(r,e,t){const n=(D3(t)+(t.options.ruleSpaces?" ":"")).repeat(cX(t));return t.options.ruleSpaces?n.slice(0,-1):n}const z3={blockquote:IQ,break:xA,code:FQ,definition:$Q,emphasis:T3,hardBreak:xA,heading:HQ,html:A3,image:j3,imageReference:P3,inlineCode:R3,link:M3,linkReference:O3,list:eX,listItem:rX,paragraph:nX,root:sX,strong:L3,text:lX,thematicBreak:uX};function dX(){return{enter:{table:fX,tableData:vA,tableHeader:vA,tableRow:pX},exit:{codeText:mX,table:hX,tableData:hw,tableHeader:hw,tableRow:hw}}}function fX(r){const e=r._align;this.enter({type:"table",align:e.map(function(t){return t==="none"?null:t}),children:[]},r),this.data.inTable=!0}function hX(r){this.exit(r),this.data.inTable=void 0}function pX(r){this.enter({type:"tableRow",children:[]},r)}function hw(r){this.exit(r)}function vA(r){this.enter({type:"tableCell",children:[]},r)}function mX(r){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,gX));const t=this.stack[this.stack.length-1];t.type,t.value=e,this.exit(r)}function gX(r,e){return e==="|"?e:r}function yX(r){const e=r||{},t=e.tableCellPadding,n=e.tablePipeAlign,i=e.stringLength,s=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:y,table:o,tableCell:u,tableRow:a}};function o(m,b,x,w){return d(h(m,x,w),m.align)}function a(m,b,x,w){const A=p(m,x,w),P=d([A]);return P.slice(0,P.indexOf(`
`))}function u(m,b,x,w){const A=x.enter("tableCell"),P=x.enter("phrasing"),I=x.containerPhrasing(m,{...w,before:s,after:s});return P(),A(),I}function d(m,b){return PQ(m,{align:b,alignDelimiters:n,padding:t,stringLength:i})}function h(m,b,x){const w=m.children;let A=-1;const P=[],I=b.enter("table");for(;++A<w.length;)P[A]=p(w[A],b,x);return I(),P}function p(m,b,x){const w=m.children;let A=-1;const P=[],I=b.enter("tableRow");for(;++A<w.length;)P[A]=u(w[A],m,b,x);return I(),P}function y(m,b,x){let w=z3.inlineCode(m,b,x);return x.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function xX(){return{exit:{taskListCheckValueChecked:bA,taskListCheckValueUnchecked:bA,paragraph:bX}}}function vX(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:wX}}}function bA(r){const e=this.stack[this.stack.length-2];e.type,e.checked=r.type==="taskListCheckValueChecked"}function bX(r){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const t=this.stack[this.stack.length-1];t.type;const n=t.children[0];if(n&&n.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===t&&(n.value=n.value.slice(1),n.value.length===0?t.children.shift():t.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,t.position.start=Object.assign({},n.position.start)))}}this.exit(r)}function wX(r,e,t,n){const i=r.children[0],s=typeof r.checked=="boolean"&&i&&i.type==="paragraph",o="["+(r.checked?"x":" ")+"] ",a=t.createTracker(n);s&&a.move(o);let u=z3.listItem(r,e,t,{...n,...a.current()});return s&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),u;function d(h){return h+o}}function kX(){return[eQ(),wQ(),CQ(),dX(),xX()]}function _X(r){return{extensions:[tQ(),kQ(r),SQ(),yX(r),vX()]}}const EX={tokenize:jX,partial:!0},F3={tokenize:PX,partial:!0},B3={tokenize:RX,partial:!0},$3={tokenize:IX,partial:!0},CX={tokenize:MX,partial:!0},U3={name:"wwwAutolink",tokenize:TX,previous:W3},q3={name:"protocolAutolink",tokenize:AX,previous:H3},il={name:"emailAutolink",tokenize:NX,previous:V3},ya={};function SX(){return{text:ya}}let qc=48;for(;qc<123;)ya[qc]=il,qc++,qc===58?qc=65:qc===91&&(qc=97);ya[43]=il;ya[45]=il;ya[46]=il;ya[95]=il;ya[72]=[il,q3];ya[104]=[il,q3];ya[87]=[il,U3];ya[119]=[il,U3];function NX(r,e,t){const n=this;let i,s;return o;function o(p){return!U1(p)||!V3.call(n,n.previous)||J_(n.events)?t(p):(r.enter("literalAutolink"),r.enter("literalAutolinkEmail"),a(p))}function a(p){return U1(p)?(r.consume(p),a):p===64?(r.consume(p),u):t(p)}function u(p){return p===46?r.check(CX,h,d)(p):p===45||p===95||vi(p)?(s=!0,r.consume(p),u):h(p)}function d(p){return r.consume(p),i=!0,u}function h(p){return s&&i&&Li(n.previous)?(r.exit("literalAutolinkEmail"),r.exit("literalAutolink"),e(p)):t(p)}}function TX(r,e,t){const n=this;return i;function i(o){return o!==87&&o!==119||!W3.call(n,n.previous)||J_(n.events)?t(o):(r.enter("literalAutolink"),r.enter("literalAutolinkWww"),r.check(EX,r.attempt(F3,r.attempt(B3,s),t),t)(o))}function s(o){return r.exit("literalAutolinkWww"),r.exit("literalAutolink"),e(o)}}function AX(r,e,t){const n=this;let i="",s=!1;return o;function o(p){return(p===72||p===104)&&H3.call(n,n.previous)&&!J_(n.events)?(r.enter("literalAutolink"),r.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),r.consume(p),a):t(p)}function a(p){if(Li(p)&&i.length<5)return i+=String.fromCodePoint(p),r.consume(p),a;if(p===58){const y=i.toLowerCase();if(y==="http"||y==="https")return r.consume(p),u}return t(p)}function u(p){return p===47?(r.consume(p),s?d:(s=!0,u)):t(p)}function d(p){return p===null||gy(p)||Rr(p)||Su(p)||ix(p)?t(p):r.attempt(F3,r.attempt(B3,h),t)(p)}function h(p){return r.exit("literalAutolinkHttp"),r.exit("literalAutolink"),e(p)}}function jX(r,e,t){let n=0;return i;function i(o){return(o===87||o===119)&&n<3?(n++,r.consume(o),i):o===46&&n===3?(r.consume(o),s):t(o)}function s(o){return o===null?t(o):e(o)}}function PX(r,e,t){let n,i,s;return o;function o(d){return d===46||d===95?r.check($3,u,a)(d):d===null||Rr(d)||Su(d)||d!==45&&ix(d)?u(d):(s=!0,r.consume(d),o)}function a(d){return d===95?n=!0:(i=n,n=void 0),r.consume(d),o}function u(d){return i||n||!s?t(d):e(d)}}function RX(r,e){let t=0,n=0;return i;function i(o){return o===40?(t++,r.consume(o),i):o===41&&n<t?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?r.check($3,e,s)(o):o===null||Rr(o)||Su(o)?e(o):(r.consume(o),i)}function s(o){return o===41&&n++,r.consume(o),i}}function IX(r,e,t){return n;function n(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(r.consume(a),n):a===38?(r.consume(a),s):a===93?(r.consume(a),i):a===60||a===null||Rr(a)||Su(a)?e(a):t(a)}function i(a){return a===null||a===40||a===91||Rr(a)||Su(a)?e(a):n(a)}function s(a){return Li(a)?o(a):t(a)}function o(a){return a===59?(r.consume(a),n):Li(a)?(r.consume(a),o):t(a)}}function MX(r,e,t){return n;function n(s){return r.consume(s),i}function i(s){return vi(s)?t(s):e(s)}}function W3(r){return r===null||r===40||r===42||r===95||r===91||r===93||r===126||Rr(r)}function H3(r){return!Li(r)}function V3(r){return!(r===47||U1(r))}function U1(r){return r===43||r===45||r===46||r===95||vi(r)}function J_(r){let e=r.length,t=!1;for(;e--;){const n=r[e][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){t=!0;break}if(n._gfmAutolinkLiteralWalkedInto){t=!1;break}}return r.length>0&&!t&&(r[r.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),t}const OX={tokenize:qX,partial:!0};function DX(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:BX,continuation:{tokenize:$X},exit:UX}},text:{91:{name:"gfmFootnoteCall",tokenize:FX},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:LX,resolveTo:zX}}}}function LX(r,e,t){const n=this;let i=n.events.length;const s=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let o;for(;i--;){const u=n.events[i][1];if(u.type==="labelImage"){o=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return a;function a(u){if(!o||!o._balanced)return t(u);const d=Ro(n.sliceSerialize({start:o.end,end:n.now()}));return d.codePointAt(0)!==94||!s.includes(d.slice(1))?t(u):(r.enter("gfmFootnoteCallLabelMarker"),r.consume(u),r.exit("gfmFootnoteCallLabelMarker"),e(u))}}function zX(r,e){let t=r.length;for(;t--;)if(r[t][1].type==="labelImage"&&r[t][0]==="enter"){r[t][1];break}r[t+1][1].type="data",r[t+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},r[t+3][1].start),end:Object.assign({},r[r.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},r[t+3][1].end),end:Object.assign({},r[t+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},r[r.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[r[t+1],r[t+2],["enter",n,e],r[t+3],r[t+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],r[r.length-2],r[r.length-1],["exit",n,e]];return r.splice(t,r.length-t+1,...a),r}function FX(r,e,t){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s=0,o;return a;function a(p){return r.enter("gfmFootnoteCall"),r.enter("gfmFootnoteCallLabelMarker"),r.consume(p),r.exit("gfmFootnoteCallLabelMarker"),u}function u(p){return p!==94?t(p):(r.enter("gfmFootnoteCallMarker"),r.consume(p),r.exit("gfmFootnoteCallMarker"),r.enter("gfmFootnoteCallString"),r.enter("chunkString").contentType="string",d)}function d(p){if(s>999||p===93&&!o||p===null||p===91||Rr(p))return t(p);if(p===93){r.exit("chunkString");const y=r.exit("gfmFootnoteCallString");return i.includes(Ro(n.sliceSerialize(y)))?(r.enter("gfmFootnoteCallLabelMarker"),r.consume(p),r.exit("gfmFootnoteCallLabelMarker"),r.exit("gfmFootnoteCall"),e):t(p)}return Rr(p)||(o=!0),s++,r.consume(p),p===92?h:d}function h(p){return p===91||p===92||p===93?(r.consume(p),s++,d):d(p)}}function BX(r,e,t){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s,o=0,a;return u;function u(b){return r.enter("gfmFootnoteDefinition")._container=!0,r.enter("gfmFootnoteDefinitionLabel"),r.enter("gfmFootnoteDefinitionLabelMarker"),r.consume(b),r.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(b){return b===94?(r.enter("gfmFootnoteDefinitionMarker"),r.consume(b),r.exit("gfmFootnoteDefinitionMarker"),r.enter("gfmFootnoteDefinitionLabelString"),r.enter("chunkString").contentType="string",h):t(b)}function h(b){if(o>999||b===93&&!a||b===null||b===91||Rr(b))return t(b);if(b===93){r.exit("chunkString");const x=r.exit("gfmFootnoteDefinitionLabelString");return s=Ro(n.sliceSerialize(x)),r.enter("gfmFootnoteDefinitionLabelMarker"),r.consume(b),r.exit("gfmFootnoteDefinitionLabelMarker"),r.exit("gfmFootnoteDefinitionLabel"),y}return Rr(b)||(a=!0),o++,r.consume(b),b===92?p:h}function p(b){return b===91||b===92||b===93?(r.consume(b),o++,h):h(b)}function y(b){return b===58?(r.enter("definitionMarker"),r.consume(b),r.exit("definitionMarker"),i.includes(s)||i.push(s),cr(r,m,"gfmFootnoteDefinitionWhitespace")):t(b)}function m(b){return e(b)}}function $X(r,e,t){return r.check(dm,e,r.attempt(OX,e,t))}function UX(r){r.exit("gfmFootnoteDefinition")}function qX(r,e,t){const n=this;return cr(r,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=n.events[n.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):t(s)}}function WX(r){let t=(r||{}).singleTilde;const n={name:"strikethrough",tokenize:s,resolveAll:i};return t==null&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(o,a){let u=-1;for(;++u<o.length;)if(o[u][0]==="enter"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._close){let d=u;for(;d--;)if(o[d][0]==="exit"&&o[d][1].type==="strikethroughSequenceTemporary"&&o[d][1]._open&&o[u][1].end.offset-o[u][1].start.offset===o[d][1].end.offset-o[d][1].start.offset){o[u][1].type="strikethroughSequence",o[d][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},o[d][1].start),end:Object.assign({},o[u][1].end)},p={type:"strikethroughText",start:Object.assign({},o[d][1].end),end:Object.assign({},o[u][1].start)},y=[["enter",h,a],["enter",o[d][1],a],["exit",o[d][1],a],["enter",p,a]],m=a.parser.constructs.insideSpan.null;m&&Ps(y,y.length,0,sx(m,o.slice(d+1,u),a)),Ps(y,y.length,0,[["exit",p,a],["enter",o[u][1],a],["exit",o[u][1],a],["exit",h,a]]),Ps(o,d-1,u-d+3,y),u=d+y.length-2;break}}for(u=-1;++u<o.length;)o[u][1].type==="strikethroughSequenceTemporary"&&(o[u][1].type="data");return o}function s(o,a,u){const d=this.previous,h=this.events;let p=0;return y;function y(b){return d===126&&h[h.length-1][1].type!=="characterEscape"?u(b):(o.enter("strikethroughSequenceTemporary"),m(b))}function m(b){const x=pf(d);if(b===126)return p>1?u(b):(o.consume(b),p++,m);if(p<2&&!t)return u(b);const w=o.exit("strikethroughSequenceTemporary"),A=pf(b);return w._open=!A||A===2&&!!x,w._close=!x||x===2&&!!A,a(b)}}}class HX{constructor(){this.map=[]}add(e,t,n){VX(this,e,t,n)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let t=this.map.length;const n=[];for(;t>0;)t-=1,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push(e.slice()),e.length=0;let i=n.pop();for(;i;){for(const s of i)e.push(s);i=n.pop()}this.map.length=0}}function VX(r,e,t,n){let i=0;if(!(t===0&&n.length===0)){for(;i<r.map.length;){if(r.map[i][0]===e){r.map[i][1]+=t,r.map[i][2].push(...n);return}i+=1}r.map.push([e,t,n])}}function GX(r,e){let t=!1;const n=[];for(;e<r.length;){const i=r[e];if(t){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(r[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(r[e-1][1].type==="tableDelimiterMarker"){const s=n.length-1;n[s]=n[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(t=!0);e+=1}return n}function KX(){return{flow:{null:{name:"table",tokenize:YX,resolveAll:JX}}}}function YX(r,e,t){const n=this;let i=0,s=0,o;return a;function a(V){let K=n.events.length-1;for(;K>-1;){const v=n.events[K][1].type;if(v==="lineEnding"||v==="linePrefix")K--;else break}const q=K>-1?n.events[K][1].type:null,D=q==="tableHead"||q==="tableRow"?B:u;return D===B&&n.parser.lazy[n.now().line]?t(V):D(V)}function u(V){return r.enter("tableHead"),r.enter("tableRow"),d(V)}function d(V){return V===124||(o=!0,s+=1),h(V)}function h(V){return V===null?t(V):Et(V)?s>1?(s=0,n.interrupt=!0,r.exit("tableRow"),r.enter("lineEnding"),r.consume(V),r.exit("lineEnding"),m):t(V):ir(V)?cr(r,h,"whitespace")(V):(s+=1,o&&(o=!1,i+=1),V===124?(r.enter("tableCellDivider"),r.consume(V),r.exit("tableCellDivider"),o=!0,h):(r.enter("data"),p(V)))}function p(V){return V===null||V===124||Rr(V)?(r.exit("data"),h(V)):(r.consume(V),V===92?y:p)}function y(V){return V===92||V===124?(r.consume(V),p):p(V)}function m(V){return n.interrupt=!1,n.parser.lazy[n.now().line]?t(V):(r.enter("tableDelimiterRow"),o=!1,ir(V)?cr(r,b,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):b(V))}function b(V){return V===45||V===58?w(V):V===124?(o=!0,r.enter("tableCellDivider"),r.consume(V),r.exit("tableCellDivider"),x):U(V)}function x(V){return ir(V)?cr(r,w,"whitespace")(V):w(V)}function w(V){return V===58?(s+=1,o=!0,r.enter("tableDelimiterMarker"),r.consume(V),r.exit("tableDelimiterMarker"),A):V===45?(s+=1,A(V)):V===null||Et(V)?T(V):U(V)}function A(V){return V===45?(r.enter("tableDelimiterFiller"),P(V)):U(V)}function P(V){return V===45?(r.consume(V),P):V===58?(o=!0,r.exit("tableDelimiterFiller"),r.enter("tableDelimiterMarker"),r.consume(V),r.exit("tableDelimiterMarker"),I):(r.exit("tableDelimiterFiller"),I(V))}function I(V){return ir(V)?cr(r,T,"whitespace")(V):T(V)}function T(V){return V===124?b(V):V===null||Et(V)?!o||i!==s?U(V):(r.exit("tableDelimiterRow"),r.exit("tableHead"),e(V)):U(V)}function U(V){return t(V)}function B(V){return r.enter("tableRow"),H(V)}function H(V){return V===124?(r.enter("tableCellDivider"),r.consume(V),r.exit("tableCellDivider"),H):V===null||Et(V)?(r.exit("tableRow"),e(V)):ir(V)?cr(r,H,"whitespace")(V):(r.enter("data"),G(V))}function G(V){return V===null||V===124||Rr(V)?(r.exit("data"),H(V)):(r.consume(V),V===92?W:G)}function W(V){return V===92||V===124?(r.consume(V),G):G(V)}}function JX(r,e){let t=-1,n=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,u=0,d,h,p;const y=new HX;for(;++t<r.length;){const m=r[t],b=m[1];m[0]==="enter"?b.type==="tableHead"?(a=!1,u!==0&&(wA(y,e,u,d,h),h=void 0,u=0),d={type:"table",start:Object.assign({},b.start),end:Object.assign({},b.end)},y.add(t,0,[["enter",d,e]])):b.type==="tableRow"||b.type==="tableDelimiterRow"?(n=!0,p=void 0,s=[0,0,0,0],o=[0,t+1,0,0],a&&(a=!1,h={type:"tableBody",start:Object.assign({},b.start),end:Object.assign({},b.end)},y.add(t,0,[["enter",h,e]])),i=b.type==="tableDelimiterRow"?2:h?3:1):i&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")?(n=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],p=Yg(y,e,s,i,void 0,p),s=[0,0,0,0]),o[2]=t)):b.type==="tableCellDivider"&&(n?n=!1:(s[1]!==0&&(o[0]=o[1],p=Yg(y,e,s,i,void 0,p)),s=o,o=[s[1],t,0,0])):b.type==="tableHead"?(a=!0,u=t):b.type==="tableRow"||b.type==="tableDelimiterRow"?(u=t,s[1]!==0?(o[0]=o[1],p=Yg(y,e,s,i,t,p)):o[1]!==0&&(p=Yg(y,e,o,i,t,p)),i=0):i&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")&&(o[3]=t)}for(u!==0&&wA(y,e,u,d,h),y.consume(e.events),t=-1;++t<e.events.length;){const m=e.events[t];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=GX(e.events,t))}return r}function Yg(r,e,t,n,i,s){const o=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",a="tableContent";t[0]!==0&&(s.end=Object.assign({},Cd(e.events,t[0])),r.add(t[0],0,[["exit",s,e]]));const u=Cd(e.events,t[1]);if(s={type:o,start:Object.assign({},u),end:Object.assign({},u)},r.add(t[1],0,[["enter",s,e]]),t[2]!==0){const d=Cd(e.events,t[2]),h=Cd(e.events,t[3]),p={type:a,start:Object.assign({},d),end:Object.assign({},h)};if(r.add(t[2],0,[["enter",p,e]]),n!==2){const y=e.events[t[2]],m=e.events[t[3]];if(y[1].end=Object.assign({},m[1].end),y[1].type="chunkText",y[1].contentType="text",t[3]>t[2]+1){const b=t[2]+1,x=t[3]-t[2]-1;r.add(b,x,[])}}r.add(t[3]+1,0,[["exit",p,e]])}return i!==void 0&&(s.end=Object.assign({},Cd(e.events,i)),r.add(i,0,[["exit",s,e]]),s=void 0),s}function wA(r,e,t,n,i){const s=[],o=Cd(e.events,t);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),n.end=Object.assign({},o),s.push(["exit",n,e]),r.add(t+1,0,s)}function Cd(r,e){const t=r[e],n=t[0]==="enter"?"start":"end";return t[1][n]}const QX={name:"tasklistCheck",tokenize:ZX};function XX(){return{text:{91:QX}}}function ZX(r,e,t){const n=this;return i;function i(u){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?t(u):(r.enter("taskListCheck"),r.enter("taskListCheckMarker"),r.consume(u),r.exit("taskListCheckMarker"),s)}function s(u){return Rr(u)?(r.enter("taskListCheckValueUnchecked"),r.consume(u),r.exit("taskListCheckValueUnchecked"),o):u===88||u===120?(r.enter("taskListCheckValueChecked"),r.consume(u),r.exit("taskListCheckValueChecked"),o):t(u)}function o(u){return u===93?(r.enter("taskListCheckMarker"),r.consume(u),r.exit("taskListCheckMarker"),r.exit("taskListCheck"),a):t(u)}function a(u){return Et(u)?e(u):ir(u)?r.check({tokenize:eZ},e,t)(u):t(u)}}function eZ(r,e,t){return cr(r,n,"whitespace");function n(i){return i===null?t(i):e(i)}}function tZ(r){return n3([SX(),DX(),WX(r),KX(),XX()])}const rZ={};function nZ(r){const e=this,t=r||rZ,n=e.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),s=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),o=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(tZ(t)),s.push(kX()),o.push(_X(t))}var cx="Collapsible",[iZ,G3]=co(cx),[sZ,Q_]=iZ(cx),K3=C.forwardRef((r,e)=>{const{__scopeCollapsible:t,open:n,defaultOpen:i,disabled:s,onOpenChange:o,...a}=r,[u,d]=Oo({prop:n,defaultProp:i??!1,onChange:o,caller:cx});return l.jsx(sZ,{scope:t,disabled:s,contentId:Ts(),open:u,onOpenToggle:C.useCallback(()=>d(h=>!h),[d]),children:l.jsx(Ot.div,{"data-state":Z_(u),"data-disabled":s?"":void 0,...a,ref:e})})});K3.displayName=cx;var Y3="CollapsibleTrigger",J3=C.forwardRef((r,e)=>{const{__scopeCollapsible:t,...n}=r,i=Q_(Y3,t);return l.jsx(Ot.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Z_(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:Ke(r.onClick,i.onOpenToggle)})});J3.displayName=Y3;var X_="CollapsibleContent",Q3=C.forwardRef((r,e)=>{const{forceMount:t,...n}=r,i=Q_(X_,r.__scopeCollapsible);return l.jsx(uo,{present:t||i.open,children:({present:s})=>l.jsx(oZ,{...n,ref:e,present:s})})});Q3.displayName=X_;var oZ=C.forwardRef((r,e)=>{const{__scopeCollapsible:t,present:n,children:i,...s}=r,o=Q_(X_,t),[a,u]=C.useState(n),d=C.useRef(null),h=gr(e,d),p=C.useRef(0),y=p.current,m=C.useRef(0),b=m.current,x=o.open||a,w=C.useRef(x),A=C.useRef(void 0);return C.useEffect(()=>{const P=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(P)},[]),ni(()=>{const P=d.current;if(P){A.current=A.current||{transitionDuration:P.style.transitionDuration,animationName:P.style.animationName},P.style.transitionDuration="0s",P.style.animationName="none";const I=P.getBoundingClientRect();p.current=I.height,m.current=I.width,w.current||(P.style.transitionDuration=A.current.transitionDuration,P.style.animationName=A.current.animationName),u(n)}},[o.open,n]),l.jsx(Ot.div,{"data-state":Z_(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...s,ref:h,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...r.style},children:x&&i})});function Z_(r){return r?"open":"closed"}var aZ=K3,lZ=J3,cZ=Q3,zo="Accordion",uZ=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[e2,dZ,fZ]=zy(zo),[ux,uie]=co(zo,[fZ,G3]),t2=G3(),X3=ve.forwardRef((r,e)=>{const{type:t,...n}=r,i=n,s=n;return l.jsx(e2.Provider,{scope:r.__scopeAccordion,children:t==="multiple"?l.jsx(gZ,{...s,ref:e}):l.jsx(mZ,{...i,ref:e})})});X3.displayName=zo;var[Z3,hZ]=ux(zo),[e5,pZ]=ux(zo,{collapsible:!1}),mZ=ve.forwardRef((r,e)=>{const{value:t,defaultValue:n,onValueChange:i=()=>{},collapsible:s=!1,...o}=r,[a,u]=Oo({prop:t,defaultProp:n??"",onChange:i,caller:zo});return l.jsx(Z3,{scope:r.__scopeAccordion,value:ve.useMemo(()=>a?[a]:[],[a]),onItemOpen:u,onItemClose:ve.useCallback(()=>s&&u(""),[s,u]),children:l.jsx(e5,{scope:r.__scopeAccordion,collapsible:s,children:l.jsx(t5,{...o,ref:e})})})}),gZ=ve.forwardRef((r,e)=>{const{value:t,defaultValue:n,onValueChange:i=()=>{},...s}=r,[o,a]=Oo({prop:t,defaultProp:n??[],onChange:i,caller:zo}),u=ve.useCallback(h=>a((p=[])=>[...p,h]),[a]),d=ve.useCallback(h=>a((p=[])=>p.filter(y=>y!==h)),[a]);return l.jsx(Z3,{scope:r.__scopeAccordion,value:o,onItemOpen:u,onItemClose:d,children:l.jsx(e5,{scope:r.__scopeAccordion,collapsible:!0,children:l.jsx(t5,{...s,ref:e})})})}),[yZ,dx]=ux(zo),t5=ve.forwardRef((r,e)=>{const{__scopeAccordion:t,disabled:n,dir:i,orientation:s="vertical",...o}=r,a=ve.useRef(null),u=gr(a,e),d=dZ(t),p=rm(i)==="ltr",y=Ke(r.onKeyDown,m=>{var G;if(!uZ.includes(m.key))return;const b=m.target,x=d().filter(W=>{var V;return!((V=W.ref.current)!=null&&V.disabled)}),w=x.findIndex(W=>W.ref.current===b),A=x.length;if(w===-1)return;m.preventDefault();let P=w;const I=0,T=A-1,U=()=>{P=w+1,P>T&&(P=I)},B=()=>{P=w-1,P<I&&(P=T)};switch(m.key){case"Home":P=I;break;case"End":P=T;break;case"ArrowRight":s==="horizontal"&&(p?U():B());break;case"ArrowDown":s==="vertical"&&U();break;case"ArrowLeft":s==="horizontal"&&(p?B():U());break;case"ArrowUp":s==="vertical"&&B();break}const H=P%A;(G=x[H].ref.current)==null||G.focus()});return l.jsx(yZ,{scope:t,disabled:n,direction:i,orientation:s,children:l.jsx(e2.Slot,{scope:t,children:l.jsx(Ot.div,{...o,"data-orientation":s,ref:u,onKeyDown:n?void 0:y})})})}),by="AccordionItem",[xZ,r2]=ux(by),r5=ve.forwardRef((r,e)=>{const{__scopeAccordion:t,value:n,...i}=r,s=dx(by,t),o=hZ(by,t),a=t2(t),u=Ts(),d=n&&o.value.includes(n)||!1,h=s.disabled||r.disabled;return l.jsx(xZ,{scope:t,open:d,disabled:h,triggerId:u,children:l.jsx(aZ,{"data-orientation":s.orientation,"data-state":l5(d),...a,...i,ref:e,disabled:h,open:d,onOpenChange:p=>{p?o.onItemOpen(n):o.onItemClose(n)}})})});r5.displayName=by;var n5="AccordionHeader",i5=ve.forwardRef((r,e)=>{const{__scopeAccordion:t,...n}=r,i=dx(zo,t),s=r2(n5,t);return l.jsx(Ot.h3,{"data-orientation":i.orientation,"data-state":l5(s.open),"data-disabled":s.disabled?"":void 0,...n,ref:e})});i5.displayName=n5;var q1="AccordionTrigger",s5=ve.forwardRef((r,e)=>{const{__scopeAccordion:t,...n}=r,i=dx(zo,t),s=r2(q1,t),o=pZ(q1,t),a=t2(t);return l.jsx(e2.ItemSlot,{scope:t,children:l.jsx(lZ,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...a,...n,ref:e})})});s5.displayName=q1;var o5="AccordionContent",a5=ve.forwardRef((r,e)=>{const{__scopeAccordion:t,...n}=r,i=dx(zo,t),s=r2(o5,t),o=t2(t);return l.jsx(cZ,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...r.style}})});a5.displayName=o5;function l5(r){return r?"open":"closed"}var vZ=X3,bZ=r5,wZ=i5,kZ=s5,_Z=a5;Fa.registerPlugin(er);const Wc=({id:r,className:e="",containerClassName:t="",children:n})=>l.jsx("section",{id:r,className:`w-full ${e}`,children:l.jsx("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 ${t}`,children:n})}),Rh=({eyebrow:r,title:e,subtitle:t,className:n=""})=>l.jsxs("div",{className:`text-center mb-10 sm:mb-14 ${n}`,children:[r&&l.jsx("div",{className:"text-sm tracking-wide uppercase text-primary mb-2 font-semibold",children:r}),l.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-3 text-foreground",children:e}),t&&l.jsx("p",{className:"text-base sm:text-lg text-muted-foreground max-w-3xl mx-auto",children:t})]}),EZ=()=>{const r=C.useRef(null);return C.useEffect(()=>{const e=r.current;if(!e)return;const t=[];for(let n=0;n<6;n++){const i=document.createElement("div");i.className=`absolute rounded-full animate-pulse
        bg-primary/20 dark:bg-primary/30 dim-blue:bg-primary/25
        border border-primary/30 dark:border-primary/40 dim-blue:border-primary/35
        shadow-lg dark:shadow-primary/20 dim-blue:shadow-primary/25`,i.style.width=`${Math.random()*200+100}px`,i.style.height=i.style.width,i.style.left=`${Math.random()*100}%`,i.style.top=`${Math.random()*100}%`,e.appendChild(i),t.push(i),Fa.to(i,{x:Math.random()*100-50,y:Math.random()*100-50,duration:Math.random()*10+10,repeat:-1,yoyo:!0,ease:"sine.inOut"})}return()=>{t.forEach(n=>n.remove())}},[]),l.jsx("div",{ref:r,className:"absolute inset-0 overflow-hidden pointer-events-none"})};function CZ(r){if(!r)return[];const e=r.split(`
`).map(i=>i.replace(/\r$/,""));let t=0;for(;t<e.length&&(e[t].trim()===""||e[t].trim().startsWith("##"));)t++;const n=[];for(;t<e.length;){if(!e[t].trim().startsWith("**Q:")){t++;continue}const i=e[t].trim().replace(/^\*\*Q:\s*/,"").replace(/\*\*$/,"").trim();for(t++;t<e.length&&e[t].trim()==="";)t++;const s=[];for(t<e.length&&e[t].trim().startsWith("A:")&&(s.push(e[t].trim().replace(/^A:\s*/,"")),t++);t<e.length&&!e[t].trim().startsWith("**Q:");)s.push(e[t]),t++;n.push({q:i,aMd:s.join(`
`).trim()})}return n}function SZ(){const[r,e]=C.useState("");C.useRef(null),C.useRef(null),C.useRef(null),C.useEffect(()=>(Fa.timeline().from(".hero-headline",{opacity:0,y:50,duration:1,ease:"power3.out"}).from(".hero-subtext",{opacity:0,y:30,duration:.8,ease:"power3.out"},"-=0.5").from(".hero-cta",{opacity:0,y:20,duration:.6,stagger:.1,ease:"power3.out"},"-=0.3"),Fa.utils.toArray(".reveal").forEach(i=>{Fa.fromTo(i,{opacity:0,y:50},{opacity:1,y:0,duration:.8,ease:"power3.out",scrollTrigger:{trigger:i,start:"top 80%",end:"bottom 20%",toggleActions:"play none none reverse"}})}),Fa.utils.toArray(".card-grid").forEach(i=>{const s=i.querySelectorAll(".card-item");Fa.fromTo(s,{opacity:0,y:30},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power3.out",scrollTrigger:{trigger:i,start:"top 80%",toggleActions:"play none none reverse"}})}),Fa.to(".pulse-btn",{scale:1.05,duration:1,repeat:-1,yoyo:!0,ease:"power2.inOut"}),()=>{er.getAll().forEach(i=>i.kill())}),[]),C.useEffect(()=>{let n=!0;return fetch("/FAQ.md").then(i=>i.text()).then(i=>{n&&e(i)}).catch(()=>{n&&e(`## FAQ
Content unavailable.`)}),()=>{n=!1}},[]);const t=CZ(r);return l.jsxs("div",{className:"bg-background text-foreground overflow-x-hidden",children:[l.jsxs(Wc,{id:"hero",className:"min-h-[100vh] flex items-center justify-center relative bg-gradient-to-br from-background via-card to-muted pt-20 sm:pt-0",children:[l.jsx(EZ,{}),l.jsx("div",{className:"relative z-10 w-full py-20",children:l.jsxs("div",{className:"text-center max-w-6xl mx-auto",children:[l.jsxs("h1",{className:"hero-headline text-3xl sm:text-4xl lg:text-5xl font-bold mb-6 text-foreground leading-snug sm:leading-tight",children:["Explore New Strategies to Distribute"," ",l.jsx("span",{className:"bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"NFTs"})," ","and"," ",l.jsx("span",{className:"bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Community Rewards"})]}),l.jsx("p",{className:"hero-subtext text-xl sm:text-2xl text-muted-foreground mb-8 max-w-4xl mx-auto leading-relaxed",children:"Transparent whitelist allocations  Inter-community collaboration  Disincentivize mint bots  Earn community trust"}),l.jsxs("div",{className:"hero-cta flex flex-col items-center gap-6 mb-6 sm:mb-12",children:[l.jsx(su,{to:"/app",className:"pulse-btn inline-flex items-center justify-center px-8 py-4 rounded-xl bg-primary text-primary-foreground hover:bg-primary/90 transition-all duration-300 shadow-lg hover:shadow-xl font-semibold text-lg",children:"Launch Your Pool"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[l.jsxs("button",{onClick:()=>document.getElementById("video-demo").scrollIntoView({behavior:"smooth"}),className:"hero-cta inline-flex items-center justify-center px-8 py-4 rounded-xl border-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground transition-all duration-300 font-semibold text-lg",children:[l.jsx(bN,{className:"mr-2 h-5 w-5"}),"Watch Demo"]}),l.jsxs("a",{href:"https://docs.rafflhub.com",target:"_blank",rel:"noopener noreferrer",className:"hero-cta inline-flex items-center justify-center px-8 py-4 rounded-xl border border-muted-foreground text-muted-foreground hover:border-primary hover:text-primary transition-all duration-300 font-semibold",children:[l.jsx(xN,{className:"mr-2 h-5 w-5"}),"Read Documentation"]})]})]}),l.jsxs("div",{className:"hero-cta flex flex-wrap justify-center items-center gap-6 text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qh,{className:"h-4 w-4 text-primary"}),l.jsx("span",{children:"Chainlink VRF Powered"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Br,{className:"h-4 w-4 text-primary"}),l.jsx("span",{children:"Fairness Guaranteed"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(EB,{className:"h-4 w-4 text-primary"}),l.jsx("span",{children:"Fully Transparent"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(jB,{className:"h-4 w-4 text-primary"}),l.jsx("span",{children:"Trustless"})]})]})]})})]}),l.jsxs(Wc,{id:"problem",className:"py-20 bg-card",children:[l.jsx("div",{className:"reveal",children:l.jsx(Rh,{title:"The End of Opaque Whitelists Allocations, Botted Mints, and Rigged Giveaways",subtitle:"Traditional Web3 distribution methods are broken. Rafflhub fixes them with innovative raffle-based technology."})}),l.jsxs("div",{className:"card-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-16",children:[l.jsxs("div",{className:"card-item bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Qh,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"No More Insider Favoritism"}),l.jsx("p",{className:"text-muted-foreground",children:"Cryptographically secure randomness ensures every participant has an equal chance"})]}),l.jsxs("div",{className:"card-item bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(_B,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"Discourage Bot Attacks"}),l.jsx("p",{className:"text-muted-foreground",children:"The Winner selection algorithm largely disincentivizes bot manipulation during NFT Drops"})]}),l.jsxs("div",{className:"card-item bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(nf,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"Build Community Trust"}),l.jsx("p",{className:"text-muted-foreground",children:"Transparent, verifiable processes that communities can audit and trust"})]}),l.jsxs("div",{className:"card-item bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Hw,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"Automated Prize Distribution"}),l.jsx("p",{className:"text-muted-foreground",children:"Smart contracts handle prize distribution without need for manual intervention"})]})]})]}),l.jsxs(Wc,{id:"how-it-works",className:"py-20 bg-card",children:[l.jsx("div",{className:"reveal",children:l.jsx(Rh,{title:"How It Works",subtitle:"Three simple steps to create provably fair raffles that your community will trust"})}),l.jsx("div",{className:"card-grid mt-16",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"hidden lg:block absolute top-24 left-0 right-0 h-0.5 bg-primary/20"}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 lg:gap-12",children:[l.jsx("div",{className:"card-item relative",children:l.jsxs("div",{className:"bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-6 relative z-10",children:l.jsx("span",{className:"text-2xl font-bold text-primary-foreground",children:"1"})}),l.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground",children:"Create Raffle"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Set raffle parameters - participation limits, start time, duration, number of winners, and prizes."}),l.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-primary",children:[l.jsx(LB,{className:"h-4 w-4"}),l.jsx("span",{children:"Flexible Configuration"})]})]})}),l.jsx("div",{className:"card-item relative",children:l.jsxs("div",{className:"bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-6 relative z-10",children:l.jsx("span",{className:"text-2xl font-bold text-primary-foreground",children:"2"})}),l.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground",children:"Chainlink VRF"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Verifiable randomness ensures fair winner selection. Every draw is cryptographically secure and auditable."}),l.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-primary",children:[l.jsx(MB,{className:"h-4 w-4"}),l.jsx("span",{children:"Provably Fair"})]})]})}),l.jsx("div",{className:"card-item relative",children:l.jsxs("div",{className:"bg-background rounded-2xl p-8 text-center hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-6 relative z-10",children:l.jsx("span",{className:"text-2xl font-bold text-primary-foreground",children:"3"})}),l.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground",children:"Automatic Distribution"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Winners claim prizes directly from smart contracts. No manual intervention or trust required."}),l.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-primary",children:[l.jsx(bP,{className:"h-4 w-4"}),l.jsx("span",{children:"Instant Claims"})]})]})})]})]})})]}),l.jsxs(Wc,{id:"video-demo",className:"py-20 bg-background",children:[l.jsx("div",{className:"reveal",children:l.jsx(Rh,{title:"Watch Rafflhub in Action"})}),l.jsx("div",{className:"reveal mt-12",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx("div",{className:"relative aspect-video rounded-2xl overflow-hidden shadow-2xl bg-primary/5 border border-border",children:l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-primary/10 to-primary/5",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-24 h-24 bg-primary rounded-full flex items-center justify-center mx-auto mb-4 hover:scale-110 transition-transform cursor-pointer",children:l.jsx(bN,{className:"h-12 w-12 text-primary-foreground ml-1"})}),l.jsx("p",{className:"text-foreground font-semibold",children:"Video Coming Soon"}),l.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:"Complete walkthrough of the Rafflhub platform"})]})})})})})]}),l.jsxs(Wc,{id:"use-cases",className:"py-20 bg-background",children:[l.jsx("div",{className:"reveal",children:l.jsx(Rh,{title:"Built for Web3 Communities",subtitle:"Whether you're launching NFTs, rewarding holders, or building engagement"})}),l.jsxs("div",{className:"card-grid grid grid-cols-1 lg:grid-cols-3 gap-8 mt-16",children:[l.jsxs("div",{className:"card-item bg-card rounded-2xl p-8 hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-6",children:l.jsx(OB,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground",children:"For Projects"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:"Fair whitelist distribution for new mints. Eliminate gas wars and ensure equal opportunity for all community members."}),l.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(Br,{className:"h-4 w-4 text-primary"}),l.jsx("span",{children:"Supports ERC721 & ERC1155 standards"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(Br,{className:"h-4 w-4 text-primary"}),l.jsx("span",{children:"Flexible launch strategies"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(Br,{className:"h-4 w-4 text-primary"}),l.jsx("span",{children:"Inter-community collabs simplified"})]})]})]}),l.jsxs("div",{className:"card-item bg-card rounded-2xl p-8 hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-6",children:l.jsx(_P,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground",children:"For Influencers/KOLs"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:"Trusted giveaways that protect your reputation. Build authentic engagement with provably fair mechanics."}),l.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(Br,{className:"h-4 w-4 text-primary"}),l.jsx("span",{children:"Build reputation and trust"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(Br,{className:"h-4 w-4 text-primary"}),l.jsx("span",{children:"Flexible prize options for community rewards"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(Br,{className:"h-4 w-4 text-primary"}),l.jsx("span",{children:"Project collabs made easy"})]})]})]}),l.jsxs("div",{className:"card-item bg-card rounded-2xl p-8 hover:shadow-xl transition-all duration-300 border border-border",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-6",children:l.jsx(Fw,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground",children:"For Creators"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:"Transparent distribution of rewards to holders of CCM tokens by creators."}),l.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(Br,{className:"h-4 w-4 text-primary"}),l.jsx("span",{children:"Token-gated raffles for holder rewards"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(Br,{className:"h-4 w-4 text-primary"}),l.jsx("span",{children:"Flexible prize options for holder rewards"})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(Br,{className:"h-4 w-4 text-primary"}),l.jsx("span",{children:"Easy collabs with projects and other creators"})]})]})]})]})]}),l.jsxs(Wc,{id:"faq",className:"py-20 bg-background",children:[l.jsx("div",{className:"reveal",children:l.jsx(Rh,{title:"Frequently Asked Questions"})}),l.jsx("div",{className:"reveal max-w-4xl mx-auto mt-12",children:l.jsx(vZ,{type:"single",collapsible:!0,className:"space-y-4",children:t.map((n,i)=>l.jsxs(bZ,{value:`item-${i}`,className:"rounded-2xl border border-border bg-card overflow-hidden",children:[l.jsx(wZ,{children:l.jsxs(kZ,{className:"w-full p-6 flex items-center justify-between text-left font-semibold hover:bg-primary/5 transition-colors group",children:[l.jsx("span",{className:"pr-4 text-foreground group-hover:text-primary",children:n.q}),l.jsx(Ya,{className:"h-5 w-5 shrink-0 transition-transform duration-200 data-[state=open]:rotate-180 text-primary"})]})}),l.jsx(_Z,{className:"px-6 pb-6 pt-2 border-t border-border overflow-hidden data-[state=open]:animate-slideDown data-[state=closed]:animate-slideUp",children:l.jsx(WJ,{remarkPlugins:[nZ],components:{p:s=>l.jsx("p",{className:"text-muted-foreground mb-3 leading-relaxed",...s}),li:s=>l.jsx("li",{className:"list-disc ml-5 text-muted-foreground mb-1",...s}),strong:s=>l.jsx("strong",{className:"text-primary font-semibold",...s}),a:s=>l.jsx("a",{className:"text-primary underline hover:text-primary/80",...s})},children:n.aMd})})]},i))})})]}),l.jsx(Wc,{id:"final-cta",className:"py-20 bg-gradient-to-br from-primary to-primary/80 text-primary-foreground",children:l.jsxs("div",{className:"reveal text-center",children:[l.jsx("h2",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold mb-6",children:"Ready to Build Community Trust?"}),l.jsx("p",{className:"text-xl sm:text-2xl mb-8 opacity-90 max-w-3xl mx-auto",children:"Deploy Your First Raffle - No Code Required"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[l.jsx(su,{to:"/app",className:"pulse-btn inline-flex items-center justify-center px-10 py-5 rounded-xl bg-background text-foreground hover:bg-card transition-all duration-300 shadow-lg hover:shadow-xl font-bold text-xl",children:"Launch Your Raffle Now"}),l.jsxs("a",{href:"https://rafflhub.gitbook.io/rafflhub",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center px-10 py-5 rounded-xl border-2 border-primary-foreground text-primary-foreground hover:bg-primary-foreground hover:text-primary transition-all duration-300 font-bold text-xl",children:[l.jsx(xN,{className:"mr-3 h-6 w-6"}),"View Documentation"]})]}),l.jsxs("div",{className:"mt-8 flex flex-wrap justify-center items-center gap-6 text-sm opacity-75",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(DB,{className:"h-4 w-4"}),l.jsx("span",{children:"Permissionless"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qh,{className:"h-4 w-4"}),l.jsx("span",{children:"Secure"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Hw,{className:"h-4 w-4"}),l.jsx("span",{children:"Deploy in minutes"})]})]})]})})]})}const Nn=()=>{const{chainId:r,networkInfo:e}=ur(),t=C.useMemo(()=>(e==null?void 0:e.nativeCurrency)||{symbol:"ETH",name:"Ether",decimals:18},[e]),n=C.useMemo(()=>(y,m={})=>{const{showSymbol:b=!0,decimals:x=4,fallbackSymbol:w=t.symbol}=m;if(y==null||y==="")return b?`0 ${t.symbol}`:"0";try{let A;de.isBigNumber(y)?A=Ii(y):typeof y=="string"?/^0x/i.test(y)||/^[0-9]+$/.test(y)?A=Ii(y):A=y:typeof y=="number"?A=y.toString():A=Ii(y);const P=parseFloat(A);let I;if(!isFinite(P)||isNaN(P))I="0";else if(P===0)I="0";else if(P<Math.pow(10,-x)){const T=Math.max(x,8);I=P.toFixed(T),I=I.replace(/\.?0+$/,""),(I==="0"||I==="")&&(I=P.toFixed(T))}else I=P.toFixed(x),P>=.01&&(I=I.replace(/\.?0+$/,""));return b?`${I} ${t.symbol}`:I}catch(A){return console.warn("Error formatting amount:",A),b?`0 ${w}`:"0"}},[t.symbol]),i=C.useMemo(()=>y=>n(y,{decimals:8}),[n]),s=C.useMemo(()=>y=>n(y,{decimals:6}),[n]),o=C.useMemo(()=>y=>n(y,{decimals:6}),[n]),a=C.useMemo(()=>()=>t.symbol,[t.symbol]),u=C.useMemo(()=>()=>t,[t]),d=C.useMemo(()=>t.symbol==="ETH",[t.symbol]),h=C.useMemo(()=>t.symbol==="AVAX",[t.symbol]),p=C.useMemo(()=>(y="general")=>{switch(y){case"ticket":return`Slot Fee (${t.symbol})`;case"prize":return`Prize Amount (${t.symbol})`;case"revenue":return`Revenue (${t.symbol})`;case"amount":return`Amount (${t.symbol})`;default:return t.symbol}},[t.symbol]);return{nativeCurrency:t,getCurrencyInfo:u,getCurrencySymbol:a,getCurrencyLabel:p,formatAmount:n,formatSlotFee:i,formatPrizeAmount:s,formatRevenueAmount:o,isEthNetwork:d,isAvaxNetwork:h,chainId:r,networkName:(e==null?void 0:e.name)||"Unknown Network"}},mf=({size:r="default",className:e="",text:t="",showText:n=!0})=>{const i={sm:"h-4 w-4",default:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"};return l.jsx("div",{className:ct("flex items-center justify-center",e),children:l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(Bd,{className:ct("animate-spin text-primary",i[r])}),n&&t&&l.jsx("p",{className:"text-sm text-muted-foreground",children:t})]})})},c5=({message:r="Loading...",isMobile:e=!1,showProgress:t=!1,progress:n=0,maxProgress:i=100})=>l.jsx("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center bg-background",children:l.jsxs("div",{className:"text-center space-y-4 px-4",children:[l.jsx(mf,{size:e?"lg":"xl",text:r,showText:!0}),t&&l.jsxs("div",{className:"w-64 max-w-full mx-auto",children:[l.jsx("div",{className:"bg-muted rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${n/i*100}%`}})}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[n," / ",i]})]})]})}),n2=({error:r,onRetry:e,isMobile:t=!1,showCreateButton:n=!0})=>{const i=Do(),s=d=>{switch(d){case"CONTRACTS_NOT_AVAILABLE":return{title:"Network Not Supported",message:"Rafflhub is not available on this network. Check back soon!",icon:l.jsx(wr,{className:"h-8 w-8 text-orange-500"}),showRetry:!1,showCreate:!1};case"NO_RAFFLES_FOUND":return{title:"No Pools Found",message:"No Pools are found on this network! Be the first user to create a Pool.",icon:l.jsx(wr,{className:"h-8 w-8 text-blue-500"}),showRetry:!0,showCreate:!0};case"RATE_LIMIT":return{title:"Rate Limit Exceeded",message:"Too many requests. Please wait a moment and try again.",icon:l.jsx(wr,{className:"h-8 w-8 text-yellow-500"}),showRetry:!0,showCreate:!1};case"TIMEOUT":return{title:"Request Timeout",message:"Request timed out. Please check your connection and try again.",icon:l.jsx(wr,{className:"h-8 w-8 text-red-500"}),showRetry:!0,showCreate:!1};case"NETWORK_ERROR":default:return{title:"Network Error",message:"Unable to connect to the blockchain. Please check your connection and try again.",icon:l.jsx(wr,{className:"h-8 w-8 text-red-500"}),showRetry:!0,showCreate:!1}}},o=()=>{i("/create-raffle")},a=typeof r=="string"?r:(r==null?void 0:r.message)||"NETWORK_ERROR",u=s(a);return l.jsx("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:l.jsxs("div",{className:"text-center max-w-md mx-auto",children:[l.jsx("div",{className:"flex justify-center mb-4",children:u.icon}),l.jsx("h3",{className:`font-semibold mb-3 ${t?"text-lg":"text-xl"}`,children:u.title}),l.jsx("p",{className:`text-muted-foreground mb-6 ${t?"text-sm":"text-base"}`,children:u.message}),l.jsxs("div",{className:`flex gap-3 ${t?"flex-col":"flex-row justify-center"}`,children:[u.showRetry&&e&&l.jsxs(ut,{onClick:e,variant:"outline",className:`${t?"w-full":""}`,children:[l.jsx(tf,{className:"h-4 w-4 mr-2"}),"Try Again"]}),u.showCreate&&n&&l.jsx(ut,{onClick:o,className:`${t?"w-full":""}`,children:"Create Pool"})]})]})})},u5=r=>({0:"pending",1:"active",2:"ended",3:"drawing",4:"completed",5:"deleted",6:"activation_failed",7:"all_prizes_claimed",8:"unengaged"})[r]||"ended",d5=r=>r.isExternallyPrized?"nft_collab":r.isPrized?"prized":"non_prized",f5=r=>r.isPrized?r.nativePrizeAmount&&r.nativePrizeAmount.gt&&r.nativePrizeAmount.gt(0)?"native":r.erc20PrizeToken&&r.erc20PrizeToken!==He&&r.erc20PrizeAmount&&r.erc20PrizeAmount.gt&&r.erc20PrizeAmount.gt(0)?"erc20":r.prizeCollection&&r.prizeCollection!==He?"nft":"token_giveaway":null,h5=r=>{if(!r.isPrized)return[];const e=[];return r.nativePrizeAmount&&r.nativePrizeAmount.gt&&r.nativePrizeAmount.gt(0)&&e.push("native"),r.erc20PrizeToken&&r.erc20PrizeToken!==He&&r.erc20PrizeAmount&&r.erc20PrizeAmount.gt&&r.erc20PrizeAmount.gt(0)&&e.push("erc20"),r.prizeCollection&&r.prizeCollection!==He&&(r.standard===0?e.push("erc721"):r.standard===1&&e.push("erc1155")),e},NZ=(r,e)=>!r||r.length===0?[]:r.filter(n=>{if(e.raffleState&&e.raffleState.length>0){const i=u5(n.stateNum);if(!e.raffleState.includes(i))return!1}if(e.raffleType&&e.raffleType.length>0){const i=d5(n);if(!e.raffleType.includes(i))return!1}if(e.prizeType&&e.prizeType.length>0){if(!n.isPrized)return!1;const i=f5(n);if(!e.prizeType.includes(i))return!1}if(e.prizeStandard&&e.prizeStandard.length>0){if(!n.isPrized)return!1;const i=h5(n);if(!e.prizeStandard.some(o=>i.includes(o)))return!1}return!0}),TZ=r=>{if(!r||r.length===0)return{raffleState:{},raffleType:{},prizeType:{},prizeStandard:{}};const e={raffleState:{},raffleType:{},prizeType:{},prizeStandard:{}};return r.forEach(t=>{const n=u5(t.stateNum);e.raffleState[n]=(e.raffleState[n]||0)+1;const i=d5(t);if(e.raffleType[i]=(e.raffleType[i]||0)+1,t.isPrized){const s=f5(t);s&&(e.prizeType[s]=(e.prizeType[s]||0)+1),h5(t).forEach(a=>{e.prizeStandard[a]=(e.prizeStandard[a]||0)+1})}}),e},kA=()=>({raffleState:[],raffleType:[],prizeType:[],prizeStandard:[]}),pw=r=>Object.values(r).every(e=>!e||e.length===0),AZ=({onFilterChange:r,hasActiveFilters:e=!1,className:t=""})=>{const n=[{label:"Active",icon:Sp,filters:{raffleState:["active"]},description:"Currently running raffles"},{label:"Pending",icon:nf,filters:{raffleState:["pending"]},description:"Raffles starting soon"},{label:"NFT Prizes",icon:ou,filters:{raffleType:["prized"],prizeType:["nft"]},description:"Raffles with NFT prizes"},{label:"Whitelist",icon:rf,filters:{raffleType:["non_prized"]},description:"Whitelist/Allowlist raffles"}],i=o=>{r(o)},s=()=>{r({raffleState:[],raffleType:[],prizeType:[],prizeStandard:[]})};return l.jsxs("div",{className:`space-y-2 sm:space-y-3 ${t}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Quick Filters"}),e&&l.jsx(ut,{variant:"ghost",size:"sm",onClick:s,className:"text-xs h-5 sm:h-6 px-1.5 sm:px-2",children:"Clear"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-1.5 sm:gap-2",children:n.map(o=>{const a=o.icon,u=["Active","Pending","NFT Prizes","Whitelist"].includes(o.label);return l.jsxs(ut,{variant:"outline",size:"sm",onClick:()=>i(o.filters),className:`flex items-center justify-start gap-1.5 sm:gap-2 h-auto p-2 sm:p-3 text-left ${u?"border border-[#614E41] hover:bg-transparent":""}`,title:o.description,children:[l.jsx(a,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),l.jsx("span",{className:"text-xs font-medium",children:o.label})]},o.label)})})]})},jZ=`
  @media (max-width: 640px) {
    .mobile-checkbox-radio {
      width: 12px !important;
      height: 12px !important;
      min-width: 12px !important;
      min-height: 12px !important;
      max-width: 12px !important;
      max-height: 12px !important;
    }
  }
`,PZ=()=>{const[r,e]=C.useState({top:56,height:56});return C.useEffect(()=>{const t=document.querySelector("header"),n=t?t.getBoundingClientRect().height:56,i=()=>window.matchMedia&&window.matchMedia("(max-width: 640px)").matches,s=()=>{const o=window.scrollY||window.pageYOffset||0;i()?e({top:n,height:window.innerHeight-n}):o>=n?e({top:0,height:window.innerHeight}):e({top:n-o,height:window.innerHeight-(n-o)})};return s(),window.addEventListener("scroll",s,{passive:!0}),window.addEventListener("resize",s),()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}},[]),r},RZ=({isOpen:r,onToggle:e,filters:t,onFiltersChange:n,raffleCount:i=0,allRaffles:s=[],className:o=""})=>{const{countEnhancedRaffleTypes:a}=Sk(),{getCurrencySymbol:u}=Nn(),d=PZ(),[h,p]=C.useState({raffleState:!0,raffleType:!0,prizeType:!0,prizeStandard:!0}),y=C.useMemo(()=>{const I=TZ(s),T=a(s);return{...I,raffleType:T}},[s,a]),m=C.useMemo(()=>({raffleState:[{value:"pending",label:"Pending",count:y.raffleState.pending||0},{value:"active",label:"Active",count:y.raffleState.active||0},{value:"ended",label:"Ended",count:y.raffleState.ended||0},{value:"drawing",label:"Drawing",count:y.raffleState.drawing||0},{value:"completed",label:"Completed",count:y.raffleState.completed||0},{value:"deleted",label:"Deleted",count:y.raffleState.deleted||0},{value:"activation_failed",label:"Activation Failed",count:y.raffleState.activation_failed||0},{value:"all_prizes_claimed",label:"Prizes Claimed",count:y.raffleState.all_prizes_claimed||0},{value:"unengaged",label:"Unengaged",count:y.raffleState.unengaged||0}],raffleType:[{value:"non_prized",label:"Whitelist",count:y.raffleType.non_prized||0},{value:"prized",label:"Prized",count:y.raffleType.prized||0},{value:"nft_collab",label:"NFT Collab",count:y.raffleType.nft_collab||0},{value:"whitelist_collab",label:"Whitelist Collab",count:y.raffleType.whitelist_collab||0}],prizeType:[{value:"nft",label:"NFT",count:y.prizeType.nft||0},{value:"erc20",label:"ERC20 Token",count:y.prizeType.erc20||0},{value:"native",label:u(),count:y.prizeType.native||0},{value:"token_giveaway",label:"Token Giveaway",count:y.prizeType.token_giveaway||0}],prizeStandard:[{value:"erc721",label:"ERC721",count:y.prizeStandard.erc721||0},{value:"erc1155",label:"ERC1155",count:y.prizeStandard.erc1155||0},{value:"erc20",label:"ERC20",count:y.prizeStandard.erc20||0},{value:"native",label:u(),count:y.prizeStandard.native||0}]}),[y,u]),b=C.useCallback(I=>{p(T=>({...T,[I]:!T[I]}))},[]),x=C.useCallback((I,T,U)=>{const B={...t};I==="raffleType"?B[I]=U?[T]:[]:(B[I]||(B[I]=[]),U?B[I]=[...B[I],T]:B[I]=B[I].filter(H=>H!==T)),n(B)},[t,n]),w=C.useCallback(()=>{n({raffleState:[],raffleType:[],prizeType:[],prizeStandard:[]})},[n]),A=C.useMemo(()=>Object.values(t).some(I=>I.length>0),[t]),P=C.useCallback((I,T,U)=>{var V;const B=h[T],H=T==="raffleType",W=(T==="prizeType"||T==="prizeStandard")&&!((V=t.raffleType)!=null&&V.includes("prized"));return l.jsxs("div",{className:"border-b border-border/30 last:border-b-0",children:[l.jsxs("button",{onClick:()=>b(T),className:"w-full flex items-center justify-between p-3 sm:p-4 text-left hover:bg-muted/50 transition-colors",disabled:W,style:T==="raffleState"||T==="raffleType"||T==="prizeType"||T==="prizeStandard"?{border:"1px solid #614E41"}:void 0,children:[l.jsx("span",{className:`text-sm sm:text-base font-medium ${W?"text-muted-foreground":""}`,children:I}),B?l.jsx(ef,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"}):l.jsx(Ya,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"})]}),B&&!W&&l.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4 space-y-1 sm:space-y-2",children:U.map(K=>{var D;const q=((D=t[T])==null?void 0:D.includes(K.value))||!1;return l.jsxs("label",{className:"flex items-center space-x-2 sm:space-x-3 cursor-pointer hover:bg-muted/30 p-1.5 sm:p-2 rounded-md transition-colors",children:[l.jsx("input",{type:H?"radio":"checkbox",name:H?T:void 0,checked:q,onChange:v=>x(T,K.value,v.target.checked),className:`mobile-checkbox-radio ${H?"h-3 w-3 sm:h-4 sm:w-4 text-primary bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-full focus:ring-0 focus:outline-none checked:bg-primary checked:border-primary appearance-none relative"+(q?' after:content-[""] after:absolute after:top-1/2 after:left-1/2 after:transform after:-translate-x-1/2 after:-translate-y-1/2 after:w-1 after:h-1 sm:after:w-1.5 sm:after:h-1.5 after:bg-white after:rounded-full':""):"h-3 w-3 sm:h-4 sm:w-4 text-primary accent-primary bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded focus:ring-1 focus:ring-primary focus:ring-offset-0 checked:bg-primary checked:border-primary"}`,style:H?{minHeight:"12px",minWidth:"12px",maxHeight:"12px",maxWidth:"12px"}:{minHeight:"12px",minWidth:"12px",maxHeight:"12px",maxWidth:"12px"}}),l.jsx("span",{className:"flex-1 text-xs sm:text-sm leading-tight",children:K.label}),K.count>0&&l.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full",children:K.count})]},K.value)})})]},T)},[h,t,x,b]);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:jZ}}),r&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-30",onClick:e}),l.jsxs("div",{style:{top:d.top,height:d.height},className:`
        fixed left-0
        w-72 sm:w-80 md:w-96
        bg-background border-r border-border
        transform transition-transform duration-300 ease-in-out
        z-40
        flex flex-col
        ${r?"translate-x-0":"-translate-x-full"}
        ${o}
      `,children:[l.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between p-3 sm:p-4 border-b border-border bg-muted/80 backdrop-blur supports-[backdrop-filter]:bg-muted/60",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Tk,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),l.jsx("h2",{className:"font-semibold text-base sm:text-lg",children:"Filter Raffles"})]}),l.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[A&&l.jsx(ut,{variant:"ghost",size:"sm",onClick:w,className:"text-xs px-2 sm:px-3 h-7 sm:h-8 hover:bg-destructive/10 hover:text-destructive",children:"Clear All"}),l.jsx(ut,{variant:"ghost",size:"sm",onClick:e,className:"hover:bg-muted h-7 w-7 sm:h-8 sm:w-8 p-0",title:"Close filters",children:l.jsx(jk,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})]})]}),l.jsx("div",{className:"p-3 sm:p-4 bg-muted/30",children:l.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["Showing ",l.jsx("span",{className:"font-medium text-foreground",children:i})," raffles"]})}),l.jsx("div",{className:"p-3 sm:p-4 border-b border-border/30",children:l.jsx(AZ,{onFilterChange:n,hasActiveFilters:A})}),l.jsxs("div",{className:"flex-1 overflow-y-auto",children:[P("Raffle State","raffleState",m.raffleState),P("Raffle Type","raffleType",m.raffleType),P("Prize Type","prizeType",m.prizeType),P("Prize Standard","prizeStandard",m.prizeStandard)]})]})]})},IZ=({onClick:r,hasActiveFilters:e=!1,className:t="",variant:n="outline",size:i="default"})=>{const{isLight:s,isDark:o,isDimBlue:a}=Oy(),u=s?"bg-[#614E41] text-white hover:bg-[#4a3a30]":o||a?"bg-[#F5E9DC] text-[#0A0A0A] hover:bg-[#e7d8c7]":"";return l.jsxs(ut,{variant:e?"default":n,size:i,onClick:r,className:`
        relative flex items-center gap-2 border-0
        ${e?"bg-primary text-primary-foreground hover:bg-primary/90":""}
        ${u}
        ${t}
      `,children:[l.jsx(Tk,{className:"h-4 w-4"}),l.jsx("span",{className:"font-medium",children:e?"Filters Applied":"Filter Raffles"}),e&&l.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs bg-primary-foreground/20 rounded-full",children:"Active"})]})},MZ=({raffles:r=[],loading:e=!1,error:t=null,RaffleCardComponent:n,emptyMessage:i="No raffles found matching your filters.",className:s="",totalCount:o,showCount:a=!0})=>e?l.jsx("div",{className:`space-y-6 ${s}`,children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((u,d)=>l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-6 shadow-lg animate-pulse",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-muted rounded w-1/2"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"h-3 bg-muted rounded"}),l.jsx("div",{className:"h-3 bg-muted rounded w-5/6"})]}),l.jsx("div",{className:"h-10 bg-muted rounded"})]})},d))})}):t?l.jsx("div",{className:s,children:l.jsx(n2,{error:t,onRetry:null,showCreateButton:!0})}):!r||r.length===0?l.jsx("div",{className:`flex flex-col items-center justify-center py-12 ${s}`,children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"w-16 h-16 mx-auto bg-muted/20 rounded-full flex items-center justify-center",children:l.jsx(ou,{className:"w-8 h-8 text-muted-foreground"})}),l.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"No Raffles Found"}),l.jsx("p",{className:"text-muted-foreground max-w-md",children:i})]})}):l.jsxs("div",{className:`space-y-6 ${s}`,children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h2",{className:"text-xl font-semibold",children:a?`${typeof o=="number"?o:r.length} ${(typeof o=="number"?o:r.length)===1?"Raffle":"Raffles"} Found`:"Raffles Found"})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(u=>l.jsx(n,{raffle:u},u.id||u.address))})]}),OZ=(r=[])=>{const{filterByEnhancedType:e}=Sk(),[t,n]=C.useState(kA()),[i,s]=C.useState(!1),o=C.useMemo(()=>{if(pw(t))return r;let A=r;t.raffleType&&t.raffleType.length>0&&(A=e(A,t.raffleType));const P={...t,raffleType:[]};return pw(P)||(A=NZ(A,P)),A},[r,t,e]),a=C.useMemo(()=>!pw(t),[t]),u=C.useCallback(A=>{n(A)},[]),d=C.useCallback(()=>{n(kA())},[]),h=C.useCallback(()=>{s(A=>!A)},[]),p=C.useCallback(()=>{s(!0)},[]),y=C.useCallback(()=>{s(!1)},[]),m=C.useCallback(A=>{n(P=>({...P,raffleState:Array.isArray(A)?A:[A]}))},[]),b=C.useCallback(A=>{n(P=>({...P,raffleType:[A]}))},[]),x=C.useCallback(A=>{n(P=>({...P,prizeType:Array.isArray(A)?A:[A]}))},[]),w=C.useCallback(A=>{n(P=>({...P,prizeStandard:Array.isArray(A)?A:[A]}))},[]);return{filters:t,filteredRaffles:o,isFilterOpen:i,hasActiveFilters:a,updateFilters:u,clearFilters:d,toggleFilter:h,openFilter:p,closeFilter:y,filterByState:m,filterByType:b,filterByPrizeType:x,filterByPrizeStandard:w,totalRaffles:r.length,filteredCount:o.length}},DZ=({initialCount:r=12,cacheTTLms:e=120*1e3,useCache:t=!0}={})=>{const{chainId:n,provider:i}=ur(),[s,o]=C.useState([]),[a,u]=C.useState(!1),[d,h]=C.useState(null),[p,y]=C.useState(null),m=C.useRef(!0),b=C.useMemo(()=>n?`raffle_summaries_${n}`:null,[n]),x=C.useMemo(()=>{var D;if(i)return i;if(n&&((D=$t[n])!=null&&D.rpcUrl))try{return new Zd($t[n].rpcUrl)}catch{}return null},[i,n]),w=C.useCallback(()=>{var D,v;return n&&((v=(D=$t[n])==null?void 0:D.contractAddresses)==null?void 0:v.protocolManager)},[n]),A=C.useCallback(()=>{if(!t||!b)return null;try{const D=localStorage.getItem(b);if(!D)return null;const v=JSON.parse(D);return!(v!=null&&v.timestamp)||!Array.isArray(v==null?void 0:v.summaries)||Date.now()-v.timestamp>e?null:v.summaries}catch{return null}},[b,e,t]),P=C.useCallback(D=>{if(!(!t||!b))try{localStorage.setItem(b,JSON.stringify({timestamp:Date.now(),summaries:D}))}catch{}},[b,t]),I=C.useCallback(async()=>{const D=w();if(!D||!x)throw new Error("ProtocolManager not available");const _=(await new At(D,gt.protocolManager,x).getAllPools()||[]).slice().reverse();return m.current&&y(_.length),_},[w,x]),T=(D,v)=>{let S;return Promise.race([D.finally(()=>clearTimeout(S)),new Promise((_,j)=>S=setTimeout(()=>j(new Error("timeout")),v))])},U=C.useCallback((D,{name:v,startTime:S,duration:_,slotFee:j,ticketLimit:O,winnersCount:z,stateNum:E})=>({id:D,address:D,chainId:n,name:v,startTime:S!=null&&S.toNumber?S.toNumber():Number(S||0),duration:_!=null&&_.toNumber?_.toNumber():Number(_||0),slotFee:j,ticketLimit:O!=null&&O.toNumber?O.toNumber():Number(O||0),winnersCount:z!=null&&z.toNumber?z.toNumber():Number(z||0),stateNum:(()=>{if(E!=null&&E.toNumber)return E.toNumber();if(E===0)return 0;if(typeof E=="number")return E;if(E==null)return 5;const M=Number(E);return Number.isFinite(M)?M:5})(),isSummary:!0}),[n]),B="0xca11bde05977b3631167028862be2a173976ca11",H=[{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bool",name:"allowFailure",type:"bool"},{internalType:"bytes",name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"}],G=C.useCallback(async()=>{if(!x)return!1;try{const D=await x.getCode(B);return D&&D!=="0x"}catch{return!1}},[x]),W=C.useCallback(async D=>{const v=new Iw(gt.pool),S=[];for(const E of D)S.push({target:E,allowFailure:!0,callData:v.encodeFunctionData("name",[])},{target:E,allowFailure:!0,callData:v.encodeFunctionData("startTime",[])},{target:E,allowFailure:!0,callData:v.encodeFunctionData("duration",[])},{target:E,allowFailure:!0,callData:v.encodeFunctionData("slotFee",[])},{target:E,allowFailure:!0,callData:v.encodeFunctionData("ticketLimit",[])},{target:E,allowFailure:!0,callData:v.encodeFunctionData("winnersCount",[])},{target:E,allowFailure:!0,callData:v.encodeFunctionData("state",[])});const j=await new At(B,H,x).callStatic.aggregate3(S,{value:0}),O=7,z=[];for(let E=0;E<D.length;E++){const M=E*O,N=(ne,ue)=>{const xe=j[M+ne];if(!xe||!xe.success)return null;try{return v.decodeFunctionResult(ue,xe.returnData)[0]}catch{return null}},R=N(0,"name")||"Raffle",X=N(1,"startTime")||de.from(0),$=N(2,"duration")||de.from(0),Y=N(3,"slotFee")||de.from(0),Q=N(4,"ticketLimit")||de.from(0),Z=N(5,"winnersCount")||de.from(0);let te=N(6,"state");te==null&&(te=de.from(5));const ce=U(D[E],{name:R,startTime:X,duration:$,slotFee:Y,ticketLimit:Q,winnersCount:Z,stateNum:te});z.push(ce)}return z},[x,U]),V=C.useCallback(async(D,v=8e3)=>{const S=new At(D,gt.pool,x),[_,j,O,z,E,M,N]=await Promise.all([T(S.name(),v).catch(()=>"Raffle"),T(S.startTime(),v).catch(()=>de.from(0)),T(S.duration(),v).catch(()=>de.from(0)),T(S.slotFee(),v).catch(()=>de.from(0)),T(S.ticketLimit(),v).catch(()=>de.from(0)),T(S.winnersCount(),v).catch(()=>de.from(0)),T(S.state(),v).catch(()=>de.from(5))]);return U(D,{name:_,startTime:j,duration:O,slotFee:z,ticketLimit:E,winnersCount:M,stateNum:N})},[x,U]),K=C.useCallback(async()=>{if(!(!n||!x)){u(!0),h(null);try{const v=(await I()).slice(0,Math.max(1,r));let S=[];try{await G()&&(S=await W(v))}catch{}if(!S||S.length===0){const _=[];let O=0;async function z(){if(O>=v.length)return;const M=O++;try{const N=await V(v[M]);N&&_.push(N)}catch{}await z()}const E=Array.from({length:Math.min(3,v.length)},()=>z());await Promise.all(E),S=_}S.sort((_,j)=>v.indexOf(_.address)-v.indexOf(j.address)),m.current&&(o(S),P(S))}catch(D){m.current&&h(D.message||"Failed to load summaries")}finally{m.current&&u(!1)}}},[n,x,r,I,G,W,V,P]),q=C.useCallback(()=>{K()},[K]);return C.useEffect(()=>(m.current=!0,()=>{m.current=!1}),[]),C.useEffect(()=>{if(!n)return;const D=A();D&&D.length&&o(D),K()},[n,A,K]),{summaries:s,loading:a,error:d,refresh:q,totalAvailable:p}},p5=(r,e)=>{const[t,n]=C.useState(0),[i,s]=C.useState(!1),{getContractInstance:o}=Cr();return C.useEffect(()=>{(async()=>{if(!r||e!==4&&e!==7){n(0);return}s(!0);try{const u=o(r,"pool");if(!u){n(0);return}const d=await u.winnersCount(),h=d.toNumber?d.toNumber():Number(d);n(h)}catch(u){console.warn("Failed to fetch winner count for",r,u),n(0)}finally{s(!1)}})()},[r,e,o]),{winnerCount:t,loading:i}},m5=(r,e)=>r===7?e===1?"Prize Claimed":"Prizes Claimed":null,g5=["Pending","Active","Ended","Drawing","Completed","Deleted","ActivationFailed","AllPrizesClaimed","Unengaged"],LZ=({raffle:r})=>{var v;const e=Do(),{chainId:t}=ur(),[n,i]=C.useState(""),[s,o]=C.useState(""),[a,u]=C.useState(""),{getContractInstance:d}=Cr(),{updateCollabStatus:h,setCollabLoading:p,getCollabStatus:y}=Sk(),{formatSlotFee:m,formatPrizeAmount:b,getCurrencySymbol:x}=Nn(),[w,A]=C.useState(null),{winnerCount:P}=p5(r.address,r.stateNum),[I,T]=C.useState(null),[U,B]=C.useState(null),[H,G]=C.useState(null);C.useEffect(()=>{let S;function _(){const z=Math.floor(Date.now()/1e3);let E="",M=0;if(r.stateNum===2||r.stateNum===3||r.stateNum===4||r.stateNum===5||r.stateNum===6||r.stateNum===7||r.stateNum===8){E="Duration";const N=r.actualDuration&&(r.actualDuration.toNumber?r.actualDuration.toNumber():Number(r.actualDuration));M=N&&N>0?N:r.duration,i(E),o(O(M));return}z<r.startTime?(E="Starts In",M=r.startTime-z):(E="Ends In",M=r.startTime+r.duration-z),i(E),o(M>0?j(M):"Ended")}function j(z){const E=Math.floor(z/86400),M=Math.floor(z%86400/3600),N=Math.floor(z%3600/60),R=z%60;let X="";return E>0&&(X+=`${E}d `),(M>0||E>0)&&(X+=`${M}h `),(N>0||M>0||E>0)&&(X+=`${N}m `),X+=`${R}s`,X.trim()}function O(z){const E=Math.floor(z/86400),M=Math.floor(z%86400/3600),N=Math.floor(z%3600/60);let R="";return E>0&&(R+=`${E}d `),(M>0||E>0)&&(R+=`${M}h `),(N>0||M>0||E>0)&&(R+=`${N}m`),R||(R="0m"),R.trim()}return _(),S=setInterval(_,1e3),()=>clearInterval(S)},[r]),C.useEffect(()=>{let S=!0;return(async()=>{if(r.erc20PrizeToken&&r.erc20PrizeToken!==He){if(window.__erc20SymbolCache||(window.__erc20SymbolCache={}),window.__erc20SymbolCache[r.erc20PrizeToken]){u(window.__erc20SymbolCache[r.erc20PrizeToken]);return}await new Promise(j=>setTimeout(j,100));try{const j=window.ethereum?new Kl(window.ethereum):Fd(),O=["function symbol() view returns (string)"],E=await new At(r.erc20PrizeToken,O,j).symbol();S&&(u(E),window.__erc20SymbolCache[r.erc20PrizeToken]=E)}catch{S&&u("TOKEN")}}})(),()=>{S=!1}},[r.erc20PrizeToken]),C.useEffect(()=>{let S=!0;async function _(){try{const j=d&&d(r.address,"pool");if(!j){S&&A(null);return}const O=await gP(j);S&&A(O)}catch{A(null)}}_()},[r.address,d]),C.useEffect(()=>{async function S(){if(!(!r.prizeCollection||r.prizeCollection===He))try{const _=d(r.address,"pool");if(!_)return;const[j,O,z]=await Promise.all([_.isExternallyPrized().catch(()=>null),_.usesCustomFee().catch(()=>null),_.isEscrowedPrize().catch(()=>null)]);G({isExternallyPrized:j,usesCustomFee:O,isEscrowedPrize:z})}catch{}}S()},[r.address,r.prizeCollection,d]),C.useEffect(()=>{(async()=>{if(!r||!r.prizeCollection||r.prizeCollection===He){T(null),B(null);return}try{let _=null,j=null,O=null;if(typeof r.standard<"u"){const z=r.standard===0?"erc721Prize":"erc1155Prize";if(_=d(r.prizeCollection,z),_){try{typeof _.name=="function"&&(j=await _.name())}catch{j=null}try{typeof _.symbol=="function"&&(O=await _.symbol())}catch{O=null}}}else try{if(_=d(r.prizeCollection,"erc721Prize"),_){try{typeof _.name=="function"&&(j=await _.name())}catch{j=null}try{typeof _.symbol=="function"&&(O=await _.symbol())}catch{O=null}}}catch{try{if(_=d(r.prizeCollection,"erc1155Prize"),_){try{typeof _.name=="function"&&(j=await _.name())}catch{j=null}try{typeof _.symbol=="function"&&(O=await _.symbol())}catch{O=null}}}catch{}}T(j),B(O)}catch{T(null),B(null)}})()},[r,d]),C.useEffect(()=>{let S=!0;const _=async()=>{if(y(r.address)!==void 0)return;p(r.address,!0);let O=!1,z=0;const E=3;for(;z<E&&S;)try{const N=d(r.address,"pool");if(!N)throw new Error("Failed to get contract instance");const R=await N.holderTokenAddress();O=R&&R!==He;break}catch{z++,z>=E?O=!1:await new Promise(R=>setTimeout(R,1e3*z))}if(!S)return;let M;r.isExternallyPrized?M="nft_collab":O?M="whitelist_collab":M="not_collab",h(r.address,M)};return r.address&&d?_():h(r.address,"not_collab"),()=>{S=!1}},[r,d,y,p,h]);const W=()=>{const _=(O=>{const z=m5(O,P);return z||g5[O]||"Unknown"})(r.stateNum),j={Pending:"bg-yellow-100 text-yellow-800",Active:"bg-green-100 text-green-800",Ended:"bg-red-100 text-red-800",Drawing:"bg-purple-100 text-purple-800",Completed:"bg-blue-100 text-blue-800",Deleted:"bg-gray-200 text-gray-800","Activation Failed":"bg-red-200 text-red-900","Prizes Claimed":"bg-blue-200 text-blue-900","Prize Claimed":"bg-blue-200 text-blue-900",Unengaged:"bg-gray-100 text-gray-800",Unknown:"bg-gray-100 text-gray-800"};return l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j[_]||j.Unknown}`,children:_})},V=()=>{if(!r.prizeCollection||r.prizeCollection===He)return null;H&&H.isExternallyPrized!==null?H.isExternallyPrized:r.isExternallyPrized;const S=H&&H.usesCustomFee!==null?H.usesCustomFee===!0:r.usesCustomFee===!0,_=H&&H.isEscrowedPrize!==null?H.isEscrowedPrize===!0:r.isEscrowedPrize===!0,j=!_;return _&&S?"Lucky NFT Sale":_&&!S?"NFT Giveaway":j&&!S?"NFT Drop (Free Mint)":j&&S?"NFT Drop (Paid Mint)":"NFT Prize"},K=()=>{if(r.isExternallyPrized)return"NFT Collab";const S=y(r.address);if(S==="nft_collab")return"NFT Collab";if(S==="whitelist_collab")return"Whitelist Collab";if(S===void 0)return"Checking...";if(r.nativePrizeAmount&&r.nativePrizeAmount.gt&&r.nativePrizeAmount.gt(0))return`${x()} Giveaway`;if(r.erc20PrizeToken&&r.erc20PrizeToken!==He&&r.erc20PrizeAmount&&r.erc20PrizeAmount.gt&&r.erc20PrizeAmount.gt(0))return"Token Giveaway";const _=V();return _||(r.isPrized?"Token Giveaway":"Whitelist")},q=()=>r.nativePrizeAmount&&r.nativePrizeAmount.gt&&r.nativePrizeAmount.gt(0)?b(r.nativePrizeAmount):r.erc20PrizeAmount&&r.erc20PrizeAmount.gt&&r.erc20PrizeAmount.gt(0)?`${tm(r.erc20PrizeAmount,18)} ${a||"TOKEN"}`:null,D=()=>{const S=r.chainId||t,_=S&&$t[S]?$t[S].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):S||"",j=_?`/${_}/raffle/${r.address}`:`/raffle/${r.address}`;e(j)};return l.jsxs("div",{className:"landing-raffle-card bg-card/80 text-foreground backdrop-blur-sm border border-border/50 rounded-xl p-4 sm:p-6 shadow-lg hover:shadow-xl hover:border-border/80 transition-all duration-300 flex flex-col h-full group w-full max-w-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 min-w-0",children:[l.jsx("h3",{className:"text-base sm:text-lg font-semibold truncate flex-1 mr-2 min-w-0 cursor-pointer hover:text-[#614E41] transition-colors duration-200",onClick:D,children:r.name}),l.jsx("div",{className:"flex-shrink-0",children:W()})]}),l.jsxs("div",{className:"space-y-2 mb-4 min-w-0",children:[l.jsxs("div",{className:"flex justify-between items-center text-xs sm:text-sm min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Creator:"}),l.jsxs("span",{className:"font-mono truncate ml-2",children:[(v=r.creator)==null?void 0:v.slice(0,10),"..."]})]}),l.jsxs("div",{className:"flex justify-between items-center text-xs sm:text-sm min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Slot Fee:"}),l.jsx("span",{className:"truncate ml-2",children:m(r.slotFee||"0")})]}),l.jsxs("div",{className:"flex justify-between items-center text-xs sm:text-sm min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Slots Sold:"}),l.jsx("span",{className:"truncate ml-2",children:w!==null?`${w} / ${r.slotLimit}`:"Loading..."})]}),l.jsxs("div",{className:"flex justify-between items-center text-xs sm:text-sm min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Winners:"}),l.jsx("span",{className:"truncate ml-2",children:r.winnersCount})]}),l.jsxs("div",{className:"flex justify-between items-center text-xs sm:text-sm min-w-0",children:[l.jsxs("span",{className:"text-muted-foreground flex-shrink-0",children:[n,":"]}),l.jsx("span",{className:"truncate ml-2",children:s})]}),!r.isSummary&&l.jsxs("div",{className:"flex justify-between items-center text-xs sm:text-sm min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Type:"}),l.jsx("span",{className:"px-2 py-1 rounded-full text-xs sm:text-sm bg-muted/20 truncate ml-2",children:K()})]}),(()=>{var O,z,E;if(K(),!(r.prizeCollection&&r.prizeCollection!==He))return null;const _=H&&H.isEscrowedPrize!==null?H.isEscrowedPrize===!0:r.isEscrowedPrize===!0,j=!_;if(_){const M=r.prizeTokenId!==void 0&&r.prizeTokenId!==null?`#${r.prizeTokenId}`:"#Unknown",N=U?`${U} ${M}`:I?`${I} ${M}`:`${(O=r.prizeCollection)==null?void 0:O.slice(0,10)}... ${M}`;return l.jsxs("div",{className:"flex justify-between items-center text-xs sm:text-sm min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Prize Token ID:"}),l.jsx("span",{className:`truncate ml-2 ${U||I?"":"font-mono"}`,children:N})]})}else if(j){const M=I&&I.trim()!=="";r.standard===0||r.standard;const N=r.standard===1,R=N?`${(z=r.prizeCollection)==null?void 0:z.slice(0,10)}...`:M?I:`${(E=r.prizeCollection)==null?void 0:E.slice(0,10)}...`;return l.jsxs("div",{className:"flex justify-between items-center text-xs sm:text-sm min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Prize Collection:"}),l.jsx("span",{className:`truncate ml-2 ${M&&!N?"":"font-mono"}`,children:R})]})}return null})(),(()=>{const S=K();return r.prizeCollection&&r.prizeCollection!==He&&r.isExternallyPrized===!1?null:S==="Token Giveaway"||S.includes("Giveaway")?l.jsxs("div",{className:"flex justify-between items-center text-xs sm:text-sm min-w-0",children:[l.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Prize Amount:"}),l.jsx("span",{className:"truncate ml-2",children:q()})]}):null})()]})]})},zZ=()=>{const{connected:r}=ur(),{isMobile:e}=Wr();Nn();const[t,n]=C.useState(1),{raffles:i,loading:s,error:o,refreshRaffles:a}=U9({autoFetch:!0,enablePolling:!0,pollingInterval:12e4,maxRaffles:null}),{summaries:u,totalAvailable:d}=DZ({initialCount:12}),{filters:h,filteredRaffles:p,isFilterOpen:y,hasActiveFilters:m,updateFilters:b,clearFilters:x,toggleFilter:w,filteredCount:A}=OZ(i);if(C.useEffect(()=>{n(1)},[e,s,i==null?void 0:i.length,p==null?void 0:p.length,u==null?void 0:u.length,m]),!r)return l.jsxs(Va,{className:"py-4",children:[l.jsxs("div",{className:`text-center ${e?"mb-6":"mb-4"}`,children:[l.jsx("h1",{className:`font-bold ${e?"text-2xl mb-3":"text-4xl mb-4"}`,children:"Fairness and Transparency, On-Chain"}),l.jsx("p",{className:`text-muted-foreground max-w-2xl mx-auto ${e?"text-base":"text-xl"}`,children:"Rafflhub is a permissionless platform built to host decentralized, on-chain raffles. All draws are public, auditable, and powered by Chainlink's VRF."})]}),l.jsxs("div",{className:`text-center ${e?"py-8":"py-16"}`,children:[l.jsx(ou,{className:`text-muted-foreground mx-auto mb-4 ${e?"h-12 w-12":"h-16 w-16"}`}),l.jsx("h3",{className:`font-semibold mb-2 ${e?"text-xl":"text-2xl"}`,children:"Connect Your Wallet"}),l.jsx("p",{className:`text-muted-foreground mb-6 ${e?"text-sm":"text-base"}`,children:"Please connect your wallet to view and interact with raffles on the blockchain."})]})]});const P=e&&(u==null?void 0:u.length)>0&&(!i||i.length===0||s);let I=null;if(P)if(!h||!h.raffleState||h.raffleState.length===0)I=u;else{const U=new Set(h.raffleState.map(B=>B.toLowerCase()));I=u.filter(B=>{var G;const H=(G=g5[B.stateNum])==null?void 0:G.toLowerCase();return U.has(H)})}return!P&&s?l.jsx(Va,{children:l.jsx(c5,{message:"Loading raffles from blockchain...",isMobile:e})}):!P&&o?l.jsxs(Va,{className:"py-8",children:[l.jsxs("div",{className:"mb-8 text-center",children:[l.jsx("h1",{className:`font-bold ${e?"text-2xl mb-3":"text-4xl mb-4"}`,children:"Fairness and Transparency, On-Chain"}),l.jsx("p",{className:`text-muted-foreground max-w-2xl mx-auto ${e?"text-base":"text-xl"}`,children:"Rafflhub is a permissionless platform built to host decentralized, on-chain raffles. All draws are public, auditable, and powered by Chainlink's VRF."})]}),l.jsx(n2,{error:o,onRetry:a,isMobile:e,showCreateButton:!0})]}):l.jsxs(l.Fragment,{children:[l.jsx(RZ,{isOpen:y,onToggle:w,filters:h,onFiltersChange:b,raffleCount:A,allRaffles:i}),l.jsx("div",{className:"min-h-screen",style:{position:"relative",zIndex:1},children:l.jsxs(Va,{className:"py-4",children:[l.jsxs("div",{className:`text-center ${e?"mb-6":"mb-8"}`,children:[l.jsx("h1",{className:`font-bold ${e?"text-2xl mb-3":"text-4xl mb-4"}`,children:"Fairness and Transparency, On-Chain"}),l.jsx("p",{className:`text-muted-foreground max-w-2xl mx-auto ${e?"text-base":"text-xl"}`,children:"Rafflhub is a permissionless platform built to host decentralized, on-chain raffles. All draws are public, auditable, and powered by Chainlink's VRF."})]}),l.jsxs("div",{className:"mb-6 flex items-center",children:[l.jsx(IZ,{onClick:w,hasActiveFilters:m}),l.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[m&&l.jsx(ut,{variant:"ghost",size:"sm",onClick:x,className:"text-muted-foreground hover:text-foreground",children:"Clear All Filters"}),!e&&(()=>{const H=Math.max(1,Math.ceil((p||[]).length/24));if(H<=1)return null;const G=Math.min(t,H),W=()=>n(S=>Math.max(1,S-1)),V=()=>n(S=>Math.min(H,S+1)),K=2,q=Math.max(1,G-K),D=Math.min(H,G+K),v=[];q>1&&(v.push(1),q>2&&v.push("..."));for(let S=q;S<=D;S++)v.push(S);return D<H&&(D<H-1&&v.push("..."),v.push(H)),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:W,disabled:G===1,className:"px-3 py-2 rounded-md border border-border bg-background text-sm disabled:opacity-50","aria-label":"Previous page",children:"Prev"}),v.map((S,_)=>S==="..."?l.jsx("span",{className:"px-1 text-muted-foreground",children:""},`ellipsis-top-${_}`):l.jsx("button",{onClick:()=>n(S),className:`px-1 text-sm leading-none ${G===S?"font-semibold text-foreground":"text-foreground/80"} bg-transparent`,"aria-label":`Go to page ${S}`,children:S},`page-top-${S}`)),l.jsx("button",{onClick:V,disabled:G===H,className:"px-3 py-2 rounded-md border border-border bg-background text-sm disabled:opacity-50","aria-label":"Next page",children:"Next"})]})})()]})]}),(()=>{const U=e?12:24,B=!!P,H=e&&B&&typeof d=="number"?d:null,G=B?I||[]:p||[],W=G.length,V=Math.max(1,Math.ceil(W/U)),K=Math.min(t,V),q=(K-1)*U,D=q+U,v=G.slice(q,D),S=V>1||e&&B&&G.length>=U,_=(()=>{const E=V,M=K,N=e?1:2,R=[],X=Math.max(1,M-N),$=Math.min(E,M+N);X>1&&(R.push(1),X>2&&R.push("..."));for(let Y=X;Y<=$;Y++)R.push(Y);return $<E&&($<E-1&&R.push("..."),R.push(E)),R})(),j=()=>n(E=>Math.max(1,E-1)),O=()=>n(E=>Math.min(V,E+1)),z=!(e&&B&&(s||!i||i.length===0));return l.jsxs("div",{children:[l.jsx(MZ,{raffles:v,loading:B?!1:s,error:B?null:o,RaffleCardComponent:LZ,emptyMessage:m?"No raffles match your current filters. Try adjusting your filter criteria.":"There are currently no raffles available on the blockchain. Check back later or create your own!",totalCount:H??W,showCount:z}),S&&l.jsxs("div",{className:"mt-6 flex flex-col items-center gap-3",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1",children:[l.jsx("button",{onClick:j,disabled:K===1,className:"px-3 py-2 rounded-md border border-border bg-background text-sm disabled:opacity-50","aria-label":"Previous page",children:"Prev"}),_.map((E,M)=>E==="..."?l.jsx("span",{className:"px-1 text-muted-foreground",children:""},`ellipsis-bottom-${M}`):l.jsx("button",{onClick:()=>n(E),className:`px-1 text-sm leading-none ${K===E?"font-semibold text-foreground":"text-foreground/80"} bg-transparent`,"aria-label":`Go to page ${E}`,children:E},`page-bottom-${E}`)),l.jsx("button",{onClick:O,disabled:K===V,className:"px-3 py-2 rounded-md border border-border bg-background text-sm disabled:opacity-50","aria-label":"Next page",children:"Next"})]}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",K," of ",Math.max(1,V)]})]})]},B?"summaries":"full")})()]})})]})},i2=ve.forwardRef(({type:r="text",value:e,onChange:t,placeholder:n,className:i,disabled:s=!1,required:o=!1,min:a,max:u,step:d,onFocus:h,onBlur:p,...y},m)=>{const{isMobile:b}=Wr(),x=C.useRef(null),w=C.useCallback(P=>{b&&(x.current=P.target,P.target.style.transform="translateZ(0)"),h&&h(P)},[b,h]),A=C.useCallback(P=>{b&&x.current&&(P.target.style.transform=""),p&&p(P)},[b,p]);return l.jsx("input",{ref:m,type:r,value:e,onChange:t,placeholder:n,disabled:s,required:o,min:a,max:u,step:d,className:ct("w-full px-3 py-2 border border-[#614E41] rounded-md bg-background","text-foreground placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-[#614E41]/30 focus:border-[#614E41]","disabled:opacity-50 disabled:cursor-not-allowed","transition-colors duration-200",b&&["text-base","min-h-[44px]","touch-manipulation"],!b&&["text-sm","min-h-[40px]"],i),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onFocus:w,onBlur:A,style:{fontSize:b?"16px":void 0,...y.style},...y})});i2.displayName="ResponsiveInput";const FZ=ve.forwardRef(({value:r,onChange:e,placeholder:t,className:n,rows:i=3,disabled:s=!1,required:o=!1,...a},u)=>{const{isMobile:d}=Wr();return l.jsx("textarea",{ref:u,value:r,onChange:e,placeholder:t,disabled:s,required:o,rows:i,className:ct("w-full px-3 py-2 border border-[#614E41] rounded-md bg-background","text-foreground placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-[#614E41]/30 focus:border-[#614E41]","disabled:opacity-50 disabled:cursor-not-allowed","transition-colors duration-200 resize-vertical",d&&["text-base","min-h-[44px]","touch-manipulation"],!d&&["text-sm"],n),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,style:{fontSize:d?"16px":void 0,...a.style},...a})});FZ.displayName="ResponsiveTextarea";const xs=ve.forwardRef(({value:r,onChange:e,placeholder:t,className:n,min:i,max:s,step:o="any",disabled:a=!1,required:u=!1,...d},h)=>{const{isMobile:p}=Wr();return l.jsx(i2,{ref:h,type:"number",value:r,onChange:e,placeholder:t,min:i,max:s,step:o,disabled:a,required:u,className:ct("[appearance:textfield]","[&::-webkit-outer-spin-button]:appearance-none","[&::-webkit-inner-spin-button]:appearance-none",n),inputMode:p?"decimal":void 0,pattern:p?"[0-9]*":void 0,...d})});xs.displayName="ResponsiveNumberInput";const ln=ve.forwardRef(({value:r,onChange:e,placeholder:t="0x...",className:n,disabled:i=!1,required:s=!1,...o},a)=>l.jsx(i2,{ref:a,type:"text",value:r,onChange:e,placeholder:t,disabled:i,required:s,className:ct("font-mono","tracking-tight",n),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,...o}));ln.displayName="ResponsiveAddressInput";const BZ=()=>{const{connected:r,address:e}=ur(),{getContractInstance:t,executeTransaction:n}=Cr(),[i,s]=C.useState(!1),[o,a]=C.useState({address:"",type:null,royaltyPercentage:"",royaltyRecipient:""}),[u,d]=C.useState(null),[h,p]=C.useState(!1),[y,m]=C.useState(null),[b,x]=C.useState(!1),w=(U,B)=>{a(H=>({...H,[U]:B}))};C.useEffect(()=>{const U=o.address;if(!U||!r||!rn(U))return;const B=setTimeout(()=>{P()},450);return()=>clearTimeout(B)},[o.address,r]);const A=async U=>{try{if(!U)return;const B=await U.isRevealed();m(!!B)}catch(B){console.log("Could not fetch reveal status:",B.message),m(null)}},P=async()=>{if(!o.address||!r){ee.error("Please enter a collection address and connect your wallet");return}p(!0);try{let U=null,B=null;try{const v=t(o.address,"erc721Prize");if(v)try{await v.supportsInterface("0x80ac58cd")&&(U=v,B="erc721")}catch{try{await v.totalSupply(),U=v,B="erc721"}catch{}}}catch{}if(!U)try{const v=t(o.address,"erc1155Prize");if(v)try{await v.supportsInterface("0xd9b67a26")&&(U=v,B="erc1155")}catch{try{await v.uri(0),U=v,B="erc1155"}catch{}}}catch{}if(!U||!B)throw new Error("Invalid collection address or unsupported contract type");a(v=>({...v,type:B}));let H="Unknown Collection",G="Unknown",W="Unknown";try{typeof U.name=="function"&&(H=await U.name())}catch{}try{typeof U.symbol=="function"&&(G=await U.symbol())}catch{}try{typeof U.owner=="function"&&(W=await U.owner())}catch{}const V=W!=="Unknown"&&W.toLowerCase()===e.toLowerCase(),K=await U.royaltyInfo(1,1e4),q=await U.royaltyPercentage(),D=await U.royaltyRecipient();d({address:o.address,name:H,symbol:G,owner:W,type:B,isOwner:V,currentRoyaltyPercentage:q.toString(),currentRoyaltyRecipient:D,royaltyAmount:K[1].toString()}),a(v=>({...v,royaltyPercentage:(q.toNumber()/100).toString(),royaltyRecipient:D})),await A(U)}catch(U){console.error("Error loading collection info:",U),ee.error("Error loading collection info: "+U.message),d(null),m(null)}finally{p(!1)}},I=async()=>{if(!r||!u){ee.error("Please connect your wallet and load collection info first");return}if(!u.isOwner){ee.error("You are not the owner of this collection");return}const U=parseFloat(o.royaltyPercentage);if(isNaN(U)||U<0){ee.error("Please enter a valid royalty percentage (minimum 0%)");return}if(!o.royaltyRecipient){ee.error("Please enter a royalty recipient address");return}s(!0);try{const B=o.type==="erc721"?"erc721Prize":"erc1155Prize",H=t(o.address,B);if(!H)throw new Error("Failed to create contract instance");const G=Math.floor(U*100),W=await n(H.setRoyalty,G,o.royaltyRecipient);if(W.success)ee.success(`Royalty updated successfully! Transaction: ${W.hash}`),await P();else throw new Error(W.error)}catch(B){console.error("Error updating royalty:",B),ee.error("Error updating royalty: "+B.message)}finally{s(!1)}},T=async()=>{if(!r||!u){ee.error("Please connect your wallet and load collection info first");return}x(!0);try{const U=o.type==="erc721"?"erc721Prize":"erc1155Prize",B=t(o.address,U);if(!B)throw new Error("Failed to create contract instance");const H=await n(B.reveal);if(H.success)ee.success("Collection revealed successfully!"),await P();else throw new Error(H.error)}catch(U){ee.error("Error revealing collection: "+(U.message||U))}finally{x(!1)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Address"}),l.jsxs("div",{className:"relative",children:[l.jsx(ln,{value:o.address,onChange:U=>w("address",U.target.value),placeholder:"0x..."}),h&&l.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:l.jsx(mf,{size:"sm",showText:!1})})]})]})}),u&&l.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[l.jsx("h4",{className:"font-semibold mb-3",children:"Collection Information"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[u.type==="erc721"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Name:"})," ",u.name]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Symbol:"})," ",u.symbol]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Type:"})," ",u.type.toUpperCase()]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Owner:"})," ",u.isOwner?"You":"Other"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Current Royalty:"})," ",(parseInt(u.currentRoyaltyPercentage)/100).toFixed(2),"%"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Revealed:"})," ",y===null?"Unknown":y?"Yes":"No"]})]}),l.jsxs("div",{className:"mt-3 pt-3 border-t border-border",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"mb-1",children:l.jsx("span",{className:"font-medium",children:"Address:"})}),l.jsx("div",{className:"font-mono text-xs break-all bg-background p-2 rounded border",children:u.address})]}),l.jsxs("div",{className:"text-sm mt-2",children:[l.jsx("div",{className:"mb-1",children:l.jsx("span",{className:"font-medium",children:"Royalty Recipient:"})}),l.jsx("div",{className:"font-mono text-xs break-all bg-background p-2 rounded border",children:u.currentRoyaltyRecipient})]})]}),l.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"text-sm font-medium",children:"Reveal Status:"}),l.jsx("span",{className:"text-sm font-semibold",children:y===null?"Unknown":y?"Revealed":"Not Revealed"}),l.jsx("button",{onClick:T,disabled:b||y||!u.isOwner,className:"px-4 py-2 h-10 bg-[#614E41] text-white rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm text-sm",title:u.isOwner?y?"Collection already revealed":"Reveal collection":"Only collection owner can reveal",children:b?"Revealing...":"Reveal Collection"})]})}),!u.isOwner&&l.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(wr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot modify royalties."})]})]}),u&&u.isOwner&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold",children:"Update Royalty Settings"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Royalty Percentage (%)"}),l.jsx(xs,{min:"0",step:"0.01",value:o.royaltyPercentage,onChange:U=>w("royaltyPercentage",U.target.value),placeholder:"2.5"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Royalty Recipient"}),l.jsx(ln,{value:o.royaltyRecipient,onChange:U=>w("royaltyRecipient",U.target.value),placeholder:"0x..."})]})]}),l.jsxs("button",{onClick:I,disabled:i||!r||!u||!u.isOwner,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",title:r?u?u.isOwner?!o.royaltyPercentage||!o.royaltyRecipient?"Please fill in all required fields":"Update royalty settings":"Only collection owner can update royalties":"Please load collection info first":"Please connect your wallet",children:[l.jsx(Uw,{className:"h-4 w-4"}),i?"Updating...":"Update Royalty Settings"]})]}),!r&&l.jsx("div",{className:"text-center p-4 bg-muted rounded-lg",children:l.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to manage collection royalties."})})]})};var $Z="Label",y5=C.forwardRef((r,e)=>l.jsx(Ot.label,{...r,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=r.onMouseDown)==null||i.call(r,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));y5.displayName=$Z;var UZ=y5;function Ks({className:r,...e}){return l.jsx(UZ,{"data-slot":"label",className:ct("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...e})}const qZ=Jk("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-red-600 dark:text-red-500 bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-red-600/90"}},defaultVariants:{variant:"default"}});function Hl({className:r,variant:e,...t}){return l.jsx("div",{"data-slot":"alert",role:"alert",className:ct(qZ({variant:e}),r),...t})}function Vl({className:r,...e}){return l.jsx("div",{"data-slot":"alert-description",className:ct("text-gray-500 dark:text-gray-400 col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",r),...e})}const WZ=()=>{const{address:r,connected:e,provider:t}=ur(),{getContractInstance:n}=Cr(),[i,s]=C.useState(!1),[o,a]=C.useState(""),[u,d]=C.useState(""),[h,p]=C.useState(""),[y,m]=C.useState(!1),[b,x]=C.useState(!1),[w,A]=C.useState(""),[P,I]=C.useState(""),[T,U]=C.useState(""),[B,H]=C.useState(""),[G,W]=C.useState(""),[V,K]=C.useState(null),q=async()=>{if(I(""),U(""),d(""),x(!1),A(""),m(!1),H(""),W(""),K(null),!rn(o)){I("Please enter a valid Ethereum contract address.");return}if(!t){I("Provider not available.");return}try{s(!0);let j=new At(o,gt.erc721Prize,t),O=!1;try{const z=await j.minterLocked();x(z);const E=await j.minter();A(E),K("erc721"),O=!0}catch{j=new At(o,gt.erc1155Prize,t);try{const E=await j.minterLocked();x(E);const M=await j.minter();A(M),K("erc1155")}catch(E){I("Failed to fetch collection: "+E.message),K(null);return}}if(O){try{if(typeof j.name=="function"){const z=await j.name();H(z)}else H("N/A")}catch{H("N/A")}try{if(typeof j.symbol=="function"){const z=await j.symbol();W(z)}else W("N/A")}catch{W("N/A")}}else H("ERC1155 Collection"),W("N/A");d(o)}catch(j){I("Failed to fetch collection: "+j.message)}finally{s(!1)}};C.useEffect(()=>{u&&h&&rn(h)&&t&&D()},[h,u]),C.useEffect(()=>{if(!e||!o||!rn(o))return;const j=setTimeout(()=>{i||q()},350);return()=>clearTimeout(j)},[o,e]);const D=async()=>{try{s(!0),I("");const O=await new At(u,gt.erc721Prize,t).minter();m(O.toLowerCase()===h.toLowerCase()),A(O)}catch(j){I("Failed to load collection details: "+j.message)}finally{s(!1)}},v=async j=>{if(!u||!h||!t){ee.error("Please fetch a collection and enter a valid minter address");return}if(!rn(h)){ee.error("Please enter a valid Ethereum address");return}try{s(!0),I(""),U("");const O=t.getSigner();let z;V==="erc721"?z=new At(u,gt.erc721Prize,O):V==="erc1155"&&(z=new At(u,gt.erc1155Prize,O));let E;V==="erc721"?E=await z.setMinterApproval(h,j):V==="erc1155"&&(E=await z.setMinterApproval(h,j)),await E.wait(),ee.success(`Minter ${j?"set":"removed"} successfully!`),m(j),p("")}catch(O){ee.error(`Failed to set minter approval: ${gi(O)}`)}finally{s(!1)}},S=async()=>{if(!u||!t){ee.error("Please fetch a collection first");return}try{s(!0),I(""),U("");const j=t.getSigner();let O;V==="erc721"?O=new At(u,gt.erc721Prize,j):V==="erc1155"&&(O=new At(u,gt.erc1155Prize,j));let z;try{if(typeof O.owner=="function")z=await O.owner();else{ee.error("Contract does not support owner functionality");return}}catch{ee.error("Failed to get contract owner");return}const E=await j.getAddress();if(z.toLowerCase()!==E.toLowerCase()){ee.error("Only the contract owner can lock/unlock minter approval");return}let M;V==="erc721"?b?(console.log("Attempting to unlock minter approval..."),M=await O.unlockMinterApproval()):(console.log("Attempting to lock minter approval..."),M=await O.lockMinterApproval()):V==="erc1155"&&(b?(console.log("Attempting to unlock minter approval..."),M=await O.unlockMinterApproval()):(console.log("Attempting to lock minter approval..."),M=await O.lockMinterApproval())),console.log("Transaction sent:",M.hash),await M.wait(),ee.success(`Minter approval ${b?"unlocked":"locked"} successfully!`),x(!b)}catch(j){console.error("Error in toggleMinterApprovalLock:",j),ee.error(`Failed to ${b?"unlock":"lock"} minter approval: ${gi(j)}`)}finally{s(!1)}},_=j=>rn(j);return e?l.jsxs(In,{children:[l.jsxs(Zs,{children:[l.jsxs(eo,{className:"flex items-center gap-2",children:[l.jsx(Yl,{className:"h-5 w-5"}),"Minter Approval & Royalty Enforcement Exemption"]}),l.jsx(Pp,{children:"Manage minter approvals and royalty enforcement exemptions for collections"})]}),l.jsxs(Mn,{className:"space-y-6",children:[!e&&l.jsxs(Hl,{variant:"destructive",children:[l.jsx(wr,{className:"h-4 w-4"}),l.jsx(Vl,{children:"Please connect your wallet to load collection info and manage minter approvals."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ks,{htmlFor:"collection-address",children:"Collection Contract Address"}),l.jsx(ln,{id:"collection-address",placeholder:"0x...",value:o,onChange:j=>a(j.target.value),disabled:i||!e,rightElement:i&&l.jsx(mf,{size:"sm"})})]}),u&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ks,{children:"Collection Info"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"font-semibold",children:B}),l.jsxs("span",{className:"text-muted-foreground",children:["(",G,")"]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ks,{children:"Collection Status"}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Jl,{variant:b?"destructive":"default",children:b?l.jsxs(l.Fragment,{children:[l.jsx(Bw,{className:"h-3 w-3 mr-1"}),"Minter Approval Locked"]}):l.jsxs(l.Fragment,{children:[l.jsx(wN,{className:"h-3 w-3 mr-1"}),"Minter Approval Unlocked"]})})}),w&&l.jsxs("div",{className:"mt-2",children:[l.jsx(Ks,{className:"text-sm",children:"Current Minter"}),l.jsx("p",{className:"text-sm font-mono bg-muted p-2 rounded",children:w})]}),l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ks,{htmlFor:"exempt-address",children:"Royalty Enforcement Exemption Address"}),l.jsx(ln,{id:"exempt-address",placeholder:"0x... (address to exempt/enforce)",value:h,onChange:j=>p(j.target.value),disabled:i}),h&&!rn(h)&&l.jsx("p",{className:"text-sm text-red-600",children:"Invalid Ethereum address"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ut,{variant:"outline",disabled:!u||!rn(h)||i,onClick:async()=>{try{s(!0),I("");const O=await new At(u,V==="erc721"?gt.erc721Prize:gt.erc1155Prize,t).isRoyaltyEnforcementExempt(h);ee.success(O?"Address is exempt from royalty enforcement":"Address is NOT exempt")}catch(j){ee.error(`Failed to check exemption: ${gi(j)}`)}finally{s(!1)}},children:"Check exemption"}),l.jsx(ut,{className:"bg-[#614E41] text-white hover:bg-[#4a3a30]",disabled:!u||!rn(h)||i,onClick:async()=>{try{s(!0),I("");const j=t.getSigner();await(await new At(u,V==="erc721"?gt.erc721Prize:gt.erc1155Prize,j).setRoyaltyEnforcementExemption(h,!0)).wait(),ee.success("Exemption granted successfully")}catch(j){ee.error(`Failed to grant exemption: ${gi(j)}`)}finally{s(!1)}},children:"Grant Exemption"}),l.jsx(ut,{variant:"destructive",disabled:!u||!rn(h)||i,onClick:async()=>{try{s(!0),I("");const j=t.getSigner();await(await new At(u,V==="erc721"?gt.erc721Prize:gt.erc1155Prize,j).setRoyaltyEnforcementExemption(h,!1)).wait(),ee.success("Exemption revoked successfully")}catch(j){ee.error(`Failed to revoke exemption: ${gi(j)}`)}finally{s(!1)}},children:"Revoke Exemption"})]})]})]}),l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ks,{htmlFor:"minter",children:"Minter Address"}),l.jsx(ln,{id:"minter",placeholder:"0x...",value:h,onChange:j=>p(j.target.value),disabled:i}),h&&!_(h)&&l.jsx("p",{className:"text-sm text-red-600",children:"Invalid Ethereum address"})]}),h&&_(h)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ks,{children:"Current Status"}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Jl,{variant:y?"default":"secondary",children:y?l.jsxs(l.Fragment,{children:[l.jsx(Br,{className:"h-3 w-3 mr-1"}),"Is Current Minter"]}):l.jsxs(l.Fragment,{children:[l.jsx(wr,{className:"h-3 w-3 mr-1"}),"Not Current Minter"]})})}),y&&l.jsx("p",{className:"text-sm text-green-600",children:"This address is currently the minter for this collection."})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[l.jsxs(ut,{onClick:()=>v(!0),disabled:i||y||b,className:"flex-1 bg-[#614E41] text-white hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:h?_(h)?y?"Address is already the minter":b?"Minter approval is locked":"Set as minter":"Please enter a valid address":"Please enter a minter address",children:[i?l.jsx(Bd,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(Yl,{className:"h-4 w-4 mr-2"}),"Set Minter"]}),l.jsxs(ut,{onClick:()=>v(!1),disabled:i||!y||b,className:"flex-1 bg-[#614E41] text-white hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:h?_(h)?y?b?"Minter approval is locked":"Remove minter":"Address is not currently the minter":"Please enter a valid address":"Please enter a minter address",children:[i?l.jsx(Bd,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(zB,{className:"h-4 w-4 mr-2"}),"Remove Minter"]})]}),l.jsxs(ut,{onClick:S,disabled:i,variant:b?"default":"outline",className:`w-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${b?"bg-[#614E41] text-white hover:bg-[#4a3a30]":"border-[#614E41] text-[#614E41] hover:bg-[#614E41]/10"}`,title:b?"Unlock minter approval to allow changes":"Lock minter approval to prevent changes",children:[i?l.jsx(Bd,{className:"h-4 w-4 mr-2 animate-spin"}):b?l.jsx(wN,{className:"h-4 w-4 mr-2"}):l.jsx(Bw,{className:"h-4 w-4 mr-2"}),b?"Unlock Minter Approval":"Lock Minter Approval"]})]})]}),P&&l.jsxs(Hl,{variant:"destructive",children:[l.jsx(wr,{className:"h-4 w-4"}),l.jsx(Vl,{children:P})]}),T&&l.jsxs(Hl,{children:[l.jsx(Br,{className:"h-4 w-4"}),l.jsx(Vl,{children:T})]})]})]}):l.jsxs(In,{children:[l.jsxs(Zs,{children:[l.jsxs(eo,{className:"flex items-center gap-2",children:[l.jsx(Yl,{className:"h-5 w-5"}),"Minter Approval & Royalty Enforcement Exemption"]}),l.jsx(Pp,{children:"Please connect your wallet to manage minter approvals and royalty enforcement exemptions."})]}),l.jsx(Mn,{children:l.jsxs(Hl,{children:[l.jsx(wr,{className:"h-4 w-4"}),l.jsx(Vl,{children:"Please connect your wallet to manage minter approvals."})]})})]})};var fx="Tabs",[HZ,die]=co(fx,[Jy]),x5=Jy(),[VZ,s2]=HZ(fx),v5=C.forwardRef((r,e)=>{const{__scopeTabs:t,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:u="automatic",...d}=r,h=rm(a),[p,y]=Oo({prop:n,onChange:i,defaultProp:s??"",caller:fx});return l.jsx(VZ,{scope:t,baseId:Ts(),value:p,onValueChange:y,orientation:o,dir:h,activationMode:u,children:l.jsx(Ot.div,{dir:h,"data-orientation":o,...d,ref:e})})});v5.displayName=fx;var b5="TabsList",w5=C.forwardRef((r,e)=>{const{__scopeTabs:t,loop:n=!0,...i}=r,s=s2(b5,t),o=x5(t);return l.jsx(FI,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:l.jsx(Ot.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});w5.displayName=b5;var k5="TabsTrigger",_5=C.forwardRef((r,e)=>{const{__scopeTabs:t,value:n,disabled:i=!1,...s}=r,o=s2(k5,t),a=x5(t),u=S5(o.baseId,n),d=N5(o.baseId,n),h=n===o.value;return l.jsx(BI,{asChild:!0,...a,focusable:!i,active:h,children:l.jsx(Ot.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...s,ref:e,onMouseDown:Ke(r.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?o.onValueChange(n):p.preventDefault()}),onKeyDown:Ke(r.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(n)}),onFocus:Ke(r.onFocus,()=>{const p=o.activationMode!=="manual";!h&&!i&&p&&o.onValueChange(n)})})})});_5.displayName=k5;var E5="TabsContent",C5=C.forwardRef((r,e)=>{const{__scopeTabs:t,value:n,forceMount:i,children:s,...o}=r,a=s2(E5,t),u=S5(a.baseId,n),d=N5(a.baseId,n),h=n===a.value,p=C.useRef(h);return C.useEffect(()=>{const y=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(y)},[]),l.jsx(uo,{present:i||h,children:({present:y})=>l.jsx(Ot.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":u,hidden:!y,id:d,tabIndex:0,...o,ref:e,style:{...r.style,animationDuration:p.current?"0s":void 0},children:y&&s})})});C5.displayName=E5;function S5(r,e){return`${r}-trigger-${e}`}function N5(r,e){return`${r}-content-${e}`}var GZ=v5,KZ=w5,YZ=_5,JZ=C5;function QZ({className:r,...e}){return l.jsx(GZ,{"data-slot":"tabs",className:ct("flex flex-col gap-2",r),...e})}function XZ({className:r,...e}){return l.jsx(KZ,{"data-slot":"tabs-list",className:ct("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",r),...e})}function Jg({className:r,...e}){return l.jsx(YZ,{"data-slot":"tabs-trigger",className:ct("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...e})}function Qg({className:r,...e}){return l.jsx(JZ,{"data-slot":"tabs-content",className:ct("flex-1 outline-none",r),...e})}function ZZ({...r}){return l.jsx(TI,{"data-slot":"dialog",...r})}function eee({...r}){return l.jsx(AI,{"data-slot":"dialog-trigger",...r})}function tee({...r}){return l.jsx(jI,{"data-slot":"dialog-portal",...r})}function ree({className:r,...e}){return l.jsx(PI,{"data-slot":"dialog-overlay",className:ct("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r),...e})}function nee({className:r,children:e,...t}){return l.jsxs(tee,{"data-slot":"dialog-portal",children:[l.jsx(ree,{}),l.jsxs(RI,{"data-slot":"dialog-content",className:ct("bg-card/90 backdrop-blur-md text-card-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-xl border border-border/50 p-6 shadow-2xl duration-200 sm:max-w-lg",r),...t,children:[e,l.jsxs(iq,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none text-muted-foreground hover:text-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[l.jsx(jk,{}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function iee({className:r,...e}){return l.jsx("div",{"data-slot":"dialog-header",className:ct("flex flex-col gap-2 text-center sm:text-left",r),...e})}function see({className:r,...e}){return l.jsx(II,{"data-slot":"dialog-title",className:ct("text-lg leading-none font-semibold text-foreground",r),...e})}const oee=({title:r,description:e,icon:t,component:n,defaultExpanded:i=!1,className:s="",dialogContentClassName:o,isExpanded:a,onToggle:u,...d})=>{const[h,p]=C.useState(i),y=a!==void 0?a:h,{isMobile:m,isTablet:b,isDesktop:x}=Wr(),[w,A]=C.useState(!1),P=()=>{u?u():p(!h)},I=()=>{A(!0)};return l.jsxs(In,{"data-dashboard-card":"true",className:ct("relative transition-all duration-300 ease-in-out",m&&"w-full",b&&"w-full",y&&["ring-2 ring-primary/20","shadow-lg",m&&"mb-4"],s),children:[l.jsxs(Zs,{className:ct("pb-3",m&&"pb-2"),children:[l.jsxs(eo,{className:ct("flex items-center gap-2",m?"text-base":"text-lg"),children:[l.jsx("span",{className:"flex-1",children:r}),l.jsx(ut,{variant:"ghost",size:"sm",onClick:P,className:ct("ml-auto p-1 h-auto",m&&"p-2"),"aria-label":y?`Collapse ${r}`:`Expand ${r}`,children:y?l.jsx(ef,{className:ct(m?"h-5 w-5":"h-4 w-4")}):l.jsx(Ya,{className:ct(m?"h-5 w-5":"h-4 w-4")})})]}),l.jsx(Pp,{className:ct("text-muted-foreground","text-sm"),children:e})]}),l.jsxs(Mn,{className:ct("pt-0",m&&"px-4 pb-4"),children:[x&&l.jsxs(ZZ,{open:w,onOpenChange:A,children:[l.jsx(eee,{asChild:!0,children:l.jsxs(ut,{onClick:I,className:ct("w-full bg-[#614E41] text-white","hover:bg-[#4a3a30] transition-all duration-200","shadow-sm hover:shadow-md h-10 text-sm"),children:[l.jsx(W0,{className:"mr-2 h-4 w-4"}),"Open ",r]})}),l.jsxs(nee,{className:ct("max-w-4xl max-h-[90vh] overflow-y-auto overflow-x-hidden",o),children:[l.jsx(iee,{children:l.jsx(see,{className:"text-xl font-semibold",children:r})}),l.jsx("div",{className:"mt-4",children:n&&l.jsx(n,{})})]})]}),!x&&l.jsxs(l.Fragment,{children:[l.jsx(ut,{onClick:P,className:ct("w-full bg-[#614E41] text-white","hover:bg-[#4a3a30] transition-all duration-200","shadow-sm hover:shadow-md",m?"h-12 text-base":"h-10 text-sm",y&&"mb-4"),children:y?l.jsxs(l.Fragment,{children:[l.jsx(ef,{className:ct("mr-2",m?"h-5 w-5":"h-4 w-4")}),"Close ",r]}):l.jsxs(l.Fragment,{children:[l.jsx(Ya,{className:ct("mr-2",m?"h-5 w-5":"h-4 w-4")}),"Open ",r]})}),y&&l.jsx("div",{className:ct("transition-all duration-300 ease-in-out",m?"mobile-component-container":"desktop-component-container"),children:l.jsx("div",{className:ct("border border-border rounded-lg p-4 bg-muted/30",m&&"p-3"),children:n&&l.jsx(n,{})})})]})]})]})},aee=()=>{const{connected:r,address:e}=ur(),{getContractInstance:t,executeTransaction:n}=Cr(),{isMobile:i}=Wr(),[s,o]=C.useState(!1),[a,u]=C.useState({address:""}),[d,h]=C.useState({tokenId:"",maxSupply:""}),[p,y]=C.useState({tokenId:"",tokenURI:""}),[m,b]=C.useState(null),[x,w]=C.useState(!1);C.useEffect(()=>{if(!r||!a.address||!rn(a.address))return;const G=setTimeout(()=>{x||U()},400);return()=>clearTimeout(G)},[a.address,r]);const A=(G,W)=>{u(V=>({...V,[G]:W}))},P=(G,W)=>{h(V=>({...V,[G]:W}))},I=(G,W)=>{y(V=>({...V,[G]:W}))},T=async G=>{try{const W=t(G,"erc1155Prize");if(W)try{if(await W.supportsInterface("0xd9b67a26"))return{type:"erc1155",contract:W}}catch{try{return await W.balanceOf(G,0),{type:"erc1155",contract:W}}catch{}}const V=t(G,"erc721Prize");if(V)try{if(await V.supportsInterface("0x80ac58cd"))return{type:"erc721",contract:V}}catch{try{return await V.balanceOf(G),{type:"erc721",contract:V}}catch{}}throw new Error("Contract does not support ERC721 or ERC1155 interfaces")}catch(W){throw console.error("Contract type detection error:",W),new Error("Unable to determine contract type. Please verify the contract address.")}},U=async()=>{if(!a.address||!r){ee.error("Please enter a collection address and connect your wallet");return}w(!0);try{const{type:G,contract:W}=await T(a.address);if(G!=="erc1155"){ee.error(" This component is only for ERC1155 collections. The provided address appears to be an ERC721 collection. Please use the appropriate component for ERC721 collections."),b({address:a.address,isOwner:!1,owner:"N/A",type:"erc721",isBlocked:!0}),w(!1);return}const V=await W.owner(),K=V.toLowerCase()===e.toLowerCase();b({address:a.address,isOwner:K,owner:V,type:"erc1155"}),K?ee.success("ERC1155 collection loaded successfully"):ee.error("You are not the owner of this collection")}catch(G){console.error("Error loading collection info:",G),ee.error("Failed to load collection info. Please verify the address is a valid ERC1155 collection."),b(null)}finally{w(!1)}},B=async()=>{if(!r||!e){ee.error("Please connect your wallet");return}if(!m||!m.isOwner||m.isBlocked){m!=null&&m.isBlocked?ee.error("This component only works with ERC1155 collections. The provided address is an ERC721 collection."):ee.error("Please load collection info first and ensure you are the owner");return}if(!d.tokenId||!d.maxSupply){ee.error("Please fill in all required fields");return}const G=parseInt(d.tokenId),W=parseInt(d.maxSupply);if(isNaN(G)||G<0){ee.error("Please enter a valid token ID (non-negative integer)");return}if(isNaN(W)||W<=0){ee.error("Please enter a valid max supply (positive integer)");return}o(!0);try{const V=t(a.address,"erc1155Prize"),K=await n(V.createNewToken,G,W);if(K.success)ee.success(`Token ID ${G} created successfully with max supply of ${W}!`),h({tokenId:"",maxSupply:""});else throw new Error(K.error)}catch(V){console.error("Error creating new token:",V),ee.error(`Failed to create new token: ${V.message}`)}finally{o(!1)}},H=async()=>{if(!r||!e){ee.error("Please connect your wallet");return}if(!m||!m.isOwner||m.isBlocked){m!=null&&m.isBlocked?ee.error("This component only works with ERC1155 collections. The provided address is an ERC721 collection."):ee.error("Please load collection info first and ensure you are the owner");return}if(!p.tokenId||!p.tokenURI){ee.error("Please fill in all required fields");return}const G=parseInt(p.tokenId);if(isNaN(G)||G<0){ee.error("Please enter a valid token ID (non-negative integer)");return}o(!0);try{const W=t(a.address,"erc1155Prize"),V=await n(W.setURI,G,p.tokenURI.trim());if(V.success)ee.success(`URI set successfully for token ID ${G}!`),y({tokenId:"",tokenURI:""});else throw new Error(V.error)}catch(W){console.error("Error setting URI:",W),ee.error(`Failed to set URI: ${W.message}`)}finally{o(!1)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Collection Address"}),l.jsx(ln,{value:a.address,onChange:G=>A("address",G.target.value),placeholder:"0x...",rightElement:x&&l.jsx(mf,{size:"sm"})})]})}),m&&l.jsxs("div",{className:`p-4 rounded-lg border ${m.isBlocked?"bg-destructive/10 border-destructive/20":"bg-muted/50"}`,children:[m.isBlocked&&l.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(wr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"This component only works with ERC1155 collections. The provided address is an ERC721 collection. Please use the appropriate component for ERC721 collections."})]}),!m.isBlocked&&!m.isOwner&&l.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(wr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot create new tokens."})]})]}),m&&m.isOwner&&!m.isBlocked&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-sm text-muted-foreground",children:"Create New Token ID"}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Token ID"}),l.jsx(xs,{min:"0",value:d.tokenId,onChange:G=>P("tokenId",G.target.value),placeholder:"0"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Unique identifier for the new token"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Max Supply"}),l.jsx(xs,{min:"1",value:d.maxSupply,onChange:G=>P("maxSupply",G.target.value),placeholder:"100"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Maximum number of tokens that can be minted"})]})]}),l.jsx("button",{onClick:B,disabled:s||!r||!m.isOwner||m.isBlocked||!d.tokenId||!d.maxSupply,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",title:r?m.isOwner?!d.tokenId||!d.maxSupply?"Please fill in all required fields":"Create new token ID":"Only collection owner can create new tokens":"Please connect your wallet",children:s?"Creating...":"Create New Token ID"})]}),m&&m.isOwner&&!m.isBlocked&&l.jsxs("div",{className:"space-y-4 border-t border-border pt-6",children:[l.jsx("h4",{className:"text-sm text-muted-foreground",children:"Set Token URI"}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Token ID"}),l.jsx(xs,{min:"0",value:p.tokenId,onChange:G=>I("tokenId",G.target.value),placeholder:"0"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Token ID to set URI for"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Token URI"}),l.jsx("input",{type:"text",value:p.tokenURI,onChange:G=>I("tokenURI",G.target.value),placeholder:"https://example.com/metadata/{id}.json",className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-colors text-sm",style:i?{fontSize:"16px"}:{}}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Metadata URI for the token"})]})]}),l.jsx("button",{onClick:H,disabled:s||!r||!m.isOwner||m.isBlocked||!p.tokenId||!p.tokenURI,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",title:r?m.isOwner?!p.tokenId||!p.tokenURI?"Please fill in all required fields":"Set token URI":"Only collection owner can set URIs":"Please connect your wallet",children:s?"Setting...":"Set Token URI"})]})]})},lee=()=>{const{connected:r,address:e}=ur(),{getContractInstance:t,executeTransaction:n}=Cr(),{formatRevenueAmount:i}=Nn(),[s,o]=C.useState(!1),[a,u]=C.useState({address:"",revenueAmount:"0",isOwner:!1,raffleState:"unknown"}),[d,h]=C.useState(!1),[p,y]=C.useState([]),[m,b]=C.useState(!1),[x,w]=C.useState({collectionAddress:"",collectionType:"erc721",recipient:"",quantity:"",tokenId:""}),[A,P]=C.useState(!1),[I,T]=C.useState(null),[U,B]=C.useState(!1),H=(j,O)=>{u(z=>({...z,[j]:O}))},G=(j,O)=>{w(z=>({...z,[j]:O}))},W=async()=>{if(!x.collectionAddress||!r){ee.error("Please enter a collection address and connect your wallet");return}B(!0);try{let j=null,O=null;try{const R=t(x.collectionAddress,"erc721Prize");if(R)try{await R.supportsInterface("0x80ac58cd")&&(j=R,O="erc721")}catch{try{await R.totalSupply(),j=R,O="erc721"}catch{}}}catch{}if(!j)try{const R=t(x.collectionAddress,"erc1155Prize");if(R)try{await R.supportsInterface("0xd9b67a26")&&(j=R,O="erc1155")}catch{try{await R.uri(0),j=R,O="erc1155"}catch{}}}catch{}if(!j||!O)throw new Error("Invalid collection address or unsupported contract type");w(R=>({...R,collectionType:O}));let z="Unknown Collection",E="Unknown",M="Unknown";try{typeof j.name=="function"&&(z=await j.name())}catch{}try{typeof j.symbol=="function"&&(E=await j.symbol())}catch{}try{typeof j.owner=="function"&&(M=await j.owner())}catch{}const N=M!=="Unknown"&&M.toLowerCase()===e.toLowerCase();T({name:z,symbol:E,owner:M,type:O,isOwner:N}),O==="erc1155"?ee.success("Collection loaded"):ee.success(`Collection loaded: ${z} (${O.toUpperCase()})`)}catch(j){console.error("Error loading collection info:",j),ee.error("Failed to load collection information: "+j.message),T(null)}finally{B(!1)}},V=async()=>{if(!r||!I){ee.error("Please connect your wallet and load collection info first");return}if(!I.isOwner){ee.error("You are not the owner of this collection");return}if(!x.recipient||!x.quantity){ee.error("Please fill in recipient address and quantity");return}if(x.collectionType==="erc1155"&&!x.tokenId){ee.error("Please specify token ID for ERC1155 minting");return}const j=parseInt(x.quantity);if(isNaN(j)||j<=0){ee.error("Please enter a valid quantity");return}P(!0);try{const O=x.collectionType==="erc721"?"erc721Prize":"erc1155Prize",z=t(x.collectionAddress,O);if(!z)throw new Error("Failed to create contract instance");let E;if(x.collectionType==="erc721")E=await n(z.creatorMint,x.recipient,j);else{const M=parseInt(x.tokenId);if(isNaN(M))throw new Error("Invalid token ID");E=await n(z.creatorMint,x.recipient,M,j)}if(E.success)ee.success(`Successfully minted ${j} token(s)! Transaction: ${E.hash}`),w(M=>({...M,recipient:"",quantity:"",tokenId:""}));else throw new Error(E.error)}catch(O){console.error("Error minting tokens:",O),ee.error("Error minting tokens: "+O.message)}finally{P(!1)}},K=async j=>{if(!j||!r){ee.error("Please enter a raffle address and connect your wallet");return}h(!0);try{const O=t(j,"pool");if(!O)throw new Error("Failed to create raffle contract instance");const[z,E,M]=await Promise.all([O.creator(),O.totalCreatorRevenue(),O.state()]),N=z.toLowerCase()===e.toLowerCase(),X=["Pending","Active","Ended","Drawing","Completed","Deleted","ActivationFailed","AllPrizesClaimed","Unengaged"][M]||"Unknown";u({address:j,revenueAmount:Ii(E),isCreator:N,raffleState:X,totalRevenue:E})}catch(O){console.error("Error loading raffle info:",O),ee.error("Error loading raffle info: "+O.message),u({address:j,revenueAmount:"0",isCreator:!1,raffleState:"error"})}finally{h(!1)}},q=async()=>{if(r){b(!0);try{y([])}catch(j){console.error("Error loading created raffles:",j)}finally{b(!1)}}},D=async()=>{if(!r||!a.address){ee.error("Please connect your wallet and load raffle info first");return}if(!a.isCreator){ee.error("You are not the creator of this raffle");return}if(parseFloat(a.revenueAmount)<=0){ee.info("No revenue available for withdrawal");return}if(!["Completed","AllPrizesClaimed","Ended"].includes(a.raffleState)){ee.info(`Revenue can only be withdrawn from completed raffles. Current state: ${a.raffleState}`);return}o(!0);try{const O=t(a.address,"pool");if(!O)throw new Error("Failed to create raffle contract instance");const z=await n(O.withdrawCreatorRevenue);if(z.success)ee.success(`Revenue withdrawn successfully! Transaction: ${z.hash}`),await K(a.address);else throw new Error(z.error)}catch(O){console.error("Error withdrawing revenue:",O),ee.error("Error withdrawing revenue: "+O.message)}finally{o(!1)}};C.useEffect(()=>{r&&q()},[r]),C.useEffect(()=>{const j=a.address;if(!r||!j||!rn(j))return;const O=setTimeout(()=>{d||K(j)},400);return()=>clearTimeout(O)},[a.address,r]),C.useEffect(()=>{const j=x.collectionAddress;if(!r||!j||!rn(j))return;const O=setTimeout(()=>{U||W()},400);return()=>clearTimeout(O)},[x.collectionAddress,r]);const v=j=>{switch(j){case"Completed":case"AllPrizesClaimed":return"text-green-600";case"Ended":return"text-red-600";case"Active":return"text-blue-600";case"Pending":return"text-yellow-600";case"Drawing":return"text-purple-600";default:return"text-muted-foreground"}},S=a.totalRevenue&&de.isBigNumber(a.totalRevenue)?!a.totalRevenue.isZero():parseFloat(a.revenueAmount)>0,_=a.isCreator&&S&&["Completed","AllPrizesClaimed","Ended"].includes(a.raffleState);return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Raffle Contract Address"}),l.jsx(ln,{value:a.address,onChange:j=>H("address",j.target.value),placeholder:"0x...",rightElement:d&&l.jsx(mf,{size:"sm"})})]})}),a.address&&a.raffleState!=="unknown"&&l.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[l.jsx("h4",{className:"font-semibold mb-3",children:"Raffle Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Address:"}),l.jsx("div",{className:"font-mono break-all",children:a.address})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"State:"}),l.jsx("div",{className:`font-semibold ${v(a.raffleState)}`,children:a.raffleState})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Creator Revenue:"}),l.jsx("div",{className:"font-semibold",children:i(a.totalRevenue||a.revenueAmount)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Your Role:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[a.isCreator&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:[l.jsx(Br,{className:"h-3 w-3"}),"Creator"]}),a.isOwner&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:[l.jsx(Br,{className:"h-3 w-3"}),"Owner"]}),!a.isCreator&&!a.isOwner&&l.jsx("span",{className:"text-muted-foreground text-xs",children:"No special role"})]})]})]}),!a.isCreator&&l.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(wr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"You are not the creator of this raffle and cannot withdraw revenue."})]}),a.isCreator&&!S&&l.jsxs("div",{className:"mt-3 p-3 bg-yellow-50/80 dark:bg-yellow-900/20 backdrop-blur-sm border border-yellow-200/50 dark:border-yellow-700/50 rounded-lg flex items-center gap-2",children:[l.jsx(wr,{className:"h-4 w-4 text-yellow-600"}),l.jsx("span",{className:"text-sm text-yellow-800",children:"No revenue available for withdrawal."})]}),a.isCreator&&!["Completed","AllPrizesClaimed","Ended"].includes(a.raffleState)&&l.jsxs("div",{className:"mt-3 p-3 bg-blue-50/80 dark:bg-blue-900/20 backdrop-blur-sm border border-blue-200/50 dark:border-blue-700/50 rounded-lg flex items-center gap-2",children:[l.jsx(wr,{className:"h-4 w-4 text-blue-600"}),l.jsx("span",{className:"text-sm text-blue-800",children:"Revenue can only be withdrawn from completed raffles."})]}),_&&l.jsxs("div",{className:"mt-3 p-3 bg-green-50/80 dark:bg-green-900/20 backdrop-blur-sm border border-green-200/50 dark:border-green-700/50 rounded-lg flex items-center gap-2",children:[l.jsx(Br,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{className:"text-sm text-green-800",children:"Revenue is available for withdrawal!"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("button",{onClick:D,disabled:s||!r||!_,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",title:r?a.address?a.raffleState==="unknown"?"Raffle state unknown":a.isCreator?_?`Withdraw ${i(a.totalRevenue||a.revenueAmount)}`:"Withdrawal not available - check raffle state and revenue amount":"Only raffle creator can withdraw revenue":"Please load raffle info first":"Please connect your wallet",children:[l.jsx(Ha,{className:"h-4 w-4"}),s?"Withdrawing...":a.address&&(a.totalRevenue||a.revenueAmount)?`Withdraw ${i(a.totalRevenue||a.revenueAmount)}`:"Withdraw Revenue"]}),!_&&a.isCreator&&a.address&&l.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Withdrawal is not available at this time. Check the raffle state and revenue amount."})]}),!r&&l.jsx("div",{className:"text-center p-4 bg-muted rounded-lg",children:l.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to withdraw creator revenue."})}),l.jsxs("div",{className:"space-y-4 border-t border-border pt-6",children:[l.jsx("div",{className:"mb-4",children:l.jsx("h3",{className:"text-lg font-semibold",children:"Creator Mint"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Contract Address"}),l.jsx(ln,{value:x.collectionAddress,onChange:j=>G("collectionAddress",j.target.value),placeholder:"0x...",rightElement:U&&l.jsx(mf,{size:"sm"})})]}),I&&l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[I.type==="erc721"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Name:"})," ",I.name]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Symbol:"})," ",I.symbol]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Type:"})," ",I.type.toUpperCase()]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Owner:"})," ",I.isOwner?"You":"Other"]})]}),!I.isOwner&&l.jsxs("div",{className:"mt-2 p-2 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(wr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot mint tokens."})]})]}),I&&I.isOwner&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Recipient Address"}),l.jsx(ln,{value:x.recipient,onChange:j=>G("recipient",j.target.value),placeholder:"0x..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity"}),l.jsx("input",{type:"number",value:x.quantity,onChange:j=>G("quantity",j.target.value),placeholder:"1",min:"1",className:"w-full px-3 py-2 border border-border rounded-md bg-background"})]})]}),I.type==="erc1155"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token ID"}),l.jsx("input",{type:"number",value:x.tokenId,onChange:j=>G("tokenId",j.target.value),placeholder:"1",min:"0",className:"w-full px-3 py-2 border border-border rounded-md bg-background"})]}),l.jsxs("button",{onClick:V,disabled:A||!r||!I.isOwner||!x.recipient||!x.quantity||I.type==="erc1155"&&!x.tokenId,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm",children:[l.jsx(Hw,{className:"h-4 w-4"}),A?"Minting...":`Mint ${I.type.toUpperCase()} Token(s)`]})]})]})]})]})},cee=()=>{const{address:r,connected:e,provider:t}=ur(),{getContractInstance:n}=Cr(),[i,s]=C.useState(!1),[o,a]=C.useState(""),[u,d]=C.useState(""),[h,p]=C.useState(""),[y,m]=C.useState(""),[b,x]=C.useState(""),[w,A]=C.useState(""),[P,I]=C.useState(""),[T,U]=C.useState(""),[B,H]=C.useState(""),[G,W]=C.useState(null),[V,K]=C.useState(null),[q,D]=C.useState(!1),v=async()=>{if(A(""),I(""),d(""),U(""),H(""),W(null),K(null),!o||!rn(o)){A("Please enter a valid collection address");return}if(!e){A("Please connect your wallet");return}s(!0);try{try{const z=new At(o,gt.erc721Prize,t),E=await z.name(),M=await z.symbol();U(E),H(M),W("erc721"),d(o),I(`ERC721 Collection found: ${E} (${M})`);return}catch{console.log("Not an ERC721 collection, trying ERC1155...")}try{const z=new At(o,gt.erc1155Prize,t);try{const E=await z.uri(0);U("ERC1155 Collection"),H("ERC1155")}catch{U("ERC1155 Collection"),H("ERC1155")}W("erc1155"),d(o),I("ERC1155 Collection found");return}catch{console.log("Not an ERC1155 collection either")}A("Collection not found or not a supported type (ERC721/ERC1155)")}catch(z){console.error("Error fetching collection:",z),A(`Failed to fetch collection: ${gi(z)}`)}finally{s(!1)}};C.useEffect(()=>{const z=o&&rn(o);if(!e||!z)return;const E=setTimeout(()=>{i||v()},300);return()=>clearTimeout(E)},[o,e]);const S=async()=>{try{if(!u||!G||!t||!rn(h))return;D(!0);const E=await new At(u,G==="erc721"?gt.erc721Prize:gt.erc1155Prize,t).getKOLApprovalDetails(h),M={approved:E.approved,poolLimit:E.poolLimit?Number(E.poolLimit):0,enforcedSlotFee:E.enforcedSlotFee?E.enforcedSlotFee:de.from(0),poolCount:E.poolCount?Number(E.poolCount):0};K(M)}catch(z){console.error("Error fetching KOL details:",z),A(`Failed to fetch KOL details: ${gi(z)}`),K(null)}finally{D(!1)}};C.useEffect(()=>{if(!(h&&rn(h))||!u||!G)return;const E=setTimeout(()=>{S()},250);return()=>clearTimeout(E)},[h,u,G]);const _=async()=>{if(!u||!t){ee.error("Please fetch a collection first");return}if(!rn(h)){ee.error("Please enter a valid KOL address");return}if(!y||isNaN(y)||parseInt(y)<=0){ee.error("Please enter a valid pool limit");return}if(!b||isNaN(b)||parseFloat(b)<0){ee.error("Please enter a valid enforced slot fee");return}try{s(!0),A(""),I("");const z=t.getSigner();let E;G==="erc721"?E=new At(u,gt.erc721Prize,z):G==="erc1155"&&(E=new At(u,gt.erc1155Prize,z));let M;try{if(typeof E.owner=="function")M=await E.owner();else{ee.error("Contract does not support owner functionality");return}}catch{ee.error("Failed to get contract owner");return}const N=await z.getAddress();if(M.toLowerCase()!==N.toLowerCase()){ee.error("Only the contract owner can approve KOLs");return}const R=fc(b.toString());await(await E.approveKOL(h,parseInt(y),R)).wait(),ee.success("KOL approved successfully!"),I(`KOL ${h} approved with pool limit ${y} and slot fee ${b} ETH`),p(""),m(""),x(""),await S()}catch(z){console.error("Error approving KOL:",z),ee.error(`Failed to approve KOL: ${gi(z)}`),A(`Failed to approve KOL: ${gi(z)}`)}finally{s(!1)}},j=async()=>{if(!u||!t){ee.error("Please fetch a collection first");return}if(!rn(h)){ee.error("Please enter a valid KOL address");return}try{s(!0),A(""),I("");const z=t.getSigner(),E=new At(u,G==="erc721"?gt.erc721Prize:gt.erc1155Prize,z);let M;try{typeof E.owner=="function"&&(M=await E.owner())}catch{}const N=await z.getAddress();if(!M||M.toLowerCase()!==N.toLowerCase()){ee.error("Only the contract owner can revoke KOLs");return}await(await E.revokeKOL(h)).wait(),ee.success("KOL revoked successfully!"),I(`KOL ${h} revoked`),await S()}catch(z){console.error("Error revoking KOL:",z),ee.error(`Failed to revoke KOL: ${gi(z)}`),A(`Failed to revoke KOL: ${gi(z)}`)}finally{s(!1)}},O=z=>rn(z);return e?l.jsxs(In,{children:[l.jsxs(Zs,{children:[l.jsxs(eo,{className:"flex items-center gap-2",children:[l.jsx(nf,{className:"h-5 w-5"}),"KOL Approval Management"]}),l.jsx(Pp,{children:"Approve Key Opinion Leaders (KOLs) for collections with specific pool limits and slot fees"})]}),l.jsxs(Mn,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Ua,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Collection Lookup"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ks,{htmlFor:"collection",children:"Collection Address"}),l.jsx(ln,{id:"collection",placeholder:"0x...",value:o,onChange:z=>a(z.target.value),disabled:i}),o&&!rn(o)&&l.jsx("p",{className:"text-sm text-red-600",children:"Invalid Ethereum address"})]}),u&&l.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Br,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{className:"text-sm font-medium text-green-800",children:"Collection Found"})]}),l.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Name:"})," ",T]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Symbol:"})," ",B]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Type:"})," ",G==null?void 0:G.toUpperCase()]}),l.jsxs("div",{className:"mt-2",children:[l.jsx(Ks,{className:"text-sm",children:"Address"}),l.jsx("p",{className:"text-sm font-mono bg-green-100 text-green-800 p-2 rounded break-words",children:u})]})]})]})]}),u&&l.jsxs("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(kN,{className:"h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"KOL Approval"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ks,{htmlFor:"kol",children:"KOL Address"}),l.jsx(ln,{id:"kol",placeholder:"0x...",value:h,onChange:z=>p(z.target.value),disabled:i}),h&&!rn(h)&&l.jsx("p",{className:"text-sm text-red-600",children:"Invalid Ethereum address"})]}),q&&l.jsx("div",{className:"p-3 bg-muted border rounded-lg text-sm",children:"Loading KOL details..."}),V&&l.jsxs("div",{className:"p-3 bg-muted border rounded-lg space-y-1 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Jl,{variant:V.approved?"default":"secondary",children:V.approved?"Approved":"Not Approved"}),l.jsx("span",{className:"text-muted-foreground",children:"Current approval status"})]}),l.jsxs("div",{children:["Pool Limit: ",l.jsx("strong",{children:V.poolLimit})]}),l.jsxs("div",{children:["Enforced Slot Fee: ",l.jsxs("strong",{children:[Ii(V.enforcedSlotFee)," ETH"]})]}),l.jsxs("div",{children:["Pool Count: ",l.jsx("strong",{children:V.poolCount})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ks,{htmlFor:"poolLimit",children:"Pool Limit"}),l.jsx(xs,{id:"poolLimit",placeholder:"Enter pool limit (e.g., 100)",value:y,onChange:z=>m(z.target.value),disabled:i}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum number of participants allowed in the KOL's pool"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ks,{htmlFor:"enforcedSlotFee",children:"Enforced Slot Fee (ETH)"}),l.jsx(xs,{id:"enforcedSlotFee",placeholder:"Enter slot fee in ETH (e.g., 0.01)",value:b,onChange:z=>x(z.target.value),disabled:i,step:"0.001"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Fixed slot fee that participants must pay to join the KOL's pool"})]}),l.jsxs(ut,{onClick:_,disabled:!u||!O(h)||!y||!b||i,className:"w-full bg-[#614E41] text-white hover:bg-[#4a3a30]",children:[i?l.jsx(Bd,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(kN,{className:"h-4 w-4 mr-2"}),"Approve KOL"]}),l.jsxs(ut,{onClick:j,disabled:!u||!O(h)||i,variant:"destructive",className:"w-full",children:[i?l.jsx(Bd,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(wr,{className:"h-4 w-4 mr-2"}),"Revoke KOL"]})]})]}),w&&l.jsxs(Hl,{variant:"destructive",children:[l.jsx(wr,{className:"h-4 w-4"}),l.jsx(Vl,{children:w})]}),P&&l.jsxs(Hl,{children:[l.jsx(Br,{className:"h-4 w-4"}),l.jsx(Vl,{children:P})]}),l.jsxs(Hl,{children:[l.jsx(Vt,{className:"h-4 w-4"}),l.jsxs(Vl,{children:[l.jsx("strong",{children:"Note:"})," Only the collection owner can approve KOLs. The KOL approval allows the specified address to create pools with the given parameters for this collection."]})]})]})]}):l.jsxs(In,{children:[l.jsxs(Zs,{children:[l.jsxs(eo,{className:"flex items-center gap-2",children:[l.jsx(nf,{className:"h-5 w-5"}),"KOL Approval Management"]}),l.jsx(Pp,{children:"Please connect your wallet to manage KOL approvals for collections."})]}),l.jsx(Mn,{children:l.jsxs(Hl,{children:[l.jsx(wr,{className:"h-4 w-4"}),l.jsx(Vl,{children:"Please connect your wallet to manage KOL approvals."})]})})]})},uee=({className:r="",showStats:e=!0,...t})=>{const{isMobile:n,isTablet:i,isDesktop:s}=Wr(),[o,a]=C.useState(null),u=C.useRef(o);u.current=o;const d=[{id:"royalty",title:"Royalty & Reveal",description:"Reveal your collection and manage royalties",component:BZ,priority:1},{id:"minter",title:"Minter Approval & Royalty Enforcement Exemption",description:"Manage minter approvals and royalty enforcement exemptions for collections",component:WZ,priority:2},{id:"kol",title:"KOL Approval Management",description:"Approve Key Opinion Leaders (KOLs) for collections with specific pool limits and slot fees",component:cee,priority:3},{id:"tokenCreator",title:"Create New Token ID & Set Token URI",description:"Add new token IDs to existing ERC1155 collections and set metadata URIs",component:aee,priority:4},{id:"revenue",title:"Creator Mint & Revenue Withdrawal",description:"Mint tokens to winners and withdraw revenue from your raffles",component:lee,priority:5}],h=m=>{a(o===m?null:m)},y=n?1:2;return l.jsxs("div",{className:ct("w-full space-y-6",r),...t,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:ct("font-semibold text-foreground",n?"text-lg":"text-xl"),children:"Creator Dashboard"}),l.jsx("p",{className:ct("text-muted-foreground",n?"text-sm":"text-base"),children:"Manage your collections, royalties, and revenue"})]}),l.jsx("div",{className:ct("grid gap-4 w-full",y===1&&"grid-cols-1",y===2&&"grid-cols-1 md:grid-cols-2",n&&"gap-3"),children:d.map(m=>l.jsx(oee,{title:m.title,description:m.description,component:m.component,isExpanded:o===m.id,onToggle:()=>h(m.id),className:ct(n&&["w-full",o===m.id&&"mb-2"],!n&&"h-fit"),dialogContentClassName:m.id==="minter"?"max-w-4xl xl:max-w-4xl":void 0},m.id))}),n&&l.jsx("div",{className:"mt-6 p-3 bg-muted/50 rounded-lg border border-border/50",children:l.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Tap any card above to expand and access its functionality. Only one card can be open at a time on mobile."})})]})},dee=["Pending","Active","Ended","Drawing","Completed","Deleted","Activation Failed","Prizes Claimed","Unengaged"],fee=r=>{try{if(!r)return"Unknown";let e;return r instanceof Date?e=r:typeof r=="number"?e=new Date(r<1e12?r*1e3:r):e=new Date(r),isNaN(e.getTime())?"Unknown":e.toLocaleString()}catch{return"Unknown"}},hee=({raffle:r,onRaffleClick:e,formatRevenueAmount:t,getCurrencySymbol:n})=>{const{winnerCount:i}=p5(r.address,r.stateNum),s=()=>{const a=(d=>{const h=m5(d,i);return h||dee[d]||"Unknown"})(r.stateNum),u={Pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",Active:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",Ended:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",Drawing:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",Completed:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",Deleted:"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-300","Activation Failed":"bg-red-200 text-red-900 dark:bg-red-900/40 dark:text-red-300","Prizes Claimed":"bg-blue-200 text-blue-900 dark:bg-blue-900/40 dark:text-blue-300","Prize Claimed":"bg-blue-200 text-blue-900 dark:bg-blue-900/40 dark:text-blue-300",Unengaged:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",Unknown:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};return l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u[a]||u.Unknown}`,children:a})};return l.jsxs("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-5 shadow-xl border-border/80 transition-all duration-300 min-h-[180px] flex flex-col",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsx("div",{className:"flex-1 min-w-0",children:l.jsx("h3",{className:"font-semibold text-sm mb-1 truncate",children:r.name})}),s()]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs mb-3",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Slots Sold"}),l.jsxs("p",{className:"font-semibold",children:[r.ticketsSold||0,"/",r.maxTickets]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Revenue"}),l.jsx("p",{className:"font-semibold text-green-600",children:t(r.revenue||0)})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-muted-foreground",children:"Created"}),l.jsx("p",{className:"font-semibold",children:r.createdAt?new Date(r.createdAt<1e12?r.createdAt*1e3:r.createdAt).toLocaleString():"Unknown"})]})]}),l.jsx("div",{className:"mt-auto",children:l.jsx("button",{onClick:()=>e(r.address),className:"w-full text-sm bg-[#614E41] text-white px-3 py-2 rounded-md hover:bg-[#4a3a30] transition-colors",children:"View Raffle"})})]})},pee=({activities:r,createdRaffles:e,purchasedTickets:t,creatorStats:n,onDeleteRaffle:i,onViewRevenue:s,onClaimPrize:o,onClaimRefund:a})=>{const u=Do(),{chainId:d}=ur(),[h,p]=C.useState("activity"),{isMobile:y}=Wr(),{formatRevenueAmount:m,getCurrencySymbol:b}=Nn();C.useEffect(()=>(xM(),()=>vM()),[]);const[x,w]=C.useState({royalty:!1,minter:!1,tokenCreator:!1,revenue:!1});C.useEffect(()=>{if(y&&Object.values(x).some(Boolean))return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[x,y]),C.useEffect(()=>()=>{y&&(document.body.style.overflow="unset")},[y]);const A=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Recent Activity"}),l.jsxs(Jl,{variant:"outline",children:[r.length," activities"]})]}),r.length===0?l.jsx(In,{children:l.jsxs(Mn,{className:"text-center py-8",children:[l.jsx(Cp,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No activity yet"})]})}):l.jsx("div",{className:"space-y-3",children:r.slice(0,10).map((U,B)=>l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 shadow-xl border-border/80 transition-all duration-300",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"mt-1",children:U.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-foreground",children:U.title}),l.jsx("p",{className:"text-sm text-muted-foreground",children:U.description}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:U.timestamp})]})]})},B))})]}),P=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"My Raffles"}),l.jsxs(Jl,{variant:"outline",children:[e.length," raffles"]})]}),e.length===0?l.jsx(In,{children:l.jsxs(Mn,{className:"text-center py-8",children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:"You haven't created any raffles yet"}),l.jsx(ut,{onClick:()=>u("/create-raffle"),className:"bg-[#614E41] text-white hover:bg-[#4a3a30] transition-colors",children:"Create Your First Raffle"})]})}):l.jsx("div",{className:"grid gap-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:e.map(U=>l.jsx(hee,{raffle:U,onRaffleClick:B=>{const H=d&&$t[d]?$t[d].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):d||"",G=H?`/${H}/raffle/${B}`:`/raffle/${B}`;u(G)},formatRevenueAmount:m,getCurrencySymbol:b},U.address))})]}),I=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"My Slots"}),l.jsxs(Jl,{variant:"outline",children:[t.length," slots"]})]}),t.length===0?l.jsx(In,{children:l.jsxs(Mn,{className:"text-center py-8",children:[l.jsx(rf,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"You haven't purchased any slots yet"}),l.jsx(ut,{onClick:()=>u("/"),className:"bg-[#614E41] text-white hover:bg-[#4a3a30] transition-colors",children:"Browse Raffles"})]})}):l.jsx("div",{className:"space-y-4",children:t.map(U=>l.jsx(In,{className:"hover:shadow-md transition-shadow",children:l.jsxs(Mn,{className:"p-4",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx(rf,{className:"h-4 w-4 text-blue-500"})}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("h4",{className:"font-medium text-foreground text-sm",children:["Purchased ",U.ticketCount," ",U.raffleName||U.name," slot",U.ticketCount>1?"s":""]}),l.jsxs("p",{className:"text-muted-foreground text-sm mt-1",children:[U.totalSpent," ",b()]})]}),l.jsx("span",{className:"text-sm text-muted-foreground flex-shrink-0",children:fee(U.purchaseTime)})]})})]}),l.jsx("div",{className:"flex gap-2",children:U.canClaimPrize&&l.jsxs(ut,{size:"sm",onClick:()=>o(U),className:"flex-1 bg-[#614E41] text-white hover:bg-[#4a3a30] transition-colors",children:[l.jsx(bP,{className:"h-4 w-4 mr-1"}),"Claim Prize"]})})]})},U.id))})]}),T=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:`grid gap-4 ${y?"grid-cols-1":"md:grid-cols-2 lg:grid-cols-4"}`,children:[l.jsxs(In,{className:y?"w-full overflow-hidden":"",children:[l.jsxs(Zs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(eo,{className:"text-sm font-medium",children:"Total Raffles"}),l.jsx(sa,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Mn,{children:[l.jsx("div",{className:"text-2xl font-bold",children:Number(n.totalRaffles||0).toLocaleString()}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[Number(n.activeRaffles||0).toLocaleString()," currently active"]})]})]}),l.jsxs(In,{className:y?"w-full overflow-hidden":"",children:[l.jsxs(Zs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(eo,{className:"text-sm font-medium",children:"Withdrawable Revenue"}),l.jsx(Ha,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Mn,{children:[l.jsx("div",{className:"text-2xl font-bold",children:m(n.withdrawableRevenue||"0")}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Available to withdraw across all raffles"})]})]}),l.jsxs(In,{className:y?"w-full overflow-hidden":"",children:[l.jsxs(Zs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(eo,{className:"text-sm font-medium",children:"Total Slots Sold"}),l.jsx(nf,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Mn,{children:[l.jsx("div",{className:"text-2xl font-bold",children:Number(n.totalParticipants||0).toLocaleString()}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[Number(n.uniqueParticipants||0).toLocaleString()," slots across all your raffles"]})]})]}),l.jsxs(In,{className:y?"w-full overflow-hidden":"",children:[l.jsxs(Zs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(eo,{className:"text-sm font-medium",children:"Success Rate"}),l.jsx(_P,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Mn,{children:[l.jsxs("div",{className:"text-2xl font-bold",children:[n.successRate,"%"]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed raffles"})]})]})]}),l.jsx(uee,{})]});return l.jsx(l.Fragment,{children:l.jsxs(QZ,{value:h,onValueChange:p,className:"w-full","data-profile-tab":"true",children:[y?l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[l.jsx("button",{onClick:()=>p("activity"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${h==="activity"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"Activity"})}),l.jsx("button",{onClick:()=>p("created"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${h==="created"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"Created"})}),l.jsx("button",{onClick:()=>p("purchased"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${h==="purchased"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"My Slots"})}),l.jsx("button",{onClick:()=>p("dashboard"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-colors ${h==="dashboard"?"border-primary bg-primary text-primary-foreground":"border-border bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})})]}):l.jsxs(XZ,{className:"grid w-full grid-cols-4",children:[l.jsx(Jg,{value:"activity",children:"Activity"}),l.jsx(Jg,{value:"created",children:"My Raffles"}),l.jsx(Jg,{value:"purchased",children:"My Slots"}),l.jsx(Jg,{value:"dashboard",children:"Dashboard"})]}),l.jsx(Qg,{value:"activity",className:y?"mt-4":"mt-6",children:l.jsx(A,{})}),l.jsx(Qg,{value:"created",className:y?"mt-4":"mt-6",children:l.jsx(P,{})}),l.jsx(Qg,{value:"purchased",className:y?"mt-4":"mt-6",children:l.jsx(I,{})}),l.jsx(Qg,{value:"dashboard",className:y?"mt-4":"mt-6",children:l.jsx(T,{})})]})})};function _A(r){switch(r){case 0:return"pending";case 1:return"active";case 2:return"ended";case 3:return"drawing";case 4:return"completed";case 5:return"deleted";case 6:return"activationFailed";case 7:return"allPrizesClaimed";case 8:return"unengaged";default:return"unknown"}}const T5=()=>{const{connected:r,address:e,provider:t,chainId:n}=ur(),{contracts:i,getContractInstance:s,executeTransaction:o,executeCall:a}=Cr(),u=C.useMemo(()=>r,[r]),d=C.useMemo(()=>e,[e]),h=C.useMemo(()=>i,[i]),[p,y]=C.useState(!0),[m,b]=C.useState([]),[x,w]=C.useState([]),[A,P]=C.useState([]),[I,T]=C.useState([]),[U,B]=C.useState({totalTicketsPurchased:0,totalRafflesCreated:0,totalPrizesWon:0,totalClaimableRefunds:0,withdrawableRevenue:"0"}),[H,G]=C.useState(!1),[W,V]=C.useState(null),K=C.useCallback(Y=>{var Q;if(Y!=null&&Y.reason)return Y.reason;if((Q=Y==null?void 0:Y.data)!=null&&Q.message)return Y.data.message;if(Y!=null&&Y.message){const Z=Y.message.match(/revert (.+)/);return Z?Z[1]:Y.message}return"Transaction failed"},[]),q=C.useCallback(Y=>{switch(Y&&typeof Y=="object"&&typeof Y.toNumber=="function"?Y.toNumber():Number(Y)){case 0:return"pending";case 1:return"active";case 2:return"ended";case 3:return"drawing";case 4:return"completed";case 5:return"deleted";case 6:return"activationFailed";case 7:return"allPrizesClaimed";case 8:return"unengaged";default:return"unknown"}},[]);C.useRef(new Map);const D=C.useCallback(Y=>{try{const Q=localStorage.getItem(Y);if(!Q)return null;const Z=JSON.parse(Q);return!Z||!Z.data||!Z.ts||!Z.ttl||Date.now()-Z.ts>Z.ttl?null:Z.data}catch{return null}},[]),v=C.useCallback((Y,Q,Z)=>{try{localStorage.setItem(Y,JSON.stringify({data:Q,ts:Date.now(),ttl:Z}))}catch{}},[]),S=900*1e3,_="v2",j=C.useCallback(async()=>{if(!h.protocolManager)return[];const Y=`raffles:all:${_}:${n}`,Q=D(Y);if(Q)return Q;try{const Z=await a(h.protocolManager.getAllPools,"getAllPools"),te=Z.success&&Array.isArray(Z.result)?Z.result:[];return Array.isArray(te)&&te.length>0&&v(Y,te,S),te}catch{return[]}},[h.protocolManager,n,a,D,v]),O=C.useCallback(async()=>{const Y=await j();return Y&&Y.length>0||!h.protocolManager?Y:(await new Promise(Z=>setTimeout(Z,1200)),await j())},[j,h.protocolManager]),z=C.useCallback(async Y=>{if(!h.protocolManager||!Y)return[];const Q=`raffles:byCreator:${_}:${n}:${Y.toLowerCase()}`,Z=D(Q);if(Z)return Z;try{const te=await a(h.protocolManager.getPoolsByCreator,"getPoolsByCreator",Y),ce=te.success&&Array.isArray(te.result)?te.result:[];return v(Q,ce,S),ce}catch{return[]}},[h.protocolManager,n,a,D,v]),E=C.useCallback(async Y=>{var Z;const Q=await z(Y);if(Q&&Q.length>0||!h.protocolManager)return Q;await new Promise(te=>setTimeout(te,1200));try{const te=await a(h.protocolManager.getPoolsByCreator,"getPoolsByCreator",Y),ce=te.success&&Array.isArray(te.result)?te.result:[];if(Array.isArray(ce)&&ce.length>0){const ne=`raffles:byCreator:${_}:${n}:${(Z=Y==null?void 0:Y.toLowerCase)==null?void 0:Z.call(Y)}`;v(ne,ce,S)}return ce}catch{return Q||[]}},[z,h.protocolManager,a,v,n]),M=C.useCallback(async()=>{if(!u||!d||!t){console.log("Missing requirements for fetchCreatedRaffles:",{stableConnected:u,stableAddress:!!d,provider:!!t});return}try{const Y=[],Q=[];let Z=de.from(0);const te=await E(d);console.log("Profile: Found",te.length,"created raffles for",d);for(const ce of te)try{const ne=s(ce,"pool");if(!ne)continue;const[ue,xe,ye,Se,pt,ae,Ye,Rt,Xe,Ie]=await Promise.all([a(ne.name,"name"),a(ne.slotFee,"slotFee"),a(ne.slotLimit,"slotLimit"),a(ne.startTime,"startTime"),a(ne.duration,"duration"),a(ne.state,"state"),a(ne.winnersCount,"winnersCount"),a(ne.usesCustomFee,"usesCustomFee"),a(ne.totalCreatorRevenue,"totalCreatorRevenue"),h.protocolManager?a(h.protocolManager.poolCreationTimestamps,"poolCreationTimestamps",ce):Promise.resolve({success:!1})]),Gt=ue.success?ue.result:`Raffle ${ce.slice(0,8)}...`,tt=xe.success?xe.result:de.from(0),xt=ye.success?ye.result:de.from(0),Me=Se.success?Se.result:de.from(0),oe=pt.success?pt.result:de.from(0),he=ae.success?ae.result:0,Oe=Ye.success?Ye.result:de.from(0),Te=Rt.success?!!Rt.result:!1,Re=Xe.success?Xe.result:de.from(0),jt=await gP(ne),qe=de.from(jt),rt=new Date(Me.add(oe).toNumber()*1e3);let Ht=de.from(0);Z=Z.add?Z.add(Re):de.from(Z).add(Re),Te?Ht=Re:Ht=de.from(0);const vt=Ie&&Ie.success&&Ie.result?Ie.result.toNumber?Ie.result.toNumber():Number(Ie.result):Me.toNumber?Me.toNumber():Math.floor(Date.now()/1e3);Y.push({address:ce,chainId:n,name:Gt,slotFee:Ii(tt),maxTickets:xt.toString(),ticketsSold:qe.toString(),endTime:rt,createdAt:vt*1e3,state:q(he),stateNum:he,revenue:Ii(Ht),usesCustomFee:Te}),Q.push({id:`getter-created-${ce}`,type:"raffle_created",raffleAddress:ce,raffleName:Gt,timestamp:vt*1e3})}catch(ne){console.error(`Error processing created raffle ${ce}:`,ne)}w(Y),B(ce=>({...ce,withdrawableRevenue:Ii(Z)})),Q.length>0&&b(ce=>{const ne=new Set(ce.map(xe=>xe.id)),ue=[...ce];for(const xe of Q)ne.has(xe.id)||ue.push(xe);return ue.sort((xe,ye)=>(ye.timestamp||0)-(xe.timestamp||0)),ue}),B(ce=>({...ce,totalRafflesCreated:Y.length}))}catch(Y){const Q=(Y.message||Y.toString()||"").toLowerCase(),Z=Y.data?(Y.data.message||Y.data.toString()||"").toLowerCase():"",te=`${Q} ${Z}`;if(te.includes("block range")||te.includes("too large")||te.includes("exceed")||te.includes("limit")||te.includes("range too large")||te.includes("maximum")||te.includes("query returned more than")||te.includes("block range limit")||te.includes("too many blocks")||te.includes("range exceeded")||Q.includes("10000")||Q.includes("5000")||Q.includes("50000")){console.warn("Mobile: Block range error in fetchCreatedRaffles (enhanced detection), suppressing toast:",Q);return}Yh(Y,{context:{operation:"fetchCreatedRaffles",isReadOnly:!0},fallbackMessage:"Failed to load created raffles"})}},[u,d,t,h.poolDeployer,a,s,q]),N=C.useCallback(async()=>{if(!u||!d||!t){console.log("Missing requirements for fetchPurchasedTickets:",{stableConnected:u,stableAddress:!!d,provider:!!t});return}try{const Y=[],Q=[],Z=[];if(h.protocolManager){const te=await O();console.log("Profile: Checking",te.length,"pools for purchased slots via getSlotsPurchased");for(const ce of te)try{const ne=s(ce,"pool");if(!ne)continue;const[ue,xe,ye,Se,pt,ae,Ye]=await Promise.all([a(ne.getSlotsPurchased,"getSlotsPurchased",d),a(ne.name,"name"),a(ne.slotFee,"slotFee"),a(ne.state,"state"),a(ne.startTime,"startTime"),a(ne.duration,"duration"),a(ne.lastPurchaseBlock,"lastPurchaseBlock",d)]),Rt=ue.success?ue.result:de.from(0),Xe=Rt.toNumber?Rt.toNumber():Number(Rt);if(Xe<=0)continue;const Ie=xe.success?xe.result:`Pool ${ce.slice(0,8)}...`,Gt=ye.success?ye.result:de.from(0),tt=Gt.mul?Gt.mul(Rt):de.from(0),xt=Se.success?Se.result:0,Me=pt.success?pt.result:de.from(0),oe=ae.success?ae.result:de.from(0),he=new Date(Me.add(oe).toNumber()*1e3);let Oe=Me.toNumber?Me.toNumber():Math.floor(Date.now()/1e3);try{const Re=Xe>0?Xe-1:0,jt=await a(ne.purchaseTimestamps,"purchaseTimestamps",d,Re);if(jt.success&&jt.result)Oe=jt.result.toNumber?jt.result.toNumber():Number(jt.result);else if(Ye.success&&Ye.result&&(t!=null&&t.getBlock)){const qe=Ye.result.toNumber?Ye.result.toNumber():Number(Ye.result);if(qe>0){const rt=await t.getBlock(qe);rt!=null&&rt.timestamp&&(Oe=rt.timestamp)}}}catch{}const Te={id:ce,address:ce,poolName:Ie,name:Ie,slotCount:Xe,slotFee:Ii(Gt),totalSpent:Ii(tt),state:_A(xt),endTime:he,purchaseTime:Oe,canClaimPrize:!1,canClaimRefund:!1,slots:Array.from({length:Xe},(Re,jt)=>jt.toString())};Q.push(Te),Z.push({id:`getter-slot-${ce}-${Oe}`,type:"ticket_purchase",poolAddress:ce,poolName:Ie,raffleName:Ie,quantity:Xe,ticketCount:Xe,amount:Ii(tt),timestamp:Oe*1e3,raffleAddress:ce})}catch(ne){console.error(`Error processing getSlotsPurchased for pool ${ce}:`,ne)}}else console.log("protocolManager contract not available");console.log("Setting purchased slots:",Q.length,"pools with slots using getters"),T(Q),P(Q),Z.length>0&&b(te=>{const ce=new Set(te.map(ue=>ue.id)),ne=[...te];for(const ue of Z)ce.has(ue.id)||ne.push(ue);return ne.sort((ue,xe)=>(xe.timestamp||0)-(ue.timestamp||0)),ne})}catch(Y){Yh(Y,{context:{operation:"fetchPurchasedSlots",isReadOnly:!0},fallbackMessage:"Failed to load purchased slots"})}},[u,d,t,h.protocolManager,a,s,_A,j]),R=C.useCallback(async()=>{if(!(!u||!d||!t||!h.protocolManager))try{const Y=await O();let Q=0,Z=0,te=de.from(0);for(const ce of Y)try{const ne=s(ce,"pool");if(!ne)continue;const[ue,xe,ye]=await Promise.all([a(ne.getSlotsPurchased,"getSlotsPurchased",d),a(ne.winsPerAddress,"winsPerAddress",d),a(ne.getRefundableAmount,"getRefundableAmount",d)]),Se=ue.success?ue.result:de.from(0),pt=xe.success?xe.result:de.from(0),ae=ye.success?ye.result:de.from(0);Q+=Se.toNumber?Se.toNumber():Number(Se),Z+=pt.toNumber?pt.toNumber():Number(pt),te=te.add?te.add(ae):de.from(te).add(ae)}catch(ne){console.warn("Skipping pool for totals due to error:",ce,(ne==null?void 0:ne.message)||ne)}B(ce=>({...ce,totalSlotsPurchased:Q,totalPrizesWon:Z,totalClaimableRefunds:te}))}catch(Y){Yh(Y,{context:{operation:"fetchDirectTotals",isReadOnly:!0},fallbackMessage:"Failed to compute profile totals"})}},[u,d,t,h.protocolManager,j,s,a]);C.useEffect(()=>{u&&d&&h.protocolManager?(b([]),w([]),P([]),B(Q=>({...Q,totalTicketsPurchased:0,totalRafflesCreated:0,totalPrizesWon:0,totalClaimableRefunds:0,withdrawableRevenue:"0"})),(async()=>{y(!0);try{await Promise.all([M(),N(),R()])}catch(Q){console.error("Error loading profile data:",Q)}finally{y(!1)}})()):(!u||!d)&&(b([]),w([]),P([]),y(!1),G(!1),V(null),B({totalTicketsPurchased:0,totalRafflesCreated:0,totalPrizesWon:0,totalClaimableRefunds:0,withdrawableRevenue:"0"}))},[u,d,h.protocolManager,M,N,R]);const X=C.useCallback(async Y=>{if(!Y||!u){ee.error("Please connect your wallet");return}try{const Q=s(Y,"pool");if(!Q){ee.error("Invalid raffle contract");return}await o(Q,"withdrawRevenue",[]),ee.success("Revenue withdrawn successfully!"),M(),G(!1),V(null)}catch(Q){console.error("Error withdrawing revenue:",Q),ee.error(K(Q))}},[u,s,o,M,K]),$=C.useCallback(async Y=>{if(!Y||!u){ee.error("Please connect your wallet");return}try{const Q=s(Y,"pool");if(!Q){ee.error("Invalid raffle contract");return}await o(Q,"claimRefund",[]),ee.success("Refund claimed successfully!"),N(),R()}catch(Q){console.error("Error claiming refund:",Q),ee.error(K(Q))}},[u,s,o,N,R,K]);return{userActivity:m,createdRaffles:x,purchasedTickets:A,purchasedSlots:I,activityStats:U,loading:p,showRevenueModal:H,setShowRevenueModal:G,selectedRaffle:W,setSelectedRaffle:V,fetchCreatedRaffles:M,fetchPurchasedTickets:N,withdrawRevenue:X,claimRefund:$,extractRevertReason:K,mapRaffleState:q,creatorStats:{totalRaffles:x.length,activeRaffles:x.filter(Y=>Y.state==="active").length,withdrawableRevenue:U.withdrawableRevenue||"0.0000",totalParticipants:x.reduce((Y,Q)=>Y+parseInt(Q.ticketsSold||0),0),uniqueParticipants:x.reduce((Y,Q)=>Y+parseInt(Q.ticketsSold||0),0),successRate:x.length>0?Math.round(x.filter(Y=>Y.state==="completed"||Y.state==="allPrizesClaimed").length/x.length*100):0}}},mee=()=>{const{connected:r,address:e,provider:t}=ur(),{getContractInstance:n,executeTransaction:i}=Cr(),s=Do(),[o,a]=C.useState("activity"),[u,d]=C.useState(null),{getCurrencySymbol:h,formatRevenueAmount:p}=Nn(),{userActivity:y,createdRaffles:m,purchasedTickets:b,activityStats:x,loading:w,claimRefund:A}=T5(),P=(S,_={})=>{const{stateNum:j,winnerCount:O}=_,z=["Pending","Active","Ended","Drawing","Completed","Deleted","ActivationFailed","AllPrizesClaimed","Unengaged"];let E="Unknown";if(Number.isFinite(j))E=j===7&&typeof O=="number"?O===1?"Prize Claimed":"Prizes Claimed":z[j]||"Unknown";else if(typeof S=="string"){const N=S.toLowerCase().replace(/[^a-z]/g,"");E={pending:"Pending",active:"Active",ended:"Ended",drawing:"Drawing",completed:"Completed",deleted:"Deleted",activationfailed:"ActivationFailed",activation_failed:"ActivationFailed",allprizesclaimed:"AllPrizesClaimed",all_prizes_claimed:"AllPrizesClaimed",unengaged:"Unengaged",unknown:"Unknown"}[N]||S.charAt(0).toUpperCase()+S.slice(1)}const M={Pending:"bg-yellow-100 text-yellow-800",Active:"bg-green-100 text-green-800",Ended:"bg-red-100 text-red-800",Drawing:"bg-purple-100 text-purple-800",Completed:"bg-blue-100 text-blue-800",Deleted:"bg-gray-200 text-gray-800",ActivationFailed:"bg-red-200 text-red-900",AllPrizesClaimed:"bg-blue-200 text-blue-900","Prize Claimed":"bg-blue-200 text-blue-900",Unengaged:"bg-gray-100 text-gray-800",Unknown:"bg-gray-100 text-gray-800"};return l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M[E]||M.Unknown}`,children:E})},[I,T]=C.useState({royalty:{loading:!1,collectionData:{address:"",type:null,royaltyPercentage:"",royaltyRecipient:""},collectionInfo:null,loadingInfo:!1,isRevealed:null,revealing:!1},minter:{loading:!1,collectionAddress:"",minterAddress:"",isApproved:!1,isLocked:!1,currentMinter:"",collectionName:"",collectionSymbol:"",collectionType:null,fetchedCollection:"",error:"",success:""},tokenCreator:{loading:!1,collectionData:{address:"",type:null},collectionInfo:null,loadingInfo:!1,tokenCreationData:{tokenId:"",maxSupply:""},uriData:{tokenId:"",tokenURI:""}},revenue:{loading:!1,raffleData:{address:"",isCreator:!1,revenueAmount:"0",raffleState:"unknown"},createdRaffles:[],mintData:{collectionAddress:"",collectionType:"erc721",recipient:"",quantity:"",tokenId:""},mintLoading:!1}});if(!r)return l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Connect Your Wallet"}),l.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to view your profile and activity."})]})});const U=()=>{const S=E=>{switch(E){case"ticket_purchase":return l.jsx(qw,{className:"h-4 w-4 text-blue-500"});case"raffle_created":return l.jsx(sa,{className:"h-4 w-4 text-green-500"});case"raffle_deleted":return l.jsx(Cp,{className:"h-4 w-4 text-red-500"});case"prize_won":return l.jsx(Jh,{className:"h-4 w-4 text-yellow-500"});case"prize_claimed":return l.jsx(Jh,{className:"h-4 w-4 text-yellow-500"});case"refund_claimed":return l.jsx(tf,{className:"h-4 w-4 text-orange-500"});case"revenue_withdrawn":return l.jsx(Ha,{className:"h-4 w-4 text-green-500"});case"admin_withdrawn":return l.jsx(Ha,{className:"h-4 w-4 text-purple-500"});default:return l.jsx(Cp,{className:"h-4 w-4 text-gray-500"})}},_=E=>{var R;const M=E.raffleName||E.name||`Raffle ${(R=E.raffleAddress)==null?void 0:R.slice(0,8)}...`,N=E.quantity||E.ticketCount||1;switch(E.type){case"ticket_purchase":return`Purchased ${N} ${M} slot${N>1?"s":""}`;case"raffle_created":return`Created raffle "${M}"`;case"raffle_deleted":return`Deleted raffle "${M}"`;case"prize_won":return`Won prize in "${M}"`;case"prize_claimed":return`Claimed prize from "${M}"`;case"refund_claimed":return`Claimed refund from "${M}"`;case"revenue_withdrawn":return`Withdrew revenue from "${M}"`;case"admin_withdrawn":return`Admin withdrawal: ${E.amount} ${h()}`;default:return E.description||"Activity"}},j=E=>{var N;const M=E.raffleName||E.name||`Raffle ${(N=E.raffleAddress)==null?void 0:N.slice(0,8)}...`;switch(E.type){case"ticket_purchase":return E.amount?`${E.amount} ${h()}`:"";case"prize_won":return`${M}  Congratulations!`;case"prize_claimed":const R=E.prizeType||"Prize",X=E.amount?` (${E.amount} ${E.prizeType==="Native Currency"?h():E.prizeType==="ERC20 Token"?"tokens":""})`:E.tokenId?` (Token ID: ${E.tokenId})`:"";return`${R}${X}`;case"refund_claimed":return E.amount?`${M}  ${E.amount} ${h()}`:M;case"revenue_withdrawn":return E.amount?`${E.amount} ${h()}`:"";default:return E.description||""}},O=E=>{try{if(!E&&E!==0)return"Unknown";let M;if(E instanceof Date)M=E.getTime();else if(typeof E=="number")M=E<1e12?E*1e3:E;else{const Q=new Date(E);M=isNaN(Q.getTime())?null:Q.getTime()}if(M==null)return"Unknown";const N=Date.now();let R=Math.floor((N-M)/1e3);if(R<0&&(R=0),R<60)return R<=1?"Just now":`${R}s ago`;const X=Math.floor(R/60);if(X<60)return`${X}m ago`;const $=Math.floor(X/60);return $<24?`${$}h ago`:`${Math.floor($/24)}d ago`}catch{return"Unknown"}},z=E=>{const M=typeof window<"u"&&window.ethereum&&window.ethereum.chainId?parseInt(window.ethereum.chainId,16):null,N=M&&$t[M]?$t[M].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):M||"",R=N?`/${N}/raffle/${E}`:`/raffle/${E}`;s(R)};return!y||y.length===0?l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Sp,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Activity Yet"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Activity will appear here once you participate in raffles."})]})}):l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Recent Activity"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[y.length," activities"]})]}),y.slice(0,10).map((E,M)=>l.jsx("div",{className:"bg-card beige-surface border border-[#614E41] rounded-lg p-4 hover:bg-muted/30 transition-colors",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:S(E.type)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-medium text-foreground text-sm",children:_(E)}),l.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:j(E)})]}),l.jsx("span",{className:"text-sm text-muted-foreground flex-shrink-0",children:O(E.timestamp)})]}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[l.jsx("button",{onClick:()=>z(E.raffleAddress),className:"text-sm bg-[#614E41] text-white px-3 py-1.5 rounded-md hover:bg-[#4a3a30] transition-colors",children:"View Pool"}),E.type==="ticket_purchase"&&E.state==="ended"&&l.jsx("button",{onClick:()=>A(E.raffleAddress),className:"text-sm bg-green-500/10 text-green-600 px-3 py-1.5 rounded-md hover:bg-green-500/20 transition-colors",children:"Claim Refund"})]})]})]})},E.id||M))]})},B=()=>u?H(u):l.jsxs("div",{className:"p-4 space-y-4 mobile-component-container",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Creator Dashboard"}),u&&l.jsx("button",{onClick:()=>d(null),className:"text-sm text-primary hover:text-primary/80",children:" Back"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-card beige-surface border border-[#614E41] rounded-lg p-4",children:[l.jsx("div",{className:"text-2xl font-bold",children:m.length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Raffles"})]}),l.jsxs("div",{className:"bg-card beige-surface border border-[#614E41] rounded-lg p-4",children:[l.jsx("div",{className:"text-2xl font-bold",children:m.filter(S=>S.state==="active").length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Raffles"})]}),l.jsxs("div",{className:"bg-card beige-surface border border-[#614E41] rounded-lg p-4",children:[l.jsx("div",{className:"text-2xl font-bold",children:p(x.withdrawableRevenue||"0")}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Revenue"})]}),l.jsxs("div",{className:"bg-card beige-surface border border-[#614E41] rounded-lg p-4",children:[l.jsxs("div",{className:"text-2xl font-bold",children:[m.length>0?Math.round(m.filter(S=>S.state==="completed").length/m.length*100):0,"%"]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Success Rate"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Creator Tools"}),l.jsx("button",{onClick:()=>d("royalty"),"data-dashboard-card":!0,className:"w-full bg-card beige-surface border border-[#614E41] rounded-lg p-4 text-left hover:bg-muted/30 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Uw,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Royalty & Reveal"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Manage royalties and reveal collections"})]})]})}),l.jsx("button",{onClick:()=>d("minter"),"data-dashboard-card":!0,className:"w-full bg-card beige-surface border border-[#614E41] rounded-lg p-4 text-left hover:bg-muted/30 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Yl,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Minter Approval"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Manage minter approvals for collections"})]})]})}),l.jsx("button",{onClick:()=>d("tokenCreator"),"data-dashboard-card":!0,className:"w-full bg-card beige-surface border border-[#614E41] rounded-lg p-4 text-left hover:bg-muted/30 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(sa,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Create New Token ID & Set Token URI"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Add new token IDs to ERC1155 collections and set metadata URIs"})]})]})}),l.jsx("button",{onClick:()=>d("revenue"),"data-dashboard-card":!0,className:"w-full bg-card beige-surface border border-[#614E41] rounded-lg p-4 text-left hover:bg-muted/30 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ha,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Creator Mint & Revenue Withdrawal"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Withdraw revenue from completed raffles"})]})]})})]})]}),H=S=>{const _=()=>d(null);switch(S){case"royalty":return G(_);case"minter":return W(_);case"tokenCreator":return V(_);case"revenue":return K(_);default:return B()}},G=S=>{var N;const _=I.royalty,j=R=>{T(X=>({...X,royalty:{...X.royalty,...R}}))},O=(R,X)=>{j({collectionData:{..._.collectionData,[R]:X}})},z=async()=>{if(!_.collectionData.address||!r){ee.error("Please enter a collection address and connect your wallet");return}j({loadingInfo:!0});try{let R=null,X=null;try{const ue=n(_.collectionData.address,"erc721Prize");if(ue)try{await ue.supportsInterface("0x80ac58cd")&&(R=ue,X="erc721")}catch{try{await ue.balanceOf(_.collectionData.address),R=ue,X="erc721"}catch{}}}catch{}if(!R)try{const ue=n(_.collectionData.address,"erc1155Prize");if(ue)try{await ue.supportsInterface("0xd9b67a26")&&(R=ue,X="erc1155")}catch{try{await ue.uri(0),R=ue,X="erc1155"}catch{}}}catch{}if(!R||!X)throw new Error("Invalid collection address or unsupported contract type");j({collectionData:{..._.collectionData,type:X}});let $="Unknown Collection",Y="Unknown",Q="Unknown";try{typeof R.name=="function"&&($=await R.name())}catch{}try{typeof R.symbol=="function"&&(Y=await R.symbol())}catch{}try{typeof R.owner=="function"&&(Q=await R.owner())}catch{}const Z=Q!=="Unknown"&&Q.toLowerCase()===e.toLowerCase(),te=await R.royaltyInfo(1,1e4),ce=await R.royaltyPercentage(),ne=await R.royaltyRecipient();j({collectionInfo:{address:_.collectionData.address,name:$,symbol:Y,owner:Q,type:X,isOwner:Z,currentRoyaltyPercentage:ce.toString(),currentRoyaltyRecipient:ne,royaltyAmount:te[1].toString()},collectionData:{..._.collectionData,type:X,royaltyPercentage:(ce.toNumber()/100).toString(),royaltyRecipient:ne}});try{const ue=await R.isRevealed();j({isRevealed:!!ue})}catch(ue){console.log("Could not fetch reveal status:",ue.message),j({isRevealed:null})}ee.success("Collection loaded successfully!")}catch(R){console.error("Error loading collection info:",R),ee.error("Error loading collection info: "+R.message),j({collectionInfo:null,isRevealed:null})}finally{j({loadingInfo:!1})}},E=async()=>{if(!r||!_.collectionInfo){ee.error("Please connect your wallet and load collection info first");return}if(!_.collectionInfo.isOwner){ee.error("You are not the owner of this collection");return}const R=parseFloat(_.collectionData.royaltyPercentage);if(isNaN(R)||R<0){ee.error("Please enter a valid royalty percentage (minimum 0%)");return}if(!_.collectionData.royaltyRecipient){ee.error("Please enter a royalty recipient address");return}j({loading:!0});try{const X=_.collectionData.type==="erc721"?"erc721Prize":"erc1155Prize",$=n(_.collectionData.address,X);if(!$)throw new Error("Failed to create contract instance");const Y=Math.floor(R*100),Q=await i($.setRoyalty,Y,_.collectionData.royaltyRecipient);if(Q.success)ee.success(`Royalty updated successfully! Transaction: ${Q.hash}`),await z();else throw new Error(Q.error)}catch(X){console.error("Error updating royalty:",X),ee.error("Error updating royalty: "+X.message)}finally{j({loading:!1})}},M=async()=>{if(!r||!_.collectionInfo){ee.error("Please connect your wallet and load collection info first");return}j({revealing:!0});try{const R=_.collectionData.type==="erc721"?"erc721Prize":"erc1155Prize",X=n(_.collectionData.address,R);if(!X)throw new Error("Failed to create contract instance");const $=await i(X.reveal);if($.success)ee.success("Collection revealed successfully!"),await z();else throw new Error($.error)}catch(R){ee.error("Error revealing collection: "+(R.message||R))}finally{j({revealing:!1})}};return l.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("button",{onClick:S,className:"text-primary hover:text-primary/80",children:" Back"}),l.jsx("h3",{className:"text-lg font-semibold",children:"Royalty & Reveal"})]}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Address"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ln,{value:_.collectionData.address,onChange:R=>O("address",R.target.value),placeholder:"0x...",className:"flex-1"}),l.jsxs("button",{onClick:z,disabled:_.loadingInfo||!r,className:"flex items-center gap-2 px-4 py-2 h-10 bg-[#614E41] text-white rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm text-sm",children:[l.jsx(Ua,{className:"h-4 w-4"}),_.loadingInfo?"Loading...":"Load"]})]})]})}),_.collectionInfo&&l.jsxs("div",{className:"bg-muted/50 beige-surface border border-[#614E41] rounded-lg p-4 space-y-3",children:[l.jsx("h4",{className:"font-semibold",children:"Collection Information"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"break-words",children:[l.jsx("span",{className:"font-medium",children:"Name:"})," ",_.collectionInfo.name]}),_.collectionInfo.symbol&&l.jsxs("div",{className:"break-words",children:[l.jsx("span",{className:"font-medium",children:"Symbol:"})," ",_.collectionInfo.symbol]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Type:"})," ",(N=_.collectionInfo.type)==null?void 0:N.toUpperCase()]}),l.jsxs("div",{className:"break-all",children:[l.jsx("span",{className:"font-medium",children:"Owner:"}),l.jsx("span",{className:"ml-1 font-mono text-xs",children:_.collectionInfo.owner})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Current Royalty:"})," ",(parseFloat(_.collectionInfo.currentRoyaltyPercentage)/100).toFixed(2),"%"]}),l.jsxs("div",{className:"break-all",children:[l.jsx("span",{className:"font-medium",children:"Royalty Recipient:"}),l.jsx("span",{className:"ml-1 font-mono text-xs",children:_.collectionInfo.currentRoyaltyRecipient})]}),_.isRevealed!==null&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Revealed:"})," ",_.isRevealed?"Yes":"No"]})]}),_.collectionInfo.isOwner&&_.isRevealed===!1&&l.jsx("button",{onClick:M,disabled:_.revealing||!r,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:_.revealing?"Revealing...":"Reveal Collection"})]}),_.collectionInfo&&_.collectionInfo.isOwner&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold",children:"Update Royalty Settings"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Royalty Percentage (%)"}),l.jsx(xs,{min:"0",step:"0.01",value:_.collectionData.royaltyPercentage,onChange:R=>O("royaltyPercentage",R.target.value),placeholder:"2.5"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Royalty Recipient"}),l.jsx(ln,{value:_.collectionData.royaltyRecipient,onChange:R=>O("royaltyRecipient",R.target.value),placeholder:"0x..."})]})]}),l.jsxs("button",{onClick:E,disabled:_.loading||!r||!_.collectionInfo||!_.collectionInfo.isOwner,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",children:[l.jsx(Uw,{className:"h-4 w-4"}),_.loading?"Updating...":"Update Royalty Settings"]})]})]})},W=S=>{var R;const _=I.minter,j=X=>{T($=>({...$,minter:{...$.minter,...X}}))},O=X=>rn(X),z=X=>{if(X!=null&&X.reason)return X.reason;if(X!=null&&X.message){const $=X.message.match(/reason="([^"]+)"/);return $?$[1]:X.message}return"Transaction failed"},E=async()=>{if(j({error:"",success:"",fetchedCollection:"",isLocked:!1,currentMinter:"",isApproved:!1,collectionName:"",collectionSymbol:"",collectionType:null}),!O(_.collectionAddress)){j({error:"Please enter a valid Ethereum contract address."});return}if(!t){j({error:"Provider not available."});return}try{j({loading:!0});let X=new At(_.collectionAddress,gt.erc721Prize,t),$=!1,Y="",Q="";try{const Z=await X.minterLocked(),te=await X.minter();j({isLocked:Z,currentMinter:te,collectionType:"erc721"}),$=!0}catch{X=new At(_.collectionAddress,gt.erc1155Prize,t);try{const te=await X.minterLocked(),ce=await X.minter();j({isLocked:te,currentMinter:ce,collectionType:"erc1155"})}catch(te){j({error:"Failed to fetch collection: "+te.message,collectionType:null,loading:!1});return}}if($){try{typeof X.name=="function"?Y=await X.name():Y="N/A"}catch{Y="N/A"}try{typeof X.symbol=="function"?Q=await X.symbol():Q="N/A"}catch{Q="N/A"}}else Y="ERC1155 Collection",Q="N/A";j({fetchedCollection:_.collectionAddress,collectionName:Y,collectionSymbol:Q,success:"Collection loaded successfully!",loading:!1})}catch(X){console.error("Error fetching collection:",X),j({error:"Failed to fetch collection: "+X.message,loading:!1})}},M=async X=>{if(!_.fetchedCollection||!t){ee.error("Please fetch a collection and enter a valid minter address");return}if(!_.minterAddress||!O(_.minterAddress)){ee.error("Please enter a valid Ethereum address");return}try{j({loading:!0,error:"",success:""});const $=t.getSigner();let Y;_.collectionType==="erc721"?Y=new At(_.fetchedCollection,gt.erc721Prize,$):_.collectionType==="erc1155"&&(Y=new At(_.fetchedCollection,gt.erc1155Prize,$)),await(await Y.setMinterApproval(_.minterAddress,X)).wait(),ee.success(`Minter ${X?"set":"removed"} successfully!`),j({isApproved:X,minterAddress:""})}catch($){ee.error(`Failed to set minter approval: ${z($)}`)}finally{j({loading:!1})}},N=async()=>{if(!_.fetchedCollection||!t){ee.error("Please fetch a collection first");return}try{j({loading:!0,error:"",success:""});const X=t.getSigner();let $;_.collectionType==="erc721"?$=new At(_.fetchedCollection,gt.erc721Prize,X):_.collectionType==="erc1155"&&($=new At(_.fetchedCollection,gt.erc1155Prize,X));let Y;try{if(typeof $.owner=="function")Y=await $.owner();else{ee.error("Contract does not support owner functionality"),j({loading:!1});return}}catch{ee.error("Failed to get contract owner"),j({loading:!1});return}const Q=await X.getAddress();if(Y.toLowerCase()!==Q.toLowerCase()){ee.error("Only the contract owner can lock/unlock minter approval"),j({loading:!1});return}let Z;_.collectionType==="erc721"?_.isLocked?(console.log("Attempting to unlock minter approval..."),Z=await $.unlockMinterApproval()):(console.log("Attempting to lock minter approval..."),Z=await $.lockMinterApproval()):_.collectionType==="erc1155"&&(_.isLocked?(console.log("Attempting to unlock minter approval..."),Z=await $.unlockMinterApproval()):(console.log("Attempting to lock minter approval..."),Z=await $.lockMinterApproval())),console.log("Transaction sent:",Z.hash),await Z.wait(),ee.success(`Minter approval ${_.isLocked?"unlocked":"locked"} successfully!`),j({isLocked:!_.isLocked})}catch(X){console.error("Error in toggleMinterApprovalLock:",X),ee.error(`Failed to ${_.isLocked?"unlock":"lock"} minter approval: ${z(X)}`)}finally{j({loading:!1})}};return l.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("button",{onClick:S,className:"text-primary hover:text-primary/80",children:" Back"}),l.jsx("h3",{className:"text-lg font-semibold",children:"Minter Approval Management"})]}),_.error&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(wr,{className:"h-4 w-4 text-red-600"}),l.jsx("span",{className:"text-sm text-red-800",children:_.error})]})}),_.success&&l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:l.jsx("div",{className:"text-sm text-green-800",children:_.success})}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Address"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ln,{value:_.collectionAddress,onChange:X=>j({collectionAddress:X.target.value}),placeholder:"0x...",className:"flex-1"}),l.jsxs("button",{onClick:E,disabled:_.loading||!r,className:"flex items-center gap-2 px-4 py-2 h-10 bg-[#614E41] text-white rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm text-sm",children:[l.jsx(Ua,{className:"h-4 w-4"}),_.loading?"Loading...":"Fetch Collection"]})]})]})}),_.fetchedCollection&&l.jsxs("div",{className:"bg-muted/50 beige-surface border border-[#614E41] rounded-lg p-4 space-y-3",children:[l.jsx("h4",{className:"font-semibold",children:"Collection Information"}),l.jsxs("div",{className:"text-sm space-y-2",children:[l.jsxs("div",{className:"break-all",children:[l.jsx("span",{className:"font-medium",children:"Address:"}),l.jsx("span",{className:"ml-1 font-mono text-xs",children:_.fetchedCollection})]}),l.jsxs("div",{className:"break-words",children:[l.jsx("span",{className:"font-medium",children:"Name:"})," ",_.collectionName]}),_.collectionSymbol&&l.jsxs("div",{className:"break-words",children:[l.jsx("span",{className:"font-medium",children:"Symbol:"})," ",_.collectionSymbol]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Type:"})," ",(R=_.collectionType)==null?void 0:R.toUpperCase()]}),l.jsxs("div",{className:"break-all",children:[l.jsx("span",{className:"font-medium",children:"Current Minter:"}),l.jsx("span",{className:"ml-1 font-mono text-xs",children:_.currentMinter||"None"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Minter Locked:"})," ",_.isLocked?"Yes":"No"]})]}),l.jsx("div",{className:"pt-2 border-t border-[#614E41]",children:l.jsx("button",{onClick:N,disabled:_.loading||!r,className:"w-full bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:_.loading?"Processing...":_.isLocked?"Unlock Minter Approval":"Lock Minter Approval"})})]}),_.fetchedCollection&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Minter Address"}),l.jsx(ln,{value:_.minterAddress,onChange:X=>j({minterAddress:X.target.value}),placeholder:"0x..."}),_.minterAddress&&_.isApproved&&l.jsx("p",{className:"text-sm text-green-600 mt-1",children:" This address is currently the minter"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("button",{onClick:()=>M(!0),disabled:_.loading||_.isApproved||_.isLocked||!_.minterAddress||!O(_.minterAddress),className:"w-full bg-[#614E41] text-white px-4 py-2 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",title:_.minterAddress?O(_.minterAddress)?_.isApproved?"Address is already the minter":_.isLocked?"Minter approval is locked":"Set as minter":"Please enter a valid address":"Please enter a minter address",children:[_.loading?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):l.jsx(Yl,{className:"h-4 w-4"}),"Set Minter"]}),l.jsxs("button",{onClick:()=>M(!1),disabled:_.loading||!_.isApproved||_.isLocked||!_.minterAddress||!O(_.minterAddress),className:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",title:_.minterAddress?O(_.minterAddress)?_.isApproved?_.isLocked?"Minter approval is locked":"Remove minter":"Address is not currently the minter":"Please enter a valid address":"Please enter a minter address",children:[_.loading?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):l.jsx(Yl,{className:"h-4 w-4"}),"Remove Minter"]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Royalty Enforcement Exemption Address"}),l.jsx(ln,{value:_.minterAddress,onChange:X=>j({minterAddress:X.target.value}),placeholder:"0x..."}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("button",{onClick:async()=>{try{j({loading:!0,error:""});const $=await new At(_.fetchedCollection,_.collectionType==="erc721"?gt.erc721Prize:gt.erc1155Prize,t).isRoyaltyEnforcementExempt(_.minterAddress);ee.success($?"Address is exempt from royalty enforcement":"Address is NOT exempt")}catch(X){ee.error(`Failed to check exemption: ${z(X)}`)}finally{j({loading:!1})}},disabled:!_.fetchedCollection||!_.minterAddress||!O(_.minterAddress)||_.loading,className:"w-full bg-gray-100 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Check exemption"}),l.jsx("button",{onClick:async()=>{try{j({loading:!0,error:""});const X=t.getSigner();await(await new At(_.fetchedCollection,_.collectionType==="erc721"?gt.erc721Prize:gt.erc1155Prize,X).setRoyaltyEnforcementExemption(_.minterAddress,!0)).wait(),ee.success("Exemption granted successfully")}catch(X){ee.error(`Failed to grant exemption: ${z(X)}`)}finally{j({loading:!1})}},disabled:!_.fetchedCollection||!_.minterAddress||!O(_.minterAddress)||_.loading,className:"w-full bg-[#614E41] text-white px-4 py-2 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Grant Exemption"}),l.jsx("button",{onClick:async()=>{try{j({loading:!0,error:""});const X=t.getSigner();await(await new At(_.fetchedCollection,_.collectionType==="erc721"?gt.erc721Prize:gt.erc1155Prize,X).setRoyaltyEnforcementExemption(_.minterAddress,!1)).wait(),ee.success("Exemption revoked successfully")}catch(X){ee.error(`Failed to revoke exemption: ${z(X)}`)}finally{j({loading:!1})}},disabled:!_.fetchedCollection||!_.minterAddress||!O(_.minterAddress)||_.loading,className:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Revoke Exemption"})]})]})]}),_.isLocked&&_.fetchedCollection&&l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(wr,{className:"h-4 w-4 text-yellow-600"}),l.jsx("span",{className:"text-sm text-yellow-800",children:"Minter approval is locked for this collection. Use the unlock button above to enable changes."})]})})]})},V=S=>{const _=I.tokenCreator,j=N=>{T(R=>({...R,tokenCreator:{...R.tokenCreator,...N}}))},O=async N=>{try{const R=n(N,"erc1155Prize");if(R)try{if(await R.supportsInterface("0xd9b67a26"))return{type:"erc1155",contract:R}}catch{try{return await R.balanceOf(N,0),{type:"erc1155",contract:R}}catch{}}const X=n(N,"erc721Prize");if(X)try{if(await X.supportsInterface("0x80ac58cd"))return{type:"erc721",contract:X}}catch{try{return await X.balanceOf(N),{type:"erc721",contract:X}}catch{}}throw new Error("Contract is neither ERC721 nor ERC1155 compatible")}catch(R){throw new Error(`Failed to detect contract type: ${R.message}`)}},z=async()=>{if(!_.collectionData.address||!r){ee.error("Please enter a collection address");return}j({loadingInfo:!0});try{const{type:N,contract:R}=await O(_.collectionData.address);if(N!=="erc1155"){ee.error(" This component is only for ERC1155 collections. The provided address appears to be an ERC721 collection. Please use the appropriate component for ERC721 collections."),j({collectionInfo:{address:_.collectionData.address,isOwner:!1,owner:"N/A",type:"erc721",isBlocked:!0},loadingInfo:!1});return}const X=await R.owner(),$=X.toLowerCase()===e.toLowerCase();j({collectionInfo:{address:_.collectionData.address,isOwner:$,owner:X,type:"erc1155"},collectionData:{..._.collectionData,type:"erc1155"}}),$?ee.success("ERC1155 collection loaded successfully"):ee.error("You are not the owner of this collection")}catch(N){console.error("Error loading collection info:",N),ee.error("Failed to load collection info. Please verify the address is a valid ERC1155 collection."),j({collectionInfo:null})}finally{j({loadingInfo:!1})}},E=async()=>{if(!r||!_.collectionInfo){ee.error("Please connect your wallet and load collection info first");return}const N=parseInt(_.tokenCreationData.tokenId),R=parseInt(_.tokenCreationData.maxSupply);if(isNaN(N)||N<0){ee.error("Please enter a valid token ID");return}if(isNaN(R)||R<=0){ee.error("Please enter a valid max supply");return}j({loading:!0});try{const X=n(_.collectionData.address,"erc1155Prize"),$=await i(X.createNewToken,N,R);if($.success)ee.success(`Token ID ${N} created successfully with max supply of ${R}!`),j({tokenCreationData:{tokenId:"",maxSupply:""}});else throw new Error($.error)}catch(X){console.error("Error creating new token:",X),ee.error(`Failed to create new token: ${X.message}`)}finally{j({loading:!1})}},M=async()=>{if(!r||!_.collectionInfo){ee.error("Please connect your wallet and load collection info first");return}const N=parseInt(_.uriData.tokenId);if(isNaN(N)||N<0){ee.error("Please enter a valid token ID");return}if(!_.uriData.tokenURI){ee.error("Please enter a token URI");return}j({loading:!0});try{const R=n(_.collectionData.address,"erc1155Prize"),X=await i(R.setURI,N,_.uriData.tokenURI);if(X.success)ee.success(`Token URI set successfully for token ID ${N}!`),j({uriData:{tokenId:"",tokenURI:""}});else throw new Error(X.error)}catch(R){console.error("Error setting token URI:",R),ee.error(`Failed to set token URI: ${R.message}`)}finally{j({loading:!1})}};return l.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("button",{onClick:S,className:"text-primary hover:text-primary/80",children:" Back"}),l.jsx("h3",{className:"text-lg font-semibold",children:"Create New Token ID & Set Token URI"})]}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"ERC1155 Collection Address"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ln,{value:_.collectionData.address,onChange:N=>j({collectionData:{..._.collectionData,address:N.target.value}}),placeholder:"0x...",className:"flex-1"}),l.jsxs("button",{onClick:z,disabled:_.loadingInfo||!r,className:"flex items-center gap-2 px-4 py-2 h-10 bg-[#614E41] text-white rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm text-sm",children:[l.jsx(Ua,{className:"h-4 w-4"}),_.loadingInfo?"Loading...":"Load"]})]})]})}),_.collectionInfo&&l.jsxs("div",{className:`p-4 rounded-lg border ${_.collectionInfo.isBlocked?"bg-destructive/10 border-destructive/20":"bg-muted/50"}`,children:[l.jsx("h4",{className:"text-sm text-muted-foreground mb-2",children:"Collection Information"}),l.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[l.jsxs("p",{className:"break-all",children:[l.jsx("span",{className:"text-muted-foreground",children:"Address:"})," ",_.collectionInfo.address]}),l.jsxs("p",{className:"break-all",children:[l.jsx("span",{className:"text-muted-foreground",children:"Owner:"})," ",_.collectionInfo.owner]}),l.jsxs("p",{children:[l.jsx("span",{className:"text-muted-foreground",children:"You are owner:"})," ",_.collectionInfo.isOwner?" Yes":" No"]}),l.jsxs("p",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Type:"})," ",_.collectionInfo.type==="erc721"?" ERC721 Collection (Incompatible)":" ERC1155 Collection"]})]}),_.collectionInfo.isBlocked&&l.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(wr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"This component only works with ERC1155 collections. The provided address is an ERC721 collection. Please use the appropriate component for ERC721 collections."})]}),!_.collectionInfo.isBlocked&&!_.collectionInfo.isOwner&&l.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center gap-2",children:[l.jsx(wr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm text-destructive",children:"You are not the owner of this collection and cannot create new tokens."})]})]}),_.collectionInfo&&_.collectionInfo.isOwner&&!_.collectionInfo.isBlocked&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold",children:"Create New Token ID"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token ID"}),l.jsx(xs,{min:"0",value:_.tokenCreationData.tokenId,onChange:N=>j({tokenCreationData:{..._.tokenCreationData,tokenId:N.target.value}}),placeholder:"1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Supply"}),l.jsx(xs,{min:"1",value:_.tokenCreationData.maxSupply,onChange:N=>j({tokenCreationData:{..._.tokenCreationData,maxSupply:N.target.value}}),placeholder:"100"})]})]}),l.jsxs("button",{onClick:E,disabled:_.loading||!r||!_.collectionInfo.isOwner||_.collectionInfo.isBlocked||!_.tokenCreationData.tokenId||!_.tokenCreationData.maxSupply,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",children:[l.jsx(sa,{className:"h-4 w-4"}),_.loading?"Creating...":"Create New Token ID"]})]}),_.collectionInfo&&_.collectionInfo.isOwner&&!_.collectionInfo.isBlocked&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold",children:"Set Token URI"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token ID"}),l.jsx(xs,{min:"0",value:_.uriData.tokenId,onChange:N=>j({uriData:{..._.uriData,tokenId:N.target.value}}),placeholder:"1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token URI"}),l.jsx(ln,{value:_.uriData.tokenURI,onChange:N=>j({uriData:{..._.uriData,tokenURI:N.target.value}}),placeholder:"https://..."})]})]}),l.jsxs("button",{onClick:M,disabled:_.loading||!r||!_.collectionInfo.isOwner||_.collectionInfo.isBlocked||!_.uriData.tokenId||!_.uriData.tokenURI,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",children:[l.jsx(Ua,{className:"h-4 w-4"}),_.loading?"Setting...":"Set Token URI"]})]})]})},K=S=>{const _=I.revenue,j=R=>{T(X=>({...X,revenue:{...X.revenue,...R}}))},O=async R=>{if(!R||!r){ee.error("Please enter a raffle address and connect your wallet");return}j({loading:!0});try{const X=n(R,"pool");if(!X)throw new Error("Failed to create raffle contract instance");const[$,Y,Q]=await Promise.all([X.creator(),X.totalCreatorRevenue(),X.state()]),Z=$.toLowerCase()===e.toLowerCase(),te=["Pending","Active","Ended","Drawing","Completed","Deleted","ActivationFailed","AllPrizesClaimed","Unengaged"],ce=Q&&typeof Q=="object"&&typeof Q.toNumber=="function"?Q.toNumber():Number(Q),ne=Number.isFinite(ce)&&ce>=0&&ce<te.length?te[ce]:"Unknown";j({raffleData:{address:R,revenueAmount:Ii(Y),isCreator:Z,raffleState:ne,totalRevenue:Y}})}catch(X){console.error("Error loading raffle info:",X),ee.error("Error loading raffle info: "+X.message),j({raffleData:{address:R,revenueAmount:"0",isCreator:!1,raffleState:"error"}})}finally{j({loading:!1})}},z=async()=>{if(!r||!_.raffleData.address){ee.error("Please connect your wallet and load raffle info first");return}if(!_.raffleData.isCreator){ee.error("You are not the creator of this raffle");return}if(parseFloat(_.raffleData.revenueAmount)<=0){ee.info("No revenue available for withdrawal");return}if(!["Completed","AllPrizesClaimed","Ended"].includes(_.raffleData.raffleState)){ee.info(`Revenue can only be withdrawn from completed raffles. Current state: ${_.raffleData.raffleState}`);return}j({loading:!0});try{const X=n(_.raffleData.address,"pool");if(!X)throw new Error("Failed to create raffle contract instance");const $=await i(X.withdrawCreatorRevenue);if($.success)ee.success(`Revenue withdrawn successfully! Transaction: ${$.hash}`),await O(_.raffleData.address);else throw new Error($.error)}catch(X){console.error("Error withdrawing revenue:",X),ee.error("Error withdrawing revenue: "+X.message)}finally{j({loading:!1})}},E=(R,X)=>{j({mintData:{..._.mintData,[R]:X}})},M=async()=>{if(!r||!e){ee.error("Please connect your wallet");return}if(!_.mintData.collectionAddress||!_.mintData.recipient||!_.mintData.quantity){ee.error("Please fill in all required fields");return}const R=parseInt(_.mintData.quantity);if(isNaN(R)||R<=0){ee.error("Please enter a valid quantity");return}if(_.mintData.collectionType==="erc1155"){const X=parseInt(_.mintData.tokenId);if(isNaN(X)||X<0){ee.error("Please enter a valid token ID for ERC1155");return}}j({mintLoading:!0});try{const X=_.mintData.collectionType==="erc721"?"erc721Prize":"erc1155Prize",$=n(_.mintData.collectionAddress,X);if(!$)throw new Error("Failed to create contract instance");let Y;if(_.mintData.collectionType==="erc721")Y=await i($.creatorMint,_.mintData.recipient,R);else{const Q=parseInt(_.mintData.tokenId);Y=await i($.creatorMint,_.mintData.recipient,Q,R)}if(Y.success)ee.success(`Successfully minted ${R} token(s)! Transaction: ${Y.hash}`),j({mintData:{..._.mintData,recipient:"",quantity:"",tokenId:""}});else throw new Error(Y.error)}catch(X){console.error("Error minting tokens:",X),ee.error("Error minting tokens: "+X.message)}finally{j({mintLoading:!1})}},N=_.raffleData.isCreator&&parseFloat(_.raffleData.revenueAmount)>0&&["Completed","AllPrizesClaimed","Ended"].includes(_.raffleData.raffleState);return l.jsxs("div",{className:"p-4 space-y-4 max-w-full overflow-x-hidden dashboard-component",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("button",{onClick:S,className:"text-primary hover:text-primary/80",children:" Back"}),l.jsx("h3",{className:"text-lg font-semibold",children:"Creator Mint & Revenue Withdrawal"})]}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Raffle Address"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ln,{value:_.raffleData.address,onChange:R=>j({raffleData:{..._.raffleData,address:R.target.value}}),placeholder:"0x...",className:"flex-1"}),l.jsxs("button",{onClick:()=>O(_.raffleData.address),disabled:_.loading||!r,className:"flex items-center gap-2 px-4 py-2 h-10 bg-[#614E41] text-white rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm text-sm",children:[l.jsx(Ua,{className:"h-4 w-4"}),_.loading?"Loading...":"Load"]})]})]})}),m.length>0&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"font-semibold",children:"Your Created Raffles"}),l.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:m.slice(0,5).map(R=>l.jsxs("button",{onClick:()=>O(R.address),className:"w-full text-left bg-muted/30 beige-surface border border-[#614E41] rounded-lg p-3 hover:bg-muted/50 transition-colors",children:[l.jsx("div",{className:"text-sm font-medium",children:R.name||`Raffle ${R.address.slice(0,8)}...`}),l.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:["State: ",P(R.state,{stateNum:R.stateNum})]})]},R.address))})]}),_.raffleData.address&&_.raffleData.raffleState!=="unknown"&&l.jsxs("div",{className:"bg-muted/50 beige-surface border border-[#614E41] rounded-lg p-4 space-y-3",children:[l.jsx("h4",{className:"font-semibold",children:"Raffle Information"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"break-all",children:[l.jsx("span",{className:"font-medium",children:"Address:"}),l.jsx("span",{className:"ml-1 font-mono text-xs",children:_.raffleData.address})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium",children:"State:"})," ",P(_.raffleData.raffleState,{stateNum:_.raffleData.stateNum,winnerCount:_.raffleData.winnerCount})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"You are creator:"})," ",_.raffleData.isCreator?"Yes":"No"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Available Revenue:"})," ",_.raffleData.revenueAmount," ",h()]})]}),_.raffleData.isCreator&&l.jsx("div",{className:"mt-4",children:N?l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:l.jsx("div",{className:"text-sm text-green-800",children:" Revenue withdrawal is available"})}):l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:l.jsx("div",{className:"text-sm text-yellow-800",children:parseFloat(_.raffleData.revenueAmount)<=0?"No revenue available for withdrawal":`Revenue withdrawal not available - raffle state: ${_.raffleData.raffleState}`})})})]}),_.raffleData.isCreator&&l.jsxs("button",{onClick:z,disabled:_.loading||!r||!N,className:"w-full bg-[#614E41] text-white px-6 py-2.5 h-10 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",children:[l.jsx(Ha,{className:"h-4 w-4"}),_.loading?"Withdrawing...":`Withdraw ${_.raffleData.revenueAmount} ${h()}`]}),l.jsxs("div",{className:"space-y-4 border-t border-[#614E41] pt-6",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Creator Mint"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Mint tokens directly to winners or any address"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Type"}),l.jsxs(nc,{value:_.mintData.collectionType,onValueChange:R=>E("collectionType",R),children:[l.jsx(sc,{children:l.jsx(ic,{placeholder:"Select collection type"})}),l.jsxs(oc,{children:[l.jsx(Wn,{value:"erc721",children:"ERC721"}),l.jsx(Wn,{value:"erc1155",children:"ERC1155"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Address"}),l.jsx(ln,{value:_.mintData.collectionAddress,onChange:R=>E("collectionAddress",R.target.value),placeholder:"0x..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Recipient Address"}),l.jsx(ln,{value:_.mintData.recipient,onChange:R=>E("recipient",R.target.value),placeholder:"0x..."})]}),_.mintData.collectionType==="erc1155"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Token ID"}),l.jsx(xs,{min:"0",value:_.mintData.tokenId,onChange:R=>E("tokenId",R.target.value),placeholder:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity"}),l.jsx(xs,{min:"1",value:_.mintData.quantity,onChange:R=>E("quantity",R.target.value),placeholder:"1"})]}),l.jsxs("button",{onClick:M,disabled:_.mintLoading||!r||!_.mintData.collectionAddress||!_.mintData.recipient||!_.mintData.quantity||_.mintData.collectionType==="erc1155"&&!_.mintData.tokenId,className:"w-full bg-green-600 text-white px-6 py-2.5 h-10 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-sm text-sm",children:[l.jsx(sa,{className:"h-4 w-4"}),_.mintLoading?"Minting...":`Mint ${_.mintData.quantity||"1"} Token(s)`]}),!r&&l.jsx("div",{className:"text-center p-4 bg-muted rounded-lg",children:l.jsx("p",{className:"text-muted-foreground text-sm",children:"Please connect your wallet to use creator mint functionality."})})]})]})},q=()=>{const S=_=>{const j=typeof window<"u"&&window.ethereum&&window.ethereum.chainId?parseInt(window.ethereum.chainId,16):null,O=j&&$t[j]?$t[j].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):j||"",z=O?`/${O}/raffle/${_}`:`/raffle/${_}`;s(z)};return!m||m.length===0?l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Jh,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Raffles Created Yet"}),l.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"You haven't created any raffles yet. Start by creating your first raffle!"}),l.jsx("button",{onClick:()=>s("/create-raffle"),className:"bg-[#614E41] text-white px-6 py-2 rounded-lg hover:bg-[#4a3a30] transition-colors",children:"Create Your First Raffle"})]})}):l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"My Raffles"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[m.length," raffles"]})]}),m.map(_=>l.jsxs("div",{className:"bg-card beige-surface border border-[#614E41] rounded-lg p-4 hover:bg-muted/30 transition-colors",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-medium text-foreground text-sm mb-1",children:_.name||`Raffle ${_.address.slice(0,8)}...`}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[l.jsx("span",{className:"font-medium",children:"State:"})," ",P(_.state,{stateNum:_.stateNum})]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Slots Sold:"})," ",_.ticketsSold||0," / ",_.maxTickets||"Unlimited"]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Revenue:"})," ",p(_.revenue||"0")]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Created:"})," ",_.createdAt?new Date(_.createdAt<1e12?_.createdAt*1e3:_.createdAt).toLocaleString():"Unknown"]})]})]}),l.jsx("div",{className:"flex flex-col gap-2",children:l.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${_.state==="active"?"bg-green-100 text-green-800":_.state==="completed"?"bg-blue-100 text-blue-800":_.state==="ended"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:_.state})})]}),l.jsx("div",{className:"flex gap-2 mt-3",children:l.jsx("button",{onClick:()=>S(_.address),className:"text-sm bg-primary/10 text-primary px-3 py-1.5 rounded-md hover:bg-primary/20 transition-colors",children:"View Details"})})]},_.address))]})},D=()=>!b||b.length===0?l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(qw,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Slots Purchased Yet"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"You haven't purchased any pool slots yet. Browse active pools to get started!"})]})}):l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Purchased Slots"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[b.length," slots"]})]}),b.map((S,_)=>{var j;return l.jsxs("div",{className:"bg-card beige-surface border border-[#614E41] rounded-lg p-4 hover:bg-muted/30 transition-colors",children:[l.jsx("div",{className:"flex items-start justify-between gap-3",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-medium text-foreground text-sm mb-1",children:S.raffleName||`Raffle ${(j=S.raffleAddress)==null?void 0:j.slice(0,8)}...`}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Slots:"})," ",S.quantity||S.ticketCount||1]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Amount Paid:"})," ",(()=>{const O=S.totalSpent??S.amount;if(O==null||O===""){const z=S.quantity||S.ticketCount||0,E=S.slotFee;if(E){const M=(parseFloat(E)||0)*z;return p(M.toString())}return p("0")}return p(O)})()]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Purchased:"})," ",S.purchaseTime?new Date(S.purchaseTime<1e12?S.purchaseTime*1e3:S.purchaseTime).toLocaleString():"Unknown"]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"State:"})," ",P(S.state,{stateNum:S.stateNum})]})]})]})}),l.jsx("div",{className:"flex gap-2 mt-3",children:S.state==="ended"&&l.jsx("button",{onClick:()=>A(S.raffleAddress),className:"text-sm bg-green-500/10 text-green-600 px-3 py-1.5 rounded-md hover:bg-green-500/20 transition-colors",children:"Claim Refund"})})]},S.id||_)})]}),v=()=>o==="activity"?U():o==="created"?q():o==="purchased"?D():o==="dashboard"?B():U();return l.jsxs("div",{className:"min-h-screen bg-background overflow-x-hidden",children:[l.jsxs("div",{className:"bg-card beige-surface border-b border-[#614E41] p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Profile"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Track activities and manage your raffles"}),l.jsxs("div",{className:"bg-muted/50 beige-surface border border-[#614E41] rounded-lg p-3",children:[l.jsx("p",{className:"text-sm font-medium",children:"Connected Account:"}),l.jsx("p",{className:"text-xs font-mono break-all",children:e})]})]}),l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[l.jsx("button",{onClick:()=>a("activity"),"data-profile-tab":!0,className:`p-4 rounded-lg border transition-colors ${o==="activity"?"border-primary bg-primary/10 text-primary":"border-[#614E41] bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"Activity"})}),l.jsx("button",{onClick:()=>a("created"),"data-profile-tab":!0,className:`p-4 rounded-lg border transition-colors ${o==="created"?"border-primary bg-primary/10 text-primary":"border-[#614E41] bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"My Raffles"})}),l.jsx("button",{onClick:()=>a("purchased"),"data-profile-tab":!0,className:`p-4 rounded-lg border transition-colors ${o==="purchased"?"border-primary bg-primary/10 text-primary":"border-[#614E41] bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"Slots"})}),l.jsx("button",{onClick:()=>a("dashboard"),"data-profile-tab":!0,className:`p-4 rounded-lg border transition-colors ${o==="dashboard"?"border-primary bg-primary/10 text-primary":"border-[#614E41] bg-background hover:bg-muted text-foreground"}`,children:l.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})})]})}),l.jsx("div",{className:"pb-8",children:v()}),w&&l.jsxs("div",{className:"text-center py-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto mb-2"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Loading on-chain data"})]})]})},gee=()=>{const{isMobile:r,isInitialized:e}=Wr();return e?r?l.jsx(mee,{}):l.jsx(yee,{}):l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold mb-2",style:{fontFamily:"Orbitron, monospace"},children:"Rafflhub"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading..."})]})})},yee=()=>{const{connected:r,address:e,provider:t,chainId:n}=ur(),{contracts:i,getContractInstance:s,executeTransaction:o,executeCall:a}=Cr();Do();const{isMobile:u}=Wr(),{getCurrencySymbol:d}=Nn(),{userActivity:h,createdRaffles:p,purchasedTickets:y,activityStats:m,creatorStats:b,loading:x,showRevenueModal:w,selectedRaffle:A,setSelectedRaffle:P,fetchCreatedRaffles:I,fetchPurchasedTickets:T}=T5(),[U,B]=C.useState("activity"),H=C.useMemo(()=>h.map(D=>{const v=()=>{var z;const j=D.raffleName||D.name||`Raffle ${(z=D.raffleAddress)==null?void 0:z.slice(0,8)}...`,O=D.quantity||D.ticketCount||1;switch(D.type){case"ticket_purchase":return`Purchased ${O} ${j} slot${O>1?"s":""}`;case"raffle_created":return`Created raffle "${j}"`;case"raffle_deleted":return`Deleted raffle "${j}"`;case"prize_won":return`Won prize in "${j}"`;case"prize_claimed":return`Claimed prize from "${j}"`;case"refund_claimed":return`Claimed refund from "${j}"`;case"revenue_withdrawn":return`Withdrew revenue from "${j}"`;case"admin_withdrawn":return`Admin withdrawal: ${D.amount} ${d()}`;default:return D.description||"Activity"}},S=()=>{switch(D.type){case"ticket_purchase":return D.amount?`${D.amount} ${d()}`:"";case"refund_claimed":return D.amount?`${D.amount} ${d()}`:"";default:return D.description||""}},_=()=>{switch(D.type){case"ticket_purchase":return l.jsx(qw,{className:"h-4 w-4 text-blue-500"});case"raffle_created":return l.jsx(sa,{className:"h-4 w-4 text-green-500"});case"raffle_deleted":return l.jsx(Cp,{className:"h-4 w-4 text-red-500"});case"prize_won":return l.jsx(Jh,{className:"h-4 w-4 text-yellow-500"});case"prize_claimed":return l.jsx(Jh,{className:"h-4 w-4 text-yellow-500"});case"refund_claimed":return l.jsx(tf,{className:"h-4 w-4 text-orange-500"});case"revenue_withdrawn":return l.jsx(Ha,{className:"h-4 w-4 text-green-500"});case"admin_withdrawn":return l.jsx(Ha,{className:"h-4 w-4 text-purple-500"});default:return l.jsx(Cp,{className:"h-4 w-4 text-gray-500"})}};return{...D,title:v(),description:S(),icon:_(),timestamp:D.timestamp?new Date(D.timestamp<1e12?D.timestamp*1e3:D.timestamp).toLocaleString():"Unknown date"}}),[h]);function G(D){var _,j;if(D!=null&&D.reason)return D.reason;if((_=D==null?void 0:D.data)!=null&&_.message)return D.data.message;const v=(D==null?void 0:D.message)||((j=D==null?void 0:D.data)==null?void 0:j.message)||(D==null?void 0:D.toString())||"",S=v.match(/execution reverted:?\s*([^\n]*)/i);return S&&S[1]?S[1].trim():v}const W=async D=>{let v=`Are you sure you want to delete "${D.name}"?`;if(D.ticketsSold>0&&(v+=`

This raffle has ${D.ticketsSold} sold tickets. Deletion will automatically process refunds for all participants.`),!!window.confirm(v))try{const S=s(D.address,"pool");if(!S)throw new Error("Failed to get raffle contract");const _=await o(S.deleteRaffle);if(_.success){const j=D.ticketsSold>0?`Raffle deleted successfully! Refunds have been processed automatically for ${D.ticketsSold} sold tickets.`:"Raffle deleted successfully!";ee.success(j),setLoading(!0),await Promise.all([I(),T()]),setLoading(!1)}else throw new Error(_.error)}catch(S){ee.error(G(S))}},V=D=>{P(D),setShowRevenueModal(!0)},K=async D=>{try{const v=s(D.raffleAddress,"pool");if(!v)throw new Error("Failed to get pool contract");let S;if(D.prizeAmount>1?S=await o(v.claimPrizes,D.prizeAmount):S=await o(v.claimPrize),S.success)ee.success("Prize claimed successfully!"),setLoading(!0),await Promise.all([I(),T()]),setLoading(!1);else throw new Error(S.error)}catch(v){ee.error(G(v))}},q=async D=>{try{const v=s(D.raffleAddress,"pool");if(!v)throw new Error("Failed to get pool contract");const S=await v.refundedNonWinningTickets(e),_=S&&S.gt&&S.gt(0),j=await o(v.claimRefund);if(j.success)ee.success("Refund claimed successfully!"),setLoading(!0),await Promise.all([I(),T()]),setLoading(!1);else throw new Error(j.error)}catch(v){ee.error(G(v))}};return r?l.jsxs(Va,{variant:"profile",className:u?"py-4":"py-8",children:[l.jsxs("div",{className:u?"mb-6":"mb-8",children:[l.jsx("div",{className:`${u?"mb-4":"flex items-center justify-between mb-4"}`,children:l.jsxs("div",{children:[l.jsx("h1",{className:`font-bold mb-2 ${u?"text-2xl":"text-3xl"}`,children:"Profile"}),l.jsx("p",{className:`text-muted-foreground ${u?"text-sm":"text-base"}`,children:"Track activities, manage your raffles, revenue and collections"})]})}),l.jsxs("div",{className:`mt-4 bg-muted/50 backdrop-blur-sm border border-border/30 rounded-lg ${u?"p-3":"p-4"}`,children:[l.jsx("p",{className:"text-sm font-medium",children:"Connected Account:"}),l.jsx("p",{className:`font-mono ${u?"text-xs break-all":"text-sm"}`,children:e})]})]}),!u&&l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:`font-semibold mb-4 ${u?"text-lg":"text-xl"}`,children:"Activity Overview"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 shadow-xl border-border/80 transition-all duration-300",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(rf,{className:"h-8 w-8 text-blue-500"}),l.jsxs("div",{children:[l.jsx("p",{className:`font-bold ${u?"text-lg":"text-2xl"}`,children:Number(m.totalSlotsPurchased||0).toLocaleString()}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Slots Purchased"})]})]})}),l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 shadow-xl border-border/80 transition-all duration-300",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(sa,{className:"h-8 w-8 text-green-500"}),l.jsxs("div",{children:[l.jsx("p",{className:`font-bold ${u?"text-lg":"text-2xl"}`,children:Number(m.totalRafflesCreated||0).toLocaleString()}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Raffles Created"})]})]})}),l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 shadow-xl border-border/80 transition-all duration-300",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ou,{className:"h-8 w-8 text-yellow-500"}),l.jsxs("div",{children:[l.jsx("p",{className:`font-bold ${u?"text-lg":"text-2xl"}`,children:Number(m.totalPrizesWon||0).toLocaleString()}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Wins"})]})]})}),l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-xl p-4 shadow-xl border-border/80 transition-all duration-300",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ha,{className:"h-8 w-8 text-orange-500"}),l.jsxs("div",{children:[l.jsx("p",{className:`font-bold ${u?"text-lg":"text-2xl"}`,children:(()=>{const D=m.totalClaimableRefunds,v=d();if(!D||!D.toString)return`0 ${v}`;try{const j=parseFloat(Ii(D)).toFixed(8).replace(/\.0+$/,"").replace(/(\.\d*[1-9])0+$/,"$1");return`${j===""||j==="."?"0":j} ${v}`}catch{return`0 ${v}`}})()}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Claimable Refunds"})]})]})})]})]}),x&&l.jsxs("div",{className:"text-center py-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Loading on-chain data"})]}),l.jsx(pee,{activities:H,createdRaffles:p,purchasedTickets:y,creatorStats:b,onDeleteRaffle:W,onViewRevenue:V,onClaimPrize:K,onClaimRefund:q}),w&&A&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-card/90 backdrop-blur-md border border-border/50 rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revenue Details"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Raffle:"}),l.jsx("span",{className:"font-medium",children:A.name})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Total Revenue:"}),l.jsxs("span",{className:"font-medium",children:[Ii(A.totalRevenue)," ETH"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Tickets Sold:"}),l.jsx("span",{className:"font-medium",children:A.ticketsSold})]})]}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:()=>setShowRevenueModal(!1),className:"flex-1 bg-[#614E41] text-white px-4 py-2 rounded-md hover:bg-[#4a3a30] transition-colors",children:"Close"}),l.jsx("button",{onClick:()=>{setShowRevenueModal(!1)},className:"flex-1 bg-[#614E41] text-white px-4 py-2 rounded-md hover:bg-[#4a3a30] transition-colors",children:"Withdraw"})]})]})})]}):l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Connect Your Wallet"}),l.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to view your profile and activity."})]})})};var hx="Switch",[xee,fie]=co(hx),[vee,bee]=xee(hx),A5=C.forwardRef((r,e)=>{const{__scopeSwitch:t,name:n,checked:i,defaultChecked:s,required:o,disabled:a,value:u="on",onCheckedChange:d,form:h,...p}=r,[y,m]=C.useState(null),b=gr(e,I=>m(I)),x=C.useRef(!1),w=y?h||!!y.closest("form"):!0,[A,P]=Oo({prop:i,defaultProp:s??!1,onChange:d,caller:hx});return l.jsxs(vee,{scope:t,checked:A,disabled:a,children:[l.jsx(Ot.button,{type:"button",role:"switch","aria-checked":A,"aria-required":o,"data-state":I5(A),"data-disabled":a?"":void 0,disabled:a,value:u,...p,ref:b,onClick:Ke(r.onClick,I=>{P(T=>!T),w&&(x.current=I.isPropagationStopped(),x.current||I.stopPropagation())})}),w&&l.jsx(R5,{control:y,bubbles:!x.current,name:n,value:u,checked:A,required:o,disabled:a,form:h,style:{transform:"translateX(-100%)"}})]})});A5.displayName=hx;var j5="SwitchThumb",P5=C.forwardRef((r,e)=>{const{__scopeSwitch:t,...n}=r,i=bee(j5,t);return l.jsx(Ot.span,{"data-state":I5(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});P5.displayName=j5;var wee="SwitchBubbleInput",R5=C.forwardRef(({__scopeSwitch:r,control:e,checked:t,bubbles:n=!0,...i},s)=>{const o=C.useRef(null),a=gr(o,s),u=XP(t),d=UP(e);return C.useEffect(()=>{const h=o.current;if(!h)return;const p=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==t&&m){const b=new Event("click",{bubbles:n});m.call(h,t),h.dispatchEvent(b)}},[u,t,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...i,tabIndex:-1,ref:a,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});R5.displayName=wee;function I5(r){return r?"checked":"unchecked"}var kee=A5,_ee=P5;function M5({className:r,size:e="default",...t}){const n={default:{root:"h-5 w-9 rounded-full",thumb:"h-4 w-4 rounded-full data-[state=checked]:translate-x-4"},mobile:{root:"h-7 w-12 rounded-full",thumb:"h-5 w-5 rounded-full data-[state=checked]:translate-x-5"},large:{root:"h-8 w-14 rounded-full",thumb:"h-7 w-7 rounded-full data-[state=checked]:translate-x-6"}},i=n[e]||n.default;return l.jsx(kee,{"data-slot":"switch",className:ct("peer inline-flex shrink-0 cursor-pointer items-center border-2 border-transparent transition-all duration-200 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-muted hover:data-[state=unchecked]:bg-muted/80 active:scale-95",i.root,r),...t,children:l.jsx(_ee,{"data-slot":"switch-thumb",className:ct("pointer-events-none block bg-background shadow-lg ring-0 transition-all duration-200 ease-in-out data-[state=unchecked]:translate-x-0 data-[state=checked]:shadow-xl",i.thumb)})})}const sl=({tokenGatedEnabled:r,onTokenGatedChange:e,formData:t,handleChange:n,required:i=!1,useFormDataEnabled:s=!1})=>{const{isMobile:o}=Wr(),a=s?t.tokenGatedEnabled:r,u=s?d=>n("tokenGatedEnabled",d):e;return l.jsxs(l.Fragment,{children:[o?l.jsx("div",{className:"p-4 bg-card/50 rounded-xl border border-border/50 mb-4 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between gap-4 cursor-pointer select-none transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 hover:bg-muted/10 active:bg-muted/20 rounded-lg p-1 -m-1",onClick:()=>u(!a),onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),u(!a))},tabIndex:0,role:"button","aria-label":`${a?"Disable":"Enable"} token-gated access`,children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"font-medium block cursor-pointer text-base mb-1",children:"Enable Token-Gated Access"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Restrict raffle participation to token holders"})]}),l.jsx(Br,{className:`h-6 w-6 transition-colors duration-200 ${a?"text-green-600":"text-muted-foreground/40"}`})]})}):l.jsx("div",{className:"mb-2",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(M5,{checked:a,onCheckedChange:u,size:"default"}),l.jsx("div",{className:"flex-1 cursor-pointer select-none transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 hover:text-foreground/80 active:text-foreground",onClick:()=>u(!a),onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),u(!a))},tabIndex:0,role:"button","aria-label":`${a?"Disable":"Enable"} token-gated access`,children:l.jsx("label",{className:"font-medium block cursor-pointer text-sm",children:"Enable Token-Gated Access"})})]})}),a&&l.jsx("div",{className:"p-4 border rounded-lg bg-muted/10 mb-4",children:l.jsxs("div",{className:`${o?"space-y-4":"grid grid-cols-1 md:grid-cols-2 gap-4"}`,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-base",children:"Token Address"}),l.jsx("input",{type:"text",value:t.holderTokenAddress||"",onChange:d=>n("holderTokenAddress",d.target.value),className:`w-full border border-border rounded-lg bg-background font-mono ${o?"px-4 py-3 text-base":"px-3 py-2.5 text-base"}`,placeholder:"0x...",required:i&&a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-base",children:"Token Standard"}),l.jsxs(nc,{value:t.holderTokenStandard||"0",onValueChange:d=>n("holderTokenStandard",d),required:i&&a,children:[l.jsx(sc,{className:`w-full border border-border rounded-lg bg-background ${o?"px-4 py-3 text-base h-12":"px-3 py-2.5 text-base"}`,children:l.jsx(ic,{placeholder:"Select Token Standard"})}),l.jsxs(oc,{children:[l.jsx(Wn,{value:"0",children:"ERC721"}),l.jsx(Wn,{value:"1",children:"ERC1155"}),l.jsx(Wn,{value:"2",children:"ERC20"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-base",children:"Minimum Holder Balance"}),l.jsx("input",{type:"number",value:t.minHolderTokenBalance||"",onChange:d=>n("minHolderTokenBalance",d.target.value),className:`w-full border border-border rounded-lg bg-background ${o?"px-4 py-3 text-base":"px-3 py-2.5 text-base"}`,placeholder:"Minimum balance required to enter",required:i&&a})]}),t.holderTokenStandard==="1"&&l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-base",children:"Token ID"}),l.jsx("input",{type:"number",value:t.holderTokenId||"",onChange:d=>n("holderTokenId",d.target.value),className:`w-full border border-border rounded-lg bg-background ${o?"px-4 py-3 text-base":"px-3 py-2.5 text-base"}`,placeholder:"Token ID (for ERC1155)",required:i&&a})]})]})})]})},ol=({socialEngagementEnabled:r,onSocialEngagementChange:e,formData:t,handleChange:n,required:i=!1,useFormDataEnabled:s=!1})=>{const{isMobile:o}=Wr(),a=s?t.socialEngagementEnabled:r,u=s?w=>n("socialEngagementEnabled",w):e,d=t.socialTasks||[],h=()=>{const w=[...d,{id:Date.now(),platform:"twitter",action:"follow",target:"",description:""}];n("socialTasks",w)},p=w=>{const A=d.filter(P=>P.id!==w);n("socialTasks",A)},y=(w,A,P)=>{const I=d.map(T=>T.id===w?{...T,[A]:P}:T);n("socialTasks",I)},m=w=>{switch(w){case"twitter":return l.jsx(K0,{className:"h-4 w-4"});case"discord":return l.jsx(v0,{className:"h-4 w-4"});case"telegram":return l.jsx($w,{className:"h-4 w-4"});default:return l.jsx(v0,{className:"h-4 w-4"})}},b=w=>{switch(w){case"twitter":return[{value:"follow",label:"Follow Account"},{value:"like",label:"Like Tweet"},{value:"retweet",label:"Retweet"},{value:"comment",label:"Comment on Tweet"},{value:"quote",label:"Quote Tweet"}];case"discord":return[{value:"join",label:"Join Server"},{value:"react",label:"React to Message"}];case"telegram":return[{value:"join",label:"Join Channel/Group"},{value:"follow",label:"Follow Channel"}];default:return[]}},x=()=>d.length===0?"":d.map(A=>{var I;const P=((I=b(A.platform).find(T=>T.value===A.action))==null?void 0:I.label)||A.action;return`${A.platform.toUpperCase()}: ${P} - ${A.target}`}).join(" | ");return ve.useEffect(()=>{a?n("socialTaskDescription",x()):n("socialTaskDescription","")},[d,a]),l.jsxs(l.Fragment,{children:[o?l.jsx("div",{className:"p-4 bg-card/50 rounded-xl border border-border/50 mb-4 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between gap-4 cursor-pointer select-none transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 hover:bg-muted/10 active:bg-muted/20 rounded-lg p-1 -m-1",onClick:()=>u(!a),onKeyDown:w=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),u(!a))},tabIndex:0,role:"button","aria-label":`${a?"Disable":"Enable"} social media tasks`,children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"font-medium block cursor-pointer text-base mb-1",children:"Enable Social Media Tasks"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Require participants to complete social media engagement tasks"})]}),l.jsx(Br,{className:`h-6 w-6 transition-colors duration-200 ${a?"text-green-600":"text-muted-foreground/40"}`})]})}):l.jsx("div",{className:"mb-2",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(M5,{checked:a,onCheckedChange:u,size:"default"}),l.jsx("div",{className:"flex-1 cursor-pointer select-none transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 hover:text-foreground/80 active:text-foreground",onClick:()=>u(!a),onKeyDown:w=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),u(!a))},tabIndex:0,role:"button","aria-label":`${a?"Disable":"Enable"} social media tasks`,children:l.jsx("label",{className:"font-medium block cursor-pointer text-sm",children:"Enable Social Media Tasks"})})]})}),a&&l.jsx("div",{className:"p-4 border rounded-lg bg-muted/10 mb-4",children:l.jsxs("div",{className:"space-y-4",children:[d.map((w,A)=>l.jsxs("div",{className:"p-3 border rounded-lg bg-background/50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[m(w.platform),l.jsxs("span",{className:"font-medium text-sm",children:["Task ",A+1]})]}),l.jsx("button",{type:"button",onClick:()=>p(w.id),className:"text-red-500 hover:text-red-700 transition-colors",children:l.jsx(Ak,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:`${o?"space-y-3":"grid grid-cols-1 md:grid-cols-3 gap-3"}`,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-sm",children:"Platform"}),l.jsxs(nc,{value:w.platform,onValueChange:P=>y(w.id,"platform",P),children:[l.jsx(sc,{className:`w-full border border-border rounded-lg bg-background ${o?"px-3 py-2 text-base h-10":"px-3 py-2 text-sm"}`,children:l.jsx(ic,{})}),l.jsxs(oc,{children:[l.jsx(Wn,{value:"twitter",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(K0,{className:"h-4 w-4"}),"Twitter"]})}),l.jsx(Wn,{value:"discord",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(v0,{className:"h-4 w-4"}),"Discord"]})}),l.jsx(Wn,{value:"telegram",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx($w,{className:"h-4 w-4"}),"Telegram"]})})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-sm",children:"Action"}),l.jsxs(nc,{value:w.action,onValueChange:P=>y(w.id,"action",P),children:[l.jsx(sc,{className:`w-full border border-border rounded-lg bg-background ${o?"px-3 py-2 text-base h-10":"px-3 py-2 text-sm"}`,children:l.jsx(ic,{})}),l.jsx(oc,{children:b(w.platform).map(P=>l.jsx(Wn,{value:P.value,children:P.label},P.value))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1 text-sm",children:"Target"}),l.jsx("input",{type:"text",value:w.target,onChange:P=>y(w.id,"target",P.target.value),className:`w-full border border-border rounded-lg bg-background ${o?"px-3 py-2 text-base":"px-3 py-2 text-sm"}`,placeholder:w.platform==="twitter"?"@username or tweet URL":w.platform==="discord"?"Server invite or message URL":"Channel username or URL",required:i&&a})]})]}),l.jsxs("div",{className:"mt-3",children:[l.jsx("label",{className:"block font-medium mb-1 text-sm",children:"Description (Optional)"}),l.jsx("input",{type:"text",value:w.description,onChange:P=>y(w.id,"description",P.target.value),className:`w-full border border-border rounded-lg bg-background ${o?"px-3 py-2 text-base":"px-3 py-2 text-sm"}`,placeholder:"Additional instructions for participants"})]})]},w.id)),l.jsxs("button",{type:"button",onClick:h,className:"w-full p-3 border-2 border-dashed border-border rounded-lg hover:border-primary/50 hover:bg-muted/20 transition-colors flex items-center justify-center gap-2 text-muted-foreground hover:text-foreground",children:[l.jsx(sa,{className:"h-4 w-4"}),"Add Social Media Task"]}),d.length>0&&l.jsxs("div",{className:"mt-4 p-3 bg-muted/20 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-sm mb-2",children:"Task Summary:"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:x()||"No tasks configured"})]})]})})]})},Eee=({isOpen:r,onToggle:e,raffleType:t,setRaffleType:n,nftStandard:i,setNftStandard:s,erc721Source:o,setErc721Source:a,erc1155Source:u,setErc1155Source:d,className:h=""})=>{const{isMobile:p}=Wr(),{getCurrencySymbol:y}=Nn(),b=(()=>{const[K,q]=C.useState({top:56,height:56});return C.useEffect(()=>{const D=document.querySelector("header"),v=D?D.getBoundingClientRect().height:56,S=()=>window.matchMedia&&window.matchMedia("(max-width: 640px)").matches,_=()=>{const j=window.scrollY||window.pageYOffset||0;S()?q({top:v,height:window.innerHeight-v}):j>=v?q({top:0,height:window.innerHeight}):q({top:v-j,height:window.innerHeight-(v-j)})};return _(),window.addEventListener("scroll",_,{passive:!0}),window.addEventListener("resize",_),()=>{window.removeEventListener("scroll",_),window.removeEventListener("resize",_)}},[]),K})(),[x,w]=C.useState({raffleType:!0,nftConfiguration:!0,collectionSource:!0}),A=C.useMemo(()=>{const K=y();return[{value:"Whitelist/Allowlist",label:"Whitelist/Allowlist",description:"Whitelist Campaigns"},{value:"NFTDrop",label:"NFT Drop",description:"Raffles with Mintable NFT Prizes"},{value:"Lucky Sale/NFT Pool",label:"Lucky Sale/NFT Giveaway",description:"Discounted NFT sales/NFT Giveaways"},{value:"Native Token Pool",label:`${K} Giveaway`,description:"Native Coin Giveaways"},{value:"ERC20 Token Pool",label:"ERC20 Token Giveaway",description:"Token Giveaways"}]},[y]),P=[{value:"ERC721",label:"ERC721"},{value:"ERC1155",label:"ERC1155"}],I=[{value:"New ERC721 Collection",label:"New ERC721 Collection",description:"Deploy new collection"},{value:"Existing ERC721 Collection",label:"Existing ERC721 Collection",description:"Use existing collection"}],T=[{value:"New ERC1155 Collection",label:"New ERC1155 Collection",description:"Deploy new collection"},{value:"Existing ERC1155 Collection",label:"Existing ERC1155 Collection",description:"Use existing collection"}],U=C.useCallback(K=>{w(q=>({...q,[K]:!q[K]}))},[]),B=C.useCallback(()=>{n("Whitelist/Allowlist"),s("ERC721"),a("New ERC721 Collection"),d("New ERC1155 Collection")},[n,s,a,d]),H=C.useMemo(()=>t!=="Whitelist/Allowlist"||i!=="ERC721"||o!=="New ERC721 Collection"||u!=="New ERC1155 Collection",[t,i,o,u]),G=t==="NFTDrop"||t==="Lucky Sale/NFT Pool",W=t==="NFTDrop",V=C.useCallback((K,q,D,v,S,_=!1)=>{const j=x[q];return l.jsxs("div",{className:"border-b border-border/30 last:border-b-0",children:[l.jsxs("button",{onClick:()=>U(q),className:"w-full flex items-center justify-between p-3 sm:p-4 text-left hover:bg-muted/50 transition-colors",disabled:_,children:[l.jsx("span",{className:`text-sm sm:text-base font-medium ${_?"text-muted-foreground":""}`,children:K}),j?l.jsx(ef,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"}):l.jsx(Ya,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground"})]}),j&&!_&&l.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4 space-y-1 sm:space-y-2",children:D.map(O=>{const z=v===O.value;return l.jsxs("label",{className:"flex items-start space-x-2 sm:space-x-3 cursor-pointer hover:bg-muted/30 p-1.5 sm:p-2 rounded-md transition-colors",children:[l.jsx("input",{type:"radio",name:q,checked:z,onChange:()=>S(O.value),className:`mt-1 h-3 w-3 sm:h-4 sm:w-4 text-primary bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-full focus:ring-0 focus:outline-none checked:bg-primary checked:border-primary appearance-none relative ${z?'after:content-[""] after:absolute after:top-1/2 after:left-1/2 after:transform after:-translate-x-1/2 after:-translate-y-1/2 after:w-1 after:h-1 sm:after:w-1.5 sm:after:h-1.5 after:bg-white after:rounded-full':""}`,style:{minHeight:"12px",minWidth:"12px",maxHeight:"12px",maxWidth:"12px"}}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:"text-xs sm:text-sm font-medium leading-tight",children:O.label}),O.description&&l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:O.description})]})]},O.value)})}),_&&l.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4",children:l.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Select appropriate raffle type to enable this filter"})})]},q)},[x,U]);return l.jsxs(l.Fragment,{children:[r&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-30",onClick:e}),l.jsxs("div",{style:{top:b.top,height:b.height},className:`
        fixed left-0
        w-64 sm:w-72 md:w-80
        bg-background border-r border-border
        transform transition-transform duration-300 ease-in-out
        z-40
        flex flex-col
        ${r?"translate-x-0":"-translate-x-full"}
        ${h}
      `,children:[l.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between p-3 sm:p-4 border-b border-border bg-muted/80 backdrop-blur supports-[backdrop-filter]:bg-muted/60",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Tk,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),l.jsx("h2",{className:"font-semibold text-base sm:text-lg",children:"Create Raffle"})]}),l.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[H&&l.jsx(ut,{variant:"ghost",size:"sm",onClick:B,className:"text-xs px-2 sm:px-3 h-7 sm:h-8 hover:bg-destructive/10 hover:text-destructive",children:"Reset"}),l.jsx(ut,{variant:"ghost",size:"sm",onClick:e,className:"hover:bg-muted h-7 w-7 sm:h-8 sm:w-8 p-0",title:"Close filters",children:l.jsx(jk,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})]})]}),l.jsx("div",{className:"p-3 sm:p-4 bg-muted/30",children:l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Configure Raffle type and Prizes"})}),l.jsxs("div",{className:"flex-1 overflow-y-auto",children:[V("Raffle Type","raffleType",A,t,n),G&&V("NFT Standard","nftConfiguration",P,i,s),W&&i==="ERC721"&&V("ERC721 Source","collectionSource",I,o,a),W&&i==="ERC1155"&&V("ERC1155 Source","collectionSource",T,u,d)]})]})]})};var[px,hie]=co("Tooltip",[Ef]),mx=Ef(),O5="TooltipProvider",Cee=700,W1="tooltip.open",[See,o2]=px(O5),D5=r=>{const{__scopeTooltip:e,delayDuration:t=Cee,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=r,o=C.useRef(!0),a=C.useRef(!1),u=C.useRef(0);return C.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),l.jsx(See,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:C.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:C.useCallback(d=>{a.current=d},[]),disableHoverableContent:i,children:s})};D5.displayName=O5;var qp="Tooltip",[Nee,hm]=px(qp),L5=r=>{const{__scopeTooltip:e,children:t,open:n,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=r,u=o2(qp,r.__scopeTooltip),d=mx(e),[h,p]=C.useState(null),y=Ts(),m=C.useRef(0),b=o??u.disableHoverableContent,x=a??u.delayDuration,w=C.useRef(!1),[A,P]=Oo({prop:n,defaultProp:i??!1,onChange:H=>{H?(u.onOpen(),document.dispatchEvent(new CustomEvent(W1))):u.onClose(),s==null||s(H)},caller:qp}),I=C.useMemo(()=>A?w.current?"delayed-open":"instant-open":"closed",[A]),T=C.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w.current=!1,P(!0)},[P]),U=C.useCallback(()=>{window.clearTimeout(m.current),m.current=0,P(!1)},[P]),B=C.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{w.current=!0,P(!0),m.current=0},x)},[x,P]);return C.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),l.jsx($k,{...d,children:l.jsx(Nee,{scope:e,contentId:y,open:A,stateAttribute:I,trigger:h,onTriggerChange:p,onTriggerEnter:C.useCallback(()=>{u.isOpenDelayedRef.current?B():T()},[u.isOpenDelayedRef,B,T]),onTriggerLeave:C.useCallback(()=>{b?U():(window.clearTimeout(m.current),m.current=0)},[U,b]),onOpen:T,onClose:U,disableHoverableContent:b,children:t})})};L5.displayName=qp;var H1="TooltipTrigger",z5=C.forwardRef((r,e)=>{const{__scopeTooltip:t,...n}=r,i=hm(H1,t),s=o2(H1,t),o=mx(t),a=C.useRef(null),u=gr(e,a,i.onTriggerChange),d=C.useRef(!1),h=C.useRef(!1),p=C.useCallback(()=>d.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),l.jsx(Uk,{asChild:!0,...o,children:l.jsx(Ot.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:u,onPointerMove:Ke(r.onPointerMove,y=>{y.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:Ke(r.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:Ke(r.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Ke(r.onFocus,()=>{d.current||i.onOpen()}),onBlur:Ke(r.onBlur,i.onClose),onClick:Ke(r.onClick,i.onClose)})})});z5.displayName=H1;var a2="TooltipPortal",[Tee,Aee]=px(a2,{forceMount:void 0}),F5=r=>{const{__scopeTooltip:e,forceMount:t,children:n,container:i}=r,s=hm(a2,e);return l.jsx(Tee,{scope:e,forceMount:t,children:l.jsx(uo,{present:t||s.open,children:l.jsx(sm,{asChild:!0,container:i,children:n})})})};F5.displayName=a2;var gf="TooltipContent",B5=C.forwardRef((r,e)=>{const t=Aee(gf,r.__scopeTooltip),{forceMount:n=t.forceMount,side:i="top",...s}=r,o=hm(gf,r.__scopeTooltip);return l.jsx(uo,{present:n||o.open,children:o.disableHoverableContent?l.jsx($5,{side:i,...s,ref:e}):l.jsx(jee,{side:i,...s,ref:e})})}),jee=C.forwardRef((r,e)=>{const t=hm(gf,r.__scopeTooltip),n=o2(gf,r.__scopeTooltip),i=C.useRef(null),s=gr(e,i),[o,a]=C.useState(null),{trigger:u,onClose:d}=t,h=i.current,{onPointerInTransitChange:p}=n,y=C.useCallback(()=>{a(null),p(!1)},[p]),m=C.useCallback((b,x)=>{const w=b.currentTarget,A={x:b.clientX,y:b.clientY},P=Mee(A,w.getBoundingClientRect()),I=Oee(A,P),T=Dee(x.getBoundingClientRect()),U=zee([...I,...T]);a(U),p(!0)},[p]);return C.useEffect(()=>()=>y(),[y]),C.useEffect(()=>{if(u&&h){const b=w=>m(w,h),x=w=>m(w,u);return u.addEventListener("pointerleave",b),h.addEventListener("pointerleave",x),()=>{u.removeEventListener("pointerleave",b),h.removeEventListener("pointerleave",x)}}},[u,h,m,y]),C.useEffect(()=>{if(o){const b=x=>{const w=x.target,A={x:x.clientX,y:x.clientY},P=(u==null?void 0:u.contains(w))||(h==null?void 0:h.contains(w)),I=!Lee(A,o);P?y():I&&(y(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[u,h,o,d,y]),l.jsx($5,{...r,ref:s})}),[Pee,Ree]=px(qp,{isInside:!1}),Iee=WB("TooltipContent"),$5=C.forwardRef((r,e)=>{const{__scopeTooltip:t,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=r,u=hm(gf,t),d=mx(t),{onClose:h}=u;return C.useEffect(()=>(document.addEventListener(W1,h),()=>document.removeEventListener(W1,h)),[h]),C.useEffect(()=>{if(u.trigger){const p=y=>{const m=y.target;m!=null&&m.contains(u.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,h]),l.jsx(nm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:l.jsxs(qk,{"data-state":u.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(Iee,{children:n}),l.jsx(Pee,{scope:t,isInside:!0,children:l.jsx(DU,{id:u.contentId,role:"tooltip",children:i||n})})]})})});B5.displayName=gf;var U5="TooltipArrow",q5=C.forwardRef((r,e)=>{const{__scopeTooltip:t,...n}=r,i=mx(t);return Ree(U5,t).isInside?null:l.jsx(Wk,{...i,...n,ref:e})});q5.displayName=U5;function Mee(r,e){const t=Math.abs(e.top-r.y),n=Math.abs(e.bottom-r.y),i=Math.abs(e.right-r.x),s=Math.abs(e.left-r.x);switch(Math.min(t,n,i,s)){case s:return"left";case i:return"right";case t:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Oee(r,e,t=5){const n=[];switch(e){case"top":n.push({x:r.x-t,y:r.y+t},{x:r.x+t,y:r.y+t});break;case"bottom":n.push({x:r.x-t,y:r.y-t},{x:r.x+t,y:r.y-t});break;case"left":n.push({x:r.x+t,y:r.y-t},{x:r.x+t,y:r.y+t});break;case"right":n.push({x:r.x-t,y:r.y-t},{x:r.x-t,y:r.y+t});break}return n}function Dee(r){const{top:e,right:t,bottom:n,left:i}=r;return[{x:i,y:e},{x:t,y:e},{x:t,y:n},{x:i,y:n}]}function Lee(r,e){const{x:t,y:n}=r;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],u=e[o],d=a.x,h=a.y,p=u.x,y=u.y;h>n!=y>n&&t<(p-d)*(n-h)/(y-h)+d&&(i=!i)}return i}function zee(r){const e=r.slice();return e.sort((t,n)=>t.x<n.x?-1:t.x>n.x?1:t.y<n.y?-1:t.y>n.y?1:0),Fee(e)}function Fee(r){if(r.length<=1)return r.slice();const e=[];for(let n=0;n<r.length;n++){const i=r[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let n=r.length-1;n>=0;n--){const i=r[n];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var Bee=D5,$ee=L5,Uee=z5,qee=F5,Wee=B5,Hee=q5;function Vee({delayDuration:r=0,...e}){return l.jsx(Bee,{"data-slot":"tooltip-provider",delayDuration:r,...e})}function tr({...r}){return l.jsx(Vee,{children:l.jsx($ee,{"data-slot":"tooltip",...r})})}const rr=C.forwardRef(({...r},e)=>l.jsx(Uee,{ref:e,"data-slot":"tooltip-trigger",...r})),nr=C.forwardRef(({className:r,sideOffset:e=0,children:t,...n},i)=>l.jsx(qee,{children:l.jsxs(Wee,{ref:i,"data-slot":"tooltip-content",sideOffset:e,className:ct("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance","max-w-[240px] sm:max-w-xs","text-xs sm:text-xs",r),...n,children:[t,l.jsx(Hee,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})),Gee=()=>{const{connected:r,address:e}=ur(),{contracts:t,executeTransaction:n}=Cr(),{isMobile:i}=Wr(),s=al(t,!1),[o,a]=C.useState(!1),[u,d]=C.useState(!1),[h,p]=C.useState(!1),[y,m]=C.useState({name:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxSlotsPerParticipant:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[]}),b=(w,A)=>{m(P=>({...P,[w]:A}))},x=async w=>{if(w.preventDefault(),!r||!t.poolDeployer){ee.error("Please connect your wallet and ensure contracts are configured");return}a(!0);try{const A=Math.floor(new Date(y.startTime).getTime()/1e3),P=parseInt(y.duration)*60,I=u&&y.holderTokenAddress?y.holderTokenAddress:He,T=u?parseInt(y.holderTokenStandard):0,U=u&&y.minHolderTokenBalance?Ln(y.minHolderTokenBalance,18):de.from(0),B=u&&y.holderTokenId?parseInt(y.holderTokenId):0,H={name:y.name,startTime:A,duration:P,slotLimit:parseInt(y.slotLimit),winnersCount:parseInt(y.winnersCount),maxSlotsPerParticipant:1,isPrized:!1,customSlotFee:0,erc721Drop:!1,erc1155Drop:!1,prizeCollection:He,standard:0,prizeTokenId:0,amountPerWinner:0,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:He,maxSupply:0,erc20PrizeToken:He,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:I,holderTokenStandard:T,minHolderTokenBalance:U,holderTokenBalance:U,holderTokenId:B,socialEngagementRequired:h,socialTaskDescription:h?y.socialTaskDescription:""};console.log("Form data before parsing:",{slotLimit:y.slotLimit,winnersCount:y.winnersCount,duration:y.duration,holderTokenStandard:y.holderTokenStandard,holderTokenId:y.holderTokenId,minHolderTokenBalance:y.minHolderTokenBalance});const G=Object.entries(H).filter(([V,K])=>K===void 0||K==="");G.length>0&&console.warn("Params contain undefined or empty string values:",G),console.log("Params to be sent to createRaffle:",H);let W={success:!1};try{const V=await t.poolDeployer.createPool(H);W={success:!0,receipt:await V.wait(),hash:V.hash}}catch(V){W={success:!1,error:V.message}}if(W.success)ee.success("Your raffle was created successfully!"),m({name:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxSlotsPerParticipant:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),d(!1);else throw new Error(W.error)}catch(A){console.error("Error creating raffle:",A),ee.error(Ou(A))}finally{a(!1)}};return l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(Nk,{className:"h-5 w-5"}),l.jsx("h3",{className:"text-xl font-semibold",children:"Whitelist Raffle"})]}),l.jsxs("form",{onSubmit:x,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Pool Name"}),l.jsx("input",{type:"text",value:y.name||"",onChange:w=>b("name",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:y.startTime||"",onChange:w=>b("startTime",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",s.minDuration&&s.maxDuration&&l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(s.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(s.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:y.duration||"",onChange:w=>b("duration",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Slot Limit",s.minSlot&&s.maxSlot&&l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",s.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",s.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:y.slotLimit||"",onChange:w=>b("slotLimit",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:"Winners must not exceed 25% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:y.winnersCount||"",onChange:w=>b("winnersCount",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:"Only one entry is allowed for Whitelist Raffles"})]})]}),l.jsx("input",{type:"number",value:1,disabled:!0,className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]})]}),l.jsx(sl,{tokenGatedEnabled:u,onTokenGatedChange:d,formData:y,handleChange:b,required:!0}),l.jsx(ol,{socialEngagementEnabled:h,onSocialEngagementChange:p,formData:y,handleChange:b,required:!1}),l.jsx("div",{className:"flex gap-4",children:l.jsx(ut,{type:"submit",disabled:o||!r,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:o?"Creating...":"Create Raffle"})})]})]})},Kee=()=>{const{connected:r,address:e,provider:t}=ur(),{contracts:n,executeTransaction:i}=Cr(),{getCurrencyLabel:s}=Nn(),o=al(n,!0),[a,u]=C.useState(!1),[d,h]=C.useState(!1),[p,y]=C.useState({name:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",customSlotFee:"",collectionName:"",collectionSymbol:"",baseURI:"",maxSupply:"",royaltyPercentage:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[]});C.useEffect(()=>{e&&!p.royaltyRecipient&&y(x=>({...x,royaltyRecipient:e}))},[e]);const m=(x,w)=>{y(A=>({...A,[x]:w}))},b=async x=>{if(x.preventDefault(),!r||!n.poolDeployer||!t){ee.error("Please connect your wallet and ensure contracts are configured");return}u(!0);try{const w=t.getSigner(),A=Math.floor(new Date(p.startTime).getTime()/1e3),P=parseInt(p.duration)*60,I=p.customSlotFee?fc(p.customSlotFee):0;let T=parseInt(p.revealType),U=p.unrevealedBaseURI,B=0;T===2&&(B=Math.floor(new Date(p.revealTime).getTime()/1e3)),T===0&&(U="",B=0);const H={name:p.name,startTime:A,duration:P,slotLimit:parseInt(p.slotLimit),winnersCount:parseInt(p.winnersCount),maxSlotsPerParticipant:parseInt(p.maxTicketsPerParticipant),isPrized:!0,customSlotFee:slotFee,erc721Drop:!1,erc1155Drop:!1,prizeCollection:He,standard:0,prizeTokenId:0,amountPerWinner:1,collectionName:p.collectionName,collectionSymbol:p.collectionSymbol,collectionBaseURI:p.baseURI,creator:e,royaltyPercentage:p.royaltyPercentage?parseInt(p.royaltyPercentage)*100:0,royaltyRecipient:p.royaltyRecipient,maxSupply:parseInt(p.maxSupply||p.winnersCount),erc20PrizeToken:He,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:T,unrevealedBaseURI:U,revealTime:B,holderTokenAddress:p.tokenGatedEnabled?p.holderTokenAddress:He,holderTokenStandard:p.tokenGatedEnabled?parseInt(p.holderTokenStandard):0,minHolderTokenBalance:p.tokenGatedEnabled&&p.minHolderTokenBalance!==""&&p.minHolderTokenBalance!==void 0?Ln(p.minHolderTokenBalance,18):de.from(0),holderTokenBalance:p.tokenGatedEnabled&&p.minHolderTokenBalance!==""&&p.minHolderTokenBalance!==void 0?Ln(p.minHolderTokenBalance,18):de.from(0),holderTokenId:p.tokenGatedEnabled&&(p.holderTokenStandard==="0"||p.holderTokenStandard==="1")?parseInt(p.holderTokenId):0,socialEngagementRequired:d,socialTaskDescription:d?p.socialTaskDescription:""};await(await n.poolDeployer.connect(w).createPool(H)).wait(),ee.success("Your raffle was created successfully!"),y({name:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxSlotsPerParticipant:"",customSlotFee:"",collectionName:"",collectionSymbol:"",baseURI:"",maxSupply:"",royaltyPercentage:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(w){console.error("Error creating raffle:",w),ee.error(Ou(w))}finally{u(!1)}};return l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(Dy,{className:"h-5 w-5"}),l.jsx("h3",{className:"text-xl font-semibold",children:"New ERC721 Collection Pool"})]}),l.jsxs("form",{onSubmit:b,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Pool Name"}),l.jsx("input",{type:"text",value:p.name||"",onChange:x=>m("name",x.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:p.startTime||"",onChange:x=>m("startTime",x.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",o.minDuration&&o.maxDuration&&l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(o.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(o.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:p.duration||"",onChange:x=>m("duration",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Slot Limit",o.minSlot&&o.maxSlot&&l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",o.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",o.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:p.slotLimit||"",onChange:x=>m("slotLimit",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:"Winners must not exceed 25% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:p.winnersCount||"",onChange:x=>m("winnersCount",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:"Max Slots Per Participant must not exceed 1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:p.maxSlotsPerParticipant||"",onChange:x=>m("maxSlotsPerParticipant",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:s("ticket")}),l.jsx("input",{type:"number",step:"0.001",value:p.customSlotFee||"",onChange:x=>m("customSlotFee",x.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",placeholder:"Leave empty to use protocol default"})]})]}),l.jsxs("div",{className:"bg-muted/20 border border-border rounded-xl p-4 mt-4 shadow-md",children:[l.jsx("h4",{className:"font-semibold text-base mb-4",children:"NFT Collection Info"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Collection Name"}),l.jsx("input",{type:"text",value:p.collectionName||"",onChange:x=>m("collectionName",x.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Collection Symbol"}),l.jsx("input",{type:"text",value:p.collectionSymbol||"",onChange:x=>m("collectionSymbol",x.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Base URI"}),l.jsx("input",{type:"url",value:p.baseURI||"",onChange:x=>m("baseURI",x.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Supply"}),l.jsx("input",{type:"number",value:p.maxSupply||"",onChange:x=>m("maxSupply",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Royalty Percentage (%)"}),l.jsx("input",{type:"number",value:p.royaltyPercentage||"",onChange:x=>m("royaltyPercentage",x.target.value),onWheel:x=>x.target instanceof HTMLElement&&x.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",min:"0",step:"0.01",placeholder:"e.g. 5 for 5%"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Enter as a percentage (e.g. 5 for 5%)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Royalty Recipient"}),l.jsx("input",{type:"text",value:p.royaltyRecipient||"",onChange:x=>m("royaltyRecipient",x.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0,pattern:"^0x[a-fA-F0-9]{40}$"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Must be a valid Ethereum address"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Reveal Type"}),l.jsxs(nc,{value:p.revealType,onValueChange:x=>m("revealType",x),required:!0,children:[l.jsx(sc,{className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",children:l.jsx(ic,{placeholder:"Select Reveal Type"})}),l.jsxs(oc,{children:[l.jsx(Wn,{value:"0",children:"Instant Reveal"}),l.jsx(Wn,{value:"1",children:"Manual Reveal"}),l.jsx(Wn,{value:"2",children:"Scheduled Reveal"})]})]})]}),l.jsx("div",{}),(p.revealType==="1"||p.revealType==="2")&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Unrevealed Base URI"}),l.jsx("input",{type:"url",value:p.unrevealedBaseURI||"",onChange:x=>m("unrevealedBaseURI",x.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:p.revealType==="1"||p.revealType==="2"})]}),p.revealType==="2"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Reveal Time"}),l.jsx("input",{type:"datetime-local",value:p.revealTime||"",onChange:x=>m("revealTime",x.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:p.revealType==="2"})]})]})]}),l.jsx(sl,{formData:p,handleChange:m,required:!0,useFormDataEnabled:!0}),l.jsx(ol,{formData:p,handleChange:m,socialEngagementEnabled:d,setSocialEngagementEnabled:h}),l.jsx("div",{className:"flex gap-4",children:l.jsx(ut,{type:"submit",disabled:a||!r,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:a?"Creating...":"Create Raffle"})})]})]})};function Yee(){const{connected:r,address:e,provider:t}=ur(),{contracts:n,executeTransaction:i}=Cr(),{getCurrencyLabel:s}=Nn(),o=al(n,!0),[a,u]=C.useState(!1),[d,h]=C.useState(!1),[p,y]=C.useState(!1),[m,b]=C.useState({name:"",collection:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerUser:"",slotFee:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[]}),x=(I,T)=>{b(U=>({...U,[I]:T}))},w=async I=>{if(I.preventDefault(),!r||!n.poolDeployer||!t){ee.error("Please connect your wallet and ensure contracts are configured");return}u(!0);try{const T=t.getSigner(),U=Math.floor(new Date(m.startTime).getTime()/1e3),B=parseInt(m.duration)*60,H=m.slotFee?fc(m.slotFee):0,G=d&&m.holderTokenAddress?m.holderTokenAddress:He,W=d?parseInt(m.holderTokenStandard):0,V=d&&m.minHolderTokenBalance?Ln(m.minHolderTokenBalance,18):0,K=d&&m.holderTokenId?parseInt(m.holderTokenId):0,q={name:m.name,startTime:U,duration:B,slotLimit:parseInt(m.slotLimit),winnersCount:parseInt(m.winnersCount),maxSlotsPerParticipant:parseInt(m.maxTicketsPerUser),isPrized:!0,customSlotFee:H,erc721Drop:!0,erc1155Drop:!1,prizeCollection:m.collection,standard:0,prizeTokenId:0,amountPerWinner:1,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:He,maxSupply:0,erc20PrizeToken:He,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:G,holderTokenStandard:W,minHolderTokenBalance:V,holderTokenBalance:d&&m.minHolderTokenBalance?Ln(m.minHolderTokenBalance,18):0,holderTokenId:K,socialEngagementRequired:p,socialTaskDescription:p?m.socialTaskDescription:""};await(await n.poolDeployer.connect(T).createPool(q)).wait(),ee.success("Your raffle was created successfully!"),b({name:"",collection:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerUser:"",slotFee:"",holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""}),h(!1)}catch(T){console.error("Error creating raffle:",T),ee.error(Ou(T))}finally{u(!1)}},{status:A,checking:P}=H5(m.collection,n);return C.useEffect(()=>{m.collection&&!P&&A!==null&&(A?ee.success("This collection is approved"):ee.error("This collection is not approved"))},[m.collection,P,A]),l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(kP,{className:"h-5 w-5"}),l.jsx("h3",{className:"text-xl font-semibold",children:"Existing ERC721 Prize Pool"})]}),l.jsxs("form",{onSubmit:w,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Pool Name"}),l.jsx("input",{type:"text",value:m.name||"",onChange:I=>x("name",I.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Collection Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:m.collection||"",onChange:I=>x("collection",I.target.value),className:"w-full px-3 py-2.5 pr-10 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),m.collection&&!P&&A===!0&&l.jsx(Br,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-600"}),m.collection&&!P&&A===!1&&l.jsx(wf,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-red-600"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:m.startTime||"",onChange:I=>x("startTime",I.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",o.minDuration&&o.maxDuration&&l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(o.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(o.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",min:"1",value:m.duration||"",onChange:I=>x("duration",I.target.value),onWheel:I=>I.target instanceof HTMLElement&&I.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Slot Limit",o.minSlot&&o.maxSlot&&l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",o.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",o.maxSlot]})})]})]}),l.jsx("input",{type:"number",min:"1",value:m.slotLimit||"",onChange:I=>x("slotLimit",I.target.value),onWheel:I=>I.target instanceof HTMLElement&&I.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:"Winners must not exceed 25% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:m.winnersCount||"",onChange:I=>x("winnersCount",I.target.value),onWheel:I=>I.target instanceof HTMLElement&&I.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:"Max Slots Per Participant must not exceed 1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",min:"1",value:m.maxTicketsPerUser||"",onChange:I=>x("maxTicketsPerUser",I.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2",children:[s("ticket")," ",l.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"(Enter 0 for NFT giveaway)"})]}),l.jsx("input",{type:"number",min:"0",step:"any",value:m.slotFee||"",onChange:I=>x("slotFee",I.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsx(sl,{tokenGatedEnabled:d,onTokenGatedChange:h,formData:m,handleChange:x,required:!0}),l.jsx(ol,{formData:m,handleChange:x,socialEngagementEnabled:p,setSocialEngagementEnabled:y}),l.jsx("div",{className:"flex gap-4",children:l.jsx(ut,{type:"submit",className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:"Create Raffle"})})]})]})}function Jee(){const{connected:r,address:e,provider:t}=ur(),{contracts:n}=Cr(),{getCurrencyLabel:i}=Nn(),s=al(n,!0),[o,a]=C.useState(!1),[u,d]=C.useState(!1),[h,p]=C.useState({name:"",collectionAddress:"",tokenId:"",amountPerWinner:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",slotFee:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[]}),y=(w,A)=>{p(P=>({...P,[w]:A}))},m=async w=>{if(w.preventDefault(),!r||!n.poolDeployer||!t){ee.error("Please connect your wallet and ensure contracts are configured");return}a(!0);try{const A=t.getSigner(),P=Math.floor(new Date(h.startTime).getTime()/1e3),I=parseInt(h.duration)*60,T=h.slotFee?fc(h.slotFee):0,U={name:h.name,startTime:P,duration:I,slotLimit:parseInt(h.slotLimit),winnersCount:parseInt(h.winnersCount),maxSlotsPerParticipant:parseInt(h.maxSlotsPerParticipant),isPrized:!0,customSlotFee,erc721Drop:!1,erc1155Drop:!0,prizeCollection:h.collectionAddress,standard:1,prizeTokenId:parseInt(h.tokenId),amountPerWinner:parseInt(h.amountPerWinner),collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:He,maxSupply:0,erc20PrizeToken:He,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:h.tokenGatedEnabled?h.holderTokenAddress:He,holderTokenStandard:h.tokenGatedEnabled?parseInt(h.holderTokenStandard):0,minHolderTokenBalance:h.tokenGatedEnabled?Ln(h.minHolderTokenBalance,18):0,holderTokenBalance:h.tokenGatedEnabled?Ln(h.minHolderTokenBalance,18):0,holderTokenId:h.tokenGatedEnabled&&(h.holderTokenStandard==="0"||h.holderTokenStandard==="1")?parseInt(h.holderTokenId):0,socialEngagementRequired:u,socialTaskDescription:u?h.socialTaskDescription:""};await(await n.poolDeployer.connect(A).createPool(U)).wait(),ee.success("Your raffle was created successfully!"),p({name:"",collectionAddress:"",tokenId:"",amountPerWinner:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",slotFee:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(A){console.error("Error creating raffle:",A),ee.error(A.message||"Error creating raffle")}finally{a(!1)}},{status:b,checking:x}=H5(h.collectionAddress,n);return C.useEffect(()=>{h.collectionAddress&&!x&&b!==null&&(b?ee.success("This collection is approved"):ee.error("This collection is not approved"))},[h.collectionAddress,x,b]),l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(kP,{className:"h-5 w-5"}),l.jsx("h3",{className:"text-xl font-semibold",children:"Existing ERC1155 Collection Pool"})]}),l.jsxs("form",{onSubmit:m,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Pool Name"}),l.jsx("input",{type:"text",value:h.name||"",onChange:w=>y("name",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Collection Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:h.collectionAddress||"",onChange:w=>y("collectionAddress",w.target.value),className:"w-full px-3 py-2.5 pr-10 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),h.collectionAddress&&!x&&b===!0&&l.jsx(Br,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-600"}),h.collectionAddress&&!x&&b===!1&&l.jsx(wf,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-red-600"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Token ID"}),l.jsx("input",{type:"number",min:"0",value:h.tokenId||"",onChange:w=>y("tokenId",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Amount Per Winner"}),l.jsx("input",{type:"number",min:"1",value:h.amountPerWinner||"",onChange:w=>y("amountPerWinner",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:h.startTime||"",onChange:w=>y("startTime",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",s.minDuration&&s.maxDuration&&l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(s.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(s.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:h.duration||"",onChange:w=>y("duration",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Slot Limit",s.minSlot&&s.maxSlot&&l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",s.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",s.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:h.slotLimit||"",onChange:w=>y("slotLimit",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:"Winners must not exceed 25% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:h.winnersCount||"",onChange:w=>y("winnersCount",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:"Max Slots Per Participant must not exceed 1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:h.maxSlotsPerParticipant||"",onChange:w=>y("maxSlotsPerParticipant",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:i("ticket")}),l.jsx("input",{type:"number",step:"0.001",value:h.slotFee||"",onChange:w=>y("slotFee",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",placeholder:"Leave empty to use protocol default"})]})]}),l.jsx(sl,{formData:h,handleChange:y,required:!0,useFormDataEnabled:!0}),l.jsx(ol,{formData:h,handleChange:y,socialEngagementEnabled:u,setSocialEngagementEnabled:d}),l.jsx("div",{className:"flex gap-4",children:l.jsx(ut,{type:"submit",disabled:o||!r,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:o?"Creating...":"Create Raffle"})})]})]})}const Qee=()=>{const{connected:r,chainId:e}=ur(),{contracts:t}=Cr();Nn();const n=()=>{if(!e||!$t[e])return!1;const V=$t[e].contractAddresses;return(V==null?void 0:V.poolDeployer)&&V.poolDeployer!=="0x..."&&(V==null?void 0:V.protocolManager)&&V.protocolManager!=="0x..."},[i,s]=C.useState(null),[o,a]=C.useState("Whitelist/Allowlist"),[u,d]=C.useState("ERC721"),[h,p]=C.useState("New ERC721 Collection"),[y,m]=C.useState("Internal NFT Prize"),[b,x]=C.useState("Internal NFT Prize"),[w,A]=C.useState("Internal NFT Prize"),[P,I]=C.useState("New ERC1155 Collection"),[T,U]=C.useState(""),[B,H]=C.useState(!1);C.useEffect(()=>{(async()=>{if(o==="NFTDrop"&&u==="ERC721"&&h==="Existing ERC721 Collection"&&t.protocolManager)try{const K=await t.protocolManager.toggleAllowExistingCollection();s(!!K)}catch{s(!1)}})()},[o,u,h,t.protocolManager]),C.useEffect(()=>{o==="NFTDrop"&&u==="ERC721"&&h==="New ERC721 Collection"&&U("")},[o,u,h]);const G=()=>{if(o==="Whitelist/Allowlist")return l.jsx(Gee,{});if(o==="NFTDrop"){if(u==="ERC721"){if(h==="New ERC721 Collection")return l.jsx(Kee,{});if(h==="Existing ERC721 Collection")return l.jsx(Yee,{collectionAddress:T,setCollectionAddress:U})}if(u==="ERC1155"){if(P==="New ERC1155 Collection")return l.jsx(nte,{});if(P==="Existing ERC1155 Collection")return l.jsx(Jee,{})}}if(o==="Lucky Sale/NFT Pool"){if(u==="ERC721")return l.jsx(Xee,{});if(u==="ERC1155")return l.jsx(Zee,{})}return o==="Native Token Pool"?l.jsx(ete,{}):o==="ERC20 Token Pool"?l.jsx(tte,{}):null},{isMobile:W}=Wr();return r?n()?l.jsx("div",{className:"min-h-screen bg-background pb-6",children:l.jsxs("div",{className:`${W?"px-4":"container mx-auto px-8"}`,children:[l.jsxs("div",{className:`text-center ${W?"mb-6 mt-4":"mb-4"}`,children:[l.jsx("h1",{className:`font-bold ${W?"text-2xl mb-2":"text-4xl mb-4"}`,children:"Create an on-chain pool for your community"}),l.jsxs("p",{className:`font-semibold ${W?"text-base":"text-2xl"}`,children:["Click ",l.jsx("a",{href:"#",onClick:V=>{V.preventDefault(),H(!0)},className:"text-primary hover:text-primary/90 no-underline font-medium transition-colors",children:"here"})," to configure your pool"]})]}),l.jsx("div",{className:`max-w-7xl mx-auto ${W?"mt-6":"mt-16"}`,children:W?l.jsx("div",{className:"space-y-4",children:l.jsx("div",{className:"w-full",children:G()})}):l.jsx("div",{className:"flex gap-2 items-start",children:l.jsx("div",{className:"flex-1",children:G()})})}),l.jsx(Eee,{isOpen:B,onToggle:()=>H(!B),raffleType:o,setRaffleType:a,nftStandard:u,setNftStandard:d,erc721Source:h,setErc721Source:p,erc1155Source:P,setErc1155Source:I})]})}):l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsx(n2,{error:"CONTRACTS_NOT_AVAILABLE",onRetry:null,isMobile:W,showCreateButton:!1})}):l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(sa,{className:`mx-auto mb-4 text-muted-foreground ${W?"h-12 w-12":"h-16 w-16"}`}),l.jsx("h2",{className:`font-bold mb-2 ${W?"text-xl":"text-2xl"}`,children:"Connect Your Wallet"}),l.jsx("p",{className:`text-muted-foreground ${W?"text-sm":"text-base"}`,children:"Please connect your wallet to create pools and deploy collections."})]})})};function Xee(){const{connected:r,address:e,provider:t}=ur(),{contracts:n}=Cr(),{isMobile:i}=Wr(),{getCurrencyLabel:s}=Nn(),o=al(n,!0),[a,u]=C.useState(!1),[d,h]=C.useState(!1),[p,y]=C.useState({name:"",collectionAddress:"",tokenId:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",slotFee:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[]}),m=(A,P)=>{y(I=>({...I,[A]:P}))},b=async A=>{if(A.preventDefault(),!r||!n.poolDeployer||!t){ee.error("Please connect your wallet and ensure contracts are configured");return}u(!0);try{const P=t.getSigner(),I=await l2({signer:P,tokenAddress:p.collectionAddress,prizeType:"erc721",spender:n.poolDeployer.address,tokenId:p.tokenId});if(!I.success){ee.error("Token approval failed: "+I.error),u(!1);return}I.alreadyApproved||(ee.success("ERC721 approval successful!"),await new Promise(W=>setTimeout(W,2e3)));const T=Math.floor(new Date(p.startTime).getTime()/1e3),U=parseInt(p.duration)*60,B=p.slotFee?fc(p.slotFee):0,H={name:p.name,startTime:T,duration:U,slotLimit:parseInt(p.slotLimit),winnersCount:parseInt(p.winnersCount),maxSlotsPerParticipant:parseInt(p.maxSlotsPerParticipant),isPrized:!0,customSlotFee:B,erc721Drop:!1,prizeCollection:p.collectionAddress,standard:0,prizeTokenId:parseInt(p.tokenId),amountPerWinner:1,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:He,maxSupply:0,erc20PrizeToken:He,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:p.tokenGatedEnabled?p.holderTokenAddress:He,holderTokenStandard:p.tokenGatedEnabled?parseInt(p.holderTokenStandard):0,minHolderTokenBalance:p.tokenGatedEnabled&&p.minHolderTokenBalance!==""&&p.minHolderTokenBalance!==void 0?Ln(p.minHolderTokenBalance,18):de.from(0),holderTokenBalance:p.tokenGatedEnabled&&p.minHolderTokenBalance!==""&&p.minHolderTokenBalance!==void 0?Ln(p.minHolderTokenBalance,18):de.from(0),holderTokenId:p.tokenGatedEnabled&&(p.holderTokenStandard==="0"||p.holderTokenStandard==="1")?parseInt(p.holderTokenId):0,socialEngagementRequired:d,socialTaskDescription:d?p.socialTaskDescription:""};await(await n.poolDeployer.connect(P).createPool(H)).wait(),ee.success("Your raffle was created successfully!"),y({name:"",collectionAddress:"",tokenId:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",slotFee:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(P){console.error("Error creating raffle:",P),ee.error(Ou(P))}finally{u(!1)}},{status:x,checking:w}=W5(p.collectionAddress,n);return C.useEffect(()=>{p.collectionAddress&&!w&&x!==null&&(x?ee.success("This collection is approved"):ee.error("This collection is not approved"))},[p.collectionAddress,w,x]),l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(Dy,{className:"h-5 w-5"}),l.jsx("h3",{className:`font-semibold ${i?"text-lg":"text-xl"}`,children:"Lucky Sale (ERC721 Escrowed Prize)"})]}),l.jsxs("form",{onSubmit:b,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block font-medium mb-2 ${i?"text-sm":"text-base"}`,children:"Pool Name"}),l.jsx("input",{type:"text",value:p.name||"",onChange:A=>m("name",A.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block font-medium mb-2 ${i?"text-sm":"text-base"}`,children:"Prize Collection Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:p.collectionAddress||"",onChange:A=>m("collectionAddress",A.target.value),className:"w-full px-3 py-2.5 pr-10 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),p.collectionAddress&&!w&&x===!0&&l.jsx(Br,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-600"}),p.collectionAddress&&!w&&x===!1&&l.jsx(wf,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-red-600"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Token ID"}),l.jsx("input",{type:"number",min:"0",value:p.tokenId||"",onChange:A=>m("tokenId",A.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:p.startTime||"",onChange:A=>m("startTime",A.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",o.minDuration&&o.maxDuration&&l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(o.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(o.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:p.duration||"",onChange:A=>m("duration",A.target.value),onWheel:A=>A.target instanceof HTMLElement&&A.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Slot Limit",o.minSlot&&o.maxSlot&&l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",o.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",o.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:p.slotLimit||"",onChange:A=>m("slotLimit",A.target.value),onWheel:A=>A.target instanceof HTMLElement&&A.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:"This raffle type supports only one Winner"})]})]}),l.jsx("input",{type:"number",value:p.winnersCount||"",onChange:A=>m("winnersCount",A.target.value),onWheel:A=>A.target instanceof HTMLElement&&A.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:"Max Slots Per Participant must not exceed 1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:p.maxSlotsPerParticipant||"",onChange:A=>m("maxSlotsPerParticipant",A.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2",children:[s("ticket")," ",l.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"(Enter 0 for NFT giveaway)"})]}),l.jsx("input",{type:"number",step:"any",value:p.slotFee||"",onChange:A=>m("slotFee",A.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsx(sl,{formData:p,handleChange:m,required:!0,useFormDataEnabled:!0}),l.jsx(ol,{formData:p,handleChange:m,socialEngagementEnabled:d,setSocialEngagementEnabled:h}),l.jsx("div",{className:"flex gap-4",children:l.jsx(ut,{type:"submit",disabled:a||!r,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:a?"Approving & Creating...":"Approve Prize & Create Raffle"})})]})]})}function Zee(){const{connected:r,address:e,provider:t}=ur(),{contracts:n}=Cr(),{getCurrencyLabel:i}=Nn(),s=al(n,!0),[o,a]=C.useState(!1),[u,d]=C.useState(!1),[h,p]=C.useState({name:"",collectionAddress:"",tokenId:"",unitsPerWinner:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",slotFee:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[]}),y=(w,A)=>{p(P=>({...P,[w]:A}))},m=async w=>{if(w.preventDefault(),!r||!n.poolDeployer||!t){ee.error("Please connect your wallet and ensure contracts are configured");return}a(!0);try{const A=t.getSigner(),P=await l2({signer:A,tokenAddress:h.collectionAddress,prizeType:"erc1155",spender:n.poolDeployer.address});if(!P.success){ee.error("Token approval failed: "+P.error),a(!1);return}P.alreadyApproved||(ee.success("ERC1155 approval successful!"),await new Promise(W=>setTimeout(W,2e3)));const I=Math.floor(new Date(h.startTime).getTime()/1e3),T=parseInt(h.duration)*60,U=h.slotFee?fc(h.slotFee):0,B=h.unitsPerWinner?parseInt(h.unitsPerWinner):1,H={name:h.name,startTime:I,duration:T,slotLimit:parseInt(h.slotLimit),winnersCount:parseInt(h.winnersCount),maxSlotsPerParticipant:parseInt(h.maxSlotsPerParticipant),isPrized:!0,customSlotFee:U,erc721Drop:!1,prizeCollection:h.collectionAddress,standard:1,prizeTokenId:parseInt(h.tokenId),amountPerWinner:B,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:He,maxSupply:0,erc20PrizeToken:He,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:h.tokenGatedEnabled?h.holderTokenAddress:He,holderTokenStandard:h.tokenGatedEnabled?parseInt(h.holderTokenStandard):0,minHolderTokenBalance:h.tokenGatedEnabled&&h.minHolderTokenBalance!==""&&h.minHolderTokenBalance!==void 0?Ln(h.minHolderTokenBalance,18):de.from(0),holderTokenBalance:h.tokenGatedEnabled&&h.minHolderTokenBalance!==""&&h.minHolderTokenBalance!==void 0?Ln(h.minHolderTokenBalance,18):de.from(0),holderTokenId:h.tokenGatedEnabled&&(h.holderTokenStandard==="0"||h.holderTokenStandard==="1")?parseInt(h.holderTokenId):0,socialEngagementRequired:u,socialTaskDescription:u?h.socialTaskDescription:""};await(await n.poolDeployer.connect(A).createPool(H)).wait(),ee.success("Your raffle was created successfully!"),p({name:"",collectionAddress:"",tokenId:"",unitsPerWinner:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",slotFee:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(A){console.error("Error creating raffle:",A),ee.error(Ou(A))}finally{a(!1)}},{status:b,checking:x}=W5(h.collectionAddress,n);return C.useEffect(()=>{h.collectionAddress&&!x&&b!==null&&(b?ee.success("This collection is approved"):ee.error("This collection is not approved"))},[h.collectionAddress,x,b]),l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(Dy,{className:"h-5 w-5"}),l.jsx("h3",{className:"text-xl font-semibold",children:"Lucky Sale (ERC1155 Escrowed Prize)"})]}),l.jsxs("form",{onSubmit:m,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Raffle Name"}),l.jsx("input",{type:"text",value:h.name||"",onChange:w=>y("name",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Collection Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:h.collectionAddress||"",onChange:w=>y("collectionAddress",w.target.value),className:"w-full px-3 py-2.5 pr-10 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),h.collectionAddress&&!x&&b===!0&&l.jsx(Br,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-600"}),h.collectionAddress&&!x&&b===!1&&l.jsx(wf,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-red-600"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Token ID"}),l.jsx("input",{type:"number",min:"0",value:h.tokenId||"",onChange:w=>y("tokenId",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Units Per Winner"}),l.jsx("input",{type:"number",min:"1",value:h.unitsPerWinner||"",onChange:w=>y("unitsPerWinner",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:h.startTime||"",onChange:w=>y("startTime",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",s.minDuration&&s.maxDuration&&l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(s.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(s.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:h.duration||"",onChange:w=>y("duration",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Slot Limit",s.minSlot&&s.maxSlot&&l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",s.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",s.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:h.slotLimit||"",onChange:w=>y("slotLimit",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:"Winners must not exceed 25% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:h.winnersCount||"",onChange:w=>y("winnersCount",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:"Max Slots Per Participant must not exceed 1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:h.maxSlotsPerParticipant||"",onChange:w=>y("maxSlotsPerParticipant",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2",children:[i("ticket")," ",l.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"(Enter 0 for NFT giveaway)"})]}),l.jsx("input",{type:"number",step:"any",value:h.slotFee||"",onChange:w=>y("slotFee",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsx(sl,{formData:h,handleChange:y,required:!0,useFormDataEnabled:!0}),l.jsx(ol,{formData:h,handleChange:y,socialEngagementEnabled:u,setSocialEngagementEnabled:d}),l.jsx("div",{className:"flex gap-4",children:l.jsx(ut,{type:"submit",disabled:o||!r,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:o?"Approving & Creating...":"Approve Prize & Create Raffle"})})]})]})}function ete(){const{connected:r,address:e,provider:t}=ur(),{contracts:n,executeTransaction:i}=Cr(),{isMobile:s}=Wr(),{getCurrencyLabel:o}=Nn(),a=al(n,!0),[u,d]=C.useState(!1),[h,p]=C.useState(!1),[y,m]=C.useState({name:"",ethAmount:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[]}),b=(w,A)=>{m(P=>({...P,[w]:A}))},x=async w=>{if(w.preventDefault(),!r||!n.poolDeployer||!t){ee.error("Please connect your wallet and ensure contracts are configured");return}d(!0);try{const A=t.getSigner(),P=Math.floor(new Date(y.startTime).getTime()/1e3),I=parseInt(y.duration)*60,T=y.ethAmount?fc(y.ethAmount):0,U={name:y.name,startTime:P,duration:I,slotLimit:parseInt(y.slotLimit),winnersCount:parseInt(y.winnersCount),maxSlotsPerParticipant:parseInt(y.maxSlotsPerParticipant),isPrized:!0,customSlotFee:0,erc721Drop:!1,prizeCollection:He,standard:3,prizeTokenId:0,amountPerWinner:0,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:He,maxSupply:0,erc20PrizeToken:He,erc20PrizeAmount:de.from(0),nativePrizeAmount:T,revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:y.tokenGatedEnabled?y.holderTokenAddress:He,holderTokenStandard:y.tokenGatedEnabled?parseInt(y.holderTokenStandard):0,minHolderTokenBalance:y.tokenGatedEnabled&&y.minHolderTokenBalance!==""&&y.minHolderTokenBalance!==void 0?Ln(y.minHolderTokenBalance,18):de.from(0),holderTokenId:y.tokenGatedEnabled&&(y.holderTokenStandard==="0"||y.holderTokenStandard==="1")?parseInt(y.holderTokenId):0,socialEngagementRequired:h,socialTaskDescription:h?y.socialTaskDescription:""};let B={success:!1};try{const H=await n.poolDeployer.connect(A).createPool(U,{value:T});B={success:!0,receipt:await H.wait(),hash:H.hash}}catch(H){B={success:!1,error:H.message}}if(B.success)ee.success("Your raffle was created successfully!"),m({name:"",ethAmount:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:""});else throw new Error(B.error)}catch(A){console.error("Error creating raffle:",A),ee.error(Ou(A))}finally{d(!1)}};return l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(Nk,{className:"h-5 w-5"}),l.jsxs("h3",{className:`font-semibold ${s?"text-lg":"text-xl"}`,children:[o()," Giveaway"]})]}),l.jsxs("form",{onSubmit:x,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block font-medium mb-2 ${s?"text-sm":"text-base"}`,children:"Raffle Name"}),l.jsx("input",{type:"text",value:y.name||"",onChange:w=>b("name",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:o("prize")}),l.jsx("input",{type:"number",min:"0.00000001",step:"any",value:y.ethAmount||"",onChange:w=>b("ethAmount",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:y.startTime||"",onChange:w=>b("startTime",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",a.minDuration&&a.maxDuration&&l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(a.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(a.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:y.duration||"",onChange:w=>b("duration",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Slot Limit",a.minSlot&&a.maxSlot&&l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",a.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",a.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:y.slotLimit||"",onChange:w=>b("slotLimit",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:"Winners must not exceed 25% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:y.winnersCount||"",onChange:w=>b("winnersCount",w.target.value),onWheel:w=>w.target instanceof HTMLElement&&w.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:"Max Slots Per Participant must not exceed 1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:y.maxSlotsPerParticipant||"",onChange:w=>b("maxSlotsPerParticipant",w.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]})]}),l.jsx(sl,{formData:y,handleChange:b,required:!0,useFormDataEnabled:!0}),l.jsx(ol,{formData:y,handleChange:b,socialEngagementEnabled:h,setSocialEngagementEnabled:p}),l.jsx("div",{className:"flex gap-4",children:l.jsx(ut,{type:"submit",disabled:u||!r,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:u?"Creating...":"Create Raffle"})})]})]})}function tte(){const{connected:r,address:e,provider:t}=ur(),{contracts:n}=Cr(),{isMobile:i}=Wr(),s=al(n,!0),[o,a]=C.useState(!1),[u,d]=C.useState(!1),[h,p]=C.useState({name:"",tokenAddress:"",tokenAmount:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[]}),[y,m]=C.useState(null),[b,x]=C.useState(!1);C.useEffect(()=>{let P=!1;async function I(T){if(!(n!=null&&n.protocolManager)||!T||T.length!==42){m(null);return}x(!0);try{const U=await n.protocolManager.isERC20PrizeWhitelisted(T);P||m(U)}catch{P||m(!1)}finally{P||x(!1)}}return I(h.tokenAddress),()=>{P=!0}},[h.tokenAddress,n]),C.useEffect(()=>{h.tokenAddress&&!b&&y!==null&&(y?ee.success("This token is approved"):ee.error("This token is not approved"))},[h.tokenAddress,b,y]);const w=(P,I)=>{p(T=>({...T,[P]:I}))},A=async P=>{if(P.preventDefault(),!r||!n.poolDeployer||!t){ee.error("Please connect your wallet and ensure contracts are configured");return}a(!0);try{const I=t.getSigner(),T=await l2({signer:I,tokenAddress:h.tokenAddress,prizeType:"erc20",spender:n.poolDeployer.address,amount:h.tokenAmount});if(!T.success){ee.error("Token approval failed: "+T.error),a(!1);return}T.alreadyApproved||(ee.success("ERC20 approval successful!"),await new Promise(K=>setTimeout(K,2e3)));const U=await new At(h.tokenAddress,gt.erc20,I).decimals(),B=Math.floor(new Date(h.startTime).getTime()/1e3),H=parseInt(h.duration)*60,G=h.tokenAmount?Ln(h.tokenAmount,U):de.from(0),W={name:h.name,startTime:B,duration:H,slotLimit:parseInt(h.slotLimit),winnersCount:parseInt(h.winnersCount),maxSlotsPerParticipant:parseInt(h.maxSlotsPerParticipant),isPrized:!0,customSlotFee:de.from(0),erc721Drop:!1,prizeCollection:He,standard:2,prizeTokenId:0,amountPerWinner:0,collectionName:"",collectionSymbol:"",collectionBaseURI:"",creator:e,royaltyPercentage:0,royaltyRecipient:He,maxSupply:0,erc20PrizeToken:h.tokenAddress,erc20PrizeAmount:G,nativePrizeAmount:de.from(0),revealType:0,unrevealedBaseURI:"",revealTime:0,holderTokenAddress:h.tokenGatedEnabled?h.holderTokenAddress:He,holderTokenStandard:h.tokenGatedEnabled?parseInt(h.holderTokenStandard):0,minHolderTokenBalance:h.tokenGatedEnabled&&h.minHolderTokenBalance!==""&&h.minHolderTokenBalance!==void 0?Ln(h.minHolderTokenBalance,18):de.from(0),holderTokenId:h.tokenGatedEnabled&&(h.holderTokenStandard==="0"||h.holderTokenStandard==="1")?parseInt(h.holderTokenId):0,socialEngagementRequired:u,socialTaskDescription:u?h.socialTaskDescription:""};await(await n.poolDeployer.connect(I).createPool(W)).wait(),ee.success("Your raffle was created successfully!"),p({name:"",tokenAddress:"",tokenAmount:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:""})}catch(I){console.error("Error creating raffle:",I),ee.error(Ou(I))}finally{a(!1)}};return l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(Nk,{className:"h-5 w-5"}),l.jsx("h3",{className:`font-semibold ${i?"text-lg":"text-xl"}`,children:"ERC20 Token Giveaway"})]}),l.jsxs("form",{onSubmit:A,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Raffle Name"}),l.jsx("input",{type:"text",value:h.name||"",onChange:P=>w("name",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"ERC20 Token Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:h.tokenAddress||"",onChange:P=>w("tokenAddress",P.target.value),className:"w-full px-3 py-2.5 pr-10 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0}),h.tokenAddress&&!b&&y===!0&&l.jsx(Br,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-600"}),h.tokenAddress&&!b&&y===!1&&l.jsx(wf,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-red-600"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Total Token Amount"}),l.jsx("input",{type:"number",min:"0.00000001",step:"any",value:h.tokenAmount||"",onChange:P=>w("tokenAmount",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:h.startTime||"",onChange:P=>w("startTime",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",s.minDuration&&s.maxDuration&&l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(s.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(s.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:h.duration||"",onChange:P=>w("duration",P.target.value),onWheel:P=>P.target instanceof HTMLElement&&P.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Slot Limit",s.minSlot&&s.maxSlot&&l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",s.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",s.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:h.slotLimit||"",onChange:P=>w("slotLimit",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:"Winners must not exceed 25% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:h.winnersCount||"",onChange:P=>w("winnersCount",P.target.value),onWheel:P=>P.target instanceof HTMLElement&&P.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:"Max Slots Per Participant must not exceed 1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:h.maxSlotsPerParticipant||"",onChange:P=>w("maxSlotsPerParticipant",P.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]})]}),l.jsx(sl,{formData:h,handleChange:w,required:!0,useFormDataEnabled:!0}),l.jsx(ol,{formData:h,handleChange:w,socialEngagementEnabled:u,setSocialEngagementEnabled:d}),l.jsx("div",{className:"flex gap-4",children:l.jsx(ut,{type:"submit",disabled:o||!r,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:o?"Approving & Creating...":"Approve Prize & Create Raffle"})})]})]})}async function rte(r,e,t,n,i,s){try{let o;const a=await r.getAddress();if(t==="erc20"){o=new At(e,gt.erc20,r);const u=await o.decimals(),d=Ln(i,u),h=await o.allowance(a,n);if(h.gte(d))return!0;if(h.isZero())try{const p=await r.provider.getBlockNumber(),y=Math.max(0,p-1e3),m="0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925",b="0x"+a.slice(2).padStart(64,"0"),x="0x"+n.slice(2).padStart(64,"0"),w=await r.provider.getLogs({address:e,topics:[m,b,x],fromBlock:y,toBlock:p});for(const A of w)if(de.from(A.data).gte(d))return!0}catch{}return!1}else if(t==="erc721"){o=new At(e,gt.erc721Prize,r);const u=await o.getApproved(s);return u&&u.toLowerCase()===n.toLowerCase()}else if(t==="erc1155")return o=new At(e,gt.erc1155Prize,r),await o.isApprovedForAll(a,n);return!1}catch{return!1}}async function l2({signer:r,tokenAddress:e,prizeType:t,spender:n,amount:i,tokenId:s}){try{if(await rte(r,e,t,n,i,s))return{success:!0,alreadyApproved:!0};let a,u;if(t==="erc20"){a=new At(e,gt.erc20,r);const d=await a.decimals(),h=Ln(i,d);u=await a.approve(n,h)}else t==="erc721"?(a=new At(e,gt.erc721Prize,r),u=await a.approve(n,s)):t==="erc1155"&&(a=new At(e,gt.erc1155Prize,r),u=await a.setApprovalForAll(n,!0));return await u.wait(),await new Promise(d=>setTimeout(d,2e3)),{success:!0}}catch(o){return{success:!1,error:o.message}}}function Ou(r){var n,i;if(r!=null&&r.reason)return r.reason;if((n=r==null?void 0:r.data)!=null&&n.message)return r.data.message;const e=(r==null?void 0:r.message)||((i=r==null?void 0:r.data)==null?void 0:i.message)||(r==null?void 0:r.toString())||"",t=e.match(/execution reverted:?\s*([^\n]*)/i);return t&&t[1]?t[1].trim():e}function nte(){const{connected:r,address:e,provider:t}=ur(),{contracts:n}=Cr(),{getCurrencyLabel:i}=Nn(),s=al(n,!0),[o,a]=C.useState(!1),[u,d]=C.useState(!1),[h,p]=C.useState({name:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",customSlotFee:"",baseURI:"",maxSupply:"",royaltyPercentage:"",prizeTokenId:"1",amountPerWinner:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:"",socialEngagementRequired:!1,socialTaskDescription:"",socialTasks:[]});C.useEffect(()=>{e&&!h.royaltyRecipient&&p(b=>({...b,royaltyRecipient:e}))},[e]);const y=(b,x)=>{p(w=>({...w,[b]:x}))},m=async b=>{if(b.preventDefault(),!r||!n.poolDeployer||!t){ee.error("Please connect your wallet and ensure contracts are configured");return}a(!0);try{const x=t.getSigner(),w=Math.floor(new Date(h.startTime).getTime()/1e3),A=parseInt(h.duration)*60,P=h.customSlotFee?fc(h.customSlotFee):0;let I=parseInt(h.revealType),T=h.unrevealedBaseURI,U=0;I===2&&(U=Math.floor(new Date(h.revealTime).getTime()/1e3)),I===0&&(T="",U=0);const B={name:h.name,startTime:w,duration:A,slotLimit:parseInt(h.slotLimit),winnersCount:parseInt(h.winnersCount),maxSlotsPerParticipant:parseInt(h.maxSlotsPerParticipant),isPrized:!0,customSlotFee:P,erc721Drop:!1,erc1155Drop:!1,prizeCollection:He,standard:1,prizeTokenId:parseInt(h.prizeTokenId),amountPerWinner:parseInt(h.amountPerWinner),collectionName:"",collectionSymbol:"",collectionBaseURI:h.baseURI,creator:e,royaltyPercentage:h.royaltyPercentage?parseInt(h.royaltyPercentage)*100:0,royaltyRecipient:h.royaltyRecipient,maxSupply:parseInt(h.maxSupply||h.winnersCount),erc20PrizeToken:He,erc20PrizeAmount:0,nativePrizeAmount:0,revealType:I,unrevealedBaseURI:T,revealTime:U,holderTokenAddress:h.tokenGatedEnabled?h.holderTokenAddress:He,holderTokenStandard:h.tokenGatedEnabled?parseInt(h.holderTokenStandard):0,minHolderTokenBalance:h.tokenGatedEnabled&&h.minHolderTokenBalance!==""&&h.minHolderTokenBalance!==void 0?Ln(h.minHolderTokenBalance,18):de.from(0),holderTokenBalance:h.tokenGatedEnabled&&h.minHolderTokenBalance!==""&&h.minHolderTokenBalance!==void 0?Ln(h.minHolderTokenBalance,18):de.from(0),holderTokenId:h.tokenGatedEnabled&&(h.holderTokenStandard==="0"||h.holderTokenStandard==="1")?parseInt(h.holderTokenId):0,socialEngagementRequired:u,socialTaskDescription:u?h.socialTaskDescription:""};await(await n.poolDeployer.connect(x).createPool(B)).wait(),ee.success("Your raffle was created successfully!"),p({name:"",startTime:"",duration:"",slotLimit:"",winnersCount:"",maxTicketsPerParticipant:"",customSlotFee:"",baseURI:"",maxSupply:"",royaltyPercentage:"",prizeTokenId:"1",amountPerWinner:"",revealType:"0",unrevealedBaseURI:"",revealTime:"",royaltyRecipient:e||"",tokenGatedEnabled:!1,holderTokenAddress:"",holderTokenStandard:"0",minHolderTokenBalance:"",holderTokenId:""})}catch(x){console.error("Error creating raffle:",x),ee.error(x.message||"Error creating raffle")}finally{a(!1)}};return l.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 max-w-3xl mx-auto shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(Dy,{className:"h-5 w-5"}),l.jsx("h3",{className:"text-xl font-semibold",children:"New ERC1155 Collection Raffle"})]}),l.jsxs("form",{onSubmit:m,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Raffle Name"}),l.jsx("input",{type:"text",value:h.name||"",onChange:b=>y("name",b.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Start Time"}),l.jsx("input",{type:"datetime-local",value:h.startTime||"",onChange:b=>y("startTime",b.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Duration (minutes)",s.minDuration&&s.maxDuration&&l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Duration Allowed: ",Math.ceil(Number(s.minDuration)/60)," min",l.jsx("br",{}),"Maximum Duration Allowed: ",Math.floor(Number(s.maxDuration)/60)," min"]})})]})]}),l.jsx("input",{type:"number",value:h.duration||"",onChange:b=>y("duration",b.target.value),onWheel:b=>b.target instanceof HTMLElement&&b.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Slot Limit",s.minSlot&&s.maxSlot&&l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:l.jsxs("div",{children:["Minimum Slot Limit Allowed: ",s.minSlot,l.jsx("br",{}),"Maximum Slot Limit Allowed: ",s.maxSlot]})})]})]}),l.jsx("input",{type:"number",value:h.slotLimit||"",onChange:b=>y("slotLimit",b.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Winner Count",l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:"Winners must not exceed 25% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:h.winnersCount||"",onChange:b=>y("winnersCount",b.target.value),onWheel:b=>b.target instanceof HTMLElement&&b.target.blur(),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-base font-medium mb-2 flex items-center gap-2",children:["Max Slots Per Participant",l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx(Vt,{className:"h-4 w-4 text-muted-foreground cursor-help",tabIndex:0})}),l.jsx(nr,{sideOffset:6,children:"Max Slots Per Participant must not exceed 1% of your Slot Limit"})]})]}),l.jsx("input",{type:"number",value:h.maxSlotsPerParticipant||"",onChange:b=>y("maxSlotsPerParticipant",b.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:i("ticket")}),l.jsx("input",{type:"number",step:"0.001",value:h.customSlotFee||"",onChange:b=>y("customSlotFee",b.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",placeholder:"Leave empty to use protocol default"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Prize Token ID"}),l.jsx("input",{type:"number",value:h.prizeTokenId||"",onChange:b=>y("prizeTokenId",b.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Amount Per Winner"}),l.jsx("input",{type:"number",value:h.amountPerWinner||"",onChange:b=>y("amountPerWinner",b.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]})]}),l.jsxs("div",{className:"bg-muted/20 border border-border rounded-xl p-4 mt-4 shadow-md",children:[l.jsx("h4",{className:"font-semibold text-base mb-4",children:"NFT Collection Info"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Base URI"}),l.jsx("input",{type:"url",value:h.baseURI||"",onChange:b=>y("baseURI",b.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Max Supply"}),l.jsx("input",{type:"number",value:h.maxSupply||"",onChange:b=>y("maxSupply",b.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Royalty Percentage (%)"}),l.jsx("input",{type:"number",value:h.royaltyPercentage||"",onChange:b=>y("royaltyPercentage",b.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",min:"0",step:"0.01",placeholder:"e.g. 5 for 5%"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Enter as a percentage (e.g. 5 for 5%)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Royalty Recipient"}),l.jsx("input",{type:"text",value:h.royaltyRecipient||"",onChange:b=>y("royaltyRecipient",b.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background font-mono",placeholder:"0x...",required:!0,pattern:"^0x[a-fA-F0-9]{40}$"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Must be a valid Ethereum address"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Reveal Type"}),l.jsxs(nc,{value:h.revealType,onValueChange:b=>y("revealType",b),required:!0,children:[l.jsx(sc,{className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",children:l.jsx(ic,{placeholder:"Select Reveal Type"})}),l.jsxs(oc,{children:[l.jsx(Wn,{value:"0",children:"Instant Reveal"}),l.jsx(Wn,{value:"1",children:"Manual Reveal"}),l.jsx(Wn,{value:"2",children:"Scheduled Reveal"})]})]})]}),(h.revealType==="1"||h.revealType==="2")&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Unrevealed Base URI"}),l.jsx("input",{type:"url",value:h.unrevealedBaseURI||"",onChange:b=>y("unrevealedBaseURI",b.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:h.revealType==="1"||h.revealType==="2"})]}),h.revealType==="2"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-base font-medium mb-2",children:"Reveal Time"}),l.jsx("input",{type:"datetime-local",value:h.revealTime||"",onChange:b=>y("revealTime",b.target.value),className:"w-full px-3 py-2.5 text-base border border-border rounded-lg bg-background",required:h.revealType==="2"})]})]})]}),l.jsx(sl,{formData:h,handleChange:y,required:!0,useFormDataEnabled:!0}),l.jsx(ol,{formData:h,handleChange:y,socialEngagementEnabled:u,setSocialEngagementEnabled:d}),l.jsx("div",{className:"flex gap-4",children:l.jsx(ut,{type:"submit",disabled:o||!r,className:"flex-1 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-base h-12",children:o?"Creating...":"Create Raffle"})})]})]})}function al(r,e){const[t,n]=C.useState({minSlot:void 0,maxSlot:void 0,minDuration:void 0,maxDuration:void 0,maxTicketsPerParticipant:void 0});return C.useEffect(()=>{if(!(r!=null&&r.protocolManager))return;async function i(){var s,o,a,u,d,h,p,y,m,b;try{if(e){const[x,w,A]=await Promise.all([r.protocolManager.getAllSlotLimits(),r.protocolManager.getDurationLimits(),r.protocolManager.getMaxSlotsPerParticipant()]);n({minSlot:(s=x.minPrized)==null?void 0:s.toString(),maxSlot:(o=x.max)==null?void 0:o.toString(),minDuration:(a=w.min)==null?void 0:a.toString(),maxDuration:(u=w.max)==null?void 0:u.toString(),maxTicketsPerParticipant:(d=A.max)==null?void 0:d.toString()})}else{const[x,w,A]=await Promise.all([r.protocolManager.getAllSlotLimits(),r.protocolManager.getDurationLimits(),r.protocolManager.getMaxSlotsPerParticipant()]);n({minSlot:(h=x.minNonPrized)==null?void 0:h.toString(),maxSlot:(p=x.max)==null?void 0:p.toString(),minDuration:(y=w.min)==null?void 0:y.toString(),maxDuration:(m=w.max)==null?void 0:m.toString(),maxTicketsPerParticipant:(b=A.max)==null?void 0:b.toString()})}}catch{}}i()},[r,e]),t}function W5(r,e){const[t,n]=C.useState(null),[i,s]=C.useState(!1);return C.useEffect(()=>{let o=!1;async function a(u){if(!(e!=null&&e.protocolManager)||!u||u.length!==42){n(null);return}s(!0);try{const d=await e.protocolManager.isCollectionApproved(u);o||n(d)}catch(d){console.warn("[useCollectionWhitelistStatus] Failed to check collection approval:",d.message),o||n(!1)}finally{o||s(!1)}}return a(r),()=>{o=!0}},[r,e]),{status:t,checking:i}}function H5(r,e){const[t,n]=C.useState(null),[i,s]=C.useState(!1);return C.useEffect(()=>{let o=!1;async function a(u){if(!(e!=null&&e.protocolManager)||!u||u.length!==42){n(null);return}s(!0);try{const d=await e.protocolManager.isInternalCollection(u);o||n(d)}catch{o||n(!1)}finally{o||s(!1)}}return a(r),()=>{o=!0}},[r,e]),{status:t,checking:i}}function Xg(r){if(!r)return null;if(/^\d+$/.test(r))return parseInt(r,10);const e=Object.entries($t),t=r.toLowerCase();for(const[n,i]of e)if(i.name.toLowerCase().replace(/[^a-z0-9]+/g,"-")===t)return parseInt(n,10);return null}function ite({className:r,type:e,...t}){return l.jsx("input",{type:e,"data-slot":"input",className:ct("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...t})}const ste="modulepreload",ote=function(r){return"/"+r},EA={},Af=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let o=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(t.map(d=>{if(d=ote(d),d in EA)return;EA[d]=!0;const h=d.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":ste,h||(y.as="script"),y.crossOrigin="",y.href=d,u&&y.setAttribute("nonce",u),document.head.appendChild(y),h)return new Promise((m,b)=>{y.addEventListener("load",m),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},ate=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Af(async()=>{const{default:n}=await Promise.resolve().then(()=>Du);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class c2 extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class CA extends c2{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class SA extends c2{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class NA extends c2{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var V1;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(V1||(V1={}));class lte{constructor(e,{headers:t={},customFetch:n,region:i=V1.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=ate(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return st(this,arguments,void 0,function*(t,n={}){var i;try{const{headers:s,method:o,body:a,signal:u}=n;let d={},{region:h}=n;h||(h=this.region);const p=new URL(`${this.url}/${t}`);h&&h!=="any"&&(d["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let y;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",y=a):typeof a=="string"?(d["Content-Type"]="text/plain",y=a):typeof FormData<"u"&&a instanceof FormData?y=a:(d["Content-Type"]="application/json",y=JSON.stringify(a)):y=a;const m=yield this.fetch(p.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:y,signal:u}).catch(A=>{throw A.name==="AbortError"?A:new CA(A)}),b=m.headers.get("x-relay-error");if(b&&b==="true")throw new SA(m);if(!m.ok)throw new NA(m);let x=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),w;return x==="application/json"?w=yield m.json():x==="application/octet-stream"||x==="application/pdf"?w=yield m.blob():x==="text/event-stream"?w=m:x==="multipart/form-data"?w=yield m.formData():w=yield m.text(),{data:w,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new CA(s)}:{data:null,error:s,response:s instanceof NA||s instanceof SA?s.context:void 0}}})}}var di={};const jf=ok(qU);var Zg={},e0={},t0={},r0={},n0={},cte=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yf=cte();const ute=yf.fetch,V5=yf.fetch.bind(yf),G5=yf.Headers,dte=yf.Request,fte=yf.Response,Du=Object.freeze(Object.defineProperty({__proto__:null,Headers:G5,Request:dte,Response:fte,default:V5,fetch:ute},Symbol.toStringTag,{value:"Module"})),hte=ok(Du);var i0={},TA;function K5(){if(TA)return i0;TA=1,Object.defineProperty(i0,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return i0.default=r,i0}var AA;function Y5(){if(AA)return n0;AA=1,Object.defineProperty(n0,"__esModule",{value:!0});const r=jf,e=r.__importDefault(hte),t=r.__importDefault(K5());class n{constructor(s){var o,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let u=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,p,y,m;let b=null,x=null,w=null,A=d.status,P=d.statusText;if(d.ok){if(this.method!=="HEAD"){const B=await d.text();B===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?x=B:x=JSON.parse(B))}const T=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),U=(y=d.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");T&&U&&U.length>1&&(w=parseInt(U[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(b={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,w=null,A=406,P="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const T=await d.text();try{b=JSON.parse(T),Array.isArray(b)&&d.status===404&&(x=[],b=null,A=200,P="OK")}catch{d.status===404&&T===""?(A=204,P="No Content"):b={message:T}}if(b&&this.isMaybeSingle&&(!((m=b==null?void 0:b.details)===null||m===void 0)&&m.includes("0 rows"))&&(b=null,A=200,P="OK"),b&&this.shouldThrowOnError)throw new t.default(b)}return{error:b,data:x,count:w,status:A,statusText:P}});return this.shouldThrowOnError||(u=u.catch(d=>{var h,p,y;return{error:{message:`${(h=d==null?void 0:d.name)!==null&&h!==void 0?h:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(p=d==null?void 0:d.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(y=d==null?void 0:d.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),u.then(s,o)}returns(){return this}overrideTypes(){return this}}return n0.default=n,n0}var jA;function J5(){if(jA)return r0;jA=1,Object.defineProperty(r0,"__esModule",{value:!0});const e=jf.__importDefault(Y5());class t extends e.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:u=a}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const u=typeof a>"u"?"offset":`${a}.offset`,d=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(d,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:u=!1,format:d="text"}={}){var h;const p=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,u?"wal":null].filter(Boolean).join("|"),y=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${y}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return r0.default=t,r0}var PA;function u2(){if(PA)return t0;PA=1,Object.defineProperty(t0,"__esModule",{value:!0});const e=jf.__importDefault(J5()),t=new RegExp("[,()]");class n extends e.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const a=Array.from(new Set(o)).map(u=>typeof u=="string"&&t.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(s,`in.(${a})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:a,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const h=a===void 0?"":`(${a})`;return this.url.searchParams.append(s,`${d}fts${h}.${o}`),this}match(s){return Object.entries(s).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(s,o,a){return this.url.searchParams.append(s,`not.${o}.${a}`),this}or(s,{foreignTable:o,referencedTable:a=o}={}){const u=a?`${a}.or`:"or";return this.url.searchParams.append(u,`(${s})`),this}filter(s,o,a){return this.url.searchParams.append(s,`${o}.${a}`),this}}return t0.default=n,t0}var RA;function Q5(){if(RA)return e0;RA=1,Object.defineProperty(e0,"__esModule",{value:!0});const e=jf.__importDefault(u2());class t{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=new Headers(s),this.schema=o,this.fetch=a}select(i,s){const{head:o=!1,count:a}=s??{},u=o?"HEAD":"GET";let d=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",h),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:o=!0}={}){var a;const u="POST";if(s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:u=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),a&&this.headers.append("Prefer",`count=${a}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((y,m)=>y.concat(Object.keys(m)),[]);if(p.length>0){const y=[...new Set(p)].map(m=>`"${m}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:s}={}){var o;const a="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var s;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return e0.default=t,e0}var IA;function pte(){if(IA)return Zg;IA=1,Object.defineProperty(Zg,"__esModule",{value:!0});const r=jf,e=r.__importDefault(Q5()),t=r.__importDefault(u2());class n{constructor(s,{headers:o={},schema:a,fetch:u}={}){this.url=s,this.headers=new Headers(o),this.schemaName=a,this.fetch=u}from(s){const o=new URL(`${this.url}/${s}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:a=!1,get:u=!1,count:d}={}){var h;let p;const y=new URL(`${this.url}/rpc/${s}`);let m;a||u?(p=a?"HEAD":"GET",Object.entries(o).filter(([x,w])=>w!==void 0).map(([x,w])=>[x,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([x,w])=>{y.searchParams.append(x,w)})):(p="POST",m=o);const b=new Headers(this.headers);return d&&b.set("Prefer",`count=${d}`),new t.default({method:p,url:y,headers:b,schema:this.schemaName,body:m,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Zg.default=n,Zg}var MA;function mte(){if(MA)return di;MA=1,Object.defineProperty(di,"__esModule",{value:!0}),di.PostgrestError=di.PostgrestBuilder=di.PostgrestTransformBuilder=di.PostgrestFilterBuilder=di.PostgrestQueryBuilder=di.PostgrestClient=void 0;const r=jf,e=r.__importDefault(pte());di.PostgrestClient=e.default;const t=r.__importDefault(Q5());di.PostgrestQueryBuilder=t.default;const n=r.__importDefault(u2());di.PostgrestFilterBuilder=n.default;const i=r.__importDefault(J5());di.PostgrestTransformBuilder=i.default;const s=r.__importDefault(Y5());di.PostgrestBuilder=s.default;const o=r.__importDefault(K5());return di.PostgrestError=o.default,di.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},di}var X5=mte();const Z5=el(X5),gte=nj({__proto__:null,default:Z5},[X5]),{PostgrestClient:yte,PostgrestQueryBuilder:pie,PostgrestFilterBuilder:mie,PostgrestTransformBuilder:gie,PostgrestBuilder:yie,PostgrestError:xie}=Z5||gte;class xte{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const n=t.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const n=this.getWebSocketConstructor();return new n(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const vte="2.78.0",bte=`realtime-js/${vte}`,wte="1.0.0",G1=1e4,kte=1e3,_te=100;var hp;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(hp||(hp={}));var Pn;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Pn||(Pn={}));var jo;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(jo||(jo={}));var K1;(function(r){r.websocket="websocket"})(K1||(K1={}));var eu;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(eu||(eu={}));class Ete{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const i=t.getUint8(1),s=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+i));o=o+i;const u=n.decode(e.slice(o,o+s));o=o+s;const d=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:u,payload:d}}}class eO{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Lr;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Lr||(Lr={}));const OA=(r,e,t={})=>{var n;const i=(n=t.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=Cte(o,r,e,i),s),{}):{}},Cte=(r,e,t,n)=>{const i=e.find(a=>a.name===r),s=i==null?void 0:i.type,o=t[r];return s&&!n.includes(s)?tO(s,o):Y1(o)},tO=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return Ate(e,t)}switch(r){case Lr.bool:return Ste(e);case Lr.float4:case Lr.float8:case Lr.int2:case Lr.int4:case Lr.int8:case Lr.numeric:case Lr.oid:return Nte(e);case Lr.json:case Lr.jsonb:return Tte(e);case Lr.timestamp:return jte(e);case Lr.abstime:case Lr.date:case Lr.daterange:case Lr.int4range:case Lr.int8range:case Lr.money:case Lr.reltime:case Lr.text:case Lr.time:case Lr.timestamptz:case Lr.timetz:case Lr.tsrange:case Lr.tstzrange:return Y1(e);default:return Y1(e)}},Y1=r=>r,Ste=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Nte=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},Tte=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},Ate=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let s;const o=r.slice(1,t);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>tO(e,a))}return r},jte=r=>typeof r=="string"?r.replace(" ","T"):r,rO=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class mw{constructor(e,t,n={},i=G1){this.channel=e,this.event=t,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var DA;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(DA||(DA={}));class pp{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pp.syncState(this.state,i,s,o),this.pendingDiffs.forEach(u=>{this.state=pp.syncDiff(this.state,u,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=pp.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,i){const s=this.cloneDeep(e),o=this.transformState(t),a={},u={};return this.map(s,(d,h)=>{o[d]||(u[d]=h)}),this.map(o,(d,h)=>{const p=s[d];if(p){const y=h.map(w=>w.presence_ref),m=p.map(w=>w.presence_ref),b=h.filter(w=>m.indexOf(w.presence_ref)<0),x=p.filter(w=>y.indexOf(w.presence_ref)<0);b.length>0&&(a[d]=b),x.length>0&&(u[d]=x)}else a[d]=h}),this.syncDiff(s,{joins:a,leaves:u},n,i)}static syncDiff(e,t,n,i){const{joins:s,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,u)=>{var d;const h=(d=e[a])!==null&&d!==void 0?d:[];if(e[a]=this.cloneDeep(u),h.length>0){const p=e[a].map(m=>m.presence_ref),y=h.filter(m=>p.indexOf(m.presence_ref)<0);e[a].unshift(...y)}n(a,h,u)}),this.map(o,(a,u)=>{let d=e[a];if(!d)return;const h=u.map(p=>p.presence_ref);d=d.filter(p=>h.indexOf(p.presence_ref)<0),e[a]=d,i(a,d,u),d.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const i=e[n];return"metas"in i?t[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[n]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var LA;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(LA||(LA={}));var mp;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(mp||(mp={}));var La;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(La||(La={}));class d2{constructor(e,t={config:{}},n){var i,s;if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Pn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new mw(this,jo.join,this.params,this.timeout),this.rejoinTimer=new eO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jo.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new pp(this),this.broadcastEndpointURL=rO(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Pn.closed){const{config:{broadcast:o,presence:a,private:u}}=this.params,d=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[mp.PRESENCE]&&this.bindings[mp.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},y={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:h}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(La.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(La.CLOSED)),this.updateJoinPayload(Object.assign({config:y},p)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:m})=>{var b;if(this.socket.setAuth(),m===void 0){e==null||e(La.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(b=x==null?void 0:x.length)!==null&&b!==void 0?b:0,A=[];for(let P=0;P<w;P++){const I=x[P],{filter:{event:T,schema:U,table:B,filter:H}}=I,G=m&&m[P];if(G&&G.event===T&&G.schema===U&&G.table===B&&G.filter===H)A.push(Object.assign(Object.assign({},I),{id:G.id}));else{this.unsubscribe(),this.state=Pn.errored,e==null||e(La.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(La.SUBSCRIBED);return}}).receive("error",m=>{this.state=Pn.errored,e==null||e(La.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(La.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===Pn.joined&&e===mp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async httpSend(e,t,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let u=a.statusText;try{const d=await a.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(e,t={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,u;const d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Pn.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jo.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new mw(this,jo.leave,{},e),n.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pn.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(s),o}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new mw(this,e,t,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>_te){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:u,leave:d,join:h}=jo;if(n&&[a,u,d,h].indexOf(o)>=0&&n!==this._joinRef())return;let y=this._onMessage(o,t,n);if(t&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var b,x,w;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(x=m.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(m=>m.callback(y,n)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var b,x,w,A,P,I;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const T=m.id,U=(b=m.filter)===null||b===void 0?void 0:b.event;return T&&((x=t.ids)===null||x===void 0?void 0:x.includes(T))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((w=t.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const T=(P=(A=m==null?void 0:m.filter)===null||A===void 0?void 0:A.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return T==="*"||T===((I=t==null?void 0:t.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof y=="object"&&"ids"in y){const b=y.data,{schema:x,table:w,commit_timestamp:A,type:P,errors:I}=b;y=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:A,eventType:P,new:{},old:{},errors:I}),this._getPayloadRecords(b))}m.callback(y,n)})}_isClosed(){return this.state===Pn.closed}_isJoined(){return this.state===Pn.joined}_isJoining(){return this.state===Pn.joining}_isLeaving(){return this.state===Pn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const i=e.toLocaleLowerCase(),s={type:i,filter:t,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&d2.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(jo.close,{},e)}_onError(e){this._on(jo.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=OA(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=OA(e.columns,e.old_record)),t}}const gw=()=>{},s0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Pte=[1e3,2e3,5e3,1e4],Rte=1e4,Ite=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Mte{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=G1,this.transport=null,this.heartbeatIntervalMs=s0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gw,this.ref=0,this.reconnectTimer=null,this.logger=gw,this.conn=null,this.sendBuffer=[],this.serializer=new Ete,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>Af(async()=>{const{default:a}=await Promise.resolve().then(()=>Du);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((n=t==null?void 0:t.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${K1.websocket}`,this.httpEndpoint=rO(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=xte.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wte}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case hp.connecting:return eu.Connecting;case hp.open:return eu.Open;case hp.closing:return eu.Closing;default:return eu.Closed}}isConnected(){return this.connectionState()===eu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new d2(`realtime:${e}`,t,this);return this.channels.push(s),s}}push(e){const{topic:t,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${t} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(kte,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},s0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:o}=t,a=o?`(${o})`:"",u=s.status||"";this.log("receive",`${u} ${n} ${i} ${a}`.trim(),s),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(i,s,o)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(jo.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${n}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([Ite],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(n=>{const i={access_token:t,version:bte};t&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(jo.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new eO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},s0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,i,s,o,a,u,d,h;if(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:G1,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:s0.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:gw,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:p=>Pte[p-1]||Rte,this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(p,y)=>y(JSON.stringify(p)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class f2 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function tn(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Ote extends f2{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class J1 extends f2{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const h2=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Af(async()=>{const{default:n}=await Promise.resolve().then(()=>Du);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},Dte=()=>st(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Af(()=>Promise.resolve().then(()=>Du),void 0)).Response:Response}),Q1=r=>{if(Array.isArray(r))return r.map(t=>Q1(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const i=t.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Q1(n)}),e},Lte=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},yw=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},zte=(r,e,t)=>st(void 0,void 0,void 0,function*(){const n=yield Dte();r instanceof n&&!(t!=null&&t.noResolveJson)?r.json().then(i=>{const s=r.status||500,o=(i==null?void 0:i.statusCode)||s+"";e(new Ote(yw(i),s,o))}).catch(i=>{e(new J1(yw(i),i))}):e(new J1(yw(r),r))}),Fte=(r,e,t,n)=>{const i={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"||!n?i:(Lte(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),t))};function pm(r,e,t,n,i,s){return st(this,void 0,void 0,function*(){return new Promise((o,a)=>{r(t,Fte(e,n,i,s)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>zte(u,a,n))})})}function Wp(r,e,t,n){return st(this,void 0,void 0,function*(){return pm(r,"GET",e,t,n)})}function Ao(r,e,t,n,i){return st(this,void 0,void 0,function*(){return pm(r,"POST",e,n,i,t)})}function X1(r,e,t,n,i){return st(this,void 0,void 0,function*(){return pm(r,"PUT",e,n,i,t)})}function Bte(r,e,t,n){return st(this,void 0,void 0,function*(){return pm(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function p2(r,e,t,n,i){return st(this,void 0,void 0,function*(){return pm(r,"DELETE",e,n,i,t)})}class $te{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return st(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tn(e))return{data:null,error:e};throw e}})}}var nO;class Ute{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[nO]="BlobDownloadBuilder",this.promise=null}asStream(){return new $te(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return st(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tn(e))return{data:null,error:e};throw e}})}}nO=Symbol.toStringTag;const qte={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Wte{constructor(e,t={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=h2(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,n,i){return st(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},zA),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const d=this._removeEmptyFolders(t),h=this._getFinalPath(d),p=yield(e=="PUT"?X1:Ao)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tn(s))return{data:null,error:s};throw s}})}upload(e,t,n){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,i){return st(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let u;const d=Object.assign({upsert:zA.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",d.cacheControl)):(u=n,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const p=yield X1(this.fetch,a.toString(),u,{headers:h});return{data:{path:s,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(tn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,t){return st(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const s=yield Ao(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new f2("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tn(n))return{data:null,error:n};throw n}})}update(e,t,n){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return st(this,void 0,void 0,function*(){try{return{data:yield Ao(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}copy(e,t,n){return st(this,void 0,void 0,function*(){try{return{data:{path:(yield Ao(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,n){return st(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Ao(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,n){return st(this,void 0,void 0,function*(){try{const i=yield Ao(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}download(e,t){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=s?`?${s}`:"",a=this._getFinalPath(e),u=()=>Wp(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new Ute(u,this.shouldThrowOnError)}info(e){return st(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield Wp(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Q1(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tn(n))return{data:null,error:n};throw n}})}exists(e){return st(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Bte(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tn(n)&&n instanceof J1){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),i=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&i.push(s);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});u!==""&&i.push(u);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${d}`)}}}remove(e){return st(this,void 0,void 0,function*(){try{return{data:yield p2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(tn(t))return{data:null,error:t};throw t}})}list(e,t,n){return st(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},qte),t),{prefix:e||""});return{data:yield Ao(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}listV2(e,t){return st(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ao(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},t),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const iO="2.78.0",sO={"X-Client-Info":`storage-js/${iO}`};class Hte{constructor(e,t={},n,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sO),t),this.fetch=h2(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return st(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield Wp(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(tn(t))return{data:null,error:t};throw t}})}getBucket(e){return st(this,void 0,void 0,function*(){try{return{data:yield Wp(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(tn(t))return{data:null,error:t};throw t}})}createBucket(e){return st(this,arguments,void 0,function*(t,n={public:!1}){try{return{data:yield Ao(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return st(this,void 0,void 0,function*(){try{return{data:yield X1(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return st(this,void 0,void 0,function*(){try{return{data:yield Ao(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(tn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return st(this,void 0,void 0,function*(){try{return{data:yield p2(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(tn(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}class Vte{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sO),t),this.fetch=h2(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return st(this,void 0,void 0,function*(){try{return{data:yield Ao(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(tn(t))return{data:null,error:t};throw t}})}listBuckets(e){return st(this,void 0,void 0,function*(){try{const t=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&t.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&t.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&t.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&t.set("sortOrder",e.sortOrder),e!=null&&e.search&&t.set("search",e.search);const n=t.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Wp(this.fetch,i,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(tn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return st(this,void 0,void 0,function*(){try{return{data:yield p2(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(tn(t))return{data:null,error:t};throw t}})}}const m2={"X-Client-Info":`storage-js/${iO}`,"Content-Type":"application/json"};class oO extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ws(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}class xw extends oO{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gte extends oO{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var FA;(function(r){r.InternalError="InternalError",r.S3VectorConflictException="S3VectorConflictException",r.S3VectorNotFoundException="S3VectorNotFoundException",r.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",r.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",r.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(FA||(FA={}));const g2=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Af(async()=>{const{default:n}=await Promise.resolve().then(()=>Du);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},Kte=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},BA=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Yte=(r,e,t)=>st(void 0,void 0,void 0,function*(){if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!(t!=null&&t.noResolveJson)){const i=r.status||500,s=r;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new xw(BA(o),i,a))}).catch(()=>{const o=i+"",a=s.statusText||`HTTP ${i} error`;e(new xw(a,i,o))});else{const o=i+"",a=s.statusText||`HTTP ${i} error`;e(new xw(a,i,o))}}else e(new Gte(BA(r),r))}),Jte=(r,e,t,n)=>{const i={method:r,headers:(e==null?void 0:e.headers)||{}};return n?(Kte(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),t)):i};function Qte(r,e,t,n,i,s){return st(this,void 0,void 0,function*(){return new Promise((o,a)=>{r(t,Jte(e,n,i,s)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>Yte(u,a,n))})})}function ks(r,e,t,n,i){return st(this,void 0,void 0,function*(){return Qte(r,"POST",e,n,i,t)})}class Xte{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},m2),t),this.fetch=g2(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return st(this,void 0,void 0,function*(){try{return{data:(yield ks(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ws(t))return{data:null,error:t};throw t}})}getIndex(e,t){return st(this,void 0,void 0,function*(){try{return{data:yield ks(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ws(n))return{data:null,error:n};throw n}})}listIndexes(e){return st(this,void 0,void 0,function*(){try{return{data:yield ks(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ws(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return st(this,void 0,void 0,function*(){try{return{data:(yield ks(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ws(n))return{data:null,error:n};throw n}})}}class Zte{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},m2),t),this.fetch=g2(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return st(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ks(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ws(t))return{data:null,error:t};throw t}})}getVectors(e){return st(this,void 0,void 0,function*(){try{return{data:yield ks(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ws(t))return{data:null,error:t};throw t}})}listVectors(e){return st(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield ks(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ws(t))return{data:null,error:t};throw t}})}queryVectors(e){return st(this,void 0,void 0,function*(){try{return{data:yield ks(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ws(t))return{data:null,error:t};throw t}})}deleteVectors(e){return st(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ks(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ws(t))return{data:null,error:t};throw t}})}}class ere{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},m2),t),this.fetch=g2(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return st(this,void 0,void 0,function*(){try{return{data:(yield ks(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ws(t))return{data:null,error:t};throw t}})}getBucket(e){return st(this,void 0,void 0,function*(){try{return{data:yield ks(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ws(t))return{data:null,error:t};throw t}})}listBuckets(){return st(this,arguments,void 0,function*(e={}){try{return{data:yield ks(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ws(t))return{data:null,error:t};throw t}})}deleteBucket(e){return st(this,void 0,void 0,function*(){try{return{data:(yield ks(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ws(t))return{data:null,error:t};throw t}})}}class tre extends ere{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new rre(this.url,this.headers,e,this.fetch)}}class rre extends Xte{constructor(e,t,n,i){super(e,t,i),this.vectorBucketName=n}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return st(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return st(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return st(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return st(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new nre(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class nre extends Zte{constructor(e,t,n,i,s){super(e,t,s),this.vectorBucketName=n,this.indexName=i}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return st(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return st(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return st(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return st(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return st(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class ire extends Hte{constructor(e,t={},n,i){super(e,t,n,i)}from(e){return new Wte(this.url,this.headers,e,this.fetch)}get vectors(){return new tre(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Vte(this.url+"/iceberg",this.headers,this.fetch)}}const sre="2.78.0";let Wh="";typeof Deno<"u"?Wh="deno":typeof document<"u"?Wh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wh="react-native":Wh="node";const ore={"X-Client-Info":`supabase-js-${Wh}/${sre}`},are={headers:ore},lre={schema:"public"},cre={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ure={},dre=r=>{let e;return r?e=r:typeof fetch>"u"?e=V5:e=fetch,(...t)=>e(...t)},fre=()=>typeof Headers>"u"?G5:Headers,hre=(r,e,t)=>{const n=dre(t),i=fre();return async(s,o)=>{var a;const u=(a=await e())!==null&&a!==void 0?a:r;let d=new i(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",r),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),n(s,Object.assign(Object.assign({},o),{headers:d}))}};function pre(r){return r.endsWith("/")?r:r+"/"}function mre(r,e){var t,n;const{db:i,auth:s,realtime:o,global:a}=r,{db:u,auth:d,realtime:h,global:p}=e,y={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),a),{headers:Object.assign(Object.assign({},(t=p==null?void 0:p.headers)!==null&&t!==void 0?t:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return r.accessToken?y.accessToken=r.accessToken:delete y.accessToken,y}function gre(r){const e=r==null?void 0:r.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(pre(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const aO="2.78.0",Sd=30*1e3,Z1=3,vw=Z1*Sd,yre="http://localhost:9999",xre="supabase.auth.token",vre={"X-Client-Info":`gotrue-js/${aO}`},ek="X-Supabase-Api-Version",lO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bre=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wre=600*1e3;class Hp extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function ht(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class kre extends Hp{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function _re(r){return ht(r)&&r.name==="AuthApiError"}class tu extends Hp{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class xc extends Hp{constructor(e,t,n,i){super(e,n,i),this.name=t,this.status=n}}class Eo extends xc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ere(r){return ht(r)&&r.name==="AuthSessionMissingError"}class yd extends xc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class o0 extends xc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class a0 extends xc{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Cre(r){return ht(r)&&r.name==="AuthImplicitGrantRedirectError"}class $A extends xc{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tk extends xc{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function bw(r){return ht(r)&&r.name==="AuthRetryableFetchError"}class UA extends xc{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class rk extends xc{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const wy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qA=` 	
\r=`.split(""),Sre=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<qA.length;e+=1)r[qA[e].charCodeAt(0)]=-2;for(let e=0;e<wy.length;e+=1)r[wy[e].charCodeAt(0)]=e;return r})();function WA(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(wy[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(wy[n]),e.queuedBits-=6}}function cO(r,e,t){const n=Sre[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function HA(r){const e=[],t=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{Are(o,n,t)};for(let o=0;o<r.length;o+=1)cO(r.charCodeAt(o),i,s);return e.join("")}function Nre(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Tre(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}Nre(n,e)}}function Are(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Qd(r){const e=[],t={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<r.length;i+=1)cO(r.charCodeAt(i),t,n);return new Uint8Array(e)}function jre(r){const e=[];return Tre(r,t=>e.push(t)),new Uint8Array(e)}function iu(r){const e=[],t={queue:0,queuedBits:0},n=i=>{e.push(i)};return r.forEach(i=>WA(i,t,n)),WA(null,t,n),e.join("")}function Pre(r){return Math.round(Date.now()/1e3)+r}function Rre(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const Ti=()=>typeof window<"u"&&typeof document<"u",Hc={tested:!1,writable:!1},uO=()=>{if(!Ti())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hc.tested)return Hc.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Hc.tested=!0,Hc.writable=!0}catch{Hc.tested=!0,Hc.writable=!1}return Hc.writable};function Ire(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return t.searchParams.forEach((n,i)=>{e[i]=n}),e}const dO=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Af(async()=>{const{default:n}=await Promise.resolve().then(()=>Du);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},Mre=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Nd=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},Vc=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Pl=async(r,e)=>{await r.removeItem(e)};class gx{constructor(){this.promise=new gx.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}gx.promiseConstructor=Promise;function ww(r){const e=r.split(".");if(e.length!==3)throw new rk("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!bre.test(e[n]))throw new rk("JWT not in base64url format");return{header:JSON.parse(HA(e[0])),payload:JSON.parse(HA(e[1])),signature:Qd(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ore(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function Dre(r,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await r(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function Lre(r){return("0"+r.toString(16)).substr(-2)}function zre(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let i="";for(let s=0;s<56;s++)i+=t.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,Lre).join("")}async function Fre(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Bre(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await Fre(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xd(r,e,t=!1){const n=zre();let i=n;t&&(i+="/PASSWORD_RECOVERY"),await Nd(r,`${e}-code-verifier`,i);const s=await Bre(n);return[s,n===s?"plain":"s256"]}const $re=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ure(r){const e=r.headers.get(ek);if(!e||!e.match($re))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function qre(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function Wre(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Hre=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vd(r){if(!Hre.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function kw(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const n=t.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vre(r,e){return new Proxy(r,{get:(t,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,n,i)}})}function VA(r){return JSON.parse(JSON.stringify(r))}const Qc=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Gre=[502,503,504];async function GA(r){var e;if(!Mre(r))throw new tk(Qc(r),0);if(Gre.includes(r.status))throw new tk(Qc(r),r.status);let t;try{t=await r.json()}catch(s){throw new tu(Qc(s),s)}let n;const i=Ure(r);if(i&&i.getTime()>=lO["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new UA(Qc(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Eo}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new UA(Qc(t),r.status,t.weak_password.reasons);throw new kre(Qc(t),r.status||500,n)}const Kre=(r,e,t,n)=>{const i={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),t))};async function Pt(r,e,t,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[ek]||(s[ek]=lO["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await Yre(r,e,t+a,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function Yre(r,e,t,n,i,s){const o=Kre(e,n,i,s);let a;try{a=await r(t,Object.assign({},o))}catch(u){throw console.error(u),new tk(Qc(u),0)}if(a.ok||await GA(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(u){await GA(u)}}function Co(r){var e;let t=null;Xre(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=Pre(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function KA(r){const e=Co(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Ll(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Jre(r){return{data:r,error:null}}function Qre(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:i,verification_type:s}=r,o=hc(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:n,redirect_to:i,verification_type:s},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function YA(r){return r}function Xre(r){return r.access_token&&r.refresh_token&&r.expires_in}const _w=["global","local","others"];class Zre{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=dO(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=_w[0]){if(_w.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_w.join(", ")}`);try{return await Pt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await Pt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ll})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=hc(e,["options"]),i=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Pt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Qre,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(ht(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Pt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ll})}catch(t){if(ht(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,i,s,o,a,u;try{const d={nextPage:null,lastPage:0,total:0},h=await Pt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:YA});if(h.error)throw h.error;const p=await h.json(),y=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(u=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return m.length>0&&(m.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);d[`${w}Page`]=x}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(ht(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){vd(e);try{return await Pt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ll})}catch(t){if(ht(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){vd(e);try{return await Pt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ll})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){vd(e);try{return await Pt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ll})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){vd(e.userId);try{const{data:t,error:n}=await Pt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:n}}catch(t){if(ht(t))return{data:null,error:t};throw t}}async _deleteFactor(e){vd(e.userId),vd(e.id);try{return{data:await Pt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ht(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,n,i,s,o,a,u;try{const d={nextPage:null,lastPage:0,total:0},h=await Pt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:YA});if(h.error)throw h.error;const p=await h.json(),y=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(u=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return m.length>0&&(m.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);d[`${w}Page`]=x}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(ht(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await Pt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ht(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Pt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ht(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await Pt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Pt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(ht(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Pt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ht(t))return{data:null,error:t};throw t}}}function JA(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}const bd={debug:!!(globalThis&&uO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fO extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ene extends fO{}async function tne(r,e,t){bd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),bd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){bd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,i.name);try{return await t()}finally{bd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,i.name)}}else{if(e===0)throw bd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new ene(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(bd.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function rne(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function hO(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function nne(r){return parseInt(r,16)}function ine(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function sne(r){var e;const{chainId:t,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:u,resources:d,scheme:h,uri:p,version:y}=r;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const m=hO(r.address),b=h?`${h}://${n}`:n,x=r.statement?`${r.statement}
`:"",w=`${b} wants you to sign in with your Ethereum account:
${m}

${x}`;let A=`URI: ${p}
Version: ${y}
Chain ID: ${t}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(A+=`
Expiration Time: ${i.toISOString()}`),a&&(A+=`
Not Before: ${a.toISOString()}`),u&&(A+=`
Request ID: ${u}`),d){let P=`
Resources:`;for(const I of d){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);P+=`
- ${I}`}A+=P}return`${w}
${A}`}class vn extends Error{constructor({message:e,code:t,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=t}}class ky extends vn{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function one({error:r,options:e}){var t,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new vn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((t=s.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new vn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new vn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new vn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new vn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new vn({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new vn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new vn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const o=window.location.hostname;if(pO(o)){if(s.rp.id!==o)return new vn({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new vn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new vn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new vn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new vn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function ane({error:r,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new vn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new vn({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const n=window.location.hostname;if(pO(n)){if(t.rpId!==n)return new vn({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new vn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new vn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new vn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class lne{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const cne=new lne;function une(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:t,excludeCredentials:n}=r,i=hc(r,["challenge","user","excludeCredentials"]),s=Qd(e).buffer,o=Object.assign(Object.assign({},t),{id:Qd(t.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];a.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:Qd(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function dne(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:t}=r,n=hc(r,["challenge","allowCredentials"]),i=Qd(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(t&&t.length>0){s.allowCredentials=new Array(t.length);for(let o=0;o<t.length;o++){const a=t[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Qd(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function fne(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r;return{id:r.id,rawId:r.id,response:{attestationObject:iu(new Uint8Array(r.response.attestationObject)),clientDataJSON:iu(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function hne(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r,n=r.getClientExtensionResults(),i=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:iu(new Uint8Array(i.authenticatorData)),clientDataJSON:iu(new Uint8Array(i.clientDataJSON)),signature:iu(new Uint8Array(i.signature)),userHandle:i.userHandle?iu(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function pO(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function QA(){var r,e;return!!(Ti()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function pne(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ky("Browser returned unexpected credential type",e)}:{data:null,error:new ky("Empty credential response",e)}}catch(e){return{data:null,error:one({error:e,options:r})}}}async function mne(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ky("Browser returned unexpected credential type",e)}:{data:null,error:new ky("Empty credential response",e)}}catch(e){return{data:null,error:ane({error:e,options:r})}}}const gne={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},yne={userVerification:"preferred",hints:["security-key"]};function _y(...r){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of r)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))n[s]=o;else if(t(o))n[s]=o;else if(e(o)){const a=n[s];e(a)?n[s]=_y(a,o):n[s]=_y(o)}else n[s]=o}return n}function xne(r,e){return _y(gne,r,e||{})}function vne(r,e){return _y(yne,r,e||{})}class bne{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:n,signal:i},s){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!o)return{data:null,error:a};const u=i??cne.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=xne(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:h,error:p}=await pne({publicKey:d,signal:u});return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const d=vne(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:h,error:p}=await mne(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(o){return ht(o)?{data:null,error:o}:{data:null,error:new tu("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:t,webauthn:n}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!t)return{data:null,error:new Hp("rpId is required for WebAuthn authentication")};try{if(!QA())return{data:null,error:new tu("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:n},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:u}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:u.type,rpId:t,rpOrigins:n,credential_response:u.credential_response}})}catch(o){return ht(o)?{data:null,error:o}:{data:null,error:new tu("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!t)return{data:null,error:new Hp("rpId is required for WebAuthn registration")};try{if(!QA())return{data:null,error:new tu("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:a};const{data:u,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:t,rpOrigins:n},signal:i},{create:s});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:t,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(o){return ht(o)?{data:null,error:o}:{data:null,error:new tu("Unexpected error in register",o)}}}}rne();const wne={url:yre,storageKey:xre,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vre,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function XA(r,e,t){return await t()}const wd={};class Vp{get jwks(){var e,t;return(t=(e=wd[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){wd[this.storageKey]=Object.assign(Object.assign({},wd[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=wd[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){wd[this.storageKey]=Object.assign(Object.assign({},wd[this.storageKey]),{cachedAt:e})}constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vp.nextInstanceID,Vp.nextInstanceID+=1,this.instanceID>0&&Ti()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},wne),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Zre({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=dO(i.fetch),this.lock=i.lock||XA,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ti()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=tne:this.lock=XA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new bne(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:uO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=JA(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=JA(this.memoryStorage)),Ti()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${aO}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=Ire(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Ti()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(t,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Cre(s)){const u=(e=s.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ht(t)?{error:t}:{error:new tu("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,i;try{const s=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Co}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(ht(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,n,i;try{let s;if("email"in e){const{email:h,password:p,options:y}=e;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await xd(this.storage,this.storageKey)),s=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:h,password:p,data:(t=y==null?void 0:y.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:m,code_challenge_method:b},xform:Co})}else if("phone"in e){const{phone:h,password:p,options:y}=e;s=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Co})}else throw new o0("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(ht(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:o,options:a}=e;t=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:KA})}else if("phone"in e){const{phone:s,password:o,options:a}=e;t=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:KA})}else throw new o0("You must provide either an email or phone number and a password");const{data:n,error:i}=t;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new yd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(t){if(ht(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,n,i,s,o,a,u,d,h,p,y;let m,b;if("message"in e)m=e.message,b=e.signature;else{const{chain:x,wallet:w,statement:A,options:P}=e;let I;if(Ti())if(typeof w=="object")I=w;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")I=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=w}const T=new URL((t=P==null?void 0:P.url)!==null&&t!==void 0?t:window.location.href),U=await I.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!U||U.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const B=hO(U[0]);let H=(n=P==null?void 0:P.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!H){const W=await I.request({method:"eth_chainId"});H=nne(W)}const G={domain:T.host,address:B,statement:A,uri:T.href,version:"1",chainId:H,nonce:(i=P==null?void 0:P.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=P==null?void 0:P.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=P==null?void 0:P.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(u=P==null?void 0:P.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=P==null?void 0:P.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=P==null?void 0:P.signInWithEthereum)===null||h===void 0?void 0:h.resources};m=sne(G),b=await I.request({method:"personal_sign",params:[ine(m),B]})}try{const{data:x,error:w}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:b},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Co});if(w)throw w;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new yd}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:w})}catch(x){if(ht(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(e){var t,n,i,s,o,a,u,d,h,p,y,m;let b,x;if("message"in e)b=e.message,x=e.signature;else{const{chain:w,wallet:A,statement:P,options:I}=e;let T;if(Ti())if(typeof A=="object")T=A;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))T=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=A}const U=new URL((t=I==null?void 0:I.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in T&&T.signIn){const B=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I==null?void 0:I.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),P?{statement:P}:null));let H;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")H=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)H=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)b=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),x=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${U.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(i=(n=I==null?void 0:I.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=I==null?void 0:I.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((o=I==null?void 0:I.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((a=I==null?void 0:I.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((u=I==null?void 0:I.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((d=I==null?void 0:I.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((p=(h=I==null?void 0:I.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...I.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const B=await T.signMessage(new TextEncoder().encode(b),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=B}}try{const{data:w,error:A}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:iu(x)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Co});if(A)throw A;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new yd}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:A})}catch(w){if(ht(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const t=await Vc(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(t??"").split("/");try{const{data:s,error:o}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Co});if(await Pl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new yd}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(ht(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:n,token:i,access_token:s,nonce:o}=e,a=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Co}),{data:u,error:d}=a;return d?{data:{user:null,session:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new yd}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:d})}catch(t){if(ht(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,i,s,o;try{if("email"in e){const{email:a,options:u}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await xd(this.storage,this.storageKey));const{error:p}=await Pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=u==null?void 0:u.data)!==null&&t!==void 0?t:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:a,options:u}=e,{data:d,error:h}=await Pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=u==null?void 0:u.data)!==null&&i!==void 0?i:{},create_user:(s=u==null?void 0:u.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new o0("You must provide either an email or phone number.")}catch(a){if(ht(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,n;try{let i,s;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await Pt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Co});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,d=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(ht(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,n,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await xd(this.storage,this.storageKey)),await Pt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Jre})}catch(s){if(ht(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Eo;const{error:i}=await Pt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ht(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:o}=await Pt(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:o,error:a}=await Pt(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new o0("You must provide either an email or phone number and a type")}catch(t){if(ht(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Vc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<vw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Vc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=kw()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Vre(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ll}):await this._useSession(async t=>{var n,i,s;const{data:o,error:a}=t;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Eo}:await Pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ll})})}catch(t){if(ht(t))return Ere(t)&&(await this._removeSession(),await Pl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Eo;const o=i.session;let a=null,u=null;this.flowType==="pkce"&&e.email!=null&&([a,u]=await xd(this.storage,this.storageKey));const{data:d,error:h}=await Pt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:Ll});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Eo;const t=Date.now()/1e3;let n=t,i=!0,s=null;const{payload:o}=ww(e.access_token);if(o.exp&&(n=o.exp,i=n<=t),i){const{data:a,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:u}=await this._getUser(e.access_token);if(u)throw u;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(ht(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Eo;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(ht(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Ti())throw new a0("No browser detected.");if(e.error||e.error_description||e.error_code)throw new a0(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new $A("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new a0("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $A("No code detected.");const{data:P,error:I}=await this._exchangeCodeForSession(e.code);if(I)throw I;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:u,token_type:d}=e;if(!s||!a||!o||!d)throw new a0("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(a);let y=h+p;u&&(y=parseInt(u));const m=y-h;m*1e3<=Sd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${p}s`);const b=y-p;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,y,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,y,h);const{data:x,error:w}=await this._getUser(s);if(w)throw w;const A={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:y,refresh_token:o,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:e.type},error:null}}catch(n){if(ht(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Vc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:i,error:s}=t;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(_re(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Pl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=Rre(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,i;try{const{data:{session:s},error:o}=t;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,t={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await xd(this.storage,this.storageKey,!0));try{return await Pt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(ht(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(ht(t))return{data:null,error:t};throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:n,error:i}=await this._useSession(async s=>{var o,a,u,d,h;const{data:p,error:y}=s;if(y)throw y;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Pt(this.fetch,"GET",m,{headers:this.headers,jwt:(h=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Ti()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ht(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var n;try{const{error:i,data:{session:s}}=t;if(i)throw i;const{options:o,provider:a,token:u,access_token:d,nonce:h}=e,p=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:u,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Co}),{data:y,error:m}=p;return m?{data:{user:null,session:null},error:m}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new yd}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),{data:y,error:m})}catch(i){if(ht(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,i;const{data:s,error:o}=t;if(o)throw o;return await Pt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(ht(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await Dre(async i=>(i>0&&await Ore(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await Pt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Co})),(i,s)=>{const o=200*Math.pow(2,i);return s&&bw(s)&&Date.now()+o-n<Sd})}catch(n){if(this._debug(t,"error",n),ht(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Ti()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Vc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Vc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Nd(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:kw()}else if(i&&!i.user&&!i.user){const o=await Vc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Pl(this.storage,this.storageKey+"-user"),await Nd(this.storage,this.storageKey,i)):i.user=kw()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<vw;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${vw}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),bw(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Eo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new gx;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Eo;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),ht(s)){const o={data:null,error:s};return bw(s)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,t)}catch(u){s.push(u)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await Nd(this.userStorage,this.storageKey+"-user",{user:t.user});const i=Object.assign({},t);delete i.user;const s=VA(i);await Nd(this.storage,this.storageKey,s)}else{const i=VA(t);await Nd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Pl(this.storage,this.storageKey),await Pl(this.storage,this.storageKey+"-code-verifier"),await Pl(this.storage,this.storageKey+"-user"),this.userStorage&&await Pl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ti()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Sd);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Sd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Sd}ms, refresh threshold is ${Z1} ticks`),i<=Z1&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof fO)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ti()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const i=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await xd(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:i,error:s}=t;return s?{data:null,error:s}:await Pt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(ht(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,i;const{data:s,error:o}=t;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:d}=await Pt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&u.type==="totp"&&(!((i=u==null?void 0:u.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(t){if(ht(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:i,error:s}=t;if(s)return{data:null,error:s};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?fne(e.webauthn.credential_response):hne(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:u}=await Pt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:u})})}catch(t){if(ht(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:i,error:s}=t;if(s)return{data:null,error:s};const o=await Pt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:une(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:dne(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(ht(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:n},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=ww(n.access_token);let o=null;s.aal&&(o=s.aal);let a=o;((t=(e=n.user.factors)===null||e===void 0?void 0:e.filter(h=>h.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(a="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;return i?{data:null,error:i}:n?await Pt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new Eo}})}catch(t){if(ht(t))return{data:null,error:t};throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return{data:null,error:s};if(!i)return{data:null,error:new Eo};const o=await Pt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ti()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async _denyAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return{data:null,error:s};if(!i)return{data:null,error:new Eo};const o=await Pt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ti()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ht(n))return{data:null,error:n};throw n}}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(a=>a.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+wre>i)return n;const{data:s,error:o}=await Pt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){const{data:m,error:b}=await this.getSession();if(b||!m.session)return{data:null,error:b};n=m.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:u}}=ww(n);t!=null&&t.allowExpired||qre(s.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!d){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:i,signature:o},error:null}}const h=Wre(i.alg),p=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,o,jre(`${a}.${u}`)))throw new rk("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}}}Vp.nextInstanceID=0;const kne=Vp;class _ne extends kne{constructor(e){super(e)}}class Ene{constructor(e,t,n){var i,s,o;this.supabaseUrl=e,this.supabaseKey=t;const a=gre(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,d={db:lre,realtime:ure,auth:Object.assign(Object.assign({},cre),{storageKey:u}),global:are},h=mre(n??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=hre(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new yte(new URL("rest/v1",a).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new ire(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new lte(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:o,flowType:a,lock:u,debug:d},h,p){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _ne({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),h),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,userStorage:s,flowType:a,lock:u,debug:d,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Mte(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Cne=(r,e,t)=>new Ene(r,e,t);function Sne(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Sne()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Nne="http://127.0.0.1:54321",mO="sb_publishable_ACJWlzQHlZjBrEguHvfOxg_3BJgxAaH",Tne=mO==="your-supabase-anon-key",Cn=Cne(Nne,mO,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}}),Ba={USER_SOCIAL_ACCOUNTS:"user_social_accounts",VERIFICATION_RECORDS:"social_media_verifications",PURCHASE_SIGNATURES:"purchase_signatures"},fn={TWITTER:"twitter",DISCORD:"discord",TELEGRAM:"telegram"},Ia={PENDING:"pending",VERIFIED:"completed",FAILED:"failed",EXPIRED:"expired"},Gc={TWITTER_LIKE:"twitter_like",TWITTER_RETWEET:"twitter_retweet",TWITTER_FOLLOW:"twitter_follow",TWITTER_MENTION:"twitter_mention",DISCORD_JOIN:"discord_join",DISCORD_ROLE:"discord_role",TELEGRAM_JOIN:"telegram_join"},gO={VERIFY_TWITTER:"verify-twitter",VERIFY_DISCORD:"verify-discord",VERIFY_TELEGRAM:"verify-telegram",GENERATE_SIGNATURE:"generate-signature",OAUTH_TWITTER:"oauth-twitter",OAUTH_DISCORD:"oauth-discord"},ta=async(r,e={})=>{try{const{data:t,error:n}=await Cn.functions.invoke(r,{body:e});if(n)throw n;return{data:t,error:null}}catch(t){return console.error(`Error calling edge function ${r}:`,t),{data:null,error:t}}};class Ane{constructor(){this.authenticatedAccounts=new Map}async initiateTwitterAuth(e){try{const{data:t,error:n}=await ta("oauth-twitter",{user_address:e,action:"initiate"});if(n)throw n;return{success:!0,authUrl:t.auth_url,error:null}}catch(t){return console.error("Twitter OAuth initiation failed:",t),{success:!1,authUrl:null,error:t.message}}}async handleTwitterCallback(e,t,n){try{const{data:i,error:s}=await ta("oauth-twitter",{code:e,state:t,user_address:n,action:"callback"});if(s)throw s;return await this.storeSocialAccount({walletAddress:n,platform:fn.TWITTER,platformUserId:i.user_id,platformUsername:i.username,accessToken:i.access_token,refreshToken:i.refresh_token,expiresAt:i.expires_at}),this.authenticatedAccounts.set(`${n}_${fn.TWITTER}`,i),{success:!0,error:null}}catch(i){return console.error("Twitter OAuth callback failed:",i),{success:!1,error:i.message}}}async initiateDiscordAuth(e){try{const{data:t,error:n}=await ta("oauth-discord",{user_address:e,action:"initiate"});if(n)throw n;return{success:!0,authUrl:t.auth_url,error:null}}catch(t){return console.error("Discord OAuth initiation failed:",t),{success:!1,authUrl:null,error:t.message}}}async handleDiscordCallback(e,t,n){try{const{data:i,error:s}=await ta("oauth-discord",{code:e,state:t,user_address:n,action:"callback"});if(s)throw s;return await this.storeSocialAccount({walletAddress:n,platform:fn.DISCORD,platformUserId:i.user_id,platformUsername:i.username,accessToken:i.access_token,refreshToken:i.refresh_token,expiresAt:i.expires_at}),this.authenticatedAccounts.set(`${n}_${fn.DISCORD}`,i),{success:!0,error:null}}catch(i){return console.error("Discord OAuth callback failed:",i),{success:!1,error:i.message}}}async initiateTelegramAuth(e,t){try{const{data:n,error:i}=await ta("oauth-telegram",{user_address:e,telegram_username:t,action:"initiate"});if(i)throw i;return{success:!0,verificationCode:n.verification_code,botUsername:n.bot_username,error:null}}catch(n){return console.error("Telegram auth initiation failed:",n),{success:!1,verificationCode:null,error:n.message}}}async verifyTelegramAuth(e,t){try{const{data:n,error:i}=await ta("oauth-telegram",{user_address:e,verification_code:t,action:"verify"});if(i)throw i;return await this.storeSocialAccount({walletAddress:e,platform:fn.TELEGRAM,platformUserId:n.user_id,platformUsername:n.username,accessToken:null,refreshToken:null,expiresAt:null}),this.authenticatedAccounts.set(`${e}_${fn.TELEGRAM}`,n),{success:!0,error:null}}catch(n){return console.error("Telegram auth verification failed:",n),{success:!1,error:n.message}}}async storeSocialAccount(e){const{walletAddress:t,platform:n,platformUserId:i,platformUsername:s,accessToken:o,refreshToken:a,expiresAt:u}=e,{data:d}=await Cn.from(Ba.USER_SOCIAL_ACCOUNTS).select("id").eq("user_address",t).eq("platform",n).single(),h={user_address:t,platform:n,platform_user_id:i,platform_username:s,access_token:o,refresh_token:a,expires_at:u,updated_at:new Date().toISOString()};if(d){const{error:p}=await Cn.from(Ba.USER_SOCIAL_ACCOUNTS).update(h).eq("id",d.id);if(p)throw p}else{const{error:p}=await Cn.from(Ba.USER_SOCIAL_ACCOUNTS).insert(h);if(p)throw p}}async getAuthenticatedAccounts(e){try{console.log("Fetching authenticated accounts for wallet:",e);const{data:t,error:n}=await Cn.from(Ba.USER_SOCIAL_ACCOUNTS).select("*").eq("user_address",e);if(console.log("Supabase query result:",{data:t,error:n}),n)throw console.error("Supabase query error:",n),n;const i=t.filter(s=>!(s.token_expires_at&&new Date(s.token_expires_at)<new Date));return console.log("Valid accounts found:",i.length),{accounts:i,error:null}}catch(t){return console.error("Failed to get authenticated accounts:",t),{accounts:[],error:t.message}}}async isAuthenticated(e,t){try{console.log("Checking authentication for platform:",t,"wallet:",e);const{data:n,error:i}=await Cn.from(Ba.USER_SOCIAL_ACCOUNTS).select("*").eq("user_address",e).eq("platform",t).maybeSingle();return console.log("Authentication check result:",{data:n,error:i}),i&&i.code!=="PGRST116"?(console.error("Authentication check error:",i),{success:!1,error:i.message,isAuthenticated:!1}):n?n.token_expires_at&&new Date(n.token_expires_at)<new Date?{success:!0,isAuthenticated:!1,account:null}:{success:!0,isAuthenticated:!0,account:n}:{success:!0,isAuthenticated:!1,account:null}}catch(n){return console.error("Failed to check authentication status:",n),{success:!1,error:n.message,isAuthenticated:!1}}}async refreshToken(e,t){try{const{account:n}=await this.isAuthenticated(e,t);if(!n||!n.refresh_token)throw new Error("No refresh token available");const{data:i,error:s}=await ta(`oauth-${t}`,{user_address:e,refresh_token:n.refresh_token,action:"refresh"});if(s)throw s;return await this.storeSocialAccount({walletAddress:e,platform:t,platformUserId:n.platform_user_id,platformUsername:n.platform_username,accessToken:i.access_token,refreshToken:i.refresh_token||n.refresh_token,expiresAt:i.expires_at}),{success:!0,error:null}}catch(n){return console.error("Token refresh failed:",n),{success:!1,error:n.message}}}async disconnectAccount(e,t){try{const{error:n}=await Cn.from(Ba.USER_SOCIAL_ACCOUNTS).delete().eq("user_address",e).eq("platform",t);if(n)throw n;return this.authenticatedAccounts.delete(`${e}_${t}`),{success:!0,error:null}}catch(n){return console.error("Failed to disconnect account:",n),{success:!1,error:n.message}}}getAuthInstructions(e){return{[fn.TWITTER]:{title:"Connect Twitter/X Account",description:"Connect your Twitter/X account to verify social media tasks",steps:['Click "Connect Twitter" button',"You will be redirected to Twitter/X","Authorize FairPad to access your account","You will be redirected back to complete the connection"]},[fn.DISCORD]:{title:"Connect Discord Account",description:"Connect your Discord account to verify server membership and roles",steps:['Click "Connect Discord" button',"You will be redirected to Discord","Authorize FairPad to access your account","You will be redirected back to complete the connection"]},[fn.TELEGRAM]:{title:"Connect Telegram Account",description:"Connect your Telegram account to verify group membership",steps:["Enter your Telegram username",'Click "Connect Telegram" button',"Send the verification code to our bot","Your account will be connected automatically"]}}[e]||null}}const Ss=new Ane;class jne{constructor(){this.verificationCache=new Map}async verifyTwitterTask(e,t,n,i){try{const{isAuthenticated:s,account:o}=await Ss.isAuthenticated(e,fn.TWITTER);if(!s)throw new Error("Twitter account not authenticated. Please connect your Twitter account first.");const a=await this.createVerificationRecord({walletAddress:e,raffleAddress:t,platform:fn.TWITTER,taskType:n,taskData:i}),{data:u,error:d}=await ta("verify-twitter",{user_address:e,raffle_id:t,verification_id:a.id,task_type:n,task_data:i,twitter_user_id:o.platform_user_id,access_token:o.access_token});if(d)throw await this.updateVerificationStatus(a.id,Ia.FAILED,d.message),d;return await this.updateVerificationStatus(a.id,Ia.VERIFIED),{success:!0,verificationId:a.id,error:null,details:u}}catch(s){return console.error("Twitter verification failed:",s),{success:!1,verificationId:null,error:s.message}}}async verifyDiscordTask(e,t,n,i){try{const{isAuthenticated:s,account:o}=await Ss.isAuthenticated(e,fn.DISCORD);if(!s)throw new Error("Discord account not authenticated. Please connect your Discord account first.");const a=await this.createVerificationRecord({walletAddress:e,raffleAddress:t,platform:fn.DISCORD,taskType:n,taskData:i}),{data:u,error:d}=await ta("verify-discord",{user_address:e,raffle_id:t,verification_id:a.id,task_type:n,task_data:i,discord_user_id:o.platform_user_id,access_token:o.access_token});if(d)throw await this.updateVerificationStatus(a.id,Ia.FAILED,d.message),d;return await this.updateVerificationStatus(a.id,Ia.VERIFIED),{success:!0,verificationId:a.id,error:null,details:u}}catch(s){return console.error("Discord verification failed:",s),{success:!1,verificationId:null,error:s.message}}}async verifyTelegramTask(e,t,n,i){try{const{isAuthenticated:s,account:o}=await Ss.isAuthenticated(e,fn.TELEGRAM);if(!s)throw new Error("Telegram account not authenticated. Please connect your Telegram account first.");const a=await this.createVerificationRecord({walletAddress:e,raffleAddress:t,platform:fn.TELEGRAM,taskType:n,taskData:i}),{data:u,error:d}=await ta("verify-telegram",{user_address:e,raffle_id:t,verification_id:a.id,task_type:n,task_data:i,telegram_user_id:o.platform_user_id});if(d)throw await this.updateVerificationStatus(a.id,Ia.FAILED,d.message),d;return await this.updateVerificationStatus(a.id,Ia.VERIFIED),{success:!0,verificationId:a.id,error:null,details:u}}catch(s){return console.error("Telegram verification failed:",s),{success:!1,verificationId:null,error:s.message}}}async createVerificationRecord(e){const{walletAddress:t,raffleAddress:n,platform:i,taskType:s,taskData:o}=e,a={user_address:t,raffle_id:n,platform:i,task_type:s,task_data:o,status:Ia.PENDING,updated_at:new Date().toISOString(),created_at:new Date().toISOString()},{data:u,error:d}=await Cn.from(Ba.VERIFICATION_RECORDS).upsert(a,{onConflict:"user_address,raffle_id,platform,task_type",ignoreDuplicates:!1}).select().single();if(d)throw d;return u}async updateVerificationStatus(e,t,n=null){const i={status:t,updated_at:new Date().toISOString()};t===Ia.VERIFIED&&(i.verified_at=new Date().toISOString()),n&&(i.error_message=n);const{error:s}=await Cn.from(Ba.VERIFICATION_RECORDS).update(i).eq("id",e);if(s)throw s}async getVerificationRecords(e,t){try{const{data:n,error:i}=await Cn.from(Ba.VERIFICATION_RECORDS).select("*").eq("user_address",e).eq("raffle_id",t).order("created_at",{ascending:!1});if(i)throw i;return{records:n,error:null}}catch(n){return console.error("Failed to get verification records:",n),{records:[],error:n.message}}}async checkAllTasksVerified(e,t,n){try{const{records:i}=await this.getVerificationRecords(e,t),s=i.filter(u=>u.status===Ia.VERIFIED),o=s.map(u=>`${u.platform}_${u.task_type}_${JSON.stringify(u.task_data)}`),a=n.filter(u=>{const d=`${u.platform}_${u.type}_${JSON.stringify(u.data)}`;return!o.includes(d)});return{allVerified:a.length===0,verifiedTasks:s,missingTasks:a}}catch(i){return console.error("Failed to check task verification status:",i),{allVerified:!1,verifiedTasks:[],missingTasks:n}}}async verifyTask(e,t,n,i){switch(e){case fn.TWITTER:return await this.verifyTwitterTask(t,n,i);case fn.DISCORD:return await this.verifyDiscordTask(t,n,i);case fn.TELEGRAM:return await this.verifyTelegramTask(t,n,i);default:return{success:!1,verificationId:null,error:`Unsupported platform: ${e}`}}}getTaskInstructions(e,t){var i;return((i={[fn.TWITTER]:{[Gc.TWITTER_LIKE]:{title:"Like Tweet",description:"Like the specified tweet to complete this task",steps:["Click the heart icon on the tweet","Ensure the heart is filled (red color)",'Click "Verify" to check completion']},[Gc.TWITTER_RETWEET]:{title:"Retweet",description:"Retweet the specified tweet to complete this task",steps:["Click the retweet icon on the tweet",'Choose "Retweet" or "Quote Tweet"','Click "Verify" to check completion']},[Gc.TWITTER_FOLLOW]:{title:"Follow Account",description:"Follow the specified Twitter account",steps:["Visit the Twitter profile",'Click the "Follow" button','Click "Verify" to check completion']},[Gc.TWITTER_MENTION]:{title:"Mention in Tweet",description:"Create a tweet mentioning the specified account",steps:["Create a new tweet","Include the required mention (@username)","Post the tweet",'Click "Verify" to check completion']}},[fn.DISCORD]:{[Gc.DISCORD_JOIN]:{title:"Join Discord Server",description:"Join the specified Discord server",steps:["Click the Discord invite link","Accept the server invitation","Ensure you remain in the server",'Click "Verify" to check membership']},[Gc.DISCORD_ROLE]:{title:"Obtain Discord Role",description:"Get the specified role in the Discord server",steps:["Join the Discord server first","Follow server instructions to get the role","Check that you have the required role",'Click "Verify" to check role assignment']}},[fn.TELEGRAM]:{[Gc.TELEGRAM_JOIN]:{title:"Join Telegram Group",description:"Join the specified Telegram group or channel",steps:["Click the Telegram invite link","Join the group or channel","Ensure you remain a member",'Click "Verify" to check membership']}}}[e])==null?void 0:i[t])||{title:"Unknown Task",description:"Task instructions not available",steps:["Contact support for assistance"]}}clearCache(){this.verificationCache.clear()}getCachedResult(e){return this.verificationCache.get(e)||null}setCachedResult(e,t,n=3e5){this.verificationCache.set(e,t),setTimeout(()=>{this.verificationCache.delete(e)},n)}}const zl=new jne;class Pne{constructor(){this.subscriptions=new Map,this.listeners=new Map}subscribeToVerification(e,t,n={}){const i=`${e}-${t}`;this.subscriptions.has(i)&&this.unsubscribe(i),console.log(`[RealTime] Subscribing to verification updates for ${e} on raffle ${t}`);const s=Cn.channel(`verification-events-${i}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"verification_events",filter:`user_address=eq.${e.toLowerCase()},raffle_id=eq.${t}`},a=>{console.log("[RealTime] Verification event received:",a),this.handleVerificationEvent(a.new,n)}).subscribe(a=>{console.log(`[RealTime] Events subscription status: ${a}`)}),o=Cn.channel(`verifications-${i}`).on("postgres_changes",{event:"*",schema:"public",table:"social_media_verifications",filter:`user_address=eq.${e.toLowerCase()},raffle_id=eq.${t}`},a=>{console.log("[RealTime] Verification status changed:",a),this.handleVerificationStatusChange(a,n)}).subscribe(a=>{console.log(`[RealTime] Verifications subscription status: ${a}`)});return this.subscriptions.set(i,{eventsChannel:s,verificationsChannel:o,userAddress:e,raffleId:t}),()=>this.unsubscribe(i)}handleVerificationEvent(e,t){const{event_type:n,task_type:i,metadata:s}=e;switch(n){case"task_completed":t.onTaskCompleted&&t.onTaskCompleted({taskType:i,metadata:s});break;case"all_completed":t.onAllTasksCompleted&&t.onAllTasksCompleted({totalTasks:s.total_tasks,completedAt:s.completed_at});break;case"verification_ready":t.onVerificationReady&&t.onVerificationReady({canPurchase:s.can_purchase,readyAt:s.ready_at});break;default:console.log("[RealTime] Unknown event type:",n)}t.onUpdate&&t.onUpdate(e)}handleVerificationStatusChange(e,t){const{eventType:n,new:i,old:s}=e;n==="UPDATE"&&(s==null?void 0:s.status)!==(i==null?void 0:i.status)&&i.status==="completed"&&t.onTaskCompleted&&t.onTaskCompleted({taskType:i.task_type,platform:i.platform,verificationId:i.id}),t.onStatusChange&&t.onStatusChange({eventType:n,newRecord:i,oldRecord:s})}unsubscribe(e){const t=this.subscriptions.get(e);t&&(console.log(`[RealTime] Unsubscribing from ${e}`),t.eventsChannel.unsubscribe(),t.verificationsChannel.unsubscribe(),this.subscriptions.delete(e))}unsubscribeAll(){console.log("[RealTime] Unsubscribing from all verification updates"),this.subscriptions.forEach((e,t)=>{this.unsubscribe(t)}),this.subscriptions.clear(),this.listeners.clear()}async getVerificationProgress(e,t){try{const{data:n,error:i}=await Cn.rpc("get_verification_progress",{p_user_address:e.toLowerCase(),p_raffle_id:t});if(i)throw i;return{success:!0,data:(n==null?void 0:n[0])||{total_tasks:0,completed_tasks:0,pending_tasks:0,progress_percentage:0,all_completed:!1,tasks:[]}}}catch(n){return console.error("[RealTime] Error fetching verification progress:",n),{success:!1,error:n.message}}}async areAllTasksCompleted(e,t){const n=await this.getVerificationProgress(e,t);return n.success&&n.data.all_completed}async getRecentEvents(e,t,n=10){try{const{data:i,error:s}=await Cn.from("verification_events").select("*").eq("user_address",e.toLowerCase()).eq("raffle_id",t).order("created_at",{ascending:!1}).limit(n);if(s)throw s;return{success:!0,events:i||[]}}catch(i){return console.error("[RealTime] Error fetching recent events:",i),{success:!1,error:i.message,events:[]}}}}const Rne=new Pne,ZA={twitter:K0,discord:v0,telegram:$w,instagram:NB,youtube:BB,facebook:CB,linkedin:TB,website:Fw,default:Fw},ej={follow:Yl,like:SB,retweet:IB,comment:RB,mention:bB,join:Yl,share:W0,default:W0},Ine=r=>{if(!r)return[];try{const e=JSON.parse(r);console.log("Parsed JSON tasks:",e);const t=Array.isArray(e)?e.map(One):[];return console.log("Enhanced JSON tasks:",t),t}catch{console.log("Parsing text-based tasks from:",r);const e=Mne(r);return console.log("Parsed text tasks:",e),e}},Mne=r=>{const e=[],t=[{pattern:/twitter[:\s]+follow(?:\s+account)?[:\s\-]+@?([a-zA-Z0-9_]+)/gi,platform:"twitter",action:"follow",extractTarget:i=>i[1]},{pattern:/twitter[:\s]+like[:\s\-]+(https?:\/\/(?:twitter\.com|x\.com)\/[^\s]+)/gi,platform:"twitter",action:"like",extractTarget:i=>i[1]},{pattern:/twitter[:\s]+retweet[:\s\-]+(https?:\/\/(?:twitter\.com|x\.com)\/[^\s]+)/gi,platform:"twitter",action:"retweet",extractTarget:i=>i[1]},{pattern:/twitter[:\s]+comment(?:\s+on\s+tweet)?[:\s\-]+(https?:\/\/(?:twitter\.com|x\.com)\/[^\s]+)/gi,platform:"twitter",action:"comment",extractTarget:i=>i[1]},{pattern:/discord[:\s]+join[:\s]+(https?:\/\/discord\.gg\/[^\s]+)/gi,platform:"discord",action:"join",extractTarget:i=>i[1]},{pattern:/telegram[:\s]+join[:\s]+(https?:\/\/t\.me\/[^\s]+)/gi,platform:"telegram",action:"join",extractTarget:i=>i[1]},{pattern:/telegram[:\s]+join[:\s]+@?([a-zA-Z0-9_]+)/gi,platform:"telegram",action:"join",extractTarget:i=>i[1]}];let n=1;return t.forEach(({pattern:i,platform:s,action:o,extractTarget:a})=>{let u;for(;(u=i.exec(r))!==null;){const d=a(u);e.push({id:`${s}_${o}_${n++}`,platform:s,action:o,target:d,title:`${s.charAt(0).toUpperCase()+s.slice(1)} ${o.charAt(0).toUpperCase()+o.slice(1)}`,description:`${o.charAt(0).toUpperCase()+o.slice(1)} ${d}`,actionData:yO(s,o,d)})}}),e.length===0&&e.push({id:"generic_task",platform:"default",action:"complete",target:"",title:"Social Media Engagement",description:r,actionData:null}),e},One=r=>{console.log("Enhancing task with action data:",r);const e=yO(r.platform,r.action||r.type,r.target||r.data);console.log("Generated action data:",e);const t={...r,actionData:e};return console.log("Enhanced task:",t),t},yO=(r,e,t)=>{switch(r==null?void 0:r.toLowerCase()){case"twitter":return Dne(e,t);case"discord":return Lne(e,t);case"telegram":return zne(e,t);default:return null}},Dne=(r,e)=>{switch(r==null?void 0:r.toLowerCase()){case"follow":return{type:"follow",url:`https://twitter.com/${e.replace("@","")}`,buttonText:"Follow on Twitter",icon:"follow"};case"like":case"twitter_like":const t=Ew(e);return{type:"like",url:e.startsWith("http")?e:`https://twitter.com/i/status/${t}`,buttonText:"Like Tweet",icon:"like"};case"retweet":case"twitter_retweet":const n=Ew(e);return{type:"retweet",url:e.startsWith("http")?e:`https://twitter.com/i/status/${n}`,buttonText:"Retweet",icon:"retweet"};case"comment":case"twitter_comment":const i=Ew(e);return{type:"comment",url:e.startsWith("http")?e:`https://twitter.com/i/status/${i}`,buttonText:"Comment on Tweet",icon:"comment"};case"mention":case"twitter_mention":return{type:"mention",url:`https://twitter.com/compose/tweet?text=${encodeURIComponent(`@${e.replace("@","")} `)}`,buttonText:"Create Mention Tweet",icon:"mention"};default:return{type:"generic",url:`https://twitter.com/${e.replace("@","")}`,buttonText:"Open on Twitter",icon:"default"}}},Lne=(r,e)=>{switch(r==null?void 0:r.toLowerCase()){case"join":case"discord_join":return{type:"join",url:e.startsWith("http")?e:`https://discord.gg/${e}`,buttonText:"Join Discord Server",icon:"join"};default:return{type:"generic",url:e.startsWith("http")?e:`https://discord.gg/${e}`,buttonText:"Open Discord",icon:"default"}}},zne=(r,e)=>{switch(r==null?void 0:r.toLowerCase()){case"join":case"telegram_join":return{type:"join",url:e.startsWith("http")?e:`https://t.me/${e.replace("@","")}`,buttonText:"Join Telegram",icon:"join"};default:return{type:"generic",url:e.startsWith("http")?e:`https://t.me/${e.replace("@","")}`,buttonText:"Open Telegram",icon:"default"}}},Ew=r=>{if(typeof r!="string")return"";const e=r.match(/status\/(\d+)/);return e?e[1]:r},Fne=({task:r,onComplete:e,onAuthenticate:t,isCompleted:n,isVerifying:i,isAuthenticated:s,userAddress:o,raffleId:a,taskStatus:u,onRetry:d,authenticatedAccounts:h})=>{var H,G,W;const[p,y]=C.useState(!1),[m,b]=C.useState(!1),x=ZA[(H=r.platform)==null?void 0:H.toLowerCase()]||ZA.default,w=ej[(G=r.actionData)==null?void 0:G.icon]||ej.default,A=(u==null?void 0:u.status)==="verifying",P=(u==null?void 0:u.status)==="failed",I=async()=>{var V;if(!o){ee.error("Please connect your wallet first");return}y(!0);try{let K;switch((V=r.platform)==null?void 0:V.toLowerCase()){case"twitter":K=await Ss.initiateTwitterAuth(o);break;case"discord":K=await Ss.initiateDiscordAuth(o);break;case"telegram":K=await Ss.initiateTelegramAuth(o);break;default:throw new Error(`Unsupported platform: ${r.platform}`)}if(K.success){if(K.authUrl){console.log("Opening OAuth popup for platform:",r.platform);const q=window.open(K.authUrl,"_blank","width=600,height=600");ee.success("Authentication window opened. Please complete the OAuth process.");const D=setInterval(()=>{console.log("Checking if popup is closed...",q==null?void 0:q.closed),q&&q.closed&&(console.log("Popup closed, refreshing authentication status for:",r.platform),clearInterval(D),t(r.platform))},1e3);setTimeout(()=>{console.log("Fallback timeout reached, forcing popup close and refresh"),clearInterval(D),q&&!q.closed&&(q.close(),t(r.platform))},3e5)}}else ee.error(K.error||"Authentication failed")}catch(K){console.error("Authentication error:",K),ee.error("Failed to initiate authentication")}finally{y(!1)}},T=()=>{var V;(V=r.actionData)!=null&&V.url&&(window.open(r.actionData.url,"_blank","noreferrer"),ee.success("Task page opened in new tab. Complete the action and return to verify."))},U=async()=>{if(!o||!r.platform){ee.error("Missing required information");return}b(!0);try{const V=await Ss.disconnectAccount(o,r.platform.toLowerCase());V.success?(ee.success(`${r.platform.charAt(0).toUpperCase()+r.platform.slice(1)} account disconnected successfully!`),t&&t(r.platform.toLowerCase())):ee.error(V.error||"Failed to disconnect account")}catch(V){console.error("Disconnect error:",V),ee.error("Failed to disconnect account")}finally{b(!1)}},B=async()=>{var V;if(!o||!a){ee.error("Missing required information");return}console.log("Task data for verification:",{task:r,taskType:r.type,taskAction:r.action,taskData:r.data,taskTarget:r.target});try{let K;switch((V=r.platform)==null?void 0:V.toLowerCase()){case"twitter":let q=r.type||r.action||"follow";q==="following"?q="follow":q==="liking"?q="like":q==="retweeting"&&(q="retweet");const D=r.data||{target:r.target};console.log("Calling verification with:",{userAddress:o,raffleId:a,taskType:q,taskData:D}),K=await zl.verifyTwitterTask(o,a,q,D);break;case"discord":const v=r.type||r.action||"follow",S=r.data||{target:r.target};K=await zl.verifyDiscordTask(o,a,v,S);break;case"telegram":const _=r.type||r.action||"follow",j=r.data||{target:r.target};K=await zl.verifyTelegramTask(o,a,_,j);break;default:throw new Error(`Unsupported platform: ${r.platform}`)}K.success?(ee.success("Task verified successfully!"),e(r.id,K.data)):ee.error(K.error||"Verification failed")}catch(K){console.error("Verification error:",K),ee.error("Failed to verify task")}};return l.jsxs("div",{className:"border border-border rounded-lg p-3 bg-card",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(x,{className:"h-5 w-5 text-muted-foreground flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h4",{className:"font-medium text-sm",children:r.title}),r.platform&&l.jsx(Jl,{variant:"outline",className:"text-xs",children:r.platform.charAt(0).toUpperCase()+r.platform.slice(1)})]}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r.description}),r.platform&&["twitter","discord","telegram"].includes(r.platform.toLowerCase())&&l.jsx("div",{className:"flex items-center gap-1 mt-1",children:s?l.jsxs(l.Fragment,{children:[l.jsx(Qh,{className:"h-3 w-3 text-green-600"}),l.jsx("span",{className:"text-xs text-green-700",children:((W=h[r.platform.toLowerCase()])==null?void 0:W.platform_username)==="pending"?"Connecting...":"Authenticated"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Bw,{className:"h-3 w-3 text-orange-600"}),l.jsx("span",{className:"text-xs text-orange-700",children:"Auth Required"})]})})]}),l.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:!n&&l.jsxs(l.Fragment,{children:[(()=>{const V=r.platform&&["twitter","discord","telegram"].includes(r.platform.toLowerCase())&&!s;return console.log("Connect button display check:",{taskPlatform:r.platform,platformIncluded:r.platform&&["twitter","discord","telegram"].includes(r.platform.toLowerCase()),isAuthenticated:s,shouldShow:V}),V})()&&l.jsx(ut,{onClick:I,disabled:p,size:"sm",variant:"outline",className:"text-xs whitespace-nowrap",children:p?"Connecting...":"Connect"}),s&&r.actionData&&l.jsxs(ut,{variant:"outline",size:"sm",onClick:T,className:"text-xs whitespace-nowrap",children:[l.jsx(w,{className:"h-3 w-3 mr-1"}),r.actionData.buttonText.replace("on Twitter","").replace("on Discord","").replace("on Telegram","").trim()]}),s&&r.platform&&["twitter","discord","telegram"].includes(r.platform.toLowerCase())&&l.jsx(ut,{onClick:U,disabled:m,size:"sm",variant:"outline",className:"text-xs whitespace-nowrap text-red-600 hover:text-red-700 hover:border-red-300",children:m?"Disconnecting...":"Disconnect"}),s&&!n&&r.platform&&["twitter","discord","telegram"].includes(r.platform.toLowerCase())&&l.jsx(ut,{onClick:B,disabled:i,size:"sm",variant:"default",className:"text-xs whitespace-nowrap bg-green-600 hover:bg-green-700",children:i?"Verifying...":"Verify Task"}),s&&r.actionUrl&&!r.actionData&&l.jsxs(ut,{variant:"outline",size:"sm",onClick:()=>window.open(r.actionUrl,"_blank"),className:"text-xs whitespace-nowrap",children:[l.jsx(W0,{className:"h-3 w-3 mr-1"}),"Complete"]})]})}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[P&&l.jsx(ut,{onClick:()=>d(r.id),size:"sm",variant:"ghost",className:"text-xs h-6 px-2",title:"Retry verification",children:l.jsx(tf,{className:"h-3 w-3"})}),l.jsx(Jl,{variant:n?"default":P?"destructive":"secondary",className:"text-xs",children:n?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Br,{className:"h-3 w-3"}),"Done"]}):P?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(wf,{className:"h-3 w-3"}),"Failed"]}):A?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(AB,{className:"h-3 w-3 animate-spin"}),"Verifying"]}):l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Sp,{className:"h-3 w-3"}),"Pending"]})})]})]}),P&&(u==null?void 0:u.error)&&l.jsxs("div",{className:"mt-2 flex items-start gap-2 p-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded text-xs",children:[l.jsx(wr,{className:"h-3 w-3 text-red-600 flex-shrink-0 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-red-700 dark:text-red-300",children:u.error}),l.jsx("button",{onClick:()=>d(r.id),className:"text-red-600 dark:text-red-400 underline hover:no-underline mt-1",children:"Click to retry"})]})]})]})},Bne=({raffle:r,userAddress:e,socialEngagementRequired:t,hasCompletedSocialEngagement:n,onVerificationComplete:i})=>{const{connected:s}=ur(),{contracts:o,executeTransaction:a}=Cr(),[u,d]=C.useState([]),[h,p]=C.useState(new Set),[y,m]=C.useState(!1),[b,x]=C.useState(!1),[w,A]=C.useState({}),[P,I]=C.useState([]),[T,U]=C.useState(!1),[B,H]=C.useState(!1),[G,W]=C.useState({}),[V,K]=C.useState(new Set);C.useEffect(()=>{if(r!=null&&r.socialTaskDescription){const O=Ine(r.socialTaskDescription);d(O)}else d([])},[r==null?void 0:r.socialTaskDescription]),C.useEffect(()=>{s&&e&&q()},[s,e,r==null?void 0:r.address]),C.useEffect(()=>{s&&e&&(o!=null&&o.socialEngagementManager)&&D()},[s,e,o==null?void 0:o.socialEngagementManager,r==null?void 0:r.address,P]),C.useEffect(()=>{if(!e||!(r!=null&&r.address))return;const O=Rne.subscribeToVerification(e,r.address,{onTaskCompleted:z=>{ee.success(`Task completed: ${z.taskType}`),W(E=>({...E,[z.taskId]:{status:"completed",timestamp:Date.now()}})),q()},onAllTasksCompleted:z=>{ee.success(" All tasks completed! You can now purchase slots."),q(),i&&i()},onVerificationReady:()=>{ee.success(" Verification complete! Purchase slots button is now active.")},onTaskFailed:z=>{W(E=>({...E,[z.taskId]:{status:"failed",error:z.error,timestamp:Date.now()}})),ee.error(`Task verification failed: ${z.error}`)}});return()=>{O()}},[e,r==null?void 0:r.address,i]);const q=async()=>{if(e){U(!0);try{const O=await Ss.getAuthenticatedAccounts(e);if(console.log("Accounts result from service:",O),O&&!O.error&&Array.isArray(O.accounts)){const z={};O.accounts.forEach(E=>{z[E.platform]=E}),A(z)}else O&&O.error?(console.warn("Failed to load authenticated accounts:",O.error),A({})):(console.warn("Unexpected response format from getAuthenticatedAccounts"),A({}));if(r!=null&&r.address)try{const z=await zl.getVerificationRecords(e,r.address);if(console.log("Verification records result:",z),z&&!z.error&&Array.isArray(z.records)){I(z.records);const E=new Set;z.records.forEach(M=>{if(M.status==="completed"){const N=u.find(R=>R.platform===M.platform&&R.type===M.task_type);N&&E.add(N.id)}}),p(E)}else console.warn("No verification records found or invalid format"),I([])}catch(z){console.error("Error loading verification records:",z),I([]),z.message&&z.message.includes("fetch")&&ee.error("Unable to connect to verification service. Please check your connection.")}}catch(O){console.error("Error loading user data:",O),A({}),I([]),O.message&&O.message.includes("fetch")?ee.error("Unable to connect to backend services. Please check your internet connection."):O.message&&O.message.includes("Supabase")?ee.error("Backend service temporarily unavailable. Please try again later."):ee.error("Failed to load verification data. Please refresh the page.")}finally{U(!1)}}},D=async()=>{try{if(!(o!=null&&o.socialEngagementManager)||!(r!=null&&r.address)||!e)return;let O=!1;try{O=await o.socialEngagementManager.hasCompletedSocialEngagement(r.address,e)}catch(E){console.error("Error checking blockchain completion status:",E)}let z={success:!1};try{z=await zl.checkAllTasksVerified(e,r.address)}catch(E){console.error("Error checking Supabase verification status:",E),E.message&&E.message.includes("fetch")&&console.warn("Unable to connect to verification service")}(O||z.success)&&p(new Set(u.map(E=>E.id)))}catch(O){console.error("Error checking completion status:",O)}},v=async O=>{console.log("Starting authentication status refresh for platform:",O);try{console.log("Fetching authenticated accounts for user:",e);const z=await Ss.getAuthenticatedAccounts(e);if(console.log("Received accounts result:",z),z&&!z.error&&Array.isArray(z.accounts)){const E={};z.accounts.forEach(M=>{console.log("Found authenticated account:",M.platform,M),E[M.platform]=M}),console.log("Setting authenticated accounts map:",E),A(E);try{console.log("Checking if platform is authenticated:",O);const M=await Ss.isAuthenticated(e,O);console.log("Authentication check result:",M),M.success&&M.isAuthenticated?ee.success(`${O.charAt(0).toUpperCase()+O.slice(1)} account connected successfully!`):M.error&&console.warn("Authentication check failed:",M.error)}catch(M){console.error("Error checking authentication status:",M)}}else z&&z.error&&(console.warn("Failed to refresh authenticated accounts:",z.error),z.error.includes("fetch")&&ee.error("Unable to verify authentication status. Please check your connection."))}catch(z){console.error("Error refreshing authentication status:",z),z.message&&z.message.includes("fetch")&&ee.error("Unable to connect to authentication service. Please try again.")}finally{console.log("Authentication status refresh completed for platform:",O)}},S=async O=>{var E;const z=u.find(M=>M.id===O);if(z){W(M=>({...M,[O]:{status:"verifying",timestamp:Date.now()}})),K(M=>new Set([...M,O]));try{let M;switch((E=z.platform)==null?void 0:E.toLowerCase()){case"twitter":M=await zl.verifyTwitterTask(e,r.address,z.type||z.action,z.data||{target:z.target});break;case"discord":M=await zl.verifyDiscordTask(e,r.address,z.type||z.action,z.data||{target:z.target});break;case"telegram":M=await zl.verifyTelegramTask(e,r.address,z.type||z.action,z.data||{target:z.target});break;default:throw new Error(`Unsupported platform: ${z.platform}`)}M.success?(W(N=>({...N,[O]:{status:"completed",timestamp:Date.now()}})),ee.success("Task verified successfully!"),q()):(W(N=>({...N,[O]:{status:"failed",error:M.error,timestamp:Date.now()}})),ee.error(M.error||"Verification failed"))}catch(M){console.error("Retry verification error:",M),W(N=>({...N,[O]:{status:"failed",error:M.message,timestamp:Date.now()}})),ee.error("Failed to retry verification")}finally{K(M=>{const N=new Set(M);return N.delete(O),N})}}},_=async(O,z)=>{if(!s||!e){ee.error("Please connect your wallet");return}x(!0);try{if(!u.find(M=>M.id===O))throw new Error("Task not found");if(typeof z=="object"&&z.verified){p(N=>new Set([...N,O]));try{await q()}catch(N){console.warn("Failed to refresh user data after task completion:",N)}u.every(N=>h.has(N.id)||N.id===O)&&i&&i(),ee.success("Task verification completed!");return}}catch(E){console.error("Error completing task:",E),E.message&&E.message.includes("fetch")?ee.error("Unable to connect to verification service. Please check your connection and try again."):E.message&&E.message.includes("Task not found")?ee.error("Task not found. Please refresh the page and try again."):ee.error("Failed to complete task. Please try again.")}finally{x(!1)}},j=async O=>{try{const z=await Ss.disconnectAccount(e,O);z.success?(A(E=>{const M={...E};return delete M[O],M}),ee.success(`${O.charAt(0).toUpperCase()+O.slice(1)} account disconnected`)):z.error&&z.error.includes("fetch")?ee.error("Unable to connect to authentication service. Please check your connection and try again."):ee.error(z.error||"Failed to disconnect account")}catch(z){console.error("Error disconnecting account:",z),z.message&&z.message.includes("fetch")?ee.error("Connection failed. Please check your internet connection and try again."):ee.error("Failed to disconnect account. Please try again.")}};return t?n?l.jsx(In,{className:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",children:l.jsx(Mn,{className:"pt-6",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Br,{className:"h-6 w-6 text-green-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-green-800 dark:text-green-200",children:"Social Media Tasks Completed"}),l.jsx("p",{className:"text-sm text-green-600 dark:text-green-300",children:"You have successfully completed all required social media tasks for this raffle."})]})]})})}):l.jsxs(In,{className:"bg-card/80 backdrop-blur-sm border border-border",children:[l.jsx(Zs,{className:"pb-0",children:l.jsxs(eo,{className:"flex items-center justify-between cursor-pointer",onClick:()=>H(!B),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(wr,{className:"h-5 w-5 text-orange-500"}),"Social Media Tasks Required"]}),B?l.jsx(ef,{className:"h-4 w-4 text-muted-foreground"}):l.jsx(Ya,{className:"h-4 w-4 text-muted-foreground"})]})}),l.jsxs(Mn,{className:"pt-3 space-y-4",children:[l.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-3",children:l.jsx("p",{className:"text-sm text-orange-800 dark:text-orange-200",children:"Complete the following social media tasks to participate in this raffle:"})}),B&&l.jsxs(l.Fragment,{children:[Object.keys(w).length>0&&l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:[l.jsx("h4",{className:"text-sm font-medium text-green-800 dark:text-green-200 mb-2",children:"Connected Accounts:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(w).map(([O,z])=>l.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 rounded-full px-3 py-1 text-xs",children:[l.jsx(Qh,{className:"h-3 w-3 text-green-600"}),l.jsx("span",{children:O.charAt(0).toUpperCase()+O.slice(1)}),l.jsxs("span",{className:"text-muted-foreground",children:["@",z.platform_username]}),l.jsx(ut,{variant:"ghost",size:"sm",onClick:()=>j(O),className:"h-4 w-4 p-0 text-red-500 hover:text-red-700",children:""})]},O))})]}),T&&l.jsxs("div",{className:"text-center py-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Loading verification data..."})]}),l.jsx("div",{className:"space-y-3",children:u.map(O=>l.jsx(Fne,{task:O,onComplete:_,onAuthenticate:v,isCompleted:h.has(O.id),isVerifying:b,isAuthenticated:(()=>{var M;const z=(M=O.platform)==null?void 0:M.toLowerCase(),E=z?!!w[z]:!1;return console.log("Task authentication check:",{taskPlatform:O.platform,normalizedPlatform:z,authenticatedAccounts:Object.keys(w),isAuthenticated:E}),E})(),userAddress:e,raffleId:r==null?void 0:r.address,taskStatus:G[O.id],onRetry:S,authenticatedAccounts:w},O.id))}),u.length>0&&l.jsxs("div",{className:"pt-4 border-t border-border",children:[u.some(O=>!h.has(O.id))&&l.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Complete all tasks above. Verification happens automatically."}),l.jsxs("div",{className:"mt-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Progress: ",h.size," of ",u.length," tasks completed"]}),l.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-green-50 dark:bg-green-900/20 rounded-full",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),l.jsx("span",{className:"text-xs font-medium text-green-700 dark:text-green-300",children:"Live"})]})]}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 overflow-hidden",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${h.size/u.length*100}%`}})}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1.5 text-center",children:"Updates automatically when you complete tasks"})]})]})]})]})]}):null},xO=async(r,e,t=1,n={})=>{try{if(!r||!e)throw new Error("User address and raffle ID are required");if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error("Invalid user address format");const i={user_address:r.toLowerCase(),raffle_id:e,raffle_address:e,slot_count:t,...n},{data:s,error:o}=await Cn.functions.invoke(gO.GENERATE_SIGNATURE,{body:i});if(o)throw console.error("Signature generation error:",o),new Error(`Failed to generate signature: ${o.message}`);return await Wne({userAddress:i.user_address,raffleId:i.raffle_id,slotCount:i.slot_count,signature:s.signature,nonce:s.nonce,deadline:s.deadline,signatureData:JSON.stringify(i),expiresAt:new Date(Date.now()+900*1e3)}),{success:!0,signature:s.signature,nonce:s.nonce,deadline:s.deadline,signatureData:i,expiresAt:s.expires_at,metadata:s.metadata||{}}}catch(i){return console.error("Error generating purchase signature:",i),{success:!1,error:i.message}}},$ne=async(r,e)=>{try{const{data:t,error:n}=await Cn.functions.invoke(gO.VERIFY_SIGNATURE,{body:{signature:r,signatureData:e}});if(n)throw new Error(`Signature verification failed: ${n.message}`);return{success:!0,isValid:t.isValid,metadata:t.metadata||{}}}catch(t){return console.error("Error verifying signature:",t),{success:!1,error:t.message,isValid:!1}}},Une=async(r,e=10)=>{try{const{data:t,error:n}=await Cn.from("purchase_signatures").select("*").eq("user_address",r.toLowerCase()).order("created_at",{ascending:!1}).limit(e);if(n)throw new Error(`Failed to fetch signature history: ${n.message}`);return t||[]}catch(t){return console.error("Error fetching signature history:",t),[]}},qne=async(r,e)=>{try{const{data:t,error:n}=await Cn.from("purchase_signatures").select("*").eq("user_address",r.toLowerCase()).eq("raffle_id",e).gt("expires_at",new Date().toISOString()).order("created_at",{ascending:!1}).limit(1);if(n)throw new Error(`Failed to fetch existing signature: ${n.message}`);return t&&t.length>0?t[0]:null}catch(t){return console.error("Error fetching existing signature:",t),null}},Wne=async r=>{try{const{data:e,error:t}=await Cn.from("purchase_signatures").insert([{user_address:r.userAddress,raffle_id:r.raffleId,slot_count:r.slotCount,signature:r.signature,signature_data:r.signatureData,expires_at:r.expiresAt,created_at:new Date().toISOString()}]).select();if(t)throw new Error(`Failed to store signature: ${t.message}`);return e[0]}catch(e){throw console.error("Error storing signature:",e),e}},Hne=r=>new Date>new Date(r),Vne=async r=>{try{return(await Promise.allSettled(r.map(t=>xO(t.userAddress,t.raffleId,t.slotCount)))).map((t,n)=>({purchase:r[n],success:t.status==="fulfilled",data:t.status==="fulfilled"?t.value:null,error:t.status==="rejected"?t.reason.message:null}))}catch(e){throw console.error("Error in batch signature generation:",e),e}},Gne=async()=>{try{const{data:r,error:e}=await Cn.from("purchase_signatures").delete().lt("expires_at",new Date().toISOString()).select();if(e)throw new Error(`Failed to cleanup expired signatures: ${e.message}`);return r?r.length:0}catch(r){return console.error("Error cleaning up expired signatures:",r),0}},Kne={generatePurchaseSignature:xO,verifyPurchaseSignature:$ne,getUserSignatureHistory:Une,getExistingSignature:qne,isSignatureExpired:Hne,batchGenerateSignatures:Vne,cleanupExpiredSignatures:Gne},nk=["Pending","Active","Ended","Drawing","Completed","Deleted","ActivationFailed","AllPrizesClaimed","Unengaged"];function Gs(r){var n,i;if(r!=null&&r.reason)return r.reason;if((n=r==null?void 0:r.data)!=null&&n.message)return r.data.message;const e=(r==null?void 0:r.message)||((i=r==null?void 0:r.data)==null?void 0:i.message)||(r==null?void 0:r.toString())||"",t=e.match(/execution reverted:?\s*([^\n]*)/i);return t&&t[1]?t[1].trim():e}function vO(r){return de.isBigNumber(r)?r:r!=null?de.from(r):de.from(0)}const Yne=ve.memo(({raffle:r,onPurchase:e,timeRemaining:t,winners:n,shouldShowClaimPrize:i,prizeAlreadyClaimed:s,claimingPrize:o,handleClaimPrize:a,shouldShowClaimRefund:u,claimingRefund:d,handleClaimRefund:h,refundableAmount:p,isMintableERC721:y,showMintInput:m,setShowMintInput:b,mintWinnerAddress:x,setMintWinnerAddress:w,mintingToWinner:A,handleMintToWinner:P,isEscrowedPrize:I,isExternallyPrized:T,isPrized:U,isMobile:B,onStateChange:H,socialEngagementRequired:G,hasCompletedSocialEngagement:W})=>{var tt,xt;const{connected:V,address:K}=ur(),{getContractInstance:q,executeTransaction:D}=Cr(),{formatSlotFee:v,getCurrencySymbol:S}=Nn(),[_,j]=C.useState(1),[O,z]=C.useState(!1),[E,M]=C.useState(0),[N,R]=C.useState(null),[X,$]=C.useState(!1),[Y,Q]=C.useState(!1),[Z,te]=C.useState(!1);C.useEffect(()=>{ce()},[r.address,K]);const ce=async()=>{if(!r.address||!K){M(0),R(null);return}try{const Me=q(r.address,"pool");if(!Me)return;const oe=await Me.slotsPurchased(K);M(oe.toNumber?oe.toNumber():Number(oe));let he=0;try{he=(await Me.getParticipantsCount()).toNumber()}catch{let Te=0;for(;;)try{await Me.participants(Te),he++,Te++}catch{break}}he>0&&oe>0?R((oe/he*100).toFixed(2)):R(null)}catch{M(0),R(null)}},ne=async()=>{if(!V){ee.error("Please connect your wallet first");return}z(!0);try{await e(_)}catch(Me){ee.error(Gs(Me))}finally{z(!1)}},ue=()=>{var Me;return((Me=r.state)==null?void 0:Me.toLowerCase())==="active"},xe=()=>{const Me=Math.floor(Date.now()/1e3),oe=r.startTime+r.duration;return r.state==="Active"&&Me>=oe||t==="Ended"},ye=async()=>{$(!0);try{const Me=q(r.address,"pool");if(!Me)throw new Error("Failed to get pool contract");const oe=await D(Me.activate);if(oe.success)ee.success("Pool activated successfully!"),H&&H();else throw new Error(oe.error)}catch(Me){ee.error(Gs(Me))}finally{$(!1)}},Se=async()=>{te(!0);try{const Me=q(r.address,"pool");if(!Me)throw new Error("Failed to get pool contract");const oe=await D(Me.requestRandomWords);if(oe.success)ee.success("Randomness requested successfully!"),H&&H();else throw new Error(oe.error)}catch(Me){ee.error(Gs(Me))}finally{te(!1)}},pt=async()=>{Q(!0);try{const Me=q(r.address,"pool");if(!Me)throw new Error("Failed to get pool contract");const oe=await D(Me.endPool);if(oe.success)ee.success("Pool ended successfully!"),H&&H();else throw new Error(oe.error)}catch(Me){ee.error(Gs(Me))}finally{Q(!1)}},ae=()=>i&&!s,Ye=()=>{const Me=U===!0||T===!0||r.isPrized||r.isExternallyPrized,oe=[4,5,7,8].includes(r.stateNum);return Me&&oe&&p&&p.gt&&p.gt(0)},Rt=Math.floor(Date.now()/1e3),Xe=r&&r.startTime?Rt>=r.startTime:!1,Ie=r.slotLimit-r.slotsSold,Gt=Math.min(Ie,r.maxSlotsPerParticipant);return l.jsxs("div",{className:"detail-beige-card bg-card/80 text-foreground backdrop-blur-sm border border-border rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 h-full flex flex-col min-h-[360px] sm:min-h-[380px] lg:min-h-[420px]",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[l.jsx(rf,{className:"h-5 w-5"}),"Purchase Slots"]}),l.jsxs("div",{className:"flex-1 flex flex-col h-full gap-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"text-muted-foreground flex items-center gap-2",children:["Slot Fee:",typeof r.usesCustomFee=="boolean"&&l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx("span",{className:"inline-flex items-center cursor-help","aria-label":"Slot Fee info",children:l.jsx(Vt,{className:"h-3.5 w-3.5 opacity-70",tabIndex:0})})}),l.jsx(nr,{side:"top",align:"center",children:r.usesCustomFee===!0?"Set by Creator":"Protocol Slot Fee"})]})]}),l.jsx("p",{className:`font-semibold ${B?"text-base":"text-lg"}`,children:v(r.slotFee||"0")})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Remaining slots:"}),l.jsx("p",{className:`font-semibold ${B?"text-base":"text-lg"}`,children:r.slotLimit-r.slotsSold})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Your slots:"}),l.jsx("p",{className:`font-semibold ${B?"text-base":"text-lg"}`,children:E||0})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Winning Chance:"}),l.jsx("p",{className:`font-semibold ${B?"text-base":"text-lg"}`,children:N!==null?`${N}%`:"N/A"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Max per user:"}),l.jsx("p",{className:`font-semibold ${B?"text-base":"text-lg"}`,children:r.maxSlotsPerParticipant})]}),Ye()&&p&&p.gt&&p.gt(0)&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Your Refundable Amount:"}),l.jsxs("p",{className:`font-semibold ${B?"text-base":"text-lg"}`,children:[Ii(p)," ",S()]})]}),l.jsx("div",{})]}),r.stateNum===4||r.stateNum===5||r.stateNum===7||r.stateNum===8?l.jsx(l.Fragment,{children:l.jsx("div",{className:"mt-auto",children:ae()||Ye()?l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[ae()&&l.jsx("button",{onClick:a,disabled:o||!V,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50",children:o?(y||(r==null?void 0:r.standard)===1&&(r==null?void 0:r.isExternallyPrized)===!0)&&!I?"Minting...":"Claiming...":(y||(r==null?void 0:r.standard)===1&&(r==null?void 0:r.isExternallyPrized)===!0)&&!I?"Mint Prize":"Claim Prize"}),Ye()&&l.jsx("button",{onClick:h,disabled:d||!V,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50",children:d?"Claiming...":"Claim Refund"})]}):l.jsx("button",{disabled:!0,className:"w-full bg-muted text-muted-foreground px-6 py-3 rounded-lg opacity-60 cursor-not-allowed flex items-center justify-center gap-2",children:r.state==="Deleted"||r.stateNum===5?"Pool Deleted":"Pool Ended"})})}):l.jsxs("div",{className:"mt-auto",children:[((tt=r.state)==null?void 0:tt.toLowerCase())==="pending"&&Xe?l.jsx("button",{onClick:ye,disabled:X,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:X?"Activating...":"Activate Pool"}):((xt=r.state)==null?void 0:xt.toLowerCase())==="pending"&&!Xe?l.jsx("div",{className:"text-center py-4",children:l.jsx("p",{className:"text-muted-foreground text-sm",children:"Pool will be available for activation at the scheduled start time."})}):r.stateNum===2&&((K==null?void 0:K.toLowerCase())===r.creator.toLowerCase()||E>0)?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:Se,disabled:Z,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:Z?"Requesting...":"Request Randomness"}),l.jsxs("p",{className:"text-muted-foreground mt-4 text-center text-sm",children:["The pool has ended. ",(K==null?void 0:K.toLowerCase())===r.creator.toLowerCase()?"As the creator":"As a participant",", you can request the randomness to initiate winner selection."]})]}):r.state==="Completed"||r.stateNum===4||r.stateNum===7||r.state==="Deleted"||r.stateNum===5?l.jsx("button",{disabled:!0,className:"w-full bg-muted text-muted-foreground px-6 py-3 rounded-lg opacity-60 cursor-not-allowed flex items-center justify-center gap-2",children:r.state==="Deleted"||r.stateNum===5?"Pool Deleted":"Pool Ended"}):xe()?l.jsx("button",{onClick:pt,disabled:Y,className:"w-full bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:Y?"Ending...":"End Pool"}):Gt<=0?l.jsx("button",{disabled:!0,className:"w-full bg-muted text-muted-foreground px-6 py-3 rounded-lg opacity-60 cursor-not-allowed flex items-center justify-center gap-2",children:r.state==="Deleted"||r.stateNum===5?"Pool Deleted":"Pool Ended"}):E>=r.maxSlotsPerParticipant?l.jsx("button",{disabled:!0,className:"w-full bg-muted text-muted-foreground px-6 py-3 rounded-lg opacity-60 cursor-not-allowed flex items-center justify-center gap-2",children:"Limit Reached"}):l.jsxs(l.Fragment,{children:[ue()?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Quantity"}),l.jsx(ite,{type:"number",min:1,max:r.maxSlotsPerParticipant,value:_,onChange:Me=>{const oe=Me.target.value;if(oe===""||oe===null||oe===void 0)j(1);else{const he=parseInt(oe);isNaN(he)?j(1):j(Math.max(1,Math.min(r.maxSlotsPerParticipant,he)))}},className:"focus:outline-none focus:ring-0 focus-visible:ring-0"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:l.jsxs("span",{className:"cursor-pointer hover:text-primary hover:underline transition-colors",onClick:()=>j(r.maxSlotsPerParticipant),title:"Click to set quantity to maximum",children:["Max: ",r.maxSlotsPerParticipant," slots"]})})]}),l.jsx("div",{className:"p-4 bg-muted/50 backdrop-blur-sm border border-border/30 rounded-lg",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-medium",children:"Total Cost:"}),l.jsx("span",{className:`font-bold ${B?"text-base":"text-lg"}`,children:v(vO(r.slotFee).mul(isNaN(_)?1:_))})]})})]}):null,l.jsxs("button",{onClick:ne,disabled:O||!V||!ue()||G&&!W,className:"w-full bg-primary text-primary-foreground px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 shadow-sm",children:[l.jsx(rf,{className:"h-4 w-4"}),O?"Processing...":`Purchase ${_} Slot${_>1?"s":""}`]}),G&&!W&&l.jsx("div",{className:"text-center py-2",children:l.jsx("p",{className:"text-muted-foreground text-sm",children:"Complete social media verification to enable slot purchase."})})]}),!V&&l.jsx("div",{className:"text-center py-4",children:l.jsx("p",{className:"text-muted-foreground",children:"Please connect your wallet to purchase slots."})})]})]})]})}),Jne=({raffle:r,isMintableERC721:e,isEscrowedPrize:t})=>{const{getContractInstance:n}=Cr(),[i,s]=C.useState(null),[o,a]=C.useState(!0),[u,d]=C.useState(null),[h,p]=C.useState(!1),[y,m]=C.useState([]),[b,x]=C.useState(0),w=["https://ipfs.io/ipfs/","https://gateway.pinata.cloud/ipfs/","https://cloudflare-ipfs.com/ipfs/","https://dweb.link/ipfs/"],A=w.map(K=>K.replace("/ipfs/","/ipns/")),P=["https://arweave.net/"],I=(K,q,D,v={})=>{const S=[],_=/\/$/.test(K),j=K.replace(/\/$/,""),O=q!=null?q.toString():"0",E=(q!=null?BigInt(q):0n).toString(16).padStart(64,"0"),M=E.toUpperCase(),N=D===1,R=D===0,X=Y=>{const Q=[],Z=Y.replace(/\/?(?:[0-9]+|[a-fA-F0-9]{64})(?:\.json)?$/,"");return Z&&Z!==Y&&(Q.push(Z),Q.push(`${Z}/`),Q.push(`${Z}/index.json`),Q.push(`${Z}/metadata.json`)),Q};if(K.match(/\/(?:[0-9]+|[a-fA-F0-9]{64})(?:\.json)?$/)!==null){if((N||v.prioritizeRoot)&&S.push(...X(K)),S.push(K),K.includes(".json")||S.push(`${K}.json`),R&&S.push(...X(K)),N){const Y=(Q,Z=!0)=>{const te=[];return Q.match(new RegExp(`/${O}(?:\\.json)?$`))&&(te.push(Q.replace(new RegExp(`/${O}(?:\\.json)?$`),`/${E}`)),Z&&te.push(Q.replace(new RegExp(`/${O}(?:\\.json)?$`),`/${E}.json`)),te.push(Q.replace(new RegExp(`/${O}(?:\\.json)?$`),`/${M}`)),Z&&te.push(Q.replace(new RegExp(`/${O}(?:\\.json)?$`),`/${M}.json`))),Q.match(new RegExp(`${O}(?:\\.json)?$`))&&(te.push(Q.replace(new RegExp(`${O}(?:\\.json)?$`),`${E}`)),Z&&te.push(Q.replace(new RegExp(`${O}(?:\\.json)?$`),`${E}.json`)),te.push(Q.replace(new RegExp(`${O}(?:\\.json)?$`),`${M}`)),Z&&te.push(Q.replace(new RegExp(`${O}(?:\\.json)?$`),`${M}.json`))),te};S.push(...Y(K,!0))}}else N?(S.push(K),_&&S.push(j+"/"),S.push(`${j}.json`),S.push(`${j}/index.json`),S.push(`${j}/metadata.json`),S.push(`${j}/${E}`),S.push(`${j}${E}`),S.push(`${j}/${E}.json`),S.push(`${j}${E}.json`),S.push(`${j}/${M}`),S.push(`${j}${M}`),S.push(`${j}/${M}.json`),S.push(`${j}${M}.json`),S.push(`${j}/${O}`),S.push(`${j}${O}`),S.push(`${j}/${O}.json`),S.push(`${j}${O}.json`)):(S.push(K),_&&S.push(j+"/"),S.push(`${j}.json`),S.push(`${j}/index.json`),S.push(`${j}/metadata.json`),S.push(`${j}/${O}`),S.push(`${j}${O}`),S.push(`${j}/${O}.json`),S.push(`${j}${O}.json`)),K.includes("{id}")&&(S.push(K.replace("{id}",E)),S.push(K.replace("{id}",O)),S.push(K.replace("{id}",M)));return[...new Set(S)]},T=K=>{if(!K)return[];if(K.startsWith("ipfs://")){let q=K.replace("ipfs://","");return q.startsWith("ipfs/")&&(q=q.slice(5)),w.map(D=>`${D}${q}`)}if(K.startsWith("ipns://")){let q=K.replace("ipns://","");return q.startsWith("ipns/")&&(q=q.slice(5)),A.map(D=>`${D}${q}`)}if(K.startsWith("ar://")){const q=K.replace("ar://","");return P.map(D=>`${D}${q}`)}try{const q=new URL(K),v=q.pathname.replace(/\/ipfs\/ipfs\//,"/ipfs/").split("/").filter(Boolean),S=v.indexOf("ipfs");if(S!==-1&&v[S+1]){const j=v.slice(S+1).join("/");return w.map(O=>`${O}${j}`)}const _=v.indexOf("ipns");if(_!==-1&&v[_+1]){const j=v.slice(_+1).join("/");return A.map(O=>`${O}${j}`)}if(q.hostname.endsWith("arweave.net")||q.hostname==="arweave.net"){const j=v.join("/");return P.map(O=>`${O}${j}`)}}catch{}return[K]},U=K=>{const q=["image","image_url","imageUrl","animation_url","animationUrl","media","artwork"],D=v=>{if(!v)return null;if(v.startsWith("ipfs://")){let S=v.slice(7);return S.startsWith("ipfs/")&&(S=S.slice(5)),w.map(j=>`${j}${S}`)}if(v.startsWith("ipns://")){let S=v.slice(7);return S.startsWith("ipns/")&&(S=S.slice(5)),A.map(j=>`${j}${S}`)}if(v.startsWith("ar://")){const S=v.slice(5);return P.map(j=>`${j}${S}`)}return[v]};for(const v of q)if(K[v]){const S=K[v];return D(String(S))}return null},B=()=>{Array.isArray(y)&&b+1<y.length?(x(b+1),s(y[b+1])):s(null)},H=async(K,q=1e4)=>{const D=new AbortController,v=setTimeout(()=>D.abort(),q);try{const S=await fetch(K,{signal:D.signal,headers:{Accept:"application/json, text/plain, */*"}});return clearTimeout(v),S}catch(S){throw clearTimeout(v),S}},G=async(K,q=1e4)=>{for(const D of K)try{if(D.startsWith("data:")){const[S,_]=D.split(",",2),[,j,O]=S.match(/^data:([^;]+);([^,]+)$/)||[];if(j!=null&&j.includes("application/json")&&O==="base64"){const z=JSON.parse(atob(_)),E=U(z)||null;if(E)return{metadata:z,imageUrl:E,sourceUri:D}}else if(j!=null&&j.startsWith("image/")||j!=null&&j.startsWith("video/"))return{metadata:{image:D},imageUrl:D,sourceUri:D};continue}const v=await H(D,q);if(v.ok){const S=v.headers.get("content-type");try{const _=await v.text(),j=JSON.parse(_);if(j&&typeof j=="object"){const O=U(j);if(O)return{metadata:j,imageUrl:O,sourceUri:D}}}catch{if(S!=null&&S.startsWith("image/")||S!=null&&S.startsWith("video/")||D.match(/\.(jpg|jpeg|png|gif|svg|webp|mp4|webm|ogg)$/i))return{metadata:{image:D},imageUrl:D,sourceUri:D}}}}catch{continue}throw new Error("All metadata fetch attempts failed")};if(C.useEffect(()=>{async function K(){if(r.isPrized||r.prizeCollection&&r.prizeCollection!==He||r.standard!==void 0&&r.prizeTokenId!==void 0){a(!0),s(null),d(null);try{let v=null;const S=r.standard===0?"erc721Prize":"erc1155Prize",_=n(r.prizeCollection,S),j=!t;if(!_){s(null),a(!1);return}if(r.standard===0)if(j)try{if(v=await _.unrevealedBaseURI(),!v||v.trim()===""){p(!0),s(null),a(!1);return}}catch{p(!0),s(null),a(!1);return}else try{v=await _.tokenURI(r.prizeTokenId)}catch{s(null),a(!1);return}else if(r.standard===1)if(j){let R=null,X=null,$=null;try{R=await _.unrevealedURI()}catch{}try{X=await _.tokenURI(r.prizeTokenId)}catch{}try{$=await _.isRevealed()}catch{$=null}if($===!1)if(R&&R.trim()!=="")v=R;else if(X&&X.trim()!=="")v=X;else try{const Y=r==null?void 0:r.prizeTokenId;v=await _.uri(Y)}catch{s(null),a(!1);return}else if($===!0)if(X&&X.trim()!=="")v=X;else try{v=await _.uri(r.prizeTokenId)}catch{if(R&&R.trim()!=="")v=R;else{s(null),a(!1);return}}else if(X&&X.trim()!=="")v=X;else if(R&&R.trim()!=="")v=R;else try{v=await _.uri(r.prizeTokenId)}catch{s(null),a(!1);return}}else try{v=await _.uri(r.prizeTokenId)}catch{s(null),a(!1);return}else{s(null),a(!1);return}if(!v||v.trim()===""){s(null),a(!1);return}const O=I(v,r.prizeTokenId,r.standard),z=[];for(const R of O)z.push(...T(R));const E=r.standard===0&&j?5e3:1e4,M=await G(z,E),N=Array.isArray(M.imageUrl)?M.imageUrl:[M.imageUrl];m(N),x(0),s(N[0]),d(M.sourceUri)}catch{s(null),d(null)}a(!1)}}(r==null?void 0:r.isPrized)===!0&&(r==null?void 0:r.prizeCollection)&&r.prizeCollection!==He&&((r==null?void 0:r.standard)===0||(r==null?void 0:r.standard)===1)&&K()},[r,n,t]),!((r==null?void 0:r.isPrized)===!0&&(r==null?void 0:r.prizeCollection)&&r.prizeCollection!==He&&((r==null?void 0:r.standard)===0||(r==null?void 0:r.standard)===1)))return null;if(o)return l.jsx(In,{className:"detail-beige-card h-full flex flex-col items-center justify-center text-foreground border border-border rounded-xl",children:l.jsx(Mn,{className:"flex flex-col items-center justify-center",children:l.jsx("div",{className:"w-64 h-64 flex items-center justify-center border rounded-lg bg-muted/30",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading prize media..."})]})})})});if(!i)return null;const V=typeof i=="string"&&/\.(mp4|webm|ogg)$/i.test(i);return l.jsx(In,{className:"detail-beige-card h-full flex flex-col items-center justify-center text-foreground border border-border rounded-xl",children:l.jsx(Mn,{className:"flex flex-col items-center justify-center",children:V?l.jsx("video",{src:i,className:"w-64 h-64 object-contain rounded-lg border",style:{background:"#000"},controls:!0,playsInline:!0,onError:B}):l.jsx("img",{src:i,alt:"Prize Art",className:"w-64 h-64 object-contain rounded-lg border",style:{background:"#fff"},onError:B})})})},tj=({winner:r,index:e,raffle:t,connectedAddress:n,onToggleExpand:i,isExpanded:s,stats:o,onLoadStats:a,collectionName:u,isEscrowedPrize:d})=>{const h=n&&r.address.toLowerCase()===n.toLowerCase(),{formatPrizeAmount:p}=Nn(),[y,m]=ve.useState("TOKEN"),[b,x]=ve.useState(null),[w,A]=ve.useState(null),{getContractInstance:P}=Cr();ve.useEffect(()=>{let H=!0;async function G(){if(!(!t.erc20PrizeToken||t.erc20PrizeToken===He))try{if(window.__erc20SymbolCache||(window.__erc20SymbolCache={}),window.__erc20SymbolCache[t.erc20PrizeToken]){H&&m(window.__erc20SymbolCache[t.erc20PrizeToken]);return}const W=window.ethereum?new Kl(window.ethereum):Fd(),V=["function symbol() view returns (string)"],q=await new At(t.erc20PrizeToken,V,W).symbol();H&&(m(q),window.__erc20SymbolCache[t.erc20PrizeToken]=q)}catch{H&&m("TOKEN")}}return G(),()=>{H=!1}},[t.erc20PrizeToken]),ve.useEffect(()=>{let H=!0;return(async()=>{if(!t.isPrized){H&&x(null);return}try{const W=P(t.address,"pool");if(!W){console.warn("Failed to get pool contract instance"),H&&x(t.amountPerWinner||1);return}const V=await W.amountPerWinner(),K=V.toNumber?V.toNumber():Number(V);H&&(x(K),console.log(` Successfully fetched amountPerWinner from contract ${t.address}:`,K))}catch(W){if(console.warn(` Failed to fetch amountPerWinner from contract ${t.address}, using fallback:`,W.message),H){const V=t.amountPerWinner||1;x(V),console.log(` Using fallback amountPerWinner for ${t.address}:`,V)}}})(),()=>{H=!1}},[t.address,t.isPrized,t.amountPerWinner,P]),ve.useEffect(()=>{(async()=>{if(!t||!t.prizeCollection||t.prizeCollection===He){A(null);return}try{let G=null,W=null;if(typeof t.standard<"u"){const V=t.standard===0?"erc721Prize":"erc1155Prize";if(G=P(t.prizeCollection,V),G)try{typeof G.symbol=="function"&&(W=await G.symbol())}catch{W=null}}else try{G=P(t.prizeCollection,"erc721Prize"),G&&typeof G.symbol=="function"&&(W=await G.symbol())}catch{try{G=P(t.prizeCollection,"erc1155Prize"),G&&typeof G.symbol=="function"&&(W=await G.symbol())}catch{}}A(W),W&&console.log(` Successfully fetched collection symbol for ${t.prizeCollection}:`,W)}catch(G){console.warn("Failed to fetch collection symbol:",G),A(null)}})()},[t,P]);const I=H=>H,T=()=>{var G;if(!t.isPrized)return"No Prize";if(b===null&&t.isPrized)return"Loading prize info...";const H=b!==null?b:t.amountPerWinner||1;if(t.nativePrizeAmount&&t.nativePrizeAmount.gt&&t.nativePrizeAmount.gt(0)){console.log(" Native Prize Debug:",{totalPrizeAmount:t.nativePrizeAmount.toString(),winnersCount:t.winnersCount,amountPerWinnerFromContract:H,amountPerWinnerType:typeof H});const W=t.winnersCount||1,V=t.nativePrizeAmount.div(W);console.log(` Native calculation: ${t.nativePrizeAmount.toString()} / ${W} = ${V.toString()}`);const K=p(V);return console.log(` Native prize display: ${K} (prizePerWinner: ${V.toString()})`),K}if(t.erc20PrizeToken&&t.erc20PrizeToken!==He&&t.erc20PrizeAmount&&t.erc20PrizeAmount.gt&&t.erc20PrizeAmount.gt(0)){console.log(" ERC20 Prize Debug:",{totalPrizeAmount:t.erc20PrizeAmount.toString(),winnersCount:t.winnersCount,amountPerWinnerFromContract:H,amountPerWinnerType:typeof H});const W=t.winnersCount||1,V=t.erc20PrizeAmount.div(W);console.log(` ERC20 calculation: ${t.erc20PrizeAmount.toString()} / ${W} = ${V.toString()}`);const K=tm(V,18),q=`${K} ${y}`;return console.log(` ERC20 prize display: ${q} (prizePerWinner: ${V.toString()}, formatted: ${K})`),q}if(t.prizeCollection&&t.prizeCollection!==He){if(t.standard===0)if(d){const W=(G=t.prizeTokenId)!=null&&G.toString?t.prizeTokenId.toString():t.prizeTokenId,V=W!=null&&W!=="0"?`#${W}`:"#Unknown";console.log(" Escrowed ERC721 token ID debug:",{rawTokenId:t.prizeTokenId,stringTokenId:W,prizeId:V,isEscrowedPrize:d});let K;return w?K=`${w} ${V}`:u?K=`${u} ${V}`:K=`ERC721 NFT ${V}`,console.log(` Escrowed ERC721 prize display: ${K} (symbol: ${w}, name: ${u}, tokenId: ${t.prizeTokenId})`),K}else{const V=`${H} ${w||u||"ERC721 NFT"}`;return console.log(` Mintable ERC721 prize display: ${V} (symbol: ${w}, name: ${u}, amount: ${H})`),V}if(t.standard===1)return`${H} ${u||"ERC1155 Token"}`}return"Prize Available"},B=t.isPrized?r.prizeClaimed?{text:"Claimed",color:"text-green-700",icon:"green-dot",bgColor:"bg-green-100"}:{text:"Unclaimed",color:"text-orange-700",icon:"",bgColor:"bg-orange-100"}:{text:"No Prize",color:"text-muted-foreground",icon:"",bgColor:"bg-muted/20"};return l.jsx("div",{className:`detail-beige-card text-foreground bg-card border-2 rounded-xl transition-all duration-200 hover:shadow-md ${h?"border-yellow-400 winner-card-highlight":"border-[#614E41]"}`,children:l.jsxs("div",{className:"px-2 py-3 sm:px-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2.5 min-w-0 flex-1",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${h?"bg-yellow-400":"bg-primary"}`})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("div",{className:"font-mono text-sm font-medium break-all",title:r.address,children:I(r.address)}),h&&l.jsx("div",{className:"text-xs winner-text-highlight font-medium mt-0.5",children:"Your Address"})]})]}),l.jsx("button",{onClick:()=>i(r,e),className:"winner-card-expand flex-shrink-0 p-1 sm:p-1.5 rounded-md hover:bg-transparent active:bg-transparent focus:bg-transparent transition-colors focus-visible:outline-none focus-visible:ring-0",title:s?"Hide details":"View details",children:l.jsx(Ya,{className:`h-4 w-4 transition-transform duration-200 ${s?"rotate-180":""}`})})]}),t.isPrized&&l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-3 text-sm",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Prize"}),l.jsx("div",{className:"font-medium",children:T()})]}),l.jsxs("div",{className:"space-y-0.5 sm:text-right",children:[l.jsx("span",{className:"text-muted-foreground text-xs tracking-wide block",children:"Status"}),l.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-medium ${B.bgColor} ${B.color}`,children:[B.icon==="green-dot"?l.jsx("div",{className:"w-2 h-2 rounded-full bg-green-600 dark:bg-green-400"}):l.jsx("span",{children:B.icon}),l.jsx("span",{children:B.text})]})]})]}),s&&l.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:o?o.error?l.jsxs("div",{className:"text-center py-4",children:[l.jsx(wr,{className:"h-6 w-6 text-red-500 mx-auto mb-2"}),l.jsx("div",{className:"text-red-500 text-sm font-medium",children:o.error})]}):l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Participation Details"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Tickets Purchased"}),l.jsx("div",{className:"font-semibold text-base",children:o.ticketsPurchased})]}),l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Winning Tickets"}),l.jsx("div",{className:"font-semibold text-base text-green-600",children:o.winningTickets})]}),l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Losing Tickets"}),l.jsx("div",{className:"font-semibold text-base text-red-600",children:o.losingTickets})]}),l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Win Rate"}),l.jsx("div",{className:"font-semibold text-base",children:o.ticketsPurchased>0?`${(o.winningTickets/o.ticketsPurchased*100).toFixed(1)}%`:"0%"})]})]})]}):l.jsxs("div",{className:"text-center py-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary mx-auto mb-2"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading participation details..."})]})})]})})},Qne=ve.memo(({raffle:r,isMintableERC721:e,isEscrowedPrize:t,isMobile:n,onWinnerCountChange:i})=>{var q;const{getContractInstance:s,executeTransaction:o}=Cr(),{address:a}=ur();Nn();const[u,d]=C.useState([]),[h,p]=C.useState(!1),[y,m]=C.useState(null),[b,x]=C.useState({}),[w,A]=C.useState(null),[P,I]=C.useState(null),[T,U]=C.useState(null),B=(r==null?void 0:r.stateNum)===4||(r==null?void 0:r.stateNum)===7,H=!!r&&!B,{isListening:G}=fI(r==null?void 0:r.address,{onWinnersSelected:(D,v)=>{A(v==null?void 0:v.transactionHash),U(Date.now()),W(),setTimeout(()=>{W()},5e3)},onStateChange:(D,v)=>{(D===4||D===7)&&(U(Date.now()),setTimeout(()=>{W()},1e3),setTimeout(()=>{W()},6e3))},onPrizeClaimed:(D,v,S)=>{setTimeout(()=>{W()},1e3)},onRpcError:D=>{console.warn("WinnersSection RPC error:",D)},enablePolling:!0,pollingInterval:(r==null?void 0:r.stateNum)===3?8e3:12e3,autoStart:H,raffleState:(r==null?void 0:r.stateNum)||null,enableStateConditionalListening:!0,stopOnCompletion:!0});C.useEffect(()=>{A(null)},[r]),C.useEffect(()=>{(async()=>{if(!r||!r.prizeCollection||r.prizeCollection===He){I(null);return}try{const S=await s(r.prizeCollection,r.standard===0?"erc721Prize":"erc1155Prize").name();I(S)}catch{I(null)}})()},[r,s]);const W=C.useCallback(async()=>{if(!r){d([]),i==null||i(0);return}if(![2,4,7].includes(r.stateNum)){d([]),i==null||i(0);return}p(!0);try{const v=s&&s(r.address,"pool");if(!v){d([]),i==null||i(0),p(!1);return}const S=await v.winnersCount(),_=S.toNumber?S.toNumber():Number(S);if(_===0){d([]),i==null||i(0),p(!1);return}const j=[];for(let O=0;O<_;O++)try{const z=await v.winners(O);if(z===He||z==="0x0000000000000000000000000000000000000000")continue;const E=await v.claimedWins(z),M=await v.prizeClaimed(z);j.push({address:z,index:O,claimedWins:E.toNumber?E.toNumber():Number(E),prizeClaimed:M})}catch{continue}d(j),i==null||i(j.length)}catch{d([]),i==null||i(0)}finally{p(!1)}},[r,s]);C.useEffect(()=>{W()},[W,T]);const V=()=>{switch(nk[r.stateNum]||"Unknown"){case"Pending":return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Sp,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Raffle Pending"}),l.jsx("p",{className:"text-muted-foreground",children:"Winners will be announced after the raffle ends and drawing is complete."})]});case"Active":return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(nf,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Raffle Active"}),l.jsx("p",{className:"text-muted-foreground",children:"Raffle is currently active. Winners will be announced after it ends."})]});case"Ended":return u.length>0?l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"text-sm text-muted-foreground",children:[u.length," winner",u.length!==1?"s":""," selected"]})}),l.jsx("div",{className:"max-h-96 overflow-y-auto pr-2",children:l.jsx("div",{className:"space-y-3 pb-4",children:u.map((v,S)=>l.jsx(tj,{winner:v,index:S,raffle:r,connectedAddress:a,onToggleExpand:K,isExpanded:y===S,stats:b[v.address],onLoadStats:K,collectionName:P,isEscrowedPrize:t},v.index))})})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Sp,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Raffle Ended"}),l.jsx("p",{className:"text-muted-foreground",children:"Raffle has ended. Waiting for winner selection."})]});case"Drawing":return l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Drawing in Progress"}),l.jsx("p",{className:"text-muted-foreground",children:"Winners are being selected. Please wait..."})]});case"Completed":case"Prizes Claimed":case"AllPrizesClaimed":return l.jsx("div",{className:"space-y-4",children:h?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading winners..."})]}):u.length>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"text-sm text-muted-foreground",children:[u.length," winner",u.length!==1?"s":""," selected"]})}),l.jsx("div",{className:"max-h-96 overflow-y-auto pr-2",children:l.jsx("div",{className:"space-y-3 pb-4",children:u.map((v,S)=>l.jsx(tj,{winner:v,index:S,raffle:r,connectedAddress:a,onToggleExpand:K,isExpanded:y===S,stats:b[v.address],onLoadStats:K,collectionName:P,isEscrowedPrize:t},v.index))})})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(ou,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No winners data available."})]})});case"Deleted":return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Ak,{className:"h-12 w-12 text-foreground/60 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Raffle Deleted"}),l.jsx("p",{className:"text-muted-foreground",children:"This raffle has been deleted and is no longer active."})]});case"Activation Failed":return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(wr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Activation Failed"}),l.jsx("p",{className:"text-muted-foreground",children:"Raffle activation failed. Please contact support or try again."})]});case"Unengaged":return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(wr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Unengaged Raffle"}),l.jsx("p",{className:"text-muted-foreground",children:"This raffle had fewer participants than the required number of winners before its duration elapsed."})]});default:return l.jsxs("div",{className:"text-center py-8",children:[l.jsx(wr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Unknown raffle state."})]})}},K=async(D,v)=>{if(y===v){m(null);return}if(m(v),!b[D.address])try{const S=s(r.address,"pool"),_=await S.slotsPurchased(D.address),j=await S.winsPerAddress(D.address),O=await S.prizeClaimed(D.address),z=_.toNumber?_.toNumber():Number(_),E=j.toNumber?j.toNumber():Number(j);x(M=>({...M,[D.address]:{ticketsPurchased:z,winningTickets:E,losingTickets:z-E,prizeClaimed:!!O}}))}catch{x(_=>({..._,[D.address]:{error:"Failed to fetch stats"}}))}};return l.jsxs("div",{className:"detail-beige-card bg-card/80 text-foreground backdrop-blur-sm border border-border rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[l.jsx(ou,{className:"h-5 w-5"}),"Winners",w&&l.jsxs("a",{href:ik(w),target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 underline flex items-center gap-1 ml-2",title:"View winner selection transaction",children:[l.jsx(ou,{className:"h-4 w-4"}),"Transaction"]}),G&&((q=r==null?void 0:r.state)==null?void 0:q.toLowerCase())!=="pending"&&l.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ml-2 ${u.length>0?"bg-green-500":"bg-orange-500"}`,title:u.length>0?"Real-time updates active - Winners displayed":"Real-time updates active - Waiting for winners"})]}),l.jsx("div",{className:"overflow-y-auto",children:V()})]})});function Xne({token:r,amount:e}){const[t,n]=ve.useState("TOKEN");return ve.useEffect(()=>{let i=!0;async function s(){try{if(window.__erc20SymbolCache||(window.__erc20SymbolCache={}),window.__erc20SymbolCache[r]){n(window.__erc20SymbolCache[r]);return}const o=window.ethereum?new Kl(window.ethereum):Fd(),a=["function symbol() view returns (string)"],d=await new At(r,a,o).symbol();i&&(n(d),window.__erc20SymbolCache[r]=d)}catch{i&&n("TOKEN")}}return s(),()=>{i=!1}},[r]),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-foreground/80 dark:text-foreground",children:"Prize Amount:"}),l.jsxs("span",{children:[tm(e,18)," ",t]})]})}function Zne(r){return r?r.state==="Deleted"?{label:"All Slots Refundable",refundable:!0,reason:"Raffle was deleted before ending. All slots are refundable."}:r.isPrized&&r.winnersCount===1&&r.standard!==void 0&&(r.standard===0||r.standard===1)?{label:"Slots Refundable if Deleted",refundable:!1,reason:"Single-winner NFT raffles are not refundable unless deleted before ending."}:{label:"Non-winning Slots Refundable",refundable:!0,reason:"This raffle supports refunds for non-winning slots."}:{label:"Non-Refundable",refundable:!1,reason:"Unknown"}}function ik(r,e){let t=1;typeof e=="number"?t=e:window.ethereum&&window.ethereum.chainId&&(t=parseInt(window.ethereum.chainId,16));const n={1:"https://etherscan.io",5:"https://goerli.etherscan.io",11155111:"https://sepolia.etherscan.io",137:"https://polygonscan.com",80001:"https://mumbai.polygonscan.com",10:"https://optimistic.etherscan.io",420:"https://goerli-optimism.etherscan.io",42161:"https://arbiscan.io",56:"https://bscscan.com",97:"https://testnet.bscscan.com",43114:"https://snowtrace.io",43113:"https://testnet.snowtrace.io",8453:"https://basescan.org",84531:"https://goerli.basescan.org",84532:"https://sepolia.basescan.org",11155420:"https://sepolia-optimism.etherscan.io"};return`${n[t]||n[1]}/address/${r}`}const rj=()=>{var Lf,zu,zf,Ff;const{raffleAddress:r}=$C(),t=$C().chainSlug,n=Do(),{connected:i,address:s,provider:o,isInitialized:a,isReconnecting:u}=ur(),{getContractInstance:d,executeTransaction:h,isContractsReady:p,contracts:y}=Cr(),{isMobile:m}=Wr(),{formatSlotFee:b,formatPrizeAmount:x}=Nn(),w=C.useCallback(()=>{var We;const ge=(We=o==null?void 0:o.network)==null?void 0:We.chainId,we=ge&&$t[ge]?$t[ge].name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):ge||"";return`${we?`/${we}`:""}/raffle/${r}`},[o,r]),{refreshTrigger:A,triggerRefresh:P}=$9(),{handleError:I}=hB(),[T,U]=C.useState(null),[B,H]=C.useState(!0),[G,W]=C.useState(null),[V,K]=C.useState(""),[q,D]=C.useState(!1),[v,S]=C.useState(!1),[_,j]=C.useState(!1),[O,z]=C.useState(null),[E,M]=C.useState(!1),[N,R]=C.useState(!1),[X,$]=C.useState(!1),[Y,Q]=C.useState(!1),[Z,te]=C.useState(!1),[ce,ne]=C.useState(null),[ue,xe]=C.useState(0),[ye,Se]=C.useState(!1),[pt,ae]=C.useState(!1),[Ye,Rt]=C.useState(!1),[Xe,Ie]=C.useState(!1),[Gt,tt]=C.useState(!1),[xt,Me]=C.useState(!1),[oe]=C.useState(!1),[he,Oe]=C.useState(null),[Te,Re]=C.useState(!1);C.useEffect(()=>{async function ge(){var We;if(!t)return;const we=Xg(t);if(we&&!(!i||!window.ethereum))try{if(((We=o==null?void 0:o.network)==null?void 0:We.chainId)!==we)try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${we.toString(16)}`}]})}catch(Tt){if((Tt==null?void 0:Tt.code)===4902&&$t[we]){const Ut=$t[we];await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${we.toString(16)}`,chainName:Ut.name,rpcUrls:[Ut.rpcUrl],blockExplorerUrls:[Ut.explorer],nativeCurrency:Ut.nativeCurrency||{name:"ETH",symbol:"ETH",decimals:18}}]}),await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${we.toString(16)}`}]})}}}catch(Tt){console.warn("Network switch via URL failed (non-fatal):",Tt)}}ge()},[t,i,o]);const[jt,qe]=C.useState(!1),[rt,Ht]=C.useState(""),[vt,ot]=C.useState(!1),dr=C.useRef(null);C.useEffect(()=>{if(!jt)return;function ge(we){dr.current&&!dr.current.contains(we.target)&&qe(!1)}return document.addEventListener("mousedown",ge),()=>{document.removeEventListener("mousedown",ge)}},[jt]);const bt=async()=>{ot(!0);try{const ge=d(T.address,"pool");if(!ge)throw new Error("Failed to get pool contract");if(!rt||rt.length!==42)throw new Error("Please enter a valid address");const we=await h(()=>ge.mintToWinner(rt));if(we.success)ee.success("mintToWinner() executed successfully!"),window.location.reload();else throw new Error(we.error)}catch(ge){ee.error(Gs(ge))}finally{ot(!1)}},[Be,Ir]=C.useState(!1),[Nt,St]=C.useState(!1),or=C.useRef(null),[Dt,De]=C.useState(""),[dt,it]=C.useState(0),[Pe,$e]=C.useState(""),[ze,be]=C.useState(""),[Fe,Ne]=C.useState(!1),Le=async()=>{Ne(!0);try{const ge=d(T.address,"pool");if(!ge)throw new Error("Failed to get pool contract");if(!Dt||Dt.length!==42)throw new Error("Please enter a valid address");let we=Pe,We=ze;if(dt===0)we=0,We=1;else if(we===""||We==="")throw new Error("Token ID and Amount Per Winner are required");const Tt=await h(()=>ge.setExternalPrize(Dt,dt,we,We));if(Tt.success)ee.success("Prize assigned successfully!"),window.location.reload();else throw new Error(Tt.error)}catch(ge){ee.error(Gs(ge))}finally{Ne(!1)}};C.useEffect(()=>{if(!Be)return;function ge(we){Nt||or.current&&!or.current.contains(we.target)&&Ir(!1)}return document.addEventListener("mousedown",ge),()=>{document.removeEventListener("mousedown",ge)}},[Be,Nt]);const fr=C.useMemo(()=>i,[i]),Ge=C.useMemo(()=>s,[s]),at=C.useMemo(()=>r,[r]),kr=C.useRef(null),wt=C.useCallback(async()=>{try{const ge=d(at||r,"pool");if(!ge)return;const we=await ge.getActualPoolDuration(),We=we!=null&&we.toNumber?we.toNumber():Number(we);We&&We>0&&U(Tt=>Tt&&{...Tt,actualDuration:We})}catch{}},[d,at,r]),yt=(T==null?void 0:T.stateNum)===4||(T==null?void 0:T.stateNum)===7,Lt=!!T&&!yt;fI(r,{onWinnersSelected:(ge,we)=>{ee.success(`Winners have been selected! ${ge.length} winner${ge.length!==1?"s":""} chosen.`),xe(0),ne(null),P(),setTimeout(()=>{P()},5e3)},onStateChange:(ge,we)=>{ge!==3&&(xe(0),ne(null)),[2,3,4,5,6,7,8].includes(ge)&&(kr.current&&clearTimeout(kr.current),kr.current=setTimeout(()=>{wt()},600)),P()},onPrizeClaimed:(ge,we,We)=>{ee.success(`Prize claimed by ${ge.slice(0,6)}...${ge.slice(-4)}!`),P()},onTicketsPurchased:(ge,we,We)=>{ge.toLowerCase()!==(s==null?void 0:s.toLowerCase())&&ee.info(`${we.toString()} slot${we.toString()!=="1"?"s":""} purchased by ${ge.slice(0,6)}...${ge.slice(-4)}`),P()},onRpcError:ge=>{console.warn("RPC error detected:",ge)},enablePolling:!0,pollingInterval:(T==null?void 0:T.stateNum)===3?1e4:15e3,autoStart:Lt,raffleState:(T==null?void 0:T.stateNum)||null,enableStateConditionalListening:!0,stopOnCompletion:!0});const zt=C.useCallback(async()=>{var ge,we,We,Tt,Ut,Sr,Yr,Qn,Or,kc;H(!0),W(null);try{if(!at)throw new Error("No raffle address provided");if(!a||u)throw new Error("Wallet is initializing, please wait...");if(!d)throw new Error("Contract context not ready");const fo=Ck(),ll=Ek(),pr=d(at,"pool");if(!pr)throw new Error("Failed to create contract instance - no signer/provider available");const gm=Xg(t)||((ge=o==null?void 0:o.network)==null?void 0:ge.chainId),_c=d((We=(we=$t[gm])==null?void 0:we.contractAddresses)==null?void 0:We.socialEngagementManager,"socialEngagementManager"),Bf=await q0(()=>pr.name(),"name",{timeout:fo.timeout,retries:fo.retries,required:!0});if(!Bf.success)throw new Error(`Contract connectivity test failed: ${Bf.error}`);const vx=[{method:()=>pr.name(),name:"name",required:!0,fallback:"Unknown Pool"},{method:()=>pr.creator(),name:"creator",required:!0,fallback:He},{method:()=>pr.startTime(),name:"startTime",required:!0,fallback:de.from(0)},{method:()=>pr.duration(),name:"duration",required:!0,fallback:de.from(0)},{method:()=>pr.slotFee(),name:"slotFee",required:!0,fallback:de.from(0)},{method:()=>pr.slotLimit(),name:"slotLimit",required:!0,fallback:de.from(0)},{method:()=>pr.winnersCount(),name:"winnersCount",required:!0,fallback:de.from(0)},{method:()=>pr.maxSlotsPerParticipant(),name:"maxSlotsPerParticipant",required:!0,fallback:de.from(0)},{method:()=>pr.isPrized(),name:"isPrized",required:!0,fallback:!1},{method:()=>pr.prizeCollection(),name:"prizeCollection",required:!0,fallback:He},{method:()=>pr.prizeTokenId(),name:"prizeTokenId",required:!0,fallback:de.from(0)},{method:()=>pr.standard(),name:"standard",required:!0,fallback:de.from(0)},{method:()=>pr.state(),name:"state",required:!0,fallback:de.from(0)},{method:Pa(pr,"erc20PrizeToken",He),name:"erc20PrizeToken",required:!1,fallback:He},{method:Pa(pr,"erc20PrizeAmount",de.from(0)),name:"erc20PrizeAmount",required:!1,fallback:de.from(0)},{method:Pa(pr,"nativePrizeAmount",de.from(0)),name:"nativePrizeAmount",required:!1,fallback:de.from(0)},{method:Pa(pr,"usesCustomFee",!1),name:"usesCustomFee",required:!1,fallback:!1},{method:Pa(pr,"isRefundable",!1),name:"isRefundable",required:!1,fallback:!1},{method:Pa(pr,"isExternallyPrized",!1),name:"isExternallyPrized",required:!1,fallback:!1},{method:Pa(pr,"amountPerWinner",de.from(1)),name:"amountPerWinner",required:!1,fallback:de.from(1)},{method:async()=>{try{const Jr=await pr.state();if(typeof Jr=="number"?Jr>=2:Jr.toNumber?Jr.toNumber()>=2:Number(Jr)>=2)return await pr.getActualPoolDuration()}catch{}return de.from(0)},name:"actualDuration",required:!1,fallback:de.from(0)},{method:Pa(pr,"getUniqueParticipantsCount",de.from(0)),name:"uniqueParticipants",required:!1,fallback:de.from(0)},{method:Pa(pr,"socialEngagementRequired",!1),name:"socialEngagementRequired",required:!1,fallback:!1},{method:async()=>{try{if(_c)return await _c.tasks(at)||""}catch(Jr){console.error("Error fetching socialTaskDescription:",Jr)}return""},name:"socialTaskDescription",required:!1,fallback:""}],[Ec,Cc,cl,Fu,bx,wx,$f,ba,Uf,qf,Bo,Wf,ul,ym,Bu,$u,xm,_i,wa,dl,$o,Sc,Hf,Vf]=await cB(vx,{timeout:fo.timeout,useSequential:fo.useSequential,batchSize:fo.batchSize,delayBetweenCalls:fo.delayBetweenCalls});let Uo=0;try{Uo=(await pr.getParticipantsCount()).toNumber()}catch{let ho=0;for(;;)try{await pr.participants(ho),Uo++,ho++}catch{break}}let ka=0,Gf=ba.toNumber();if(i&&s)try{ka=(await pr.slotsPurchased(s)).toNumber(),Gf=Math.max(0,ba.toNumber()-ka)}catch{let ho=0;for(;ho<Uo;)try{(await pr.participants(ho)).toLowerCase()===s.toLowerCase()&&ka++,ho++}catch{break}Gf=Math.max(0,ba.toNumber()-ka)}const vm=!!Uf,kx=[2,3,4,5,6,7,8].includes(ul)&&$o?$o.toNumber?$o.toNumber():Number($o):void 0,Ds={address:r,name:Ec,creator:Cc,startTime:cl.toNumber(),duration:Fu.toNumber(),actualDuration:kx,uniqueParticipants:(Sc!=null&&Sc.toNumber?Sc.toNumber():Number(Sc))||0,slotFee:bx,slotLimit:wx.toNumber(),slotsSold:Uo,winnersCount:$f.toNumber(),maxSlotsPerParticipant:ba.toNumber(),isPrized:vm,prizeCollection:vm?qf:null,stateNum:ul,state:nk[ul]||"Unknown",erc20PrizeToken:ym,erc20PrizeAmount:Bu,nativePrizeAmount:$u,usesCustomFee:xm,standard:Wf,prizeTokenId:Bo,amountPerWinner:dl?dl.toNumber?dl.toNumber():Number(dl):1,socialEngagementRequired:!!Hf,socialTaskDescription:Vf||""};console.log("[VRF Debug] Checking isVRFConsumer",{chainSlug:t,providerChainId:(Tt=o==null?void 0:o.network)==null?void 0:Tt.chainId,resolvedChainId:Xg(t)||((Ut=o==null?void 0:o.network)==null?void 0:Ut.chainId),raffleAddress:r});let ss=!1;try{const Jr=Xg(t)||((Sr=o==null?void 0:o.network)==null?void 0:Sr.chainId),ho=Jr?(Qn=(Yr=$t[Jr])==null?void 0:Yr.contractAddresses)==null?void 0:Qn.protocolManager:void 0;if(ho){const Nc=d(ho,"protocolManager");console.log("[VRF Debug] Built manager contract?",{hasContract:!!Nc}),Nc&&Nc.isVRFConsumer&&(ss=await Nc.isVRFConsumer(r),console.log("[VRF Debug] manager.isVRFConsumer result",{isVrfConsumer:ss}))}}catch{}console.log("[VRF Debug] Setting raffle.isVrfConsumer",{isVrfConsumer:!!ss}),Ds.isVrfConsumer=!!ss,U(Ds);try{if(!ss&&((Or=y==null?void 0:y.protocolManager)!=null&&Or.isVRFConsumer)){try{!ss&&((kc=y==null?void 0:y.protocolManager)!=null&&kc.isVRFConsumer)&&(console.log("[VRF Debug] Using context manager to check isVRFConsumer",{manager:y.protocolManager.address,raffleAddress:r}),ss=await y.protocolManager.isVRFConsumer(r),console.log("[VRF Debug] Context manager isVRFConsumer result",{isVrfConsumer:ss}),Ds.isVrfConsumer=!!ss)}catch(Jr){console.warn("[VRF Debug] Context manager isVRFConsumer check failed",Jr)}U(Ds),console.log("[VRF Debug] Final isVrfConsumer for raffle",{raffleAddress:r,isVrfConsumer:Ds.isVrfConsumer}),console.log("[VRF Debug] Final isVrfConsumer for raffle (post-set)",{raffleAddress:r,isVrfConsumer:Ds.isVrfConsumer}),ss=await y.protocolManager.isVRFConsumer(r),Ds.isVrfConsumer=!!ss}}catch{}Oe(_i),Re(wa);let bm=qf;if(wa)try{bm=await pr.prizeCollection()}catch{}U({...Ds,prizeCollection:bm})}catch(fo){const ll=I(fo,{context:{operation:"fetchRaffleData",isReadOnly:!0},fallbackMessage:"Failed to load raffle data"});W(ll)}finally{H(!1)}},[at,d,fr,Ge,a,u,A]),mt=C.useCallback(async()=>{if(!i||!s||!(T!=null&&T.address)||!d){te(!1);return}try{const ge=d(T.address,"pool");if(!ge){te(!1);return}const we=await ge.hasCompletedSocialEngagement(s);te(!!we)}catch(ge){console.error("Error checking social engagement status:",ge),te(!1)}},[i,s,T==null?void 0:T.address,d]);C.useEffect(()=>{T!=null&&T.socialEngagementRequired&&i&&s&&mt()},[T==null?void 0:T.socialEngagementRequired,i,s,mt]),C.useEffect(()=>{at&&d&&a&&!u&&zt()},[zt,at,d,a,u,A]),C.useEffect(()=>{(async()=>{if(!T||!T.prizeCollection||T.prizeCollection===He){z(null);return}try{const We=await d(T.prizeCollection,T.standard===0?"erc721Prize":"erc1155Prize").name();z(We)}catch{z(null)}})()},[T,d]);const Tr=C.useCallback(ge=>{const we=Math.floor(ge/86400),We=Math.floor(ge%86400/3600),Tt=Math.floor(ge%3600/60),Ut=ge%60;let Sr="";return we>0&&(Sr+=`${we}d `),(We>0||we>0)&&(Sr+=`${We}h `),(Tt>0||We>0||we>0)&&(Sr+=`${Tt}m `),Sr+=`${Ut}s`,Sr.trim()},[]),Mr=C.useCallback(ge=>{const we=Math.floor(ge/86400),We=Math.floor(ge%86400/3600),Tt=Math.floor(ge%3600/60);let Ut="";return we>0&&(Ut+=`${we}d `),(We>0||we>0)&&(Ut+=`${We}h `),(Tt>0||We>0||we>0)&&(Ut+=`${Tt}m`),Ut||(Ut="0m"),Ut.trim()},[]),hr=C.useCallback(()=>{if(!T)return;const ge=Math.floor(Date.now()/1e3);let we="",We=0;if([2,3,4,5,6,7,8].includes(T.stateNum)){we="Duration";const Tt=T.actualDuration&&(T.actualDuration.toNumber?T.actualDuration.toNumber():Number(T.actualDuration)),Ut=T.duration,Sr=Tt&&Tt>0?Tt>Ut?Ut:Tt:Ut;ns(we),Fi(Mr(Sr));return}ge<T.startTime?(we="Starts In",We=T.startTime-ge):(we="Remaining",We=T.startTime+T.duration-ge),ns(we),Fi(We>0?Tr(We):"Ended")},[T,Tr,Mr]);C.useEffect(()=>{if(!T)return;hr();const ge=setInterval(hr,1e3);return()=>clearInterval(ge)},[hr]),C.useEffect(()=>{async function ge(){if(r&&d)try{const we=d(r,"pool");if(we){const We=await we.isEscrowedPrize();D(We)}}catch{D(!1)}}ge()},[r,d]),C.useEffect(()=>{(async()=>{if(T&&T.standard===1&&T.prizeCollection&&s&&s.toLowerCase()===T.creator.toLowerCase()){$(!0);try{const We=(window.ethereum?new Kl(window.ethereum):Fd()).getSigner(),Ut=await new At(T.prizeCollection,gt.erc1155Prize,We).isApprovedForAll(s,T.address);R(Ut)}catch{R(!1)}finally{$(!1)}}})()},[T,s]),C.useEffect(()=>{(async()=>{if(T&&T.erc20PrizeToken&&T.erc20PrizeToken!==He&&T.erc20PrizeAmount&&s&&s.toLowerCase()===T.creator.toLowerCase()){Rt(!0);try{const We=(window.ethereum?new Kl(window.ethereum):Fd()).getSigner(),Ut=await new At(T.erc20PrizeToken,gt.erc20,We).allowance(s,T.address);ae(Ut.gte(T.erc20PrizeAmount))}catch{ae(!1)}finally{Rt(!1)}}})()},[T,s]),C.useEffect(()=>{(async()=>{if(T&&T.standard===0&&T.prizeCollection&&typeof T.prizeTokenId<"u"&&s&&s.toLowerCase()===T.creator.toLowerCase()){Me(!0);try{const We=(window.ethereum?new Kl(window.ethereum):Fd()).getSigner(),Tt=new At(T.prizeCollection,gt.erc721Prize,We),Ut=await Tt.getApproved(T.prizeTokenId);if(Ut&&Ut.toLowerCase()===T.address.toLowerCase())tt(!0);else{const Sr=await Tt.isApprovedForAll(s,T.address);tt(Sr)}}catch{tt(!1)}finally{Me(!1)}}})()},[T,s]);const vr=async ge=>{if(!i||!T)throw new Error("Wallet not connected or raffle not loaded");const we=d(T.address,"pool");if(!we)throw new Error("Failed to get pool contract");const Tt=vO(T.slotFee).mul(ge);let Ut=null,Sr=0,Yr=0,Qn="0x";if(T.socialEngagementRequired)try{console.log("Generating signature for social engagement required pool...");const Or=await Kne.generatePurchaseSignature(s,T.address,ge);if(Or.success)Ut=Or.signature,Sr=Or.nonce,Yr=Or.deadline,Qn=Ut,console.log("Signature generated successfully with nonce:",Sr,"deadline:",Yr);else throw new Error(Or.error||"Failed to generate signature")}catch(Or){throw console.error("Signature generation failed:",Or),Z?new Error("Failed to generate signature. Please try again."):new Error("Please complete all social media tasks before purchasing slots")}try{const kc=await(await we.purchaseSlots(ge,Sr,Yr,Qn,{value:Tt})).wait();ee.success(`Successfully purchased ${ge} slot${ge>1?"s":""}!`),P()}catch(Or){throw new Error(Gs(Or))}},_r=async()=>{if(!(!T||!d)){M(!0);try{const ge=d(T.address,"pool");if(!ge)throw new Error("Contract instance not available");await(await ge.deletePool()).wait(),ee.success("Raffle deleted successfully!"),n("/")}catch(ge){ee.error(Gs(ge))}finally{M(!1)}}},oi=()=>i&&(s==null?void 0:s.toLowerCase())===(T==null?void 0:T.creator.toLowerCase())&&((T==null?void 0:T.state)==="Pending"||(T==null?void 0:T.state)==="Active")&&(he===!0||(T==null?void 0:T.usesCustomFee)===!0),Os=()=>{if(!T)return null;const we=(Tt=>Tt===7?Mf===1?"Prize Claimed":"Prizes Claimed":nk[Tt]||"Unknown")(T.stateNum),We={Pending:"bg-yellow-100 text-yellow-800",Active:"bg-green-100 text-green-800",Ended:"bg-red-100 text-red-800",Drawing:"bg-purple-100 text-purple-800",Completed:"bg-blue-100 text-blue-800",Deleted:"bg-gray-200 text-gray-800","Activation Failed":"bg-red-200 text-red-900","Prizes Claimed":"bg-blue-200 text-blue-900","Prize Claimed":"bg-blue-200 text-blue-900",Unengaged:"bg-gray-100 text-gray-800",Unknown:"bg-gray-100 text-gray-800"};return l.jsx("span",{className:`inline-flex max-w-[60vw] items-center px-2 py-0.5 sm:px-3 sm:py-1 rounded-full text-xs sm:text-sm font-medium whitespace-nowrap ${We[we]||We.Unknown}`,children:we})};async function Ft(){S(!0);try{await(await d(r,"pool").withdrawEscrowedPrize()).wait(),ee.success("Prize withdrawn successfully!")}catch(ge){ee.error(Gs(ge))}finally{S(!1)}}const Ar=Math.floor(Date.now()/1e3);T&&T.startTime&&Ar>=T.startTime;const[gn,ns]=C.useState(""),[is,Fi]=C.useState(""),[Tn,Kn]=C.useState(!1),[un,Yn]=C.useState(!1),[Jn,xa]=C.useState(!1),[yx,Lu]=C.useState(!1),[Pf,Rf]=C.useState(!1),[Fo,va]=C.useState(null),[vc,If]=C.useState(null),[Mf,mm]=C.useState(0);C.useEffect(()=>{(async()=>{if(!T||!s||![4,5,7,8].includes(T.stateNum)){xa(!1),Lu(!1),va(null),If(null);return}try{const we=d&&d(T.address,"pool");if(!we)return;const We=await we.winnersCount(),Tt=We.toNumber?We.toNumber():Number(We);let Ut=!1,Sr=null;for(let Yr=0;Yr<Tt;Yr++)try{const Qn=await we.winners(Yr);if(Qn.toLowerCase()===s.toLowerCase()){const Or=await we.claimedWins(Qn),kc=await we.prizeClaimed(Qn);Ut=!0,Sr={address:Qn,index:Yr,claimedWins:Or.toNumber?Or.toNumber():Number(Or),prizeClaimed:!!kc};break}}catch{continue}if(xa(Ut),If(Sr),T.isPrized)try{const Yr=await we.getRefundableAmount(s);va(Yr),Lu(Yr&&Yr.gt&&Yr.gt(0))}catch{va(null),Lu(!1)}}catch{xa(!1),Lu(!1),va(null),If(null)}})()},[T,d,s]),C.useEffect(()=>{T&&(T.stateNum===3?ce||(ne(Date.now()),console.log(" Raffle entered Drawing state - starting auto-refresh monitoring")):ce&&(ne(null),xe(0),console.log(" Raffle left Drawing state - stopping auto-refresh monitoring")))},[T==null?void 0:T.stateNum,ce]),C.useEffect(()=>{if(!ce||(T==null?void 0:T.stateNum)!==3)return;console.log(" Starting auto-refresh timer for Drawing state (every 15 seconds)");const ge=setInterval(()=>{Se(!0),xe(we=>we+1),console.log(` Auto-refreshing raffle data in Drawing state (attempt ${ue+1})`),(ue+1)%4===1&&ee.info("Checking for winner selection...",{duration:2e3}),P(),setTimeout(()=>{Se(!1)},3e3)},15e3);return()=>{console.log(" Stopping auto-refresh timer for Drawing state"),clearInterval(ge)}},[ce,T==null?void 0:T.stateNum,ue,P]);const Of=!!vc&&((T==null?void 0:T.isPrized)&&((T==null?void 0:T.stateNum)===4||(T==null?void 0:T.stateNum)===7)||(T==null?void 0:T.isPrized)===!1&&(Te===!0||(T==null?void 0:T.isExternallyPrized)===!0)&&(T==null?void 0:T.stateNum)===4),bc=vc&&vc.prizeClaimed,xx=((T==null?void 0:T.isPrized)||(T==null?void 0:T.isExternallyPrized))&&[4,5,7,8].includes(T==null?void 0:T.stateNum)&&yx&&Fo&&Fo.gt&&Fo.gt(0),Df=async()=>{if(!s||!T||!d){ee.error("Please connect your wallet to claim your prize");return}if(!Jn||!vc){ee.error("You are not a winner of this raffle");return}if(vc.prizeClaimed){ee.error("You have already claimed your prize");return}Kn(!0);try{const ge=d(T.address,"pool");if(!ge)throw new Error("Failed to get pool contract");const we=await h(ge.claimPrize);if(we.success){let We="prize";T.nativePrizeAmount&&T.nativePrizeAmount.gt&&T.nativePrizeAmount.gt(0)?We=x(T.nativePrizeAmount):T.erc20PrizeToken&&T.erc20PrizeToken!==He&&T.erc20PrizeAmount&&T.erc20PrizeAmount.gt&&T.erc20PrizeAmount.gt(0)?We=`${tm(T.erc20PrizeAmount,18)} ERC20 tokens`:T.prizeCollection&&T.prizeCollection!==He&&(We=T.standard===0?"ERC721 NFT":"ERC1155 NFT"),ee.success(`Successfully claimed your ${We}!`),window.location.reload()}else throw new Error(we.error)}catch(ge){ee.error(Gs(ge))}finally{Kn(!1)}},br=async()=>{if(!s||!T||!d){ee.error("Please connect your wallet to claim your refund");return}Yn(!0);try{const ge=d(T.address,"pool");if(!ge)throw new Error("Failed to get pool contract");const we=await h(ge.claimRefund);if(we.success)ee.success("Successfully claimed your refund!"),P();else throw new Error(we.error)}catch(ge){ee.error(Gs(ge))}finally{Yn(!1)}};if(B||u)return l.jsx(Va,{children:l.jsx(c5,{message:u?"Reconnecting wallet...":"Loading raffle details...",isMobile:m})});if(G&&!B&&!u){const ge=G.toLowerCase().includes("wallet")||G.toLowerCase().includes("signer")||G.toLowerCase().includes("initializing");return l.jsx(Va,{variant:"wide",className:"py-8",children:l.jsxs("div",{className:"text-center py-16",children:[l.jsx(wr,{className:"h-16 w-16 text-destructive mx-auto mb-4"}),l.jsx("h2",{className:m?"text-lg font-semibold mb-2":"text-2xl font-semibold mb-2",children:ge?"Wallet Connection Issue":"Failed to Load Raffle"}),l.jsx("p",{className:"text-muted-foreground mb-4 max-w-md mx-auto",children:ge?"Please ensure your wallet is connected and try again.":G}),l.jsxs("div",{className:"flex gap-4 justify-center",children:[l.jsx("button",{onClick:zt,className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 transition-colors",children:"Try Again"}),l.jsx("button",{onClick:()=>n("/"),className:"bg-muted text-muted-foreground px-4 py-2 rounded-md hover:bg-muted/80 transition-colors",children:"Back to Home"})]})]})})}if(!T)return l.jsx(Va,{variant:"wide",className:"py-8",children:l.jsxs("div",{className:"text-center py-16",children:[l.jsx(wr,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),l.jsx("h2",{className:m?"text-lg font-semibold mb-2":"text-2xl font-semibold mb-2",children:"Raffle Not Found"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"The raffle you're looking for doesn't exist or has been removed."}),l.jsx("button",{onClick:()=>n("/"),className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 transition-colors",children:"Back to Home"})]})});const wc=T&&T.prizeCollection&&T.prizeCollection!==He&&T.standard===0&&T.isExternallyPrized===!0;return l.jsxs(Va,{variant:"wide",className:"py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("button",{onClick:()=>n("/app"),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors mb-4",children:[l.jsx(vB,{className:"h-4 w-4"}),"Back to Raffles"]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h1",{className:m?"text-xl font-bold mb-2":"text-3xl font-bold mb-2",children:T.name}),l.jsx("button",{onClick:()=>{const ge=`${window.location.origin}${w()}`;navigator.clipboard.writeText(ge).then(()=>{ee.success("Share link copied to clipboard")}).catch(()=>{ee.error("Failed to copy link")})},title:"Copy share link",className:"ml-2 p-1 rounded text-muted-foreground hover:text-foreground focus:outline-none active:outline-none hover:bg-transparent active:bg-transparent",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:l.jsx("path",{d:"M3.9 12a5 5 0 0 1 5-5h2v2h-2a3 3 0 0 0 0 6h2v2h-2a5 5 0 0 1-5-5zm7-1h2v2h-2v-2zm4.1-4a5 5 0 0 1 0 10h-2v-2h2a3 3 0 0 0 0-6h-2V7h2z"})})})]}),l.jsx("div",{className:"mt-2",children:l.jsxs("p",{className:"text-muted-foreground",children:["Created by ",T.creator.slice(0,10),"...",T.creator.slice(-8)]})})]}),l.jsxs("div",{className:"flex flex-col items-start sm:flex-row sm:items-center sm:gap-3 gap-2 w-full sm:w-auto",children:[l.jsx("div",{className:"self-start sm:self-auto",children:Os()}),(ye||(T==null?void 0:T.stateNum)===3&&ce)&&l.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-sm",children:[l.jsx("div",{className:"animate-spin h-3 w-3 border border-blue-500 border-t-transparent rounded-full"}),m?"Checking for winners...":"Checking for winner selection..."]}),oi()&&l.jsxs(ut,{onClick:_r,className:"flex items-center gap-2 bg-[#614E41] text-white px-4 py-2 rounded-md hover:bg-[#4a3a30] transition-colors text-sm font-medium",title:T.slotsSold>0?"Delete pool (refunds will be processed automatically)":"Delete this pool",disabled:E,children:[l.jsx(Ak,{className:"h-4 w-4"}),E?"Deleting...":"Delete Pool"]}),i&&(s==null?void 0:s.toLowerCase())===T.creator.toLowerCase()&&(T.isPrized||wc||!T.isPrized&&Te)&&T.prizeCollection&&T.prizeCollection!==He&&(!T.erc20PrizeAmount||((zu=(Lf=T.erc20PrizeAmount).isZero)==null?void 0:zu.call(Lf))||T.erc20PrizeAmount==="0")&&(!T.nativePrizeAmount||((Ff=(zf=T.nativePrizeAmount).isZero)==null?void 0:Ff.call(zf))||T.nativePrizeAmount==="0")&&!q&&T.stateNum===4&&l.jsx("div",{className:"flex flex-col sm:flex-row gap-2 items-center",children:jt?l.jsxs("div",{ref:dr,className:"flex flex-col sm:flex-row gap-2 items-center",children:[l.jsx("input",{type:"text",placeholder:"Enter winner address",value:rt,onChange:ge=>Ht(ge.target.value),className:"px-3 py-2.5 border-2 border-[#614E41] rounded-md bg-background w-72 font-mono focus:outline-none focus:ring-0",disabled:vt}),l.jsx(ut,{onClick:bt,disabled:vt||!rt||rt.length!==42,className:"bg-[#614E41] text-white px-4 py-2 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50",children:vt?"Minting...":"Submit"}),l.jsx(ut,{variant:"outline",onClick:()=>qe(!1),disabled:vt,className:"sm:ml-2 border-2 border-[#614E41]",children:"Cancel"})]}):l.jsx(ut,{onClick:()=>qe(!0),className:"bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:"Mint to Winner"})}),i&&(s==null?void 0:s.toLowerCase())===T.creator.toLowerCase()&&q&&T.stateNum===8&&l.jsx(ut,{onClick:Ft,className:"sm:ml-2 bg-warning text-warning-foreground hover:bg-warning/90",disabled:v,children:v?"Withdrawing...":"Withdraw Prize"}),[4,5,6,7,8].includes(T.stateNum)&&(T==null?void 0:T.isVrfConsumer)===!0&&l.jsx(ut,{onClick:async()=>{try{j(!0);const ge=d(T.address,"pool");if(!ge)throw new Error("Failed to get raffle contract");const we=await h(ge.removeFromVRFSubscription);if(we!=null&&we.success)ee.success("VRF status updated successfully"),U(We=>We&&{...We,isVrfConsumer:!1}),P==null||P();else if(we!=null&&we.error)throw new Error(we.error)}catch(ge){ee.error(Gs(ge))}finally{j(!1)}},disabled:_,className:"sm:ml-2 bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:_?"Updating...":"Update VRF Status"}),!T.isPrized&&T.stateNum===0&&i&&(s==null?void 0:s.toLowerCase())===T.creator.toLowerCase()&&l.jsx("div",{className:"flex flex-col sm:flex-row gap-2 items-center",children:Be?l.jsxs("div",{ref:or,className:"flex flex-col sm:flex-row gap-2 items-center bg-background p-2 rounded-md relative z-10 w-full sm:w-auto",children:[l.jsx("input",{type:"text",placeholder:"Prize collection address",value:Dt,onChange:ge=>De(ge.target.value),className:"px-3 py-2.5 border-2 border-[#614E41] rounded-md bg-background w-full sm:w-56 font-mono focus:outline-none focus:ring-0",disabled:Fe}),l.jsx("div",{className:"w-full sm:w-auto",onMouseDown:ge=>ge.stopPropagation(),onClick:ge=>ge.stopPropagation(),children:l.jsxs(nc,{value:String(dt),onValueChange:ge=>it(Number(ge)),onOpenChange:ge=>St(ge),children:[l.jsx(sc,{className:"w-full px-3 py-2.5 text-base border-2 border-[#614E41] rounded-lg bg-background",children:l.jsx(ic,{placeholder:"Select Prize Standard"})}),l.jsxs(oc,{onMouseDown:ge=>ge.stopPropagation(),children:[l.jsx(Wn,{value:"0",children:"ERC721"}),l.jsx(Wn,{value:"1",children:"ERC1155"})]})]})}),l.jsx("input",{type:"number",placeholder:"Prize Token ID",value:dt===0?0:Pe,onChange:ge=>$e(ge.target.value),className:"px-3 py-2.5 border-2 border-[#614E41] rounded-md bg-background w-full sm:w-32 focus:outline-none focus:ring-0",disabled:Fe||dt===0}),l.jsx("input",{type:"number",placeholder:"Amount Per Winner",value:dt===0?1:ze,onChange:ge=>be(ge.target.value),className:"px-3 py-2.5 border-2 border-[#614E41] rounded-md bg-background w-full sm:w-32 focus:outline-none focus:ring-0",disabled:Fe||dt===0}),l.jsx(ut,{onClick:Le,disabled:Fe||!Dt||Dt.length!==42||dt!==0&&(Pe===""||ze===""),className:"bg-[#614E41] text-white px-4 py-2 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50",children:Fe?"Assigning...":"Submit"}),l.jsx(ut,{variant:"outline",onClick:()=>Ir(!1),disabled:Fe,className:"sm:ml-2 border-2 border-[#614E41]",children:"Cancel"})]}):l.jsx(ut,{onClick:()=>Ir(!0),className:"bg-[#614E41] text-white px-6 py-3 rounded-lg hover:bg-[#4a3a30] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:"Assign Prize"})})]})]}),oi()&&T.slotsSold>0&&l.jsx("div",{className:"mt-4 p-4 bg-blue-50/80 dark:bg-blue-900/20 backdrop-blur-sm border border-blue-200/50 dark:border-blue-700/50 rounded-lg",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[" As the pool creator, you can delete this pool. Deletion will automatically process refunds for all ",T.slotsSold," sold slots."]})})]}),l.jsx("div",{className:"detail-beige-card mb-8 p-6 bg-card/80 text-foreground backdrop-blur-sm border border-border rounded-xl shadow-lg",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 text-center items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:`font-bold ${m?"text-lg":"text-2xl"}`,children:T.slotsSold}),l.jsx("p",{className:"text-sm text-foreground/70 dark:text-foreground/80",children:"Slots Sold"})]}),l.jsxs("div",{children:[l.jsx("p",{className:`font-bold ${m?"text-lg":"text-2xl"}`,children:T.slotLimit}),l.jsx("p",{className:"text-sm text-foreground/70 dark:text-foreground/80",children:"Total Slots"})]}),l.jsxs("div",{children:[l.jsx("p",{className:`font-bold ${m?"text-lg":"text-2xl"}`,children:T.winnersCount}),l.jsx("p",{className:"text-sm text-foreground/70 dark:text-foreground/80",children:"Winners"})]}),l.jsxs("div",{children:[l.jsx("p",{className:`font-bold ${m?"text-lg":"text-2xl"}`,children:is}),l.jsx("p",{className:"text-sm text-foreground/70 dark:text-foreground/80",children:gn})]}),l.jsx("div",{className:"flex justify-center lg:justify-end items-center h-full w-full",children:he&&T&&T.standard!==2&&T.standard!==3&&(()=>{const{refundable:ge,reason:we,label:We}=Zne(T);return l.jsxs("span",{className:`px-3 py-1 rounded-full font-semibold ${ge?"bg-green-100 text-green-800":"bg-gray-200 text-gray-800"} text-xs`,title:we,style:{whiteSpace:"nowrap"},children:[We,l.jsx(Vt,{className:"inline-block ml-1 h-4 w-4 text-gray-400 align-middle",title:we})]})})()})]})}),(T==null?void 0:T.socialEngagementRequired)&&l.jsx("div",{className:"mb-8",children:l.jsx(Bne,{raffle:T,userAddress:s,socialEngagementRequired:T.socialEngagementRequired,hasCompletedSocialEngagement:Z,onVerificationComplete:()=>{P()}})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx(Yne,{raffle:T,onPurchase:vr,timeRemaining:V,winners:[],shouldShowClaimPrize:Of,prizeAlreadyClaimed:bc,claimingPrize:Tn,handleClaimPrize:Df,shouldShowClaimRefund:xx,claimingRefund:un,handleClaimRefund:br,refundableAmount:Fo,isMintableERC721:wc,showMintInput:jt,setShowMintInput:qe,mintWinnerAddress:rt,setMintWinnerAddress:Ht,mintingToWinner:vt,handleMintToWinner:bt,isEscrowedPrize:q,isExternallyPrized:Te,isPrized:T.isPrized,isMobile:m,onStateChange:P,socialEngagementRequired:T==null?void 0:T.socialEngagementRequired,hasCompletedSocialEngagement:Z}),l.jsx(Qne,{raffle:T,isMintableERC721:wc,isEscrowedPrize:q,isMobile:m,onWinnerCountChange:mm})]}),l.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"detail-beige-card bg-card/80 text-foreground backdrop-blur-sm border border-border rounded-xl p-6 shadow-lg h-full",children:[l.jsx("h3",{className:`font-semibold mb-4 ${m?"text-base":"text-lg"}`,children:"Raffle Details"}),l.jsxs("div",{className:"space-y-3 text-sm",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-foreground/80 dark:text-foreground",children:"Contract Address:"}),l.jsx("a",{href:ik(T.address,T.chainId),target:"_blank",rel:"noopener noreferrer",className:"font-mono text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-200",title:T.address,children:m?`${T.address.slice(0,12)}...`:`${T.address.slice(0,10)}...${T.address.slice(-8)}`})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-foreground/80 dark:text-foreground",children:"Start Time:"}),l.jsx("span",{children:new Date(T.startTime*1e3).toLocaleString()})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"text-foreground/80 dark:text-foreground flex items-center gap-1",children:["Raffle Duration",l.jsxs(tr,{children:[l.jsx(rr,{asChild:!0,children:l.jsx("span",{className:"inline-flex items-center cursor-help","aria-label":"Raffle Duration info",children:l.jsx(Vt,{className:"h-3.5 w-3.5 opacity-70"})})}),l.jsx(nr,{side:"top",align:"center",children:"Shows the default duration until the raffle ends, then shows the actual duration taken."})]})]}),l.jsx("span",{children:(()=>{const ge=[2,3,4,5,6,7,8].includes(T.stateNum),we=(T==null?void 0:T.actualDuration)&&(T.actualDuration.toNumber?T.actualDuration.toNumber():Number(T.actualDuration)),We=T==null?void 0:T.duration,Tt=ge&&we&&we>0?we>We?We:we:We;return Mr(Tt)})()})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-foreground/80 dark:text-foreground",children:"Slot Fee:"}),l.jsx("span",{children:b(T.slotFee)})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-foreground/80 dark:text-foreground",children:"Total Participants:"}),l.jsx("span",{children:Number(T.uniqueParticipants||0).toLocaleString()})]}),T.nativePrizeAmount&&T.nativePrizeAmount.gt&&T.nativePrizeAmount.gt(0)&&l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-foreground/80 dark:text-foreground",children:"Prize Amount:"}),l.jsx("span",{children:x(T.nativePrizeAmount)})]}),T.erc20PrizeToken&&T.erc20PrizeToken!==He&&T.erc20PrizeAmount&&T.erc20PrizeAmount.gt&&T.erc20PrizeAmount.gt(0)&&l.jsx(Xne,{token:T.erc20PrizeToken,amount:T.erc20PrizeAmount}),T.prizeCollection&&T.prizeCollection!==He&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-foreground/80 dark:text-foreground",children:"Prize Collection:"}),l.jsx("a",{href:ik(T.prizeCollection,T.chainId),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-200",title:T.prizeCollection,children:O||`${T.prizeCollection.slice(0,10)}...${T.prizeCollection.slice(-8)}`})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-foreground/80 dark:text-foreground",children:q?"Prize Type:":"Collection Type:"}),l.jsx("span",{className:"font-semibold",children:(()=>{if(typeof q=="boolean"&&typeof T.standard<"u"){if(!q&&T.standard===0)return"Mintable ERC721";if(!q&&T.standard===1)return"Mintable ERC1155";if(q&&T.standard===0)return"Escrowed ERC721";if(q&&T.standard===1)return"Escrowed ERC1155"}return"Unknown"})()})]}),q&&T.prizeTokenId!==void 0&&T.prizeTokenId!==null&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-foreground/80 dark:text-foreground",children:"Prize Token ID:"}),l.jsx("span",{className:"font-mono font-semibold",children:T.prizeTokenId.toString?T.prizeTokenId.toString():T.prizeTokenId})]})]})]})]}),l.jsx(Jne,{raffle:T,isMintableERC721:wc,isEscrowedPrize:q})]})]})]})};function Cw(){const[r]=Q6(),e=Do(),[t,n]=C.useState("processing"),[i,s]=C.useState("Processing authentication...");C.useEffect(()=>{o()},[]);const o=async()=>{try{const a=r.get("code"),u=r.get("state"),d=r.get("error"),h=r.get("error_description");if(d){n("error"),s(`Authentication failed: ${h||d}`),Ri.error(`Authentication failed: ${h||d}`),setTimeout(()=>{window.close(),e("/")},3e3);return}if(!a||!u){n("error"),s("Missing authorization code or state parameter"),Ri.error("Invalid callback parameters"),setTimeout(()=>{window.close(),e("/")},3e3);return}let p;try{p=JSON.parse(atob(u))}catch{n("error"),s("Invalid state parameter"),Ri.error("Invalid authentication state"),setTimeout(()=>{window.close(),e("/")},3e3);return}const{wallet_address:y}=p;if(!y){n("error"),s("Missing wallet address in state"),Ri.error("Invalid authentication state"),setTimeout(()=>{window.close(),e("/")},3e3);return}const m=window.location.pathname;let b="twitter";m.includes("/discord")?b="discord":m.includes("/telegram")&&(b="telegram"),s(`Completing ${b} authentication...`);let x;switch(b){case"twitter":x=await Ss.handleTwitterCallback(a,u,y);break;case"discord":x=await Ss.handleDiscordCallback(a,u,y);break;default:throw new Error(`Unsupported platform: ${b}`)}x.success?(n("success"),s(`${b.charAt(0).toUpperCase()+b.slice(1)} account connected successfully!`),Ri.success(`${b.charAt(0).toUpperCase()+b.slice(1)} account connected!`),localStorage.setItem("oauth_success",JSON.stringify({platform:b,timestamp:Date.now()})),setTimeout(()=>{window.close()},2e3)):(n("error"),s(x.error||"Authentication failed"),Ri.error(x.error||"Authentication failed"),setTimeout(()=>{window.close(),e("/")},3e3))}catch(a){console.error("Callback error:",a),n("error"),s(a.message||"An unexpected error occurred"),Ri.error("Authentication failed"),setTimeout(()=>{window.close(),e("/")},3e3)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsx("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-8",children:l.jsxs("div",{className:"text-center",children:[t==="processing"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Processing..."}),l.jsx("p",{className:"text-gray-600",children:i})]}),t==="success"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-green-600 mb-4",children:l.jsx("svg",{className:"h-16 w-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Success!"}),l.jsx("p",{className:"text-gray-600",children:i}),l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"This window will close automatically..."})]}),t==="error"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-red-600 mb-4",children:l.jsx("svg",{className:"h-16 w-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error"}),l.jsx("p",{className:"text-gray-600",children:i}),l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"This window will close automatically..."})]})]})})})}const eie=()=>{const{isMobile:r,isInitialized:e}=Wr(),{component:t}=JW();return C.useEffect(()=>{XW();const n=eH();return()=>{ZW(),n&&n()}},[]),e?l.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[l.jsx(HW,{}),l.jsx("main",{className:"flex-1 min-h-0",children:l.jsxs(F6,{children:[l.jsx(Ko,{path:"/",element:l.jsx(SZ,{})}),l.jsx(Ko,{path:"/app",element:l.jsxs("div",{children:[l.jsx("div",{style:{height:"80px"}}),l.jsx(zZ,{})]})}),l.jsx(Ko,{path:"/profile",element:l.jsxs("div",{children:[l.jsx("div",{style:{height:"80px"}}),l.jsx(gee,{})]})}),l.jsx(Ko,{path:"/create-raffle",element:l.jsxs("div",{children:[l.jsx("div",{style:{height:"80px"}}),l.jsx(Qee,{})]})}),l.jsx(Ko,{path:"/raffle/:raffleAddress",element:l.jsxs("div",{children:[l.jsx("div",{style:{height:"80px"}}),l.jsx(rj,{})]})}),l.jsx(Ko,{path:"/:chainSlug/raffle/:raffleAddress",element:l.jsxs("div",{children:[l.jsx("div",{style:{height:"80px"}}),l.jsx(rj,{})]})}),l.jsx(Ko,{path:"/auth/callback/twitter",element:l.jsx(Cw,{})}),l.jsx(Ko,{path:"/auth/callback/discord",element:l.jsx(Cw,{})}),l.jsx(Ko,{path:"/auth/callback/telegram",element:l.jsx(Cw,{})})]})}),l.jsx(GW,{}),l.jsx(lB,{}),t]}):l.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold mb-2",style:{fontFamily:"Orbitron, monospace"},children:"Rafflhub"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading..."})]})})};function tie(){return l.jsx(KW,{children:l.jsx(mB,{children:l.jsx(E8,{children:l.jsx(pB,{children:l.jsx(gB,{children:l.jsx(G6,{children:l.jsx(eie,{})})})})})})})}const rie=console.error;console.error=(...r)=>{const e=r.join(" ");e.includes("Invalid Sentry Dsn")||e.includes("Sentry")||rie.apply(console,r)};console.log("main.jsx is executing...");const sk=document.getElementById("root");console.log("Root element found:",sk);if(sk){const r=KD.createRoot(sk);console.log("React root created"),r.render(l.jsx(tie,{})),console.log("React app rendered")}else console.error("Root element not found!");
